const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DOuiZE6w.js","assets/Total-DlGa2cZp.js","assets/Total-y6GAO7vw.css","assets/index-CwUhAjwy.css","assets/index-CuzxA6SA.js","assets/Search-x-OIRsik.js","assets/Search-CLtYUB9b.css","assets/index-DLGXwKSF.js","assets/index-BS1niaVh.css","assets/index-DrSGfqkz.js","assets/index-bHSuAcZO.css","assets/index-DhmTQpDW.css","assets/index-DLyeSh2A.js","assets/index-B_i-pZNW.js","assets/index-BRBWJtY9.css","assets/index-BZ4uObgM.js","assets/index-biU_zlF0.css","assets/index-DPhwP3FX.css","assets/index-DTjHgv6O.js","assets/index--sosMiRp.css","assets/index-RYbPkyND.js","assets/index-DE4ja0oc.css","assets/index-DMttbNat.js","assets/index-BPQFzHID.js","assets/index-DLMFU-KE.css","assets/index-eKYqrLwl.css","assets/index-CiVnLzHM.js","assets/index-C_aA8IJg.css","assets/index-DE6CBrnC.js","assets/index-CCk16Vjx.css","assets/index-Djp2Wb9_.js","assets/index-CQIlRCz_.css","assets/index-UUugMO4F.js","assets/index-wfDvRcz_.css","assets/index-DF4bYiQU.js","assets/index-DBH7fSDI.js","assets/index-CABIGknC.js","assets/index-DkoWpTXS.js","assets/index-C9eMC6eF.js","assets/PrintGoods-BwlDJiDf.js","assets/PrintGoods-B1LVXcju.css","assets/index-DBc1FZPI.css","assets/index-D_NFmDZn.js","assets/index-DvLCoEzL.css","assets/index-Byrvyqo4.js","assets/index-BZuttmjj.css","assets/index-DeMpQpo6.js","assets/index-DO_EM0E4.css","assets/index-YJ0oAyul.js","assets/index-Cs81js0o.css","assets/index-PpSaT9DY.js","assets/index-C14Gk_wJ.css","assets/index-Bcsk27Fo.js","assets/index-Bj1hx3xP.css"])))=>i.map(i=>d[i]);
var pZ=Object.defineProperty;var vZ=(e,t,n)=>t in e?pZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>vZ(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _T(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const dr={},X0=[],dc=()=>{},gZ=()=>!1,pb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ET=e=>e.startsWith("onUpdate:"),ci=Object.assign,ST=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},mZ=Object.prototype.hasOwnProperty,Un=(e,t)=>mZ.call(e,t),Bt=Array.isArray,q0=e=>vg(e)==="[object Map]",aL=e=>vg(e)==="[object Set]",yZ=e=>vg(e)==="[object RegExp]",Vt=e=>typeof e=="function",Rr=e=>typeof e=="string",xu=e=>typeof e=="symbol",_r=e=>e!==null&&typeof e=="object",iL=e=>(_r(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),oL=Object.prototype.toString,vg=e=>oL.call(e),xZ=e=>vg(e).slice(8,-1),sL=e=>vg(e)==="[object Object]",AT=e=>Rr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rv=_T(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bZ=/-(\w)/g,js=vb(e=>e.replace(bZ,(t,n)=>n?n.toUpperCase():"")),wZ=/\B([A-Z])/g,hf=vb(e=>e.replace(wZ,"-$1").toLowerCase()),gb=vb(e=>e.charAt(0).toUpperCase()+e.slice(1)),t_=vb(e=>e?`on${gb(e)}`:""),Ku=(e,t)=>!Object.is(e,t),K0=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lL=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},RS=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_Z=e=>{const t=Rr(e)?Number(e):NaN;return isNaN(t)?e:t};let Y4;const mb=()=>Y4||(Y4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function We(e){if(Bt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Rr(r)?kZ(r):We(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(Rr(e)||_r(e))return e}const EZ=/;(?![^(]*\))/g,SZ=/:([^]+)/,AZ=/\/\*[^]*?\*\//g;function kZ(e){const t={};return e.replace(AZ,"").split(EZ).forEach(n=>{if(n){const r=n.split(SZ);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Qe(e){let t="";if(Rr(e))t=e;else if(Bt(e))for(let n=0;n<e.length;n++){const r=Qe(e[n]);r&&(t+=r+" ")}else if(_r(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ii(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Rr(t)&&(e.class=Qe(t)),n&&(e.style=We(n)),e}const TZ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OZ=_T(TZ);function cL(e){return!!e||e===""}const uL=e=>!!(e&&e.__v_isRef===!0),be=e=>Rr(e)?e:e==null?"":Bt(e)||_r(e)&&(e.toString===oL||!Vt(e.toString))?uL(e)?be(e.value):JSON.stringify(e,fL,2):String(e),fL=(e,t)=>uL(t)?fL(e,t.value):q0(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[n_(r,i)+" =>"]=a,n),{})}:aL(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>n_(n))}:xu(t)?n_(t):_r(t)&&!Bt(t)&&!sL(t)?String(t):t,n_=(e,t="")=>{var n;return xu(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lo;class dL{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=lo,!t&&lo&&(this.index=(lo.scopes||(lo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=lo;try{return lo=this,t()}finally{lo=n}}}on(){lo=this}off(){lo=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function CZ(e){return new dL(e)}function hL(){return lo}function MZ(e,t=!1){lo&&lo.cleanups.push(e)}let gr;const r_=new WeakSet;class pL{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,lo&&lo.active&&lo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,r_.has(this)&&(r_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,X4(this),mL(this);const t=gr,n=xl;gr=this,xl=!0;try{return this.fn()}finally{yL(this),gr=t,xl=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)OT(t);this.deps=this.depsTail=void 0,X4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?r_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){NS(this)&&this.run()}get dirty(){return NS(this)}}let vL=0,Nv,Dv;function gL(e,t=!1){if(e.flags|=8,t){e.next=Dv,Dv=e;return}e.next=Nv,Nv=e}function kT(){vL++}function TT(){if(--vL>0)return;if(Dv){let t=Dv;for(Dv=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Nv;){let t=Nv;for(Nv=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function mL(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yL(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),OT(r),PZ(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function NS(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xL(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xL(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===c1))return;e.globalVersion=c1;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!NS(e)){e.flags&=-3;return}const n=gr,r=xl;gr=e,xl=!0;try{mL(e);const a=e.fn(e._value);(t.version===0||Ku(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{gr=n,xl=r,yL(e),e.flags&=-3}}function OT(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)OT(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function PZ(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xl=!0;const bL=[];function pf(){bL.push(xl),xl=!1}function vf(){const e=bL.pop();xl=e===void 0?!0:e}function X4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=gr;gr=void 0;try{t()}finally{gr=n}}}let c1=0,IZ=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class CT{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!gr||!xl||gr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==gr)n=this.activeLink=new IZ(gr,this),gr.deps?(n.prevDep=gr.depsTail,gr.depsTail.nextDep=n,gr.depsTail=n):gr.deps=gr.depsTail=n,wL(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=gr.depsTail,n.nextDep=void 0,gr.depsTail.nextDep=n,gr.depsTail=n,gr.deps===n&&(gr.deps=r)}return n}trigger(t){this.version++,c1++,this.notify(t)}notify(t){kT();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{TT()}}}function wL(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)wL(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ex=new WeakMap,ud=Symbol(""),DS=Symbol(""),u1=Symbol("");function ji(e,t,n){if(xl&&gr){let r=Ex.get(e);r||Ex.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new CT),a.map=r,a.key=n),a.track()}}function Yc(e,t,n,r,a,i){const o=Ex.get(e);if(!o){c1++;return}const s=l=>{l&&l.trigger()};if(kT(),t==="clear")o.forEach(s);else{const l=Bt(e),c=l&&AT(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===u1||!xu(d)&&d>=u)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(u1)),t){case"add":l?c&&s(o.get("length")):(s(o.get(ud)),q0(e)&&s(o.get(DS)));break;case"delete":l||(s(o.get(ud)),q0(e)&&s(o.get(DS)));break;case"set":q0(e)&&s(o.get(ud));break}}TT()}function RZ(e,t){const n=Ex.get(e);return n&&n.get(t)}function v0(e){const t=Cn(e);return t===e?t:(ji(t,"iterate",u1),Ds(e)?t:t.map(zi))}function yb(e){return ji(e=Cn(e),"iterate",u1),e}const NZ={__proto__:null,[Symbol.iterator](){return a_(this,Symbol.iterator,zi)},concat(...e){return v0(this).concat(...e.map(t=>Bt(t)?v0(t):t))},entries(){return a_(this,"entries",e=>(e[1]=zi(e[1]),e))},every(e,t){return Bc(this,"every",e,t,void 0,arguments)},filter(e,t){return Bc(this,"filter",e,t,n=>n.map(zi),arguments)},find(e,t){return Bc(this,"find",e,t,zi,arguments)},findIndex(e,t){return Bc(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bc(this,"findLast",e,t,zi,arguments)},findLastIndex(e,t){return Bc(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bc(this,"forEach",e,t,void 0,arguments)},includes(...e){return i_(this,"includes",e)},indexOf(...e){return i_(this,"indexOf",e)},join(e){return v0(this).join(e)},lastIndexOf(...e){return i_(this,"lastIndexOf",e)},map(e,t){return Bc(this,"map",e,t,void 0,arguments)},pop(){return Ip(this,"pop")},push(...e){return Ip(this,"push",e)},reduce(e,...t){return q4(this,"reduce",e,t)},reduceRight(e,...t){return q4(this,"reduceRight",e,t)},shift(){return Ip(this,"shift")},some(e,t){return Bc(this,"some",e,t,void 0,arguments)},splice(...e){return Ip(this,"splice",e)},toReversed(){return v0(this).toReversed()},toSorted(e){return v0(this).toSorted(e)},toSpliced(...e){return v0(this).toSpliced(...e)},unshift(...e){return Ip(this,"unshift",e)},values(){return a_(this,"values",zi)}};function a_(e,t,n){const r=yb(e),a=r[t]();return r!==e&&!Ds(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const DZ=Array.prototype;function Bc(e,t,n,r,a,i){const o=yb(e),s=o!==e&&!Ds(e),l=o[t];if(l!==DZ[t]){const f=l.apply(e,i);return s?zi(f):f}let c=n;o!==e&&(s?c=function(f,d){return n.call(this,zi(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return s&&a?a(u):u}function q4(e,t,n,r){const a=yb(e);let i=n;return a!==e&&(Ds(e)?n.length>3&&(i=function(o,s,l){return n.call(this,o,s,l,e)}):i=function(o,s,l){return n.call(this,o,zi(s),l,e)}),a[t](i,...r)}function i_(e,t,n){const r=Cn(e);ji(r,"iterate",u1);const a=r[t](...n);return(a===-1||a===!1)&&IT(n[0])?(n[0]=Cn(n[0]),r[t](...n)):a}function Ip(e,t,n=[]){pf(),kT();const r=Cn(e)[t].apply(e,n);return TT(),vf(),r}const LZ=_T("__proto__,__v_isRef,__isVue"),_L=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xu));function FZ(e){xu(e)||(e=String(e));const t=Cn(this);return ji(t,"has",e),t.hasOwnProperty(e)}class EL{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?YZ:TL:i?kL:AL).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Bt(t);if(!a){let l;if(o&&(l=NZ[n]))return l;if(n==="hasOwnProperty")return FZ}const s=Reflect.get(t,n,ba(t)?t:r);return(xu(n)?_L.has(n):LZ(n))||(a||ji(t,"get",n),i)?s:ba(s)?o&&AT(n)?s:s.value:_r(s)?a?CL(s):Ic(s):s}}class SL extends EL{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=Sd(i);if(!Ds(r)&&!Sd(r)&&(i=Cn(i),r=Cn(r)),!Bt(t)&&ba(i)&&!ba(r))return l?!1:(i.value=r,!0)}const o=Bt(t)&&AT(n)?Number(n)<t.length:Un(t,n),s=Reflect.set(t,n,r,ba(t)?t:a);return t===Cn(a)&&(o?Ku(r,i)&&Yc(t,"set",n,r):Yc(t,"add",n,r)),s}deleteProperty(t,n){const r=Un(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Yc(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!xu(n)||!_L.has(n))&&ji(t,"has",n),r}ownKeys(t){return ji(t,"iterate",Bt(t)?"length":ud),Reflect.ownKeys(t)}}class BZ extends EL{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const $Z=new SL,jZ=new BZ,zZ=new SL(!0);const LS=e=>e,lm=e=>Reflect.getPrototypeOf(e);function UZ(e,t,n){return function(...r){const a=this.__v_raw,i=Cn(a),o=q0(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=a[e](...r),u=n?LS:t?FS:zi;return!t&&ji(i,"iterate",l?DS:ud),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:s?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function cm(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function HZ(e,t){const n={get(a){const i=this.__v_raw,o=Cn(i),s=Cn(a);e||(Ku(a,s)&&ji(o,"get",a),ji(o,"get",s));const{has:l}=lm(o),c=t?LS:e?FS:zi;if(l.call(o,a))return c(i.get(a));if(l.call(o,s))return c(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&ji(Cn(a),"iterate",ud),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Cn(i),s=Cn(a);return e||(Ku(a,s)&&ji(o,"has",a),ji(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,l=Cn(s),c=t?LS:e?FS:zi;return!e&&ji(l,"iterate",ud),s.forEach((u,f)=>a.call(i,c(u),c(f),o))}};return ci(n,e?{add:cm("add"),set:cm("set"),delete:cm("delete"),clear:cm("clear")}:{add(a){!t&&!Ds(a)&&!Sd(a)&&(a=Cn(a));const i=Cn(this);return lm(i).has.call(i,a)||(i.add(a),Yc(i,"add",a,a)),this},set(a,i){!t&&!Ds(i)&&!Sd(i)&&(i=Cn(i));const o=Cn(this),{has:s,get:l}=lm(o);let c=s.call(o,a);c||(a=Cn(a),c=s.call(o,a));const u=l.call(o,a);return o.set(a,i),c?Ku(i,u)&&Yc(o,"set",a,i):Yc(o,"add",a,i),this},delete(a){const i=Cn(this),{has:o,get:s}=lm(i);let l=o.call(i,a);l||(a=Cn(a),l=o.call(i,a)),s&&s.call(i,a);const c=i.delete(a);return l&&Yc(i,"delete",a,void 0),c},clear(){const a=Cn(this),i=a.size!==0,o=a.clear();return i&&Yc(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=UZ(a,e,t)}),n}function MT(e,t){const n=HZ(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Un(n,a)&&a in r?n:r,a,i)}const GZ={get:MT(!1,!1)},WZ={get:MT(!1,!0)},VZ={get:MT(!0,!1)};const AL=new WeakMap,kL=new WeakMap,TL=new WeakMap,YZ=new WeakMap;function XZ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qZ(e){return e.__v_skip||!Object.isExtensible(e)?0:XZ(xZ(e))}function Ic(e){return Sd(e)?e:PT(e,!1,$Z,GZ,AL)}function OL(e){return PT(e,!1,zZ,WZ,kL)}function CL(e){return PT(e,!0,jZ,VZ,TL)}function PT(e,t,n,r,a){if(!_r(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=qZ(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function Z0(e){return Sd(e)?Z0(e.__v_raw):!!(e&&e.__v_isReactive)}function Sd(e){return!!(e&&e.__v_isReadonly)}function Ds(e){return!!(e&&e.__v_isShallow)}function IT(e){return e?!!e.__v_raw:!1}function Cn(e){const t=e&&e.__v_raw;return t?Cn(t):e}function KZ(e){return!Un(e,"__v_skip")&&Object.isExtensible(e)&&lL(e,"__v_skip",!0),e}const zi=e=>_r(e)?Ic(e):e,FS=e=>_r(e)?CL(e):e;function ba(e){return e?e.__v_isRef===!0:!1}function Ce(e){return ML(e,!1)}function ZZ(e){return ML(e,!0)}function ML(e,t){return ba(e)?e:new QZ(e,t)}class QZ{constructor(t,n){this.dep=new CT,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Cn(t),this._value=n?t:zi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ds(t)||Sd(t);t=r?t:Cn(t),Ku(t,n)&&(this._rawValue=t,this._value=r?t:zi(t),this.dep.trigger())}}function J(e){return ba(e)?e.value:e}function JZ(e){return Vt(e)?e():J(e)}const eQ={get:(e,t,n)=>t==="__v_raw"?e:J(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return ba(a)&&!ba(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function PL(e){return Z0(e)?e:new Proxy(e,eQ)}class tQ{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return RZ(Cn(this._object),this._key)}}class nQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function f1(e,t,n){return ba(e)?e:Vt(e)?new nQ(e):_r(e)&&arguments.length>1?rQ(e,t,n):Ce(e)}function rQ(e,t,n){const r=e[t];return ba(r)?r:new tQ(e,t,n)}class aQ{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new CT(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=c1-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&gr!==this)return gL(this,!0),!0}get value(){const t=this.dep.track();return xL(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function iQ(e,t,n=!1){let r,a;return Vt(e)?r=e:(r=e.get,a=e.set),new aQ(r,a,n)}const um={},Sx=new WeakMap;let qf;function oQ(e,t=!1,n=qf){if(n){let r=Sx.get(n);r||Sx.set(n,r=[]),r.push(e)}}function sQ(e,t,n=dr){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:s,call:l}=n,c=b=>a?b:Ds(b)||a===!1||a===0?Xc(b,1):Xc(b);let u,f,d,h,p=!1,v=!1;if(ba(e)?(f=()=>e.value,p=Ds(e)):Z0(e)?(f=()=>c(e),p=!0):Bt(e)?(v=!0,p=e.some(b=>Z0(b)||Ds(b)),f=()=>e.map(b=>{if(ba(b))return b.value;if(Z0(b))return c(b);if(Vt(b))return l?l(b,2):b()})):Vt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){pf();try{d()}finally{vf()}}const b=qf;qf=u;try{return l?l(e,3,[h]):e(h)}finally{qf=b}}:f=dc,t&&a){const b=f,E=a===!0?1/0:a;f=()=>Xc(b(),E)}const g=hL(),m=()=>{u.stop(),g&&g.active&&ST(g.effects,u)};if(i&&t){const b=t;t=(...E)=>{b(...E),m()}}let y=v?new Array(e.length).fill(um):um;const x=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(t){const E=u.run();if(a||p||(v?E.some((_,w)=>Ku(_,y[w])):Ku(E,y))){d&&d();const _=qf;qf=u;try{const w=[E,y===um?void 0:v&&y[0]===um?[]:y,h];l?l(t,3,w):t(...w),y=E}finally{qf=_}}}else u.run()};return s&&s(x),u=new pL(f),u.scheduler=o?()=>o(x,!1):x,h=b=>oQ(b,!1,u),d=u.onStop=()=>{const b=Sx.get(u);if(b){if(l)l(b,4);else for(const E of b)E();Sx.delete(u)}},t?r?x(!0):y=u.run():o?o(x.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function Xc(e,t=1/0,n){if(t<=0||!_r(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ba(e))Xc(e.value,t,n);else if(Bt(e))for(let r=0;r<e.length;r++)Xc(e[r],t,n);else if(aL(e)||q0(e))e.forEach(r=>{Xc(r,t,n)});else if(sL(e)){for(const r in e)Xc(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Xc(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gg(e,t,n,r){try{return r?e(...r):e()}catch(a){xb(a,t,n)}}function Tl(e,t,n,r){if(Vt(e)){const a=gg(e,t,n,r);return a&&iL(a)&&a.catch(i=>{xb(i,t,n)}),a}if(Bt(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Tl(e[i],t,n,r));return a}}function xb(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||dr;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}s=s.parent}if(i){pf(),gg(i,null,10,[e,l,c]),vf();return}}lQ(e,n,a,r,o)}function lQ(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const ho=[];let Ql=-1;const Q0=[];let Pu=null,R0=0;const IL=Promise.resolve();let Ax=null;function Hn(e){const t=Ax||IL;return e?t.then(this?e.bind(this):e):t}function cQ(e){let t=Ql+1,n=ho.length;for(;t<n;){const r=t+n>>>1,a=ho[r],i=d1(a);i<e||i===e&&a.flags&2?t=r+1:n=r}return t}function RT(e){if(!(e.flags&1)){const t=d1(e),n=ho[ho.length-1];!n||!(e.flags&2)&&t>=d1(n)?ho.push(e):ho.splice(cQ(t),0,e),e.flags|=1,RL()}}function RL(){Ax||(Ax=IL.then(DL))}function uQ(e){Bt(e)?Q0.push(...e):Pu&&e.id===-1?Pu.splice(R0+1,0,e):e.flags&1||(Q0.push(e),e.flags|=1),RL()}function K4(e,t,n=Ql+1){for(;n<ho.length;n++){const r=ho[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ho.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function NL(e){if(Q0.length){const t=[...new Set(Q0)].sort((n,r)=>d1(n)-d1(r));if(Q0.length=0,Pu){Pu.push(...t);return}for(Pu=t,R0=0;R0<Pu.length;R0++){const n=Pu[R0];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Pu=null,R0=0}}const d1=e=>e.id==null?e.flags&2?-1:1/0:e.id;function DL(e){try{for(Ql=0;Ql<ho.length;Ql++){const t=ho[Ql];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gg(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ql<ho.length;Ql++){const t=ho[Ql];t&&(t.flags&=-2)}Ql=-1,ho.length=0,NL(),Ax=null,(ho.length||Q0.length)&&DL()}}let oi=null,LL=null;function kx(e){const t=oi;return oi=e,LL=e&&e.type.__scopeId||null,t}function ht(e,t=oi,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&cM(-1);const i=kx(t);let o;try{o=e(...a)}finally{kx(i),r._d&&cM(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function bl(e,t){if(oi===null)return e;const n=Sb(oi),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=dr]=t[a];i&&(Vt(i)&&(i={mounted:i,updated:i}),i.deep&&Xc(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Pf(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(pf(),Tl(l,n,8,[e.el,s,e,t]),vf())}}const FL=Symbol("_vte"),BL=e=>e.__isTeleport,Lv=e=>e&&(e.disabled||e.disabled===""),Z4=e=>e&&(e.defer||e.defer===""),Q4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,J4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,BS=(e,t)=>{const n=e&&e.to;return Rr(n)?t?t(n):null:n},$L={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=c,m=Lv(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(e==null){const E=t.el=v(""),_=t.anchor=v("");h(E,n,r),h(_,n,r);const w=(S,k)=>{y&16&&(a&&a.isCE&&(a.ce._teleportTarget=S),u(x,S,k,a,i,o,s,l))},A=()=>{const S=t.target=BS(t.props,p),k=jL(S,t,v,h);S&&(o!=="svg"&&Q4(S)?o="svg":o!=="mathml"&&J4(S)&&(o="mathml"),m||(w(S,k),Qy(t,!1)))};m&&(w(n,_),Qy(t,!0)),Z4(t.props)?Fa(()=>{A(),t.el.__isMounted=!0},i):A()}else{if(Z4(t.props)&&!e.el.__isMounted){Fa(()=>{$L.process(e,t,n,r,a,i,o,s,l,c),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,_=t.target=e.target,w=t.targetAnchor=e.targetAnchor,A=Lv(e.props),S=A?n:_,k=A?E:w;if(o==="svg"||Q4(_)?o="svg":(o==="mathml"||J4(_))&&(o="mathml"),b?(d(e.dynamicChildren,b,S,a,i,o,s),LT(e,t,!0)):l||f(e,t,S,k,a,i,o,s,!1),m)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):fm(t,n,E,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=BS(t.props,p);T&&fm(t,T,null,c,0)}else A&&fm(t,_,w,c,1);Qy(t,m)}},remove(e,t,n,{um:r,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:l,targetStart:c,targetAnchor:u,target:f,props:d}=e;if(f&&(a(c),a(u)),i&&a(l),o&16){const h=i||!Lv(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,n,h,!!v.dynamicChildren)}}},move:fm,hydrate:fQ};function fm(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:c,props:u}=e,f=i===2;if(f&&r(o,t,n),(!f||Lv(u))&&l&16)for(let d=0;d<c.length;d++)a(c[d],t,n,2);f&&r(s,t,n)}function fQ(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:c,createText:u}},f){const d=t.target=BS(t.props,l);if(d){const h=Lv(t.props),p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),n,r,a,i),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||jL(d,t,u,c),f(p&&o(p),t,d,n,r,a,i)}Qy(t,h)}return t.anchor&&o(t.anchor)}const dQ=$L;function Qy(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function jL(e,t,n,r){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[FL]=i,e&&(r(a,e),r(i,e)),i}const Iu=Symbol("_leaveCb"),dm=Symbol("_enterCb");function hQ(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wn(()=>{e.isMounted=!0}),NT(()=>{e.isUnmounting=!0}),e}const us=[Function,Array],zL={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:us,onEnter:us,onAfterEnter:us,onEnterCancelled:us,onBeforeLeave:us,onLeave:us,onAfterLeave:us,onLeaveCancelled:us,onBeforeAppear:us,onAppear:us,onAfterAppear:us,onAppearCancelled:us},UL=e=>{const t=e.subTree;return t.component?UL(t.component):t},pQ={name:"BaseTransition",props:zL,setup(e,{slots:t}){const n=Gs(),r=hQ();return()=>{const a=t.default&&WL(t.default(),!0);if(!a||!a.length)return;const i=HL(a),o=Cn(e),{mode:s}=o;if(r.isLeaving)return o_(i);const l=eM(i);if(!l)return o_(i);let c=$S(l,o,r,n,f=>c=f);l.type!==Ui&&xh(l,c);let u=n.subTree&&eM(n.subTree);if(u&&u.type!==Ui&&!Bu(l,u)&&UL(n).type!==Ui){let f=$S(u,o,r,n);if(xh(u,f),s==="out-in"&&l.type!==Ui)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},o_(i);s==="in-out"&&l.type!==Ui?f.delayLeave=(d,h,p)=>{const v=GL(r,u);v[String(u.key)]=u,d[Iu]=()=>{h(),d[Iu]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function HL(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ui){t=n;break}}return t}const vQ=pQ;function GL(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function $S(e,t,n,r,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:x}=t,b=String(e.key),E=GL(n,e),_=(S,k)=>{S&&Tl(S,r,9,k)},w=(S,k)=>{const T=k[1];_(S,k),Bt(S)?S.every(O=>O.length<=1)&&T():S.length<=1&&T()},A={mode:o,persisted:s,beforeEnter(S){let k=l;if(!n.isMounted)if(i)k=g||l;else return;S[Iu]&&S[Iu](!0);const T=E[b];T&&Bu(e,T)&&T.el[Iu]&&T.el[Iu](),_(k,[S])},enter(S){let k=c,T=u,O=f;if(!n.isMounted)if(i)k=m||c,T=y||u,O=x||f;else return;let C=!1;const M=S[dm]=R=>{C||(C=!0,R?_(O,[S]):_(T,[S]),A.delayedLeave&&A.delayedLeave(),S[dm]=void 0)};k?w(k,[S,M]):M()},leave(S,k){const T=String(e.key);if(S[dm]&&S[dm](!0),n.isUnmounting)return k();_(d,[S]);let O=!1;const C=S[Iu]=M=>{O||(O=!0,k(),M?_(v,[S]):_(p,[S]),S[Iu]=void 0,E[T]===e&&delete E[T])};E[T]=e,h?w(h,[S,C]):C()},clone(S){const k=$S(S,t,n,r,a);return a&&a(k),k}};return A}function o_(e){if(bb(e))return e=uu(e),e.children=null,e}function eM(e){if(!bb(e))return BL(e.type)&&e.children?HL(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Vt(n.default))return n.default()}}function xh(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xh(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function WL(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ve?(o.patchFlag&128&&a++,r=r.concat(WL(o.children,t,s))):(t||o.type!==Ui)&&r.push(s!=null?uu(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ln(e,t){return Vt(e)?ci({name:e.name},t,{setup:e}):e}function VL(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Tx(e,t,n,r,a=!1){if(Bt(e)){e.forEach((p,v)=>Tx(p,t&&(Bt(t)?t[v]:t),n,r,a));return}if(fd(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Tx(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Sb(r.component):r.el,o=a?null:i,{i:s,r:l}=e,c=t&&t.r,u=s.refs===dr?s.refs={}:s.refs,f=s.setupState,d=Cn(f),h=f===dr?()=>!1:p=>Un(d,p);if(c!=null&&c!==l&&(Rr(c)?(u[c]=null,h(c)&&(f[c]=null)):ba(c)&&(c.value=null)),Vt(l))gg(l,s,12,[o,u]);else{const p=Rr(l),v=ba(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:u[l]:l.value;a?Bt(m)&&ST(m,i):Bt(m)?m.includes(i)||m.push(i):p?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else p?(u[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(u[e.k]=o))};o?(g.id=-1,Fa(g,n)):g()}}}mb().requestIdleCallback;mb().cancelIdleCallback;const fd=e=>!!e.type.__asyncLoader,bb=e=>e.type.__isKeepAlive,gQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Gs(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const a=new Map,i=new Set;let o=null;const s=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,d=f("div");r.activate=(y,x,b,E,_)=>{const w=y.component;c(y,x,b,0,s),l(w.vnode,y,x,b,w,s,E,y.slotScopeIds,_),Fa(()=>{w.isDeactivated=!1,w.a&&K0(w.a);const A=y.props&&y.props.onVnodeMounted;A&&ws(A,w.parent,y)},s)},r.deactivate=y=>{const x=y.component;Cx(x.m),Cx(x.a),c(y,d,null,1,s),Fa(()=>{x.da&&K0(x.da);const b=y.props&&y.props.onVnodeUnmounted;b&&ws(b,x.parent,y),x.isDeactivated=!0},s)};function h(y){s_(y),u(y,n,s,!0)}function p(y){a.forEach((x,b)=>{const E=WS(x.type);E&&!y(E)&&v(b)})}function v(y){const x=a.get(y);x&&(!o||!Bu(x,o))?h(x):o&&s_(o),a.delete(y),i.delete(y)}sn(()=>[e.include,e.exclude],([y,x])=>{y&&p(b=>ov(y,b)),x&&p(b=>!ov(x,b))},{flush:"post",deep:!0});let g=null;const m=()=>{g!=null&&(Mx(n.subTree.type)?Fa(()=>{a.set(g,hm(n.subTree))},n.subTree.suspense):a.set(g,hm(n.subTree)))};return Wn(m),KL(m),NT(()=>{a.forEach(y=>{const{subTree:x,suspense:b}=n,E=hm(x);if(y.type===E.type&&y.key===E.key){s_(E);const _=E.component.da;_&&Fa(_,b);return}h(y)})}),()=>{if(g=null,!t.default)return o=null;const y=t.default(),x=y[0];if(y.length>1)return o=null,y;if(!bh(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let b=hm(x);if(b.type===Ui)return o=null,b;const E=b.type,_=WS(fd(b)?b.type.__asyncResolved||{}:E),{include:w,exclude:A,max:S}=e;if(w&&(!_||!ov(w,_))||A&&_&&ov(A,_))return b.shapeFlag&=-257,o=b,x;const k=b.key==null?E:b.key,T=a.get(k);return b.el&&(b=uu(b),x.shapeFlag&128&&(x.ssContent=b)),g=k,T?(b.el=T.el,b.component=T.component,b.transition&&xh(b,b.transition),b.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),S&&i.size>parseInt(S,10)&&v(i.values().next().value)),b.shapeFlag|=256,o=b,Mx(x.type)?x:b}}},mQ=gQ;function ov(e,t){return Bt(e)?e.some(n=>ov(n,t)):Rr(e)?e.split(",").includes(t):yZ(e)?(e.lastIndex=0,e.test(t)):!1}function YL(e,t){XL(e,"a",t)}function yQ(e,t){XL(e,"da",t)}function XL(e,t,n=bi){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(wb(t,r,n),n){let a=n.parent;for(;a&&a.parent;)bb(a.parent.vnode)&&xQ(r,t,n,a),a=a.parent}}function xQ(e,t,n,r){const a=wb(t,e,r,!0);gf(()=>{ST(r[t],a)},n)}function s_(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function hm(e){return e.shapeFlag&128?e.ssContent:e}function wb(e,t,n=bi,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{pf();const s=yg(n),l=Tl(t,n,e,o);return s(),vf(),l});return r?a.unshift(i):a.push(i),i}}const bu=e=>(t,n=bi)=>{(!p1||e==="sp")&&wb(e,(...r)=>t(...r),n)},bQ=bu("bm"),Wn=bu("m"),qL=bu("bu"),KL=bu("u"),NT=bu("bum"),gf=bu("um"),wQ=bu("sp"),_Q=bu("rtg"),EQ=bu("rtc");function SQ(e,t=bi){wb("ec",e,t)}const ZL="components";function AQ(e,t){return JL(ZL,e,!0,t)||e}const QL=Symbol.for("v-ndc");function mg(e){return Rr(e)?JL(ZL,e,!1)||e:e||QL}function JL(e,t,n=!0,r=!1){const a=oi||bi;if(a){const i=a.type;{const s=WS(i,!1);if(s&&(s===t||s===js(t)||s===gb(js(t))))return i}const o=tM(a[e]||i[e],t)||tM(a.appContext[e],t);return!o&&r?i:o}}function tM(e,t){return e&&(e[t]||e[js(t)]||e[gb(js(t))])}function Ft(e,t,n,r){let a;const i=n,o=Bt(e);if(o||Rr(e)){const s=o&&Z0(e);let l=!1;s&&(l=!Ds(e),e=yb(e)),a=new Array(e.length);for(let c=0,u=e.length;c<u;c++)a[c]=t(l?zi(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i)}else if(_r(e))if(e[Symbol.iterator])a=Array.from(e,(s,l)=>t(s,l,void 0,i));else{const s=Object.keys(e);a=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];a[l]=t(e[u],u,l,i)}}else a=[];return a}function Xi(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Bt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function rt(e,t,n={},r,a){if(oi.ce||oi.parent&&fd(oi.parent)&&oi.parent.ce)return t!=="default"&&(n.name=t),Z(),zt(Ve,null,[mt("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),Z();const o=i&&eF(i(n)),s=n.key||o&&o.key,l=zt(Ve,{key:(s&&!xu(s)?s:`_${t}`)+""},o||[],o&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function eF(e){return e.some(t=>bh(t)?!(t.type===Ui||t.type===Ve&&!eF(t.children)):!0)?e:null}const jS=e=>e?bF(e)?Sb(e):jS(e.parent):null,Fv=ci(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jS(e.parent),$root:e=>jS(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rF(e),$forceUpdate:e=>e.f||(e.f=()=>{RT(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>YQ.bind(e)}),l_=(e,t)=>e!==dr&&!e.__isScriptSetup&&Un(e,t),kQ={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(l_(r,t))return o[t]=1,r[t];if(a!==dr&&Un(a,t))return o[t]=2,a[t];if((c=e.propsOptions[0])&&Un(c,t))return o[t]=3,i[t];if(n!==dr&&Un(n,t))return o[t]=4,n[t];zS&&(o[t]=0)}}const u=Fv[t];let f,d;if(u)return t==="$attrs"&&ji(e.attrs,"get",""),u(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==dr&&Un(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Un(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return l_(a,t)?(a[t]=n,!0):r!==dr&&Un(r,t)?(r[t]=n,!0):Un(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==dr&&Un(e,o)||l_(t,o)||(s=i[0])&&Un(s,o)||Un(r,o)||Un(Fv,o)||Un(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Un(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qd(){return tF().slots}function TQ(){return tF().attrs}function tF(){const e=Gs();return e.setupContext||(e.setupContext=_F(e))}function nM(e){return Bt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let zS=!0;function OQ(e){const t=rF(e),n=e.proxy,r=e.ctx;zS=!1,t.beforeCreate&&rM(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:x,unmounted:b,render:E,renderTracked:_,renderTriggered:w,errorCaptured:A,serverPrefetch:S,expose:k,inheritAttrs:T,components:O,directives:C,filters:M}=t;if(c&&CQ(c,r,null),o)for(const P in o){const B=o[P];Vt(B)&&(r[P]=B.bind(n))}if(a){const P=a.call(n,n);_r(P)&&(e.data=Ic(P))}if(zS=!0,i)for(const P in i){const B=i[P],N=Vt(B)?B.bind(n,n):Vt(B.get)?B.get.bind(n,n):dc,V=!Vt(B)&&Vt(B.set)?B.set.bind(n):dc,W=je({get:N,set:V});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>W.value,set:z=>W.value=z})}if(s)for(const P in s)nF(s[P],r,n,P);if(l){const P=Vt(l)?l.call(n):l;Reflect.ownKeys(P).forEach(B=>{Jy(B,P[B])})}u&&rM(u,e,"c");function I(P,B){Bt(B)?B.forEach(N=>P(N.bind(n))):B&&P(B.bind(n))}if(I(bQ,f),I(Wn,d),I(qL,h),I(KL,p),I(YL,v),I(yQ,g),I(SQ,A),I(EQ,_),I(_Q,w),I(NT,y),I(gf,b),I(wQ,S),Bt(k))if(k.length){const P=e.exposed||(e.exposed={});k.forEach(B=>{Object.defineProperty(P,B,{get:()=>n[B],set:N=>n[B]=N})})}else e.exposed||(e.exposed={});E&&e.render===dc&&(e.render=E),T!=null&&(e.inheritAttrs=T),O&&(e.components=O),C&&(e.directives=C),S&&VL(e)}function CQ(e,t,n=dc){Bt(e)&&(e=US(e));for(const r in e){const a=e[r];let i;_r(a)?"default"in a?i=Ls(a.from||r,a.default,!0):i=Ls(a.from||r):i=Ls(a),ba(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function rM(e,t,n){Tl(Bt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function nF(e,t,n,r){let a=r.includes(".")?gF(n,r):()=>n[r];if(Rr(e)){const i=t[e];Vt(i)&&sn(a,i)}else if(Vt(e))sn(a,e.bind(n));else if(_r(e))if(Bt(e))e.forEach(i=>nF(i,t,n,r));else{const i=Vt(e.handler)?e.handler.bind(n):t[e.handler];Vt(i)&&sn(a,i,e)}}function rF(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(c=>Ox(l,c,o,!0)),Ox(l,t,o)),_r(t)&&i.set(t,l),l}function Ox(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Ox(e,i,n,!0),a&&a.forEach(o=>Ox(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=MQ[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const MQ={data:aM,props:iM,emits:iM,methods:sv,computed:sv,beforeCreate:ao,created:ao,beforeMount:ao,mounted:ao,beforeUpdate:ao,updated:ao,beforeDestroy:ao,beforeUnmount:ao,destroyed:ao,unmounted:ao,activated:ao,deactivated:ao,errorCaptured:ao,serverPrefetch:ao,components:sv,directives:sv,watch:IQ,provide:aM,inject:PQ};function aM(e,t){return t?e?function(){return ci(Vt(e)?e.call(this,this):e,Vt(t)?t.call(this,this):t)}:t:e}function PQ(e,t){return sv(US(e),US(t))}function US(e){if(Bt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ao(e,t){return e?[...new Set([].concat(e,t))]:t}function sv(e,t){return e?ci(Object.create(null),e,t):t}function iM(e,t){return e?Bt(e)&&Bt(t)?[...new Set([...e,...t])]:ci(Object.create(null),nM(e),nM(t??{})):t}function IQ(e,t){if(!e)return t;if(!t)return e;const n=ci(Object.create(null),e);for(const r in t)n[r]=ao(e[r],t[r]);return n}function aF(){return{app:null,config:{isNativeTag:gZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RQ=0;function NQ(e,t){return function(r,a=null){Vt(r)||(r=ci({},r)),a!=null&&!_r(a)&&(a=null);const i=aF(),o=new WeakSet,s=[];let l=!1;const c=i.app={_uid:RQ++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:uJ,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&Vt(u.install)?(o.add(u),u.install(c,...f)):Vt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||mt(r,a);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Sb(h.component)}},onUnmount(u){s.push(u)},unmount(){l&&(Tl(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=J0;J0=c;try{return u()}finally{J0=f}}};return c}}let J0=null;function Jy(e,t){if(bi){let n=bi.provides;const r=bi.parent&&bi.parent.provides;r===n&&(n=bi.provides=Object.create(r)),n[e]=t}}function Ls(e,t,n=!1){const r=bi||oi;if(r||J0){const a=J0?J0._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Vt(t)?t.call(r&&r.proxy):t}}const iF={},oF=()=>Object.create(iF),sF=e=>Object.getPrototypeOf(e)===iF;function DQ(e,t,n,r=!1){const a={},i=oF();e.propsDefaults=Object.create(null),lF(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:OL(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function LQ(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=Cn(a),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(_b(e.emitsOptions,d))continue;const h=t[d];if(l)if(Un(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const p=js(d);a[p]=HS(l,s,p,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{lF(e,t,a,i)&&(c=!0);let u;for(const f in s)(!t||!Un(t,f)&&((u=hf(f))===f||!Un(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(a[f]=HS(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Un(t,f))&&(delete i[f],c=!0)}c&&Yc(e.attrs,"set","")}function lF(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Rv(l))continue;const c=t[l];let u;a&&Un(a,u=js(l))?!i||!i.includes(u)?n[u]=c:(s||(s={}))[u]=c:_b(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Cn(n),c=s||dr;for(let u=0;u<i.length;u++){const f=i[u];n[f]=HS(a,l,f,c[f],e,!Un(c,f))}}return o}function HS(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=Un(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Vt(l)){const{propsDefaults:c}=a;if(n in c)r=c[n];else{const u=yg(a);r=c[n]=l.call(null,t),u()}}else r=l;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===hf(n))&&(r=!0))}return r}const FQ=new WeakMap;function cF(e,t,n=!1){const r=n?FQ:t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!Vt(e)){const u=f=>{l=!0;const[d,h]=cF(f,t,!0);ci(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return _r(e)&&r.set(e,X0),X0;if(Bt(i))for(let u=0;u<i.length;u++){const f=js(i[u]);oM(f)&&(o[f]=dr)}else if(i)for(const u in i){const f=js(u);if(oM(f)){const d=i[u],h=o[f]=Bt(d)||Vt(d)?{type:d}:ci({},d),p=h.type;let v=!1,g=!0;if(Bt(p))for(let m=0;m<p.length;++m){const y=p[m],x=Vt(y)&&y.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(g=!1)}else v=Vt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Un(h,"default"))&&s.push(f)}}const c=[o,s];return _r(e)&&r.set(e,c),c}function oM(e){return e[0]!=="$"&&!Rv(e)}const uF=e=>e[0]==="_"||e==="$stable",DT=e=>Bt(e)?e.map(ec):[ec(e)],BQ=(e,t,n)=>{if(t._n)return t;const r=ht((...a)=>DT(t(...a)),n);return r._c=!1,r},fF=(e,t,n)=>{const r=e._ctx;for(const a in e){if(uF(a))continue;const i=e[a];if(Vt(i))t[a]=BQ(a,i,r);else if(i!=null){const o=DT(i);t[a]=()=>o}}},dF=(e,t)=>{const n=DT(t);e.slots.default=()=>n},hF=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},$Q=(e,t,n)=>{const r=e.slots=oF();if(e.vnode.shapeFlag&32){const a=t._;a?(hF(r,t,n),n&&lL(r,"_",a,!0)):fF(t,r)}else t&&dF(e,t)},jQ=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=dr;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:hF(a,t,n):(i=!t.$stable,fF(t,a)),o=t}else t&&(dF(e,t),o={default:1});if(i)for(const s in a)!uF(s)&&o[s]==null&&delete a[s]},Fa=eJ;function zQ(e){return UQ(e)}function UQ(e,t){const n=mb();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=dc,insertStaticContent:p}=e,v=(U,q,Q,X=null,ce=null,te=null,pe=void 0,me=null,Ee=!!q.dynamicChildren)=>{if(U===q)return;U&&!Bu(U,q)&&(X=D(U),z(U,ce,te,!0),U=null),q.patchFlag===-2&&(Ee=!1,q.dynamicChildren=null);const{type:ke,ref:Ue,shapeFlag:fe}=q;switch(ke){case Eb:g(U,q,Q,X);break;case Ui:m(U,q,Q,X);break;case ex:U==null&&y(q,Q,X,pe);break;case Ve:O(U,q,Q,X,ce,te,pe,me,Ee);break;default:fe&1?E(U,q,Q,X,ce,te,pe,me,Ee):fe&6?C(U,q,Q,X,ce,te,pe,me,Ee):(fe&64||fe&128)&&ke.process(U,q,Q,X,ce,te,pe,me,Ee,re)}Ue!=null&&ce&&Tx(Ue,U&&U.ref,te,q||U,!q)},g=(U,q,Q,X)=>{if(U==null)r(q.el=s(q.children),Q,X);else{const ce=q.el=U.el;q.children!==U.children&&c(ce,q.children)}},m=(U,q,Q,X)=>{U==null?r(q.el=l(q.children||""),Q,X):q.el=U.el},y=(U,q,Q,X)=>{[U.el,U.anchor]=p(U.children,q,Q,X,U.el,U.anchor)},x=({el:U,anchor:q},Q,X)=>{let ce;for(;U&&U!==q;)ce=d(U),r(U,Q,X),U=ce;r(q,Q,X)},b=({el:U,anchor:q})=>{let Q;for(;U&&U!==q;)Q=d(U),a(U),U=Q;a(q)},E=(U,q,Q,X,ce,te,pe,me,Ee)=>{q.type==="svg"?pe="svg":q.type==="math"&&(pe="mathml"),U==null?_(q,Q,X,ce,te,pe,me,Ee):S(U,q,ce,te,pe,me,Ee)},_=(U,q,Q,X,ce,te,pe,me)=>{let Ee,ke;const{props:Ue,shapeFlag:fe,transition:xe,dirs:De}=U;if(Ee=U.el=o(U.type,te,Ue&&Ue.is,Ue),fe&8?u(Ee,U.children):fe&16&&A(U.children,Ee,null,X,ce,c_(U,te),pe,me),De&&Pf(U,null,X,"created"),w(Ee,U,U.scopeId,pe,X),Ue){for(const pt in Ue)pt!=="value"&&!Rv(pt)&&i(Ee,pt,null,Ue[pt],te,X);"value"in Ue&&i(Ee,"value",null,Ue.value,te),(ke=Ue.onVnodeBeforeMount)&&ws(ke,X,U)}De&&Pf(U,null,X,"beforeMount");const He=HQ(ce,xe);He&&xe.beforeEnter(Ee),r(Ee,q,Q),((ke=Ue&&Ue.onVnodeMounted)||He||De)&&Fa(()=>{ke&&ws(ke,X,U),He&&xe.enter(Ee),De&&Pf(U,null,X,"mounted")},ce)},w=(U,q,Q,X,ce)=>{if(Q&&h(U,Q),X)for(let te=0;te<X.length;te++)h(U,X[te]);if(ce){let te=ce.subTree;if(q===te||Mx(te.type)&&(te.ssContent===q||te.ssFallback===q)){const pe=ce.vnode;w(U,pe,pe.scopeId,pe.slotScopeIds,ce.parent)}}},A=(U,q,Q,X,ce,te,pe,me,Ee=0)=>{for(let ke=Ee;ke<U.length;ke++){const Ue=U[ke]=me?Ru(U[ke]):ec(U[ke]);v(null,Ue,q,Q,X,ce,te,pe,me)}},S=(U,q,Q,X,ce,te,pe)=>{const me=q.el=U.el;let{patchFlag:Ee,dynamicChildren:ke,dirs:Ue}=q;Ee|=U.patchFlag&16;const fe=U.props||dr,xe=q.props||dr;let De;if(Q&&If(Q,!1),(De=xe.onVnodeBeforeUpdate)&&ws(De,Q,q,U),Ue&&Pf(q,U,Q,"beforeUpdate"),Q&&If(Q,!0),(fe.innerHTML&&xe.innerHTML==null||fe.textContent&&xe.textContent==null)&&u(me,""),ke?k(U.dynamicChildren,ke,me,Q,X,c_(q,ce),te):pe||B(U,q,me,null,Q,X,c_(q,ce),te,!1),Ee>0){if(Ee&16)T(me,fe,xe,Q,ce);else if(Ee&2&&fe.class!==xe.class&&i(me,"class",null,xe.class,ce),Ee&4&&i(me,"style",fe.style,xe.style,ce),Ee&8){const He=q.dynamicProps;for(let pt=0;pt<He.length;pt++){const Re=He[pt],vt=fe[Re],Ye=xe[Re];(Ye!==vt||Re==="value")&&i(me,Re,vt,Ye,ce,Q)}}Ee&1&&U.children!==q.children&&u(me,q.children)}else!pe&&ke==null&&T(me,fe,xe,Q,ce);((De=xe.onVnodeUpdated)||Ue)&&Fa(()=>{De&&ws(De,Q,q,U),Ue&&Pf(q,U,Q,"updated")},X)},k=(U,q,Q,X,ce,te,pe)=>{for(let me=0;me<q.length;me++){const Ee=U[me],ke=q[me],Ue=Ee.el&&(Ee.type===Ve||!Bu(Ee,ke)||Ee.shapeFlag&70)?f(Ee.el):Q;v(Ee,ke,Ue,null,X,ce,te,pe,!0)}},T=(U,q,Q,X,ce)=>{if(q!==Q){if(q!==dr)for(const te in q)!Rv(te)&&!(te in Q)&&i(U,te,q[te],null,ce,X);for(const te in Q){if(Rv(te))continue;const pe=Q[te],me=q[te];pe!==me&&te!=="value"&&i(U,te,me,pe,ce,X)}"value"in Q&&i(U,"value",q.value,Q.value,ce)}},O=(U,q,Q,X,ce,te,pe,me,Ee)=>{const ke=q.el=U?U.el:s(""),Ue=q.anchor=U?U.anchor:s("");let{patchFlag:fe,dynamicChildren:xe,slotScopeIds:De}=q;De&&(me=me?me.concat(De):De),U==null?(r(ke,Q,X),r(Ue,Q,X),A(q.children||[],Q,Ue,ce,te,pe,me,Ee)):fe>0&&fe&64&&xe&&U.dynamicChildren?(k(U.dynamicChildren,xe,Q,ce,te,pe,me),(q.key!=null||ce&&q===ce.subTree)&&LT(U,q,!0)):B(U,q,Q,Ue,ce,te,pe,me,Ee)},C=(U,q,Q,X,ce,te,pe,me,Ee)=>{q.slotScopeIds=me,U==null?q.shapeFlag&512?ce.ctx.activate(q,Q,X,pe,Ee):M(q,Q,X,ce,te,pe,Ee):R(U,q,Ee)},M=(U,q,Q,X,ce,te,pe)=>{const me=U.component=iJ(U,X,ce);if(bb(U)&&(me.ctx.renderer=re),oJ(me,!1,pe),me.asyncDep){if(ce&&ce.registerDep(me,I,pe),!U.el){const Ee=me.subTree=mt(Ui);m(null,Ee,q,Q)}}else I(me,U,q,Q,ce,te,pe)},R=(U,q,Q)=>{const X=q.component=U.component;if(QQ(U,q,Q))if(X.asyncDep&&!X.asyncResolved){P(X,q,Q);return}else X.next=q,X.update();else q.el=U.el,X.vnode=q},I=(U,q,Q,X,ce,te,pe)=>{const me=()=>{if(U.isMounted){let{next:fe,bu:xe,u:De,parent:He,vnode:pt}=U;{const Xt=pF(U);if(Xt){fe&&(fe.el=pt.el,P(U,fe,pe)),Xt.asyncDep.then(()=>{U.isUnmounted||me()});return}}let Re=fe,vt;If(U,!1),fe?(fe.el=pt.el,P(U,fe,pe)):fe=pt,xe&&K0(xe),(vt=fe.props&&fe.props.onVnodeBeforeUpdate)&&ws(vt,He,fe,pt),If(U,!0);const Ye=sM(U),It=U.subTree;U.subTree=Ye,v(It,Ye,f(It.el),D(It),U,ce,te),fe.el=Ye.el,Re===null&&JQ(U,Ye.el),De&&Fa(De,ce),(vt=fe.props&&fe.props.onVnodeUpdated)&&Fa(()=>ws(vt,He,fe,pt),ce)}else{let fe;const{el:xe,props:De}=q,{bm:He,m:pt,parent:Re,root:vt,type:Ye}=U,It=fd(q);If(U,!1),He&&K0(He),!It&&(fe=De&&De.onVnodeBeforeMount)&&ws(fe,Re,q),If(U,!0);{vt.ce&&vt.ce._injectChildStyle(Ye);const Xt=U.subTree=sM(U);v(null,Xt,Q,X,U,ce,te),q.el=Xt.el}if(pt&&Fa(pt,ce),!It&&(fe=De&&De.onVnodeMounted)){const Xt=q;Fa(()=>ws(fe,Re,Xt),ce)}(q.shapeFlag&256||Re&&fd(Re.vnode)&&Re.vnode.shapeFlag&256)&&U.a&&Fa(U.a,ce),U.isMounted=!0,q=Q=X=null}};U.scope.on();const Ee=U.effect=new pL(me);U.scope.off();const ke=U.update=Ee.run.bind(Ee),Ue=U.job=Ee.runIfDirty.bind(Ee);Ue.i=U,Ue.id=U.uid,Ee.scheduler=()=>RT(Ue),If(U,!0),ke()},P=(U,q,Q)=>{q.component=U;const X=U.vnode.props;U.vnode=q,U.next=null,LQ(U,q.props,X,Q),jQ(U,q.children,Q),pf(),K4(U),vf()},B=(U,q,Q,X,ce,te,pe,me,Ee=!1)=>{const ke=U&&U.children,Ue=U?U.shapeFlag:0,fe=q.children,{patchFlag:xe,shapeFlag:De}=q;if(xe>0){if(xe&128){V(ke,fe,Q,X,ce,te,pe,me,Ee);return}else if(xe&256){N(ke,fe,Q,X,ce,te,pe,me,Ee);return}}De&8?(Ue&16&&H(ke,ce,te),fe!==ke&&u(Q,fe)):Ue&16?De&16?V(ke,fe,Q,X,ce,te,pe,me,Ee):H(ke,ce,te,!0):(Ue&8&&u(Q,""),De&16&&A(fe,Q,X,ce,te,pe,me,Ee))},N=(U,q,Q,X,ce,te,pe,me,Ee)=>{U=U||X0,q=q||X0;const ke=U.length,Ue=q.length,fe=Math.min(ke,Ue);let xe;for(xe=0;xe<fe;xe++){const De=q[xe]=Ee?Ru(q[xe]):ec(q[xe]);v(U[xe],De,Q,null,ce,te,pe,me,Ee)}ke>Ue?H(U,ce,te,!0,!1,fe):A(q,Q,X,ce,te,pe,me,Ee,fe)},V=(U,q,Q,X,ce,te,pe,me,Ee)=>{let ke=0;const Ue=q.length;let fe=U.length-1,xe=Ue-1;for(;ke<=fe&&ke<=xe;){const De=U[ke],He=q[ke]=Ee?Ru(q[ke]):ec(q[ke]);if(Bu(De,He))v(De,He,Q,null,ce,te,pe,me,Ee);else break;ke++}for(;ke<=fe&&ke<=xe;){const De=U[fe],He=q[xe]=Ee?Ru(q[xe]):ec(q[xe]);if(Bu(De,He))v(De,He,Q,null,ce,te,pe,me,Ee);else break;fe--,xe--}if(ke>fe){if(ke<=xe){const De=xe+1,He=De<Ue?q[De].el:X;for(;ke<=xe;)v(null,q[ke]=Ee?Ru(q[ke]):ec(q[ke]),Q,He,ce,te,pe,me,Ee),ke++}}else if(ke>xe)for(;ke<=fe;)z(U[ke],ce,te,!0),ke++;else{const De=ke,He=ke,pt=new Map;for(ke=He;ke<=xe;ke++){const Lr=q[ke]=Ee?Ru(q[ke]):ec(q[ke]);Lr.key!=null&&pt.set(Lr.key,ke)}let Re,vt=0;const Ye=xe-He+1;let It=!1,Xt=0;const pn=new Array(Ye);for(ke=0;ke<Ye;ke++)pn[ke]=0;for(ke=De;ke<=fe;ke++){const Lr=U[ke];if(vt>=Ye){z(Lr,ce,te,!0);continue}let Na;if(Lr.key!=null)Na=pt.get(Lr.key);else for(Re=He;Re<=xe;Re++)if(pn[Re-He]===0&&Bu(Lr,q[Re])){Na=Re;break}Na===void 0?z(Lr,ce,te,!0):(pn[Na-He]=ke+1,Na>=Xt?Xt=Na:It=!0,v(Lr,q[Na],Q,null,ce,te,pe,me,Ee),vt++)}const Sa=It?GQ(pn):X0;for(Re=Sa.length-1,ke=Ye-1;ke>=0;ke--){const Lr=He+ke,Na=q[Lr],jl=Lr+1<Ue?q[Lr+1].el:X;pn[ke]===0?v(null,Na,Q,jl,ce,te,pe,me,Ee):It&&(Re<0||ke!==Sa[Re]?W(Na,Q,jl,2):Re--)}}},W=(U,q,Q,X,ce=null)=>{const{el:te,type:pe,transition:me,children:Ee,shapeFlag:ke}=U;if(ke&6){W(U.component.subTree,q,Q,X);return}if(ke&128){U.suspense.move(q,Q,X);return}if(ke&64){pe.move(U,q,Q,re);return}if(pe===Ve){r(te,q,Q);for(let fe=0;fe<Ee.length;fe++)W(Ee[fe],q,Q,X);r(U.anchor,q,Q);return}if(pe===ex){x(U,q,Q);return}if(X!==2&&ke&1&&me)if(X===0)me.beforeEnter(te),r(te,q,Q),Fa(()=>me.enter(te),ce);else{const{leave:fe,delayLeave:xe,afterLeave:De}=me,He=()=>r(te,q,Q),pt=()=>{fe(te,()=>{He(),De&&De()})};xe?xe(te,He,pt):pt()}else r(te,q,Q)},z=(U,q,Q,X=!1,ce=!1)=>{const{type:te,props:pe,ref:me,children:Ee,dynamicChildren:ke,shapeFlag:Ue,patchFlag:fe,dirs:xe,cacheIndex:De}=U;if(fe===-2&&(ce=!1),me!=null&&Tx(me,null,Q,U,!0),De!=null&&(q.renderCache[De]=void 0),Ue&256){q.ctx.deactivate(U);return}const He=Ue&1&&xe,pt=!fd(U);let Re;if(pt&&(Re=pe&&pe.onVnodeBeforeUnmount)&&ws(Re,q,U),Ue&6)F(U.component,Q,X);else{if(Ue&128){U.suspense.unmount(Q,X);return}He&&Pf(U,null,q,"beforeUnmount"),Ue&64?U.type.remove(U,q,Q,re,X):ke&&!ke.hasOnce&&(te!==Ve||fe>0&&fe&64)?H(ke,q,Q,!1,!0):(te===Ve&&fe&384||!ce&&Ue&16)&&H(Ee,q,Q),X&&j(U)}(pt&&(Re=pe&&pe.onVnodeUnmounted)||He)&&Fa(()=>{Re&&ws(Re,q,U),He&&Pf(U,null,q,"unmounted")},Q)},j=U=>{const{type:q,el:Q,anchor:X,transition:ce}=U;if(q===Ve){L(Q,X);return}if(q===ex){b(U);return}const te=()=>{a(Q),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(U.shapeFlag&1&&ce&&!ce.persisted){const{leave:pe,delayLeave:me}=ce,Ee=()=>pe(Q,te);me?me(U.el,te,Ee):Ee()}else te()},L=(U,q)=>{let Q;for(;U!==q;)Q=d(U),a(U),U=Q;a(q)},F=(U,q,Q)=>{const{bum:X,scope:ce,job:te,subTree:pe,um:me,m:Ee,a:ke}=U;Cx(Ee),Cx(ke),X&&K0(X),ce.stop(),te&&(te.flags|=8,z(pe,U,q,Q)),me&&Fa(me,q),Fa(()=>{U.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},H=(U,q,Q,X=!1,ce=!1,te=0)=>{for(let pe=te;pe<U.length;pe++)z(U[pe],q,Q,X,ce)},D=U=>{if(U.shapeFlag&6)return D(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const q=d(U.anchor||U.el),Q=q&&q[FL];return Q?d(Q):q};let G=!1;const K=(U,q,Q)=>{U==null?q._vnode&&z(q._vnode,null,null,!0):v(q._vnode||null,U,q,null,null,null,Q),q._vnode=U,G||(G=!0,K4(),NL(),G=!1)},re={p:v,um:z,m:W,r:j,mt:M,mc:A,pc:B,pbc:k,n:D,o:e};return{render:K,hydrate:void 0,createApp:NQ(K)}}function c_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function If({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function HQ(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function LT(e,t,n=!1){const r=e.children,a=t.children;if(Bt(r)&&Bt(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Ru(a[i]),s.el=o.el),!n&&s.patchFlag!==-2&&LT(o,s)),s.type===Eb&&(s.el=o.el)}}function GQ(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(a=n[n.length-1],e[a]<c){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<c?i=s+1:o=s;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function pF(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pF(t)}function Cx(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const WQ=Symbol.for("v-scx"),VQ=()=>Ls(WQ);function sn(e,t,n){return vF(e,t,n)}function vF(e,t,n=dr){const{immediate:r,deep:a,flush:i,once:o}=n,s=ci({},n),l=t&&r||!t&&i!=="post";let c;if(p1){if(i==="sync"){const h=VQ();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=dc,h.resume=dc,h.pause=dc,h}}const u=bi;s.call=(h,p,v)=>Tl(h,u,p,v);let f=!1;i==="post"?s.scheduler=h=>{Fa(h,u&&u.suspense)}:i!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():RT(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=sQ(e,t,s);return p1&&(c?c.push(d):l&&d()),d}function YQ(e,t,n){const r=this.proxy,a=Rr(e)?e.includes(".")?gF(r,e):()=>r[e]:e.bind(r,r);let i;Vt(t)?i=t:(i=t.handler,n=t);const o=yg(this),s=vF(a,i.bind(r),n);return o(),s}function gF(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const XQ=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${js(t)}Modifiers`]||e[`${hf(t)}Modifiers`];function qQ(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||dr;let a=n;const i=t.startsWith("update:"),o=i&&XQ(r,t.slice(7));o&&(o.trim&&(a=n.map(u=>Rr(u)?u.trim():u)),o.number&&(a=n.map(RS)));let s,l=r[s=t_(t)]||r[s=t_(js(t))];!l&&i&&(l=r[s=t_(hf(t))]),l&&Tl(l,e,6,a);const c=r[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Tl(c,e,6,a)}}function mF(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!Vt(e)){const l=c=>{const u=mF(c,t,!0);u&&(s=!0,ci(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(_r(e)&&r.set(e,null),null):(Bt(i)?i.forEach(l=>o[l]=null):ci(o,i),_r(e)&&r.set(e,o),o)}function _b(e,t){return!e||!pb(t)?!1:(t=t.slice(2).replace(/Once$/,""),Un(e,t[0].toLowerCase()+t.slice(1))||Un(e,hf(t))||Un(e,t))}function sM(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=kx(e);let m,y;try{if(n.shapeFlag&4){const b=a||r,E=b;m=ec(c.call(E,b,u,f,h,d,p)),y=s}else{const b=t;m=ec(b.length>1?b(f,{attrs:s,slots:o,emit:l}):b(f,null)),y=t.props?s:KQ(s)}}catch(b){Bv.length=0,xb(b,e,1),m=mt(Ui)}let x=m;if(y&&v!==!1){const b=Object.keys(y),{shapeFlag:E}=x;b.length&&E&7&&(i&&b.some(ET)&&(y=ZQ(y,i)),x=uu(x,y,!1,!0))}return n.dirs&&(x=uu(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&xh(x,n.transition),m=x,kx(g),m}const KQ=e=>{let t;for(const n in e)(n==="class"||n==="style"||pb(n))&&((t||(t={}))[n]=e[n]);return t},ZQ=(e,t)=>{const n={};for(const r in e)(!ET(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function QQ(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?lM(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!_b(c,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?lM(r,o,c):!0:!!o;return!1}function lM(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!_b(n,i))return!0}return!1}function JQ({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Mx=e=>e.__isSuspense;function eJ(e,t){t&&t.pendingBranch?Bt(e)?t.effects.push(...e):t.effects.push(e):uQ(e)}const Ve=Symbol.for("v-fgt"),Eb=Symbol.for("v-txt"),Ui=Symbol.for("v-cmt"),ex=Symbol.for("v-stc"),Bv=[];let Qo=null;function Z(e=!1){Bv.push(Qo=e?null:[])}function tJ(){Bv.pop(),Qo=Bv[Bv.length-1]||null}let h1=1;function cM(e,t=!1){h1+=e,e<0&&Qo&&t&&(Qo.hasOnce=!0)}function yF(e){return e.dynamicChildren=h1>0?Qo||X0:null,tJ(),h1>0&&Qo&&Qo.push(e),e}function ne(e,t,n,r,a,i){return yF(Y(e,t,n,r,a,i,!0))}function zt(e,t,n,r,a){return yF(mt(e,t,n,r,a,!0))}function bh(e){return e?e.__v_isVNode===!0:!1}function Bu(e,t){return e.type===t.type&&e.key===t.key}const xF=({key:e})=>e??null,tx=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Rr(e)||ba(e)||Vt(e)?{i:oi,r:e,k:t,f:!!n}:e:null);function Y(e,t=null,n=null,r=0,a=null,i=e===Ve?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xF(t),ref:t&&tx(t),scopeId:LL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:oi};return s?(FT(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Rr(n)?8:16),h1>0&&!o&&Qo&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Qo.push(l),l}const mt=nJ;function nJ(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===QL)&&(e=Ui),bh(e)){const s=uu(e,t,!0);return n&&FT(s,n),h1>0&&!i&&Qo&&(s.shapeFlag&6?Qo[Qo.indexOf(e)]=s:Qo.push(s)),s.patchFlag=-2,s}if(cJ(e)&&(e=e.__vccOpts),t){t=go(t);let{class:s,style:l}=t;s&&!Rr(s)&&(t.class=Qe(s)),_r(l)&&(IT(l)&&!Bt(l)&&(l=ci({},l)),t.style=We(l))}const o=Rr(e)?1:Mx(e)?128:BL(e)?64:_r(e)?4:Vt(e)?2:0;return Y(e,t,n,r,a,o,i,!0)}function go(e){return e?IT(e)||sF(e)?ci({},e):e:null}function uu(e,t,n=!1,r=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:l}=e,c=t?oa(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&xF(c),ref:t&&t.ref?n&&i?Bt(i)?i.concat(tx(t)):[i,tx(t)]:tx(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ve?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&uu(e.ssContent),ssFallback:e.ssFallback&&uu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&xh(u,l.clone(u)),u}function Jt(e=" ",t=0){return mt(Eb,null,e,t)}function uM(e,t){const n=mt(ex,null,e);return n.staticCount=t,n}function ye(e="",t=!1){return t?(Z(),zt(Ui,null,e)):mt(Ui,null,e)}function ec(e){return e==null||typeof e=="boolean"?mt(Ui):Bt(e)?mt(Ve,null,e.slice()):bh(e)?Ru(e):mt(Eb,null,String(e))}function Ru(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:uu(e)}function FT(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Bt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),FT(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!sF(t)?t._ctx=oi:a===3&&oi&&(oi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:oi},n=32):(t=String(t),r&64?(n=16,t=[Jt(t)]):n=8);e.children=t,e.shapeFlag|=n}function oa(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Qe([t.class,r.class]));else if(a==="style")t.style=We([t.style,r.style]);else if(pb(a)){const i=t[a],o=r[a];o&&i!==o&&!(Bt(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function ws(e,t,n,r=null){Tl(e,t,7,[n,r])}const rJ=aF();let aJ=0;function iJ(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||rJ,i={uid:aJ++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cF(r,a),emitsOptions:mF(r,a),emit:null,emitted:null,propsDefaults:dr,inheritAttrs:r.inheritAttrs,ctx:dr,data:dr,props:dr,attrs:dr,slots:dr,refs:dr,setupState:dr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=qQ.bind(null,i),e.ce&&e.ce(i),i}let bi=null;const Gs=()=>bi||oi;let Px,GS;{const e=mb(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Px=t("__VUE_INSTANCE_SETTERS__",n=>bi=n),GS=t("__VUE_SSR_SETTERS__",n=>p1=n)}const yg=e=>{const t=bi;return Px(e),e.scope.on(),()=>{e.scope.off(),Px(t)}},fM=()=>{bi&&bi.scope.off(),Px(null)};function bF(e){return e.vnode.shapeFlag&4}let p1=!1;function oJ(e,t=!1,n=!1){t&&GS(t);const{props:r,children:a}=e.vnode,i=bF(e);DQ(e,r,i,t),$Q(e,a,n);const o=i?sJ(e,t):void 0;return t&&GS(!1),o}function sJ(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,kQ);const{setup:r}=n;if(r){pf();const a=e.setupContext=r.length>1?_F(e):null,i=yg(e),o=gg(r,e,0,[e.props,a]),s=iL(o);if(vf(),i(),(s||e.sp)&&!fd(e)&&VL(e),s){if(o.then(fM,fM),t)return o.then(l=>{dM(e,l)}).catch(l=>{xb(l,e,0)});e.asyncDep=o}else dM(e,o)}else wF(e)}function dM(e,t,n){Vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_r(t)&&(e.setupState=PL(t)),wF(e)}function wF(e,t,n){const r=e.type;e.render||(e.render=r.render||dc);{const a=yg(e);pf();try{OQ(e)}finally{vf(),a()}}}const lJ={get(e,t){return ji(e,"get",""),e[t]}};function _F(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,lJ),slots:e.slots,emit:e.emit,expose:t}}function Sb(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(PL(KZ(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fv)return Fv[n](e)},has(t,n){return n in t||n in Fv}})):e.proxy}function WS(e,t=!0){return Vt(e)?e.displayName||e.name:e.name||t&&e.__name}function cJ(e){return Vt(e)&&"__vccOpts"in e}const je=(e,t)=>iQ(e,t,p1);function Ab(e,t,n){const r=arguments.length;return r===2?_r(t)&&!Bt(t)?bh(t)?mt(e,null,[t]):mt(e,t):mt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&bh(n)&&(n=[n]),mt(e,t,n))}const uJ="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let VS;const hM=typeof window<"u"&&window.trustedTypes;if(hM)try{VS=hM.createPolicy("vue",{createHTML:e=>e})}catch{}const EF=VS?e=>VS.createHTML(e):e=>e,fJ="http://www.w3.org/2000/svg",dJ="http://www.w3.org/1998/Math/MathML",Wc=typeof document<"u"?document:null,pM=Wc&&Wc.createElement("template"),hJ={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?Wc.createElementNS(fJ,e):t==="mathml"?Wc.createElementNS(dJ,e):n?Wc.createElement(e,{is:n}):Wc.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>Wc.createTextNode(e),createComment:e=>Wc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{pM.innerHTML=EF(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=pM.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_u="transition",Rp="animation",v1=Symbol("_vtc"),SF={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},pJ=ci({},zL,SF),vJ=e=>(e.displayName="Transition",e.props=pJ,e),cp=vJ((e,{slots:t})=>Ab(vQ,gJ(e),t)),Rf=(e,t=[])=>{Bt(e)?e.forEach(n=>n(...t)):e&&e(...t)},vM=e=>e?Bt(e)?e.some(t=>t.length>1):e.length>1:!1;function gJ(e){const t={};for(const O in e)O in SF||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=mJ(a),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:E,onBeforeAppear:_=m,onAppear:w=y,onAppearCancelled:A=x}=t,S=(O,C,M,R)=>{O._enterCancelled=R,Nf(O,C?u:s),Nf(O,C?c:o),M&&M()},k=(O,C)=>{O._isLeaving=!1,Nf(O,f),Nf(O,h),Nf(O,d),C&&C()},T=O=>(C,M)=>{const R=O?w:y,I=()=>S(C,O,M);Rf(R,[C,I]),gM(()=>{Nf(C,O?l:i),$c(C,O?u:s),vM(R)||mM(C,r,v,I)})};return ci(t,{onBeforeEnter(O){Rf(m,[O]),$c(O,i),$c(O,o)},onBeforeAppear(O){Rf(_,[O]),$c(O,l),$c(O,c)},onEnter:T(!1),onAppear:T(!0),onLeave(O,C){O._isLeaving=!0;const M=()=>k(O,C);$c(O,f),O._enterCancelled?($c(O,d),bM()):(bM(),$c(O,d)),gM(()=>{O._isLeaving&&(Nf(O,f),$c(O,h),vM(b)||mM(O,r,g,M))}),Rf(b,[O,M])},onEnterCancelled(O){S(O,!1,void 0,!0),Rf(x,[O])},onAppearCancelled(O){S(O,!0,void 0,!0),Rf(A,[O])},onLeaveCancelled(O){k(O),Rf(E,[O])}})}function mJ(e){if(e==null)return null;if(_r(e))return[u_(e.enter),u_(e.leave)];{const t=u_(e);return[t,t]}}function u_(e){return _Z(e)}function $c(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[v1]||(e[v1]=new Set)).add(t)}function Nf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[v1];n&&(n.delete(t),n.size||(e[v1]=void 0))}function gM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let yJ=0;function mM(e,t,n,r){const a=e._endId=++yJ,i=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=xJ(e,t);if(!o)return r();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),i()},d=h=>{h.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},s+1),e.addEventListener(c,d)}function xJ(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),a=r(`${_u}Delay`),i=r(`${_u}Duration`),o=yM(a,i),s=r(`${Rp}Delay`),l=r(`${Rp}Duration`),c=yM(s,l);let u=null,f=0,d=0;t===_u?o>0&&(u=_u,f=o,d=i.length):t===Rp?c>0&&(u=Rp,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?_u:Rp:null,d=u?u===_u?i.length:l.length:0);const h=u===_u&&/\b(transform|all)(,|$)/.test(r(`${_u}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function yM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>xM(n)+xM(e[r])))}function xM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function bM(){return document.body.offsetHeight}function bJ(e,t,n){const r=e[v1];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ix=Symbol("_vod"),AF=Symbol("_vsh"),nx={beforeMount(e,{value:t},{transition:n}){e[Ix]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Np(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Np(e,!0),r.enter(e)):r.leave(e,()=>{Np(e,!1)}):Np(e,t))},beforeUnmount(e,{value:t}){Np(e,t)}};function Np(e,t){e.style.display=t?e[Ix]:"none",e[AF]=!t}const wJ=Symbol(""),_J=/(^|;)\s*display\s*:/;function EJ(e,t,n){const r=e.style,a=Rr(n);let i=!1;if(n&&!a){if(t)if(Rr(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&rx(r,s,"")}else for(const o in t)n[o]==null&&rx(r,o,"");for(const o in n)o==="display"&&(i=!0),rx(r,o,n[o])}else if(a){if(t!==n){const o=r[wJ];o&&(n+=";"+o),r.cssText=n,i=_J.test(n)}}else t&&e.removeAttribute("style");Ix in e&&(e[Ix]=i?r.display:"",e[AF]&&(r.display="none"))}const wM=/\s*!important$/;function rx(e,t,n){if(Bt(n))n.forEach(r=>rx(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=SJ(e,t);wM.test(n)?e.setProperty(hf(r),n.replace(wM,""),"important"):e[r]=n}}const _M=["Webkit","Moz","ms"],f_={};function SJ(e,t){const n=f_[t];if(n)return n;let r=js(t);if(r!=="filter"&&r in e)return f_[t]=r;r=gb(r);for(let a=0;a<_M.length;a++){const i=_M[a]+r;if(i in e)return f_[t]=i}return t}const EM="http://www.w3.org/1999/xlink";function SM(e,t,n,r,a,i=OZ(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(EM,t.slice(6,t.length)):e.setAttributeNS(EM,t,n):n==null||i&&!cL(n)?e.removeAttribute(t):e.setAttribute(t,i?"":xu(n)?String(n):n)}function AM(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?EF(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=cL(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function N0(e,t,n,r){e.addEventListener(t,n,r)}function AJ(e,t,n,r){e.removeEventListener(t,n,r)}const kM=Symbol("_vei");function kJ(e,t,n,r,a=null){const i=e[kM]||(e[kM]={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=TJ(t);if(r){const c=i[t]=MJ(r,a);N0(e,s,c,l)}else o&&(AJ(e,s,o,l),i[t]=void 0)}}const TM=/(?:Once|Passive|Capture)$/;function TJ(e){let t;if(TM.test(e)){t={};let r;for(;r=e.match(TM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hf(e.slice(2)),t]}let d_=0;const OJ=Promise.resolve(),CJ=()=>d_||(OJ.then(()=>d_=0),d_=Date.now());function MJ(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Tl(PJ(r,n.value),t,5,[r])};return n.value=e,n.attached=CJ(),n}function PJ(e,t){if(Bt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const OM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,IJ=(e,t,n,r,a,i)=>{const o=a==="svg";t==="class"?bJ(e,r,o):t==="style"?EJ(e,n,r):pb(t)?ET(t)||kJ(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):RJ(e,t,r,o))?(AM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&SM(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Rr(r))?AM(e,js(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),SM(e,t,r,o))};function RJ(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&OM(t)&&Vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return OM(t)&&Rr(n)?!1:t in e}const CM=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Bt(t)?n=>K0(t,n):t};function NJ(e){e.target.composing=!0}function MM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const h_=Symbol("_assign"),dd={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[h_]=CM(a);const i=r||a.props&&a.props.type==="number";N0(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=RS(s)),e[h_](s)}),n&&N0(e,"change",()=>{e.value=e.value.trim()}),t||(N0(e,"compositionstart",NJ),N0(e,"compositionend",MM),N0(e,"change",MM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[h_]=CM(o),e.composing)return;const s=(i||e.type==="number")&&!/^0\d/.test(e.value)?RS(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===l)||(e.value=l))}},DJ=["ctrl","shift","alt","meta"],LJ={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>DJ.some(n=>e[`${n}Key`]&&!t.includes(n))},Ti=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=LJ[t[o]];if(s&&s(a,t))return}return e(a,...i)})},FJ={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nu=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const i=hf(a.key);if(t.some(o=>o===i||FJ[o]===i))return e(a)})},BJ=ci({patchProp:IJ},hJ);let PM;function kF(){return PM||(PM=zQ(BJ))}const IM=(...e)=>{kF().render(...e)},$J=(...e)=>{const t=kF().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=zJ(r);if(!a)return;const i=t._component;!Vt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,jJ(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function jJ(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zJ(e){return Rr(e)?document.querySelector(e):e}function UJ(){return TF().__VUE_DEVTOOLS_GLOBAL_HOOK__}function TF(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const HJ=typeof Proxy=="function",GJ="devtools-plugin:setup",WJ="plugin:settings:set";let g0,YS;function VJ(){var e;return g0!==void 0||(typeof window<"u"&&window.performance?(g0=!0,YS=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(g0=!0,YS=globalThis.perf_hooks.performance):g0=!1),g0}function YJ(){return VJ()?YS.now():Date.now()}class XJ{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const s=t.settings[o];r[o]=s.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),s=JSON.parse(o);Object.assign(i,s)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return YJ()}},n&&n.on(WJ,(o,s)=>{o===this.plugin.id&&this.fallbacks.setSettings(s)}),this.proxiedOn=new Proxy({},{get:(o,s)=>this.target?this.target.on[s]:(...l)=>{this.onQueue.push({method:s,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,s)=>this.target?this.target[s]:s==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(s)?(...l)=>(this.targetQueue.push({method:s,args:l,resolve:()=>{}}),this.fallbacks[s](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:s,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function qJ(e,t){const n=e,r=TF(),a=UJ(),i=HJ&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(GJ,e,t);else{const o=i?new XJ(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var OF="store";function Rl(e){return e===void 0&&(e=null),Ls(e!==null?e:OF)}function up(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function KJ(e){return e!==null&&typeof e=="object"}function ZJ(e){return e&&typeof e.then=="function"}function QJ(e,t){return function(){return e(t)}}function CF(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function MF(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;kb(e,n,[],e._modules.root,!0),BT(e,n,t)}function BT(e,t,n){var r=e._state,a=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={},s={},l=CZ(!0);l.run(function(){up(i,function(c,u){o[u]=QJ(c,e),s[u]=je(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return s[u].value},enumerable:!0})})}),e._state=Ic({data:t}),e._scope=l,e.strict&&ree(e),r&&n&&e._withCommit(function(){r.data=null}),a&&a.stop()}function kb(e,t,n,r,a){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!a){var s=$T(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=r.state})}var c=r.context=JJ(e,o,n);r.forEachMutation(function(u,f){var d=o+f;eee(e,d,u,c)}),r.forEachAction(function(u,f){var d=u.root?f:o+f,h=u.handler||u;tee(e,d,h,c)}),r.forEachGetter(function(u,f){var d=o+f;nee(e,d,u,c)}),r.forEachChild(function(u,f){kb(e,t,n.concat(f),u,a)})}function JJ(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(i,o,s){var l=Rx(i,o,s),c=l.payload,u=l.options,f=l.type;return(!u||!u.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(i,o,s){var l=Rx(i,o,s),c=l.payload,u=l.options,f=l.type;(!u||!u.root)&&(f=t+f),e.commit(f,c,u)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return PF(e,t)}},state:{get:function(){return $T(e.state,n)}}}),a}function PF(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var i=a.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function eee(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function tee(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var s=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return ZJ(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function nee(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function ree(e){sn(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function $T(e,t){return t.reduce(function(n,r){return n[r]},e)}function Rx(e,t,n){return KJ(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var aee="vuex bindings",RM="vuex:mutations",p_="vuex:actions",m0="vuex",iee=0;function oee(e,t){qJ({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[aee]},function(n){n.addTimelineLayer({id:RM,label:"Vuex Mutations",color:NM}),n.addTimelineLayer({id:p_,label:"Vuex Actions",color:NM}),n.addInspector({id:m0,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===m0)if(r.filter){var a=[];DF(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[NF(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===m0){var a=r.nodeId;PF(t,a),r.state=cee(fee(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===m0){var a=r.nodeId,i=r.path;a!=="root"&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,a){var i={};r.payload&&(i.payload=r.payload),i.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(m0),n.sendInspectorState(m0),n.addTimelineEvent({layerId:RM,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,a){var i={};r.payload&&(i.payload=r.payload),r._id=iee++,r._time=Date.now(),i.state=a,n.addTimelineEvent({layerId:p_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,a){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=a,n.addTimelineEvent({layerId:p_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var NM=8702998,see=6710886,lee=16777215,IF={label:"namespaced",textColor:lee,backgroundColor:see};function RF(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function NF(e,t){return{id:t||"root",label:RF(t),tags:e.namespaced?[IF]:[],children:Object.keys(e._children).map(function(n){return NF(e._children[n],t+n+"/")})}}function DF(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[IF]:[]}),Object.keys(t._children).forEach(function(a){DF(e,t._children[a],n,r+a+"/")})}function cee(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=uee(t);a.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?RF(o):o,editable:!1,value:XS(function(){return i[o]})}})}return a}function uee(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,i=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[i]=XS(function(){return e[n]})}else t[n]=XS(function(){return e[n]})}),t}function fee(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,i){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function XS(e){try{return e()}catch(t){return t}}var Nl=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},LF={namespaced:{configurable:!0}};LF.namespaced.get=function(){return!!this._rawModule.namespaced};Nl.prototype.addChild=function(t,n){this._children[t]=n};Nl.prototype.removeChild=function(t){delete this._children[t]};Nl.prototype.getChild=function(t){return this._children[t]};Nl.prototype.hasChild=function(t){return t in this._children};Nl.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Nl.prototype.forEachChild=function(t){up(this._children,t)};Nl.prototype.forEachGetter=function(t){this._rawModule.getters&&up(this._rawModule.getters,t)};Nl.prototype.forEachAction=function(t){this._rawModule.actions&&up(this._rawModule.actions,t)};Nl.prototype.forEachMutation=function(t){this._rawModule.mutations&&up(this._rawModule.mutations,t)};Object.defineProperties(Nl.prototype,LF);var Kd=function(t){this.register([],t,!1)};Kd.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Kd.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};Kd.prototype.update=function(t){FF([],this.root,t)};Kd.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var i=new Nl(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&up(n.modules,function(s,l){a.register(t.concat(l),s,r)})};Kd.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);a&&a.runtime&&n.removeChild(r)};Kd.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function FF(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;FF(e.concat(r),t.getChild(r),n.modules[r])}}function dee(e){return new Uo(e)}var Uo=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Kd(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(d,h){return l.call(o,d,h)},this.commit=function(d,h,p){return c.call(o,d,h,p)},this.strict=a;var u=this._modules.root.state;kb(this,u,[],this._modules.root),BT(this,u),r.forEach(function(f){return f(n)})},jT={state:{configurable:!0}};Uo.prototype.install=function(t,n){t.provide(n||OF,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&oee(t,this)};jT.state.get=function(){return this._state.data};jT.state.set=function(e){};Uo.prototype.commit=function(t,n,r){var a=this,i=Rx(t,n,r),o=i.type,s=i.payload,l={type:o,payload:s},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(f){f(s)})}),this._subscribers.slice().forEach(function(u){return u(l,a.state)}))};Uo.prototype.dispatch=function(t,n){var r=this,a=Rx(t,n),i=a.type,o=a.payload,s={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(s,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,f){c.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,r.state,d)})}catch{}f(d)})})}};Uo.prototype.subscribe=function(t,n){return CF(t,this._subscribers,n)};Uo.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return CF(r,this._actionSubscribers,n)};Uo.prototype.watch=function(t,n,r){var a=this;return sn(function(){return t(a.state,a.getters)},n,Object.assign({},r))};Uo.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Uo.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),kb(this,this.state,t,this._modules.get(t),r.preserveState),BT(this,this.state)};Uo.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=$T(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),MF(this)};Uo.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Uo.prototype.hotUpdate=function(t){this._modules.update(t),MF(this,!0)};Uo.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Uo.prototype,jT);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const D0=typeof document<"u";function BF(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hee(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&BF(e.default)}const zn=Object.assign;function v_(e,t){const n={};for(const r in t){const a=t[r];n[r]=Ol(a)?a.map(e):e(a)}return n}const $v=()=>{},Ol=Array.isArray,$F=/#/g,pee=/&/g,vee=/\//g,gee=/=/g,mee=/\?/g,jF=/\+/g,yee=/%5B/g,xee=/%5D/g,zF=/%5E/g,bee=/%60/g,UF=/%7B/g,wee=/%7C/g,HF=/%7D/g,_ee=/%20/g;function zT(e){return encodeURI(""+e).replace(wee,"|").replace(yee,"[").replace(xee,"]")}function Eee(e){return zT(e).replace(UF,"{").replace(HF,"}").replace(zF,"^")}function qS(e){return zT(e).replace(jF,"%2B").replace(_ee,"+").replace($F,"%23").replace(pee,"%26").replace(bee,"`").replace(UF,"{").replace(HF,"}").replace(zF,"^")}function See(e){return qS(e).replace(gee,"%3D")}function Aee(e){return zT(e).replace($F,"%23").replace(mee,"%3F")}function kee(e){return e==null?"":Aee(e).replace(vee,"%2F")}function g1(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Tee=/\/$/,Oee=e=>e.replace(Tee,"");function g_(e,t,n="/"){let r,a={},i="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,s>-1?s:t.length),a=e(i)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=Iee(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:g1(o)}}function Cee(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function DM(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Mee(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&wh(t.matched[r],n.matched[a])&&GF(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function wh(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function GF(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Pee(e[n],t[n]))return!1;return!0}function Pee(e,t){return Ol(e)?LM(e,t):Ol(t)?LM(t,e):e===t}function LM(e,t){return Ol(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Iee(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Eu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var m1;(function(e){e.pop="pop",e.push="push"})(m1||(m1={}));var jv;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jv||(jv={}));function Ree(e){if(!e)if(D0){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Oee(e)}const Nee=/^[^#]+#/;function Dee(e,t){return e.replace(Nee,"#")+t}function Lee(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Tb=()=>({left:window.scrollX,top:window.scrollY});function Fee(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Lee(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function FM(e,t){return(history.state?history.state.position-t:-1)+e}const KS=new Map;function Bee(e,t){KS.set(e,t)}function $ee(e){const t=KS.get(e);return KS.delete(e),t}let jee=()=>location.protocol+"//"+location.host;function WF(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(s);return l[0]!=="/"&&(l="/"+l),DM(l,"")}return DM(n,e)+r+a}function zee(e,t,n,r){let a=[],i=[],o=null;const s=({state:d})=>{const h=WF(e,location),p=n.value,v=t.value;let g=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}g=v?d.position-v.position:0}else r(h);a.forEach(m=>{m(n.value,p,{delta:g,type:m1.pop,direction:g?g>0?jv.forward:jv.back:jv.unknown})})};function l(){o=n.value}function c(d){a.push(d);const h=()=>{const p=a.indexOf(d);p>-1&&a.splice(p,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(zn({},d.state,{scroll:Tb()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function BM(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Tb():null}}function Uee(e){const{history:t,location:n}=window,r={value:WF(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:jee()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),a.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=zn({},t.state,BM(a.value.back,l,a.value.forward,!0),c,{position:a.value.position});i(l,u,!0),r.value=l}function s(l,c){const u=zn({},a.value,t.state,{forward:l,scroll:Tb()});i(u.current,u,!0);const f=zn({},BM(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:a,push:s,replace:o}}function Hee(e){e=Ree(e);const t=Uee(e),n=zee(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=zn({location:"",base:e,go:r,createHref:Dee.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Gee(e){return typeof e=="string"||e&&typeof e=="object"}function VF(e){return typeof e=="string"||typeof e=="symbol"}const YF=Symbol("");var $M;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($M||($M={}));function _h(e,t){return zn(new Error,{type:e,[YF]:!0},t)}function jc(e,t){return e instanceof Error&&YF in e&&(t==null||!!(e.type&t))}const jM="[^/]+?",Wee={sensitive:!1,strict:!1,start:!0,end:!0},Vee=/[.+*?^${}()[\]/\\]/g;function Yee(e,t){const n=zn({},Wee,t),r=[];let a=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(a+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(Vee,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:v,optional:g,regexp:m}=d;i.push({name:p,repeatable:v,optional:g});const y=m||jM;if(y!==jM){h+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+b.message)}}let x=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=g&&c.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),a+=x,h+=20,g&&(h+=-8),v&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function s(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=i[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:v,optional:g}=h,m=p in c?c[p]:"";if(Ol(m)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Ol(m)?m.join("/"):m;if(!y)if(g)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:i,parse:s,stringify:l}}function Xee(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function XF(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=Xee(r[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-r.length)===1){if(zM(r))return 1;if(zM(a))return-1}return a.length-r.length}function zM(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const qee={type:0,value:""},Kee=/[a-zA-Z0-9_]/;function Zee(e){if(!e)return[[]];if(e==="/")return[[qee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Kee.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),a}function Qee(e,t,n){const r=Yee(Zee(e.path),n),a=zn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Jee(e,t){const n=[],r=new Map;t=WM({strict:!1,end:!0,sensitive:!1},t);function a(f){return r.get(f)}function i(f,d,h){const p=!h,v=HM(f);v.aliasOf=h&&h.record;const g=WM(t,f),m=[v];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of b)m.push(HM(zn({},v,{components:h?h.record.components:v.components,path:E,aliasOf:h?h.record:v})))}let y,x;for(const b of m){const{path:E}=b;if(d&&E[0]!=="/"){const _=d.record.path,w=_[_.length-1]==="/"?"":"/";b.path=d.record.path+(E&&w+E)}if(y=Qee(b,d,g),h?h.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),p&&f.name&&!GM(y)&&o(f.name)),qF(y)&&l(y),v.children){const _=v.children;for(let w=0;w<_.length;w++)i(_[w],y,h&&h.children[w])}h=h||y}return x?()=>{o(x)}:$v}function o(f){if(VF(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function s(){return n}function l(f){const d=nte(f,n);n.splice(d,0,f),f.record.name&&!GM(f)&&r.set(f.record.name,f)}function c(f,d){let h,p={},v,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw _h(1,{location:f});g=h.record.name,p=zn(UM(d.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&UM(f.params,h.keys.map(x=>x.name))),v=h.stringify(p)}else if(f.path!=null)v=f.path,h=n.find(x=>x.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(x=>x.re.test(d.path)),!h)throw _h(1,{location:f,currentLocation:d});g=h.record.name,p=zn({},d.params,f.params),v=h.stringify(p)}const m=[];let y=h;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:v,params:p,matched:m,meta:tte(m)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:a}}function UM(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function HM(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ete(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ete(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function GM(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function tte(e){return e.reduce((t,n)=>zn(t,n.meta),{})}function WM(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function nte(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;XF(e,t[i])<0?r=i:n=i+1}const a=rte(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function rte(e){let t=e;for(;t=t.parent;)if(qF(t)&&XF(e,t)===0)return t}function qF({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ate(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(jF," "),o=i.indexOf("="),s=g1(o<0?i:i.slice(0,o)),l=o<0?null:g1(i.slice(o+1));if(s in t){let c=t[s];Ol(c)||(c=t[s]=[c]),c.push(l)}else t[s]=l}return t}function VM(e){let t="";for(let n in e){const r=e[n];if(n=See(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ol(r)?r.map(i=>i&&qS(i)):[r&&qS(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ite(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ol(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const ote=Symbol(""),YM=Symbol(""),Ob=Symbol(""),UT=Symbol(""),ZS=Symbol("");function Dp(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Nu(e,t,n,r,a,i=o=>o()){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((s,l)=>{const c=d=>{d===!1?l(_h(4,{from:n,to:t})):d instanceof Error?l(d):Gee(d)?l(_h(2,{from:t,to:d})):(o&&r.enterCallbacks[a]===o&&typeof d=="function"&&o.push(d),s())},u=i(()=>e.call(r&&r.instances[a],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function m_(e,t,n,r,a=i=>i()){const i=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(BF(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Nu(u,n,r,o,s,a))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const f=hee(u)?u.default:u;o.mods[s]=u,o.components[s]=f;const h=(f.__vccOpts||f)[t];return h&&Nu(h,n,r,o,s,a)()}))}}return i}function XM(e){const t=Ls(Ob),n=Ls(UT),r=je(()=>{const l=J(e.to);return t.resolve(l)}),a=je(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(wh.bind(null,u));if(d>-1)return d;const h=qM(l[c-2]);return c>1&&qM(u)===h&&f[f.length-1].path!==h?f.findIndex(wh.bind(null,l[c-2])):d}),i=je(()=>a.value>-1&&fte(n.params,r.value.params)),o=je(()=>a.value>-1&&a.value===n.matched.length-1&&GF(n.params,r.value.params));function s(l={}){if(ute(l)){const c=t[J(e.replace)?"replace":"push"](J(e.to)).catch($v);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:je(()=>r.value.href),isActive:i,isExactActive:o,navigate:s}}function ste(e){return e.length===1?e[0]:e}const lte=ln({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:XM,setup(e,{slots:t}){const n=Ic(XM(e)),{options:r}=Ls(Ob),a=je(()=>({[KM(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[KM(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ste(t.default(n));return e.custom?i:Ab("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),cte=lte;function ute(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fte(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Ol(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function qM(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const KM=(e,t,n)=>e??t??n,dte=ln({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ls(ZS),a=je(()=>e.route||r.value),i=Ls(YM,0),o=je(()=>{let c=J(i);const{matched:u}=a.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),s=je(()=>a.value.matched[o.value]);Jy(YM,je(()=>o.value+1)),Jy(ote,s),Jy(ZS,a);const l=Ce();return sn(()=>[l.value,s.value,e.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!wh(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=a.value,u=e.name,f=s.value,d=f&&f.components[u];if(!d)return ZM(n.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,g=Ab(d,zn({},p,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return ZM(n.default,{Component:g,route:c})||g}}});function ZM(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hte=dte;function pte(e){const t=Jee(e.routes,e),n=e.parseQuery||ate,r=e.stringifyQuery||VM,a=e.history,i=Dp(),o=Dp(),s=Dp(),l=ZZ(Eu);let c=Eu;D0&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=v_.bind(null,D=>""+D),f=v_.bind(null,kee),d=v_.bind(null,g1);function h(D,G){let K,re;return VF(D)?(K=t.getRecordMatcher(D),re=G):re=D,t.addRoute(re,K)}function p(D){const G=t.getRecordMatcher(D);G&&t.removeRoute(G)}function v(){return t.getRoutes().map(D=>D.record)}function g(D){return!!t.getRecordMatcher(D)}function m(D,G){if(G=zn({},G||l.value),typeof D=="string"){const Q=g_(n,D,G.path),X=t.resolve({path:Q.path},G),ce=a.createHref(Q.fullPath);return zn(Q,X,{params:d(X.params),hash:g1(Q.hash),redirectedFrom:void 0,href:ce})}let K;if(D.path!=null)K=zn({},D,{path:g_(n,D.path,G.path).path});else{const Q=zn({},D.params);for(const X in Q)Q[X]==null&&delete Q[X];K=zn({},D,{params:f(Q)}),G.params=f(G.params)}const re=t.resolve(K,G),ie=D.hash||"";re.params=u(d(re.params));const U=Cee(r,zn({},D,{hash:Eee(ie),path:re.path})),q=a.createHref(U);return zn({fullPath:U,hash:ie,query:r===VM?ite(D.query):D.query||{}},re,{redirectedFrom:void 0,href:q})}function y(D){return typeof D=="string"?g_(n,D,l.value.path):zn({},D)}function x(D,G){if(c!==D)return _h(8,{from:G,to:D})}function b(D){return w(D)}function E(D){return b(zn(y(D),{replace:!0}))}function _(D){const G=D.matched[D.matched.length-1];if(G&&G.redirect){const{redirect:K}=G;let re=typeof K=="function"?K(D):K;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=y(re):{path:re},re.params={}),zn({query:D.query,hash:D.hash,params:re.path!=null?{}:D.params},re)}}function w(D,G){const K=c=m(D),re=l.value,ie=D.state,U=D.force,q=D.replace===!0,Q=_(K);if(Q)return w(zn(y(Q),{state:typeof Q=="object"?zn({},ie,Q.state):ie,force:U,replace:q}),G||K);const X=K;X.redirectedFrom=G;let ce;return!U&&Mee(r,re,K)&&(ce=_h(16,{to:X,from:re}),W(re,re,!0,!1)),(ce?Promise.resolve(ce):k(X,re)).catch(te=>jc(te)?jc(te,2)?te:V(te):B(te,X,re)).then(te=>{if(te){if(jc(te,2))return w(zn({replace:q},y(te.to),{state:typeof te.to=="object"?zn({},ie,te.to.state):ie,force:U}),G||X)}else te=O(X,re,!0,q,ie);return T(X,re,te),te})}function A(D,G){const K=x(D,G);return K?Promise.reject(K):Promise.resolve()}function S(D){const G=L.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(D):D()}function k(D,G){let K;const[re,ie,U]=vte(D,G);K=m_(re.reverse(),"beforeRouteLeave",D,G);for(const Q of re)Q.leaveGuards.forEach(X=>{K.push(Nu(X,D,G))});const q=A.bind(null,D,G);return K.push(q),H(K).then(()=>{K=[];for(const Q of i.list())K.push(Nu(Q,D,G));return K.push(q),H(K)}).then(()=>{K=m_(ie,"beforeRouteUpdate",D,G);for(const Q of ie)Q.updateGuards.forEach(X=>{K.push(Nu(X,D,G))});return K.push(q),H(K)}).then(()=>{K=[];for(const Q of U)if(Q.beforeEnter)if(Ol(Q.beforeEnter))for(const X of Q.beforeEnter)K.push(Nu(X,D,G));else K.push(Nu(Q.beforeEnter,D,G));return K.push(q),H(K)}).then(()=>(D.matched.forEach(Q=>Q.enterCallbacks={}),K=m_(U,"beforeRouteEnter",D,G,S),K.push(q),H(K))).then(()=>{K=[];for(const Q of o.list())K.push(Nu(Q,D,G));return K.push(q),H(K)}).catch(Q=>jc(Q,8)?Q:Promise.reject(Q))}function T(D,G,K){s.list().forEach(re=>S(()=>re(D,G,K)))}function O(D,G,K,re,ie){const U=x(D,G);if(U)return U;const q=G===Eu,Q=D0?history.state:{};K&&(re||q?a.replace(D.fullPath,zn({scroll:q&&Q&&Q.scroll},ie)):a.push(D.fullPath,ie)),l.value=D,W(D,G,K,q),V()}let C;function M(){C||(C=a.listen((D,G,K)=>{if(!F.listening)return;const re=m(D),ie=_(re);if(ie){w(zn(ie,{replace:!0,force:!0}),re).catch($v);return}c=re;const U=l.value;D0&&Bee(FM(U.fullPath,K.delta),Tb()),k(re,U).catch(q=>jc(q,12)?q:jc(q,2)?(w(zn(y(q.to),{force:!0}),re).then(Q=>{jc(Q,20)&&!K.delta&&K.type===m1.pop&&a.go(-1,!1)}).catch($v),Promise.reject()):(K.delta&&a.go(-K.delta,!1),B(q,re,U))).then(q=>{q=q||O(re,U,!1),q&&(K.delta&&!jc(q,8)?a.go(-K.delta,!1):K.type===m1.pop&&jc(q,20)&&a.go(-1,!1)),T(re,U,q)}).catch($v)}))}let R=Dp(),I=Dp(),P;function B(D,G,K){V(D);const re=I.list();return re.length?re.forEach(ie=>ie(D,G,K)):console.error(D),Promise.reject(D)}function N(){return P&&l.value!==Eu?Promise.resolve():new Promise((D,G)=>{R.add([D,G])})}function V(D){return P||(P=!D,M(),R.list().forEach(([G,K])=>D?K(D):G()),R.reset()),D}function W(D,G,K,re){const{scrollBehavior:ie}=e;if(!D0||!ie)return Promise.resolve();const U=!K&&$ee(FM(D.fullPath,0))||(re||!K)&&history.state&&history.state.scroll||null;return Hn().then(()=>ie(D,G,U)).then(q=>q&&Fee(q)).catch(q=>B(q,D,G))}const z=D=>a.go(D);let j;const L=new Set,F={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:m,options:e,push:b,replace:E,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:I.add,isReady:N,install(D){const G=this;D.component("RouterLink",cte),D.component("RouterView",hte),D.config.globalProperties.$router=G,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>J(l)}),D0&&!j&&l.value===Eu&&(j=!0,b(a.location).catch(ie=>{}));const K={};for(const ie in Eu)Object.defineProperty(K,ie,{get:()=>l.value[ie],enumerable:!0});D.provide(Ob,G),D.provide(UT,OL(K)),D.provide(ZS,l);const re=D.unmount;L.add(D),D.unmount=function(){L.delete(D),L.size<1&&(c=Eu,C&&C(),C=null,l.value=Eu,j=!1,P=!1),re()}}};function H(D){return D.reduce((G,K)=>G.then(()=>S(K)),Promise.resolve())}return F}function vte(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(c=>wh(c,s))?r.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(c=>wh(c,l))||a.push(l))}return[n,r,a]}function KF(){return Ls(Ob)}function gte(e){return Ls(UT)}const Jl=class Jl{constructor(){this.baseUrl="",this.apiUrl="admin/",this.socketUrl="",Jl.mode=="dev"?(this.baseUrl="http://localhost:9000/",this.socketUrl="ws://127.0.0.1:9001"):(this.baseUrl="https://php.webmis.vip/",this.socketUrl="wss://php.webmis.vip/wss"),this.apiUrl=this.baseUrl+this.apiUrl}request(){return{headers:{"Content-Type":"application/json;charset=utf-8"},responseType:"json",timeout:18e4}}socket(){return{start:Jl.isSocket,server:this.socketUrl,channel:"admin",time:3e3,heartbeat:1e4}}static tinymce(){return{key:"dm9pn8sfmiyaalv1r49hvf8ww9x8denshvuhp1tf7z51k6jj"}}static LangList(){return[{label:"English",value:"en_US"},{label:"简体中文",value:"zh_CN"}]}};Jl.mode="",Jl.isSocket=!0,Jl.title="WebMIS",Jl.version="3.0.0",Jl.lang="zh_CN",Jl.copy="©"+new Date().getFullYear()+" webmis.vip";let wl=Jl;function ZF(e,t){return function(){return e.apply(t,arguments)}}const{toString:mte}=Object.prototype,{getPrototypeOf:HT}=Object,Cb=(e=>t=>{const n=mte.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dl=e=>(e=e.toLowerCase(),t=>Cb(t)===e),Mb=e=>t=>typeof t===e,{isArray:fp}=Array,y1=Mb("undefined");function yte(e){return e!==null&&!y1(e)&&e.constructor!==null&&!y1(e.constructor)&&ts(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QF=Dl("ArrayBuffer");function xte(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QF(e.buffer),t}const bte=Mb("string"),ts=Mb("function"),JF=Mb("number"),Pb=e=>e!==null&&typeof e=="object",wte=e=>e===!0||e===!1,ax=e=>{if(Cb(e)!=="object")return!1;const t=HT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_te=Dl("Date"),Ete=Dl("File"),Ste=Dl("Blob"),Ate=Dl("FileList"),kte=e=>Pb(e)&&ts(e.pipe),Tte=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ts(e.append)&&((t=Cb(e))==="formdata"||t==="object"&&ts(e.toString)&&e.toString()==="[object FormData]"))},Ote=Dl("URLSearchParams"),[Cte,Mte,Pte,Ite]=["ReadableStream","Request","Response","Headers"].map(Dl),Rte=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),fp(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function e7(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const td=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t7=e=>!y1(e)&&e!==td;function QS(){const{caseless:e}=t7(this)&&this||{},t={},n=(r,a)=>{const i=e&&e7(t,a)||a;ax(t[i])&&ax(r)?t[i]=QS(t[i],r):ax(r)?t[i]=QS({},r):fp(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xg(arguments[r],n);return t}const Nte=(e,t,n,{allOwnKeys:r}={})=>(xg(t,(a,i)=>{n&&ts(a)?e[i]=ZF(a,n):e[i]=a},{allOwnKeys:r}),e),Dte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Lte=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Fte=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&HT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Bte=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$te=e=>{if(!e)return null;if(fp(e))return e;let t=e.length;if(!JF(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},jte=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&HT(Uint8Array)),zte=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Ute=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Hte=Dl("HTMLFormElement"),Gte=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),QM=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Wte=Dl("RegExp"),n7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xg(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Vte=e=>{n7(e,(t,n)=>{if(ts(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ts(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Yte=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return fp(e)?r(e):r(String(e).split(t)),n},Xte=()=>{},qte=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Kte(e){return!!(e&&ts(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Zte=e=>{const t=new Array(10),n=(r,a)=>{if(Pb(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=fp(r)?[]:{};return xg(r,(o,s)=>{const l=n(o,a+1);!y1(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},Qte=Dl("AsyncFunction"),Jte=e=>e&&(Pb(e)||ts(e))&&ts(e.then)&&ts(e.catch),r7=((e,t)=>e?setImmediate:t?((n,r)=>(td.addEventListener("message",({source:a,data:i})=>{a===td&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),td.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ts(td.postMessage)),ene=typeof queueMicrotask<"u"?queueMicrotask.bind(td):typeof process<"u"&&process.nextTick||r7,Pe={isArray:fp,isArrayBuffer:QF,isBuffer:yte,isFormData:Tte,isArrayBufferView:xte,isString:bte,isNumber:JF,isBoolean:wte,isObject:Pb,isPlainObject:ax,isReadableStream:Cte,isRequest:Mte,isResponse:Pte,isHeaders:Ite,isUndefined:y1,isDate:_te,isFile:Ete,isBlob:Ste,isRegExp:Wte,isFunction:ts,isStream:kte,isURLSearchParams:Ote,isTypedArray:jte,isFileList:Ate,forEach:xg,merge:QS,extend:Nte,trim:Rte,stripBOM:Dte,inherits:Lte,toFlatObject:Fte,kindOf:Cb,kindOfTest:Dl,endsWith:Bte,toArray:$te,forEachEntry:zte,matchAll:Ute,isHTMLForm:Hte,hasOwnProperty:QM,hasOwnProp:QM,reduceDescriptors:n7,freezeMethods:Vte,toObjectSet:Yte,toCamelCase:Gte,noop:Xte,toFiniteNumber:qte,findKey:e7,global:td,isContextDefined:t7,isSpecCompliantForm:Kte,toJSONObject:Zte,isAsyncFn:Qte,isThenable:Jte,setImmediate:r7,asap:ene};function tn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Pe.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const a7=tn.prototype,i7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{i7[e]={value:e}});Object.defineProperties(tn,i7);Object.defineProperty(a7,"isAxiosError",{value:!0});tn.from=(e,t,n,r,a,i)=>{const o=Object.create(a7);return Pe.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),tn.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const tne=null;function JS(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function o7(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function JM(e,t,n){return e?e.concat(t).map(function(a,i){return a=o7(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function nne(e){return Pe.isArray(e)&&!e.some(JS)}const rne=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Ib(e,t,n){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Pe.isUndefined(g[v])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(a))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Pe.isDate(p))return p.toISOString();if(!l&&Pe.isBlob(p))throw new tn("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(p)||Pe.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,g){let m=p;if(p&&!g&&typeof p=="object"){if(Pe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(Pe.isArray(p)&&nne(p)||(Pe.isFileList(p)||Pe.endsWith(v,"[]"))&&(m=Pe.toArray(p)))return v=o7(v),m.forEach(function(x,b){!(Pe.isUndefined(x)||x===null)&&t.append(o===!0?JM([v],b,i):o===null?v:v+"[]",c(x))}),!1}return JS(p)?!0:(t.append(JM(g,v,i),c(p)),!1)}const f=[],d=Object.assign(rne,{defaultVisitor:u,convertValue:c,isVisitable:JS});function h(p,v){if(!Pe.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),Pe.forEach(p,function(m,y){(!(Pe.isUndefined(m)||m===null)&&a.call(t,m,Pe.isString(y)?y.trim():y,v,d))===!0&&h(m,v?v.concat(y):[y])}),f.pop()}}if(!Pe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function eP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function GT(e,t){this._pairs=[],e&&Ib(e,this,t)}const s7=GT.prototype;s7.append=function(t,n){this._pairs.push([t,n])};s7.toString=function(t){const n=t?function(r){return t.call(this,r,eP)}:eP;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ane(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l7(e,t,n){if(!t)return e;const r=n&&n.encode||ane;Pe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Pe.isURLSearchParams(t)?t.toString():new GT(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class tP{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const c7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ine=typeof URLSearchParams<"u"?URLSearchParams:GT,one=typeof FormData<"u"?FormData:null,sne=typeof Blob<"u"?Blob:null,lne={isBrowser:!0,classes:{URLSearchParams:ine,FormData:one,Blob:sne},protocols:["http","https","file","blob","url","data"]},WT=typeof window<"u"&&typeof document<"u",eA=typeof navigator=="object"&&navigator||void 0,cne=WT&&(!eA||["ReactNative","NativeScript","NS"].indexOf(eA.product)<0),une=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fne=WT&&window.location.href||"http://localhost",dne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WT,hasStandardBrowserEnv:cne,hasStandardBrowserWebWorkerEnv:une,navigator:eA,origin:fne},Symbol.toStringTag,{value:"Module"})),Hi={...dne,...lne};function hne(e,t){return Ib(e,new Hi.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Hi.isNode&&Pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function pne(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vne(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function u7(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&Pe.isArray(a)?a.length:o,l?(Pe.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!Pe.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&Pe.isArray(a[o])&&(a[o]=vne(a[o])),!s)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const n={};return Pe.forEachEntry(e,(r,a)=>{t(pne(r),a,n,0)}),n}return null}function gne(e,t,n){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const bg={transitional:c7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Pe.isObject(t);if(i&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return a?JSON.stringify(u7(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hne(t,this.formSerializer).toString();if((s=Pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ib(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),gne(t)):t}],transformResponse:[function(t){const n=this.transitional||bg.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?tn.from(s,tn.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hi.classes.FormData,Blob:Hi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],e=>{bg.headers[e]={}});const mne=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yne=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&mne[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nP=Symbol("internals");function Lp(e){return e&&String(e).trim().toLowerCase()}function ix(e){return e===!1||e==null?e:Pe.isArray(e)?e.map(ix):String(e)}function xne(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const bne=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function y_(e,t,n,r,a){if(Pe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Pe.isString(t)){if(Pe.isString(r))return t.indexOf(r)!==-1;if(Pe.isRegExp(r))return r.test(t)}}function wne(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _ne(e,t){const n=Pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Bo=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,c){const u=Lp(l);if(!u)throw new Error("header name must be a non-empty string");const f=Pe.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||l]=ix(s))}const o=(s,l)=>Pe.forEach(s,(c,u)=>i(c,u,l));if(Pe.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Pe.isString(t)&&(t=t.trim())&&!bne(t))o(yne(t),n);else if(Pe.isHeaders(t))for(const[s,l]of t.entries())i(l,s,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Lp(t),t){const r=Pe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return xne(a);if(Pe.isFunction(n))return n.call(this,a,r);if(Pe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Lp(t),t){const r=Pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||y_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Lp(o),o){const s=Pe.findKey(r,o);s&&(!n||y_(r,r[s],s,n))&&(delete r[s],a=!0)}}return Pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||y_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Pe.forEach(this,(a,i)=>{const o=Pe.findKey(r,i);if(o){n[o]=ix(a),delete n[i];return}const s=t?wne(i):String(i).trim();s!==i&&delete n[i],n[s]=ix(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Pe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[nP]=this[nP]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=Lp(o);r[s]||(_ne(a,o),r[s]=!0)}return Pe.isArray(t)?t.forEach(i):i(t),this}};Bo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Bo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Pe.freezeMethods(Bo);function x_(e,t){const n=this||bg,r=t||n,a=Bo.from(r.headers);let i=r.data;return Pe.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function f7(e){return!!(e&&e.__CANCEL__)}function dp(e,t,n){tn.call(this,e??"canceled",tn.ERR_CANCELED,t,n),this.name="CanceledError"}Pe.inherits(dp,tn,{__CANCEL__:!0});function d7(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new tn("Request failed with status code "+n.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ene(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sne(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[a]=l,r[a]=c;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(d*1e3/h):void 0}}function Ane(e,t){let n=0,r=1e3/t,a,i;const o=(c,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(a=c,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const Nx=(e,t,n=3)=>{let r=0;const a=Sne(50,250);return Ane(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-r,c=a(l),u=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},rP=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},aP=e=>(...t)=>Pe.asap(()=>e(...t)),kne=Hi.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Hi.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Hi.origin),Hi.navigator&&/(msie|trident)/i.test(Hi.navigator.userAgent)):()=>!0,Tne=Hi.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];Pe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Pe.isString(r)&&o.push("path="+r),Pe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function One(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cne(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function h7(e,t,n){let r=!One(t);return e&&r||n==!1?Cne(e,t):t}const iP=e=>e instanceof Bo?{...e}:e;function Ad(e,t){t=t||{};const n={};function r(c,u,f,d){return Pe.isPlainObject(c)&&Pe.isPlainObject(u)?Pe.merge.call({caseless:d},c,u):Pe.isPlainObject(u)?Pe.merge({},u):Pe.isArray(u)?u.slice():u}function a(c,u,f,d){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function i(c,u){if(!Pe.isUndefined(u))return r(void 0,u)}function o(c,u){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,f)=>a(iP(c),iP(u),f,!0)};return Pe.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=l[u]||a,d=f(e[u],t[u],u);Pe.isUndefined(d)&&f!==s||(n[u]=d)}),n}const p7=e=>{const t=Ad({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;t.headers=o=Bo.from(o),t.url=l7(h7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(Pe.isFormData(n)){if(Hi.hasStandardBrowserEnv||Hi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Hi.hasStandardBrowserEnv&&(r&&Pe.isFunction(r)&&(r=r(t)),r||r!==!1&&kne(t.url))){const c=a&&i&&Tne.read(i);c&&o.set(a,c)}return t},Mne=typeof XMLHttpRequest<"u",Pne=Mne&&function(e){return new Promise(function(n,r){const a=p7(e);let i=a.data;const o=Bo.from(a.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=a,u,f,d,h,p;function v(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function m(){if(!g)return;const x=Bo.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:e,request:g};d7(function(w){n(w),v()},function(w){r(w),v()},E),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(r(new tn("Request aborted",tn.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new tn("Network Error",tn.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||c7;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),r(new tn(b,E.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Pe.forEach(o.toJSON(),function(b,E){g.setRequestHeader(E,b)}),Pe.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),s&&s!=="json"&&(g.responseType=a.responseType),c&&([d,p]=Nx(c,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=Nx(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=x=>{g&&(r(!x||x.type?new dp(null,e,g):x),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=Ene(a.url);if(y&&Hi.protocols.indexOf(y)===-1){r(new tn("Unsupported protocol "+y+":",tn.ERR_BAD_REQUEST,e));return}g.send(i||null)})},Ine=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(c){if(!a){a=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof tn?u:new dp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new tn(`timeout ${t} of ms exceeded`,tn.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>Pe.asap(s),l}},Rne=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Nne=async function*(e,t){for await(const n of Dne(e))yield*Rne(n,t)},Dne=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},oP=(e,t,n,r)=>{const a=Nne(e,t);let i=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await a.next();if(c){s(),l.close();return}let f=u.byteLength;if(n){let d=i+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),a.return()}},{highWaterMark:2})},Rb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",v7=Rb&&typeof ReadableStream=="function",Lne=Rb&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),g7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Fne=v7&&g7(()=>{let e=!1;const t=new Request(Hi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sP=64*1024,tA=v7&&g7(()=>Pe.isReadableStream(new Response("").body)),Dx={stream:tA&&(e=>e.body)};Rb&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dx[t]&&(Dx[t]=Pe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new tn(`Response type '${t}' is not supported`,tn.ERR_NOT_SUPPORT,r)})})})(new Response);const Bne=async e=>{if(e==null)return 0;if(Pe.isBlob(e))return e.size;if(Pe.isSpecCompliantForm(e))return(await new Request(Hi.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(e)||Pe.isArrayBuffer(e))return e.byteLength;if(Pe.isURLSearchParams(e)&&(e=e+""),Pe.isString(e))return(await Lne(e)).byteLength},$ne=async(e,t)=>{const n=Pe.toFiniteNumber(e.getContentLength());return n??Bne(t)},jne=Rb&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=p7(e);c=c?(c+"").toLowerCase():"text";let h=Ine([a,i&&i.toAbortSignal()],o),p;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&Fne&&n!=="get"&&n!=="head"&&(g=await $ne(u,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),_;if(Pe.isFormData(r)&&(_=E.headers.get("content-type"))&&u.setContentType(_),E.body){const[w,A]=rP(g,Nx(aP(l)));r=oP(E.body,sP,w,A)}}Pe.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:m?f:void 0});let y=await fetch(p);const x=tA&&(c==="stream"||c==="response");if(tA&&(s||x&&v)){const E={};["status","statusText","headers"].forEach(S=>{E[S]=y[S]});const _=Pe.toFiniteNumber(y.headers.get("content-length")),[w,A]=s&&rP(_,Nx(aP(s),!0))||[];y=new Response(oP(y.body,sP,w,()=>{A&&A(),v&&v()}),E)}c=c||"text";let b=await Dx[Pe.findKey(Dx,c)||"text"](y,e);return!x&&v&&v(),await new Promise((E,_)=>{d7(E,_,{data:b,headers:Bo.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:p})})}catch(m){throw v&&v(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,e,p),{cause:m.cause||m}):tn.from(m,m&&m.code,e,p)}}),nA={http:tne,xhr:Pne,fetch:jne};Pe.forEach(nA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lP=e=>`- ${e}`,zne=e=>Pe.isFunction(e)||e===null||e===!1,m7={getAdapter:e=>{e=Pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!zne(n)&&(r=nA[(o=String(n)).toLowerCase()],r===void 0))throw new tn(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(lP).join(`
`):" "+lP(i[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:nA};function b_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dp(null,e)}function cP(e){return b_(e),e.headers=Bo.from(e.headers),e.data=x_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),m7.getAdapter(e.adapter||bg.adapter)(e).then(function(r){return b_(e),r.data=x_.call(e,e.transformResponse,r),r.headers=Bo.from(r.headers),r},function(r){return f7(r)||(b_(e),r&&r.response&&(r.response.data=x_.call(e,e.transformResponse,r.response),r.response.headers=Bo.from(r.response.headers))),Promise.reject(r)})}const y7="1.8.3",Nb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nb[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uP={};Nb.transitional=function(t,n,r){function a(i,o){return"[Axios v"+y7+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new tn(a(o," has been removed"+(n?" in "+n:"")),tn.ERR_DEPRECATED);return n&&!uP[o]&&(uP[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};Nb.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Une(e,t,n){if(typeof e!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new tn("option "+i+" must be "+l,tn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tn("Unknown option "+i,tn.ERR_BAD_OPTION)}}const ox={assertOptions:Une,validators:Nb},Ul=ox.validators;let hd=class{constructor(t){this.defaults=t,this.interceptors={request:new tP,response:new tP}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ad(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&ox.assertOptions(r,{silentJSONParsing:Ul.transitional(Ul.boolean),forcedJSONParsing:Ul.transitional(Ul.boolean),clarifyTimeoutError:Ul.transitional(Ul.boolean)},!1),a!=null&&(Pe.isFunction(a)?n.paramsSerializer={serialize:a}:ox.assertOptions(a,{encode:Ul.function,serialize:Ul.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ox.assertOptions(n,{baseUrl:Ul.spelling("baseURL"),withXsrfToken:Ul.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[n.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=Bo.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,d;if(!l){const p=[cP.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,c),d=p.length,u=Promise.resolve(n);f<d;)u=u.then(p[f++],p[f++]);return u}d=s.length;let h=n;for(f=0;f<d;){const p=s[f++],v=s[f++];try{h=p(h)}catch(g){v.call(this,g);break}}try{u=cP.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Ad(this.defaults,t);const n=h7(t.baseURL,t.url,t.allowAbsoluteUrls);return l7(n,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){hd.prototype[t]=function(n,r){return this.request(Ad(r||{},{method:t,url:n,data:(r||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(Ad(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hd.prototype[t]=n(),hd.prototype[t+"Form"]=n(!0)});let Hne=class x7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new dp(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new x7(function(a){t=a}),cancel:t}}};function Gne(e){return function(n){return e.apply(null,n)}}function Wne(e){return Pe.isObject(e)&&e.isAxiosError===!0}const rA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rA).forEach(([e,t])=>{rA[t]=e});function b7(e){const t=new hd(e),n=ZF(hd.prototype.request,t);return Pe.extend(n,hd.prototype,t,{allOwnKeys:!0}),Pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return b7(Ad(e,a))},n}const Mr=b7(bg);Mr.Axios=hd;Mr.CanceledError=dp;Mr.CancelToken=Hne;Mr.isCancel=f7;Mr.VERSION=y7;Mr.toFormData=Ib;Mr.AxiosError=tn;Mr.Cancel=Mr.CanceledError;Mr.all=function(t){return Promise.all(t)};Mr.spread=Gne;Mr.isAxiosError=Wne;Mr.mergeConfig=Ad;Mr.AxiosHeaders=Bo;Mr.formToJSON=e=>u7(Pe.isHTMLForm(e)?new FormData(e):e);Mr.getAdapter=m7.getAdapter;Mr.HttpStatusCode=rA;Mr.default=Mr;const{Axios:iKe,AxiosError:oKe,CanceledError:sKe,isCancel:lKe,CancelToken:cKe,VERSION:uKe,all:fKe,Cancel:dKe,isAxiosError:hKe,spread:pKe,toFormData:vKe,AxiosHeaders:gKe,HttpStatusCode:mKe,formToJSON:yKe,getAdapter:xKe,mergeConfig:bKe}=Mr;var va;let Br=(va=class{static Get(t,n={},r,a,i){t=va.getUrl(t);const o=va.getConfig(i);o.params=n,Mr.get(t,o).then(r).catch(a)}static Post(t,n={},r,a,i){t=va.getUrl(t);const o=va.getConfig(i);return i&&i.onUploadProgress&&(o.onUploadProgress=i.onUploadProgress),Mr.post(t,n,o).then(r).catch(a)}static Put(t,n={},r,a,i){t=va.getUrl(t);const o=va.getConfig(i);o.params=n;let s=new FormData;for(let l in n)s.append(l,n[l]);Mr.put(t,s,o).then(r).catch(a)}static Patch(t,n={},r,a,i){t=va.getUrl(t);const o=va.getConfig(i);Mr.patch(t,n,o).then(r).catch(a)}static Delete(t,n={},r,a,i){t=va.getUrl(t);const o=va.getConfig(i);o.params=n,Mr.delete(t,o).then(r).catch(a)}static getConfig(t){return{headers:t&&t.headers?t.headers:va.cfg.request().headers,responseType:t&&t.responseType?t.responseType:va.cfg.request().responseType,timeout:va.cfg.request().timeout}}static getUrl(t){return t.substring(0,4)=="http"?t=t:t.substring(0,1)=="/"?t=va.cfg.baseUrl+t.substring(1):t=va.cfg.apiUrl+t,t}},va.cfg=new wl,va);class Kn{static setItem(t,n){window.localStorage.setItem(t,n)}static getItem(t){return window.localStorage.getItem(t)}static removeItem(t){window.localStorage.removeItem(t)}static setSessionItem(t,n){window.sessionStorage.setItem(t,n)}static getSessionItem(t){return window.sessionStorage.getItem(t)}static removeSessionItem(t){window.sessionStorage.removeItem(t)}}class St{static Toast(t="提示",n=5e3,r="primary"){let a=document.createElement("div");a.setAttribute("class","wm-ui_toast"),a.innerHTML='<span class="'+r+'">'+t+"</span>",document.body.appendChild(a),setTimeout(()=>{a.style.opacity="1",a.style.top="30%"},100),setTimeout(()=>{a.style.opacity="0",a.style.top="0%"},n),setTimeout(()=>{document.body.removeChild(a)},n+1e3)}static Loading(t=6e4,n=.2){let r=document.getElementsByClassName("wm-ui_load")[0];r&&document.body.removeChild(r);let a=document.createElement("div");a.setAttribute("class","wm-ui_load"),a.setAttribute("style",`background-color: rgba(0,0,0,${n})`),a.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(a);const i=setTimeout(()=>{r=document.getElementsByClassName("wm-ui_load")[0],r&&document.body.removeChild(r)},t);return{clear:()=>{setTimeout(()=>{try{document.body.removeChild(a)}catch{}clearTimeout(i)},300)}}}}class ti{static Select(t,n=()=>{},r=()=>{}){let a={multiple:!1,mimeType:["image/jpeg","image/png","image/gif"],...t};const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("style","display: none"),a.multiple&&i.setAttribute("multiple","multiple"),document.body.appendChild(i),i.click(),i.onchange=()=>{let o=[];for(let s=0;s<i.files.length;s++)a.mimeType.length>0&&!a.mimeType.includes(i.files[s].type)||o.push(i.files[s]);a.multiple?n(o):o.length>0?n(o[0]):r("只允许文件类型:"+a.mimeType.join(","))}}static FileToBase64(t,n=()=>{},r="base64"){let a=new FileReader;r=="base64"?a.readAsDataURL(t):r=="blob"?a.readAsBinaryString(t):r=="text"&&a.readAsText(t),a.onloadend=function(){return n(this.result)}}static Base64ToFile(t,n,r=()=>{},a=()=>{}){const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=atob(i[1]);let l=s.length;const c=new Uint8Array(l);for(;l--;)c[l]=s.charCodeAt(l);const u=new File([c],n,{type:o});return u?r(u):a("文件转换失败!")}static GetTypeExt(t){switch(t){case"image/jpeg":return"jpg";case"image/png":return"png";case"image/gif":return"gif";default:return""}}static ImageCompress(t,n,r=()=>{},a=()=>{}){let i={width:0,height:0,cut:!0,quality:.8,type:"image/jpeg",mimeType:["image/jpeg","image/png","image/gif"],...n};if(!i.mimeType.includes(i.type))return a("只允许图片类型:"+i.mimeType.join(","));let o=1,s=1,l=0,c=0,u=1,f=o/s;const d=document.createElement("canvas"),h=d.getContext("2d"),p=new Image;p.src=t,p.onload=function(){const v=this;f=v.width/v.height,i.width>0&&i.height==0?(o=i.width<v.width?i.width:v.width,s=i.width<v.width?Math.round(i.width/f):Math.round(v.width/f),i.width=o,i.height=s):i.width==0&&i.height>0?(o=i.height<v.height?Math.round(i.height*f):Math.round(v.height*f),s=i.height<v.height?i.height:v.height,i.width=o,i.height=s):i.width==0&&i.height==0?(o=v.width,s=v.height,i.width=o,i.height=s):(u=i.width/i.height,f>u?i.width<v.width?(o=i.cut?Math.round(i.height*f):i.width,s=i.cut?i.height:Math.round(i.width/f)):(o=i.cut?Math.round(v.height*f):v.width,s=i.cut?v.height:Math.round(v.width/f)):i.height<v.height?(o=i.cut?i.width:Math.round(i.height*f),s=i.cut?Math.round(i.width/f):i.height):(o=i.cut?v.width:Math.round(v.height*f),s=i.cut?Math.round(v.width/f):v.height)),i.cut&&v.width<=i.width&&v.height<=i.height?(d.width=v.width,d.height=v.height,l=0,c=0):(d.width=i.width,d.height=i.height,l=Math.round(i.width-o)/2,c=Math.round(i.height-s)/2),h.drawImage(this,l,c,o,s);let g=d.toDataURL(i.type,i.quality);return r(g)}}static Down(t,n="down.txt"){let r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}static DownBlob(t,n="down.txt"){const r=new Blob([t],{type:"application/octet-stream"}),a=window.URL.createObjectURL(r),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",n),typeof i.download>"u"&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}static async ShareFile(t,n="down.txt",r="",a=""){var o;const i=await fetch(t).then(s=>s.blob()).then(s=>new File([s],n));return(o=navigator.canShare)!=null&&o.call(navigator,{files:[i]})?(navigator.share({files:[i],title:r,text:a}).catch(console.error),!0):!1}static ExportExcel(t,n){const r={filename:"down.xlsx",borderColor:"#E2E4E8",titleColor:"#020408",titleBgColor:"#F2F4F8",...n};let a="<html>";a+='<style type="text/css">',a+="table{font-family:Microsoft YaHei,微软雅黑,SimHei,helvetica,arial,verdana,tahoma,sans-serif;}",a+="table td{height: 32px; padding: 10px; text-align: center; border: "+r.borderColor+" 1px solid;}",a+=".title{background-color: "+r.titleBgColor+"; color: "+r.titleColor+"; font-weight: bold;}",a+="</style>",a+=t,a+="</html>",this.DownBlob(a,r.filename)}}const Vne=ln({__name:"index",props:{show:{type:Boolean,default:!1},position:{type:String,default:"center"},width:{type:String,default:""},height:{type:String,default:""},opacity:{type:Number,default:.4},bgColor:{type:String,default:""},radius:{type:String,default:""},bgClose:{type:Boolean,default:!0},time:{type:Number,default:400}},emits:["update:show","close"],setup(e,{emit:t}){const n=e,{proxy:r}=Gs(),a=t;sn(()=>n.show,f=>{l(n.show)},{deep:!0}),Wn(()=>{i()});const i=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.opacity=0,n.position=="left"?(d.style.height="30%",d.style.left=0,d.style.opacity=0,d.style.transform="translate(-30%, 0)"):n.position=="right"?(d.style.height="100%",d.style.right=0,d.style.opacity=0,d.style.transform="translate(30%, 0)"):n.position=="top"?(d.style.width="100%",d.style.top=0,d.style.opacity=1,d.style.transform="translate(0, -30%)"):n.position=="bottom"?(d.style.width="100%",d.style.left=0,d.style.bottom=0,d.style.opacity=0,d.style.transform="translate(0, 30%)"):(d.style.left="50%",d.style.top="50%",d.style.opacity=0,d.style.transform="translate(-50%, -50%)")},o=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=n.time+"ms",d.style.transitionDuration=n.time+"ms",f.style.opacity=1,d.style.opacity=1,n.position=="left"?d.style.transform="translate(-1px, 0)":n.position=="right"?d.style.transform="translate(1px, 0)":n.position=="top"?d.style.transform="translate(0, -1px)":n.position=="bottom"?d.style.transform="translate(0, 1px)":d.style.top="50%",Hn(()=>{a("update:show",!0)})},s=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=n.time+"ms",d.style.transitionDuration=n.time+"ms",f.style.opacity=0,d.style.opacity=0,n.position=="left"?d.style.transform="translate(-30%, 0)":n.position=="right"?d.style.transform="translate(30%, 0)":n.position=="top"?d.style.transform="translate(0, -30%)":n.position=="bottom"?d.style.transform="translate(0, 30%)":d.style.top="30%",Hn(()=>{a("update:show",!1)})},l=f=>{f?o():s()},c=()=>{n.bgClose&&u()},u=()=>{l(!1),a("close",!1)};return(f,d)=>(Z(),ne("div",{style:We([{position:"relative",width:"100%",height:"100%"},{visibility:e.show?"inherit":"hidden"}])},[Y("div",{ref:"PopupBG",class:"wm-popup_bg",style:We({backgroundColor:"rgba(0,0,0,"+e.opacity+")"}),onClick:c},null,4),Y("div",{ref:"PopupBody",class:"wm-popup_body",style:We({width:e.width,height:e.height,backgroundColor:e.bgColor,borderRadius:e.radius})},[rt(f.$slots,"default",{},void 0,!0)],4)],4))}}),fi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},x1=fi(Vne,[["__scopeId","data-v-5ce7689f"]]);let Li=class{static Time(t=""){const r=(t?new Date(t):new Date).getTime();return Math.round(r/1e3)}static TimeMicro(t=""){return(t?new Date(t):new Date).getTime()}static Date(t="Y-m-d H:i:s",n=0){let r;typeof n=="number"?r=n>0?new Date(n*1e3):new Date:r=n;const a=""+r.getFullYear(),i=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=r.getHours()<10?"0"+r.getHours():""+r.getHours(),l=r.getMinutes()<10?"0"+r.getMinutes():""+r.getMinutes(),c=r.getSeconds()<10?"0"+r.getSeconds():""+r.getSeconds();let u=t;return u=u.replace("Y",a),u=u.replace("m",i),u=u.replace("d",o),u=u.replace("H",s),u=u.replace("i",l),u=u.replace("s",c),u}static StrToTime(t="",n=""){const r=t.split(" "),a=parseInt(r[0]);let i=new Date(t);switch(i=="Invalid Date"&&(i=n?new Date(n):new Date),r[1]){case"second":i.setSeconds(i.getSeconds()+a);break;case"minute":i.setMinutes(i.getMinutes()+a);break;case"hour":i.setHours(i.getHours()+a);break;case"day":i.setDate(i.getDate()+a);break;case"week":i.setDate(i.getDate()+a*7);break;case"month":i.setMonth(i.getMonth()+a);break;case"year":i.setFullYear(i.getFullYear()+a);break}let o=i.getTime();return o=Math.round(o/1e3),o>0?o:0}static Week(t){const n=new Date(t);return["日","一","二","三","四","五","六"][n.getDay()]}static FormatTime(t){let n=t;const r=new Date,a=""+r.getFullYear(),i=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=t.substr(0,4),l=t.substr(5,2),c=t.substr(8,2),u=t.substr(11,5),f=t.substr(5,11),d=parseInt(t.substr(11,2));if(s==a&&l==i&&c==o){let h="";d<6?h="凌晨":d<9?h="早上":d<12?h="上午":d<14?h="中午":d<17?h="下午":d<20&&(h="晚上"),n=h+" "+u}else s==a&&l==i&&c==""+(Number(o)-1)?n="昨天 "+u:s==a&&l==i&&(n=f);return n}static TimeSize(t,n){const r=new Date(t).getTime();let i=(n?new Date(n).getTime():new Date().getTime())-r;return i!=0?i/1e3:0}static FormatHourEncode(t){let n="00",r="00",a="00",i=0;return t>=3600&&(i=Math.floor(t/3600),n=i>=10?i.toString():"0"+i,t-=i*3600),t>=60&&(i=Math.floor(t/60),r=i>=10?i.toString():"0"+i,t-=i*60),i=t,a=i>=10?i.toString():"0"+i,n+":"+r+":"+a}static FormatHourDecode(t){let n=t.split(":");return parseInt(n[0])*3600+parseInt(n[1])*60+parseInt(n[2])}static daysInMonth(t,n){return new Date(t,n+1,0).getDate()}static daysLimit(t,n){let r=[];const a=t.split("-"),i=n.split("-");if(a.length!==3||i.length!==3)return r;const o=parseInt(a[0]),s=parseInt(a[1]),l=parseInt(a[2]),c=parseInt(i[0]),u=parseInt(i[1]),f=parseInt(i[2]);let d,h,p,v=[],g=[];for(let m=c;m>=o;m--){v=[];for(let y=1;y<=12;y++)if(!(m===o&&y<s)&&!(m===c&&y>u)){g=[],d=this.daysInMonth(m,y);for(let x=1;x<=d;x++)y===s&&x<l||y===u&&x>f||(h=x<10?"0"+x:x.toString(),g.push({label:h+"日",value:h}));h=y<10?"0"+y:y.toString(),p={label:h+"月",value:h},g.length&&(p.children=g),v.push(p)}h=m.toString(),p={label:h+"年",value:h},v.length&&(p.children=v),r.push(p)}return r}};function Yne(){return{home:"Home",action:"Action",search:"Search",add:"Add",edit:"Edit",edits:"Batch Edit",del:"Delete",remove:"Remove",remove_all:"Remove All",clear:"Clear",export:"Export",copy:"Copy",print:"Print",view:"View",flow:"Flow",mkdir:"New Folder",rename:"Rename",upload:"Upload",download:"Download",prev:"Prev",next:"Next",confirm:"Confirm",reset:"Reset",remark:"Remark",keyword:"Search keywords",key:"Keywords",sku_id:"Please enter the product code",print_template:"Search for printing templates",select:"Please select",select_all:"Select All",select_not:"Not Select",placeholder:"Please enter",folder:"Folder",file:"File",title:"Title",name:"Name",info:"Information",content:"Content",size:"Size",page:"Page",null:"Null",not:"Not",logout:"Log out",status:"Status",enable:"Enable",disable:"Disable",ctime:"Create Time",utime:"Modify Time",date:"Date",network_err:"Network error",total_info:e=>"There are a total of <b>"+(e||0)+"</b> items",del_warn:e=>"Delete <b>"+e+"</b> pieces of data",del_part_warn:(e,t)=>"<b>"+e+"</b> items in total， <b>"+t+"</b> items can be deleted",export_warn:e=>"Export <b>"+e+"</b> pieces of data",page_total:(e,t,n)=>"Total "+e+", Page "+t+" of "+n,page_limit:"Limit",login_uname:"Uname / Phone / Email",login_passwd:"Please input a password",login_vcode:"Code",login_refresh:"Click to refresh",menus_placeholder:"Search menu",menus_recent:"Recently visited",menus_recommend:"Recommended tools",uinfo_title:"User Information",uinfo_img:"Change image",uinfo_type:"Type",uinfo_nickname:"Nickname",uinfo_nickname_placeholder:"User nickname",uinfo_department:"Department",uinfo_position:"Position",uinfo_name:"Name",uinfo_gender:"Gender",uinfo_gender_boy:"Boy",uinfo_gender_girl:"Girl",uinfo_birthday:"Birthday",uinfo_signature:"Signature",passwd_title:"Change Password",passwd_code_placeholder:"Verification code",passwd_code_get:"Send code",passwd_code_resend:"Resend code",passwd_code_time:e=>"Try again in "+e+" second",passwd_new:"New password",passwd_confirm:"Confirm password",passwd_verify_null:"Null account",passwd_verify_code:"Please enter the verification code",passwd_verify_passwd1:"Starting with an English letter, 6-16 characters",passwd_verify_passwd2:"Two passwords are inconsistent",msg_seach:"Search for contacts",msg_null:"No new message",sys_file_total:(e,t,n)=>"Folder: <b>"+(e||0)+"</b>&nbsp;&nbsp;File: <b>"+(t||0)+"</b>&nbsp;&nbsp;Size: <b>"+(n||0)+"</b>&nbsp;&nbsp;",sys_file_rootdir:"RootDir",sys_file_back:"Back Up",sys_file_select_file:"Select File",sys_file_verify_name:"Name 2-32 characters",sys_file_verify_name_exist:"The name already exists",sys_user_total:e=>`There are a total of <b>${e||0}</b> items`,sys_user_image:"Image",sys_user_type:"Type",sys_user_role:"Role",sys_user_perm:"Permissions",sys_user_uname:"UserName",sys_user_passwd:"Password",sys_user_base:"Base Info",sys_user_nickname:"Nickname",sys_user_department:"Department",sys_user_position:"Position",sys_user_name:"Name",sys_user_gender:"Gender",sys_user_birthday:"Birthday",sys_user_uname_placeholder:"Uname \\ PhoneNumber \\ Email",sys_user_passwd_placeholder:"Default password",sys_user_verify_uname:"Please enter Uname, PhoneNumber, OR Email",sys_user_verify_passwd:"Password 6-16 characters",sys_role_total:e=>`There are a total of <b>${e||0}</b> items`,sys_role_perm:"Permissions",sys_role_verify_name:"Role name 2-16 characters",sys_menus_total:e=>`There are a total of <b>${e||0}</b> items`,sys_menus_lang:"Language",sys_menus_en_us:"English",sys_menus_zh_cn:"简体中文",sys_menus_fid:"Class",sys_menus_ico:"Icon",sys_menus_title:"Name",sys_menus_en:"Pinyin",sys_menus_url:"FrontUrl",sys_menus_controller:"ApiUrl",sys_menus_sort:"Sort",sys_menus_perm:"Permission value",sys_menus_sort_placeholder:"Sort, such as: 0, 1, 2",sys_menus_verify_title:"The title must be 2-32 characters long",web_html_total:e=>`There are a total of <b>${e||0}</b> items`,web_html_type:"Type",web_html_title:"Title",web_html_name:"Name",web_html_verify_title:"The title must be 2-32 characters long",web_html_verify_name:"The name must be 2-16 characters long",goods_stock_total:e=>`<b>${e}</b> pieces in stock`}}function Xne(){return{home:"首页",action:"操作",search:"搜索",add:"添加",edit:"编辑",edits:"批量修改",del:"删除",remove:"移除",remove_all:"批量移除",clear:"清空",export:"导出",copy:"复制",print:"打印",view:"查看",flow:"流向",mkdir:"新建文件夹",rename:"重命名",upload:"上传",download:"下载",prev:"上一步",next:"下一步",confirm:"确认",reset:"重置",remark:"备注",placeholder:"请输入",select:"请选择",select_all:"全选",select_not:"全不选",keyword:"搜索关键字",key:"关键字",sku_id:"请输入商品编码",print_template:"搜索打印模板",folder:"文件夹",file:"文件",title:"标题",name:"名称",info:"基本信息",content:"内容",size:"大小",page:"页码",null:"空",not:"无",logout:"退出登录",status:"状态",enable:"正常",disable:"禁用",ctime:"创建时间",utime:"更新时间",date:"日期",network_err:"网络错误",total_info:e=>"统计: 共 <b>"+(e||0)+"</b> 条",del_warn:e=>"删除 <b>"+e+"</b> 条数据",del_part_warn:(e,t)=>"共 <b>"+e+"</b> 条，可删除 <b>"+t+"</b> 条数据",export_warn:e=>"导出 <b>"+e+"</b> 条数据",page_total:(e,t,n)=>"共 <b>"+e+"</b> 条, 第 <b>"+t+"</b>/<b>"+n+"</b> 页",page_limit:"每页",login_uname:"用户名 / 手机号码 / 邮箱",login_passwd:"请输入密码",login_vcode:"验证码",login_refresh:"点击刷新",menus_placeholder:"搜索菜单",menus_recent:"最近访问",menus_recommend:"推荐功能",uinfo_title:"用户信息",uinfo_img:"更新头像",uinfo_type:"类型",uinfo_nickname:"昵称",uinfo_nickname_placeholder:"用户昵称",uinfo_department:"部门",uinfo_position:"职位",uinfo_name:"姓名",uinfo_gender:"性别",uinfo_gender_boy:"男",uinfo_gender_girl:"女",uinfo_birthday:"生日",uinfo_signature:"个性签名",passwd_title:"修改密码",passwd_code_placeholder:"输入验证码",passwd_code_get:"获取验证码",passwd_code_resend:"重新发送",passwd_code_time:e=>e+"秒后重试",passwd_new:"新密码",passwd_confirm:"确认密码",passwd_verify_null:"无效帐号",passwd_verify_code:"请输入验证码",passwd_verify_passwd1:"英文字母开头，6～16位字符",passwd_verify_passwd2:"两次密码不一致",msg_seach:"搜索联系人",msg_null:"暂无新消息",sys_file_total:(e,t,n)=>`文件夹: <b>${e||0}</b>&nbsp;&nbsp;文件: <b>${t||0}</b>&nbsp;&nbsp;大小: <b>${n||0}</b>&nbsp;&nbsp;`,sys_file_rootdir:"根目录",sys_file_back:"返回上级",sys_file_select_file:"选择文件",sys_file_verify_name:"名称2～32字符",sys_file_verify_name_exist:"已存在",sys_user_total:e=>`统计: 共 <b>${e||0}</b> 条`,sys_user_image:"头像",sys_user_type:"类型",sys_user_role:"角色",sys_user_perm:"权限",sys_user_uname:"用户名",sys_user_passwd:"密码",sys_user_base:"基本信息",sys_user_nickname:"昵称",sys_user_department:"部门",sys_user_position:"职位",sys_user_name:"姓名",sys_user_gender:"性别",sys_user_birthday:"生日",sys_user_uname_placeholder:"用户名 \\ 手机号码 \\ 邮箱",sys_user_passwd_placeholder:"默认密码",sys_user_verify_uname:"请输入用户名、手机号码、邮箱",sys_user_verify_passwd:"密码为英文字母开头6～16位",sys_role_total:e=>`统计: 共 <b>${e||0}</b> 条`,sys_role_perm:"权限",sys_role_verify_name:"角色名称2～16字符",sys_menus_total:e=>`统计: 共 <b>${e||0}</b> 条`,sys_menus_lang:"语言包",sys_menus_en_us:"English",sys_menus_zh_cn:"简体中文",sys_menus_fid:"所属",sys_menus_ico:"图标",sys_menus_title:"名称",sys_menus_en:"拼音",sys_menus_url:"前端地址",sys_menus_controller:"后端地址",sys_menus_sort:"排序",sys_menus_perm:"权限值",sys_menus_sort_placeholder:"排序, 如: 0, 1, 2",sys_menus_verify_title:"标题必须2～32字符",web_html_total:e=>`统计: 共 <b>${e||0}</b> 条`,web_html_type:"类型",web_html_title:"标题",web_html_name:"名称",web_html_verify_title:"标题必须2～32字符",web_html_verify_name:"名称必须2～16字符",goods_stock_total:e=>`库存 <b>${e}</b> 件`}}const qne={class:"wm-langs"},Kne={class:"wm-langs_body"},Zne={class:"wm-langs_list"},Qne=["onClick"],Jne={class:"wm-login_body"},ere={class:"wm-login_ct"},tre={key:0,class:"uname"},nre={key:0,class:"wm-login_form"},rre=["placeholder"],are={key:1,class:"wm-login_form"},ire={onsubmit:"return false"},ore=["placeholder"],sre={key:2,class:"wm-login_form"},lre=["src","alt"],cre=["placeholder"],ure={class:"wm-login_bottom"},fre={key:0},dre={key:1},hre=ln({__name:"UserLogin",props:{show:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=e,{proxy:r}=Gs(),i=Rl().state,o=KF(),s=wl.copy,l=Ce(2e4),c=Ce(3e4),u=Ce({}),f=wl.LangList(),d=Ce(!1),h=Ce(""),p=Ce({is_passwd:!1,is_safety:!1,uname:"",local_uname:"",passwd:"",vcode:"",vcode_url:"",img:""}),v=["bg0","bg1","bg2","bg3","bg4","bg5","bg6","bg7","bg8","bg9"];let g=null,m=null;sn(()=>i.isLogin,T=>{T?(d.value=!1,clearInterval(m),m=setInterval(()=>{S()},c.value)):(d.value=!0,clearInterval(m),k())},{deep:!0}),sn(d,T=>{T?(E(),b(),clearInterval(g),g=setInterval(()=>{b()},l.value)):clearInterval(g)}),Wn(()=>{let T=Kn.getItem("langs");if(T)u.value=JSON.parse(T);else for(let C of f)if(wl.lang==C.value){u.value=C;break}y(u.value),i.isLogin=n.show;const O=Kn.getItem("token");i.token=O||"",O?S(!0):i.isLogin=!1});const y=T=>{i.lang=T.value,T.value=="en_US"?i.langs=Yne():T.value=="zh_CN"&&(i.langs=Xne())},x=T=>{u.value=T,Kn.setItem("langs",JSON.stringify(T)),y(T),o.push({path:"/"}),location.reload()},b=()=>{const T=Math.floor(Math.random()*10);h.value=v[T]},E=()=>{const T=Kn.getItem("uname")||"",O=Kn.getItem("user_img")||"",C=Kn.getItem("uinfo")||"";T&&(p.value.uname=T,p.value.local_uname=T,p.value.img=O,p.value.is_passwd=!0,i.uinfo=C?JSON.parse(C):{})},_=()=>{p.value.uname="",p.value.passwd="",p.value.vcode="",p.value.is_passwd=!1,p.value.is_safety=!1,Hn(()=>{r.$refs.loginUname.focus()})},w=()=>{let T=p.value.vcode_url.split("?");p.value.vcode_url=T[0]+"?"+Li.Time(),Hn(()=>{r.$refs.loginVcode.focus()})},A=()=>{const T=p.value.uname,O=p.value.passwd;if(T.length>3&&!p.value.is_passwd){p.value.is_passwd=!0,Hn(()=>{r.$refs.loginPasswd.focus()});return}if(O.length<6)return St.Toast(i.langs.login_passwd);if(p.value.vcode.length!=4&&p.value.is_safety){Hn(()=>{r.$refs.loginVcode.focus()});return}const C=St.Loading();Br.Post("user/login?lang="+i.lang,{uname:T,passwd:O,vcode:p.value.vcode},M=>{C.clear();const{code:R,msg:I,data:P,vcode_url:B}=M.data;if(R==0)p.value.is_passwd=!0,p.value.is_safety=!1,p.value.passwd="",p.value.vcode="",p.value.img=P.uinfo.img,i.isLogin=!0,i.token=P.token,i.uinfo=P.uinfo,Kn.setItem("token",P.token),Kn.setItem("uname",P.uinfo.uname),Kn.setItem("uinfo",JSON.stringify(P.uinfo)),Kn.setItem("user_img",P.uinfo.img),setTimeout(()=>{Kn.setItem("IsMenus",""),location.reload()},1e3);else return p.value.vcode="",B&&R==4001?(p.value.is_safety=!0,p.value.vcode_url=B,Hn(()=>{r.$refs.loginVcode.focus()})):B&&R==4002?w():(p.value.passwd="",p.value.vcode="",p.value.is_passwd=!0,p.value.is_safety=!1,Hn(()=>{r.$refs.loginPasswd.focus()})),St.Toast(I)},()=>{C&&C.clear(),St.Toast(i.langs.network_err)})},S=(T=!1)=>{let O;T&&(O=St.Loading()),Br.Post("user/token?lang="+i.lang,{token:i.token,uinfo:T},C=>{O&&O.clear();const{code:M,msg:R,data:I}=C.data;M==0&&I.token_time>0?(i.isLogin=!0,!i.isPasswd&&i.lang&&(i.isPasswd=I.isPasswd),Object.keys(I.uinfo).length!=0&&(i.uinfo=I.uinfo,Kn.setItem("uname",I.uinfo.uname),Kn.setItem("uinfo",JSON.stringify(I.uinfo)),Kn.setItem("user_img",I.uinfo.img))):(St.Toast(R),k())},()=>{O&&O.clear(),St.Toast(i.langs.network_err)})},k=()=>{o.push({path:"/"}).then(()=>{i.isLogin=!1,i.token="",Kn.removeItem("token"),Kn.removeItem("uinfo"),Kn.removeItem("MenusTabs"),Kn.removeItem("MenusTmp"),setTimeout(()=>{r.$refs.loginUname?r.$refs.loginUname.focus():r.$refs.loginPasswd.focus()},3e3)})};return t({logout:k,verifyToken:S}),(T,O)=>(Z(),ne("div",{class:"wm-login_popup",style:We({visibility:d.value?"inherit":"hidden"})},[mt(x1,{show:d.value,"onUpdate:show":O[9]||(O[9]=C=>d.value=C),width:"100%",height:"100%",position:"top",time:600},{default:ht(()=>[Y("div",qne,[Y("div",null,be(u.value.label),1),Y("div",Kne,[O[10]||(O[10]=Y("span",{class:"arrow"},null,-1)),Y("ul",Zne,[(Z(!0),ne(Ve,null,Ft(J(f),(C,M)=>(Z(),ne("li",{key:M,class:Qe(C.value==u.value.value?"active":""),onClick:R=>x(C)},be(C.label),11,Qne))),128))])])]),Y("div",{class:"wm-login_bg bg0",style:We({visibility:h.value=="bg0"?"inherit":"hidden",opacity:h.value=="bg0"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg1",style:We({visibility:h.value=="bg1"?"inherit":"hidden",opacity:h.value=="bg1"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg2",style:We({visibility:h.value=="bg2"?"inherit":"hidden",opacity:h.value=="bg2"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg3",style:We({visibility:h.value=="bg3"?"inherit":"hidden",opacity:h.value=="bg3"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg4",style:We({visibility:h.value=="bg4"?"inherit":"hidden",opacity:h.value=="bg4"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg5",style:We({visibility:h.value=="bg5"?"inherit":"hidden",opacity:h.value=="bg5"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg6",style:We({visibility:h.value=="bg6"?"inherit":"hidden",opacity:h.value=="bg6"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg7",style:We({visibility:h.value=="bg7"?"inherit":"hidden",opacity:h.value=="bg7"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg8",style:We({visibility:h.value=="bg8"?"inherit":"hidden",opacity:h.value=="bg8"?"1":"0"})},null,4),Y("div",{class:"wm-login_bg bg9",style:We({visibility:h.value=="bg9"?"inherit":"hidden",opacity:h.value=="bg9"?"1":"0"})},null,4),O[14]||(O[14]=Y("div",{class:"wm-login_mask"},null,-1)),Y("div",Jne,[Y("div",ere,[Y("div",{class:"wm-login_logo",style:We({backgroundImage:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"url("+p.value.img+")":"",backgroundSize:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"100%":"60%"})},[p.value.uname&&(p.value.is_passwd||p.value.is_safety)?(Z(),ne("h2",tre,be(p.value.uname),1)):ye("",!0)],4),p.value.is_passwd?p.value.is_passwd&&!p.value.is_safety?(Z(),ne("div",are,[O[12]||(O[12]=Y("i",{class:"ui ui_safety ico"},null,-1)),Y("form",ire,[bl(Y("input",{ref:"loginPasswd",type:"password",class:"input","onUpdate:modelValue":O[2]||(O[2]=C=>p.value.passwd=C),onKeyup:O[3]||(O[3]=nu(C=>A(),["enter"])),maxlength:"32",placeholder:J(i).langs.login_passwd,autocomplete:"off"},null,40,ore),[[dd,p.value.passwd]])])])):p.value.is_safety?(Z(),ne("div",sre,[O[13]||(O[13]=Y("i",{class:"ui ui_safety ico"},null,-1)),Y("img",{class:"vcode",src:p.value.vcode_url,alt:J(i).langs.login_refresh,onClick:O[4]||(O[4]=C=>w())},null,8,lre),bl(Y("input",{ref:"loginVcode",type:"text",class:"input","onUpdate:modelValue":O[5]||(O[5]=C=>p.value.vcode=C),onKeyup:O[6]||(O[6]=nu(C=>A(),["enter"])),maxlength:"4",placeholder:J(i).langs.login_vcode},null,40,cre),[[dd,p.value.vcode]])])):ye("",!0):(Z(),ne("div",nre,[O[11]||(O[11]=Y("i",{class:"ui ui_user ico"},null,-1)),bl(Y("input",{ref:"loginUname",type:"text",class:"input","onUpdate:modelValue":O[0]||(O[0]=C=>p.value.uname=C),onKeyup:O[1]||(O[1]=nu(C=>A(),["enter"])),maxlength:"32",placeholder:J(i).langs.login_uname},null,40,rre),[[dd,p.value.uname]])])),Y("div",ure,[p.value.uname?(Z(),ne("span",fre,[Y("i",{class:"ui ui_arrow_left",onClick:O[7]||(O[7]=C=>_())}),Y("i",{class:"ui ui_arrow_right",onClick:O[8]||(O[8]=C=>A())})])):(Z(),ne("span",dre,be(J(s)),1))])])])]),_:1},8,["show"])],4))}}),pre=fi(hre,[["__scopeId","data-v-25a217db"]]),vre=ln({__name:"Socket",setup(e){const n=Rl().state;let r=new wl().socket(),a=null,i=null;Wn(()=>{wl.isSocket&&l()});const o=f=>{f.type=="msg"&&s(f),f.type=="online"&&console.log("online",f)},s=f=>{if(f.code!=0)return St.Toast(f.msg);let d=!1;for(let m of n.msg.list)if(m.loading===f.loading){m.id=f.id,m.loading=0,m.content=f.content,n.msg.readId=-1,d=!0;break}const h=f.id||0,p=f.gid,v=f.fid==n.uinfo.uid?f.uid:f.fid,g={gid:p,fid:v,num:1,time:f.time,format:f.format,title:f.title,img:f.img,content:f.content};for(let m in n.msg.group)if(n.msg.group[m].gid===p&&n.msg.group[m].fid===v){g.title=n.msg.group[m].title,g.img=n.msg.group[m].img,p===n.msg.gid&&v===n.msg.fid?(g.num=0,f.loading=0,d||n.msg.list.push(f),h&&(n.msg.readId=h)):(g.num=n.msg.group[m].num+1,n.msg.num+=1),n.msg.group.splice(m,1);break}n.msg.group.unshift(g)},l=()=>{clearInterval(a),a=setInterval(()=>{n.isLogin&&(!n.socket||n.socket.readyState!=1)&&c()},r.time)},c=()=>{const f=r.server+"?lang="+n.lang+"&channel="+r.channel+"&token="+n.token;n.socket=new WebSocket(f),n.socket.onopen=()=>{clearInterval(i),i=setInterval(()=>{try{n.socket.send(JSON.stringify({type:""}))}catch{u()}},r.heartbeat)},n.socket.onmessage=d=>{const h=JSON.parse(d.data);o(h)},n.socket.onclose=()=>{u()}},u=()=>{n.socket&&(n.socket.close(),n.socket=null)};return(f,d)=>null}}),gre=ln({__name:"main",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},lineHeight:{type:String,default:""},paddingX:{type:String,default:"16px"},paddingY:{type:String,default:"16px"},bgColor:{type:String,default:"transparent"},overflowX:{type:String,default:""},overflowY:{type:String,default:""},textAlign:{type:String,default:"left"}},setup(e){return(t,n)=>(Z(),ne("div",{class:"wm-main_body",style:We({width:"calc("+e.width+" - "+e.paddingX+" * 2)",height:"calc("+e.height+" - "+e.paddingY+" * 2)",lineHeight:e.lineHeight,backgroundColor:e.bgColor})},[Y("div",{class:"wm-main_ct scrollbar",style:We({width:e.width,height:e.height,padding:e.paddingY+" "+e.paddingX,overflowX:e.overflowX,overflowY:e.overflowY,textAlign:e.textAlign})},[rt(t.$slots,"default",{},void 0,!0)],4)],4))}}),w7=fi(gre,[["__scopeId","data-v-7573a2cf"]]),mre={class:"wm-dialog_title"},yre=ln({__name:"index",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"360px"},maxWidth:{type:String,default:"1920px"},height:{type:String,default:"auto"},overflow:{type:String,default:"inherit"},borderRadius:{type:String,default:"4px"},top:{type:String,default:"0px"},bottom:{type:String,default:""},bgClose:{type:Boolean,default:!0}},emits:["update:show","close"],setup(e,{emit:t}){const n=e,r=t,a=Ce({show:!1,width:0,height:0});sn(()=>n.show,s=>{a.value.show=s,s&&(a.value.width=window.innerWidth,a.value.height=window.innerHeight,document.addEventListener("keydown",i))},{deep:!0});const i=s=>{switch(s.keyCode||s.which){case 27:o(!0);break}},o=s=>{s&&r("update:show",!1),r("close",!1),document.removeEventListener("keydown",i)};return(s,l)=>(Z(),ne("div",{class:"wm-dialog_body",style:We({visibility:a.value.show?"inherit":"hidden"})},[mt(x1,{ref:"Popup",show:a.value.show,"onUpdate:show":l[2]||(l[2]=c=>a.value.show=c),width:"100%",height:"100%",position:"top",time:600},{default:ht(()=>[Y("div",{class:"wm-dialog_bg",onClick:l[0]||(l[0]=c=>e.bgClose?o(!0):"")}),Y("div",{class:"wm-dialog",style:We({width:e.width,maxWidth:e.maxWidth,height:e.height,borderRadius:e.borderRadius})},[Y("div",mre,[Y("span",null,be(e.title),1),Y("div",{class:"wm-dialog_close",onClick:l[1]||(l[1]=c=>o(!!e.bgClose))})]),e.top?(Z(),ne("div",{key:0,class:"wm-dialog_top",style:We({height:e.top+"",lineHeight:e.top+""})},[rt(s.$slots,"top",{},void 0,!0)],4)):ye("",!0),Y("div",{class:"wm-dialog_content scrollbar",style:We({overflow:e.overflow,maxHeight:"calc("+a.value.height+"px - 46px - 40px - "+e.top+" - "+e.bottom+")"})},[rt(s.$slots,"default",{},void 0,!0)],4),e.bottom?(Z(),ne("div",{key:1,class:"wm-dialog_bottom flex_center",style:We({height:e.bottom+"",lineHeight:e.bottom+""})},[rt(s.$slots,"bottom",{},void 0,!0)],4)):ye("",!0)],4)]),_:3},8,["show"])],4))}}),_7=fi(yre,[["__scopeId","data-v-1fe03059"]]),xre=["innerHTML"],bre=["value","placeholder","maxlength","disabled","readonly","enterkeyhint"],wre=["value","type","placeholder","maxlength","disabled","readonly","enterkeyhint"],_re=ln({__name:"index",props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},width:{type:String,default:"100%"},height:{type:String,default:"40px"},lineHeight:{type:String,default:"40px"},placeholder:{type:String,default:""},maxlength:{type:String,default:""},padding:{type:String,default:"0 10px"},margin:{type:String,default:"0"},radius:{type:String,default:"4px"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputAlign:{type:String,default:""},icon:{type:String,default:""},iconSize:{type:String,default:"20px"},iconAlign:{type:String,default:"left"},iconColor:{type:String,default:""},iconBgcolor:{type:String,default:""},iconRadius:{type:String,default:"4px 0 0 4px"},text:{type:String,default:""},textPadding:{type:String,default:"0 10px"},textAlign:{type:String,default:"right"},textColor:{type:String,default:""},textBgcolor:{type:String,default:""},textRadius:{type:String,default:"0 4px 4px 0"},textLen:{type:Boolean,default:!1},enterkeyhint:{type:String,default:"enter"}},emits:["update:value","update:focus","update:blur","iconClick","textClick","clear","close"],setup(e,{expose:t,emit:n}){const r=e,{proxy:a}=Gs(),i=n,s=Rl().state,l=Ce(0);sn(()=>r.value,g=>{l.value=g.length},{deep:!0});const c=g=>{i("update:value",g.target.value)},u=g=>{i("update:focus",g.target.value)},f=g=>{i("update:blur",g.target.value)},d=()=>{i("iconClick")},h=()=>{i("textClick")},p=()=>{i("clear"),i("update:value",""),r.type=="textarea"?a.$refs.wmTextarea.focus():a.$refs.wmInput.focus()};return t({focus:()=>{Hn(()=>{r.type=="textarea"?a.$refs.wmTextarea.focus():a.$refs.wmInput.focus()})}}),(g,m)=>(Z(),ne("div",{class:"wm-input_body",style:We({width:e.width,height:e.height,margin:e.margin})},[e.value&&e.clearable?(Z(),ne("div",{key:0,class:"wm-input_clear_body",style:We({width:e.lineHeight,height:e.lineHeight}),onClick:m[0]||(m[0]=Ti(y=>p(),["stop"]))},[Y("div",{class:"wm-input_clear",style:We({width:"calc("+e.lineHeight+" / 2)",height:"calc("+e.lineHeight+" / 2)"})},null,4)],4)):ye("",!0),e.icon?(Z(),ne("i",{key:1,class:Qe(["wm-input_text",e.icon]),style:We({width:e.lineHeight,lineHeight:e.lineHeight,fontSize:e.iconSize,left:e.iconAlign=="left"?"0":"",right:e.iconAlign=="right"?"0":"",color:e.iconColor,backgroundColor:e.iconBgcolor,borderRadius:e.iconRadius}),onClick:m[1]||(m[1]=y=>d())},null,6)):ye("",!0),e.text?(Z(),ne("div",{key:2,class:"wm-input_text",innerHTML:e.text,style:We({padding:e.textPadding,lineHeight:e.lineHeight,left:e.textAlign=="left"?"0":"",right:e.textAlign=="right"?"0":"",color:e.textColor,backgroundColor:e.textBgcolor,borderRadius:e.textRadius}),onClick:m[2]||(m[2]=y=>h())},null,12,xre)):ye("",!0),e.textLen?(Z(),ne("div",{key:3,class:"wm-input_total",style:We({lineHeight:e.lineHeight})},be(l.value)+"/"+be(e.maxlength||"无限制"),5)):ye("",!0),e.type=="textarea"?(Z(),ne("textarea",{key:4,ref:"wmTextarea",class:"wm-input",value:e.value,placeholder:e.placeholder||J(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:We({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius}),onInput:c,onFocus:u,onBlur:f},null,44,bre)):(Z(),ne("input",{key:5,ref:"wmInput",class:"wm-input",autocomplete:"off",value:e.value,type:e.type,placeholder:e.placeholder||J(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:We({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius,textAlign:e.inputAlign}),onInput:c,onFocus:u,onBlur:f},null,44,wre))],4))}}),Ps=fi(_re,[["__scopeId","data-v-512c16c8"]]),Ere=["disabled"],Sre=ln({__name:"index",props:{effect:{type:String,default:"plain"},type:{type:String,default:"default"},width:{type:String,default:"max-content"},height:{type:String,default:"32px"},padding:{type:String,default:"0 16px"},margin:{type:String,default:"0 4px"},radius:{type:String,default:"4px"},fontSize:{type:String,default:"14px"},icon:{type:String,default:""},iconSize:{type:String,default:"14px"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>(Z(),ne("button",{class:Qe(["wm-button flex_center",e.effect+"_"+e.type]),style:We({width:e.width,height:e.height,lineHeight:e.height,padding:e.padding,margin:e.margin,borderRadius:e.radius,fontSize:e.fontSize}),disabled:e.disabled},[e.icon?(Z(),ne("i",{key:0,class:Qe(e.icon),style:We({fontSize:e.iconSize,lineHeight:"calc("+e.height+" - 2px)"})},null,6)):ye("",!0),Y("span",null,[rt(t.$slots,"default",{},void 0,!0)])],14,Ere))}}),eh=fi(Sre,[["__scopeId","data-v-a51a3cdb"]]),E7=ln({__name:"form",props:{width:{type:String,default:"100%"},height:{type:String,default:"auto"}},setup(e){return(t,n)=>(Z(),ne("table",{class:"wm-table_form",style:We({width:e.width,height:e.height})},[rt(t.$slots,"default")],4))}}),Are={class:"wm-radio"},kre={key:0,class:"wm-radio_label"},Tre=["onClick"],Ore={key:0,class:"wm-radio_label"},Cre=ln({__name:"index",props:{value:{default:""},options:{type:Array,default:[]},margin:{type:String,default:"4px 4px"},padding:{type:String,default:"4px"}},emits:["update:value","update:options"],setup(e,{emit:t}){const n=e,r=t,a=Ce([]);sn(()=>n.options,o=>{a.value=o},{deep:!0}),Wn(()=>{a.value=n.options});const i=o=>{for(let s in a.value)a.value[o].checked=o.toString()==s;r("update:value",a.value[o].value),r("update:options",a)};return(o,s)=>(Z(),ne("ul",Are,[(Z(!0),ne(Ve,null,Ft(a.value,(l,c)=>(Z(),ne(Ve,{key:c},[l.disabled?(Z(),ne("li",{key:0,class:"flex disabled",style:We({margin:e.margin,padding:e.padding})},[s[0]||(s[0]=Y("span",{class:"wm-radio_checked"},null,-1)),l.label?(Z(),ne("span",kre,be(l.label),1)):rt(o.$slots,"default",{key:1},void 0,!0)],4)):(Z(),ne("li",{key:1,class:"enabled",onClick:Ti(u=>i(c),["stop"]),style:We({margin:e.margin,padding:e.padding})},[Y("span",{class:Qe(["wm-radio_checked",l.value==e.value?"active":""])},null,2),l.label?(Z(),ne("span",Ore,be(l.label),1)):rt(o.$slots,"default",{key:1},void 0,!0)],12,Tre))],64))),128))]))}}),Mre=fi(Cre,[["__scopeId","data-v-c4f5b000"]]),S7=6048e5,Pre=864e5,Ire=6e4,A7=36e5,Rre=1e3,fP=Symbol.for("constructDateFrom");function nr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&fP in e?e[fP](t):e instanceof Date?new e.constructor(t):new Date(t)}function Lt(e,t){return nr(t||e,e)}function Os(e,t,n){const r=Lt(e,n==null?void 0:n.in);return isNaN(t)?nr((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function _l(e,t,n){const r=Lt(e,n==null?void 0:n.in);if(isNaN(t))return nr(e,NaN);if(!t)return r;const a=r.getDate(),i=nr(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function k7(e,t,n){const{years:r=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=Lt(e,n==null?void 0:n.in),f=a||r?_l(u,a+r*12):u,d=o||i?Os(f,o+i*7):f,h=l+s*60,v=(c+h*60)*1e3;return nr(e,+d+v)}function Nre(e,t,n){return nr(e,+Lt(e)+t)}function Dre(e,t,n){return Nre(e,t*A7)}let Lre={};function Zd(){return Lre}function Cl(e,t){var s,l,c,u;const n=Zd(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Lt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Eh(e,t){return Cl(e,{...t,weekStartsOn:1})}function T7(e,t){const n=Lt(e,t==null?void 0:t.in),r=n.getFullYear(),a=nr(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Eh(a),o=nr(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Eh(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Lx(e){const t=Lt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function wg(e,...t){const n=nr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function dP(e,t){const n=Lt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function O7(e,t,n){const[r,a]=wg(n==null?void 0:n.in,e,t),i=dP(r),o=dP(a),s=+i-Lx(i),l=+o-Lx(o);return Math.round((s-l)/Pre)}function Fre(e,t){const n=T7(e,t),r=nr(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Eh(r)}function Bre(e,t,n){return _l(e,t*3,n)}function VT(e,t,n){return _l(e,t*12,n)}function hP(e,t){const n=+Lt(e)-+Lt(t);return n<0?-1:n>0?1:n}function C7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zv(e){return!(!C7(e)&&typeof e!="number"||isNaN(+Lt(e)))}function pP(e,t){const n=Lt(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function $re(e,t,n){const[r,a]=wg(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function jre(e,t,n){const[r,a]=wg(n==null?void 0:n.in,e,t),i=hP(r,a),o=Math.abs($re(r,a));r.setFullYear(1584),a.setFullYear(1584);const s=hP(r,a)===-i,l=i*(o-+s);return l===0?0:l}function M7(e,t){const[n,r]=wg(e,t.start,t.end);return{start:n,end:r}}function P7(e,t){const{start:n,end:r}=M7(t==null?void 0:t.in,e);let a=+n>+r;const i=a?+n:+r,o=a?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(nr(n,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?l.reverse():l}function nd(e,t){const n=Lt(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function zre(e,t){const{start:n,end:r}=M7(t==null?void 0:t.in,e);let a=+n>+r;const i=a?+nd(n):+nd(r);let o=nd(a?r:n),s=1;const l=[];for(;+o<=i;)l.push(nr(n,o)),o=Bre(o,s);return a?l.reverse():l}function Ure(e,t){const n=Lt(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function I7(e,t){const n=Lt(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function b1(e,t){const n=Lt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function R7(e,t){var s,l,c,u;const n=Zd(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Lt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function vP(e,t){const n=Lt(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3+3;return n.setMonth(a,0),n.setHours(23,59,59,999),n}const Hre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gre=(e,t,n)=>{let r;const a=Hre[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function w_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Wre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xre={date:w_({formats:Wre,defaultWidth:"full"}),time:w_({formats:Vre,defaultWidth:"full"}),dateTime:w_({formats:Yre,defaultWidth:"full"})},qre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kre=(e,t,n,r)=>qre[e];function Fp(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Zre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rae=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aae={ordinalNumber:rae,era:Fp({values:Zre,defaultWidth:"wide"}),quarter:Fp({values:Qre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fp({values:Jre,defaultWidth:"wide"}),day:Fp({values:eae,defaultWidth:"wide"}),dayPeriod:Fp({values:tae,defaultWidth:"wide",formattingValues:nae,defaultFormattingWidth:"wide"})};function Bp(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?oae(s,f=>f.test(o)):iae(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function iae(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function oae(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sae(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const lae=/^(\d+)(th|st|nd|rd)?/i,cae=/\d+/i,uae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fae={any:[/^b/i,/^(a|c)/i]},dae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hae={any:[/1/i,/2/i,/3/i,/4/i]},pae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bae={ordinalNumber:sae({matchPattern:lae,parsePattern:cae,valueCallback:e=>parseInt(e,10)}),era:Bp({matchPatterns:uae,defaultMatchWidth:"wide",parsePatterns:fae,defaultParseWidth:"any"}),quarter:Bp({matchPatterns:dae,defaultMatchWidth:"wide",parsePatterns:hae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bp({matchPatterns:pae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any"}),day:Bp({matchPatterns:gae,defaultMatchWidth:"wide",parsePatterns:mae,defaultParseWidth:"any"}),dayPeriod:Bp({matchPatterns:yae,defaultMatchWidth:"any",parsePatterns:xae,defaultParseWidth:"any"})},N7={code:"en-US",formatDistance:Gre,formatLong:Xre,formatRelative:Kre,localize:aae,match:bae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wae(e,t){const n=Lt(e,t==null?void 0:t.in);return O7(n,b1(n))+1}function YT(e,t){const n=Lt(e,t==null?void 0:t.in),r=+Eh(n)-+Fre(n);return Math.round(r/S7)+1}function XT(e,t){var u,f,d,h;const n=Lt(e,t==null?void 0:t.in),r=n.getFullYear(),a=Zd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(d=a.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=nr((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const s=Cl(o,t),l=nr((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Cl(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function _ae(e,t){var s,l,c,u;const n=Zd(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=XT(e,t),i=nr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Cl(i,t)}function qT(e,t){const n=Lt(e,t==null?void 0:t.in),r=+Cl(n,t)-+_ae(n,t);return Math.round(r/S7)+1}function Zn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Su={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Zn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Zn(n+1,2)},d(e,t){return Zn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Zn(e.getHours()%12||12,t.length)},H(e,t){return Zn(e.getHours(),t.length)},m(e,t){return Zn(e.getMinutes(),t.length)},s(e,t){return Zn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Zn(a,t.length)}},y0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Su.y(e,t)},Y:function(e,t,n,r){const a=XT(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Zn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Zn(i,t.length)},R:function(e,t){const n=T7(e);return Zn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Zn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Zn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Zn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Su.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Zn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=qT(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Zn(a,t.length)},I:function(e,t,n){const r=YT(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Zn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Su.d(e,t)},D:function(e,t,n){const r=wae(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Zn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Zn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Zn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Zn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=y0.noon:r===0?a=y0.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=y0.evening:r>=12?a=y0.afternoon:r>=4?a=y0.morning:a=y0.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Su.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Su.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Zn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Zn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Su.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Su.s(e,t)},S:function(e,t){return Su.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return yP(r);case"XXXX":case"XX":return Kf(r);case"XXXXX":case"XXX":default:return Kf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return yP(r);case"xxxx":case"xx":return Kf(r);case"xxxxx":case"xxx":default:return Kf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mP(r,":");case"OOOO":default:return"GMT"+Kf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mP(r,":");case"zzzz":default:return"GMT"+Kf(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Zn(r,t.length)},T:function(e,t,n){return Zn(+e,t.length)}};function mP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Zn(i,2)}function yP(e,t){return e%60===0?(e>0?"-":"+")+Zn(Math.abs(e)/60,2):Kf(e,t)}function Kf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Zn(Math.trunc(r/60),2),i=Zn(r%60,2);return n+a+t+i}const xP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},D7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Eae=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return xP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",xP(r,t)).replace("{{time}}",D7(a,t))},aA={p:D7,P:Eae},Sae=/^D+$/,Aae=/^Y+$/,kae=["D","DD","YY","YYYY"];function L7(e){return Sae.test(e)}function F7(e){return Aae.test(e)}function iA(e,t,n){const r=Tae(e,t,n);if(console.warn(r),kae.includes(e))throw new RangeError(r)}function Tae(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mae=/^'([^]*?)'?$/,Pae=/''/g,Iae=/[a-zA-Z]/;function hc(e,t,n){var u,f,d,h,p,v,g,m;const r=Zd(),a=(n==null?void 0:n.locale)??r.locale??N7,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,s=Lt(e,n==null?void 0:n.in);if(!zv(s))throw new RangeError("Invalid time value");let l=t.match(Cae).map(y=>{const x=y[0];if(x==="p"||x==="P"){const b=aA[x];return b(y,a.formatLong)}return y}).join("").match(Oae).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Rae(y)};if(gP[x])return{isToken:!0,value:y};if(x.match(Iae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&F7(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&L7(x))&&iA(x,t,String(e));const b=gP[x[0]];return b(s,x,a.localize,c)}).join("")}function Rae(e){const t=e.match(Mae);return t?t[1].replace(Pae,"'"):e}function Nae(e,t){return Lt(e,t==null?void 0:t.in).getDay()}function Dae(e,t){const n=Lt(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),i=nr(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Lae(){return Object.assign({},Zd())}function fu(e,t){return Lt(e,t==null?void 0:t.in).getHours()}function Fae(e,t){const n=Lt(e,t==null?void 0:t.in).getDay();return n===0?7:n}function af(e,t){return Lt(e,t==null?void 0:t.in).getMinutes()}function gn(e,t){return Lt(e,t==null?void 0:t.in).getMonth()}function Sh(e){return Lt(e).getSeconds()}function Wt(e,t){return Lt(e,t==null?void 0:t.in).getFullYear()}function kd(e,t){return+Lt(e)>+Lt(t)}function Ah(e,t){return+Lt(e)<+Lt(t)}function j0(e,t){return+Lt(e)==+Lt(t)}function Bae(e,t){const n=$ae(t)?new t(0):nr(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function $ae(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const jae=10;class B7{constructor(){gt(this,"subPriority",0)}validate(t,n){return!0}}class zae extends B7{constructor(t,n,r,a,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class Uae extends B7{constructor(n,r){super();gt(this,"priority",jae);gt(this,"subPriority",-1);this.context=n||(a=>nr(r,a))}set(n,r){return r.timestampIsSet?n:nr(n,Bae(n,this.context))}}class Bn{run(t,n,r,a){const i=this.parse(t,n,r,a);return i?{setter:new zae(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class Hae extends Bn{constructor(){super(...arguments);gt(this,"priority",140);gt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const ya={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xa(e,t){return e&&{value:t(e.value),rest:e.rest}}function ea(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function rc(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*A7+i*Ire+o*Rre),rest:t.slice(n[0].length)}}function $7(e){return ea(ya.anyDigitsSigned,e)}function sa(e,t){switch(e){case 1:return ea(ya.singleDigit,t);case 2:return ea(ya.twoDigits,t);case 3:return ea(ya.threeDigits,t);case 4:return ea(ya.fourDigits,t);default:return ea(new RegExp("^\\d{1,"+e+"}"),t)}}function Fx(e,t){switch(e){case 1:return ea(ya.singleDigitSigned,t);case 2:return ea(ya.twoDigitsSigned,t);case 3:return ea(ya.threeDigitsSigned,t);case 4:return ea(ya.fourDigitsSigned,t);default:return ea(new RegExp("^-?\\d{1,"+e+"}"),t)}}function KT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function j7(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const i=r+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return n?a:1-a}function z7(e){return e%400===0||e%4===0&&e%100!==0}class Gae extends Bn{constructor(){super(...arguments);gt(this,"priority",130);gt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return xa(sa(4,n),i);case"yo":return xa(a.ordinalNumber(n,{unit:"year"}),i);default:return xa(sa(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const i=n.getFullYear();if(a.isTwoDigitYear){const s=j7(a.year,i);return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Wae extends Bn{constructor(){super(...arguments);gt(this,"priority",130);gt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return xa(sa(4,n),i);case"Yo":return xa(a.ordinalNumber(n,{unit:"year"}),i);default:return xa(sa(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,i){const o=XT(n,i);if(a.isTwoDigitYear){const l=j7(a.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Cl(n,i)}const s=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(s,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Cl(n,i)}}class Vae extends Bn{constructor(){super(...arguments);gt(this,"priority",130);gt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Fx(r==="R"?4:r.length,n)}set(n,r,a){const i=nr(n,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Eh(i)}}class Yae extends Bn{constructor(){super(...arguments);gt(this,"priority",130);gt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Fx(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class Xae extends Bn{constructor(){super(...arguments);gt(this,"priority",120);gt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return sa(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class qae extends Bn{constructor(){super(...arguments);gt(this,"priority",120);gt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return sa(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class Kae extends Bn{constructor(){super(...arguments);gt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);gt(this,"priority",110)}parse(n,r,a){const i=o=>o-1;switch(r){case"M":return xa(ea(ya.month,n),i);case"MM":return xa(sa(2,n),i);case"Mo":return xa(a.ordinalNumber(n,{unit:"month"}),i);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class Zae extends Bn{constructor(){super(...arguments);gt(this,"priority",110);gt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const i=o=>o-1;switch(r){case"L":return xa(ea(ya.month,n),i);case"LL":return xa(sa(2,n),i);case"Lo":return xa(a.ordinalNumber(n,{unit:"month"}),i);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function Qae(e,t,n){const r=Lt(e,n==null?void 0:n.in),a=qT(r,n)-t;return r.setDate(r.getDate()-a*7),Lt(r,n==null?void 0:n.in)}class Jae extends Bn{constructor(){super(...arguments);gt(this,"priority",100);gt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return ea(ya.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return sa(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,i){return Cl(Qae(n,a,i),i)}}function eie(e,t,n){const r=Lt(e,n==null?void 0:n.in),a=YT(r,n)-t;return r.setDate(r.getDate()-a*7),r}class tie extends Bn{constructor(){super(...arguments);gt(this,"priority",100);gt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return ea(ya.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return sa(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return Eh(eie(n,a))}}const nie=[31,28,31,30,31,30,31,31,30,31,30,31],rie=[31,29,31,30,31,30,31,31,30,31,30,31];class aie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"subPriority",1);gt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return ea(ya.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return sa(r.length,n)}}validate(n,r){const a=n.getFullYear(),i=z7(a),o=n.getMonth();return i?r>=1&&r<=rie[o]:r>=1&&r<=nie[o]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class iie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"subpriority",1);gt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return ea(ya.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return sa(r.length,n)}}validate(n,r){const a=n.getFullYear();return z7(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function ZT(e,t,n){var f,d,h,p;const r=Zd(),a=(n==null?void 0:n.weekStartsOn)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=Lt(e,n==null?void 0:n.in),o=i.getDay(),l=(t%7+7)%7,c=7-a,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Os(i,u,n)}class oie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ZT(n,a,i),n.setHours(0,0,0,0),n}}class sie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return xa(sa(r.length,n),o);case"eo":return xa(a.ordinalNumber(n,{unit:"day"}),o);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ZT(n,a,i),n.setHours(0,0,0,0),n}}class lie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return xa(sa(r.length,n),o);case"co":return xa(a.ordinalNumber(n,{unit:"day"}),o);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ZT(n,a,i),n.setHours(0,0,0,0),n}}function cie(e,t,n){const r=Lt(e,n==null?void 0:n.in),a=Fae(r,n),i=t-a;return Os(r,i,n)}class uie extends Bn{constructor(){super(...arguments);gt(this,"priority",90);gt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return sa(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return xa(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return xa(a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return xa(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return xa(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=cie(n,a),n.setHours(0,0,0,0),n}}class fie extends Bn{constructor(){super(...arguments);gt(this,"priority",80);gt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(KT(a),0,0,0),n}}class die extends Bn{constructor(){super(...arguments);gt(this,"priority",80);gt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(KT(a),0,0,0),n}}class hie extends Bn{constructor(){super(...arguments);gt(this,"priority",80);gt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(KT(a),0,0,0),n}}class pie extends Bn{constructor(){super(...arguments);gt(this,"priority",70);gt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return ea(ya.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return sa(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const i=n.getHours()>=12;return i&&a<12?n.setHours(a+12,0,0,0):!i&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class vie extends Bn{constructor(){super(...arguments);gt(this,"priority",70);gt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return ea(ya.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return sa(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class gie extends Bn{constructor(){super(...arguments);gt(this,"priority",70);gt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return ea(ya.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return sa(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class mie extends Bn{constructor(){super(...arguments);gt(this,"priority",70);gt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return ea(ya.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return sa(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const i=a<=24?a%24:a;return n.setHours(i,0,0,0),n}}class yie extends Bn{constructor(){super(...arguments);gt(this,"priority",60);gt(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return ea(ya.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return sa(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class xie extends Bn{constructor(){super(...arguments);gt(this,"priority",50);gt(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return ea(ya.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return sa(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class bie extends Bn{constructor(){super(...arguments);gt(this,"priority",30);gt(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=i=>Math.trunc(i*Math.pow(10,-r.length+3));return xa(sa(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class wie extends Bn{constructor(){super(...arguments);gt(this,"priority",10);gt(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return rc(nc.basicOptionalMinutes,n);case"XX":return rc(nc.basic,n);case"XXXX":return rc(nc.basicOptionalSeconds,n);case"XXXXX":return rc(nc.extendedOptionalSeconds,n);case"XXX":default:return rc(nc.extended,n)}}set(n,r,a){return r.timestampIsSet?n:nr(n,n.getTime()-Lx(n)-a)}}class _ie extends Bn{constructor(){super(...arguments);gt(this,"priority",10);gt(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return rc(nc.basicOptionalMinutes,n);case"xx":return rc(nc.basic,n);case"xxxx":return rc(nc.basicOptionalSeconds,n);case"xxxxx":return rc(nc.extendedOptionalSeconds,n);case"xxx":default:return rc(nc.extended,n)}}set(n,r,a){return r.timestampIsSet?n:nr(n,n.getTime()-Lx(n)-a)}}class Eie extends Bn{constructor(){super(...arguments);gt(this,"priority",40);gt(this,"incompatibleTokens","*")}parse(n){return $7(n)}set(n,r,a){return[nr(n,a*1e3),{timestampIsSet:!0}]}}class Sie extends Bn{constructor(){super(...arguments);gt(this,"priority",20);gt(this,"incompatibleTokens","*")}parse(n){return $7(n)}set(n,r,a){return[nr(n,a),{timestampIsSet:!0}]}}const Aie={G:new Hae,y:new Gae,Y:new Wae,R:new Vae,u:new Yae,Q:new Xae,q:new qae,M:new Kae,L:new Zae,w:new Jae,I:new tie,d:new aie,D:new iie,E:new oie,e:new sie,c:new lie,i:new uie,a:new fie,b:new die,B:new hie,h:new pie,H:new vie,K:new gie,k:new mie,m:new yie,s:new xie,S:new bie,X:new wie,x:new _ie,t:new Eie,T:new Sie},kie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oie=/^'([^]*?)'?$/,Cie=/''/g,Mie=/\S/,Pie=/[a-zA-Z]/;function oA(e,t,n,r){var g,m,y,x,b,E,_,w;const a=()=>nr((r==null?void 0:r.in)||n,NaN),i=Lae(),o=(r==null?void 0:r.locale)??i.locale??N7,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(y=i.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((E=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??i.weekStartsOn??((w=(_=i.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??0;if(!t)return e?a():Lt(n,r==null?void 0:r.in);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:o},u=[new Uae(r==null?void 0:r.in,n)],f=t.match(Tie).map(A=>{const S=A[0];if(S in aA){const k=aA[S];return k(A,o.formatLong)}return A}).join("").match(kie),d=[];for(let A of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&F7(A)&&iA(A,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&L7(A)&&iA(A,t,e);const S=A[0],k=Aie[S];if(k){const{incompatibleTokens:T}=k;if(Array.isArray(T)){const C=d.find(M=>T.includes(M.token)||M.token===S);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${A}\` at the same time`)}else if(k.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);d.push({token:S,fullToken:A});const O=k.run(e,A,o.match,c);if(!O)return a();u.push(O.setter),e=O.rest}else{if(S.match(Pie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(A==="''"?A="'":S==="'"&&(A=Iie(A)),e.indexOf(A)===0)e=e.slice(A.length);else return a()}}if(e.length>0&&Mie.test(e))return a();const h=u.map(A=>A.priority).sort((A,S)=>S-A).filter((A,S,k)=>k.indexOf(A)===S).map(A=>u.filter(S=>S.priority===A).sort((S,k)=>k.subPriority-S.subPriority)).map(A=>A[0]);let p=Lt(n,r==null?void 0:r.in);if(isNaN(+p))return a();const v={};for(const A of h){if(!A.validate(p,c))return a();const S=A.set(p,v,c);Array.isArray(S)?(p=S[0],Object.assign(v,S[1])):p=S}return p}function Iie(e){return e.match(Oie)[1].replace(Cie,"'")}function bP(e,t,n){const[r,a]=wg(n==null?void 0:n.in,e,t);return+nd(r)==+nd(a)}function U7(e,t,n){return Os(e,-t,n)}function H7(e,t,n){const r=Lt(e,n==null?void 0:n.in),a=r.getFullYear(),i=r.getDate(),o=nr(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const s=Dae(o);return r.setMonth(t,Math.min(i,s)),r}function cr(e,t,n){let r=Lt(e,n==null?void 0:n.in);return isNaN(+r)?nr(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=H7(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function Rie(e,t,n){const r=Lt(e,n==null?void 0:n.in);return r.setHours(t),r}function G7(e,t,n){const r=Lt(e,n==null?void 0:n.in);return r.setMilliseconds(t),r}function Nie(e,t,n){const r=Lt(e,n==null?void 0:n.in);return r.setMinutes(t),r}function W7(e,t,n){const r=Lt(e,n==null?void 0:n.in);return r.setSeconds(t),r}function lc(e,t,n){const r=Lt(e,n==null?void 0:n.in);return isNaN(+r)?nr(e,NaN):(r.setFullYear(t),r)}function kh(e,t,n){return _l(e,-t,n)}function Die(e,t,n){const{years:r=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=kh(e,a+r*12,n),f=U7(u,o+i*7,n),d=l+s*60,p=(c+d*60)*1e3;return nr(e,+f-p)}function V7(e,t,n){return VT(e,-t,n)}function hp(){const e=TQ();return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[Y("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Y("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Y("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Y("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}hp.compatConfig={MODE:3};function Y7(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Y("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Y7.compatConfig={MODE:3};function QT(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}QT.compatConfig={MODE:3};function JT(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}JT.compatConfig={MODE:3};function eO(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Y("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}eO.compatConfig={MODE:3};function tO(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}tO.compatConfig={MODE:3};function nO(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Y("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}nO.compatConfig={MODE:3};const $o=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),rO=(e,t,n)=>sA(e,t,n)||Ge(),Lie=(e,t,n)=>{const r=t.dateInTz?$o(new Date(e),t.dateInTz):Ge(e);return n?ui(r,!0):r},sA=(e,t,n)=>{if(!e)return null;const r=n?ui(Ge(e),!0):Ge(e);return t?t.exactMatch?Lie(e,t,n):$o(r,t.timezone):r},Fie=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},Bie=(e,t)=>{if(!e)return 0;const n=new Date,r=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:e})),i=(Fie(t??a)?a:t??a).getTimezoneOffset()/60;return(+r-+a)/(1e3*60*60)-i};var rl=(e=>(e.month="month",e.year="year",e))(rl||{}),al=(e=>(e.top="top",e.bottom="bottom",e))(al||{}),pd=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(pd||{}),Bi=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Bi||{});const $ie=["timestamp","date","iso"];var io=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(io||{}),kr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(kr||{}),th=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(th||{});function wP(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function jie(e){return t=>hc($o(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const zie=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=r.map(jie(e))}catch{a=r.map(wP(t))}else a=r.map(wP(t));const i=a.slice(0,n),o=a.slice(n+1,a.length);return[a[n]].concat(...o).concat(...i)},aO=(e,t,n)=>{const r=[];for(let a=+e[0];a<=+e[1];a++)r.push({value:+a,text:Z7(a,t)});return n?r.reverse():r},X7=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=n==="long"?"LLLL":"LLL";return r.map((o,s)=>{const l=hc($o(o,"UTC"),i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((i,o)=>{const s=a.format(i);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},Uie=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Pa=e=>{const t=J(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},Hie=e=>({type:"dot",...e??{}}),q7=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,iO={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ja=e=>e,_P=e=>e===0?e:!e||isNaN(+e)?null:+e,EP=e=>e===null,K7=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Gie=e=>{const t=[],n=r=>r.filter(a=>a);for(let r=0;r<e.length;r+=3){const a=[e[r],e[r+1],e[r+2]];t.push(n(a))}return t},w1=(e,t,n)=>{const r=n!=null,a=t!=null;if(!r&&!a)return!1;const i=+n,o=+t;return r&&a?+e>i||+e<o:r?+e>i:a?+e<o:!1},Th=(e,t)=>Gie(e).map(n=>n.map(r=>{const{active:a,disabled:i,isBetween:o,highlighted:s}=t(r);return{...r,active:a,disabled:i,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&a,dp__cell_in_between:o,"dp--highlighted":s}}})),Zu=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},Wie=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Vie(e,t){let n=[...document.querySelectorAll(Wie())];n=n.filter(a=>!e.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=n.indexOf(e);if(r>=0&&(t?r-1>=0:r+1<=n.length))return n[r+(t?-1:1)]}const lA=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),Z7=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),oO=(e,t)=>hc(e,t??th.DATE),__=e=>Array.isArray(e),Bx=(e,t,n)=>t.get(oO(e,n)),Yie=(e,t)=>e?t?t instanceof Map?!!Bx(e,t):t(Ge(e)):!1:!0,mo=(e,t,n=!1,r)=>{if(e.key===kr.enter||e.key===kr.space)return n&&e.preventDefault(),t();if(r)return r(e)},Xie=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Q7=(e,t)=>e?th.MONTH_AND_YEAR:t?th.YEAR:th.DATE,J7=e=>e<10?`0${e}`:e,SP=(e,t,n,r,a,i)=>{const o=oA(e,t.slice(0,e.length),new Date,{locale:i});return zv(o)&&C7(o)?r||a?o:cr(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},qie=(e,t,n,r,a,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof t=="string")return SP(e,t,o,r,a,i);if(Array.isArray(t)){let s=null;for(const l of t)if(s=SP(e,l,o,r,a,i),s)break;return s}return typeof t=="function"?t(e):null},Ge=e=>e?new Date(e):new Date,Kie=(e,t,n)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${o}:${s}:${l}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},ui=(e,t)=>{const n=Ge(JSON.parse(JSON.stringify(e))),r=cr(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?Ure(r):r},Qu=(e,t,n,r)=>{let a=e?Ge(e):Ge();return(t||t===0)&&(a=Rie(a,+t)),(n||n===0)&&(a=Nie(a,+n)),(r||r===0)&&(a=W7(a,+r)),G7(a,0)},ra=(e,t)=>!e||!t?!1:Ah(ui(e),ui(t)),mn=(e,t)=>!e||!t?!1:j0(ui(e),ui(t)),ga=(e,t)=>!e||!t?!1:kd(ui(e),ui(t)),_1=(e,t,n)=>e!=null&&e[0]&&e!=null&&e[1]?ga(n,e[0])&&ra(n,e[1]):e!=null&&e[0]&&t?ga(n,e[0])&&ra(n,t)||ra(n,e[0])&&ga(n,t):!1,ul=e=>{const t=cr(new Date(e),{date:1});return ui(t)},E_=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},vd=e=>({hours:fu(e),minutes:af(e),seconds:Sh(e)}),e9=(e,t)=>{if(t){const n=Wt(Ge(t));if(n>e)return 12;if(n===e)return gn(Ge(t))}},t9=(e,t)=>{if(t){const n=Wt(Ge(t));return n<e?-1:n===e?gn(Ge(t)):void 0}},Oh=e=>{if(e)return Wt(Ge(e))},n9=(e,t)=>{const n=ga(e,t)?t:e,r=ga(t,e)?t:e;return P7({start:n,end:r})},Zie=e=>{const t=_l(e,1);return{month:gn(t),year:Wt(t)}},Vc=(e,t)=>{const n=Cl(e,{weekStartsOn:+t}),r=R7(e,{weekStartsOn:+t});return[n,r]},r9=(e,t)=>{const n={hours:fu(Ge()),minutes:af(Ge()),seconds:t?Sh(Ge()):0};return Object.assign(n,e)},Uu=(e,t,n)=>[cr(Ge(e),{date:1}),cr(Ge(),{month:t,year:n,date:1})],Jc=(e,t,n)=>{let r=e?Ge(e):Ge();return(t||t===0)&&(r=H7(r,t)),n&&(r=lc(r,n)),r},a9=(e,t,n,r,a)=>{if(!r||a&&!t||!a&&!n)return!1;const i=a?_l(e,1):kh(e,1),o=[gn(i),Wt(i)];return a?!Jie(...o,t):!Qie(...o,n)},Qie=(e,t,n)=>ra(...Uu(n,e,t))||mn(...Uu(n,e,t)),Jie=(e,t,n)=>ga(...Uu(n,e,t))||mn(...Uu(n,e,t)),i9=(e,t,n,r,a,i,o)=>{if(typeof t=="function"&&!o)return t(e);const s=n?{locale:n}:void 0;return Array.isArray(e)?`${hc(e[0],i,s)}${a&&!e[1]?"":r}${e[1]?hc(e[1],i,s):""}`:hc(e,i,s)},x0=e=>{if(e)return null;throw new Error(iO.prop("partial-range"))},pm=(e,t)=>{if(t)return e();throw new Error(iO.prop("range"))},cA=e=>Array.isArray(e)?zv(e[0])&&(e[1]?zv(e[1]):!0):e?zv(e):!1,eoe=(e,t)=>cr(t??Ge(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),S_=(e,t,n,r)=>{if(!e)return!0;if(r){const a=n==="max"?Ah(e,t):kd(e,t),i={seconds:0,milliseconds:0};return a||j0(cr(e,i),cr(t,i))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},A_=(e,t,n)=>e?eoe(e,t):Ge(n??t),AP=(e,t,n,r,a)=>{if(Array.isArray(r)){const o=A_(e,r[0],t),s=A_(e,r[1],t);return S_(r[0],o,n,!!t)&&S_(r[1],s,n,!!t)&&a}const i=A_(e,r,t);return S_(r,i,n,!!t)&&a},k_=e=>cr(Ge(),vd(e)),toe=(e,t,n)=>{if(e instanceof Map){const r=`${J7(n+1)}-${t}`;return e.size?e.has(r):!1}return typeof e=="function"?e(ui(cr(Ge(),{month:n,year:t}),!0)):!1},noe=(e,t,n)=>{if(e instanceof Map){const r=`${J7(n+1)}-${t}`;return e.size?e.has(r):!0}return!0},o9=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(r=>r.month===t&&r.year===n),sO=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),uA=e=>`dp-${hc(e,"yyyy-MM-dd")}`,kP=(e,t)=>{const n=U7(ui(t),e),r=Os(ui(t),e);return{before:n,after:r}},$p=Ic({menuFocused:!1,shiftKeyInMenu:!1}),s9=()=>{const e=n=>{$p.menuFocused=n},t=n=>{$p.shiftKeyInMenu!==n&&($p.shiftKeyInMenu=n)};return{control:je(()=>({shiftKeyInMenu:$p.shiftKeyInMenu,menuFocused:$p.menuFocused})),setMenuFocused:e,setShiftKey:t}},Er=Ic({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),T_=Ce(null),vm=Ce(!1),O_=Ce(!1),C_=Ce(!1),M_=Ce(!1),Pi=Ce(0),ua=Ce(0),mf=()=>{const e=je(()=>vm.value?[...Er.selectionGrid,Er.actionRow].filter(f=>f.length):O_.value?[...Er.timePicker[0],...Er.timePicker[1],M_.value?[]:[T_.value],Er.actionRow].filter(f=>f.length):C_.value?[...Er.monthPicker,Er.actionRow]:[Er.monthYear,...Er.calendar,Er.time,Er.actionRow].filter(f=>f.length)),t=f=>{Pi.value=f?Pi.value+1:Pi.value-1;let d=null;e.value[ua.value]&&(d=e.value[ua.value][Pi.value]),!d&&e.value[ua.value+(f?1:-1)]?(ua.value=ua.value+(f?1:-1),Pi.value=f?0:e.value[ua.value].length-1):d||(Pi.value=f?Pi.value-1:Pi.value+1)},n=f=>{ua.value===0&&!f||ua.value===e.value.length&&f||(ua.value=f?ua.value+1:ua.value-1,e.value[ua.value]?e.value[ua.value]&&!e.value[ua.value][Pi.value]&&Pi.value!==0&&(Pi.value=e.value[ua.value].length-1):ua.value=f?ua.value-1:ua.value+1)},r=f=>{let d=null;e.value[ua.value]&&(d=e.value[ua.value][Pi.value]),d?d.focus({preventScroll:!vm.value}):Pi.value=f?Pi.value-1:Pi.value+1},a=()=>{t(!0),r(!0)},i=()=>{t(!1),r(!1)},o=()=>{n(!1),r(!0)},s=()=>{n(!0),r(!0)},l=(f,d)=>{Er[d]=f},c=(f,d)=>{Er[d]=f},u=()=>{Pi.value=0,ua.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:f=>{T_.value=f},setSelectionGrid:f=>{vm.value=f,u(),f||(Er.selectionGrid=[])},setTimePicker:(f,d=!1)=>{O_.value=f,M_.value=d,u(),f||(Er.timePicker[0]=[],Er.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Er.timePicker[d]=f},arrowRight:a,arrowLeft:i,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Er.monthYear=[],Er.calendar=[],Er.time=[],Er.actionRow=[],Er.selectionGrid=[],Er.timePicker[0]=[],Er.timePicker[1]=[],vm.value=!1,O_.value=!1,M_.value=!1,C_.value=!1,u(),T_.value=null},setMonthPicker:f=>{C_.value=f,u()},refSets:Er}},TP=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),roe=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),OP=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,aoe=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:OP(!1)};const r=t?e:{},a=t?r.count??!0:e,i=OP(a);return Object.assign(n,r,{count:i})},ioe=(e,t,n)=>e||(typeof n=="string"?n:t),ooe=e=>typeof e=="boolean"?e?TP({}):!1:TP(e),soe=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},loe=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),coe=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),uoe=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},foe=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),doe=e=>{const t={dates:Array.isArray(e)?e.map(n=>Ge(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},hoe=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},poe=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},voe=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},P_=(e,t,n,r)=>new Map(e.map(a=>{const i=rO(a,t,r);return[oO(i,n),i]})),goe=(e,t)=>e.length?new Map(e.map(n=>{const r=rO(n.date,t);return[oO(r,th.DATE),n]})):null,moe=e=>{var t;const n=Q7(e.isMonthPicker,e.isYearPicker);return{minDate:sA(e.minDate,e.timezone,e.isSpecific),maxDate:sA(e.maxDate,e.timezone,e.isSpecific),disabledDates:__(e.disabledDates)?P_(e.disabledDates,e.timezone,n,e.isSpecific):e.disabledDates,allowedDates:__(e.allowedDates)?P_(e.allowedDates,e.timezone,n,e.isSpecific):null,highlight:typeof e.highlight=="object"&&__((t=e.highlight)==null?void 0:t.dates)?P_(e.highlight.dates,e.timezone,n):e.highlight,markers:goe(e.markers,e.timezone)}},yoe=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},xoe=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,r=e[n],a=typeof e[n]=="string"?{[r]:!0}:Object.fromEntries(r.map(i=>[i,!0]));return[t,a]}))}),Hr=e=>{const t=()=>{const _=e.enableSeconds?":ss":"",w=e.enableMinutes?":mm":"";return e.is24?`HH${w}${_}`:`hh${w}${_} aa`},n=()=>{var _;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((_=g.value)==null?void 0:_.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},r=_=>r9(_,e.enableSeconds),a=()=>b.value.enabled?e.startTime&&Array.isArray(e.startTime)?[r(e.startTime[0]),r(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?r(e.startTime):null,i=je(()=>aoe(e.multiCalendars)),o=je(()=>a()),s=je(()=>roe(e.ariaLabels)),l=je(()=>loe(e.filters)),c=je(()=>ooe(e.transitions)),u=je(()=>coe(e.actionRow)),f=je(()=>ioe(e.previewFormat,e.format,n())),d=je(()=>soe(e.textInput)),h=je(()=>uoe(e.inline)),p=je(()=>foe(e.config)),v=je(()=>doe(e.highlight)),g=je(()=>hoe(e.weekNumbers)),m=je(()=>voe(e.timezone)),y=je(()=>yoe(e.multiDates)),x=je(()=>moe({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:m.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),b=je(()=>poe(e.range)),E=je(()=>xoe(e.ui));return{defaultedTransitions:c,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:f,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:v,defaultedWeekNumbers:g,defaultedRange:b,propDates:x,defaultedTz:m,defaultedMultiDates:y,defaultedUI:E,getDefaultPattern:n,getDefaultStartTime:a,handleEventPropagation:_=>{p.value.allowStopPropagation&&_.stopPropagation(),p.value.allowPreventDefault&&_.preventDefault()}}},boe=(e,t,n)=>{const r=Ce(),{defaultedTextInput:a,defaultedRange:i,defaultedTz:o,defaultedMultiDates:s,getDefaultPattern:l}=Hr(t),c=Ce(""),u=f1(t,"format"),f=f1(t,"formatLocale");sn(r,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",r.value,H(!0))},{deep:!0}),sn(i,(D,G)=>{D.enabled!==G.enabled&&(r.value=null)}),sn(u,()=>{B()});const d=D=>o.value.timezone&&o.value.convertModel?$o(D,o.value.timezone):D,h=D=>{if(o.value.timezone&&o.value.convertModel){const G=Bie(o.value.timezone,D);return Dre(D,G)}return D},p=(D,G,K=!1)=>i9(D,t.format,t.formatLocale,a.value.rangeSeparator,t.modelAuto,G??l(),K),v=D=>D?t.modelType?V(D):{hours:fu(D),minutes:af(D),seconds:t.enableSeconds?Sh(D):0}:null,g=D=>t.modelType?V(D):{month:gn(D),year:Wt(D)},m=D=>Array.isArray(D)?s.value.enabled?D.map(G=>y(G,lc(Ge(),G))):pm(()=>[lc(Ge(),D[0]),D[1]?lc(Ge(),D[1]):x0(i.value.partialRange)],i.value.enabled):lc(Ge(),+D),y=(D,G)=>(typeof D=="string"||typeof D=="number")&&t.modelType?N(D):G,x=D=>Array.isArray(D)?[y(D[0],Qu(null,+D[0].hours,+D[0].minutes,D[0].seconds)),y(D[1],Qu(null,+D[1].hours,+D[1].minutes,D[1].seconds))]:y(D,Qu(null,D.hours,D.minutes,D.seconds)),b=D=>{const G=cr(Ge(),{date:1});return Array.isArray(D)?s.value.enabled?D.map(K=>y(K,Jc(G,+K.month,+K.year))):pm(()=>[y(D[0],Jc(G,+D[0].month,+D[0].year)),y(D[1],D[1]?Jc(G,+D[1].month,+D[1].year):x0(i.value.partialRange))],i.value.enabled):y(D,Jc(G,+D.month,+D.year))},E=D=>{if(Array.isArray(D))return D.map(G=>N(G));throw new Error(iO.dateArr("multi-dates"))},_=D=>{if(Array.isArray(D)&&i.value.enabled){const G=D[0],K=D[1];return[Ge(Array.isArray(G)?G[0]:null),Array.isArray(K)&&K.length?Ge(K[0]):null]}return Ge(D[0])},w=D=>t.modelAuto?Array.isArray(D)?[N(D[0]),N(D[1])]:t.autoApply?[N(D)]:[N(D),null]:Array.isArray(D)?pm(()=>D[1]?[N(D[0]),D[1]?N(D[1]):x0(i.value.partialRange)]:[N(D[0])],i.value.enabled):N(D),A=()=>{Array.isArray(r.value)&&i.value.enabled&&r.value.length===1&&r.value.push(x0(i.value.partialRange))},S=()=>{const D=r.value;return[V(D[0]),D[1]?V(D[1]):x0(i.value.partialRange)]},k=()=>Array.isArray(r.value)?r.value[1]?S():V(Ja(r.value[0])):[],T=()=>(r.value||[]).map(D=>V(D)),O=(D=!1)=>(D||A(),t.modelAuto?k():s.value.enabled?T():Array.isArray(r.value)?pm(()=>S(),i.value.enabled):V(Ja(r.value))),C=D=>!D||Array.isArray(D)&&!D.length?null:t.timePicker?x(Ja(D)):t.monthPicker?b(Ja(D)):t.yearPicker?m(Ja(D)):s.value.enabled?E(Ja(D)):t.weekPicker?_(Ja(D)):w(Ja(D)),M=D=>{const G=C(D);cA(Ja(G))?(r.value=Ja(G),B()):(r.value=null,c.value="")},R=()=>{const D=G=>hc(G,a.value.format);return`${D(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?D(r.value[1]):""}`},I=()=>n.value&&r.value?Array.isArray(r.value)?R():hc(r.value,a.value.format):p(r.value),P=()=>r.value?s.value.enabled?r.value.map(D=>p(D)).join("; "):a.value.enabled&&typeof a.value.format=="string"?I():p(r.value):"",B=()=>{!t.format||typeof t.format=="string"||a.value.enabled&&typeof a.value.format=="string"?c.value=P():c.value=t.format(r.value)},N=D=>{if(t.utc){const G=new Date(D);return t.utc==="preserve"?new Date(G.getTime()+G.getTimezoneOffset()*6e4):G}return t.modelType?$ie.includes(t.modelType)?d(new Date(D)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?d(oA(D,l(),new Date,{locale:f.value})):d(oA(D,t.modelType,new Date,{locale:f.value})):d(new Date(D))},V=D=>D?t.utc?Kie(D,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+h(D):t.modelType==="iso"?h(D).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?p(h(D)):p(h(D),t.modelType,!0):h(D):"",W=(D,G=!1,K=!1)=>{if(K)return D;if(e("update:model-value",D),o.value.emitTimezone&&G){const re=Array.isArray(D)?D.map(ie=>$o(Ja(ie),o.value.emitTimezone)):$o(Ja(D),o.value.emitTimezone);e("update:model-timezone-value",re)}},z=D=>Array.isArray(r.value)?s.value.enabled?r.value.map(G=>D(G)):[D(r.value[0]),r.value[1]?D(r.value[1]):x0(i.value.partialRange)]:D(Ja(r.value)),j=()=>{if(Array.isArray(r.value)){const D=Vc(r.value[0],t.weekStart),G=r.value[1]?Vc(r.value[1],t.weekStart):[];return[D.map(K=>Ge(K)),G.map(K=>Ge(K))]}return Vc(r.value,t.weekStart).map(D=>Ge(D))},L=(D,G)=>W(Ja(z(D)),!1,G),F=D=>{const G=j();return D?G:e("update:model-value",j())},H=(D=!1)=>(D||B(),t.monthPicker?L(g,D):t.timePicker?L(v,D):t.yearPicker?L(Wt,D):t.weekPicker?F(D):W(O(D),!0,D));return{inputValue:c,internalModelValue:r,checkBeforeEmit:()=>r.value?i.value.enabled?i.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:M,formatInputValue:B,emitModelValue:H}},woe=(e,t)=>{const{defaultedFilters:n,propDates:r}=Hr(e),{validateMonthYearInRange:a}=yf(e),i=(u,f)=>{let d=u;return n.value.months.includes(gn(d))?(d=f?_l(u,1):kh(u,1),i(d,f)):d},o=(u,f)=>{let d=u;return n.value.years.includes(Wt(d))?(d=f?VT(u,1):V7(u,1),o(d,f)):d},s=(u,f=!1)=>{const d=cr(Ge(),{month:e.month,year:e.year});let h=u?_l(d,1):kh(d,1);e.disableYearSelect&&(h=lc(h,e.year));let p=gn(h),v=Wt(h);n.value.months.includes(p)&&(h=i(h,u),p=gn(h),v=Wt(h)),n.value.years.includes(v)&&(h=o(h,u),v=Wt(h)),a(p,v,u,e.preventMinMaxNavigation)&&l(p,v,f)},l=(u,f,d)=>{t("update-month-year",{month:u,year:f,fromNav:d})},c=je(()=>u=>a9(cr(Ge(),{month:e.month,year:e.year}),r.value.maxDate,r.value.minDate,e.preventMinMaxNavigation,u));return{handleMonthYearChange:s,isDisabled:c,updateMonthYear:l}},Db={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Ll={...Db,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},_oe=["title"],Eoe=["disabled"],Soe=ln({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ll},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,r=e,{defaultedActionRow:a,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:l,defaultedRange:c,defaultedMultiDates:u}=Hr(r),{isTimeValid:f,isMonthValid:d}=yf(r),{buildMatrix:h}=mf(),p=Ce(null),v=Ce(null),g=Ce(!1),m=Ce({}),y=Ce(null),x=Ce(null);Wn(()=>{r.arrowNavigation&&h([Pa(p),Pa(v)],"actionRow"),b(),window.addEventListener("resize",b)}),gf(()=>{window.removeEventListener("resize",b)});const b=()=>{g.value=!1,setTimeout(()=>{var M,R;const I=(M=y.value)==null?void 0:M.getBoundingClientRect(),P=(R=x.value)==null?void 0:R.getBoundingClientRect();I&&P&&(m.value.maxWidth=`${P.width-I.width-20}px`),g.value=!0},0)},E=je(()=>c.value.enabled&&!c.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),_=je(()=>!f.value(r.internalModelValue)||!d.value(r.internalModelValue)||!E.value),w=()=>{const M=i.value;return r.timePicker||r.monthPicker,M(Ja(r.internalModelValue))},A=()=>{const M=r.internalModelValue;return o.value.count>0?`${S(M[0])} - ${S(M[1])}`:[S(M[0]),S(M[1])]},S=M=>i9(M,i.value,r.formatLocale,s.value.rangeSeparator,r.modelAuto,i.value),k=je(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?A():u.value.enabled?r.internalModelValue.map(M=>`${S(M)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):w()),T=()=>u.value.enabled?"; ":" - ",O=je(()=>Array.isArray(k.value)?k.value.join(T()):k.value),C=()=>{f.value(r.internalModelValue)&&d.value(r.internalModelValue)&&E.value?n("select-date"):n("invalid-select")};return(M,R)=>(Z(),ne("div",{ref_key:"actionRowRef",ref:x,class:"dp__action_row"},[M.$slots["action-row"]?rt(M.$slots,"action-row",ii(oa({key:0},{internalModelValue:M.internalModelValue,disabled:_.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(Z(),ne(Ve,{key:1},[J(a).showPreview?(Z(),ne("div",{key:0,class:"dp__selection_preview",title:O.value,style:We(m.value)},[M.$slots["action-preview"]&&g.value?rt(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):ye("",!0),!M.$slots["action-preview"]&&g.value?(Z(),ne(Ve,{key:1},[Jt(be(O.value),1)],64)):ye("",!0)],12,_oe)):ye("",!0),Y("div",{ref_key:"actionBtnContainer",ref:y,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?rt(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):ye("",!0),M.$slots["action-buttons"]?ye("",!0):(Z(),ne(Ve,{key:1},[!J(l).enabled&&J(a).showCancel?(Z(),ne("button",{key:0,ref_key:"cancelButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_cancel",onClick:R[0]||(R[0]=I=>M.$emit("close-picker")),onKeydown:R[1]||(R[1]=I=>J(mo)(I,()=>M.$emit("close-picker")))},be(M.cancelText),545)):ye("",!0),J(a).showNow?(Z(),ne("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:R[2]||(R[2]=I=>M.$emit("select-now")),onKeydown:R[3]||(R[3]=I=>J(mo)(I,()=>M.$emit("select-now")))},be(M.nowButtonLabel),33)):ye("",!0),J(a).showSelect?(Z(),ne("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:_.value,"data-test-id":"select-button",onKeydown:R[4]||(R[4]=I=>J(mo)(I,()=>C())),onClick:C},be(M.selectText),41,Eoe)):ye("",!0)],64))],512)],64))],512))}}),Aoe=["role","aria-label","tabindex"],koe={class:"dp__selection_grid_header"},Toe=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],Ooe=["aria-label"],_g=ln({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:i}=mf(),o=n,s=e,{defaultedAriaLabels:l,defaultedTextInput:c,defaultedConfig:u,handleEventPropagation:f}=Hr(s),{hideNavigationButtons:d}=Bb(),h=Ce(!1),p=Ce(null),v=Ce(null),g=Ce([]),m=Ce(),y=Ce(null),x=Ce(0),b=Ce(null);qL(()=>{p.value=null}),Wn(()=>{Hn().then(()=>O()),s.noOverlayFocus||_(),E(!0)}),gf(()=>E(!1));const E=j=>{var L;s.arrowNavigation&&((L=s.headerRefs)!=null&&L.length?i(j):r(j))},_=()=>{var j;const L=Pa(v);L&&(c.value.enabled||(p.value?(j=p.value)==null||j.focus({preventScroll:!0}):L.focus({preventScroll:!0})),h.value=L.clientHeight<L.scrollHeight)},w=je(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),A=je(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),S=je(()=>({dp__overlay_col:!0})),k=je(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:s.isLast})),T=je(()=>{var j,L;return{dp__overlay_container:!0,dp__container_flex:((j=s.items)==null?void 0:j.length)<=6,dp__container_block:((L=s.items)==null?void 0:L.length)>6}});sn(()=>s.items,()=>O(!1),{deep:!0});const O=(j=!0)=>{Hn().then(()=>{const L=Pa(p),F=Pa(v),H=Pa(y),D=Pa(b),G=H?H.getBoundingClientRect().height:0;F&&(F.getBoundingClientRect().height?x.value=F.getBoundingClientRect().height-G:x.value=u.value.modeHeight-G),L&&D&&j&&(D.scrollTop=L.offsetTop-D.offsetTop-(x.value/2-L.getBoundingClientRect().height)-G)})},C=j=>{j.disabled||o("selected",j.value)},M=()=>{o("toggle"),o("reset-flow")},R=j=>{s.escClose&&(M(),f(j))},I=(j,L,F,H)=>{j&&((L.active||L.value===s.focusValue)&&(p.value=j),s.arrowNavigation&&(Array.isArray(g.value[F])?g.value[F][H]=j:g.value[F]=[j],P()))},P=()=>{var j,L;const F=(j=s.headerRefs)!=null&&j.length?[s.headerRefs].concat(g.value):g.value.concat([s.skipButtonRef?[]:[y.value]]);a(Ja(F),(L=s.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")},B=j=>{s.arrowNavigation||Zu(j,u.value,!0)},N=j=>{m.value=j,o("hover-value",j)},V=()=>{if(M(),!s.isLast){const j=lA(s.menuWrapRef??null,"action-row");if(j){const L=K7(j);L==null||L.focus()}}},W=j=>{switch(j.key){case kr.esc:return R(j);case kr.arrowLeft:return B(j);case kr.arrowRight:return B(j);case kr.arrowUp:return B(j);case kr.arrowDown:return B(j);default:return}},z=j=>{if(j.key===kr.enter)return M();if(j.key===kr.tab)return V()};return t({focusGrid:_}),(j,L)=>{var F;return Z(),ne("div",{ref_key:"gridWrapRef",ref:v,class:Qe(w.value),style:We(A.value),role:j.useRelative?void 0:"dialog","aria-label":j.overlayLabel,tabindex:j.useRelative?void 0:"0",onKeydown:W,onClick:L[0]||(L[0]=Ti(()=>{},["prevent"]))},[Y("div",{ref_key:"containerRef",ref:b,class:Qe(T.value),style:We({"--dp-overlay-height":`${x.value}px`}),role:"grid"},[Y("div",koe,[rt(j.$slots,"header")]),j.$slots.overlay?rt(j.$slots,"overlay",{key:0}):(Z(!0),ne(Ve,{key:1},Ft(j.items,(H,D)=>(Z(),ne("div",{key:D,class:Qe(["dp__overlay_row",{dp__flex_row:j.items.length>=3}]),role:"row"},[(Z(!0),ne(Ve,null,Ft(H,(G,K)=>(Z(),ne("div",{key:G.value,ref_for:!0,ref:re=>I(re,G,D,K),role:"gridcell",class:Qe(S.value),"aria-selected":G.active||void 0,"aria-disabled":G.disabled||void 0,tabindex:"0","data-test-id":G.text,onClick:Ti(re=>C(G),["prevent"]),onKeydown:re=>J(mo)(re,()=>C(G),!0),onMouseover:re=>N(G.value)},[Y("div",{class:Qe(G.className)},[j.$slots.item?rt(j.$slots,"item",{key:0,item:G}):ye("",!0),j.$slots.item?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(G.text),1)],64))],2)],42,Toe))),128))],2))),128))],6),j.$slots["button-icon"]?bl((Z(),ne("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(F=J(l))==null?void 0:F.toggleOverlay,class:Qe(k.value),tabindex:"0",onClick:M,onKeydown:z},[rt(j.$slots,"button-icon")],42,Ooe)),[[nx,!J(d)(j.hideNavigation,j.type)]]):ye("",!0)],46,Aoe)}}}),Coe=["data-dp-mobile"],Lb=ln({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=je(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),r=je(()=>({dp__instance_calendar:t.multiCalendars>0}));return(a,i)=>(Z(),ne("div",{class:Qe({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse}),"data-dp-mobile":a.isMobile},[(Z(!0),ne(Ve,null,Ft(n.value,(o,s)=>(Z(),ne("div",{key:o,class:Qe(r.value)},[rt(a.$slots,"default",{instance:o,index:s})],2))),128))],10,Coe))}}),Moe=["data-dp-element","aria-label","aria-disabled"],Uv=ln({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,r=Ce(null);return Wn(()=>n("set-ref",r)),(a,i)=>(Z(),ne("button",{ref_key:"elRef",ref:r,type:"button","data-dp-element":a.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:i[0]||(i[0]=o=>a.$emit("activate")),onKeydown:i[1]||(i[1]=o=>J(mo)(o,()=>a.$emit("activate"),!0))},[Y("span",{class:Qe(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[rt(a.$slots,"default")],2)],40,Moe))}}),Poe=["aria-label","data-test-id"],l9=ln({__name:"YearModePicker",props:{...Ll,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,r=e,{showRightIcon:a,showLeftIcon:i}=Bb(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:l,defaultedTransitions:c,defaultedUI:u}=Hr(r),{showTransition:f,transitionName:d}=Eg(c),h=Ce(!1),p=(m=!1,y)=>{h.value=!h.value,n("toggle-year-picker",{flow:m,show:y})},v=m=>{h.value=!1,n("year-select",m)},g=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var x,b,E,_,w;return Z(),ne(Ve,null,[Y("div",{class:Qe(["dp--year-mode-picker",{"dp--hidden-el":h.value}])},[J(i)(J(s),e.instance)?(Z(),zt(Uv,{key:0,ref:"mpPrevIconRef","aria-label":(x=J(l))==null?void 0:x.prevYear,disabled:e.isDisabled(!1),class:Qe((b=J(u))==null?void 0:b.navBtnPrev),onActivate:y[0]||(y[0]=A=>g(!1))},{default:ht(()=>[m.$slots["arrow-left"]?rt(m.$slots,"arrow-left",{key:0}):ye("",!0),m.$slots["arrow-left"]?ye("",!0):(Z(),zt(J(QT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),Y("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(E=J(l))==null?void 0:E.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:y[1]||(y[1]=()=>p(!1)),onKeydown:y[2]||(y[2]=nu(()=>p(!1),["enter"]))},[m.$slots.year?rt(m.$slots,"year",{key:0,year:e.year}):ye("",!0),m.$slots.year?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(e.year),1)],64))],40,Poe),J(a)(J(s),e.instance)?(Z(),zt(Uv,{key:1,ref:"mpNextIconRef","aria-label":(_=J(l))==null?void 0:_.nextYear,disabled:e.isDisabled(!0),class:Qe((w=J(u))==null?void 0:w.navBtnNext),onActivate:y[3]||(y[3]=A=>g(!0))},{default:ht(()=>[m.$slots["arrow-right"]?rt(m.$slots,"arrow-right",{key:0}):ye("",!0),m.$slots["arrow-right"]?ye("",!0):(Z(),zt(J(JT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0)],2),mt(cp,{name:J(d)(e.showYearPicker),css:J(f)},{default:ht(()=>{var A,S;return[e.showYearPicker?(Z(),zt(_g,{key:0,items:e.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!J(o).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,"overlay-label":(S=(A=J(l))==null?void 0:A.yearPicker)==null?void 0:S.call(A,!0),type:"year",onToggle:p,onSelected:y[4]||(y[4]=k=>v(k))},Xi({"button-icon":ht(()=>[m.$slots["calendar-icon"]?rt(m.$slots,"calendar-icon",{key:0}):ye("",!0),m.$slots["calendar-icon"]?ye("",!0):(Z(),zt(J(hp),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ht(({item:k})=>[rt(m.$slots,"year-overlay-value",{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):ye("",!0)]}),_:3},8,["name","css"])],64)}}}),lO=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(r=>mn(e,r))){const r=t.value.filter(a=>!mn(a,e));t.value=r.length?r:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},cO=(e,t,n)=>{let r=e.value?e.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?(ra(t,r[0])?r.unshift(t):r[1]=t,n("range-end",t)):(r=[t],n("range-start",t)),r},Fb=(e,t,n,r)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&r&&n&&t("auto-apply"))},c9=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>$o(Ge(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=$o(Ge(e.value),e.timezone))},u9=(e,t,n,r)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(ga(e,t.value[0])||mn(e,t.value[0]))?[t.value[0],e]:r.value.fixedEnd&&(ra(e,t.value[1])||mn(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],f9=({multiCalendars:e,range:t,highlight:n,propDates:r,calendars:a,modelValue:i,props:o,filters:s,year:l,month:c,emit:u})=>{const f=je(()=>aO(o.yearRange,o.locale,o.reverseYears)),d=Ce([!1]),h=je(()=>(k,T)=>{const O=cr(ul(new Date),{month:c.value(k),year:l.value(k)}),C=T?I7(O):b1(O);return a9(C,r.value.maxDate,r.value.minDate,o.preventMinMaxNavigation,T)}),p=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],v=()=>{for(let k=0;k<e.value.count;k++)if(k===0)a.value[k]=a.value[0];else if(k===e.value.count-1&&p())a.value[k]={month:gn(i.value[1]),year:Wt(i.value[1])};else{const T=cr(Ge(),a.value[k-1]);a.value[k]={month:gn(T),year:Wt(VT(T,1))}}},g=k=>{if(!k)return v();const T=cr(Ge(),a.value[k]);return a.value[0].year=Wt(V7(T,e.value.count-1)),v()},m=(k,T)=>{const O=jre(T,k);return t.value.showLastInRange&&O>1?T:k},y=k=>o.focusStartDate||e.value.solo?k[0]:k[1]?m(k[0],k[1]):k[0],x=()=>{if(i.value){const k=Array.isArray(i.value)?y(i.value):i.value;a.value[0]={month:gn(k),year:Wt(k)}}},b=()=>{x(),e.value.count&&v()};sn(i,(k,T)=>{o.isTextInputDate&&JSON.stringify(k??{})!==JSON.stringify(T??{})&&b()}),Wn(()=>{b()});const E=(k,T)=>{a.value[T].year=k,u("update-month-year",{instance:T,year:k,month:a.value[T].month}),e.value.count&&!e.value.solo&&g(T)},_=je(()=>k=>Th(f.value,T=>{var O;const C=l.value(k)===T.value,M=w1(T.value,Oh(r.value.minDate),Oh(r.value.maxDate))||((O=s.value.years)==null?void 0:O.includes(l.value(k))),R=sO(n.value,T.value);return{active:C,disabled:M,highlighted:R}})),w=(k,T)=>{E(k,T),S(T)},A=(k,T=!1)=>{if(!h.value(k,T)){const O=T?l.value(k)+1:l.value(k)-1;E(O,k)}},S=(k,T=!1,O)=>{T||u("reset-flow"),O!==void 0?d.value[k]=O:d.value[k]=!d.value[k],d.value[k]?u("overlay-toggle",{open:!0,overlay:Bi.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Bi.year}))};return{isDisabled:h,groupedYears:_,showYearPicker:d,selectYear:E,toggleYearPicker:S,handleYearSelect:w,handleYear:A}},Ioe=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:i,defaultedRange:o,defaultedHighlight:s,propDates:l,defaultedTz:c,defaultedFilters:u,defaultedMultiDates:f}=Hr(e),d=()=>{e.isTextInputDate&&b(Wt(Ge(e.startDate)),0)},{modelValue:h,year:p,month:v,calendars:g}=Sg(e,t,d),m=je(()=>X7(e.formatLocale,e.locale,e.monthNameFormat)),y=Ce(null),{checkMinMaxRange:x}=yf(e),{selectYear:b,groupedYears:E,showYearPicker:_,toggleYearPicker:w,handleYearSelect:A,handleYear:S,isDisabled:k}=f9({modelValue:h,multiCalendars:n,range:o,highlight:s,calendars:g,year:p,propDates:l,month:v,filters:u,props:e,emit:t});Wn(()=>{e.startDate&&(h.value&&e.focusStartDate||!h.value)&&b(Wt(Ge(e.startDate)),0)});const T=L=>L?{month:gn(L),year:Wt(L)}:{month:null,year:null},O=()=>h.value?Array.isArray(h.value)?h.value.map(L=>T(L)):T(h.value):T(),C=(L,F)=>{const H=g.value[L],D=O();return Array.isArray(D)?D.some(G=>G.year===(H==null?void 0:H.year)&&G.month===F):(H==null?void 0:H.year)===D.year&&F===D.month},M=(L,F,H)=>{var D,G;const K=O();return Array.isArray(K)?p.value(F)===((D=K[H])==null?void 0:D.year)&&L===((G=K[H])==null?void 0:G.month):!1},R=(L,F)=>{if(o.value.enabled){const H=O();if(Array.isArray(h.value)&&Array.isArray(H)){const D=M(L,F,0)||M(L,F,1),G=Jc(ul(Ge()),L,p.value(F));return _1(h.value,y.value,G)&&!D}return!1}return!1},I=je(()=>L=>Th(m.value,F=>{var H;const D=C(L,F.value),G=w1(F.value,e9(p.value(L),l.value.minDate),t9(p.value(L),l.value.maxDate))||toe(l.value.disabledDates,p.value(L),F.value)||((H=u.value.months)==null?void 0:H.includes(F.value))||!noe(l.value.allowedDates,p.value(L),F.value),K=R(F.value,L),re=o9(s.value,F.value,p.value(L));return{active:D,disabled:G,isBetween:K,highlighted:re}})),P=(L,F)=>Jc(ul(Ge()),L,p.value(F)),B=(L,F)=>{const H=h.value?h.value:ul(new Date);h.value=Jc(H,L,p.value(F)),t("auto-apply"),t("update-flow-step")},N=(L,F)=>{const H=P(L,F);o.value.fixedEnd||o.value.fixedStart?h.value=u9(H,h,t,o):h.value?x(H,h.value)&&(h.value=cO(h,P(L,F),t)):h.value=[P(L,F)],Hn().then(()=>{Fb(h.value,t,e.autoApply,e.modelAuto)})},V=(L,F)=>{lO(P(L,F),h,f.value.limit),t("auto-apply",!0)},W=(L,F)=>(g.value[F].month=L,j(F,g.value[F].year,L),f.value.enabled?V(L,F):o.value.enabled?N(L,F):B(L,F)),z=(L,F)=>{b(L,F),j(F,L,null)},j=(L,F,H)=>{let D=H;if(!D&&D!==0){const G=O();D=Array.isArray(G)?G[L].month:G.month}t("update-month-year",{instance:L,year:F,month:D})};return{groupedMonths:I,groupedYears:E,year:p,isDisabled:k,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:i,showYearPicker:_,modelValue:h,presetDate:(L,F)=>{c9({value:L,modelValue:h,range:o.value.enabled,timezone:F?void 0:c.value.timezone}),t("auto-apply")},setHoverDate:(L,F)=>{y.value=P(L,F)},selectMonth:W,selectYear:z,toggleYearPicker:w,handleYearSelect:A,handleYear:S,getModelMonthYear:O}},Roe=ln({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ll},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=qd(),i=Jo(a,"yearMode"),o=e;Wn(()=>{o.shadow||r("mount",null)});const{groupedMonths:s,groupedYears:l,year:c,isDisabled:u,defaultedMultiCalendars:f,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:v,setHoverDate:g,selectMonth:m,selectYear:y,toggleYearPicker:x,handleYearSelect:b,handleYear:E,getModelMonthYear:_}=Ioe(o,r);return t({getSidebarProps:()=>({modelValue:p,year:c,getModelMonthYear:_,selectMonth:m,selectYear:y,handleYear:E}),presetDate:v,toggleYearPicker:w=>x(0,w)}),(w,A)=>(Z(),zt(Lb,{"multi-calendars":J(f).count,collapse:w.collapse,stretch:"","is-mobile":w.isMobile},{default:ht(({instance:S})=>[w.$slots["top-extra"]?rt(w.$slots,"top-extra",{key:0,value:w.internalModelValue}):ye("",!0),w.$slots["month-year"]?rt(w.$slots,"month-year",ii(oa({key:1},{year:J(c),months:J(s)(S),years:J(l)(S),selectMonth:J(m),selectYear:J(y),instance:S}))):(Z(),zt(_g,{key:2,items:J(s)(S),"arrow-navigation":w.arrowNavigation,"is-last":w.autoApply&&!J(d).keepActionRow,"esc-close":w.escClose,height:J(d).modeHeight,config:w.config,"no-overlay-focus":!!(w.noOverlayFocus||w.textInput),"use-relative":"",type:"month",onSelected:k=>J(m)(k,S),onHoverValue:k=>J(g)(k,S)},Xi({header:ht(()=>[mt(l9,oa(w.$props,{items:J(l)(S),instance:S,"show-year-picker":J(h)[S],year:J(c)(S),"is-disabled":k=>J(u)(S,k),onHandleYear:k=>J(E)(S,k),onYearSelect:k=>J(b)(k,S),onToggleYearPicker:k=>J(x)(S,k==null?void 0:k.flow,k==null?void 0:k.show)}),Xi({_:2},[Ft(J(i),(k,T)=>({name:k,fn:ht(O=>[rt(w.$slots,k,ii(go(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[w.$slots["month-overlay-value"]?{name:"item",fn:ht(({item:k})=>[rt(w.$slots,"month-overlay-value",{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Noe=(e,t)=>{const n=()=>{e.isTextInputDate&&(u.value=Wt(Ge(e.startDate)))},{modelValue:r}=Sg(e,t,n),a=Ce(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:l,propDates:c}=Hr(e),u=Ce();Wn(()=>{e.startDate&&(r.value&&e.focusStartDate||!r.value)&&(u.value=Wt(Ge(e.startDate)))});const f=m=>Array.isArray(r.value)?r.value.some(y=>Wt(y)===m):r.value?Wt(r.value)===m:!1,d=m=>l.value.enabled&&Array.isArray(r.value)?_1(r.value,a.value,g(m)):!1,h=m=>c.value.allowedDates instanceof Map?c.value.allowedDates.size?c.value.allowedDates.has(`${m}`):!1:!0,p=m=>c.value.disabledDates instanceof Map?c.value.disabledDates.size?c.value.disabledDates.has(`${m}`):!1:!0,v=je(()=>Th(aO(e.yearRange,e.locale,e.reverseYears),m=>{const y=f(m.value),x=w1(m.value,Oh(c.value.minDate),Oh(c.value.maxDate))||s.value.years.includes(m.value)||!h(m.value)||p(m.value),b=d(m.value)&&!y,E=sO(i.value,m.value);return{active:y,disabled:x,isBetween:b,highlighted:E}})),g=m=>lc(ul(b1(new Date)),m);return{groupedYears:v,modelValue:r,focusYear:u,setHoverValue:m=>{a.value=lc(ul(new Date),m)},selectYear:m=>{var y;if(t("update-month-year",{instance:0,year:m}),o.value.enabled)return r.value?Array.isArray(r.value)&&(((y=r.value)==null?void 0:y.map(x=>Wt(x))).includes(m)?r.value=r.value.filter(x=>Wt(x)!==m):r.value.push(lc(ui(Ge()),m))):r.value=[lc(ui(b1(Ge())),m)],t("auto-apply",!0);l.value.enabled?(r.value=cO(r,g(m),t),Hn().then(()=>{Fb(r.value,t,e.autoApply,e.modelAuto)})):(r.value=g(m),t("auto-apply"))}}},Doe=ln({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ll},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const r=n,a=e,{groupedYears:i,modelValue:o,focusYear:s,selectYear:l,setHoverValue:c}=Noe(a,r),{defaultedConfig:u}=Hr(a);return t({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(f,d)=>(Z(),ne("div",null,[f.$slots["top-extra"]?rt(f.$slots,"top-extra",{key:0,value:f.internalModelValue}):ye("",!0),f.$slots["month-year"]?rt(f.$slots,"month-year",ii(oa({key:1},{years:J(i),selectYear:J(l)}))):(Z(),zt(_g,{key:2,items:J(i),"is-last":f.autoApply&&!J(u).keepActionRow,height:J(u).modeHeight,config:f.config,"no-overlay-focus":!!(f.noOverlayFocus||f.textInput),"focus-value":J(s),type:"year","use-relative":"",onSelected:J(l),onHoverValue:J(c)},Xi({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:ht(({item:h})=>[rt(f.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Loe={key:0,class:"dp__time_input"},Foe=["data-compact","data-collapsed"],Boe=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],$oe=["aria-label","disabled","data-test-id","onKeydown","onClick"],joe=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],zoe={key:0},Uoe=["aria-label","data-compact"],Hoe=ln({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ll},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,a=e,{setTimePickerElements:i,setTimePickerBackRef:o}=mf(),{defaultedAriaLabels:s,defaultedTransitions:l,defaultedFilters:c,defaultedConfig:u,defaultedRange:f,defaultedMultiCalendars:d}=Hr(a),{transitionName:h,showTransition:p}=Eg(l),v=Ic({hours:!1,minutes:!1,seconds:!1}),g=Ce("AM"),m=Ce(null),y=Ce([]),x=Ce(),b=Ce(!1);Wn(()=>{r("mounted")});const E=X=>cr(new Date,{hours:X.hours,minutes:X.minutes,seconds:a.enableSeconds?X.seconds:0,milliseconds:0}),_=je(()=>X=>N(X,a[X])||A(X,a[X])),w=je(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),A=(X,ce)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!a.validateTime(X,ce):!1,S=(X,ce)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const te=ce?+a[`${X}Increment`]:-+a[`${X}Increment`],pe=a[X]+te;return!a.validateTime(X,pe)}return!1},k=je(()=>X=>!L(+a[X]+ +a[`${X}Increment`],X)||S(X,!0)),T=je(()=>X=>!L(+a[X]-+a[`${X}Increment`],X)||S(X,!1)),O=(X,ce)=>k7(cr(Ge(),X),ce),C=(X,ce)=>Die(cr(Ge(),X),ce),M=je(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),R=je(()=>a.timePickerInline&&f.value.enabled&&!d.value.count),I=je(()=>{const X=[{type:"hours"}];return a.enableMinutes&&X.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&X.push({type:"",separator:!0},{type:"seconds"}),X}),P=je(()=>I.value.filter(X=>!X.separator)),B=je(()=>X=>{if(X==="hours"){const ce=re(+a.hours);return{text:ce<10?`0${ce}`:`${ce}`,value:ce}}return{text:a[X]<10?`0${a[X]}`:`${a[X]}`,value:a[X]}}),N=(X,ce)=>{var te;if(!a.disabledTimesConfig)return!1;const pe=a.disabledTimesConfig(a.order,X==="hours"?ce:void 0);return pe[X]?!!((te=pe[X])!=null&&te.includes(ce)):!0},V=(X,ce)=>ce!=="hours"||g.value==="AM"?X:X+12,W=X=>{const ce=a.is24?24:12,te=X==="hours"?ce:60,pe=+a[`${X}GridIncrement`],me=X==="hours"&&!a.is24?pe:0,Ee=[];for(let ke=me;ke<te;ke+=pe)Ee.push({value:a.is24?ke:V(ke,X),text:ke<10?`0${ke}`:`${ke}`});return X==="hours"&&!a.is24&&Ee.unshift({value:g.value==="PM"?12:0,text:"12"}),Th(Ee,ke=>({active:!1,disabled:c.value.times[X].includes(ke.value)||!L(ke.value,X)||N(X,ke.value)||A(X,ke.value)}))},z=X=>X>=0?X:59,j=X=>X>=0?X:23,L=(X,ce)=>{const te=a.minTime?E(E_(a.minTime)):null,pe=a.maxTime?E(E_(a.maxTime)):null,me=E(E_(w.value,ce,ce==="minutes"||ce==="seconds"?z(X):j(X)));return te&&pe?(Ah(me,pe)||j0(me,pe))&&(kd(me,te)||j0(me,te)):te?kd(me,te)||j0(me,te):pe?Ah(me,pe)||j0(me,pe):!0},F=X=>a[`no${X[0].toUpperCase()+X.slice(1)}Overlay`],H=X=>{F(X)||(v[X]=!v[X],v[X]?(b.value=!0,r("overlay-opened",X)):(b.value=!1,r("overlay-closed",X)))},D=X=>X==="hours"?fu:X==="minutes"?af:Sh,G=()=>{x.value&&clearTimeout(x.value)},K=(X,ce=!0,te)=>{const pe=ce?O:C,me=ce?+a[`${X}Increment`]:-+a[`${X}Increment`];L(+a[X]+me,X)&&r(`update:${X}`,D(X)(pe({[X]:+a[X]},{[X]:+a[`${X}Increment`]}))),!(te!=null&&te.keyboard)&&u.value.timeArrowHoldThreshold&&(x.value=setTimeout(()=>{K(X,ce)},u.value.timeArrowHoldThreshold))},re=X=>a.is24?X:(X>=12?g.value="PM":g.value="AM",Uie(X)),ie=()=>{g.value==="PM"?(g.value="AM",r("update:hours",a.hours-12)):(g.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",g.value)},U=X=>{v[X]=!0},q=(X,ce,te)=>{if(X&&a.arrowNavigation){Array.isArray(y.value[ce])?y.value[ce][te]=X:y.value[ce]=[X];const pe=y.value.reduce((me,Ee)=>Ee.map((ke,Ue)=>[...me[Ue]||[],Ee[Ue]]),[]);o(a.closeTimePickerBtn),m.value&&(pe[1]=pe[1].concat(m.value)),i(pe,a.order)}},Q=(X,ce)=>(H(X),r(`update:${X}`,ce));return t({openChildCmp:U}),(X,ce)=>{var te;return X.disabled?ye("",!0):(Z(),ne("div",Loe,[(Z(!0),ne(Ve,null,Ft(I.value,(pe,me)=>{var Ee,ke,Ue;return Z(),ne("div",{key:me,class:Qe(M.value),"data-compact":R.value&&!X.enableSeconds,"data-collapsed":R.value&&X.enableSeconds},[pe.separator?(Z(),ne(Ve,{key:0},[b.value?ye("",!0):(Z(),ne(Ve,{key:0},[Jt(":")],64))],64)):(Z(),ne(Ve,{key:1},[Y("button",{ref_for:!0,ref:fe=>q(fe,me,0),type:"button",class:Qe({dp__btn:!0,dp__inc_dec_button:!X.timePickerInline,dp__inc_dec_button_inline:X.timePickerInline,dp__tp_inline_btn_top:X.timePickerInline,dp__inc_dec_button_disabled:k.value(pe.type),"dp--hidden-el":b.value}),"data-test-id":`${pe.type}-time-inc-btn-${a.order}`,"aria-label":(Ee=J(s))==null?void 0:Ee.incrementValue(pe.type),tabindex:"0",onKeydown:fe=>J(mo)(fe,()=>K(pe.type,!0,{keyboard:!0}),!0),onClick:fe=>J(u).timeArrowHoldThreshold?void 0:K(pe.type,!0),onMousedown:fe=>J(u).timeArrowHoldThreshold?K(pe.type,!0):void 0,onMouseup:G},[a.timePickerInline?(Z(),ne(Ve,{key:1},[X.$slots["tp-inline-arrow-up"]?rt(X.$slots,"tp-inline-arrow-up",{key:0}):(Z(),ne(Ve,{key:1},[ce[2]||(ce[2]=Y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ce[3]||(ce[3]=Y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Z(),ne(Ve,{key:0},[X.$slots["arrow-up"]?rt(X.$slots,"arrow-up",{key:0}):ye("",!0),X.$slots["arrow-up"]?ye("",!0):(Z(),zt(J(tO),{key:1}))],64))],42,Boe),Y("button",{ref_for:!0,ref:fe=>q(fe,me,1),type:"button","aria-label":`${B.value(pe.type).text}-${(ke=J(s))==null?void 0:ke.openTpOverlay(pe.type)}`,class:Qe({dp__time_display:!0,dp__time_display_block:!X.timePickerInline,dp__time_display_inline:X.timePickerInline,"dp--time-invalid":_.value(pe.type),"dp--time-overlay-btn":!_.value(pe.type),"dp--hidden-el":b.value}),disabled:F(pe.type),tabindex:"0","data-test-id":`${pe.type}-toggle-overlay-btn-${a.order}`,onKeydown:fe=>J(mo)(fe,()=>H(pe.type),!0),onClick:fe=>H(pe.type)},[X.$slots[pe.type]?rt(X.$slots,pe.type,{key:0,text:B.value(pe.type).text,value:B.value(pe.type).value}):ye("",!0),X.$slots[pe.type]?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(B.value(pe.type).text),1)],64))],42,$oe),Y("button",{ref_for:!0,ref:fe=>q(fe,me,2),type:"button",class:Qe({dp__btn:!0,dp__inc_dec_button:!X.timePickerInline,dp__inc_dec_button_inline:X.timePickerInline,dp__tp_inline_btn_bottom:X.timePickerInline,dp__inc_dec_button_disabled:T.value(pe.type),"dp--hidden-el":b.value}),"data-test-id":`${pe.type}-time-dec-btn-${a.order}`,"aria-label":(Ue=J(s))==null?void 0:Ue.decrementValue(pe.type),tabindex:"0",onKeydown:fe=>J(mo)(fe,()=>K(pe.type,!1,{keyboard:!0}),!0),onClick:fe=>J(u).timeArrowHoldThreshold?void 0:K(pe.type,!1),onMousedown:fe=>J(u).timeArrowHoldThreshold?K(pe.type,!1):void 0,onMouseup:G},[a.timePickerInline?(Z(),ne(Ve,{key:1},[X.$slots["tp-inline-arrow-down"]?rt(X.$slots,"tp-inline-arrow-down",{key:0}):(Z(),ne(Ve,{key:1},[ce[4]||(ce[4]=Y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ce[5]||(ce[5]=Y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Z(),ne(Ve,{key:0},[X.$slots["arrow-down"]?rt(X.$slots,"arrow-down",{key:0}):ye("",!0),X.$slots["arrow-down"]?ye("",!0):(Z(),zt(J(nO),{key:1}))],64))],42,joe)],64))],10,Foe)}),128)),X.is24?ye("",!0):(Z(),ne("div",zoe,[X.$slots["am-pm-button"]?rt(X.$slots,"am-pm-button",{key:0,toggle:ie,value:g.value}):ye("",!0),X.$slots["am-pm-button"]?ye("",!0):(Z(),ne("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(te=J(s))==null?void 0:te.amPmButton,tabindex:"0","data-compact":R.value,onClick:ie,onKeydown:ce[0]||(ce[0]=pe=>J(mo)(pe,()=>ie(),!0))},be(g.value),41,Uoe))])),(Z(!0),ne(Ve,null,Ft(P.value,(pe,me)=>(Z(),zt(cp,{key:me,name:J(h)(v[pe.type]),css:J(p)},{default:ht(()=>{var Ee,ke;return[v[pe.type]?(Z(),zt(_g,{key:0,items:W(pe.type),"is-last":X.autoApply&&!J(u).keepActionRow,"esc-close":X.escClose,type:pe.type,"text-input":X.textInput,config:X.config,"arrow-navigation":X.arrowNavigation,"aria-labels":X.ariaLabels,"overlay-label":(ke=(Ee=J(s)).timeOverlay)==null?void 0:ke.call(Ee,pe.type),onSelected:Ue=>Q(pe.type,Ue),onToggle:Ue=>H(pe.type),onResetFlow:ce[1]||(ce[1]=Ue=>X.$emit("reset-flow"))},Xi({"button-icon":ht(()=>[X.$slots["clock-icon"]?rt(X.$slots,"clock-icon",{key:0}):ye("",!0),X.$slots["clock-icon"]?ye("",!0):(Z(),zt(mg(X.timePickerInline?J(hp):J(eO)),{key:1}))]),_:2},[X.$slots[`${pe.type}-overlay-value`]?{name:"item",fn:ht(({item:Ue})=>[rt(X.$slots,`${pe.type}-overlay-value`,{text:Ue.text,value:Ue.value})]),key:"0"}:void 0,X.$slots[`${pe.type}-overlay-header`]?{name:"header",fn:ht(()=>[rt(X.$slots,`${pe.type}-overlay-header`,{toggle:()=>H(pe.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):ye("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Goe=["data-dp-mobile"],Woe=["aria-label","tabindex"],Voe=["role","aria-label","tabindex"],Yoe=["aria-label"],d9=ln({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ll},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,a=e,{buildMatrix:i,setTimePicker:o}=mf(),s=qd(),{defaultedTransitions:l,defaultedAriaLabels:c,defaultedTextInput:u,defaultedConfig:f,defaultedRange:d}=Hr(a),{transitionName:h,showTransition:p}=Eg(l),{hideNavigationButtons:v}=Bb(),g=Ce(null),m=Ce(null),y=Ce([]),x=Ce(null),b=Ce(!1);Wn(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?i([Pa(g.value)],"time"):o(!0,a.timePicker)});const E=je(()=>d.value.enabled&&a.modelAuto?q7(a.internalModelValue):!0),_=Ce(!1),w=N=>({hours:Array.isArray(a.hours)?a.hours[N]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[N]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[N]:a.seconds}),A=je(()=>{const N=[];if(d.value.enabled)for(let V=0;V<2;V++)N.push(w(V));else N.push(w(0));return N}),S=(N,V=!1,W="")=>{V||r("reset-flow"),_.value=N,r(N?"overlay-opened":"overlay-closed",Bi.time),a.arrowNavigation&&o(N),Hn(()=>{W!==""&&y.value[0]&&y.value[0].openChildCmp(W)})},k=je(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!f.value.keepActionRow})),T=Jo(s,"timePicker"),O=(N,V,W)=>d.value.enabled?V===0?[N,A.value[1][W]]:[A.value[0][W],N]:N,C=N=>{r("update:hours",N)},M=N=>{r("update:minutes",N)},R=N=>{r("update:seconds",N)},I=()=>{if(x.value&&!u.value.enabled&&!a.noOverlayFocus){const N=K7(x.value);N&&N.focus({preventScroll:!0})}},P=N=>{b.value=!1,r("overlay-closed",N)},B=N=>{b.value=!0,r("overlay-opened",N)};return t({toggleTimePicker:S}),(N,V)=>{var W;return Z(),ne("div",{class:"dp--tp-wrap","data-dp-mobile":N.isMobile},[!N.timePicker&&!N.timePickerInline?bl((Z(),ne("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:Qe({...k.value,"dp--hidden-el":_.value}),"aria-label":(W=J(c))==null?void 0:W.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:V[0]||(V[0]=z=>J(mo)(z,()=>S(!0))),onClick:V[1]||(V[1]=z=>S(!0))},[N.$slots["clock-icon"]?rt(N.$slots,"clock-icon",{key:0}):ye("",!0),N.$slots["clock-icon"]?ye("",!0):(Z(),zt(J(eO),{key:1}))],42,Woe)),[[nx,!J(v)(N.hideNavigation,"time")]]):ye("",!0),mt(cp,{name:J(h)(_.value),css:J(p)&&!N.timePickerInline},{default:ht(()=>{var z,j;return[_.value||N.timePicker||N.timePickerInline?(Z(),ne("div",{key:0,ref_key:"overlayRef",ref:x,role:N.timePickerInline?void 0:"dialog",class:Qe({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!N.timePickerInline,"dp--overlay-relative":a.timePicker}),style:We(N.timePicker?{height:`${J(f).modeHeight}px`}:void 0),"aria-label":(z=J(c))==null?void 0:z.timePicker,tabindex:N.timePickerInline?void 0:0},[Y("div",{class:Qe(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?rt(N.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:C,setMinutes:M,setSeconds:R}):ye("",!0),N.$slots["time-picker-overlay"]?ye("",!0):(Z(),ne("div",{key:1,class:Qe(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(Z(!0),ne(Ve,null,Ft(A.value,(L,F)=>bl((Z(),zt(Hoe,oa({key:F,ref_for:!0},{...N.$props,order:F,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:e.disabledTimesConfig,disabled:F===0?J(d).fixedStart:J(d).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(H,D)=>e.validateTime(H,O(D,F,H)),"onUpdate:hours":H=>C(O(H,F,"hours")),"onUpdate:minutes":H=>M(O(H,F,"minutes")),"onUpdate:seconds":H=>R(O(H,F,"seconds")),onMounted:I,onOverlayClosed:P,onOverlayOpened:B,onAmPmChange:V[2]||(V[2]=H=>N.$emit("am-pm-change",H))}),Xi({_:2},[Ft(J(T),(H,D)=>({name:H,fn:ht(G=>[rt(N.$slots,H,oa({ref_for:!0},G))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[nx,F===0?!0:E.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?bl((Z(),ne("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:Qe({...k.value,"dp--hidden-el":b.value}),"aria-label":(j=J(c))==null?void 0:j.closeTimePicker,tabindex:"0",onKeydown:V[3]||(V[3]=L=>J(mo)(L,()=>S(!1))),onClick:V[4]||(V[4]=L=>S(!1))},[N.$slots["calendar-icon"]?rt(N.$slots,"calendar-icon",{key:0}):ye("",!0),N.$slots["calendar-icon"]?ye("",!0):(Z(),zt(J(hp),{key:1}))],42,Yoe)),[[nx,!J(v)(N.hideNavigation,"time")]]):ye("",!0)],2)],14,Voe)):ye("",!0)]}),_:3},8,["name","css"])],8,Goe)}}}),h9=(e,t,n,r)=>{const{defaultedRange:a}=Hr(e),i=(x,b)=>Array.isArray(t[x])?t[x][b]:t[x],o=x=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[x]:t.seconds:0,s=(x,b)=>x?b!==void 0?Qu(x,i("hours",b),i("minutes",b),o(b)):Qu(x,t.hours,t.minutes,o()):W7(Ge(),o(b)),l=(x,b)=>{t[x]=b},c=je(()=>e.modelAuto&&a.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:a.value.enabled),u=(x,b)=>{const E=Object.fromEntries(Object.keys(t).map(_=>_===x?[_,b]:[_,t[_]].slice()));if(c.value&&!a.value.disableTimeRangeValidation){const _=A=>n.value?Qu(n.value[A],E.hours[A],E.minutes[A],E.seconds[A]):null,w=A=>G7(n.value[A],0);return!(mn(_(0),_(1))&&(kd(_(0),w(1))||Ah(_(1),w(0))))}return!0},f=(x,b)=>{u(x,b)&&(l(x,b),r&&r())},d=x=>{f("hours",x)},h=x=>{f("minutes",x)},p=x=>{f("seconds",x)},v=(x,b,E,_)=>{b&&d(x),!b&&!E&&h(x),E&&p(x),n.value&&_(n.value)},g=x=>{if(x){const b=Array.isArray(x),E=b?[+x[0].hours,+x[1].hours]:+x.hours,_=b?[+x[0].minutes,+x[1].minutes]:+x.minutes,w=b?[+x[0].seconds,+x[1].seconds]:+x.seconds;l("hours",E),l("minutes",_),e.enableSeconds&&l("seconds",w)}},m=(x,b)=>{const E={hours:Array.isArray(t.hours)?t.hours[x]:t.hours,disabledArr:[]};return(b||b===0)&&(E.hours=b),Array.isArray(e.disabledTimes)&&(E.disabledArr=a.value.enabled&&Array.isArray(e.disabledTimes[x])?e.disabledTimes[x]:e.disabledTimes),E},y=je(()=>(x,b)=>{var E;if(Array.isArray(e.disabledTimes)){const{disabledArr:_,hours:w}=m(x,b),A=_.filter(S=>+S.hours===w);return((E=A[0])==null?void 0:E.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(A==null?void 0:A.map(S=>+S.minutes))??[],seconds:(A==null?void 0:A.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:g,validateTime:u,disabledTimesConfig:y}},Xoe=(e,t)=>{const n=()=>{e.isTextInputDate&&b()},{modelValue:r,time:a}=Sg(e,t,n),{defaultedStartTime:i,defaultedRange:o,defaultedTz:s}=Hr(e),{updateTimeValues:l,getSetDateTime:c,setTime:u,assignStartTime:f,disabledTimesConfig:d,validateTime:h}=h9(e,a,r,p);function p(){t("update-flow-step")}const v=_=>{const{hours:w,minutes:A,seconds:S}=_;return{hours:+w,minutes:+A,seconds:S?+S:0}},g=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const w=v(e.startTime[0]),A=v(e.startTime[1]);return[cr(Ge(),w),cr(Ge(),A)]}const _=v(e.startTime);return cr(Ge(),_)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[_,w]=g();r.value=[$o(c(_,0),s.value.timezone),$o(c(w,1),s.value.timezone)]}else r.value=$o(c(g()),s.value.timezone)},y=_=>Array.isArray(_)?[vd(Ge(_[0])),vd(Ge(_[1]))]:[vd(_??Ge())],x=(_,w,A)=>{u("hours",_),u("minutes",w),u("seconds",e.enableSeconds?A:0)},b=()=>{const[_,w]=y(r.value);return o.value.enabled?x([_.hours,w.hours],[_.minutes,w.minutes],[_.seconds,w.seconds]):x(_.hours,_.minutes,_.seconds)};Wn(()=>{if(!e.shadow)return f(i.value),r.value?b():m()});const E=()=>{Array.isArray(r.value)?r.value=r.value.map((_,w)=>_&&c(_,w)):r.value=c(r.value),t("time-update")};return{modelValue:r,time:a,disabledTimesConfig:d,updateTime:(_,w=!0,A=!1)=>{l(_,w,A,E)},validateTime:h}},qoe=ln({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ll},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=qd(),o=Jo(i,"timePicker"),s=Ce(null),{time:l,modelValue:c,disabledTimesConfig:u,updateTime:f,validateTime:d}=Xoe(a,r);return Wn(()=>{a.shadow||r("mount",null)}),t({getSidebarProps:()=>({modelValue:c,time:l,updateTime:f}),toggleTimePicker:(h,p=!1,v="")=>{var g;(g=s.value)==null||g.toggleTimePicker(h,p,v)}}),(h,p)=>(Z(),zt(Lb,{"multi-calendars":0,stretch:"","is-mobile":h.isMobile},{default:ht(()=>[mt(d9,oa({ref_key:"tpRef",ref:s},h.$props,{hours:J(l).hours,minutes:J(l).minutes,seconds:J(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":J(u),"validate-time":J(d),"onUpdate:hours":p[0]||(p[0]=v=>J(f)(v)),"onUpdate:minutes":p[1]||(p[1]=v=>J(f)(v,!1)),"onUpdate:seconds":p[2]||(p[2]=v=>J(f)(v,!1,!0)),onAmPmChange:p[3]||(p[3]=v=>h.$emit("am-pm-change",v)),onResetFlow:p[4]||(p[4]=v=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=v=>h.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:p[6]||(p[6]=v=>h.$emit("overlay-toggle",{open:!0,overlay:v}))}),Xi({_:2},[Ft(J(o),(v,g)=>({name:v,fn:ht(m=>[rt(h.$slots,v,ii(go(m)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Koe={class:"dp--header-wrap"},Zoe={key:0,class:"dp__month_year_wrap"},Qoe={key:0},Joe={class:"dp__month_year_wrap"},ese=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],tse=ln({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ll},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const r=n,a=e,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:l,defaultedConfig:c,defaultedHighlight:u,propDates:f,defaultedUI:d}=Hr(a),{transitionName:h,showTransition:p}=Eg(i),{buildMatrix:v}=mf(),{handleMonthYearChange:g,isDisabled:m,updateMonthYear:y}=woe(a,r),{showLeftIcon:x,showRightIcon:b}=Bb(),E=Ce(!1),_=Ce(!1),w=Ce(!1),A=Ce([null,null,null,null]);Wn(()=>{r("mount")});const S=j=>({get:()=>a[j],set:L=>{const F=j===rl.month?rl.year:rl.month;r("update-month-year",{[j]:L,[F]:a[F]}),j===rl.month?P(!0):B(!0)}}),k=je(S(rl.month)),T=je(S(rl.year)),O=je(()=>j=>({month:a.month,year:a.year,items:j===rl.month?a.months:a.years,instance:a.instance,updateMonthYear:y,toggle:j===rl.month?P:B})),C=je(()=>a.months.find(L=>L.value===a.month)||{text:"",value:0}),M=je(()=>Th(a.months,j=>{const L=a.month===j.value,F=w1(j.value,e9(a.year,f.value.minDate),t9(a.year,f.value.maxDate))||l.value.months.includes(j.value),H=o9(u.value,j.value,a.year);return{active:L,disabled:F,highlighted:H}})),R=je(()=>Th(a.years,j=>{const L=a.year===j.value,F=w1(j.value,Oh(f.value.minDate),Oh(f.value.maxDate))||l.value.years.includes(j.value),H=sO(u.value,j.value);return{active:L,disabled:F,highlighted:H}})),I=(j,L,F)=>{F!==void 0?j.value=F:j.value=!j.value,j.value?(w.value=!0,r("overlay-opened",L)):(w.value=!1,r("overlay-closed",L))},P=(j=!1,L)=>{N(j),I(E,Bi.month,L)},B=(j=!1,L)=>{N(j),I(_,Bi.year,L)},N=j=>{j||r("reset-flow")},V=(j,L)=>{a.arrowNavigation&&(A.value[L]=Pa(j),v(A.value,"monthYear"))},W=je(()=>{var j,L,F,H,D,G;return[{type:rl.month,index:1,toggle:P,modelValue:k.value,updateModelValue:K=>k.value=K,text:C.value.text,showSelectionGrid:E.value,items:M.value,ariaLabel:(j=o.value)==null?void 0:j.openMonthsOverlay,overlayLabel:((F=(L=o.value).monthPicker)==null?void 0:F.call(L,!0))??void 0},{type:rl.year,index:2,toggle:B,modelValue:T.value,updateModelValue:K=>T.value=K,text:Z7(a.year,a.locale),showSelectionGrid:_.value,items:R.value,ariaLabel:(H=o.value)==null?void 0:H.openYearsOverlay,overlayLabel:((G=(D=o.value).yearPicker)==null?void 0:G.call(D,!0))??void 0}]}),z=je(()=>a.disableYearSelect?[W.value[0]]:a.yearFirst?[...W.value].reverse():W.value);return t({toggleMonthPicker:P,toggleYearPicker:B,handleMonthYearChange:g}),(j,L)=>{var F,H,D,G,K,re;return Z(),ne("div",Koe,[j.$slots["month-year"]?(Z(),ne("div",Zoe,[rt(j.$slots,"month-year",ii(go({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:J(y),handleMonthYearChange:J(g),instance:e.instance,isDisabled:J(m)})))])):(Z(),ne(Ve,{key:1},[j.$slots["top-extra"]?(Z(),ne("div",Qoe,[rt(j.$slots,"top-extra",{value:j.internalModelValue})])):ye("",!0),Y("div",Joe,[J(x)(J(s),e.instance)&&!j.vertical?(Z(),zt(Uv,{key:0,"aria-label":(F=J(o))==null?void 0:F.prevMonth,disabled:J(m)(!1),class:Qe((H=J(d))==null?void 0:H.navBtnPrev),"el-name":"action-prev",onActivate:L[0]||(L[0]=ie=>J(g)(!1,!0)),onSetRef:L[1]||(L[1]=ie=>V(ie,0))},{default:ht(()=>[j.$slots["arrow-left"]?rt(j.$slots,"arrow-left",{key:0}):ye("",!0),j.$slots["arrow-left"]?ye("",!0):(Z(),zt(J(QT),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),Y("div",{class:Qe(["dp__month_year_wrap",{dp__year_disable_select:j.disableYearSelect}])},[(Z(!0),ne(Ve,null,Ft(z.value,(ie,U)=>(Z(),ne(Ve,{key:ie.type},[Y("button",{ref_for:!0,ref:q=>V(q,U+1),type:"button","data-dp-element":`overlay-${ie.type}`,class:Qe(["dp__btn dp__month_year_select",{"dp--hidden-el":w.value}]),"aria-label":`${ie.text}-${ie.ariaLabel}`,"data-test-id":`${ie.type}-toggle-overlay-${e.instance}`,onClick:ie.toggle,onKeydown:q=>J(mo)(q,()=>ie.toggle(),!0)},[j.$slots[ie.type]?rt(j.$slots,ie.type,{key:0,text:ie.text,value:a[ie.type]}):ye("",!0),j.$slots[ie.type]?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(ie.text),1)],64))],42,ese),mt(cp,{name:J(h)(ie.showSelectionGrid),css:J(p)},{default:ht(()=>[ie.showSelectionGrid?(Z(),zt(_g,{key:0,items:ie.items,"arrow-navigation":j.arrowNavigation,"hide-navigation":j.hideNavigation,"is-last":j.autoApply&&!J(c).keepActionRow,"skip-button-ref":!1,config:j.config,type:ie.type,"header-refs":[],"esc-close":j.escClose,"menu-wrap-ref":j.menuWrapRef,"text-input":j.textInput,"aria-labels":j.ariaLabels,"overlay-label":ie.overlayLabel,onSelected:ie.updateModelValue,onToggle:ie.toggle},Xi({"button-icon":ht(()=>[j.$slots["calendar-icon"]?rt(j.$slots,"calendar-icon",{key:0}):ye("",!0),j.$slots["calendar-icon"]?ye("",!0):(Z(),zt(J(hp),{key:1}))]),_:2},[j.$slots[`${ie.type}-overlay-value`]?{name:"item",fn:ht(({item:q})=>[rt(j.$slots,`${ie.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,j.$slots[`${ie.type}-overlay`]?{name:"overlay",fn:ht(()=>[rt(j.$slots,`${ie.type}-overlay`,oa({ref_for:!0},O.value(ie.type)))]),key:"1"}:void 0,j.$slots[`${ie.type}-overlay-header`]?{name:"header",fn:ht(()=>[rt(j.$slots,`${ie.type}-overlay-header`,{toggle:ie.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),J(x)(J(s),e.instance)&&j.vertical?(Z(),zt(Uv,{key:1,"aria-label":(D=J(o))==null?void 0:D.prevMonth,"el-name":"action-prev",disabled:J(m)(!1),class:Qe((G=J(d))==null?void 0:G.navBtnPrev),onActivate:L[2]||(L[2]=ie=>J(g)(!1,!0))},{default:ht(()=>[j.$slots["arrow-up"]?rt(j.$slots,"arrow-up",{key:0}):ye("",!0),j.$slots["arrow-up"]?ye("",!0):(Z(),zt(J(tO),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),J(b)(J(s),e.instance)?(Z(),zt(Uv,{key:2,ref:"rightIcon","el-name":"action-next",disabled:J(m)(!0),"aria-label":(K=J(o))==null?void 0:K.nextMonth,class:Qe((re=J(d))==null?void 0:re.navBtnNext),onActivate:L[3]||(L[3]=ie=>J(g)(!0,!0)),onSetRef:L[4]||(L[4]=ie=>V(ie,j.disableYearSelect?2:3))},{default:ht(()=>[j.$slots[j.vertical?"arrow-down":"arrow-right"]?rt(j.$slots,j.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),j.$slots[j.vertical?"arrow-down":"arrow-right"]?ye("",!0):(Z(),zt(mg(j.vertical?J(nO):J(JT)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):ye("",!0)])],64))])}}}),nse={class:"dp__calendar_header",role:"row"},rse={key:0,class:"dp__calendar_header_item",role:"gridcell"},ase=["aria-label"],ise={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},ose={class:"dp__cell_inner"},sse=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],lse=ln({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ll},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=n,a=e,{buildMultiLevelMatrix:i}=mf(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedWeekNumbers:u,defaultedMultiDates:f,defaultedUI:d}=Hr(a),h=Ce(null),p=Ce({bottom:"",left:"",transform:""}),v=Ce([]),g=Ce(null),m=Ce(!0),y=Ce(""),x=Ce({startX:0,endX:0,startY:0,endY:0}),b=Ce([]),E=Ce({left:"50%"}),_=Ce(!1),w=je(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),A=je(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):zie(a.formatLocale,a.locale,+a.weekStart));Wn(()=>{r("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",V,{passive:!1}),g.value.addEventListener("touchend",W,{passive:!1}),g.value.addEventListener("touchmove",z,{passive:!1})),a.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",F,{passive:!1})}),gf(()=>{s.value.noSwipe||g.value&&(g.value.removeEventListener("touchstart",V),g.value.removeEventListener("touchend",W),g.value.removeEventListener("touchmove",z)),a.monthChangeOnScroll&&g.value&&g.value.removeEventListener("wheel",F)});const S=ie=>ie?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",k=(ie,U)=>{if(a.transitions){const q=ui(Jc(Ge(),a.month,a.year));y.value=ga(ui(Jc(Ge(),ie,U)),q)?o.value[S(!0)]:o.value[S(!1)],m.value=!1,Hn(()=>{m.value=!0})}},T=je(()=>({...d.value.calendar??{}})),O=je(()=>ie=>{const U=Hie(ie);return{dp__marker_dot:U.type==="dot",dp__marker_line:U.type==="line"}}),C=je(()=>ie=>mn(ie,h.value)),M=je(()=>({dp__calendar:!0,dp__calendar_next:c.value.count>0&&a.instance!==0})),R=je(()=>ie=>a.hideOffsetDates?ie.current:!0),I=async(ie,U)=>{const{width:q,height:Q}=ie.getBoundingClientRect();h.value=U.value;let X={left:`${q/2}px`},ce=-50;if(await Hn(),b.value[0]){const{left:te,width:pe}=b.value[0].getBoundingClientRect();te<0&&(X={left:"0"},ce=0,E.value.left=`${q/2}px`),window.innerWidth<te+pe&&(X={right:"0"},ce=0,E.value.left=`${pe-q/2}px`)}p.value={bottom:`${Q}px`,...X,transform:`translateX(${ce}%)`}},P=async(ie,U,q)=>{var Q,X,ce;const te=Pa(v.value[U][q]);te&&((Q=ie.marker)!=null&&Q.customPosition&&(ce=(X=ie.marker)==null?void 0:X.tooltip)!=null&&ce.length?p.value=ie.marker.customPosition(te):await I(te,ie),r("tooltip-open",ie.marker))},B=async(ie,U,q)=>{var Q,X;if(_.value&&f.value.enabled&&f.value.dragSelect)return r("select-date",ie);if(r("set-hover-date",ie),(X=(Q=ie.marker)==null?void 0:Q.tooltip)!=null&&X.length){if(a.hideOffsetDates&&!ie.current)return;await P(ie,U,q)}},N=ie=>{h.value&&(h.value=null,p.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ie.marker))},V=ie=>{x.value.startX=ie.changedTouches[0].screenX,x.value.startY=ie.changedTouches[0].screenY},W=ie=>{x.value.endX=ie.changedTouches[0].screenX,x.value.endY=ie.changedTouches[0].screenY,j()},z=ie=>{a.vertical&&!a.inline&&ie.preventDefault()},j=()=>{const ie=a.vertical?"Y":"X";Math.abs(x.value[`start${ie}`]-x.value[`end${ie}`])>10&&r("handle-swipe",x.value[`start${ie}`]>x.value[`end${ie}`]?"right":"left")},L=(ie,U,q)=>{ie&&(Array.isArray(v.value[U])?v.value[U][q]=ie:v.value[U]=[ie]),a.arrowNavigation&&i(v.value,"calendar")},F=ie=>{a.monthChangeOnScroll&&(ie.preventDefault(),r("handle-scroll",ie))},H=ie=>u.value.type==="local"?qT(ie.value,{weekStartsOn:+a.weekStart}):u.value.type==="iso"?YT(ie.value):typeof u.value.type=="function"?u.value.type(ie.value):"",D=ie=>{const U=ie[0];return u.value.hideOnOffsetDates?ie.some(q=>q.current)?H(U):"":H(U)},G=(ie,U,q=!0)=>{!q&&Xie()||(!f.value.enabled||s.value.allowPreventDefault)&&(Zu(ie,s.value),r("select-date",U))},K=ie=>{Zu(ie,s.value)},re=ie=>{f.value.enabled&&f.value.dragSelect?(_.value=!0,r("select-date",ie)):f.value.enabled&&r("select-date",ie)};return t({triggerTransition:k}),(ie,U)=>(Z(),ne("div",{class:Qe(M.value)},[Y("div",{ref_key:"calendarWrapRef",ref:g,class:Qe(T.value),role:"grid"},[Y("div",nse,[ie.weekNumbers?(Z(),ne("div",rse,be(ie.weekNumName),1)):ye("",!0),(Z(!0),ne(Ve,null,Ft(A.value,(q,Q)=>{var X,ce;return Z(),ne("div",{key:Q,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(ce=(X=J(l))==null?void 0:X.weekDay)==null?void 0:ce.call(X,Q)},[ie.$slots["calendar-header"]?rt(ie.$slots,"calendar-header",{key:0,day:q,index:Q}):ye("",!0),ie.$slots["calendar-header"]?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(q),1)],64))],8,ase)}),128))]),U[2]||(U[2]=Y("div",{class:"dp__calendar_header_separator"},null,-1)),mt(cp,{name:y.value,css:!!ie.transitions},{default:ht(()=>[m.value?(Z(),ne("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:U[1]||(U[1]=q=>_.value=!1)},[(Z(!0),ne(Ve,null,Ft(w.value,(q,Q)=>(Z(),ne("div",{key:Q,class:"dp__calendar_row",role:"row"},[ie.weekNumbers?(Z(),ne("div",ise,[Y("div",ose,be(D(q.days)),1)])):ye("",!0),(Z(!0),ne(Ve,null,Ft(q.days,(X,ce)=>{var te,pe,me;return Z(),ne("div",{id:J(uA)(X.value),ref_for:!0,ref:Ee=>L(Ee,Q,ce),key:ce+Q,role:"gridcell",class:"dp__calendar_item","aria-pressed":(X.classData.dp__active_date||X.classData.dp__range_start||X.classData.dp__range_start)??void 0,"aria-disabled":X.classData.dp__cell_disabled||void 0,"aria-label":(pe=(te=J(l))==null?void 0:te.day)==null?void 0:pe.call(te,X),tabindex:!X.current&&ie.hideOffsetDates?void 0:0,"data-test-id":J(uA)(X.value),onClick:Ti(Ee=>G(Ee,X),["prevent"]),onTouchend:Ee=>G(Ee,X,!1),onKeydown:Ee=>J(mo)(Ee,()=>ie.$emit("select-date",X)),onMouseenter:Ee=>B(X,Q,ce),onMouseleave:Ee=>N(X),onMousedown:Ee=>re(X),onMouseup:U[0]||(U[0]=Ee=>_.value=!1)},[Y("div",{class:Qe(["dp__cell_inner",X.classData])},[ie.$slots.day&&R.value(X)?rt(ie.$slots,"day",{key:0,day:+X.text,date:X.value}):ye("",!0),ie.$slots.day?ye("",!0):(Z(),ne(Ve,{key:1},[Jt(be(X.text),1)],64)),X.marker&&R.value(X)?(Z(),ne(Ve,{key:2},[ie.$slots.marker?rt(ie.$slots,"marker",{key:0,marker:X.marker,day:+X.text,date:X.value}):(Z(),ne("div",{key:1,class:Qe(O.value(X.marker)),style:We(X.marker.color?{backgroundColor:X.marker.color}:{})},null,6))],64)):ye("",!0),C.value(X.value)?(Z(),ne("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:We(p.value)},[(me=X.marker)!=null&&me.tooltip?(Z(),ne("div",{key:0,class:"dp__tooltip_content",onClick:K},[(Z(!0),ne(Ve,null,Ft(X.marker.tooltip,(Ee,ke)=>(Z(),ne("div",{key:ke,class:"dp__tooltip_text"},[ie.$slots["marker-tooltip"]?rt(ie.$slots,"marker-tooltip",{key:0,tooltip:Ee,day:X.value}):ye("",!0),ie.$slots["marker-tooltip"]?ye("",!0):(Z(),ne(Ve,{key:1},[Y("div",{class:"dp__tooltip_mark",style:We(Ee.color?{backgroundColor:Ee.color}:{})},null,4),Y("div",null,be(Ee.text),1)],64))]))),128)),Y("div",{class:"dp__arrow_bottom_tp",style:We(E.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,sse)}),128))]))),128))],32)):ye("",!0)]),_:3},8,["name","css"])],2)],2))}}),CP=e=>Array.isArray(e),cse=(e,t,n,r)=>{const a=Ce([]),i=Ce(new Date),o=Ce(),s=()=>W(e.isTextInputDate),{modelValue:l,calendars:c,time:u,today:f}=Sg(e,t,s),{defaultedMultiCalendars:d,defaultedStartTime:h,defaultedRange:p,defaultedConfig:v,defaultedTz:g,propDates:m,defaultedMultiDates:y}=Hr(e),{validateMonthYearInRange:x,isDisabled:b,isDateRangeAllowed:E,checkMinMaxRange:_}=yf(e),{updateTimeValues:w,getSetDateTime:A,setTime:S,assignStartTime:k,validateTime:T,disabledTimesConfig:O}=h9(e,u,l,r),C=je(()=>we=>c.value[we]?c.value[we].month:0),M=je(()=>we=>c.value[we]?c.value[we].year:0),R=we=>!v.value.keepViewOnOffsetClick||we?!0:!o.value,I=(we,Ke,Ct,rn=!1)=>{var Fe,st;R(rn)&&(c.value[we]||(c.value[we]={month:0,year:0}),c.value[we].month=EP(Ke)?(Fe=c.value[we])==null?void 0:Fe.month:Ke,c.value[we].year=EP(Ct)?(st=c.value[we])==null?void 0:st.year:Ct)},P=()=>{e.autoApply&&t("select-date")},B=()=>{h.value&&k(h.value)};Wn(()=>{e.shadow||(l.value||(U(),B()),W(!0),e.focusStartDate&&e.startDate&&U())});const N=je(()=>{var we;return(we=e.flow)!=null&&we.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),V=()=>{e.autoApply&&N.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},W=(we=!1)=>{if(l.value)return Array.isArray(l.value)?(a.value=l.value,G(we)):L(l.value,we);if(d.value.count&&we&&!e.startDate)return j(Ge(),we)},z=()=>Array.isArray(l.value)&&p.value.enabled?gn(l.value[0])===gn(l.value[1]??l.value[0]):!1,j=(we=new Date,Ke=!1)=>{if((!d.value.count||!d.value.static||Ke)&&I(0,gn(we),Wt(we)),d.value.count&&(!l.value||z()||!d.value.solo)&&(!d.value.solo||Ke))for(let Ct=1;Ct<d.value.count;Ct++){const rn=cr(Ge(),{month:C.value(Ct-1),year:M.value(Ct-1)}),Fe=k7(rn,{months:1});c.value[Ct]={month:gn(Fe),year:Wt(Fe)}}},L=(we,Ke)=>{j(we),S("hours",fu(we)),S("minutes",af(we)),S("seconds",Sh(we)),d.value.count&&Ke&&ie()},F=we=>{if(d.value.count){if(d.value.solo)return 0;const Ke=gn(we[0]),Ct=gn(we[1]);return Math.abs(Ct-Ke)<d.value.count?0:1}return 1},H=(we,Ke)=>{we[1]&&p.value.showLastInRange?j(we[F(we)],Ke):j(we[0],Ke);const Ct=(rn,Fe)=>[rn(we[0]),we[1]?rn(we[1]):u[Fe][1]];S("hours",Ct(fu,"hours")),S("minutes",Ct(af,"minutes")),S("seconds",Ct(Sh,"seconds"))},D=(we,Ke)=>{if((p.value.enabled||e.weekPicker)&&!y.value.enabled)return H(we,Ke);if(y.value.enabled&&Ke){const Ct=we[we.length-1];return L(Ct,Ke)}},G=we=>{const Ke=l.value;D(Ke,we),d.value.count&&d.value.solo&&ie()},K=(we,Ke)=>{const Ct=cr(Ge(),{month:C.value(Ke),year:M.value(Ke)}),rn=we<0?_l(Ct,1):kh(Ct,1);x(gn(rn),Wt(rn),we<0,e.preventMinMaxNavigation)&&(I(Ke,gn(rn),Wt(rn)),t("update-month-year",{instance:Ke,month:gn(rn),year:Wt(rn)}),d.value.count&&!d.value.solo&&re(Ke),n())},re=we=>{for(let Ke=we-1;Ke>=0;Ke--){const Ct=kh(cr(Ge(),{month:C.value(Ke+1),year:M.value(Ke+1)}),1);I(Ke,gn(Ct),Wt(Ct))}for(let Ke=we+1;Ke<=d.value.count-1;Ke++){const Ct=_l(cr(Ge(),{month:C.value(Ke-1),year:M.value(Ke-1)}),1);I(Ke,gn(Ct),Wt(Ct))}},ie=()=>{if(Array.isArray(l.value)&&l.value.length===2){const we=Ge(Ge(l.value[1]?l.value[1]:_l(l.value[0],1))),[Ke,Ct]=[gn(l.value[0]),Wt(l.value[0])],[rn,Fe]=[gn(l.value[1]),Wt(l.value[1])];(Ke!==rn||Ke===rn&&Ct!==Fe)&&d.value.solo&&I(1,gn(we),Wt(we))}else l.value&&!Array.isArray(l.value)&&(I(0,gn(l.value),Wt(l.value)),j(Ge()))},U=()=>{e.startDate&&(I(0,gn(Ge(e.startDate)),Wt(Ge(e.startDate))),d.value.count&&re(0))},q=(we,Ke)=>{if(e.monthChangeOnScroll){const Ct=new Date().getTime()-i.value.getTime(),rn=Math.abs(we.deltaY);let Fe=500;rn>1&&(Fe=100),rn>100&&(Fe=0),Ct>Fe&&(i.value=new Date,K(e.monthChangeOnScroll!=="inverse"?-we.deltaY:we.deltaY,Ke))}},Q=(we,Ke,Ct=!1)=>{e.monthChangeOnArrows&&e.vertical===Ct&&X(we,Ke)},X=(we,Ke)=>{K(we==="right"?-1:1,Ke)},ce=we=>{if(m.value.markers)return Bx(we.value,m.value.markers)},te=(we,Ke)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[we==0,!0];case"fair":return[we==0||Ke>we,!0];case"append":return[!1,!1];default:return[!1,!1]}},pe=(we,Ke,Ct,rn)=>{if(e.sixWeeks&&we.length<6){const Fe=6-we.length,st=(Ke.getDay()+7-rn)%7,kt=6-(Ct.getDay()+7-rn)%7,[Ks,cs]=te(st,kt);for(let Lc=1;Lc<=Fe;Lc++)if(cs?!!(Lc%2)==Ks:Ks){const zl=we[0].days[0],Op=me(Os(zl.value,-7),gn(Ke));we.unshift({days:Op})}else{const zl=we[we.length-1],Op=zl.days[zl.days.length-1],Qw=me(Os(Op.value,1),gn(Ke));we.push({days:Qw})}}return we},me=(we,Ke)=>{const Ct=Ge(we),rn=[];for(let Fe=0;Fe<7;Fe++){const st=Os(Ct,Fe),kt=gn(st)!==Ke;rn.push({text:e.hideOffsetDates&&kt?"":st.getDate(),value:st,current:!kt,classData:{}})}return rn},Ee=(we,Ke)=>{const Ct=[],rn=new Date(Ke,we),Fe=new Date(Ke,we+1,0),st=e.weekStart,kt=Cl(rn,{weekStartsOn:st}),Ks=cs=>{const Lc=me(cs,we);if(Ct.push({days:Lc}),!Ct[Ct.length-1].days.some(zl=>mn(ui(zl.value),ui(Fe)))){const zl=Os(cs,7);Ks(zl)}};return Ks(kt),pe(Ct,rn,Fe,st)},ke=we=>{const Ke=Qu(Ge(we.value),u.hours,u.minutes,Re());t("date-update",Ke),y.value.enabled?lO(Ke,l,y.value.limit):l.value=Ke,r(),Hn().then(()=>{V()})},Ue=we=>p.value.noDisabledRange?n9(a.value[0],we).some(Ke=>b(Ke)):!1,fe=()=>{a.value=l.value?l.value.slice():[],a.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(a.value=[])},xe=(we,Ke)=>{const Ct=[Ge(we.value),Os(Ge(we.value),+p.value.autoRange)];E(Ct)?(Ke&&De(we.value),a.value=Ct):t("invalid-date",we.value)},De=we=>{const Ke=gn(Ge(we)),Ct=Wt(Ge(we));if(I(0,Ke,Ct),d.value.count>0)for(let rn=1;rn<d.value.count;rn++){const Fe=Zie(cr(Ge(we),{year:M.value(rn-1),month:C.value(rn-1)}));I(rn,Fe.month,Fe.year)}},He=we=>{if(Ue(we.value)||!_(we.value,l.value,p.value.fixedStart?0:1))return t("invalid-date",we.value);a.value=u9(Ge(we.value),l,t,p)},pt=(we,Ke)=>{if(fe(),p.value.autoRange)return xe(we,Ke);if(p.value.fixedStart||p.value.fixedEnd)return He(we);a.value[0]?_(Ge(we.value),l.value)&&!Ue(we.value)?ra(Ge(we.value),Ge(a.value[0]))?(a.value.unshift(Ge(we.value)),t("range-end",a.value[0])):(a.value[1]=Ge(we.value),t("range-end",a.value[1])):(e.autoApply&&t("auto-apply-invalid",we.value),t("invalid-date",we.value)):(a.value[0]=Ge(we.value),t("range-start",a.value[0]))},Re=(we=!0)=>e.enableSeconds?Array.isArray(u.seconds)?we?u.seconds[0]:u.seconds[1]:u.seconds:0,vt=we=>{a.value[we]=Qu(a.value[we],u.hours[we],u.minutes[we],Re(we!==1))},Ye=()=>{var we,Ke;a.value[0]&&a.value[1]&&+((we=a.value)==null?void 0:we[0])>+((Ke=a.value)==null?void 0:Ke[1])&&(a.value.reverse(),t("range-start",a.value[0]),t("range-end",a.value[1]))},It=()=>{a.value.length&&(a.value[0]&&!a.value[1]?vt(0):(vt(0),vt(1),r()),Ye(),l.value=a.value.slice(),Fb(a.value,t,e.autoApply,e.modelAuto))},Xt=(we,Ke=!1)=>{if(b(we.value)||!we.current&&e.hideOffsetDates)return t("invalid-date",we.value);if(o.value=JSON.parse(JSON.stringify(we)),!p.value.enabled)return ke(we);CP(u.hours)&&CP(u.minutes)&&!y.value.enabled&&(pt(we,Ke),It())},pn=(we,Ke)=>{var Ct;I(we,Ke.month,Ke.year,!0),d.value.count&&!d.value.solo&&re(we),t("update-month-year",{instance:we,month:Ke.month,year:Ke.year}),n(d.value.solo?we:void 0);const rn=(Ct=e.flow)!=null&&Ct.length?e.flow[e.flowStep]:void 0;!Ke.fromNav&&(rn===Bi.month||rn===Bi.year)&&r()},Sa=(we,Ke)=>{c9({value:we,modelValue:l,range:p.value.enabled,timezone:Ke?void 0:g.value.timezone}),P(),e.multiCalendars&&Hn().then(()=>W(!0))},Lr=()=>{const we=rO(Ge(),g.value);!p.value.enabled&&!y.value.enabled?l.value=we:l.value&&Array.isArray(l.value)&&l.value[0]?y.value.enabled?l.value=[...l.value,we]:l.value=ra(we,l.value[0])?[we,l.value[0]]:[l.value[0],we]:l.value=[we],P()},Na=()=>{if(Array.isArray(l.value))if(y.value.enabled){const we=jl();l.value[l.value.length-1]=A(we)}else l.value=l.value.map((we,Ke)=>we&&A(we,Ke));else l.value=A(l.value);t("time-update")},jl=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:c,modelValue:l,month:C,year:M,time:u,disabledTimesConfig:O,today:f,validateTime:T,getCalendarDays:Ee,getMarker:ce,handleScroll:q,handleSwipe:X,handleArrow:Q,selectDate:Xt,updateMonthYear:pn,presetDate:Sa,selectCurrentDate:Lr,updateTime:(we,Ke=!0,Ct=!1)=>{w(we,Ke,Ct,Na)},assignMonthAndYear:j,setStartTime:B}},use={key:0},fse=ln({__name:"DatePicker",props:{...Ll},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=e,{calendars:i,month:o,year:s,modelValue:l,time:c,disabledTimesConfig:u,today:f,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:v,handleScroll:g,handleSwipe:m,selectDate:y,updateMonthYear:x,presetDate:b,selectCurrentDate:E,updateTime:_,assignMonthAndYear:w,setStartTime:A}=cse(a,r,z,j),S=qd(),{setHoverDate:k,getDayClassData:T,clearHoverDate:O}=Ose(l,a),{defaultedMultiCalendars:C}=Hr(a),M=Ce([]),R=Ce([]),I=Ce(null),P=Jo(S,"calendar"),B=Jo(S,"monthYear"),N=Jo(S,"timePicker"),V=q=>{a.shadow||r("mount",q)};sn(i,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),sn(C,(q,Q)=>{q.count-Q.count>0&&w()},{deep:!0});const W=je(()=>q=>h(o.value(q),s.value(q)).map(Q=>({...Q,days:Q.days.map(X=>(X.marker=p(X),X.classData=T(X),X))})));function z(q){var Q;q||q===0?(Q=R.value[q])==null||Q.triggerTransition(o.value(q),s.value(q)):R.value.forEach((X,ce)=>X.triggerTransition(o.value(ce),s.value(ce)))}function j(){r("update-flow-step")}const L=(q,Q=!1)=>{y(q,Q),a.spaceConfirm&&r("select-date")},F=(q,Q,X=0)=>{var ce;(ce=M.value[X])==null||ce.toggleMonthPicker(q,Q)},H=(q,Q,X=0)=>{var ce;(ce=M.value[X])==null||ce.toggleYearPicker(q,Q)},D=(q,Q,X)=>{var ce;(ce=I.value)==null||ce.toggleTimePicker(q,Q,X)},G=(q,Q)=>{var X;if(!a.range){const ce=l.value?l.value:f,te=Q?new Date(Q):ce,pe=q?Cl(te,{weekStartsOn:1}):R7(te,{weekStartsOn:1});y({value:pe,current:gn(te)===o.value(0),text:"",classData:{}}),(X=document.getElementById(uA(pe)))==null||X.focus()}},K=q=>{var Q;(Q=M.value[0])==null||Q.handleMonthYearChange(q,!0)},re=q=>{x(0,{month:o.value(0),year:s.value(0)+(q?1:-1),fromNav:!0})},ie=(q,Q)=>{q===Bi.time&&r(`time-picker-${Q?"open":"close"}`),r("overlay-toggle",{open:Q,overlay:q})},U=q=>{r("overlay-toggle",{open:!1,overlay:q}),r("focus-menu")};return t({clearHoverDate:O,presetDate:b,selectCurrentDate:E,toggleMonthPicker:F,toggleYearPicker:H,toggleTimePicker:D,handleArrow:v,updateMonthYear:x,getSidebarProps:()=>({modelValue:l,month:o,year:s,time:c,updateTime:_,updateMonthYear:x,selectDate:y,presetDate:b}),changeMonth:K,changeYear:re,selectWeekDate:G,setStartTime:A}),(q,Q)=>(Z(),ne(Ve,null,[mt(Lb,{"multi-calendars":J(C).count,collapse:q.collapse,"is-mobile":q.isMobile},{default:ht(({instance:X,index:ce})=>[q.disableMonthYearSelect?ye("",!0):(Z(),zt(tse,oa({key:0,ref:te=>{te&&(M.value[ce]=te)},months:J(X7)(q.formatLocale,q.locale,q.monthNameFormat),years:J(aO)(q.yearRange,q.locale,q.reverseYears),month:J(o)(X),year:J(s)(X),instance:X},q.$props,{onMount:Q[0]||(Q[0]=te=>V(J(pd).header)),onResetFlow:Q[1]||(Q[1]=te=>q.$emit("reset-flow")),onUpdateMonthYear:te=>J(x)(X,te),onOverlayClosed:U,onOverlayOpened:Q[2]||(Q[2]=te=>q.$emit("overlay-toggle",{open:!0,overlay:te}))}),Xi({_:2},[Ft(J(B),(te,pe)=>({name:te,fn:ht(me=>[rt(q.$slots,te,ii(go(me)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),mt(lse,oa({ref:te=>{te&&(R.value[ce]=te)},"mapped-dates":W.value(X),month:J(o)(X),year:J(s)(X),instance:X},q.$props,{onSelectDate:te=>J(y)(te,X!==1),onHandleSpace:te=>L(te,X!==1),onSetHoverDate:Q[3]||(Q[3]=te=>J(k)(te)),onHandleScroll:te=>J(g)(te,X),onHandleSwipe:te=>J(m)(te,X),onMount:Q[4]||(Q[4]=te=>V(J(pd).calendar)),onResetFlow:Q[5]||(Q[5]=te=>q.$emit("reset-flow")),onTooltipOpen:Q[6]||(Q[6]=te=>q.$emit("tooltip-open",te)),onTooltipClose:Q[7]||(Q[7]=te=>q.$emit("tooltip-close",te))}),Xi({_:2},[Ft(J(P),(te,pe)=>({name:te,fn:ht(me=>[rt(q.$slots,te,ii(go({...me})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),q.enableTimePicker?(Z(),ne("div",use,[q.$slots["time-picker"]?rt(q.$slots,"time-picker",ii(oa({key:0},{time:J(c),updateTime:J(_)}))):(Z(),zt(d9,oa({key:1,ref_key:"timePickerRef",ref:I},q.$props,{hours:J(c).hours,minutes:J(c).minutes,seconds:J(c).seconds,"internal-model-value":q.internalModelValue,"disabled-times-config":J(u),"validate-time":J(d),onMount:Q[8]||(Q[8]=X=>V(J(pd).timePicker)),"onUpdate:hours":Q[9]||(Q[9]=X=>J(_)(X)),"onUpdate:minutes":Q[10]||(Q[10]=X=>J(_)(X,!1)),"onUpdate:seconds":Q[11]||(Q[11]=X=>J(_)(X,!1,!0)),onResetFlow:Q[12]||(Q[12]=X=>q.$emit("reset-flow")),onOverlayClosed:Q[13]||(Q[13]=X=>ie(X,!1)),onOverlayOpened:Q[14]||(Q[14]=X=>ie(X,!0)),onAmPmChange:Q[15]||(Q[15]=X=>q.$emit("am-pm-change",X))}),Xi({_:2},[Ft(J(N),(X,ce)=>({name:X,fn:ht(te=>[rt(q.$slots,X,ii(go(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),dse=(e,t)=>{const n=Ce(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:i,defaultedRange:o,propDates:s,defaultedFilters:l,defaultedMultiDates:c}=Hr(e),{modelValue:u,year:f,month:d,calendars:h}=Sg(e,t),{isDisabled:p}=yf(e),{selectYear:v,groupedYears:g,showYearPicker:m,isDisabled:y,toggleYearPicker:x,handleYearSelect:b,handleYear:E}=f9({modelValue:u,multiCalendars:r,range:o,highlight:i,calendars:h,propDates:s,month:d,year:f,filters:l,props:e,emit:t}),_=(R,I)=>[R,I].map(P=>hc(P,"MMMM",{locale:e.formatLocale})).join("-"),w=je(()=>R=>u.value?Array.isArray(u.value)?u.value.some(I=>bP(R,I)):bP(u.value,R):!1),A=R=>{if(o.value.enabled){if(Array.isArray(u.value)){const I=mn(R,u.value[0])||mn(R,u.value[1]);return _1(u.value,n.value,R)&&!I}return!1}return!1},S=(R,I)=>R.quarter===pP(I)&&R.year===Wt(I),k=R=>typeof i.value=="function"?i.value({quarter:pP(R),year:Wt(R)}):!!i.value.quarters.find(I=>S(I,R)),T=je(()=>R=>{const I=cr(new Date,{year:f.value(R)});return zre({start:b1(I),end:I7(I)}).map(P=>{const B=nd(P),N=vP(P),V=p(P),W=A(B),z=k(B);return{text:_(B,N),value:B,active:w.value(B),highlighted:z,disabled:V,isBetween:W}})}),O=R=>{lO(R,u,c.value.limit),t("auto-apply",!0)},C=R=>{u.value=cO(u,R,t),Fb(u.value,t,e.autoApply,e.modelAuto)},M=R=>{u.value=R,t("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:g,year:f,isDisabled:y,quarters:T,showYearPicker:m,modelValue:u,setHoverDate:R=>{n.value=R},selectYear:v,selectQuarter:(R,I,P)=>{if(!P)return h.value[I].month=gn(vP(R)),c.value.enabled?O(R):o.value.enabled?C(R):M(R)},toggleYearPicker:x,handleYearSelect:b,handleYear:E}},hse={class:"dp--quarter-items"},pse=["data-test-id","disabled","onClick","onMouseover"],vse=ln({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ll},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=qd(),o=Jo(i,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:l,groupedYears:c,year:u,isDisabled:f,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:v,selectQuarter:g,toggleYearPicker:m,handleYearSelect:y,handleYear:x}=dse(a,r);return t({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:g,handleYearSelect:y,handleYear:x})}),(b,E)=>(Z(),zt(Lb,{"multi-calendars":J(s).count,collapse:b.collapse,stretch:"","is-mobile":b.isMobile},{default:ht(({instance:_})=>[Y("div",{class:"dp-quarter-picker-wrap",style:We({minHeight:`${J(l).modeHeight}px`})},[b.$slots["top-extra"]?rt(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):ye("",!0),Y("div",null,[mt(l9,oa(b.$props,{items:J(c)(_),instance:_,"show-year-picker":J(p)[_],year:J(u)(_),"is-disabled":w=>J(f)(_,w),onHandleYear:w=>J(x)(_,w),onYearSelect:w=>J(y)(w,_),onToggleYearPicker:w=>J(m)(_,w==null?void 0:w.flow,w==null?void 0:w.show)}),Xi({_:2},[Ft(J(o),(w,A)=>({name:w,fn:ht(S=>[rt(b.$slots,w,ii(go(S)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Y("div",hse,[(Z(!0),ne(Ve,null,Ft(J(d)(_),(w,A)=>(Z(),ne("div",{key:A},[Y("button",{type:"button",class:Qe(["dp--qr-btn",{"dp--qr-btn-active":w.active,"dp--qr-btn-between":w.isBetween,"dp--qr-btn-disabled":w.disabled,"dp--highlighted":w.highlighted}]),"data-test-id":w.value,disabled:w.disabled,onClick:S=>J(g)(w.value,_,w.disabled),onMouseover:S=>J(v)(w.value)},[b.$slots.quarter?rt(b.$slots,"quarter",{key:0,value:w.value,text:w.text}):(Z(),ne(Ve,{key:1},[Jt(be(w.text),1)],64))],42,pse)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),p9=(e,t)=>{const n=Ce(0);Wn(()=>{r(),window.addEventListener("resize",r,{passive:!0})}),gf(()=>{window.removeEventListener("resize",r)});const r=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:je(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},gse=["id","tabindex","role","aria-label"],mse={key:0,class:"dp--menu-load-container"},yse={key:1,class:"dp--menu-header"},xse=["data-dp-mobile"],bse={key:0,class:"dp__sidebar_left"},wse=["data-dp-mobile"],_se=["data-test-id","data-dp-mobile","onClick","onKeydown"],Ese={key:2,class:"dp__sidebar_right"},Sse={key:3,class:"dp__action_extra"},MP=ln({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Db,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=Ce(null),o=je(()=>{const{openOnTop:fe,...xe}=a;return{...xe,isMobile:g.value,flowStep:C.value,menuWrapRef:i.value}}),{setMenuFocused:s,setShiftKey:l,control:c}=s9(),u=qd(),{defaultedTextInput:f,defaultedInline:d,defaultedConfig:h,defaultedUI:p,handleEventPropagation:v}=Hr(a),{isMobile:g}=p9(h,a.shadow),m=Ce(null),y=Ce(0),x=Ce(null),b=Ce(!1),E=Ce(null),_=Ce(!1),w=fe=>{_.value=!0,h.value.allowPreventDefault&&fe.preventDefault(),Zu(fe,h.value,!0)};Wn(()=>{if(!a.shadow){b.value=!0,A(),window.addEventListener("resize",A);const fe=Pa(i);fe&&!f.value.enabled&&!d.value.enabled&&(s(!0),V()),fe&&(fe.addEventListener("pointerdown",w),fe.addEventListener("mousedown",w))}document.addEventListener("mousedown",Ue)}),gf(()=>{window.removeEventListener("resize",A),document.removeEventListener("mousedown",Ue);const fe=Pa(i);fe&&(fe.removeEventListener("pointerdown",w),fe.removeEventListener("mousedown",w))});const A=()=>{const fe=Pa(x);fe&&(y.value=fe.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:k,arrowDown:T,arrowUp:O}=mf(),{flowStep:C,updateFlowStep:M,childMount:R,resetFlow:I,handleFlow:P}=Cse(a,r,E),B=je(()=>a.monthPicker?Roe:a.yearPicker?Doe:a.timePicker?qoe:a.quarterPicker?vse:fse),N=je(()=>{var fe;if(h.value.arrowLeft)return h.value.arrowLeft;const xe=(fe=i.value)==null?void 0:fe.getBoundingClientRect(),De=a.getInputRect();return(De==null?void 0:De.width)<(y==null?void 0:y.value)&&(De==null?void 0:De.left)<=((xe==null?void 0:xe.left)??0)?`${(De==null?void 0:De.width)/2}px`:(De==null?void 0:De.right)>=((xe==null?void 0:xe.right)??0)&&(De==null?void 0:De.width)<(y==null?void 0:y.value)?`${(y==null?void 0:y.value)-(De==null?void 0:De.width)/2}px`:"50%"}),V=()=>{const fe=Pa(i);fe&&fe.focus({preventScroll:!0})},W=je(()=>{var fe;return((fe=E.value)==null?void 0:fe.getSidebarProps())||{}}),z=()=>{a.openOnTop&&r("recalculate-position")},j=Jo(u,"action"),L=je(()=>a.monthPicker||a.yearPicker?Jo(u,"monthYear"):a.timePicker?Jo(u,"timePicker"):Jo(u,"shared")),F=je(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),H=je(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),D=je(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,...p.value.menu??{}})),G=fe=>{Zu(fe,h.value,!0)},K=fe=>{a.escClose&&(r("close-picker"),v(fe))},re=fe=>{if(a.arrowNavigation){if(fe===io.up)return O();if(fe===io.down)return T();if(fe===io.left)return k();if(fe===io.right)return S()}else fe===io.left||fe===io.up?X("handleArrow",io.left,0,fe===io.up):X("handleArrow",io.right,0,fe===io.down)},ie=fe=>{l(fe.shiftKey),!a.disableMonthYearSelect&&fe.code===kr.tab&&fe.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(fe.preventDefault(),Zu(fe,h.value,!0),r("close-picker"))},U=()=>{V(),r("time-picker-close")},q=fe=>{var xe,De,He;(xe=E.value)==null||xe.toggleTimePicker(!1,!1),(De=E.value)==null||De.toggleMonthPicker(!1,!1,fe),(He=E.value)==null||He.toggleYearPicker(!1,!1,fe)},Q=(fe,xe=0)=>{var De,He,pt;return fe==="month"?(De=E.value)==null?void 0:De.toggleMonthPicker(!1,!0,xe):fe==="year"?(He=E.value)==null?void 0:He.toggleYearPicker(!1,!0,xe):fe==="time"?(pt=E.value)==null?void 0:pt.toggleTimePicker(!0,!1):q(xe)},X=(fe,...xe)=>{var De,He;(De=E.value)!=null&&De[fe]&&((He=E.value)==null||He[fe](...xe))},ce=()=>{X("selectCurrentDate")},te=(fe,xe)=>{X("presetDate",JZ(fe),xe)},pe=()=>{X("clearHoverDate")},me=(fe,xe)=>{X("updateMonthYear",fe,xe)},Ee=(fe,xe)=>{fe.preventDefault(),re(xe)},ke=fe=>{var xe,De,He;if(ie(fe),fe.key===kr.home||fe.key===kr.end)return X("selectWeekDate",fe.key===kr.home,fe.target.getAttribute("id"));switch((fe.key===kr.pageUp||fe.key===kr.pageDown)&&(fe.shiftKey?(X("changeYear",fe.key===kr.pageUp),(xe=lA(i.value,"overlay-year"))==null||xe.focus()):(X("changeMonth",fe.key===kr.pageUp),(De=lA(i.value,fe.key===kr.pageUp?"action-prev":"action-next"))==null||De.focus()),fe.target.getAttribute("id")&&((He=i.value)==null||He.focus({preventScroll:!0}))),fe.key){case kr.esc:return K(fe);case kr.arrowLeft:return Ee(fe,io.left);case kr.arrowRight:return Ee(fe,io.right);case kr.arrowUp:return Ee(fe,io.up);case kr.arrowDown:return Ee(fe,io.down);default:return}},Ue=fe=>{var xe;d.value.enabled&&!d.value.input&&!((xe=i.value)!=null&&xe.contains(fe.target))&&_.value&&(_.value=!1,r("menu-blur"))};return t({updateMonthYear:me,switchView:Q,handleFlow:P,onValueCleared:()=>{var fe,xe;(xe=(fe=E.value)==null?void 0:fe.setStartTime)==null||xe.call(fe)}}),(fe,xe)=>{var De,He,pt;return Z(),ne("div",{id:fe.uid?`dp-menu-${fe.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:J(d).enabled?void 0:"0",role:J(d).enabled?void 0:"dialog","aria-label":(De=fe.ariaLabels)==null?void 0:De.menu,class:Qe(D.value),style:We({"--dp-arrow-left":N.value}),onMouseleave:pe,onClick:G,onKeydown:ke},[(fe.disabled||fe.readonly)&&J(d).enabled||fe.loading?(Z(),ne("div",{key:0,class:Qe(H.value)},[fe.loading?(Z(),ne("div",mse,xe[19]||(xe[19]=[Y("span",{class:"dp--menu-loader"},null,-1)]))):ye("",!0)],2)):ye("",!0),fe.$slots["menu-header"]?(Z(),ne("div",yse,[rt(fe.$slots,"menu-header")])):ye("",!0),!J(d).enabled&&!fe.teleportCenter?(Z(),ne("div",{key:2,class:Qe(F.value)},null,2)):ye("",!0),Y("div",{ref_key:"innerMenuRef",ref:x,class:Qe({dp__menu_content_wrapper:((He=fe.presetDates)==null?void 0:He.length)||!!fe.$slots["left-sidebar"]||!!fe.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((pt=fe.presetDates)==null?void 0:pt.length)||!!fe.$slots["left-sidebar"]||!!fe.$slots["right-sidebar"])}),"data-dp-mobile":J(g),style:We({"--dp-menu-width":`${y.value}px`})},[fe.$slots["left-sidebar"]?(Z(),ne("div",bse,[rt(fe.$slots,"left-sidebar",ii(go(W.value)))])):ye("",!0),fe.presetDates.length?(Z(),ne("div",{key:1,class:Qe({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":J(g)},[(Z(!0),ne(Ve,null,Ft(fe.presetDates,(Re,vt)=>(Z(),ne(Ve,{key:vt},[Re.slot?rt(fe.$slots,Re.slot,{key:0,presetDate:te,label:Re.label,value:Re.value}):(Z(),ne("button",{key:1,type:"button",style:We(Re.style||{}),class:Qe(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":Re.testId??void 0,"data-dp-mobile":J(g),onClick:Ti(Ye=>te(Re.value,Re.noTz),["prevent"]),onKeydown:Ye=>J(mo)(Ye,()=>te(Re.value,Re.noTz),!0)},be(Re.label),47,_se))],64))),128))],10,wse)):ye("",!0),Y("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(Z(),zt(mg(B.value),oa({ref_key:"dynCmpRef",ref:E},o.value,{"flow-step":J(C),onMount:J(R),onUpdateFlowStep:J(M),onResetFlow:J(I),onFocusMenu:V,onSelectDate:xe[0]||(xe[0]=Re=>fe.$emit("select-date")),onDateUpdate:xe[1]||(xe[1]=Re=>fe.$emit("date-update",Re)),onTooltipOpen:xe[2]||(xe[2]=Re=>fe.$emit("tooltip-open",Re)),onTooltipClose:xe[3]||(xe[3]=Re=>fe.$emit("tooltip-close",Re)),onAutoApply:xe[4]||(xe[4]=Re=>fe.$emit("auto-apply",Re)),onRangeStart:xe[5]||(xe[5]=Re=>fe.$emit("range-start",Re)),onRangeEnd:xe[6]||(xe[6]=Re=>fe.$emit("range-end",Re)),onInvalidFixedRange:xe[7]||(xe[7]=Re=>fe.$emit("invalid-fixed-range",Re)),onTimeUpdate:xe[8]||(xe[8]=Re=>fe.$emit("time-update")),onAmPmChange:xe[9]||(xe[9]=Re=>fe.$emit("am-pm-change",Re)),onTimePickerOpen:xe[10]||(xe[10]=Re=>fe.$emit("time-picker-open",Re)),onTimePickerClose:U,onRecalculatePosition:z,onUpdateMonthYear:xe[11]||(xe[11]=Re=>fe.$emit("update-month-year",Re)),onAutoApplyInvalid:xe[12]||(xe[12]=Re=>fe.$emit("auto-apply-invalid",Re)),onInvalidDate:xe[13]||(xe[13]=Re=>fe.$emit("invalid-date",Re)),onOverlayToggle:xe[14]||(xe[14]=Re=>fe.$emit("overlay-toggle",Re)),"onUpdate:internalModelValue":xe[15]||(xe[15]=Re=>fe.$emit("update:internal-model-value",Re))}),Xi({_:2},[Ft(L.value,(Re,vt)=>({name:Re,fn:ht(Ye=>[rt(fe.$slots,Re,ii(go({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),fe.$slots["right-sidebar"]?(Z(),ne("div",Ese,[rt(fe.$slots,"right-sidebar",ii(go(W.value)))])):ye("",!0),fe.$slots["action-extra"]?(Z(),ne("div",Sse,[fe.$slots["action-extra"]?rt(fe.$slots,"action-extra",{key:0,selectCurrentDate:ce}):ye("",!0)])):ye("",!0)],14,xse),!fe.autoApply||J(h).keepActionRow?(Z(),zt(Soe,oa({key:3,"menu-mount":b.value},o.value,{"calendar-width":y.value,onClosePicker:xe[16]||(xe[16]=Re=>fe.$emit("close-picker")),onSelectDate:xe[17]||(xe[17]=Re=>fe.$emit("select-date")),onInvalidSelect:xe[18]||(xe[18]=Re=>fe.$emit("invalid-select")),onSelectNow:ce}),Xi({_:2},[Ft(J(j),(Re,vt)=>({name:Re,fn:ht(Ye=>[rt(fe.$slots,Re,ii(go({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,gse)}}});var L0=(e=>(e.center="center",e.left="left",e.right="right",e))(L0||{});const Ase=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:r,inline:a,emit:i,props:o,slots:s})=>{const{defaultedConfig:l}=Hr(o),c=Ce({}),u=Ce(!1),f=Ce({top:"0",left:"0"}),d=Ce(!1),h=f1(o,"teleportCenter");sn(h,()=>{f.value=JSON.parse(JSON.stringify({})),E()});const p=I=>{if(o.teleport){const P=I.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},v=(I,P)=>{f.value.left=`${I+P-c.value.width}px`},g=I=>{f.value.left=`${I}px`},m=(I,P)=>{o.position===L0.left&&g(I),o.position===L0.right&&v(I,P),o.position===L0.center&&(f.value.left=`${I+P/2-c.value.width/2}px`)},y=I=>{const{width:P,height:B}=I.getBoundingClientRect(),{top:N,left:V}=p(I);return{top:+N,left:+V,width:P,height:B}},x=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},b=()=>{const I=Pa(n);f.value=o.altPosition(I)},E=(I=!0)=>{var P;if(!a.value.enabled){if(h.value)return x();if(o.altPosition!==null)return b();if(I){const B=o.teleport?(P=t.value)==null?void 0:P.$el:e.value;B&&(c.value=B.getBoundingClientRect()),i("recalculate-position")}return O()}},_=({inputEl:I,left:P,width:B})=>{window.screen.width>768&&!u.value&&m(P,B),S(I)},w=I=>{const{top:P,left:B,height:N,width:V}=y(I);f.value.top=`${N+P+ +o.offset}px`,d.value=!1,u.value||(f.value.left=`${B+V/2-c.value.width/2}px`),_({inputEl:I,left:B,width:V})},A=I=>{const{top:P,left:B,width:N}=y(I);f.value.top=`${P-+o.offset-c.value.height}px`,d.value=!0,_({inputEl:I,left:B,width:N})},S=I=>{if(o.autoPosition){const{left:P,width:B}=y(I),{left:N,right:V}=c.value;if(!u.value){if(Math.abs(N)!==Math.abs(V)){if(N<=0)return u.value=!0,g(P);if(V>=document.documentElement.clientWidth)return u.value=!0,v(P,B)}return m(P,B)}}},k=()=>{const I=Pa(n);if(I){if(o.autoPosition===al.top)return al.top;if(o.autoPosition===al.bottom)return al.bottom;const{height:P}=c.value,{top:B,height:N}=I.getBoundingClientRect(),V=window.innerHeight-B-N,W=B;return P<=V?al.bottom:P>V&&P<=W?al.top:V>=W?al.bottom:al.top}return al.bottom},T=I=>k()===al.bottom?w(I):A(I),O=()=>{const I=Pa(n);if(I)return o.autoPosition?T(I):w(I)},C=function(I){if(I){const P=I.scrollHeight>I.clientHeight,B=window.getComputedStyle(I).overflowY.indexOf("hidden")!==-1;return P&&!B}return!0},M=function(I){return!I||I===document.body||I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:C(I)?I:M(I.assignedSlot&&l.value.shadowDom?I.assignedSlot.parentNode:I.parentNode)},R=I=>{if(I)switch(o.position){case L0.left:return{left:0,transform:"translateX(0)"};case L0.right:return{left:`${I.width}px`,transform:"translateX(-100%)"};default:return{left:`${I.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:f,xCorrect:u,setMenuPosition:E,getScrollableParent:M,shadowRender:(I,P,B)=>{var N,V,W;const z=document.createElement("div"),j=(N=Pa(n))==null?void 0:N.getBoundingClientRect();z.setAttribute("id","dp--temp-container");const L=(V=r.value)!=null&&V.clientWidth?r.value:document.body;L.append(z);const F=R(j),H=l.value.shadowDom?Object.keys(s).filter(G=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(G)):Object.keys(s),D=Ab(P,{...B,shadow:!0,style:{opacity:0,position:"absolute",...F}},Object.fromEntries(H.map(G=>[G,s[G]])));I!=null&&(D.appContext=I.appContext),IM(D,z),c.value=(W=D.el)==null?void 0:W.getBoundingClientRect(),IM(null,z),L.removeChild(z)}}},Au=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],kse=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Tse={all:()=>Au,monthYear:()=>Au.filter(e=>e.use.includes("month-year")),input:()=>kse,timePicker:()=>Au.filter(e=>e.use.includes("time")),action:()=>Au.filter(e=>e.use.includes("action")),calendar:()=>Au.filter(e=>e.use.includes("calendar")),menu:()=>Au.filter(e=>e.use.includes("menu")),shared:()=>Au.filter(e=>e.use.includes("shared")),yearMode:()=>Au.filter(e=>e.use.includes("year-mode"))},Jo=(e,t,n)=>{const r=[];return Tse[t]().forEach(a=>{e[a.name]&&r.push(a.name)}),n!=null&&n.length&&n.forEach(a=>{a.slot&&r.push(a.slot)}),r},Eg=e=>{const t=je(()=>r=>e.value?r?e.value.open:e.value.close:""),n=je(()=>r=>e.value?r?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Sg=(e,t,n)=>{const{defaultedRange:r,defaultedTz:a}=Hr(e),i=Ge($o(Ge(),a.value.timezone)),o=Ce([{month:gn(i),year:Wt(i)}]),s=d=>{const h={hours:fu(i),minutes:af(i),seconds:0};return r.value.enabled?[h[d],h[d]]:h[d]},l=Ic({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});sn(r,(d,h)=>{d.enabled!==h.enabled&&(l.hours=s("hours"),l.minutes=s("minutes"),l.seconds=s("seconds"))},{deep:!0});const c=je({get:()=>e.internalModelValue,set:d=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",d)}}),u=je(()=>d=>o.value[d]?o.value[d].month:0),f=je(()=>d=>o.value[d]?o.value[d].year:0);return sn(c,(d,h)=>{n&&JSON.stringify(d??{})!==JSON.stringify(h??{})&&n()},{deep:!0}),{calendars:o,time:l,modelValue:c,month:u,year:f,today:i}},Ose=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedUI:a,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:l}=Hr(t),{isDisabled:c}=yf(t),u=Ce(null),f=Ce($o(new Date,o.value.timezone)),d=D=>{!D.current&&t.hideOffsetDates||(u.value=D.value)},h=()=>{u.value=null},p=D=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&u.value?D?ga(u.value,e.value[0]):ra(u.value,e.value[0]):!0,v=(D,G)=>{const K=()=>e.value?G?e.value[0]||null:e.value[1]:null,re=e.value&&Array.isArray(e.value)?K():null;return mn(Ge(D.value),re)},g=D=>{const G=Array.isArray(e.value)?e.value[0]:null;return D?!ra(u.value??null,G):!0},m=(D,G=!0)=>(l.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!D.current?!1:mn(Ge(D.value),e.value[G?0:1]):l.value.enabled?v(D,G)&&g(G)||mn(D.value,Array.isArray(e.value)?e.value[0]:null)&&p(G):!1,y=(D,G)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const K=mn(D.value,u.value);return G?ga(e.value[0],D.value)&&K:ra(e.value[0],D.value)&&K}return!1},x=D=>!e.value||t.hideOffsetDates&&!D.current?!1:l.value.enabled?t.modelAuto&&Array.isArray(e.value)?mn(D.value,e.value[0]?e.value[0]:f.value):!1:r.value.enabled&&Array.isArray(e.value)?e.value.some(G=>mn(G,D.value)):mn(D.value,e.value?e.value:f.value),b=D=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!D.current)return!1;const G=Os(u.value,+l.value.autoRange),K=Vc(Ge(u.value),t.weekStart);return t.weekPicker?mn(K[1],Ge(D.value)):mn(G,Ge(D.value))}return!1}return!1},E=D=>{if(l.value.autoRange||t.weekPicker){if(u.value){const G=Os(u.value,+l.value.autoRange);if(t.hideOffsetDates&&!D.current)return!1;const K=Vc(Ge(u.value),t.weekStart);return t.weekPicker?ga(D.value,K[0])&&ra(D.value,K[1]):ga(D.value,u.value)&&ra(D.value,G)}return!1}return!1},_=D=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!D.current)return!1;const G=Vc(Ge(u.value),t.weekStart);return t.weekPicker?mn(G[0],D.value):mn(u.value,D.value)}return!1}return!1},w=D=>_1(e.value,u.value,D.value),A=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,S=()=>t.modelAuto?q7(t.internalModelValue):!0,k=D=>{if(t.weekPicker)return!1;const G=l.value.enabled?!m(D)&&!m(D,!1):!0;return!c(D.value)&&!x(D)&&!(!D.current&&t.hideOffsetDates)&&G},T=D=>l.value.enabled?t.modelAuto?A()&&x(D):!1:x(D),O=D=>i.value?Yie(D.value,s.value.highlight):!1,C=D=>{const G=c(D.value);return G&&(typeof i.value=="function"?!i.value(D.value,G):!i.value.options.highlightDisabled)},M=D=>{var G;return typeof i.value=="function"?i.value(D.value):(G=i.value.weekdays)==null?void 0:G.includes(D.value.getDay())},R=D=>(l.value.enabled||t.weekPicker)&&(!(n.value.count>0)||D.current)&&S()&&!(!D.current&&t.hideOffsetDates)&&!x(D)?w(D):!1,I=D=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:G,after:K}=kP(+l.value.maxRange,e.value[0]);return Ah(D.value,G)||kd(D.value,K)}return!1},P=D=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:G,after:K}=kP(+l.value.minRange,e.value[0]);return _1([G,K],e.value[0],D.value)}return!1},B=D=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?I(D)||P(D):l.value.maxRange?I(D):P(D):!1,N=D=>{const{isRangeStart:G,isRangeEnd:K}=j(D),re=l.value.enabled?G||K:!1;return{dp__cell_offset:!D.current,dp__pointer:!t.disabled&&!(!D.current&&t.hideOffsetDates)&&!c(D.value)&&!B(D),dp__cell_disabled:c(D.value)||B(D),dp__cell_highlight:!C(D)&&(O(D)||M(D))&&!T(D)&&!re&&!_(D)&&!(R(D)&&t.weekPicker)&&!K,dp__cell_highlight_active:!C(D)&&(O(D)||M(D))&&T(D),dp__today:!t.noToday&&mn(D.value,f.value)&&D.current,"dp--past":ra(D.value,f.value),"dp--future":ga(D.value,f.value)}},V=D=>({dp__active_date:T(D),dp__date_hover:k(D)}),W=D=>{if(e.value&&!Array.isArray(e.value)){const G=Vc(e.value,t.weekStart);return{...F(D),dp__range_start:mn(G[0],D.value),dp__range_end:mn(G[1],D.value),dp__range_between_week:ga(D.value,G[0])&&ra(D.value,G[1])}}return{...F(D)}},z=D=>{if(e.value&&Array.isArray(e.value)){const G=Vc(e.value[0],t.weekStart),K=e.value[1]?Vc(e.value[1],t.weekStart):[];return{...F(D),dp__range_start:mn(G[0],D.value)||mn(K[0],D.value),dp__range_end:mn(G[1],D.value)||mn(K[1],D.value),dp__range_between_week:ga(D.value,G[0])&&ra(D.value,G[1])||ga(D.value,K[0])&&ra(D.value,K[1]),dp__range_between:ga(D.value,G[1])&&ra(D.value,K[0])}}return{...F(D)}},j=D=>{const G=n.value.count>0?D.current&&m(D)&&S():m(D)&&S(),K=n.value.count>0?D.current&&m(D,!1)&&S():m(D,!1)&&S();return{isRangeStart:G,isRangeEnd:K}},L=D=>{const{isRangeStart:G,isRangeEnd:K}=j(D);return{dp__range_start:G,dp__range_end:K,dp__range_between:R(D),dp__date_hover:mn(D.value,u.value)&&!G&&!K&&!t.weekPicker,dp__date_hover_start:y(D,!0),dp__date_hover_end:y(D,!1)}},F=D=>({...L(D),dp__cell_auto_range:E(D),dp__cell_auto_range_start:_(D),dp__cell_auto_range_end:b(D)}),H=D=>l.value.enabled?l.value.autoRange?F(D):t.modelAuto?{...V(D),...L(D)}:t.weekPicker?z(D):L(D):t.weekPicker?W(D):V(D);return{setHoverDate:d,clearHoverDate:h,getDayClassData:D=>t.hideOffsetDates&&!D.current?{}:{...N(D),...H(D),[t.dayClass?t.dayClass(D.value,t.internalModelValue):""]:!0,...a.value.calendarCell??{}}}},yf=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:r,defaultedMultiDates:a}=Hr(e),i=M=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Ge(M)):!!Bx(M,r.value.disabledDates):!1,o=M=>r.value.maxDate?e.yearPicker?Wt(M)>Wt(r.value.maxDate):ga(M,r.value.maxDate):!1,s=M=>r.value.minDate?e.yearPicker?Wt(M)<Wt(r.value.minDate):ra(M,r.value.minDate):!1,l=M=>{const R=o(M),I=s(M),P=i(M),B=t.value.months.map(j=>+j).includes(gn(M)),N=e.disabledWeekDays.length?e.disabledWeekDays.some(j=>+j===Nae(M)):!1,V=h(M),W=Wt(M),z=W<+e.yearRange[0]||W>+e.yearRange[1];return!(R||I||P||B||z||N||V)},c=(M,R)=>ra(...Uu(r.value.minDate,M,R))||mn(...Uu(r.value.minDate,M,R)),u=(M,R)=>ga(...Uu(r.value.maxDate,M,R))||mn(...Uu(r.value.maxDate,M,R)),f=(M,R,I)=>{let P=!1;return r.value.maxDate&&I&&u(M,R)&&(P=!0),r.value.minDate&&!I&&c(M,R)&&(P=!0),P},d=(M,R,I,P)=>{let B=!1;return P&&(r.value.minDate||r.value.maxDate)?r.value.minDate&&r.value.maxDate?B=f(M,R,I):(r.value.minDate&&c(M,R)||r.value.maxDate&&u(M,R))&&(B=!0):B=!0,B},h=M=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!Bx(M,r.value.allowedDates,Q7(e.monthPicker,e.yearPicker)):!1,p=M=>!l(M),v=M=>n.value.noDisabledRange?!P7({start:M[0],end:M[1]}).some(R=>p(R)):!0,g=M=>{if(M){const R=Wt(M);return R>=+e.yearRange[0]&&R<=e.yearRange[1]}return!0},m=(M,R)=>!!(Array.isArray(M)&&M[R]&&(n.value.maxRange||n.value.minRange)&&g(M[R])),y=(M,R,I=0)=>{if(m(R,I)&&g(M)){const P=O7(M,R[I]),B=n9(R[I],M),N=B.length===1?0:B.filter(W=>p(W)).length,V=Math.abs(P)-(n.value.minMaxRawRange?0:N);if(n.value.minRange&&n.value.maxRange)return V>=+n.value.minRange&&V<=+n.value.maxRange;if(n.value.minRange)return V>=+n.value.minRange;if(n.value.maxRange)return V<=+n.value.maxRange}return!0},x=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,b=M=>Array.isArray(M)?[M[0]?k_(M[0]):null,M[1]?k_(M[1]):null]:k_(M),E=(M,R,I)=>M.find(P=>+P.hours===fu(R)&&P.minutes==="*"?!0:+P.minutes===af(R)&&+P.hours===fu(R))&&I,_=(M,R,I)=>{const[P,B]=M,[N,V]=R;return!E(P,N,I)&&!E(B,V,I)&&I},w=(M,R)=>{const I=Array.isArray(R)?R:[R];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?_(e.disabledTimes,I,M):!I.some(P=>E(e.disabledTimes,P,M)):M},A=(M,R)=>{const I=Array.isArray(R)?[vd(R[0]),R[1]?vd(R[1]):void 0]:vd(R),P=!e.disabledTimes(I);return M&&P},S=(M,R)=>e.disabledTimes?Array.isArray(e.disabledTimes)?w(R,M):A(R,M):R,k=M=>{let R=!0;if(!M||x())return!0;const I=!r.value.minDate&&!r.value.maxDate?b(M):M;return(e.maxTime||r.value.maxDate)&&(R=AP(e.maxTime,r.value.maxDate,"max",Ja(I),R)),(e.minTime||r.value.minDate)&&(R=AP(e.minTime,r.value.minDate,"min",Ja(I),R)),S(M,R)},T=M=>{if(!e.monthPicker)return!0;let R=!0;const I=Ge(ul(M));if(r.value.minDate&&r.value.maxDate){const P=Ge(ul(r.value.minDate)),B=Ge(ul(r.value.maxDate));return ga(I,P)&&ra(I,B)||mn(I,P)||mn(I,B)}if(r.value.minDate){const P=Ge(ul(r.value.minDate));R=ga(I,P)||mn(I,P)}if(r.value.maxDate){const P=Ge(ul(r.value.maxDate));R=ra(I,P)||mn(I,P)}return R},O=je(()=>M=>!e.enableTimePicker||e.ignoreTimeValidation?!0:k(M)),C=je(()=>M=>e.monthPicker?Array.isArray(M)&&(n.value.enabled||a.value.enabled)?!M.filter(R=>!T(R)).length:T(M):!0);return{isDisabled:p,validateDate:l,validateMonthYearInRange:d,isDateRangeAllowed:v,checkMinMaxRange:y,isValidTime:k,isTimeValid:O,isMonthValid:C}},Bb=()=>{const e=je(()=>(r,a)=>r==null?void 0:r.includes(a)),t=je(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),n=je(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},Cse=(e,t,n)=>{const r=Ce(0),a=Ic({[pd.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[pd.calendar]:!1,[pd.header]:!1}),i=je(()=>e.monthPicker||e.timePicker),o=f=>{var d;if((d=e.flow)!=null&&d.length){if(!f&&i.value)return u();a[f]=!0,Object.keys(a).filter(h=>!a[h]).length||u()}},s=()=>{var f,d;(f=e.flow)!=null&&f.length&&r.value!==-1&&(r.value+=1,t("flow-step",r.value),u()),((d=e.flow)==null?void 0:d.length)===r.value&&Hn().then(()=>l())},l=()=>{r.value=-1},c=(f,d,...h)=>{var p,v;e.flow[r.value]===f&&n.value&&((v=(p=n.value)[d])==null||v.call(p,...h))},u=(f=0)=>{f&&(r.value+=f),c(Bi.month,"toggleMonthPicker",!0),c(Bi.year,"toggleYearPicker",!0),c(Bi.calendar,"toggleTimePicker",!1,!0),c(Bi.time,"toggleTimePicker",!0,!0);const d=e.flow[r.value];(d===Bi.hours||d===Bi.minutes||d===Bi.seconds)&&c(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:s,resetFlow:l,handleFlow:u,flowStep:r}},Mse={key:1,class:"dp__input_wrap"},Pse=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Ise={key:2,class:"dp--clear-btn"},Rse=["aria-label"],Nse=ln({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Db},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const r=n,a=e,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:l,defaultedRange:c,defaultedMultiDates:u,defaultedUI:f,getDefaultPattern:d,getDefaultStartTime:h}=Hr(a),{checkMinMaxRange:p}=yf(a),v=Ce(),g=Ce(null),m=Ce(!1),y=Ce(!1),x=je(()=>({dp__pointer:!a.disabled&&!a.readonly&&!i.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:typeof a.state=="boolean"?a.state:!1,dp__input_invalid:typeof a.state=="boolean"?!a.state:!1,dp__input_focus:m.value||a.isMenuOpen,dp__input_reg:!i.value.enabled,...f.value.input??{}})),b=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),v.value=null)},E=W=>{const z=h();return qie(W,i.value.format??d(),z??r9({},a.enableSeconds),a.inputValue,y.value,a.formatLocale)},_=W=>{const{rangeSeparator:z}=i.value,[j,L]=W.split(`${z}`);if(j){const F=E(j.trim()),H=L?E(L.trim()):void 0;if(kd(F,H))return;const D=F&&H?[F,H]:[F];p(H,D,0)&&(v.value=F?D:null)}},w=()=>{y.value=!0},A=W=>{if(c.value.enabled)_(W);else if(u.value.enabled){const z=W.split(";");v.value=z.map(j=>E(j.trim())).filter(j=>j)}else v.value=E(W)},S=W=>{var z;const j=typeof W=="string"?W:(z=W.target)==null?void 0:z.value;j!==""?(i.value.openMenu&&!a.isMenuOpen&&r("open"),A(j),r("set-input-date",v.value)):b(),y.value=!1,r("update:input-value",j),r("text-input",W,v.value)},k=W=>{i.value.enabled?(A(W.target.value),i.value.enterSubmit&&cA(v.value)&&a.inputValue!==""?(r("set-input-date",v.value,!0),v.value=null):i.value.enterSubmit&&a.inputValue===""&&(v.value=null,r("clear"))):C(W)},T=(W,z)=>{i.value.enabled&&i.value.tabSubmit&&!z&&A(W.target.value),i.value.tabSubmit&&cA(v.value)&&a.inputValue!==""?(r("set-input-date",v.value,!0,!0),v.value=null):i.value.tabSubmit&&a.inputValue===""&&(v.value=null,r("clear",!0))},O=()=>{m.value=!0,r("focus"),Hn().then(()=>{var W;i.value.enabled&&i.value.selectOnFocus&&((W=g.value)==null||W.select())})},C=W=>{if(Zu(W,l.value,!0),i.value.enabled&&i.value.openMenu&&!s.value.input){if(i.value.openMenu==="open"&&!a.isMenuOpen)return r("open");if(i.value.openMenu==="toggle")return r("toggle")}else i.value.enabled||r("toggle")},M=()=>{r("real-blur"),m.value=!1,(!a.isMenuOpen||s.value.enabled&&s.value.input)&&r("blur"),a.autoApply&&i.value.enabled&&v.value&&!a.isMenuOpen&&(r("set-input-date",v.value),r("select-date"),v.value=null)},R=W=>{Zu(W,l.value,!0),r("clear")},I=()=>{r("close")},P=W=>{if(W.key==="Tab"&&T(W),W.key==="Enter"&&k(W),W.key==="Escape"&&i.value.escClose&&I(),!i.value.enabled){if(W.code==="Tab")return;W.preventDefault()}},B=()=>{var W;(W=g.value)==null||W.focus({preventScroll:!0})},N=W=>{v.value=W},V=W=>{W.key===kr.tab&&T(W,!0)};return t({focusInput:B,setParsedDate:N}),(W,z)=>{var j,L,F;return Z(),ne("div",{onClick:C},[W.$slots.trigger&&!W.$slots["dp-input"]&&!J(s).enabled?rt(W.$slots,"trigger",{key:0}):ye("",!0),!W.$slots.trigger&&(!J(s).enabled||J(s).input)?(Z(),ne("div",Mse,[W.$slots["dp-input"]&&!W.$slots.trigger&&(!J(s).enabled||J(s).enabled&&J(s).input)?rt(W.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:S,onEnter:k,onTab:T,onClear:R,onBlur:M,onKeypress:P,onPaste:w,onFocus:O,openMenu:()=>W.$emit("open"),closeMenu:()=>W.$emit("close"),toggleMenu:()=>W.$emit("toggle")}):ye("",!0),W.$slots["dp-input"]?ye("",!0):(Z(),ne("input",{key:1,id:W.uid?`dp-input-${W.uid}`:void 0,ref_key:"inputRef",ref:g,"data-test-id":"dp-input",name:W.name,class:Qe(x.value),inputmode:J(i).enabled?"text":"none",placeholder:W.placeholder,disabled:W.disabled,readonly:W.readonly,required:W.required,value:e.inputValue,autocomplete:W.autocomplete,"aria-label":(j=J(o))==null?void 0:j.input,"aria-disabled":W.disabled||void 0,"aria-invalid":W.state===!1?!0:void 0,onInput:S,onBlur:M,onFocus:O,onKeypress:P,onKeydown:z[0]||(z[0]=H=>P(H)),onPaste:w},null,42,Pse)),Y("div",{onClick:z[3]||(z[3]=H=>r("toggle"))},[W.$slots["input-icon"]&&!W.hideInputIcon?(Z(),ne("span",{key:0,class:"dp__input_icon",onClick:z[1]||(z[1]=H=>r("toggle"))},[rt(W.$slots,"input-icon")])):ye("",!0),!W.$slots["input-icon"]&&!W.hideInputIcon&&!W.$slots["dp-input"]?(Z(),zt(J(hp),{key:1,"aria-label":(L=J(o))==null?void 0:L.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:z[2]||(z[2]=H=>r("toggle"))},null,8,["aria-label"])):ye("",!0)]),W.$slots["clear-icon"]&&(W.alwaysClearable||e.inputValue&&W.clearable&&!W.disabled&&!W.readonly)?(Z(),ne("span",Ise,[rt(W.$slots,"clear-icon",{clear:R})])):ye("",!0),!W.$slots["clear-icon"]&&(W.alwaysClearable||W.clearable&&e.inputValue&&!W.disabled&&!W.readonly)?(Z(),ne("button",{key:3,"aria-label":(F=J(o))==null?void 0:F.clearInput,class:"dp--clear-btn",type:"button",onKeydown:z[4]||(z[4]=H=>J(mo)(H,()=>R(H),!0,V)),onClick:z[5]||(z[5]=Ti(H=>R(H),["prevent"]))},[mt(J(Y7),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,Rse)):ye("",!0)])):ye("",!0)])}}}),Dse=typeof window<"u"?window:void 0,I_=()=>{},Lse=e=>hL()?(MZ(e),!0):!1,Fse=(e,t,n,r)=>{if(!e)return I_;let a=I_;const i=sn(()=>J(e),s=>{a(),s&&(s.removeEventListener(t,n),s.addEventListener(t,n,r),a=()=>{s.removeEventListener(t,n,r),a=I_})},{immediate:!0,flush:"post"}),o=()=>{i(),a()};return Lse(o),o},Bse=(e,t,n,r={})=>{const{window:a=Dse,event:i="pointerdown"}=r;return a?Fse(a,i,o=>{const s=Pa(e),l=Pa(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},$se=["data-dp-mobile"],jse=ln({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Db},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=qd(),o=Ce(!1),s=f1(a,"modelValue"),l=f1(a,"timezone"),c=Ce(null),u=Ce(null),f=Ce(null),d=Ce(!1),h=Ce(null),p=Ce(!1),v=Ce(!1),g=Ce(!1),m=Ce(!1),{setMenuFocused:y,setShiftKey:x}=s9(),{clearArrowNav:b}=mf(),{validateDate:E,isValidTime:_}=yf(a),{defaultedTransitions:w,defaultedTextInput:A,defaultedInline:S,defaultedConfig:k,defaultedRange:T,defaultedMultiDates:O}=Hr(a),{menuTransition:C,showTransition:M}=Eg(w),{isMobile:R}=p9(k),I=Gs();Wn(()=>{D(a.modelValue),Hn().then(()=>{if(!S.value.enabled){const Fe=j(h.value);Fe==null||Fe.addEventListener("scroll",te),window==null||window.addEventListener("resize",pe)}}),S.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",me),window==null||window.addEventListener("keydown",Ee)}),gf(()=>{if(!S.value.enabled){const Fe=j(h.value);Fe==null||Fe.removeEventListener("scroll",te),window==null||window.removeEventListener("resize",pe)}window==null||window.removeEventListener("keyup",me),window==null||window.removeEventListener("keydown",Ee)});const P=Jo(i,"all",a.presetDates),B=Jo(i,"input");sn([s,l],()=>{D(s.value)},{deep:!0});const{openOnTop:N,menuStyle:V,xCorrect:W,setMenuPosition:z,getScrollableParent:j,shadowRender:L}=Ase({menuRef:c,menuRefInner:u,inputRef:f,pickerWrapperRef:h,inline:S,emit:r,props:a,slots:i}),{inputValue:F,internalModelValue:H,parseExternalModelValue:D,emitModelValue:G,formatInputValue:K,checkBeforeEmit:re}=boe(r,a,d),ie=je(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:S.value.enabled,"dp--flex-display-collapsed":g.value,dp__flex_display_with_input:S.value.input})),U=je(()=>a.dark?"dp__theme_dark":"dp__theme_light"),q=je(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||S.value.enabled}:{}),Q=je(()=>({class:"dp__outer_menu_wrap"})),X=je(()=>S.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),ce=()=>{var Fe,st;return((st=(Fe=f.value)==null?void 0:Fe.$el)==null?void 0:st.getBoundingClientRect())??{width:0,left:0,right:0}},te=()=>{o.value&&(k.value.closeOnScroll?vt():z())},pe=()=>{var Fe;o.value&&z();const st=((Fe=u.value)==null?void 0:Fe.$el.getBoundingClientRect().width)??0;g.value=document.body.offsetWidth<=st},me=Fe=>{Fe.key==="Tab"&&!S.value.enabled&&!a.teleport&&k.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||vt()),v.value=Fe.shiftKey},Ee=Fe=>{v.value=Fe.shiftKey},ke=()=>{!a.disabled&&!a.readonly&&(L(I,MP,a),z(!1),o.value=!0,o.value&&r("open"),o.value||Re(),D(a.modelValue))},Ue=()=>{var Fe,st;F.value="",Re(),(Fe=u.value)==null||Fe.onValueCleared(),(st=f.value)==null||st.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),k.value.closeOnClearValue&&vt()},fe=()=>{const Fe=H.value;return!Fe||!Array.isArray(Fe)&&E(Fe)?!0:Array.isArray(Fe)?O.value.enabled||Fe.length===2&&E(Fe[0])&&E(Fe[1])?!0:T.value.partialRange&&!a.timePicker?E(Fe[0]):!1:!1},xe=()=>{re()&&fe()?(G(),vt()):r("invalid-select",H.value)},De=Fe=>{He(),G(),k.value.closeOnAutoApply&&!Fe&&vt()},He=()=>{f.value&&A.value.enabled&&f.value.setParsedDate(H.value)},pt=(Fe=!1)=>{a.autoApply&&_(H.value)&&fe()&&(T.value.enabled&&Array.isArray(H.value)?(T.value.partialRange||H.value.length===2)&&De(Fe):De(Fe))},Re=()=>{A.value.enabled||(H.value=null)},vt=(Fe=!1)=>{var st,kt;Fe&&H.value&&k.value.setDateOnMenuClose&&xe(),S.value.enabled||(o.value&&(o.value=!1,W.value=!1,y(!1),x(!1),b(),r("closed"),F.value&&D(s.value)),Re(),r("blur"),(kt=(st=u.value)==null?void 0:st.$el)==null||kt.remove())},Ye=(Fe,st,kt=!1)=>{if(!Fe){H.value=null;return}const Ks=Array.isArray(Fe)?!Fe.some(Lc=>!E(Lc)):E(Fe),cs=_(Fe);Ks&&cs?(m.value=!0,H.value=Fe,st?(p.value=kt,xe(),r("text-submit")):a.autoApply&&pt(),Hn().then(()=>{m.value=!1})):r("invalid-date",Fe)},It=()=>{a.autoApply&&_(H.value)&&G(),He()},Xt=()=>o.value?vt():ke(),pn=Fe=>{H.value=Fe},Sa=()=>{A.value.enabled&&(d.value=!0,K()),r("focus")},Lr=()=>{if(A.value.enabled&&(d.value=!1,D(a.modelValue),p.value)){const Fe=Vie(h.value,v.value);Fe==null||Fe.focus()}r("blur")},Na=Fe=>{u.value&&u.value.updateMonthYear(0,{month:_P(Fe.month),year:_P(Fe.year)})},jl=Fe=>{D(Fe??a.modelValue)},we=(Fe,st)=>{var kt;(kt=u.value)==null||kt.switchView(Fe,st)},Ke=(Fe,st)=>k.value.onClickOutside?k.value.onClickOutside(Fe,st):vt(!0),Ct=(Fe=0)=>{var st;(st=u.value)==null||st.handleFlow(Fe)},rn=()=>c;return Bse(c,f,Fe=>Ke(fe,Fe)),t({closeMenu:vt,selectDate:xe,clearValue:Ue,openMenu:ke,onScroll:te,formatInputValue:K,updateInternalModelValue:pn,setMonthYear:Na,parseModel:jl,switchView:we,toggleMenu:Xt,handleFlow:Ct,getDpWrapMenuRef:rn}),(Fe,st)=>(Z(),ne("div",{ref_key:"pickerWrapperRef",ref:h,class:Qe(ie.value),"data-datepicker-instance":"","data-dp-mobile":J(R)},[mt(Nse,oa({ref_key:"inputRef",ref:f,"input-value":J(F),"onUpdate:inputValue":st[0]||(st[0]=kt=>ba(F)?F.value=kt:null),"is-menu-open":o.value},Fe.$props,{onClear:Ue,onOpen:ke,onSetInputDate:Ye,onSetEmptyDate:J(G),onSelectDate:xe,onToggle:Xt,onClose:vt,onFocus:Sa,onBlur:Lr,onRealBlur:st[1]||(st[1]=kt=>d.value=!1),onTextInput:st[2]||(st[2]=kt=>Fe.$emit("text-input",kt))}),Xi({_:2},[Ft(J(B),(kt,Ks)=>({name:kt,fn:ht(cs=>[rt(Fe.$slots,kt,ii(go(cs)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(Z(),zt(mg(Fe.teleport?dQ:"div"),ii(go(q.value)),{default:ht(()=>[mt(cp,{name:J(C)(J(N)),css:J(M)&&!J(S).enabled},{default:ht(()=>[o.value?(Z(),ne("div",oa({key:0,ref_key:"dpWrapMenuRef",ref:c},Q.value,{class:{"dp--menu-wrapper":!J(S).enabled},style:J(S).enabled?void 0:J(V)}),[mt(MP,oa({ref_key:"dpMenuRef",ref:u},Fe.$props,{"internal-model-value":J(H),"onUpdate:internalModelValue":st[3]||(st[3]=kt=>ba(H)?H.value=kt:null),class:{[U.value]:!0,"dp--menu-wrapper":Fe.teleport},"open-on-top":J(N),"no-overlay-focus":X.value,collapse:g.value,"get-input-rect":ce,"is-text-input-date":m.value,onClosePicker:vt,onSelectDate:xe,onAutoApply:pt,onTimeUpdate:It,onFlowStep:st[4]||(st[4]=kt=>Fe.$emit("flow-step",kt)),onUpdateMonthYear:st[5]||(st[5]=kt=>Fe.$emit("update-month-year",kt)),onInvalidSelect:st[6]||(st[6]=kt=>Fe.$emit("invalid-select",J(H))),onAutoApplyInvalid:st[7]||(st[7]=kt=>Fe.$emit("invalid-select",kt)),onInvalidFixedRange:st[8]||(st[8]=kt=>Fe.$emit("invalid-fixed-range",kt)),onRecalculatePosition:J(z),onTooltipOpen:st[9]||(st[9]=kt=>Fe.$emit("tooltip-open",kt)),onTooltipClose:st[10]||(st[10]=kt=>Fe.$emit("tooltip-close",kt)),onTimePickerOpen:st[11]||(st[11]=kt=>Fe.$emit("time-picker-open",kt)),onTimePickerClose:st[12]||(st[12]=kt=>Fe.$emit("time-picker-close",kt)),onAmPmChange:st[13]||(st[13]=kt=>Fe.$emit("am-pm-change",kt)),onRangeStart:st[14]||(st[14]=kt=>Fe.$emit("range-start",kt)),onRangeEnd:st[15]||(st[15]=kt=>Fe.$emit("range-end",kt)),onDateUpdate:st[16]||(st[16]=kt=>Fe.$emit("date-update",kt)),onInvalidDate:st[17]||(st[17]=kt=>Fe.$emit("invalid-date",kt)),onOverlayToggle:st[18]||(st[18]=kt=>Fe.$emit("overlay-toggle",kt)),onMenuBlur:st[19]||(st[19]=kt=>Fe.$emit("blur"))}),Xi({_:2},[Ft(J(P),(kt,Ks)=>({name:kt,fn:ht(cs=>[rt(Fe.$slots,kt,ii(go({...cs})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,$se))}}),uO=(()=>{const e=jse;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),zse=Object.freeze(Object.defineProperty({__proto__:null,default:uO},Symbol.toStringTag,{value:"Module"}));Object.entries(zse).forEach(([e,t])=>{e!=="default"&&(uO[e]=t)});const Use=ln({__name:"index",props:{value:{type:[String,Array,Date],default:""},range:{type:Boolean,default:!1},format:{type:String,default:"yyyy/MM/dd"},isTime:{type:Boolean,default:!1},isText:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},minDate:{type:String,default:""},maxDate:{type:String,default:""},autoApply:{type:Boolean,default:!1},width:{type:String,default:"100%"},height:{type:String,default:"40px"},placeholder:{type:String,default:"请选择日期"},language:{type:String,default:"zh-CN"},dayName:{type:Array,default:["一","二","三","四","五","六","日"]}},emits:["update:value"],setup(e,{emit:t}){const n=e,{proxy:r}=Gs(),a=t,i=Ce();return sn(()=>n.value,o=>{o&&(i.value=o,a("update:value",o))},{deep:!0}),sn(i,o=>{a("update:value",o)},{deep:!0}),Wn(()=>{i.value=n.value}),(o,s)=>(Z(),ne("div",{style:We({width:e.width,height:e.height})},[mt(J(uO),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),mode:"range",format:e.format,range:e.range,placeholder:e.placeholder,locale:e.language,"day-names":e.dayName,"enable-time-picker":e.isTime,"text-input":e.isText,"multi-calendars":e.isMulti,"min-date":e.minDate,"max-date":e.maxDate,"auto-apply":e.autoApply},null,8,["modelValue","format","range","placeholder","locale","day-names","enable-time-picker","text-input","multi-calendars","min-date","max-date","auto-apply"])],4))}}),Hse={class:"label"},Gse={colspan:"2"},Wse={class:"label"},Vse={class:"label"},Yse={colspan:"2"},Xse={class:"label"},qse={colspan:"2"},Kse={class:"label"},Zse={colspan:"2"},Qse=ln({__name:"Uinfo",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=Rl().state;let o=!1;const s=Ce({nickname:"",name:"",gender:"",birthday:"",department:"",position:""});let l=Li.Date("Y/m/d"),c=[];sn(()=>n.show,d=>{if(o=d,d){const h=i.uinfo;s.value.nickname=h.nickname||"",s.value.name=h.name||"",s.value.birthday=h.birthday&&h.birthday!="1970-01-01"?h.birthday:Li.Date("Y/m/d"),s.value.department=h.department||"",s.value.position=h.position||"",s.value.gender=h.gender||"",c=[{label:i.langs.null,value:""},{label:i.langs.uinfo_gender_boy,value:"男"},{label:i.langs.uinfo_gender_girl,value:"女"}]}},{deep:!0});const u=()=>{f();const d=St.Loading();Br.Post("user/change_uinfo?lang="+i.lang,{token:i.token,uinfo:s},h=>{d.clear();const{code:p,msg:v}=h.data;p==0&&(i.uinfo.nickname=s.value.nickname,i.uinfo.name=s.value.name,i.uinfo.gender=s.value.gender,i.uinfo.birthday=s.value.birthday,i.uinfo.department=s.value.department,i.uinfo.position=s.value.position),St.Toast(v)})},f=()=>{r("update:show",!1)};return(d,h)=>(Z(),zt(_7,{show:J(o),"onUpdate:show":h[7]||(h[7]=p=>ba(o)?o.value=p:o=p),title:J(i).langs.uinfo_title,width:"560px",bottom:"40px",onClose:h[8]||(h[8]=p=>f())},{bottom:ht(()=>[mt(eh,{height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>u())},{default:ht(()=>[Jt(be(J(i).langs.confirm),1)]),_:1})]),default:ht(()=>[mt(w7,null,{default:ht(()=>[mt(E7,null,{default:ht(()=>[Y("tr",null,[Y("td",Hse,be(J(i).langs.uinfo_nickname),1),Y("td",Gse,[mt(Ps,{value:s.value.nickname,"onUpdate:value":h[0]||(h[0]=p=>s.value.nickname=p),placeholder:J(i).langs.uinfo_nickname_placeholder,maxlength:"16"},null,8,["value","placeholder"])])]),Y("tr",null,[Y("td",Wse,be(J(i).langs.uinfo_name),1),Y("td",null,[mt(Ps,{value:s.value.name,"onUpdate:value":h[1]||(h[1]=p=>s.value.name=p),maxlength:"16",disabled:""},null,8,["value"])]),Y("td",null,[mt(Mre,{value:s.value.gender,"onUpdate:value":h[2]||(h[2]=p=>s.value.gender=p),options:J(c)},null,8,["value","options"])])]),Y("tr",null,[Y("td",Vse,be(J(i).langs.uinfo_birthday),1),Y("td",Yse,[mt(Use,{value:s.value.birthday,"onUpdate:value":h[3]||(h[3]=p=>s.value.birthday=p),maxDate:J(l)},null,8,["value","maxDate"])])]),Y("tr",null,[Y("td",Xse,be(J(i).langs.uinfo_department),1),Y("td",qse,[mt(Ps,{value:s.value.department,"onUpdate:value":h[4]||(h[4]=p=>s.value.department=p),maxlength:"16"},null,8,["value"])])]),Y("tr",null,[Y("td",Kse,be(J(i).langs.uinfo_position),1),Y("td",Zse,[mt(Ps,{value:s.value.position,"onUpdate:value":h[5]||(h[5]=p=>s.value.position=p),maxlength:"16"},null,8,["value"])])])]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),Jse=fi(Qse,[["__scopeId","data-v-738bed82"]]);class R_{static IsRight(t,n){return{uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{3,15}$/,passwd:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{6,16}$/,tel:/^1\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,idcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/}[t].test(n)}static Test(t,n){return t.test(n)}}const ele={class:"label"},tle={onsubmit:"return false"},nle={class:"label"},rle={onsubmit:"return false"},ale=ln({__name:"Passwd",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=Rl().state;let o;const s=Ce({show:!1,uname:"",passwd1:"",passwd2:"",is_vcode:!1,vcode:"",text:"",num:60});sn(()=>n.show,d=>{s.value.show=d,d&&(s.value.text=i.langs.passwd_code_get,i.uinfo.tel?s.value.uname=i.uinfo.tel:i.uinfo.email?s.value.uname=i.uinfo.email:i.uinfo.uname&&(s.value.uname=i.uinfo.uname))},{deep:!0});const l=()=>{if(s.value.num!=60)return;let d="";if(R_.IsRight("tel",s.value.uname))d="tel";else if(R_.IsRight("email",s.value.uname))d="email";else return St.Toast(i.langs.passwd_verify_null);const h=St.Loading();Br.Post("user/get_vcode?lang="+i.lang,{type:d,uname:s.value.uname},p=>{h.clear();const{code:v,msg:g,data:m}=p.data;return v==0?(c(),s.value.vcode=m.toString()):v==4001&&(s.value.num=m,c()),St.Toast(g)})},c=()=>{clearInterval(o),o=setInterval(()=>{s.value.num--,s.value.text=i.langs.passwd_code_time(s.value.num),s.value.num<=0&&(clearInterval(o),s.value.num=60,s.value.text=i.langs.passwd_code_resend)},1e3)},u=()=>{if(s.value.vcode.length!=4)return St.Toast(i.langs.passwd_verify_code);if(s.value.is_vcode=!0,!R_.IsRight("passwd",s.value.passwd1)||s.value.passwd1!==s.value.passwd2)return St.Toast(i.langs.passwd_verify_passwd1);const d=St.Loading();Br.Post("user/change_passwd?lang="+i.lang,{uname:s.value.uname,passwd:s.value.passwd1,vcode:s.value.vcode},h=>{d.clear();const{code:p,msg:v}=h.data;if(p==0)i.isLogin=!1,f();else return St.Toast(v)})},f=()=>{s.value.is_vcode=!1,s.value.vcode="",s.value.passwd1="",s.value.passwd2="",r("update:show",!1)};return(d,h)=>(Z(),zt(_7,{show:s.value.show,"onUpdate:show":h[8]||(h[8]=p=>s.value.show=p),title:J(i).langs.passwd_title,width:"420px",bottom:"40px",onClose:h[9]||(h[9]=p=>f())},{bottom:ht(()=>[s.value.is_vcode?ye("",!0):(Z(),zt(eh,{key:0,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[5]||(h[5]=p=>u())},{default:ht(()=>[Jt(be(J(i).langs.next),1)]),_:1})),s.value.is_vcode?(Z(),zt(eh,{key:1,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>s.value.is_vcode=!1)},{default:ht(()=>[Jt(be(J(i).langs.prev),1)]),_:1})):ye("",!0),s.value.is_vcode?(Z(),zt(eh,{key:2,effect:"dark",type:"primary",height:"40px",padding:"0 32px",onClick:h[7]||(h[7]=p=>u())},{default:ht(()=>[Jt(be(J(i).langs.confirm),1)]),_:1})):ye("",!0)]),default:ht(()=>[mt(w7,null,{default:ht(()=>[mt(E7,null,{default:ht(()=>[s.value.is_vcode?(Z(),ne(Ve,{key:1},[Y("tr",null,[Y("td",ele,be(J(i).langs.passwd_new),1),Y("td",null,[Y("form",tle,[mt(Ps,{type:"password",value:s.value.passwd1,"onUpdate:value":h[3]||(h[3]=p=>s.value.passwd1=p),maxlength:"16"},null,8,["value"])])])]),Y("tr",null,[Y("td",nle,be(J(i).langs.passwd_confirm),1),Y("td",null,[Y("form",rle,[mt(Ps,{type:"password",value:s.value.passwd2,"onUpdate:value":h[4]||(h[4]=p=>s.value.passwd2=p),maxlength:"16"},null,8,["value"])])])])],64)):(Z(),ne(Ve,{key:0},[Y("tr",null,[Y("td",null,[mt(Ps,{value:s.value.uname,"onUpdate:value":h[0]||(h[0]=p=>s.value.uname=p),disabled:"",maxlength:"32",icon:"ui ui_user",padding:"0 10px 0 40px"},null,8,["value"])])]),Y("tr",null,[Y("td",null,[mt(Ps,{value:s.value.vcode,"onUpdate:value":h[1]||(h[1]=p=>s.value.vcode=p),placeholder:J(i).langs.passwd_code_placeholder,maxlength:"4",icon:"ui ui_safety",padding:"0 10px 0 40px",text:s.value.text,onTextClick:h[2]||(h[2]=p=>l())},null,8,["value","placeholder","text"])])])],64))]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),ile=fi(ale,[["__scopeId","data-v-6487da48"]]);class fA{static Fixed(t,n=2){let r="";for(let i=0;i<n;i++)r+="0";let a=parseInt("1"+r);return Math.floor(t*a)/a}static FileSize(t){return t/1024<1024?(t/1024).toFixed(2)+"KB":t/1024/1024<1024?(t/1024/1024).toFixed(2)+"MB":t/1024/1024/1024<1024?(t/1024/1024/1024).toFixed(2)+"GB":(t/1024/1024/1024/1024).toFixed(2)+"TB"}static priceEncode(t,n=2){return parseFloat(t).toFixed(n).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static priceDecode(t,n=2){return parseFloat(t.replace(/,/g,"")).toFixed(n)}static PriceQoq(t=0,n=0,r=2){return t-n==0?"0":t==0?"-100":n==0?"100":parseFloat(String((t-n)/n*100)).toFixed(r).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static telEncode(t,n=" "){if(!/^[1]\d{10}$/.test(t))return t;let a="";for(let i=0;i<t.length;i++)(i==3||i==7)&&(a+=n),a+=t.substring(i,i+1);return a}static telDecode(t,n=" "){const r=new RegExp("/"+n+"/g");return t.replace(r,"")}static cardEncode(t,n=" "){if(!/^\d+$/.test(t))return t;let a="";for(let i=0;i<t.length;i++)i%4===0&&(a+=n),a+=t.substring(i,i+1);return a}static cardDecode(t,n=" "){const r=new RegExp("/"+n+"/g");return t.replace(r,"")}}const ole=["src"],sle={ref:"wmImageLoading",class:"loading_img"},lle={key:2,class:"wm-image_view_info"},cle={key:0},ule={class:"prev"},fle={class:"next"},dle=ln({__name:"view",props:{show:{type:Boolean,default:!1},index:{type:Number,default:0},options:{type:Array,default:[]},bgColor:{type:String,default:"rgba(0,0,0,.8)"},icoSize:{type:String,default:"32px"}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=Gs(),a=t,o=Rl().state,s=Ce(!1),l=Ce(0),c=Ce(""),u=Ce(!1),f=Ce(""),d=Ce(""),h=Ce("");sn(()=>n.show,x=>{x&&(l.value=n.index,g(l.value),window.addEventListener("resize",p),document.addEventListener("keydown",v))},{deep:!0});const p=()=>{n.show&&g(l.value)},v=x=>{switch(x.keyCode||x.which){case 37:g(l.value-1);break;case 39:g(l.value+1);break;case 27:y();break}},g=x=>{x<0&&(x=n.options.length-1),x>=n.options.length&&(x=0),l.value=x;let b=n.options[x]?n.options[x].value:"";if(!b)return y(),St.Toast("无图片地址");f.value=n.options[x].label,d.value=n.options[x].size||"",h.value=n.options[x].other||"",s.value=!1;const E=r.$refs.wmImageLoading;E.src=b,E.onload=()=>{const _=document.body.clientWidth,w=document.body.clientHeight,A=_/w,S=E.width/E.height;let k="auto",T="auto";(E.width>_||E.height>w)&&(S>A?k="100%":T="100%"),s.value=!0,c.value=b,Hn(()=>{const O=r.$refs.wmImageView;O.style.opacity="0",O.style.width="0",O.style.height="0",setTimeout(()=>{O.style.opacity="1",O.style.width=k,O.style.height=T},300)})}},m=()=>{u.value=!u.value;let x=r.$refs.wmImageViewBg;x.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():x.webkitRequestFullScreen():x.mozRequestFullScreen?document.mozFullScreen?document.mozCancelFullScreen():x.mozRequestFullScreen():x.msRequestFullscreen?document.msFullscreenElement?document.msExitFullscreen():x.msRequestFullscreen():x.requestFullscreen&&(document.exitFullscreen?document.exitFullscreen():x.requestFullscreen())},y=()=>{a("update:show",!1),u.value&&m(),window.removeEventListener("resize",p),document.removeEventListener("keydown",v)};return(x,b)=>(Z(),ne("div",{ref:"wmImageViewBg",class:"wm-image_view",style:We({backgroundColor:e.bgColor,visibility:e.show?"inherit":"hidden",opacity:e.show?"1":"0"})},[s.value?(Z(),ne("img",{key:1,ref:"wmImageView",src:c.value,style:We({visibility:s.value?"inherit":"hidden"})},null,12,ole)):(Z(),ne("i",{key:0,class:"ui ui_loading loading",style:We({fontSize:e.icoSize})},null,4)),Y("img",sle,null,512),f.value?(Z(),ne("div",lle,[Y("span",null,be(J(o).langs.name)+": "+be(f.value),1),d.value?(Z(),ne("span",cle,be(J(o).langs.size)+": "+be(d.value),1)):ye("",!0),h.value?(Z(!0),ne(Ve,{key:1},Ft(h.value,(E,_)=>(Z(),ne("span",{key:_},be(_)+": "+be(E),1))),128)):ye("",!0),Y("span",null,be(J(o).langs.page)+": "+be(l.value+1)+"/"+be(e.options.length),1)])):ye("",!0),Y("i",{class:"ui ui_close tools close",onClick:b[0]||(b[0]=E=>y())}),Y("i",{class:Qe(["ui tools full",u.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:b[1]||(b[1]=E=>m())},null,2),Y("div",ule,[Y("i",{class:"ui ui_arrow_left",onClick:b[2]||(b[2]=Ti(E=>g(l.value-1),["stop"])),style:We({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)]),Y("div",fle,[Y("i",{class:"ui ui_arrow_right",onClick:b[3]||(b[3]=Ti(E=>g(l.value+1),["stop"])),style:We({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)])],4))}}),v9=fi(dle,[["__scopeId","data-v-9116caf6"]]),hle={class:"wm-msg_content flex"},ple={class:"wm-msg_left"},vle={class:"wm-msg_uinfo flex"},gle={key:0,class:"ui ui_image"},mle={class:"name nowrap"},yle={key:0,class:"config"},xle={class:"wm-msg_search"},ble=["placeholder"],wle={key:0,class:"user_list_body"},_le={class:"user_list"},Ele=["onClick"],Sle={key:0,class:"ui ui_image"},Ale={class:"name nowrap"},kle={key:1,class:"null"},Tle={class:"wm-msg_left_ct scrollbar"},Ole={key:0,class:"wm-msg_list"},Cle=["onClick"],Mle={key:0,class:"redNum"},Ple={key:1,class:"ui ui_image"},Ile={class:"msg_text"},Rle={class:"flex"},Nle={class:"title nowrap"},Dle={class:"time"},Lle={key:0,class:"text nowrap"},Fle={key:1,class:"text nowrap"},Ble={key:2,class:"text nowrap"},$le={key:1,class:"msg_null"},jle={class:"wm-msg_title"},zle={class:"wm-msg_ct scrollbar"},Ule={class:"time"},Hle={key:0,class:"msg_left flex_left"},Gle={key:0,class:"ui ui_image"},Wle={class:"msg_body flex_left"},Vle={key:0,class:"content msg_ct"},Yle={key:0,class:"red"},Xle={key:1,class:"content file_ct"},qle={key:0,class:"img_ct"},Kle={key:0,class:"wm-ui_load"},Zle=["src","onClick"],Qle={key:1,class:"other_ct"},Jle={class:"text_body"},ece={class:"nowrap"},tce={class:"text"},nce={key:0},rce=["onClick"],ace={key:1,class:"msg_right flex_right"},ice={class:"msg_body flex_right"},oce={key:0,class:"content msg_ct"},sce={key:0,class:"red"},lce={key:1,class:"content file_ct"},cce={key:0,class:"img_ct"},uce={key:0,class:"wm-ui_load"},fce=["src","onClick"],dce={key:1,class:"other_ct"},hce={class:"text_body"},pce={class:"nowrap"},vce={class:"text"},gce={key:0},mce=["onClick"],yce={key:0,class:"ui ui_image"},xce={key:1,class:"msg_null"},bce={class:"wm-msg_tools flex_flex"},wce=["onKeydown","disabled"],_ce={class:"wm-msg_action flex_right"},Ece=ln({__name:"Msg",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=Rl().state,o=Ce({refreshing:!1,loading:!1,finished:!1}),s=Ce(!1),l=Ce(!1),c=Ce({show:!1,key:"",list:[]}),u=Ce({num:1,limit:12}),f=Ce({content:""});let d=Ce(600);const h=Ce({show:!1,index:0,imgs:[]});sn(()=>n.show,z=>{s.value=z,z&&y()},{deep:!0}),sn(()=>i.msg.readId,z=>{z>0&&_([z],!1),E(),i.msg.readId=0},{deep:!0}),Wn(()=>{y()});const p=()=>{const z=c.value.key.trim();z?(c.value.show=!0,Br.Post("msg/sea?lang="+i.lang,{token:i.token,key:z},j=>{const L=j.data;L.code==0&&(c.value.list=L.data)})):(c.value.show=!1,c.value.list=[])},v=z=>{c.value.show=!1;for(let L of i.msg.group)if(L.gid==z.gid&&L.fid==z.fid)return b(L);const j={gid:z.gid,fid:z.fid,title:z.title,content:"",img:z.img,time:Li.Date("Y-m-d H:i:s"),num:0};return i.msg.group.unshift(j),b(j)},g=()=>{u.value.num=1,o.value.finished=!1,i.msg.list=[],x()},m=()=>{if(o.value.finished)return i.msg.list.length>0?St.Toast("已无历史消息!"):void 0;u.value.num+=1,x()},y=()=>{Br.Post("msg/list",{token:i.token},z=>{const{code:j,msg:L,data:F}=z.data;j===0&&(i.msg.group=F.list,i.msg.num=F.num)})},x=()=>{Br.Post("msg/show",{token:i.token,gid:i.msg.gid,fid:i.msg.fid,page:u.value.num,limit:u.value.limit},z=>{const{code:j,msg:L,data:F}=z.data;if(j===0){if(F.length>0){i.msg.list.unshift(...F);let H=[];for(let D of F)D.is_new&&H.push(D.id);_(H)}else o.value.finished=!0,m();u.value.num===1&&E()}else return St.Toast(L)})},b=z=>{i.msg.gid=z.gid,i.msg.fid=z.fid,i.msg.title=z.title,i.msg.img=z.img,f.value.content=z.sendContent||"",g()},E=()=>{let z=!1;i.msg.isBottom=!1;for(let j of i.msg.list)if(j.format===1&&N(j.content.type)){z=!0;const L=new Image;L.src=j.content.url+j.content.file,L.onload=()=>{setTimeout(()=>{var F;(F=document.querySelector("#msgBottom"))==null||F.scrollIntoView(!0)},100)}}z||Hn(()=>{var j;(j=document.querySelector("#msgBottom"))==null||j.scrollIntoView(!0)})},_=(z=[],j=!0)=>{if(z.length!=0){if(j){i.msg.num-=z.length;for(let L of i.msg.group)L.gid===i.msg.gid&&L.fid===i.msg.fid&&(L.num-=z.length,L.num<0&&(L.num=0))}Br.Post("msg/read?lang="+i.lang,{token:i.token,ids:z},L=>{const{code:F,msg:H}=L.data;F!==0&&St.Toast(H)})}},w=()=>{for(let z of i.msg.group)z.gid===i.msg.gid&&z.fid===i.msg.fid&&(z.sendContent=f.value.content)},A=()=>{f.value.content+=`
`},S=async z=>{var L;const j=(L=z.clipboardData)==null?void 0:L.items;if(j){for(const F of j)if(F.type.includes("image")){const H=F.getAsFile();O(H)}}},k=z=>{if(z.preventDefault(),!i.msg.title)return;const L=z.dataTransfer.files;for(let F of L)O(F)},T=()=>{i.msg.title&&ti.Select({multiple:!0,mimeType:[]},z=>{for(let j of z)O(j)},z=>{St.Toast(z)})},O=async z=>{const{blob:j,base64:L}=await V(z);Br.Post("msg/oss_sgin?lang="+i.lang,{token:i.token,filename:z.name},F=>{const{code:H,msg:D,data:G}=F.data;if(H!==0)return St.Toast(D);const K=Li.TimeMicro(),re=Li.Date("Y-m-d H:i:s"),ie={gid:i.msg.gid,fid:parseInt(i.uinfo.uid),uid:i.msg.fid,is_new:!1,time:re,format:1,title:i.uinfo.name,img:i.uinfo.img,content:{name:z.name,type:z.type,size:z.size,ext:G.ext,url:G.host,file:G.key},loading:K,load:0,base64:L};i.msg.list.push(ie);const U=i.msg.list.length-1;E();let q=new FormData;q.append("OSSAccessKeyId",G.accessid),q.append("policy",G.policy),q.append("Signature",G.signature),q.append("key",G.key),q.append("file",j),Br.Post(G.host,q,Q=>{Q.data&&St.Toast(Q.data)},Q=>{St.Toast("文件上传失败")},{headers:{"Content-Type":"multipart/form-data;charset=utf-8"},onUploadProgress:Q=>{let X=Q.loaded/Q.total*100|0;i.msg.list[U].load=X,X===100&&(ie.type="msg",ie.base64="",i.socket.send(JSON.stringify(ie)))}})})},C=(z,j)=>{ti.Down(z,j)},M=z=>{let j=0,L=[];for(let F of i.msg.list)F.format!==1||!N(F.content.type)||(F.content.url+F.content.file==z&&(h.value.index=j),L.push({label:F.content.name,value:F.content.url+F.content.file}),j++);h.value.show=!0,h.value.imgs=L},R=(z=null)=>{if(z&&z.preventDefault(),!i.msg.title||f.value.content.trim()=="")return;const j=Li.TimeMicro(),L=Li.Date("Y-m-d H:i:s"),F={gid:i.msg.gid,fid:parseInt(i.uinfo.uid),uid:i.msg.fid,is_new:!1,time:L,format:0,title:i.uinfo.name,img:i.uinfo.img,content:f.value.content.trim(),loading:j};i.msg.list.push(F),i.socket&&(F.type="msg",i.socket.send(JSON.stringify(F))),i.msg.gid===1&&i.msg.list.push({fid:i.msg.fid,uid:0,format:0,is_new:!1,time:L,title:i.msg.title,img:i.msg.img,content:"...",loading:j+1}),E(),I()},I=()=>{f.value.content="";for(let z of i.msg.group)z.gid===i.msg.gid&&z.fid===i.msg.fid&&(z.sendContent="")},P=z=>{const j=Li.Date("Y-m-d"),L=Li.StrToTime(j+" 00:00:00");return Li.StrToTime(z)>=L?z.substring(11,16):z.substring(5,10)},B=(z,j)=>z===j?"":z?Li.TimeSize(z,j)>d.value?Li.FormatTime(j):"":Li.FormatTime(j),N=z=>["image/jpeg","image/png","image/gif"].includes(z),V=z=>new Promise(j=>{if(!N(z.type))return j({blob:z,base64:""});ti.FileToBase64(z,L=>{ti.ImageCompress(L,{width:1024,type:z.type},F=>{ti.Base64ToFile(F,z.name,H=>j({blob:H,base64:F}),H=>{St.Toast(H)})},F=>{St.Toast(F)})})}),W=()=>{r("update:show",!1)};return(z,j)=>(Z(),ne(Ve,null,[Y("div",{class:"wm-msg_body",style:We({visibility:s.value?"inherit":"hidden"})},[mt(x1,{width:"980px",height:"700px",show:s.value,"onUpdate:show":j[13]||(j[13]=L=>s.value=L),onClose:j[14]||(j[14]=L=>W())},{default:ht(()=>[Y("div",hle,[Y("div",ple,[Y("div",vle,[Y("div",{class:"img",style:We({backgroundImage:J(i).uinfo.img?"url("+J(i).uinfo.img+")":""})},[J(i).uinfo.img?ye("",!0):(Z(),ne("i",gle))],4),Y("div",mle,be(J(i).uinfo.nickname),1),Y("div",{class:"more",tabindex:"0",onBlur:j[2]||(j[2]=L=>l.value=!1),onFocus:j[3]||(j[3]=L=>l.value=!1)},[j[18]||(j[18]=Y("i",{class:"ui ui_more"},null,-1)),l.value?(Z(),ne("ul",yle,[Y("li",{class:"flex_left",onClick:j[0]||(j[0]=L=>J(i).isUinfo=!0)},[j[16]||(j[16]=Y("i",{class:"ui ui_user"},null,-1)),Y("span",null,be(J(i).langs.uinfo_title),1)]),Y("li",{class:"flex_left",onClick:j[1]||(j[1]=L=>J(i).isPasswd=!0)},[j[17]||(j[17]=Y("i",{class:"ui ui_safety"},null,-1)),Y("span",null,be(J(i).langs.passwd_title),1)])])):ye("",!0)],32)]),Y("div",xle,[j[20]||(j[20]=Y("i",{class:"sea ui ui_search"},null,-1)),bl(Y("input",{type:"text","onUpdate:modelValue":j[4]||(j[4]=L=>c.value.key=L),placeholder:J(i).langs.msg_seach,onInput:j[5]||(j[5]=L=>p())},null,40,ble),[[dd,c.value.key]]),c.value.show?(Z(),ne("div",wle,[j[19]||(j[19]=Y("div",{class:"arrow arrow_up"},null,-1)),Y("ul",_le,[c.value.list.length>0?(Z(!0),ne(Ve,{key:0},Ft(c.value.list,(L,F)=>(Z(),ne("li",{class:"flex",key:F,onClick:H=>v(L)},[Y("div",{class:"img",style:We({backgroundImage:L.img?"url("+L.img+")":""})},[L.img?ye("",!0):(Z(),ne("i",Sle))],4),Y("div",Ale,be(L.title),1)],8,Ele))),128)):(Z(),ne("li",kle))])])):ye("",!0)]),Y("div",Tle,[J(i).msg.group.length>0?(Z(),ne("ul",Ole,[(Z(!0),ne(Ve,null,Ft(J(i).msg.group,L=>(Z(),ne("li",{class:Qe(["flex",L.gid===J(i).msg.gid&&L.fid===J(i).msg.fid?"active":""]),onClick:F=>b(L)},[Y("div",{class:"img",style:We({backgroundImage:L.img?"url("+L.img+")":""})},[L.num>0?(Z(),ne("span",Mle,be(L.num),1)):ye("",!0),L.img?ye("",!0):(Z(),ne("i",Ple))],4),Y("div",Ile,[Y("div",Rle,[Y("div",Nle,be(L.title),1),Y("div",Dle,be(P(L.time)),1)]),L.sendContent?(Z(),ne("div",Lle,"[草稿]"+be(L.sendContent),1)):ye("",!0),L.format===1?(Z(),ne("div",Fle,"["+be(N(L.content.type)?"图片":"文件")+"] "+be(L.content.name),1)):(Z(),ne("div",Ble,be(L.content),1))])],10,Cle))),256))])):(Z(),ne("div",$le,be(J(i).langs.msg_null),1))])]),Y("div",{class:"wm-msg_right",onDragover:j[12]||(j[12]=Ti(()=>{},["prevent"])),onDrop:k},[Y("div",jle,be(J(i).msg.title),1),Y("div",zle,[J(i).msg.list.length>0?(Z(),ne(Ve,{key:0},[o.value.finished?ye("",!0):(Z(),ne("div",{key:0,class:"history",onClick:j[6]||(j[6]=L=>m())},"历史消息")),(Z(!0),ne(Ve,null,Ft(J(i).msg.list,(L,F)=>(Z(),ne(Ve,{key:F},[Y("div",Ule,be(B(J(i).msg.list[F-1]?J(i).msg.list[F-1].time:L.time,L.time)),1),L.fid!=J(i).uinfo.uid?(Z(),ne("div",Hle,[Y("div",{class:"img",style:We({backgroundImage:L.img?"url("+L.img+")":""})},[L.img?ye("",!0):(Z(),ne("i",Gle))],4),Y("div",Wle,[L.format===0?(Z(),ne("div",Vle,[j[21]||(j[21]=Y("span",{class:"arrow"},null,-1)),L.loading?(Z(),ne("span",Yle)):ye("",!0),Y("pre",null,be(L.content),1)])):L.format===1?(Z(),ne("div",Xle,[j[24]||(j[24]=Y("span",{class:"arrow"},null,-1)),N(L.content.type)?(Z(),ne("div",qle,[L.loading?(Z(),ne("div",Kle,j[22]||(j[22]=[Y("span",null,[Y("i",{class:"ui ui_loading"})],-1)]))):ye("",!0),Y("img",{src:L.base64?L.base64:L.content.url+L.content.file+"?x-oss-process=image/resize,l_360",onClick:H=>M(L.content.url+L.content.file)},null,8,Zle)])):(Z(),ne("div",Qle,[j[23]||(j[23]=Y("i",{class:"ui ui_file"},null,-1)),Y("div",Jle,[Y("h2",ece,be(L.content.name),1),Y("div",tce,[Jt(be(J(fA).FileSize(L.content.size))+"  |   ",1),L.loading?(Z(),ne("a",nce,"取消")):(Z(),ne("a",{key:1,onClick:H=>C(L.content.url+L.content.file,L.content.name)},"下载",8,rce))]),L.loading?(Z(),ne("div",{key:0,class:"load",style:We({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+L.load+"%, #F2F2F2 "+L.load+"%, #F2F2F2 100%)"})},null,4)):ye("",!0)])]))])):ye("",!0)])])):(Z(),ne("div",ace,[Y("div",ice,[L.format===0?(Z(),ne("div",oce,[j[25]||(j[25]=Y("span",{class:"arrow"},null,-1)),L.loading?(Z(),ne("span",sce)):ye("",!0),Y("pre",null,be(L.content),1)])):L.format===1?(Z(),ne("div",lce,[j[28]||(j[28]=Y("span",{class:"arrow"},null,-1)),N(L.content.type)?(Z(),ne("div",cce,[L.loading?(Z(),ne("div",uce,j[26]||(j[26]=[Y("span",null,[Y("i",{class:"ui ui_loading"})],-1)]))):ye("",!0),Y("img",{src:L.base64?L.base64:L.content.url+L.content.file+"?x-oss-process=image/resize,l_360",onClick:H=>M(L.content.url+L.content.file)},null,8,fce)])):(Z(),ne("div",dce,[j[27]||(j[27]=Y("i",{class:"ui ui_file"},null,-1)),Y("div",hce,[Y("h2",pce,be(L.content.name),1),Y("div",vce,[Jt(be(J(fA).FileSize(L.content.size))+"  |   ",1),L.loading?(Z(),ne("a",gce,"取消")):(Z(),ne("a",{key:1,onClick:H=>C(L.content.url+L.content.file,L.content.name)},"下载",8,mce))]),L.loading?(Z(),ne("div",{key:0,class:"load",style:We({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+L.load+"%, #F2F2F2 "+L.load+"%, #F2F2F2 100%)"})},null,4)):ye("",!0)])]))])):ye("",!0)]),Y("div",{class:"img",style:We({backgroundImage:L.img?"url("+L.img+")":""})},[L.img?ye("",!0):(Z(),ne("i",yce))],4)]))],64))),128))],64)):(Z(),ne("div",xce,be(J(i).langs.msg_null),1)),j[29]||(j[29]=Y("div",{id:"msgBottom"},null,-1))]),Y("ul",bce,[Y("li",{onClick:j[7]||(j[7]=L=>T())},j[30]||(j[30]=[Y("i",{class:"ui ui_folder"},null,-1)]))]),bl(Y("textarea",{class:"wm-msg_area scrollbar","onUpdate:modelValue":j[8]||(j[8]=L=>f.value.content=L),onInput:j[9]||(j[9]=L=>w()),onPaste:S,onKeyup:j[10]||(j[10]=nu(Ti(L=>A(),["ctrl"]),["enter"])),onKeydown:nu(Ti(R,["exact"]),["enter"]),disabled:!J(i).msg.title,enterkeyhint:"send"},null,40,wce),[[dd,f.value.content]]),Y("div",_ce,[j[32]||(j[32]=Y("span",null,"按下Ctrl+Enter换行",-1)),mt(eh,{padding:"0 32px",onClick:j[11]||(j[11]=L=>R())},{default:ht(()=>j[31]||(j[31]=[Jt("发送")])),_:1})])],32)])]),_:1},8,["show"])],4),mt(v9,{show:h.value.show,"onUpdate:show":j[15]||(j[15]=L=>h.value.show=L),index:h.value.index,options:h.value.imgs},null,8,["show","index","options"])],64))}}),Sce=fi(Ece,[["__scopeId","data-v-073ec838"]]);function Ace(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function kce(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var Tce=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oce=function(e){Tce(t,e);function t(n,r){var a=this.constructor,i=e.call(this,n,r)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Ace(i,a.prototype),kce(i),i}return t}(Error),Cce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ho=function(e){Cce(t,e);function t(n){n===void 0&&(n=void 0);var r=e.call(this,n)||this;return r.message=n,r}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t}(Oce),Mce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),il=function(e){Mce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(Ho),Pce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(e){Pce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(Ho),Ice=function(){function e(t){if(this.binarizer=t,t===null)throw new Nt("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,r,a){var i=this.binarizer.getLuminanceSource().crop(t,n,r,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),Rce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ai=function(e){Rce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(Ho),Nce=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),xr=function(){function e(){}return e.arraycopy=function(t,n,r,a,i){for(;i--;)r[a++]=t[n++]},e.currentTimeMillis=function(){return Date.now()},e}(),Dce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fO=function(e){Dce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(Ho),Lce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PP=function(e){Lce(t,e);function t(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var a=e.call(this,r)||this;return a.index=n,a.message=r,a}return t.kind="ArrayIndexOutOfBoundsException",t}(fO),Fce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},za=function(){function e(){}return e.fill=function(t,n){for(var r=0,a=t.length;r<a;r++)t[r]=n},e.fillWithin=function(t,n,r,a){e.rangeCheck(t.length,n,r);for(var i=n;i<r;i++)t[i]=a},e.rangeCheck=function(t,n,r){if(n>r)throw new Nt("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new PP(n);if(r>t)throw new PP(r)},e.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},e.create=function(t,n,r){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:n}).fill(r)})},e.createInt32Array=function(t,n,r){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:n}).fill(r)})},e.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var r=0,a=t.length;r<a;r++)if(t[r]!==n[r])return!1;return!0},e.hashCode=function(t){var n,r;if(t===null)return 0;var a=1;try{for(var i=Fce(t),o=i.next();!o.done;o=i.next()){var s=o.value;a=31*a+s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.fillUint8Array=function(t,n){for(var r=0;r!==t.length;r++)t[r]=n},e.copyOf=function(t,n){return t.slice(0,n)},e.copyOfUint8Array=function(t,n){if(t.length<=n){var r=new Uint8Array(n);return r.set(t),r}return t.slice(0,n)},e.copyOfRange=function(t,n,r){var a=r-n,i=new Int32Array(a);return xr.arraycopy(t,n,i,0,a),i},e.binarySearch=function(t,n,r){r===void 0&&(r=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var o=i+a>>1,s=r(n,t[o]);if(s>0)a=o+1;else if(s<0)i=o-1;else return o}return-a-1},e.numberComparator=function(t,n){return t-n},e}(),dn=function(){function e(){}return e.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var r=31;return n=t<<16,n!==0&&(r-=16,t=n),n=t<<8,n!==0&&(r-=8,t=n),n=t<<4,n!==0&&(r-=4,t=n),n=t<<2,n!==0&&(r-=2,t=n),r-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,n){return Math.trunc(t/n)},e.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),si=function(){function e(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=e.makeArray(t):this.bits=n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=e.makeArray(t);xr.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var r=this.bits,a=Math.floor(t/32),i=r[a];i&=~((1<<(t&31))-1);for(var o=r.length;i===0;){if(++a===o)return n;i=r[a]}var s=a*32+dn.numberOfTrailingZeros(i);return s>n?n:s},e.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var r=this.bits,a=Math.floor(t/32),i=~r[a];i&=~((1<<(t&31))-1);for(var o=r.length;i===0;){if(++a===o)return n;i=~r[a]}var s=a*32+dn.numberOfTrailingZeros(i);return s>n?n:s},e.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},e.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new Nt;if(n!==t){n--;for(var r=Math.floor(t/32),a=Math.floor(n/32),i=this.bits,o=r;o<=a;o++){var s=o>r?0:t&31,l=o<a?31:n&31,c=(2<<l)-(1<<s);i[o]|=c}}},e.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,r=0;r<t;r++)n[r]=0},e.prototype.isRange=function(t,n,r){if(n<t||t<0||n>this.size)throw new Nt;if(n===t)return!0;n--;for(var a=Math.floor(t/32),i=Math.floor(n/32),o=this.bits,s=a;s<=i;s++){var l=s>a?0:t&31,c=s<i?31:n&31,u=(2<<c)-(1<<l)&4294967295;if((o[s]&u)!==(r?u:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,n){if(n<0||n>32)throw new Nt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((t>>r-1&1)===1)},e.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(t.get(r))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Nt("Sizes don't match");for(var n=this.bits,r=0,a=n.length;r<a;r++)n[r]^=t.bits[r]},e.prototype.toBytes=function(t,n,r,a){for(var i=0;i<a;i++){for(var o=0,s=0;s<8;s++)this.get(t)&&(o|=1<<7-s),t++;n[r+i]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,a=this.bits,i=0;i<r;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,t[n-i]=o}if(this.size!==r*32){for(var s=r*32-this.size,l=t[0]>>>s,i=1;i<r;i++){var c=t[i];l|=c<<32-s,t[i-1]=l,l=c>>>s}t[r-1]=l}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&za.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+za.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",n=0,r=this.size;n<r;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],n=0,r=this.size;n<r;n++)t.push(this.get(n));return t},e}(),dA;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(dA||(dA={}));const zr=dA;var Bce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(e){Bce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(Ho),$ce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(Yn||(Yn={}));var ja=function(){function e(t,n,r){for(var a,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var f=l[c];e.VALUES_TO_ECI.set(f,this)}try{for(var d=$ce(o),h=d.next();!h.done;h=d.next()){var p=h.value;e.NAME_TO_ECI.set(p,this)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new it("incorect value");var n=e.VALUES_TO_ECI.get(t);if(n===void 0)throw new it("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(n===void 0)throw new it("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Yn.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Yn.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Yn.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Yn.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Yn.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Yn.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Yn.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Yn.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Yn.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Yn.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Yn.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Yn.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Yn.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Yn.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Yn.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Yn.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Yn.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Yn.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Yn.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Yn.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Yn.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Yn.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Yn.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Yn.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Yn.Big5,28,"Big5"),e.GB18030=new e(Yn.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Yn.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),jce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sx=function(e){jce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(Ho),Fs=function(){function e(){}return e.decode=function(t,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof ja?t:ja.getCharacterSetECIByName(t)},e.decodeFallback=function(t,n){var r=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(r)){for(var a="",i=0,o=t.length;i<o;i++){var s=t[i].toString(16);s.length<2&&(s="0"+s),a+="%"+s}return decodeURIComponent(a)}if(r.equals(ja.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new sx("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(ja.UTF8)||t.equals(ja.ISO8859_1)||t.equals(ja.ASCII)},e.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),r=n.split(""),a=[],i=0;i<r.length;i++)a.push(r[i].charCodeAt(0));return new Uint8Array(a)},e}(),wn=function(){function e(){}return e.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return Fs.decode(new Uint8Array([t]),r)},e.guessEncoding=function(t,n){if(n!=null&&n.get(zr.CHARACTER_SET)!==void 0)return n.get(zr.CHARACTER_SET).toString();for(var r=t.length,a=!0,i=!0,o=!0,s=0,l=0,c=0,u=0,f=0,d=0,h=0,p=0,v=0,g=0,m=0,y=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,x=0;x<r&&(a||i||o);x++){var b=t[x]&255;o&&(s>0?(b&128)===0?o=!1:s--:(b&128)!==0&&((b&64)===0?o=!1:(s++,(b&32)===0?l++:(s++,(b&16)===0?c++:(s++,(b&8)===0?u++:o=!1))))),a&&(b>127&&b<160?a=!1:b>159&&(b<192||b===215||b===247)&&m++),i&&(f>0?b<64||b===127||b>252?i=!1:f--:b===128||b===160||b>239?i=!1:b>160&&b<224?(d++,p=0,h++,h>v&&(v=h)):b>127?(f++,h=0,p++,p>g&&(g=p)):(h=0,p=0))}return o&&s>0&&(o=!1),i&&f>0&&(i=!1),o&&(y||l+c+u>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||v>=3||g>=3)?e.SHIFT_JIS:a&&i?v===2&&d===2||m*10>=r?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:o?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=-1;function i(s,l,c,u,f,d){if(s==="%%")return"%";if(n[++a]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,p;switch(d){case"s":p=n[a];break;case"c":p=n[a][0];break;case"f":p=parseFloat(n[a]).toFixed(s);break;case"p":p=parseFloat(n[a]).toPrecision(s);break;case"e":p=parseFloat(n[a]).toExponential(s);break;case"x":p=parseInt(n[a]).toString(h||16);break;case"d":p=parseFloat(parseInt(n[a],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";p.length<v;)p=l!==void 0?p+g:g+p;return p}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},e.getBytes=function(t,n){return Fs.encode(t,n)},e.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=ja.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=ja.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=ja.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),un=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=wn.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,n,r){for(var a=n;n<n+r;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},e.prototype.substring=function(t,n){return this.value.substring(t,n)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,n){this.value=this.value.substring(0,t)+n+this.value.substring(t)},e}(),_c=function(){function e(t,n,r,a){if(this.width=t,this.height=n,this.rowSize=r,this.bits=a,n==null&&(n=t),this.height=n,t<1||n<1)throw new Nt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,r=t[0].length,a=new e(r,n),i=0;i<n;i++)for(var o=t[i],s=0;s<r;s++)o[s]&&a.set(s,i);return a},e.parseFromString=function(t,n,r){if(t===null)throw new Nt("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,o=0,s=-1,l=0,c=0;c<t.length;)if(t.charAt(c)===`
`||t.charAt(c)==="\r"){if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Nt("row lengths do not match");o=i,l++}c++}else if(t.substring(c,c+n.length)===n)c+=n.length,a[i]=!0,i++;else if(t.substring(c,c+r.length)===r)c+=r.length,a[i]=!1,i++;else throw new Nt("illegal character encountered: "+t.substring(c));if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Nt("row lengths do not match");l++}for(var u=new e(s,l),f=0;f<i;f++)a[f]&&u.set(Math.floor(f%s),Math.floor(f/s));return u},e.prototype.get=function(t,n){var r=n*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0},e.prototype.set=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Nt("input matrix dimensions do not match");for(var n=new si(Math.floor(this.width/32)+1),r=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var s=i*r,l=t.getRow(i,n).getBitArray(),c=0;c<r;c++)a[s+c]^=l[c]},e.prototype.clear=function(){for(var t=this.bits,n=t.length,r=0;r<n;r++)t[r]=0},e.prototype.setRegion=function(t,n,r,a){if(n<0||t<0)throw new Nt("Left and top must be nonnegative");if(a<1||r<1)throw new Nt("Height and width must be at least 1");var i=t+r,o=n+a;if(o>this.height||i>this.width)throw new Nt("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=n;c<o;c++)for(var u=c*s,f=t;f<i;f++)l[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new si(this.width):n.clear();for(var r=this.rowSize,a=this.bits,i=t*r,o=0;o<r;o++)n.setBulk(o*32,a[i+o]);return n},e.prototype.setRow=function(t,n){xr.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),r=new si(t),a=new si(t),i=0,o=Math.floor((n+1)/2);i<o;i++)r=this.getRow(i,r),a=this.getRow(n-1-i,a),r.reverse(),a.reverse(),this.setRow(i,a),this.setRow(n-1-i,r)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,r=this.rowSize,a=this.bits,i=t,o=n,s=-1,l=-1,c=0;c<n;c++)for(var u=0;u<r;u++){var f=a[c*r+u];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),u*32<i){for(var d=0;(f<<31-d&4294967295)===0;)d++;u*32+d<i&&(i=u*32+d)}if(u*32+31>s){for(var d=31;!(f>>>d);)d--;u*32+d>s&&(s=u*32+d)}}}return s<i||l<o?null:Int32Array.from([i,o,s-i+1,l-o+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var a=r/t,i=r%t*32,o=n[r],s=0;(o<<31-s&4294967295)===0;)s++;return i+=s,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var a=Math.floor(r/t),i=Math.floor(r%t)*32,o=n[r],s=31;!(o>>>s);)s--;return i+=s,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&za.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+za.hashCode(this.bits),t},e.prototype.toString=function(t,n,r){return t===void 0&&(t="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(t,n,r)},e.prototype.buildToString=function(t,n,r){for(var a=new un,i=0,o=this.height;i<o;i++){for(var s=0,l=this.width;s<l;s++)a.append(this.get(s,i)?t:n);a.append(r)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),zce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(e){zce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(Ho),Uce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hce=function(e){Uce(t,e);function t(n){var r=e.call(this,n)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return t.prototype.getBlackRow=function(n,r){var a=this.getLuminanceSource(),i=a.getWidth();r==null||r.getSize()<i?r=new si(i):r.clear(),this.initArrays(i);for(var o=a.getRow(n,this.luminances),s=this.buckets,l=0;l<i;l++)s[(o[l]&255)>>t.LUMINANCE_SHIFT]++;var c=t.estimateBlackPoint(s);if(i<3)for(var l=0;l<i;l++)(o[l]&255)<c&&r.set(l);else for(var u=o[0]&255,f=o[1]&255,l=1;l<i-1;l++){var d=o[l+1]&255;(f*4-u-d)/2<c&&r.set(l),u=f,f=d}return r},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),a=n.getHeight(),i=new _c(r,a);this.initArrays(r);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(a*s/5),c=n.getRow(l,this.luminances),u=Math.floor(r*4/5),f=Math.floor(r/5);f<u;f++){var d=c[f]&255;o[d>>t.LUMINANCE_SHIFT]++}for(var h=t.estimateBlackPoint(o),p=n.getMatrix(),s=0;s<a;s++)for(var v=s*r,f=0;f<r;f++){var d=p[v+f]&255;d<h&&i.set(f,s)}return i},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)r[a]=0},t.estimateBlackPoint=function(n){for(var r=n.length,a=0,i=0,o=0,s=0;s<r;s++)n[s]>o&&(i=s,o=n[s]),n[s]>a&&(a=n[s]);for(var l=0,c=0,s=0;s<r;s++){var u=s-i,f=n[s]*u*u;f>c&&(l=s,c=f)}if(i>l){var d=i;i=l,l=d}if(l-i<=r/16)throw new Ne;for(var h=l-1,p=-1,s=l-1;s>i;s--){var v=s-i,f=v*v*(l-s)*(a-n[s]);f>p&&(h=s,p=f)}return h<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(Nce),Gce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wce=function(e){Gce(t,e);function t(n){var r=e.call(this,n)||this;return r.matrix=null,r}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),a=n.getHeight();if(r>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),o=r>>t.BLOCK_SIZE_POWER;(r&t.BLOCK_SIZE_MASK)!==0&&o++;var s=a>>t.BLOCK_SIZE_POWER;(a&t.BLOCK_SIZE_MASK)!==0&&s++;var l=t.calculateBlackPoints(i,o,s,r,a),c=new _c(r,a);t.calculateThresholdForBlock(i,o,s,r,a,l,c),this.matrix=c}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,r,a,i,o,s,l){for(var c=o-t.BLOCK_SIZE,u=i-t.BLOCK_SIZE,f=0;f<a;f++){var d=f<<t.BLOCK_SIZE_POWER;d>c&&(d=c);for(var h=t.cap(f,2,a-3),p=0;p<r;p++){var v=p<<t.BLOCK_SIZE_POWER;v>u&&(v=u);for(var g=t.cap(p,2,r-3),m=0,y=-2;y<=2;y++){var x=s[h+y];m+=x[g-2]+x[g-1]+x[g]+x[g+1]+x[g+2]}var b=m/25;t.thresholdBlock(n,v,d,b,i,l)}}},t.cap=function(n,r,a){return n<r?r:n>a?a:n},t.thresholdBlock=function(n,r,a,i,o,s){for(var l=0,c=a*o+r;l<t.BLOCK_SIZE;l++,c+=o)for(var u=0;u<t.BLOCK_SIZE;u++)(n[c+u]&255)<=i&&s.set(r+u,a+l)},t.calculateBlackPoints=function(n,r,a,i,o){for(var s=o-t.BLOCK_SIZE,l=i-t.BLOCK_SIZE,c=new Array(a),u=0;u<a;u++){c[u]=new Int32Array(r);var f=u<<t.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0;d<r;d++){var h=d<<t.BLOCK_SIZE_POWER;h>l&&(h=l);for(var p=0,v=255,g=0,m=0,y=f*i+h;m<t.BLOCK_SIZE;m++,y+=i){for(var x=0;x<t.BLOCK_SIZE;x++){var b=n[y+x]&255;p+=b,b<v&&(v=b),b>g&&(g=b)}if(g-v>t.MIN_DYNAMIC_RANGE)for(m++,y+=i;m<t.BLOCK_SIZE;m++,y+=i)for(var x=0;x<t.BLOCK_SIZE;x++)p+=n[y+x]&255}var E=p>>t.BLOCK_SIZE_POWER*2;if(g-v<=t.MIN_DYNAMIC_RANGE&&(E=v/2,u>0&&d>0)){var _=(c[u-1][d]+2*c[u][d-1]+c[u-1][d-1])/4;v<_&&(E=_)}c[u][d]=E}}return c},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(Hce),$b=function(){function e(t,n){this.width=t,this.height=n}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,n,r,a){throw new sx("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new sx("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new sx("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new un,r=0;r<this.height;r++){for(var a=this.getRow(r,t),i=0;i<this.width;i++){var o=a[i]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",n.append(s)}n.append(`
`)}return n.toString()},e}(),Vce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dO=function(e){Vce(t,e);function t(n){var r=e.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return t.prototype.getRow=function(n,r){for(var a=this.delegate.getRow(n,r),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r),i=0;i<r;i++)a[i]=255-(n[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,r,a,i){return new t(this.delegate.crop(n,r,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}($b),Yce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xce=function(e){Yce(t,e);function t(n,r){r===void 0&&(r=!1);var a=e.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(n,r),a}return t.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var a=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(a.data,n.width,n.height,r)},t.toGrayscaleBuffer=function(n,r,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(r*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var s=0,l=0,c=n.length;s<c;s+=4,l++){var u=void 0,f=n[s+3];if(f===0)u=255;else{var d=n[s],h=n[s+1],p=n[s+2];u=306*d+601*h+117*p+512>>10}o[l]=u}else for(var s=0,l=0,v=n.length;s<v;s+=4,l++){var u=void 0,f=n[s+3];if(f===0)u=255;else{var d=n[s],h=n[s+1],p=n[s+2];u=306*d+601*h+117*p+512>>10}o[l]=255-u}return o},t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var a=this.getWidth(),i=n*a;return r===null?r=this.buffer.slice(i,i+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(i,i+a))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return e.prototype.crop.call(this,n,r,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var r=this.getTempCanvasElement(),a=r.getContext("2d"),i=n*t.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);return r.width=l,r.height=c,a.translate(l/2,c/2),a.rotate(i),a.drawImage(this.canvas,o/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new dO(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}($b),qce=function(){function e(t,n,r){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),to=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},no=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,a=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],a=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Kce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pp=function(){function e(t,n,r){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return to(this,void 0,void 0,function(){var t,n,r,a,i,o,s,l,c,u,f,d;return no(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=h.sent(),n=[];try{for(r=Kce(t),a=r.next();!a.done;a=r.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(s=i.deviceId||i.id,l=i.label||"Video device "+(n.length+1),c=i.groupId,u={deviceId:s,label:l,kind:o,groupId:c},n.push(u))}catch(p){f={error:p}}finally{try{a&&!a.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},e.prototype.getVideoInputDevices=function(){return to(this,void 0,void 0,function(){var t;return no(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(r){return new qce(r.deviceId,r.label)})]}})})},e.prototype.findDeviceById=function(t){return to(this,void 0,void 0,function(){var n;return no(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,n){return to(this,void 0,void 0,function(){return no(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,n){return to(this,void 0,void 0,function(){var r,a;return no(this,function(i){switch(i.label){case 0:return this.reset(),t?r={deviceId:{exact:t}}:r={facingMode:"environment"},a={video:r},[4,this.decodeOnceFromConstraints(a,n)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,n){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=a.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,n){return to(this,void 0,void 0,function(){var r,a;return no(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return r=i.sent(),[4,this.decodeOnce(r)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,r){return to(this,void 0,void 0,function(){return no(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,n,r)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,n,r){return to(this,void 0,void 0,function(){var a,i;return no(this,function(o){switch(o.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(t,n,r){return to(this,void 0,void 0,function(){var a;return no(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,n,r)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,n,r){return to(this,void 0,void 0,function(){var a;return no(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,r)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,n){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return a.sent(),[2,r]}})})},e.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(r,a){return n.playVideoOnLoad(t,function(){return r()})})},e.prototype.playVideoOnLoad=function(t,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return to(this,void 0,void 0,function(){return no(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,n){var r=document.getElementById(t);if(!r)throw new il("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new il("element with id '"+t+"' must be an "+n+" element");return r},e.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new il("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new il("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,n,r){if(t===void 0&&n===void 0)throw new il("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(t,r)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new il("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},e.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},e.prototype.decodeFromVideoElementContinuously=function(t,n){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,n)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new il("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new il("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=t,r},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new il("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=t,r},e.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new il("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(r,n);return r.src=t,a},e.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(r,a){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(r,a)},t.addEventListener("load",n.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return to(this,void 0,void 0,function(){return no(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,n){return to(this,void 0,void 0,function(){return no(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,n),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},e.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},e.prototype.decodeOnce=function(t,n,r){var a=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(o,s){if(a._stopAsyncDecode){s(new Ne("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var l=a.decode(t);o(l)}catch(d){var c=n&&d instanceof Ne,u=d instanceof ai||d instanceof it,f=u&&r;if(c||f)return setTimeout(i,a._timeBetweenDecodingAttempts,o,s);s(d)}};return new Promise(function(o,s){return i(o,s)})},e.prototype.decodeContinuously=function(t,n){var r=this;this._stopContinuousDecode=!1;var a=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(t);n(i,null),setTimeout(a,r.timeBetweenScansMillis)}catch(l){n(null,l);var o=l instanceof ai||l instanceof it,s=l instanceof Ne;(o||s)&&setTimeout(a,r._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var n=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),n=!0):this.drawImageOnCanvas(t);var r=this.getCaptureCanvas(t),a=new Xce(r,n),i=new Wce(a);return new Ice(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},e.prototype.drawImageOnCanvas=function(t,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),n.style.width=r+"px",n.style.height=a+"px",n.width=r,n.height=a,n},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),Qi=function(){function e(t,n,r,a,i,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=xr.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=r,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=xr.currentTimeMillis():this.timestamp=o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var r=new Array(n.length+t.length);xr.arraycopy(n,0,r,0,n.length),xr.arraycopy(t,0,r,n.length,t.length),this.resultPoints=r}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),hA;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hA||(hA={}));const Pt=hA;var pA;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pA||(pA={}));const Ei=pA;var jb=function(){function e(t,n,r,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=t,this.text=n,this.byteSegments=r,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),lv=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Nt;return this.logTable[t]},e.addOrSubtract=function(t,n){return t^n},e}(),Ju=function(){function e(t,n){if(n.length===0)throw new Nt;this.field=t;var r=n.length;if(r>1&&n[0]===0){for(var a=1;a<r&&n[a]===0;)a++;a===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-a),xr.arraycopy(n,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,r;if(t===1){r=0;for(var a=0,i=n.length;a!==i;a++){var o=n[a];r=lv.addOrSubtract(r,o)}return r}r=n[0];for(var s=n.length,l=this.field,a=1;a<s;a++)r=lv.addOrSubtract(l.multiply(t,r),n[a]);return r},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var i=new Int32Array(r.length),o=r.length-n.length;xr.arraycopy(r,0,i,0,o);for(var s=o;s<r.length;s++)i[s]=lv.addOrSubtract(n[s-o],r[s]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,a=t.coefficients,i=a.length,o=new Int32Array(r+i-1),s=this.field,l=0;l<r;l++)for(var c=n[l],u=0;u<i;u++)o[l+u]=lv.addOrSubtract(o[l+u],s.multiply(c,a[u]));return new e(s,o)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,r=this.field,a=new Int32Array(n),i=this.coefficients,o=0;o<n;o++)a[o]=r.multiply(i[o],t);return new e(r,a)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Nt;if(n===0)return this.field.getZero();for(var r=this.coefficients,a=r.length,i=new Int32Array(a+t),o=this.field,s=0;s<a;s++)i[s]=o.multiply(r[s],n);return new e(o,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Nt("Divide by 0");for(var n=this.field,r=n.getZero(),a=this,i=t.getCoefficient(t.getDegree()),o=n.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var s=a.getDegree()-t.getDegree(),l=n.multiply(a.getCoefficient(a.getDegree()),o),c=t.multiplyByMonomial(s,l),u=n.buildMonomial(s,l);r=r.addOrSubtract(u),a=a.addOrSubtract(c)}return[r,a]},e.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),n===0||r!==1){var a=this.field.log(r);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},e}(),Zce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),g9=function(e){Zce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(Ho),Qce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Do=function(e){Qce(t,e);function t(n,r,a){var i=e.call(this)||this;i.primitive=n,i.size=r,i.generatorBase=a;for(var o=new Int32Array(r),s=1,l=0;l<r;l++)o[l]=s,s*=2,s>=r&&(s^=n,s&=r-1);i.expTable=o;for(var c=new Int32Array(r),l=0;l<r-1;l++)c[o[l]]=l;return i.logTable=c,i.zero=new Ju(i,Int32Array.from([0])),i.one=new Ju(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,r){if(n<0)throw new Nt;if(r===0)return this.zero;var a=new Int32Array(n+1);return a[0]=r,new Ju(this,a)},t.prototype.inverse=function(n){if(n===0)throw new g9;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+dn.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(lv),Jce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gm=function(e){Jce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(Ho),eue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ag=function(e){eue(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(Ho),zb=function(){function e(t){this.field=t}return e.prototype.decode=function(t,n){for(var r=this.field,a=new Ju(r,t),i=new Int32Array(n),o=!0,s=0;s<n;s++){var l=a.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new Ju(r,i),u=this.runEuclideanAlgorithm(r.buildMonomial(n,1),c,n),f=u[0],d=u[1],h=this.findErrorLocations(f),p=this.findErrorMagnitudes(d,h),s=0;s<h.length;s++){var v=t.length-1-r.log(h[s]);if(v<0)throw new gm("Bad error location");t[v]=Do.addOrSubtract(t[v],p[s])}},e.prototype.runEuclideanAlgorithm=function(t,n,r){if(t.getDegree()<n.getDegree()){var a=t;t=n,n=a}for(var i=this.field,o=t,s=n,l=i.getZero(),c=i.getOne();s.getDegree()>=(r/2|0);){var u=o,f=l;if(o=s,l=c,o.isZero())throw new gm("r_{i-1} was zero");s=u;for(var d=i.getZero(),h=o.getCoefficient(o.getDegree()),p=i.inverse(h);s.getDegree()>=o.getDegree()&&!s.isZero();){var v=s.getDegree()-o.getDegree(),g=i.multiply(s.getCoefficient(s.getDegree()),p);d=d.addOrSubtract(i.buildMonomial(v,g)),s=s.addOrSubtract(o.multiplyByMonomial(v,g))}if(c=d.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new Ag("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(m===0)throw new gm("sigmaTilde(0) was zero");var y=i.inverse(m),x=c.multiplyScalar(y),b=s.multiplyScalar(y);return[x,b]},e.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(n),a=0,i=this.field,o=1;o<i.getSize()&&a<n;o++)t.evaluateAt(o)===0&&(r[a]=i.inverse(o),a++);if(a!==n)throw new gm("Error locator degree does not match number of roots");return r},e.prototype.findErrorMagnitudes=function(t,n){for(var r=n.length,a=new Int32Array(r),i=this.field,o=0;o<r;o++){for(var s=i.inverse(n[o]),l=1,c=0;c<r;c++)if(o!==c){var u=i.multiply(n[c],s),f=(u&1)===0?u|1:u&-2;l=i.multiply(l,f)}a[o]=i.multiply(t.evaluateAt(s),i.inverse(l)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],s))}return a},e}(),vi;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(vi||(vi={}));var IP=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),r=this.extractBits(n),a=this.correctBits(r),i=e.convertBoolArrayToByteArray(a),o=e.getEncodedData(a),s=new jb(i,o,null,null);return s.setNumBits(a.length),s},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var n=t.length,r=vi.UPPER,a=vi.UPPER,i="",o=0;o<n;)if(a===vi.BINARY){if(n-o<5)break;var s=e.readCode(t,o,5);if(o+=5,s===0){if(n-o<11)break;s=e.readCode(t,o,11)+31,o+=11}for(var l=0;l<s;l++){if(n-o<8){o=n;break}var c=e.readCode(t,o,8);i+=wn.castAsNonUtf8Char(c),o+=8}a=r}else{var u=a===vi.DIGIT?4:5;if(n-o<u)break;var c=e.readCode(t,o,u);o+=u;var f=e.getCharacter(a,c);f.startsWith("CTRL_")?(r=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(r=a)):(i+=f,a=r)}return i},e.getTable=function(t){switch(t){case"L":return vi.LOWER;case"P":return vi.PUNCT;case"M":return vi.MIXED;case"D":return vi.DIGIT;case"B":return vi.BINARY;case"U":default:return vi.UPPER}},e.getCharacter=function(t,n){switch(t){case vi.UPPER:return e.UPPER_TABLE[n];case vi.LOWER:return e.LOWER_TABLE[n];case vi.MIXED:return e.MIXED_TABLE[n];case vi.PUNCT:return e.PUNCT_TABLE[n];case vi.DIGIT:return e.DIGIT_TABLE[n];default:throw new Ag("Bad table")}},e.prototype.correctBits=function(t){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Do.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Do.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Do.AZTEC_DATA_10):(r=12,n=Do.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/r;if(i<a)throw new it;for(var o=t.length%r,s=new Int32Array(i),l=0;l<i;l++,o+=r)s[l]=e.readCode(t,o,r);try{var c=new zb(n);c.decode(s,i-a)}catch(g){throw new it(g)}for(var u=(1<<r)-1,f=0,l=0;l<a;l++){var d=s[l];if(d===0||d===u)throw new it;(d===1||d===u-1)&&f++}for(var h=new Array(a*r-f),p=0,l=0;l<a;l++){var d=s[l];if(d===1||d===u-1)h.fill(d>1,p,p+r-1),p+=r-1;else for(var v=r-1;v>=0;--v)h[p++]=(d&1<<v)!==0}return h},e.prototype.extractBits=function(t){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),a=(n?11:14)+r*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var s=0;s<i.length;s++)i[s]=s;else for(var l=a+1+2*dn.truncDivision(dn.truncDivision(a,2)-1,15),c=a/2,u=dn.truncDivision(l,2),s=0;s<c;s++){var f=s+dn.truncDivision(s,15);i[c-s-1]=u-f-1,i[c+s]=u+f+1}for(var s=0,d=0;s<r;s++){for(var h=(r-s)*4+(n?9:12),p=s*2,v=a-1-p,g=0;g<h;g++)for(var m=g*2,y=0;y<2;y++)o[d+m+y]=t.get(i[p+y],i[p+g]),o[d+2*h+m+y]=t.get(i[p+g],i[v-y]),o[d+4*h+m+y]=t.get(i[v-y],i[v-g]),o[d+6*h+m+y]=t.get(i[v-g],i[p+y]);d+=h*8}return o},e.readCode=function(t,n,r){for(var a=0,i=n;i<n+r;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,n){var r=t.length-n;return r>=8?e.readCode(t,n,8):e.readCode(t,n,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),r=0;r<n.length;r++)n[r]=e.readByte(t,8*r);return n},e.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),Mn=function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,n,r,a){var i=t-r,o=n-a;return Math.sqrt(i*i+o*o)},e.sum=function(t){for(var n=0,r=0,a=t.length;r!==a;r++){var i=t[r];n+=i}return n},e}(),vA=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),At=function(){function e(t,n){this.x=t,this.y=n}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*vA.floatToIntBits(this.x)+vA.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,o,s;if(r>=n&&r>=a?(o=t[0],i=t[1],s=t[2]):a>=r&&a>=n?(o=t[1],i=t[0],s=t[2]):(o=t[2],i=t[0],s=t[1]),this.crossProductZ(i,o,s)<0){var l=i;i=s,s=l}t[0]=i,t[1]=o,t[2]=s},e.distance=function(t,n){return Mn.distance(t.x,t.y,n.x,n.y)},e.crossProductZ=function(t,n,r){var a=n.x,i=n.y;return(r.x-a)*(t.y-i)-(r.y-i)*(t.x-a)},e}(),hO=function(){function e(t,n){this.bits=t,this.points=n}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),tue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nue=function(e){tue(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r)||this;return s.compact=a,s.nbDatablocks=i,s.nbLayers=o,s}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(hO),gA=function(){function e(t,n,r,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=e.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ne}return e.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,r=this.upInit,a=this.downInit,i=!1,o=!0,s=!1,l=!1,c=!1,u=!1,f=!1,d=this.width,h=this.height;o;){o=!1;for(var p=!0;(p||!l)&&n<d;)p=this.containsBlackPoint(r,a,n,!1),p?(n++,o=!0,l=!0):l||n++;if(n>=d){i=!0;break}for(var v=!0;(v||!c)&&a<h;)v=this.containsBlackPoint(t,n,a,!0),v?(a++,o=!0,c=!0):c||a++;if(a>=h){i=!0;break}for(var g=!0;(g||!u)&&t>=0;)g=this.containsBlackPoint(r,a,t,!1),g?(t--,o=!0,u=!0):u||t--;if(t<0){i=!0;break}for(var m=!0;(m||!f)&&r>=0;)m=this.containsBlackPoint(t,n,r,!0),m?(r--,o=!0,f=!0):f||r--;if(r<0){i=!0;break}o&&(s=!0)}if(!i&&s){for(var y=n-t,x=null,b=1;x===null&&b<y;b++)x=this.getBlackPointOnSegment(t,a-b,t+b,a);if(x==null)throw new Ne;for(var E=null,b=1;E===null&&b<y;b++)E=this.getBlackPointOnSegment(t,r+b,t+b,r);if(E==null)throw new Ne;for(var _=null,b=1;_===null&&b<y;b++)_=this.getBlackPointOnSegment(n,r+b,n-b,r);if(_==null)throw new Ne;for(var w=null,b=1;w===null&&b<y;b++)w=this.getBlackPointOnSegment(n,a-b,n-b,a);if(w==null)throw new Ne;return this.centerEdges(w,x,_,E)}else throw new Ne},e.prototype.getBlackPointOnSegment=function(t,n,r,a){for(var i=Mn.round(Mn.distance(t,n,r,a)),o=(r-t)/i,s=(a-n)/i,l=this.image,c=0;c<i;c++){var u=Mn.round(t+c*o),f=Mn.round(n+c*s);if(l.get(u,f))return new At(u,f)}return null},e.prototype.centerEdges=function(t,n,r,a){var i=t.getX(),o=t.getY(),s=n.getX(),l=n.getY(),c=r.getX(),u=r.getY(),f=a.getX(),d=a.getY(),h=e.CORR;return i<this.width/2?[new At(f-h,d+h),new At(s+h,l+h),new At(c-h,u-h),new At(i+h,o-h)]:[new At(f+h,d+h),new At(s+h,l-h),new At(c-h,u+h),new At(i-h,o-h)]},e.prototype.containsBlackPoint=function(t,n,r,a){var i=this.image;if(a){for(var o=t;o<=n;o++)if(i.get(o,r))return!0}else for(var s=t;s<=n;s++)if(i.get(r,s))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),RP=function(){function e(){}return e.checkAndNudgePoints=function(t,n){for(var r=t.getWidth(),a=t.getHeight(),i=!0,o=0;o<n.length&&i;o+=2){var s=Math.floor(n[o]),l=Math.floor(n[o+1]);if(s<-1||s>r||l<-1||l>a)throw new Ne;i=!1,s===-1?(n[o]=0,i=!0):s===r&&(n[o]=r-1,i=!0),l===-1?(n[o+1]=0,i=!0):l===a&&(n[o+1]=a-1,i=!0)}i=!0;for(var o=n.length-2;o>=0&&i;o-=2){var s=Math.floor(n[o]),l=Math.floor(n[o+1]);if(s<-1||s>r||l<-1||l>a)throw new Ne;i=!1,s===-1?(n[o]=0,i=!0):s===r&&(n[o]=r-1,i=!0),l===-1?(n[o+1]=0,i=!0):l===a&&(n[o+1]=a-1,i=!0)}},e}(),m9=function(){function e(t,n,r,a,i,o,s,l,c){this.a11=t,this.a21=n,this.a31=r,this.a12=a,this.a22=i,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return e.quadrilateralToQuadrilateral=function(t,n,r,a,i,o,s,l,c,u,f,d,h,p,v,g){var m=e.quadrilateralToSquare(t,n,r,a,i,o,s,l),y=e.squareToQuadrilateral(c,u,f,d,h,p,v,g);return y.times(m)},e.prototype.transformPoints=function(t){for(var n=t.length,r=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=0;d<n;d+=2){var h=t[d],p=t[d+1],v=i*h+l*p+f;t[d]=(r*h+o*p+c)/v,t[d+1]=(a*h+s*p+u)/v}},e.prototype.transformPointsWithValues=function(t,n){for(var r=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=t.length,h=0;h<d;h++){var p=t[h],v=n[h],g=i*p+l*v+f;t[h]=(r*p+o*v+c)/g,n[h]=(a*p+s*v+u)/g}},e.squareToQuadrilateral=function(t,n,r,a,i,o,s,l){var c=t-r+i-s,u=n-a+o-l;if(c===0&&u===0)return new e(r-t,i-r,t,a-n,o-a,n,0,0,1);var f=r-i,d=s-i,h=a-o,p=l-o,v=f*p-d*h,g=(c*p-d*u)/v,m=(f*u-c*h)/v;return new e(r-t+g*r,s-t+m*s,t,a-n+g*a,l-n+m*l,n,g,m,1)},e.quadrilateralToSquare=function(t,n,r,a,i,o,s,l){return e.squareToQuadrilateral(t,n,r,a,i,o,s,l).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),rue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aue=function(e){rue(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,r,a,i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b){var E=m9.quadrilateralToQuadrilateral(i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b);return this.sampleGridWithTransform(n,r,a,E)},t.prototype.sampleGridWithTransform=function(n,r,a,i){if(r<=0||a<=0)throw new Ne;for(var o=new _c(r,a),s=new Float32Array(2*r),l=0;l<a;l++){for(var c=s.length,u=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=u;i.transformPoints(s),RP.checkAndNudgePoints(n,s);try{for(var f=0;f<c;f+=2)n.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new Ne}}return o},t}(RP),pO=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new aue,e}(),Ao=function(){function e(t,n){this.x=t,this.y=n}return e.prototype.toResultPoint=function(){return new At(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),iue=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(t){var a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new nue(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Ne;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(r,n);for(var a=0,i=0;i<4;i++){var o=r[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},e.prototype.getRotation=function(t,n){var r=0;t.forEach(function(i,o,s){var l=(i>>n-2<<1)+(i&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var a=0;a<4;a++)if(dn.bitCount(r^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Ne},e.prototype.getCorrectedParameterData=function(t,n){var r,a;n?(r=7,a=2):(r=10,a=4);for(var i=r-a,o=new Int32Array(r),s=r-1;s>=0;--s)o[s]=t&15,t>>=4;try{var l=new zb(Do.AZTEC_PARAM);l.decode(o,i)}catch{throw new Ne}for(var c=0,s=0;s<a;s++)c=(c<<4)+o[s];return c},e.prototype.getBullsEyeCorners=function(t){var n=t,r=t,a=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(n,o,1,-1),l=this.getFirstDifferent(r,o,1,1),c=this.getFirstDifferent(a,o,-1,1),u=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,s)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,u))break}n=s,r=l,a=c,i=u,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ne;this.compact=this.nbCenterLayers===5;var d=new At(n.getX()+.5,n.getY()-.5),h=new At(r.getX()+.5,r.getY()+.5),p=new At(a.getX()-.5,a.getY()+.5),v=new At(i.getX()-.5,i.getY()-.5);return this.expandSquare([d,h,p,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,n,r,a;try{var i=new gA(this.image).detect();t=i[0],n=i[1],r=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;t=this.getFirstDifferent(new Ao(o+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ao(o+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ao(o-7,s+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ao(o-7,s-7),!1,-1,-1).toResultPoint()}var l=Mn.round((t.getX()+a.getX()+n.getX()+r.getX())/4),c=Mn.round((t.getY()+a.getY()+n.getY()+r.getY())/4);try{var i=new gA(this.image,15,l,c).detect();t=i[0],n=i[1],r=i[2],a=i[3]}catch{t=this.getFirstDifferent(new Ao(l+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ao(l+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ao(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ao(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Mn.round((t.getX()+a.getX()+n.getX()+r.getX())/4),c=Mn.round((t.getY()+a.getY()+n.getY()+r.getY())/4),new Ao(l,c)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,n,r,a,i){var o=pO.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(t,s,s,l,l,c,l,c,c,l,c,n.getX(),n.getY(),r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,n,r){for(var a=0,i=this.distanceResultPoint(t,n),o=i/r,s=t.getX(),l=t.getY(),c=o*(n.getX()-t.getX())/i,u=o*(n.getY()-t.getY())/i,f=0;f<r;f++)this.image.get(Mn.round(s+f*c),Mn.round(l+f*u))&&(a|=1<<r-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,n,r,a){var i=3;t=new Ao(t.getX()-i,t.getY()+i),n=new Ao(n.getX()-i,n.getY()-i),r=new Ao(r.getX()+i,r.getY()-i),a=new Ao(a.getX()+i,a.getY()+i);var o=this.getColor(a,t);if(o===0)return!1;var s=this.getColor(t,n);return s!==o||(s=this.getColor(n,r),s!==o)?!1:(s=this.getColor(r,a),s===o)},e.prototype.getColor=function(t,n){for(var r=this.distancePoint(t,n),a=(n.getX()-t.getX())/r,i=(n.getY()-t.getY())/r,o=0,s=t.getX(),l=t.getY(),c=this.image.get(t.getX(),t.getY()),u=Math.ceil(r),f=0;f<u;f++)s+=a,l+=i,this.image.get(Mn.round(s),Mn.round(l))!==c&&o++;var d=o/r;return d>.1&&d<.9?0:d<=.1===c?1:-1},e.prototype.getFirstDifferent=function(t,n,r,a){for(var i=t.getX()+r,o=t.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===n;)i+=r,o+=a;for(i-=r,o-=a;this.isValid(i,o)&&this.image.get(i,o)===n;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===n;)o+=a;return o-=a,new Ao(i,o)},e.prototype.expandSquare=function(t,n,r){var a=r/(2*n),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,l=(t[0].getY()+t[2].getY())/2,c=new At(s+a*i,l+a*o),u=new At(s-a*i,l-a*o);i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),s=(t[1].getX()+t[3].getX())/2,l=(t[1].getY()+t[3].getY())/2;var f=new At(s+a*i,l+a*o),d=new At(s-a*i,l-a*o),h=[c,f,u,d];return h},e.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},e.prototype.isValidPoint=function(t){var n=Mn.round(t.getX()),r=Mn.round(t.getY());return this.isValid(n,r)},e.prototype.distancePoint=function(t,n){return Mn.distance(t.getX(),t.getY(),n.getX(),n.getY())},e.prototype.distanceResultPoint=function(t,n){return Mn.distance(t.getX(),t.getY(),n.getX(),n.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(dn.truncDivision(this.nbLayers-4,8)+1)+15},e}(),mA=function(){function e(){}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r=null,a=new iue(t.getBlackMatrix()),i=null,o=null;try{var s=a.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(n,i),o=new IP().decode(s)}catch(f){r=f}if(o==null)try{var s=a.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(n,i),o=new IP().decode(s)}catch(f){throw r??f}var l=new Qi(o.getText(),o.getRawBytes(),o.getNumBits(),i,Pt.AZTEC,xr.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(Ei.BYTE_SEGMENTS,c);var u=o.getECLevel();return u!=null&&l.putMetadata(Ei.ERROR_CORRECTION_LEVEL,u),l},e.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var r=t.get(zr.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(a,i,o){r.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),oue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){oue(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new mA,n)||this}return t})(pp);var Ua=function(){function e(){}return e.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var r=n&&n.get(zr.TRY_HARDER)===!0;if(r&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,n),o=i.getResultMetadata(),s=270;o!==null&&o.get(Ei.ORIENTATION)===!0&&(s=s+o.get(Ei.ORIENTATION)%360),i.putMetadata(Ei.ORIENTATION,s);var l=i.getResultPoints();if(l!==null)for(var c=a.getHeight(),u=0;u<l.length;u++)l[u]=new At(c-l[u].getY()-1,l[u].getX());return i}else throw new Ne}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,n){var r=t.getWidth(),a=t.getHeight(),i=new si(r),o=n&&n.get(zr.TRY_HARDER)===!0,s=Math.max(1,a>>(o?8:5)),l;o?l=a:l=15;for(var c=Math.trunc(a/2),u=0;u<l;u++){var f=Math.trunc((u+1)/2),d=(u&1)===0,h=c+s*(d?f:-f);if(h<0||h>=a)break;try{i=t.getBlackRow(h,i)}catch{continue}for(var p=function(y){if(y===1&&(i.reverse(),n&&n.get(zr.NEED_RESULT_POINT_CALLBACK)===!0)){var x=new Map;n.forEach(function(_,w){return x.set(w,_)}),x.delete(zr.NEED_RESULT_POINT_CALLBACK),n=x}try{var b=v.decodeRow(h,i,n);if(y===1){b.putMetadata(Ei.ORIENTATION,180);var E=b.getResultPoints();E!==null&&(E[0]=new At(r-E[0].getX()-1,E[0].getY()),E[1]=new At(r-E[1].getX()-1,E[1].getY()))}return{value:b}}catch{}},v=this,g=0;g<2;g++){var m=p(g);if(typeof m=="object")return m.value}}throw new Ne},e.recordPattern=function(t,n,r){for(var a=r.length,i=0;i<a;i++)r[i]=0;var o=t.getSize();if(n>=o)throw new Ne;for(var s=!t.get(n),l=0,c=n;c<o;){if(t.get(c)!==s)r[l]++;else{if(++l===a)break;r[l]=1,s=!s}c++}if(!(l===a||l===a-1&&c===o))throw new Ne},e.recordPatternInReverse=function(t,n,r){for(var a=r.length,i=t.get(n);n>0&&a>=0;)t.get(--n)!==i&&(a--,i=!i);if(a>=0)throw new Ne;e.recordPattern(t,n+1,r)},e.patternMatchVariance=function(t,n,r){for(var a=t.length,i=0,o=0,s=0;s<a;s++)i+=t[s],o+=n[s];if(i<o)return Number.POSITIVE_INFINITY;var l=i/o;r*=l;for(var c=0,u=0;u<a;u++){var f=t[u],d=n[u]*l,h=f>d?f-d:d-f;if(h>r)return Number.POSITIVE_INFINITY;c+=h}return c/i},e}(),sue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NP=function(e){sue(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var r=n.getSize(),a=n.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),s=a,l=!1,c=6,u=a;u<r;u++)if(n.get(u)!==l)o[i]++;else{if(i===c-1){for(var f=t.MAX_AVG_VARIANCE,d=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var p=Ua.patternMatchVariance(o,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&n.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,d]);s+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,l=!l}throw new Ne},t.decodeCode=function(n,r,a){Ua.recordPattern(n,a,r);for(var i=t.MAX_AVG_VARIANCE,o=-1,s=0;s<t.CODE_PATTERNS.length;s++){var l=t.CODE_PATTERNS[s],c=this.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);c<i&&(i=c,o=s)}if(o>=0)return o;throw new Ne},t.prototype.decodeRow=function(n,r,a){var i=a&&a.get(zr.ASSUME_GS1)===!0,o=t.findStartPattern(r),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var u;switch(s){case t.CODE_START_A:u=t.CODE_CODE_A;break;case t.CODE_START_B:u=t.CODE_CODE_B;break;case t.CODE_START_C:u=t.CODE_CODE_C;break;default:throw new it}for(var f=!1,d=!1,h="",p=o[0],v=o[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,y=0,x=s,b=0,E=!0,_=!1,w=!1;!f;){var A=d;switch(d=!1,m=y,y=t.decodeCode(r,g,v),c[l++]=y,y!==t.CODE_STOP&&(E=!0),y!==t.CODE_STOP&&(b++,x+=b*y),p=v,v+=g.reduce(function(P,B){return P+B},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new it}switch(u){case t.CODE_CODE_A:if(y<64)w===_?h+=String.fromCharCode(32+y):h+=String.fromCharCode(32+y+128),w=!1;else if(y<96)w===_?h+=String.fromCharCode(y-64):h+=String.fromCharCode(y+64),w=!1;else switch(y!==t.CODE_STOP&&(E=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!_&&w?(_=!0,w=!1):_&&w?(_=!1,w=!1):w=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_B;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(y<96)w===_?h+=String.fromCharCode(32+y):h+=String.fromCharCode(32+y+128),w=!1;else switch(y!==t.CODE_STOP&&(E=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!_&&w?(_=!0,w=!1):_&&w?(_=!1,w=!1):w=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_A;break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(y<100)y<10&&(h+="0"),h+=y;else switch(y!==t.CODE_STOP&&(E=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}A&&(u=u===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var S=v-p;if(v=r.getNextUnset(v),!r.isRange(v,Math.min(r.getSize(),v+(v-p)/2),!1))throw new Ne;if(x-=b*m,x%103!==m)throw new ai;var k=h.length;if(k===0)throw new Ne;k>0&&E&&(u===t.CODE_CODE_C?h=h.substring(0,k-2):h=h.substring(0,k-1));for(var T=(o[1]+o[0])/2,O=p+S/2,C=c.length,M=new Uint8Array(C),R=0;R<C;R++)M[R]=c[R];var I=[new At(T,n),new At(O,n)];return new Qi(h,M,0,I,Pt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Ua),lue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),N_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DP=function(e){lue(t,e);function t(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var a=e.call(this)||this;return a.usingCheckDigit=n,a.extendedMode=r,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=t.findAsteriskPattern(r,c),f=r.getNextSet(u[1]),d=r.getSize(),h,p;do{t.recordPattern(r,f,c);var v=t.toNarrowWidePattern(c);if(v<0)throw new Ne;h=t.patternToChar(v),this.decodeRowResult+=h,p=f;try{for(var g=(i=void 0,N_(c)),m=g.next();!m.done;m=g.next()){var y=m.value;f+=y}}catch(C){i={error:C}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=r.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var b=N_(c),E=b.next();!E.done;E=b.next()){var y=E.value;x+=y}}catch(C){s={error:C}}finally{try{E&&!E.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}var _=f-p-x;if(f!==d&&_*2<x)throw new Ne;if(this.usingCheckDigit){for(var w=this.decodeRowResult.length-1,A=0,S=0;S<w;S++)A+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(w)!==t.ALPHABET_STRING.charAt(A%43))throw new ai;this.decodeRowResult=this.decodeRowResult.substring(0,w)}if(this.decodeRowResult.length===0)throw new Ne;var k;this.extendedMode?k=t.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;var T=(u[1]+u[0])/2,O=p+x/2;return new Qi(k,null,0,[new At(T,n),new At(O,n)],Pt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,r){for(var a=n.getSize(),i=n.getNextSet(0),o=0,s=i,l=!1,c=r.length,u=i;u<a;u++)if(n.get(u)!==l)r[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,l=!l}throw new Ne},t.toNarrowWidePattern=function(n){var r,a,i=n.length,o=0,s;do{var l=2147483647;try{for(var c=(r=void 0,N_(n)),u=c.next();!u.done;u=c.next()){var f=u.value;f<l&&f>o&&(l=f)}}catch(v){r={error:v}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}o=l,s=0;for(var d=0,h=0,p=0;p<i;p++){var f=n[p];f>o&&(h|=1<<i-1-p,s++,d+=f)}if(s===3){for(var p=0;p<i&&s>0;p++){var f=n[p];if(f>o&&(s--,f*2>=d))return-1}return h}}while(s>3);return-1},t.patternToChar=function(n){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===n)return t.ALPHABET_STRING.charAt(r);if(n===t.ASTERISK_ENCODING)return"*";throw new Ne},t.decodeExtended=function(n){for(var r=n.length,a="",i=0;i<r;i++){var o=n.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=n.charAt(i+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new it;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new it;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new it;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new it;break}a+=l,i++}else a+=o}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Ua),cue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),D_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LP=function(e){cue(t,e);function t(){var n=e.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.findAsteriskPattern(r),u=r.getNextSet(c[1]),f=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,p;do{t.recordPattern(r,u,d);var v=this.toPattern(d);if(v<0)throw new Ne;h=this.patternToChar(v),this.decodeRowResult+=h,p=u;try{for(var g=(i=void 0,D_(d)),m=g.next();!m.done;m=g.next()){var y=m.value;u+=y}}catch(S){i={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var b=D_(d),E=b.next();!E.done;E=b.next()){var y=E.value;x+=y}}catch(S){s={error:S}}finally{try{E&&!E.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}if(u===f||!r.get(u))throw new Ne;if(this.decodeRowResult.length<2)throw new Ne;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var _=this.decodeExtended(this.decodeRowResult),w=(c[1]+c[0])/2,A=p+x/2;return new Qi(_,null,0,[new At(w,n),new At(A,n)],Pt.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(n){var r=n.getSize(),a=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,s=!1,l=i.length,c=0,u=a;u<r;u++)if(n.get(u)!==s)i[c]++;else{if(c===l-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([o,u]);o+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,s=!s}throw new Ne},t.prototype.toPattern=function(n){var r,a,i=0;try{for(var o=D_(n),s=o.next();!s.done;s=o.next()){var l=s.value;i+=l}}catch(p){r={error:p}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}for(var c=0,u=n.length,f=0;f<u;f++){var d=Math.round(n[f]*9/i);if(d<1||d>4)return-1;if((f&1)===0)for(var h=0;h<d;h++)c=c<<1|1;else c<<=d}return c},t.prototype.patternToChar=function(n){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===n)return t.ALPHABET_STRING.charAt(r);throw new Ne},t.prototype.decodeExtended=function(n){for(var r=n.length,a="",i=0;i<r;i++){var o=n.charAt(i);if(o>="a"&&o<="d"){if(i>=r-1)throw new it;var s=n.charAt(i+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new it;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new it;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new it;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new it;break}a+=l,i++}else a+=o}return a},t.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},t.prototype.checkOneChecksum=function(n,r,a){for(var i=1,o=0,s=r-1;s>=0;s--)o+=i*t.ALPHABET_STRING.indexOf(n.charAt(s)),++i>a&&(i=1);if(n.charAt(r)!==t.ALPHABET_STRING[o%47])throw new ai},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(Ua),uue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FP=function(e){uue(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,r,a){var i,o,s=this.decodeStart(r),l=this.decodeEnd(r),c=new un;t.decodeMiddle(r,s[1],l[0],c);var u=c.toString(),f=null;a!=null&&(f=a.get(zr.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var d=u.length,h=!1,p=0;try{for(var v=fue(f),g=v.next();!g.done;g=v.next()){var m=g.value;if(d===m){h=!0;break}m>p&&(p=m)}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}if(!h&&d>p&&(h=!0),!h)throw new it;var y=[new At(s[1],n),new At(l[0],n)],x=new Qi(u,null,0,y,Pt.ITF,new Date().getTime());return x},t.decodeMiddle=function(n,r,a,i){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);r<a;){Ua.recordPattern(n,r,o);for(var c=0;c<5;c++){var u=2*c;s[c]=o[u],l[c]=o[u+1]}var f=t.decodeDigit(s);i.append(f.toString()),f=this.decodeDigit(l),i.append(f.toString()),o.forEach(function(d){r+=d})}},t.prototype.decodeStart=function(n){var r=t.skipWhiteSpace(n),a=t.findGuardPattern(n,r,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(n,a[0]),a},t.prototype.validateQuietZone=function(n,r){var a=this.narrowLineWidth*10;a=a<r?a:r;for(var i=r-1;a>0&&i>=0&&!n.get(i);i--)a--;if(a!==0)throw new Ne},t.skipWhiteSpace=function(n){var r=n.getSize(),a=n.getNextSet(0);if(a===r)throw new Ne;return a},t.prototype.decodeEnd=function(n){n.reverse();try{var r=t.skipWhiteSpace(n),a=void 0;try{a=t.findGuardPattern(n,r,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ne&&(a=t.findGuardPattern(n,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,a[0]);var i=a[0];return a[0]=n.getSize()-a[1],a[1]=n.getSize()-i,a}finally{n.reverse()}},t.findGuardPattern=function(n,r,a){var i=a.length,o=new Int32Array(i),s=n.getSize(),l=!1,c=0,u=r;o.fill(0);for(var f=r;f<s;f++)if(n.get(f)!==l)o[c]++;else{if(c===i-1){if(Ua.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,f];u+=o[0]+o[1],xr.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new Ne},t.decodeDigit=function(n){for(var r=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,o=0;o<i;o++){var s=t.PATTERNS[o],l=Ua.patternMatchVariance(n,s,t.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,a=o):l===r&&(a=-1)}if(a>=0)return a%10;throw new Ne},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Ua),due=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ch=function(e){due(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var r=!1,a,i=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),a=t.findGuardPattern(n,i,!1,this.START_END_PATTERN,o);var s=a[0];i=a[1];var l=s-(i-s);l>=0&&(r=n.isRange(l,s,!1))}return a},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var a=parseInt(n.charAt(r-1),10);return t.getStandardUPCEANChecksum(n.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(n){for(var r=n.length,a=0,i=r-1;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new it;a+=o}a*=3;for(var i=r-2;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new it;a+=o}return(1e3-a)%10},t.decodeEnd=function(n,r){return t.findGuardPattern(n,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,r,a,i){return this.findGuardPattern(n,r,a,i,new Int32Array(i.length))},t.findGuardPattern=function(n,r,a,i,o){var s=n.getSize();r=a?n.getNextUnset(r):n.getNextSet(r);for(var l=0,c=r,u=i.length,f=a,d=r;d<s;d++)if(n.get(d)!==f)o[l]++;else{if(l===u-1){if(Ua.patternMatchVariance(o,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=o[0]+o[1];for(var h=o.slice(2,o.length),p=0;p<l-1;p++)o[p]=h[p];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new Ne},t.decodeDigit=function(n,r,a,i){this.recordPattern(n,a,r);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=i.length,c=0;c<l;c++){var u=i[c],f=Ua.patternMatchVariance(r,u,t.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new Ne},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Ua),hue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pue=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,a),o=a.toString(),s=e.parseExtensionString(o),l=[new At((r[0]+r[1])/2,t),new At(i,t)],c=new Qi(o,null,0,l,Pt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(t,n,r){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<5&&l<s;u++){var f=Ch.decodeDigit(t,o,l,Ch.L_AND_G_PATTERNS);r+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,hue(o)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(g){a={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(c|=1<<4-u),u!==4&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==5)throw new Ne;var v=this.determineCheckDigit(c);if(e.extensionChecksum(r.toString())!==v)throw new Ne;return l},e.extensionChecksum=function(t){for(var n=t.length,r=0,a=n-2;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-48;r*=3;for(var a=n-1;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-48;return r*=3,r%10},e.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Ne},e.parseExtensionString=function(t){if(t.length!==5)return null;var n=e.parseExtension5String(t);return n==null?null:new Map([[Ei.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(t.substring(1)),a=(r/100).toString(),i=r%100,o=i<10?"0"+i:i.toString();return n+a+"."+o},e}(),vue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gue=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,a),o=a.toString(),s=e.parseExtensionString(o),l=[new At((r[0]+r[1])/2,t),new At(i,t)],c=new Qi(o,null,0,l,Pt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(t,n,r){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<2&&l<s;u++){var f=Ch.decodeDigit(t,o,l,Ch.L_AND_G_PATTERNS);r+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,vue(o)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(c|=1<<1-u),u!==1&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==2)throw new Ne;if(parseInt(r.toString())%4!==c)throw new Ne;return l},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[Ei.ISSUE_NUMBER,parseInt(t)]])},e}(),mue=function(){function e(){}return e.decodeRow=function(t,n,r){var a=Ch.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new pue;return i.decodeRow(t,n,a)}catch{var o=new gue;return o.decodeRow(t,n,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),yue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$a=function(e){yue(t,e);function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var a=t.L_PATTERNS[r-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];t.L_AND_G_PATTERNS[r]=i}return n}return t.prototype.decodeRow=function(n,r,a){var i=t.findStartGuardPattern(r),o=a==null?null:a.get(zr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new At((i[0]+i[1])/2,n);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(r,i,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(o!=null){var f=new At(c,n);o.foundPossibleResultPoint(f)}var d=t.decodeEnd(r,c);if(o!=null){var h=new At((d[0]+d[1])/2,n);o.foundPossibleResultPoint(h)}var p=d[1],v=p+(p-d[0]);if(v>=r.getSize()||!r.isRange(p,v,!1))throw new Ne;var g=u.toString();if(g.length<8)throw new it;if(!t.checkChecksum(g))throw new ai;var m=(i[1]+i[0])/2,y=(d[1]+d[0])/2,x=this.getBarcodeFormat(),b=[new At(m,n),new At(y,n)],E=new Qi(g,null,0,b,x,new Date().getTime()),_=0;try{var w=mue.decodeRow(n,r,d[1]);E.putMetadata(Ei.UPC_EAN_EXTENSION,w.getText()),E.putAllMetadata(w.getResultMetadata()),E.addResultPoints(w.getResultPoints()),_=w.getText().length}catch{}var A=a==null?null:a.get(zr.ALLOWED_EAN_EXTENSIONS);if(A!=null){var S=!1;for(var k in A)if(_.toString()===k){S=!0;break}if(!S)throw new Ne}return x===Pt.EAN_13||Pt.UPC_A,E},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var a=parseInt(n.charAt(r-1),10);return t.getStandardUPCEANChecksum(n.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(n){for(var r=n.length,a=0,i=r-1;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new it;a+=o}a*=3;for(var i=r-2;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new it;a+=o}return(1e3-a)%10},t.decodeEnd=function(n,r){return t.findGuardPattern(n,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(Ch),xue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yA=function(e){xue(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=n.getSize(),f=r[1],d=0,h=0;h<6&&f<u;h++){var p=$a.decodeDigit(n,c,f,$a.L_AND_G_PATTERNS);a+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,BP(c)),g=v.next();!g.done;g=v.next()){var m=g.value;f+=m}}catch(E){i={error:E}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}p>=10&&(d|=1<<5-h)}a=t.determineFirstDigit(a,d);var y=$a.findGuardPattern(n,f,!0,$a.MIDDLE_PATTERN,new Int32Array($a.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<6&&f<u;h++){var p=$a.decodeDigit(n,c,f,$a.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var x=(s=void 0,BP(c)),b=x.next();!b.done;b=x.next()){var m=b.value;f+=m}}catch(w){s={error:w}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Pt.EAN_13},t.determineFirstDigit=function(n,r){for(var a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return n=String.fromCharCode(48+a)+n,n;throw new Ne},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}($a),bue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$P=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jP=function(e){bue(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=n.getSize(),f=r[1],d=0;d<4&&f<u;d++){var h=$a.decodeDigit(n,c,f,$a.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var p=(i=void 0,$P(c)),v=p.next();!v.done;v=p.next()){var g=v.value;f+=g}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}var m=$a.findGuardPattern(n,f,!0,$a.MIDDLE_PATTERN,new Int32Array($a.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var d=0;d<4&&f<u;d++){var h=$a.decodeDigit(n,c,f,$a.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var y=(s=void 0,$P(c)),x=y.next();!x.done;x=y.next()){var g=x.value;f+=g}}catch(_){s={error:_}}finally{try{x&&!x.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Pt.EAN_8},t}($a),wue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zP=function(e){wue(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ean13Reader=new yA,n}return t.prototype.getBarcodeFormat=function(){return Pt.UPC_A},t.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,a))},t.prototype.decodeMiddle=function(n,r,a){return this.ean13Reader.decodeMiddle(n,r,a)},t.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var a=new Qi(r.substring(1),null,null,n.getResultPoints(),Pt.UPC_A);return n.getResultMetadata()!=null&&a.putAllMetadata(n.getResultMetadata()),a}else throw new Ne},t.prototype.reset=function(){this.ean13Reader.reset()},t}($a),_ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},UP=function(e){_ue(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s=this.decodeMiddleCounters.map(function(g){return g});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=n.getSize(),c=r[1],u=0,f=0;f<6&&c<l;f++){var d=t.decodeDigit(n,s,c,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var h=(i=void 0,Eue(s)),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}d>=10&&(u|=1<<5-f)}return t.determineNumSysAndCheckDigit(new un(a),u),c},t.prototype.decodeEnd=function(n,r){return t.findGuardPatternWithoutCounters(n,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return $a.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,r){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){n.insert(0,"0"+a),n.append("0"+i);return}throw Ne.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Pt.UPC_E},t.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new un;a.append(n.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(i),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(i);break}return n.length>=8&&a.append(n.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}($a),Sue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L_=function(e){Sue(t,e);function t(n){var r=e.call(this)||this,a=n==null?null:n.get(zr.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Pt.EAN_13)>-1&&i.push(new yA),a.indexOf(Pt.UPC_A)>-1&&i.push(new zP),a.indexOf(Pt.EAN_8)>-1&&i.push(new jP),a.indexOf(Pt.UPC_E)>-1&&i.push(new UP)),i.length===0&&(i.push(new yA),i.push(new zP),i.push(new jP),i.push(new UP)),r.readers=i,r}return t.prototype.decodeRow=function(n,r,a){var i,o;try{for(var s=HP(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var u=c.decodeRow(n,r,a),f=u.getBarcodeFormat()===Pt.EAN_13&&u.getText().charAt(0)==="0",d=a==null?null:a.get(zr.POSSIBLE_FORMATS),h=d==null||d.includes(Pt.UPC_A);if(f&&h){var p=u.getRawBytes(),v=new Qi(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),Pt.UPC_A);return v.putAllMetadata(u.getResultMetadata()),v}return u}catch{}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}throw new Ne},t.prototype.reset=function(){var n,r;try{for(var a=HP(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t}(Ua),Aue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kue=function(e){Aue(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return t.prototype.decodeRow=function(n,r,a){var i=this.getValidRowData(r);if(!i)throw new Ne;var o=this.codaBarDecodeRow(i.row);if(!o)throw new Ne;return new Qi(o,null,0,[new At(i.left,n),new At(i.right,n)],Pt.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(n){var r=n.toArray(),a=r.indexOf(!0);if(a===-1)return null;var i=r.lastIndexOf(!0);if(i<=a)return null;r=r.slice(a,i+1);for(var o=[],s=r[0],l=1,c=1;c<r.length;c++)r[c]===s?l++:(s=r[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},t.prototype.codaBarDecodeRow=function(n){for(var r=[],a=Math.ceil(n.reduce(function(l,c){return(l+c)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),o=i.map(function(l){return l<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var s=r.join("");return this.validCodaBarString(s)?s:null},t.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},t}(Ua),Tue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zf=function(e){Tue(t,e);function t(){var n=e.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,r){for(var a=0;a<r.length;a++)if(Ua.patternMatchVariance(n,r[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Ne},t.count=function(n){return Mn.sum(new Int32Array(n))},t.increment=function(n,r){for(var a=0,i=r[0],o=1;o<n.length;o++)r[o]>i&&(i=r[o],a=o);n[a]++},t.decrement=function(n,r){for(var a=0,i=r[0],o=1;o<n.length;o++)r[o]<i&&(i=r[o],a=o);n[a]--},t.isFinderPattern=function(n){var r,a,i=n[0]+n[1],o=i+n[2]+n[3],s=i/o;if(s>=t.MIN_FINDER_PATTERN_RATIO&&s<=t.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=Oue(n),f=u.next();!f.done;f=u.next()){var d=f.value;d>c&&(c=d),d<l&&(l=d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return c<10*l}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Ua),$x=function(){function e(t,n){this.value=t,this.checksumPortion=n}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),y9=function(){function e(t,n,r,a,i){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new At(r,i)),this.resultPoints.push(new At(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e}(),Cue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},z0=function(){function e(){}return e.getRSSvalue=function(t,n,r){var a,i,o=0;try{for(var s=Cue(t),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(y){a={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}for(var u=0,f=0,d=t.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<t[h];p++,f&=~(1<<h)){var v=e.combins(o-p-1,d-h-2);if(r&&f===0&&o-p-(d-h-1)>=d-h-1&&(v-=e.combins(o-p-(d-h),d-h-2)),d-h-1>1){for(var g=0,m=o-p-(d-h-2);m>n;m--)g+=e.combins(o-p-m-1,d-h-3);v-=g*(d-1-h)}else o-p>n&&v--;u+=v}o-=p}return u},e.combins=function(t,n){var r,a;t-n>n?(a=n,r=t-n):(a=t-n,r=n);for(var i=1,o=1,s=t;s>r;s--)i*=s,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},e}(),Mue=function(){function e(){}return e.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,a=new si(r),i=0,o=t[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)(s&1<<l)!==0&&a.set(i),i++;for(var l=1;l<t.length;++l){for(var c=t[l],u=c.getLeftChar().getValue(),f=11;f>=0;--f)(u&1<<f)!==0&&a.set(i),i++;if(c.getRightChar()!==null)for(var d=c.getRightChar().getValue(),f=11;f>=0;--f)(d&1<<f)!==0&&a.set(i),i++}return a},e}(),Df=function(){function e(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),vO=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),Pue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=function(e){Pue(t,e);function t(n,r){var a=e.call(this,n)||this;return a.value=r,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(vO),Iue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lf=function(e){Iue(t,e);function t(n,r,a){var i=e.call(this,n)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(vO),Rue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),b0=function(e){Rue(t,e);function t(n,r,a){var i=e.call(this,n)||this;if(r<0||r>10||a<0||a>10)throw new it;return i.firstDigit=r,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(vO),mm=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nue=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,r,a,i,o,s,l,c;if(!t)return null;if(t.length<2)throw new Ne;var u=t.substring(0,2);try{for(var f=mm(e.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===u)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,h[2],t):e.processFixedAI(2,h[1],t)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(t.length<3)throw new Ne;var p=t.substring(0,3);try{for(var v=mm(e.THREE_DIGIT_DATA_LENGTH),g=v.next();!g.done;g=v.next()){var h=g.value;if(h[0]===p)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,h[2],t):e.processFixedAI(3,h[1],t)}}catch(_){a={error:_}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}try{for(var m=mm(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){var h=y.value;if(h[0]===p)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(_){o={error:_}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(t.length<4)throw new Ne;var x=t.substring(0,4);try{for(var b=mm(e.FOUR_DIGIT_DATA_LENGTH),E=b.next();!E.done;E=b.next()){var h=E.value;if(h[0]===x)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(_){l={error:_}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new Ne},e.processFixedAI=function(t,n,r){if(r.length<t)throw new Ne;var a=r.substring(0,t);if(r.length<t+n)throw new Ne;var i=r.substring(t,t+n),o=r.substring(t+n),s="("+a+")"+i,l=e.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},e.processVariableAI=function(t,n,r){var a=r.substring(0,t),i;r.length<t+n?i=r.length:i=t+n;var o=r.substring(t,i),s=r.substring(i),l="("+a+")"+o,c=e.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),lx=function(){function e(t){this.buffer=new un,this.information=t}return e.prototype.decodeAllCodes=function(t,n){var r=n,a=null;do{var i=this.decodeGeneralPurposeField(r,a),o=Nue.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&t.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new b0(this.information.getSize(),b0.FNC1,b0.FNC1):new b0(this.information.getSize(),n-1,b0.FNC1)}var r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,i=(r-8)%11;return new b0(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(t,n,r){for(var a=0,i=0;i<r;++i)t.get(n+i)&&(a|=1<<r-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Lf(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Lf(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var a=r!==this.current.getPosition();if(!a&&!t)break}while(!t);return n.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new Lf(this.current.getPosition(),this.buffer.toString()):n=new Lf(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Df(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new Lf(this.current.getPosition(),this.buffer.toString());return new Df(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Df(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new Lf(this.current.getPosition(),this.buffer.toString());return new Df(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Df(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new Lf(this.current.getPosition(),this.buffer.toString());return new Df(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Df(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new Zs(t+5,Zs.FNC1);if(n>=5&&n<15)return new Zs(t+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Zs(t+7,""+(r+1));if(r>=90&&r<116)return new Zs(t+7,""+(r+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new it}return new Zs(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},e.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new Zs(t+5,Zs.FNC1);if(n>=5&&n<15)return new Zs(t+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Zs(t+6,""+(r+33));var a;switch(r){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Ag("Decoding invalid alphanumeric value: "+r)}return new Zs(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},e}(),x9=function(){function e(t){this.information=t,this.generalDecoder=new lx(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),Due=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fl=function(e){Due(t,e);function t(n){return e.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var a=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,a)},t.prototype.encodeCompressedGtinWithoutAI=function(n,r,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}t.appendCheckDigit(n,a)},t.appendCheckDigit=function(n,r){for(var a=0,i=0;i<13;i++){var o=n.charAt(i+r).charCodeAt(0)-48;a+=(i&1)===0?3*o:o}a=10-a%10,a===10&&(a=0),n.append(a)},t.GTIN_SIZE=40,t}(x9),Lue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fue=function(e){Lue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new un;n.append("(01)");var r=n.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(a),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(fl),Bue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$ue=function(e){Bue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new un;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(x9),jue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cx=function(e){jue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,r,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(n,i);for(var o=this.checkWeight(i),s=1e5,l=0;l<5;++l)o/s===0&&n.append("0"),s/=10;n.append(o)},t}(fl),zue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),b9=function(e){zue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+cx.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ne;var n=new un;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+cx.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(cx),Uue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hue=function(e){Uue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.addWeightCode=function(n,r){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t}(b9),Gue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wue=function(e){Gue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t}(b9),Vue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yue=function(e){Vue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fl.GTIN_SIZE)throw new Ne;var n=new un;this.encodeCompressedGtin(n,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fl.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fl.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(a.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(fl),Xue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),que=function(e){Xue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fl.GTIN_SIZE)throw new Ne;var n=new un;this.encodeCompressedGtin(n,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fl.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fl.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&n.append("0"),a/10===0&&n.append("0"),n.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fl.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(fl),Kue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(e){Kue(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.dateCode=a,i.firstAIdigits=r,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ne;var n=new un;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,r){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(a!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var s=a;s/10===0&&n.append("0"),n.append(s),o/10===0&&n.append("0"),n.append(o),i/10===0&&n.append("0"),n.append(i)}},t.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(cx);function Zue(e){try{if(e.get(1))return new Fue(e);if(!e.get(2))return new $ue(e);var t=lx.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new Hue(e);case 5:return new Wue(e)}var n=lx.extractNumericValueFromBitArray(e,1,5);switch(n){case 12:return new Yue(e);case 13:return new que(e)}var r=lx.extractNumericValueFromBitArray(e,1,7);switch(r){case 56:return new ku(e,"310","11");case 57:return new ku(e,"320","11");case 58:return new ku(e,"310","13");case 59:return new ku(e,"320","13");case 60:return new ku(e,"310","15");case 61:return new ku(e,"320","15");case 62:return new ku(e,"310","17");case 63:return new ku(e,"320","17")}}catch(a){throw console.log(a),new Ag("unknown decoder: "+e)}}var GP=function(){function e(t,n,r,a){this.leftchar=t,this.rightchar=n,this.finderpattern=r,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e?e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern):!1},e.equalsOrNull=function(t,n){return t===null?n===null:e.equals(t,n)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),Que=function(){function e(t,n,r){this.pairs=t,this.rowNumber=n,this.wasReversed=r}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},e.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var r;return t.forEach(function(a,i){n.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},e}(),Jue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},efe=function(e){Jue(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,r,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,r){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(s){if(s instanceof Ne){if(!this.pairs.length)throw new Ne;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ne},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(a){console.log(a)}return n&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(n,r){for(var a,i,o=r;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(a=void 0,Tu(n)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}if(this.pairs.push(s.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(n);f.push(s);try{return this.checkRows(f,o+1)}catch(d){console.log(d)}}}throw new Ne},t.isValidSequence=function(n){var r,a;try{for(var i=Tu(t.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(n.length>s.length)){for(var l=!0,c=0;c<n.length;c++)if(n[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(n,r){for(var a=0,i=!1,o=!1;a<this.rows.length;){var s=this.rows[a];if(s.getRowNumber()>n){o=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),a++}o||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Que(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,r){var a,i,o,s,l,c;try{for(var u=Tu(r),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.getPairs().length!==n.length){var h=!0;try{for(var p=(o=void 0,Tu(d.getPairs())),v=p.next();!v.done;v=p.next()){var g=v.value,m=!1;try{for(var y=(l=void 0,Tu(n)),x=y.next();!x.done;x=y.next()){var b=x.value;if(GP.equals(g,b)){m=!0;break}}}catch(E){l={error:E}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}m||(h=!1)}}catch(E){o={error:E}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}}catch(E){a={error:E}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},t.isPartialRow=function(n,r){var a,i,o,s,l,c;try{for(var u=Tu(r),f=u.next();!f.done;f=u.next()){var d=f.value,h=!0;try{for(var p=(o=void 0,Tu(n)),v=p.next();!v.done;v=p.next()){var g=v.value,m=!1;try{for(var y=(l=void 0,Tu(d.getPairs())),x=y.next();!x.done;x=y.next()){var b=x.value;if(g.equals(b)){m=!0;break}}}catch(E){l={error:E}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}if(!m){h=!1;break}}}catch(E){o={error:E}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}if(h)return!0}}catch(E){a={error:E}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var r=Mue.buildBitArray(n),a=Zue(r),i=a.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),s=n[n.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Qi(i,null,null,l,Pt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),a=n.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);i+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(i+=c.getChecksumPortion(),o++)}i%=211;var u=211*(o-4)+i;return u===r.getValue()},t.getNextSecondBar=function(n,r){var a;return n.get(r)?(a=n.getNextUnset(r),a=n.getNextSet(a)):(a=n.getNextSet(r),a=n.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(n,r,a){var i=r.length%2===0;this.startFromEven&&(i=!i);var o,s=!0,l=-1;do this.findNextPair(n,r,l),o=this.parseFoundFinderPattern(n,a,i),o===null?l=t.getNextSecondBar(n,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(n,o,i,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Ne;var u;try{u=this.decodeDataCharacter(n,o,i,!1)}catch(f){u=null,console.log(f)}return new GP(c,u,o,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,r,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=n.getSize(),s;if(a>=0)s=a;else if(this.isEmptyPair(r))s=0;else{var l=r[r.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=r.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;s<o&&(u=!n.get(s),!!u);)s++;for(var f=0,d=s,h=s;h<o;h++)if(n.get(h)!==u)i[f]++;else{if(f===3){if(c&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=d,this.startEnd[1]=h;return}c&&t.reverseCounters(i),d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new Ne},t.reverseCounters=function(n){for(var r=n.length,a=0;a<r/2;++a){var i=n[a];n[a]=n[r-a-1],n[r-a-1]=i}},t.prototype.parseFoundFinderPattern=function(n,r,a){var i,o,s;if(a){for(var l=this.startEnd[0]-1;l>=0&&!n.get(l);)l--;l++,i=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=n.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var c=this.getDecodeFinderCounters();xr.arraycopy(c,0,c,1,c.length-1),c[0]=i;var u;try{u=this.parseFinderValue(c,t.FINDER_PATTERNS)}catch{return null}return new y9(u,[o,s],o,s,r)},t.prototype.decodeDataCharacter=function(n,r,a,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)t.recordPatternInReverse(n,r.getStartEnd()[0],o);else{t.recordPattern(n,r.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var u=o[l];o[l]=o[c],o[c]=u}}var f=17,d=Mn.sum(new Int32Array(o))/f,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Ne;for(var p=this.getOddCounts(),v=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/d,x=y+.5;if(x<1){if(y<.3)throw new Ne;x=1}else if(x>8){if(y>8.7)throw new Ne;x=8}var b=l/2;(l&1)===0?(p[b]=x,g[b]=y-x):(v[b]=x,m[b]=y-x)}this.adjustOddEvenCounts(f);for(var E=4*r.getValue()+(a?0:2)+(i?0:1)-1,_=0,w=0,l=p.length-1;l>=0;l--){if(t.isNotA1left(r,a,i)){var A=t.WEIGHTS[E][2*l];w+=p[l]*A}_+=p[l]}for(var S=0,l=v.length-1;l>=0;l--)if(t.isNotA1left(r,a,i)){var A=t.WEIGHTS[E][2*l+1];S+=v[l]*A}var k=w+S;if((_&1)!==0||_>13||_<4)throw new Ne;var T=(13-_)/2,O=t.SYMBOL_WIDEST[T],C=9-O,M=z0.getRSSvalue(p,O,!0),R=z0.getRSSvalue(v,C,!1),I=t.EVEN_TOTAL_SUBSET[T],P=t.GSUM[T],B=M*I+R+P;return new $x(B,k)},t.isNotA1left=function(n,r,a){return!(n.getValue()===0&&r&&a)},t.prototype.adjustOddEvenCounts=function(n){var r=Mn.sum(new Int32Array(this.getOddCounts())),a=Mn.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;r>13?o=!0:r<4&&(i=!0);var s=!1,l=!1;a>13?l=!0:a<4&&(s=!0);var c=r+a-n,u=(r&1)===1,f=(a&1)===0;if(c===1)if(u){if(f)throw new Ne;o=!0}else{if(!f)throw new Ne;l=!0}else if(c===-1)if(u){if(f)throw new Ne;i=!0}else{if(!f)throw new Ne;s=!0}else if(c===0){if(u){if(!f)throw new Ne;r<a?(i=!0,l=!0):(o=!0,s=!0)}else if(f)throw new Ne}else throw new Ne;if(i){if(o)throw new Ne;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new Ne;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Zf),tfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nfe=function(e){tfe(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}($x),rfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),F_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WP=function(e){rfe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.decodePair(r,!1,n,a);t.addOrTally(this.possibleLeftPairs,c),r.reverse();var u=this.decodePair(r,!0,n,a);t.addOrTally(this.possibleRightPairs,u),r.reverse();try{for(var f=F_(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(s=void 0,F_(this.possibleRightPairs)),v=p.next();!v.done;v=p.next()){var g=v.value;if(g.getCount()>1&&t.checkChecksum(h,g))return t.constructResult(h,g)}}catch(m){s={error:m}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}throw new Ne},t.addOrTally=function(n,r){var a,i;if(r!=null){var o=!1;try{for(var s=F_(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===r.getValue()){c.incrementCount(),o=!0;break}}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}o||n.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,r){for(var a=4537077*n.getValue()+r.getValue(),i=new String(a).toString(),o=new un,s=13-i.length;s>0;s--)o.append("0");o.append(i);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=(s&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var u=n.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new Qi(o.toString(),null,0,[u[0],u[1],f[0],f[1]],Pt.RSS_14,new Date().getTime())},t.checkChecksum=function(n,r){var a=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(n,r,a,i){try{var o=this.findFinderPattern(n,r),s=this.parseFoundFinderPattern(n,a,r,o),l=i==null?null:i.get(zr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;r&&(c=n.getSize()-1-c),l.foundPossibleResultPoint(new At(c,a))}var u=this.decodeDataCharacter(n,s,!0),f=this.decodeDataCharacter(n,s,!1);return new nfe(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},t.prototype.decodeDataCharacter=function(n,r,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)Ua.recordPatternInReverse(n,r.getStartEnd()[0],i);else{Ua.recordPattern(n,r.getStartEnd()[1]+1,i);for(var s=0,l=i.length-1;s<l;s++,l--){var c=i[s];i[s]=i[l],i[l]=c}}for(var u=a?16:15,f=Mn.sum(new Int32Array(i))/u,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var g=i[s]/f,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(s/2);(s&1)===0?(d[y]=m,p[y]=g-m):(h[y]=m,v[y]=g-m)}this.adjustOddEvenCounts(a,u);for(var x=0,b=0,s=d.length-1;s>=0;s--)b*=9,b+=d[s],x+=d[s];for(var E=0,_=0,s=h.length-1;s>=0;s--)E*=9,E+=h[s],_+=h[s];var w=b+3*E;if(a){if((x&1)!==0||x>12||x<4)throw new Ne;var A=(12-x)/2,S=t.OUTSIDE_ODD_WIDEST[A],k=9-S,T=z0.getRSSvalue(d,S,!1),O=z0.getRSSvalue(h,k,!0),C=t.OUTSIDE_EVEN_TOTAL_SUBSET[A],M=t.OUTSIDE_GSUM[A];return new $x(T*C+O+M,w)}else{if((_&1)!==0||_>10||_<4)throw new Ne;var A=(10-_)/2,S=t.INSIDE_ODD_WIDEST[A],k=9-S,T=z0.getRSSvalue(d,S,!0),O=z0.getRSSvalue(h,k,!1),R=t.INSIDE_ODD_TOTAL_SUBSET[A],M=t.INSIDE_GSUM[A];return new $x(O*R+T+M,w)}},t.prototype.findFinderPattern=function(n,r){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=n.getSize(),o=!1,s=0;s<i&&(o=!n.get(s),r!==o);)s++;for(var l=0,c=s,u=s;u<i;u++)if(n.get(u)!==o)a[l]++;else{if(l===3){if(Zf.isFinderPattern(a))return[c,u];c+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,o=!o}throw new Ne},t.prototype.parseFoundFinderPattern=function(n,r,a,i){for(var o=n.get(i[0]),s=i[0]-1;s>=0&&o!==n.get(s);)s--;s++;var l=i[0]-s,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);xr.arraycopy(c,0,u,1,c.length-1),u[0]=l;var f=this.parseFinderValue(u,t.FINDER_PATTERNS),d=s,h=i[1];return a&&(d=n.getSize()-1-d,h=n.getSize()-1-h),new y9(f,[s,i[1]],d,h,r)},t.prototype.adjustOddEvenCounts=function(n,r){var a=Mn.sum(new Int32Array(this.getOddCounts())),i=Mn.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;n?(a>12?s=!0:a<4&&(o=!0),i>12?c=!0:i<4&&(l=!0)):(a>11?s=!0:a<5&&(o=!0),i>10?c=!0:i<4&&(l=!0));var u=a+i-r,f=(a&1)===(n?1:0),d=(i&1)===1;if(u===1)if(f){if(d)throw new Ne;s=!0}else{if(!d)throw new Ne;c=!0}else if(u===-1)if(f){if(d)throw new Ne;o=!0}else{if(!d)throw new Ne;l=!0}else if(u===0){if(f){if(!d)throw new Ne;a<i?(o=!0,c=!0):(s=!0,l=!0)}else if(d)throw new Ne}else throw new Ne;if(o){if(s)throw new Ne;Zf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Zf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ne;Zf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Zf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Zf),afe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(e){afe(t,e);function t(n){var r=e.call(this)||this;r.readers=[];var a=n?n.get(zr.POSSIBLE_FORMATS):null,i=n&&n.get(zr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(zr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Pt.EAN_13)||a.includes(Pt.UPC_A)||a.includes(Pt.EAN_8)||a.includes(Pt.UPC_E))&&r.readers.push(new L_(n)),a.includes(Pt.CODE_39)&&r.readers.push(new DP(i,o)),a.includes(Pt.CODE_93)&&r.readers.push(new LP),a.includes(Pt.CODE_128)&&r.readers.push(new NP),a.includes(Pt.ITF)&&r.readers.push(new FP),a.includes(Pt.CODABAR)&&r.readers.push(new kue),a.includes(Pt.RSS_14)&&r.readers.push(new WP),a.includes(Pt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new efe))),r.readers.length===0&&(r.readers.push(new L_(n)),r.readers.push(new DP),r.readers.push(new LP),r.readers.push(new L_(n)),r.readers.push(new NP),r.readers.push(new FP),r.readers.push(new WP)),r}return t.prototype.decodeRow=function(n,r,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,r,a)}catch{}throw new Ne},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t}(Ua),ife=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){ife(t,e);function t(n,r){return n===void 0&&(n=500),e.call(this,new cv(r),n,r)||this}return t})(pp);var VP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$n=function(){function e(t,n,r){this.ecCodewords=t,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),Dn=function(){function e(t,n){this.count=t,this.dataCodewords=n}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),ofe=function(){function e(t,n,r,a,i,o){var s,l;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var c=0,u=o.getECCodewords(),f=o.getECBlocks();try{for(var d=VP(f),h=d.next();!h.done;h=d.next()){var p=h.value;c+=p.getCount()*(p.getDataCodewords()+u)}}catch(v){s={error:v}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}this.totalCodewords=c}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var r,a;if((t&1)!==0||(n&1)!==0)throw new it;try{for(var i=VP(e.VERSIONS),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===n)return s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}throw new it},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new $n(5,new Dn(1,3))),new e(2,12,12,10,10,new $n(7,new Dn(1,5))),new e(3,14,14,12,12,new $n(10,new Dn(1,8))),new e(4,16,16,14,14,new $n(12,new Dn(1,12))),new e(5,18,18,16,16,new $n(14,new Dn(1,18))),new e(6,20,20,18,18,new $n(18,new Dn(1,22))),new e(7,22,22,20,20,new $n(20,new Dn(1,30))),new e(8,24,24,22,22,new $n(24,new Dn(1,36))),new e(9,26,26,24,24,new $n(28,new Dn(1,44))),new e(10,32,32,14,14,new $n(36,new Dn(1,62))),new e(11,36,36,16,16,new $n(42,new Dn(1,86))),new e(12,40,40,18,18,new $n(48,new Dn(1,114))),new e(13,44,44,20,20,new $n(56,new Dn(1,144))),new e(14,48,48,22,22,new $n(68,new Dn(1,174))),new e(15,52,52,24,24,new $n(42,new Dn(2,102))),new e(16,64,64,14,14,new $n(56,new Dn(2,140))),new e(17,72,72,16,16,new $n(36,new Dn(4,92))),new e(18,80,80,18,18,new $n(48,new Dn(4,114))),new e(19,88,88,20,20,new $n(56,new Dn(4,144))),new e(20,96,96,22,22,new $n(68,new Dn(4,174))),new e(21,104,104,24,24,new $n(56,new Dn(6,136))),new e(22,120,120,18,18,new $n(68,new Dn(6,175))),new e(23,132,132,20,20,new $n(62,new Dn(8,163))),new e(24,144,144,22,22,new $n(62,new Dn(8,156),new Dn(2,155))),new e(25,8,18,6,16,new $n(7,new Dn(1,5))),new e(26,8,32,6,14,new $n(11,new Dn(1,10))),new e(27,12,26,10,24,new $n(14,new Dn(1,16))),new e(28,12,36,10,16,new $n(18,new Dn(1,22))),new e(29,16,36,14,16,new $n(24,new Dn(1,32))),new e(30,16,48,14,22,new $n(28,new Dn(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),sfe=function(){function e(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new it;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new _c(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var n=t.getHeight(),r=t.getWidth();return ofe.getVersionForDimensions(n,r)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,u=!1;do if(r===i&&a===0&&!s)t[n++]=this.readCorner1(i,o)&255,r-=2,a+=2,s=!0;else if(r===i-2&&a===0&&(o&3)!==0&&!l)t[n++]=this.readCorner2(i,o)&255,r-=2,a+=2,l=!0;else if(r===i+4&&a===2&&(o&7)===0&&!c)t[n++]=this.readCorner3(i,o)&255,r-=2,a+=2,c=!0;else if(r===i-2&&a===0&&(o&7)===4&&!u)t[n++]=this.readCorner4(i,o)&255,r-=2,a+=2,u=!0;else{do r<i&&a>=0&&!this.readMappingMatrix.get(a,r)&&(t[n++]=this.readUtah(r,a,i,o)&255),r-=2,a+=2;while(r>=0&&a<o);r+=1,a+=3;do r>=0&&a<o&&!this.readMappingMatrix.get(a,r)&&(t[n++]=this.readUtah(r,a,i,o)&255),r+=2,a-=2;while(r<i&&a>=0);r+=3,a+=1}while(r<i||a<o);if(n!==this.version.getTotalCodewords())throw new it;return t},e.prototype.readModule=function(t,n,r,a){return t<0&&(t+=r,n+=4-(r+4&7)),n<0&&(n+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},e.prototype.readUtah=function(t,n,r,a){var i=0;return this.readModule(t-2,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t-2,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n,r,a)&&(i|=1),i<<=1,this.readModule(t,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t,n,r,a)&&(i|=1),i},e.prototype.readCorner1=function(t,n){var r=0;return this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,1,t,n)&&(r|=1),r<<=1,this.readModule(t-1,2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(2,n-1,t,n)&&(r|=1),r<<=1,this.readModule(3,n-1,t,n)&&(r|=1),r},e.prototype.readCorner2=function(t,n){var r=0;return this.readModule(t-3,0,t,n)&&(r|=1),r<<=1,this.readModule(t-2,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(0,n-4,t,n)&&(r|=1),r<<=1,this.readModule(0,n-3,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r},e.prototype.readCorner3=function(t,n){var r=0;return this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(0,n-3,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-3,t,n)&&(r|=1),r<<=1,this.readModule(1,n-2,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r},e.prototype.readCorner4=function(t,n){var r=0;return this.readModule(t-3,0,t,n)&&(r|=1),r<<=1,this.readModule(t-2,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(2,n-1,t,n)&&(r|=1),r<<=1,this.readModule(3,n-1,t,n)&&(r|=1),r},e.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new Nt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=n/a|0,s=r/i|0,l=o*a,c=s*i,u=new _c(c,l),f=0;f<o;++f)for(var d=f*a,h=0;h<s;++h)for(var p=h*i,v=0;v<a;++v)for(var g=f*(a+2)+1+v,m=d+v,y=0;y<i;++y){var x=h*(i+2)+1+y;if(t.get(x,g)){var b=p+y;u.set(b,m)}}return u},e}(),YP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lfe=function(){function e(t,n){this.numDataCodewords=t,this.codewords=n}return e.getDataBlocks=function(t,n){var r,a,i,o,s=n.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=YP(c),f=u.next();!f.done;f=u.next()){var d=f.value;l+=d.getCount()}}catch(M){r={error:M}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}var h=new Array(l),p=0;try{for(var v=YP(c),g=v.next();!g.done;g=v.next())for(var d=g.value,m=0;m<d.getCount();m++){var y=d.getDataCodewords(),x=s.getECCodewords()+y;h[p++]=new e(y,new Uint8Array(x))}}catch(M){i={error:M}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}for(var b=h[0].codewords.length,E=b-s.getECCodewords(),_=E-1,w=0,m=0;m<_;m++)for(var A=0;A<p;A++)h[A].codewords[m]=t[w++];for(var S=n.getVersionNumber()===24,k=S?8:p,A=0;A<k;A++)h[A].codewords[E-1]=t[w++];for(var T=h[0].codewords.length,m=E;m<T;m++)for(var A=0;A<p;A++){var O=S?(A+8)%p:A,C=S&&O>7?m-1:m;h[O].codewords[C]=t[w++]}if(w!==t.length)throw new Nt;return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),w9=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Nt(""+t);var n=0,r=this.bitOffset,a=this.byteOffset,i=this.bytes;if(r>0){var o=8-r,s=t<o?t:o,l=o-s,c=255>>8-s<<l;n=(i[a]&c)>>l,t-=s,r+=s,r===8&&(r=0,a++)}if(t>0){for(;t>=8;)n=n<<8|i[a]&255,a++,t-=8;if(t>0){var l=8-t,c=255>>l<<l;n=n<<t|(i[a]&c)>>l,r+=t}}return this.bitOffset=r,this.byteOffset=a,n},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),Da;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(Da||(Da={}));var cfe=function(){function e(){}return e.decode=function(t){var n=new w9(t),r=new un,a=new un,i=new Array,o=Da.ASCII_ENCODE;do if(o===Da.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,a);else{switch(o){case Da.C40_ENCODE:this.decodeC40Segment(n,r);break;case Da.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Da.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Da.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Da.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new it}o=Da.ASCII_ENCODE}while(o!==Da.PAD_ENCODE&&n.available()>0);return a.length()>0&&r.append(a.toString()),new jb(t,r.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,n,r){var a=!1;do{var i=t.readBits(8);if(i===0)throw new it;if(i<=128)return a&&(i+=128),n.append(String.fromCharCode(i-1)),Da.ASCII_ENCODE;if(i===129)return Da.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&n.append("0"),n.append(""+o)}else switch(i){case 230:return Da.C40_ENCODE;case 231:return Da.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Da.ANSIX12_ENCODE;case 239:return Da.TEXT_ENCODE;case 240:return Da.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new it;break}}while(t.available()>0);return Da.ASCII_ENCODE},e.decodeC40Segment=function(t,n){var r=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else throw new it;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else switch(l){case 27:n.append("");break;case 30:r=!0;break;default:throw new it}i=0;break;case 3:r?(n.append(String.fromCharCode(l+224)),r=!1):n.append(String.fromCharCode(l+96)),i=0;break;default:throw new it}}}while(t.available()>0)},e.decodeTextSegment=function(t,n){var r=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else throw new it;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else switch(l){case 27:n.append("");break;case 30:r=!0;break;default:throw new it}i=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c),i=0}else throw new it;break;default:throw new it}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,n){var r=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),r);for(var i=0;i<3;i++){var o=r[i];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new it;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,n,r){var a=(t<<8)+n-1,i=Math.floor(a/1600);r[0]=i,a-=i*1600,i=Math.floor(a/40),r[1]=i,r[2]=a-i*40},e.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}(a&32)===0&&(a|=64),n.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,n,r){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),o;if(i===0?o=t.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),o<0)throw new it;for(var s=new Uint8Array(o),l=0;l<o;l++){if(t.available()<8)throw new it;s[l]=this.unrandomize255State(t.readBits(8),a++)}r.push(s);try{n.append(Fs.decode(s,wn.ISO88591))}catch(c){throw new Ag("Platform does not support required encoding: "+c.message)}},e.unrandomize255State=function(t,n){var r=149*n%255+1,a=t-r;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e}(),ufe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ffe=function(){function e(){this.rsDecoder=new zb(Do.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var n,r,a=new sfe(t),i=a.getVersion(),o=a.readCodewords(),s=lfe.getDataBlocks(o,i),l=0;try{for(var c=ufe(s),u=c.next();!u.done;u=c.next()){var f=u.value;l+=f.getNumDataCodewords()}}catch(x){n={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var d=new Uint8Array(l),h=s.length,p=0;p<h;p++){var v=s[p],g=v.getCodewords(),m=v.getNumDataCodewords();this.correctErrors(g,m);for(var y=0;y<m;y++)d[y*h+p]=g[y]}return cfe.decode(d)},e.prototype.correctErrors=function(t,n){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-n)}catch{throw new ai}for(var a=0;a<n;a++)t[a]=r[a]},e}(),dfe=function(){function e(t){this.image=t,this.rectangleDetector=new gA(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Ne;n=this.shiftToModuleCenter(n);var r=n[0],a=n[1],i=n[2],o=n[3],s=this.transitionsBetween(r,o)+1,l=this.transitionsBetween(i,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=e.sampleGrid(this.image,r,a,i,o,s,l);return new hO(c,[r,a,i,o])},e.shiftPoint=function(t,n,r){var a=(n.getX()-t.getX())/(r+1),i=(n.getY()-t.getY())/(r+1);return new At(t.getX()+a,t.getY()+i)},e.moveAway=function(t,n,r){var a=t.getX(),i=t.getY();return a<n?a-=1:a+=1,i<r?i-=1:i+=1,new At(a,i)},e.prototype.detectSolid1=function(t){var n=t[0],r=t[1],a=t[3],i=t[2],o=this.transitionsBetween(n,r),s=this.transitionsBetween(r,a),l=this.transitionsBetween(a,i),c=this.transitionsBetween(i,n),u=o,f=[i,n,r,a];return u>s&&(u=s,f[0]=n,f[1]=r,f[2]=a,f[3]=i),u>l&&(u=l,f[0]=r,f[1]=a,f[2]=i,f[3]=n),u>c&&(f[0]=a,f[1]=i,f[2]=n,f[3]=r),f},e.prototype.detectSolid2=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i),s=e.shiftPoint(r,a,(o+1)*4),l=e.shiftPoint(a,r,(o+1)*4),c=this.transitionsBetween(s,n),u=this.transitionsBetween(l,i);return c<u?(t[0]=n,t[1]=r,t[2]=a,t[3]=i):(t[0]=r,t[1]=a,t[2]=i,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),l=e.shiftPoint(n,r,(s+1)*4),c=e.shiftPoint(a,r,(o+1)*4);o=this.transitionsBetween(l,i),s=this.transitionsBetween(c,i);var u=new At(i.getX()+(a.getX()-r.getX())/(o+1),i.getY()+(a.getY()-r.getY())/(o+1)),f=new At(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var d=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),h=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return d>h?u:f},e.prototype.shiftToModuleCenter=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(a,i)+1,l=e.shiftPoint(n,r,s*4),c=e.shiftPoint(a,r,o*4);o=this.transitionsBetween(l,i)+1,s=this.transitionsBetween(c,i)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var u=(n.getX()+r.getX()+a.getX()+i.getX())/4,f=(n.getY()+r.getY()+a.getY()+i.getY())/4;n=e.moveAway(n,u,f),r=e.moveAway(r,u,f),a=e.moveAway(a,u,f),i=e.moveAway(i,u,f);var d,h;return l=e.shiftPoint(n,r,s*4),l=e.shiftPoint(l,i,o*4),d=e.shiftPoint(r,n,s*4),d=e.shiftPoint(d,a,o*4),c=e.shiftPoint(a,i,s*4),c=e.shiftPoint(c,r,o*4),h=e.shiftPoint(i,a,s*4),h=e.shiftPoint(h,n,o*4),[l,d,c,h]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,n,r,a,i,o,s){var l=pO.getInstance();return l.sampleGrid(t,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY(),r.getX(),r.getY())},e.prototype.transitionsBetween=function(t,n){var r=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(n.getX()),o=Math.trunc(n.getY()),s=Math.abs(o-a)>Math.abs(i-r);if(s){var l=r;r=a,a=l,l=i,i=o,o=l}for(var c=Math.abs(i-r),u=Math.abs(o-a),f=-c/2,d=a<o?1:-1,h=r<i?1:-1,p=0,v=this.image.get(s?a:r,s?r:a),g=r,m=a;g!==i;g+=h){var y=this.image.get(s?m:g,s?g:m);if(y!==v&&(p++,v=y),f+=u,f>0){if(m===o)break;m+=d,f-=c}}return p},e}(),xA=function(){function e(){this.decoder=new ffe}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r,a;if(n!=null&&n.has(zr.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(i),a=e.NO_POINTS}else{var o=new dfe(t.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),a=o.getPoints()}var s=r.getRawBytes(),l=new Qi(r.getText(),s,8*s.length,a,Pt.DATA_MATRIX,xr.currentTimeMillis()),c=r.getByteSegments();c!=null&&l.putMetadata(Ei.BYTE_SEGMENTS,c);var u=r.getECLevel();return u!=null&&l.putMetadata(Ei.ERROR_CORRECTION_LEVEL,u),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var n=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(n==null||r==null)throw new Ne;var a=this.moduleSize(n,t),i=n[1],o=r[1],s=n[0],l=r[0],c=(l-s+1)/a,u=(o-i+1)/a;if(c<=0||u<=0)throw new Ne;var f=a/2;i+=f,s+=f;for(var d=new _c(c,u),h=0;h<u;h++)for(var p=i+h*a,v=0;v<c;v++)t.get(s+v*a,p)&&d.set(v,h);return d},e.moduleSize=function(t,n){for(var r=n.getWidth(),a=t[0],i=t[1];a<r&&n.get(a,i);)a++;if(a===r)throw new Ne;var o=a-t[0];if(o===0)throw new Ne;return o},e.NO_POINTS=[],e}(),hfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){hfe(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new xA,n)||this}return t})(pp);var U0;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(U0||(U0={}));var pfe=function(){function e(t,n,r){this.value=t,this.stringValue=n,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new il(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Nt;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(U0.L,"L",1),e.M=new e(U0.M,"M",0),e.Q=new e(U0.Q,"Q",3),e.H=new e(U0.H,"H",2),e}(),vfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_9=function(){function e(t){this.errorCorrectionLevel=pfe.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,n){return dn.bitCount(t^n)},e.decodeFormatInformation=function(t,n){var r=e.doDecodeFormatInformation(t,n);return r!==null?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var r,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=vfe(e.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===t||u===n)return new e(c[1]);var f=e.numBitsDiffering(t,u);f<i&&(o=c[1],i=f),t!==n&&(f=e.numBitsDiffering(n,u),f<i&&(o=c[1],i=f))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return i<=3?new e(o):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),gfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=function(){function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,n,r=0,a=this.ecBlocks;try{for(var i=gfe(a),o=i.next();!o.done;o=i.next()){var s=o.value;r+=s.getCount()}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),oe=function(){function e(t,n){this.count=t,this.dataCodewords=n}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),mfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gd=function(){function e(t,n){for(var r,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;var s=0,l=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();try{for(var u=mfe(c),f=u.next();!f.done;f=u.next()){var d=f.value;s+=d.getCount()*(d.getDataCodewords()+l)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}this.totalCodewords=s}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new it;try{return this.getVersionForNumber((t-17)/4)}catch{throw new it}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Nt;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var o=_9.numBitsDiffering(t,i);o<n&&(r=a+7,n=o)}return n<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new _c(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,a=0;a<r;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<r;o++)a===0&&(o===0||o===r-1)||a===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new _e(7,new oe(1,19)),new _e(10,new oe(1,16)),new _e(13,new oe(1,13)),new _e(17,new oe(1,9))),new e(2,Int32Array.from([6,18]),new _e(10,new oe(1,34)),new _e(16,new oe(1,28)),new _e(22,new oe(1,22)),new _e(28,new oe(1,16))),new e(3,Int32Array.from([6,22]),new _e(15,new oe(1,55)),new _e(26,new oe(1,44)),new _e(18,new oe(2,17)),new _e(22,new oe(2,13))),new e(4,Int32Array.from([6,26]),new _e(20,new oe(1,80)),new _e(18,new oe(2,32)),new _e(26,new oe(2,24)),new _e(16,new oe(4,9))),new e(5,Int32Array.from([6,30]),new _e(26,new oe(1,108)),new _e(24,new oe(2,43)),new _e(18,new oe(2,15),new oe(2,16)),new _e(22,new oe(2,11),new oe(2,12))),new e(6,Int32Array.from([6,34]),new _e(18,new oe(2,68)),new _e(16,new oe(4,27)),new _e(24,new oe(4,19)),new _e(28,new oe(4,15))),new e(7,Int32Array.from([6,22,38]),new _e(20,new oe(2,78)),new _e(18,new oe(4,31)),new _e(18,new oe(2,14),new oe(4,15)),new _e(26,new oe(4,13),new oe(1,14))),new e(8,Int32Array.from([6,24,42]),new _e(24,new oe(2,97)),new _e(22,new oe(2,38),new oe(2,39)),new _e(22,new oe(4,18),new oe(2,19)),new _e(26,new oe(4,14),new oe(2,15))),new e(9,Int32Array.from([6,26,46]),new _e(30,new oe(2,116)),new _e(22,new oe(3,36),new oe(2,37)),new _e(20,new oe(4,16),new oe(4,17)),new _e(24,new oe(4,12),new oe(4,13))),new e(10,Int32Array.from([6,28,50]),new _e(18,new oe(2,68),new oe(2,69)),new _e(26,new oe(4,43),new oe(1,44)),new _e(24,new oe(6,19),new oe(2,20)),new _e(28,new oe(6,15),new oe(2,16))),new e(11,Int32Array.from([6,30,54]),new _e(20,new oe(4,81)),new _e(30,new oe(1,50),new oe(4,51)),new _e(28,new oe(4,22),new oe(4,23)),new _e(24,new oe(3,12),new oe(8,13))),new e(12,Int32Array.from([6,32,58]),new _e(24,new oe(2,92),new oe(2,93)),new _e(22,new oe(6,36),new oe(2,37)),new _e(26,new oe(4,20),new oe(6,21)),new _e(28,new oe(7,14),new oe(4,15))),new e(13,Int32Array.from([6,34,62]),new _e(26,new oe(4,107)),new _e(22,new oe(8,37),new oe(1,38)),new _e(24,new oe(8,20),new oe(4,21)),new _e(22,new oe(12,11),new oe(4,12))),new e(14,Int32Array.from([6,26,46,66]),new _e(30,new oe(3,115),new oe(1,116)),new _e(24,new oe(4,40),new oe(5,41)),new _e(20,new oe(11,16),new oe(5,17)),new _e(24,new oe(11,12),new oe(5,13))),new e(15,Int32Array.from([6,26,48,70]),new _e(22,new oe(5,87),new oe(1,88)),new _e(24,new oe(5,41),new oe(5,42)),new _e(30,new oe(5,24),new oe(7,25)),new _e(24,new oe(11,12),new oe(7,13))),new e(16,Int32Array.from([6,26,50,74]),new _e(24,new oe(5,98),new oe(1,99)),new _e(28,new oe(7,45),new oe(3,46)),new _e(24,new oe(15,19),new oe(2,20)),new _e(30,new oe(3,15),new oe(13,16))),new e(17,Int32Array.from([6,30,54,78]),new _e(28,new oe(1,107),new oe(5,108)),new _e(28,new oe(10,46),new oe(1,47)),new _e(28,new oe(1,22),new oe(15,23)),new _e(28,new oe(2,14),new oe(17,15))),new e(18,Int32Array.from([6,30,56,82]),new _e(30,new oe(5,120),new oe(1,121)),new _e(26,new oe(9,43),new oe(4,44)),new _e(28,new oe(17,22),new oe(1,23)),new _e(28,new oe(2,14),new oe(19,15))),new e(19,Int32Array.from([6,30,58,86]),new _e(28,new oe(3,113),new oe(4,114)),new _e(26,new oe(3,44),new oe(11,45)),new _e(26,new oe(17,21),new oe(4,22)),new _e(26,new oe(9,13),new oe(16,14))),new e(20,Int32Array.from([6,34,62,90]),new _e(28,new oe(3,107),new oe(5,108)),new _e(26,new oe(3,41),new oe(13,42)),new _e(30,new oe(15,24),new oe(5,25)),new _e(28,new oe(15,15),new oe(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new _e(28,new oe(4,116),new oe(4,117)),new _e(26,new oe(17,42)),new _e(28,new oe(17,22),new oe(6,23)),new _e(30,new oe(19,16),new oe(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new _e(28,new oe(2,111),new oe(7,112)),new _e(28,new oe(17,46)),new _e(30,new oe(7,24),new oe(16,25)),new _e(24,new oe(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new _e(30,new oe(4,121),new oe(5,122)),new _e(28,new oe(4,47),new oe(14,48)),new _e(30,new oe(11,24),new oe(14,25)),new _e(30,new oe(16,15),new oe(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new _e(30,new oe(6,117),new oe(4,118)),new _e(28,new oe(6,45),new oe(14,46)),new _e(30,new oe(11,24),new oe(16,25)),new _e(30,new oe(30,16),new oe(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new _e(26,new oe(8,106),new oe(4,107)),new _e(28,new oe(8,47),new oe(13,48)),new _e(30,new oe(7,24),new oe(22,25)),new _e(30,new oe(22,15),new oe(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new _e(28,new oe(10,114),new oe(2,115)),new _e(28,new oe(19,46),new oe(4,47)),new _e(28,new oe(28,22),new oe(6,23)),new _e(30,new oe(33,16),new oe(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new _e(30,new oe(8,122),new oe(4,123)),new _e(28,new oe(22,45),new oe(3,46)),new _e(30,new oe(8,23),new oe(26,24)),new _e(30,new oe(12,15),new oe(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new _e(30,new oe(3,117),new oe(10,118)),new _e(28,new oe(3,45),new oe(23,46)),new _e(30,new oe(4,24),new oe(31,25)),new _e(30,new oe(11,15),new oe(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new _e(30,new oe(7,116),new oe(7,117)),new _e(28,new oe(21,45),new oe(7,46)),new _e(30,new oe(1,23),new oe(37,24)),new _e(30,new oe(19,15),new oe(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new _e(30,new oe(5,115),new oe(10,116)),new _e(28,new oe(19,47),new oe(10,48)),new _e(30,new oe(15,24),new oe(25,25)),new _e(30,new oe(23,15),new oe(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new _e(30,new oe(13,115),new oe(3,116)),new _e(28,new oe(2,46),new oe(29,47)),new _e(30,new oe(42,24),new oe(1,25)),new _e(30,new oe(23,15),new oe(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new _e(30,new oe(17,115)),new _e(28,new oe(10,46),new oe(23,47)),new _e(30,new oe(10,24),new oe(35,25)),new _e(30,new oe(19,15),new oe(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new _e(30,new oe(17,115),new oe(1,116)),new _e(28,new oe(14,46),new oe(21,47)),new _e(30,new oe(29,24),new oe(19,25)),new _e(30,new oe(11,15),new oe(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new _e(30,new oe(13,115),new oe(6,116)),new _e(28,new oe(14,46),new oe(23,47)),new _e(30,new oe(44,24),new oe(7,25)),new _e(30,new oe(59,16),new oe(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new _e(30,new oe(12,121),new oe(7,122)),new _e(28,new oe(12,47),new oe(26,48)),new _e(30,new oe(39,24),new oe(14,25)),new _e(30,new oe(22,15),new oe(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new _e(30,new oe(6,121),new oe(14,122)),new _e(28,new oe(6,47),new oe(34,48)),new _e(30,new oe(46,24),new oe(10,25)),new _e(30,new oe(2,15),new oe(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new _e(30,new oe(17,122),new oe(4,123)),new _e(28,new oe(29,46),new oe(14,47)),new _e(30,new oe(49,24),new oe(10,25)),new _e(30,new oe(24,15),new oe(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new _e(30,new oe(4,122),new oe(18,123)),new _e(28,new oe(13,46),new oe(32,47)),new _e(30,new oe(48,24),new oe(14,25)),new _e(30,new oe(42,15),new oe(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new _e(30,new oe(20,117),new oe(4,118)),new _e(28,new oe(40,47),new oe(7,48)),new _e(30,new oe(43,24),new oe(22,25)),new _e(30,new oe(10,15),new oe(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new _e(30,new oe(19,118),new oe(6,119)),new _e(28,new oe(18,47),new oe(31,48)),new _e(30,new oe(34,24),new oe(34,25)),new _e(30,new oe(20,15),new oe(61,16)))],e}(),Za;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(Za||(Za={}));var XP=function(){function e(t,n){this.value=t,this.isMasked=n}return e.prototype.unmaskBitMatrix=function(t,n){for(var r=0;r<n;r++)for(var a=0;a<n;a++)this.isMasked(r,a)&&t.flip(a,r)},e.values=new Map([[Za.DATA_MASK_000,new e(Za.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[Za.DATA_MASK_001,new e(Za.DATA_MASK_001,function(t,n){return(t&1)===0})],[Za.DATA_MASK_010,new e(Za.DATA_MASK_010,function(t,n){return n%3===0})],[Za.DATA_MASK_011,new e(Za.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[Za.DATA_MASK_100,new e(Za.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[Za.DATA_MASK_101,new e(Za.DATA_MASK_101,function(t,n){return t*n%6===0})],[Za.DATA_MASK_110,new e(Za.DATA_MASK_110,function(t,n){return t*n%6<3})],[Za.DATA_MASK_111,new e(Za.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),e}(),yfe=function(){function e(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new it;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,r=a-1;r>=o;r--)i=this.copyBit(8,r,i);for(var n=a-8;n<a;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=_9.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new it},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return gd.getVersionForNumber(n);for(var r=0,a=t-11,i=5;i>=0;i--)for(var o=t-9;o>=a;o--)r=this.copyBit(o,i,r);var s=gd.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=a;i--)r=this.copyBit(o,i,r);if(s=gd.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new it},e.prototype.copyBit=function(t,n,r){var a=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return a?r<<1|1:r<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),r=XP.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,a);for(var i=n.buildFunctionPattern(),o=!0,s=new Uint8Array(n.getTotalCodewords()),l=0,c=0,u=0,f=a-1;f>0;f-=2){f===6&&f--;for(var d=0;d<a;d++)for(var h=o?a-1-d:d,p=0;p<2;p++)i.get(f-p,h)||(u++,c<<=1,this.bitMatrix.get(f-p,h)&&(c|=1),u===8&&(s[l++]=c,u=0,c=0));o=!o}if(l!==n.getTotalCodewords())throw new it;return s},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=XP.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,r=t.getWidth();n<r;n++)for(var a=n+1,i=t.getHeight();a<i;a++)t.get(n,a)!==t.get(a,n)&&(t.flip(a,n),t.flip(n,a))},e}(),qP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xfe=function(){function e(t,n){this.numDataCodewords=t,this.codewords=n}return e.getDataBlocks=function(t,n,r){var a,i,o,s;if(t.length!==n.getTotalCodewords())throw new Nt;var l=n.getECBlocksForLevel(r),c=0,u=l.getECBlocks();try{for(var f=qP(u),d=f.next();!d.done;d=f.next()){var h=d.value;c+=h.getCount()}}catch(C){a={error:C}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var p=new Array(c),v=0;try{for(var g=qP(u),m=g.next();!m.done;m=g.next())for(var h=m.value,y=0;y<h.getCount();y++){var x=h.getDataCodewords(),b=l.getECCodewordsPerBlock()+x;p[v++]=new e(x,new Uint8Array(b))}}catch(C){o={error:C}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}for(var E=p[0].codewords.length,_=p.length-1;_>=0;){var w=p[_].codewords.length;if(w===E)break;_--}_++;for(var A=E-l.getECCodewordsPerBlock(),S=0,y=0;y<A;y++)for(var k=0;k<v;k++)p[k].codewords[y]=t[S++];for(var k=_;k<v;k++)p[k].codewords[A]=t[S++];for(var T=p[0].codewords.length,y=A;y<T;y++)for(var k=0;k<v;k++){var O=k<_?y:y+1;p[k].codewords[O]=t[S++]}return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),_s;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(_s||(_s={}));var Tr=function(){function e(t,n,r,a){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(n===void 0)throw new Nt;return n},e.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(_s.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(_s.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(_s.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(_s.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(_s.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(_s.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(_s.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(_s.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(_s.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(_s.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),bfe=function(){function e(){}return e.decode=function(t,n,r,a){var i=new w9(t),o=new un,s=new Array,l=-1,c=-1;try{var u=null,f=!1,d=void 0;do{if(i.available()<4)d=Tr.TERMINATOR;else{var h=i.readBits(4);d=Tr.forBits(h)}switch(d){case Tr.TERMINATOR:break;case Tr.FNC1_FIRST_POSITION:case Tr.FNC1_SECOND_POSITION:f=!0;break;case Tr.STRUCTURED_APPEND:if(i.available()<16)throw new it;l=i.readBits(8),c=i.readBits(8);break;case Tr.ECI:var p=e.parseECIValue(i);if(u=ja.getCharacterSetECIByValue(p),u===null)throw new it;break;case Tr.HANZI:var v=i.readBits(4),g=i.readBits(d.getCharacterCountBits(n));v===e.GB2312_SUBSET&&e.decodeHanziSegment(i,o,g);break;default:var m=i.readBits(d.getCharacterCountBits(n));switch(d){case Tr.NUMERIC:e.decodeNumericSegment(i,o,m);break;case Tr.ALPHANUMERIC:e.decodeAlphanumericSegment(i,o,m,f);break;case Tr.BYTE:e.decodeByteSegment(i,o,m,u,s,a);break;case Tr.KANJI:e.decodeKanjiSegment(i,o,m);break;default:throw new it}break}}while(d!==Tr.TERMINATOR)}catch{throw new it}return new jb(t,o.toString(),s.length===0?null:s,r===null?null:r.toString(),l,c)},e.decodeHanziSegment=function(t,n,r){if(r*13>t.available())throw new it;for(var a=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,a[i]=s>>8&255,a[i+1]=s&255,i+=2,r--}try{n.append(Fs.decode(a,wn.GB2312))}catch(l){throw new it(l)}},e.decodeKanjiSegment=function(t,n,r){if(r*13>t.available())throw new it;for(var a=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,a[i]=s>>8,a[i+1]=s,i+=2,r--}try{n.append(Fs.decode(a,wn.SHIFT_JIS))}catch(l){throw new it(l)}},e.decodeByteSegment=function(t,n,r,a,i,o){if(8*r>t.available())throw new it;for(var s=new Uint8Array(r),l=0;l<r;l++)s[l]=t.readBits(8);var c;a===null?c=wn.guessEncoding(s,o):c=a.getName();try{n.append(Fs.decode(s,c))}catch(u){throw new it(u)}i.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new it;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,r,a){for(var i=n.length();r>1;){if(t.available()<11)throw new it;var o=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(o/45))),n.append(e.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(t.available()<6)throw new it;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var s=i;s<n.length();s++)n.charAt(s)==="%"&&(s<n.length()-1&&n.charAt(s+1)==="%"?n.deleteCharAt(s+1):n.setCharAt(s,""))},e.decodeNumericSegment=function(t,n,r){for(;r>=3;){if(t.available()<10)throw new it;var a=t.readBits(10);if(a>=1e3)throw new it;n.append(e.toAlphaNumericChar(Math.floor(a/100))),n.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),n.append(e.toAlphaNumericChar(a%10)),r-=3}if(r===2){if(t.available()<7)throw new it;var i=t.readBits(7);if(i>=100)throw new it;n.append(e.toAlphaNumericChar(Math.floor(i/10))),n.append(e.toAlphaNumericChar(i%10))}else if(r===1){if(t.available()<4)throw new it;var o=t.readBits(4);if(o>=10)throw new it;n.append(e.toAlphaNumericChar(o))}},e.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=t.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var a=t.readBits(16);return(n&31)<<16&4294967295|a}throw new it},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),E9=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},e}(),KP=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wfe=function(){function e(){this.rsDecoder=new zb(Do.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(_c.parseFromBooleanArray(t),n)},e.prototype.decodeBitMatrix=function(t,n){var r=new yfe(t),a=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){a=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,n);return i.setOther(new E9(!0)),i}catch(o){throw a!==null?a:o}},e.prototype.decodeBitMatrixParser=function(t,n){var r,a,i,o,s=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),c=t.readCodewords(),u=xfe.getDataBlocks(c,s,l),f=0;try{for(var d=KP(u),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}var v=new Uint8Array(f),g=0;try{for(var m=KP(u),y=m.next();!y.done;y=m.next()){var p=y.value,x=p.getCodewords(),b=p.getNumDataCodewords();this.correctErrors(x,b);for(var E=0;E<b;E++)v[g++]=x[E]}}catch(_){i={error:_}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}return bfe.decode(v,s,l,n)},e.prototype.correctErrors=function(t,n){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-n)}catch{throw new ai}for(var a=0;a<n;a++)t[a]=r[a]},e}(),_fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Efe=function(e){_fe(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(n,r,a){if(Math.abs(r-this.getY())<=n&&Math.abs(a-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,r,a){var i=(this.getX()+r)/2,o=(this.getY()+n)/2,s=(this.estimatedModuleSize+a)/2;return new t(i,o,s)},t}(At),Sfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Afe=function(){function e(t,n,r,a,i,o,s){this.image=t,this.startX=n,this.startY=r,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,n=this.height,r=this.width,a=t+r,i=this.startY+n/2,o=new Int32Array(3),s=this.image,l=0;l<n;l++){var c=i+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=t;u<a&&!s.get(u,c);)u++;for(var f=0;u<a;){if(s.get(u,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,c,u);if(d!==null)return d}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;u++}if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,c,a);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ne},e.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,r=n/2,a=0;a<3;a++)if(Math.abs(n-t[a])>=r)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,r,a){var i=this.image,o=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=t;l>=0&&i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(n,l)&&s[1]<=r;)s[1]++,l++;if(l===o||s[1]>r)return NaN;for(;l<o&&!i.get(n,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-a)>=2*a?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r){var a,i,o=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),l=this.crossCheckVertical(n,s,2*t[1],o);if(!isNaN(l)){var c=(t[0]+t[1]+t[2])/3;try{for(var u=Sfe(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.aboutEquals(c,l,s))return d.combineEstimate(l,s,c)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}var h=new Efe(s,l,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},e}(),kfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tfe=function(e){kfe(t,e);function t(n,r,a,i){var o=e.call(this,n,r)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,r,a){if(Math.abs(r-this.getY())<=n&&Math.abs(a-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,r,a){var i=this.count+1,o=(this.count*this.getX()+r)/i,s=(this.count*this.getY()+n)/i,l=(this.count*this.estimatedModuleSize+a)/i;return new t(o,s,l,i)},t}(At),Ofe=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),jp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cfe=function(){function e(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=t!=null&&t.get(zr.TRY_HARDER)!==void 0,r=t!=null&&t.get(zr.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),s=Math.floor(3*i/(4*e.MAX_MODULES));(s<e.MIN_SKIP||n)&&(s=e.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<i&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,d=0;d<o;d++)if(a.get(d,u))(f&1)===1&&f++,c[f]++;else if((f&1)===0)if(f===4)if(e.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,d,r);if(h===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>c[2]&&(u+=p-c[2]-s,d=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;else c[f]++;if(e.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,o,r);h===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return At.orderBestPatterns(v),new Ofe(v)},e.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var n=0,r=0;r<5;r++){var a=t[r];if(a===0)return!1;n+=a}if(n<7)return!1;var i=n/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,n,r,a){for(var i=this.getCrossCheckStateCount(),o=0,s=this.image;t>=o&&n>=o&&s.get(n-o,t-o);)i[2]++,o++;if(t<o||n<o)return!1;for(;t>=o&&n>=o&&!s.get(n-o,t-o)&&i[1]<=r;)i[1]++,o++;if(t<o||n<o||i[1]>r)return!1;for(;t>=o&&n>=o&&s.get(n-o,t-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;t+o<l&&n+o<c&&s.get(n+o,t+o);)i[2]++,o++;if(t+o>=l||n+o>=c)return!1;for(;t+o<l&&n+o<c&&!s.get(n+o,t+o)&&i[3]<r;)i[3]++,o++;if(t+o>=l||n+o>=c||i[3]>=r)return!1;for(;t+o<l&&n+o<c&&s.get(n+o,t+o)&&i[4]<r;)i[4]++,o++;if(i[4]>=r)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,n,r,a){for(var i=this.image,o=i.getHeight(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(n,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(n,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(n,l)&&s[3]<r;)s[3]++,l++;if(l===o||s[3]>=r)return NaN;for(;l<o&&i.get(n,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-a)>=2*a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.crossCheckHorizontal=function(t,n,r,a){for(var i=this.image,o=i.getWidth(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(l,n);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,n)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(l,n)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(l,n);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(l,n)&&s[3]<r;)s[3]++,l++;if(l===o||s[3]>=r)return NaN;for(;l<o&&i.get(l,n)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-a)>=a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],o=e.centerFromEnd(t,r),s=this.crossCheckVertical(n,Math.floor(o),t[2],i);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),t[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),t[2],i)))){for(var l=i/7,c=!1,u=this.possibleCenters,f=0,d=u.length;f<d;f++){var h=u[f];if(h.aboutEquals(l,s,o)){u[f]=h.combineEstimate(s,o,l),c=!0;break}}if(!c){var p=new Tfe(o,s,l);u.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n,r=this.possibleCenters.length;if(r<=1)return 0;var a=null;try{for(var i=jp(this.possibleCenters),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.getCount()>=e.CENTER_QUORUM)if(a==null)a=s;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-s.getX())-Math.abs(a.getY()-s.getY()))/2)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,r,a,i=0,o=0,s=this.possibleCenters.length;try{for(var l=jp(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=e.CENTER_QUORUM&&(i++,o+=u.getEstimatedModuleSize())}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(i<3)return!1;var f=o/s,d=0;try{for(var h=jp(this.possibleCenters),p=h.next();!p.done;p=h.next()){var u=p.value;d+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return d<=.05*o},e.prototype.selectBestPatterns=function(){var t,n,r,a,i=this.possibleCenters.length;if(i<3)throw new Ne;var o=this.possibleCenters,s;if(i>3){var l=0,c=0;try{for(var u=jp(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value,h=d.getEstimatedModuleSize();l+=h,c+=h*h}}catch(E){t={error:E}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}s=l/i;var p=Math.sqrt(c/i-s*s);o.sort(function(E,_){var w=Math.abs(_.getEstimatedModuleSize()-s),A=Math.abs(E.getEstimatedModuleSize()-s);return w<A?-1:w>A?1:0});for(var v=Math.max(.2*s,p),g=0;g<o.length&&o.length>3;g++){var m=o[g];Math.abs(m.getEstimatedModuleSize()-s)>v&&(o.splice(g,1),g--)}}if(o.length>3){var l=0;try{for(var y=jp(o),x=y.next();!x.done;x=y.next()){var b=x.value;l+=b.getEstimatedModuleSize()}}catch(_){r={error:_}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}s=l/o.length,o.sort(function(_,w){if(w.getCount()===_.getCount()){var A=Math.abs(w.getEstimatedModuleSize()-s),S=Math.abs(_.getEstimatedModuleSize()-s);return A<S?1:A>S?-1:0}else return w.getCount()-_.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),Mfe=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(zr.NEED_RESULT_POINT_CALLBACK);var n=new Cfe(this.image,this.resultPointCallback),r=n.find(t);return this.processFinderPatternInfo(r)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),r=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(n,r,a);if(i<1)throw new Ne("No pattern found in proccess finder.");var o=e.computeDimension(n,r,a,i),s=gd.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=r.getX()-n.getX()+a.getX(),f=r.getY()-n.getY()+a.getY(),d=1-3/l,h=Math.floor(n.getX()+d*(u-n.getX())),p=Math.floor(n.getY()+d*(f-n.getY())),v=4;v<=16;v<<=1)try{c=this.findAlignmentInRegion(i,h,p,v);break}catch(x){if(!(x instanceof Ne))throw x}var g=e.createTransform(n,r,a,c,o),m=e.sampleGrid(this.image,g,o),y;return c===null?y=[a,n,r]:y=[a,n,r,c],new hO(m,y)},e.createTransform=function(t,n,r,a,i){var o=i-3.5,s,l,c,u;return a!==null?(s=a.getX(),l=a.getY(),c=o-3,u=c):(s=n.getX()-t.getX()+r.getX(),l=n.getY()-t.getY()+r.getY(),c=o,u=o),m9.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,u,3.5,o,t.getX(),t.getY(),n.getX(),n.getY(),s,l,r.getX(),r.getY())},e.sampleGrid=function(t,n,r){var a=pO.getInstance();return a.sampleGridWithTransform(t,r,r,n)},e.computeDimension=function(t,n,r,a){var i=Mn.round(At.distance(t,n)/a),o=Mn.round(At.distance(t,r)/a),s=Math.floor((i+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Ne("Dimensions could be not found.")}return s},e.prototype.calculateModuleSize=function(t,n,r){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,r))/2},e.prototype.calculateModuleSizeOneWay=function(t,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?a/7:isNaN(a)?r/7:(r+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,r,a){var i=this.sizeOfBlackWhiteBlackRun(t,n,r,a),o=1,s=t-(r-t);s<0?(o=t/(t-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);var l=Math.floor(n-(a-n)*o);return o=1,l<0?(o=n/(n-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(l-n),l=this.image.getHeight()-1),s=Math.floor(t+(s-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,n,s,l),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,n,r,a){var i=Math.abs(a-n)>Math.abs(r-t);if(i){var o=t;t=n,n=o,o=r,r=a,a=o}for(var s=Math.abs(r-t),l=Math.abs(a-n),c=-s/2,u=t<r?1:-1,f=n<a?1:-1,d=0,h=r+u,p=t,v=n;p!==h;p+=u){var g=i?v:p,m=i?p:v;if(d===1===this.image.get(g,m)){if(d===2)return Mn.distance(p,v,t,n);d++}if(c+=l,c>0){if(v===a)break;v+=f,c-=s}}return d===2?Mn.distance(r+u,a,t,n):NaN},e.prototype.findAlignmentInRegion=function(t,n,r,a){var i=Math.floor(a*t),o=Math.max(0,n-i),s=Math.min(this.image.getWidth()-1,n+i);if(s-o<t*3)throw new Ne("Alignment top exceeds estimated module size.");var l=Math.max(0,r-i),c=Math.min(this.image.getHeight()-1,r+i);if(c-l<t*3)throw new Ne("Alignment bottom exceeds estimated module size.");var u=new Afe(this.image,o,l,s-o,c-l,t,this.resultPointCallback);return u.find()},e}(),bA=function(){function e(){this.decoder=new wfe}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var r,a;if(n!=null&&n.get(zr.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),a=e.NO_POINTS}else{var o=new Mfe(t.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),a=o.getPoints()}r.getOther()instanceof E9&&r.getOther().applyMirroredCorrection(a);var s=new Qi(r.getText(),r.getRawBytes(),void 0,a,Pt.QR_CODE,void 0),l=r.getByteSegments();l!==null&&s.putMetadata(Ei.BYTE_SEGMENTS,l);var c=r.getECLevel();return c!==null&&s.putMetadata(Ei.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(Ei.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Ei.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(t){var n=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(n===null||r===null)throw new Ne;var a=this.moduleSize(n,t),i=n[1],o=r[1],s=n[0],l=r[0];if(s>=l||i>=o)throw new Ne;if(o-i!==l-s&&(l=s+(o-i),l>=t.getWidth()))throw new Ne;var c=Math.round((l-s+1)/a),u=Math.round((o-i+1)/a);if(c<=0||u<=0)throw new Ne;if(u!==c)throw new Ne;var f=Math.floor(a/2);i+=f,s+=f;var d=s+Math.floor((c-1)*a)-l;if(d>0){if(d>f)throw new Ne;s-=d}var h=i+Math.floor((u-1)*a)-o;if(h>0){if(h>f)throw new Ne;i-=h}for(var p=new _c(c,u),v=0;v<u;v++)for(var g=i+Math.floor(v*a),m=0;m<c;m++)t.get(s+Math.floor(m*a),g)&&p.set(m,v);return p},e.moduleSize=function(t,n){for(var r=n.getHeight(),a=n.getWidth(),i=t[0],o=t[1],s=!0,l=0;i<a&&o<r;){if(s!==n.get(i,o)){if(++l===5)break;s=!s}i++,o++}if(i===a||o===r)throw new Ne;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),Pfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tn=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return Mn.sum(t)},e.toIntArray=function(t){var n,r;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var o=Pfe(t),s=o.next();!s.done;s=o.next()){var l=s.value;a[i++]=l}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.getCodeword=function(t){var n=za.binarySearch(e.SYMBOL_TABLE,t&262143);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),Ife=function(){function e(t,n){this.bits=t,this.points=n}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),Rfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nfe=function(){function e(){}return e.detectMultiple=function(t,n,r){var a=t.getBlackMatrix(),i=e.detect(r,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(r,a)),new Ife(a,i)},e.detect=function(t,n){for(var r,a,i=new Array,o=0,s=0,l=!1;o<n.getHeight();){var c=e.findVertices(n,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var u=(r=void 0,Rfe(i)),f=u.next();!f.done;f=u.next()){var d=f.value;d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}o+=e.ROW_STEP;continue}if(l=!0,i.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return i},e.findVertices=function(t,n,r){var a=t.getHeight(),i=t.getWidth(),o=new Array(8);return e.copyToResult(o,e.findRowsWithPattern(t,a,i,n,r,e.START_PATTERN),e.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),e.copyToResult(o,e.findRowsWithPattern(t,a,i,n,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),o},e.copyToResult=function(t,n,r){for(var a=0;a<r.length;a++)t[r[a]]=n[a]},e.findRowsWithPattern=function(t,n,r,a,i,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);a<n;a+=e.ROW_STEP){var u=e.findGuardPattern(t,i,a,r,!1,o,c);if(u!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,r,!1,o,c);if(f!=null)u=f;else{a++;break}}s[0]=new At(u[0],a),s[1]=new At(u[1],a),l=!0;break}}var d=a+1;if(l){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<n;d++){var u=e.findGuardPattern(t,f[0],d,r,!1,o,c);if(u!=null&&Math.abs(f[0]-u[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<e.MAX_PATTERN_DRIFT)f=u,h=0;else{if(h>e.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,s[2]=new At(f[0],d),s[3]=new At(f[1],d)}return d-a<e.BARCODE_MIN_HEIGHT&&za.fill(s,null),s},e.findGuardPattern=function(t,n,r,a,i,o,s){za.fillWithin(s,0,s.length,0);for(var l=n,c=0;t.get(l,r)&&l>0&&c++<e.MAX_PIXEL_DRIFT;)l--;for(var u=l,f=0,d=o.length,h=i;u<a;u++){var p=t.get(u,r);if(p!==h)s[f]++;else{if(f===d-1){if(e.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],xr.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,h=!h}}return f===d-1&&e.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},e.patternMatchVariance=function(t,n,r){for(var a=t.length,i=0,o=0,s=0;s<a;s++)i+=t[s],o+=n[s];if(i<o)return 1/0;var l=i/o;r*=l;for(var c=0,u=0;u<a;u++){var f=t[u],d=n[u]*l,h=f>d?f-d:d-f;if(h>r)return 1/0;c+=h}return c/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),Dfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rd=function(){function e(t,n){if(n.length===0)throw new Nt;this.field=t;var r=n.length;if(r>1&&n[0]===0){for(var a=1;a<r&&n[a]===0;)a++;a===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-a),xr.arraycopy(n,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var n,r;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=Dfe(this.coefficients),o=i.next();!o.done;o=i.next()){var s=o.value;a=this.field.add(a,s)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(t,l),this.coefficients[u]);return l},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var i=new Int32Array(r.length),o=r.length-n.length;xr.arraycopy(r,0,i,0,o);for(var s=o;s<r.length;s++)i[s]=this.field.add(n[s-o],r[s]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Nt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,a=t.coefficients,i=a.length,o=new Int32Array(r+i-1),s=0;s<r;s++)for(var l=n[s],c=0;c<i;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,a[c]));return new e(this.field,o)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),r=0;r<t;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),a=0;a<n;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Nt;if(n===0)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,a=new Int32Array(r+t),i=0;i<r;i++)a[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new un,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(n===0||r!==1)&&t.append(r),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},e}(),Lfe=function(){function e(){}return e.prototype.add=function(t,n){return(t+n)%this.modulus},e.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Nt;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new g9;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),Ffe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bfe=function(e){Ffe(t,e);function t(n,r){var a=e.call(this)||this;a.modulus=n,a.expTable=new Int32Array(n),a.logTable=new Int32Array(n);for(var i=1,o=0;o<n;o++)a.expTable[o]=i,i=i*r%n;for(var o=0;o<n-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new rd(a,new Int32Array([0])),a.one=new rd(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,r){if(n<0)throw new Nt;if(r===0)return this.zero;var a=new Int32Array(n+1);return a[0]=r,new rd(this,a)},t.PDF417_GF=new t(Tn.NUMBER_OF_CODEWORDS,3),t}(Lfe),$fe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jfe=function(){function e(){this.field=Bfe.PDF417_GF}return e.prototype.decode=function(t,n,r){for(var a,i,o=new rd(this.field,t),s=new Int32Array(n),l=!1,c=n;c>0;c--){var u=o.evaluateAt(this.field.exp(c));s[n-c]=u,u!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(r!=null)try{for(var d=$fe(r),h=d.next();!h.done;h=d.next()){var p=h.value,v=this.field.exp(t.length-1-p),g=new rd(this.field,new Int32Array([this.field.subtract(0,v),1]));f=f.multiply(g)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}for(var m=new rd(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),m,n),x=y[0],b=y[1],E=this.findErrorLocations(x),_=this.findErrorMagnitudes(b,x,E),c=0;c<E.length;c++){var w=t.length-1-this.field.log(E[c]);if(w<0)throw ai.getChecksumInstance();t[w]=this.field.subtract(t[w],_[c])}return E.length},e.prototype.runEuclideanAlgorithm=function(t,n,r){if(t.getDegree()<n.getDegree()){var a=t;t=n,n=a}for(var i=t,o=n,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(r/2);){var c=i,u=s;if(i=o,s=l,i.isZero())throw ai.getChecksumInstance();o=c;for(var f=this.field.getZero(),d=i.getCoefficient(i.getDegree()),h=this.field.inverse(d);o.getDegree()>=i.getDegree()&&!o.isZero();){var p=o.getDegree()-i.getDegree(),v=this.field.multiply(o.getCoefficient(o.getDegree()),h);f=f.add(this.field.buildMonomial(p,v)),o=o.subtract(i.multiplyByMonomial(p,v))}l=f.multiply(s).subtract(u).negative()}var g=l.getCoefficient(0);if(g===0)throw ai.getChecksumInstance();var m=this.field.inverse(g),y=l.multiply(m),x=o.multiply(m);return[y,x]},e.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),r=new Int32Array(n),a=0,i=1;i<this.field.getSize()&&a<n;i++)t.evaluateAt(i)===0&&(r[a]=this.field.inverse(i),a++);if(a!==n)throw ai.getChecksumInstance();return r},e.prototype.findErrorMagnitudes=function(t,n,r){for(var a=n.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,n.getCoefficient(o));for(var s=new rd(this.field,i),l=r.length,c=new Int32Array(l),o=0;o<l;o++){var u=this.field.inverse(r[o]),f=this.field.subtract(0,t.evaluateAt(u)),d=this.field.inverse(s.evaluateAt(u));c[o]=this.field.multiply(f,d)}return c},e}(),wA=function(){function e(t,n,r,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,r,a,i)}return e.prototype.constructor_1=function(t,n,r,a,i){var o=n==null||r==null,s=a==null||i==null;if(o&&s)throw new Ne;o?(n=new At(0,a.getY()),r=new At(0,i.getY())):s&&(a=new At(t.getWidth()-1,n.getY()),i=new At(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=n,this.bottomLeft=r,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),a.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,n){return t==null?n:n==null?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,r){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(t>0){var l=r?this.topLeft:this.topRight,c=Math.trunc(l.getY()-t);c<0&&(c=0);var u=new At(l.getX(),c);r?a=u:o=u}if(n>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new At(f.getX(),d);r?i=h:s=h}return new e(this.image,a,i,o,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),zfe=function(){function e(t,n,r,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),gO=function(){function e(){this.buffer=""}return e.form=function(t,n){var r=-1;function a(o,s,l,c,u,f){if(o==="%%")return"%";if(n[++r]!==void 0){o=c?parseInt(c.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,h;switch(f){case"s":h=n[r];break;case"c":h=n[r][0];break;case"f":h=parseFloat(n[r]).toFixed(o);break;case"p":h=parseFloat(n[r]).toPrecision(o);break;case"e":h=parseFloat(n[r]).toExponential(o);break;case"x":h=parseInt(n[r]).toString(d||16);break;case"d":h=parseFloat(parseInt(n[r],d||10).toPrecision(o)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(l),v=l&&l[0]+""=="0"?"0":" ";h.length<p;)h=s!==void 0?h+v:v+h;return h}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e}(),Ufe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},S9=function(){function e(t){this.boundingBox=new wA(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var a=this.imageRowToCodewordIndex(t)-r;if(a>=0&&(n=this.codewords[a],n!=null)||(a=this.imageRowToCodewordIndex(t)+r,a<this.codewords.length&&(n=this.codewords[a],n!=null)))return n}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,n,r=new gO,a=0;try{for(var i=Ufe(this.codewords),o=i.next();!o.done;o=i.next()){var s=o.value;if(s==null){r.format("%3d:    |   %n",a++);continue}r.format("%3d: %3d|%3d%n",a++,s.getRowNumber(),s.getValue())}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),Hfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gfe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},uv=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},e.prototype.getValue=function(){var t,n,r=-1,a=new Array,i=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>r?(r=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===r&&a.push(h.getKey())};try{for(var o=Hfe(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Gfe(s.value,2),c=l[0],u=l[1];i(c,u)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return Tn.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),Wfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),B_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZP=function(e){Wfe(t,e);function t(n,r){var a=e.call(this,n)||this;return a._isLeft=r,a}return t.prototype.setRowNumbers=function(){var n,r;try{for(var a=B_(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,u=1,f=0,d=s;d<l;d++)if(r[d]!=null){var h=r[d],p=h.getRowNumber()-c;if(p===0)f++;else if(p===1)u=Math.max(u,f),f=1,c=h.getRowNumber();else if(p<0||h.getRowNumber()>=n.getRowCount()||p>d)r[d]=null;else{var v=void 0;u>2?v=(u-2)*p:v=p;for(var g=v>=d,m=1;m<=v&&!g;m++)g=r[d-m]!=null;g?r[d]=null:(c=h.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var n,r,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=B_(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=i.length)continue;i[c]++}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.getCodewords(),c=-1,u=o;u<s;u++)if(l[u]!=null){var f=l[u];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-c;d===0||(d===1?c=f.getRowNumber():f.getRowNumber()>=n.getRowCount()?l[u]=null:c=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,r,a=this.getCodewords(),i=new uv,o=new uv,s=new uv,l=new uv;try{for(var c=B_(a),u=c.next();!u.done;u=c.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(d*3+1);break;case 1:l.setValue(d/3),s.setValue(d%3);break;case 2:i.setValue(d+1);break}}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Tn.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Tn.MAX_ROWS_IN_BARCODE)return null;var p=new zfe(i.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(a,p),p},t.prototype.removeIncorrectCodewords=function(n,r){for(var a=0;a<n.length;a++){var i=n[a];if(n[a]!=null){var o=i.getValue()%30,s=i.getRowNumber();if(s>r.getRowCount()){n[a]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[a]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[a]=null);break;case 2:o+1!==r.getColumnCount()&&(n[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(S9),Vfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yfe=function(){function e(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Tn.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),a=0;a<r.length;a++)r[a]!=null&&(r[a].hasValidRowNumber()||this.adjustRowNumbers(n,a,r));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null&&n[r]!=null&&t[r].getRowNumber()===n[r].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[r];i!=null&&(i.setRowNumber(t[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[r]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var a=n[r].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var a=n[r].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),n=0):++n),n},e.prototype.adjustRowNumbers=function(t,n,r){var a,i;if(this.detectionResultColumns[t-1]!=null){var o=r[n],s=this.detectionResultColumns[t-1].getCodewords(),l=s;this.detectionResultColumns[t+1]!=null&&(l=this.detectionResultColumns[t+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=l[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=l[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=l[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=l[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=l[n+2]);try{for(var u=Vfe(c),f=u.next();!f.done;f=u.next()){var d=f.value;if(e.adjustRowNumber(o,d))return}}catch(h){a={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new gO,r=0;r<t.getCodewords().length;r++){n.format("CW %3d:",r);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[r];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},e}(),Xfe=function(){function e(t,n,r,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),qfe=function(){function e(){}return e.initialize=function(){for(var t=0;t<Tn.SYMBOL_TABLE.length;t++)for(var n=Tn.SYMBOL_TABLE[t],r=n&1,a=0;a<Tn.BARS_IN_MODULE;a++){for(var i=0;(n&1)===r;)i+=1,n>>=1;r=n&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(Tn.BARS_IN_MODULE)),e.RATIOS_TABLE[t][Tn.BARS_IN_MODULE-a-1]=Math.fround(i/Tn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return n!==-1?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var n=Mn.sum(t),r=new Int32Array(Tn.BARS_IN_MODULE),a=0,i=0,o=0;o<Tn.MODULES_IN_CODEWORD;o++){var s=n/(2*Tn.MODULES_IN_CODEWORD)+o*n/Tn.MODULES_IN_CODEWORD;i+t[a]<=s&&(i+=t[a],a++),r[a]++}return r},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return Tn.getCodeword(n)===-1?-1:n},e.getBitValue=function(t){for(var n=0,r=0;r<t.length;r++)for(var a=0;a<t[r];a++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},e.getClosestDecodedValue=function(t){var n=Mn.sum(t),r=new Array(Tn.BARS_IN_MODULE);if(n>1)for(var a=0;a<r.length;a++)r[a]=Math.fround(t[a]/n);var i=vA.MAX_VALUE,o=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var l=0,c=e.RATIOS_TABLE[s],u=0;u<Tn.BARS_IN_MODULE;u++){var f=Math.fround(c[u]-r[u]);if(l+=Math.fround(f*f),l>=i)break}l<i&&(i=l,o=Tn.SYMBOL_TABLE[s])}return o},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(Tn.SYMBOL_TABLE.length).map(function(t){return new Array(Tn.BARS_IN_MODULE)}),e}(),Kfe=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),QP=function(){function e(){}return e.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},e}(),Zfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qfe=function(e){Zfe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(Ho),Jfe=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,n,r){if(t==null)throw new Qfe;if(n<0||n>t.length||r<0||n+r>t.length||n+r<0)throw new fO;if(r===0)return;for(var a=0;a<r;a++)this.write(t[n+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),ede=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tde=function(e){ede(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ho),nde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rde=function(e){nde(t,e);function t(n){n===void 0&&(n=32);var r=e.call(this)||this;if(r.count=0,n<0)throw new Nt("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var r=this.buf.length,a=r<<1;if(a-n<0&&(a=n),a<0){if(n<0)throw new tde;a=dn.MAX_VALUE}this.buf=za.copyOfUint8Array(this.buf,a)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,r,a){if(r<0||r>n.length||a<0||r+a-n.length>0)throw new fO;this.ensureCapacity(this.count+a),xr.arraycopy(n,r,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return za.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Jfe),rr;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(rr||(rr={}));function A9(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ym;function Du(e){if(typeof ym>"u"&&(ym=A9()),ym===null)throw new Error("BigInt is not supported!");return ym(e)}function ade(){var e=[];e[0]=Du(1);var t=Du(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}var ide=function(){function e(){}return e.decode=function(t,n){var r=new un(""),a=ja.ISO8859_1;r.enableDecoding(a);for(var i=1,o=t[i++],s=new Kfe;i<t[0];){switch(o){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(o,t,a,i,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,r);break;case e.ECI_CHARSET:ja.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new it;default:i--,i=e.textCompaction(t,i,r);break}if(i<t.length)o=t[i++];else throw it.getFormatInstance()}if(r.length()===0)throw it.getFormatInstance();var l=new jb(null,r.toString(),null,n);return l.setOther(s),l},e.decodeMacroBlock=function(t,n,r){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw it.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)a[i]=t[n];r.setSegmentIndex(dn.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new un;n=e.textCompaction(t,n,o),r.setFileId(o.toString());var s=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new un;n=e.textCompaction(t,n+1,l),r.setFileName(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new un;n=e.textCompaction(t,n+1,c),r.setSender(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new un;n=e.textCompaction(t,n+1,u),r.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new un;n=e.numericCompaction(t,n+1,f),r.setSegmentCount(dn.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new un;n=e.numericCompaction(t,n+1,d),r.setTimestamp(QP.parseLong(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new un;n=e.numericCompaction(t,n+1,h),r.setChecksum(dn.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new un;n=e.numericCompaction(t,n+1,p),r.setFileSize(QP.parseLong(p.toString()));break;default:throw it.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw it.getFormatInstance()}if(s!==-1){var v=n-s;r.isLastSegment()&&v--,r.setOptionalData(za.copyOfRange(t,s,s+v))}return n},e.textCompaction=function(t,n,r){for(var a=new Int32Array((t[0]-n)*2),i=new Int32Array((t[0]-n)*2),o=0,s=!1;n<t[0]&&!s;){var l=t[n++];if(l<e.TEXT_COMPACTION_MODE_LATCH)a[o]=l/30,a[o+1]=l%30,o+=2;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:a[o++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=t[n++],i[o]=l,o++;break}}return e.decodeTextCompaction(a,i,o,r),n},e.decodeTextCompaction=function(t,n,r,a){for(var i=rr.ALPHA,o=rr.ALPHA,s=0;s<r;){var l=t[s],c="";switch(i){case rr.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.LL:i=rr.LOWER;break;case e.ML:i=rr.MIXED;break;case e.PS:o=i,i=rr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break;case rr.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case e.AS:o=i,i=rr.ALPHA_SHIFT;break;case e.ML:i=rr.MIXED;break;case e.PS:o=i,i=rr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break;case rr.MIXED:if(l<e.PL)c=e.MIXED_CHARS[l];else switch(l){case e.PL:i=rr.PUNCT;break;case 26:c=" ";break;case e.LL:i=rr.LOWER;break;case e.AL:i=rr.ALPHA;break;case e.PS:o=i,i=rr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break;case rr.PUNCT:if(l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=rr.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break;case rr.ALPHA_SHIFT:if(i=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break;case rr.PUNCT_SHIFT:if(i=o,l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=rr.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=rr.ALPHA;break}break}c!==""&&a.append(c),s++}},e.byteCompaction=function(t,n,r,a,i){var o=new rde,s=0,l=0,c=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=n[a++];a<n[0]&&!c;)switch(u[s++]=f,l=900*l+f,f=n[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,c=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Du(l)>>Du(8*(5-d))));l=0,s=0}break}a===n[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=f);for(var h=0;h<s;h++)o.write(u[h]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<n[0]&&!c;){var p=n[a++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,c=!0;break}if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Du(l)>>Du(8*(5-d))));l=0,s=0}}break}return i.append(Fs.decode(o.toByteArray(),r)),a},e.numericCompaction=function(t,n,r){for(var a=0,i=!1,o=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var s=t[n++];if(n===t[0]&&(i=!0),s<e.TEXT_COMPACTION_MODE_LATCH)o[a]=s,a++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(r.append(e.decodeBase900toBase10(o,a)),a=0)}return n},e.decodeBase900toBase10=function(t,n){for(var r=Du(0),a=0;a<n;a++)r+=e.EXP900[n-a-1]*Du(t[a]);var i=r.toString();if(i.charAt(0)!=="1")throw new it;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=A9()?ade():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),zp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ode=function(){function e(){}return e.decode=function(t,n,r,a,i,o,s){for(var l=new wA(t,n,r,a,i),c=null,u=null,f,d=!0;;d=!1){if(n!=null&&(c=e.getRowIndicatorColumn(t,l,n,!0,o,s)),a!=null&&(u=e.getRowIndicatorColumn(t,l,a,!1,o,s)),f=e.merge(c,u),f==null)throw Ne.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<l.getMinY()||h.getMaxY()>l.getMaxY()))l=h;else break}f.setBoundingBox(l);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(p,u);for(var v=c!=null,g=1;g<=p;g++){var m=v?g:p-g;if(f.getDetectionResultColumn(m)===void 0){var y=void 0;m===0||m===p?y=new ZP(l,m===0):y=new S9(l),f.setDetectionResultColumn(m,y);for(var x=-1,b=x,E=l.getMinY();E<=l.getMaxY();E++){if(x=e.getStartColumn(f,m,E,v),x<0||x>l.getMaxX()){if(b===-1)continue;x=b}var _=e.detectCodeword(t,l.getMinX(),l.getMaxX(),v,x,E,o,s);_!=null&&(y.setCodeword(E,_),b=x,o=Math.min(o,_.getWidth()),s=Math.max(s,_.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,n){if(t==null&&n==null)return null;var r=e.getBarcodeMetadata(t,n);if(r==null)return null;var a=wA.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new Yfe(r,a)},e.adjustBoundingBox=function(t){var n,r;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),o=0;try{for(var s=zp(a),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=i-c,c>0)break}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),f=0;o>0&&u[f]==null;f++)o--;for(var d=0,f=a.length-1;f>=0&&(d+=i-a[f],!(a[f]>0));f--);for(var f=u.length-1;d>0&&u[f]==null;f--)d--;return t.getBoundingBox().addMissingRows(o,d,t.isLeft())},e.getMax=function(t){var n,r,a=-1;try{for(var i=zp(t),o=i.next();!o.done;o=i.next()){var s=o.value;a=Math.max(a,s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.getBarcodeMetadata=function(t,n){var r;if(t==null||(r=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var a;return n==null||(a=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==a.getColumnCount()&&r.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&r.getRowCount()!==a.getRowCount()?null:r},e.getRowIndicatorColumn=function(t,n,r,a,i,o){for(var s=new ZP(n,a),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=n.getMaxY()&&f>=n.getMinY();f+=c){var d=e.detectCodeword(t,0,t.getWidth(),a,u,f,i,o);d!=null&&(s.setCodeword(f,d),a?u=d.getStartX():u=d.getEndX())}return s},e.adjustCodewordCount=function(t,n){var r=n[0][1],a=r.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>Tn.MAX_CODEWORDS_IN_BARCODE)throw Ne.getNotFoundInstance();r.setValue(i)}else a[0]!==i&&r.setValue(i)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var r=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],o=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var l=0;l<t.getBarcodeColumnCount();l++){var c=n[s][l+1].getValue(),u=s*t.getBarcodeColumnCount()+l;c.length===0?r.push(u):c.length===1?a[u]=c[0]:(o.push(u),i.push(c))}for(var f=new Array(i.length),d=0;d<f.length;d++)f[d]=i[d];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,Tn.toIntArray(r),Tn.toIntArray(o),f)},e.createDecoderResultFromAmbiguousValues=function(t,n,r,a,i){for(var o=new Int32Array(a.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)n[a[l]]=i[l][o[l]];try{return e.decodeCodewords(n,t,r)}catch(u){var c=u instanceof ai;if(!c)throw u}if(o.length===0)throw ai.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<i[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw ai.getChecksumInstance()}throw ai.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var n,r,a,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new uv;var c=0;try{for(var u=zp(t.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)try{for(var h=(a=void 0,zp(d.getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null){var g=v.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][c].setValue(v.getValue())}}}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}c++}}catch(m){n={error:m}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return o},e.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,r,a){var i,o,s=a?1:-1,l=null;if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodeword(r)),l!=null)return a?l.getEndX():l.getStartX();if(l=t.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return a?l.getStartX():l.getEndX();if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodewordNearby(r)),l!=null)return a?l.getEndX():l.getStartX();for(var c=0;e.isValidBarcodeColumn(t,n-s);){n-=s;try{for(var u=(i=void 0,zp(t.getDetectionResultColumn(n).getCodewords())),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)return(a?d.getEndX():d.getStartX())+s*c*(d.getEndX()-d.getStartX())}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}c++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,r,a,i,o,s,l){i=e.adjustCodewordStartColumn(t,n,r,a,i,o);var c=e.getModuleBitCount(t,n,r,a,i,o);if(c==null)return null;var u,f=Mn.sum(c);if(a)u=i+f;else{for(var d=0;d<c.length/2;d++){var h=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=h}u=i,i=u-f}if(!e.checkCodewordSkew(f,s,l))return null;var p=qfe.getDecodedValue(c),v=Tn.getCodeword(p);return v===-1?null:new Xfe(i,u,e.getCodewordBucketNumber(p),v)},e.getModuleBitCount=function(t,n,r,a,i,o){for(var s=i,l=new Int32Array(8),c=0,u=a?1:-1,f=a;(a?s<r:s>=n)&&c<l.length;)t.get(s,o)===f?(l[c]++,s+=u):(c++,f=!f);return c===l.length||s===(a?r:n)&&c===l.length-1?l:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,n,r,a,i,o){for(var s=i,l=a?-1:1,c=0;c<2;c++){for(;(a?s>=n:s<r)&&a===t.get(s,o);){if(Math.abs(i-s)>e.CODEWORD_SKEW_SIZE)return i;s+=l}l=-l,a=!a}return s},e.checkCodewordSkew=function(t,n,r){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,r){if(t.length===0)throw it.getFormatInstance();var a=1<<n+1,i=e.correctErrors(t,r,a);e.verifyCodewordCount(t,a);var o=ide.decode(t,""+n);return o.setErrorsCorrected(i),o.setErasures(r.length),o},e.correctErrors=function(t,n,r){if(n!=null&&n.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw ai.getChecksumInstance();return e.errorCorrection.decode(t,r,n)},e.verifyCodewordCount=function(t,n){if(t.length<4)throw it.getFormatInstance();var r=t[0];if(r>t.length)throw it.getFormatInstance();if(r===0)if(n<t.length)t[0]=t.length-n;else throw it.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),r=0,a=n.length-1;!((t&1)!==r&&(r=t&1,a--,a<0));)n[a]++,t>>=1;return n},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var n=new gO,r=0;r<t.length;r++){n.format("Row %2d: ",r);for(var a=0;a<t[r].length;a++){var i=t[r][a];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new jfe,e}(),sde=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_A=function(){function e(){}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r=e.decode(t,n,!1);if(r==null||r.length===0||r[0]==null)throw Ne.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return e.decode(t,n,!0)}catch(r){throw r instanceof it||r instanceof ai?Ne.getNotFoundInstance():r}},e.decode=function(t,n,r){var a,i,o=new Array,s=Nfe.detectMultiple(t,n,r);try{for(var l=sde(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,f=ode.decode(s.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),d=new Qi(f.getText(),f.getRawBytes(),void 0,u,Pt.PDF_417);d.putMetadata(Ei.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(Ei.PDF417_EXTRA_METADATA,h),o.push(d)}}catch(p){a={error:p}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return o.map(function(p){return p})},e.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},e.getMinWidth=function(t,n){return t==null||n==null?dn.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*Tn.MODULES_IN_CODEWORD/Tn.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*Tn.MODULES_IN_CODEWORD/Tn.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*Tn.MODULES_IN_CODEWORD/Tn.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*Tn.MODULES_IN_CODEWORD/Tn.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),lde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JP=function(e){lde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(Ho),e8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cde=function(){function e(){}return e.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(zr.TRY_HARDER)!==void 0,r=t==null?null:t.get(zr.POSSIBLE_FORMATS),a=new Array;if(r!=null){var i=r.some(function(o){return o===Pt.UPC_A||o===Pt.UPC_E||o===Pt.EAN_13||o===Pt.EAN_8||o===Pt.CODABAR||o===Pt.CODE_39||o===Pt.CODE_93||o===Pt.CODE_128||o===Pt.ITF||o===Pt.RSS_14||o===Pt.RSS_EXPANDED});i&&!n&&a.push(new cv(t)),r.includes(Pt.QR_CODE)&&a.push(new bA),r.includes(Pt.DATA_MATRIX)&&a.push(new xA),r.includes(Pt.AZTEC)&&a.push(new mA),r.includes(Pt.PDF_417)&&a.push(new _A),i&&n&&a.push(new cv(t))}a.length===0&&(n||a.push(new cv(t)),a.push(new bA),a.push(new xA),a.push(new mA),a.push(new _A),n&&a.push(new cv(t))),this.readers=a},e.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var r=e8(this.readers),a=r.next();!a.done;a=r.next()){var i=a.value;i.reset()}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var n,r;if(this.readers===null)throw new JP("No readers where selected, nothing can be read.");try{for(var a=e8(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(s){if(s instanceof JP)continue}}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}throw new Ne("No MultiFormat Readers were able to detect the code.")},e}(),ude=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fde=function(e){ude(t,e);function t(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var a=this,i=new cde;return i.setHints(n),a=e.call(this,i,r)||this,a}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t}(pp),dde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){dde(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new _A,n)||this}return t})(pp);var hde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){hde(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new bA,n)||this}return t})(pp);var EA;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(EA||(EA={}));const xm=EA;var k9=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ju(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var r=n[n.length-1],a=this.field,i=n.length;i<=t;i++){var o=r.multiply(new Ju(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));n.push(o),r=o}return n[t]},e.prototype.encode=function(t,n){if(n===0)throw new Nt("No error correction bytes");var r=t.length-n;if(r<=0)throw new Nt("No data bytes provided");var a=this.buildGenerator(n),i=new Int32Array(r);xr.arraycopy(t,0,i,0,r);var o=new Ju(this.field,i);o=o.multiplyByMonomial(n,1);for(var s=o.divide(a)[1],l=s.getCoefficients(),c=n-l.length,u=0;u<c;u++)t[r+u]=0;xr.arraycopy(l,0,t,r+c,l.length)},e}(),fv=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i-1;o++)for(var s=r[o],l=0;l<a-1;l++){var c=s[l];c===s[l+1]&&c===r[o+1][l]&&c===r[o+1][l+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var s=0;s<a;s++){var l=r[o];s+6<a&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(e.isWhiteHorizontal(l,s-4,s)||e.isWhiteHorizontal(l,s+7,s+11))&&n++,o+6<i&&r[o][s]===1&&r[o+1][s]===0&&r[o+2][s]===1&&r[o+3][s]===1&&r[o+4][s]===1&&r[o+5][s]===0&&r[o+6][s]===1&&(e.isWhiteVertical(r,s,o-4,o)||e.isWhiteVertical(r,s,o+7,o+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(t,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var a=n;a<r;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,n,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(var i=r;i<a;i++)if(t[i][n]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var s=r[o],l=0;l<a;l++)s[l]===1&&n++;var c=t.getHeight()*t.getWidth(),u=Math.floor(Math.abs(n*2-c)*10/c);return u*e.N4},e.getDataMaskBit=function(t,n,r){var a,i;switch(t){case 0:a=r+n&1;break;case 1:a=r&1;break;case 2:a=n%3;break;case 3:a=(r+n)%3;break;case 4:a=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=r*n,a=(i&1)+i%3;break;case 6:i=r*n,a=(i&1)+i%3&1;break;case 7:i=r*n,a=i%3+(r+n&1)&1;break;default:throw new Nt("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,n){for(var r=0,a=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),o=t.getArray(),s=0;s<a;s++){for(var l=0,c=-1,u=0;u<i;u++){var f=n?o[s][u]:o[u][s];f===c?l++:(l>=5&&(r+=e.N1+(l-5)),l=1,c=f)}l>=5&&(r+=e.N1+(l-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),pde=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vde=function(){function e(t,n){this.width=t,this.height=n;for(var r=new Array(n),a=0;a!==n;a++)r[a]=new Uint8Array(t);this.bytes=r}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,n){return this.bytes[n][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,n,r){this.bytes[n][t]=r},e.prototype.setBoolean=function(t,n,r){this.bytes[n][t]=r?1:0},e.prototype.clear=function(t){var n,r;try{for(var a=pde(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;za.fill(o,t)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,a=this.height;r<a;++r)for(var i=this.bytes[r],o=n.bytes[r],s=0,l=this.width;s<l;++s)if(i[s]!==o[s])return!1;return!0},e.prototype.toString=function(){for(var t=new un,n=0,r=this.height;n<r;++n){for(var a=this.bytes[n],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),SA=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new un;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),gde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(e){gde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(Ho),t8=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,n,r,a,i){e.clearMatrix(i),e.embedBasicPatterns(r,i),e.embedTypeInfo(n,a,i),e.maybeEmbedVersionInfo(r,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,r){var a=new si;e.makeTypeInfoBits(t,n,a);for(var i=0,o=a.getSize();i<o;++i){var s=a.get(a.getSize()-1-i),l=e.TYPE_INFO_COORDINATES[i],c=l[0],u=l[1];if(r.setBoolean(c,u,s),i<8){var f=r.getWidth()-i-1,d=8;r.setBoolean(f,d,s)}else{var f=8,d=r.getHeight()-7+(i-8);r.setBoolean(f,d,s)}}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var r=new si;e.makeVersionInfoBits(t,r);for(var a=6*3-1,i=0;i<6;++i)for(var o=0;o<3;++o){var s=r.get(a);a--,n.setBoolean(i,n.getHeight()-11+o,s),n.setBoolean(n.getHeight()-11+o,i,s)}}},e.embedDataBits=function(t,n,r){for(var a=0,i=-1,o=r.getWidth()-1,s=r.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(e.isEmpty(r.get(c,s))){var u=void 0;a<t.getSize()?(u=t.get(a),++a):u=!1,n!==255&&fv.getDataMaskBit(n,c,s)&&(u=!u),r.setBoolean(c,s,u)}}s+=i}i=-i,s+=i,o-=2}if(a!==t.getSize())throw new Sr("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-dn.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,n){if(n===0)throw new Nt("0 polynomial");var r=e.findMSBSet(n);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=n<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,n,r){if(!SA.isValidMaskPattern(n))throw new Sr("Invalid mask pattern");var a=t.getBits()<<3|n;r.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);r.appendBits(i,10);var o=new si;if(o.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Sr("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Sr("should not happen but we got: "+n.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var r=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,r),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,r)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new Sr;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,r){for(var a=0;a<8;++a){if(!e.isEmpty(r.get(t+a,n)))throw new Sr;r.setNumber(t+a,n,0)}},e.embedVerticalSeparationPattern=function(t,n,r){for(var a=0;a<7;++a){if(!e.isEmpty(r.get(t,n+a)))throw new Sr;r.setNumber(t,n+a,0)}},e.embedPositionAdjustmentPattern=function(t,n,r){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)r.setNumber(t+o,n+a,i[o])},e.embedPositionDetectionPattern=function(t,n,r){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)r.setNumber(t+o,n+a,i[o])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t);var r=8;e.embedHorizontalSeparationPattern(0,r-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,o=a.length;i!==o;i++){var s=a[i];if(s>=0)for(var l=0;l!==o;l++){var c=a[l];c>=0&&e.isEmpty(n.get(c,s))&&e.embedPositionAdjustmentPattern(c-2,s-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),mde=function(){function e(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),n8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return fv.applyMaskPenaltyRule1(t)+fv.applyMaskPenaltyRule2(t)+fv.applyMaskPenaltyRule3(t)+fv.applyMaskPenaltyRule4(t)},e.encode=function(t,n,r){r===void 0&&(r=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=r!==null&&r.get(xm.CHARACTER_SET)!==void 0;i&&(a=r.get(xm.CHARACTER_SET).toString());var o=this.chooseMode(t,a),s=new si;if(o===Tr.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var l=ja.getCharacterSetECIByName(a);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new si;this.appendBytes(t,o,c,a);var u;if(r!==null&&r.get(xm.QR_VERSION)!==void 0){var f=Number.parseInt(r.get(xm.QR_VERSION).toString(),10);u=gd.getVersionForNumber(f);var d=this.calculateBitsNeeded(o,s,c,u);if(!this.willFit(d,u,n))throw new Sr("Data too big for requested version")}else u=this.recommendVersion(n,o,s,c);var h=new si;h.appendBitArray(s);var p=o===Tr.BYTE?c.getSizeInBytes():t.length;this.appendLengthInfo(p,u,o,h),h.appendBitArray(c);var v=u.getECBlocksForLevel(n),g=u.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(g,h);var m=this.interleaveWithECBytes(h,u.getTotalCodewords(),g,v.getNumBlocks()),y=new SA;y.setECLevel(n),y.setMode(o),y.setVersion(u);var x=u.getDimensionForVersion(),b=new vde(x,x),E=this.chooseMaskPattern(m,n,u,b);return y.setMaskPattern(E),t8.buildMatrix(m,n,u,E,b),y.setMatrix(b),y},e.recommendVersion=function(t,n,r,a){var i=this.calculateBitsNeeded(n,r,a,gd.getVersionForNumber(1)),o=this.chooseVersion(i,t),s=this.calculateBitsNeeded(n,r,a,o);return this.chooseVersion(s,t)},e.calculateBitsNeeded=function(t,n,r,a){return n.getSize()+t.getCharacterCountBits(a)+r.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(n===void 0&&(n=null),ja.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return Tr.KANJI;for(var r=!1,a=!1,i=0,o=t.length;i<o;++i){var s=t.charAt(i);if(e.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)a=!0;else return Tr.BYTE}return a?Tr.ALPHANUMERIC:r?Tr.NUMERIC:Tr.BYTE},e.isOnlyDoubleByteKanji=function(t){var n;try{n=Fs.encode(t,ja.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var a=0;a<r;a+=2){var i=n[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,n,r,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<SA.NUM_MASK_PATTERNS;s++){t8.buildMatrix(t,n,r,s,a);var l=this.calculateMaskPenalty(a);l<i&&(i=l,o=s)}return o},e.chooseVersion=function(t,n){for(var r=1;r<=40;r++){var a=gd.getVersionForNumber(r);if(e.willFit(t,a,n))return a}throw new Sr("Data too big")},e.willFit=function(t,n,r){var a=n.getTotalCodewords(),i=n.getECBlocksForLevel(r),o=i.getTotalECCodewords(),s=a-o,l=(t+7)/8;return s>=l},e.terminateBits=function(t,n){var r=t*8;if(n.getSize()>r)throw new Sr("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var a=i;a<8;a++)n.appendBit(!1);for(var o=t-n.getSizeInBytes(),a=0;a<o;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new Sr("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,n,r,a,i,o){if(a>=r)throw new Sr("Block ID too large");var s=t%r,l=r-s,c=Math.floor(t/r),u=c+1,f=Math.floor(n/r),d=f+1,h=c-f,p=u-d;if(h!==p)throw new Sr("EC bytes mismatch");if(r!==l+s)throw new Sr("RS blocks mismatch");if(t!==(f+h)*l+(d+p)*s)throw new Sr("Total bytes mismatch");a<l?(i[0]=f,o[0]=h):(i[0]=d,o[0]=p)},e.interleaveWithECBytes=function(t,n,r,a){var i,o,s,l;if(t.getSizeInBytes()!==r)throw new Sr("Number of bits and data bytes does not match");for(var c=0,u=0,f=0,d=new Array,h=0;h<a;++h){var p=new Int32Array(1),v=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,r,a,h,p,v);var g=p[0],m=new Uint8Array(g);t.toBytes(8*c,m,0,g);var y=e.generateECBytes(m,v[0]);d.push(new mde(m,y)),u=Math.max(u,g),f=Math.max(f,y.length),c+=p[0]}if(r!==c)throw new Sr("Data bytes does not match offset");for(var x=new si,h=0;h<u;++h)try{for(var b=(i=void 0,n8(d)),E=b.next();!E.done;E=b.next()){var _=E.value,m=_.getDataBytes();h<m.length&&x.appendBits(m[h],8)}}catch(k){i={error:k}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}for(var h=0;h<f;++h)try{for(var w=(s=void 0,n8(d)),A=w.next();!A.done;A=w.next()){var _=A.value,y=_.getErrorCorrectionBytes();h<y.length&&x.appendBits(y[h],8)}}catch(k){s={error:k}}finally{try{A&&!A.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}if(n!==x.getSizeInBytes())throw new Sr("Interleaving error: "+n+" and "+x.getSizeInBytes()+" differ.");return x},e.generateECBytes=function(t,n){for(var r=t.length,a=new Int32Array(r+n),i=0;i<r;i++)a[i]=t[i]&255;new k9(Do.QR_CODE_FIELD_256).encode(a,n);for(var o=new Uint8Array(n),i=0;i<n;i++)o[i]=a[r+i];return o},e.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,n,r,a){var i=r.getCharacterCountBits(n);if(t>=1<<i)throw new Sr(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,n,r,a){switch(n){case Tr.NUMERIC:e.appendNumericBytes(t,r);break;case Tr.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case Tr.BYTE:e.append8BitBytes(t,r,a);break;case Tr.KANJI:e.appendKanjiBytes(t,r);break;default:throw new Sr("Invalid mode: "+n)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var i=e.getDigit(t.charAt(a));if(a+2<r){var o=e.getDigit(t.charAt(a+1)),s=e.getDigit(t.charAt(a+2));n.appendBits(i*100+o*10+s,10),a+=3}else if(a+1<r){var o=e.getDigit(t.charAt(a+1));n.appendBits(i*10+o,7),a+=2}else n.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new Sr;if(a+1<r){var o=e.getAlphanumericCode(t.charCodeAt(a+1));if(o===-1)throw new Sr;n.appendBits(i*45+o,11),a+=2}else n.appendBits(i,6),a++}},e.append8BitBytes=function(t,n,r){var a;try{a=Fs.encode(t,r)}catch(l){throw new Sr(l)}for(var i=0,o=a.length;i!==o;i++){var s=a[i];n.appendBits(s,8)}},e.appendKanjiBytes=function(t,n){var r;try{r=Fs.encode(t,ja.SJIS)}catch(f){throw new Sr(f)}for(var a=r.length,i=0;i<a;i+=2){var o=r[i]&255,s=r[i+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Sr("Invalid byte sequence");var u=(c>>8)*192+(c&255);n.appendBits(u,13)}},e.appendECI=function(t,n){n.appendBits(Tr.ECI.getBits(),4),n.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=ja.UTF8.getName(),e})();var yde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){yde(t,e);function t(n,r,a,i,o,s,l,c){var u=e.call(this,s,l)||this;if(u.yuvData=n,u.dataWidth=r,u.dataHeight=a,u.left=i,u.top=o,i+s>r||o+l>a)throw new Nt("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(s,l),u}return t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(n+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.yuvData,i,r,0,a),r},t.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var a=n*r,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return xr.arraycopy(this.yuvData,o,i,0,a),i;for(var s=0;s<r;s++){var l=s*n;xr.arraycopy(this.yuvData,o,i,l,n),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,a,i,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(n*r),i=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var l=s*n,c=0;c<n;c++){var u=i[o+c*t.THUMBNAIL_SCALE_FACTOR]&255;a[l+c]=4278190080|u*65793}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,r){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<r;i++,o+=this.dataWidth)for(var s=o+n/2,l=o,c=o+n-1;l<s;l++,c--){var u=a[l];a[l]=a[c],a[c]=u}},t.prototype.invert=function(){return new dO(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})($b);var xde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){xde(t,e);function t(n,r,a,i,o,s,l){var c=e.call(this,r,a)||this;if(c.dataWidth=i,c.dataHeight=o,c.left=s,c.top=l,n.BYTES_PER_ELEMENT===4){for(var u=r*a,f=new Uint8ClampedArray(u),d=0;d<u;d++){var h=n[d],p=h>>16&255,v=h>>7&510,g=h&255;f[d]=(p+v+g)/4&255}c.luminances=f}else c.luminances=n;if(i===void 0&&(c.dataWidth=r),o===void 0&&(c.dataHeight=a),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+r>c.dataWidth||c.top+a>c.dataHeight)throw new Nt("Crop rectangle does not fit within image data.");return c}return t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(n+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.luminances,i,r,0,a),r},t.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var a=n*r,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return xr.arraycopy(this.luminances,o,i,0,a),i;for(var s=0;s<r;s++){var l=s*n;xr.arraycopy(this.luminances,o,i,l,n),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},t.prototype.invert=function(){return new dO(this)},t})($b);var bde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wde=function(e){bde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t}(ja),_de=function(){function e(){}return e.ISO_8859_1=ja.ISO8859_1,e}(),AA,Ede=301,Sde=function(e,t){for(var n=1,r=0;r<255;r++)t[r]=n,e[n]=r,n*=2,n>=256&&(n^=Ede);return{LOG:e,ALOG:t}};AA=Sde([],[]),AA.LOG;AA.ALOG;var r8;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(r8||(r8={}));var a8=129,T9=230,Ade=231,kde=235,Tde=236,Ode=237,Cde=238,Mde=239,Pde=240,$_=254,Ide=254,i8="[)>05",o8="[)>06",s8="",Xn=0,gi=1,so=2,La=3,Qa=4,Ni=5,Rde=function(){function e(){}return e.prototype.getEncodingMode=function(){return Xn},e.prototype.encode=function(t){var n=dl.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(n>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var r=t.getCurrentChar(),a=dl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Ni:t.writeCodeword(Ade),t.signalEncoderChange(Ni);return;case gi:t.writeCodeword(T9),t.signalEncoderChange(gi);return;case La:t.writeCodeword(Cde),t.signalEncoderChange(La);break;case so:t.writeCodeword(Mde),t.signalEncoderChange(so);break;case Qa:t.writeCodeword(Pde),t.signalEncoderChange(Qa);break;default:throw new Error("Illegal mode: "+a)}else dl.isExtendedASCII(r)?(t.writeCodeword(kde),t.writeCodeword(r-128+1),t.pos++):(t.writeCodeword(r+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,n){if(dl.isDigit(t)&&dl.isDigit(n)){var r=(t-48)*10+(n-48);return r+130}throw new Error("not digits: "+t+n)},e}(),Nde=function(){function e(){}return e.prototype.getEncodingMode=function(){return Ni},e.prototype.encode=function(t){var n=new un;for(n.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();n.append(r),t.pos++;var a=dl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(Xn);break}}var i=n.length()-1,o=1,s=t.getCodewordCount()+i+o;t.updateSymbolInfo(s);var l=t.getSymbolInfo().getDataCapacity()-s>0;if(t.hasMoreCharacters()||l)if(i<=249)n.setCharAt(0,wn.getCharAt(i));else if(i<=1555)n.setCharAt(0,wn.getCharAt(Math.floor(i/250)+249)),n.insert(1,wn.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var c=0,r=n.length();c<r;c++)t.writeCodeword(this.randomize255State(n.charAt(c).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,n){var r=149*n%255+1,a=t+r;return a<=255?a:a-256},e}(),mO=function(){function e(){}return e.prototype.getEncodingMode=function(){return gi},e.prototype.encodeMaximal=function(t){for(var n=new un,r=0,a=t.pos,i=0;t.hasMoreCharacters();){var o=t.getCurrentChar();t.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(a=t.pos,i=n.length())}if(i!==n.length()){var s=Math.floor(n.length()/3*2),l=Math.floor(t.getCodewordCount()+s+1);t.updateSymbolInfo(l);var c=t.getSymbolInfo().getDataCapacity()-l,u=Math.floor(n.length()%3);(u===2&&c!==2||u===1&&(r>3||c!==1))&&(t.pos=a)}n.length()>0&&t.writeCodeword(T9),this.handleEOD(t,n)},e.prototype.encode=function(t){for(var n=new un;t.hasMoreCharacters();){var r=t.getCurrentChar();t.pos++;var a=this.encodeChar(r,n),i=Math.floor(n.length()/3)*2,o=t.getCodewordCount()+i;t.updateSymbolInfo(o);var s=t.getSymbolInfo().getDataCapacity()-o;if(!t.hasMoreCharacters()){var l=new un;for(n.length()%3===2&&s!==2&&(a=this.backtrackOneCharacter(t,n,l,a));n.length()%3===1&&(a>3||s!==1);)a=this.backtrackOneCharacter(t,n,l,a);break}var c=n.length();if(c%3===0){var u=dl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(Xn);break}}}this.handleEOD(t,n)},e.prototype.backtrackOneCharacter=function(t,n,r,a){var i=n.length(),o=n.toString().substring(0,i-a);n.setLengthToZero(),n.append(o),t.pos--;var s=t.getCurrentChar();return a=this.encodeChar(s,r),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,n){t.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},e.prototype.handleEOD=function(t,n){var r=Math.floor(n.length()/3*2),a=n.length()%3,i=t.getCodewordCount()+r;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword($_)}else if(o===1&&a===1){for(;n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword($_),t.pos--}else if(a===0){for(;n.length()>=3;)this.writeNextTriplet(t,n);(o>0||t.hasMoreCharacters())&&t.writeCodeword($_)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Xn)},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=65&&t<=90)return n.append(t-65+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t<=95)return n.append(1),n.append(t-91+22),2;if(t<=127)return n.append(2),n.append(t-96),2;n.append("1");var r=2;return r+=this.encodeChar(t-128,n),r},e.prototype.encodeToCodewords=function(t){var n=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,r=n/256,a=n%256,i=new un;return i.append(r),i.append(a),i.toString()},e}(),Dde=function(){function e(){}return e.prototype.getEncodingMode=function(){return Qa},e.prototype.encode=function(t){for(var n=new un;t.hasMoreCharacters();){var r=t.getCurrentChar();this.encodeChar(r,n),t.pos++;var a=n.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var o=dl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(Xn);break}}}n.append(wn.getCharAt(31)),this.handleEOD(t,n)},e.prototype.handleEOD=function(t,n){try{var r=n.length();if(r===0)return;if(r===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,s=this.encodeToCodewords(n.toString()),l=!t.hasMoreCharacters(),c=l&&o<=2;if(o<=2){t.updateSymbolInfo(t.getCodewordCount()+o);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(c=!1,t.updateSymbolInfo(t.getCodewordCount()+s.length))}c?(t.resetSymbolInfo(),t.pos-=o):t.writeCodewords(s)}finally{t.signalEncoderChange(Xn)}},e.prototype.encodeChar=function(t,n){t>=32&&t<=63?n.append(t):t>=64&&t<=94?n.append(wn.getCharAt(t-64)):dl.illegalCharacter(wn.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var n=t.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=t.charAt(0).charCodeAt(0),a=n>=2?t.charAt(1).charCodeAt(0):0,i=n>=3?t.charAt(2).charCodeAt(0):0,o=n>=4?t.charAt(3).charCodeAt(0):0,s=(r<<18)+(a<<12)+(i<<6)+o,l=s>>16&255,c=s>>8&255,u=s&255,f=new un;return f.append(l),n>=2&&f.append(c),n>=3&&f.append(u),f.toString()},e}(),Lde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fde=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ln=function(){function e(t,n,r,a,i,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=t,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return e.lookup=function(t,n,r,a,i){var o,s;n===void 0&&(n=0),r===void 0&&(r=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var l=Fde($de),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(n===1&&u.rectangular)&&!(n===2&&!u.rectangular)&&!(r!=null&&(u.getSymbolWidth()<r.getWidth()||u.getSymbolHeight()<r.getHeight()))&&!(a!=null&&(u.getSymbolWidth()>a.getWidth()||u.getSymbolHeight()>a.getHeight()))&&t<=u.dataCapacity)return u}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e}(),Bde=function(e){Lde(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},t}(Ln),$de=[new Ln(!1,3,5,8,8,1),new Ln(!1,5,7,10,10,1),new Ln(!0,5,7,16,6,1),new Ln(!1,8,10,12,12,1),new Ln(!0,10,11,14,6,2),new Ln(!1,12,12,14,14,1),new Ln(!0,16,14,24,10,1),new Ln(!1,18,14,16,16,1),new Ln(!1,22,18,18,18,1),new Ln(!0,22,18,16,10,2),new Ln(!1,30,20,20,20,1),new Ln(!0,32,24,16,14,2),new Ln(!1,36,24,22,22,1),new Ln(!1,44,28,24,24,1),new Ln(!0,49,28,22,14,2),new Ln(!1,62,36,14,14,4),new Ln(!1,86,42,16,16,4),new Ln(!1,114,48,18,18,4),new Ln(!1,144,56,20,20,4),new Ln(!1,174,68,22,22,4),new Ln(!1,204,84,24,24,4,102,42),new Ln(!1,280,112,14,14,16,140,56),new Ln(!1,368,144,16,16,16,92,36),new Ln(!1,456,192,18,18,16,114,48),new Ln(!1,576,224,20,20,16,144,56),new Ln(!1,696,272,22,22,16,174,68),new Ln(!1,816,336,24,24,16,136,56),new Ln(!1,1050,408,18,18,36,175,68),new Ln(!1,1304,496,20,20,36,163,62),new Bde],jde=function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var n=t.split("").map(function(s){return s.charCodeAt(0)}),r=new un,a=0,i=n.length;a<i;a++){var o=String.fromCharCode(n[a]&255);if(o==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new un,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,n){this.minSize=t,this.maxSize=n},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Ln.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),zde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ude=function(e){zde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return La},t.prototype.encode=function(n){for(var r=new un;n.hasMoreCharacters();){var a=n.getCurrentChar();n.pos++,this.encodeChar(a,r);var i=r.length();if(i%3===0){this.writeNextTriplet(n,r);var o=dl.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(Xn);break}}}this.handleEOD(n,r)},t.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):dl.illegalCharacter(wn.getCharAt(n));break}return 1},t.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var a=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=r.length();n.pos-=i,(n.getRemainingCharacters()>1||a>1||n.getRemainingCharacters()!==a)&&n.writeCodeword(Ide),n.getNewEncoding()<0&&n.signalEncoderChange(Xn)},t}(mO),Hde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gde=function(e){Hde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return so},t.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var a=2;return a+=this.encodeChar(n-128,r),a},t}(mO),dl=function(){function e(){}return e.randomize253State=function(t){var n=149*t%253+1,r=a8+n;return r<=254?r:r-254},e.encodeHighLevel=function(t,n,r,a,i){n===void 0&&(n=0),r===void 0&&(r=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new mO,s=[new Rde,o,new Gde,new Ude,new Dde,new Nde],l=new jde(t);l.setSymbolShape(n),l.setSizeConstraints(r,a),t.startsWith(i8)&&t.endsWith(s8)?(l.writeCodeword(Tde),l.setSkipAtEnd(2),l.pos+=i8.length):t.startsWith(o8)&&t.endsWith(s8)&&(l.writeCodeword(Ode),l.setSkipAtEnd(2),l.pos+=o8.length);var c=Xn;for(i&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();u<f&&c!==Xn&&c!==Ni&&c!==Qa&&l.writeCodeword("þ");var d=l.getCodewords();for(d.length()<f&&d.append(a8);d.length()<f;)d.append(this.randomize253State(d.length()+1));return l.getCodewords().toString()},e.lookAheadTest=function(t,n,r){var a=this.lookAheadTestIntern(t,n,r);if(r===La&&a===La){for(var i=Math.min(n+3,t.length),o=n;o<i;o++)if(!this.isNativeX12(t.charCodeAt(o)))return Xn}else if(r===Qa&&a===Qa){for(var i=Math.min(n+4,t.length),o=n;o<i;o++)if(!this.isNativeEDIFACT(t.charCodeAt(o)))return Xn}return a},e.lookAheadTestIntern=function(t,n,r){if(n>=t.length)return r;var a;r===Xn?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[r]=0);for(var i=0,o=new Uint8Array(6),s=[];;){if(n+i===t.length){za.fill(o,0),za.fill(s,0);var l=this.findMinimums(a,s,dn.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[Xn]===l)return Xn;if(c===1){if(o[Ni]>0)return Ni;if(o[Qa]>0)return Qa;if(o[so]>0)return so;if(o[La]>0)return La}return gi}var u=t.charCodeAt(n+i);if(i++,this.isDigit(u)?a[Xn]+=.5:this.isExtendedASCII(u)?(a[Xn]=Math.ceil(a[Xn]),a[Xn]+=2):(a[Xn]=Math.ceil(a[Xn]),a[Xn]++),this.isNativeC40(u)?a[gi]+=2/3:this.isExtendedASCII(u)?a[gi]+=8/3:a[gi]+=4/3,this.isNativeText(u)?a[so]+=2/3:this.isExtendedASCII(u)?a[so]+=8/3:a[so]+=4/3,this.isNativeX12(u)?a[La]+=2/3:this.isExtendedASCII(u)?a[La]+=13/3:a[La]+=10/3,this.isNativeEDIFACT(u)?a[Qa]+=3/4:this.isExtendedASCII(u)?a[Qa]+=17/4:a[Qa]+=13/4,this.isSpecialB256(u)?a[Ni]+=4:a[Ni]++,i>=4){if(za.fill(o,0),za.fill(s,0),this.findMinimums(a,s,dn.MAX_VALUE,o),s[Xn]<this.min(s[Ni],s[gi],s[so],s[La],s[Qa]))return Xn;if(s[Ni]<s[Xn]||s[Ni]+1<this.min(s[gi],s[so],s[La],s[Qa]))return Ni;if(s[Qa]+1<this.min(s[Ni],s[gi],s[so],s[La],s[Xn]))return Qa;if(s[so]+1<this.min(s[Ni],s[gi],s[Qa],s[La],s[Xn]))return so;if(s[La]+1<this.min(s[Ni],s[gi],s[Qa],s[so],s[Xn]))return La;if(s[gi]+1<this.min(s[Xn],s[Ni],s[Qa],s[so])){if(s[gi]<s[La])return gi;if(s[gi]===s[La]){for(var f=n+i+1;f<t.length;){var d=t.charCodeAt(f);if(this.isX12TermSep(d))return La;if(!this.isNativeX12(d))break;f++}return gi}}}}},e.min=function(t,n,r,a,i){var o=Math.min(t,Math.min(n,Math.min(r,a)));return i===void 0?o:Math.min(o,i)},e.findMinimums=function(t,n,r,a){for(var i=0;i<6;i++){var o=n[i]=Math.ceil(t[i]);r>o&&(r=o,za.fill(a,0)),r===o&&(a[i]=a[i]+1)}return r},e.getMinimumCount=function(t){for(var n=0,r=0;r<6;r++)n+=t[r];return n||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,n){n===void 0&&(n=0);for(var r=t.length,a=n;a<r&&this.isDigit(t.charCodeAt(a));)a++;return a-n},e.illegalCharacter=function(t){var n=dn.toHexString(t.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+t+" (0x"+n+")")},e}(),j_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l8=function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return Fs.encode(t,this.charset)!=null}catch{return!1}},e}(),Wde=function(){function e(t,n,r){var a,i,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(S){return new l8(wde.forName(S))}),this.encoders=[];var u=[];u.push(new l8(_de.ISO_8859_1));for(var f=n!=null&&n.name.startsWith("UTF"),d=0;d<t.length;d++){var h=!1;try{for(var p=(a=void 0,j_(u)),v=p.next();!v.done;v=p.next()){var g=v.value,m=t.charAt(d),y=m.charCodeAt(0);if(y===r||g.canEncode(m)){h=!0;break}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}if(!h)try{for(var x=(o=void 0,j_(this.ENCODERS)),b=x.next();!b.done;b=x.next()){var g=b.value;if(g.canEncode(t.charAt(d))){u.push(g),h=!0;break}}}catch(S){o={error:S}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}h||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var E=0;try{for(var _=j_(u),w=_.next();!w.done;w=_.next()){var g=w.value;this.encoders[E++]=g}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}var A=-1;if(n!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&n.name===this.encoders[d].name){A=d;break}}this.priorityEncoderIndex=A}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return Fs.encode(wn.getCharAt(t),this.encoders[n].name)},e}(),Vde=3,Yde=function(){function e(t,n,r){this.fnc1=r;var a=new Wde(t,n,r);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=t.charAt(i).charCodeAt(0);this.bytes[i]=o===r?1e3:o}else this.bytes=this.encodeMinimally(t,a,r)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,n){if(t+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(t+r))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,n){if(t<0||t>n||n>this.length())throw new Error(""+t);for(var r=new un,a=t;a<n;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");r.append(this.charAt(a))}return r.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,n,r){(t[n][r.encoderIndex]==null||t[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(t[n][r.encoderIndex]=r)},e.prototype.addEdges=function(t,n,r,a,i,o){var s=t.charAt(a).charCodeAt(0),l=0,c=n.length();n.getPriorityEncoderIndex()>=0&&(s===o||n.canEncode(s,n.getPriorityEncoderIndex()))&&(l=n.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(s===o||n.canEncode(s,u))&&this.addEdge(r,a+1,new c8(s,n,u,i,o))},e.prototype.encodeMinimally=function(t,n,r){var a=t.length,i=new c8[a+1][n.length()];this.addEdges(t,n,i,0,null,r);for(var o=1;o<=a;o++){for(var s=0;s<n.length();s++)i[o][s]!=null&&o<a&&this.addEdges(t,n,i,o,i[o][s],r);for(var s=0;s<n.length();s++)i[o-1][s]=null}for(var l=-1,c=dn.MAX_VALUE,s=0;s<n.length();s++)if(i[a][s]!=null){var u=i[a][s];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],d=i[a][l];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=n.encode(d.c,d.encoderIndex),o=h.length-1;o>=0;o--)f.unshift(h[o]&255);var p=d.previous===null?0:d.previous.encoderIndex;p!==d.encoderIndex&&f.unshift(256+n.getECIValue(d.encoderIndex)),d=d.previous}for(var v=[],o=0;o<v.length;o++)v[o]=f[o];return v},e}(),c8=function(){function e(t,n,r,a,i){this.c=t,this.encoderSet=n,this.encoderIndex=r,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var o=this.isFNC1()?1:n.encode(t,r).length,s=a===null?0:a.encoderIndex;s!==r&&(o+=Vde),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return e.prototype.isFNC1=function(){return this.c===1e3},e}(),Xde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var u8;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(u8||(u8={}));(function(e){Xde(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.shape=i,s.macroId=o,s}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(Yde);var qde=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e}(),f8=function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,n){return t.sort(n)[0]},e}(),Kde=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),Zde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yO=function(e){Zde(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.value=r,i.bitCount=a,i}return t.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,r){return new t(this,n,r)},t.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,r)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+dn.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t}(Kde),Qde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jde=function(e){Qde(t,e);function t(n,r,a){var i=e.call(this,n,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(n,r){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):a===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(n,r){return new t(this,n,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(yO);function e0e(e,t,n){return new Jde(e,t,n)}function Up(e,t,n){return new yO(e,t,n)}var t0e=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ef=0,jx=1,Is=2,O9=3,cc=4,n0e=new yO(null,0,0),z_=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],r0e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function a0e(e){var t,n;try{for(var r=r0e(e),a=r.next();!a.done;a=r.next()){var i=a.value;za.fill(i,-1)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e[ef][cc]=0,e[jx][cc]=0,e[jx][ef]=28,e[O9][cc]=0,e[Is][cc]=0,e[Is][ef]=15,e}var C9=a0e(za.createInt32Array(6,6)),i0e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o0e=function(){function e(t,n,r,a){this.token=t,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var r=this.bitCount,a=this.token;if(t!==this.mode){var i=z_[this.mode][t];a=Up(a,i&65535,i>>16),r+=i>>16}var o=t===Is?4:5;return a=Up(a,n,o),new e(a,t,0,r+o)},e.prototype.shiftAndAppend=function(t,n){var r=this.token,a=this.mode===Is?4:5;return r=Up(r,C9[this.mode][t],a),r=Up(r,n,5),new e(r,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,r=this.mode,a=this.bitCount;if(this.mode===cc||this.mode===Is){var i=z_[r][ef];n=Up(n,i&65535,i>>16),a+=i>>16,r=ef}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new e(n,r,this.binaryShiftByteCount+1,a+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=e0e(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(n,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(z_[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(t){for(var n,r,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new si;try{for(var s=i0e(a),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,t)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},e.prototype.toString=function(){return wn.format("%s bits=%d bytes=%d",t0e[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(n0e,ef,0,0),e}();function s0e(e){var t=wn.getCharCode(" "),n=wn.getCharCode("."),r=wn.getCharCode(",");e[ef][t]=1;for(var a=wn.getCharCode("Z"),i=wn.getCharCode("A"),o=i;o<=a;o++)e[ef][o]=o-i+2;e[jx][t]=1;for(var s=wn.getCharCode("z"),l=wn.getCharCode("a"),o=l;o<=s;o++)e[jx][o]=o-l+2;e[Is][t]=1;for(var c=wn.getCharCode("9"),u=wn.getCharCode("0"),o=u;o<=c;o++)e[Is][o]=o-u+2;e[Is][r]=12,e[Is][n]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)e[O9][wn.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)wn.getCharCode(h[d])>0&&(e[cc][wn.getCharCode(h[d])]=d);return e}var U_=s0e(za.createInt32Array(5,256)),bm=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l0e=function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=wn.getCharCode(" "),n=wn.getCharCode(`
`),r=f8.singletonList(o0e.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case wn.getCharCode("\r"):i=o===n?2:0;break;case wn.getCharCode("."):i=o===t?3:0;break;case wn.getCharCode(","):i=o===t?4:0;break;case wn.getCharCode(":"):i=o===t?5:0;break;default:i=0}i>0?(r=e.updateStateListForPair(r,a,i),a++):r=this.updateStateListForChar(r,a)}var s=f8.min(r,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var r,a,i=[];try{for(var o=bm(t),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,n,i)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,n,r){for(var a=this.text[n]&255,i=U_[t.getMode()][a]>0,o=null,s=0;s<=cc;s++){var l=U_[s][a];if(l>0){if(o==null&&(o=t.endBinaryShift(n)),!i||s===t.getMode()||s===Is){var c=o.latchAndAppend(s,l);r.push(c)}if(!i&&C9[t.getMode()][s]>=0){var u=o.shiftAndAppend(s,l);r.push(u)}}}if(t.getBinaryShiftByteCount()>0||U_[t.getMode()][a]===0){var f=t.addBinaryShiftChar(n);r.push(f)}},e.updateStateListForPair=function(t,n,r){var a,i,o=[];try{for(var s=bm(t),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,n,r,o)}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return this.simplifyStates(o)},e.updateStateForPair=function(t,n,r,a){var i=t.endBinaryShift(n);if(a.push(i.latchAndAppend(cc,r)),t.getMode()!==cc&&a.push(i.shiftAndAppend(cc,r)),r===3||r===4){var o=i.latchAndAppend(Is,16-r).latchAndAppend(Is,1);a.push(o)}if(t.getBinaryShiftByteCount()>0){var s=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);a.push(s)}},e.simplifyStates=function(t){var n,r,a,i,o=[];try{for(var s=bm(t),l=s.next();!l.done;l=s.next()){var c=l.value,u=!0,f=function(g){if(g.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(g)&&(o=o.filter(function(m){return m!==g}))};try{for(var d=(a=void 0,bm(o)),h=d.next();!h.done;h=d.next()){var p=h.value,v=f(p);if(v==="break")break}}catch(g){a={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}u&&o.push(c)}}catch(g){n={error:g}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},e}(),c0e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,r){var a=new l0e(t).encode(),i=dn.truncDivision(a.getSize()*n,100)+11,o=a.getSize()+i,s,l,c,u,f;if(r!==e.DEFAULT_AZTEC_LAYERS){if(s=r<0,l=Math.abs(r),l>(s?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new Nt(wn.format("Illegal value %s for layers",r));c=e.totalBitsInLayer(l,s),u=e.WORD_SIZE[l];var d=c-c%u;if(f=e.stuffBits(a,u),f.getSize()+i>d)throw new Nt("Data to large for user specified layer");if(s&&f.getSize()>u*64)throw new Nt("Data to large for user specified layer")}else{u=0,f=null;for(var h=0;;h++){if(h>e.MAX_NB_BITS)throw new Nt("Data too large for an Aztec code");if(s=h<=3,l=s?h+1:h,c=e.totalBitsInLayer(l,s),!(o>c)){(f==null||u!==e.WORD_SIZE[l])&&(u=e.WORD_SIZE[l],f=e.stuffBits(a,u));var d=c-c%u;if(!(s&&f.getSize()>u*64)&&f.getSize()+i<=d)break}}}var p=e.generateCheckWords(f,c,u),v=f.getSize()/u,g=e.generateModeMessage(s,l,v),m=(s?11:14)+l*4,y=new Int32Array(m),x;if(s){x=m;for(var h=0;h<y.length;h++)y[h]=h}else{x=m+1+2*dn.truncDivision(dn.truncDivision(m,2)-1,15);for(var b=dn.truncDivision(m,2),E=dn.truncDivision(x,2),h=0;h<b;h++){var _=h+dn.truncDivision(h,15);y[b-h-1]=E-_-1,y[b+h]=E+_+1}}for(var w=new _c(x),h=0,A=0;h<l;h++){for(var S=(l-h)*4+(s?9:12),k=0;k<S;k++)for(var T=k*2,O=0;O<2;O++)p.get(A+T+O)&&w.set(y[h*2+O],y[h*2+k]),p.get(A+S*2+T+O)&&w.set(y[h*2+k],y[m-1-h*2-O]),p.get(A+S*4+T+O)&&w.set(y[m-1-h*2-O],y[m-1-h*2-k]),p.get(A+S*6+T+O)&&w.set(y[m-1-h*2-k],y[h*2+O]);A+=S*8}if(e.drawModeMessage(w,s,x,g),s)e.drawBullsEye(w,dn.truncDivision(x,2),5);else{e.drawBullsEye(w,dn.truncDivision(x,2),7);for(var h=0,k=0;h<dn.truncDivision(m,2)-1;h+=15,k+=16)for(var O=dn.truncDivision(x,2)&1;O<x;O+=2)w.set(dn.truncDivision(x,2)-k,O),w.set(dn.truncDivision(x,2)+k,O),w.set(O,dn.truncDivision(x,2)-k),w.set(O,dn.truncDivision(x,2)+k)}var C=new qde;return C.setCompact(s),C.setSize(x),C.setLayers(l),C.setCodeWords(v),C.setMatrix(w),C},e.drawBullsEye=function(t,n,r){for(var a=0;a<r;a+=2)for(var i=n-a;i<=n+a;i++)t.set(i,n-a),t.set(i,n+a),t.set(n-a,i),t.set(n+a,i);t.set(n-r,n-r),t.set(n-r+1,n-r),t.set(n-r,n-r+1),t.set(n+r,n-r),t.set(n+r,n-r+1),t.set(n+r,n+r-1)},e.generateModeMessage=function(t,n,r){var a=new si;return t?(a.appendBits(n-1,2),a.appendBits(r-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(n-1,5),a.appendBits(r-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,n,r,a){var i=dn.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var s=i-3+o;a.get(o)&&t.set(s,i-5),a.get(o+7)&&t.set(i+5,s),a.get(20-o)&&t.set(s,i+5),a.get(27-o)&&t.set(i-5,s)}else for(var o=0;o<10;o++){var s=i-5+o+dn.truncDivision(o,5);a.get(o)&&t.set(s,i-7),a.get(o+10)&&t.set(i+7,s),a.get(29-o)&&t.set(s,i+7),a.get(39-o)&&t.set(i-7,s)}},e.generateCheckWords=function(t,n,r){var a,i,o=t.getSize()/r,s=new k9(e.getGF(r)),l=dn.truncDivision(n,r),c=e.bitsToWords(t,r,l);s.encode(c,l-o);var u=n%r,f=new si;f.appendBits(0,u);try{for(var d=c0e(Array.from(c)),h=d.next();!h.done;h=d.next()){var p=h.value;f.appendBits(p,r)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,n,r){var a=new Int32Array(r),i,o;for(i=0,o=t.getSize()/n;i<o;i++){for(var s=0,l=0;l<n;l++)s|=t.get(i*n+l)?1<<n-l-1:0;a[i]=s}return a},e.getGF=function(t){switch(t){case 4:return Do.AZTEC_PARAM;case 6:return Do.AZTEC_DATA_6;case 8:return Do.AZTEC_DATA_8;case 10:return Do.AZTEC_DATA_10;case 12:return Do.AZTEC_DATA_12;default:throw new Nt("Unsupported word size "+t)}},e.stuffBits=function(t,n){for(var r=new si,a=t.getSize(),i=(1<<n)-2,o=0;o<a;o+=n){for(var s=0,l=0;l<n;l++)(o+l>=a||t.get(o+l))&&(s|=1<<n-1-l);(s&i)===i?(r.appendBits(s&i,n),o--):(s&i)===0?(r.appendBits(s|1,n),o--):r.appendBits(s,n)}return r},e.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();class qc{static addEvent(t,n){window.addEventListener(t,n)}static removeEvent(t,n){window.removeEventListener(t,n)}static observer(t,n,r={attributes:!0,childList:!0,subtree:!0}){let a=window.MutationObserver;new a(o=>{n(o)}).observe(t,r)}static getPropertyValue(t,n){return getComputedStyle(t).getPropertyValue("width")}static loadFile(t,n=!1,r=""){let a=[],i=!1;for(let o of t)if(i=this._isInclude(o,r),n&&(i=!1),a=o.split("."),a[a.length-1]=="js"||r=="js"){if(!i){let s=document.createElement("script");s.setAttribute("src",o),document.body.appendChild(s)}}else if((a[a.length-1]=="css"||r=="css")&&!i){let s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",o),document.body.appendChild(s)}}static _isInclude(t,n=""){let r=n=="js"||/js$/i.test(t);const a=document.getElementsByTagName(r?"script":"link");for(let i of a)if(i[r?"src":"href"].indexOf(t)!=-1)return!0;return!1}}class kA{static Trim(t,n="\\s"){const r=new RegExp("(^"+n+"*)|("+n+"*$)","gi");return t.toString().replace(r,"")}static LTrim(t,n="\\s"){const r=new RegExp("(^"+n+"*)","gi");return t.toString().replace(r,"")}static RTrim(t,n="\\s"){const r=new RegExp("("+n+"*$)","gi");return t.toString().replace(r,"")}static CopyText(t){try{let n=n;switch(n.os.name){case"iOS":let i=n.ios.importClass("UIPasteboard").generalPasteboard();i.setValueforPasteboardType(t+"","public.utf8-plain-text");let o=i.valueForPasteboardType("public.utf8-plain-text");St.Toast("复制成功");break;case"Android":let s=n.android.importClass("android.content.Context"),c=n.android.runtimeMainActivity().getSystemService(s.CLIPBOARD_SERVICE);n.android.invoke(c,"setText",t+""),St.Toast("复制成功");break}}catch{let r=document,a=r.createElement("input");a.value=t+"",r.body.appendChild(a),a.select(),r.execCommand("Copy"),a.className="oInput",a.style.display="none",St.Toast("复制成功")}}static getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}static sort2DArray(t,n,r=!0){const a=JSON.parse(JSON.stringify(t)),i=Array.isArray(n)?n:[n];return a.sort((o,s)=>{for(const l of i){const c=l.split(".").reduce((f,d)=>f==null?void 0:f[d],o),u=l.split(".").reduce((f,d)=>f==null?void 0:f[d],s);if(c!==u){const f=typeof c=="string"?c.localeCompare(u):c-u;return r?f:-f}}return 0})}}const u0e={class:"wm-checkbox"},f0e={key:0,class:"partially"},d0e={key:1,class:"all"},h0e={key:0,class:"label"},p0e={key:0,class:"partially"},v0e={key:1,class:"all"},g0e={key:0,class:"label"},m0e=ln({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:{}},partially:{type:Boolean,default:!1},margin:{type:String,default:"4px 4px"},padding:{type:String,default:"4px"}},emits:["update:value","checkbox"],setup(e,{emit:t}){const n=e,r=t,a=Ce({});sn(()=>n.options,o=>{a.value=o},{deep:!0}),Wn(()=>{a.value=n.options});const i=()=>{const o=a.value;o.checked=!o.checked,r("update:value",o.checked?o.value:""),r("checkbox",o.label,o.value)};return(o,s)=>(Z(),ne("ul",u0e,[e.options.disabled?(Z(),ne("li",{key:0,class:"disabled",style:We({margin:e.margin,padding:e.padding})},[Y("span",{class:Qe(["checkbox",e.options.checked?"active":""])},[e.partially?(Z(),ne("i",f0e)):(Z(),ne("i",d0e))],2),e.options.label?(Z(),ne("span",h0e,be(e.options.label),1)):rt(o.$slots,"default",{key:1},void 0,!0)],4)):(Z(),ne("li",{key:1,style:We({margin:e.margin,padding:e.padding}),onClick:s[0]||(s[0]=Ti(l=>i(),["stop"]))},[Y("span",{class:Qe(["checkbox",e.options.checked||e.value===e.options.value?"active":""])},[e.partially?(Z(),ne("i",p0e)):(Z(),ne("i",v0e))],2),e.options.label?(Z(),ne("span",g0e,be(e.options.label),1)):rt(o.$slots,"default",{key:1},void 0,!0)],4))]))}}),wm=fi(m0e,[["__scopeId","data-v-ac128409"]]),y0e={class:"wm-table_title"},x0e={key:0,class:"checkbox"},b0e=["onClick"],w0e={class:"order"},_0e={class:"wm-table_list"},E0e={key:0},S0e=["title"],A0e={key:1},k0e={key:1},T0e=["title"],O0e={key:1},C0e={key:1},M0e=["title"],P0e={key:1},I0e={key:2},R0e=["colspan"],N0e={key:0},D0e=["colspan"],L0e={key:1},F0e=["colspan"],B0e=ln({__name:"index",props:{columns:{type:Array,default:[]},options:{type:Array,default:[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},overflow:{type:String,default:""},isCheckbox:{type:Boolean,default:!0},isSlot:{type:Boolean,default:!1},isBottom:{type:Boolean,default:!1},maxLen:{type:Number,default:0}},emits:["partially","orderBy"],setup(e,{expose:t,emit:n}){const r=e,a=n,i=Ce(!1),o=Ce({checked:!1,partially:!1,value:"",data:{label:"",value:"all",checked:!1}});sn(()=>r.columns,d=>{c()},{deep:!0});const s=(d="")=>{if(r.options.length!=0){o.value.checked=typeof d=="boolean"?d:!o.value.checked;for(let h in r.options)r.options[h].disabled||(r.options[h].checked=o.value.checked);c()}},l=(d,h)=>{for(let p in r.options)if(r.options[p].id==h){r.options[p].checked=!r.options[p].checked;break}c()},c=()=>{let d=0;const h=r.options.length;for(let p in r.options)r.options[p].checked&&d++;h>0&&h==d?(o.value.checked=!0,o.value.value="all",o.value.partially=!1,o.value.data.checked=!0):h>0&&d>0?(o.value.checked=!0,o.value.value="all",o.value.partially=!0,o.value.data.checked=!0):(o.value.checked=!1,o.value.value="other",o.value.partially=!1,o.value.data.checked=!1),a("partially",d,h)},u=()=>{let d=[],h={};for(let p in r.options)r.options[p].checked&&(h=r.options[p],h.index=parseInt(p),d.push(h));return d},f=(d,h,p)=>{p=="ASC"?p="DESC":p=="DESC"?p="":p="ASC",r.columns[d].order=p,a("orderBy",p?h+" "+p:"")};return t({checkboxAll:s,getData:u}),(d,h)=>(Z(),ne("div",{class:"wm-table_body scrollbar",style:We({height:e.height,overflow:e.overflow})},[Y("table",{class:"wm-table",style:We({width:e.width,height:e.options.length==0?e.height:""})},[Y("thead",y0e,[Y("tr",null,[e.isCheckbox?(Z(),ne("td",x0e,[mt(wm,{value:o.value.value,"onUpdate:value":h[0]||(h[0]=p=>o.value.value=p),partially:o.value.partially,options:o.value.data,margin:"0",onCheckbox:h[1]||(h[1]=p=>s())},null,8,["value","partially","options"])])):ye("",!0),(Z(!0),ne(Ve,null,Ft(e.columns,(p,v)=>(Z(),ne("td",{key:v,style:We({width:p.width,minWidth:p.minWidth,maxWidth:p.maxWidth?p.maxWidth+" !important":"",textAlign:p.textAlign})},[Jt(be(p.title)+" ",1),["","ASC","DESC"].includes(p.order)?(Z(),ne("div",{key:0,class:"order_body",onClick:g=>f(v,p.index,p.order)},[Y("div",w0e,[Y("i",{class:Qe(["ui ui_arrow_up",p.order=="DESC"?"active":""])},null,2),Y("i",{class:Qe(["ui ui_arrow_down",p.order=="ASC"?"active":""])},null,2)])],8,b0e)):ye("",!0)],4))),128))])]),Y("tbody",_0e,[e.options.length>0?(Z(!0),ne(Ve,{key:0},Ft(e.options,(p,v)=>(Z(),ne(Ve,{key:v},[e.maxLen>0&&(typeof p.display>"u"||p.display)?(Z(),ne(Ve,{key:0},[v<e.maxLen?(Z(),ne("tr",E0e,[e.isCheckbox?(Z(),ne("td",{key:0,class:Qe(["checkbox",p.checked?"active":""])},[mt(wm,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ve,null,Ft(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Qe([p.checked?"active":"",g.class?g.class:""])},[g.slot?rt(d.$slots,g.slot,oa({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",A0e,be(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,S0e))),128))])):i.value&&(typeof p.display>"u"||p.display)?(Z(),ne("tr",k0e,[e.isCheckbox?(Z(),ne("td",{key:0,class:Qe(["checkbox",p.checked?"active":""])},[mt(wm,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ve,null,Ft(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Qe([p.checked?"active":"",g.class?g.class:""])},[g.slot?rt(d.$slots,g.slot,oa({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",O0e,be(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,T0e))),128))])):ye("",!0)],64)):typeof p.display>"u"||p.display?(Z(),ne("tr",C0e,[e.isCheckbox?(Z(),ne("td",{key:0,class:Qe(["checkbox",p.checked?"active":""])},[mt(wm,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ve,null,Ft(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Qe([p.checked?"active":"",g.class?g.class:""])},[g.slot?rt(d.$slots,g.slot,oa({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",P0e,be(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,M0e))),128))])):ye("",!0)],64))),128)):e.options.length==0&&e.isSlot?rt(d.$slots,"default",{key:1},void 0,!0):e.isBottom?ye("",!0):(Z(),ne("tr",I0e,[Y("td",{class:"null",colspan:e.columns.length+(e.isCheckbox?1:0)},null,8,R0e)]))]),e.maxLen&&e.options.length-e.maxLen>0?(Z(),ne("tr",N0e,[Y("td",{class:"wm-table_show",colspan:e.columns.length+(e.isCheckbox?1:0),style:{padding:"0"}},[Y("span",{onClick:h[2]||(h[2]=p=>i.value=!i.value)},be(i.value?"隐藏":"显示剩余")+"( "+be(e.options.length-e.maxLen)+" )",1)],8,D0e)])):ye("",!0),e.isBottom?(Z(),ne("tr",L0e,[Y("td",{colspan:e.columns.length+(e.isCheckbox?1:0),style:{padding:"0"}},[rt(d.$slots,"bottom",{},void 0,!0)],8,F0e)])):ye("",!0)],4)],4))}}),H_=fi(B0e,[["__scopeId","data-v-0afe3748"]]),$0e=ln({__name:"index",props:{show:{type:String,default:""},height:{type:String,default:"24px"},padding:{type:String,default:"0 8px"},effect:{type:String,default:"plain"},type:{type:String,default:"default"},radius:{type:String,default:"4px"},fontSize:{type:String,default:"12px"}},setup(e){return(t,n)=>(Z(),ne("div",{class:Qe(["wm-tag",e.effect+"_"+e.type]),style:We({lineHeight:e.height,padding:e.padding,borderRadius:e.radius,fontSize:e.fontSize})},[rt(t.$slots,"default",{},void 0,!0)],6))}}),j0e=fi($0e,[["__scopeId","data-v-d499a131"]]),z0e={class:"wm-goods_left scrollbar"},U0e={class:"search"},H0e=["title"],G0e={key:0,class:"ui ui_image"},W0e={class:"info"},V0e={class:"flex"},Y0e={class:"value"},X0e={class:"flex"},q0e={class:"value"},K0e={class:"flex"},Z0e={class:"value"},Q0e={class:"flex"},J0e={class:"value"},ehe={class:"flex"},the={class:"value"},nhe={class:"flex"},rhe={class:"value"},ahe={class:"flex"},ihe={class:"value"},ohe={class:"flex"},she={class:"value"},lhe={class:"flex"},che={class:"value"},uhe={class:"flex"},fhe={class:"value"},dhe={class:"flex"},hhe={class:"value"},phe={class:"flex"},vhe={class:"value"},ghe={class:"flex"},mhe={class:"value"},yhe={class:"flex"},xhe={class:"value"},bhe={class:"flex"},whe={class:"value"},_he={class:"flex"},Ehe={class:"value"},She={class:"wm-goods_right"},Ahe={class:"wm-goods_right_top flex"},khe={class:"tabs flex"},The=["onClick"],Ohe={key:0,class:"wm-goods_right_ct"},Che={class:"box direct"},Mhe={class:"box_top flex"},Phe={class:"total scrollbar"},Ihe={class:"total_info"},Rhe={class:"time flex"},Nhe=["onClick"],Dhe={class:"box_ct scrollbar"},Lhe={class:"tCenter color2"},Fhe={class:"tCenter"},Bhe={class:"tCenter"},$he={class:"tCenter type"},jhe={key:0,class:"type_warning"},zhe={key:1,class:"type_success"},Uhe={key:2,class:"type_warning"},Hhe={key:3,class:"type_success"},Ghe={key:4,class:"type_info"},Whe={key:5,class:"type_danger"},Vhe={key:6,class:"type_primary"},Yhe={key:7,class:"type_info"},Xhe={class:"tRight"},qhe={key:0},Khe={key:1},Zhe={key:1},Qhe={class:"tRight"},Jhe={key:0},epe={key:1},tpe={key:1},npe={class:"tCenter"},rpe={key:0},ape={key:1},ipe={class:"tCenter"},ope={key:0,class:"c_danger"},spe={key:1,class:"c_success"},lpe={class:"box stock"},cpe={class:"box_ct scrollbar"},upe={class:"box logs"},fpe={class:"box_ct scrollbar"},dpe=["title"],hpe={key:1,class:"wm-goods_img_body scrollbar"},ppe={ref:"imgContent",class:"wm-goods_img_list flex_left"},vpe={class:"img_body"},gpe=["onClick","title"],mpe={key:0,class:"ui ui_image"},ype=["onClick"],xpe={class:"name",title:"货品信息"},bpe=["onClick"],wpe={class:"img_body"},_pe={class:"name"},Epe={key:2,class:"wm-goods_right_ct wm-goods_photo_body"},Spe={class:"photo_tools flex"},Ape={class:"photo_goods"},kpe={class:"photo_goods_code"},Tpe={class:"photo_goods_info"},Ope={key:0},Cpe={key:1},Mpe={class:"photo_goods_ct scrollbar"},Ppe={class:"photo_goods_list"},Ipe=["onClick"],Rpe={key:0,class:"ui ui_image"},Npe=["onClick"],Dpe={class:"sku_id nowrap"},Lpe={class:"info nowrap"},Fpe={class:"action"},Bpe={key:0,class:"ui ui_more"},$pe=["onClick"],jpe={class:"photo_goods_action"},zpe=ln({__name:"Goods",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=Gs(),a=t,o=Rl().state,s=Ce(""),l=Ce({active:"info",list:[{label:"货品信息",value:"info"},{label:"封面图",value:"img"},{label:"拍照上传",value:"photo"}]}),c=Ce([{label:"3个月",value:"3"},{label:"6个月",value:"6"},{label:"1年",value:"12"},{label:"2年",value:"24"},{label:"3年",value:"36"}]),u=fA.priceEncode,f=Ce({times:"24",sku_id:""}),d=Ce({info:{},direct:{columns:[{title:"序号",index:"index",slot:"index",textAlign:"center",width:"40px"},{title:"ID",slot:"id",textAlign:"center",width:"80px"},{title:"单据日期",index:"ctime",slot:"ctime",textAlign:"center"},{title:"类型",index:"type",slot:"type",textAlign:"center"},{title:"仓库",index:"warehouse"},{title:"标签价(元)",index:"sale_price",slot:"sale_price",textAlign:"right"},{title:"吊牌价(W)",index:"market_price",slot:"market_price",textAlign:"right"},{title:"数量",index:"num",textAlign:"center",class:"tCenter"},{title:"折扣",index:"ratio",slot:"ratio",textAlign:"center",class:"tCenter"},{title:"品牌",index:"brand",textAlign:"center",class:"tCenter"},{title:"采购员",index:"owner",textAlign:"center",class:"tCenter"},{title:"状态",index:"status",slot:"status",textAlign:"center"},{title:"备注",index:"remark"}],total:{},data:[]},stock:{columns:[{title:"时间",index:"utime",textAlign:"center",class:"color1",width:"160px",minWidth:"160px"},{title:"仓库ID",index:"wms_co_id",textAlign:"center",class:"tCenter",width:"120px",minWidth:"120px"},{title:"分仓名称",index:"wms_co_name"},{title:"库存",index:"num",textAlign:"center",class:"tCenter"}],data:[]},logs:{columns:[{title:"时间",index:"ctime",textAlign:"center",class:"color1",width:"160px",minWidth:"160px"},{title:"操作员",index:"operator",slot:"operator"},{title:"内容",index:"content"}],data:[]},imgs:{}}),h=Ce({screen:!1,camera:{horizontal:!0,vertical:!0},video:null,canvas:null,context:null,codeReader:null,isScan:!1,key:"",list:[],maxLen:100,isShow:!1,isTrue:!1,time:0,width:240,height:240}),p=Ce({show:!1,index:0,list:[]});sn(()=>n.show,L=>{if(L){if(r.$refs.GoodsDirect.style.opacity="1",o.goods.sku_id&&y(o.goods.sku_id),qc.addEvent("resize",E),l.value.active=="img"&&(E(),qc.observer(r.$refs.imgContent,F=>{E()})),l.value.active=="photo"&&T(),o.goods.photo.id){g("photo"),h.value.list=[];for(let F of o.goods.photo.list)h.value.list.push(F)}}else qc.removeEvent("resize",E),N()}),sn(()=>l.value.active,L=>{L=="photo"?T():N()});const v=()=>{if(!s.value)return St.Toast(o.langs.sku_id);const L=kA.LTrim(s.value.toUpperCase(),"0");y(L),s.value=""},g=L=>{l.value.active=L,L=="img"&&Hn(E)},m=L=>{d.value.direct.total={},d.value.direct.data=[],d.value.stock.data=[],d.value.logs.data=[],f.value.times=L,x()},y=(L,F="")=>{d.value.info={},d.value.direct.total={},d.value.direct.data=[],d.value.stock.data=[],d.value.logs.data=[];const H=St.Loading();Br.Post("erp_goods/info?lang="+o.lang,{token:o.token,sku_id:L},D=>{H.clear();const{code:G,msg:K,data:re}=D.data;G==0?(d.value.info=re,f.value.sku_id=re.sku_id,d.value.imgs[re.sku_id]={loaded:"0%",state:re.img?1:0,img:re.img},x(),F==="photo"&&(M(L,{properties_value:re.properties_value,sale_price:re.sale_price,market_price:re.market_price}),R(L),B())):(St.Toast(K),F==="photo"&&M(L,{loading:1}))})},x=()=>{if(!f.value.sku_id)return St.Toast(o.langs.sku_id);const L=St.Loading();Br.Post("erp_goods/direct?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},F=>{L.clear();const{code:H,msg:D,data:G}=F.data;H==0?(d.value.direct.total=G.total,d.value.direct.data=G.list):St.Toast(D)}),Br.Post("erp_goods/stock?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id},F=>{const{code:H,msg:D,data:G}=F.data;H==0?d.value.stock.data=G:St.Toast(D)}),Br.Post("erp_goods/logs?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},F=>{const{code:H,msg:D,data:G}=F.data;H==0?d.value.logs.data=G:St.Toast(D)})},b=()=>{const L=St.Loading();Br.Post("erp_goods/direct_export?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},F=>{L.clear();const{code:H,msg:D,data:G}=F.data;H==0?ti.Down(G.path+G.filename,G.filename):St.Toast(D)})},E=()=>{if(l.value.active!="img")return;let L=r.$refs.imgContent,F=parseFloat(qc.getPropertyValue(L,"width").replace("px",""));const H=Math.ceil(F/160)-(F<768?1:2);let D=L.children;for(let G of D)G.style.width="calc(100% / "+H+")"},_=()=>{ti.Select({multiple:"multiple"},L=>{for(let F=0;F<L.length;F++){let H=L[F],K=H.name.split(".")[0];d.value.imgs[K]={loaded:"0%",state:0,img:""},A(K,H)}})},w=L=>{ti.Select({},F=>{d.value.imgs[L].state=0,d.value.imgs[L].loaded="0%",A(L,F)})},A=(L,F)=>{ti.FileToBase64(F,H=>{ti.ImageCompress(H,{width:1024,height:1024,type:F.type},D=>{S(L,D,F.type)})})},S=(L,F,H,D="")=>{ti.Base64ToFile(F,L+"."+ti.GetTypeExt(H),G=>{let K=new FormData;K.append("token",o.token),K.append("sku_id",L),K.append("file",G),Br.Post("erp_goods/up_img?lang="+o.lang,K,re=>{const{code:ie,data:U,msg:q}=re.data;if(ie===0){let Q=U.oss_url+U.file+"?"+Li.Time();d.value.imgs[L]&&(d.value.imgs[L].img=Q),d.value.info.sku_id===L&&(d.value.info.img=Q),D==="photo"&&M(L,{img:Q,loading:1})}else St.Toast(q)},()=>{},{headers:{"Content-Type":"multipart/form-data;charset=utf-8"},onUploadProgress:re=>{let ie=re.loaded/re.total*100|0;ie<100?d.value.imgs[L].loaded=ie+"%":re.upload&&(d.value.imgs[L].state=1,d.value.imgs[L].loaded="100%")}})})},k=L=>{Br.Post("erp_goods/remove_img?lang="+o.lang,{token:o.token,sku_id:L},F=>{const H=F.data;H.code==0?(d.value.imgs[L]&&(d.value.imgs[L].img=""),f.value.sku_id==L&&(d.value.info.img="")):St.Toast(H.msg)})},T=()=>{Hn(()=>{if(h.value.video=document.getElementById("GoodsPhotoVideo"),h.value.canvas=document.getElementById("GoodsPhotoCanvas"),h.value.context=h.value.canvas.getContext("2d"),navigator.mediaDevices===void 0||navigator.mediaDevices.getUserMedia===void 0||!(navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia))return St.Toast("浏览器不支持调用摄像头!");navigator.mediaDevices.getUserMedia({video:{width:{ideal:3840},height:{ideal:2160},frameRate:{ideal:30}}}).then(F=>{h.value.video.srcObject=F,h.value.video.onloadedmetadata=()=>{},h.value.isTrue=!0}).catch(F=>(h.value.isTrue=!1,St.Toast("无法访问摄像头!")))})},O=()=>{if(!h.value.key)return St.Toast(o.langs.sku_id);const L=kA.LTrim(h.value.key.toUpperCase(),"0");C(L)?St.Toast("[ "+L+" ]已存在!"):h.value.list.unshift({id:"",sku_id:L,properties_value:"",loading:0,img:""}),h.value.key="",y(L,"photo")},C=L=>{for(let F of h.value.list)if(F.sku_id===L)return!0;return!1},M=(L,F={})=>{const H=h.value.list;for(let D in H)if(H[D].sku_id===L){for(let G in F)H[D][G]=F[G];break}},R=L=>{o.goods.photo.id&&Br.Post("erp_purchase_in/goods_add?lang="+o.lang,{token:o.token,id:o.goods.photo.id,ctime:o.goods.photo.ctime,wms_co_id:o.goods.photo.wms_co_id,data:[{sku_id:L,num:1}]},F=>{const{code:H,msg:D,data:G,err:K}=F.data;H===0?M(L,{id:G[L].id}):St.Toast(D)})},I=(L,F={})=>{F.img&&k(F.sku_id),h.value.list.splice(L,1),F.id&&Br.Post("erp_purchase_in/goods_remove?lang="+o.lang,{token:o.token,id:o.goods.photo.id,ctime:o.goods.photo.ctime,wms_co_id:o.goods.photo.wms_co_id,data:[{id:F.id,sku_id:F.sku_id,num:1}]},H=>{const{code:D,msg:G}=H.data;D!==0&&St.Toast(G)})},P=async(L=!0)=>{if(h.value.isScan=L,h.value.isScan){h.value.codeReader=new fde;const F=await h.value.codeReader.listVideoInputDevices(),H={video:{width:{ideal:300},height:{ideal:300},focusMode:"continuous"}};h.value.codeReader.decodeFromVideoDevice(F[0].deviceId,"GoodsScanVideo",(D,G)=>{D&&(C(D.text)?St.Toast("[ "+D.text+" ]已存在!"):h.value.list.unshift({id:"",sku_id:D.text,properties_value:"",loading:0,img:""}),y(D.text,"photo"),h.value.codeReader.reset(),setTimeout(()=>{P()},2e3))},H)}else h.value.codeReader.reset()},B=()=>{if(!f.value.sku_id)return St.Toast(o.langs.sku_id);if(!h.value.isTrue)return St.Toast("请打开摄像头!");setTimeout(()=>{const L=h.value.video.videoWidth*3,F=h.value.video.videoHeight*3;h.value.canvas.width=L,h.value.canvas.height=F,h.value.camera.horizontal||(h.value.context.translate(L,0),h.value.context.scale(-1,1)),h.value.camera.vertical||(h.value.context.translate(0,F),h.value.context.scale(1,-1)),h.value.context.drawImage(h.value.video,0,0,L,F);const H=h.value.canvas.toDataURL("image/jpeg");ti.ImageCompress(H,{width:1024,height:1024},D=>{M(f.value.sku_id,{img:D}),S(f.value.sku_id,D,"image/jpeg","photo")})},h.value.time)},N=()=>{h.value.isTrue&&(h.value.isTrue=!1,h.value.video.srcObject.getTracks()[0].stop(),h.value.codeReader&&(h.value.isScan=!1,h.value.codeReader.reset())),h.value.video=null,h.value.canvas=null,h.value.context=null},V=L=>{p.value.show=!0,p.value.index=0,p.value.list=L},W=L=>{let F=0,H=[];const D=d.value.imgs;for(let G in D)D[G].img&&(H.push({label:G,value:D[G].img}),L==G&&(p.value.index=F),F++);p.value.show=!0,p.value.list=H},z=L=>{let F=0,H=[];const D=h.value.list;for(let G of D)G.img&&(H.push({label:G.sku_id,value:G.img,other:{颜色及规格:G.properties_value,标签价:G.sale_price+"元",吊牌价:G.market_price+"W"}}),L===G.sku_id&&(p.value.index=F),F++);p.value.show=!0,p.value.list=H},j=()=>{a("update:show",!1),r.$refs.GoodsDirect.style.opacity="0",o.goods.photo.id&&(o.goods.photo.refresh=!0,o.goods.photo.id="",o.goods.photo.ctime="",o.goods.photo.wms_co_id="",o.goods.photo.list=[],h.value.list=[])};return(L,F)=>(Z(),ne("div",{ref:"GoodsDirect",class:"wm-goods_body flex",style:We({visibility:e.show?"inherit":"hidden"})},[Y("div",z0e,[Y("div",U0e,[mt(Ps,{value:s.value,"onUpdate:value":F[0]||(F[0]=H=>s.value=H),onKeyup:F[1]||(F[1]=nu(H=>v(),["enter"])),onIconClick:F[2]||(F[2]=H=>v()),placeholder:J(o).langs.sku_id,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value","placeholder"])]),Y("div",{class:"img",style:We({backgroundImage:d.value.info.img?"url("+d.value.info.img+"&x-oss-process=image/resize,h_260)":""}),onClick:F[4]||(F[4]=H=>d.value.info.img?V([{label:d.value.info.sku_id,value:d.value.info.img,other:{颜色及规格:d.value.info.properties_value,标签价:d.value.info.sale_price+"元",吊牌价:d.value.info.market_price+"W"}}]):""),title:d.value.info.img?"预览图片":"请上传封面图"},[d.value.info.img?ye("",!0):(Z(),ne("i",G0e)),d.value.info.img?(Z(),ne("div",{key:1,class:"close",onClick:F[3]||(F[3]=Ti(H=>k(d.value.info.sku_id),["stop"])),title:"删除封面图"},F[21]||(F[21]=[Y("i",{class:"ui ui_close"},null,-1)]))):ye("",!0)],12,H0e),Y("ul",W0e,[Y("li",V0e,[F[22]||(F[22]=Y("span",{class:"name"},"商品编码",-1)),Y("span",Y0e,[Y("b",null,be(d.value.info.sku_id||"-"),1)])]),Y("li",X0e,[F[23]||(F[23]=Y("span",{class:"name"},"创建时间",-1)),Y("span",q0e,be(d.value.info.ctime||"-"),1)]),Y("li",K0e,[F[24]||(F[24]=Y("span",{class:"name"},"更新时间",-1)),Y("span",Z0e,be(d.value.info.utime||"-"),1)]),Y("li",Q0e,[F[25]||(F[25]=Y("span",{class:"name"},"商品名称",-1)),Y("span",J0e,be(d.value.info.name||"-"),1)]),Y("li",ehe,[F[26]||(F[26]=Y("span",{class:"name"},"颜色及规格",-1)),Y("span",the,be(d.value.info.properties_value||"-"),1)]),Y("li",nhe,[F[27]||(F[27]=Y("span",{class:"name"},"暗码",-1)),Y("span",rhe,be(d.value.info.short_name||"-"),1)]),Y("li",ahe,[F[28]||(F[28]=Y("span",{class:"name"},"款式编码",-1)),Y("span",ihe,be(d.value.info.i_id||"-"),1)]),Y("li",ohe,[F[29]||(F[29]=Y("span",{class:"name"},"标签价(元)",-1)),Y("b",she,be(d.value.info.sale_price!="0.00"?J(u)(d.value.info.sale_price):"0.00"),1)]),Y("li",lhe,[F[30]||(F[30]=Y("span",{class:"name"},"吊牌价(W)",-1)),Y("b",che,be(d.value.info.market_price!="0.00"?J(u)(d.value.info.market_price):"0.00"),1)]),Y("li",uhe,[F[31]||(F[31]=Y("span",{class:"name"},"单位",-1)),Y("span",fhe,be(d.value.info.unit||""),1)]),Y("li",dhe,[F[32]||(F[32]=Y("span",{class:"name"},"重量",-1)),Y("span",hhe,be(d.value.info.weight||"-"),1)]),Y("li",phe,[F[33]||(F[33]=Y("span",{class:"name"},"折扣",-1)),Y("b",vhe,be(d.value.info.ratio||"-"),1)]),Y("li",ghe,[F[34]||(F[34]=Y("span",{class:"name"},"标签",-1)),Y("span",mhe,be(d.value.info.labels||"-"),1)]),Y("li",yhe,[F[35]||(F[35]=Y("span",{class:"name"},"分类",-1)),Y("span",xhe,be(d.value.info.category||"-"),1)]),Y("li",bhe,[F[36]||(F[36]=Y("span",{class:"name"},"品牌",-1)),Y("span",whe,be(d.value.info.brand||"-"),1)]),Y("li",_he,[F[37]||(F[37]=Y("span",{class:"name"},"采购员",-1)),Y("span",Ehe,be(d.value.info.owner||"-"),1)])])]),Y("div",She,[Y("div",Ahe,[Y("ul",khe,[(Z(!0),ne(Ve,null,Ft(l.value.list,(H,D)=>(Z(),ne("li",{key:D,class:Qe(H.value==l.value.active?"active":""),onClick:G=>g(H.value)},be(H.label),11,The))),128))]),Y("div",{class:"close",onClick:F[5]||(F[5]=H=>j())},F[38]||(F[38]=[Y("i",{class:"ui ui_close"},null,-1)]))]),l.value.active=="info"?(Z(),ne("div",Ohe,[Y("div",Che,[Y("div",Mhe,[F[41]||(F[41]=Y("h2",null,"货品流向",-1)),Y("div",Phe,[Y("div",Ihe,[Jt(be(J(o).langs.goods_stock)+": ",1),Y("b",null,be(d.value.direct.total.total||"0"),1),Jt("   "+be(J(o).langs.goods_num_in)+"( ",1),Y("b",null,be(d.value.direct.total.num_in||"0"),1),Jt(" ) "+be(J(o).langs.goods_num_out)+"( ",1),Y("b",null,be(d.value.direct.total.num_out||"0"),1),Jt(" ) "+be(J(o).langs.goods_allocate)+"( ",1),Y("b",null,be(d.value.direct.total.allocate||"0"),1),Jt(" ) "+be(J(o).langs.goods_num_order)+"( ",1),Y("b",null,be(d.value.direct.total.num_order||"0"),1),Jt(" ) "+be(J(o).langs.goods_num_refund)+"( ",1),Y("b",null,be(d.value.direct.total.num_refund||"0"),1),Jt(" ) "+be(J(o).langs.goods_other_out)+"( ",1),Y("b",null,be(d.value.direct.total.other_out||"0"),1),Jt(" ) "+be(J(o).langs.goods_other_in)+"( ",1),Y("b",null,be(d.value.direct.total.other_in||"0"),1),F[39]||(F[39]=Jt(" ) "))])]),Y("ul",Rhe,[(Z(!0),ne(Ve,null,Ft(c.value,(H,D)=>(Z(),ne("li",{key:D,class:Qe(H.value==f.value.times?"active":""),onClick:G=>m(H.value)},be(H.label),11,Nhe))),128)),F[40]||(F[40]=Y("li",{class:"line"},"|",-1)),Y("li",{onClick:F[6]||(F[6]=H=>b())},"导出")])]),Y("div",Dhe,[mt(H_,{isCheckbox:!1,columns:d.value.direct.columns,options:d.value.direct.data},{index:ht(H=>[Y("div",Lhe,be(d.value.direct.data.length-H.index),1)]),id:ht(H=>[Y("div",Fhe,be(H.pid),1)]),ctime:ht(H=>[Y("div",Bhe,[mt(j0e,{size:"medium",title:"创建: "+H.ctime+`
更新: `+H.utime+`
单号: `+H.pid+`
制单: `+H.creater+", 审核: "+H.operator+`
备注: `+H.remark},{default:ht(()=>[Jt(be(H.ctime.substr(0,10)),1)]),_:2},1032,["title"])])]),type:ht(H=>[Y("div",$he,[H.type=="6"?(Z(),ne("span",jhe,"其它退")):H.type=="5"?(Z(),ne("span",zhe,"其它出")):H.type=="4"?(Z(),ne("span",Uhe,"售后")):H.type=="3"?(Z(),ne("span",Hhe,"发货")):H.type=="2"?(Z(),ne("span",Ghe,"调拨")):H.type=="1"?(Z(),ne("span",Whe,"采退")):H.type=="0"?(Z(),ne("span",Vhe,"入库")):H.type=="-1"?(Z(),ne("span",Yhe,"资料")):ye("",!0)])]),sale_price:ht(H=>[Y("div",Xhe,[H.sale_price>0?(Z(),ne(Ve,{key:0},[H.ratio!="1.00"||H.ratio_sale!="1.00"?(Z(),ne("span",qhe,[Y("del",null,be(J(u)(H.sale_price)),1),F[42]||(F[42]=Jt()),Y("b",null,be(J(u)(H.sale_price*(H.ratio<1?H.ratio:H.ratio_sale))),1)])):(Z(),ne("b",Khe,be(J(u)(H.sale_price)),1))],64)):(Z(),ne("span",Zhe,"-"))])]),market_price:ht(H=>[Y("div",Qhe,[H.market_price>0?(Z(),ne(Ve,{key:0},[H.ratio!="1.00"||H.ratio_market!="1.00"?(Z(),ne("span",Jhe,[Y("del",null,be(J(u)(H.market_price)),1),F[43]||(F[43]=Jt()),Y("b",null,be(J(u)(H.market_price*(H.ratio<1?H.ratio:H.ratio_market))),1)])):(Z(),ne("b",epe,be(J(u)(H.market_price)),1))],64)):(Z(),ne("span",tpe,"-"))])]),ratio:ht(H=>[Y("div",npe,[H.ratio<1?(Z(),ne("b",rpe,be(H.ratio),1)):(Z(),ne("span",ape,be(H.ratio),1))])]),status:ht(H=>[Y("div",ipe,[H.status=="0"?(Z(),ne("span",ope,"进行中")):H.status=="1"?(Z(),ne("span",spe,"完成")):ye("",!0)])]),_:1},8,["columns","options"])])]),Y("div",lpe,[F[44]||(F[44]=Y("div",{class:"box_top flex"},[Y("h2",null,"分仓库存")],-1)),Y("div",cpe,[mt(H_,{isCheckbox:!1,columns:d.value.stock.columns,options:d.value.stock.data},null,8,["columns","options"])])]),Y("div",upe,[F[45]||(F[45]=Y("div",{class:"box_top flex"},[Y("h2",null,"操作日志")],-1)),Y("div",fpe,[mt(H_,{isCheckbox:!1,columns:d.value.logs.columns,options:d.value.logs.data},{operator:ht(H=>[Y("div",{title:"ID: "+H.operator_id},be(H.operator_name),9,dpe)]),_:1},8,["columns","options"])])])])):l.value.active=="img"?(Z(),ne("div",hpe,[Y("ul",ppe,[(Z(!0),ne(Ve,null,Ft(d.value.imgs,(H,D)=>(Z(),ne("li",{key:D},[Y("div",vpe,[Y("div",{class:"img",style:We({backgroundImage:H.img?"url("+H.img+"&x-oss-process=image/resize,h_160)":""}),onClick:G=>H.img?W(D.toString()):w(D),title:H.img?"预览图片":"重新上传"},[H.img?ye("",!0):(Z(),ne("i",mpe)),H.state?ye("",!0):(Z(),ne("div",{key:1,class:"load",style:We({backgroundImage:"linear-gradient(to right, rgb(85, 153, 85), rgb(85, 153, 85) "+H.loaded+", rgba(0, 0, 0, 0.08) "+H.loaded+", rgba(0, 0, 0, 0.08) 100%)"})},null,4)),H.img?(Z(),ne("div",{key:2,class:"close",onClick:Ti(G=>k(D),["stop"]),title:"删除封面图"},F[46]||(F[46]=[Y("i",{class:"ui ui_close"},null,-1)]),8,ype)):ye("",!0)],12,gpe),Y("div",xpe,[Y("b",{class:"an",onClick:G=>y(D)},be(D),9,bpe)])])]))),128)),Y("li",null,[Y("div",wpe,[Y("div",{class:"img",onClick:F[7]||(F[7]=H=>_()),title:"批量上传: 以商品编码命名的图片"},F[47]||(F[47]=[Y("i",{class:"ui ui_upload"},null,-1)])),Y("div",_pe,[Y("span",{class:"an",onClick:F[8]||(F[8]=H=>_())},"批量上传"),F[48]||(F[48]=Y("span",null,"|",-1)),Y("span",{class:"clear",onClick:F[9]||(F[9]=H=>d.value.imgs={})},"清空")])])])],512)])):l.value.active=="photo"?(Z(),ne("div",Epe,[Y("div",{class:"photo_button",onClick:F[10]||(F[10]=Ti(H=>B(),["stop"]))},"拍照上传"),Y("div",Spe,[Y("span",{onClick:F[11]||(F[11]=H=>h.value.screen=!h.value.screen)},"横屏/竖屏"),Y("span",{onClick:F[12]||(F[12]=H=>h.value.camera.horizontal=!h.value.camera.horizontal)},"水平翻转"),Y("span",{onClick:F[13]||(F[13]=H=>h.value.camera.vertical=!h.value.camera.vertical)},"垂直翻转"),Y("span",{onClick:F[14]||(F[14]=H=>P(!h.value.isScan))},"自动识别("+be(h.value.isScan?"关闭":"开启")+")",1)]),Y("div",Ape,[Y("div",kpe,[mt(Ps,{value:h.value.key,"onUpdate:value":F[15]||(F[15]=H=>h.value.key=H),onKeyup:F[16]||(F[16]=nu(H=>O(),["enter"])),onIconClick:F[17]||(F[17]=H=>O()),placeholder:J(o).langs.sku_id,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px"},null,8,["value","placeholder"])]),Y("div",Tpe,[J(o).goods.photo.id?(Z(),ne("span",Ope,[F[49]||(F[49]=Jt("入库单( ")),Y("b",null,be(J(o).goods.photo.id),1),F[50]||(F[50]=Jt(" )"))])):(Z(),ne("span",Cpe,"拍照上传")),F[51]||(F[51]=Jt("    数量: ")),Y("b",null,be(h.value.list.length),1)]),Y("div",Mpe,[Y("ul",Ppe,[(Z(!0),ne(Ve,null,Ft(h.value.list,(H,D)=>(Z(),ne("li",{style:We({display:D<h.value.maxLen||h.value.isShow?"":"none"})},[Y("div",{class:"img",style:We({backgroundImage:H.img?"url("+H.img+")":""}),onClick:G=>H.img?z(H.sku_id):""},[H.img?ye("",!0):(Z(),ne("i",Rpe))],12,Ipe),Y("div",{class:"text",onClick:G=>y(H.sku_id)},[Y("div",Dpe,be(H.sku_id),1),Y("div",Lpe,be(H.properties_value||"Loading..."),1)],8,Npe),Y("div",Fpe,[H.loading===0?(Z(),ne("i",Bpe)):(Z(),ne("span",{key:1,onClick:G=>I(D,H)},"移除",8,$pe))])],4))),256)),h.value.list.length>h.value.maxLen?(Z(),ne("li",{key:0,class:"show",onClick:F[18]||(F[18]=H=>h.value.isShow=!h.value.isShow)},[Jt(be(h.value.isShow?"隐藏":"显示剩余")+"( ",1),Y("b",null,be(h.value.list.length-h.value.maxLen),1),F[52]||(F[52]=Jt(" ) "))])):ye("",!0)])]),Y("div",jpe,[Y("span",{class:"an",onClick:F[19]||(F[19]=H=>h.value.list=[])},"清空")])]),h.value.isScan?(Z(),ne("div",{key:0,class:"barcode",style:We({width:h.value.width+"px",height:h.value.height+"px"})},F[53]||(F[53]=[Y("video",{id:"GoodsScanVideo"},null,-1),Y("canvas",{id:"GoodsScanCanvas",class:"center"},null,-1)]),4)):ye("",!0),Y("video",{id:"GoodsPhotoVideo",style:We({width:h.value.screen?"100%":"",height:h.value.screen?"":"100%",transform:"translate(-50%, -50%) scale("+(h.value.camera.horizontal?1:-1)+", "+(h.value.camera.vertical?1:-1)+")"}),class:"center",autoplay:""},null,4),F[54]||(F[54]=Y("canvas",{id:"GoodsPhotoCanvas",class:"center"},null,-1))])):ye("",!0)]),mt(v9,{show:p.value.show,"onUpdate:show":F[20]||(F[20]=H=>p.value.show=H),index:p.value.index,options:p.value.list},null,8,["show","index","options"])],4))}}),Upe=fi(zpe,[["__scopeId","data-v-f19da564"]]);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M9=1252,Hpe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bO=function(e){Hpe.indexOf(e)!=-1&&(M9=xO[0]=e)};function Gpe(){bO(1252)}var ml=function(e){bO(e)};function P9(){ml(1200),Gpe()}function d8(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function Wpe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function I9(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var dv=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?Wpe(e.slice(2)):t==254&&n==255?I9(e.slice(2)):t==65279?e.slice(1):e},_m=function(t){return String.fromCharCode(t)},h8=function(t){return String.fromCharCode(t)},TA,Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function p8(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),i=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,a=e.charCodeAt(c++),s=(r&15)<<2|a>>6,l=a&63,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=Hu.charAt(i)+Hu.charAt(o)+Hu.charAt(s)+Hu.charAt(l);return t}function rs(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Hu.indexOf(e.charAt(c++)),o=Hu.indexOf(e.charAt(c++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=Hu.indexOf(e.charAt(c++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),l=Hu.indexOf(e.charAt(c++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var xn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Qd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function of(e){return xn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function v8(e){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hl=function(t){return xn?Qd(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Jd(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function wO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return wO(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var $u=xn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Qd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Vpe(e){for(var t=[],n=0,r=e.length+250,a=of(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=of(65535),r=65530)}return t.push(a.slice(0,n)),$u(t)}var bo=/\u0000/g,hv=/[\u0001-\u0006]/g;function nh(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function yl(e,t){var n=""+e;return n.length>=t?n:aa("0",t-n.length)+n}function _O(e,t){var n=""+e;return n.length>=t?n:aa(" ",t-n.length)+n}function zx(e,t){var n=""+e;return n.length>=t?n:n+aa(" ",t-n.length)}function Ype(e,t){var n=""+Math.round(e);return n.length>=t?n:aa("0",t-n.length)+n}function Xpe(e,t){var n=""+e;return n.length>=t?n:aa("0",t-n.length)+n}var g8=Math.pow(2,32);function w0(e,t){if(e>g8||e<-g8)return Ype(e,t);var n=Math.round(e);return Xpe(n,t)}function Ux(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var m8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],G_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function qpe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var en={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},y8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kpe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Hx(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),s=f*o+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=i):(u=c,s=o)),!n)return[0,r*s,u];var d=Math.floor(r*s/u);return[d,r*s-d*u,u]}function ad(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=nve(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var R9=new Date(1899,11,31,0,0,0),Zpe=R9.getTime(),Qpe=new Date(1900,2,1,0,0,0);function N9(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=Qpe&&(n+=24*60*60*1e3),(n-(Zpe+(e.getTimezoneOffset()-R9.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function EO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jpe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function eve(e){var t=e<0?12:11,n=EO(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function tve(e){var t=EO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function E1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=eve(e):t===10?n=e.toFixed(10).substr(0,12):n=tve(e),EO(Jpe(n.toUpperCase()))}function Td(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):E1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zs(14,N9(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function nve(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function rve(e,t,n,r){var a="",i=0,o=0,s=n.y,l,c=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,c=2;break;default:l=s%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return G_[n.m-1][1];case 5:return G_[n.m-1][0];default:return G_[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return m8[n.q][0];default:return m8[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?yl(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=yl(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=s,c=1;break}var u=c>0?yl(l,c):"";return u}function Gu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var D9=/%/g;function ave(e,t,n){var r=t.replace(D9,""),a=t.length-r.length;return ru(e,r,n*Math.pow(10,2*a))+aa("%",a)}function ive(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ru(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function L9(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+L9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var F9=/# (\?+)( ?)\/( ?)(\d+)/;function ove(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?aa(" ",e[1].length+1+e[4].length):_O(o,e[1].length)+e[2]+"/"+e[3]+yl(s,e[4].length))}function sve(e,t,n){return n+(t===0?"":""+t)+aa(" ",e[1].length+2+e[4].length)}var B9=/^#*0*\.([0#]+)/,$9=/\).*[0#]/,j9=/\(###\) ###\\?-####/;function co(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function x8(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function b8(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function lve(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function cve(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xs(e,t,n){if(e.charCodeAt(0)===40&&!t.match($9)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xs("n",r,n):"("+xs("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return ive(e,t,n);if(t.indexOf("%")!==-1)return ave(e,t,n);if(t.indexOf("E")!==-1)return L9(t,n);if(t.charCodeAt(0)===36)return"$"+xs(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+w0(l,t.length);if(t.match(/^[#?]+$/))return a=w0(n,0),a==="0"&&(a=""),a.length>t.length?a:co(t.substr(0,t.length-a.length))+a;if(i=t.match(F9))return ove(i,l,c);if(t.match(/^#+0+$/))return c+w0(l,t.length-t.indexOf("0"));if(i=t.match(B9))return a=x8(n,i[1].length).replace(/^([^\.]+)$/,"$1."+co(i[1])).replace(/\.$/,"."+co(i[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+aa("0",co(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+x8(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Gu(w0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xs(e,t,-n):Gu(""+(Math.floor(n)+lve(n,i[1].length)))+"."+yl(b8(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return xs(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=nh(xs(e,t.replace(/[\\-]/g,""),n)),o=0,nh(nh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(j9))return a=xs(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Hx(l,Math.pow(10,o)-1,!1),a=""+c,u=ru("n",i[1],s[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=zx(s[2],o),u.length<i[4].length&&(u=co(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=Hx(l,Math.pow(10,o)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?_O(s[1],o)+i[2]+"/"+i[3]+zx(s[2],o):aa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=w0(n,0),t.length<=a.length?a:co(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return co(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=b8(n,i[1].length),n<0?"-"+xs(e,t,-n):Gu(cve(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?yl(0,3-p.length):"")+p})+"."+yl(o,i[1].length);switch(t){case"###,##0.00":return xs(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=Gu(w0(l,0));return h!=="0"?c+h:"";case"###,###.00":return xs(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return xs(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function uve(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ru(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function fve(e,t,n){var r=t.replace(D9,""),a=t.length-r.length;return ru(e,r,n*Math.pow(10,2*a))+aa("%",a)}function z9(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+z9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ql(e,t,n){if(e.charCodeAt(0)===40&&!t.match($9)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ql("n",r,n):"("+ql("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return uve(e,t,n);if(t.indexOf("%")!==-1)return fve(e,t,n);if(t.indexOf("E")!==-1)return z9(t,n);if(t.charCodeAt(0)===36)return"$"+ql(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+yl(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:co(t.substr(0,t.length-a.length))+a;if(i=t.match(F9))return sve(i,l,c);if(t.match(/^#+0+$/))return c+yl(l,t.length-t.indexOf("0"));if(i=t.match(B9))return a=(""+n).replace(/^([^\.]+)$/,"$1."+co(i[1])).replace(/\.$/,"."+co(i[1])),a=a.replace(/\.(\d*)$/,function(p,v){return"."+v+aa("0",co(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Gu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ql(e,t,-n):Gu(""+n)+"."+aa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ql(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=nh(ql(e,t.replace(/[\\-]/g,""),n)),o=0,nh(nh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(j9))return a=ql(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Hx(l,Math.pow(10,o)-1,!1),a=""+c,u=ru("n",i[1],s[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=zx(s[2],o),u.length<i[4].length&&(u=co(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=Hx(l,Math.pow(10,o)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?_O(s[1],o)+i[2]+"/"+i[3]+zx(s[2],o):aa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:co(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return co(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ql(e,t,-n):Gu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?yl(0,3-p.length):"")+p})+"."+yl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Gu(""+l);return h!=="0"?c+h:"";default:if(t.match(/\.[0#?]*$/))return ql(e,t.slice(0,t.lastIndexOf(".")),n)+co(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ru(e,t,n){return(n|0)===n?ql(e,t,n):xs(e,t,n)}function dve(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var U9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vp(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Ux(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(U9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function hve(e,t,n,r){for(var a=[],i="",o=0,s="",l="t",c,u,f,d="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!Ux(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),p=h==="("||h===")"?h:"t";a[a.length]={t:p,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=ad(t,n,e.charAt(o+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=ad(t,n),c==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=d),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"上":var v={t:s,v:s};if(c==null&&(c=ad(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",o+=5,d="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(c!=null&&(v.v=c.H>=12?"下午":"上午"),v.t="T",o+=5,d="h"):(v.t="t",++o),c==null&&v.t==="T")return"";a[a.length]=v,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(U9)){if(c==null&&(c=ad(t,n),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",vp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var g=0,m=0,y;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=d,l="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(m=Math.max(m,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=rve(a[o].t.charCodeAt(0),a[o].v,c,m),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((s=a[b].t)==="?"||s==="D"||(s===" "||s==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;x+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=Td(t,n);break}var E="",_,w;if(x.length>0){x.charCodeAt(0)==40?(_=t<0&&x.charCodeAt(0)===45?-t:t,w=ru("n",x,_)):(_=t<0&&r>1?-t:t,w=ru("n",x,_),_<0&&a[0]&&a[0].t=="t"&&(w=w.substr(1),a[0].v="-"+a[0].v)),b=w.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var S=a.length;if(A===a.length&&w.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=w.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=w.substr(0,b+1),b=-1),a[o].t="t",S=o);b>=0&&S<a.length&&(a[S].v=w.substr(0,b+1)+a[S].v)}else if(A!==a.length&&w.indexOf("E")===-1){for(b=w.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,E=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(E=w.charAt(b--)+E);a[o].v=E,a[o].t="t",S=o}for(b>=0&&S<a.length&&(a[S].v=w.substr(0,b+1)+a[S].v),b=w.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,E=a[o].v.substr(0,u);u<a[o].v.length;++u)b<w.length&&(E+=w.charAt(b++));a[o].v=E,a[o].t="t",S=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(_=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ru(a[o].t,a[o].v,_),a[o].t="t");var k="";for(o=0;o!==a.length;++o)a[o]!=null&&(k+=a[o].v);return k}var w8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function _8(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function pve(e,t){var n=dve(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(w8),s=n[1].match(w8);return _8(t,o)?[r,n[0]]:_8(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function zs(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:en)[e],r==null&&(r=n.table&&n.table[y8[e]]||en[y8[e]]),r==null&&(r=Kpe[e]||"General");break}if(Ux(r,0))return Td(t,n);t instanceof Date&&(t=N9(t,n.date1904));var a=pve(r,t);if(Ux(a[1]))return Td(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return hve(a[1],t,n,a[0])}function md(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(en[n]==null){t<0&&(t=n);continue}if(en[n]==e){t=n;break}}t<0&&(t=391)}return en[t]=e,t}function H9(){en=qpe()}var vve={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},G9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gve(e){var t=typeof e=="number"?en[e]:e;return t=t.replace(G9,"(\\d+)"),new RegExp("^"+t+"$")}function mve(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(G9)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":i=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?s=h:a=h;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?c:r==-1&&a==-1&&i==-1?u:c+"T"+u}var yve=function(){var e={};e.version="1.2.0";function t(){for(var w=0,A=new Array(256),S=0;S!=256;++S)w=S,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,A[S]=w;return typeof Int32Array<"u"?new Int32Array(A):A}var n=t();function r(w){var A=0,S=0,k=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)T[k]=w[k];for(k=0;k!=256;++k)for(S=w[k],A=256+k;A<4096;A+=256)S=T[A]=S>>>8^w[S&255];var O=[];for(k=1;k!=16;++k)O[k-1]=typeof Int32Array<"u"?T.subarray(k*256,k*256+256):T.slice(k*256,k*256+256);return O}var a=r(n),i=a[0],o=a[1],s=a[2],l=a[3],c=a[4],u=a[5],f=a[6],d=a[7],h=a[8],p=a[9],v=a[10],g=a[11],m=a[12],y=a[13],x=a[14];function b(w,A){for(var S=A^-1,k=0,T=w.length;k<T;)S=S>>>8^n[(S^w.charCodeAt(k++))&255];return~S}function E(w,A){for(var S=A^-1,k=w.length-15,T=0;T<k;)S=x[w[T++]^S&255]^y[w[T++]^S>>8&255]^m[w[T++]^S>>16&255]^g[w[T++]^S>>>24]^v[w[T++]]^p[w[T++]]^h[w[T++]]^d[w[T++]]^f[w[T++]]^u[w[T++]]^c[w[T++]]^l[w[T++]]^s[w[T++]]^o[w[T++]]^i[w[T++]]^n[w[T++]];for(k+=15;T<k;)S=S>>>8^n[(S^w[T++])&255];return~S}function _(w,A){for(var S=A^-1,k=0,T=w.length,O=0,C=0;k<T;)O=w.charCodeAt(k++),O<128?S=S>>>8^n[(S^O)&255]:O<2048?(S=S>>>8^n[(S^(192|O>>6&31))&255],S=S>>>8^n[(S^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,C=w.charCodeAt(k++)&1023,S=S>>>8^n[(S^(240|O>>8&7))&255],S=S>>>8^n[(S^(128|O>>2&63))&255],S=S>>>8^n[(S^(128|C>>6&15|(O&3)<<4))&255],S=S>>>8^n[(S^(128|C&63))&255]):(S=S>>>8^n[(S^(224|O>>12&15))&255],S=S>>>8^n[(S^(128|O>>6&63))&255],S=S>>>8^n[(S^(128|O&63))&255]);return~S}return e.table=n,e.bstr=b,e.buf=E,e.str=_,e}(),En=function(){var t={};t.version="1.2.1";function n(ee,ue){for(var ae=ee.split("/"),le=ue.split("/"),de=0,he=0,Te=Math.min(ae.length,le.length);de<Te;++de){if(he=ae[de].length-le[de].length)return he;if(ae[de]!=le[de])return ae[de]<le[de]?-1:1}return ae.length-le.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var ue=ee.lastIndexOf("/");return ue===-1?ee:ee.slice(0,ue+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ue=ee.lastIndexOf("/");return ue===-1?ee:ee.slice(ue+1)}function i(ee,ue){typeof ue=="string"&&(ue=new Date(ue));var ae=ue.getHours();ae=ae<<6|ue.getMinutes(),ae=ae<<5|ue.getSeconds()>>>1,ee.write_shift(2,ae);var le=ue.getFullYear()-1980;le=le<<4|ue.getMonth()+1,le=le<<5|ue.getDate(),ee.write_shift(2,le)}function o(ee){var ue=ee.read_shift(2)&65535,ae=ee.read_shift(2)&65535,le=new Date,de=ae&31;ae>>>=5;var he=ae&15;ae>>>=4,le.setMilliseconds(0),le.setFullYear(ae+1980),le.setMonth(he-1),le.setDate(de);var Te=ue&31;ue>>>=5;var Le=ue&63;return ue>>>=6,le.setHours(ue),le.setMinutes(Le),le.setSeconds(Te<<1),le}function s(ee){xi(ee,0);for(var ue={},ae=0;ee.l<=ee.length-4;){var le=ee.read_shift(2),de=ee.read_shift(2),he=ee.l+de,Te={};switch(le){case 21589:ae=ee.read_shift(1),ae&1&&(Te.mtime=ee.read_shift(4)),de>5&&(ae&2&&(Te.atime=ee.read_shift(4)),ae&4&&(Te.ctime=ee.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}ee.l=he,ue[le]=Te}return ue}var l;function c(){return l||(l={})}function u(ee,ue){if(ee[0]==80&&ee[1]==75)return Ct(ee,ue);if((ee[0]|32)==109&&(ee[1]|32)==105)return Op(ee,ue);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ae=3,le=512,de=0,he=0,Te=0,Le=0,Se=0,Oe=[],Me=ee.slice(0,512);xi(Me,0);var Xe=f(Me);switch(ae=Xe[0],ae){case 3:le=512;break;case 4:le=4096;break;case 0:if(Xe[1]==0)return Ct(ee,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+ae)}le!==512&&(Me=ee.slice(0,le),xi(Me,28));var ot=ee.slice(0,le);d(Me,ae);var yt=Me.read_shift(4,"i");if(ae===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);Me.l+=4,Te=Me.read_shift(4,"i"),Me.l+=4,Me.chk("00100000","Mini Stream Cutoff Size: "),Le=Me.read_shift(4,"i"),de=Me.read_shift(4,"i"),Se=Me.read_shift(4,"i"),he=Me.read_shift(4,"i");for(var tt=-1,dt=0;dt<109&&(tt=Me.read_shift(4,"i"),!(tt<0));++dt)Oe[dt]=tt;var Zt=h(ee,le);g(Se,he,Zt,le,Oe);var Wr=y(Zt,Te,Oe,le);Wr[Te].name="!Directory",de>0&&Le!==C&&(Wr[Le].name="!MiniFAT"),Wr[Oe[0]].name="!FAT",Wr.fat_addrs=Oe,Wr.ssz=le;var Vr={},Mi=[],Cp=[],Mp=[];x(Te,Wr,Zt,Mi,de,Vr,Cp,Le),p(Cp,Mp,Mi),Mi.shift();var Pp={FileIndex:Cp,FullPaths:Mp};return ue&&ue.raw&&(Pp.raw={header:ot,sectors:Zt}),Pp}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(M,"Header Signature: "),ee.l+=16;var ue=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ue]}function d(ee,ue){var ae=9;switch(ee.l+=2,ae=ee.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+ae);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+ae);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ae)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function h(ee,ue){for(var ae=Math.ceil(ee.length/ue)-1,le=[],de=1;de<ae;++de)le[de-1]=ee.slice(de*ue,(de+1)*ue);return le[ae-1]=ee.slice(ae*ue),le}function p(ee,ue,ae){for(var le=0,de=0,he=0,Te=0,Le=0,Se=ae.length,Oe=[],Me=[];le<Se;++le)Oe[le]=Me[le]=le,ue[le]=ae[le];for(;Le<Me.length;++Le)le=Me[Le],de=ee[le].L,he=ee[le].R,Te=ee[le].C,Oe[le]===le&&(de!==-1&&Oe[de]!==de&&(Oe[le]=Oe[de]),he!==-1&&Oe[he]!==he&&(Oe[le]=Oe[he])),Te!==-1&&(Oe[Te]=le),de!==-1&&le!=Oe[le]&&(Oe[de]=Oe[le],Me.lastIndexOf(de)<Le&&Me.push(de)),he!==-1&&le!=Oe[le]&&(Oe[he]=Oe[le],Me.lastIndexOf(he)<Le&&Me.push(he));for(le=1;le<Se;++le)Oe[le]===le&&(he!==-1&&Oe[he]!==he?Oe[le]=Oe[he]:de!==-1&&Oe[de]!==de&&(Oe[le]=Oe[de]));for(le=1;le<Se;++le)if(ee[le].type!==0){if(Le=le,Le!=Oe[Le])do Le=Oe[Le],ue[le]=ue[Le]+"/"+ue[le];while(Le!==0&&Oe[Le]!==-1&&Le!=Oe[Le]);Oe[le]=-1}for(ue[0]+="/",le=1;le<Se;++le)ee[le].type!==2&&(ue[le]+="/")}function v(ee,ue,ae){for(var le=ee.start,de=ee.size,he=[],Te=le;ae&&de>0&&Te>=0;)he.push(ue.slice(Te*O,Te*O+O)),de-=O,Te=Jf(ae,Te*4);return he.length===0?Ba(0):$u(he).slice(0,ee.size)}function g(ee,ue,ae,le,de){var he=C;if(ee===C){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Te=ae[ee],Le=(le>>>2)-1;if(!Te)return;for(var Se=0;Se<Le&&(he=Jf(Te,Se*4))!==C;++Se)de.push(he);g(Jf(Te,le-4),ue-1,ae,le,de)}}function m(ee,ue,ae,le,de){var he=[],Te=[];de||(de=[]);var Le=le-1,Se=0,Oe=0;for(Se=ue;Se>=0;){de[Se]=!0,he[he.length]=Se,Te.push(ee[Se]);var Me=ae[Math.floor(Se*4/le)];if(Oe=Se*4&Le,le<4+Oe)throw new Error("FAT boundary crossed: "+Se+" 4 "+le);if(!ee[Me])break;Se=Jf(ee[Me],Oe)}return{nodes:he,data:I8([Te])}}function y(ee,ue,ae,le){var de=ee.length,he=[],Te=[],Le=[],Se=[],Oe=le-1,Me=0,Xe=0,ot=0,yt=0;for(Me=0;Me<de;++Me)if(Le=[],ot=Me+ue,ot>=de&&(ot-=de),!Te[ot]){Se=[];var tt=[];for(Xe=ot;Xe>=0;){tt[Xe]=!0,Te[Xe]=!0,Le[Le.length]=Xe,Se.push(ee[Xe]);var dt=ae[Math.floor(Xe*4/le)];if(yt=Xe*4&Oe,le<4+yt)throw new Error("FAT boundary crossed: "+Xe+" 4 "+le);if(!ee[dt]||(Xe=Jf(ee[dt],yt),tt[Xe]))break}he[ot]={nodes:Le,data:I8([Se])}}return he}function x(ee,ue,ae,le,de,he,Te,Le){for(var Se=0,Oe=le.length?2:0,Me=ue[ee].data,Xe=0,ot=0,yt;Xe<Me.length;Xe+=128){var tt=Me.slice(Xe,Xe+128);xi(tt,64),ot=tt.read_shift(2),yt=OO(tt,0,ot-Oe),le.push(yt);var dt={name:yt,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},Zt=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);Zt!==0&&(dt.ct=b(tt,tt.l-8));var Wr=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);Wr!==0&&(dt.mt=b(tt,tt.l-8)),dt.start=tt.read_shift(4,"i"),dt.size=tt.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=C,dt.name=""),dt.type===5?(Se=dt.start,de>0&&Se!==C&&(ue[Se].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ue[dt.start]===void 0&&(ue[dt.start]=m(ae,dt.start,ue.fat_addrs,ue.ssz)),ue[dt.start].name=dt.name,dt.content=ue[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:Se!==C&&dt.start!==C&&ue[Se]&&(dt.content=v(dt,ue[Se].data,(ue[Le]||{}).data))),dt.content&&xi(dt.content,0),he[yt]=dt,Te.push(dt)}}function b(ee,ue){return new Date((Xo(ee,ue+4)/1e7*Math.pow(2,32)+Xo(ee,ue)/1e7-11644473600)*1e3)}function E(ee,ue){return c(),u(l.readFileSync(ee),ue)}function _(ee,ue){var ae=ue&&ue.type;switch(ae||xn&&Buffer.isBuffer(ee)&&(ae="buffer"),ae||"base64"){case"file":return E(ee,ue);case"base64":return u(hl(rs(ee)),ue);case"binary":return u(hl(ee),ue)}return u(ee,ue)}function w(ee,ue){var ae=ue||{},le=ae.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=le+"/",ee.FileIndex[0]={name:le,type:5}),ae.CLSID&&(ee.FileIndex[0].clsid=ae.CLSID),A(ee)}function A(ee){var ue="Sh33tJ5";if(!En.find(ee,"/"+ue)){var ae=Ba(4);ae[0]=55,ae[1]=ae[3]=50,ae[2]=54,ee.FileIndex.push({name:ue,type:2,content:ae,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ue),S(ee)}}function S(ee,ue){w(ee);for(var ae=!1,le=!1,de=ee.FullPaths.length-1;de>=0;--de){var he=ee.FileIndex[de];switch(he.type){case 0:le?ae=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(he.R*he.L*he.C)&&(ae=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ae=!0);break;default:ae=!0;break}}if(!(!ae&&!ue)){var Te=new Date(1987,1,19),Le=0,Se=Object.create?Object.create(null):{},Oe=[];for(de=0;de<ee.FullPaths.length;++de)Se[ee.FullPaths[de]]=!0,ee.FileIndex[de].type!==0&&Oe.push([ee.FullPaths[de],ee.FileIndex[de]]);for(de=0;de<Oe.length;++de){var Me=r(Oe[de][0]);le=Se[Me],le||(Oe.push([Me,{name:a(Me).replace("/",""),type:1,clsid:I,ct:Te,mt:Te,content:null}]),Se[Me]=!0)}for(Oe.sort(function(yt,tt){return n(yt[0],tt[0])}),ee.FullPaths=[],ee.FileIndex=[],de=0;de<Oe.length;++de)ee.FullPaths[de]=Oe[de][0],ee.FileIndex[de]=Oe[de][1];for(de=0;de<Oe.length;++de){var Xe=ee.FileIndex[de],ot=ee.FullPaths[de];if(Xe.name=a(ot).replace("/",""),Xe.L=Xe.R=Xe.C=-(Xe.color=1),Xe.size=Xe.content?Xe.content.length:0,Xe.start=0,Xe.clsid=Xe.clsid||I,de===0)Xe.C=Oe.length>1?1:-1,Xe.size=0,Xe.type=5;else if(ot.slice(-1)=="/"){for(Le=de+1;Le<Oe.length&&r(ee.FullPaths[Le])!=ot;++Le);for(Xe.C=Le>=Oe.length?-1:Le,Le=de+1;Le<Oe.length&&r(ee.FullPaths[Le])!=r(ot);++Le);Xe.R=Le>=Oe.length?-1:Le,Xe.type=1}else r(ee.FullPaths[de+1]||"")==r(ot)&&(Xe.R=de+1),Xe.type=2}}}function k(ee,ue){var ae=ue||{};if(ae.fileType=="mad")return Qw(ee,ae);switch(S(ee),ae.fileType){case"zip":return Fe(ee,ae)}var le=function(yt){for(var tt=0,dt=0,Zt=0;Zt<yt.FileIndex.length;++Zt){var Wr=yt.FileIndex[Zt];if(Wr.content){var Vr=Wr.content.length;Vr>0&&(Vr<4096?tt+=Vr+63>>6:dt+=Vr+511>>9)}}for(var Mi=yt.FullPaths.length+3>>2,Cp=tt+7>>3,Mp=tt+127>>7,Pp=Cp+dt+Mi+Mp,Mf=Pp+127>>7,e_=Mf<=109?0:Math.ceil((Mf-109)/127);Pp+Mf+e_+127>>7>Mf;)e_=++Mf<=109?0:Math.ceil((Mf-109)/127);var Fc=[1,e_,Mf,Mp,Mi,dt,tt,0];return yt.FileIndex[0].size=tt<<6,Fc[7]=(yt.FileIndex[0].start=Fc[0]+Fc[1]+Fc[2]+Fc[3]+Fc[4]+Fc[5])+(Fc[6]+7>>3),Fc}(ee),de=Ba(le[7]<<9),he=0,Te=0;{for(he=0;he<8;++he)de.write_shift(1,R[he]);for(he=0;he<8;++he)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),he=0;he<3;++he)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,le[2]),de.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:C),de.write_shift(4,le[3]),de.write_shift(-4,le[1]?le[0]-1:C),de.write_shift(4,le[1]),he=0;he<109;++he)de.write_shift(-4,he<le[2]?le[1]+he:-1)}if(le[1])for(Te=0;Te<le[1];++Te){for(;he<236+Te*127;++he)de.write_shift(-4,he<le[2]?le[1]+he:-1);de.write_shift(-4,Te===le[1]-1?C:Te+1)}var Le=function(yt){for(Te+=yt;he<Te-1;++he)de.write_shift(-4,he+1);yt&&(++he,de.write_shift(-4,C))};for(Te=he=0,Te+=le[1];he<Te;++he)de.write_shift(-4,P.DIFSECT);for(Te+=le[2];he<Te;++he)de.write_shift(-4,P.FATSECT);Le(le[3]),Le(le[4]);for(var Se=0,Oe=0,Me=ee.FileIndex[0];Se<ee.FileIndex.length;++Se)Me=ee.FileIndex[Se],Me.content&&(Oe=Me.content.length,!(Oe<4096)&&(Me.start=Te,Le(Oe+511>>9)));for(Le(le[6]+7>>3);de.l&511;)de.write_shift(-4,P.ENDOFCHAIN);for(Te=he=0,Se=0;Se<ee.FileIndex.length;++Se)Me=ee.FileIndex[Se],Me.content&&(Oe=Me.content.length,!(!Oe||Oe>=4096)&&(Me.start=Te,Le(Oe+63>>6)));for(;de.l&511;)de.write_shift(-4,P.ENDOFCHAIN);for(he=0;he<le[4]<<2;++he){var Xe=ee.FullPaths[he];if(!Xe||Xe.length===0){for(Se=0;Se<17;++Se)de.write_shift(4,0);for(Se=0;Se<3;++Se)de.write_shift(4,-1);for(Se=0;Se<12;++Se)de.write_shift(4,0);continue}Me=ee.FileIndex[he],he===0&&(Me.start=Me.size?Me.start-1:C);var ot=he===0&&ae.root||Me.name;if(Oe=2*(ot.length+1),de.write_shift(64,ot,"utf16le"),de.write_shift(2,Oe),de.write_shift(1,Me.type),de.write_shift(1,Me.color),de.write_shift(-4,Me.L),de.write_shift(-4,Me.R),de.write_shift(-4,Me.C),Me.clsid)de.write_shift(16,Me.clsid,"hex");else for(Se=0;Se<4;++Se)de.write_shift(4,0);de.write_shift(4,Me.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,Me.start),de.write_shift(4,Me.size),de.write_shift(4,0)}for(he=1;he<ee.FileIndex.length;++he)if(Me=ee.FileIndex[he],Me.size>=4096)if(de.l=Me.start+1<<9,xn&&Buffer.isBuffer(Me.content))Me.content.copy(de,de.l,0,Me.size),de.l+=Me.size+511&-512;else{for(Se=0;Se<Me.size;++Se)de.write_shift(1,Me.content[Se]);for(;Se&511;++Se)de.write_shift(1,0)}for(he=1;he<ee.FileIndex.length;++he)if(Me=ee.FileIndex[he],Me.size>0&&Me.size<4096)if(xn&&Buffer.isBuffer(Me.content))Me.content.copy(de,de.l,0,Me.size),de.l+=Me.size+63&-64;else{for(Se=0;Se<Me.size;++Se)de.write_shift(1,Me.content[Se]);for(;Se&63;++Se)de.write_shift(1,0)}if(xn)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function T(ee,ue){var ae=ee.FullPaths.map(function(Se){return Se.toUpperCase()}),le=ae.map(function(Se){var Oe=Se.split("/");return Oe[Oe.length-(Se.slice(-1)=="/"?2:1)]}),de=!1;ue.charCodeAt(0)===47?(de=!0,ue=ae[0].slice(0,-1)+ue):de=ue.indexOf("/")!==-1;var he=ue.toUpperCase(),Te=de===!0?ae.indexOf(he):le.indexOf(he);if(Te!==-1)return ee.FileIndex[Te];var Le=!he.match(hv);for(he=he.replace(bo,""),Le&&(he=he.replace(hv,"!")),Te=0;Te<ae.length;++Te)if((Le?ae[Te].replace(hv,"!"):ae[Te]).replace(bo,"")==he||(Le?le[Te].replace(hv,"!"):le[Te]).replace(bo,"")==he)return ee.FileIndex[Te];return null}var O=64,C=-2,M="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:C,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function B(ee,ue,ae){c();var le=k(ee,ae);l.writeFileSync(ue,le)}function N(ee){for(var ue=new Array(ee.length),ae=0;ae<ee.length;++ae)ue[ae]=String.fromCharCode(ee[ae]);return ue.join("")}function V(ee,ue){var ae=k(ee,ue);switch(ue&&ue.type||"buffer"){case"file":return c(),l.writeFileSync(ue.filename,ae),ae;case"binary":return typeof ae=="string"?ae:N(ae);case"base64":return p8(typeof ae=="string"?ae:N(ae));case"buffer":if(xn)return Buffer.isBuffer(ae)?ae:Qd(ae);case"array":return typeof ae=="string"?hl(ae):ae}return ae}var W;function z(ee){try{var ue=ee.InflateRaw,ae=new ue;if(ae._processChunk(new Uint8Array([3,0]),ae._finishFlushFlag),ae.bytesRead)W=ee;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function j(ee,ue){if(!W)return we(ee,ue);var ae=W.InflateRaw,le=new ae,de=le._processChunk(ee.slice(ee.l),le._finishFlushFlag);return ee.l+=le.bytesRead,de}function L(ee){return W?W.deflateRawSync(ee):Ye(ee)}var F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(ee){var ue=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var K=typeof Uint8Array<"u",re=K?new Uint8Array(256):[],ie=0;ie<256;++ie)re[ie]=G(ie);function U(ee,ue){var ae=re[ee&255];return ue<=8?ae>>>8-ue:(ae=ae<<8|re[ee>>8&255],ue<=16?ae>>>16-ue:(ae=ae<<8|re[ee>>16&255],ae>>>24-ue))}function q(ee,ue){var ae=ue&7,le=ue>>>3;return(ee[le]|(ae<=6?0:ee[le+1]<<8))>>>ae&3}function Q(ee,ue){var ae=ue&7,le=ue>>>3;return(ee[le]|(ae<=5?0:ee[le+1]<<8))>>>ae&7}function X(ee,ue){var ae=ue&7,le=ue>>>3;return(ee[le]|(ae<=4?0:ee[le+1]<<8))>>>ae&15}function ce(ee,ue){var ae=ue&7,le=ue>>>3;return(ee[le]|(ae<=3?0:ee[le+1]<<8))>>>ae&31}function te(ee,ue){var ae=ue&7,le=ue>>>3;return(ee[le]|(ae<=1?0:ee[le+1]<<8))>>>ae&127}function pe(ee,ue,ae){var le=ue&7,de=ue>>>3,he=(1<<ae)-1,Te=ee[de]>>>le;return ae<8-le||(Te|=ee[de+1]<<8-le,ae<16-le)||(Te|=ee[de+2]<<16-le,ae<24-le)||(Te|=ee[de+3]<<24-le),Te&he}function me(ee,ue,ae){var le=ue&7,de=ue>>>3;return le<=5?ee[de]|=(ae&7)<<le:(ee[de]|=ae<<le&255,ee[de+1]=(ae&7)>>8-le),ue+3}function Ee(ee,ue,ae){var le=ue&7,de=ue>>>3;return ae=(ae&1)<<le,ee[de]|=ae,ue+1}function ke(ee,ue,ae){var le=ue&7,de=ue>>>3;return ae<<=le,ee[de]|=ae&255,ae>>>=8,ee[de+1]=ae,ue+8}function Ue(ee,ue,ae){var le=ue&7,de=ue>>>3;return ae<<=le,ee[de]|=ae&255,ae>>>=8,ee[de+1]=ae&255,ee[de+2]=ae>>>8,ue+16}function fe(ee,ue){var ae=ee.length,le=2*ae>ue?2*ae:ue+5,de=0;if(ae>=ue)return ee;if(xn){var he=v8(le);if(ee.copy)ee.copy(he);else for(;de<ee.length;++de)he[de]=ee[de];return he}else if(K){var Te=new Uint8Array(le);if(Te.set)Te.set(ee);else for(;de<ae;++de)Te[de]=ee[de];return Te}return ee.length=le,ee}function xe(ee){for(var ue=new Array(ee),ae=0;ae<ee;++ae)ue[ae]=0;return ue}function De(ee,ue,ae){var le=1,de=0,he=0,Te=0,Le=0,Se=ee.length,Oe=K?new Uint16Array(32):xe(32);for(he=0;he<32;++he)Oe[he]=0;for(he=Se;he<ae;++he)ee[he]=0;Se=ee.length;var Me=K?new Uint16Array(Se):xe(Se);for(he=0;he<Se;++he)Oe[de=ee[he]]++,le<de&&(le=de),Me[he]=0;for(Oe[0]=0,he=1;he<=le;++he)Oe[he+16]=Le=Le+Oe[he-1]<<1;for(he=0;he<Se;++he)Le=ee[he],Le!=0&&(Me[he]=Oe[Le+16]++);var Xe=0;for(he=0;he<Se;++he)if(Xe=ee[he],Xe!=0)for(Le=U(Me[he],le)>>le-Xe,Te=(1<<le+4-Xe)-1;Te>=0;--Te)ue[Le|Te<<Xe]=Xe&15|he<<4;return le}var He=K?new Uint16Array(512):xe(512),pt=K?new Uint16Array(32):xe(32);if(!K){for(var Re=0;Re<512;++Re)He[Re]=0;for(Re=0;Re<32;++Re)pt[Re]=0}(function(){for(var ee=[],ue=0;ue<32;ue++)ee.push(5);De(ee,pt,32);var ae=[];for(ue=0;ue<=143;ue++)ae.push(8);for(;ue<=255;ue++)ae.push(9);for(;ue<=279;ue++)ae.push(7);for(;ue<=287;ue++)ae.push(8);De(ae,He,288)})();var vt=function(){for(var ue=K?new Uint8Array(32768):[],ae=0,le=0;ae<D.length-1;++ae)for(;le<D[ae+1];++le)ue[le]=ae;for(;le<32768;++le)ue[le]=29;var de=K?new Uint8Array(259):[];for(ae=0,le=0;ae<H.length-1;++ae)for(;le<H[ae+1];++le)de[le]=ae;function he(Le,Se){for(var Oe=0;Oe<Le.length;){var Me=Math.min(65535,Le.length-Oe),Xe=Oe+Me==Le.length;for(Se.write_shift(1,+Xe),Se.write_shift(2,Me),Se.write_shift(2,~Me&65535);Me-- >0;)Se[Se.l++]=Le[Oe++]}return Se.l}function Te(Le,Se){for(var Oe=0,Me=0,Xe=K?new Uint16Array(32768):[];Me<Le.length;){var ot=Math.min(65535,Le.length-Me);if(ot<10){for(Oe=me(Se,Oe,+(Me+ot==Le.length)),Oe&7&&(Oe+=8-(Oe&7)),Se.l=Oe/8|0,Se.write_shift(2,ot),Se.write_shift(2,~ot&65535);ot-- >0;)Se[Se.l++]=Le[Me++];Oe=Se.l*8;continue}Oe=me(Se,Oe,+(Me+ot==Le.length)+2);for(var yt=0;ot-- >0;){var tt=Le[Me];yt=(yt<<5^tt)&32767;var dt=-1,Zt=0;if((dt=Xe[yt])&&(dt|=Me&-32768,dt>Me&&(dt-=32768),dt<Me))for(;Le[dt+Zt]==Le[Me+Zt]&&Zt<250;)++Zt;if(Zt>2){tt=de[Zt],tt<=22?Oe=ke(Se,Oe,re[tt+1]>>1)-1:(ke(Se,Oe,3),Oe+=5,ke(Se,Oe,re[tt-23]>>5),Oe+=3);var Wr=tt<8?0:tt-4>>2;Wr>0&&(Ue(Se,Oe,Zt-H[tt]),Oe+=Wr),tt=ue[Me-dt],Oe=ke(Se,Oe,re[tt]>>3),Oe-=3;var Vr=tt<4?0:tt-2>>1;Vr>0&&(Ue(Se,Oe,Me-dt-D[tt]),Oe+=Vr);for(var Mi=0;Mi<Zt;++Mi)Xe[yt]=Me&32767,yt=(yt<<5^Le[Me])&32767,++Me;ot-=Zt-1}else tt<=143?tt=tt+48:Oe=Ee(Se,Oe,1),Oe=ke(Se,Oe,re[tt]),Xe[yt]=Me&32767,++Me}Oe=ke(Se,Oe,0)-1}return Se.l=(Oe+7)/8|0,Se.l}return function(Se,Oe){return Se.length<8?he(Se,Oe):Te(Se,Oe)}}();function Ye(ee){var ue=Ba(50+Math.floor(ee.length*1.1)),ae=vt(ee,ue);return ue.slice(0,ae)}var It=K?new Uint16Array(32768):xe(32768),Xt=K?new Uint16Array(32768):xe(32768),pn=K?new Uint16Array(128):xe(128),Sa=1,Lr=1;function Na(ee,ue){var ae=ce(ee,ue)+257;ue+=5;var le=ce(ee,ue)+1;ue+=5;var de=X(ee,ue)+4;ue+=4;for(var he=0,Te=K?new Uint8Array(19):xe(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,Oe=K?new Uint8Array(8):xe(8),Me=K?new Uint8Array(8):xe(8),Xe=Te.length,ot=0;ot<de;++ot)Te[F[ot]]=he=Q(ee,ue),Se<he&&(Se=he),Oe[he]++,ue+=3;var yt=0;for(Oe[0]=0,ot=1;ot<=Se;++ot)Me[ot]=yt=yt+Oe[ot-1]<<1;for(ot=0;ot<Xe;++ot)(yt=Te[ot])!=0&&(Le[ot]=Me[yt]++);var tt=0;for(ot=0;ot<Xe;++ot)if(tt=Te[ot],tt!=0){yt=re[Le[ot]]>>8-tt;for(var dt=(1<<7-tt)-1;dt>=0;--dt)pn[yt|dt<<tt]=tt&7|ot<<3}var Zt=[];for(Se=1;Zt.length<ae+le;)switch(yt=pn[te(ee,ue)],ue+=yt&7,yt>>>=3){case 16:for(he=3+q(ee,ue),ue+=2,yt=Zt[Zt.length-1];he-- >0;)Zt.push(yt);break;case 17:for(he=3+Q(ee,ue),ue+=3;he-- >0;)Zt.push(0);break;case 18:for(he=11+te(ee,ue),ue+=7;he-- >0;)Zt.push(0);break;default:Zt.push(yt),Se<yt&&(Se=yt);break}var Wr=Zt.slice(0,ae),Vr=Zt.slice(ae);for(ot=ae;ot<286;++ot)Wr[ot]=0;for(ot=le;ot<30;++ot)Vr[ot]=0;return Sa=De(Wr,It,286),Lr=De(Vr,Xt,30),ue}function jl(ee,ue){if(ee[0]==3&&!(ee[1]&3))return[of(ue),2];for(var ae=0,le=0,de=v8(ue||1<<18),he=0,Te=de.length>>>0,Le=0,Se=0;(le&1)==0;){if(le=Q(ee,ae),ae+=3,le>>>1)le>>1==1?(Le=9,Se=5):(ae=Na(ee,ae),Le=Sa,Se=Lr);else{ae&7&&(ae+=8-(ae&7));var Oe=ee[ae>>>3]|ee[(ae>>>3)+1]<<8;if(ae+=32,Oe>0)for(!ue&&Te<he+Oe&&(de=fe(de,he+Oe),Te=de.length);Oe-- >0;)de[he++]=ee[ae>>>3],ae+=8;continue}for(;;){!ue&&Te<he+32767&&(de=fe(de,he+32767),Te=de.length);var Me=pe(ee,ae,Le),Xe=le>>>1==1?He[Me]:It[Me];if(ae+=Xe&15,Xe>>>=4,(Xe>>>8&255)===0)de[he++]=Xe;else{if(Xe==256)break;Xe-=257;var ot=Xe<8?0:Xe-4>>2;ot>5&&(ot=0);var yt=he+H[Xe];ot>0&&(yt+=pe(ee,ae,ot),ae+=ot),Me=pe(ee,ae,Se),Xe=le>>>1==1?pt[Me]:Xt[Me],ae+=Xe&15,Xe>>>=4;var tt=Xe<4?0:Xe-2>>1,dt=D[Xe];for(tt>0&&(dt+=pe(ee,ae,tt),ae+=tt),!ue&&Te<yt&&(de=fe(de,yt+100),Te=de.length);he<yt;)de[he]=de[he-dt],++he}}}return ue?[de,ae+7>>>3]:[de.slice(0,he),ae+7>>>3]}function we(ee,ue){var ae=ee.slice(ee.l||0),le=jl(ae,ue);return ee.l+=le[1],le[0]}function Ke(ee,ue){if(ee)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function Ct(ee,ue){var ae=ee;xi(ae,0);var le=[],de=[],he={FileIndex:le,FullPaths:de};w(he,{root:ue.root});for(var Te=ae.length-4;(ae[Te]!=80||ae[Te+1]!=75||ae[Te+2]!=5||ae[Te+3]!=6)&&Te>=0;)--Te;ae.l=Te+4,ae.l+=4;var Le=ae.read_shift(2);ae.l+=6;var Se=ae.read_shift(4);for(ae.l=Se,Te=0;Te<Le;++Te){ae.l+=20;var Oe=ae.read_shift(4),Me=ae.read_shift(4),Xe=ae.read_shift(2),ot=ae.read_shift(2),yt=ae.read_shift(2);ae.l+=8;var tt=ae.read_shift(4),dt=s(ae.slice(ae.l+Xe,ae.l+Xe+ot));ae.l+=Xe+ot+yt;var Zt=ae.l;ae.l=tt+4,rn(ae,Oe,Me,he,dt),ae.l=Zt}return he}function rn(ee,ue,ae,le,de){ee.l+=2;var he=ee.read_shift(2),Te=ee.read_shift(2),Le=o(ee);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var Se=ee.read_shift(4),Oe=ee.read_shift(4),Me=ee.read_shift(4),Xe=ee.read_shift(2),ot=ee.read_shift(2),yt="",tt=0;tt<Xe;++tt)yt+=String.fromCharCode(ee[ee.l++]);if(ot){var dt=s(ee.slice(ee.l,ee.l+ot));(dt[21589]||{}).mt&&(Le=dt[21589].mt),((de||{})[21589]||{}).mt&&(Le=de[21589].mt)}ee.l+=ot;var Zt=ee.slice(ee.l,ee.l+Oe);switch(Te){case 8:Zt=j(ee,Me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var Wr=!1;he&8&&(Se=ee.read_shift(4),Se==134695760&&(Se=ee.read_shift(4),Wr=!0),Oe=ee.read_shift(4),Me=ee.read_shift(4)),Oe!=ue&&Ke(Wr,"Bad compressed size: "+ue+" != "+Oe),Me!=ae&&Ke(Wr,"Bad uncompressed size: "+ae+" != "+Me),Jw(le,yt,Zt,{unsafe:!0,mt:Le})}function Fe(ee,ue){var ae=ue||{},le=[],de=[],he=Ba(1),Te=ae.compression?8:0,Le=0,Se=0,Oe=0,Me=0,Xe=0,ot=ee.FullPaths[0],yt=ot,tt=ee.FileIndex[0],dt=[],Zt=0;for(Se=1;Se<ee.FullPaths.length;++Se)if(yt=ee.FullPaths[Se].slice(ot.length),tt=ee.FileIndex[Se],!(!tt.size||!tt.content||yt=="Sh33tJ5")){var Wr=Me,Vr=Ba(yt.length);for(Oe=0;Oe<yt.length;++Oe)Vr.write_shift(1,yt.charCodeAt(Oe)&127);Vr=Vr.slice(0,Vr.l),dt[Xe]=yve.buf(tt.content,0);var Mi=tt.content;Te==8&&(Mi=L(Mi)),he=Ba(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,Le),he.write_shift(2,Te),tt.mt?i(he,tt.mt):he.write_shift(4,0),he.write_shift(-4,dt[Xe]),he.write_shift(4,Mi.length),he.write_shift(4,tt.content.length),he.write_shift(2,Vr.length),he.write_shift(2,0),Me+=he.length,le.push(he),Me+=Vr.length,le.push(Vr),Me+=Mi.length,le.push(Mi),he=Ba(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,Le),he.write_shift(2,Te),he.write_shift(4,0),he.write_shift(-4,dt[Xe]),he.write_shift(4,Mi.length),he.write_shift(4,tt.content.length),he.write_shift(2,Vr.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,Wr),Zt+=he.l,de.push(he),Zt+=Vr.length,de.push(Vr),++Xe}return he=Ba(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,Xe),he.write_shift(2,Xe),he.write_shift(4,Zt),he.write_shift(4,Me),he.write_shift(2,0),$u([$u(le),$u(de),he])}var st={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kt(ee,ue){if(ee.ctype)return ee.ctype;var ae=ee.name||"",le=ae.match(/\.([^\.]+)$/);return le&&st[le[1]]||ue&&(le=(ae=ue).match(/[\.\\]([^\.\\])+$/),le&&st[le[1]])?st[le[1]]:"application/octet-stream"}function Ks(ee){for(var ue=p8(ee),ae=[],le=0;le<ue.length;le+=76)ae.push(ue.slice(le,le+76));return ae.join(`\r
`)+`\r
`}function cs(ee){var ue=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Oe){var Me=Oe.charCodeAt(0).toString(16).toUpperCase();return"="+(Me.length==1?"0"+Me:Me)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ae=[],le=ue.split(`\r
`),de=0;de<le.length;++de){var he=le[de];if(he.length==0){ae.push("");continue}for(var Te=0;Te<he.length;){var Le=76,Se=he.slice(Te,Te+Le);Se.charAt(Le-1)=="="?Le--:Se.charAt(Le-2)=="="?Le-=2:Se.charAt(Le-3)=="="&&(Le-=3),Se=he.slice(Te,Te+Le),Te+=Le,Te<he.length&&(Se+="="),ae.push(Se)}}return ae.join(`\r
`)}function Lc(ee){for(var ue=[],ae=0;ae<ee.length;++ae){for(var le=ee[ae];ae<=ee.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+ee[++ae];ue.push(le)}for(var de=0;de<ue.length;++de)ue[de]=ue[de].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return hl(ue.join(`\r
`))}function zl(ee,ue,ae){for(var le="",de="",he="",Te,Le=0;Le<10;++Le){var Se=ue[Le];if(!Se||Se.match(/^\s*$/))break;var Oe=Se.match(/^(.*?):\s*([^\s].*)$/);if(Oe)switch(Oe[1].toLowerCase()){case"content-location":le=Oe[2].trim();break;case"content-type":he=Oe[2].trim();break;case"content-transfer-encoding":de=Oe[2].trim();break}}switch(++Le,de.toLowerCase()){case"base64":Te=hl(rs(ue.slice(Le).join("")));break;case"quoted-printable":Te=Lc(ue.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var Me=Jw(ee,le.slice(ae.length),Te,{unsafe:!0});he&&(Me.ctype=he)}function Op(ee,ue){if(N(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ae=ue&&ue.root||"",le=(xn&&Buffer.isBuffer(ee)?ee.toString("binary"):N(ee)).split(`\r
`),de=0,he="";for(de=0;de<le.length;++de)if(he=le[de],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ae||(ae=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ae.length)!=ae))for(;ae.length>0&&(ae=ae.slice(0,ae.length-1),ae=ae.slice(0,ae.lastIndexOf("/")+1),he.slice(0,ae.length)!=ae););var Te=(le[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Le="--"+(Te[1]||""),Se=[],Oe=[],Me={FileIndex:Se,FullPaths:Oe};w(Me);var Xe,ot=0;for(de=0;de<le.length;++de){var yt=le[de];yt!==Le&&yt!==Le+"--"||(ot++&&zl(Me,le.slice(Xe,de),ae),Xe=de)}return Me}function Qw(ee,ue){var ae=ue||{},le=ae.boundary||"SheetJS";le="------="+le;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],he=ee.FullPaths[0],Te=he,Le=ee.FileIndex[0],Se=1;Se<ee.FullPaths.length;++Se)if(Te=ee.FullPaths[Se].slice(he.length),Le=ee.FileIndex[Se],!(!Le.size||!Le.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Oe=Le.content,Me=xn&&Buffer.isBuffer(Oe)?Oe.toString("binary"):N(Oe),Xe=0,ot=Math.min(1024,Me.length),yt=0,tt=0;tt<=ot;++tt)(yt=Me.charCodeAt(tt))>=32&&yt<128&&++Xe;var dt=Xe>=ot*4/5;de.push(le),de.push("Content-Location: "+(ae.root||"file:///C:/SheetJS/")+Te),de.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),de.push("Content-Type: "+kt(Le,Te)),de.push(""),de.push(dt?cs(Me):Ks(Me))}return de.push(le+`--\r
`),de.join(`\r
`)}function uZ(ee){var ue={};return w(ue,ee),ue}function Jw(ee,ue,ae,le){var de=le&&le.unsafe;de||w(ee);var he=!de&&En.find(ee,ue);if(!he){var Te=ee.FullPaths[0];ue.slice(0,Te.length)==Te?Te=ue:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+ue).replace("//","/")),he={name:a(ue),type:2},ee.FileIndex.push(he),ee.FullPaths.push(Te),de||En.utils.cfb_gc(ee)}return he.content=ae,he.size=ae?ae.length:0,le&&(le.CLSID&&(he.clsid=le.CLSID),le.mt&&(he.mt=le.mt),le.ct&&(he.ct=le.ct)),he}function fZ(ee,ue){w(ee);var ae=En.find(ee,ue);if(ae){for(var le=0;le<ee.FileIndex.length;++le)if(ee.FileIndex[le]==ae)return ee.FileIndex.splice(le,1),ee.FullPaths.splice(le,1),!0}return!1}function dZ(ee,ue,ae){w(ee);var le=En.find(ee,ue);if(le){for(var de=0;de<ee.FileIndex.length;++de)if(ee.FileIndex[de]==le)return ee.FileIndex[de].name=a(ae),ee.FullPaths[de]=ae,!0}return!1}function hZ(ee){S(ee,!0)}return t.find=T,t.read=_,t.parse=u,t.write=V,t.writeFile=B,t.utils={cfb_new:uZ,cfb_add:Jw,cfb_del:fZ,cfb_mov:dZ,cfb_gc:hZ,ReadShift:Hv,CheckField:dB,prep_blob:xi,bconcat:$u,use_zlib:z,_deflateRaw:Ye,_inflateRaw:we,consts:P},t}();function xve(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Ec(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function SO(e){for(var t=[],n=Ec(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var Gx=new Date(1899,11,30,0,0,0);function _o(e,t){var n=e.getTime(),r=Gx.getTime()+(e.getTimezoneOffset()-Gx.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var W9=new Date,bve=Gx.getTime()+(W9.getTimezoneOffset()-Gx.getTimezoneOffset())*6e4,E8=W9.getTimezoneOffset();function Ub(e){var t=new Date;return t.setTime(e*24*60*60*1e3+bve),t.getTimezoneOffset()!==E8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-E8)*6e4),t}function wve(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(n=1,i>3&&(r=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(a[i],10)}return t}var S8=new Date("2017-02-19T19:06:09.000Z"),V9=isNaN(S8.getFullYear())?new Date("2/19/17"):S8,_ve=V9.getFullYear()==2017;function li(e,t){var n=new Date(e);if(_ve)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(V9.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Od(e,t){if(xn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return vv(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return vv(I9(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return vv(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return vv(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Oi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Oi(e[n]));return t}function aa(e,t){for(var n="";n.length<t;)n+=e;return n}function El(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var Eve=["january","february","march","april","may","june","july","august","september","october","november","december"];function Mh(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Eve.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var Sve=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,a){if(e||typeof r=="string")return n.split(r);for(var i=n.split(r),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function Y9(e){return e?e.content&&e.type?Od(e.content,!0):e.data?dv(e.data):e.asNodeBuffer&&xn?dv(e.asNodeBuffer().toString("binary")):e.asBinary?dv(e.asBinary()):e._data&&e._data.getContent?dv(Od(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function X9(e){if(!e)return null;if(e.data)return d8(e.data);if(e.asNodeBuffer&&xn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?d8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Ave(e){return e&&e.name.slice(-4)===".bin"?X9(e):Y9(e)}function Es(e,t){for(var n=e.FullPaths||Ec(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||a==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function AO(e,t){var n=Es(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Ta(e,t,n){if(!n)return Ave(AO(e,t));if(!t)return null;try{return Ta(e,t)}catch{return null}}function qo(e,t,n){if(!n)return Y9(AO(e,t));if(!t)return null;try{return qo(e,t)}catch{return null}}function kve(e,t,n){return X9(AO(e,t))}function A8(e){for(var t=e.FullPaths||Ec(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Tve(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return xn?r=Qd(n):r=Vpe(n),En.utils.cfb_add(e,t,r)}En.utils.cfb_add(e,t,n)}else e.file(t,n)}function q9(e,t){switch(t.type){case"base64":return En.read(e,{type:"base64"});case"binary":return En.read(e,{type:"binary"});case"buffer":case"array":return En.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function pv(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var a=r.shift();a===".."?n.pop():a!=="."&&n.push(a)}return n.join("/")}var K9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ove=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,k8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Cve=/<[^>]*>/g,Ji=K9.match(k8)?k8:Cve,Mve=/<\w*:/,Pve=/<(\/?)\w+:/;function Ht(e,t,n){for(var r={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var o=e.match(Ove),s=0,l="",c=0,u="",f="",d=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(d=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+d,f.length-d),s=0;s!=u.length&&u.charCodeAt(s)!==58;++s);if(s===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var h=(s===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(s+1);if(r[h]&&u.slice(s-3,s)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function Rc(e){return e.replace(Pve,"<$1")}var Z9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ive=SO(Z9),On=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var a=r+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return Z9[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return n(a.slice(0,i))+a.slice(i+9,o)+n(a.slice(o+3))}}(),Rve=/[&<>'"]/g,Nve=/[\u0000-\u001f]/g;function kO(e){var t=e+"";return t.replace(Rve,function(n){return Ive[n]}).replace(/\n/g,"<br/>").replace(Nve,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var T8=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function $r(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function W_(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function O8(e){var t=of(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function C8(e){return Qd(e,"binary").toString("utf8")}var Em="foo bar bazâð£",br=xn&&(C8(Em)==W_(Em)&&C8||O8(Em)==W_(Em)&&O8)||W_,vv=xn?function(e){return Qd(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},S1=function(){var e={};return function(n,r){var a=n+"|"+(r||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),Q9=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),Dve=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),Lve=/<\/?(?:vt:)?variant>/g,Fve=/<(?:vt:)([^>]*)>([\s\S]*)</;function M8(e,t){var n=Ht(e),r=e.match(Dve(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(i){var o=i.replace(Lve,"").match(Fve);o&&a.push({v:br(o[2]),t:o[1]})}),a}var Bve=/(^\s|\s$|\n)/;function $ve(e){return Ec(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function jve(e,t,n){return"<"+e+(n!=null?$ve(n):"")+(t!=null?(t.match(Bve)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function TO(e){if(xn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return br(Jd(wO(e)));throw new Error("Bad input format: expected Buffer or string")}var A1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,zve={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Uve=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Hve(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function Gve(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var P8=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},I8=xn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Qd(t)})):P8(e)}:P8,R8=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(eu(e,a)));return r.join("").replace(bo,"")},OO=xn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(bo,""):R8(e,t,n)}:R8,N8=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},J9=xn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):N8(e,t,n)}:N8,D8=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(F0(e,a)));return r.join("")},kg=xn?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):D8(t,n,r)}:D8,eB=function(e,t){var n=Xo(e,t);return n>0?kg(e,t+4,t+4+n-1):""},tB=eB,nB=function(e,t){var n=Xo(e,t);return n>0?kg(e,t+4,t+4+n-1):""},rB=nB,aB=function(e,t){var n=2*Xo(e,t);return n>0?kg(e,t+4,t+4+n-1):""},iB=aB,oB=function(t,n){var r=Xo(t,n);return r>0?OO(t,n+4,n+4+r):""},sB=oB,lB=function(e,t){var n=Xo(e,t);return n>0?kg(e,t+4,t+4+n):""},cB=lB,uB=function(e,t){return Hve(e,t)},Wx=uB,fB=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};xn&&(tB=function(t,n){if(!Buffer.isBuffer(t))return eB(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},rB=function(t,n){if(!Buffer.isBuffer(t))return nB(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},iB=function(t,n){if(!Buffer.isBuffer(t))return aB(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},sB=function(t,n){if(!Buffer.isBuffer(t))return oB(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},cB=function(t,n){if(!Buffer.isBuffer(t))return lB(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Wx=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):uB(t,n)},fB=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var F0=function(e,t){return e[t]},eu=function(e,t){return e[t+1]*256+e[t]},Wve=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Xo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Jf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Vve=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Hv(e,t){var n="",r,a,i=[],o,s,l,c;switch(t){case"dbcs":if(c=this.l,xn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(eu(this,c)),c+=2;e*=2;break;case"utf8":n=kg(this,this.l,this.l+e);break;case"utf16le":e*=2,n=OO(this,this.l,this.l+e);break;case"wstr":return Hv.call(this,e,"dbcs");case"lpstr-ansi":n=tB(this,this.l),e=4+Xo(this,this.l);break;case"lpstr-cp":n=rB(this,this.l),e=4+Xo(this,this.l);break;case"lpwstr":n=iB(this,this.l),e=4+2*Xo(this,this.l);break;case"lpp4":e=4+Xo(this,this.l),n=sB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xo(this,this.l),n=cB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=F0(this,this.l+e++))!==0;)i.push(_m(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=eu(this,this.l+e))!==0;)i.push(_m(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=F0(this,c),this.l=c+1,s=Hv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(_m(eu(this,c))),c+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=F0(this,c),this.l=c+1,s=Hv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(_m(F0(this,c))),c+=1}n=i.join("");break;default:switch(e){case 1:return r=F0(this,this.l),this.l++,r;case 2:return r=(t==="i"?Wve:eu)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Jf:Vve)(this,this.l),this.l+=4,r):(a=Xo(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Wx(this,this.l):a=Wx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=J9(this,this.l,e);break}}return this.l+=e,n}var Yve=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Xve=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},qve=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function Kve(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)qve(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,Yve(this,t,this.l);break;case 8:if(r=8,n==="f"){Gve(this,t,this.l);break}case 16:break;case-4:r=4,Xve(this,t,this.l);break}return this.l+=r,this}function dB(e,t){var n=J9(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function xi(e,t){e.l=t,e.read_shift=Hv,e.chk=dB,e.write_shift=Kve}function Zi(e,t){e.l+=t}function Ba(e){var t=of(e);return xi(t,0),t}function wu(e,t,n){if(e){var r,a,i;xi(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var c=Zx[s]||Zx[65535];for(r=e.read_shift(1),i=r&127,a=1;a<4&&r&128;++a)i+=((r=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,n);if(e.l=l,t(u,c,s))return}}}function OA(){var e=[],t=xn?256:2048,n=function(c){var u=Ba(c);return xi(u,0),u},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(c){return r&&c<r.length-r.l?r:(a(),r=n(Math.max(c+1,t)))},o=function(){return a(),$u(e)},s=function(c){a(),r=c,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Gv(e,t,n){var r=Oi(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function L8(e,t,n){var r=Oi(e);return r.s=Gv(r.s,t.s,n),r.e=Gv(r.e,t.s,n),r}function Wv(e,t){if(e.cRel&&e.c<0)for(e=Oi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Oi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Kt(e);return!e.cRel&&e.cRel!=null&&(n=Jve(n)),!e.rRel&&e.rRel!=null&&(n=Zve(n)),n}function V_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ha(e.s.c)+":"+(e.e.cRel?"":"$")+Ha(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ci(e.s.r)+":"+(e.e.rRel?"":"$")+Ci(e.e.r):Wv(e.s,t.biff)+":"+Wv(e.e,t.biff)}function CO(e){return parseInt(Qve(e),10)-1}function Ci(e){return""+(e+1)}function Zve(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Qve(e){return e.replace(/\$(\d+)$/,"$1")}function MO(e){for(var t=e1e(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Ha(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Jve(e){return e.replace(/^([A-Z])/,"$$$1")}function e1e(e){return e.replace(/^\$([A-Z])/,"$1")}function t1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function yo(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Kt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function gp(e){var t=e.indexOf(":");return t==-1?{s:yo(e),e:yo(e)}:{s:yo(e.slice(0,t)),e:yo(e.slice(t+1))}}function Sn(e,t){return typeof t>"u"||typeof t=="number"?Sn(e.s,e.e):(typeof e!="string"&&(e=Kt(e)),typeof t!="string"&&(t=Kt(t)),e==t?e:e+":"+t)}function la(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function F8(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zs(e.z,n?_o(t):t)}catch{}try{return e.w=zs((e.XF||{}).numFmtId||(n?14:0),n?_o(t):t)}catch{return""+t}}function du(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?n0[e.v]||e.v:t==null?F8(e,e.v):F8(e,t))}function xf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function hB(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?yo(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=la(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},p=o+f,v=s+d;if(c.s.r>p&&(c.s.r=p),c.s.c>v&&(c.s.c=v),c.e.r<p&&(c.e.r=p),c.e.c<v&&(c.e.c=v),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||en[14],r.cellDates?(h.t="d",h.w=zs(h.z,_o(h.v))):(h.t="n",h.v=_o(h.v),h.w=zs(h.z,h.v))):h.t="s";if(a)i[p]||(i[p]=[]),i[p][v]&&i[p][v].z&&(h.z=i[p][v].z),i[p][v]=h;else{var g=Kt({c:v,r:p});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return c.s.c<1e7&&(i["!ref"]=Sn(c)),i}function mp(e,t){return hB(null,e,t)}function n1e(e){return e.read_shift(4,"i")}function qi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function r1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function PO(e,t){var n=e.l,r=e.read_shift(1),a=qi(e),i=[],o={t:a,h:a};if((r&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(r1e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var a1e=PO;function Ws(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function e0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var i1e=qi;function IO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var o1e=qi,CA=IO;function RO(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?Wx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Jf(t,0)>>2;return n?a/100:a}function pB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var t0=pB;function Gi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function s1e(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var c=yd[a];c&&(t.rgb=T1(c));break;case 2:t.rgb=T1([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function l1e(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function vB(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function c1e(e){return vB(e,1)}function u1e(e){return vB(e,2)}var NO=2,Mo=3,Sm=11,B8=12,Vx=19,Am=64,f1e=65,d1e=71,h1e=4108,p1e=4126,ei=80,gB=81,v1e=[ei,gB],g1e={1:{n:"CodePage",t:NO},2:{n:"Category",t:ei},3:{n:"PresentationFormat",t:ei},4:{n:"ByteCount",t:Mo},5:{n:"LineCount",t:Mo},6:{n:"ParagraphCount",t:Mo},7:{n:"SlideCount",t:Mo},8:{n:"NoteCount",t:Mo},9:{n:"HiddenCount",t:Mo},10:{n:"MultimediaClipCount",t:Mo},11:{n:"ScaleCrop",t:Sm},12:{n:"HeadingPairs",t:h1e},13:{n:"TitlesOfParts",t:p1e},14:{n:"Manager",t:ei},15:{n:"Company",t:ei},16:{n:"LinksUpToDate",t:Sm},17:{n:"CharacterCount",t:Mo},19:{n:"SharedDoc",t:Sm},22:{n:"HyperlinksChanged",t:Sm},23:{n:"AppVersion",t:Mo,p:"version"},24:{n:"DigSig",t:f1e},26:{n:"ContentType",t:ei},27:{n:"ContentStatus",t:ei},28:{n:"Language",t:ei},29:{n:"Version",t:ei},255:{},2147483648:{n:"Locale",t:Vx},2147483651:{n:"Behavior",t:Vx},1919054434:{}},m1e={1:{n:"CodePage",t:NO},2:{n:"Title",t:ei},3:{n:"Subject",t:ei},4:{n:"Author",t:ei},5:{n:"Keywords",t:ei},6:{n:"Comments",t:ei},7:{n:"Template",t:ei},8:{n:"LastAuthor",t:ei},9:{n:"RevNumber",t:ei},10:{n:"EditTime",t:Am},11:{n:"LastPrinted",t:Am},12:{n:"CreatedDate",t:Am},13:{n:"ModifiedDate",t:Am},14:{n:"PageCount",t:Mo},15:{n:"WordCount",t:Mo},16:{n:"CharCount",t:Mo},17:{n:"Thumbnail",t:d1e},18:{n:"Application",t:ei},19:{n:"DocSecurity",t:Mo},255:{},2147483648:{n:"Locale",t:Vx},2147483651:{n:"Behavior",t:Vx},1919054434:{}},$8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},y1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function x1e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var b1e=x1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yd=Oi(b1e),n0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mB={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},j8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function w1e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _1e(e){var t=w1e();if(!e||!e.match)return t;var n={};if((e.match(Ji)||[]).forEach(function(r){var a=Ht(r);switch(a[0].replace(Mve,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[a.Extension]=a.ContentType;break;case"<Override":t[j8[a.ContentType]]!==void 0&&t[j8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==zve.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var H0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function MA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Vv(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Ji)||[]).forEach(function(a){var i=Ht(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:pv(i.Target,t);n[s]=o,r[i.Id]=o}}),n["!id"]=r,n}var E1e="application/vnd.oasis.opendocument.spreadsheet";function S1e(e,t){for(var n=TO(e),r,a;r=A1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(a=Ht(r[0],!1),a.path=="/"&&a.type!==E1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Yv=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],A1e=function(){for(var e=new Array(Yv.length),t=0;t<Yv.length;++t){var n=Yv[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function yB(e){var t={};e=br(e);for(var n=0;n<Yv.length;++n){var r=Yv[n],a=e.match(A1e[n]);a!=null&&a.length>0&&(t[r[1]]=On(a[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=li(t[r[1]]))}return t}var k1e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function xB(e,t,n,r){var a=[];if(typeof e=="string")a=M8(e,r);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?M8(t,r).map(function(u){return u.v}):t,s=0,l=0;if(o.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":n.NamedRanges=l,n.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(s,s+l);break}s+=l}}function T1e(e,t,n){var r={};return t||(t={}),e=br(e),k1e.forEach(function(a){var i=(e.match(S1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=On(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(r[a[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&xB(r.HeadingPairs,r.TitlesOfParts,t,n),t}var O1e=/<[^>]+>[^<]*/g;function C1e(e,t){var n={},r="",a=e.match(O1e);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=Ht(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":r=On(s.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=On(u);break;case"bool":n[r]=$r(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=li(u);break;case"cy":case"error":n[r]=On(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var M1e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Y_;function P1e(e,t,n){Y_||(Y_=SO(M1e)),t=Y_[t]||t,e[t]=n}function DO(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function bB(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function wB(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function _B(e,t,n){return t===31?wB(e):bB(e,t,n)}function PA(e,t,n){return _B(e,t,n===!1?0:4)}function I1e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return _B(e,t,0)}function R1e(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(bo,""),e.l-a&2&&(e.l+=2)}return n}function N1e(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(bo,"");return n}function D1e(e){var t=e.l,n=Yx(e,gB);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=Yx(e,Mo);return[n,r]}function L1e(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(D1e(e));return n}function z8(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var i=e.read_shift(4),o=e.read_shift(4);r[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(bo,"").replace(hv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function EB(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function F1e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Yx(e,t,n){var r=e.read_shift(2),a,i=n||{};if(e.l+=2,t!==B8&&r!==t&&v1e.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===B8?r:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return bB(e,r,4).replace(bo,"");case 31:return wB(e);case 64:return DO(e);case 65:return EB(e);case 71:return F1e(e);case 80:return PA(e,r,!i.raw).replace(bo,"");case 81:return I1e(e,r).replace(bo,"");case 4108:return L1e(e);case 4126:case 4127:return r==4127?R1e(e):N1e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function U8(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,c={};for(o=0;o!=a;++o){var u=e.read_shift(4),f=e.read_shift(4);i[o]=[u,f+n]}i.sort(function(y,x){return y[1]-x[1]});var d={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var h=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(h=!1,e.l=i[o][1]),h)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(d[p.n]=Yx(e,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ml(s=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[o][0]===1){if(s=d.CodePage=Yx(e,NO),ml(s),l!==-1){var v=e.l;e.l=i[l][1],c=z8(e,s),e.l=v}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}c=z8(e,s)}else{var g=c[i[o][0]],m;switch(e[e.l]){case 65:e.l+=4,m=EB(e);break;case 30:e.l+=4,m=PA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,m=PA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=pa(e,4);break;case 64:e.l+=4,m=li(DO(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[g]=m}}return e.l=n+r,d}function H8(e,t,n){var r=e.content;if(!r)return{};xi(r,0);var a,i,o,s,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==En.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(a=r.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=r.read_shift(16),s=r.read_shift(4),a===1&&s!==r.l)throw new Error("Length mismatch: "+s+" !== "+r.l);a===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=U8(r,t),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=i,a===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=U8(r,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[i,o],d}function Ou(e,t){return e.read_shift(t),null}function B1e(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}function pa(e,t){return e.read_shift(t)===1}function Oa(e){return e.read_shift(2,"u")}function SB(e,t){return B1e(e,t,Oa)}function $1e(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function Tg(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function j1e(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,a=n&8,i=1+(n&1),o=0,s,l={};a&&(o=e.read_shift(2)),r&&(s=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*o),r&&(e.l+=s),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Cd(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Og(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Cd(e,r,n)}function r0(e,t,n){if(n.biff>5)return Og(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function z1e(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function U1e(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(bo,"");return r&&(e.l+=24),a}function H1e(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(bo,"");return n+o}function G1e(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return U1e(e);case"0303000000000000c000000000000046":return H1e(e);default:throw new Error("Unsupported Moniker "+n)}}function km(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(bo,""):"";return n}function W1e(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var i,o,s,l,c="",u,f;a&16&&(i=km(e,n-e.l)),a&128&&(o=km(e,n-e.l)),(a&257)===257&&(s=km(e,n-e.l)),(a&257)===1&&(l=G1e(e,n-e.l)),a&8&&(c=km(e,n-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=DO(e)),e.l=n;var d=o||s||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),i&&(h.Tooltip=i),h}function AB(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1);return[t,n,r,a]}function kB(e,t){var n=AB(e);return n[3]=0,n}function Nc(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function V1e(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Y1e(e,t,n){return t===0?"":r0(e,t,n)}function X1e(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function TB(e){var t=e.read_shift(2),n=RO(e);return[t,n]}function q1e(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=Tg(e,t,n),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,a}function Hb(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function OB(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),a=e.read_shift(1);return{s:{c:r,r:t},e:{c:a,r:n}}}var K1e=OB;function CB(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function Z1e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Q1e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ii(e){e.l+=2,e.l+=e.read_shift(2)}var J1e={0:Ii,4:Ii,5:Ii,6:Ii,7:Q1e,8:Ii,9:Ii,10:Ii,11:Ii,12:Ii,13:Z1e,14:Ii,15:Ii,16:Ii,17:Ii,18:Ii,19:Ii,20:Ii,21:CB};function ege(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(J1e[a](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Tm(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function tge(e,t){return t===0||e.read_shift(2),1200}function nge(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=r0(e,0,n);return e.read_shift(t+r-e.l),a}function rge(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function age(e,t,n){var r=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Tg(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:a,dt:i,name:o}}function ige(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<n;++o)i.push(j1e(e));return i.Count=r,i.Unique=a,i}function oge(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function sge(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function lge(e){var t=V1e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function cge(e){return e.read_shift(2),e.read_shift(4)}function G8(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var a=e.read_shift(2);n&&n.biff==2&&(r=1-(a>>15),a&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,a]}function uge(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:c}}function fge(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function dge(){}function hge(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=Tg(e,0,n),r}function pge(e){var t=Nc(e);return t.isst=e.read_shift(4),t}function vge(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,a=Nc(e);n.biff==2&&e.l++;var i=Og(e,r-e.l,n);return a.val=i,a}function gge(e,t,n){var r=e.read_shift(2),a=r0(e,0,n);return[r,a]}var mge=r0;function W8(e,t,n){var r=e.l+t,a=n.biff==8||!n.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:i,c:s},e:{r:o,c:l}}}function yge(e){var t=e.read_shift(2),n=e.read_shift(2),r=TB(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function xge(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(TB(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r,c:a,C:o,rkrec:i}}function bge(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r,c:a,C:o,ixfe:i}}function wge(e,t,n,r){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=y1e[s>>26],r.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function _ge(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=wge(e,t,r.fStyle,n),r}function Ege(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function V8(e,t,n){var r=Nc(e);(n.biff==2||t==9)&&++e.l;var a=$1e(e);return r.val=a,r.t=a===!0||a===!1?"b":"e",r}function Sge(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Nc(e),a=Gi(e);return r.val=a,r}var Y8=Y1e;function Age(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Cd(e,i),s=[];r>e.l;)s.push(Og(e));return[i,a,o,s]}function X8(e,t,n){var r=e.read_shift(2),a,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(a=q1e(e,t-2,n)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var kge=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function q8(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Cd(e,o,n);a&32&&(c=kge[c.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var f=r==e.l||s===0||!(u>0)?[]:s2e(e,u,n,s);return{chKey:i,Name:c,itab:l,rgce:f}}function MB(e,t,n){if(n.biff<8)return Tge(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(X1e(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function Tge(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Tg(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function Oge(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),a=e.read_shift(2),i=Cd(e,r,n),o=Cd(e,a,n);return[i,o]}function Cge(e,t,n){var r=OB(e);e.l++;var a=e.read_shift(1);return t-=8,[l2e(e,t,n),a,r]}function K8(e,t,n){var r=K1e(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,i2e(e,t,n)]}function Mge(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function Pge(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=r0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:a},s,o,i]}}function Ige(e,t,n){return Pge(e,t,n)}function Rge(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(Hb(e));return n}function Nge(e,t,n){if(n&&n.biff<8)return Lge(e,t,n);var r=CB(e),a=ege(e,t-22,r[1]);return{cmo:r,ft:a}}var Dge={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function Lge(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Dge[r]||Zi)(e,t,n)),{cmo:[a,r,i],ft:o}}function Fge(e,t,n){var r=e.l,a="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=z1e(e,6,n);var s=e.read_shift(2);e.read_shift(2),Oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Cd(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=r+t,{t:a}}catch{return e.l=r+t,{t:a}}}function Bge(e,t){var n=Hb(e);e.l+=16;var r=W1e(e,t-24);return[n,r]}function $ge(e,t){e.read_shift(2);var n=Hb(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(bo,""),[n,r]}function jge(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=$8[n]||n,n=e.read_shift(2),t[1]=$8[n]||n,t}function zge(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(kB(e));return n}function Uge(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(kB(e));return n}function Hge(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function PB(e,t,n){if(!n.cellStyles)return Zi(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function Gge(e,t){var n={};return t<32||(e.l+=16,n.header=Gi(e),n.footer=Gi(e),e.l+=2),n}function Wge(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,a&16&&(r.area=!0),r}var Vge=Nc,Yge=SB,Xge=Og;function qge(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}function Kge(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Nc(e);++e.l;var a=r0(e,t-7,n);return r.t="str",r.val=a,r}function Zge(e){var t=Nc(e);++e.l;var n=Gi(e);return t.t="n",t.val=n,t}function Qge(e){var t=Nc(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function Jge(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function eme(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function tme(e,t,n){var r=e.l+t,a=Nc(e),i=e.read_shift(2),o=Cd(e,i,n);return e.l=r,a.t="str",a.val=o,a}var nme=[2,3,48,49,131,139,140,245],Z8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=SO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,l){var c=[],u=of(1);switch(l.type){case"base64":u=hl(rs(s));break;case"binary":u=hl(s);break;case"buffer":case"array":u=s;break}xi(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=u.read_shift(2));var m=u.read_shift(2),y=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var x=[],b={},E=Math.min(u.length,f==2?521:g-10-(h?264:0)),_=p?32:11;u.l<E&&u[u.l]!=13;)switch(b={},b.name=TA.utils.decode(y,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&x.push(b),f!=2&&(u.l+=p?13:14),b.type){case"B":(!h||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var w=0,A=0;for(c[0]=[],A=0;A!=x.length;++A)c[0][A]=x[A].name;for(;v-- >0;){if(u[u.l]===42){u.l+=m;continue}for(++u.l,c[++w]=[],A=0,A=0;A!=x.length;++A){var S=u.slice(u.l,u.l+x[A].len);u.l+=x[A].len,xi(S,0);var k=TA.utils.decode(y,S);switch(x[A].type){case"C":k.trim().length&&(c[w][A]=k.replace(/\s+$/,""));break;case"D":k.length===8?c[w][A]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):c[w][A]=k;break;case"F":c[w][A]=parseFloat(k.trim());break;case"+":case"I":c[w][A]=p?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":c[w][A]=!0;break;case"N":case"F":c[w][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[w][A]="##MEMO##"+(p?parseInt(k.trim(),10):S.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(c[w][A]=+k||0);break;case"@":c[w][A]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[w][A]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[w][A]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[w][A]=-S.read_shift(-8,"f");break;case"B":if(h&&x[A].len==8){c[w][A]=S.read_shift(8,"f");break}case"G":case"P":S.l+=x[A].len;break;case"0":if(x[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function r(s,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=mp(n(s,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(s,l){try{return xf(r(s,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var c=l||{};if(+c.codepage>=0&&ml(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=OA(),f=BA(s,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=s["!cols"]||[],v=0,g=0,m=0,y=1;for(v=0;v<d.length;++v){if(((p[v]||{}).DBF||{}).name){d[v]=p[v].DBF.name,++m;continue}if(d[v]!=null){if(++m,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(g=0;g<1024;++g)if(d.indexOf(d[v]+"_"+g)==-1){d[v]+="_"+g;break}}}}var x=la(s["!ref"]),b=[],E=[],_=[];for(v=0;v<=x.e.c-x.s.c;++v){var w="",A="",S=0,k=[];for(g=0;g<h.length;++g)h[g][v]!=null&&k.push(h[g][v]);if(k.length==0||d[v]==null){b[v]="?";continue}for(g=0;g<k.length;++g){switch(typeof k[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=k[g]instanceof Date?"D":"C";break;default:A="C"}S=Math.max(S,String(k[g]).length),w=w&&w!=A?"C":A}S>250&&(S=250),A=((p[v]||{}).DBF||{}).type,A=="C"&&p[v].DBF.len>S&&(S=p[v].DBF.len),w=="B"&&A=="N"&&(w="N",_[v]=p[v].DBF.dec,S=p[v].DBF.len),E[v]=w=="C"||A=="N"?S:i[w]||0,y+=E[v],b[v]=w}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,h.length),T.write_shift(2,296+32*m),T.write_shift(2,y),v=0;v<4;++v)T.write_shift(4,0);for(T.write_shift(4,0|(+t[M9]||3)<<8),v=0,g=0;v<d.length;++v)if(d[v]!=null){var O=u.next(32),C=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,C,"sbcs"),O.write_shift(1,b[v]=="?"?"C":b[v],"sbcs"),O.write_shift(4,g),O.write_shift(1,E[v]||i[b[v]]||0),O.write_shift(1,_[v]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),g+=E[v]||i[b[v]]||0}var M=u.next(264);for(M.write_shift(4,13),v=0;v<65;++v)M.write_shift(4,0);for(v=0;v<h.length;++v){var R=u.next(y);for(R.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(b[g]){case"L":R.write_shift(1,h[v][g]==null?63:h[v][g]?84:70);break;case"B":R.write_shift(8,h[v][g]||0,"f");break;case"N":var I="0";for(typeof h[v][g]=="number"&&(I=h[v][g].toFixed(_[g]||0)),m=0;m<E[g]-I.length;++m)R.write_shift(1,32);R.write_shift(1,I,"sbcs");break;case"D":h[v][g]?(R.write_shift(4,("0000"+h[v][g].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(h[v][g].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+h[v][g].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[v][g]!=null?h[v][g]:"").slice(0,E[g]);for(R.write_shift(1,P,"sbcs"),m=0;m<E[g]-P.length;++m)R.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),rme=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ec(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var p=e[h];return typeof p=="number"?h8(p):p},r=function(d,h,p){var v=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?d:h8(v)};e["|"]=254;function a(d,h){switch(h.type){case"base64":return i(rs(d),h);case"binary":return i(d,h);case"buffer":return i(xn&&Buffer.isBuffer(d)?d.toString("binary"):Jd(d),h);case"array":return i(Od(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var p=d.split(/[\n\r]+/),v=-1,g=-1,m=0,y=0,x=[],b=[],E=null,_={},w=[],A=[],S=[],k=0,T;for(+h.codepage>=0&&ml(+h.codepage);m!==p.length;++m){k=0;var O=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),C=O.replace(/;;/g,"\0").split(";").map(function(F){return F.replace(/\u0000/g,";")}),M=C[0],R;if(O.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":C[1].charAt(0)=="P"&&b.push(O.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,P=!1,B=!1,N=!1,V=-1,W=-1;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"A":break;case"X":g=parseInt(C[y].slice(1))-1,P=!0;break;case"Y":for(v=parseInt(C[y].slice(1))-1,P||(g=0),T=x.length;T<=v;++T)x[T]=[];break;case"K":R=C[y].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(El(R))?isNaN(Mh(R).getDate())||(R=li(R)):(R=El(R),E!==null&&vp(E)&&(R=Ub(R))),I=!0;break;case"E":N=!0;var z=rh(C[y].slice(1),{r:v,c:g});x[v][g]=[x[v][g],z];break;case"S":B=!0,x[v][g]=[x[v][g],"S5S"];break;case"G":break;case"R":V=parseInt(C[y].slice(1))-1;break;case"C":W=parseInt(C[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}if(I&&(x[v][g]&&x[v][g].length==2?x[v][g][0]=R:x[v][g]=R,E=null),B){if(N)throw new Error("SYLK shared formula cannot have own formula");var j=V>-1&&x[V][W];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");x[v][g][1]=zB(j[1],{r:v-V,c:g-W})}break;case"F":var L=0;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"X":g=parseInt(C[y].slice(1))-1,++L;break;case"Y":for(v=parseInt(C[y].slice(1))-1,T=x.length;T<=v;++T)x[T]=[];break;case"M":k=parseInt(C[y].slice(1))/20;break;case"F":break;case"G":break;case"P":E=b[parseInt(C[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=C[y].slice(1).split(" "),T=parseInt(S[0],10);T<=parseInt(S[1],10);++T)k=parseInt(S[2],10),A[T-1]=k===0?{hidden:!0}:{wch:k},Ph(A[T-1]);break;case"C":g=parseInt(C[y].slice(1))-1,A[g]||(A[g]={});break;case"R":v=parseInt(C[y].slice(1))-1,w[v]||(w[v]={}),k>0?(w[v].hpt=k,w[v].hpx=O1(k)):k===0&&(w[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}L<1&&(E=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}}return w.length>0&&(_["!rows"]=w),A.length>0&&(_["!cols"]=A),h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),[x,_]}function o(d,h){var p=a(d,h),v=p[0],g=p[1],m=mp(v,h);return Ec(g).forEach(function(y){m[y]=g[y]}),m}function s(d,h){return xf(o(d,h),h)}function l(d,h,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+Hye(d.f,{r:p,c:v}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(d,h){h.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=qx(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Kx(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function u(d,h){h.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*BB(p.hpx)+";"),g.length>2&&d.push(g+"R"+(v+1))})}function f(d,h){var p=["ID;PWXL;N;E"],v=[],g=la(d["!ref"]),m,y=Array.isArray(d),x=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&c(p,d["!cols"]),d["!rows"]&&u(p,d["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var E=g.s.c;E<=g.e.c;++E){var _=Kt({r:b,c:E});m=y?(d[b]||[])[E]:d[_],!(!m||m.v==null&&(!m.f||m.F))&&v.push(l(m,d,b,E))}return p.join(x)+x+v.join(x)+x+"E"+x}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),ame=function(){function e(i,o){switch(o.type){case"base64":return t(rs(i),o);case"binary":return t(i,o);case"buffer":return t(xn&&Buffer.isBuffer(i)?i.toString("binary"):Jd(i),o);case"array":return t(Od(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==s.length;++u){if(s[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=s[u].trim().split(","),h=d[0],p=d[1];++u;for(var v=s[u]||"";(v.match(/["]/g)||[]).length&1&&u<s.length-1;)v+=`
`+s[++u];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(El(p))?isNaN(Mh(p).getDate())?f[l][c]=p:f[l][c]=li(p):f[l][c]=El(p),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(i,o){return mp(e(i,o),o)}function r(i,o){return xf(n(i,o),o)}var a=function(){var i=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=la(l["!ref"]),f,d=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var v=Kt({r:h,c:p});if(f=d?(l[h]||[])[p]:l[v],!f){o(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,g,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=zs(f.z||en[14],_o(li(f.v)))),o(c,0,f.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var m=`\r
`,y=c.join(m);return y}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),ime=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),p=-1,v=-1,g=0,m=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var x=yo(y[1]);if(m.length<=x.r)for(p=m.length;p<=x.r;++p)m[p]||(m[p]=[]);switch(p=x.r,v=x.c,y[2]){case"t":m[p][v]=e(y[3]);break;case"v":m[p][v]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":m[p][v]=!!+y[4];break;default:m[p][v]=+y[4];break}y[2]=="vtf"&&(m[p][v]=[m[p][v],b])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function r(f,d){return mp(n(f,d),d)}function a(f,d){return xf(r(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,v="",g=gp(f["!ref"]),m=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var x=g.s.c;x<=g.e.c;++x)if(v=Kt({r:y,c:x}),p=m?(f[y]||[])[x]:f[v],!(!p||p.v==null||p.t==="z")){switch(h=["cell",v,"t"],p.t){case"s":case"str":h.push(t(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=t(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var b=_o(li(p.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=p.w||zs(p.z||en[14],b);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[i,o,s,o,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:u}}(),k1=function(){function e(u,f,d,h,p){p.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(El(u))?isNaN(Mh(u).getDate())?f[d][h]=u:f[d][h]=li(u):f[d][h]=El(u))}function t(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,m=0,y=0;y<=v;++y)m=p[y].indexOf(" "),m==-1?m=p[y].length:m++,g=Math.max(g,m);for(y=0;y<=v;++y){h[y]=[];var x=0;for(e(p[y].slice(0,g).trim(),h,y,x,d),x=1;x<=(p[y].length-g)/10+1;++x)e(p[y].slice(g+(x-1)*10,g+x*10).trim(),h,y,x,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(u){for(var f={},d=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?d=!d:!d&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(v,g){return v[0]-g[0]||r[v[1]]-r[g[1]]}),n[p.pop()[1]]||44}function i(u,f){var d=f||{},h="",p=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):d&&d.FS?h=d.FS:h=a(u.slice(0,1024));var g=0,m=0,y=0,x=0,b=0,E=h.charCodeAt(0),_=!1,w=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=d.dateNF!=null?gve(d.dateNF):null;function k(){var T=u.slice(x,b),O={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)O.t="z";else if(d.raw)O.t="s",O.v=T;else if(T.trim().length===0)O.t="s",O.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(O.t="s",O.v=T.slice(2,-1).replace(/""/g,'"')):Wye(T)?(O.t="n",O.f=T.slice(1)):(O.t="s",O.v=T);else if(T=="TRUE")O.t="b",O.v=!0;else if(T=="FALSE")O.t="b",O.v=!1;else if(!isNaN(y=El(T)))O.t="n",d.cellText!==!1&&(O.w=T),O.v=y;else if(!isNaN(Mh(T).getDate())||S&&T.match(S)){O.z=d.dateNF||en[14];var C=0;S&&T.match(S)&&(T=mve(T,d.dateNF,T.match(S)||[]),C=1),d.cellDates?(O.t="d",O.v=li(T,C)):(O.t="n",O.v=_o(li(T,C))),d.cellText!==!1&&(O.w=zs(O.z,O.v instanceof Date?_o(O.v):O.v)),d.cellNF||delete O.z}else O.t="s",O.v=T;if(O.t=="z"||(d.dense?(p[g]||(p[g]=[]),p[g][m]=O):p[Kt({c:m,r:g})]=O),x=b+1,A=u.charCodeAt(x),v.e.c<m&&(v.e.c=m),v.e.r<g&&(v.e.r=g),w==E)++m;else if(m=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(w=u.charCodeAt(b)){case 34:A===34&&(_=!_);break;case E:case 10:case 13:if(!_&&k())break e;break}return b-x>0&&k(),p["!ref"]=Sn(v),p}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):mp(t(u,f),f)}function s(u,f){var d="",h=f.type=="string"?[0,0,0,0]:HO(u,f);switch(f.type){case"base64":d=rs(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):(f.codepage,d=xn&&Buffer.isBuffer(u)?u.toString("binary"):Jd(u));break;case"array":d=Od(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=br(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=br(d):f.type=="binary",d.slice(0,19)=="socialcalc:version:"?ime.to_sheet(f.type=="string"?d:br(d),f):o(d,f)}function l(u,f){return xf(s(u,f),f)}function c(u){for(var f=[],d=la(u["!ref"]),h,p=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var g=[],m=d.s.c;m<=d.e.c;++m){var y=Kt({r:v,c:m});if(h=p?(u[v]||[])[m]:u[y],!h||h.v==null){g.push("          ");continue}for(var x=(h.w||(du(h),h.w)||"").slice(0,10);x.length<10;)x+=" ";g.push(x+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:c}}();function ome(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=rme.to_workbook(e,n);return n.WTF=r,a}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return k1.to_workbook(e,t)}}var Xv=function(){function e(z,j,L){if(z){xi(z,z.l||0);for(var F=L.Enum||V;z.l<z.length;){var H=z.read_shift(2),D=F[H]||F[65535],G=z.read_shift(2),K=z.l+G,re=D.f&&D.f(z,G,L);if(z.l=K,j(re,D,H))return}}}function t(z,j){switch(j.type){case"base64":return n(hl(rs(z)),j);case"binary":return n(hl(z),j);case"buffer":case"array":return n(z,j)}throw"Unsupported type "+j.type}function n(z,j){if(!z)return z;var L=j||{},F=L.dense?[]:{},H="Sheet1",D="",G=0,K={},re=[],ie=[],U={s:{r:0,c:0},e:{r:0,c:0}},q=L.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)L.Enum=V,e(z,function(te,pe,me){switch(me){case 0:L.vers=te,te>=4096&&(L.qpro=!0);break;case 6:U=te;break;case 204:te&&(D=te);break;case 222:D=te;break;case 15:case 51:L.qpro||(te[1].v=te[1].v.slice(1));case 13:case 14:case 16:me==14&&(te[2]&112)==112&&(te[2]&15)>1&&(te[2]&15)<15&&(te[1].z=L.dateNF||en[14],L.cellDates&&(te[1].t="d",te[1].v=Ub(te[1].v))),L.qpro&&te[3]>G&&(F["!ref"]=Sn(U),K[H]=F,re.push(H),F=L.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},G=te[3],H=D||"Sheet"+(G+1),D="");var Ee=L.dense?(F[te[0].r]||[])[te[0].c]:F[Kt(te[0])];if(Ee){Ee.t=te[1].t,Ee.v=te[1].v,te[1].z!=null&&(Ee.z=te[1].z),te[1].f!=null&&(Ee.f=te[1].f);break}L.dense?(F[te[0].r]||(F[te[0].r]=[]),F[te[0].r][te[0].c]=te[1]):F[Kt(te[0])]=te[1];break}},L);else if(z[2]==26||z[2]==14)L.Enum=W,z[2]==14&&(L.qpro=!0,z.l=0),e(z,function(te,pe,me){switch(me){case 204:H=te;break;case 22:te[1].v=te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(te[3]>G&&(F["!ref"]=Sn(U),K[H]=F,re.push(H),F=L.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},G=te[3],H="Sheet"+(G+1)),q>0&&te[0].r>=q)break;L.dense?(F[te[0].r]||(F[te[0].r]=[]),F[te[0].r][te[0].c]=te[1]):F[Kt(te[0])]=te[1],U.e.c<te[0].c&&(U.e.c=te[0].c),U.e.r<te[0].r&&(U.e.r=te[0].r);break;case 27:te[14e3]&&(ie[te[14e3][0]]=te[14e3][1]);break;case 1537:ie[te[0]]=te[1],te[0]==G&&(H=te[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(F["!ref"]=Sn(U),K[D||H]=F,re.push(D||H),!ie.length)return{SheetNames:re,Sheets:K};for(var Q={},X=[],ce=0;ce<ie.length;++ce)K[re[ce]]?(X.push(ie[ce]||re[ce]),Q[ie[ce]]=K[ie[ce]]||K[re[ce]]):(X.push(ie[ce]),Q[ie[ce]]={"!ref":"A1"});return{SheetNames:X,Sheets:Q}}function r(z,j){var L=j||{};if(+L.codepage>=0&&ml(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var F=OA(),H=la(z["!ref"]),D=Array.isArray(z),G=[];Js(F,0,i(1030)),Js(F,6,l(H));for(var K=Math.min(H.e.r,8191),re=H.s.r;re<=K;++re)for(var ie=Ci(re),U=H.s.c;U<=H.e.c;++U){re===H.s.r&&(G[U]=Ha(U));var q=G[U]+ie,Q=D?(z[re]||[])[U]:z[q];if(!(!Q||Q.t=="z"))if(Q.t=="n")(Q.v|0)==Q.v&&Q.v>=-32768&&Q.v<=32767?Js(F,13,h(re,U,Q.v)):Js(F,14,v(re,U,Q.v));else{var X=du(Q);Js(F,15,f(re,U,X.slice(0,239)))}}return Js(F,1),F.end()}function a(z,j){var L=j||{};if(+L.codepage>=0&&ml(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var F=OA();Js(F,0,o(z));for(var H=0,D=0;H<z.SheetNames.length;++H)(z.Sheets[z.SheetNames[H]]||{})["!ref"]&&Js(F,27,N(z.SheetNames[H],D++));var G=0;for(H=0;H<z.SheetNames.length;++H){var K=z.Sheets[z.SheetNames[H]];if(!(!K||!K["!ref"])){for(var re=la(K["!ref"]),ie=Array.isArray(K),U=[],q=Math.min(re.e.r,8191),Q=re.s.r;Q<=q;++Q)for(var X=Ci(Q),ce=re.s.c;ce<=re.e.c;++ce){Q===re.s.r&&(U[ce]=Ha(ce));var te=U[ce]+X,pe=ie?(K[Q]||[])[ce]:K[te];if(!(!pe||pe.t=="z"))if(pe.t=="n")Js(F,23,k(Q,ce,G,pe.v));else{var me=du(pe);Js(F,22,w(Q,ce,G,me.slice(0,239)))}}++G}}return Js(F,1),F.end()}function i(z){var j=Ba(2);return j.write_shift(2,z),j}function o(z){var j=Ba(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var L=0,F=0,H=0,D=0;D<z.SheetNames.length;++D){var G=z.SheetNames[D],K=z.Sheets[G];if(!(!K||!K["!ref"])){++H;var re=gp(K["!ref"]);L<re.e.r&&(L=re.e.r),F<re.e.c&&(F=re.e.c)}}return L>8191&&(L=8191),j.write_shift(2,L),j.write_shift(1,H),j.write_shift(1,F),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function s(z,j,L){var F={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&L.qpro?(F.s.c=z.read_shift(1),z.l++,F.s.r=z.read_shift(2),F.e.c=z.read_shift(1),z.l++,F.e.r=z.read_shift(2),F):(F.s.c=z.read_shift(2),F.s.r=z.read_shift(2),j==12&&L.qpro&&(z.l+=2),F.e.c=z.read_shift(2),F.e.r=z.read_shift(2),j==12&&L.qpro&&(z.l+=2),F.s.c==65535&&(F.s.c=F.e.c=F.s.r=F.e.r=0),F)}function l(z){var j=Ba(8);return j.write_shift(2,z.s.c),j.write_shift(2,z.s.r),j.write_shift(2,z.e.c),j.write_shift(2,z.e.r),j}function c(z,j,L){var F=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(F[0].c=z.read_shift(1),F[3]=z.read_shift(1),F[0].r=z.read_shift(2),z.l+=2):(F[2]=z.read_shift(1),F[0].c=z.read_shift(2),F[0].r=z.read_shift(2)),F}function u(z,j,L){var F=z.l+j,H=c(z,j,L);if(H[1].t="s",L.vers==20768){z.l++;var D=z.read_shift(1);return H[1].v=z.read_shift(D,"utf8"),H}return L.qpro&&z.l++,H[1].v=z.read_shift(F-z.l,"cstr"),H}function f(z,j,L){var F=Ba(7+L.length);F.write_shift(1,255),F.write_shift(2,j),F.write_shift(2,z),F.write_shift(1,39);for(var H=0;H<F.length;++H){var D=L.charCodeAt(H);F.write_shift(1,D>=128?95:D)}return F.write_shift(1,0),F}function d(z,j,L){var F=c(z,j,L);return F[1].v=z.read_shift(2,"i"),F}function h(z,j,L){var F=Ba(7);return F.write_shift(1,255),F.write_shift(2,j),F.write_shift(2,z),F.write_shift(2,L,"i"),F}function p(z,j,L){var F=c(z,j,L);return F[1].v=z.read_shift(8,"f"),F}function v(z,j,L){var F=Ba(13);return F.write_shift(1,255),F.write_shift(2,j),F.write_shift(2,z),F.write_shift(8,L,"f"),F}function g(z,j,L){var F=z.l+j,H=c(z,j,L);if(H[1].v=z.read_shift(8,"f"),L.qpro)z.l=F;else{var D=z.read_shift(2);b(z.slice(z.l,z.l+D),H),z.l+=D}return H}function m(z,j,L){var F=j&32768;return j&=-32769,j=(F?z:0)+(j>=8192?j-16384:j),(F?"":"$")+(L?Ha(j):Ci(j))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(z,j){xi(z,0);for(var L=[],F=0,H="",D="",G="",K="";z.l<z.length;){var re=z[z.l++];switch(re){case 0:L.push(z.read_shift(8,"f"));break;case 1:D=m(j[0].c,z.read_shift(2),!0),H=m(j[0].r,z.read_shift(2),!1),L.push(D+H);break;case 2:{var ie=m(j[0].c,z.read_shift(2),!0),U=m(j[0].r,z.read_shift(2),!1);D=m(j[0].c,z.read_shift(2),!0),H=m(j[0].r,z.read_shift(2),!1),L.push(ie+U+":"+D+H)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(z.read_shift(2));break;case 6:{for(var q="";re=z[z.l++];)q+=String.fromCharCode(re);L.push('"'+q.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:K=L.pop(),G=L.pop(),L.push(["AND","OR"][re-20]+"("+G+","+K+")");break;default:if(re<32&&x[re])K=L.pop(),G=L.pop(),L.push(G+x[re]+K);else if(y[re]){if(F=y[re][1],F==69&&(F=z[z.l++]),F>L.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+L.join("|")+"|");return}var Q=L.slice(-F);L.length-=F,L.push(y[re][0]+"("+Q.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}L.length==1?j[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function E(z){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=z.read_shift(2),j[3]=z[z.l++],j[0].c=z[z.l++],j}function _(z,j){var L=E(z);return L[1].t="s",L[1].v=z.read_shift(j-4,"cstr"),L}function w(z,j,L,F){var H=Ba(6+F.length);H.write_shift(2,z),H.write_shift(1,L),H.write_shift(1,j),H.write_shift(1,39);for(var D=0;D<F.length;++D){var G=F.charCodeAt(D);H.write_shift(1,G>=128?95:G)}return H.write_shift(1,0),H}function A(z,j){var L=E(z);L[1].v=z.read_shift(2);var F=L[1].v>>1;if(L[1].v&1)switch(F&7){case 0:F=(F>>3)*5e3;break;case 1:F=(F>>3)*500;break;case 2:F=(F>>3)/20;break;case 3:F=(F>>3)/200;break;case 4:F=(F>>3)/2e3;break;case 5:F=(F>>3)/2e4;break;case 6:F=(F>>3)/16;break;case 7:F=(F>>3)/64;break}return L[1].v=F,L}function S(z,j){var L=E(z),F=z.read_shift(4),H=z.read_shift(4),D=z.read_shift(2);if(D==65535)return F===0&&H===3221225472?(L[1].t="e",L[1].v=15):F===0&&H===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var G=D&32768;return D=(D&32767)-16446,L[1].v=(1-G*2)*(H*Math.pow(2,D+32)+F*Math.pow(2,D)),L}function k(z,j,L,F){var H=Ba(14);if(H.write_shift(2,z),H.write_shift(1,L),H.write_shift(1,j),F==0)return H.write_shift(4,0),H.write_shift(4,0),H.write_shift(2,65535),H;var D=0,G=0,K=0,re=0;return F<0&&(D=1,F=-F),G=Math.log2(F)|0,F/=Math.pow(2,G-31),re=F>>>0,(re&2147483648)==0&&(F/=2,++G,re=F>>>0),F-=re,re|=2147483648,re>>>=0,F*=Math.pow(2,32),K=F>>>0,H.write_shift(4,K),H.write_shift(4,re),G+=16383+(D?32768:0),H.write_shift(2,G),H}function T(z,j){var L=S(z);return z.l+=j-14,L}function O(z,j){var L=E(z),F=z.read_shift(4);return L[1].v=F>>6,L}function C(z,j){var L=E(z),F=z.read_shift(8,"f");return L[1].v=F,L}function M(z,j){var L=C(z);return z.l+=j-10,L}function R(z,j){return z[z.l+j-1]==0?z.read_shift(j,"cstr"):""}function I(z,j){var L=z[z.l++];L>j-1&&(L=j-1);for(var F="";F.length<L;)F+=String.fromCharCode(z[z.l++]);return F}function P(z,j,L){if(!(!L.qpro||j<21)){var F=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var H=z.read_shift(j-21,"cstr");return[F,H]}}function B(z,j){for(var L={},F=z.l+j;z.l<F;){var H=z.read_shift(2);if(H==14e3){for(L[H]=[0,""],L[H][0]=z.read_shift(2);z[z.l];)L[H][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return L}function N(z,j){var L=Ba(5+z.length);L.write_shift(2,14e3),L.write_shift(2,j);for(var F=0;F<z.length;++F){var H=z.charCodeAt(F);L[L.l++]=H>127?95:H}return L[L.l++]=0,L}var V={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:B},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:C},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}();function sme(e){var t={},n=e.match(Ji),r=0,a=!1;if(n)for(;r!=n.length;++r){var i=Ht(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=xO[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var lme=function(){var e=S1("t"),t=S1("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:On(o[1])},l=i.match(t);return l&&(s.s=sme(l[1])),s}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(a).map(n).filter(function(s){return s.v})}}(),cme=function(){var t=/(\r\n|\n)/g;function n(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function r(a){var i=[[],a.v,[]];return a.v?(a.s&&n(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}}(),ume=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,fme=/<(?:\w+:)?r>/,dme=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function LO(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=On(br(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=br(e),n&&(r.h=kO(r.t))):e.match(fme)&&(r.r=br(e),r.t=On(br((e.replace(dme,"").match(ume)||[]).join("").replace(Ji,""))),n&&(r.h=cme(lme(r.r)))),r):{t:""}}var hme=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,pme=/<(?:\w+:)?(?:si|sstItem)>/g,vme=/<\/(?:\w+:)?(?:si|sstItem)>/;function gme(e,t){var n=[],r="";if(!e)return n;var a=e.match(hme);if(a){r=a[2].replace(pme,"").split(vme);for(var i=0;i!=r.length;++i){var o=LO(r[i].trim(),t);o!=null&&(n[n.length]=o)}a=Ht(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}function mme(e){return[e.read_shift(4),e.read_shift(4)]}function yme(e,t){var n=[],r=!1;return wu(e,function(i,o,s){switch(s){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function IB(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function au(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function xme(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=au(e,4),t.U=au(e,4),t.W=au(e,4),t}function bme(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function wme(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(bme(e));return t}function _me(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Eme(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=au(e,4),t.U=au(e,4),t.W=au(e,4),t}function Sme(e){var t=Eme(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function RB(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=r.Flags==36;break;case 26625:a=r.Flags==4;break;case 0:a=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function NB(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function Ame(e){var t=au(e);switch(t.Minor){case 2:return[t.Minor,kme(e)];case 3:return[t.Minor,Tme()];case 4:return[t.Minor,Ome(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function kme(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=RB(e,n),a=NB(e,e.length-e.l);return{t:"Std",h:r,v:a}}function Tme(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Ome(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Ji,function(i){var o=Ht(i);switch(Rc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){r[s]=o[s]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function Cme(e,t){var n={},r=n.EncryptionVersionInfo=au(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=RB(e,a),t-=a,n.EncryptionVerifier=NB(e,t),n}function Mme(e){var t={},n=t.EncryptionVersionInfo=au(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Pme(e){var t=0,n,r=IB(e),a=r.length+1,i,o,s,l,c;for(n=of(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=(t&16384)===0?0:1,l=t<<1&32767,c=s|l,t=c^o;return t^52811}var DB=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},a=function(o,s){return r(o^s)},i=function(o){for(var s=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],f=0;f!=7;++f)u&64&&(s^=n[l]),u*=2,--l;return s};return function(o){for(var s=IB(o),l=i(s),c=s.length,u=of(16),f=0;f!=16;++f)u[f]=0;var d,h,p;for((c&1)===1&&(d=l>>8,u[c]=a(e[0],d),--c,d=l&255,h=s[s.length-1],u[c]=a(h,d));c>0;)--c,d=l>>8,u[c]=a(s[c],d),--c,d=l&255,u[c]=a(s[c],d);for(c=15,p=15-s.length;p>0;)d=l>>8,u[c]=a(e[p],d),--c,--p,d=l&255,u[c]=a(s[c],d),--c,--p;return u}}(),Ime=function(e,t,n,r,a){a||(a=t),r||(r=DB(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=r[n],o=(o>>5|o<<3)&255,a[i]=o,++n;return[a,n,r]},Rme=function(e){var t=0,n=DB(e);return function(r){var a=Ime("",r,t,n);return t=a[1],a[0]}};function Nme(e,t,n,r){var a={key:Oa(e),verificationBytes:Oa(e)};return n.password&&(a.verifier=Pme(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=Rme(n.password)),a}function Dme(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=Mme(e):r.Data=Cme(e,t),r}function Lme(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?Dme(e,t-2,r):Nme(e,n.biff>=8?t:t-2,n,r),r}var Fme=function(){function e(a,i){switch(i.type){case"base64":return t(rs(a),i);case"binary":return t(a,i);case"buffer":return t(xn&&Buffer.isBuffer(a)?a.toString("binary"):Jd(a),i);case"array":return t(Od(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(s)&&(s[f]=[]);for(var d=/\\\w+\b/g,h=0,p,v=-1;p=d.exec(u);){switch(p[0]){case"\\cell":var g=u.slice(h,d.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var m={v:g,t:"s"};Array.isArray(s)?s[f][v]=m:s[Kt({r:f,c:v})]=m}break}h=d.lastIndex}v>c.e.c&&(c.e.c=v)}),s["!ref"]=Sn(c),s}function n(a,i){return xf(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=la(a["!ref"]),s,l=Array.isArray(a),c=o.s.r;c<=o.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Kt({r:c,c:u});s=l?(a[c]||[])[u]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(du(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function Bme(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function T1(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function $me(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),i=Math.min(t,n,r),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,c=a+i;switch(l=o/(c>1?2-c:c),a){case t:s=((n-r)/o+6)%6;break;case n:s=(r-t)/o+2;break;case r:s=(t-n)/o+4;break}return[s/6,l,c/2]}function jme(e){var t=e[0],n=e[1],r=e[2],a=n*2*(r<.5?r:1-r),i=r-a/2,o=[i,i,i],s=6*t,l;if(n!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function Xx(e,t){if(t===0)return e;var n=$me(Bme(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),T1(jme(n))}var LB=6,zme=15,Ume=1,po=LB;function qx(e){return Math.floor((e+Math.round(128/po)/256)*po)}function Kx(e){return Math.floor((e-5)/po*100+.5)/100}function IA(e){return Math.round((e*po+5)/po*256)/256}function X_(e){return IA(Kx(qx(e)))}function FO(e){var t=Math.abs(e-X_(e)),n=po;if(t>.005)for(po=Ume;po<zme;++po)Math.abs(e-X_(e))<=t&&(t=Math.abs(e-X_(e)),n=po);po=n}function Ph(e){e.width?(e.wpx=qx(e.width),e.wch=Kx(e.wpx),e.MDW=po):e.wpx?(e.wch=Kx(e.wpx),e.width=IA(e.wch),e.MDW=po):typeof e.wch=="number"&&(e.width=IA(e.wch),e.wpx=qx(e.width),e.MDW=po),e.customWidth&&delete e.customWidth}var Hme=96,FB=Hme;function BB(e){return e*96/FB}function O1(e){return e*FB/96}var Gme={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Wme(e,t,n,r){t.Borders=[];var a={},i=!1;(e[0].match(Ji)||[]).forEach(function(o){var s=Ht(o);switch(Rc(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=$r(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=$r(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function Vme(e,t,n,r){t.Fills=[];var a={},i=!1;(e[0].match(Ji)||[]).forEach(function(o){var s=Ht(o);switch(Rc(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function Yme(e,t,n,r){t.Fonts=[];var a={},i=!1;(e[0].match(Ji)||[]).forEach(function(o){var s=Ht(o);switch(Rc(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=br(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?$r(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?$r(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?$r(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?$r(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?$r(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?$r(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?$r(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=xO[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=$r(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=yd[a.color.index];a.color.index==81&&(l=yd[1]),l||(l=yd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=Xx(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function Xme(e,t,n){t.NumberFmt=[];for(var r=Ec(en),a=0;a<r.length;++a)t.NumberFmt[r[a]]=en[r[a]];var i=e[0].match(Ji);if(i)for(a=0;a<i.length;++a){var o=Ht(i[a]);switch(Rc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=On(br(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}md(s,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Om=["numFmtId","fillId","fontId","borderId","xfId"],Cm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function qme(e,t,n){t.CellXf=[];var r,a=!1;(e[0].match(Ji)||[]).forEach(function(i){var o=Ht(i),s=0;switch(Rc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],s=0;s<Om.length;++s)r[Om[s]]&&(r[Om[s]]=parseInt(r[Om[s]],10));for(s=0;s<Cm.length;++s)r[Cm[s]]&&(r[Cm[s]]=$r(r[Cm[s]]));if(t.NumberFmt&&r.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=$r(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var Kme=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,c){var u={};if(!s)return u;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&Xme(f,u,c),(f=s.match(a))&&Yme(f,u,l,c),(f=s.match(r))&&Vme(f,u,l,c),(f=s.match(i))&&Wme(f,u,l,c),(f=s.match(n))&&qme(f,u,c),u}}();function Zme(e,t){var n=e.read_shift(2),r=qi(e);return[n,r]}function Qme(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=l1e(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=s1e(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=qi(e),r}var Jme=Zi;function eye(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}var tye=Zi;function nye(e,t,n){var r={};r.NumberFmt=[];for(var a in en)r.NumberFmt[a]=en[a];r.CellXf=[],r.Fonts=[];var i=[],o=!1;return wu(e,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],md(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Xx(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var rye=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function aye(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Ji)||[]).forEach(function(a){var i=Ht(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[rye.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function iye(){}function oye(){}var sye=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,lye=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,cye=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function uye(e,t,n){t.themeElements={};var r;[["clrScheme",sye,aye],["fontScheme",lye,iye],["fmtScheme",cye,oye]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}var fye=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function $B(e,t){(!e||e.length===0)&&(e=dye());var n,r={};if(!(n=e.match(fye)))throw new Error("themeElements not found in theme");return uye(n[0],r,t),r.raw=e,r}function dye(e,t){var n=[K9];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function hye(e,t,n){var r=e.l+t,a=e.read_shift(4);if(a!==124226){if(!n.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var o;try{o=q9(i,{type:"array"})}catch{return}var s=qo(o,"theme/theme/theme1.xml",!0);if(s)return $B(s,n)}}function pye(e){return e.read_shift(4)}function vye(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=gye(e,4);break;case 2:t.xclrValue=AB(e);break;case 3:t.xclrValue=pye(e);break;case 4:e.l+=4;break}return e.l+=8,t}function gye(e,t){return Zi(e,t)}function mye(e,t){return Zi(e,t)}function yye(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=vye(e);break;case 6:r[1]=mye(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function xye(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(yye(e,n-e.l));return{ixfe:r,ext:i}}function bye(e,t){t.forEach(function(n){n[0]})}function wye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:qi(e)}}function _ye(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Eye(e){return e.l+=4,e.read_shift(4)!=0}function Sye(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},i=[],o=!1,s=2;return wu(e,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):s==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!c.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Aye(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a=!1,i=2,o;return e.replace(Ji,function(s){var l=Ht(s);switch(Rc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):i==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),r}function kye(e){var t=[];if(!e)return t;var n=1;return(e.match(Ji)||[]).forEach(function(r){var a=Ht(r);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?n=a.i:a.i=n,t.push(a);break}}),t}function Tye(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Kt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function Oye(e,t,n){var r=[];return wu(e,function(i,o,s){switch(s){case 63:r.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function Cye(e,t,n,r){if(!e)return e;var a=r||{},i=!1;wu(e,function(s,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Mye(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function Q8(e,t,n,r){var a=Array.isArray(e),i;t.forEach(function(o){var s=yo(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=la(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var c=Sn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!n&&i.c[f].T)return;n&&!i.c[f].T&&i.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}i.c.push(u)})}function Pye(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&n.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=Ht(s[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=yo(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&LO(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=d.h),r.push(c)}}}}),r}function Iye(e,t){var n=[],r=!1,a={},i=0;return e.replace(Ji,function(s,l){var c=Ht(s);switch(Rc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&n.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return s}),n}function Rye(e,t){var n=[],r=!1;return e.replace(Ji,function(i){var o=Ht(i);switch(Rc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function Nye(e){var t={};t.iauthor=e.read_shift(4);var n=t0(e);return t.rfx=n.s,t.ref=Kt(n.s),e.l+=16,t}var Dye=qi;function Lye(e,t){var n=[],r=[],a={},i=!1;return wu(e,function(s,l,c){switch(c){case 632:r.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var Fye="application/vnd.ms-office.vbaProject";function Bye(e){var t=En.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");En.utils.cfb_add(t,a,e.FileIndex[r].content)}}),En.write(t)}function $ye(){return{"!type":"dialog"}}function jye(){return{"!type":"dialog"}}function zye(){return{"!type":"macro"}}function Uye(){return{"!type":"macro"}}var rh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return s?u+=t.c:--u,l?c+=t.r:--c,a+(s?"":"$")+Ha(u)+(l?"":"$")+Ci(c)}return function(a,i){return t=i,a.replace(e,n)}}(),jB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Hye=function(){return function(t,n){return t.replace(jB,function(r,a,i,o,s,l){var c=MO(o)-(i?0:n.c),u=CO(l)-(s?0:n.r),f=u==0?"":s?u+1:"["+u+"]",d=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+d})}}();function zB(e,t){return e.replace(jB,function(n,r,a,i,o,s){return r+(a=="$"?a+i:Ha(MO(i)+t.c))+(o=="$"?o+s:Ci(CO(s)+t.r))})}function Gye(e,t,n){var r=gp(t),a=r.s,i=yo(n),o={r:i.r-a.r,c:i.c-a.c};return zB(e,o)}function Wye(e){return e.length!=1}function J8(e){return e.replace(/_xlfn\./g,"")}function Aa(e){e.l+=1}function sf(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function UB(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return HB(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=sf(e),s=sf(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function HB(e){var t=sf(e),n=sf(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function Vye(e,t,n){if(n.biff<8)return HB(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=sf(e),o=sf(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function GB(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Yye(e);var r=e.read_shift(n&&n.biff==12?4:2),a=sf(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function Yye(e){var t=sf(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Xye(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function qye(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Kye(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function Kye(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function Zye(e,t,n){var r=(e[e.l++]&96)>>5,a=UB(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function Qye(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=UB(e,i,n);return[r,a,o]}function Jye(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function exe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function txe(e,t,n){var r=(e[e.l++]&96)>>5,a=Vye(e,t-1,n);return[r,a]}function nxe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function eI(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function rxe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function axe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function ixe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function oxe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function sxe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function WB(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function lxe(e){return e.read_shift(2),WB(e)}function cxe(e){return e.read_shift(2),WB(e)}function uxe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=GB(e,0,n);return[r,a]}function fxe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=qye(e,0,n);return[r,a]}function dxe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=GB(e,0,n);return[r,a,i]}function hxe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[p2e[a],XB[a],r]}function pxe(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:vxe(e);return[a,(i[0]===0?XB:h2e)[i[1]]]}function vxe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function gxe(e,t,n){e.l+=n&&n.biff==2?3:4}function mxe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function yxe(e){return e.l++,n0[e.read_shift(1)]}function xxe(e){return e.l++,e.read_shift(2)}function bxe(e){return e.l++,e.read_shift(1)!==0}function wxe(e){return e.l++,Gi(e)}function _xe(e,t,n){return e.l++,Tg(e,t-1,n)}function Exe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=pa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=n0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Gi(e);break;case 2:n[1]=r0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Sxe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?t0:Hb)(e));return a}function Axe(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=Exe(e,n.biff);return o}function kxe(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Txe(e,t,n){if(n.biff==5)return Oxe(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function Oxe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function Cxe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Mxe(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Pxe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function Ixe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var Rxe=Zi,Nxe=Zi,Dxe=Zi;function Cg(e,t,n){return e.l+=2,[Xye(e)]}function BO(e){return e.l+=6,[]}var Lxe=Cg,Fxe=BO,Bxe=BO,$xe=Cg;function VB(e){return e.l+=2,[Oa(e),e.read_shift(2)&1]}var jxe=Cg,zxe=VB,Uxe=BO,Hxe=Cg,Gxe=Cg,Wxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vxe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=Wxe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function Yxe(e){return e.l+=2,[e.read_shift(4)]}function Xxe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function qxe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Kxe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Zxe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Qxe(e){return e.l+=4,[0,0]}var tI={1:{n:"PtgExp",f:mxe},2:{n:"PtgTbl",f:Dxe},3:{n:"PtgAdd",f:Aa},4:{n:"PtgSub",f:Aa},5:{n:"PtgMul",f:Aa},6:{n:"PtgDiv",f:Aa},7:{n:"PtgPower",f:Aa},8:{n:"PtgConcat",f:Aa},9:{n:"PtgLt",f:Aa},10:{n:"PtgLe",f:Aa},11:{n:"PtgEq",f:Aa},12:{n:"PtgGe",f:Aa},13:{n:"PtgGt",f:Aa},14:{n:"PtgNe",f:Aa},15:{n:"PtgIsect",f:Aa},16:{n:"PtgUnion",f:Aa},17:{n:"PtgRange",f:Aa},18:{n:"PtgUplus",f:Aa},19:{n:"PtgUminus",f:Aa},20:{n:"PtgPercent",f:Aa},21:{n:"PtgParen",f:Aa},22:{n:"PtgMissArg",f:Aa},23:{n:"PtgStr",f:_xe},26:{n:"PtgSheet",f:Xxe},27:{n:"PtgEndSheet",f:qxe},28:{n:"PtgErr",f:yxe},29:{n:"PtgBool",f:bxe},30:{n:"PtgInt",f:xxe},31:{n:"PtgNum",f:wxe},32:{n:"PtgArray",f:nxe},33:{n:"PtgFunc",f:hxe},34:{n:"PtgFuncVar",f:pxe},35:{n:"PtgName",f:kxe},36:{n:"PtgRef",f:uxe},37:{n:"PtgArea",f:Zye},38:{n:"PtgMemArea",f:Cxe},39:{n:"PtgMemErr",f:Rxe},40:{n:"PtgMemNoMem",f:Nxe},41:{n:"PtgMemFunc",f:Mxe},42:{n:"PtgRefErr",f:Pxe},43:{n:"PtgAreaErr",f:Jye},44:{n:"PtgRefN",f:fxe},45:{n:"PtgAreaN",f:txe},46:{n:"PtgMemAreaN",f:Kxe},47:{n:"PtgMemNoMemN",f:Zxe},57:{n:"PtgNameX",f:Txe},58:{n:"PtgRef3d",f:dxe},59:{n:"PtgArea3d",f:Qye},60:{n:"PtgRefErr3d",f:Ixe},61:{n:"PtgAreaErr3d",f:exe},255:{}},Jxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},e2e={1:{n:"PtgElfLel",f:VB},2:{n:"PtgElfRw",f:Hxe},3:{n:"PtgElfCol",f:Lxe},6:{n:"PtgElfRwV",f:Gxe},7:{n:"PtgElfColV",f:$xe},10:{n:"PtgElfRadical",f:jxe},11:{n:"PtgElfRadicalS",f:Uxe},13:{n:"PtgElfColS",f:Fxe},15:{n:"PtgElfColSV",f:Bxe},16:{n:"PtgElfRadicalLel",f:zxe},25:{n:"PtgList",f:Vxe},29:{n:"PtgSxName",f:Yxe},255:{}},t2e={0:{n:"PtgAttrNoop",f:Qxe},1:{n:"PtgAttrSemi",f:sxe},2:{n:"PtgAttrIf",f:ixe},4:{n:"PtgAttrChoose",f:rxe},8:{n:"PtgAttrGoto",f:axe},16:{n:"PtgAttrSum",f:gxe},32:{n:"PtgAttrBaxcel",f:eI},33:{n:"PtgAttrBaxcel",f:eI},64:{n:"PtgAttrSpace",f:lxe},65:{n:"PtgAttrSpaceSemi",f:cxe},128:{n:"PtgAttrIfError",f:oxe},255:{}};function Mg(e,t,n,r){if(r.biff<8)return Zi(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Axe(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Sxe(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(Zi(e,t)),i}function Pg(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=tI[i]||tI[Jxe[i]],(i===24||i===25)&&(a=(i===24?e2e:t2e)[e[e.l+1]]),!a||!a.f?Zi(e,t):o.push([a.n,a.f(e,t,n)]);return o}function n2e(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var r2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function a2e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function YB(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function nI(e,t,n){var r=YB(e,t,n);return r=="#REF"?r:a2e(r,n)}function $i(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,c,u,f=0,d=0,h,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",m=0,y=e[0].length;m<y;++m){var x=e[0][m];switch(x[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),c=s.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=aa(" ",e[0][v][1][1]);break;case 1:g=aa("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}s.push(c+r2e[x[0]]+l);break;case"PtgIsect":l=s.pop(),c=s.pop(),s.push(c+" "+l);break;case"PtgUnion":l=s.pop(),c=s.pop(),s.push(c+","+l);break;case"PtgRange":l=s.pop(),c=s.pop(),s.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Gv(x[1][1],o,a),s.push(Wv(u,i));break;case"PtgRefN":u=n?Gv(x[1][1],n,a):x[1][1],s.push(Wv(u,i));break;case"PtgRef3d":f=x[1][1],u=Gv(x[1][2],o,a),p=nI(r,f,a),s.push(p+"!"+Wv(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=x[1][0],E=x[1][1];b||(b=0),b&=127;var _=b==0?[]:s.slice(-b);s.length-=b,E==="User"&&(E=_.shift()),s.push(E+"("+_.join(",")+")");break;case"PtgBool":s.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(x[1]);break;case"PtgNum":s.push(String(x[1]));break;case"PtgStr":s.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(x[1]);break;case"PtgAreaN":h=L8(x[1][1],n?{s:n}:o,a),s.push(V_(h,a));break;case"PtgArea":h=L8(x[1][1],o,a),s.push(V_(h,a));break;case"PtgArea3d":f=x[1][1],h=x[1][2],p=nI(r,f,a),s.push(p+"!"+V_(h,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=x[1][2];var w=(r.names||[])[d-1]||(r[0]||[])[d],A=w?w.Name:"SH33TJSNAME"+String(d);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),s.push(A);break;case"PtgNameX":var S=x[1][1];d=x[1][2];var k;if(a.biff<=5)S<0&&(S=-S),r[S]&&(k=r[S][d]);else{var T="";if(((r[S]||[])[0]||[])[0]==14849||(((r[S]||[])[0]||[])[0]==1025?r[S][d]&&r[S][d].itab>0&&(T=r.SheetNames[r[S][d].itab-1]+"!"):T=r.SheetNames[d-1]+"!"),r[S]&&r[S][d])T+=r[S][d].Name;else if(r[0]&&r[0][d])T+=r[0][d].Name;else{var O=(YB(r,S,a)||"").split(";;");O[d-1]?T=O[d-1]:T+="SH33TJSERRX"}s.push(T);break}k||(k={Name:"SH33TJSERRY"}),s.push(k.Name);break;case"PtgParen":var C="(",M=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:C=aa(" ",e[0][v][1][1])+C;break;case 3:C=aa("\r",e[0][v][1][1])+C;break;case 4:M=aa(" ",e[0][v][1][1])+M;break;case 5:M=aa("\r",e[0][v][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}s.push(C+s.pop()+M);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var R={c:n.c,r:n.r};if(r.sharedf[Kt(u)]){var I=r.sharedf[Kt(u)];s.push($i(I,o,R,r,a))}else{var P=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){s.push($i(c[1],o,R,r,a)),P=!0;break}P||s.push(x[1])}break;case"PtgArray":s.push("{"+n2e(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var B=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&B.indexOf(e[0][m][0])==-1){x=e[0][v];var N=!0;switch(x[1][0]){case 4:N=!1;case 0:g=aa(" ",x[1][1]);break;case 5:N=!1;case 1:g=aa("\r",x[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}s.push((N?g:"")+s.pop()+(N?"":g)),v=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function i2e(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Zi(e,t-2)];var s=Pg(e,o,n);return t!==o+a&&(i=Mg(e,t-o-a,s,n)),e.l=r,[s,i]}function o2e(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Zi(e,t-2)];var s=Pg(e,o,n);return t!==o+a&&(i=Mg(e,t-o-a,s,n)),e.l=r,[s,i]}function s2e(e,t,n,r){var a=e.l+t,i=Pg(e,r,n),o;return a!==e.l&&(o=Mg(e,a-e.l,i,n)),[i,o]}function l2e(e,t,n){var r=e.l+t,a,i=e.read_shift(2),o=Pg(e,i,n);return i==65535?[[],Zi(e,t-2)]:(t!==i+2&&(a=Mg(e,r-i-2,o,n)),[o,a])}function c2e(e){var t;if(eu(e,e.l+6)!==65535)return[Gi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function q_(e,t,n){var r=e.l+t,a=Nc(e);n.biff==2&&++e.l;var i=c2e(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var s=o2e(e,r-e.l,n);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function Gb(e,t,n){var r=e.read_shift(4),a=Pg(e,r,n),i=e.read_shift(4),o=i>0?Mg(e,i,a,n):null;return[a,o]}var u2e=Gb,Wb=Gb,f2e=Gb,d2e=Gb,h2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},p2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rI(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function K_(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var qv={},ah={};function Kv(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function qB(e,t,n,r,a,i){try{r.cellNF&&(e.z=en[t])}catch(s){if(r.WTF)throw s}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=li(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(en[t]==null&&md(vve[t]||"General",t),e.t==="e")e.w=e.w||n0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v);else if(e.t==="d"){var o=_o(e.v);(o|0)===o?e.w=o.toString(10):e.w=E1(o)}else{if(e.v===void 0)return"";e.w=Td(e.v,ah)}else e.t==="d"?e.w=zs(t,_o(e.v),ah):e.w=zs(t,e.v,ah)}catch(s){if(r.WTF)throw s}if(r.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Xx(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Xx(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(r.WTF&&i.Fills)throw s}}}function v2e(e,t){var n=la(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Sn(n))}var g2e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,m2e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,y2e=/<(?:\w:)?hyperlink [^>]*>/mg,x2e=/"(\w*:\w*)"/,b2e=/<(?:\w:)?col\b[^>]*[\/]?>/g,w2e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,_2e=/<(?:\w:)?pageMargins[^>]*\/>/g,KB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,E2e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,S2e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function A2e(e,t,n,r,a,i,o){if(!e)return e;r||(r={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(m2e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var d=c.match(KB);d?$O(d[0],s,a,n):(d=c.match(E2e))&&k2e(d[0],d[1]||"",s,a,n);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=c.slice(h,h+50).match(x2e);p&&v2e(s,p[1])}var v=c.match(S2e);v&&v[1]&&I2e(v[1],a);var g=[];if(t.cellStyles){var m=c.match(b2e);m&&C2e(g,m)}f&&R2e(f[1],s,t,l,i,o);var y=u.match(w2e);y&&(s["!autofilter"]=M2e(y[0]));var x=[],b=u.match(g2e);if(b)for(h=0;h!=b.length;++h)x[h]=la(b[h].slice(b[h].indexOf('"')+1));var E=u.match(y2e);E&&T2e(s,E,r);var _=u.match(_2e);if(_&&(s["!margins"]=O2e(Ht(_[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=Sn(l)),t.sheetRows>0&&s["!ref"]){var w=la(s["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>l.e.r&&(w.e.r=l.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>l.e.c&&(w.e.c=l.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Sn(w))}return g.length>0&&(s["!cols"]=g),x.length>0&&(s["!merges"]=x),s}function $O(e,t,n,r){var a=Ht(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=On(br(a.codeName)))}function k2e(e,t,n,r,a){$O(e.slice(0,e.indexOf(">")),n,r,a)}function T2e(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var i=Ht(br(t[a]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+On(i.location))):(i.Target="#"+On(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=la(i.ref),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var u=Kt({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function O2e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function C2e(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=Ht(t[r],!0);a.hidden&&(a.hidden=$r(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,FO(a.width)),Ph(a);i<=o;)e[i++]=Oi(a)}}function M2e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var P2e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function I2e(e,t){t.Views||(t.Views=[{}]),(e.match(P2e)||[]).forEach(function(n,r){var a=Ht(n);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),$r(a.rightToLeft)&&(t.Views[r].RTL=!0)})}var R2e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=S1("v"),o=S1("f");return function(l,c,u,f,d,h){for(var p=0,v="",g=[],m=[],y=0,x=0,b=0,E="",_,w,A=0,S=0,k,T,O=0,C=0,M=Array.isArray(h.CellXf),R,I=[],P=[],B=Array.isArray(c),N=[],V={},W=!1,z=!!u.sheetStubs,j=l.split(t),L=0,F=j.length;L!=F;++L){v=j[L].trim();var H=v.length;if(H!==0){var D=0;e:for(p=0;p<H;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(w=Ht(v.slice(D,p),!0),A=w.r!=null?parseInt(w.r,10):A+1,S=-1,u.sheetRows&&u.sheetRows<A)continue;V={},W=!1,w.ht&&(W=!0,V.hpt=parseFloat(w.ht),V.hpx=O1(V.hpt)),w.hidden=="1"&&(W=!0,V.hidden=!0),w.outlineLevel!=null&&(W=!0,V.level=+w.outlineLevel),W&&(N[A-1]=V)}break;case"<":D=p;break}if(D>=p)break;if(w=Ht(v.slice(D,p),!0),A=w.r!=null?parseInt(w.r,10):A+1,S=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(V={},W=!1,w.ht&&(W=!0,V.hpt=parseFloat(w.ht),V.hpx=O1(V.hpt)),w.hidden=="1"&&(W=!0,V.hidden=!0),w.outlineLevel!=null&&(W=!0,V.level=+w.outlineLevel),W&&(N[A-1]=V)),g=v.slice(p).split(e);for(var G=0;G!=g.length&&g[G].trim().charAt(0)=="<";++G);for(g=g.slice(G),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(m=v.match(n),y=p,x=0,b=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,m!=null&&m.length===2){for(y=0,E=m[1],x=0;x!=E.length&&!((b=E.charCodeAt(x)-64)<1||b>26);++x)y=26*y+b;--y,S=y}else++S;for(x=0;x!=v.length&&v.charCodeAt(x)!==62;++x);if(++x,w=Ht(v.slice(0,x),!0),w.r||(w.r=Kt({r:A-1,c:S})),E=v.slice(x),_={t:""},(m=E.match(i))!=null&&m[1]!==""&&(_.v=On(m[1])),u.cellFormula){if((m=E.match(o))!=null&&m[1]!==""){if(_.f=On(br(m[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=J8(_.f)),m[0].indexOf('t="array"')>-1)_.F=(E.match(a)||[])[1],_.F.indexOf(":")>-1&&I.push([la(_.F),_.F]);else if(m[0].indexOf('t="shared"')>-1){T=Ht(m[0]);var K=On(br(m[1]));u.xlfn||(K=J8(K)),P[parseInt(T.si,10)]=[T,K,w.r]}}else(m=E.match(/<f[^>]*\/>/))&&(T=Ht(m[0]),P[T.si]&&(_.f=Gye(P[T.si][1],P[T.si][2],w.r)));var re=yo(w.r);for(x=0;x<I.length;++x)re.r>=I[x][0].s.r&&re.r<=I[x][0].e.r&&re.c>=I[x][0].s.c&&re.c<=I[x][0].e.c&&(_.F=I[x][1])}if(w.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(z)_.t="z";else continue;else _.t=w.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),_.t){case"n":if(_.v==""||_.v==null){if(!z)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!z)continue;_.t="z"}else k=qv[parseInt(_.v,10)],_.v=k.t,_.r=k.r,u.cellHTML&&(_.h=k.h);break;case"str":_.t="s",_.v=_.v!=null?br(_.v):"",u.cellHTML&&(_.h=kO(_.v));break;case"inlineStr":m=E.match(r),_.t="s",m!=null&&(k=LO(m[1]))?(_.v=k.t,u.cellHTML&&(_.h=k.h)):_.v="";break;case"b":_.v=$r(_.v);break;case"d":u.cellDates?_.v=li(_.v,1):(_.v=_o(li(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=mB[_.v];break}if(O=C=0,R=null,M&&w.s!==void 0&&(R=h.CellXf[w.s],R!=null&&(R.numFmtId!=null&&(O=R.numFmtId),u.cellStyles&&R.fillId!=null&&(C=R.fillId))),qB(_,O,C,u,d,h),u.cellDates&&M&&_.t=="n"&&vp(en[O])&&(_.t="d",_.v=Ub(_.v)),w.cm&&u.xlmeta){var ie=(u.xlmeta.Cell||[])[+w.cm-1];ie&&ie.type=="XLDAPR"&&(_.D=!0)}if(B){var U=yo(w.r);c[U.r]||(c[U.r]=[]),c[U.r][U.c]=_}else c[w.r]=_}}}}N.length>0&&(c["!rows"]=N)}}();function N2e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}var D2e=t0;function L2e(){}function F2e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=i1e(e),n}function B2e(e){var t=Ws(e);return[t]}function $2e(e){var t=e0(e);return[t]}function j2e(e){var t=Ws(e),n=e.read_shift(1);return[t,n,"b"]}function z2e(e){var t=e0(e),n=e.read_shift(1);return[t,n,"b"]}function U2e(e){var t=Ws(e),n=e.read_shift(1);return[t,n,"e"]}function H2e(e){var t=e0(e),n=e.read_shift(1);return[t,n,"e"]}function G2e(e){var t=Ws(e),n=e.read_shift(4);return[t,n,"s"]}function W2e(e){var t=e0(e),n=e.read_shift(4);return[t,n,"s"]}function V2e(e){var t=Ws(e),n=Gi(e);return[t,n,"n"]}function ZB(e){var t=e0(e),n=Gi(e);return[t,n,"n"]}function Y2e(e){var t=Ws(e),n=RO(e);return[t,n,"n"]}function X2e(e){var t=e0(e),n=RO(e);return[t,n,"n"]}function q2e(e){var t=Ws(e),n=PO(e);return[t,n,"is"]}function K2e(e){var t=Ws(e),n=qi(e);return[t,n,"str"]}function Z2e(e){var t=e0(e),n=qi(e);return[t,n,"str"]}function Q2e(e,t,n){var r=e.l+t,a=Ws(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=Wb(e,r-e.l,n);o[3]=$i(s,null,a,n.supbooks,n)}else e.l=r;return o}function J2e(e,t,n){var r=e.l+t,a=Ws(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=Wb(e,r-e.l,n);o[3]=$i(s,null,a,n.supbooks,n)}else e.l=r;return o}function ebe(e,t,n){var r=e.l+t,a=Ws(e);a.r=n["!row"];var i=Gi(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=Wb(e,r-e.l,n);o[3]=$i(s,null,a,n.supbooks,n)}else e.l=r;return o}function tbe(e,t,n){var r=e.l+t,a=Ws(e);a.r=n["!row"];var i=qi(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=Wb(e,r-e.l,n);o[3]=$i(s,null,a,n.supbooks,n)}else e.l=r;return o}var nbe=t0;function rbe(e,t){var n=e.l+t,r=t0(e),a=IO(e),i=qi(e),o=qi(e),s=qi(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function abe(){}function ibe(e,t,n){var r=e.l+t,a=pB(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=u2e(e,r-e.l,n);o[1]=s}else e.l=r;return o}function obe(e,t,n){var r=e.l+t,a=t0(e),i=[a];if(n.cellFormula){var o=d2e(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}var sbe=["left","right","top","bottom","header","footer"];function lbe(e){var t={};return sbe.forEach(function(n){t[n]=Gi(e)}),t}function cbe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ube(){}function fbe(){}function dbe(e,t,n,r,a,i,o){if(!e)return e;var s=t||{};r||(r={"!id":{}});var l=s.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,v,g,m,y,x,b,E,_=[];s.biff=12,s["!row"]=0;var w=0,A=!1,S=[],k={},T=s.supbooks||a.supbooks||[[]];if(T.sharedf=k,T.arrayf=S,T.SheetNames=a.SheetNames||a.Sheets.map(function(B){return B.name}),!s.supbooks&&(s.supbooks=T,a.Names))for(var O=0;O<a.Names.length;++O)T[0][O+1]=a.Names[O];var C=[],M=[],R=!1;Zx[16]={n:"BrtShortReal",f:ZB};var I;if(wu(e,function(N,V,W){if(!d)switch(W){case 148:c=N;break;case 0:h=N,s.sheetRows&&s.sheetRows<=h.r&&(d=!0),b=Ci(g=h.r),s["!row"]=h.r,(N.hidden||N.hpt||N.level!=null)&&(N.hpt&&(N.hpx=O1(N.hpt)),M[N.r]=N);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:N[2]},N[2]){case"n":p.v=N[1];break;case"s":x=qv[N[1]],p.v=x.t,p.r=x.r;break;case"b":p.v=!!N[1];break;case"e":p.v=N[1],s.cellText!==!1&&(p.w=n0[p.v]);break;case"str":p.t="s",p.v=N[1];break;case"is":p.t="s",p.v=N[1].t;break}if((v=o.CellXf[N[0].iStyleRef])&&qB(p,v.numFmtId,null,s,i,o),m=N[0].c==-1?m+1:N[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Ha(m)+b]=p,s.cellFormula){for(A=!1,w=0;w<S.length;++w){var z=S[w];h.r>=z[0].s.r&&h.r<=z[0].e.r&&m>=z[0].s.c&&m<=z[0].e.c&&(p.F=Sn(z[0]),A=!0)}!A&&N.length>3&&(p.f=N[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),s.cellDates&&v&&p.t=="n"&&vp(en[v.numFmtId])){var j=ad(p.v);j&&(p.t="d",p.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;p={t:"z",v:void 0},m=N[0].c==-1?m+1:N[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Ha(m)+b]=p,u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 176:_.push(N);break;case 49:I=((s.xlmeta||{}).Cell||[])[N-1];break;case 494:var L=r["!id"][N.relId];for(L?(N.Target=L.Target,N.loc&&(N.Target+="#"+N.loc),N.Rel=L):N.relId==""&&(N.Target="#"+N.loc),g=N.rfx.s.r;g<=N.rfx.e.r;++g)for(m=N.rfx.s.c;m<=N.rfx.e.c;++m)s.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=N):(y=Kt({c:m,r:g}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=N);break;case 426:if(!s.cellFormula)break;S.push(N),E=s.dense?l[g][m]:l[Ha(m)+b],E.f=$i(N[1],u,{r:h.r,c:m},T,s),E.F=Sn(N[0]);break;case 427:if(!s.cellFormula)break;k[Kt(N[0].s)]=N[1],E=s.dense?l[g][m]:l[Ha(m)+b],E.f=$i(N[1],u,{r:h.r,c:m},T,s);break;case 60:if(!s.cellStyles)break;for(;N.e>=N.s;)C[N.e--]={width:N.w/256,hidden:!!(N.flags&1),level:N.level},R||(R=!0,FO(N.w/256)),Ph(C[N.e+1]);break;case 161:l["!autofilter"]={ref:Sn(N)};break;case 476:l["!margins"]=N;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),N.name&&(a.Sheets[n].CodeName=N.name),(N.above||N.left)&&(l["!outline"]={above:N.above,left:N.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),N.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!V.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Sn(c||u)),s.sheetRows&&l["!ref"]){var P=la(l["!ref"]);s.sheetRows<=+P.e.r&&(P.e.r=s.sheetRows-1,P.e.r>u.e.r&&(P.e.r=u.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>u.e.c&&(P.e.c=u.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Sn(P))}return _.length>0&&(l["!merges"]=_),C.length>0&&(l["!cols"]=C),M.length>0&&(l["!rows"]=M),l}function hbe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var a=On((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,a,r]}function pbe(e,t,n,r,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=hbe(f);u.s.r=u.s.c=0,u.e.c=s,c=Ha(s),d[0].forEach(function(h,p){o[c+Ci(p)]={t:"n",v:h,z:d[1]},l=p}),u.e.r<l&&(u.e.r=l),++s}),s>0&&(o["!ref"]=Sn(u)),o}function vbe(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(KB);return s&&$O(s[0],i,a,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function gbe(e,t){e.l+=10;var n=qi(e);return{name:n}}function mbe(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return wu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),l.name&&(a.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var QB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ybe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],xbe=[],bbe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function aI(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var i=t[a];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=$r(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function iI(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=$r(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function JB(e){iI(e.WBProps,QB),iI(e.CalcPr,bbe),aI(e.WBView,ybe),aI(e.Sheets,xbe),ah.date1904=$r(e.WBProps.date1904)}var wbe="][*?/\\".split("");function _be(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return wbe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var Ebe=/<\w+:workbook/;function Sbe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",i={},o=0;if(e.replace(Ji,function(l,c){var u=Ht(l);switch(Rc(u[0])){case"<?xml":break;case"<workbook":l.match(Ebe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":QB.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=$r(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=br(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=On(br(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=br(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),$r(u.hidden||"0")&&(i.Hidden=!0),o=c+l.length;break;case"</definedName>":i.Ref=On(br(e.slice(o,c))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Uve.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return JB(n),n}function Abe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=CA(e),n.name=qi(e),n}function kbe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?qi(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Tbe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function Obe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=o1e(e),o=f2e(e,0,n),s=IO(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function Cbe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Zx[16]={n:"BrtFRTArchID$",f:Tbe},wu(e,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=$i(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),a=!0;break;case 36:r.pop(),a=!1;break;case 37:r.push(u),a=!0;break;case 38:r.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),JB(n),n.Names=i,n.supbooks=o,n}function Mbe(e,t,n){return t.slice(-4)===".bin"?Cbe(e,n):Sbe(e,n)}function Pbe(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?dbe(e,r,n,a,i,o,s):A2e(e,r,n,a,i,o,s)}function Ibe(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?mbe(e,r,n,a,i):vbe(e,r,n,a,i)}function Rbe(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?zye():Uye()}function Nbe(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?$ye():jye()}function Dbe(e,t,n,r){return t.slice(-4)===".bin"?nye(e,n,r):Kme(e,n,r)}function Lbe(e,t,n){return $B(e,n)}function Fbe(e,t,n){return t.slice(-4)===".bin"?yme(e,n):gme(e,n)}function Bbe(e,t,n){return t.slice(-4)===".bin"?Lye(e,n):Pye(e,n)}function $be(e,t,n){return t.slice(-4)===".bin"?Oye(e):kye(e)}function jbe(e,t,n,r){return n.slice(-4)===".bin"?Cye(e,t,n,r):void 0}function zbe(e,t,n){return t.slice(-4)===".bin"?Sye(e,t,n):Aye(e,t,n)}var e$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,t$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Qs(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var a=e.match(e$),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(t$),(o=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),r[s]=i[2].slice(1,i[2].length-1));return r}function Ube(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(e$),a,i,o,s;if(r)for(s=0;s!=r.length;++s)a=r[s].match(t$),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}var Zv;function Hbe(e,t){var n=Zv[e]||On(e);return n==="General"?Td(t):zs(n,t)}function Gbe(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=$r(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=li(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[On(t)]=a}function Wbe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||n0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v):e.w=Td(e.v):e.w=Hbe(t||"General",e.v)}catch(i){if(n.WTF)throw i}try{var r=Zv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&vp(r)){var a=ad(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(n.WTF)throw i}}}function Vbe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=Gme[r.Pattern]||r.Pattern)}e[t.ID]=t}function Ybe(e,t,n,r,a,i,o,s,l,c){var u="General",f=r.StyleID,d={};c=c||{};var h=[],p=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=$r(e);break;case"String":r.t="s",r.r=T8(On(e)),r.v=e.indexOf("<")>-1?On(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(li(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=On(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=mB[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=T8(t||e));break}if(Wbe(r,u,c),c.cellFormula!==!1)if(r.Formula){var v=On(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=rh(v,a),delete r.Formula,r.ArrayRange=="RC"?r.F=rh("RC:RC",a):r.ArrayRange&&(r.F=rh(r.ArrayRange,a),l.push([la(r.F),r.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(r.F=l[p][1]);c.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Xbe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Z_(e,t){var n=t||{};H9();var r=dv(TO(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=br(r));var a=r.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Oi(n);return o.type="string",k1.to_workbook(r,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(pe){a.indexOf("<"+pe)>=0&&(i=!0)}),i)return rwe(r,n);Zv={"General Number":"General","General Date":en[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":en[15],"Short Date":en[14],"Long Time":en[19],"Medium Time":en[18],"Short Time":en[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:en[2],Standard:en[4],Percent:en[10],Scientific:en[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],c,u={},f=[],d=n.dense?[]:{},h="",p={},v={},g=Qs('<Data ss:Type="String">'),m=0,y=0,x=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},_={},w="",A=0,S=[],k={},T={},O=0,C=[],M=[],R={},I=[],P,B=!1,N=[],V=[],W={},z=0,j=0,L={Sheets:[],WBProps:{date1904:!1}},F={};A1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var H="";s=A1.exec(r);)switch(s[3]=(H=s[3]).toLowerCase()){case"data":if(H=="data"){if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?Ybe(r.slice(m,s.index),w,g,l[l.length-1][0]=="comment"?R:p,{c:y,r:x},E,I[y],v,N,n):(w="",g=Qs(s[0]),m=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(M.length>0&&(p.c=M),(!n.sheetRows||n.sheetRows>x)&&p.v!==void 0&&(n.dense?(d[x]||(d[x]=[]),d[x][y]=p):d[Ha(y)+Ci(x)]=p),p.HRef&&(p.l={Target:On(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(z=y+(parseInt(p.MergeAcross,10)|0),j=x+(parseInt(p.MergeDown,10)|0),S.push({s:{c:y,r:x},e:{c:z,r:j}})),!n.sheetStubs)p.MergeAcross?y=z+1:++y;else if(p.MergeAcross||p.MergeDown){for(var D=y;D<=z;++D)for(var G=x;G<=j;++G)(D>y||G>x)&&(n.dense?(d[G]||(d[G]=[]),d[G][D]={t:"z"}):d[Ha(D)+Ci(G)]={t:"z"});y=z+1}else++y;else p=Ube(s[0]),p.Index&&(y=+p.Index-1),y<b.s.c&&(b.s.c=y),y>b.e.c&&(b.e.c=y),s[0].slice(-2)==="/>"&&++y,M=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(x<b.s.r&&(b.s.r=x),x>b.e.r&&(b.e.r=x),s[0].slice(-2)==="/>"&&(v=Qs(s[0]),v.Index&&(x=+v.Index-1)),y=0,++x):(v=Qs(s[0]),v.Index&&(x=+v.Index-1),W={},(v.AutoFitHeight=="0"||v.Height)&&(W.hpx=parseInt(v.Height,10),W.hpt=BB(W.hpx),V[x]=W),v.Hidden=="1"&&(W.hidden=!0,V[x]=W));break;case"worksheet":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"));f.push(h),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(d["!ref"]=Sn(b),n.sheetRows&&n.sheetRows<=b.e.r&&(d["!fullref"]=d["!ref"],b.e.r=n.sheetRows-1,d["!ref"]=Sn(b))),S.length&&(d["!merges"]=S),I.length>0&&(d["!cols"]=I),V.length>0&&(d["!rows"]=V),u[h]=d}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=y=0,l.push([s[3],!1]),c=Qs(s[0]),h=On(c.Name),d=n.dense?[]:{},S=[],N=[],V=[],F={name:h,Hidden:0},L.Sheets.push(F);break;case"table":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),I=[],B=!1}break;case"style":s[1]==="/"?Vbe(E,_,n):_=Qs(s[0]);break;case"numberformat":_.nf=On(Qs(s[0]).Format||"General"),Zv[_.nf]&&(_.nf=Zv[_.nf]);for(var K=0;K!=392&&en[K]!=_.nf;++K);if(K==392){for(K=57;K!=392;++K)if(en[K]==null){md(_.nf,K);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(P=Qs(s[0]),P.Hidden&&(P.hidden=!0,delete P.Hidden),P.Width&&(P.wpx=parseInt(P.Width,10)),!B&&P.wpx>10){B=!0,po=LB;for(var re=0;re<I.length;++re)I[re]&&Ph(I[re])}B&&Ph(P),I[P.Index-1||I.length]=P;for(var ie=0;ie<+P.Span;++ie)I[I.length]=Oi(P);break;case"namedrange":if(s[1]==="/")break;L.Names||(L.Names=[]);var U=Ht(s[0]),q={Name:U.Name,Ref:rh(U.RefersTo.slice(1),{r:0,c:0})};L.Sheets.length>0&&(q.Sheet=L.Sheets.length-1),L.Names.push(q);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?w+=r.slice(A,s.index):A=s.index+s[0].length;break;case"interior":if(!n.cellStyles)break;_.Interior=Qs(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?P1e(k,H,r.slice(O,s.index)):O=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"));Xbe(R),M.push(R)}else l.push([s[3],!1]),c=Qs(s[0]),R={a:c.Author};break;case"autofilter":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var Q=Qs(s[0]);d["!autofilter"]={ref:rh(Q.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return fI(r,n);var X=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:X=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:X=!1}break;case"excelworkbook":switch(s[3]){case"date1904":L.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:X=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:X=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(r.slice(O,s.index)){case"SheetHidden":F.Hidden=1;break;case"SheetVeryHidden":F.Hidden=2;break}else O=s.index+s[0].length;break;case"header":d["!margins"]||Kv(d["!margins"]={},"xlml"),isNaN(+Ht(s[0]).Margin)||(d["!margins"].header=+Ht(s[0]).Margin);break;case"footer":d["!margins"]||Kv(d["!margins"]={},"xlml"),isNaN(+Ht(s[0]).Margin)||(d["!margins"].footer=+Ht(s[0]).Margin);break;case"pagemargins":var ce=Ht(s[0]);d["!margins"]||Kv(d["!margins"]={},"xlml"),isNaN(+ce.Top)||(d["!margins"].top=+ce.Top),isNaN(+ce.Left)||(d["!margins"].left=+ce.Left),isNaN(+ce.Right)||(d["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(d["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":L.Views||(L.Views=[]),L.Views[0]||(L.Views[0]={}),L.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:X=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:X=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:X=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:X=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:X=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:X=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:X=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:X=!1}break;case"smarttags":break;default:X=!1;break}if(X||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?Gbe(T,H,C,r.slice(O,s.index)):(C=s,O=s.index+s[0].length);break}if(n.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var te={};return!n.bookSheets&&!n.bookProps&&(te.Sheets=u),te.SheetNames=f,te.Workbook=L,te.SSF=Oi(en),te.Props=k,te.Custprops=T,te}function RA(e,t){switch(UO(t=t||{}),t.type||"base64"){case"base64":return Z_(rs(e),t);case"binary":case"buffer":case"file":return Z_(e,t);case"array":return Z_(Jd(e),t)}}function qbe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=c1e(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=u1e(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var Kbe=[60,1084,2066,2165,2175];function Zbe(e,t,n,r,a){var i=r,o=[],s=n.slice(n.l,n.l+i);if(a&&a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),n.l+=i;for(var l=eu(n,n.l),c=NA[l],u=0;c!=null&&Kbe.indexOf(l)>-1;)i=eu(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),s=n.slice(u,n.l+4+i),o.push(s),n.l+=4+i,c=NA[l=eu(n,n.l)];var f=$u(o);xi(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,a)}function Hl(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=en[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||n0[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v):e.w=Td(e.v):e.w=zs(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&vp(en[r]||String(r))){var a=ad(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Mm(e,t,n){return{v:e,ixfe:t,t:n}}function Qbe(e,t){var n={opts:{}},r={},a=t.dense?[]:{},i={},o={},s=null,l=[],c="",u={},f,d="",h,p,v,g,m={},y=[],x,b,E=[],_=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},S=function(Ye){return Ye<8?yd[Ye]:Ye<64&&_[Ye-8]||yd[Ye]},k=function(Ye,It,Xt){var pn=It.XF.data;if(!(!pn||!pn.patternType||!Xt||!Xt.cellStyles)){It.s={},It.s.patternType=pn.patternType;var Sa;(Sa=T1(S(pn.icvFore)))&&(It.s.fgColor={rgb:Sa}),(Sa=T1(S(pn.icvBack)))&&(It.s.bgColor={rgb:Sa})}},T=function(Ye,It,Xt){if(!(W>1)&&!(Xt.sheetRows&&Ye.r>=Xt.sheetRows)){if(Xt.cellStyles&&It.XF&&It.XF.data&&k(Ye,It,Xt),delete It.ixfe,delete It.XF,f=Ye,d=Kt(Ye),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ye.r<o.s.r&&(o.s.r=Ye.r),Ye.c<o.s.c&&(o.s.c=Ye.c),Ye.r+1>o.e.r&&(o.e.r=Ye.r+1),Ye.c+1>o.e.c&&(o.e.c=Ye.c+1),Xt.cellFormula&&It.f){for(var pn=0;pn<y.length;++pn)if(!(y[pn][0].s.c>Ye.c||y[pn][0].s.r>Ye.r)&&!(y[pn][0].e.c<Ye.c||y[pn][0].e.r<Ye.r)){It.F=Sn(y[pn][0]),(y[pn][0].s.c!=Ye.c||y[pn][0].s.r!=Ye.r)&&delete It.f,It.f&&(It.f=""+$i(y[pn][1],o,Ye,N,O));break}}Xt.dense?(a[Ye.r]||(a[Ye.r]=[]),a[Ye.r][Ye.c]=It):a[d]=It}},O={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var C,M=[],R=[],I=[],P=[],B=!1,N=[];N.SheetNames=O.snames,N.sharedf=O.sharedf,N.arrayf=O.arrayf,N.names=[],N.XTI=[];var V=0,W=0,z=0,j=[],L=[],F;O.codepage=1200,ml(1200);for(var H=!1;e.l<e.length-1;){var D=e.l,G=e.read_shift(2);if(G===0&&V===10)break;var K=e.l===e.length?0:e.read_shift(2),re=NA[G];if(re&&re.f){if(t.bookSheets&&V===133&&G!==133)break;if(V=G,re.r===2||re.r==12){var ie=e.read_shift(2);if(K-=2,!O.enc&&ie!==G&&((ie&255)<<8|ie>>8)!==G)throw new Error("rt mismatch: "+ie+"!="+G);re.r==12&&(e.l+=10,K-=10)}var U={};if(G===10?U=re.f(e,K,O):U=Zbe(G,re,e,K,O),W==0&&[9,521,1033,2057].indexOf(V)===-1)continue;switch(G){case 34:n.opts.Date1904=w.WBProps.date1904=U;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=U,!t.password)throw new Error("File is password-protected");if(U.valid==null)throw new Error("Encryption scheme unsupported");if(!U.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=U;break;case 66:var q=Number(U);switch(q){case 21010:q=1200;break;case 32768:q=1e4;break;case 32769:q=1252;break}ml(O.codepage=q),H=!0;break;case 317:O.rrtabid=U;break;case 25:O.winlocked=U;break;case 439:n.opts.RefreshAll=U;break;case 12:n.opts.CalcCount=U;break;case 16:n.opts.CalcDelta=U;break;case 17:n.opts.CalcIter=U;break;case 13:n.opts.CalcMode=U;break;case 14:n.opts.CalcPrecision=U;break;case 95:n.opts.CalcSaveRecalc=U;break;case 15:O.CalcRefMode=U;break;case 2211:n.opts.FullCalc=U;break;case 129:U.fDialog&&(a["!type"]="dialog"),U.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),U.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(U);break;case 430:N.push([U]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(U);break;case 24:case 536:F={Name:U.Name,Ref:$i(U.rgce,o,null,N,O)},U.itab>0&&(F.Sheet=U.itab-1),N.names.push(F),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(U),U.Name=="_xlnm._FilterDatabase"&&U.itab>0&&U.rgce&&U.rgce[0]&&U.rgce[0][0]&&U.rgce[0][0][0]=="PtgArea3d"&&(L[U.itab-1]={ref:Sn(U.rgce[0][0][1][2])});break;case 22:O.ExternCount=U;break;case 23:N.length==0&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(U),N.XTI=N.XTI.concat(U);break;case 2196:if(O.biff<8)break;F!=null&&(F.Comment=U[1]);break;case 18:a["!protect"]=U;break;case 19:U!==0&&O.WTF&&console.error("Password verifier: "+U);break;case 133:i[U.pos]=U,O.snames.push(U.name);break;case 10:{if(--W)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Sn(o),t.sheetRows&&t.sheetRows<=o.e.r){var Q=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Sn(o),o.e.r=Q}o.e.r++,o.e.c++}M.length>0&&(a["!merges"]=M),R.length>0&&(a["!objects"]=R),I.length>0&&(a["!cols"]=I),P.length>0&&(a["!rows"]=P),w.Sheets.push(A)}c===""?u=a:r[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[G]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[U.BIFFVer]||8),O.biffguess=U.BIFFVer==0,U.BIFFVer==0&&U.dt==4096&&(O.biff=5,H=!0,ml(O.codepage=28591)),O.biff==8&&U.BIFFVer==0&&U.dt==16&&(O.biff=2),W++)break;if(a=t.dense?[]:{},O.biff<8&&!H&&(H=!0,ml(O.codepage=t.codepage||1252)),O.biff<5||U.BIFFVer==0&&U.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var X={pos:e.l-K,name:c};i[X.pos]=X,O.snames.push(c)}else c=(i[D]||{name:""}).name;U.dt==32&&(a["!type"]="chart"),U.dt==64&&(a["!type"]="macro"),M=[],R=[],O.arrayf=y=[],I=[],P=[],B=!1,A={Hidden:(i[D]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[U.r]||[])[U.c]:a[Kt({c:U.c,r:U.r})])&&++U.c,x={ixfe:U.ixfe,XF:E[U.ixfe]||{},v:U.val,t:"n"},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t);break;case 5:case 517:x={ixfe:U.ixfe,XF:E[U.ixfe],v:U.val,t:U.t},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t);break;case 638:x={ixfe:U.ixfe,XF:E[U.ixfe],v:U.rknum,t:"n"},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t);break;case 189:for(var ce=U.c;ce<=U.C;++ce){var te=U.rkrec[ce-U.c][0];x={ixfe:te,XF:E[te],v:U.rkrec[ce-U.c][1],t:"n"},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:ce,r:U.r},x,t)}break;case 6:case 518:case 1030:{if(U.val=="String"){s=U;break}if(x=Mm(U.val,U.cell.ixfe,U.tt),x.XF=E[x.ixfe],t.cellFormula){var pe=U.formula;if(pe&&pe[0]&&pe[0][0]&&pe[0][0][0]=="PtgExp"){var me=pe[0][0][1][0],Ee=pe[0][0][1][1],ke=Kt({r:me,c:Ee});m[ke]?x.f=""+$i(U.formula,o,U.cell,N,O):x.F=((t.dense?(a[me]||[])[Ee]:a[ke])||{}).F}else x.f=""+$i(U.formula,o,U.cell,N,O)}z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T(U.cell,x,t),s=U}break;case 7:case 519:if(s)s.val=U,x=Mm(U,s.cell.ixfe,"s"),x.XF=E[x.ixfe],t.cellFormula&&(x.f=""+$i(s.formula,o,s.cell,N,O)),z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T(s.cell,x,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(U);var Ue=Kt(U[0].s);if(h=t.dense?(a[U[0].s.r]||[])[U[0].s.c]:a[Ue],t.cellFormula&&h){if(!s||!Ue||!h)break;h.f=""+$i(U[1],o,U[0],N,O),h.F=Sn(U[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!s)break;m[Kt(s.cell)]=U[0],h=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[Kt(s.cell)],(h||{}).f=""+$i(U[0],o,f,N,O)}}break;case 253:x=Mm(l[U.isst].t,U.ixfe,"s"),l[U.isst].h&&(x.h=l[U.isst].h),x.XF=E[x.ixfe],z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:U.ixfe,XF:E[U.ixfe],t:"z"},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t));break;case 190:if(t.sheetStubs)for(var fe=U.c;fe<=U.C;++fe){var xe=U.ixfe[fe-U.c];x={ixfe:xe,XF:E[xe],t:"z"},z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:fe,r:U.r},x,t)}break;case 214:case 516:case 4:x=Mm(U.val,U.ixfe,"s"),x.XF=E[x.ixfe],z>0&&(x.z=j[x.ixfe>>8&63]),Hl(x,t,n.opts.Date1904),T({c:U.c,r:U.r},x,t);break;case 0:case 512:W===1&&(o=U);break;case 252:l=U;break;case 1054:if(O.biff==4){j[z++]=U[1];for(var De=0;De<z+163&&en[De]!=U[1];++De);De>=163&&md(U[1],z+163)}else md(U[1],U[0]);break;case 30:{j[z++]=U;for(var He=0;He<z+163&&en[He]!=U;++He);He>=163&&md(U,z+163)}break;case 229:M=M.concat(U);break;case 93:R[U.cmo[0]]=O.lastobj=U;break;case 438:O.lastobj.TxO=U;break;case 127:O.lastobj.ImData=U;break;case 440:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[Kt({c:v,r:g})],h&&(h.l=U[1]);break;case 2048:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[Kt({c:v,r:g})],h&&h.l&&(h.l.Tooltip=U[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;h=t.dense?(a[U[0].r]||[])[U[0].c]:a[Kt(U[0])];var pt=R[U[2]];h||(t.dense?(a[U[0].r]||(a[U[0].r]=[]),h=a[U[0].r][U[0].c]={t:"z"}):h=a[Kt(U[0])]={t:"z"},o.e.r=Math.max(o.e.r,U[0].r),o.s.r=Math.min(o.s.r,U[0].r),o.e.c=Math.max(o.e.c,U[0].c),o.s.c=Math.min(o.s.c,U[0].c)),h.c||(h.c=[]),p={a:U[1],t:pt.TxO.t},h.c.push(p)}break;case 2173:bye(E[U.ixfe],U.ext);break;case 125:{if(!O.cellStyles)break;for(;U.e>=U.s;)I[U.e--]={width:U.w/256,level:U.level||0,hidden:!!(U.flags&1)},B||(B=!0,FO(U.w/256)),Ph(I[U.e+1])}break;case 520:{var Re={};U.level!=null&&(P[U.r]=Re,Re.level=U.level),U.hidden&&(P[U.r]=Re,Re.hidden=!0),U.hpt&&(P[U.r]=Re,Re.hpt=U.hpt,Re.hpx=O1(U.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Kv(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[G]]=U;break;case 161:a["!margins"]||Kv(a["!margins"]={}),a["!margins"].header=U.header,a["!margins"].footer=U.footer;break;case 574:U.RTL&&(w.Views[0].RTL=!0);break;case 146:_=U;break;case 2198:C=U;break;case 140:b=U;break;case 442:c?A.CodeName=U||A.name:w.WBProps.CodeName=U||"ThisWorkbook";break}}else re||console.error("Missing Info for XLS Record 0x"+G.toString(16)),e.l+=K}return n.SheetNames=Ec(i).sort(function(vt,Ye){return Number(vt)-Number(Ye)}).map(function(vt){return i[vt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&L.forEach(function(vt,Ye){n.Sheets[n.SheetNames[Ye]]["!autofilter"]=vt}),n.Strings=l,n.SSF=Oi(en),O.enc&&(n.Encryption=O.enc),C&&(n.Themes=C),n.Metadata={},b!==void 0&&(n.Metadata.Country=b),N.names.length>0&&(w.Names=N.names),n.Workbook=w,n}var oI={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Jbe(e,t,n){var r=En.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=H8(r,g1e,oI.DSI);for(var i in a)t[i]=a[i]}catch(c){if(n.WTF)throw c}var o=En.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=H8(o,m1e,oI.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(xB(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function n$(e,t){t||(t={}),UO(t),P9(),t.codepage&&bO(t.codepage);var n,r;if(e.FullPaths){if(En.find(e,"/encryption"))throw new Error("File is password-protected");n=En.find(e,"!CompObj"),r=En.find(e,"/Workbook")||En.find(e,"/Book")}else{switch(t.type){case"base64":e=hl(rs(e));break;case"binary":e=hl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}xi(e,0),r={content:e}}var a,i;if(n&&qbe(n),t.bookProps&&!t.bookSheets)a={};else{var o=xn?"buffer":"array";if(r&&r.content)a=Qbe(r.content,t);else if((i=En.find(e,"PerfectOffice_MAIN"))&&i.content)a=Xv.to_workbook(i.content,(t.type=o,t));else if((i=En.find(e,"NativeContent_MAIN"))&&i.content)a=Xv.to_workbook(i.content,(t.type=o,t));else throw(i=En.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&En.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Bye(e))}var s={};return e.FullPaths&&Jbe(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}var Zx={0:{f:N2e},1:{f:B2e},2:{f:Y2e},3:{f:U2e},4:{f:j2e},5:{f:V2e},6:{f:K2e},7:{f:G2e},8:{f:tbe},9:{f:ebe},10:{f:Q2e},11:{f:J2e},12:{f:$2e},13:{f:X2e},14:{f:H2e},15:{f:z2e},16:{f:ZB},17:{f:Z2e},18:{f:W2e},19:{f:PO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Obe},40:{},42:{},43:{f:Qme},44:{f:Zme},45:{f:Jme},46:{f:tye},47:{f:eye},48:{},49:{f:n1e},50:{},51:{f:_ye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:PB},62:{f:q2e},63:{f:Tye},64:{f:ube},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:cbe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:F2e},148:{f:D2e,p:16},151:{f:abe},152:{},153:{f:kbe},154:{},155:{},156:{f:Abe},157:{},158:{},159:{T:1,f:mme},160:{T:-1},161:{T:1,f:t0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nbe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wye},336:{T:-1},337:{f:Eye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:MB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ibe},427:{f:obe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lbe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:L2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rbe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Dye},633:{T:1},634:{T:-1},635:{T:1,f:Nye},636:{T:-1},637:{f:a1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:gbe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:fbe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},NA={6:{f:q_},10:{f:Ou},12:{f:Oa},13:{f:Oa},14:{f:pa},15:{f:pa},16:{f:Gi},17:{f:pa},18:{f:pa},19:{f:Oa},20:{f:Y8},21:{f:Y8},23:{f:MB},24:{f:q8},25:{f:pa},26:{},27:{},28:{f:Ige},29:{},34:{f:pa},35:{f:X8},38:{f:Gi},39:{f:Gi},40:{f:Gi},41:{f:Gi},42:{f:pa},43:{f:pa},47:{f:Lme},49:{f:hge},51:{f:Oa},60:{},61:{f:uge},64:{f:pa},65:{f:dge},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:nge},93:{f:Nge},94:{},95:{f:pa},96:{},97:{},99:{f:pa},125:{f:PB},128:{f:Ege},129:{f:rge},130:{f:Oa},131:{f:pa},132:{f:pa},133:{f:age},134:{},140:{f:jge},141:{f:Oa},144:{},146:{f:Uge},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:Yge},161:{f:Gge},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:xge},190:{f:bge},193:{f:Ou},197:{},198:{},199:{},200:{},201:{},202:{f:pa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:pa},222:{},224:{f:_ge},225:{f:tge},226:{f:Ou},227:{},229:{f:Rge},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ige},253:{f:pge},255:{f:oge},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:pa},353:{f:Ou},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Age},431:{f:pa},432:{},433:{},434:{},437:{},438:{f:Fge},439:{f:pa},440:{f:Bge},441:{},442:{f:Og},443:{},444:{f:Oa},445:{},446:{},448:{f:Ou},449:{f:cge,r:2},450:{f:Ou},512:{f:W8},513:{f:Vge},515:{f:Sge},516:{f:vge},517:{f:V8},519:{f:Xge},520:{f:sge},523:{},545:{f:K8},549:{f:G8},566:{},574:{f:fge},638:{f:yge},659:{},1048:{},1054:{f:gge},1084:{},1212:{f:Cge},2048:{f:$ge},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Tm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ou},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Hge,r:12},2173:{f:xye,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:pa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Oge,r:12},2197:{},2198:{f:hye,r:12},2199:{},2200:{},2201:{},2202:{f:Mge,r:12},2203:{f:Ou},2204:{},2205:{},2206:{},2207:{},2211:{f:lge},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Wge},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:zge},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:W8},1:{},2:{f:Qge},3:{f:Zge},4:{f:Kge},5:{f:V8},7:{f:Jge},8:{},9:{f:Tm},11:{},22:{f:Oa},30:{f:mge},31:{},32:{},33:{f:K8},36:{},37:{f:G8},50:{f:eme},62:{},52:{},67:{},68:{f:Oa},69:{},86:{},126:{},127:{f:qge},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:tme},223:{},234:{},354:{},421:{},518:{f:q_},521:{f:Tm},536:{f:q8},547:{f:X8},561:{},579:{},1030:{f:q_},1033:{f:Tm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Js(e,t,n,r){var a=t;if(!isNaN(a)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&fB(n)&&e.push(n)}}function sI(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=Sve(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<l.length;++o){var v=l[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var m=v.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var y=m[s].trim();if(y.match(/<t[dh]/i)){for(var x=y,b=0;x.charAt(0)=="<"&&(b=x.indexOf(">"))>-1;)x=x.slice(b+1);for(var E=0;E<p.length;++E){var _=p[E];_.s.c==u&&_.s.r<c&&c<=_.e.r&&(u=_.e.c+1,E=-1)}var w=Ht(y.slice(0,y.indexOf(">")));d=w.colspan?+w.colspan:1,((f=+w.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var A=w.t||w["data-t"]||"";if(!x.length){u+=d;continue}if(x=Q9(x),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!x.length){u+=d;continue}var S={t:"s",v:x};n.raw||!x.trim().length||A=="s"||(x==="TRUE"?S={t:"b",v:!0}:x==="FALSE"?S={t:"b",v:!1}:isNaN(El(x))?isNaN(Mh(x).getDate())||(S={t:"d",v:li(x)},n.cellDates||(S={t:"n",v:_o(S.v)}),S.z=n.dateNF||en[14]):S={t:"n",v:El(x)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=S):r[Kt({r:c,c:u})]=S,u+=d}}}}return r["!ref"]=Sn(h),p.length&&(r["!merges"]=p),r}function ewe(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>o)&&!(a[c].e.r<n||a[c].e.c<o)){if(a[c].s.r<n||a[c].s.c<o){s=-1;break}s=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(s<0)){var u=Kt({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[u],d=f&&f.v!=null&&(f.h||kO(f.w||(du(f),f.w)||""))||"",h={};s>1&&(h.rowspan=s),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+u,i.push(jve("td",d,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var twe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nwe="</body></html>";function rwe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return xf(sI(n[0],t),t);var r=GO();return n.forEach(function(a,i){WO(r,sI(a,t),"Sheet"+(i+1))}),r}function awe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function iwe(e,t){var n=t||{},r=n.header!=null?n.header:twe,a=n.footer!=null?n.footer:nwe,i=[r],o=gp(e["!ref"]);n.dense=Array.isArray(e),i.push(awe(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(ewe(e,o,s,n));return i.push("</table>"+a),i.join("")}function r$(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?yo(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=gp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),p=0,v=0,g=0,m=0,y=0,x=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&v<l;++p){var b=s[p];if(lI(b)){if(r.display)continue;h[v]={hidden:!0}}var E=b.children;for(g=m=0;g<E.length;++g){var _=E[g];if(!(r.display&&lI(_))){var w=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Q9(_.innerHTML),A=_.getAttribute("data-z")||_.getAttribute("z");for(d=0;d<f.length;++d){var S=f[d];S.s.c==m+i&&S.s.r<v+a&&v+a<=S.e.r&&(m=S.e.c+1-i,d=-1)}x=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||x>1)&&f.push({s:{r:v+a,c:m+i},e:{r:v+a+(y||1)-1,c:m+i+(x||1)-1}});var k={t:"s",v:w},T=_.getAttribute("data-t")||_.getAttribute("t")||"";w!=null&&(w.length==0?k.t=T||"z":r.raw||w.trim().length==0||T=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(El(w))?isNaN(Mh(w).getDate())||(k={t:"d",v:li(w)},r.cellDates||(k={t:"n",v:_o(k.v)}),k.z=r.dateNF||en[14]):k={t:"n",v:El(w)})),k.z===void 0&&A!=null&&(k.z=A);var O="",C=_.getElementsByTagName("A");if(C&&C.length)for(var M=0;M<C.length&&!(C[M].hasAttribute("href")&&(O=C[M].getAttribute("href"),O.charAt(0)!="#"));++M);O&&O.charAt(0)!="#"&&(k.l={Target:O}),r.dense?(e[v+a]||(e[v+a]=[]),e[v+a][m+i]=k):e[Kt({c:m+i,r:v+a})]=k,c.e.c<m+i&&(c.e.c=m+i),m+=x}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=Sn(c),v>=l&&(e["!fullref"]=Sn((c.e.r=s.length-p+v-1+a,c))),e}function a$(e,t){var n=t||{},r=n.dense?[]:{};return r$(r,e,t)}function owe(e,t){return xf(a$(e,t),t)}function lI(e){var t="",n=swe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function swe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function lwe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=On(t.replace(/<[^>]*>/g,""));return[n]}var cI={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function i$(e,t){var n=t||{},r=TO(e),a=[],i,o,s={name:""},l="",c=0,u,f,d={},h=[],p=n.dense?[]:{},v,g,m={value:""},y="",x=0,b=[],E=-1,_=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,S={},k=[],T={},O=0,C=0,M=[],R=1,I=1,P=[],B={Names:[]},N={},V=["",""],W=[],z={},j="",L=0,F=!1,H=!1,D=0;for(A1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=A1.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"工作表":v[1]==="/"?(w.e.c>=w.s.c&&w.e.r>=w.s.r?p["!ref"]=Sn(w):p["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=w.e.r&&(p["!fullref"]=p["!ref"],w.e.r=n.sheetRows-1,p["!ref"]=Sn(w)),k.length&&(p["!merges"]=k),M.length&&(p["!rows"]=M),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=p,H=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Ht(v[0],!1),E=_=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,p=n.dense?[]:{},k=[],M=[],H=!0);break;case"table-row-group":v[1]==="/"?--A:++A;break;case"table-row":case"行":if(v[1]==="/"){E+=R,R=1;break}if(f=Ht(v[0],!1),f.行号?E=f.行号-1:E==-1&&(E=0),R=+f["number-rows-repeated"]||1,R<10)for(D=0;D<R;++D)A>0&&(M[E+D]={level:A});_=-1;break;case"covered-table-cell":v[1]!=="/"&&++_,n.sheetStubs&&(n.dense?(p[E]||(p[E]=[]),p[E][_]={t:"z"}):p[Kt({r:E,c:_})]={t:"z"}),y="",b=[];break;case"table-cell":case"数据":if(v[0].charAt(v[0].length-2)==="/")++_,m=Ht(v[0],!1),I=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&n.cellFormula!=!1&&(g.f=rI(On(m.formula))),(m.数据类型||m["value-type"])=="string"&&(g.t="s",g.v=On(m["string-value"]||""),n.dense?(p[E]||(p[E]=[]),p[E][_]=g):p[Kt({r:E,c:_})]=g),_+=I-1;else if(v[1]!=="/"){++_,y="",x=0,b=[],I=1;var G=R?E+R-1:E;if(_>w.e.c&&(w.e.c=_),_<w.s.c&&(w.s.c=_),E<w.s.r&&(w.s.r=E),G>w.e.r&&(w.e.r=G),m=Ht(v[0],!1),W=[],z={},g={t:m.数据类型||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=On(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(O=parseInt(m["number-matrix-rows-spanned"],10)||0,C=parseInt(m["number-matrix-columns-spanned"],10)||0,T={s:{r:E,c:_},e:{r:E+O-1,c:_+C-1}},g.F=Sn(T),P.push([T,g.F])),m.formula)g.f=rI(m.formula);else for(D=0;D<P.length;++D)E>=P[D][0].s.r&&E<=P[D][0].e.r&&_>=P[D][0].s.c&&_<=P[D][0].e.c&&(g.F=P[D][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(O=parseInt(m["number-rows-spanned"],10)||0,C=parseInt(m["number-columns-spanned"],10)||0,T={s:{r:E,c:_},e:{r:E+O-1,c:_+C-1}},k.push(T)),m["number-columns-repeated"]&&(I=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=$r(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=li(m["date-value"]),n.cellDates||(g.t="n",g.v=_o(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=wve(m["time-value"])/86400,n.cellDates&&(g.t="d",g.v=Ub(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(y=On(m["string-value"]),b=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(F=!1,g.t==="s"&&(g.v=y||"",b.length&&(g.R=b),F=x==0),N.Target&&(g.l=N),W.length>0&&(g.c=W,W=[]),y&&n.cellText!==!1&&(g.w=y),F&&(g.t="z",delete g.v),(!F||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=E))for(var K=0;K<R;++K){if(I=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(p[E+K]||(p[E+K]=[]),p[E+K][_]=K==0?g:Oi(g);--I>0;)p[E+K][_+I]=Oi(g);else for(p[Kt({r:E+K,c:_})]=g;--I>0;)p[Kt({r:E+K,c:_+I})]=Oi(g);w.e.c<=_&&(w.e.c=_)}I=parseInt(m["number-columns-repeated"]||"1",10),_+=I-1,I=0,g={},y="",b=[]}N={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;z.t=y,b.length&&(z.R=b),z.a=j,W.push(z)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);j="",L=0,y="",x=0,b=[];break;case"creator":v[1]==="/"?j=r.slice(L,v.index):L=v.index+v[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);y="",x=0,b=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(S[s.name]=l,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(l="",s=Ht(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Ht(v[0],!1),l+=cI[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Ht(v[0],!1),l+=cI[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":o=Ht(v[0],!1),V=K_(o["cell-range-address"]);var re={Name:o.name,Ref:V[0]+"!"+V[1]};H&&(re.Sheet=h.length),B.Names.push(re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!m||!m["string-value"])){var ie=lwe(r.slice(x,v.index));y=(y.length>0?y+`
`:"")+ie[0]}else Ht(v[0],!1),x=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{V=K_(Ht(v[0])["target-range-address"]),d[V[0]]["!autofilter"]={ref:V[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(N=Ht(v[0],!1),!N.href)break;N.Target=On(N.href),delete N.href,N.Target.charAt(0)=="#"&&N.Target.indexOf(".")>-1?(V=K_(N.Target.slice(1)),N.Target="#"+V[0]+"!"+V[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(n.WTF)throw new Error(v)}}var U={Sheets:d,SheetNames:h,Workbook:B};return n.bookSheets&&delete U.Sheets,U}function uI(e,t){t=t||{},Es(e,"META-INF/manifest.xml")&&S1e(Ta(e,"META-INF/manifest.xml"),t);var n=qo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=i$(br(n),t);return Es(e,"meta.xml")&&(r.Props=yB(Ta(e,"meta.xml"))),r}function fI(e,t){return i$(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function DA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):br(Jd(e))}function LA(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function dI(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function cwe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,a=t+13;a>=t;--a)r=r*256+e[a];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function C1(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Ya(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Vi(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=C1(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=n[0];e[n[0]++]>=128;);s=e.slice(l,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=C1(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var c={data:s,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function zO(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function uwe(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=C1(e,r),i=Vi(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:Ya(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=Vi(s.data),c=Ya(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=i[3])!=null&&t[0]&&(o.merge=Ya(i[3][0].data)>>>0>0),n.push(o)}return n}function fwe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=C1(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(i==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,i==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[LA(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=LA(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function dwe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(fwe(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return LA(t)}function hwe(e,t,n,r){var a=jO(e),i=a.getUint32(4,!0),o=(r>1?12:8)+dI(i&(r>1?3470:398))*4,s=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=dI(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(c=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:n[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function pwe(e,t,n){var r=jO(e),a=r.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=cwe(e,i),i+=16),a&2&&(c=r.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+r.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=r.getUint32(i,!0),i+=4),a&16&&(o=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function vwe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return hwe(e,t,n,e[0]);case 5:return pwe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function tf(e){var t=Vi(e);return C1(t[1][0].data)}function hI(e,t){var n=Vi(t.data),r=Ya(n[1][0].data),a=n[3],i=[];return(a||[]).forEach(function(o){var s=Vi(o.data),l=Ya(s[1][0].data)>>>0;switch(r){case 1:i[l]=DA(s[3][0].data);break;case 8:{var c=e[tf(s[9][0].data)][0],u=Vi(c.data),f=e[tf(u[1][0].data)][0],d=Ya(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Vi(f.data);i[l]=h[3].map(function(p){return DA(p.data)}).join("")}break}}),i}function gwe(e,t){var n,r,a,i,o,s,l,c,u,f,d,h,p,v,g=Vi(e),m=Ya(g[1][0].data)>>>0,y=Ya(g[2][0].data)>>>0,x=((r=(n=g[8])==null?void 0:n[0])==null?void 0:r.data)&&Ya(g[8][0].data)>0||!1,b,E;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)b=(s=(o=g[7])==null?void 0:o[0])==null?void 0:s.data,E=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)b=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,E=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=x?4:1,w=jO(b),A=[],S=0;S<b.length/2;++S){var k=w.getUint16(S*2,!0);k<65535&&A.push([S,k])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var T=[];for(S=0;S<A.length-1;++S)T[A[S][0]]=E.subarray(A[S][1]*_,A[S+1][1]*_);return A.length>=1&&(T[A[A.length-1][0]]=E.subarray(A[A.length-1][1]*_)),{R:m,cells:T}}function mwe(e,t){var n,r=Vi(t.data),a=(n=r==null?void 0:r[7])!=null&&n[0]?Ya(r[7][0].data)>>>0>0?1:0:-1,i=zO(r[5],function(o){return gwe(o,a)});return{nrows:Ya(r[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,c){if(o[s.R][c])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(c));o[s.R][c]=l}),o},[])}}function ywe(e,t,n){var r,a=Vi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ya(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ya(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=Sn(i);var o=Vi(a[4][0].data),s=hI(e,e[tf(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?hI(e,e[tf(o[17][0].data)][0]):[],c=Vi(o[3][0].data),u=0;c[1].forEach(function(f){var d=Vi(f.data),h=e[tf(d[2][0].data)][0],p=Ya(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=mwe(e,h);v.data.forEach(function(g,m){g.forEach(function(y,x){var b=Kt({r:u+m,c:x}),E=vwe(y,s,l);E&&(n[b]=E)})}),u+=v.nrows})}function xwe(e,t){var n=Vi(t.data),r={"!ref":"A1"},a=e[tf(n[2][0].data)],i=Ya(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return ywe(e,a[0],r),r}function bwe(e,t){var n,r=Vi(t.data),a={name:(n=r[1])!=null&&n[0]?DA(r[1][0].data):"",sheets:[]},i=zO(r[2],tf);return i.forEach(function(o){e[o].forEach(function(s){var l=Ya(s.meta[1][0].data);l==6e3&&a.sheets.push(xwe(e,s))})}),a}function wwe(e,t){var n=GO(),r=Vi(t.data),a=zO(r[1],tf);if(a.forEach(function(i){e[i].forEach(function(o){var s=Ya(o.meta[1][0].data);if(s==2){var l=bwe(e,o);l.sheets.forEach(function(c,u){WO(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Q_(e){var t,n,r,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=dwe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=uwe(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(r=(n=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:a[0].data)&&Ya(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(c){var u=Ya(c.meta[1][0].data)>>>0;if(u==1)if(!s)s=c;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return wwe(i,s)}function _we(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function UO(e){_we([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Ewe(e){return H0.WS.indexOf(e)>-1?"sheet":e==H0.CS?"chart":e==H0.DS?"dialog":e==H0.MS?"macro":e&&e.length?e:"sheet"}function Swe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,Ewe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Awe(e,t,n,r,a,i,o,s,l,c,u,f){try{i[r]=Vv(qo(e,n,!0),t);var d=Ta(e,t),h;switch(s){case"sheet":h=Pbe(d,t,a,l,i[r],c,u,f);break;case"chart":if(h=Ibe(d,t,a,l,i[r],c,u,f),!h||!h["!drawel"])break;var p=pv(h["!drawel"].Target,t),v=MA(p),g=Mye(qo(e,p,!0),Vv(qo(e,v,!0),p)),m=pv(g,p),y=MA(m);h=pbe(qo(e,m,!0),m,l,Vv(qo(e,y,!0),m),c,h);break;case"macro":h=Rbe(d,t,a,l,i[r],c,u,f);break;case"dialog":h=Nbe(d,t,a,l,i[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[r]=h;var x=[];i&&i[r]&&Ec(i[r]).forEach(function(b){var E="";if(i[r][b].Type==H0.CMNT){E=pv(i[r][b].Target,t);var _=Bbe(Ta(e,E,!0),E,l);if(!_||!_.length)return;Q8(h,_,!1)}i[r][b].Type==H0.TCMNT&&(E=pv(i[r][b].Target,t),x=x.concat(Iye(Ta(e,E,!0),l)))}),x&&x.length&&Q8(h,x,!0,l.people||[])}catch(b){if(l.WTF)throw b}}function fs(e){return e.charAt(0)=="/"?e.slice(1):e}function kwe(e,t){if(H9(),t=t||{},UO(t),Es(e,"META-INF/manifest.xml")||Es(e,"objectdata.xml"))return uI(e,t);if(Es(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Q_<"u"){if(e.FileIndex)return Q_(e);var n=En.utils.cfb_new();return A8(e).forEach(function(M){Tve(n,M,kve(e,M))}),Q_(n)}throw new Error("Unsupported NUMBERS file")}if(!Es(e,"[Content_Types].xml"))throw Es(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Es(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=A8(e),a=_1e(qo(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",Ta(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!Ta(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(qv=[],a.sst)try{qv=Fbe(Ta(e,fs(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=Lbe(qo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Dbe(Ta(e,fs(a.style)),a.style,l,t))}a.links.map(function(M){try{var R=Vv(qo(e,MA(fs(M))),M);return jbe(Ta(e,fs(M)),R,M,t)}catch{}});var u=Mbe(Ta(e,fs(a.workbooks[0])),a.workbooks[0],t),f={},d="";a.coreprops.length&&(d=Ta(e,fs(a.coreprops[0]),!0),d&&(f=yB(d)),a.extprops.length!==0&&(d=Ta(e,fs(a.extprops[0]),!0),d&&T1e(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(d=qo(e,fs(a.custprops[0]),!0),d&&(h=C1e(d,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=h),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var v={};t.bookDeps&&a.calcchain&&(v=$be(Ta(e,fs(a.calcchain)),a.calcchain));var g=0,m={},y,x;{var b=u.Sheets;f.Worksheets=b.length,f.SheetNames=[];for(var E=0;E!=b.length;++E)f.SheetNames[E]=b[E].name}var _=i?"bin":"xml",w=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,w+1)+"_rels/"+a.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");Es(e,A)||(A="xl/_rels/workbook."+_+".rels");var S=Vv(qo(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=zbe(Ta(e,fs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Rye(Ta(e,fs(a.people[0])),t)),S&&(S=Swe(S,u.Sheets));var k=Ta(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var T="sheet";if(S&&S[g]?(y="xl/"+S[g][1].replace(/[\/]?xl\//,""),Es(e,y)||(y=S[g][1]),Es(e,y)||(y=A.replace(/_rels\/.*$/,"")+S[g][1]),T=S[g][2]):(y="xl/worksheets/sheet"+(g+1-k)+"."+_,y=y.replace(/sheet0\./,"sheet.")),x=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var O=!1,C=0;C!=t.sheets.length;++C)typeof t.sheets[C]=="number"&&t.sheets[C]==g&&(O=1),typeof t.sheets[C]=="string"&&t.sheets[C].toLowerCase()==f.SheetNames[g].toLowerCase()&&(O=1);if(!O)continue e}}Awe(e,y,x,f.SheetNames[g],g,m,o,T,t,u,l,c)}return p={Directory:a,Workbook:u,Props:f,Custprops:h,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:qv,Styles:c,Themes:l,SSF:Oi(en)},t&&t.bookFiles&&(e.files?(p.keys=r,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(M,R){M=M.replace(/^Root Entry[\/]/,""),p.keys.push(M),p.files[M]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=Ta(e,fs(a.vba[0]),!0):a.defaults&&a.defaults.bin===Fye&&(p.vbaraw=Ta(e,"xl/vbaProject.bin",!0))),p}function Twe(e,t){var n=t||{},r="Workbook",a=En.find(e,r);try{if(r="/!DataSpaces/Version",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(xme(a.content),r="/!DataSpaces/DataSpaceMap",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=wme(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=_me(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);Sme(a.content)}catch{}if(r="/EncryptionInfo",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Ame(a.content);if(r="/EncryptedPackage",a=En.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,n.password||"",n);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function HO(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=rs(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Owe(e,t){return En.find(e,"EncryptedPackage")?Twe(e,t):n$(e,t)}function Cwe(e,t){var n,r=e,a=t||{};return a.type||(a.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),n=q9(r,a),kwe(n,a)}function o$(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return RA(e.slice(n),t);default:break e}return k1.to_workbook(e,t)}function Mwe(e,t){var n="",r=HO(e,t);switch(t.type){case"base64":n=rs(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Od(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=br(n)),t.type="binary",o$(n,t)}function Pwe(e,t){var n=e;return t.type=="base64"&&(n=rs(n)),n=TA.utils.decode(1200,n.slice(2),"str"),t.type="binary",o$(n,t)}function Iwe(e){return e.match(/[^\x00-\x7F]/)?vv(e):e}function J_(e,t,n,r){return r?(n.type="string",k1.to_workbook(e,n)):k1.to_workbook(t,n)}function FA(e,t){P9();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return FA(new Uint8Array(e),(n=Oi(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,a=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),ah={},n.dateNF&&(ah.dateNF=n.dateNF),n.type||(n.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=xn?"buffer":"binary",r=xve(e),typeof Uint8Array<"u"&&!xn&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=Iwe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return n=Oi(n),n.type="array",FA(wO(r),n)}switch((a=HO(r,n))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Owe(En.read(r,n),n);break;case 9:if(a[1]<=8)return n$(r,n);break;case 60:return RA(r,n);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ome(r,n);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return ame.to_workbook(r,n);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Cwe(r,n):J_(e,r,n,i);case 239:return a[3]===60?RA(r,n):J_(e,r,n,i);case 255:if(a[1]===254)return Pwe(r,n);if(a[1]===0&&a[2]===2&&a[3]===0)return Xv.to_workbook(r,n);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Xv.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return Z8.to_workbook(r,n);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Fme.to_workbook(r,n);break;case 10:case 13:case 32:return Mwe(r,n);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nme.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Z8.to_workbook(r,n):J_(e,r,n,i)}function Rwe(e,t,n,r,a,i,o,s){var l=Ci(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var h=t.s.c;h<=t.e.c;++h){var p=o?e[n][h]:e[r[h]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[h]!=null&&(d[i[h]]=c);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(v==null)if(p.t=="e"&&v===null)d[i[h]]=null;else if(c!==void 0)d[i[h]]=c;else if(u&&v===null)d[i[h]]=null;else continue;else d[i[h]]=u&&(p.t!=="n"||p.t==="n"&&s.rawNumbers!==!1)?v:du(p,v,s);v!=null&&(f=!1)}}return{row:d,isempty:f}}function BA(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=la(u);break;case"number":l=la(e["!ref"]),l.s.r=u;break;default:l=u}r>0&&(a=0);var f=Ci(l.s.r),d=[],h=[],p=0,v=0,g=Array.isArray(e),m=l.s.r,y=0,x={};g&&!e[m]&&(e[m]=[]);var b=c.skipHidden&&e["!cols"]||[],E=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(d[y]=Ha(y),n=g?e[m][y]:e[d[y]+f],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=d[y];break;case 3:i[y]=c.header[y-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=du(n,null,c),v=x[o]||0,!v)x[o]=1;else{do s=o+"_"+v++;while(x[s]);x[o]=v,x[s]=1}i[y]=s}for(m=l.s.r+a;m<=l.e.r;++m)if(!(E[m]||{}).hidden){var _=Rwe(e,l,m,d,r,i,g,c);(_.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(h[p++]=_.row)}return h.length=p,h}var pI=/"/g;function Nwe(e,t,n,r,a,i,o,s){for(var l=!0,c=[],u="",f=Ci(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var h=s.dense?(e[n]||[])[d]:e[r[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(s.rawNumbers&&h.t=="n"?h.v:du(h,null,s));for(var p=0,v=0;p!==u.length;++p)if((v=u.charCodeAt(p))===a||v===i||v===34||s.forceQuotes){u='"'+u.replace(pI,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(pI,'""')+'"')):u="";c.push(u)}return s.blankrows===!1&&l?null:c.join(o)}function s$(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=la(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,l=s.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(f[p]=Ha(p));for(var v=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=Nwe(e,a,g,f,o,l,i,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((v++?s:"")+u)));return delete r.dense,n.join("")}function Dwe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=s$(e,t);return n}function Lwe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=la(e["!ref"]),i="",o=[],s,l=[],c=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=Ha(s);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ci(u),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=c?(e[u]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function l$(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?yo(r.origin):r.origin;o=l.r,s=l.c}var c,u={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=la(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var d=r.header||[],h=0;t.forEach(function(v,g){Ec(v).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var y=v[m],x="z",b="",E=Kt({c:s+h,r:o+g+a});c=M1(i,E),y&&typeof y=="object"&&!(y instanceof Date)?i[E]=y:(typeof y=="number"?x="n":typeof y=="boolean"?x="b":typeof y=="string"?x="s":y instanceof Date?(x="d",r.cellDates||(x="n",y=_o(y)),b=r.dateNF||en[14]):y===null&&r.nullError&&(x="e",y=0),c?(c.t=x,c.v=y,delete c.w,delete c.R,b&&(c.z=b)):i[E]=c={t:x,v:y},b&&(c.z=b))})}),u.e.c=Math.max(u.e.c,s+d.length-1);var p=Ci(o);if(a)for(h=0;h<d.length;++h)i[Ha(h+s)+p]={t:"s",v:d[h]};return i["!ref"]=Sn(u),i}function Fwe(e,t){return l$(null,e,t)}function M1(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=yo(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?M1(e,Kt(t)):M1(e,Kt({r:t,c:n||0}))}function Bwe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function GO(){return{SheetNames:[],Sheets:{}}}function WO(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(_be(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function $we(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Bwe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function jwe(e,t){return e.z=t,e}function c$(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function zwe(e,t,n){return c$(e,"#"+t,n)}function Uwe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function Hwe(e,t,n,r){for(var a=typeof t!="string"?t:la(t),i=typeof t=="string"?t:Sn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=M1(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var Gwe={encode_col:Ha,encode_row:Ci,encode_cell:Kt,encode_range:Sn,decode_col:MO,decode_row:CO,split_cell:t1e,decode_cell:yo,decode_range:gp,format_cell:du,sheet_add_aoa:hB,sheet_add_json:l$,sheet_add_dom:r$,aoa_to_sheet:mp,json_to_sheet:Fwe,table_to_sheet:a$,table_to_book:owe,sheet_to_csv:s$,sheet_to_txt:Dwe,sheet_to_json:BA,sheet_to_html:iwe,sheet_to_formulae:Lwe,sheet_to_row_object_array:BA,sheet_get_cell:M1,book_new:GO,book_append_sheet:WO,book_set_sheet_visibility:$we,cell_set_number_format:jwe,cell_set_hyperlink:c$,cell_set_internal_link:zwe,cell_add_comment:Uwe,sheet_set_array_formula:Hwe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Vb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eE={exports:{}},vI;function Wwe(){return vI||(vI=1,function(e,t){(function(r,a){e.exports=a()})(window,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:s})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)a.d(s,l,(function(c){return i[c]}).bind(null,l));return s},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=0)}({"./src/index.js":function(n,r,a){a.r(r),a("./src/sass/index.scss");var i=a("./src/js/init.js"),o=i.default.init;typeof window<"u"&&(window.printJS=o),r.default=o},"./src/js/browser.js":function(n,r,a){a.r(r);var i={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!s.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};r.default=i},"./src/js/functions.js":function(n,r,a){a.r(r),a.d(r,"addWrapper",function(){return l}),a.d(r,"capitalizePrint",function(){return c}),a.d(r,"collectStyles",function(){return u}),a.d(r,"addHeader",function(){return d}),a.d(r,"cleanUp",function(){return h}),a.d(r,"isRawHTML",function(){return p});var i=a("./src/js/modal.js"),o=a("./src/js/browser.js");function s(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(m){return typeof m}:s=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(v)}function l(v,g){var m="font-family:"+g.font+" !important; font-size: "+g.font_size+" !important; width:100%;";return'<div style="'+m+'">'+v+"</div>"}function c(v){return v.charAt(0).toUpperCase()+v.slice(1)}function u(v,g){for(var m=document.defaultView||window,y="",x=m.getComputedStyle(v,""),b=0;b<x.length;b++)(g.targetStyles.indexOf("*")!==-1||g.targetStyle.indexOf(x[b])!==-1||f(g.targetStyles,x[b]))&&x.getPropertyValue(x[b])&&(y+=x[b]+":"+x.getPropertyValue(x[b])+";");return y+="max-width: "+g.maxWidth+"px !important; font-size: "+g.font_size+" !important;",y}function f(v,g){for(var m=0;m<v.length;m++)if(s(g)==="object"&&g.indexOf(v[m])!==-1)return!0;return!1}function d(v,g){var m=document.createElement("div");if(p(g.header))m.innerHTML=g.header;else{var y=document.createElement("h1"),x=document.createTextNode(g.header);y.appendChild(x),y.setAttribute("style",g.headerStyle),m.appendChild(y)}v.insertBefore(m,v.childNodes[0])}function h(v){v.showModal&&i.default.close(),v.onLoadingEnd&&v.onLoadingEnd(),(v.showModal||v.onLoadingStart)&&window.URL.revokeObjectURL(v.printable);var g="mouseover";(o.default.isChrome()||o.default.isFirefox())&&(g="focus");var m=function y(){window.removeEventListener(g,y),v.onPrintDialogClose();var x=document.getElementById(v.frameId);x&&x.remove()};window.addEventListener(g,m)}function p(v){var g=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return g.test(v)}},"./src/js/html.js":function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js");function s(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(d){return typeof d}:s=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(u)}r.default={print:function(f,d){var h=c(f.printable)?f.printable:document.getElementById(f.printable);if(!h){window.console.error("Invalid HTML element id: "+f.printable);return}f.printableElement=l(h,f),f.header&&Object(i.addHeader)(f.printableElement,f),o.default.send(f,d)}};function l(u,f){for(var d=u.cloneNode(),h=Array.prototype.slice.call(u.childNodes),p=0;p<h.length;p++)if(f.ignoreElements.indexOf(h[p].id)===-1){var v=l(h[p],f);d.appendChild(v)}switch(f.scanStyles&&u.nodeType===1&&d.setAttribute("style",Object(i.collectStyles)(u,f)),u.tagName){case"SELECT":d.value=u.value;break;case"CANVAS":d.getContext("2d").drawImage(u,0,0);break}return d}function c(u){return s(u)==="object"&&u&&(u instanceof HTMLElement||u.nodeType===1)}},"./src/js/image.js":function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js"),s=a("./src/js/browser.js");r.default={print:function(c,u){c.printable.constructor!==Array&&(c.printable=[c.printable]),c.printableElement=document.createElement("div"),c.printable.forEach(function(f){var d=document.createElement("img");if(d.setAttribute("style",c.imageStyle),d.src=f,s.default.isFirefox()){var h=d.src;d.src=h}var p=document.createElement("div");p.appendChild(d),c.printableElement.appendChild(p)}),c.header&&Object(i.addHeader)(c.printableElement,c),o.default.send(c,u)}}},"./src/js/init.js":function(n,r,a){a.r(r);var i=a("./src/js/browser.js"),o=a("./src/js/modal.js"),s=a("./src/js/pdf.js"),l=a("./src/js/html.js"),c=a("./src/js/raw-html.js"),u=a("./src/js/image.js"),f=a("./src/js/json.js");function d(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(g){return typeof g}:d=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(p)}var h=["pdf","html","image","json","raw-html"];r.default={init:function(){var v={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(_){throw _},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},g=arguments[0];if(g===void 0)throw new Error("printJS expects at least 1 attribute.");switch(d(g)){case"string":v.printable=encodeURI(g),v.fallbackPrintable=v.printable,v.type=arguments[1]||v.type;break;case"object":v.printable=g.printable,v.fallbackPrintable=typeof g.fallbackPrintable<"u"?g.fallbackPrintable:v.printable,v.fallbackPrintable=v.base64?"data:application/pdf;base64,".concat(v.fallbackPrintable):v.fallbackPrintable;for(var m in v)m==="printable"||m==="fallbackPrintable"||(v[m]=typeof g[m]<"u"?g[m]:v[m]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+d(g))}if(!v.printable)throw new Error("Missing printable information.");if(!v.type||typeof v.type!="string"||h.indexOf(v.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");v.showModal&&o.default.show(v),v.onLoadingStart&&v.onLoadingStart();var y=document.getElementById(v.frameId);y&&y.parentNode.removeChild(y);var x=document.createElement("iframe");switch(i.default.isFirefox()?x.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):x.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),x.setAttribute("id",v.frameId),v.type!=="pdf"&&(x.srcdoc="<html><head><title>"+v.documentTitle+"</title>",v.css&&(Array.isArray(v.css)||(v.css=[v.css]),v.css.forEach(function(E){x.srcdoc+='<link rel="stylesheet" href="'+E+'">'})),x.srcdoc+="</head><body></body></html>"),v.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var b=window.open(v.fallbackPrintable,"_blank");b.focus(),v.onIncompatibleBrowser()}catch(E){v.onError(E)}finally{v.showModal&&o.default.close(),v.onLoadingEnd&&v.onLoadingEnd()}else s.default.print(v,x);break;case"image":u.default.print(v,x);break;case"html":l.default.print(v,x);break;case"raw-html":c.default.print(v,x);break;case"json":f.default.print(v,x);break}}}},"./src/js/json.js":function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js");function s(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(f){return typeof f}:s=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(c)}r.default={print:function(u,f){if(s(u.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof u.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!u.properties||!Array.isArray(u.properties))throw new Error("Invalid properties array for your JSON data.");u.properties=u.properties.map(function(d){return{field:s(d)==="object"?d.field:d,displayName:s(d)==="object"?d.displayName:d,columnSize:s(d)==="object"&&d.columnSize?d.columnSize+";":100/u.properties.length+"%;"}}),u.printableElement=document.createElement("div"),u.header&&Object(i.addHeader)(u.printableElement,u),u.printableElement.innerHTML+=l(u),o.default.send(u,f)}};function l(c){var u=c.printable,f=c.properties,d='<table style="border-collapse: collapse; width: 100%;">';c.repeatTableHeader&&(d+="<thead>"),d+="<tr>";for(var h=0;h<f.length;h++)d+='<th style="width:'+f[h].columnSize+";"+c.gridHeaderStyle+'">'+Object(i.capitalizePrint)(f[h].displayName)+"</th>";d+="</tr>",c.repeatTableHeader&&(d+="</thead>"),d+="<tbody>";for(var p=0;p<u.length;p++){d+="<tr>";for(var v=0;v<f.length;v++){var g=u[p],m=f[v].field.split(".");if(m.length>1)for(var y=0;y<m.length;y++)g=g[m[y]];else g=g[f[v].field];d+='<td style="width:'+f[v].columnSize+c.gridStyle+'">'+g+"</td>"}d+="</tr>"}return d+="</tbody></table>",d}},"./src/js/modal.js":function(n,r,a){a.r(r);var i={show:function(s){var l="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",c=document.createElement("div");c.setAttribute("style",l),c.setAttribute("id","printJS-Modal");var u=document.createElement("div");u.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var f=document.createElement("div");f.setAttribute("class","printClose"),f.setAttribute("id","printClose"),u.appendChild(f);var d=document.createElement("span");d.setAttribute("class","printSpinner"),u.appendChild(d);var h=document.createTextNode(s.modalMessage);u.appendChild(h),c.appendChild(u),document.getElementsByTagName("body")[0].appendChild(c),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var s=document.getElementById("printJS-Modal");s&&s.parentNode.removeChild(s)}};r.default=i},"./src/js/pdf.js":function(n,r,a){a.r(r);var i=a("./src/js/print.js"),o=a("./src/js/functions.js");r.default={print:function(c,u){if(c.base64){var f=Uint8Array.from(atob(c.printable),function(h){return h.charCodeAt(0)});s(c,u,f);return}c.printable=/^(blob|http|\/\/)/i.test(c.printable)?c.printable:window.location.origin+(c.printable.charAt(0)!=="/"?"/"+c.printable:c.printable);var d=new window.XMLHttpRequest;d.responseType="arraybuffer",d.addEventListener("error",function(){Object(o.cleanUp)(c),c.onError(d.statusText,d)}),d.addEventListener("load",function(){if([200,201].indexOf(d.status)===-1){Object(o.cleanUp)(c),c.onError(d.statusText,d);return}s(c,u,d.response)}),d.open("GET",c.printable,!0),d.send()}};function s(l,c,u){var f=new window.Blob([u],{type:"application/pdf"});f=window.URL.createObjectURL(f),c.setAttribute("src",f),i.default.send(l,c)}},"./src/js/print.js":function(n,r,a){a.r(r);var i=a("./src/js/browser.js"),o=a("./src/js/functions.js"),s={send:function(d,h){document.getElementsByTagName("body")[0].appendChild(h);var p=document.getElementById(d.frameId);p.onload=function(){if(d.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return l(p,d)},1e3):l(p,d);return}var v=p.contentWindow||p.contentDocument;if(v.document&&(v=v.document),v.body.appendChild(d.printableElement),d.type!=="pdf"&&d.style){var g=document.createElement("style");g.innerHTML=d.style,v.head.appendChild(g)}var m=v.getElementsByTagName("img");m.length>0?c(Array.from(m)).then(function(){return l(p,d)}):l(p,d)}}};function l(f,d){try{if(f.focus(),i.default.isEdge()||i.default.isIE())try{f.contentWindow.document.execCommand("print",!1,null)}catch{f.contentWindow.print()}else f.contentWindow.print()}catch(h){d.onError(h)}finally{i.default.isFirefox()&&(f.style.visibility="hidden",f.style.left="-1px"),Object(o.cleanUp)(d)}}function c(f){var d=f.map(function(h){if(h.src&&h.src!==window.location.href)return u(h)});return Promise.all(d)}function u(f){return new Promise(function(d){var h=function p(){!f||typeof f.naturalWidth>"u"||f.naturalWidth===0||!f.complete?setTimeout(p,500):d()};h()})}r.default=s},"./src/js/raw-html.js":function(n,r,a){a.r(r);var i=a("./src/js/print.js");r.default={print:function(s,l){s.printableElement=document.createElement("div"),s.printableElement.setAttribute("style","width:100%"),s.printableElement.innerHTML=s.printable,i.default.send(s,l)}}},"./src/sass/index.scss":function(n,r,a){},0:function(n,r,a){n.exports=a("./src/index.js")}}).default})}(eE)),eE.exports}var Vwe=Wwe();const Ywe=Vb(Vwe),Xwe={class:"wm-print_left scrollbar"},qwe={class:"search"},Kwe={class:"template"},Zwe=["onClick"],Qwe={class:"info"},Jwe={class:"wm-print_right"},e_e={class:"wm-print_right_top flex"},t_e={class:"tools flex"},n_e={class:"wm-print_right_ct"},r_e={ref:"printBarcode",class:"print_body flex_left"},a_e=["onClick"],i_e={class:"body"},o_e=["src","alt"],s_e={class:"sku_id"},l_e={class:"properties_value"},c_e={class:"sale_price"},u_e={class:"body"},f_e=["src","alt"],d_e=["src","alt"],h_e={class:"sku_id"},p_e={class:"properties_value"},v_e={class:"sale_price"},g_e={class:"body"},m_e=["src","alt"],y_e={class:"sku_id"},x_e={class:"properties_value"},b_e={class:"sale_price"},w_e=ln({__name:"Prints",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=Gs(),a=t,o=Rl().state,s=Ce(""),l=Ce(""),c=Ce({active:"rlscb",checked:!1,num:0,sku:[],template:{rlscb_sz:{display:!0,label:"瑞丽市场部(手镯)",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"},rlscb_qr:{display:!0,label:"瑞丽市场部(二维码)",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"},pzscb_sz:{display:!0,label:"平洲市场部(标签)",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"}}});sn(()=>n.show,w=>{if(w){r.$refs.GoodsPrint.style.opacity="1";const A=Kn.getItem("printTemplate");if(c.value.active=A||"pzscb_sz",qc.addEvent("resize",m),qc.observer(r.$refs.printBarcode,S=>{x(),m()}),o.print.sku.length>0){let S=[];c.value.sku=[];for(let k of o.print.sku)k.checked=!0,k.barcode="",S.push(k.sku_id),c.value.sku.push(k);o.print.sku=[],h(S)}}else qc.removeEvent("resize",m)});const u=()=>{let w=c.value.template;const A=new RegExp(s.value.toLowerCase());for(let S in w)w[S].display=s.value?A.test(w[S].label):!0},f=w=>{c.value.active=w,Kn.setItem("printTemplate",w),m()},d=()=>{if(!l.value)return St.Toast(o.langs.sku_id);const w=l.value.trim().toUpperCase().split(" ");for(let A in w)w[A]=kA.LTrim(w[A],"0");h(w),l.value=""},h=w=>{for(let A of w)p(A)||c.value.sku.push({checked:!1,sku_id:A,barcode:""});Br.Post("erp_goods/barcode?lang="+o.lang,{token:o.token,sku:w},A=>{const{code:S,msg:k,data:T}=A.data;if(S==0)for(let O in T)v(O,T[O]);else St.Toast(k)})},p=w=>{for(let A of c.value.sku)if(A.sku_id==w)return!0;return!1},v=(w,A)=>{for(let S of c.value.sku)if(S.sku_id==w)return S.barcode=A.barcode,S.qrcode||(S.qrcode=A.qrcode),S.name||(S.name=A.name),S.short_name||(S.short_name=A.short_name),S.properties_value||(S.properties_value=A.properties_value),S.purchase_price||(S.purchase_price=A.purchase_price),S.sale_price||(S.sale_price=A.sale_price),S.market_price||(S.market_price=A.market_price),S.unit||(S.unit=A.unit),S.weight||(S.weight=A.weight),S.ratio||(S.ratio=A.ratio),S.brand||(S.brand=A.brand),S.owner||(S.owner=A.owner),S.i_id||(S.i_id=A.i_id),A.is_goods?S.checked=!0:(S.checked=!1,St.Toast("[ "+w+" ]无商品资料")),!0;return!1},g=()=>{ti.Select({mimeType:[]},w=>{ti.FileToBase64(w,A=>{const S=FA(A,{type:"binary"}),k=S.SheetNames[0],T=Gwe.sheet_to_json(S.Sheets[k],{raw:!1});let O=[],C={},M="";c.value.sku=[];for(let R of T)R.商品编码&&(M=R.商品编码.trim().toUpperCase(),O.push(M),C={checked:!1,sku_id:M,barcode:""},R.暗码&&(C.short_name=R.暗码),R.颜色及规格&&(C.short_name=R.颜色及规格),R.基本售价&&(C.sale_price=R.基本售价),R.吊牌价&&(C.market_price=R.吊牌价),c.value.sku.push(C));O.length>0&&h(O)},"blob")})},m=()=>{if(c.value.sku.length<1)return St.Toast(o.langs.sku_id);let w=r.$refs.printBarcode,A=document.getElementsByClassName("print_item"),S=document.getElementsByClassName("print_box")[0],k=parseFloat(qc.getPropertyValue(w,"width").replace("px","")),T=parseFloat(qc.getPropertyValue(S,"width").replace("px",""));const O=Math.ceil(k/T)-(k<768?1:2);for(let C of A)C.style.width="calc(100% / "+O+")"},y=()=>{const w=!c.value.checked;for(let A of c.value.sku)A.checked=w;c.value.checked=w},x=()=>{let w=0;for(let A of c.value.sku)A.checked&&w++;c.value.num=w},b=()=>{if(c.value.num<1)return St.Toast(o.langs.select);Br.Post("erp_goods/barcode_print?lang="+o.lang,{token:o.token,template:c.value.active,num:c.value.num},A=>{A.data});let w=document.getElementsByClassName("print_item");for(let A of w)A.style.width="100%";Hn(()=>{Ywe({printable:r.$refs.printBarcode,type:"html",scanStyles:!1,css:"/print/barcode.css?t="+Li.Time()})})},E=()=>{c.value.sku=[]},_=()=>{a("update:show",!1),r.$refs.GoodsPrint.style.opacity="0"};return(w,A)=>(Z(),ne("div",{ref:"GoodsPrint",class:"wm-print_body flex",style:We({visibility:e.show?"inherit":"hidden"})},[Y("div",Xwe,[Y("div",qwe,[mt(Ps,{value:s.value,"onUpdate:value":A[0]||(A[0]=S=>s.value=S),onInput:A[1]||(A[1]=S=>u()),onIconClick:A[2]||(A[2]=S=>u()),placeholder:J(o).langs.print_template,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value","placeholder"])]),Y("ul",Kwe,[(Z(!0),ne(Ve,null,Ft(c.value.template,(S,k)=>(Z(),ne(Ve,{key:k},[S.display?(Z(),ne("li",{key:0,class:Qe(k==c.value.active?"active":""),onClick:T=>f(k)},[Y("h2",null,be(S.label),1),Y("div",Qwe,be(S.info),1),A[11]||(A[11]=Y("i",{class:"ui ui_arrow_right"},null,-1))],10,Zwe)):ye("",!0)],64))),128))])]),Y("div",Jwe,[Y("div",e_e,[Y("ul",t_e,[Y("li",{class:"an",onClick:A[3]||(A[3]=S=>y())},"全选/全不选"),Y("li",null,[mt(Ps,{value:l.value,"onUpdate:value":A[4]||(A[4]=S=>l.value=S),onKeyup:A[5]||(A[5]=nu(S=>d(),["enter"])),onIconClick:A[6]||(A[6]=S=>d()),placeholder:"商品编码, 多条空格分离",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value"])]),Y("li",null,[mt(eh,{effect:"dark",height:"40px",onClick:A[7]||(A[7]=S=>b()),disabled:c.value.num==0},{default:ht(()=>[Jt(be(J(o).langs.print)+"( "+be(c.value.num)+" )",1)]),_:1},8,["disabled"])]),Y("li",{class:"an",onClick:A[8]||(A[8]=S=>g())},"导入文件"),Y("li",{class:"clear",onClick:A[9]||(A[9]=S=>E())},"清空")]),Y("div",{class:"close",onClick:A[10]||(A[10]=S=>_())},A[12]||(A[12]=[Y("i",{class:"ui ui_close"},null,-1)]))]),Y("div",n_e,[Y("div",r_e,[(Z(!0),ne(Ve,null,Ft(c.value.sku,(S,k)=>(Z(),ne("div",{class:Qe(["print_item",S.checked?"":"none"]),key:k,onClick:T=>{S.checked=!S.checked,x()}},[c.value.active=="rlscb_sz"?(Z(),ne("div",{key:0,class:Qe([c.value.active,"print_box"]),style:We({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[Y("div",{class:Qe(["select",S.checked?"checked":""])},null,2),Y("div",i_e,[Y("div",{class:"barcode",style:We({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"36px"}},null,8,o_e)):ye("",!0)],4),Y("div",s_e,be(S.sku_id),1),Y("div",l_e,be(S.properties_value||"-"),1),Y("div",c_e,"￥"+be(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0),c.value.active=="rlscb_qr"?(Z(),ne("div",{key:1,class:Qe([c.value.active,"print_box"]),style:We({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[Y("div",{class:Qe(["select",S.checked?"checked":""])},null,2),Y("div",u_e,[Y("div",{class:"qrcode",style:We({backgroundColor:S.qrcode?"":"#F2F4F8"})},[S.qrcode?(Z(),ne("img",{key:0,src:S.qrcode,alt:S.sku_id,style:{height:"36px"}},null,8,f_e)):ye("",!0)],4),Y("div",{class:"barcode",style:We({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"32px"}},null,8,d_e)):ye("",!0)],4),Y("div",h_e,be(S.sku_id),1),Y("div",p_e,be(S.properties_value||"-"),1),Y("div",v_e,"￥"+be(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0),c.value.active=="pzscb_sz"?(Z(),ne("div",{key:2,class:Qe([c.value.active,"print_box"]),style:We({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[Y("div",{class:Qe(["select",S.checked?"checked":""])},null,2),Y("div",g_e,[Y("div",{class:"barcode",style:We({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"32px"}},null,8,m_e)):ye("",!0)],4),Y("div",y_e,be(S.sku_id),1),Y("div",x_e,be(S.properties_value||"-"),1),Y("div",b_e,"￥"+be(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0)],10,a_e))),128))],512)])])],4))}}),__e=fi(w_e,[["__scopeId","data-v-72be1203"]]),E_e={class:"app_main flex"},S_e={class:"menus_body flex"},A_e={class:"menus_left"},k_e={class:"m1"},T_e={key:0,class:"m2"},O_e=["onClick"],C_e={key:1,class:"null"},M_e={class:"m1"},P_e={class:"m2"},I_e={style:{paddingLeft:""}},R_e={style:{paddingLeft:""}},N_e={class:"menus_right"},D_e={class:"m_top flex"},L_e={class:"search"},F_e=["placeholder"],B_e={class:"menus_ct scrollbar"},$_e={key:0,class:"null center"},j_e={key:1},z_e={key:0},U_e={class:"title"},H_e=["onClick"],G_e={class:"app_logo flex"},W_e={key:0,class:"logo_text"},V_e={key:0,class:"app_search"},Y_e=["placeholder"],X_e={key:0,class:"null center"},q_e={key:1,class:"m2"},K_e=["onClick"],Z_e={key:0,class:"m"},Q_e=["title"],J_e=["onClick"],eEe={key:0,class:"m2"},tEe=["onClick"],nEe={class:"app_copy"},rEe={class:"app_user_info scrollbar"},aEe={class:"img_load"},iEe={key:0,class:"ui ui_image"},oEe={class:"user"},sEe={class:"info"},lEe={class:"flex"},cEe={class:"name"},uEe={class:"value"},fEe={class:"flex"},dEe={class:"name"},hEe={class:"value"},pEe={class:"flex"},vEe={class:"name"},gEe={class:"value"},mEe={class:"flex"},yEe={class:"name"},xEe={class:"value"},bEe={class:"tools"},wEe={class:"app_tabs_body flex"},_Ee={class:"app_tabs flex_left"},EEe=["onClick"],SEe=["onClick"],AEe={class:"app_tools flex"},kEe={key:0,class:"redNum"},TEe={key:0,class:"ui ui_user"},OEe={class:"app_body"},CEe=ln({__name:"App",emits:["update:show","close"],setup(e,{emit:t}){const n=Ce(),a=Rl().state,i=gte(),o=KF(),s=wl.title+" "+wl.version,l=wl.copy,c=Ce(!1),u=Ce(!1),f=Ce(!1),d=Ce({active:"/",list:[]}),h=Ce({key:"",list:[],seaList:[],tmpList:[]}),p=Ce(!0);sn(()=>a.isLogin,_=>{_&&v()},{deep:!0}),sn(()=>i.path,_=>{a.isLogin&&(d.value.active=_,v())},{deep:!0}),Wn(()=>{d.value.active=i.path,p.value=!!Kn.getItem("IsMenus")});const v=()=>{Br.Post("sys_menus/get_menus_perm",{token:a.token},_=>{const{code:w,msg:A,data:S}=_.data;if(w==0){h.value.list=S;const k=Kn.getItem("MenusTabs")||"";d.value.list=k?JSON.parse(k):[];const T=Kn.getItem("MenusTmp");h.value.tmpList.value=T?JSON.parse(T):[];let O="";for(let C of S)if(C.children){for(let M of C.children)if(M.children){for(let R of M.children)if(R.value.url==d.value.active){O=R.langs[a.lang];break}}}O&&d.value.active&&y(O,d.value.active)}else St.Toast(A)})},g=()=>{p.value?(p.value=!1,Kn.setItem("IsMenus","")):(p.value=!0,Kn.setItem("IsMenus","1"))},m=()=>{const _=h.value.key,w=new RegExp(_.toLowerCase()),A=h.value.list;let S,k,T,O,C=[];h.value.seaList=[];for(const M in A)if(A[M].children){for(const R in A[M].children)if(A[M].children[R].children)for(const I in A[M].children[R].children)_.length>0?(S=A[M].children[R].children[I],k=S.langs[a.lang].toLowerCase(),T=S.en.toLowerCase(),O=w.test(k)||w.test(T),O&&(C.push([M,R]),h.value.seaList.push({label:S.langs[a.lang],icon:S.icon,url:S.value.url}))):O=!0,A[M].children[R].display=!0,A[M].children[R].children[I].display=O}if(_){for(const M in A)if(A[M].children)for(const R in A[M].children){let I=!1;for(const P in C)if(C[P][0]==M&&C[P][1]==R){I=!0;continue}A[M].children[R].display=I}}},y=(_,w,A=!1)=>{if(h.value.list.length==0)return;if(A&&(f.value=!1,c.value=!1),w!="/"){let M=!1;const R=d.value.list;for(const I in R)if(R[I].url==w){M=!0;break}M||d.value.list.push({name:_,url:w}),Kn.setItem("MenusTabs",JSON.stringify(d.value.list))}const S=h.value.list;let k={},T,O=[];for(const M in S)if(S[M].children){for(const R in S[M].children)if(S[M].children[R].children){for(const I in S[M].children[R].children)if(k=S[M].children[R].children[I],k.value.url==w){T={label:k.langs[a.lang],icon:k.icon,url:k.value.url},O=k.value.action;break}}}if(T){k=Kn.getItem("MenusTmp"),k=k?JSON.parse(k):[];for(let M in k)(k[M].url==w||parseInt(M)>=9)&&k.splice(M,1);k.unshift(T),h.value.tmpList=k,Kn.setItem("MenusTmp",JSON.stringify(k))}if(O&&(a.menusAction=O),o.resolve(w).matched.length>0)o.push({path:w});else return St.Toast("该页面不存在!")},x=_=>{const w=d.value.list;for(const A in w)if(w[A].url==_){if(w.splice(A,1),d.value.active==_){let S=parseInt(A)-1;S<0?y(a.langs.home,"/"):y(w[S.toString()].name,w[S.toString()].url)}break}Kn.setItem("MenusTabs",JSON.stringify(d.value.list))},b=()=>{ti.Select({},_=>{ti.FileToBase64(_,w=>{ti.ImageCompress(w,{width:200,height:200,type:_.type},A=>{Br.Post("user/upimg",{token:a.token,base64:A},S=>{const k=S.data;return k.code==0&&n.value.verifyToken(!0),St.Toast(k.msg)})},A=>{St.Toast(A)})})},_=>{St.Toast(_)})},E=()=>{c.value=!1,f.value=!1,d.value.list=[],n.value.logout()};return(_,w)=>{const A=AQ("router-view");return Z(),ne(Ve,null,[mt(pre,{ref_key:"userLogin",ref:n,show:!J(a).isLogin},null,8,["show"]),J(a).isLogin?(Z(),zt(vre,{key:0})):ye("",!0),J(a).isLogin?(Z(),zt(Jse,{key:1,show:J(a).isUinfo,"onUpdate:show":w[0]||(w[0]=S=>J(a).isUinfo=S)},null,8,["show"])):ye("",!0),J(a).isLogin?(Z(),zt(ile,{key:2,show:J(a).isPasswd,"onUpdate:show":w[1]||(w[1]=S=>J(a).isPasswd=S)},null,8,["show"])):ye("",!0),J(a).isLogin?(Z(),zt(Sce,{key:3,show:u.value,"onUpdate:show":w[2]||(w[2]=S=>u.value=S)},null,8,["show"])):ye("",!0),J(a).isLogin?(Z(),zt(Upe,{key:4,show:J(a).goods.show,"onUpdate:show":w[3]||(w[3]=S=>J(a).goods.show=S)},null,8,["show"])):ye("",!0),J(a).isLogin?(Z(),zt(__e,{key:5,show:J(a).print.show,"onUpdate:show":w[4]||(w[4]=S=>J(a).print.show=S)},null,8,["show"])):ye("",!0),Y("div",E_e,[Y("div",{class:"app_menus_all",style:We({visibility:f.value&&J(a).isLogin?"inherit":"hidden"})},[mt(x1,{height:"100%",width:"900px",show:f.value,"onUpdate:show":w[10]||(w[10]=S=>f.value=S),position:"left",bgColor:"#FFF",time:600},{default:ht(()=>[Y("div",S_e,[Y("div",A_e,[Y("div",k_e,be(J(a).langs.menus_recent),1),h.value.tmpList.length>0?(Z(),ne("ul",T_e,[(Z(!0),ne(Ve,null,Ft(h.value.tmpList,(S,k)=>(Z(),ne("li",{class:"flex_left",key:k,onClick:T=>y(S.label,S.url,!0)},[S.icon?(Z(),ne("i",{key:0,class:Qe(S.icon)},null,2)):ye("",!0),Y("span",{style:We({paddingLeft:S.icon?"":"8px"})},be(S.label),5)],8,O_e))),128))])):(Z(),ne("div",C_e)),Y("div",M_e,be(J(a).langs.menus_recommend),1),Y("ul",P_e,[Y("li",{class:"flex_left",onClick:w[5]||(w[5]=S=>J(a).isUinfo=!0)},[w[26]||(w[26]=Y("i",{class:"ui ui_user"},null,-1)),Y("span",I_e,be(J(a).langs.uinfo_title),1)]),Y("li",{class:"flex_left",onClick:w[6]||(w[6]=S=>J(a).isPasswd=!0)},[w[27]||(w[27]=Y("i",{class:"ui ui_safety"},null,-1)),Y("span",R_e,be(J(a).langs.passwd_title),1)])])]),Y("div",N_e,[Y("div",D_e,[Y("div",L_e,[w[28]||(w[28]=Y("i",{class:"ui ui_search"},null,-1)),bl(Y("input",{type:"text",class:"input","onUpdate:modelValue":w[7]||(w[7]=S=>h.value.key=S),onInput:w[8]||(w[8]=S=>m()),placeholder:J(a).langs.menus_placeholder},null,40,F_e),[[dd,h.value.key]])]),Y("i",{class:"ui ui_close",onClick:w[9]||(w[9]=S=>f.value=!1)})]),Y("div",B_e,[h.value.key&&h.value.seaList.length==0?(Z(),ne("div",$_e)):(Z(),ne("ul",j_e,[(Z(!0),ne(Ve,null,Ft(h.value.list,(S,k)=>(Z(),ne(Ve,{key:k},[S.children?(Z(!0),ne(Ve,{key:0},Ft(S.children,(T,O)=>(Z(),ne(Ve,{key:O},[T.children&&(T.display||typeof T.display>"u")?(Z(),ne("li",z_e,[Y("div",U_e,be(T.langs[J(a).lang]),1),(Z(!0),ne(Ve,null,Ft(T.children,(C,M)=>(Z(),ne(Ve,{key:M},[C.display||typeof C.display>"u"?(Z(),ne("div",{key:0,class:Qe(["m flex_left",d.value.active==C.value.url?"active":""]),onClick:R=>y(C.langs[J(a).lang],C.value.url,!0)},[C.icon?(Z(),ne("i",{key:0,class:Qe(C.icon)},null,2)):ye("",!0),Y("span",{style:We({paddingLeft:C.icon?"":"10px"})},be(C.langs[J(a).lang]),5)],10,H_e)):ye("",!0)],64))),128))])):ye("",!0)],64))),128)):ye("",!0)],64))),128))]))])])])]),_:1},8,["show"])],4),Y("div",{class:"app_left",style:We({width:p.value?"240px":"56px"})},[Y("div",{class:"app_on",onClick:w[11]||(w[11]=S=>g())},[Y("i",{class:Qe(["ui",p.value?"ui_arrow_left":"ui_arrow_right"])},null,2)]),Y("div",G_e,[Y("div",{class:"logo",title:s,onClick:w[12]||(w[12]=S=>{f.value=!f.value,c.value=!1})}),p.value?(Z(),ne("div",W_e,be(s))):ye("",!0)]),p.value?(Z(),ne("div",V_e,[w[29]||(w[29]=Y("i",{class:"ui ui_search"},null,-1)),bl(Y("input",{type:"text",class:"input","onUpdate:modelValue":w[13]||(w[13]=S=>h.value.key=S),onInput:w[14]||(w[14]=S=>m()),placeholder:J(a).langs.menus_placeholder},null,40,Y_e),[[dd,h.value.key]])])):ye("",!0),Y("div",{class:"app_menus scrollbar",style:We({height:"calc(100% - "+(p.value?"152px":"98px")+")"})},[h.value.key&&h.value.seaList.length==0?(Z(),ne("div",X_e)):h.value.key&&h.value.seaList.length>0&&p.value?(Z(),ne("ul",q_e,[(Z(!0),ne(Ve,null,Ft(h.value.seaList,(S,k)=>(Z(),ne("li",{class:Qe(["flex_left",d.value.active==S.url?"active":""]),key:k,onClick:T=>y(S.label,S.url)},[S.icon?(Z(),ne("i",{key:0,class:Qe(S.icon)},null,2)):ye("",!0),Y("span",{style:We({paddingLeft:S.icon?"":"16px"})},be(S.label),5)],10,K_e))),128))])):(Z(!0),ne(Ve,{key:2},Ft(h.value.list,(S,k)=>(Z(),ne(Ve,{key:k},[p.value?ye("",!0):(Z(),ne("div",Z_e,[Y("i",{class:Qe(S.icon),title:S.langs[J(a).lang],onClick:w[15]||(w[15]=T=>{f.value=!f.value,c.value=!1})},null,10,Q_e)])),S.children&&p.value?(Z(!0),ne(Ve,{key:1},Ft(S.children,(T,O)=>(Z(),ne(Ve,{key:O},[Y("div",{class:"m1 flex",onClick:C=>T.show=!T.show},[Y("span",null,be(T.langs[J(a).lang]),1),Y("i",{class:"ui ui_arrow_up",style:We({transform:T.show?"rotate(0deg)":"rotate(180deg)"})},null,4)],8,J_e),T.children&&T.show?(Z(),ne("ul",eEe,[(Z(!0),ne(Ve,null,Ft(T.children,(C,M)=>(Z(),ne("li",{class:Qe(["flex_left",d.value.active==C.value.url?"active":""]),key:M,onClick:R=>y(C.langs[J(a).lang],C.value.url)},[C.icon?(Z(),ne("i",{key:0,class:Qe(C.icon)},null,2)):ye("",!0),Y("span",{style:We({paddingLeft:C.icon?"":"16px"})},be(C.langs[J(a).lang]),5)],10,tEe))),128))])):ye("",!0)],64))),128)):ye("",!0)],64))),128))],4),Y("div",nEe,be(J(l)),1)],4),Y("div",{class:"app_right",style:We({width:p.value?"calc(100% - 240px)":"calc(100% - 56px)"})},[Y("div",{class:"app_user_info_body",style:We({visibility:c.value&&J(a).isLogin?"inherit":"hidden"})},[mt(x1,{height:"100%",width:"360px",show:c.value,"onUpdate:show":w[20]||(w[20]=S=>c.value=S),position:"right",bgColor:"#FFF"},{default:ht(()=>[Y("div",rEe,[Y("div",{class:"img",style:We({backgroundImage:J(a).uinfo.img?"url("+J(a).uinfo.img+")":"none"}),onClick:w[16]||(w[16]=S=>b())},[Y("div",aEe,be(J(a).langs.uinfo_img),1),J(a).uinfo.img?ye("",!0):(Z(),ne("i",iEe))],4),Y("div",oEe,[Y("h2",null,be(J(a).uinfo.uname||"-"),1),Y("p",null,"ID: "+be(J(a).uinfo.uid||"-"),1)]),Y("ul",sEe,[Y("li",lEe,[Y("span",cEe,be(J(a).langs.uinfo_nickname),1),Y("span",uEe,be(J(a).uinfo.nickname||"-"),1)]),Y("li",fEe,[Y("span",dEe,be(J(a).langs.uinfo_department),1),Y("span",hEe,be(J(a).uinfo.department||"-"),1)]),Y("li",pEe,[Y("span",vEe,be(J(a).langs.uinfo_position),1),Y("span",gEe,be(J(a).uinfo.position||"-"),1)]),Y("li",mEe,[Y("span",yEe,be(J(a).langs.uinfo_name),1),Y("span",xEe,be(J(a).uinfo.name||"-"),1)])]),Y("ul",bEe,[Y("li",{onClick:w[17]||(w[17]=S=>J(a).isUinfo=!0)},be(J(a).langs.uinfo_title),1),Y("li",{onClick:w[18]||(w[18]=S=>J(a).isPasswd=!0)},be(J(a).langs.passwd_title),1)])]),Y("div",{class:"app_user_close",onClick:w[19]||(w[19]=S=>E())},be(J(a).langs.logout),1)]),_:1},8,["show"])],4),Y("div",wEe,[Y("ul",_Ee,[Y("li",{class:Qe(["home",d.value.active=="/"?"active":""]),onClick:w[21]||(w[21]=S=>y(J(a).langs.home,"/"))},be(J(a).langs.home),3),(Z(!0),ne(Ve,null,Ft(d.value.list,(S,k)=>(Z(),ne("li",{key:k,onClick:T=>y(S.name,S.url),class:Qe(d.value.active==S.url?"active":"")},[Jt(be(S.name),1),Y("span",{class:"close",onClick:Ti(T=>x(S.url),["stop"])},w[30]||(w[30]=[Y("i",{class:"ui ui_close"},null,-1)]),8,SEe)],10,EEe))),128))]),Y("ul",AEe,[Y("li",{class:"goods",title:"货品查询",onClick:w[22]||(w[22]=S=>J(a).goods.show=!0)},w[31]||(w[31]=[Y("i",{class:"icons icon_stock1"},null,-1)])),Y("li",{class:"print",title:"打印标签",onClick:w[23]||(w[23]=S=>J(a).print.show=!0)},w[32]||(w[32]=[Y("i",{class:"icons icon_print"},null,-1)])),Y("li",{class:"msg",title:"消息",onClick:w[24]||(w[24]=S=>{u.value=!0,f.value=!1,c.value=!1})},[J(a).msg.num>0?(Z(),ne("span",kEe,be(J(a).msg.num),1)):ye("",!0),w[33]||(w[33]=Y("i",{class:"ui ui_message"},null,-1))]),Y("li",{class:"user",title:"用户信息",onClick:w[25]||(w[25]=S=>{c.value=!c.value,f.value=!1})},[!J(a).uinfo.img||c.value?(Z(),ne("i",TEe)):(Z(),ne("div",{key:1,class:"img",style:We({backgroundImage:"url("+J(a).uinfo.img+")"})},null,4))])])]),Y("div",OEe,[mt(A,null,{default:ht(({Component:S})=>[(Z(),zt(mQ,null,[(Z(),zt(mg(S),{key:_.$route.name}))],1024))]),_:1})])],4)])],64)}}}),MEe=dee({state:{lang:"",langs:{},isLogin:!1,isUinfo:!1,isPasswd:!1,token:"",uinfo:{},menusAction:[],socket:null,msg:{gid:"",fid:"",title:"",img:"",num:0,group:[],list:[],readId:0},print:{show:!1,sku:[]},goods:{show:!1,sku_id:"",photo:{refresh:!1,id:"",ctime:"",wms_co_id:"",list:[]}}},getters:{},mutations:{},actions:{},modules:{}}),PEe="modulepreload",IEe=function(e){return"/"+e},gI={},na=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(l=>{if(l=IEe(l),l in gI)return;gI[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":PEe,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},u$=()=>[["cartesian"]];u$.props={};function REe(e,t){return e=e%(2*Math.PI),t=t%(2*Math.PI),e<0&&(e=2*Math.PI+e),t<0&&(t=2*Math.PI+t),e>=t&&(t=t+2*Math.PI),{startAngle:e,endAngle:t}}const f$=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},t),e);return Object.assign(Object.assign({},n),REe(n.startAngle,n.endAngle))},Ig=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=f$(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,n,r,a]]};Ig.props={};const d$=({startAngle:e=0,endAngle:t=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,t,n,r]];d$.props={};const VO=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];VO.props={transform:!0};const NEe=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},h$=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=NEe(e);return[...VO(),...Ig({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};h$.props={};const p$=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},YO=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=p$(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Ig({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};YO.props={};const XO=()=>[["parallel",0,1,0,1]];XO.props={};const v$=({focusX:e=0,focusY:t=0,distortionX:n=2,distortionY:r=2,visual:a=!1})=>[["fisheye",e,t,n,r,a]];v$.props={transform:!0};const g$=e=>{const{startAngle:t=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:a=1}=e;return[...XO(),...Ig({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};g$.props={};const m$=({value:e})=>t=>t.map(()=>e);m$.props={};const y$=({value:e})=>t=>t.map(e);y$.props={};const x$=({value:e})=>t=>t.map(n=>n[e]);x$.props={};const b$=({value:e})=>()=>e;b$.props={};var Ih=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},DEe=function(e,t){if(!Ih(e))return e;for(var n=[],r=0;r<e.length;r++){var a=e[r];t(a,r)&&n.push(a)}return n};function ta(e){return typeof e=="function"}function lt(e){return e==null}function di(e){return Array.isArray(e)}const yp=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function qO(e,t){if(e){var n;if(di(e))for(var r=0,a=e.length;r<a&&(n=t(e[r],r),n!==!1);r++);else if(yp(e)){for(var i in e)if(e.hasOwnProperty(i)&&(n=t(e[i],i),n===!1))break}}}var w$=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return qO(e,function(n,r){ta(e)&&r==="prototype"||t.push(r)}),t};function LEe(e,t){var n=w$(t),r=n.length;if(lt(e))return!r;for(var a=0;a<r;a+=1){var i=n[a];if(t[i]!==e[i]||!(i in e))return!1}return!0}var $A=function(e){return typeof e=="object"&&e!==null},FEe={}.toString,_$=function(e,t){return FEe.call(e)==="[object "+t+"]"},hu=function(e){if(!$A(e)||!_$(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function Rh(e,t){if(!di(e))return null;var n;if(ta(t)&&(n=t),hu(t)&&(n=function(a){return LEe(a,t)}),n){for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r]}return null}var BEe=function(e){if(!di(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t};function Nh(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}const Dh=function(e){if(di(e))return e.reduce(function(t,n){return Math.min(t,n)},e[0])};var $Ee=function(e,t,n){if(!di(e)&&!hu(e))return e;var r=n;return qO(e,function(a,i){r=t(r,a,i)}),r};function In(e){return typeof e=="string"}function xp(e){if(Ih(e)){var t=e;return t[t.length-1]}}var An=function(e,t,n){return e<t?t:e>n?n:e};function kn(e){return typeof e=="number"}var jEe=1e-5;function pc(e,t,n){return n===void 0&&(n=jEe),e===t||Math.abs(e-t)<n}const zEe=function(e,t){if(di(e)){for(var n,r=-1/0,a=0;a<e.length;a++){var i=e[a],o=ta(t)?t(i):i[t];o>r&&(n=i,r=o)}return n}},UEe=function(e,t){if(di(e)){for(var n,r=1/0,a=0;a<e.length;a++){var i=e[a],o=ta(t)?t(i):i[t];o<r&&(n=i,r=o)}return n}};var Yb=function(e,t){return(e%t+t)%t};const E$=function(e){return lt(e)?"":e.toString()};var S$=function(e){var t=E$(e);return t.charAt(0).toLowerCase()+t.substring(1)};function HEe(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):t[r]===void 0?"":t[r]})}var bf=function(e){var t=E$(e);return t.charAt(0).toUpperCase()+t.substring(1)},Qx=function(e){return _$(e,"Boolean")};function GEe(e){return e===null}var Rt=function(e){return e===void 0};function WEe(e){return e instanceof Element||e instanceof Document}function mI(e,t){for(var n in t)t.hasOwnProperty(n)&&n!=="constructor"&&t[n]!==void 0&&(e[n]=t[n])}function VEe(e,t,n,r){return t&&mI(e,t),n&&mI(e,n),e}var P1=function(e){if(typeof e!="object"||e===null)return e;var t;if(di(e)){t=[];for(var n=0,r=e.length;n<r;n++)typeof e[n]=="object"&&e[n]!=null?t[n]=P1(e[n]):t[n]=e[n]}else{t={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?t[a]=P1(e[a]):t[a]=e[a]}return t};function A$(e,t,n){var r;return function(){var a=this,i=arguments,o=function(){r=null,e.apply(a,i)};clearTimeout(r),r=setTimeout(o,t)}}function YEe(e){var t,n,r,a=e;function i(s,l){++t>a&&(r=n,o(1),++t),n[s]=l}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:i(s,l)}}}var tE=new Map;function XEe(e,t,n){var r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var o=t?t.apply(this,a):a[0];tE.has(e)||tE.set(e,YEe(n));var s=tE.get(e);if(s.has(o))return s.get(o);var l=e.apply(this,a);return s.set(o,l),l};return r}var qEe=5;function KEe(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function k$(e,t,n,r){n=n||0,r=r||qEe;for(var a in t)if(KEe(t,a)){var i=t[a];i!==null&&hu(i)?(hu(e[a])||(e[a]={}),n<r?k$(e[a],i,n+1,r):e[a]=t[a]):di(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var Ie=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)k$(e,t[r]);return e},T$=function(e,t){if(!Ih(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,a=0;a<e.length;a++)if(e[a]===t){r=a;break}return r},Jx=function(e,t){if(e===t)return!0;if(!e||!t||In(e)||In(t))return!1;if(Ih(e)||Ih(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=Jx(e[r],t[r]),!!n);r++);return n}if($A(e)||$A(t)){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var n=!0,r=0;r<a.length&&(n=Jx(e[a[r]],t[a[r]]),!!n);r++);return n}return!1},ZEe=function(e){return e};const QEe=function(e,t){t===void 0&&(t=ZEe);var n={};return yp(e)&&!lt(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n},Pn=function(e,t,n){for(var r=0,a=In(t)?t.split("."):t;e&&r<a.length;)e=e[a[r++]];return e===void 0||r<a.length?n:e},O$=function(e,t,n){var r=e,a=In(t)?t.split("."):t;return a.forEach(function(i,o){o<a.length-1?(yp(r[i])||(r[i]=kn(a[o+1])?[]:{}),r=r[i]):r[i]=n}),e};var JEe=Object.prototype.hasOwnProperty;const eSe=function(e,t){if(e===null||!hu(e))return{};var n={};return qO(t,function(r){JEe.call(e,r)&&(n[r]=e[r])}),n},KO=function(e,t){return $Ee(e,function(n,r,a){return t.includes(a)||(n[a]=r),n},{})},Md=function(e,t,n){var r,a,i,o,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),r=null,o=e.apply(a,i),r||(a=i=null)},c=function(){var u=Date.now();!s&&n.leading===!1&&(s=u);var f=t-(u-s);return a=this,i=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),s=u,o=e.apply(a,i),r||(a=i=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(r),s=0,r=a=i=null},c},nE=function(){},Pd=function(e){return e};function e2(e){return lt(e)?0:Ih(e)?e.length:Object.keys(e).length}var Ar=1e-6,wa=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function a0(){var e=new wa(9);return wa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function C$(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function tSe(e){var t=new wa(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function M$(e,t,n,r,a,i,o,s,l){var c=new wa(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=l,c}function nSe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=u*o-s*c,d=-u*i+s*l,h=c*i-o*l,p=n*f+r*d+a*h;return p?(p=1/p,e[0]=f*p,e[1]=(-u*r+a*c)*p,e[2]=(s*r-a*o)*p,e[3]=d*p,e[4]=(u*n-a*l)*p,e[5]=(-s*n+a*i)*p,e[6]=h*p,e[7]=(-c*n+r*l)*p,e[8]=(o*n-r*i)*p,e):null}function rSe(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return e[0]=d*r+h*o+p*c,e[1]=d*a+h*s+p*u,e[2]=d*i+h*l+p*f,e[3]=v*r+g*o+m*c,e[4]=v*a+g*s+m*u,e[5]=v*i+g*l+m*f,e[6]=y*r+x*o+b*c,e[7]=y*a+x*s+b*u,e[8]=y*i+x*l+b*f,e}function aSe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function iSe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function oSe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var sSe=rSe;function Dt(){var e=new wa(16);return wa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Xb(e){var t=new wa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function pu(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function P$(e,t,n,r,a,i,o,s,l,c,u,f,d,h,p,v){var g=new wa(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a,g[5]=i,g[6]=o,g[7]=s,g[8]=l,g[9]=c,g[10]=u,g[11]=f,g[12]=d,g[13]=h,g[14]=p,g[15]=v,g}function I1(e,t,n,r,a,i,o,s,l,c,u,f,d,h,p,v,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e[8]=c,e[9]=u,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=g,e}function as(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ZO(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Ga(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*o,x=n*l-a*o,b=n*c-i*o,E=r*l-a*s,_=r*c-i*s,w=a*c-i*l,A=u*v-f*p,S=u*g-d*p,k=u*m-h*p,T=f*g-d*v,O=f*m-h*v,C=d*m-h*g,M=y*C-x*O+b*T+E*k-_*S+w*A;return M?(M=1/M,e[0]=(s*C-l*O+c*T)*M,e[1]=(a*O-r*C-i*T)*M,e[2]=(v*w-g*_+m*E)*M,e[3]=(d*_-f*w-h*E)*M,e[4]=(l*k-o*C-c*S)*M,e[5]=(n*C-a*k+i*S)*M,e[6]=(g*b-p*w-m*x)*M,e[7]=(u*w-d*b+h*x)*M,e[8]=(o*O-s*k+c*A)*M,e[9]=(r*k-n*O-i*A)*M,e[10]=(p*_-v*b+m*y)*M,e[11]=(f*b-u*_-h*y)*M,e[12]=(s*S-o*T-l*A)*M,e[13]=(n*T-r*S+a*A)*M,e[14]=(v*x-p*E-g*y)*M,e[15]=(u*E-f*x+d*y)*M,e):null}function lSe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15];return e[0]=s*(d*m-h*g)-f*(l*m-c*g)+v*(l*h-c*d),e[1]=-(r*(d*m-h*g)-f*(a*m-i*g)+v*(a*h-i*d)),e[2]=r*(l*m-c*g)-s*(a*m-i*g)+v*(a*c-i*l),e[3]=-(r*(l*h-c*d)-s*(a*h-i*d)+f*(a*c-i*l)),e[4]=-(o*(d*m-h*g)-u*(l*m-c*g)+p*(l*h-c*d)),e[5]=n*(d*m-h*g)-u*(a*m-i*g)+p*(a*h-i*d),e[6]=-(n*(l*m-c*g)-o*(a*m-i*g)+p*(a*c-i*l)),e[7]=n*(l*h-c*d)-o*(a*h-i*d)+u*(a*c-i*l),e[8]=o*(f*m-h*v)-u*(s*m-c*v)+p*(s*h-c*f),e[9]=-(n*(f*m-h*v)-u*(r*m-i*v)+p*(r*h-i*f)),e[10]=n*(s*m-c*v)-o*(r*m-i*v)+p*(r*c-i*s),e[11]=-(n*(s*h-c*f)-o*(r*h-i*f)+u*(r*c-i*s)),e[12]=-(o*(f*g-d*v)-u*(s*g-l*v)+p*(s*d-l*f)),e[13]=n*(f*g-d*v)-u*(r*g-a*v)+p*(r*d-a*f),e[14]=-(n*(s*g-l*v)-o*(r*g-a*v)+p*(r*l-a*s)),e[15]=n*(s*d-l*f)-o*(r*d-a*f)+u*(r*l-a*s),e}function QO(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],g=e[15],m=t*o-n*i,y=t*s-r*i,x=t*l-a*i,b=n*s-r*o,E=n*l-a*o,_=r*l-a*s,w=c*p-u*h,A=c*v-f*h,S=c*g-d*h,k=u*v-f*p,T=u*g-d*p,O=f*g-d*v;return m*O-y*T+x*k+b*S-E*A+_*w}function Ur(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],x=n[0],b=n[1],E=n[2],_=n[3];return e[0]=x*r+b*s+E*f+_*v,e[1]=x*a+b*l+E*d+_*g,e[2]=x*i+b*c+E*h+_*m,e[3]=x*o+b*u+E*p+_*y,x=n[4],b=n[5],E=n[6],_=n[7],e[4]=x*r+b*s+E*f+_*v,e[5]=x*a+b*l+E*d+_*g,e[6]=x*i+b*c+E*h+_*m,e[7]=x*o+b*u+E*p+_*y,x=n[8],b=n[9],E=n[10],_=n[11],e[8]=x*r+b*s+E*f+_*v,e[9]=x*a+b*l+E*d+_*g,e[10]=x*i+b*c+E*h+_*m,e[11]=x*o+b*u+E*p+_*y,x=n[12],b=n[13],E=n[14],_=n[15],e[12]=x*r+b*s+E*f+_*v,e[13]=x*a+b*l+E*d+_*g,e[14]=x*i+b*c+E*h+_*m,e[15]=x*o+b*u+E*p+_*y,e}function Sl(e,t,n){var r=n[0],a=n[1],i=n[2],o,s,l,c,u,f,d,h,p,v,g,m;return t===e?(e[12]=t[0]*r+t[4]*a+t[8]*i+t[12],e[13]=t[1]*r+t[5]*a+t[9]*i+t[13],e[14]=t[2]*r+t[6]*a+t[10]*i+t[14],e[15]=t[3]*r+t[7]*a+t[11]*i+t[15]):(o=t[0],s=t[1],l=t[2],c=t[3],u=t[4],f=t[5],d=t[6],h=t[7],p=t[8],v=t[9],g=t[10],m=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=v,e[10]=g,e[11]=m,e[12]=o*r+u*a+p*i+t[12],e[13]=s*r+f*a+v*i+t[13],e[14]=l*r+d*a+g*i+t[14],e[15]=c*r+h*a+m*i+t[15]),e}function I$(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function cSe(e,t,n,r){var a=r[0],i=r[1],o=r[2],s=Math.hypot(a,i,o),l,c,u,f,d,h,p,v,g,m,y,x,b,E,_,w,A,S,k,T,O,C,M,R;return s<Ar?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,f=t[0],d=t[1],h=t[2],p=t[3],v=t[4],g=t[5],m=t[6],y=t[7],x=t[8],b=t[9],E=t[10],_=t[11],w=a*a*u+c,A=i*a*u+o*l,S=o*a*u-i*l,k=a*i*u-o*l,T=i*i*u+c,O=o*i*u+a*l,C=a*o*u+i*l,M=i*o*u-a*l,R=o*o*u+c,e[0]=f*w+v*A+x*S,e[1]=d*w+g*A+b*S,e[2]=h*w+m*A+E*S,e[3]=p*w+y*A+_*S,e[4]=f*k+v*T+x*O,e[5]=d*k+g*T+b*O,e[6]=h*k+m*T+E*O,e[7]=p*k+y*T+_*O,e[8]=f*C+v*M+x*R,e[9]=d*C+g*M+b*R,e[10]=h*C+m*M+E*R,e[11]=p*C+y*M+_*R,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function JO(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+u*r,e[6]=s*a+f*r,e[7]=l*a+d*r,e[8]=c*a-i*r,e[9]=u*a-o*r,e[10]=f*a-s*r,e[11]=d*a-l*r,e}function e3(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*r,e[1]=o*a-u*r,e[2]=s*a-f*r,e[3]=l*a-d*r,e[8]=i*r+c*a,e[9]=o*r+u*a,e[10]=s*r+f*a,e[11]=l*r+d*a,e}function uSe(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],c=t[4],u=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+u*r,e[2]=s*a+f*r,e[3]=l*a+d*r,e[4]=c*a-i*r,e[5]=u*a-o*r,e[6]=f*a-s*r,e[7]=d*a-l*r,e}function Wi(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Ko(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function t3(e,t,n){var r=n[0],a=n[1],i=n[2],o=Math.hypot(r,a,i),s,l,c;return o<Ar?null:(o=1/o,r*=o,a*=o,i*=o,s=Math.sin(t),l=Math.cos(t),c=1-l,e[0]=r*r*c+l,e[1]=a*r*c+i*s,e[2]=i*r*c-a*s,e[3]=0,e[4]=r*a*c-i*s,e[5]=a*a*c+l,e[6]=i*a*c+r*s,e[7]=0,e[8]=r*i*c+a*s,e[9]=a*i*c-r*s,e[10]=i*i*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function n3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function r3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R1(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R$(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,l=a+a,c=i+i,u=r*s,f=r*l,d=r*c,h=a*l,p=a*c,v=i*c,g=o*s,m=o*l,y=o*c;return e[0]=1-(h+v),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(u+v),e[6]=p+g,e[7]=0,e[8]=d+m,e[9]=p-g,e[10]=1-(u+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function fSe(e,t){var n=new wa(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=r*r+a*a+i*i+o*o;return f>0?(n[0]=(s*o+u*r+l*i-c*a)*2/f,n[1]=(l*o+u*a+c*r-s*i)*2/f,n[2]=(c*o+u*i+s*a-l*r)*2/f):(n[0]=(s*o+u*r+l*i-c*a)*2,n[1]=(l*o+u*a+c*r-s*i)*2,n[2]=(c*o+u*i+s*a-l*r)*2),R$(e,t,n),e}function Id(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Sc(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],s=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(l,c,u),e}function Rd(e,t){var n=new wa(3);Sc(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,s=t[1]*a,l=t[2]*i,c=t[4]*r,u=t[5]*a,f=t[6]*i,d=t[8]*r,h=t[9]*a,p=t[10]*i,v=o+u+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-l)/g,e[2]=(s-c)/g):o>u&&o>p?(g=Math.sqrt(1+o-u-p)*2,e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+l)/g):u>p?(g=Math.sqrt(1+u-o-p)*2,e[3]=(d-l)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=Math.sqrt(1+p-o-u)*2,e[3]=(s-c)/g,e[0]=(d+l)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function dSe(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],l=a+a,c=i+i,u=o+o,f=a*l,d=a*c,h=a*u,p=i*c,v=i*u,g=o*u,m=s*l,y=s*c,x=s*u,b=r[0],E=r[1],_=r[2];return e[0]=(1-(p+g))*b,e[1]=(d+x)*b,e[2]=(h-y)*b,e[3]=0,e[4]=(d-x)*E,e[5]=(1-(f+g))*E,e[6]=(v+m)*E,e[7]=0,e[8]=(h+y)*_,e[9]=(v-m)*_,e[10]=(1-(f+p))*_,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function iu(e,t,n,r,a){var i=t[0],o=t[1],s=t[2],l=t[3],c=i+i,u=o+o,f=s+s,d=i*c,h=i*u,p=i*f,v=o*u,g=o*f,m=s*f,y=l*c,x=l*u,b=l*f,E=r[0],_=r[1],w=r[2],A=a[0],S=a[1],k=a[2],T=(1-(v+m))*E,O=(h+b)*E,C=(p-x)*E,M=(h-b)*_,R=(1-(d+m))*_,I=(g+y)*_,P=(p+x)*w,B=(g-y)*w,N=(1-(d+v))*w;return e[0]=T,e[1]=O,e[2]=C,e[3]=0,e[4]=M,e[5]=R,e[6]=I,e[7]=0,e[8]=P,e[9]=B,e[10]=N,e[11]=0,e[12]=n[0]+A-(T*A+M*S+P*k),e[13]=n[1]+S-(O*A+R*S+B*k),e[14]=n[2]+k-(C*A+I*S+N*k),e[15]=1,e}function Rg(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,l=a+a,c=n*o,u=r*o,f=r*s,d=a*o,h=a*s,p=a*l,v=i*o,g=i*s,m=i*l;return e[0]=1-f-p,e[1]=u+m,e[2]=d-g,e[3]=0,e[4]=u-m,e[5]=1-c-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hSe(e,t,n,r,a,i,o){var s=1/(n-t),l=1/(a-r),c=1/(i-o);return e[0]=i*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function N$(e,t,n,r,a){var i=1/Math.tan(t/2),o;return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0?(o=1/(r-a),e[10]=(a+r)*o,e[14]=2*a*r*o):(e[10]=-1,e[14]=-2*r),e}var pSe=N$;function vSe(e,t,n,r,a){var i=1/Math.tan(t/2),o;return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0?(o=1/(r-a),e[10]=a*o,e[14]=a*r*o):(e[10]=-1,e[14]=-r),e}function gSe(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(a+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-s)*l*.5),e[9]=(a-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function D$(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=(o+i)*c,e[15]=1,e}var a3=D$;function i3(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=i*c,e[15]=1,e}function o3(e,t,n,r){var a,i,o,s,l,c,u,f,d,h,p=t[0],v=t[1],g=t[2],m=r[0],y=r[1],x=r[2],b=n[0],E=n[1],_=n[2];return Math.abs(p-b)<Ar&&Math.abs(v-E)<Ar&&Math.abs(g-_)<Ar?as(e):(u=p-b,f=v-E,d=g-_,h=1/Math.hypot(u,f,d),u*=h,f*=h,d*=h,a=y*d-x*f,i=x*u-m*d,o=m*f-y*u,h=Math.hypot(a,i,o),h?(h=1/h,a*=h,i*=h,o*=h):(a=0,i=0,o=0),s=f*o-d*i,l=d*a-u*o,c=u*i-f*a,h=Math.hypot(s,l,c),h?(h=1/h,s*=h,l*=h,c*=h):(s=0,l=0,c=0),e[0]=a,e[1]=s,e[2]=u,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*p+i*v+o*g),e[13]=-(s*p+l*v+c*g),e[14]=-(u*p+f*v+d*g),e[15]=1,e)}function mSe(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=r[0],l=r[1],c=r[2],u=a-n[0],f=i-n[1],d=o-n[2],h=u*u+f*f+d*d;h>0&&(h=1/Math.sqrt(h),u*=h,f*=h,d*=h);var p=l*d-c*f,v=c*u-s*d,g=s*f-l*u;return h=p*p+v*v+g*g,h>0&&(h=1/Math.sqrt(h),p*=h,v*=h,g*=h),e[0]=p,e[1]=v,e[2]=g,e[3]=0,e[4]=f*g-d*v,e[5]=d*p-u*g,e[6]=u*v-f*p,e[7]=0,e[8]=u,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function ySe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function xSe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function bSe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function L$(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function wSe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function _Se(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function jA(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ESe(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=t[0],x=t[1],b=t[2],E=t[3],_=t[4],w=t[5],A=t[6],S=t[7],k=t[8],T=t[9],O=t[10],C=t[11],M=t[12],R=t[13],I=t[14],P=t[15];return Math.abs(n-y)<=Ar*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-x)<=Ar*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(a-b)<=Ar*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(i-E)<=Ar*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(o-_)<=Ar*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-w)<=Ar*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-A)<=Ar*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-S)<=Ar*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-k)<=Ar*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(f-T)<=Ar*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-O)<=Ar*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-C)<=Ar*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-M)<=Ar*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(v-R)<=Ar*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(g-I)<=Ar*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(m-P)<=Ar*Math.max(1,Math.abs(m),Math.abs(P))}var qb=Ur,SSe=L$;const F$=Object.freeze(Object.defineProperty({__proto__:null,add:bSe,adjoint:lSe,clone:Xb,copy:pu,create:Dt,determinant:QO,equals:ESe,exactEquals:jA,frob:xSe,fromQuat:Rg,fromQuat2:fSe,fromRotation:t3,fromRotationTranslation:R$,fromRotationTranslationScale:dSe,fromRotationTranslationScaleOrigin:iu,fromScaling:Ko,fromTranslation:Wi,fromValues:P$,fromXRotation:n3,fromYRotation:r3,fromZRotation:R1,frustum:hSe,getRotation:Rd,getScaling:Sc,getTranslation:Id,identity:as,invert:Ga,lookAt:o3,mul:qb,multiply:Ur,multiplyScalar:wSe,multiplyScalarAndAdd:_Se,ortho:a3,orthoNO:D$,orthoZO:i3,perspective:pSe,perspectiveFromFieldOfView:gSe,perspectiveNO:N$,perspectiveZO:vSe,rotate:cSe,rotateX:JO,rotateY:e3,rotateZ:uSe,scale:I$,set:I1,str:ySe,sub:SSe,subtract:L$,targetTo:mSe,translate:Sl,transpose:ZO},Symbol.toStringTag,{value:"Module"}));function Et(){var e=new wa(3);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ni(e){var t=new wa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function wi(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Ot(e,t,n){var r=new wa(3);return r[0]=e,r[1]=t,r[2]=n,r}function Ia(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function lr(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Ki(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function N1(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function B$(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function $$(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function j$(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function lf(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function ASe(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function ns(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Si(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Qv(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2];return e[0]=a*l-i*s,e[1]=i*o-r*l,e[2]=r*s-a*o,e}function Lh(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function sr(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function s3(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function z$(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],l=t[1],c=t[2],u=a*c-i*l,f=i*s-r*c,d=r*l-a*s,h=a*d-i*f,p=i*u-r*d,v=r*f-a*u,g=o*2;return u*=g,f*=g,d*=g,h*=2,p*=2,v*=2,e[0]=s+u+h,e[1]=l+f+p,e[2]=c+d+v,e}function ac(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(n-i)<=Ar*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Ar*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=Ar*Math.max(1,Math.abs(a),Math.abs(s))}var U$=N1,t2=ASe,l3=wi;(function(){var e=Et();return function(t,n,r,a,i,o){var s,l;for(n||(n=3),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function Wa(){var e=new wa(4);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function tu(e,t,n,r){var a=new wa(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function kSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function TSe(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function OSe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function Va(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}(function(){var e=Wa();return function(t,n,r,a,i,o){var s,l;for(n||(n=4),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function vn(){var e=new wa(4);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function xo(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function wo(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+o*s+a*c-i*l,e[1]=a*u+o*l+i*s-r*c,e[2]=i*u+o*c+r*l-a*s,e[3]=o*u-r*s-a*l-i*c,e}function rE(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],l=n[0],c=n[1],u=n[2],f=n[3],d,h,p,v,g;return h=a*l+i*c+o*u+s*f,h<0&&(h=-h,l=-l,c=-c,u=-u,f=-f),1-h>Ar?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,g=Math.sin(r*d)/p):(v=1-r,g=r),e[0]=v*a+g*l,e[1]=v*i+g*c,e[2]=v*o+g*u,e[3]=v*s+g*f,e}function ih(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e}function CSe(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[a*3+a]-t[i*3+i]-t[o*3+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[i*3+o]-t[o*3+i])*r,e[i]=(t[i*3+a]+t[a*3+i])*r,e[o]=(t[o*3+a]+t[a*3+o])*r}return e}function Wu(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return e[0]=i*l*u-o*s*c,e[1]=o*s*u+i*l*c,e[2]=o*l*c-i*s*u,e[3]=o*l*u+i*s*c,e}var H$=tu,Vu=kSe,n2=TSe,r2=wo,Fh=OSe;(function(){var e=Et(),t=Ot(1,0,0),n=Ot(0,1,0);return function(r,a,i){var o=Si(a,i);return o<-.999999?(Qv(e,t,a),l3(e)<1e-6&&Qv(e,n,a),ns(e,e),xo(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Qv(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,Fh(r,r))}})();(function(){var e=vn(),t=vn();return function(n,r,a,i,o,s){return rE(e,r,o,s),rE(t,a,i,s),rE(n,e,t,2*s*(1-s)),n}})();(function(){var e=a0();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Fh(t,CSe(t,e))}})();function Ng(){var e=new wa(2);return wa!=Float32Array&&(e[0]=0,e[1]=0),e}function G$(e,t){return e[0]=t[0],e[1]=t[1],e}function W$(e,t,n){return e[0]=t,e[1]=n,e}function MSe(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function PSe(e,t){return e[0]*t[0]+e[1]*t[1]}function ISe(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=Ng();return function(t,n,r,a,i,o){var s,l;for(n||(n=2),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();var zA=function(e,t){return zA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},zA(e,t)};function Nr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ze=function(){return ze=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ze.apply(this,arguments)};function Ra(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Dg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function RSe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function xt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function aE(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var V$={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function NSe(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],a=n;r.length;)t[n]="A",e.splice(a+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var Jv={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Y$(e){return Array.isArray(e)&&e.every(function(t){var n=t[0].toLowerCase();return Jv[n]===t.length-1&&"achlmqstvz".includes(n)})}function X$(e){return Y$(e)&&e.every(function(t){var n=t[0];return n===n.toUpperCase()})}function q$(e){return X$(e)&&e.every(function(t){var n=t[0];return"ACLMQZ".includes(n)})}function yI(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=Jv[n]&&(n==="m"&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(r.splice(0,Jv[n]))),!!Jv[n]););}function DSe(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t)}function LSe(e){return e>=48&&e<=57||e===43||e===45||e===46}function _0(e){return e>=48&&e<=57}function FSe(e){var t=e.max,n=e.pathValue,r=e.index,a=r,i=!1,o=!1,s=!1,l=!1,c;if(a>=t){e.err="[path-util]: Invalid path value at index ".concat(a,', "pathValue" is missing param');return}if(c=n.charCodeAt(a),(c===43||c===45)&&(a+=1,c=n.charCodeAt(a)),!_0(c)&&c!==46){e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" is not a number');return}if(c!==46){if(i=c===48,a+=1,c=n.charCodeAt(a),i&&a<t&&c&&_0(c)){e.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;a<t&&_0(n.charCodeAt(a));)a+=1,o=!0;c=n.charCodeAt(a)}if(c===46){for(l=!0,a+=1;_0(n.charCodeAt(a));)a+=1,s=!0;c=n.charCodeAt(a)}if(c===101||c===69){if(l&&!o&&!s){e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" invalid float exponent');return}if(a+=1,c=n.charCodeAt(a),(c===43||c===45)&&(a+=1),a<t&&_0(n.charCodeAt(a)))for(;a<t&&_0(n.charCodeAt(a));)a+=1;else{e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" invalid integer exponent');return}}e.index=a,e.param=+e.pathValue.slice(r,a)}function BSe(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function ux(e){for(var t=e.pathValue,n=e.max;e.index<n&&BSe(t.charCodeAt(e.index));)e.index+=1}function $Se(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function jSe(e){return(e|32)===97}function zSe(e){var t=e.max,n=e.pathValue,r=e.index,a=n.charCodeAt(r),i=Jv[n[r].toLowerCase()];if(e.segmentStart=r,!$Se(a)){e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(e.index+=1,ux(e),e.data=[],!i){yI(e);return}for(;;){for(var o=i;o>0;o-=1){if(jSe(a)&&(o===3||o===4)?DSe(e):FSe(e),e.err.length)return;e.data.push(e.param),ux(e),e.index<t&&n.charCodeAt(e.index)===44&&(e.index+=1,ux(e))}if(e.index>=e.max||!LSe(n.charCodeAt(e.index)))break}yI(e)}var USe=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function HSe(e){if(Y$(e))return[].concat(e);var t=new USe(e);for(ux(t);t.index<t.max&&!t.err.length;)zSe(t);return t.err?t.err:t.segments}function GSe(e){if(X$(e))return[].concat(e);var t=HSe(e),n=0,r=0,a=0,i=0;return t.map(function(o){var s=o.slice(1).map(Number),l=o[0],c=l.toUpperCase();if(l==="M")return n=s[0],r=s[1],a=n,i=r,["M",n,r];var u;if(l!==c)switch(c){case"A":u=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":u=[c,s[0]+r];break;case"H":u=[c,s[0]+n];break;default:{var f=s.map(function(h,p){return h+(p%2?r:n)});u=[c].concat(f)}}else u=[c].concat(s);var d=u.length;switch(c){case"Z":n=a,r=i;break;case"H":n=u[1];break;case"V":r=u[1];break;default:n=u[d-2],r=u[d-1],c==="M"&&(a=n,i=r)}return u})}function WSe(e,t){var n=e[0],r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),n==="H")l=["L",e[1],a];else if(n==="V")l=["L",r,e[1]];else if(n==="S"){var c=r*2-i,u=a*2-o;t.x1=c,t.y1=u,l=["C",c,u].concat(s)}else if(n==="T"){var f=r*2-t.qx,d=a*2-t.qy;t.qx=f,t.qy=d,l=["Q",f,d].concat(s)}else if(n==="Q"){var h=s[0],p=s[1];t.qx=h,t.qy=p}return l}function Bh(e){if(q$(e))return[].concat(e);for(var t=GSe(e),n=ze({},V$),r=0;r<t.length;r+=1){t[r]=WSe(t[r],n);var a=t[r],i=a.length;n.x1=+a[i-2],n.y1=+a[i-1],n.x2=+a[i-4]||n.x1,n.y2=+a[i-3]||n.y1}return t}function VSe(e){return q$(e)&&e.every(function(t){var n=t[0];return"MC".includes(n)})}function Pm(e,t,n){var r=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:a}}function c3(e,t,n,r,a,i,o,s,l,c){var u=e,f=t,d=n,h=r,p=s,v=l,g=Math.PI*120/180,m=Math.PI/180*(+a||0),y=[],x,b,E,_,w;if(c)b=c[0],E=c[1],_=c[2],w=c[3];else{x=Pm(u,f,-m),u=x.x,f=x.y,x=Pm(p,v,-m),p=x.x,v=x.y;var A=(u-p)/2,S=(f-v)/2,k=A*A/(d*d)+S*S/(h*h);k>1&&(k=Math.sqrt(k),d*=k,h*=k);var T=d*d,O=h*h,C=(i===o?-1:1)*Math.sqrt(Math.abs((T*O-T*S*S-O*A*A)/(T*S*S+O*A*A)));_=C*d*S/h+(u+p)/2,w=C*-h*A/d+(f+v)/2,b=Math.asin(((f-w)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),E=Math.asin(((v-w)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),b=u<_?Math.PI-b:b,E=p<_?Math.PI-E:E,b<0&&(b=Math.PI*2+b),E<0&&(E=Math.PI*2+E),o&&b>E&&(b-=Math.PI*2),!o&&E>b&&(E-=Math.PI*2)}var M=E-b;if(Math.abs(M)>g){var R=E,I=p,P=v;E=b+g*(o&&E>b?1:-1),p=_+d*Math.cos(E),v=w+h*Math.sin(E),y=c3(p,v,d,h,a,0,o,I,P,[E,R,_,w])}M=E-b;var B=Math.cos(b),N=Math.sin(b),V=Math.cos(E),W=Math.sin(E),z=Math.tan(M/4),j=4/3*d*z,L=4/3*h*z,F=[u,f],H=[u+j*N,f-L*B],D=[p+j*W,v-L*V],G=[p,v];if(H[0]=2*F[0]-H[0],H[1]=2*F[1]-H[1],c)return H.concat(D,G,y);y=H.concat(D,G,y);for(var K=[],re=0,ie=y.length;re<ie;re+=1)K[re]=re%2?Pm(y[re-1],y[re],m).y:Pm(y[re],y[re+1],m).x;return K}function YSe(e,t,n,r,a,i){var o=.3333333333333333,s=2/3;return[o*e+s*n,o*t+s*r,o*a+s*n,o*i+s*r,a,i]}function Lu(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return[r+(i-r)*n,a+(o-a)*n]}var xI=function(e,t,n,r){var a=.5,i=Lu([e,t],[n,r],a);return xt(xt([],i,!0),[n,r,n,r],!1)};function XSe(e,t){var n=e[0],r=e.slice(1).map(Number),a=r[0],i=r[1],o,s=t.x1,l=t.y1,c=t.x,u=t.y;switch("TQ".includes(n)||(t.qx=null,t.qy=null),n){case"M":return t.x=a,t.y=i,e;case"A":return o=[s,l].concat(r),["C"].concat(c3(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return t.qx=a,t.qy=i,o=[s,l].concat(r),["C"].concat(YSe(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(xI(s,l,a,i));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(xI(s,l,c,u))}return e}function D1(e,t){if(t===void 0&&(t=!1),VSe(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r=Bh(e),a=ze({},V$),i=[],o="",s=r.length,l,c,u=[],f=0;f<s;f+=1){r[f]&&(o=r[f][0]),i[f]=o;var d=XSe(r[f],a);r[f]=d,NSe(r,i,f),s=r.length,o==="Z"&&u.push(f),l=r[f],c=l.length,a.x1=+l[c-2],a.y1=+l[c-1],a.x2=+l[c-4]||a.x1,a.y2=+l[c-3]||a.y1}return t?[r,u]:r}function K$(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function Z$(e){var t=e.slice(1).map(function(n,r,a){return r?a[r-1].slice(-2).concat(n.slice(1)):e[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,a){return n[n.length-a-2*(1-a%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(n){return["C"].concat(n.slice(2))}))}function Io(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function UA(e,t,n,r,a){var i=Io([e,t],[n,r]),o={x:0,y:0};if(typeof a=="number")if(a<=0)o={x:e,y:t};else if(a>=i)o={x:n,y:r};else{var s=Lu([e,t],[n,r],a/i),l=s[0],c=s[1];o={x:l,y:c}}return{length:i,point:o,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function bI(e,t){var n=e.x,r=e.y,a=t.x,i=t.y,o=n*a+r*i,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(a,2)+Math.pow(i,2))),l=n*i-r*a<0?-1:1,c=l*Math.acos(o/s);return c}function qSe(e,t,n,r,a,i,o,s,l,c){var u=Math.abs,f=Math.sin,d=Math.cos,h=Math.sqrt,p=Math.PI,v=u(n),g=u(r),m=(a%360+360)%360,y=m*(p/180);if(e===s&&t===l)return{x:e,y:t};if(v===0||g===0)return UA(e,t,s,l,c).point;var x=(e-s)/2,b=(t-l)/2,E={x:d(y)*x+f(y)*b,y:-f(y)*x+d(y)*b},_=Math.pow(E.x,2)/Math.pow(v,2)+Math.pow(E.y,2)/Math.pow(g,2);_>1&&(v*=h(_),g*=h(_));var w=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(E.y,2)-Math.pow(g,2)*Math.pow(E.x,2),A=Math.pow(v,2)*Math.pow(E.y,2)+Math.pow(g,2)*Math.pow(E.x,2),S=w/A;S=S<0?0:S;var k=(i!==o?1:-1)*h(S),T={x:k*(v*E.y/g),y:k*(-(g*E.x)/v)},O={x:d(y)*T.x-f(y)*T.y+(e+s)/2,y:f(y)*T.x+d(y)*T.y+(t+l)/2},C={x:(E.x-T.x)/v,y:(E.y-T.y)/g},M=bI({x:1,y:0},C),R={x:(-E.x-T.x)/v,y:(-E.y-T.y)/g},I=bI(C,R);!o&&I>0?I-=2*p:o&&I<0&&(I+=2*p),I%=2*p;var P=M+I*c,B=v*d(P),N=g*f(P),V={x:d(y)*B-f(y)*N+O.x,y:f(y)*B+d(y)*N+O.y};return V}function KSe(e,t,n,r,a,i,o,s,l,c,u){var f,d=u.bbox,h=d===void 0?!0:d,p=u.length,v=p===void 0?!0:p,g=u.sampleSize,m=g===void 0?30:g,y=typeof c=="number",x=e,b=t,E=0,_=[x,b,E],w=[x,b],A=0,S={x:0,y:0},k=[{x,y:b}];y&&c<=0&&(S={x,y:b});for(var T=0;T<=m;T+=1){if(A=T/m,f=qSe(e,t,n,r,a,i,o,s,l,A),x=f.x,b=f.y,h&&k.push({x,y:b}),v&&(E+=Io(w,[x,b])),w=[x,b],y&&E>=c&&c>_[2]){var O=(E-c)/(E-_[2]);S={x:w[0]*(1-O)+_[0]*O,y:w[1]*(1-O)+_[1]*O}}_=[x,b,E]}return y&&c>=E&&(S={x:s,y:l}),{length:E,point:S,min:{x:Math.min.apply(null,k.map(function(C){return C.x})),y:Math.min.apply(null,k.map(function(C){return C.y}))},max:{x:Math.max.apply(null,k.map(function(C){return C.x})),y:Math.max.apply(null,k.map(function(C){return C.y}))}}}function ZSe(e,t,n,r,a,i,o,s,l){var c=1-l;return{x:Math.pow(c,3)*e+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*a+Math.pow(l,3)*o,y:Math.pow(c,3)*t+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*i+Math.pow(l,3)*s}}function Q$(e,t,n,r,a,i,o,s,l,c){var u,f=c.bbox,d=f===void 0?!0:f,h=c.length,p=h===void 0?!0:h,v=c.sampleSize,g=v===void 0?10:v,m=typeof l=="number",y=e,x=t,b=0,E=[y,x,b],_=[y,x],w=0,A={x:0,y:0},S=[{x:y,y:x}];m&&l<=0&&(A={x:y,y:x});for(var k=0;k<=g;k+=1){if(w=k/g,u=ZSe(e,t,n,r,a,i,o,s,w),y=u.x,x=u.y,d&&S.push({x:y,y:x}),p&&(b+=Io(_,[y,x])),_=[y,x],m&&b>=l&&l>E[2]){var T=(b-l)/(b-E[2]);A={x:_[0]*(1-T)+E[0]*T,y:_[1]*(1-T)+E[1]*T}}E=[y,x,b]}return m&&l>=b&&(A={x:o,y:s}),{length:b,point:A,min:{x:Math.min.apply(null,S.map(function(O){return O.x})),y:Math.min.apply(null,S.map(function(O){return O.y}))},max:{x:Math.max.apply(null,S.map(function(O){return O.x})),y:Math.max.apply(null,S.map(function(O){return O.y}))}}}function QSe(e,t,n,r,a,i,o){var s=1-o;return{x:Math.pow(s,2)*e+2*s*o*n+Math.pow(o,2)*a,y:Math.pow(s,2)*t+2*s*o*r+Math.pow(o,2)*i}}function JSe(e,t,n,r,a,i,o,s){var l,c=s.bbox,u=c===void 0?!0:c,f=s.length,d=f===void 0?!0:f,h=s.sampleSize,p=h===void 0?10:h,v=typeof o=="number",g=e,m=t,y=0,x=[g,m,y],b=[g,m],E=0,_={x:0,y:0},w=[{x:g,y:m}];v&&o<=0&&(_={x:g,y:m});for(var A=0;A<=p;A+=1){if(E=A/p,l=QSe(e,t,n,r,a,i,E),g=l.x,m=l.y,u&&w.push({x:g,y:m}),d&&(y+=Io(b,[g,m])),b=[g,m],v&&y>=o&&o>x[2]){var S=(y-o)/(y-x[2]);_={x:b[0]*(1-S)+x[0]*S,y:b[1]*(1-S)+x[1]*S}}x=[g,m,y]}return v&&o>=y&&(_={x:a,y:i}),{length:y,point:_,min:{x:Math.min.apply(null,w.map(function(k){return k.x})),y:Math.min.apply(null,w.map(function(k){return k.y}))},max:{x:Math.max.apply(null,w.map(function(k){return k.x})),y:Math.max.apply(null,w.map(function(k){return k.y}))}}}function J$(e,t,n){for(var r,a,i,o,s,l,c=Bh(e),u=typeof t=="number",f,d=[],h,p=0,v=0,g=0,m=0,y,x=[],b=[],E=0,_={x:0,y:0},w=_,A=_,S=_,k=0,T=0,O=c.length;T<O;T+=1)y=c[T],h=y[0],f=h==="M",d=f?d:[p,v].concat(y.slice(1)),f?(g=y[1],m=y[2],_={x:g,y:m},w=_,E=0,u&&t<.001&&(S=_)):h==="L"?(r=UA(d[0],d[1],d[2],d[3],(t||0)-k),E=r.length,_=r.min,w=r.max,A=r.point):h==="A"?(a=KSe(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],(t||0)-k,n||{}),E=a.length,_=a.min,w=a.max,A=a.point):h==="C"?(i=Q$(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],(t||0)-k,n||{}),E=i.length,_=i.min,w=i.max,A=i.point):h==="Q"?(o=JSe(d[0],d[1],d[2],d[3],d[4],d[5],(t||0)-k,n||{}),E=o.length,_=o.min,w=o.max,A=o.point):h==="Z"&&(d=[p,v,g,m],s=UA(d[0],d[1],d[2],d[3],(t||0)-k),E=s.length,_=s.min,w=s.max,A=s.point),u&&k<t&&k+E>=t&&(S=A),b.push(w),x.push(_),k+=E,l=h!=="Z"?y.slice(-2):[g,m],p=l[0],v=l[1];return u&&t>=k&&(S={x:p,y:v}),{length:k,point:S,min:{x:Math.min.apply(null,x.map(function(C){return C.x})),y:Math.min.apply(null,x.map(function(C){return C.y}))},max:{x:Math.max.apply(null,b.map(function(C){return C.x})),y:Math.max.apply(null,b.map(function(C){return C.y}))}}}function ej(e,t){return J$(e,void 0,ze(ze({},t),{bbox:!1,length:!0})).length}function eAe(e){var t=e.length,n=t-1;return e.map(function(r,a){return e.map(function(i,o){var s=a+o,l;return o===0||e[s]&&e[s][0]==="M"?(l=e[s],["M"].concat(l.slice(-2))):(s>=t&&(s-=n),e[s])})})}function tj(e,t){var n=e.length-1,r=[],a=0,i=0,o=eAe(e);return o.forEach(function(s,l){e.slice(1).forEach(function(c,u){i+=Io(e[(l+u)%n].slice(-2),t[u%n].slice(-2))}),r[l]=i,i=0}),a=r.indexOf(Math.min.apply(null,r)),o[a]}function tAe(e,t,n,r,a,i,o,s){return 3*((s-t)*(n+a)-(o-e)*(r+i)+r*(e-a)-n*(t-i)+s*(a+e/3)-o*(i+t/3))/20}function nAe(e){var t=0,n=0,r=0;return D1(e).map(function(a){var i;switch(a[0]){case"M":return t=a[1],n=a[2],0;default:var o=a.slice(1),s=o[0],l=o[1],c=o[2],u=o[3],f=o[4],d=o[5];return r=tAe(t,n,s,l,c,u,f,d),i=a.slice(-2),t=i[0],n=i[1],r}}).reduce(function(a,i){return a+i},0)}function a2(e){return nAe(e)>=0}function nj(e,t,n){return J$(e,t,ze(ze({},n),{bbox:!1,length:!0})).point}function rAe(e,t){t===void 0&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),a=e.slice(4,6),i=e.slice(6,8),o=Lu(n,r,t),s=Lu(r,a,t),l=Lu(a,i,t),c=Lu(o,s,t),u=Lu(s,l,t),f=Lu(c,u,t);return[["C"].concat(o,c,f),["C"].concat(u,l,i)]}function wI(e){return e.map(function(t,n,r){var a=n&&r[n-1].slice(-2).concat(t.slice(1)),i=n?Q$(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],{bbox:!1}).length:0,o;return n?o=i?rAe(a):[t,t]:o=[t],{s:t,ss:o,l:i}})}function u3(e,t,n){var r=wI(e),a=wI(t),i=r.length,o=a.length,s=r.filter(function(g){return g.l}).length,l=a.filter(function(g){return g.l}).length,c=r.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/s||0,u=a.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/l||0,f=n||Math.max(i,o),d=[c,u],h=[f-i,f-o],p=0,v=[r,a].map(function(g,m){return g.l===f?g.map(function(y){return y.s}):g.map(function(y,x){return p=x&&h[m]&&y.l>=d[m],h[m]-=p?1:0,p?y.ss:[y.s]}).flat()});return v[0].length===v[1].length?v:u3(v[0],v[1],f)}function _I(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function tr(e,t){if(e!==null)return{type:"column",value:e,field:t}}function L1(e,t){const n=tr(e,t);return Object.assign(Object.assign({},n),{inferred:!0})}function i2(e,t){if(e!==null)return{type:"column",value:e,field:t,visual:!0}}function aAe(e,t){const n=tr(e,t);return Object.assign(Object.assign({},n),{constant:!1})}function nf(e,t){const n=[];for(const r of e)n[r]=t;return n}function yn(e,t){const n=e[t];if(!n)return[null,null];const{value:r,field:a=null}=n;return[r,a]}function o2(e,...t){for(const n of t)if(typeof n=="string"){const[r,a]=yn(e,n);if(r!==null)return[r,a]}else return[n,null];return[null,null]}function Lg(e){return e instanceof Date?!1:typeof e=="object"}const Fg=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;return r!==void 0?[e,t]:[e,Ie({},t,{encode:{y1:L1(nf(e,0))}})]};Fg.props={};function Qr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iAe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ou(e){let t,n,r;e.length!==2?(t=Qr,n=(s,l)=>Qr(e(s),l),r=(s,l)=>e(s)-l):(t=e===Qr||e===iAe?e:oAe,n=e,r=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function oAe(){return 0}function HA(e){return e===null?NaN:+e}function*sAe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const rj=ou(Qr),lAe=rj.right,cAe=rj.left,uAe=ou(HA).center;function aj(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function fAe(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-a,a+=r/++n,i+=r*(s-a))}if(n>1)return i/(n-1)}function ij(e,t){const n=fAe(e,t);return n&&Math.sqrt(n)}function su(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class Nd{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let a=0;a<this._n&&a<32;a++){const i=n[a],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}let dAe=class extends Map{constructor(t,n=vAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(EI(this,t))}has(t){return super.has(EI(this,t))}set(t,n){return super.set(hAe(this,t),n)}delete(t){return super.delete(pAe(this,t))}};function EI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function pAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function F1(e){return e}function ur(e,...t){return Kb(e,F1,F1,t)}function f3(e,...t){return Kb(e,Array.from,F1,t)}function d3(e,t,...n){return Kb(e,F1,t,n)}function h3(e,t,...n){return Kb(e,Array.from,t,n)}function Kb(e,t,n,r){return function a(i,o){if(o>=r.length)return n(i);const s=new dAe,l=r[o++];let c=-1;for(const u of i){const f=l(u,++c,i),d=s.get(f);d?d.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,a(f,o));return t(s)}(e,0)}function gAe(e,t){return Array.from(t,n=>e[n])}function Al(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(const o of t){const s=B1(o[a],o[i]);if(s)return s}})):(n=e.map(n),r.sort((a,i)=>B1(n[a],n[i]))),gAe(e,r)}return e.sort(oj(n))}function oj(e=Qr){if(e===Qr)return B1;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function B1(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function mAe(e,t,n){return(t.length!==2?Al(d3(e,t,n),([r,a],[i,o])=>Qr(a,o)||Qr(r,i)):Al(ur(e,n),([r,a],[i,o])=>t(a,o)||Qr(r,i))).map(([r])=>r)}var yAe=Array.prototype,xAe=yAe.slice;function iE(e){return()=>e}const bAe=Math.sqrt(50),wAe=Math.sqrt(10),_Ae=Math.sqrt(2);function s2(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=bAe?10:i>=wAe?5:i>=_Ae?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?s2(e,t,n*2):[s,l,c]}function EAe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?s2(t,e,n):s2(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function GA(e,t,n){return t=+t,e=+e,n=+n,s2(e,t,n)[2]}function SAe(e,t,n){let r;for(;;){const a=GA(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}function AAe(e){return Math.max(1,Math.ceil(Math.log(aj(e))/Math.LN2)+1)}function kAe(){var e=F1,t=su,n=AAe;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,s,l,c=new Array(o);for(i=0;i<o;++i)c[i]=e(a[i],i,a);var u=t(c),f=u[0],d=u[1],h=n(c,f,d);if(!Array.isArray(h)){const x=d,b=+h;if(t===su&&([f,d]=SAe(f,d,b)),h=EAe(f,d,b),h[0]<=f&&(l=GA(f,d,b)),h[h.length-1]>=d)if(x>=d&&t===su){const E=GA(f,d,b);isFinite(E)&&(E>0?d=(Math.floor(d/E)+1)*E:E<0&&(d=(Math.ceil(d*-E)+1)/-E))}else h.pop()}for(var p=h.length,v=0,g=p;h[v]<=f;)++v;for(;h[g-1]>d;)--g;(v||g<p)&&(h=h.slice(v,g),p=g-v);var m=new Array(p+1),y;for(i=0;i<=p;++i)y=m[i]=[],y.x0=i>0?h[i-1]:f,y.x1=i<p?h[i]:d;if(isFinite(l)){if(l>0)for(i=0;i<o;++i)(s=c[i])!=null&&f<=s&&s<=d&&m[Math.min(p,Math.floor((s-f)/l))].push(a[i]);else if(l<0){for(i=0;i<o;++i)if((s=c[i])!=null&&f<=s&&s<=d){const x=Math.floor((f-s)*l);m[Math.min(p,x+(h[x]<=s))].push(a[i])}}}else for(i=0;i<o;++i)(s=c[i])!=null&&f<=s&&s<=d&&m[lAe(h,s,0,p)].push(a[i]);return m}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:iE(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:iE([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:iE(Array.isArray(a)?xAe.call(a):a),r):n},r}function Fn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function bp(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}function is(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function Bg(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}function p3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?B1:oj(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),p=Math.min(r,Math.floor(t+(l-c)*f/l+d));p3(e,t,h,p,a)}const i=e[t];let o=n,s=r;for(Hp(e,n,t),a(e[r],i)>0&&Hp(e,n,r);o<s;){for(Hp(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Hp(e,n,s):(++s,Hp(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Hp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function TAe(e,t=Qr){let n,r=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(r?Qr(o,a)>0:Qr(o,o)===0)&&(n=i,a=o,r=!0)}}else for(const a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}function Zb(e,t,n){if(e=Float64Array.from(sAe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return is(e);if(t>=1)return Fn(e);var r,a=(r-1)*t,i=Math.floor(a),o=Fn(p3(e,i).subarray(0,i+1)),s=is(e.subarray(i+1));return o+(s-o)*(a-i)}}function OAe(e,t,n=HA){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,l)=>HA(n(e[l],l,e))),t<=0)return Bg(r);if(t>=1)return bp(r);var r,a=Uint32Array.from(e,(s,l)=>l),i=r.length-1,o=Math.floor(i*t);return p3(a,o,0,i,(s,l)=>B1(r[s],r[l])),o=TAe(a.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function CAe(e,t,n){const r=aj(e),a=ij(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}function $1(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function v3(e,t){return Zb(e,.5,t)}function MAe(e,t){return OAe(e,.5,t)}function*PAe(e){for(const t of e)yield*t}function sj(e){return Array.from(PAe(e))}function G0(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Bs(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}function $h(e,...t){return t.reduce((n,r)=>a=>n(r(a)),e)}function l2(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function IAe(e,t){const n=t<e?t:e,r=e>t?e:t;return a=>Math.min(Math.max(n,a),r)}function g3(e,t,n,r,a){let i=n||0,o=r||e.length;const s=a||(l=>l);for(;i<o;){const l=Math.floor((i+o)/2);s(e[l])>t?o=l:i=l+1}return i}const WA=Math.sqrt(50),VA=Math.sqrt(10),YA=Math.sqrt(2);function fx(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/10**a;return a>=0?(i>=WA?10:i>=VA?5:i>=YA?2:1)*10**a:-(10**-a)/(i>=WA?10:i>=VA?5:i>=YA?2:1)}function SI(e,t,n){const r=Math.abs(t-e)/Math.max(0,n);let a=10**Math.floor(Math.log(r)/Math.LN10);const i=r/a;return i>=WA?a*=10:i>=VA?a*=5:i>=YA&&(a*=2),t<e?-a:a}const lj=(e,t,n=5)=>{const r=[e,t];let a=0,i=r.length-1,o=r[a],s=r[i],l;return s<o&&([o,s]=[s,o],[a,i]=[i,a]),l=fx(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=fx(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=fx(o,s,n)),l>0?(r[a]=Math.floor(o/l)*l,r[i]=Math.ceil(s/l)*l):l<0&&(r[a]=Math.ceil(o*l)/l,r[i]=Math.floor(s*l)/l),r},j1=1e3,z1=j1*60,U1=z1*60,Dd=U1*24,e1=Dd*7,cj=Dd*30,uj=Dd*365;function eo(e,t,n,r){const a=(c,u)=>{const f=h=>r(h)%u===0;let d=u;for(;d&&!f(c);)n(c,-1),d-=1;return c},i=(c,u)=>{u&&a(c,u),t(c)},o=(c,u)=>{const f=new Date(+c);return i(f,u),f},s=(c,u)=>{const f=new Date(+c-1);return i(f,u),n(f,u),i(f),f};return{ceil:s,floor:o,range:(c,u,f,d)=>{const h=[],p=Math.floor(f),v=d?s(c,f):s(c);for(let g=v;g<u;n(g,p),i(g))h.push(new Date(+g));return h},duration:e}}const RAe=eo(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),NAe=eo(j1,e=>{e.setMilliseconds(0)},(e,t=1)=>{e.setTime(+e+j1*t)},e=>e.getSeconds()),DAe=eo(z1,e=>{e.setSeconds(0,0)},(e,t=1)=>{e.setTime(+e+z1*t)},e=>e.getMinutes()),LAe=eo(U1,e=>{e.setMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+U1*t)},e=>e.getHours()),FAe=eo(Dd,e=>{e.setHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+Dd*t)},e=>e.getDate()-1),fj=eo(cj,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getMonth();e.setMonth(n+t)},e=>e.getMonth()),BAe=eo(e1,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,t=1)=>{e.setDate(e.getDate()+7*t)},e=>{const t=fj.floor(e),n=new Date(+e);return Math.floor((+n-+t)/e1)}),$Ae=eo(uj,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getFullYear();e.setFullYear(n+t)},e=>e.getFullYear()),dj={millisecond:RAe,second:NAe,minute:DAe,hour:LAe,day:FAe,week:BAe,month:fj,year:$Ae},jAe=eo(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),zAe=eo(j1,e=>{e.setUTCMilliseconds(0)},(e,t=1)=>{e.setTime(+e+j1*t)},e=>e.getUTCSeconds()),UAe=eo(z1,e=>{e.setUTCSeconds(0,0)},(e,t=1)=>{e.setTime(+e+z1*t)},e=>e.getUTCMinutes()),HAe=eo(U1,e=>{e.setUTCMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+U1*t)},e=>e.getUTCHours()),GAe=eo(Dd,e=>{e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+Dd*t)},e=>e.getUTCDate()-1),hj=eo(cj,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCMonth();e.setUTCMonth(n+t)},e=>e.getUTCMonth()),WAe=eo(e1,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+e1*t)},e=>{const t=hj.floor(e),n=new Date(+e);return Math.floor((+n-+t)/e1)}),VAe=eo(uj,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCFullYear();e.setUTCFullYear(n+t)},e=>e.getUTCFullYear()),pj={millisecond:jAe,second:zAe,minute:UAe,hour:HAe,day:GAe,week:WAe,month:hj,year:VAe};function YAe(e){const t=e?pj:dj,{year:n,month:r,week:a,day:i,hour:o,minute:s,second:l,millisecond:c}=t;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[i,1],[i,2],[a,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function vj(e,t,n,r,a){const i=+e,o=+t,{tickIntervals:s,year:l,millisecond:c}=YAe(a),u=([g,m])=>g.duration*m,f=r?(o-i)/r:n||5,d=r||(o-i)/f,h=s.length,p=g3(s,d,0,h,u);let v;if(p===h){const g=SI(i/l.duration,o/l.duration,f);v=[l,g]}else if(p){const g=d/u(s[p-1])<u(s[p])/d,[m,y]=g?s[p-1]:s[p],x=r?Math.ceil(r/m.duration):y;v=[m,x]}else{const g=Math.max(SI(i,o,f),1);v=[c,g]}return v}const XAe=(e,t,n,r,a)=>{const i=e>t,o=i?t:e,s=i?e:t,[l,c]=vj(o,s,n,r,a),u=[l.floor(o,c),l.ceil(s,c)];return i?u.reverse():u};function c2(e){return!Rt(e)&&!GEe(e)&&!Number.isNaN(e)}const gj=e=>t=>-e(-t),m3=(e,t)=>{const n=Math.log(e),r=e===Math.E?Math.log:e===10?Math.log10:e===2?Math.log2:a=>Math.log(a)/n;return t?gj(r):r},y3=(e,t)=>{const n=e===Math.E?Math.exp:r=>e**r;return t?gj(n):n},qAe=(e,t,n,r)=>{const a=e<0,i=m3(r,a),o=y3(r,a),s=e>t,l=s?t:e,c=s?e:t,u=[o(Math.floor(i(l))),o(Math.ceil(i(c)))];return s?u.reverse():u},KAe=e=>t=>{const n=e(t);return kn(n)?Math.round(n):n};function ZAe(e,t){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=e(r)},n.prototype.composeOutput=function(r,a){const{domain:i,interpolator:o,round:s}=this.getOptions(),l=t(i.map(r)),c=s?KAe(o):o;this.output=$h(c,l,a,r)},n.prototype.invert=void 0}}var oE={exports:{}},sE,AI;function QAe(){return AI||(AI=1,sE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),sE}var lE={exports:{}},cE,kI;function JAe(){return kI||(kI=1,cE=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),cE}var TI;function eke(){if(TI)return lE.exports;TI=1;var e=JAe(),t=Array.prototype.concat,n=Array.prototype.slice,r=lE.exports=function(i){for(var o=[],s=0,l=i.length;s<l;s++){var c=i[s];e(c)?o=t.call(o,n.call(c)):o.push(c)}return o};return r.wrap=function(a){return function(){return a(r(arguments))}},lE.exports}var OI;function tke(){if(OI)return oE.exports;OI=1;var e=QAe(),t=eke(),n=Object.hasOwnProperty,r=Object.create(null);for(var a in e)n.call(e,a)&&(r[e[a]]=a);var i=oE.exports={to:{},get:{}};i.get=function(l){var c=l.substring(0,3).toLowerCase(),u,f;switch(c){case"hsl":u=i.get.hsl(l),f="hsl";break;case"hwb":u=i.get.hwb(l),f="hwb";break;default:u=i.get.rgb(l),f="rgb";break}return u?{model:f,value:u}:null},i.get.rgb=function(l){if(!l)return null;var c=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^(\w+)$/,p=[0,0,0,1],v,g,m;if(v=l.match(u)){for(m=v[2],v=v[1],g=0;g<3;g++){var y=g*2;p[g]=parseInt(v.slice(y,y+2),16)}m&&(p[3]=parseInt(m,16)/255)}else if(v=l.match(c)){for(v=v[1],m=v[3],g=0;g<3;g++)p[g]=parseInt(v[g]+v[g],16);m&&(p[3]=parseInt(m+m,16)/255)}else if(v=l.match(f)){for(g=0;g<3;g++)p[g]=parseInt(v[g+1],0);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else if(v=l.match(d)){for(g=0;g<3;g++)p[g]=Math.round(parseFloat(v[g+1])*2.55);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else return(v=l.match(h))?v[1]==="transparent"?[0,0,0,0]:n.call(e,v[1])?(p=e[v[1]],p[3]=1,p):null:null;for(g=0;g<3;g++)p[g]=o(p[g],0,255);return p[3]=o(p[3],0,1),p},i.get.hsl=function(l){if(!l)return null;var c=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var f=parseFloat(u[4]),d=(parseFloat(u[1])%360+360)%360,h=o(parseFloat(u[2]),0,100),p=o(parseFloat(u[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},i.get.hwb=function(l){if(!l)return null;var c=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var f=parseFloat(u[4]),d=(parseFloat(u[1])%360+360)%360,h=o(parseFloat(u[2]),0,100),p=o(parseFloat(u[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},i.to.hex=function(){var l=t(arguments);return"#"+s(l[0])+s(l[1])+s(l[2])+(l[3]<1?s(Math.round(l[3]*255)):"")},i.to.rgb=function(){var l=t(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},i.to.rgb.percent=function(){var l=t(arguments),c=Math.round(l[0]/255*100),u=Math.round(l[1]/255*100),f=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+c+"%, "+u+"%, "+f+"%)":"rgba("+c+"%, "+u+"%, "+f+"%, "+l[3]+")"},i.to.hsl=function(){var l=t(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},i.to.hwb=function(){var l=t(arguments),c="";return l.length>=4&&l[3]!==1&&(c=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+c+")"},i.to.keyword=function(l){return r[l.slice(0,3)]};function o(l,c,u){return Math.min(Math.max(c,l),u)}function s(l){var c=Math.round(l).toString(16).toUpperCase();return c.length<2?"0"+c:c}return oE.exports}var nke=tke();const rke=Vb(nke);function uE(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ake(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,a=e[3];if(n===0)return[r*255,r*255,r*255,a];const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=uE(o,i,t+1/3),l=uE(o,i,t),c=uE(o,i,t-1/3);return[s*255,l*255,c*255,a]}function CI(e){const t=rke.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?ake(r):null}const jh=(e,t)=>n=>e*(1-n)+t*n,ike=(e,t)=>{const n=CI(e),r=CI(t);return n===null||r===null?n?()=>e:()=>t:a=>{const i=new Array(4);for(let u=0;u<4;u+=1){const f=n[u],d=r[u];i[u]=f*(1-a)+d*a}const[o,s,l,c]=i;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},$g=(e,t)=>typeof e=="number"&&typeof t=="number"?jh(e,t):typeof e=="string"&&typeof t=="string"?ike(e,t):()=>e,oke=(e,t)=>{const n=jh(e,t);return r=>Math.round(n(r))};function ske(e,t){const{second:n,minute:r,hour:a,day:i,week:o,month:s,year:l}=t;return n.floor(e)<e?".SSS":r.floor(e)<e?":ss":a.floor(e)<e?"hh:mm":i.floor(e)<e?"hh A":s.floor(e)<e?o.floor(e)<e?"MMM DD":"ddd DD":l.floor(e)<e?"MMMM":"YYYY"}function MI({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function lke({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cke({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function uke(e){return typeof e=="object"?e.valueOf():e}class PI extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=uke,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(MI({map:this.map,initKey:this.initKey},t))}has(t){return super.has(MI({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(lke({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(cke({map:this.map,initKey:this.initKey},t))}}class jg{constructor(t){this.options=Ie({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=Ie({},this.options,t),this.rescale(t)}rescale(t){}}const Qb=Symbol("defaultUnknown");function II(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function RI(e){const{value:t,from:n,to:r,mapper:a,notFoundReturn:i}=e;let o=a.get(t);if(o===void 0){if(i!==Qb)return i;o=n.push(t)-1,a.set(t,o)}return r[o%r.length]}function NI(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let mj=class yj extends jg{getDefaultOptions(){return{domain:[],range:[],unknown:Qb}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&II(this.domainIndexMap,this.getDomain(),this.domainKey),RI({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&II(this.rangeIndexMap,this.getRange(),this.rangeKey),RI({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=NI(n),this.rangeKey=NI(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new yj(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function fke(e){const t=Math.min(...e);return e.map(n=>n/t)}function dke(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function hke(e){return Math.round(e*1e12)/1e12}function pke(e){const{domain:t,range:n,paddingOuter:r,paddingInner:a,flex:i,round:o,align:s}=e,l=t.length,c=dke(i,l),[u,f]=n,d=f-u,h=2/l*r+1-1/l*a,p=d/h,v=p*a/l,g=p-l*v,m=fke(c),y=m.reduce((O,C)=>O+C),x=g/y,b=new PI(t.map((O,C)=>{const M=m[C]*x;return[O,o?Math.floor(M):M]})),E=new PI(t.map((O,C)=>{const R=m[C]*x+v;return[O,o?Math.floor(R):R]})),_=Array.from(E.values()).reduce((O,C)=>O+C),A=(d-(_-_/l*a))*s,S=u+A;let k=o?Math.round(S):S;const T=new Array(l);for(let O=0;O<l;O+=1){T[O]=hke(k);const C=t[O];k+=E.get(C)}return{valueBandWidth:b,valueStep:E,adjustedRange:T}}function vke(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return pke(e);const{range:i,paddingOuter:o,paddingInner:s,round:l,align:c}=e;let u,f,d=i[0];const p=i[1]-d,v=o*2,g=r-s;u=p/Math.max(1,v+g),l&&(u=Math.floor(u)),d+=(p-u*(r-s))*c,f=u*(1-s),l&&(d=Math.round(d),f=Math.round(f));const m=new Array(r).fill(0).map((y,x)=>d+x*u);return{valueStep:u,valueBandWidth:f,adjustedRange:m}}let zh=class xj extends mj{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Qb,flex:[]}}constructor(t){super(t)}clone(){return new xj(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:a,flex:i}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=vke({align:t,range:r,round:a,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const Ld=(e,t,n)=>{let r,a,i=e,o=t;if(i===o&&n>0)return[i];let s=fx(i,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){i=Math.ceil(i/s),o=Math.floor(o/s),a=new Array(r=Math.ceil(o-i+1));for(let l=0;l<r;l+=1)a[l]=(i+l)*s}else{s=-s,i=Math.ceil(i*s),o=Math.floor(o*s),a=new Array(r=Math.ceil(o-i+1));for(let l=0;l<r;l+=1)a[l]=(i+l)/s}return a};let x3=class bj extends jg{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Ld}}map(t){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(t){const[n]=this.options.range;return t===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:n,tickCount:r}=this.options,[a,i]=n;return!kn(a)||!kn(i)?[]:t(a,i,r)}clone(){return new bj(this.options)}};function Gp(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const gke=[1,5,2,2.5,4,3],DI=Number.EPSILON*100;function mke(e,t){return(e%t+t)%t}function yke(e){return Math.round(e*1e12)/1e12}function xke(e,t,n,r,a,i){const o=e2(t),s=T$(t,e);let l=0;const c=mke(r,i);return(c<DI||i-c<DI)&&r<=0&&a>=0&&(l=1),1-s/(o-1)-n+l}function bke(e,t,n){const r=e2(t);return 1-T$(t,e)/(r-1)-n+1}function wke(e,t,n,r,a,i){const o=(e-1)/(i-a),s=(t-1)/(Math.max(i,r)-Math.min(n,a));return 2-Math.max(o/s,s/o)}function _ke(e,t){return e>=t?2-(e-1)/(t-1):1}function Eke(e,t,n,r){const a=t-e;return 1-.5*((t-r)**2+(e-n)**2)/(.1*a)**2}function Ske(e,t,n){const r=t-e;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function Ake(){return 1}const b3=(e,t,n=5,r=!0,a=gke,i=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||typeof e!="number"||typeof t!="number"||!o)return[];if(t-e<1e-15||o===1)return[e];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let p=0;p<a.length;p+=1){const v=a[p],g=bke(v,a,l);if(i[0]*g+i[1]+i[2]+i[3]<s.score){l=1/0;break}let m=2;for(;m<1/0;){const y=_ke(m,o);if(i[0]*g+i[1]+i[2]*y+i[3]<s.score)break;const x=(t-e)/(m+1)/l/v;let b=Math.ceil(Math.log10(x));for(;b<1/0;){const E=l*v*10**b,_=Ske(e,t,E*(m-1));if(i[0]*g+i[1]*_+i[2]*y+i[3]<s.score)break;const w=Math.floor(t/E)*l-(m-1)*l,A=Math.ceil(e/E)*l;if(w<=A){const S=A-w;for(let k=0;k<=S;k+=1){const O=(w+k)*(E/l),C=O+E*(m-1),M=E,R=xke(v,a,l,O,C,M),I=Eke(e,t,O,C),P=wke(m,o,e,t,O,C),B=Ake(),N=i[0]*R+i[1]*I+i[2]*P+i[3]*B;N>s.score&&(!r||O<=e&&C>=t)&&(s.lmin=O,s.lmax=C,s.lstep=M,s.score=N)}}b+=1}m+=1}}l+=1}const c=Gp(s.lmax),u=Gp(s.lmin),f=Gp(s.lstep),d=Math.floor(yke((c-u)/f))+1,h=new Array(d);h[0]=Gp(u);for(let p=1;p<d;p+=1)h[p]=Gp(h[p-1]+f);return h};let wj=class _j extends jg{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:b3}}map(t){return c2(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new _j(this.options)}getTicks(){const{domain:t,tickCount:n,tickMethod:r}=this.options,[a,i]=t;return!kn(a)||!kn(i)?[]:r(a,i,n)}};const kke=(e,t,n)=>{const[r,a]=e,[i,o]=t;let s,l;return r<a?(s=l2(r,a),l=n(i,o)):(s=l2(a,r),l=n(o,i)),$h(l,s)},Tke=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,l=o?[...t].reverse():t;for(let c=0;c<r;c+=1)a[c]=l2(s[c],s[c+1]),i[c]=n(l[c],l[c+1]);return c=>{const u=g3(e,c,1,r)-1,f=a[u],d=i[u];return $h(d,f)(c)}},LI=(e,t,n,r)=>(Math.min(e.length,t.length)>2?Tke:kke)(e,t,r?oke:n);let Jb=class extends jg{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:jh,tickCount:5}}map(t){return c2(t)?this.output(t):this.options.unknown}invert(t){return c2(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,n,r,...a]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...a)}getTicks(){const{tickMethod:t}=this.options,[n,r,a,...i]=this.getTickMethodOptions();return t(n,r,a,...i)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],a=t[t.length-1];return[r,a,n]}chooseNice(){return lj}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,a=this.options.domain.map(t),i=Math.min(a.length,r.length);return n?IAe(a[0],a[i-1]):Pd}composeOutput(t,n){const{domain:r,range:a,round:i,interpolate:o}=this.options,s=LI(r.map(t),a,o,i);this.output=$h(s,n,t)}composeInput(t,n,r){const{domain:a,range:i}=this.options,o=LI(i,a.map(t),jh);this.input=$h(n,r,o)}},hr=class Ej extends Jb{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:$g,tickMethod:Ld,tickCount:5}}chooseTransforms(){return[Pd,Pd]}clone(){return new Ej(this.options)}},Sj=class Aj extends zh{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Qb,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new Aj(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}};const Oke=e=>t=>t<0?-((-t)**e):t**e,Cke=e=>t=>t<0?-((-t)**(1/e)):t**(1/e),Mke=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let kj=class Tj extends Jb{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:$g,tickMethod:Ld,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(t===1)return[Pd,Pd];const n=t===.5?Mke:Oke(t),r=Cke(t);return[n,r]}clone(){return new Tj(this.options)}},Pke=class Oj extends kj{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:$g,tickMethod:Ld,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new Oj(this.options)}},ew=class Cj extends jg{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!c2(t))return this.options.unknown;const n=g3(this.thresholds,t,0,this.n);return this.options.range[n]}invert(t){const{range:n}=this.options,r=n.indexOf(t),a=this.thresholds;return[a[r-1],a[r]]}clone(){return new Cj(this.options)}rescale(){const{domain:t,range:n}=this.options;this.n=Math.min(t.length,n.length-1),this.thresholds=t}};const Ike=(e,t,n,r=10)=>{const a=e<0,i=y3(r,a),o=m3(r,a),s=t<e,l=s?t:e,c=s?e:t;let u=o(l),f=o(c),d=[];if(!(r%1)&&f-u<n){if(u=Math.floor(u),f=Math.ceil(f),a)for(;u<=f;u+=1){const h=i(u);for(let p=r-1;p>=1;p-=1){const v=h*p;if(v>c)break;v>=l&&d.push(v)}}else for(;u<=f;u+=1){const h=i(u);for(let p=1;p<r;p+=1){const v=h*p;if(v>c)break;v>=l&&d.push(v)}}d.length*2<n&&(d=Ld(l,c,n))}else{const h=n===-1?f-u:Math.min(f-u,n);d=Ld(u,f,h).map(i)}return s?d.reverse():d};let Rke=class Mj extends Jb{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:$g,tickMethod:Ike,tickCount:5}}chooseNice(){return qAe}getTickMethodOptions(){const{domain:t,tickCount:n,base:r}=this.options,a=t[0],i=t[t.length-1];return[a,i,n,r]}chooseTransforms(){const{base:t,domain:n}=this.options,r=n[0]<0;return[m3(t,r),y3(t,r)]}clone(){return new Mj(this.options)}},Pj=class Ij extends ew{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:b3}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[n,r,a]=this.getTickMethodOptions();this.options.domain=lj(n,r,a)}}getTicks(){const{tickMethod:t}=this.options,[n,r,a]=this.getTickMethodOptions();return t(n,r,a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],a=t[t.length-1];return[r,a,n]}rescale(){this.nice();const{range:t,domain:n}=this.options,[r,a]=n;this.n=t.length-1,this.thresholds=new Array(this.n);for(let i=0;i<this.n;i+=1)this.thresholds[i]=((i+1)*a-(i-this.n)*r)/(this.n+1)}invert(t){const[n,r]=super.invert(t),[a,i]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||a,r||i]}getThresholds(){return this.thresholds}clone(){return new Ij(this.options)}};function Nke(e,t){const n=e.length;if(!n)return;if(n<2)return e[n-1];const r=(n-1)*t,a=Math.floor(r),i=e[a],o=e[a+1];return i+(o-i)*(r-a)}function Dke(e,t,n=!1){const r=e;n||r.sort((i,o)=>i-o);const a=[];for(let i=1;i<t;i+=1)a.push(Nke(r,i/t));return a}let Rj=class Nj extends ew{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:b3}}constructor(t){super(t)}rescale(){const{domain:t,range:n}=this.options;this.n=n.length-1,this.thresholds=Dke(t,this.n+1,!1)}invert(t){const[n,r]=super.invert(t),{domain:a}=this.options,i=a[0],o=a[a.length-1];return n===void 0&&r===void 0?[n,r]:[n||i,r||o]}getThresholds(){return this.thresholds}clone(){return new Nj(this.options)}getTicks(){const{tickCount:t,domain:n,tickMethod:r}=this.options,a=n.length-1,i=n[0],o=n[a];return r(i,o,t)}};var Lke=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Fke=/\[([^]*?)\]/gm;function Dj(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(e[r].substr(0,t));return n}function XA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];for(var o in i)e[o]=i[o]}return e}var Lj=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Fj=["January","February","March","April","May","June","July","August","September","October","November","December"],Bke=Dj(Fj,3),$ke=Dj(Lj,3),jke={dayNamesShort:$ke,dayNames:Lj,monthNamesShort:Bke,monthNames:Fj,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},zke=XA({},jke),ko=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Uke={D:function(e){return String(e.getDate())},DD:function(e){return ko(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return ko(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return ko(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return ko(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return ko(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return ko(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return ko(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return ko(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return ko(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return ko(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return ko(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+ko(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+ko(Math.floor(Math.abs(t)/60),2)+":"+ko(Math.abs(t)%60,2)}},FI={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Hke=function(e,t,n){if(t===void 0&&(t=FI.default),n===void 0&&(n={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=FI[t]||t;var r=[];t=t.replace(Fke,function(i,o){return r.push(o),"@@@"});var a=XA(XA({},zke),n);return t=t.replace(Lke,function(i){return Uke[i](e,a)}),t.replace(/@@@/g,function(){return r.shift()})};const Gke=(e,t,n,r,a)=>{const i=e>t,o=i?t:e,s=i?e:t,[l,c]=vj(o,s,n,r,a),u=l.range(o,new Date(+s+1),c,!0);return i?u.reverse():u};function Wke(e){const t=e.getTimezoneOffset(),n=new Date(e);return n.setMinutes(n.getMinutes()+t,n.getSeconds(),n.getMilliseconds()),n}let Vke=class Bj extends Jb{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:Gke,interpolate:jh,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return XAe}getTickMethodOptions(){const{domain:t,tickCount:n,tickInterval:r,utc:a}=this.options,i=t[0],o=t[t.length-1];return[i,o,n,r,a]}getFormatter(){const{mask:t,utc:n}=this.options,r=n?pj:dj,a=n?Wke:Pd;return i=>Hke(a(i),t||ske(i,r))}clone(){return new Bj(this.options)}};var Yke=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},qA;function Xke(e){return[e(0),e(1)]}const qke=e=>{const[t,n]=e;return $h(jh(0,1),l2(t,n))};let KA=qA=class extends hr{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Pd,tickMethod:Ld,tickCount:5}}constructor(t){super(t)}clone(){return new qA(this.options)}};KA=qA=Yke([ZAe(Xke,qke)],KA);var Kke=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function Zke(e){var t;let n=e;for(;n;){if(((t=n.attributes)===null||t===void 0?void 0:t.class)==="view")return n;n=n.parentNode}return null}function tw(e){const{markType:t,nodeName:n}=e;return t==="heatmap"&&n==="image"}function w3(e,t){const n=t??Zke(e).__data__,r=e.__data__,{markKey:a,index:i,seriesIndex:o,normalized:s={x:0}}=r,{markState:l}=n,c=Array.from(l.keys()).find(u=>u.key===a);if(c)return o?o.map(u=>c.data[u]):tw(e)?c.data[Math.round(c.data.length*s.x)]:c.data[i]}function Qke(e,t){const{color:n,series:r,facet:a=!1}=e,{color:i,series:o}=t,s=l=>l&&l.invert&&!(l instanceof zh)&&!(l instanceof x3);if(s(r))return r.clone().invert(o);if(o&&r instanceof zh&&r.invert(o)!==i&&!a)return r.invert(o);if(s(n)){const l=n.invert(i);return Array.isArray(l)?null:l}return null}function Fd(e){return e}function _3(e){return e.reduce((t,n)=>(r,...a)=>n(t(r,...a),...a),Fd)}function Jke(e){return e.reduce((t,n)=>r=>Kke(this,void 0,void 0,function*(){const a=yield t(r);return n(a)}),Fd)}function E3(e){return e.replace(/( |^)[a-z]/g,t=>t.toUpperCase())}function Uh(e=""){throw new Error(e)}function S3(e,t){const{attributes:n}=t,r=new Set(["id","className"]);for(const[a,i]of Object.entries(n))r.has(a)||e.attr(a,i)}function fr(e){return e!=null&&!Number.isNaN(e)}function eTe(e){const t=new Map;return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}function tTe(e,t){const{transform:n}=e.style,a=(i=>i==="none"||i===void 0)(n)?"":n;e.style.transform=`${a} ${t}`.trimStart()}function qe(e,t){return $j(e,t)||{}}function $j(e,t){const n=Object.entries(e||{}).filter(([r])=>r.startsWith(t)).map(([r,a])=>[S$(r.replace(t,"").trim()),a]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function nTe(e,t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.find(r=>n.startsWith(r))))}function dx(e,...t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.every(r=>!n.startsWith(r))))}function BI(e,t){if(e===void 0)return null;if(typeof e=="number")return e;const n=+e.replace("%","");return Number.isNaN(n)?null:n/100*t}function Hh(e){return typeof e=="object"&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)}function vu(e){return e===null||e===!1}function jj(e,t,n=5,r=0){if(!(r>=n)){for(const a of Object.keys(t)){const i=t[a];!hu(i)||!hu(e[a])?e[a]=i:jj(e[a],i,n,r+1)}return e}}function Ac(e,t){return Object.entries(e).reduce((n,[r,a])=>(n[r]=t(a,r,e),n),{})}function i0(e){return e.map((t,n)=>n)}function rTe(e){return e[0]}function zj(e){return e[e.length-1]}function aTe(e){return Array.from(new Set(e))}function Uj(e,t){const n=[[],[]];return e.forEach(r=>{n[t(r)?0:1].push(r)}),n}function Hj(e,t=e.length){if(t===1)return e.map(r=>[r]);const n=[];for(let r=0;r<e.length;r++){const a=e.slice(r+1);Hj(a,t-1).forEach(o=>{n.push([e[r],...o])})}return n}function iTe(e){if(e.length===1)return[e];const t=[];for(let n=1;n<=e.length;n++)t.push(...Hj(e,n));return t}function wf(e,t,n){const{encode:r}=n;if(e===null)return[t];const a=oTe(e).map(o=>{var s;return[o,(s=yn(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>fr(o)),i=o=>a.map(([,s])=>s[o]).join("-");return Array.from(ur(t,i).values())}function Gj(e){return Array.isArray(e)?cTe(e):typeof e=="function"?lTe(e):e==="series"?sTe:e==="value"?uTe:e==="sum"?fTe:e==="maxIndex"?dTe:null}function Wj(e,t){for(const n of e)n.sort(t)}function Vj(e,t){return(t==null?void 0:t.domain)||Array.from(new Set(e))}function oTe(e){return Array.isArray(e)?e:[e]}function sTe(e,t,n){return zg(r=>n[r])}function lTe(e){return(t,n,r)=>zg(a=>e(t[a]))}function cTe(e){return(t,n,r)=>(a,i)=>e.reduce((o,s)=>o!==0?o:Qr(t[a][s],t[i][s]),0)}function uTe(e,t,n){return zg(r=>t[r])}function fTe(e,t,n){const r=i0(e),a=Array.from(ur(r,o=>n[+o]).entries()),i=new Map(a.map(([o,s])=>[o,s.reduce((l,c)=>l+ +t[c])]));return zg(o=>i.get(n[o]))}function dTe(e,t,n){const r=i0(e),a=Array.from(ur(r,o=>n[+o]).entries()),i=new Map(a.map(([o,s])=>[o,bp(s,l=>t[l])]));return zg(o=>i.get(n[o]))}function zg(e){return(t,n)=>Qr(e(t),e(n))}const Yj=(e={})=>{const{groupBy:t="x",orderBy:n=null,reverse:r=!1,y:a="y",y1:i="y1",series:o=!0}=e;return(s,l)=>{var c;const{data:u,encode:f,style:d={}}=l,[h,p]=yn(f,"y"),[v,g]=yn(f,"y1"),[m]=o?o2(f,"series","color"):yn(f,"color"),y=wf(t,s,l),b=((c=Gj(n))!==null&&c!==void 0?c:()=>null)(u,h,m);b&&Wj(y,b);const E=new Array(s.length),_=new Array(s.length),w=new Array(s.length),A=[],S=[];for(const R of y){r&&R.reverse();const I=v?+v[R[0]]:0,P=[],B=[];for(const F of R){const H=w[F]=+h[F]-I;H<0?B.push(F):H>=0&&P.push(F)}const N=P.length>0?P:B,V=B.length>0?B:P;let W=P.length-1,z=0;for(;W>0&&h[N[W]]===0;)W--;for(;z<V.length-1&&h[V[z]]===0;)z++;A.push(N[W]),S.push(V[z]);let j=I;for(const F of B.reverse()){const H=w[F];j=E[F]=(_[F]=j)+H}let L=I;for(const F of P){const H=w[F];H>0?L=E[F]=(_[F]=L)+H:E[F]=_[F]=L}}const k=new Set(A),T=new Set(S),O=a==="y"?E:_,C=i==="y"?E:_;let M;return l.type==="point"?M={y0:L1(h,p),y:tr(O,p)}:M={y0:L1(h,p),y:tr(O,p),y1:tr(C,g)},[s,Ie({},l,{encode:Object.assign({},M),style:Object.assign({first:(R,I)=>k.has(I),last:(R,I)=>T.has(I)},d)})]}};Yj.props={};function Wp(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function hTe(e){const t=e.getFullYear(),n=Wp(e.getMonth()+1),r=Wp(e.getDate()),a=`${t}-${n}-${r}`,i=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return i||o||s?`${a} ${Wp(i)}:${Wp(o)}:${Wp(s)}`:a}const nw=(e={})=>{const{channel:t="x"}=e;return(n,r)=>{const{encode:a}=r,{tooltip:i}=r;if(vu(i))return[n,r];const{title:o}=i;if(o!==void 0)return[n,r];const s=Object.keys(a).filter(c=>c.startsWith(t)).filter(c=>!a[c].inferred).map(c=>yn(a,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const l=[];for(const c of n)l[c]={value:s.map(u=>u[c]instanceof Date?hTe(u[c]):u[c]).join(", ")};return[n,Ie({},r,{tooltip:{title:l}})]}};nw.props={};const o0=()=>(e,t)=>{const{encode:n}=t,{x:r}=n;return r!==void 0?[e,t]:[e,Ie({},t,{encode:{x:L1(nf(e,0))},scale:{x:{guide:null}}})]};o0.props={};const rw=()=>(e,t)=>{const{encode:n}=t,{y:r}=n;return r!==void 0?[e,t]:[e,Ie({},t,{encode:{y:L1(nf(e,0))},scale:{y:{guide:null}}})]};rw.props={};const Xj=()=>(e,t)=>{const{encode:n}=t,{size:r}=n;return r!==void 0?[e,t]:[e,Ie({},t,{encode:{size:i2(nf(e,3))}})]};Xj.props={};var pTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const qj=()=>(e,t)=>{const{encode:n}=t,{key:r}=n,a=pTe(n,["key"]);if(r!==void 0)return[e,t];const i=Object.values(a).map(({value:s})=>s),o=e.map(s=>i.filter(Array.isArray).map(l=>l[s]).join("-"));return[e,Ie({},t,{encode:{key:tr(o)}})]};qj.props={};const A3=()=>(e,t)=>{const{encode:n}=t,{series:r,color:a}=n;if(r!==void 0||a===void 0)return[e,t];const[i,o]=yn(n,"color");return[e,Ie({},t,{encode:{series:tr(i,o)}})]};A3.props={};const Kj=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Lg)?[e,t]:[e,Ie({},t,{encode:{y:tr(n)}})]};Kj.props={};const Zj=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Lg)?[e,t]:[e,Ie({},t,{encode:{x:tr(n)}})]};Zj.props={};const Qj=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;if(r)return[e,t];const[a]=yn(n,"y");return[e,Ie({},t,{encode:{y1:tr([...a])}})]};Qj.props={};const Jj=()=>(e,t)=>{const{encode:n}=t,{x1:r}=n;if(r)return[e,t];const[a]=yn(n,"x");return[e,Ie({},t,{encode:{x1:tr([...a])}})]};Jj.props={};const ez=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Lg))){const r=(a,i)=>Array.isArray(a[0])?a.map(o=>o[i]):[a[i]];return[e,Ie({},t,{encode:{x:tr(r(n,0)),x1:tr(r(n,1))}})]}return[e,t]};ez.props={};const tz=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Lg))){const r=(a,i)=>Array.isArray(a[0])?a.map(o=>o[i]):[a[i]];return[e,Ie({},t,{encode:{y:tr(r(n,0)),y1:tr(r(n,1))}})]}return[e,t]};tz.props={};const aw=e=>{const{channel:t}=e;return(n,r)=>{const{encode:a,tooltip:i}=r;if(vu(i))return[n,r];const{items:o=[]}=i;if(!o||o.length>0)return[n,r];const l=(Array.isArray(t)?t:[t]).flatMap(c=>Object.keys(a).filter(u=>u.startsWith(c)).map(u=>{const{field:f,value:d,inferred:h=!1,aggregate:p}=a[u];return h?null:p&&d?{channel:u}:f?{field:f}:d?{channel:u}:null}).filter(u=>u!==null));return[n,Ie({},r,{tooltip:{items:l}})]}};aw.props={};const k3=()=>(e,t)=>[e,Ie({scale:{x:{padding:0},y:{padding:0}}},t)];k3.props={};var $I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const iw=()=>(e,t)=>{const{data:n,style:r={}}=t,a=$I(t,["data","style"]),{x:i,y:o}=r,s=$I(r,["x","y"]);if(i==null||o==null)return[e,t];const l=i||0,c=o||0;return[[0],Ie({},a,{data:[0],cartesian:!0,encode:{x:tr([l]),y:tr([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};iw.props={};const nz=()=>(e,t)=>{const{style:n={}}=t;return[e,Ie({},t,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,a])=>[r,()=>a])))})]};nz.props={};const ow=()=>(e,t)=>{const{data:n}=t;if(!Array.isArray(n)||n.some(Lg))return[e,t];const r=Array.isArray(n[0])?n:[n],a=r.map(o=>o[0]),i=r.map(o=>o[1]);return[e,Ie({},t,{encode:{x:tr(a),y:tr(i)}})]};ow.props={};const rz=()=>(e,t)=>{const{style:n={},encode:r}=t,{series:a}=r,{gradient:i}=n;return!i||a?[e,t]:[e,Ie({},t,{encode:{series:i2(nf(e,void 0))}})]};rz.props={};var vTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const az=(e={})=>{const{groupBy:t="x",reverse:n=!1,orderBy:r,padding:a}=e;return vTe(e,["groupBy","reverse","orderBy","padding"]),(i,o)=>{const{data:s,encode:l,scale:c}=o,{series:u}=c,[f]=yn(l,"y"),[d]=o2(l,"series","color"),h=Vj(d,u),p=Ie({},o,{scale:{series:{domain:h,paddingInner:a}}}),v=wf(t,i,o),g=Gj(r);if(!g)return[i,Ie(p,{encode:{series:tr(d)}})];const m=g(s,f,d);m&&Wj(v,m);const y=new Array(i.length);for(const x of v){n&&x.reverse();for(let b=0;b<x.length;b++)y[x[b]]=h[b]}return[i,Ie(p,{encode:{series:tr(r?y:d)}})]}};az.props={};const iz=e=>{const{groupBy:t=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:a=!1,duration:i}=e;return(o,s)=>{const{encode:l}=s,u=(Array.isArray(t)?t:[t]).map(g=>[g,yn(l,g)[0]]);if(u.length===0)return[o,s];let f=[o];for(const[,g]of u){const m=[];for(const y of f){const x=Array.from(ur(y,b=>g[b]).values());m.push(...x)}f=m}if(r){const[g]=yn(l,r);g&&f.sort((m,y)=>n(m,g)-n(y,g)),a&&f.reverse()}const d=(i||3e3)/f.length,[h]=i?[nf(o,d)]:o2(l,"enterDuration",nf(o,d)),[p]=o2(l,"enterDelay",nf(o,0)),v=new Array(o.length);for(let g=0,m=0;g<f.length;g++){const y=f[g],x=Fn(y,b=>+h[b]);for(const b of y)v[b]=+p[b]+m;m+=x}return[o,Ie({},s,{encode:{enterDuration:i2(h),enterDelay:i2(v)}})]}};iz.props={};var gTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function mTe(e){return typeof e=="function"?e:{min:(n,r)=>is(n,a=>r[+a]),max:(n,r)=>Fn(n,a=>r[+a]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>$1(n,a=>r[+a]),median:(n,r)=>v3(n,a=>r[+a]),sum:(n,r)=>Bs(n,a=>r[+a]),deviation:(n,r)=>ij(n,a=>r[+a])}[e]||Fn}const oz=(e={})=>{const{groupBy:t="x",basis:n="max"}=e;return(r,a)=>{const{encode:i,tooltip:o}=a,{x:s}=i,l=gTe(i,["x"]),c=Object.entries(l).filter(([v])=>v.startsWith("y")).map(([v])=>[v,yn(i,v)[0]]),[,u]=c.find(([v])=>v==="y"),f=c.map(([v])=>[v,new Array(r.length)]),d=wf(t,r,a),h=mTe(n);for(const v of d){const g=h(v,u);for(const m of v)for(let y=0;y<c.length;y++){const[,x]=c[y],[,b]=f[y];b[m]=+x[m]/g}}const p=vu(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,Ie({},a,Object.assign({encode:Object.fromEntries(f.map(([v,g])=>[v,tr(g,yn(i,v)[1])]))},!p&&i.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};oz.props={};function u2(e,t,n){if(e===null)return[-.5,.5];const r=Vj(e,t),i=new zh({domain:r,range:[0,1],padding:n}).getBandWidth();return[-i/2,i/2]}function f2(e,t,n){return t*(1-e)+n*e}const sz=(e={})=>{const{padding:t=0,paddingX:n=t,paddingY:r=t,random:a=Math.random}=e;return(i,o)=>{const{encode:s,scale:l}=o,{x:c,y:u}=l,[f]=yn(s,"x"),[d]=yn(s,"y"),h=u2(f,c,n),p=u2(d,u,r),v=i.map(()=>f2(a(),...p)),g=i.map(()=>f2(a(),...h));return[i,Ie({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:tr(v),dx:tr(g)}})]}};sz.props={};const lz=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,a)=>{const{encode:i,scale:o}=a,{x:s}=o,[l]=yn(i,"x"),c=u2(l,s,t),u=r.map(()=>f2(n(),...c));return[r,Ie({scale:{x:{padding:.5}}},a,{encode:{dx:tr(u)}})]}};lz.props={};const cz=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,a)=>{const{encode:i,scale:o}=a,{y:s}=o,[l]=yn(i,"y"),c=u2(l,s,t),u=r.map(()=>f2(n(),...c));return[r,Ie({scale:{y:{padding:.5}}},a,{encode:{dy:tr(u)}})]}};cz.props={};var yTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const uz=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:a}=r,{x:i}=a,o=yTe(a,["x"]),s=Object.entries(o).filter(([d])=>d.startsWith("y")).map(([d])=>[d,yn(a,d)[0]]),l=s.map(([d])=>[d,new Array(n.length)]),c=wf(t,n,r),u=new Array(c.length);for(let d=0;d<c.length;d++){const p=c[d].flatMap(m=>s.map(([,y])=>+y[m])),[v,g]=su(p);u[d]=(v+g)/2}const f=Math.max(...u);for(let d=0;d<c.length;d++){const h=f-u[d],p=c[d];for(const v of p)for(let g=0;g<s.length;g++){const[,m]=s[g],[,y]=l[g];y[v]=+m[v]+h}}return[n,Ie({},r,{encode:Object.fromEntries(l.map(([d,h])=>[d,tr(h,yn(a,d)[1])]))})]}};uz.props={};const fz=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:a}=r,[i]=yn(a,"y"),[o,s]=yn(a,"y1"),l=wf(t,n,r),c=new Array(n.length);for(const u of l){const f=u.map(d=>+i[d]);for(let d=0;d<u.length;d++){const h=u[d],p=Math.max(...f.filter((v,g)=>g!==d));c[h]=+i[h]>p?p:i[h]}}return[n,Ie({},r,{encode:{y1:tr(c,s)}})]}};fz.props={};function jI(e,t){return[e[0]]}function xTe(e,t){const n=e.length-1;return[e[n]]}function bTe(e,t){const n=bp(e,r=>t[r]);return[e[n]]}function wTe(e,t){const n=Bg(e,r=>t[r]);return[e[n]]}function _Te(e){return typeof e=="function"?e:{first:jI,last:xTe,max:bTe,min:wTe}[e]||jI}const sw=(e={})=>{const{groupBy:t="series",channel:n,selector:r}=e;return(a,i)=>{const{encode:o}=i,s=wf(t,a,i),[l]=yn(o,n),c=_Te(r);return[s.flatMap(u=>c(u,l)),i]}};sw.props={};var ETe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dz=(e={})=>{const{selector:t}=e,n=ETe(e,["selector"]);return sw(Object.assign({channel:"x",selector:t},n))};dz.props={};var STe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const hz=(e={})=>{const{selector:t}=e,n=STe(e,["selector"]);return sw(Object.assign({channel:"y",selector:t},n))};hz.props={};var ATe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function _f(e){return t=>t===null?e:`${e} of ${t}`}function kTe(e){if(typeof e=="function")return[e,null];const n={mean:TTe,max:CTe,count:PTe,first:RTe,last:NTe,sum:ITe,min:MTe,median:OTe}[e];if(!n)throw new Error(`Unknown reducer: ${e}.`);return n()}function TTe(){const e=(n,r)=>$1(n,a=>+r[a]),t=_f("mean");return[e,t]}function OTe(){const e=(n,r)=>v3(n,a=>+r[a]),t=_f("median");return[e,t]}function CTe(){const e=(n,r)=>Fn(n,a=>+r[a]),t=_f("max");return[e,t]}function MTe(){const e=(n,r)=>is(n,a=>+r[a]),t=_f("min");return[e,t]}function PTe(){const e=(n,r)=>n.length,t=_f("count");return[e,t]}function ITe(){const e=(n,r)=>Bs(n,a=>+r[a]),t=_f("sum");return[e,t]}function RTe(){const e=(n,r)=>r[n[0]],t=_f("first");return[e,t]}function NTe(){const e=(n,r)=>r[n[n.length-1]],t=_f("last");return[e,t]}const T3=(e={})=>{const{groupBy:t}=e,n=ATe(e,["groupBy"]);return(r,a)=>{const{data:i,encode:o}=a,s=t(r,a);if(!s)return[r,a];const l=(h,p)=>{if(h)return h;const{from:v}=p;if(!v)return h;const[,g]=yn(o,v);return g},c=Object.entries(n).map(([h,p])=>{const[v,g]=kTe(p),[m,y]=yn(o,h),x=l(y,p),b=s.map(E=>v(E,m??i));return[h,Object.assign(Object.assign({},aAe(b,(g==null?void 0:g(x))||x)),{aggregate:!0})]}),u=Object.keys(o).map(h=>{const[p,v]=yn(o,h),g=s.map(m=>p[m[0]]);return[h,tr(g,v)]}),f=s.map(h=>i[h[0]]);return[i0(s),Ie({},a,{data:f,encode:Object.fromEntries([...u,...c])})]}};T3.props={};var DTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ug=(e={})=>{const{channels:t=["x","y"]}=e,n=DTe(e,["channels"]),r=(a,i)=>wf(t,a,i);return T3(Object.assign(Object.assign({},n),{groupBy:r}))};Ug.props={};const pz=(e={})=>Ug(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));pz.props={};const vz=(e={})=>Ug(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));vz.props={};const gz=(e={})=>Ug(Object.assign(Object.assign({},e),{channels:["color"]}));gz.props={};function LTe(e,t,n){const{by:r=e,reducer:a="max"}=t,[i]=yn(n,r);if(typeof a=="function")return o=>a(o,i);if(a==="max")return o=>Fn(o,s=>+i[s]);if(a==="min")return o=>is(o,s=>+i[s]);if(a==="sum")return o=>Bs(o,s=>+i[s]);if(a==="median")return o=>v3(o,s=>+i[s]);if(a==="mean")return o=>$1(o,s=>+i[s]);if(a==="first")return o=>i[o[0]];if(a==="last")return o=>i[o[o.length-1]];throw new Error(`Unknown reducer: ${a}`)}function FTe(e,t,n){if(!Array.isArray(n))return e;const r=new Set(n);return e.filter(a=>r.has(t[a]))}const lw=(e={})=>(t,n)=>{const{reverse:r,slice:a,channel:i,by:o,ordinal:s=!0,reducer:l}=e,{encode:c,scale:u={}}=n,f=u[i].domain,[d]=yn(c,o??i),[h]=yn(c,i),p=LTe(i,{by:o,reducer:l},c),v=FTe(t,h,f),g=mAe(v,p,b=>h[b]),m=s?t:Al(t,b=>d[b]);r&&(!s&&m.reverse(),g.reverse());const y=typeof a=="number"?[0,a]:a,x=a?g.slice(...y):g;return[m,Ie(n,{scale:{[i]:{domain:x}}})]};lw.props={};const mz=(e={})=>lw(Object.assign(Object.assign({},e),{channel:"x"}));mz.props={};const yz=(e={})=>lw(Object.assign(Object.assign({},e),{channel:"color"}));yz.props={};const xz=(e={})=>lw(Object.assign(Object.assign({},e),{channel:"y"}));xz.props={};function BTe(e,t){return typeof t=="string"?e.map(n=>n[t]):e.map(t)}function $Te(e,t){if(typeof e=="function")return n=>e(n,t);if(e==="sum")return n=>Bs(n,r=>+t[r]);throw new Error(`Unknown reducer: ${e}`)}const bz=(e={})=>{const{field:t,channel:n="y",reducer:r="sum"}=e;return(a,i)=>{const{data:o,encode:s}=i,[l]=yn(s,"x"),c=t?BTe(o,t):yn(s,n)[0],u=$Te(r,c),f=h3(a,u,d=>l[d]).map(d=>d[1]);return[a,Ie({},i,{scale:{x:{flex:f}}})]}};bz.props={};function Jr([e,t],[n,r]){return[e-n,t-r]}function Im([e,t],[n,r]){return[e+n,t+r]}function jr([e,t],[n,r]){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function Us([e,t]){return Math.atan2(t,e)}function Gh([e,t]){return Us([e,t])+Math.PI/2}function wz(e,t){const n=Us(e),r=Us(t);return n<r?r-n:Math.PI*2-(n-r)}function O3(e){let t=1/0,n=-1/0,r=1/0,a=-1/0;for(const[s,l]of e)t=Math.min(s,t),n=Math.max(s,n),r=Math.min(l,r),a=Math.max(l,a);const i=n-t,o=a-r;return[t,r,i,o]}function _z([e,t],[n,r]){return[(e+n)/2,(t+r)/2]}function jTe(e){const{padding:t=0,direction:n="col"}=e;return(r,a,i)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:l}=i,c=l/s;let u=Math.ceil(Math.sqrt(a/c)),f=s/u,d=Math.ceil(a/u),h=d*f;for(;h>l;)u=u+1,f=s/u,d=Math.ceil(a/u),h=d*f;const p=l-d*f,v=d<=1?0:p/(d-1),[g,m]=d<=1?[(s-o*f)/(o-1),(l-f)/2]:[0,0];return r.map((y,x)=>{const[b,E,_,w]=O3(y),A=n==="col"?x%u:Math.floor(x/d),S=n==="col"?Math.floor(x/u):x%d,k=A*f,T=(d-S-1)*f+p,O=(f-t)/_,C=(f-t)/w,M=k-b+g*A+1/2*t,R=T-E-v*S-m+1/2*t;return`translate(${M}, ${R}) scale(${O}, ${C})`})}}const Ez=e=>(t,n)=>[t,Ie({},n,{modifier:jTe(e),axis:!1})];Ez.props={};var zTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const zI="thresholds";function UTe(e){const[t,n]=su(e);return Math.min(200,CAe(e,t,n))}const C3=(e={})=>{const{groupChannels:t=["color"],binChannels:n=["x","y"]}=e,r=zTe(e,["groupChannels","binChannels"]),a={},i=(o,s)=>{const{encode:l}=s,c=n.map(p=>{const[v]=yn(l,p);return v}),u=qe(r,zI),f=o.filter(p=>c.every(v=>fr(v[p]))),d=[...t.map(p=>{const[v]=yn(l,p);return v}).filter(fr).map(p=>v=>p[v]),...n.map((p,v)=>{const g=c[v],m=u[p]||UTe(g),y=kAe().thresholds(m).value(b=>+g[b])(f),x=new Map(y.flatMap(b=>{const{x0:E,x1:_}=b,w=`${E},${_}`;return b.map(A=>[A,w])}));return a[p]=x,b=>x.get(b)})],h=p=>d.map(v=>v(p)).join("-");return Array.from(ur(f,h).values())};return T3(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(zI)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+a[o].get(c).split(",")[0],l=([c])=>+a[o].get(c).split(",")[1];return l.from=o,[[o,s],[`${o}1`,l]]}))),{groupBy:i}))};C3.props={};const Sz=(e={})=>{const{thresholds:t}=e;return C3(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};Sz.props={};function HTe(e,t,n,r){const a=e.length;if(r>=a||r===0)return e;const i=h=>t[e[h]]*1,o=h=>n[e[h]]*1,s=[],l=(a-2)/(r-2);let c=0,u,f,d;s.push(c);for(let h=0;h<r-2;h++){let p=0,v=0,g=Math.floor((h+1)*l)+1,m=Math.floor((h+2)*l)+1;m=Math.min(m,a);const y=m-g;for(;g<m;g++)p+=i(g),v+=o(g);p/=y,v/=y;let x=Math.floor((h+0)*l)+1;const b=Math.floor((h+1)*l)+1,E=[i(c),o(c)];for(u=f=-1;x<b;x++)f=Math.abs((E[0]-p)*(i(x)-E[1])-(E[0]-o(x))*(v-E[0]))*.5,f>u&&(u=f,d=x);s.push(d),c=d}return s.push(a-1),s.map(h=>e[h])}function GTe(e){if(typeof e=="function")return e;if(e==="lttb")return HTe;const t={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,a,i)=>[r[Bg(r,o=>i[o])]],max:(r,a,i)=>[r[bp(r,o=>i[o])]],median:(r,a,i)=>[r[MAe(r,o=>i[o])]]},n=t[e]||t.median;return(r,a,i,o)=>{const s=Math.max(1,Math.floor(r.length/o));return WTe(r,s).flatMap(c=>n(c,a,i))}}function WTe(e,t){const n=e.length,r=[];let a=0;for(;a<n;)r.push(e.slice(a,a+=t));return r}const Az=(e={})=>{const{strategy:t="median",thresholds:n=2e3,groupBy:r=["series","color"]}=e,a=GTe(t);return(i,o)=>{const{encode:s}=o,l=wf(r,i,o),[c]=yn(s,"x"),[u]=yn(s,"y");return[l.flatMap(f=>a(f,c,u,n)),o]}};Az.props={};function VTe(e){return typeof e=="object"?[e.value,e.ordinal]:[e,!0]}function YTe(e){var t;const{encode:n}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),a=(t=n==null?void 0:n.color)===null||t===void 0?void 0:t.field;if(!n||!a)return r;let i;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===a&&(i=Object.assign(Object.assign({},i),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return i?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),i)}):r}const kz=(e={})=>(t,n)=>{const{encode:r,data:a}=n,i=Object.entries(e).map(([u,f])=>{const[d]=yn(r,u);if(!d)return null;const[h,p=!0]=VTe(f);if(typeof h=="function")return v=>h(d[v]);if(p){const v=Array.isArray(h)?h:[h];return v.length===0?null:g=>v.includes(d[g])}else{const[v,g]=h;return m=>d[m]>=v&&d[m]<=g}}).filter(fr),o=u=>i.every(f=>f(u)),s=t.filter(o),l=s.map((u,f)=>f);if(i.length===0){const u=YTe(n);return[t,u]}const c=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:l.map(d=>f.value[s[d]]).filter(d=>d!==void 0)})]);return[l,Ie({},n,{encode:Object.fromEntries(c),data:s.map(u=>a[u])})]};kz.props={};function mr(e){return function(){return e}}const UI=Math.abs,Ri=Math.atan2,Ff=Math.cos,XTe=Math.max,fE=Math.min,Gl=Math.sin,W0=Math.sqrt,Di=1e-12,H1=Math.PI,d2=H1/2,qTe=2*H1;function KTe(e){return e>1?0:e<-1?H1:Math.acos(e)}function HI(e){return e>=1?d2:e<=-1?-d2:Math.asin(e)}const ZA=Math.PI,QA=2*ZA,Qf=1e-6,ZTe=QA-Qf;function Tz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function QTe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Tz;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}let M3=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Tz:QTe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,u=o-t,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Qf)if(!(Math.abs(f*l-c*u)>Qf)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=a-s,v=l*l+c*c,g=h*h+p*p,m=Math.sqrt(v),y=Math.sqrt(d),x=i*Math.tan((ZA-Math.acos((v+d-g)/(2*m*y)))/2),b=x/y,E=x/m;Math.abs(b-1)>Qf&&this._append`L${t+b*u},${n+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*p)},${this._x1=t+E*l},${this._y1=n+E*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,u=n+l,f=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Qf||Math.abs(this._y1-u)>Qf)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%QA+QA),d>ZTe?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Qf&&this._append`A${r},${r},0,${+(d>=ZA)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function Vs(){return new M3}Vs.prototype=M3.prototype;function P3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new M3(t)}function JTe(e){return e.innerRadius}function eOe(e){return e.outerRadius}function tOe(e){return e.startAngle}function nOe(e){return e.endAngle}function rOe(e){return e&&e.padAngle}function aOe(e,t,n,r,a,i,o,s){var l=n-e,c=r-t,u=o-a,f=s-i,d=f*l-u*c;if(!(d*d<Di))return d=(u*(t-i)-f*(e-a))/d,[e+d*l,t+d*c]}function Rm(e,t,n,r,a,i,o){var s=e-n,l=t-r,c=(o?i:-i)/W0(s*s+l*l),u=c*l,f=-c*s,d=e+u,h=t+f,p=n+u,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,x=v-h,b=y*y+x*x,E=a-i,_=d*v-p*h,w=(x<0?-1:1)*W0(XTe(0,E*E*b-_*_)),A=(_*x-y*w)/b,S=(-_*y-x*w)/b,k=(_*x+y*w)/b,T=(-_*y+x*w)/b,O=A-g,C=S-m,M=k-g,R=T-m;return O*O+C*C>M*M+R*R&&(A=k,S=T),{cx:A,cy:S,x01:-u,y01:-f,x11:A*(a/E-1),y11:S*(a/E-1)}}function I3(){var e=JTe,t=eOe,n=mr(0),r=null,a=tOe,i=nOe,o=rOe,s=null,l=P3(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=a.apply(this,arguments)-d2,v=i.apply(this,arguments)-d2,g=UI(v-p),m=v>p;if(s||(s=u=l()),h<d&&(f=h,h=d,d=f),!(h>Di))s.moveTo(0,0);else if(g>qTe-Di)s.moveTo(h*Ff(p),h*Gl(p)),s.arc(0,0,h,p,v,!m),d>Di&&(s.moveTo(d*Ff(v),d*Gl(v)),s.arc(0,0,d,v,p,m));else{var y=p,x=v,b=p,E=v,_=g,w=g,A=o.apply(this,arguments)/2,S=A>Di&&(r?+r.apply(this,arguments):W0(d*d+h*h)),k=fE(UI(h-d)/2,+n.apply(this,arguments)),T=k,O=k,C,M;if(S>Di){var R=HI(S/d*Gl(A)),I=HI(S/h*Gl(A));(_-=R*2)>Di?(R*=m?1:-1,b+=R,E-=R):(_=0,b=E=(p+v)/2),(w-=I*2)>Di?(I*=m?1:-1,y+=I,x-=I):(w=0,y=x=(p+v)/2)}var P=h*Ff(y),B=h*Gl(y),N=d*Ff(E),V=d*Gl(E);if(k>Di){var W=h*Ff(x),z=h*Gl(x),j=d*Ff(b),L=d*Gl(b),F;if(g<H1)if(F=aOe(P,B,j,L,W,z,N,V)){var H=P-F[0],D=B-F[1],G=W-F[0],K=z-F[1],re=1/Gl(KTe((H*G+D*K)/(W0(H*H+D*D)*W0(G*G+K*K)))/2),ie=W0(F[0]*F[0]+F[1]*F[1]);T=fE(k,(d-ie)/(re-1)),O=fE(k,(h-ie)/(re+1))}else T=O=0}w>Di?O>Di?(C=Rm(j,L,P,B,h,O,m),M=Rm(W,z,N,V,h,O,m),s.moveTo(C.cx+C.x01,C.cy+C.y01),O<k?s.arc(C.cx,C.cy,O,Ri(C.y01,C.x01),Ri(M.y01,M.x01),!m):(s.arc(C.cx,C.cy,O,Ri(C.y01,C.x01),Ri(C.y11,C.x11),!m),s.arc(0,0,h,Ri(C.cy+C.y11,C.cx+C.x11),Ri(M.cy+M.y11,M.cx+M.x11),!m),s.arc(M.cx,M.cy,O,Ri(M.y11,M.x11),Ri(M.y01,M.x01),!m))):(s.moveTo(P,B),s.arc(0,0,h,y,x,!m)):s.moveTo(P,B),!(d>Di)||!(_>Di)?s.lineTo(N,V):T>Di?(C=Rm(N,V,W,z,d,-T,m),M=Rm(P,B,j,L,d,-T,m),s.lineTo(C.cx+C.x01,C.cy+C.y01),T<k?s.arc(C.cx,C.cy,T,Ri(C.y01,C.x01),Ri(M.y01,M.x01),!m):(s.arc(C.cx,C.cy,T,Ri(C.y01,C.x01),Ri(C.y11,C.x11),!m),s.arc(0,0,d,Ri(C.cy+C.y11,C.cx+C.x11),Ri(M.cy+M.y11,M.cx+M.x11),m),s.arc(M.cx,M.cy,T,Ri(M.y11,M.x11),Ri(M.y01,M.x01),!m))):s.arc(0,0,d,E,b,m)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-H1/2;return[Ff(f)*u,Gl(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:mr(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:mr(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:mr(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:mr(+u),c):r},c.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:mr(+u),c):a},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:mr(+u),c):i},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:mr(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}function Oz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cz(e){this._context=e}Cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hg(e){return new Cz(e)}function Mz(e){return e[0]}function Pz(e){return e[1]}function s0(e,t){var n=mr(!0),r=null,a=Hg,i=null,o=P3(s);e=typeof e=="function"?e:e===void 0?Mz:mr(e),t=typeof t=="function"?t:t===void 0?Pz:mr(t);function s(l){var c,u=(l=Oz(l)).length,f,d=!1,h;for(r==null&&(i=a(h=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(f,c,l),+t(f,c,l));if(h)return i=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:mr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:mr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:mr(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function JA(e,t,n){var r=null,a=mr(!0),i=null,o=Hg,s=null,l=P3(c);e=typeof e=="function"?e:e===void 0?Mz:mr(+e),t=typeof t=="function"?t:mr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Pz:mr(+n);function c(f){var d,h,p,v=(f=Oz(f)).length,g,m=!1,y,x=new Array(v),b=new Array(v);for(i==null&&(s=o(y=l())),d=0;d<=v;++d){if(!(d<v&&a(g=f[d],d,f))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(x[p],b[p]);s.lineEnd(),s.areaEnd()}m&&(x[d]=+e(g,d,f),b[d]=+t(g,d,f),s.point(r?+r(g,d,f):x[d],n?+n(g,d,f):b[d]))}if(y)return s=null,y+""||null}function u(){return s0().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mr(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mr(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}var Iz=R3(Hg);function Rz(e){this._curve=e}Rz.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function R3(e){function t(n){return new Rz(e(n))}return t._curve=e,t}function gv(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(R3(n)):t()._curve},e}function iOe(){return gv(s0().curve(Iz))}function oOe(){var e=JA().curve(Iz),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return gv(n())},delete e.lineX0,e.lineEndAngle=function(){return gv(r())},delete e.lineX1,e.lineInnerRadius=function(){return gv(a())},delete e.lineY0,e.lineOuterRadius=function(){return gv(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(R3(o)):t()._curve},e}function Wh(){}function ek(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function N3(e,t){this._context=e,this._k=(1-t)/6}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ek(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ek(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new N3(r,t)}return n.tension=function(r){return e(+r)},n})(0);function D3(e,t){this._context=e,this._k=(1-t)/6}D3.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ek(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new D3(r,t)}return n.tension=function(r){return e(+r)},n})(0);function Nz(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Di){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Di){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function Dz(e,t){this._context=e,this._alpha=t}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Nz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return t?new Dz(r,t):new N3(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function Lz(e,t){this._context=e,this._alpha=t}Lz.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fz=function e(t){function n(r){return t?new Lz(r,t):new D3(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Bz(e){this._context=e}Bz.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function L3(e){return new Bz(e)}function GI(e){return e<0?-1:1}function WI(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(GI(i)+GI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function VI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function dE(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function h2(e){this._context=e}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dE(this,this._t0,VI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dE(this,VI(this,n=WI(this,e,t)),n);break;default:dE(this,this._t0,n=WI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $z(e){this._context=new jz(e)}($z.prototype=Object.create(h2.prototype)).point=function(e,t){h2.prototype.point.call(this,t,e)};function jz(e){this._context=e}jz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function zz(e){return new h2(e)}function Uz(e){return new $z(e)}function cw(e,t){this._context=e,this._t=t}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Hz(e){return new cw(e,.5)}function Gz(e){return new cw(e,0)}function Wz(e){return new cw(e,1)}function pr(e){const{transformations:t}=e.getOptions();return t.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function Vn(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="polar")}function uw(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="reflect")&&t.some(([n])=>n.startsWith("transpose"))}function Vz(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="helix")}function fw(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="parallel")}function Yz(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="fisheye")}function sOe(e){return fw(e)&&Vn(e)}function wp(e){return Vz(e)||Vn(e)}function lOe(e){return Vn(e)&&pr(e)}function cOe(e){if(wp(e)){const[t,n]=e.getSize(),r=e.getOptions().transformations.find(a=>a[0]==="polar");if(r)return Math.max(t,n)/2*r[4]}return 0}function dw(e){const{transformations:t}=e.getOptions(),[,,,n,r]=t.find(a=>a[0]==="polar");return[+n,+r]}function F3(e,t=!0){const{transformations:n}=e.getOptions(),[,r,a]=n.find(i=>i[0]==="polar");return t?[+r*180/Math.PI,+a*180/Math.PI]:[r,a]}function uOe(e,t){const{transformations:n}=e.getOptions(),[,...r]=n.find(a=>a[0]===t);return r}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function fOe(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xz(e){var t=fOe(e,"string");return cf(t)=="symbol"?t:t+""}function Be(e,t,n){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xz(r.key),r)}}function ge(e,t,n){return t&&XI(e.prototype,t),n&&XI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dOe(e){if(Array.isArray(e))return tk(e)}function hOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B3(e,t){if(e){if(typeof e=="string")return tk(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tk(e,t):void 0}}function pOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e){return dOe(e)||hOe(e)||B3(e)||pOe()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vh(e)}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function vOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gOe(e,t){if(t&&(cf(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vOe(e)}function ut(e,t,n){return t=Vh(t),gOe(e,qz()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function nk(e,t){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nk(e,t)}function ft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nk(e,t)}function mOe(e){if(Array.isArray(e))return e}function yOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function xOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(e,t){return mOe(e)||yOe(e,t)||B3(e,t)||xOe()}var hE={exports:{}},qI;function bOe(){return qI||(qI=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||l,d),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var v=n?n+c:c;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,y,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,d),!0;case 5:return g.fn.call(g.context,u,f,d,h),!0;case 6:return g.fn.call(g.context,u,f,d,h,p),!0}for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];g.fn.apply(g.context,y)}else{var b=g.length,E;for(x=0;x<b;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),m){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,d);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];g[x].fn.apply(g[x].context,y)}}return!0},s.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==u||d&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(hE)),hE.exports}var wOe=bOe();const hw=Vb(wOe);function _Oe(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Vh(e))!==null;);return e}function rk(){return rk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_Oe(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},rk.apply(null,arguments)}function p2(e,t,n,r){var a=rk(Vh(e.prototype),t,n);return typeof a=="function"?function(i){return a.apply(n,i)}:a}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function lu(e,t,n,r){var a=e-n,i=t-r;return Math.sqrt(a*a+i*i)}function Kz(e,t){var n=Math.min.apply(Math,_t(e)),r=Math.min.apply(Math,_t(t)),a=Math.max.apply(Math,_t(e)),i=Math.max.apply(Math,_t(t));return{x:n,y:r,width:a-n,height:i-r}}function EOe(e,t,n){return Math.atan(-t/e*Math.tan(n))}function SOe(e,t,n){return Math.atan(t/(e*Math.tan(n)))}function AOe(e,t,n,r,a,i){return n*Math.cos(a)*Math.cos(i)-r*Math.sin(a)*Math.sin(i)+e}function kOe(e,t,n,r,a,i){return n*Math.sin(a)*Math.cos(i)+r*Math.cos(a)*Math.sin(i)+t}function TOe(e,t,n,r,a,i,o){for(var s=EOe(n,r,a),l=1/0,c=-1/0,u=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;i<o?i<d&&d<o&&u.push(d):o<d&&d<i&&u.push(d)}for(var h=0;h<u.length;h++){var p=AOe(e,t,n,r,a,u[h]);p<l&&(l=p),p>c&&(c=p)}for(var v=SOe(n,r,a),g=1/0,m=-1/0,y=[i,o],x=-Math.PI*2;x<=Math.PI*2;x+=Math.PI){var b=v+x;i<o?i<b&&b<o&&y.push(b):o<b&&b<i&&y.push(b)}for(var E=0;E<y.length;E++){var _=kOe(e,t,n,r,a,y[E]);_<g&&(g=_),_>m&&(m=_)}return{x:l,y:g,width:c-l,height:m-g}}var OOe=1e-4;function Zz(e,t,n,r,a,i){var o=-1,s=1/0,l=[n,r],c=20;i&&i>200&&(c=i/10);for(var u=1/c,f=u/10,d=0;d<=c;d++){var h=d*u,p=[a.apply(void 0,_t(e.concat([h]))),a.apply(void 0,_t(t.concat([h])))],v=lu(l[0],l[1],p[0],p[1]);v<s&&(o=h,s=v)}if(o===0)return{x:e[0],y:t[0]};if(o===1){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(var m=0;m<32&&!(f<OOe);m++){var y=o-f,x=o+f,b=[a.apply(void 0,_t(e.concat([y]))),a.apply(void 0,_t(t.concat([y])))],E=lu(l[0],l[1],b[0],b[1]);if(y>=0&&E<s)o=y,s=E;else{var _=[a.apply(void 0,_t(e.concat([x]))),a.apply(void 0,_t(t.concat([x])))],w=lu(l[0],l[1],_[0],_[1]);x<=1&&w<s?(o=x,s=w):f*=.5}}return{x:a.apply(void 0,_t(e.concat([o]))),y:a.apply(void 0,_t(t.concat([o])))}}function Qz(e,t,n,r){return lu(e,t,n,r)}function Jz(e,t,n,r,a){return{x:(1-a)*e+a*n,y:(1-a)*t+a*r}}function COe(e,t,n,r,a,i){var o=[n-e,r-t];if(ISe(o,[0,0]))return Math.sqrt((a-e)*(a-e)+(i-t)*(i-t));var s=[-o[1],o[0]];MSe(s,s);var l=[a-e,i-t];return Math.abs(PSe(l,s))}function ak(e,t,n,r,a){var i=1-a;return i*i*i*e+3*t*a*i*i+3*n*a*a*i+r*a*a*a}function KI(e,t,n,r){var a=-3*e+9*t-9*n+3*r,i=6*e-12*t+6*n,o=3*t-3*e,s=[],l,c,u;if(pc(a,0))pc(i,0)||(l=-o/i,l>=0&&l<=1&&s.push(l));else{var f=i*i-4*a*o;pc(f,0)?s.push(-i/(2*a)):f>0&&(u=Math.sqrt(f),l=(-i+u)/(2*a),c=(-i-u)/(2*a),l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function MOe(e,t,n,r,a,i,o,s){for(var l=[e,o],c=[t,s],u=KI(e,n,a,o),f=KI(t,r,i,s),d=0;d<u.length;d++)l.push(ak(e,n,a,o,u[d]));for(var h=0;h<f.length;h++)c.push(ak(t,r,i,s,f[h]));return Kz(l,c)}function POe(e,t,n,r,a,i,o,s,l,c,u){return Zz([e,n,a,o],[t,r,i,s],l,c,ak,u)}function ZI(e,t,n,r,a,i,o,s,l,c,u){var f=POe(e,t,n,r,a,i,o,s,l,c,u);return lu(f.x,f.y,l,c)}function IOe(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],a=e[n+1];t+=lu(r[0],r[1],a[0],a[1])}return t}function ROe(e){return IOe(e)}function ik(e,t,n,r){var a=1-r;return a*a*e+2*r*a*t+r*r*n}function QI(e,t,n){var r=e+n-2*t;if(pc(r,0))return[.5];var a=(e-t)/r;return a<=1&&a>=0?[a]:[]}function NOe(e,t,n,r,a,i){var o=QI(e,n,a)[0],s=QI(t,r,i)[0],l=[e,a],c=[t,i];return o!==void 0&&l.push(ik(e,n,a,o)),s!==void 0&&c.push(ik(t,r,i,s)),Kz(l,c)}function DOe(e,t,n,r,a,i,o,s){return Zz([e,n,a],[t,r,i],o,s,ik)}function LOe(e,t,n,r,a,i,o,s){var l=DOe(e,t,n,r,a,i,o,s);return lu(l.x,l.y,o,s)}function Ai(){Ai=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(I,P,B){I[P]=B.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(I,P,B){return Object.defineProperty(I,P,{value:B,enumerable:!0,configurable:!0,writable:!0}),I[P]}try{c({},"")}catch{c=function(B,N,V){return B[N]=V}}function u(I,P,B,N){var V=P&&P.prototype instanceof m?P:m,W=Object.create(V.prototype),z=new M(N||[]);return a(W,"_invoke",{value:k(I,B,z)}),W}function f(I,P,B){try{return{type:"normal",arg:I.call(P,B)}}catch(N){return{type:"throw",arg:N}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function x(){}var b={};c(b,o,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(R([])));_&&_!==n&&r.call(_,o)&&(b=_);var w=x.prototype=m.prototype=Object.create(b);function A(I){["next","throw","return"].forEach(function(P){c(I,P,function(B){return this._invoke(P,B)})})}function S(I,P){function B(V,W,z,j){var L=f(I[V],I,W);if(L.type!=="throw"){var F=L.arg,H=F.value;return H&&cf(H)=="object"&&r.call(H,"__await")?P.resolve(H.__await).then(function(D){B("next",D,z,j)},function(D){B("throw",D,z,j)}):P.resolve(H).then(function(D){F.value=D,z(F)},function(D){return B("throw",D,z,j)})}j(L.arg)}var N;a(this,"_invoke",{value:function(W,z){function j(){return new P(function(L,F){B(W,z,L,F)})}return N=N?N.then(j,j):j()}})}function k(I,P,B){var N=d;return function(V,W){if(N===p)throw Error("Generator is already running");if(N===v){if(V==="throw")throw W;return{value:e,done:!0}}for(B.method=V,B.arg=W;;){var z=B.delegate;if(z){var j=T(z,B);if(j){if(j===g)continue;return j}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(N===d)throw N=v,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);N=p;var L=f(I,P,B);if(L.type==="normal"){if(N=B.done?v:h,L.arg===g)continue;return{value:L.arg,done:B.done}}L.type==="throw"&&(N=v,B.method="throw",B.arg=L.arg)}}}function T(I,P){var B=P.method,N=I.iterator[B];if(N===e)return P.delegate=null,B==="throw"&&I.iterator.return&&(P.method="return",P.arg=e,T(I,P),P.method==="throw")||B!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+B+"' method")),g;var V=f(N,I.iterator,P.arg);if(V.type==="throw")return P.method="throw",P.arg=V.arg,P.delegate=null,g;var W=V.arg;return W?W.done?(P[I.resultName]=W.value,P.next=I.nextLoc,P.method!=="return"&&(P.method="next",P.arg=e),P.delegate=null,g):W:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,g)}function O(I){var P={tryLoc:I[0]};1 in I&&(P.catchLoc=I[1]),2 in I&&(P.finallyLoc=I[2],P.afterLoc=I[3]),this.tryEntries.push(P)}function C(I){var P=I.completion||{};P.type="normal",delete P.arg,I.completion=P}function M(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(O,this),this.reset(!0)}function R(I){if(I||I===""){var P=I[o];if(P)return P.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var B=-1,N=function V(){for(;++B<I.length;)if(r.call(I,B))return V.value=I[B],V.done=!1,V;return V.value=e,V.done=!0,V};return N.next=N}}throw new TypeError(cf(I)+" is not iterable")}return y.prototype=x,a(w,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:y,configurable:!0}),y.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(I){var P=typeof I=="function"&&I.constructor;return!!P&&(P===y||(P.displayName||P.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,x):(I.__proto__=x,c(I,l,"GeneratorFunction")),I.prototype=Object.create(w),I},t.awrap=function(I){return{__await:I}},A(S.prototype),c(S.prototype,s,function(){return this}),t.AsyncIterator=S,t.async=function(I,P,B,N,V){V===void 0&&(V=Promise);var W=new S(u(I,P,B,N),V);return t.isGeneratorFunction(P)?W:W.next().then(function(z){return z.done?z.value:W.next()})},A(w),c(w,l,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(I){var P=Object(I),B=[];for(var N in P)B.push(N);return B.reverse(),function V(){for(;B.length;){var W=B.pop();if(W in P)return V.value=W,V.done=!1,V}return V.done=!0,V}},t.values=R,M.prototype={constructor:M,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!P)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=e)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var B=this;function N(F,H){return z.type="throw",z.arg=P,B.next=F,H&&(B.method="next",B.arg=e),!!H}for(var V=this.tryEntries.length-1;V>=0;--V){var W=this.tryEntries[V],z=W.completion;if(W.tryLoc==="root")return N("end");if(W.tryLoc<=this.prev){var j=r.call(W,"catchLoc"),L=r.call(W,"finallyLoc");if(j&&L){if(this.prev<W.catchLoc)return N(W.catchLoc,!0);if(this.prev<W.finallyLoc)return N(W.finallyLoc)}else if(j){if(this.prev<W.catchLoc)return N(W.catchLoc,!0)}else{if(!L)throw Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return N(W.finallyLoc)}}}},abrupt:function(P,B){for(var N=this.tryEntries.length-1;N>=0;--N){var V=this.tryEntries[N];if(V.tryLoc<=this.prev&&r.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var W=V;break}}W&&(P==="break"||P==="continue")&&W.tryLoc<=B&&B<=W.finallyLoc&&(W=null);var z=W?W.completion:{};return z.type=P,z.arg=B,W?(this.method="next",this.next=W.finallyLoc,g):this.complete(z)},complete:function(P,B){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&B&&(this.next=B),g},finish:function(P){for(var B=this.tryEntries.length-1;B>=0;--B){var N=this.tryEntries[B];if(N.finallyLoc===P)return this.complete(N.completion,N.afterLoc),C(N),g}},catch:function(P){for(var B=this.tryEntries.length-1;B>=0;--B){var N=this.tryEntries[B];if(N.tryLoc===P){var V=N.completion;if(V.type==="throw"){var W=V.arg;C(N)}return W}}throw Error("illegal catch attempt")},delegateYield:function(P,B,N){return this.delegate={iterator:R(P),resultName:B,nextLoc:N},this.method==="next"&&(this.arg=e),g}},t}function JI(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function uf(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(l){JI(i,r,a,o,s,"next",l)}function s(l){JI(i,r,a,o,s,"throw",l)}o(void 0)})}}function Zo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=B3(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw i}}}}function FOe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Go(e,t){if(e==null)return{};var n,r,a=FOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var BOe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eU={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(BOe,function(){function n(E,_,w,A,S){r(E,_,w||0,A||E.length-1,S||i)}function r(E,_,w,A,S){for(;A>w;){if(A-w>600){var k=A-w+1,T=_-w+1,O=Math.log(k),C=.5*Math.exp(2*O/3),M=.5*Math.sqrt(O*C*(k-C)/k)*(T-k/2<0?-1:1),R=Math.max(w,Math.floor(_-T*C/k+M)),I=Math.min(A,Math.floor(_+(k-T)*C/k+M));r(E,_,R,I,S)}var P=E[_],B=w,N=A;for(a(E,w,_),S(E[A],P)>0&&a(E,w,A);B<N;){for(a(E,B,N),B++,N--;S(E[B],P)<0;)B++;for(;S(E[N],P)>0;)N--}S(E[w],P)===0?a(E,w,N):(N++,a(E,N,A)),N<=_&&(w=N+1),_<=N&&(A=N-1)}}function a(E,_,w){var A=E[_];E[_]=E[w],E[w]=A}function i(E,_){return E<_?-1:E>_?1:0}var o=function(_){_===void 0&&(_=9),this._maxEntries=Math.max(4,_),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(_){var w=this.data,A=[];if(!y(_,w))return A;for(var S=this.toBBox,k=[];w;){for(var T=0;T<w.children.length;T++){var O=w.children[T],C=w.leaf?S(O):O;y(_,C)&&(w.leaf?A.push(O):m(_,C)?this._all(O,A):k.push(O))}w=k.pop()}return A},o.prototype.collides=function(_){var w=this.data;if(!y(_,w))return!1;for(var A=[];w;){for(var S=0;S<w.children.length;S++){var k=w.children[S],T=w.leaf?this.toBBox(k):k;if(y(_,T)){if(w.leaf||m(_,T))return!0;A.push(k)}}w=A.pop()}return!1},o.prototype.load=function(_){if(!(_&&_.length))return this;if(_.length<this._minEntries){for(var w=0;w<_.length;w++)this.insert(_[w]);return this}var A=this._build(_.slice(),0,_.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var S=this.data;this.data=A,A=S}this._insert(A,this.data.height-A.height-1,!0)}return this},o.prototype.insert=function(_){return _&&this._insert(_,this.data.height-1),this},o.prototype.clear=function(){return this.data=x([]),this},o.prototype.remove=function(_,w){if(!_)return this;for(var A=this.data,S=this.toBBox(_),k=[],T=[],O,C,M;A||k.length;){if(A||(A=k.pop(),C=k[k.length-1],O=T.pop(),M=!0),A.leaf){var R=s(_,A.children,w);if(R!==-1)return A.children.splice(R,1),k.push(A),this._condense(k),this}!M&&!A.leaf&&m(A,S)?(k.push(A),T.push(O),O=0,C=A,A=A.children[0]):C?(O++,A=C.children[O],M=!1):A=null}return this},o.prototype.toBBox=function(_){return _},o.prototype.compareMinX=function(_,w){return _.minX-w.minX},o.prototype.compareMinY=function(_,w){return _.minY-w.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(_){return this.data=_,this},o.prototype._all=function(_,w){for(var A=[];_;)_.leaf?w.push.apply(w,_.children):A.push.apply(A,_.children),_=A.pop();return w},o.prototype._build=function(_,w,A,S){var k=A-w+1,T=this._maxEntries,O;if(k<=T)return O=x(_.slice(w,A+1)),l(O,this.toBBox),O;S||(S=Math.ceil(Math.log(k)/Math.log(T)),T=Math.ceil(k/Math.pow(T,S-1))),O=x([]),O.leaf=!1,O.height=S;var C=Math.ceil(k/T),M=C*Math.ceil(Math.sqrt(T));b(_,w,A,M,this.compareMinX);for(var R=w;R<=A;R+=M){var I=Math.min(R+M-1,A);b(_,R,I,C,this.compareMinY);for(var P=R;P<=I;P+=C){var B=Math.min(P+C-1,I);O.children.push(this._build(_,P,B,S-1))}}return l(O,this.toBBox),O},o.prototype._chooseSubtree=function(_,w,A,S){for(;S.push(w),!(w.leaf||S.length-1===A);){for(var k=1/0,T=1/0,O=void 0,C=0;C<w.children.length;C++){var M=w.children[C],R=h(M),I=v(_,M)-R;I<T?(T=I,k=R<k?R:k,O=M):I===T&&R<k&&(k=R,O=M)}w=O||w.children[0]}return w},o.prototype._insert=function(_,w,A){var S=A?_:this.toBBox(_),k=[],T=this._chooseSubtree(S,this.data,w,k);for(T.children.push(_),u(T,S);w>=0&&k[w].children.length>this._maxEntries;)this._split(k,w),w--;this._adjustParentBBoxes(S,k,w)},o.prototype._split=function(_,w){var A=_[w],S=A.children.length,k=this._minEntries;this._chooseSplitAxis(A,k,S);var T=this._chooseSplitIndex(A,k,S),O=x(A.children.splice(T,A.children.length-T));O.height=A.height,O.leaf=A.leaf,l(A,this.toBBox),l(O,this.toBBox),w?_[w-1].children.push(O):this._splitRoot(A,O)},o.prototype._splitRoot=function(_,w){this.data=x([_,w]),this.data.height=_.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(_,w,A){for(var S,k=1/0,T=1/0,O=w;O<=A-w;O++){var C=c(_,0,O,this.toBBox),M=c(_,O,A,this.toBBox),R=g(C,M),I=h(C)+h(M);R<k?(k=R,S=O,T=I<T?I:T):R===k&&I<T&&(T=I,S=O)}return S||A-w},o.prototype._chooseSplitAxis=function(_,w,A){var S=_.leaf?this.compareMinX:f,k=_.leaf?this.compareMinY:d,T=this._allDistMargin(_,w,A,S),O=this._allDistMargin(_,w,A,k);T<O&&_.children.sort(S)},o.prototype._allDistMargin=function(_,w,A,S){_.children.sort(S);for(var k=this.toBBox,T=c(_,0,w,k),O=c(_,A-w,A,k),C=p(T)+p(O),M=w;M<A-w;M++){var R=_.children[M];u(T,_.leaf?k(R):R),C+=p(T)}for(var I=A-w-1;I>=w;I--){var P=_.children[I];u(O,_.leaf?k(P):P),C+=p(O)}return C},o.prototype._adjustParentBBoxes=function(_,w,A){for(var S=A;S>=0;S--)u(w[S],_)},o.prototype._condense=function(_){for(var w=_.length-1,A=void 0;w>=0;w--)_[w].children.length===0?w>0?(A=_[w-1].children,A.splice(A.indexOf(_[w]),1)):this.clear():l(_[w],this.toBBox)};function s(E,_,w){if(!w)return _.indexOf(E);for(var A=0;A<_.length;A++)if(w(E,_[A]))return A;return-1}function l(E,_){c(E,0,E.children.length,_,E)}function c(E,_,w,A,S){S||(S=x(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var k=_;k<w;k++){var T=E.children[k];u(S,E.leaf?A(T):T)}return S}function u(E,_){return E.minX=Math.min(E.minX,_.minX),E.minY=Math.min(E.minY,_.minY),E.maxX=Math.max(E.maxX,_.maxX),E.maxY=Math.max(E.maxY,_.maxY),E}function f(E,_){return E.minX-_.minX}function d(E,_){return E.minY-_.minY}function h(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function p(E){return E.maxX-E.minX+(E.maxY-E.minY)}function v(E,_){return(Math.max(_.maxX,E.maxX)-Math.min(_.minX,E.minX))*(Math.max(_.maxY,E.maxY)-Math.min(_.minY,E.minY))}function g(E,_){var w=Math.max(E.minX,_.minX),A=Math.max(E.minY,_.minY),S=Math.min(E.maxX,_.maxX),k=Math.min(E.maxY,_.maxY);return Math.max(0,S-w)*Math.max(0,k-A)}function m(E,_){return E.minX<=_.minX&&E.minY<=_.minY&&_.maxX<=E.maxX&&_.maxY<=E.maxY}function y(E,_){return _.minX<=E.maxX&&_.minY<=E.maxY&&_.maxX>=E.minX&&_.maxY>=E.minY}function x(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(E,_,w,A,S){for(var k=[_,w];k.length;)if(w=k.pop(),_=k.pop(),!(w-_<=A)){var T=_+Math.ceil((w-_)/A/2)*A;n(E,T,_,w,S),k.push(_,T,T,w)}}return o})})(eU);var $Oe=eU.exports,Ae=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),hx=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Ef=function(){function e(){ve(this,e),this.plugins=[]}return ge(e,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var a=n.context.renderingPlugins.indexOf(r);a>=0&&n.context.renderingPlugins.splice(a,1)})}}])}(),jOe=function(){function e(t){ve(this,e),this.clipSpaceNearZ=hx.NEGATIVE_ONE,this.plugins=[],this.config=bt({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return ge(e,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(a){return a===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(a){return a===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])}(),pE=Ki,E0=Ia,zOe=j$,UOe=$$,e6=lf,vE=U$,ma=function(){function e(){ve(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return ge(e,[{key:"update",value:function(n,r){E0(this.center,n),E0(this.halfExtents,r),vE(this.min,this.center,this.halfExtents),pE(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){pE(this.center,r,n),e6(this.center,this.center,.5),vE(this.halfExtents,r,n),e6(this.halfExtents,this.halfExtents,.5),E0(this.min,n),E0(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!e.isEmpty(n)){if(e.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,a=r[0],i=r[1],o=r[2],s=this.halfExtents,l=s[0],c=s[1],u=s[2],f=a-l,d=a+l,h=i-c,p=i+c,v=o-u,g=o+u,m=n.center,y=m[0],x=m[1],b=m[2],E=n.halfExtents,_=E[0],w=E[1],A=E[2],S=y-_,k=y+_,T=x-w,O=x+w,C=b-A,M=b+A;S<f&&(f=S),k>d&&(d=k),T<h&&(h=T),O>p&&(p=O),C<v&&(v=C),M>g&&(g=M),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(v+g)*.5,s[0]=(d-f)*.5,s[1]=(p-h)*.5,s[2]=(g-v)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=v,this.max[0]=d,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(n,r){var a=this.center,i=this.halfExtents,o=n.center,s=n.halfExtents,l=r[0],c=r[4],u=r[8],f=r[1],d=r[5],h=r[9],p=r[2],v=r[6],g=r[10],m=Math.abs(l),y=Math.abs(c),x=Math.abs(u),b=Math.abs(f),E=Math.abs(d),_=Math.abs(h),w=Math.abs(p),A=Math.abs(v),S=Math.abs(g);a[0]=r[12]+l*o[0]+c*o[1]+u*o[2],a[1]=r[13]+f*o[0]+d*o[1]+h*o[2],a[2]=r[14]+p*o[0]+v*o[1]+g*o[2],i[0]=m*s[0]+y*s[1]+x*s[2],i[1]=b*s[0]+E*s[1]+_*s[2],i[2]=w*s[0]+A*s[1]+S*s[2],vE(this.min,a,i),pE(this.max,a,i)}},{key:"intersects",value:function(n){var r=this.getMax(),a=this.getMin(),i=n.getMax(),o=n.getMin();return a[0]<=i[0]&&r[0]>=o[0]&&a[1]<=i[1]&&r[1]>=o[1]&&a[2]<=i[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new e,a=zOe([0,0,0],this.getMin(),n.getMin()),i=UOe([0,0,0],this.getMax(),n.getMax());return r.setMinMax(a,i),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?E0([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?E0([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])}(),HOe=function(){function e(t,n){ve(this,e),this.distance=t||0,this.normal=n||Ot(0,1,0),this.updatePNVertexFlag()}return ge(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return Si(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/l3(this.normal);lf(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,a){var i=this.distanceToPoint(n),o=this.distanceToPoint(r),s=i/(i-o),l=s>=0&&s<=1;return l&&a&&Lh(a,n,r,s),l}}])}(),S0=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),GOe=function(){function e(t){if(ve(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new HOe)}return ge(e,[{key:"extractFromVPMatrix",value:function(n){var r=ct(n,16),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],x=r[15];lr(this.planes[0].normal,s-a,f-l,v-d),this.planes[0].distance=x-g,lr(this.planes[1].normal,s+a,f+l,v+d),this.planes[1].distance=x+g,lr(this.planes[2].normal,s+i,f+c,v+h),this.planes[2].distance=x+m,lr(this.planes[3].normal,s-i,f-c,v-h),this.planes[3].distance=x-m,lr(this.planes[4].normal,s-o,f-u,v-p),this.planes[4].distance=x-y,lr(this.planes[5].normal,s+o,f+u,v+p),this.planes[5].distance=x+y,this.planes.forEach(function(b){b.normalize(),b.updatePNVertexFlag()})}}])}(),_i=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ve(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return ge(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])}(),Yh=function(){function e(t,n,r,a){ve(this,e),this.x=t,this.y=n,this.width=r,this.height=a,this.left=t,this.right=t+r,this.top=n,this.bottom=n+a}return ge(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new e(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var a=tu(n.x,n.y,0,1),i=tu(n.x+n.width,n.y,0,1),o=tu(n.x,n.y+n.height,0,1),s=tu(n.x+n.width,n.y+n.height,0,1),l=Wa(),c=Wa(),u=Wa(),f=Wa();Va(l,a,r),Va(c,i,r),Va(u,o,r),Va(f,s,r);var d=Math.min(l[0],c[0],u[0],f[0]),h=Math.min(l[1],c[1],u[1],f[1]),p=Math.max(l[0],c[0],u[0],f[0]),v=Math.max(l[1],c[1],u[1],f[1]);return e.fromRect({x:d,y:h,width:p-d,height:v-h})}}])}(),Qn="Method not implemented.",A0="Use document.documentElement instead.",WOe="Cannot append a destroyed element.";function oh(e){return e===void 0?0:e>360||e<-360?e%360:e}var gE=Et();function uo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?ni(e):Ia(gE,e):kn(e)?r?Ot(e,t,n):lr(gE,e,t,n):r?Ot(e[0],e[1]||t,e[2]||n):lr(gE,e[0],e[1]||t,e[2]||n)}var VOe=Math.PI/180;function er(e){return e*VOe}var YOe=180/Math.PI;function As(e){return e*YOe}function XOe(e){return 360*e}var v2=Math.PI/2;function qOe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n,s=r*r,l=a*a,c=i*i,u=o+s+l+c,f=n*i-r*a;return f>.499995*u?(e[0]=v2,e[1]=2*Math.atan2(r,n),e[2]=0):f<-.499995*u?(e[0]=-v2,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*a-i*r)),e[1]=Math.atan2(2*(n*i+r*a),1-2*(l+c)),e[2]=Math.atan2(2*(n*r+a*i),1-2*(s+l))),e}function KOe(e,t){var n,r,a=Sc(Et(),t),i=ct(a,3),o=i[0],s=i[1],l=i[2],c=Math.asin(-t[2]/o);return c<v2?c>-v2?(n=Math.atan2(t[6]/s,t[10]/l),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/s,t[5]/s)):(r=0,n=Math.atan2(t[4]/s,t[5]/s)),e[0]=n,e[1]=c,e[2]=r,e}function mE(e,t){return t.length===16?KOe(e,t):qOe(e,t)}function ZOe(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e);return M$(r*i,a*o,0,-r*o,a*i,0,t,n,1)}function QOe(e,t,n,r,a,i,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*i,c=n-t,u=r-a,f=l/c,d=l/u,h=(n+t)/c,p=(r+a)/u,v,g,m=o-i,y=o*i;return s?(v=-o/m,g=-y/m):(v=-(o+i)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=h,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function t6(e){var t=e[0],n=e[1],r=e[3],a=e[4],i=Math.sqrt(t*t+n*n),o=Math.sqrt(r*r+a*a),s=t*a-n*r;if(s<0&&(t<a?i=-i:o=-o),i){var l=1/i;t*=l,n*=l}if(o){var c=1/o;r*=c,a*=c}var u=Math.atan2(n,t),f=As(u);return[e[6],e[7],i,o,f]}var Wl=Dt(),el=Dt(),Vp=Wa(),$t=[Et(),Et(),Et()],n6=Et();function JOe(e,t,n,r,a,i){if(!e3e(Wl,e)||(pu(el,Wl),el[3]=0,el[7]=0,el[11]=0,el[15]=1,Math.abs(QO(el))<1e-8))return!1;var o=Wl[3],s=Wl[7],l=Wl[11],c=Wl[12],u=Wl[13],f=Wl[14],d=Wl[15];if(o!==0||s!==0||l!==0){Vp[0]=o,Vp[1]=s,Vp[2]=l,Vp[3]=d;var h=Ga(el,el);if(!h)return!1;ZO(el,el),Va(a,Vp,el)}else a[0]=a[1]=a[2]=0,a[3]=1;if(t[0]=c,t[1]=u,t[2]=f,t3e($t,Wl),n[0]=wi($t[0]),ns($t[0],$t[0]),r[0]=Si($t[0],$t[1]),yE($t[1],$t[1],$t[0],1,-r[0]),n[1]=wi($t[1]),ns($t[1],$t[1]),r[0]/=n[1],r[1]=Si($t[0],$t[2]),yE($t[2],$t[2],$t[0],1,-r[1]),r[2]=Si($t[1],$t[2]),yE($t[2],$t[2],$t[1],1,-r[2]),n[2]=wi($t[2]),ns($t[2],$t[2]),r[1]/=n[2],r[2]/=n[2],Qv(n6,$t[1],$t[2]),Si($t[0],n6)<0)for(var p=0;p<3;p++)n[p]*=-1,$t[p][0]*=-1,$t[p][1]*=-1,$t[p][2]*=-1;return i[0]=.5*Math.sqrt(Math.max(1+$t[0][0]-$t[1][1]-$t[2][2],0)),i[1]=.5*Math.sqrt(Math.max(1-$t[0][0]+$t[1][1]-$t[2][2],0)),i[2]=.5*Math.sqrt(Math.max(1-$t[0][0]-$t[1][1]+$t[2][2],0)),i[3]=.5*Math.sqrt(Math.max(1+$t[0][0]+$t[1][1]+$t[2][2],0)),$t[2][1]>$t[1][2]&&(i[0]=-i[0]),$t[0][2]>$t[2][0]&&(i[1]=-i[1]),$t[1][0]>$t[0][1]&&(i[2]=-i[2]),!0}function e3e(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,a=0;a<16;a++)e[a]=t[a]*r;return!0}function t3e(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function yE(e,t,n,r,a){e[0]=t[0]*r+n[0]*a,e[1]=t[1]*r+n[1]*a,e[2]=t[2]*r+n[2]*a}var qn=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),ok=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),bs=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),tU={UPDATED:"updated"},r6=2e-4,nU=function(){function e(){ve(this,e),this.clipSpaceNearZ=hx.NEGATIVE_ONE,this.eventEmitter=new hw,this.matrix=Dt(),this.right=Ot(1,0,0),this.up=Ot(0,1,0),this.forward=Ot(0,0,1),this.position=Ot(0,0,1),this.focalPoint=Ot(0,0,0),this.distanceVector=Ot(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Dt(),this.projectionMatrixInverse=Dt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=qn.EXPLORING,this.trackingMode=ok.DEFAULT,this.projectionMode=bs.PERSPECTIVE,this.frustum=new GOe,this.orthoMatrix=Dt()}return ge(e,[{key:"isOrtho",value:function(){return this.projectionMode===bs.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===qn.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===qn.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==qn.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Ga(Dt(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var a=Wi(Dt(),[n,r,0]);this.jitteredProjectionMatrix=Ur(Dt(),a,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===bs.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===bs.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,a,i,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=a,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.projectionMode===bs.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===bs.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===bs.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===bs.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var a=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),i=a.x,o=a.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(i,o),this.setFocalPoint(i,o),this.setZoom(n),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=l.x,u=l.y,f=Ot(c-i,u-o,0),d=Si(f,this.right)/wi(this.right),h=Si(f,this.up)/wi(this.up),p=this.getPosition(),v=ct(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),x=ct(y,2),b=x[0],E=x[1];return this.setPosition(g-d,m-h),this.setFocalPoint(b-d,E-h),this}},{key:"setPerspective",value:function(n,r,a,i){var o;this.projectionMode=bs.PERSPECTIVE,this.fov=a,this.near=n,this.far=r,this.aspect=i;var s=this.near*Math.tan(er(.5*this.fov))/this.zoom,l=2*s,c=this.aspect*l,u=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var f=this.view.fullWidth,d=this.view.fullHeight;u+=this.view.offsetX*c/f,s-=this.view.offsetY*l/d,c*=this.view.width/f,l*=this.view.height/d}return QOe(this.projectionMatrix,u,u+c,s-l,s,n,this.far,this.clipSpaceNearZ===hx.ZERO),Ga(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,a,i,o,s){var l;this.projectionMode=bs.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=a,this.bottom=i,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,h=f-c,p=f+c,v=d+u,g=d-u;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=m*this.view.offsetX,p=h+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===hx.NEGATIVE_ONE?a3(this.projectionMatrix,h,p,v,g,o,s):i3(this.projectionMatrix,h,p,v,g,o,s),Ga(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],i=uo(n,r,a);return this._setPosition(i),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],i=Ot(0,1,0);if(this.focalPoint=uo(n,r,a),this.trackingMode===ok.CINEMATIC){var o=N1(Et(),this.focalPoint,this.position);n=o[0],r=o[1],a=o[2];var s=wi(o),l=As(Math.asin(r/s)),c=90+As(Math.atan2(a,n)),u=Dt();e3(u,u,er(c)),JO(u,u,er(l)),i=sr(Et(),[0,1,0],u)}return Ga(this.matrix,o3(Dt(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<r6&&(this.distance=r6),this.dollyingStep=this.distance/100;var r=Et();n=this.distance;var a=this.forward,i=this.focalPoint;return r[0]=n*a[0]+i[0],r[1]=n*a[1]+i[1],r[2]=n*a[2]+i[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=oh(n),this.computeMatrix(),this._getAxes(),this.type===qn.ORBITING||this.type===qn.EXPLORING?this._getPosition():this.type===qn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=oh(n),this.computeMatrix(),this._getAxes(),this.type===qn.ORBITING||this.type===qn.EXPLORING?this._getPosition():this.type===qn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=oh(n),this.computeMatrix(),this._getAxes(),this.type===qn.ORBITING||this.type===qn.EXPLORING?this._getPosition():this.type===qn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=xo(vn(),[0,0,1],er(this.roll));as(this.matrix);var r=xo(vn(),[1,0,0],er((this.rotateWorld&&this.type!==qn.TRACKING||this.type===qn.TRACKING?1:-1)*this.elevation)),a=xo(vn(),[0,1,0],er((this.rotateWorld&&this.type!==qn.TRACKING||this.type===qn.TRACKING?1:-1)*this.azimuth)),i=wo(vn(),a,r);i=wo(vn(),i,n);var o=Rg(Dt(),i);this.type===qn.ORBITING||this.type===qn.EXPLORING?(Sl(this.matrix,this.matrix,this.focalPoint),Ur(this.matrix,this.matrix,o),Sl(this.matrix,this.matrix,[0,0,this.distance])):this.type===qn.TRACKING&&(Sl(this.matrix,this.matrix,this.position),Ur(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,a){this.position=uo(n,r,a);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Ia(this.right,uo(Va(Wa(),[1,0,0,0],this.matrix))),Ia(this.up,uo(Va(Wa(),[0,1,0,0],this.matrix))),Ia(this.forward,uo(Va(Wa(),[0,0,1,0],this.matrix))),ns(this.right,this.right),ns(this.up,this.up),ns(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],a=this.distanceVector[2],i=wi(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===qn.TRACKING?(this.elevation=As(Math.asin(r/i)),this.azimuth=As(Math.atan2(-n,-a))):this.rotateWorld?(this.elevation=As(Math.asin(r/i)),this.azimuth=As(Math.atan2(-n,-a))):(this.elevation=-As(Math.asin(r/i)),this.azimuth=-As(Math.atan2(-n,-a)))}},{key:"_getPosition",value:function(){Ia(this.position,uo(Va(Wa(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){s3(this.distanceVector,[0,0,-this.distance],C$(a0(),this.matrix)),Ki(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=N1(Et(),this.focalPoint,this.position),this.distance=wi(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===bs.ORTHOGRAPHIC){var n=this.position,r=xo(vn(),[0,0,1],-this.roll*Math.PI/180);iu(this.orthoMatrix,r,Ot((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),Ot(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=Ur(Dt(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(tU.UPDATED)}}},{key:"rotate",value:function(n,r,a){throw new Error(Qn)}},{key:"pan",value:function(n,r){throw new Error(Qn)}},{key:"dolly",value:function(n){throw new Error(Qn)}},{key:"createLandmark",value:function(n,r){throw new Error(Qn)}},{key:"gotoLandmark",value:function(n,r){throw new Error(Qn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Qn)}}])}(),n3e=function(e){return e[e.Standard=0]="Standard",e}({}),g2=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),r3e=Et(),Yp=Dt(),a3e=vn();function a6(e){if(e.localDirtyFlag){var t=e.localSkew[0]!==0||e.localSkew[1]!==0;if(t){iu(e.localTransform,e.localRotation,e.localPosition,Ot(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(as(Yp),Yp[4]=Math.tan(e.localSkew[0]),Yp[1]=Math.tan(e.localSkew[1]),Ur(e.localTransform,e.localTransform,Yp));var n=iu(Yp,n2(a3e,0,0,0,1),lr(r3e,1,1,1),e.localScale,e.origin);Ur(e.localTransform,e.localTransform,n)}else{var r=e.localTransform,a=e.localPosition,i=e.localRotation,o=e.localScale,s=e.origin,l=a[0]!==0||a[1]!==0||a[2]!==0,c=i[3]!==1||i[0]!==0||i[1]!==0||i[2]!==0,u=o[0]!==1||o[1]!==1||o[2]!==1,f=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!u&&!f?l?Wi(r,a):as(r):iu(r,i,a,o,s)}e.localDirtyFlag=!1}}function i3e(e,t){e.dirtyFlag&&(t?Ur(e.worldTransform,t.worldTransform,e.localTransform):pu(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}var rU={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Yh(0,0,0,0)},Ze=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function $3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aU(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gg(){}var G1=.7,m2=1/G1,sh="\\s*([+-]?\\d+)\\s*",W1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o3e=/^#([0-9a-f]{3,8})$/,s3e=new RegExp(`^rgb\\(${sh},${sh},${sh}\\)$`),l3e=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),c3e=new RegExp(`^rgba\\(${sh},${sh},${sh},${W1}\\)$`),u3e=new RegExp(`^rgba\\(${vc},${vc},${vc},${W1}\\)$`),f3e=new RegExp(`^hsl\\(${W1},${vc},${vc}\\)$`),d3e=new RegExp(`^hsla\\(${W1},${vc},${vc},${W1}\\)$`),i6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3(Gg,pw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o6,formatHex:o6,formatHex8:h3e,formatHsl:p3e,formatRgb:s6,toString:s6});function o6(){return this.rgb().formatHex()}function h3e(){return this.rgb().formatHex8()}function p3e(){return iU(this).formatHsl()}function s6(){return this.rgb().formatRgb()}function pw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=o3e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?l6(t):n===3?new Lo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s3e.exec(e))?new Lo(t[1],t[2],t[3],1):(t=l3e.exec(e))?new Lo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c3e.exec(e))?Nm(t[1],t[2],t[3],t[4]):(t=u3e.exec(e))?Nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=f3e.exec(e))?f6(t[1],t[2]/100,t[3]/100,1):(t=d3e.exec(e))?f6(t[1],t[2]/100,t[3]/100,t[4]):i6.hasOwnProperty(e)?l6(i6[e]):e==="transparent"?new Lo(NaN,NaN,NaN,0):null}function l6(e){return new Lo(e>>16&255,e>>8&255,e&255,1)}function Nm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Lo(e,t,n,r)}function v3e(e){return e instanceof Gg||(e=pw(e)),e?(e=e.rgb(),new Lo(e.r,e.g,e.b,e.opacity)):new Lo}function g3e(e,t,n,r){return arguments.length===1?v3e(e):new Lo(e,t,n,r??1)}function Lo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$3(Lo,g3e,aU(Gg,{brighter(e){return e=e==null?m2:Math.pow(m2,e),new Lo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?G1:Math.pow(G1,e),new Lo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Lo(xd(this.r),xd(this.g),xd(this.b),y2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c6,formatHex:c6,formatHex8:m3e,formatRgb:u6,toString:u6}));function c6(){return`#${id(this.r)}${id(this.g)}${id(this.b)}`}function m3e(){return`#${id(this.r)}${id(this.g)}${id(this.b)}${id((isNaN(this.opacity)?1:this.opacity)*255)}`}function u6(){const e=y2(this.opacity);return`${e===1?"rgb(":"rgba("}${xd(this.r)}, ${xd(this.g)}, ${xd(this.b)}${e===1?")":`, ${e})`}`}function y2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function id(e){return e=xd(e),(e<16?"0":"")+e.toString(16)}function f6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pl(e,t,n,r)}function iU(e){if(e instanceof pl)return new pl(e.h,e.s,e.l,e.opacity);if(e instanceof Gg||(e=pw(e)),!e)return new pl;if(e instanceof pl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new pl(o,s,l,e.opacity)}function y3e(e,t,n,r){return arguments.length===1?iU(e):new pl(e,t,n,r??1)}function pl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$3(pl,y3e,aU(Gg,{brighter(e){return e=e==null?m2:Math.pow(m2,e),new pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?G1:Math.pow(G1,e),new pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Lo(xE(e>=240?e-240:e+120,a,r),xE(e,a,r),xE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new pl(d6(this.h),Dm(this.s),Dm(this.l),y2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=y2(this.opacity);return`${e===1?"hsl(":"hsla("}${d6(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d6(e){return e=(e||0)%360,e<0?e+360:e}function Dm(e){return Math.max(0,Math.min(1,e||0))}function xE(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function _a(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=t?t.apply(this,i):i[0],l=n.cache;if(l.has(s))return l.get(s);var c=e.apply(this,i);return n.cache=l.set(s,c)||l,c};return n.cache=new(_a.Cache||Map),_a.cacheList.push(n.cache),n}_a.Cache=Map;_a.cacheList=[];_a.clearCache=function(){_a.cacheList.forEach(function(e){return e.clear()})};var nt=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),ll=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),x3e=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),b3e=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),w3e=[{name:"em",unit_type:nt.kEms},{name:"px",unit_type:nt.kPixels},{name:"deg",unit_type:nt.kDegrees},{name:"rad",unit_type:nt.kRadians},{name:"grad",unit_type:nt.kGradians},{name:"ms",unit_type:nt.kMilliseconds},{name:"s",unit_type:nt.kSeconds},{name:"rem",unit_type:nt.kRems},{name:"turn",unit_type:nt.kTurns}],Xh=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),_3e=function(t){return w3e.find(function(n){return n.name===t}).unit_type},E3e=function(t){return t?t==="number"?nt.kNumber:t==="percent"||t==="%"?nt.kPercentage:_3e(t):nt.kUnknown},S3e=function(t){switch(t){case nt.kNumber:case nt.kInteger:return ll.kUNumber;case nt.kPercentage:return ll.kUPercent;case nt.kPixels:return ll.kULength;case nt.kMilliseconds:case nt.kSeconds:return ll.kUTime;case nt.kDegrees:case nt.kRadians:case nt.kGradians:case nt.kTurns:return ll.kUAngle;default:return ll.kUOther}},A3e=function(t){switch(t){case ll.kUNumber:return nt.kNumber;case ll.kULength:return nt.kPixels;case ll.kUPercent:return nt.kPercentage;case ll.kUTime:return nt.kSeconds;case ll.kUAngle:return nt.kDegrees;default:return nt.kUnknown}},h6=function(t){var n=1;switch(t){case nt.kPixels:case nt.kDegrees:case nt.kSeconds:break;case nt.kMilliseconds:n=.001;break;case nt.kRadians:n=180/Math.PI;break;case nt.kGradians:n=.9;break;case nt.kTurns:n=360;break}return n},sk=function(t){switch(t){case nt.kNumber:case nt.kInteger:return"";case nt.kPercentage:return"%";case nt.kEms:return"em";case nt.kRems:return"rem";case nt.kPixels:return"px";case nt.kDegrees:return"deg";case nt.kRadians:return"rad";case nt.kGradians:return"grad";case nt.kMilliseconds:return"ms";case nt.kSeconds:return"s";case nt.kTurns:return"turn"}return""},vw=function(){function e(){ve(this,e)}return ge(e,[{key:"toString",value:function(){return this.buildCSSText(x3e.kNo,b3e.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Xh.kUnitType&&this.getType()<=Xh.kClampType}}],[{key:"isAngle",value:function(n){return n===nt.kDegrees||n===nt.kRadians||n===nt.kGradians||n===nt.kTurns}},{key:"isLength",value:function(n){return n>=nt.kEms&&n<nt.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===nt.kPercentage||n===nt.kEms||n===nt.kRems}},{key:"isTime",value:function(n){return n===nt.kSeconds||n===nt.kMilliseconds}}])}(),k3e=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.colorSpace=n,r}return ft(t,e),ge(t,[{key:"getType",value:function(){return Xh.kColorType}},{key:"to",value:function(r){return this}}])}(vw),Yu=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),Lm=function(e){function t(n,r){var a;return ve(this,t),a=ut(this,t),a.type=n,a.value=r,a}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(r,a,i){return i}},{key:"getType",value:function(){return Xh.kColorType}}])}(vw),Ys=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.value=n,r}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Xh.kKeywordType}},{key:"buildCSSText",value:function(r,a,i){return i+this.value}}])}(vw),T3e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(t)?r="NaN":t>0?r="infinity":r="-infinity",r+=n},lk=function(t){return A3e(S3e(t))},Jn=function(e){function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.kNumber;ve(this,t),r=ut(this,t);var i;return typeof a=="string"?i=E3e(a):i=a,r.unit=i,r.value=n,r}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(r){var a=r;return this.value===a.value&&this.unit===a.unit}},{key:"getType",value:function(){return Xh.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new t(this.value,this.unit);var a=lk(this.unit);if(a!==lk(r)||a===nt.kUnknown)return null;var i=h6(this.unit)/h6(r);return new t(this.value*i,r)}},{key:"buildCSSText",value:function(r,a,i){var o;switch(this.unit){case nt.kUnknown:break;case nt.kInteger:o=Number(this.value).toFixed(0);break;case nt.kNumber:case nt.kPercentage:case nt.kEms:case nt.kRems:case nt.kPixels:case nt.kDegrees:case nt.kRadians:case nt.kGradians:case nt.kMilliseconds:case nt.kSeconds:case nt.kTurns:{var s=-999999,l=999999,c=this.value,u=sk(this.unit);if(c<s||c>l){var f=sk(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=T3e(c,f):o=c+(f||"")}else o="".concat(c).concat(u)}}return i+=o,i}}])}(vw),ol=new Jn(0,"px");new Jn(1,"px");var Bd=new Jn(0,"deg"),j3=function(e){function t(n,r,a){var i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ve(this,t),i=ut(this,t,["rgb"]),i.r=n,i.g=r,i.b=a,i.alpha=o,i.isNone=s,i}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,a,i){return"".concat(i,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(k3e),p6=new Ys("unset"),O3e=new Ys("initial"),C3e=new Ys("inherit"),bE={"":p6,unset:p6,initial:O3e,inherit:C3e},M3e=function(t){return bE[t]||(bE[t]=new Ys(t)),bE[t]},oU=new j3(0,0,0,0,!0),sU=new j3(0,0,0,0),P3e=_a(function(e,t,n,r){return new j3(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),Pr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.kNumber;return new Jn(t,n)};new Jn(50,"%");function I3e(e){var t=e.type,n=e.value;return t==="hex"?"#".concat(n):t==="literal"?n:t==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var R3e=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(P){throw new Error("".concat(t,": ").concat(P))}function r(){var P=a();return t.length>0&&n("Invalid input not EOF"),P}function a(){return x(i)}function i(){return o("linear-gradient",e.linearGradient,l)||o("repeating-linear-gradient",e.repeatingLinearGradient,l)||o("radial-gradient",e.radialGradient,f)||o("repeating-radial-gradient",e.repeatingRadialGradient,f)||o("conic-gradient",e.conicGradient,f)}function o(P,B,N){return s(B,function(V){var W=N();return W&&(R(e.comma)||n("Missing comma before color stops")),{type:P,orientation:W,colorStops:x(b)}})}function s(P,B){var N=R(P);if(N){R(e.startCall)||n("Missing (");var V=B(N);return R(e.endCall)||n("Missing )"),V}}function l(){return c()||u()}function c(){return M("directional",e.sideOrCorner,1)}function u(){return M("angular",e.angleValue,1)}function f(){var P,B=d(),N;return B&&(P=[],P.push(B),N=t,R(e.comma)&&(B=d(),B?P.push(B):t=N)),P}function d(){var P=h()||p();if(P)P.at=g();else{var B=v();if(B){P=B;var N=g();N&&(P.at=N)}else{var V=m();V&&(P={type:"default-radial",at:V})}}return P}function h(){var P=M("shape",/^(circle)/i,0);return P&&(P.style=C()||v()),P}function p(){var P=M("shape",/^(ellipse)/i,0);return P&&(P.style=T()||v()),P}function v(){return M("extent-keyword",e.extentKeywords,1)}function g(){if(M("position",/^at/,0)){var P=m();return P||n("Missing positioning value"),P}}function m(){var P=y();if(P.x||P.y)return{type:"position",value:P}}function y(){return{x:T(),y:T()}}function x(P){var B=P(),N=[];if(B)for(N.push(B);R(e.comma);)B=P(),B?N.push(B):n("One extra comma");return N}function b(){var P=E();return P||n("Expected color definition"),P.length=T(),P}function E(){return w()||S()||A()||_()}function _(){return M("literal",e.literalColor,0)}function w(){return M("hex",e.hexColor,1)}function A(){return s(e.rgbColor,function(){return{type:"rgb",value:x(k)}})}function S(){return s(e.rgbaColor,function(){return{type:"rgba",value:x(k)}})}function k(){return R(e.number)[1]}function T(){return M("%",e.percentageValue,1)||O()||C()}function O(){return M("position-keyword",e.positionKeywords,1)}function C(){return M("px",e.pixelValue,1)||M("em",e.emValue,1)}function M(P,B,N){var V=R(B);if(V)return{type:P,value:V[N]}}function R(P){var B=/^[\n\r\t\s]+/.exec(t);B&&I(B[0].length);var N=P.exec(t);return N&&I(N[0].length),N}function I(P){t=t.substring(P)}return function(P){return t=P,r()}}();function N3e(e,t,n,r){var a=er(r.value),i=0,o=0,s=i+t/2,l=o+n/2,c=Math.abs(t*Math.cos(a))+Math.abs(n*Math.sin(a)),u=e[0]+s-Math.cos(a)*c/2,f=e[1]+l-Math.sin(a)*c/2,d=e[0]+s+Math.cos(a)*c/2,h=e[1]+l+Math.sin(a)*c/2;return{x1:u,y1:f,x2:d,y2:h}}function D3e(e,t,n,r,a,i){var o=r.value,s=a.value;r.unit===nt.kPercentage&&(o=r.value/100*t),a.unit===nt.kPercentage&&(s=a.value/100*n);var l=Math.max(Io([0,0],[o,s]),Io([0,n],[o,s]),Io([t,n],[o,s]),Io([t,0],[o,s]));return i&&(i instanceof Jn?l=i.value:i instanceof Ys&&(i.value==="closest-side"?l=Math.min(o,t-o,s,n-s):i.value==="farthest-side"?l=Math.max(o,t-o,s,n-s):i.value==="closest-corner"&&(l=Math.min(Io([0,0],[o,s]),Io([0,n],[o,s]),Io([t,n],[o,s]),Io([t,0],[o,s]))))),{x:o+e[0],y:s+e[1],r:l}}var L3e=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,F3e=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,B3e=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,lU=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function $3e(e){var t,n=e.length;if(e[n-1].length=(t=e[n-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},n>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var a=0,i=Number(e[0].length.value),o=1;o<n;o++){var s,l=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!lt(l)&&!lt(i)){for(var c=1;c<o-a;c++)e[a+c].length={type:"%",value:"".concat(i+(Number(l)-i)*c/(o-a))};a=o,i=Number(l)}}}var j3e={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},z3e=_a(function(e){var t;return e.type==="angular"?t=Number(e.value):t=j3e[e.value]||0,Pr(t,"deg")}),U3e=_a(function(e){var t=50,n=50,r="%",a="%";if((e==null?void 0:e.type)==="position"){var i=e.value,o=i.x,s=i.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?t=50:o.value==="right"?t=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?n=50:s.value==="right"?t=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,t=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(a=s==null?void 0:s.type,n=Number(s.value))}return{cx:Pr(t,r),cy:Pr(n,a)}}),H3e=_a(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=R3e(e);return t.map(function(s){var l=s.type,c=s.orientation,u=s.colorStops;$3e(u);var f=u.map(function(x){return{offset:Pr(Number(x.length.value),"%"),color:I3e(x)}});if(l==="linear-gradient")return new Lm(Yu.LinearGradient,{angle:c?z3e(c):Bd,steps:f});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var d=U3e(c[0].at),h=d.cx,p=d.cy,v;if(c[0].style){var g=c[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=M3e(y):v=Pr(y,m)}return new Lm(Yu.RadialGradient,{cx:h,cy:p,size:v,steps:f})}})}var n=e[0];if(e[1]==="("||e[2]==="("){if(n==="l"){var r=L3e.exec(e);if(r){var a,i=((a=r[2].match(lU))===null||a===void 0?void 0:a.map(function(s){return s.split(":")}))||[];return[new Lm(Yu.LinearGradient,{angle:Pr(parseFloat(r[1]),"deg"),steps:i.map(function(s){var l=ct(s,2),c=l[0],u=l[1];return{offset:Pr(Number(c)*100,"%"),color:u}})})]}}else if(n==="r"){var o=G3e(e);if(o)if(In(o))e=o;else return[new Lm(Yu.RadialGradient,o)]}else if(n==="p")return W3e(e)}});function G3e(e){var t=F3e.exec(e);if(t){var n,r=((n=t[4].match(lU))===null||n===void 0?void 0:n.map(function(a){return a.split(":")}))||[];return{cx:Pr(50,"%"),cy:Pr(50,"%"),steps:r.map(function(a){var i=ct(a,2),o=i[0],s=i[1];return{offset:Pr(Number(o)*100,"%"),color:s}})}}return null}function W3e(e){var t=B3e.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function $d(e){return e&&!!e.image}function x2(e){return e&&!lt(e.r)&&!lt(e.g)&&!lt(e.b)}var bd=_a(function(e){if($d(e))return bt({repetition:"repeat"},e);if(lt(e)&&(e=""),e==="transparent")return sU;if(e==="currentColor")e="black";else if(e==="none")return oU;var t=H3e(e);if(t)return t;var n=pw(e),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),P3e.apply(void 0,r)});function V3e(e,t){if(!(!x2(e)||!x2(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(n){var r=n.slice();if(r[3])for(var a=0;a<3;a++)r[a]=Math.round(An(r[a],0,255));return r[3]=An(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Wg(e,t){if(lt(t))return Pr(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return Pr(Number(t),"px");if("deg".search(e)>=0)return Pr(Number(t),"deg")}var n=[];t=t.replace(e,function(a){return n.push(a),"U".concat(a)});var r="U(".concat(e.source,")");return n.map(function(a){return Pr(Number(t.replace(new RegExp("U".concat(a),"g"),"").replace(new RegExp(r,"g"),"*0")),a)})[0]}var cU=function(t){return Wg(new RegExp("px","g"),t)},Y3e=_a(cU),X3e=function(t){return Wg(new RegExp("%","g"),t)};_a(X3e);var uU=function(t){return kn(t)||isFinite(Number(t))?Pr(Number(t)||0,"px"):Wg(new RegExp("px|%|em|rem","g"),t)},ck=_a(uU),fU=function(t){return Wg(new RegExp("deg|rad|grad|turn","g"),t)},q3e=_a(fU);function K3e(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i="",o=e.value||0,s=t.value||0,l=lk(e.unit),c=e.convertTo(l),u=t.convertTo(l);return c&&u?(o=c.value,s=u.value,i=sk(e.unit)):(Jn.isLength(e.unit)||Jn.isLength(t.unit))&&(o=Vo(e,a,n),s=Vo(t,a,n),i="px"),[o,s,function(f){return f+i}]}function Ro(e){var t=0;return e.unit===nt.kDegrees?t=e.value:e.unit===nt.kRadians?t=As(Number(e.value)):e.unit===nt.kTurns?t=XOe(Number(e.value)):e.value&&(t=e.value),t}function v6(e,t){var n;return Array.isArray(e)?n=e.map(function(r){return Number(r)}):In(e)?n=e.split(" ").map(function(r){return Number(r)}):kn(e)&&(n=[e]),t===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:t===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:t==="even"&&n.length%2===1?[].concat(_t(n),_t(n)):n}function Vo(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===nt.kPixels)return Number(e.value);if(e.unit===nt.kPercentage&&n){var a=n.nodeName===Ae.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?a.min[t]:0)+e.value/100*a.halfExtents[t]*2}return 0}var Z3e=function(t){return Wg(/deg|rad|grad|turn|px|%/g,t)},Q3e=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function J3e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,a=0;r=t.exec(e);){if(r.index!==a)return[];if(a=r.index+r[0].length,Q3e.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(i){return Z3e(i)||bd(i)})}),t.lastIndex===e.length)return n}return[]}function dU(e){return e.toString()}var hU=function(t){return typeof t=="number"?Pr(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?Pr(Number(t)):Pr(0)},uk=_a(hU);_a(function(e){return In(e)?e.split(" ").map(uk):e.map(uk)});function z3(e,t){return[e,t,dU]}function U3(e,t){return function(n,r){return[n,r,function(a){return dU(An(a,e,t))}]}}function pU(e,t){if(e.length===t.length)return[e,t,function(n){return n}]}function fk(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=ej(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function eCe(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=ROe(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function tCe(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t],a=r[0];if(a==="M"&&n){var i=n[0],o=[r[1],r[2]],s=void 0;i==="L"||i==="M"?s=[n[1],n[2]]:(i==="C"||i==="A"||i==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&b2(o,s)&&(e.splice(t,1),t--)}}}function nCe(e){for(var t=!1,n=e.length,r=0;r<n;r++){var a=e[r],i=a[0];if(i==="C"||i==="A"||i==="Q"){t=!0;break}}return t}function rCe(e){for(var t=[],n=[],r=[],a=0;a<e.length;a++){var i=e[a],o=i[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([i[1],i[2]])):o==="Z"?r.length&&(t.push(r),r=[]):r.push([i[1],i[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}function b2(e,t){return e[0]===t[0]&&e[1]===t[1]}function aCe(e,t){for(var n=[],r=[],a=[],i=0;i<e.length;i++){var o=e[i],s=o.currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=NOe(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=MOe(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;u=TOe(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(o.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0}),r=r.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0});var d=Dh(n),h=Dh(r),p=Nh(n),v=Nh(r);if(a.length===0)return{x:d,y:h,width:p-d,height:v-h};for(var g=0;g<a.length;g++){var m=a[g],y=m.currentPoint,x=void 0;y[0]===d?(x=Fm(m,t),d-=x.xExtra):y[0]===p&&(x=Fm(m,t),p+=x.xExtra),y[1]===h?(x=Fm(m,t),h-=x.yExtra):y[1]===v&&(x=Fm(m,t),v+=x.yExtra)}return{x:d,y:h,width:p-d,height:v-h}}function Fm(e,t){var n=e.prePoint,r=e.currentPoint,a=e.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2),s=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),l=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!l||Math.sin(l)===0||pc(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(a[1]-r[1],a[0]-r[0])),u=Math.abs(Math.atan2(a[0]-r[0],a[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var f={xExtra:Math.cos(l/2-c)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(u-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function g6(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var m6=function(t,n){var r=t.x*n.x+t.y*n.y,a=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),i=t.x*n.y-t.y*n.x<0?-1:1,o=i*Math.acos(r/a);return o},y6=function(t,n,r,a,i,o,s,l){n=Math.abs(n),r=Math.abs(r),a=Yb(a,360);var c=er(a);if(t.x===s.x&&t.y===s.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(t.x-s.x)/2,f=(t.y-s.y)/2,d={x:Math.cos(c)*u+Math.sin(c)*f,y:-Math.sin(c)*u+Math.cos(c)*f},h=Math.pow(d.x,2)/Math.pow(n,2)+Math.pow(d.y,2)/Math.pow(r,2);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(d.y,2)-Math.pow(r,2)*Math.pow(d.x,2),v=Math.pow(n,2)*Math.pow(d.y,2)+Math.pow(r,2)*Math.pow(d.x,2),g=p/v;g=g<0?0:g;var m=(i!==o?1:-1)*Math.sqrt(g),y={x:m*(n*d.y/r),y:m*(-(r*d.x)/n)},x={x:Math.cos(c)*y.x-Math.sin(c)*y.y+(t.x+s.x)/2,y:Math.sin(c)*y.x+Math.cos(c)*y.y+(t.y+s.y)/2},b={x:(d.x-y.x)/n,y:(d.y-y.y)/r},E=m6({x:1,y:0},b),_={x:(-d.x-y.x)/n,y:(-d.y-y.y)/r},w=m6(b,_);!o&&w>0?w-=2*Math.PI:o&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var A=E+w*l,S=n*Math.cos(A),k=r*Math.sin(A),T={x:Math.cos(c)*S-Math.sin(c)*k+x.x,y:Math.sin(c)*S+Math.cos(c)*k+x.y,ellipticalArcStartAngle:E,ellipticalArcEndAngle:E+w,ellipticalArcAngle:A,ellipticalArcCenter:x,resultantRx:n,resultantRy:r};return T};function iCe(e){for(var t=[],n=null,r=null,a=null,i=0,o=e.length,s=0;s<o;s++){var l=e[s];r=e[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":a=[l[1],l[2]],i=s;break;case"A":var f=oCe(n,l);u.arcParams=f;break}if(c==="Z")n=a,r=e[i+1];else{var d=l.length;n=[l[d-2],l[d-1]]}r&&r[0]==="Z"&&(r=e[i],t[i]&&(t[i].prePoint=n)),u.currentPoint=n,t[i]&&b2(n,t[i].currentPoint)&&(t[i].prePoint=u.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=h;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if(c==="Q"){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if(c==="T"){var g=t[s-1],m=g6(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(c==="C"){var y=[l[1],l[2]],x=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-x[0],n[1]-x[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[y[0]-x[0],y[1]-x[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[x[0]-y[0],x[1]-y[1]])}else if(c==="S"){var b=t[s-1],E=g6(b.currentPoint,p),_=[l[1],l[2]];b.command==="C"?(u.command="C",u.startTangent=[p[0]-E[0],p[1]-E[1]],u.endTangent=[n[0]-_[0],n[1]-_[1]]):(u.command="SQ",u.startTangent=[p[0]-_[0],p[1]-_[1]],u.endTangent=[n[0]-_[0],n[1]-_[1]])}else if(c==="A"){var w=x6(u,0),A=w.x,S=w.y,k=x6(u,1,!1),T=k.x,O=k.y;u.startTangent=[A,S],u.endTangent=[T,O]}t.push(u)}return t}function x6(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,a=r.rx,i=a===void 0?0:a,o=r.ry,s=o===void 0?0:o,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,f=y6({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},t),d=y6({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),h=d.x-f.x,p=d.y-f.y,v=Math.sqrt(h*h+p*p);return{x:-h/v,y:-p/v}}function Bm(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function dk(e,t){return Bm(e)*Bm(t)?(e[0]*t[0]+e[1]*t[1])/(Bm(e)*Bm(t)):1}function b6(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(dk(e,t))}function oCe(e,t){var n=t[1],r=t[2],a=Yb(er(t[3]),Math.PI*2),i=t[4],o=t[5],s=e[0],l=e[1],c=t[6],u=t[7],f=Math.cos(a)*(s-c)/2+Math.sin(a)*(l-u)/2,d=-1*Math.sin(a)*(s-c)/2+Math.cos(a)*(l-u)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(s+c)/2+Math.cos(a)*g-Math.sin(a)*m,x=(l+u)/2+Math.sin(a)*g+Math.cos(a)*m,b=[(f-g)/n,(d-m)/r],E=[(-1*f-g)/n,(-1*d-m)/r],_=b6([1,0],b),w=b6(b,E);return dk(b,E)<=-1&&(w=Math.PI),dk(b,E)>=1&&(w=0),o===0&&w>0&&(w-=2*Math.PI),o===1&&w<0&&(w+=2*Math.PI),{cx:y,cy:x,rx:b2(e,[c,u])?0:n,ry:b2(e,[c,u])?0:r,startAngle:_,endAngle:_+w,xRotation:a,arcFlag:i,sweepFlag:o}}function sCe(e,t,n){return e.reduce(function(r,a){var i="";if(a[0]==="M"||a[0]==="L"){var o=Ot(a[1],a[2],0);n&&sr(o,o,n),i="".concat(a[0]).concat(o[0],",").concat(o[1])}else if(a[0]==="Z")i=a[0];else if(a[0]==="C"){var s=Ot(a[1],a[2],0),l=Ot(a[3],a[4],0),c=Ot(a[5],a[6],0);n&&(sr(s,s,n),sr(l,l,n),sr(c,c,n)),i="".concat(a[0]).concat(s[0],",").concat(s[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if(a[0]==="A"){var u=Ot(a[6],a[7],0);n&&sr(u,u,n),i="".concat(a[0]).concat(a[1],",").concat(a[2],",").concat(a[3],",").concat(a[4],",").concat(a[5],",").concat(u[0],",").concat(u[1])}else if(a[0]==="Q"){var f=Ot(a[1],a[2],0),d=Ot(a[3],a[4],0);n&&(sr(f,f,n),sr(d,d,n)),i="".concat(a[0]).concat(a[1],",").concat(a[2],",").concat(a[3],",").concat(a[4],"}")}return r+=i},"")}function lCe(e,t,n,r){return[["M",e,t],["L",n,r]]}function w6(e,t,n,r){var a=(-1+Math.sqrt(2))/3*4,i=e*a,o=t*a,s=n-e,l=n+e,c=r-t,u=r+t;return[["M",s,r],["C",s,r-o,n-i,c,n,c],["C",n+i,c,l,r-o,l,r],["C",l,r+o,n+i,u,n,u],["C",n-i,u,s,r+o,s,r],["Z"]]}function cCe(e,t){var n=e.map(function(r,a){return[a===0?"M":"L",r[0],r[1]]});return t&&n.push(["Z"]),n}function uCe(e,t,n,r,a){if(a){var i=ct(a,4),o=i[0],s=i[1],l=i[2],c=i[3],u=e>0?1:-1,f=t>0?1:-1,d=u+f!==0?1:0;return[["M",u*o+n,r],["L",e-u*s+n,r],s?["A",s,s,0,0,d,e+n,f*s+r]:null,["L",e+n,t-f*l+r],l?["A",l,l,0,0,d,e+n-u*l,t+r]:null,["L",n+u*c,t+r],c?["A",c,c,0,0,d,n,t+r-f*c]:null,["L",n,f*o+r],o?["A",o,o,0,0,d,u*o+n,r]:null,["Z"]].filter(function(h){return h})}return[["M",n,r],["L",n+e,r],["L",n+e,r+t],["L",n,r+t],["Z"]]}function fCe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLocalTransform(),n=[];switch(e.nodeName){case Ae.LINE:var r=e.parsedStyle,a=r.x1,i=a===void 0?0:a,o=r.y1,s=o===void 0?0:o,l=r.x2,c=l===void 0?0:l,u=r.y2,f=u===void 0?0:u;n=lCe(i,s,c,f);break;case Ae.CIRCLE:{var d=e.parsedStyle,h=d.r,p=h===void 0?0:h,v=d.cx,g=v===void 0?0:v,m=d.cy,y=m===void 0?0:m;n=w6(p,p,g,y);break}case Ae.ELLIPSE:{var x=e.parsedStyle,b=x.rx,E=b===void 0?0:b,_=x.ry,w=_===void 0?0:_,A=x.cx,S=A===void 0?0:A,k=x.cy,T=k===void 0?0:k;n=w6(E,w,S,T);break}case Ae.POLYLINE:case Ae.POLYGON:var O=e.parsedStyle.points;n=cCe(O.points,e.nodeName===Ae.POLYGON);break;case Ae.RECT:var C=e.parsedStyle,M=C.width,R=M===void 0?0:M,I=C.height,P=I===void 0?0:I,B=C.x,N=B===void 0?0:B,V=C.y,W=V===void 0?0:V,z=C.radius,j=z&&z.some(function(F){return F!==0});n=uCe(R,P,N,W,j&&z.map(function(F){return An(F,0,Math.min(Math.abs(R)/2,Math.abs(P)/2))}));break;case Ae.PATH:var L=e.parsedStyle.d.absolutePath;n=_t(L);break}if(n.length)return sCe(n,e,t)}var vU=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=Bh(t)}catch{n=Bh(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}tCe(n);var r=nCe(n),a=rCe(n),i=a.polygons,o=a.polylines,s=iCe(n),l=aCe(s,0),c=l.x,u=l.y,f=l.width,d=l.height;return{absolutePath:n,hasArc:r,segments:s,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(d)?d:0}}},dCe=_a(vU);function gU(e){return In(e)?dCe(e):vU(e)}function hCe(e,t,n){var r=e.curve,a=t.curve;(!r||r.length===0)&&(r=D1(e.absolutePath,!1),e.curve=r),(!a||a.length===0)&&(a=D1(t.absolutePath,!1),t.curve=a);var i=[r,a];r.length!==a.length&&(i=u3(r,a));var o=a2(i[0])!==a2(i[1])?Z$(i[0]):K$(i[0]);return[o,tj(i[1],o),function(s){return s}]}function pCe(e,t){var n;return In(e)?n=e.split(" ").map(function(r){var a=r.split(","),i=ct(a,2),o=i[0],s=i[1];return[Number(o),Number(s)]}):n=e,{points:n,totalLength:0,segments:[]}}function vCe(e,t){return[e.points,t.points,function(n){return n}]}var Xr=null,lh=/\s*(\w+)\(([^)]*)\)/g;function To(e){return function(t){var n=0;return e.map(function(r){return r===Xr?t[n++]:r})}}function Bf(e){return e}var V1={matrix:["NNNNNN",[Xr,Xr,0,0,Xr,Xr,0,0,0,0,1,0,Xr,Xr,0,1],Bf],matrix3d:["NNNNNNNNNNNNNNNN",Bf],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",To([Xr,Xr,new Jn(1)]),Bf],scaleX:["N",To([Xr,new Jn(1),new Jn(1)]),To([Xr,new Jn(1)])],scaleY:["N",To([new Jn(1),Xr,new Jn(1)]),To([new Jn(1),Xr])],scaleZ:["N",To([new Jn(1),new Jn(1),Xr])],scale3d:["NNN",Bf],skew:["Aa",null,Bf],skewX:["A",null,To([Xr,Bd])],skewY:["A",null,To([Bd,Xr])],translate:["Tt",To([Xr,Xr,ol]),Bf],translateX:["T",To([Xr,ol,ol]),To([Xr,ol])],translateY:["T",To([ol,Xr,ol]),To([ol,Xr])],translateZ:["L",To([ol,ol,Xr])],translate3d:["TTL",Bf]};function mU(e){for(var t=[],n=e.length,r=0;r<n;r++){var a=e[r],i=a[0],o=a.slice(1);i==="translate"||i==="skew"?o.length===1&&o.push(0):i==="scale"&&o.length===1&&o.push(o[0]);var s=V1[i];if(!s)return[];var l=o.map(function(c){return Pr(c)});t.push({t:i,d:l})}return t}function yU(e){if(Array.isArray(e))return mU(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(lh.lastIndex=0;n=lh.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=V1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?Bd:q3e(p)},N:uk,T:ck,L:Y3e}[f.toUpperCase()](u):d={a:Bd,n:l[0],t:ol}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),lh.lastIndex===e.length)return t}return[]}function gCe(e){if(Array.isArray(e))return mU(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(lh.lastIndex=0;n=lh.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=V1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?Bd:fU(p)},N:hU,T:uU,L:cU}[f.toUpperCase()](u):d={a:Bd,n:l[0],t:ol}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),lh.lastIndex===e.length)return t}return[]}function mCe(e){var t,n,r,a;switch(e.t){case"rotateX":return a=er(Ro(e.d[0])),[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1];case"rotateY":return a=er(Ro(e.d[0])),[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1];case"rotate":case"rotateZ":return a=er(Ro(e.d[0])),[Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,a=er(Ro(e.d[3]));var i=t*t+n*n+r*r;if(i===0)t=1,n=0,r=0;else if(i!==1){var o=Math.sqrt(i);t/=o,n/=o,r/=o}var s=Math.sin(a/2),l=s*Math.cos(a/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*l),2*(t*r*c-n*l),0,2*(t*n*c-r*l),1-2*(t*t+r*r)*c,2*(n*r*c+t*l),0,2*(t*r*c+n*l),2*(n*r*c-t*l),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var u=er(Ro(e.d[0])),f=er(Ro(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return a=er(Ro(e.d[0])),[1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return a=er(Ro(e.d[0])),[1,Math.tan(a),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=Vo(e.d[0],0,null)||0,n=Vo(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,0,1];case"translateX":return t=Vo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return n=Vo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=Vo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return t=Vo(e.d[0],0,null)||0,n=Vo(e.d[1],0,null)||0,r=Vo(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1];case"perspective":var d=Vo(e.d[0],0,null)||0,h=d?-1/d:0;return[1,0,0,0,0,1,0,0,0,0,1,h,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function yCe(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function xCe(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(mCe).reduce(yCe)}function _6(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],a=[0,0,0,1],i=[0,0,0,1];return JOe(xCe(e),t,n,r,a,i),[[t,n,r,i,a]]}var bCe=function(){function e(r,a){for(var i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)i[o][s]+=a[o][l]*r[l][s];return i}function t(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,a,i,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=s[c];for(var u=0;u<3;u++)for(var f=0;f<3;f++)l[3][u]+=r[f]*l[f][u];var d=o[0],h=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(h*h+p*p),g[0][1]=2*(d*h-p*v),g[0][2]=2*(d*p+h*v),g[1][0]=2*(d*h+p*v),g[1][1]=1-2*(d*d+p*p),g[1][2]=2*(h*p-d*v),g[2][0]=2*(d*p-h*v),g[2][1]=2*(h*p+d*v),g[2][2]=1-2*(d*d+h*h),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(m[2][1]=i[2],l=e(l,m)),i[1]&&(m[2][1]=0,m[2][0]=i[0],l=e(l,m)),i[0]&&(m[2][0]=0,m[1][0]=i[0],l=e(l,m));for(var y=0;y<3;y++)for(var x=0;x<3;x++)l[y][x]*=a[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n}();function wCe(e){return e.toFixed(6).replace(".000000","")}function wE(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=_6(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=_6(t)),n[0]===null||r[0]===null?[[!1],[!0],function(a){return a?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(a){var i=ECe(n[0][3],r[0][3],a[5]),o=bCe(a[0],a[1],a[2],i,a[4]),s=o.map(wCe).join(",");return s}])}function _Ce(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function ECe(e,t,n){var r=_Ce(e,t);r=An(r,-1,1);var a=[];if(r===1)a=e;else for(var i=Math.acos(r),o=Math.sin(n*i)*1/Math.sqrt(1-r*r),s=0;s<4;s++)a.push(e[s]*(Math.cos(n*i)-r*o)+t[s]*o);return a}function _E(e){return e.replace(/[XY]/,"")}function EE(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var SCe=function(t,n){return t==="perspective"&&n==="perspective"||(t==="matrix"||t==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function ACe(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var a=function(){var T=e[i],O=T.t,C=T.d,M=O.substring(0,5)==="scale"?1:0;t.push({t:O,d:C.map(function(R){return typeof R=="number"?Pr(M):Pr(M,R.unit)})})},i=0;i<e.length;i++)a()}var o=[],s=[],l=[];if(e.length!==t.length){var c=wE(e,t);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(var u=0;u<e.length;u++){var f=e[u].t,d=t[u].t,h=e[u].d,p=t[u].d,v=V1[f],g=V1[d],m=void 0;if(SCe(f,d)){var y=wE([e[u]],[t[u]]);o.push(y[0]),s.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===d)m=f;else if(v[2]&&g[2]&&_E(f)===_E(d))m=_E(f),h=v[2](h),p=g[2](p);else if(v[1]&&g[1]&&EE(f)===EE(d))m=EE(f),h=v[1](h),p=g[1](p);else{var x=wE(e,t);o=[x[0]],s=[x[1]],l=[["matrix",[x[2]]]];break}for(var b=[],E=[],_=[],w=0;w<h.length;w++){var A=K3e(h[w],p[w],n,!1,w);b[w]=A[0],E[w]=A[1],_.push(A[2])}o.push(b),s.push(E),l.push([m,_])}if(r){var S=o;o=s,s=S}return[o,s,function(k){return k.map(function(T,O){var C=T.map(function(M,R){return l[O][1][R](M)}).join(",");return l[O][0]==="matrix"&&C.split(",").length===16&&(l[O][0]="matrix3d"),l[O][0]==="matrix3d"&&C.split(",").length===6&&(l[O][0]="matrix"),"".concat(l[O][0],"(").concat(C,")")}).join(" ")}]}var kCe=_a(function(e){if(In(e)){if(e==="text-anchor")return[Pr(0,"px"),Pr(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[ck(E6(t[0])),ck(E6(t[1]))]}return[Pr(e[0]||0,"px"),Pr(e[1]||0,"px")]});function E6(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var H3=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ze.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ze.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ze.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ze.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ze.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ze.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ze.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ze.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ze.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ze.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ze.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ze.FILTER},{n:"clipPath",syntax:Ze.DEFINED_PATH},{n:"textPath",syntax:Ze.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ze.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ze.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ze.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ze.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ze.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ze.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ze.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ze.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ze.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ze.NUMBER,d:function(t){return t===Ae.PATH||t===Ae.POLYGON||t===Ae.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ze.MARKER},{n:"markerEnd",syntax:Ze.MARKER},{n:"markerMid",syntax:Ze.MARKER},{n:"markerStartOffset",syntax:Ze.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ze.LENGTH,l:!0,int:!0,d:"0"}],TCe=new Set(H3.filter(function(e){return!!e.l}).map(function(e){return e.n})),xU={},OCe=function(){function e(t){var n=this;ve(this,e),this.runtime=t,H3.forEach(function(r){n.registerMetadata(r)})}return ge(e,[{key:"registerMetadata",value:function(n){[n.n].concat(_t(n.a||[])).forEach(function(r){xU[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var i=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;CCe(n,r);var s=!!a.forceUpdateGeometry;if(!s){for(var l in r)if(TCe.has(l)){s=!0;break}}var c=bU(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=bd(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=bd(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=bd(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=J3e(r.filter)),c.has("radius")&&!lt(r.radius)&&(n.parsedStyle.radius=v6(r.radius,4)),c.has("lineDash")&&!lt(r.lineDash)&&(n.parsedStyle.lineDash=v6(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=pCe(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=bt({},rU)),c.has("d")&&r.d&&(n.parsedStyle.d=gU(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ze.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!Rt(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ze.DEFINED_PATH].calculator("clipPath",i,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ze.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=yU(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=kCe(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!lt(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ze.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!lt(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ze.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Ze.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ze.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.geometry.dirty=!0,n.dirty(!0,!0),a.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,a=this.runtime.geometryUpdaterFactory[r];if(a){var i=n.geometry;i.contentBounds||(i.contentBounds=new ma),i.renderBounds||(i.renderBounds=new ma);var o=n.parsedStyle,s=a.update(o,n),l=s.cx,c=l===void 0?0:l,u=s.cy,f=u===void 0?0:u,d=s.cz,h=d===void 0?0:d,p=s.hwidth,v=p===void 0?0:p,g=s.hheight,m=g===void 0?0:g,y=s.hdepth,x=y===void 0?0:y,b=[Math.abs(v),Math.abs(m),x],E=o.stroke,_=o.lineWidth,w=_===void 0?1:_,A=o.increasedLineWidthForHitTesting,S=A===void 0?0:A,k=o.shadowType,T=k===void 0?"outer":k,O=o.shadowColor,C=o.filter,M=C===void 0?[]:C,R=o.transformOrigin,I=[c,f,h];i.contentBounds.update(I,b);var P=r===Ae.POLYLINE||r===Ae.POLYGON||r===Ae.PATH?Math.SQRT2:.5,B=E&&!E.isNone;if(B){var N=((w||0)+(S||0))*P;b[0]+=N,b[1]+=N}if(i.renderBounds.update(I,b),O&&T&&T!=="inner"){var V=i.renderBounds,W=V.min,z=V.max,j=o.shadowBlur,L=o.shadowOffsetX,F=o.shadowOffsetY,H=j||0,D=L||0,G=F||0,K=W[0]-H+D,re=z[0]+H+D,ie=W[1]-H+G,U=z[1]+H+G;W[0]=Math.min(W[0],K),z[0]=Math.max(z[0],re),W[1]=Math.min(W[1],ie),z[1]=Math.max(z[1],U),i.renderBounds.setMinMax(W,z)}M.forEach(function(te){var pe=te.name,me=te.params;if(pe==="blur"){var Ee=me[0].value;i.renderBounds.update(i.renderBounds.center,Ki(i.renderBounds.halfExtents,i.renderBounds.halfExtents,[Ee,Ee,0]))}else if(pe==="drop-shadow"){var ke=me[0].value,Ue=me[1].value,fe=me[2].value,xe=i.renderBounds,De=xe.min,He=xe.max,pt=De[0]-fe+ke,Re=He[0]+fe+ke,vt=De[1]-fe+Ue,Ye=He[1]+fe+Ue;De[0]=Math.min(De[0],pt),He[0]=Math.max(He[0],Re),De[1]=Math.min(De[1],vt),He[1]=Math.max(He[1],Ye),i.renderBounds.setMinMax(De,He)}}),n.geometry.dirty=!1;var q=v<0,Q=m<0,X=(q?-1:1)*(R?Vo(R[0],0,n,!0):0),ce=(Q?-1:1)*(R?Vo(R[1],1,n,!0):0);(X||ce)&&n.setOrigin(X,ce)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===Ae.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===Ae.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])}();function CCe(e,t){var n=bU(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}function bU(e){return e.constructor.PARSED_STYLE_LIST}var MCe=function(){function e(){ve(this,e),this.mixer=z3}return ge(e,[{key:"calculator",value:function(n,r,a,i){return Ro(a)}}])}(),PCe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i,o){return a instanceof Ys&&(a=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,a,i),n==="clipPath"&&i.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),a}}])}(),ICe=function(){function e(){ve(this,e),this.parser=bd,this.mixer=V3e}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Ys?a.value==="none"?oU:sU:a}}])}(),RCe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a){return a instanceof Ys?[]:a}}])}();function S6(e){var t=e.parsedStyle,n=t.fontSize;return lt(n)?null:n}var hk=function(){function e(){ve(this,e),this.mixer=z3}return ge(e,[{key:"calculator",value:function(n,r,a,i,o){if(kn(a))return a;if(Jn.isRelativeUnit(a.unit)){if(a.unit===nt.kPercentage)return 0;if(a.unit===nt.kEms){if(i.parentNode){var s=S6(i.parentNode);if(s)return s*=a.value,s}return 0}if(a.unit===nt.kRems){var l;if(i!=null&&(l=i.ownerDocument)!==null&&l!==void 0&&l.documentElement){var c=S6(i.ownerDocument.documentElement);if(c)return c*=a.value,c}return 0}}else return a.value}}])}(),NCe=function(){function e(){ve(this,e),this.mixer=pU}return ge(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])}(),DCe=function(){function e(){ve(this,e),this.mixer=pU}return ge(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])}(),LCe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){var o;a instanceof Ys&&(a=null);var s=(o=a)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),FCe=function(){function e(){ve(this,e),this.mixer=z3}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}}])}(),BCe=function(){function e(){ve(this,e),this.mixer=U3(0,1)}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,a=r.offsetPath,i=r.offsetDistance;if(a){var o=a.nodeName;if(o===Ae.LINE||o===Ae.PATH||o===Ae.POLYLINE){var s=a.getPoint(i);s&&n.setLocalPosition(s.x,s.y)}}}}])}(),$Ce=function(){function e(){ve(this,e),this.mixer=U3(0,1)}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}}])}(),jCe=function(){function e(){ve(this,e),this.parser=gU,this.mixer=hCe}return ge(e,[{key:"calculator",value:function(n,r,a){return a instanceof Ys&&a.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Yh(0,0,0,0)}:a}}])}(),zCe=ge(function e(){ve(this,e),this.mixer=vCe}),UCe=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.mixer=U3(0,1/0),n}return ft(t,e),ge(t)}(hk),HCe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Ys?a.value==="unset"?"":a.value:"".concat(a)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])}(),GCe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){var o=i.getAttribute("text");if(o){var s=o;a.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):a.value==="lowercase"?s=o.toLowerCase():a.value==="uppercase"&&(s=o.toUpperCase()),i.parsedStyle.text=s}return a.value}}])}(),SE=new WeakMap;function WCe(e,t,n){if(e){var r=typeof e=="string"?document.getElementById(e):e;SE.has(r)&&SE.get(r).destroy(n),SE.set(r,t)}}var G3=typeof window<"u"&&typeof window.document<"u";function VCe(e){return!!e.getAttribute}function YCe(e,t){for(var n=0,r=e.length;n<r;){var a=n+r>>>1;wU(e[a],t)<0?n=a+1:r=a}return n}function wU(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var a=e.parentNode;if(a){var i=a.childNodes||[];return i.indexOf(e)-i.indexOf(t)}}return n-r}function _U(e){var t=e;do{var n,r=(n=t.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}var A6="px";function XCe(e,t,n){G3&&e.style&&(e.style.width=t+A6,e.style.height=n+A6)}function EU(e,t){if(G3)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function qCe(e){var t=EU(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function KCe(e){var t=EU(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var ZCe=1,QCe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},pk=typeof performance=="object"&&performance.now?performance:Date;function w2(e){return e.nodeName===Ae.FRAGMENT?!0:e.getRootNode().nodeName===Ae.FRAGMENT}function l0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,a=!1,i=!!t&&!t.isNone,o=!!n&&!n.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(r=i,a=o):e==="visiblefill"||e==="fill"?r=!0:e==="visiblestroke"||e==="stroke"?a=!0:(e==="visible"||e==="all")&&(r=!0,a=!0),[r,a]}var JCe=1,e4e=function(){return JCe++},gc=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},t4e=Date.now(),n4e=function(){return gc.performance&&typeof gc.performance.now=="function"?gc.performance.now():Date.now()-t4e},mv={},k6=Date.now(),r4e=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var n=Date.now(),r=n-k6,a=r>16?0:16-r,i=e4e();return mv[i]=t,Object.keys(mv).length>1||setTimeout(function(){k6=n;var o=mv;mv={},Object.keys(o).forEach(function(s){return o[s](n4e())})},a),i},a4e=function(t){delete mv[t]},i4e=["","webkit","moz","ms","o"],SU=function(t){return typeof t!="string"?r4e:t===""?gc.requestAnimationFrame:gc["".concat(t,"RequestAnimationFrame")]},o4e=function(t){return typeof t!="string"?a4e:t===""?gc.cancelAnimationFrame:gc["".concat(t,"CancelAnimationFrame")]||gc["".concat(t,"CancelRequestAnimationFrame")]},s4e=function(t,n){for(var r=0;t[r]!==void 0;){if(n(t[r]))return t[r];r+=1}},AU=s4e(i4e,function(e){return!!SU(e)}),W3=SU(AU),kU=o4e(AU);gc.requestAnimationFrame=W3;gc.cancelAnimationFrame=kU;var l4e=function(){function e(){ve(this,e),this.callbacks=[]}return ge(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Promise.all(this.callbacks.map(function(i){return i.apply(void 0,r)}))}}])}(),c4e=function(){function e(){ve(this,e),this.callbacks=[]}return ge(e,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){var t=uf(Ai().mark(function r(){var a,i,o,s,l=arguments;return Ai().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(a=this.callbacks)[0].apply(a,l);case 1:i=c.sent,o=0;case 2:if(!(o<this.callbacks.length-1)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(i);case 3:i=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",i);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),ro=function(){function e(){ve(this,e),this.callbacks=[]}return ge(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=arguments;this.callbacks.forEach(function(o){o.apply(void 0,i)})}}])}(),AE=function(){function e(){ve(this,e),this.callbacks=[]}return ge(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(this.callbacks.length){for(var i=arguments,o=this.callbacks[0].apply(void 0,i),s=0;s<this.callbacks.length-1;s++){var l=this.callbacks[s];o=l(o)}return o}return null}}])}(),u4e=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],f4e=/([\"\'])[^\'\"]+\1/;function T6(e){var t=e.fontSize,n=t===void 0?16:t,r=e.fontFamily,a=r===void 0?"sans-serif":r,i=e.fontStyle,o=i===void 0?"normal":i,s=e.fontVariant,l=s===void 0?"normal":s,c=e.fontWeight,u=c===void 0?"normal":c;return{fontSize:n,fontFamily:a,fontStyle:o,fontVariant:l,fontWeight:u}}var O6=_a(function(t){for(var n=T6(t),r=n.fontSize,a=n.fontFamily,i=n.fontStyle,o=n.fontVariant,s=n.fontWeight,l=kn(r)&&"".concat(r,"px")||"16px",c=a.split(","),u=c.length-1;u>=0;u--){var f=c[u].trim();!f4e.test(f)&&u4e.indexOf(f)<0&&(f='"'.concat(f,'"')),c[u]=f}return"".concat(i," ").concat(o," ").concat(s," ").concat(l," ").concat(c.join(","))},function(e){var t=T6(e),n=t.fontSize,r=t.fontFamily,a=t.fontStyle,i=t.fontVariant,o=t.fontWeight;return"".concat(a,"_").concat(i,"_").concat(o,"_").concat(n,"_").concat(r)}),d4e=1e-6,Xp=function(t){return Math.max(t,d4e)};function kE(e,t,n){return as(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var da=Dt(),h4e=Dt(),p4e={scale:function(t){Ko(da,[t[0].value,t[1].value,1].map(function(n){return Xp(n)}))},scaleX:function(t){Ko(da,[t[0].value,1,1].map(function(n){return Xp(n)}))},scaleY:function(t){Ko(da,[1,t[0].value,1].map(function(n){return Xp(n)}))},scaleZ:function(t){Ko(da,[1,1,t[0].value].map(function(n){return Xp(n)}))},scale3d:function(t){Ko(da,[t[0].value,t[1].value,t[2].value].map(function(n){return Xp(n)}))},translate:function(t){Wi(da,[t[0].value,t[1].value,0])},translateX:function(t){Wi(da,[t[0].value,0,0])},translateY:function(t){Wi(da,[0,t[0].value,0])},translateZ:function(t){Wi(da,[0,0,t[0].value])},translate3d:function(t){Wi(da,[t[0].value,t[1].value,t[2].value])},rotate:function(t){R1(da,er(Ro(t[0])))},rotateX:function(t){n3(da,er(Ro(t[0])))},rotateY:function(t){r3(da,er(Ro(t[0])))},rotateZ:function(t){R1(da,er(Ro(t[0])))},rotate3d:function(t){t3(da,er(Ro(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){kE(da,er(t[0].value),er(t[1].value))},skewX:function(t){kE(da,er(t[0].value),0)},skewY:function(t){kE(da,0,er(t[0].value))},matrix:function(t){I1(da,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){I1.apply(F$,[da].concat(_t(t.map(function(n){return n.value}))))}},v4e=Ot(1,1,1),g4e=Et(),C6={translate:function(t,n){$e.sceneGraphService.setLocalScale(t,v4e,!1),$e.sceneGraphService.setLocalEulerAngles(t,g4e,void 0,void 0,!1),$e.sceneGraphService.setLocalPosition(t,[n[0].value,n[1].value,0],!1),$e.sceneGraphService.dirtyLocalTransform(t,t.transformable)}};function TU(e,t){if(e.length){if(e.length===1&&C6[e[0].t]){C6[e[0].t](t,e[0].d);return}for(var n=as(h4e),r=0;r<e.length;r++){var a=e[r],i=a.t,o=a.d,s=p4e[i];s&&(s(o),qb(n,n,da))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var m4e=function(){function e(){ve(this,e),this.parser=gCe,this.mixer=ACe}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Ys?[]:a}},{key:"postProcessor",value:function(n){TU(n.parsedStyle.transform,n)}}])}(),y4e=function(){function e(){ve(this,e)}return ge(e,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===nt.kPixels&&r[1].unit===nt.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])}(),x4e=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,a=r.renderable,i=r.sortable;a&&r.dirty(),i&&(i.dirty=!0,i.dirtyReason=g2.Z_INDEX_CHANGED)}}}])}(),b4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.r,c=l===void 0?0:l;return{cx:i,cy:s,hwidth:c,hheight:c}}}])}(),w4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.rx,c=l===void 0?0:l,u=n.ry,f=u===void 0?0:u;return{cx:i,cy:s,hwidth:c,hheight:f}}}])}(),_4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){var r=n.x1,a=n.y1,i=n.x2,o=n.y2,s=Math.min(r,i),l=Math.max(r,i),c=Math.min(a,o),u=Math.max(a,o),f=l-s,d=u-c,h=f/2,p=d/2;return{cx:s+h,cy:c+p,hwidth:h,hheight:p}}}])}(),E4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){var r=n.d,a=r.rect,i=a.x,o=a.y,s=a.width,l=a.height,c=s/2,u=l/2;return{cx:i+c,cy:o+u,hwidth:c,hheight:u}}}])}(),S4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){if(n.points&&di(n.points.points)){var r=n.points.points,a=Math.min.apply(Math,_t(r.map(function(d){return d[0]}))),i=Math.max.apply(Math,_t(r.map(function(d){return d[0]}))),o=Math.min.apply(Math,_t(r.map(function(d){return d[1]}))),s=Math.max.apply(Math,_t(r.map(function(d){return d[1]}))),l=i-a,c=s-o,u=l/2,f=c/2;return{cx:a+u,cy:o+f,hwidth:u,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),A4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.src,c=n.width,u=c===void 0?0:c,f=n.height,d=f===void 0?0:f,h=u,p=d;return l&&!In(l)&&(h||(h=l.width,n.width=h),p||(p=l.height,n.height=p)),{cx:i+h/2,cy:s+p/2,hwidth:h/2,hheight:p/2}}}])}(),k4e=function(){function e(t){ve(this,e),this.globalRuntime=t}return ge(e,[{key:"isReadyToMeasure",value:function(n,r){var a=n.text;return a}},{key:"update",value:function(n,r){var a,i=n.text,o=n.textAlign,s=o===void 0?"start":o,l=n.lineWidth,c=l===void 0?1:l,u=n.textBaseline,f=u===void 0?"alphabetic":u,d=n.dx,h=d===void 0?0:d,p=n.dy,v=p===void 0?0:p,g=n.x,m=g===void 0?0:g,y=n.y,x=y===void 0?0:y;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var b=(r==null||(a=r.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0?void 0:a.getConfig())||{},E=b.offscreenCanvas,_=this.globalRuntime.textService.measureText(i,n,E);n.metrics=_;var w=_.width,A=_.height,S=w/2,k=A/2,T=m+S;s==="center"||s==="middle"?T+=c/2-S:(s==="right"||s==="end")&&(T+=c-S*2);var O=x-k;return f==="middle"?O+=k:f==="top"||f==="hanging"?O+=k*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(O+=0),h&&(T+=h),v&&(O+=v),{cx:T,cy:O,hwidth:S,hheight:k}}}])}(),T4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),O4e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.width,c=l===void 0?0:l,u=n.height,f=u===void 0?0:u;return{cx:i+c/2,cy:s+f/2,hwidth:c/2,hheight:f/2}}}])}(),gw=function(){function e(t){ve(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new _i,this.page=new _i,this.canvas=new _i,this.viewport=new _i,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return ge(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Qn)}}])}(),OU=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.client=new _i,n.movement=new _i,n.offset=new _i,n.global=new _i,n.screen=new _i,n}return ft(t,e),ge(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(Qn)}}])}(gw),vk=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.width=0,n.height=0,n.isPrimary=!1,n}return ft(t,e),ge(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(OU),gk=function(e){function t(){return ve(this,t),ut(this,t,arguments)}return ft(t,e),ge(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(OU),ri=function(e){function t(n,r){var a;return ve(this,t),a=ut(this,t,[null]),a.type=n,a.detail=r,Object.assign(a,r),a}return ft(t,e),ge(t)}(gw),CU=function(){function e(){ve(this,e),this.emitter=new hw}return ge(e,[{key:"on",value:function(n,r,a){return this.addEventListener(n,r,a),this}},{key:"addEventListener",value:function(n,r,a){var i=!1,o=!1;if(Qx(a))i=a;else if(a){var s=a.capture;i=s===void 0?!1:s;var l=a.once;o=l===void 0?!1:l}i&&(n+="capture"),r=ta(r)?r:r.handleEvent;var c=ta(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,a){return n?this.removeEventListener(n,r,a):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,a){var i;if(!this.emitter)return this;var o=Qx(a)?a:a==null?void 0:a.capture;o&&(n+="capture"),r=ta(r)?r:(i=r)===null||i===void 0?void 0:i.handleEvent;var s=ta(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new ri(n,r))}},{key:"dispatchEventToSelf",value:function(n){n.target||(n.target=this),n.currentTarget=this,this.emitter.emit(n.type,n)}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0;if(a)return this.dispatchEventToSelf(n),!0;var i;if(this.document)i=this;else if(this.defaultView)i=this.defaultView;else{var o;i=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(i){if(n.manager=i.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.dispatchEventToSelf(n);return!n.defaultPrevented}}])}(),Fr=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n.destroyed=!1,n}return ft(t,e),ge(t,[{key:"textContent",get:function(){var r="";this.nodeName===Ae.TEXT&&(r+=this.style.text);var a=Zo(this.childNodes),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o.nodeName===Ae.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){a.e(s)}finally{a.f()}return r},set:function(r){var a=this;this.childNodes.slice().forEach(function(i){a.removeChild(i)}),this.nodeName===Ae.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(Qn)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(Qn)}},{key:"lookupPrefix",value:function(r){throw new Error(Qn)}},{key:"normalize",value:function(){throw new Error(Qn)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var a=r,i=this,o=[a],s=[i];(l=a.parentNode)!==null&&l!==void 0?l:i.parentNode;){var l;a=a.parentNode?(o.push(a.parentNode),a.parentNode):a,i=i.parentNode?(s.push(i.parentNode),i.parentNode):i}if(a!==i)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,u=c===o?s:o;if(c[c.length-u.length]===u[0])return c===o?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=c.length-u.length,d=u.length-1;d>=0;d--){var h=u[d],p=c[f+d];if(p!==h){var v=h.parentNode.childNodes;return v.indexOf(h)<v.indexOf(p)?u===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:c===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var a=r;a&&this!==a;)a=a.parentNode;return!!a}},{key:"getAncestor",value:function(r){for(var a=this;r>0&&a;)a=a.parentNode,r--;return a}},{key:"forEach",value:function(r){for(var a=[this];a.length>0;){var i=a.pop(),o=r(i);if(o===!1)break;for(var s=i.childNodes.length-1;s>=0;s--)a.push(i.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(CU);Fr.DOCUMENT_POSITION_DISCONNECTED=1;Fr.DOCUMENT_POSITION_PRECEDING=2;Fr.DOCUMENT_POSITION_FOLLOWING=4;Fr.DOCUMENT_POSITION_CONTAINS=8;Fr.DOCUMENT_POSITION_CONTAINED_BY=16;Fr.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var C4e=2048,M4e=function(){function e(t,n){var r=this;ve(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=Dt(),this.tmpVec3=Et(),this.onPointerDown=function(a){var i=r.createPointerEvent(a);if(r.dispatchEvent(i,"pointerdown"),i.pointerType==="touch")r.dispatchEvent(i,"touchstart");else if(i.pointerType==="mouse"||i.pointerType==="pen"){var o=i.button===2;r.dispatchEvent(i,o?"rightdown":"mousedown")}var s=r.trackingData(a.pointerId);s.pressTargetsByButton[a.button]=i.composedPath(),r.freeEvent(i)},this.onPointerUp=function(a){var i=pk.now(),o=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var l=r.trackingData(a.pointerId),c=r.findMountedTarget(l.pressTargetsByButton[a.button]),u=c;if(c&&!o.composedPath().includes(c)){for(var f=c;f&&!o.composedPath().includes(f);){if(o.currentTarget=f,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var d=o.button===2;r.notifyTarget(o,d?"rightupoutside":"mouseupoutside")}Fr.isNode(f)&&(f=f.parentNode)}delete l.pressTargetsByButton[a.button],u=f}if(u){var h,p=r.clonePointerEvent(o,"click");p.target=u,p.path=[],l.clicksByButton[a.button]||(l.clicksByButton[a.button]={clickCount:0,target:p.target,timeStamp:i});var v=r.context.renderingContext.root.ownerDocument.defaultView,g=l.clicksByButton[a.button];g.target===p.target&&i-g.timeStamp<v.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=p.target,g.timeStamp=i,p.detail=g.clickCount,(h=o.detail)!==null&&h!==void 0&&h.preventClick||(!r.context.config.useNativeClickEvent&&(p.pointerType==="mouse"||p.pointerType==="touch")&&r.dispatchEvent(p,"click"),r.dispatchEvent(p,"pointertap")),r.freeEvent(p)}r.freeEvent(o)},this.onPointerMove=function(a){var i=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.trackingData(a.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==i.target){var c=a.type==="mousemove"?"mouseout":"pointerout",u=r.createPointerEvent(a,c,l||void 0);if(r.dispatchEvent(u,"pointerout"),o&&r.dispatchEvent(u,"mouseout"),!i.composedPath().includes(l)){var f=r.createPointerEvent(a,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!i.composedPath().includes(f.target);)f.currentTarget=f.target,r.notifyTarget(f),o&&r.notifyTarget(f,"mouseleave"),Fr.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(u)}if(l!==i.target){var d=a.type==="mousemove"?"mouseover":"pointerover",h=r.clonePointerEvent(i,d);r.dispatchEvent(h,"pointerover"),o&&r.dispatchEvent(h,"mouseover");for(var p=l&&Fr.isNode(l)&&l.parentNode;p&&p!==(Fr.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&p!==i.target;)p=p.parentNode;var v=!p||p===(Fr.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(v){var g=r.clonePointerEvent(i,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(Fr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)g.currentTarget=g.target,r.notifyTarget(g),o&&r.notifyTarget(g,"mouseenter"),Fr.isNode(g.target)&&(g.target=g.target.parentNode);r.freeEvent(g)}r.freeEvent(h)}r.dispatchEvent(i,"pointermove"),i.pointerType==="touch"&&r.dispatchEvent(i,"touchmove"),o&&(r.dispatchEvent(i,"mousemove"),r.cursor=r.getCursor(i.target)),s.overTargets=i.composedPath(),r.freeEvent(i)},this.onPointerOut=function(a){var i=r.trackingData(a.pointerId);if(i.overTargets){var o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.findMountedTarget(i.overTargets),l=r.createPointerEvent(a,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var c=r.createPointerEvent(a,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(Fr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),Fr.isNode(c.target)&&(c.target=c.target.parentNode);i.overTargets=null,r.freeEvent(l),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(a){var i=r.trackingData(a.pointerId),o=r.createPointerEvent(a),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(Fr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),Fr.isNode(l.target)&&(l.target=l.target.parentNode);i.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(a){var i=r.trackingData(a.pointerId),o=r.findMountedTarget(i.pressTargetsByButton[a.button]),s=r.createPointerEvent(a);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),Fr.isNode(l)&&(l=l.parentNode);delete i.pressTargetsByButton[a.button]}r.freeEvent(s)},this.onWheel=function(a){var i=r.createWheelEvent(a);r.dispatchEvent(i),r.freeEvent(i)},this.onClick=function(a){if(r.context.config.useNativeClickEvent){var i=r.createPointerEvent(a);r.dispatchEvent(i),r.freeEvent(i)}},this.onPointerCancel=function(a){var i=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(i),r.freeEvent(i)},this.globalRuntime=t,this.context=n}return ge(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,a=1,i=this.context.contextService.getDomElement();if(i&&n){var o=i.offsetWidth,s=i.offsetHeight;o&&s&&(r=n.width/o,a=n.height/s)}return{scaleX:r,scaleY:a,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),a=r.scaleX,i=r.scaleY,o=r.bbox;return new _i((n.x-((o==null?void 0:o.left)||0))/a,(n.y-((o==null?void 0:o.top)||0))/i)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),a=r.scaleX,i=r.scaleY,o=r.bbox;return new _i((n.x+((o==null?void 0:o.left)||0))*a,(n.y+((o==null?void 0:o.top)||0))*i)}},{key:"viewport2Canvas",value:function(n){var r=n.x,a=n.y,i=this.rootTarget.defaultView,o=i.getCamera(),s=this.context.config,l=s.width,c=s.height,u=o.getPerspectiveInverse(),f=o.getWorldTransform(),d=Ur(this.tmpMatrix,f,u),h=lr(this.tmpVec3,r/l*2-1,(1-a/c)*2-1,0);return sr(h,h,d),new _i(h[0],h[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,a=r.getCamera(),i=a.getPerspective(),o=a.getViewTransform(),s=Ur(this.tmpMatrix,i,o),l=lr(this.tmpVec3,n.x,n.y,0);sr(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,u=c.width,f=c.height;return new _i((l[0]+1)/2*u,(1-(l[1]+1)/2)*f)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(a,i){return a.priority-i.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var a=0,i=r.length;a<i;a++)r[a].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,a){if(!a)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var i=this.rootTarget.defaultView||null;n.currentTarget=i,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var a=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var i=a.length-1;i>=1;i--)if(n.currentTarget=a[i],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var o=a.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var s=o+1;s<a.length;s++)if(n.currentTarget=a[s],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],a=this.rootTarget.defaultView||null;if(a&&a===n)return r.unshift(a.document),r;for(var i=0;i<C4e&&n!==this.rootTarget;i++)Fr.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return a&&r.push(a),r}},{key:"hitTest",value:function(n){var r=n.viewportX,a=n.viewportY,i=this.context.config,o=i.width,s=i.height,l=i.disableHitTesting;return r<0||a<0||r>o||a>s?null:!l&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var a,i=r==null?void 0:r.target;if((a=i)!==null&&a!==void 0&&a.shadowRoot&&(i=r.composedPath()[0]),i){if(i===n)return!0;if(n&&n.contains)return n.contains(i)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,a=n.nativeEvent.composedPath();r<a.length;r++){var i=a[r],o=this.nativeHTMLMap.get(i);if(o)return o}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,a,i){var o=this.allocateEvent(vk);this.copyPointerData(n,o),this.copyMouseData(n,o),this.copyData(n,o),o.nativeEvent=n.nativeEvent,o.originalEvent=n;var s=this.getExistedHTML(o),l=this.context.contextService.getDomElement();return o.target=a??(s||this.isNativeEventFromCanvas(l,o.nativeEvent)&&this.pickTarget(o)||i),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(gk);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var a=this.getExistedHTML(r),i=this.context.contextService.getDomElement();return r.target=a||this.isNativeEventFromCanvas(i,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(gk);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var a=this.allocateEvent(vk);return a.nativeEvent=n.nativeEvent,a.originalEvent=n.originalEvent,this.copyPointerData(n,a),this.copyMouseData(n,a),this.copyData(n,a),a.target=n.target,a.path=n.composedPath().slice(),a.type=r??a.type,a}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=pk.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r??n.type;var a=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,a),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var a=n.currentTarget.emitter,i=a._events[r];if(i)if("fn"in i)i.once&&a.removeListener(r,i.fn,void 0,!0),i.fn.call(n.currentTarget||i.context,n);else for(var o=0;o<i.length&&!n.propagationImmediatelyStopped;o++)i[o].once&&a.removeListener(r,i[o].fn,void 0,!0),i[o].fn.call(n.currentTarget||i[o].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],a=n.length-2;a>=0;a--){var i=n[a];if(i===this.rootTarget||Fr.isNode(i)&&i.parentNode===r)r=n[a];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var a=VCe(r)&&r.getAttribute("cursor");if(a)return a;r=Fr.isNode(r)&&r.parentNode}}}])}(),V3=function(){function e(){ve(this,e)}return ge(e,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||$e.offscreenCanvas)this.canvas=n||$e.offscreenCanvas,this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),ch=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),P4e=function(){function e(t,n){ve(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new ro,initAsync:new l4e,dirtycheck:new AE,cull:new AE,beginFrame:new ro,beforeRender:new ro,render:new ro,afterRender:new ro,endFrame:new ro,destroy:new ro,pick:new c4e,pickSync:new AE,pointerDown:new ro,pointerUp:new ro,pointerMove:new ro,pointerOut:new ro,pointerOver:new ro,pointerWheel:new ro,pointerCancel:new ro,click:new ro},this.globalRuntime=t,this.context=n}return ge(e,[{key:"init",value:function(n){var r=this,a=bt(bt({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(i){i.apply(a,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(i){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),a=r.enableDirtyRectangleRendering;return!a||this.context.renderingContext.renderReasons.has(ch.CAMERA_CHANGED)}},{key:"render",value:function(n,r,a){var i=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=o.renderReasons.size===1&&o.renderReasons.has(ch.CAMERA_CHANGED),l=!n.disableRenderHooks||!s;l&&this.renderDisplayObject(o.root,n,o),this.hooks.beginFrame.call(r),l&&o.renderListCurrentFrame.forEach(function(c){i.hooks.beforeRender.call(c),i.hooks.render.call(c),i.hooks.afterRender.call(c)}),this.hooks.endFrame.call(r),o.renderListCurrentFrame=[],o.renderReasons.clear(),a()}}},{key:"renderDisplayObject",value:function(n,r,a){var i=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,l=o.enableCulling;function c(v){var g=v.renderable,m=v.sortable,y=s?g.dirty||a.dirtyRectangleRenderingDisabled?v:null:v,x=null;y&&(x=l?i.hooks.cull.call(y,i.context.camera):y,x&&(i.stats.rendered+=1,a.renderListCurrentFrame.push(x))),v.dirty(!1),m.renderOrder=i.zIndexCounter,i.zIndexCounter+=1,i.stats.total+=1,m.dirty&&(i.sort(v,m),m.dirty=!1,m.dirtyChildren=[],m.dirtyReason=void 0)}for(var u=[n];u.length>0;){var f,d=u.pop();c(d);for(var h=((f=d.sortable)===null||f===void 0||(f=f.sorted)===null||f===void 0?void 0:f.length)>0?d.sortable.sorted:d.childNodes,p=h.length-1;p>=0;p--)u.push(h[p])}}},{key:"sort",value:function(n,r){var a,i;(r==null||(a=r.sorted)===null||a===void 0?void 0:a.length)>0&&r.dirtyReason!==g2.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var l=n.childNodes.indexOf(o);if(l>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=YCe(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=n.childNodes.slice().sort(wU),((i=r.sorted)===null||i===void 0?void 0:i.length)>0&&n.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(ch.DISPLAY_OBJECT_CHANGED)}}])}(),I4e=/\[\s*(.*)=(.*)\s*\]/,R4e=function(){function e(){ve(this,e)}return ge(e,[{key:"selectOne",value:function(n,r){var a=this;if(n.startsWith("."))return r.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(l){return l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===n})}},{key:"selectAll",value:function(n,r){var a=this;if(n.startsWith("."))return r.findAll(function(l){return r!==l&&((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var a=this.getAttribute(n),i=a.name,o=a.value;return i==="name"?r.name===o:this.attributeToString(r,i)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(I4e),a="",i="";return r&&r.length>2&&(a=r[1].replace(/"/g,""),i=r[2].replace(/"/g,"")),{name:a,value:i}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var a=n.getAttribute(r);return lt(a)?"":a.toString?a.toString():""}}])}(),bn=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),kc=function(e){function t(n,r,a,i,o,s,l,c){var u;return ve(this,t),u=ut(this,t,[null]),u.relatedNode=r,u.prevValue=a,u.newValue=i,u.attrName=o,u.attrChange=s,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return ft(t,e),ge(t)}(gw);kc.ADDITION=2;kc.MODIFICATION=1;kc.REMOVAL=3;var N4e=new kc(bn.REPARENT,null,"","","",0,"",""),D4e=Ng(),$m=Et(),L4e=Ot(1,1,1),F4e=Dt(),B4e=Ng(),$f=Et(),$4e=Dt(),jf=vn(),j4e=Et(),z4e=vn(),U4e=Et(),qp=Et(),zf=Et(),jm=Dt(),M6=vn(),P6=vn(),zm=vn(),Um={affectChildren:!0},H4e=function(){function e(t){ve(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new ri(bn.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return ge(e,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,a){var i,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===Ae.FRAGMENT,l=w2(r);n.parentNode=r;var c=s?n.childNodes:[n];kn(a)?c.forEach(function(v){r.childNodes.splice(a,0,v),v.parentNode=r}):c.forEach(function(v){r.childNodes.push(v),v.parentNode=r});var u=r,f=u.sortable;if((f!=null&&(i=f.sorted)!==null&&i!==void 0&&i.length||f.dirty||n.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(n)===-1&&f.dirtyChildren.push(n),f.dirty=!0,f.dirtyReason=g2.ADDED),!l){if(s)this.dirtifyFragment(n);else{var d=n.transformable;d&&this.dirtyWorldTransform(n,d)}if(o){var h,p=((h=r.ownerDocument)===null||h===void 0||(h=h.defaultView)===null||h===void 0||(h=h.getConfig())===null||h===void 0||(h=h.future)===null||h===void 0?void 0:h.experimentalCancelEventPropagation)===!0;n.dispatchEvent(N4e,p,p)}}}},{key:"detach",value:function(n){var r,a;if(n.parentNode){var i=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(a=n.style)!==null&&a!==void 0&&a.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=g2.REMOVED);var l=n.parentNode.childNodes.indexOf(n);l>-1&&n.parentNode.childNodes.splice(l,1),i&&this.dirtyWorldTransform(n,i),n.parentNode=null}}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return a6(r),r.localTransform}},{key:"setLocalPosition",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;qp[0]=r[0],qp[1]=r[1],qp[2]=(a=r[2])!==null&&a!==void 0?a:0,!ac(o.localPosition,qp)&&(Ia(o.localPosition,qp),i&&this.dirtyLocalTransform(n,o))}},{key:"translateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;ac(r,$m)||(z$(r,r,o.localRotation),Ki(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(n,o))}},{key:"setLocalRotation",value:function(n,r,a,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=n2(jf,r,a,i,o));var l=n.transformable;Vu(l.localRotation,r),s&&this.dirtyLocalTransform(n,l)}},{key:"rotateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;Wu(P6,r[0],r[1],r[2]),r2(o.localRotation,o.localRotation,P6),this.dirtyLocalTransform(n,o)}},{key:"setLocalScale",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;lr($f,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:o.localScale[2]),!ac($f,o.localScale)&&(Ia(o.localScale,$f),i&&this.dirtyLocalTransform(n,o))}},{key:"scaleLocal",value:function(n,r){var a,i=n.transformable;B$(i.localScale,i.localScale,lr($f,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:1)),this.dirtyLocalTransform(n,i)}},{key:"setLocalSkew",value:function(n,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=W$(B4e,r,a));var o=n.transformable;G$(o.localSkew,r),i&&this.dirtyLocalTransform(n,o)}},{key:"setLocalEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=Ot(r,a,i));var s=n.transformable;Wu(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(n,s)}},{key:"setLocalTransform",value:function(n,r){var a=Id(j4e,r),i=Rd(z4e,r),o=Sc(U4e,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,a,!1),this.setLocalRotation(n,i,void 0,void 0,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,L4e,!1),this.setLocalPosition(n,$m,!1),this.setLocalEulerAngles(n,$m,void 0,void 0,!1),this.setLocalSkew(n,D4e,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"getPosition",value:function(n){var r=n.transformable;return Id(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return Rd(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return Sc(r.scaling,this.getWorldTransform(n,r))}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.internalUpdateTransform(n)),r.worldTransform}},{key:"setPosition",value:function(n,r){var a,i=n.transformable;if(zf[0]=r[0],zf[1]=r[1],zf[2]=(a=r[2])!==null&&a!==void 0?a:0,!ac(this.getPosition(n),zf)){if(Ia(i.position,zf),n.parentNode===null||!n.parentNode.transformable)Ia(i.localPosition,zf);else{var o=n.parentNode.transformable;pu(jm,o.worldTransform),Ga(jm,jm),sr(i.localPosition,zf,jm)}this.dirtyLocalTransform(n,i)}}},{key:"translate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=lr($f,r,a,i)),!ac(r,$m)&&(Ki($f,this.getPosition(n),r),this.setPosition(n,$f))}},{key:"setRotation",value:function(n,r,a,i,o){var s=n.transformable;if(typeof r=="number"&&(r=H$(r,a,i,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var l=this.getRotation(n.parentNode);Vu(jf,l),ih(jf,jf),wo(s.localRotation,jf,r),Fh(s.localRotation,s.localRotation),this.dirtyLocalTransform(n,s)}}},{key:"rotate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=jf;Wu(s,r[0],r[1],r[2]);var l=this.getRotation(n),c=this.getRotation(n.parentNode);Vu(zm,c),ih(zm,zm),wo(s,zm,s),wo(o.localRotation,s,l),Fh(o.localRotation,o.localRotation),this.dirtyLocalTransform(n,o)}}},{key:"setOrigin",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,a,i]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(n,o)}}},{key:"setEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{Wu(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);Vu(M6,ih(jf,s)),r2(o.localRotation,o.localRotation,M6),this.dirtyLocalTransform(n,o)}}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0,i=this.getGeometryBounds(n,r);if(!ma.isEmpty(i)){var o=a||new ma;return o.setFromTransformedAABB(i,this.getWorldTransform(n)),o}return null}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,i=a.geometry;i.dirty&&$e.styleValueRegistry.updateGeometry(n);var o=r?i.renderBounds:i.contentBounds||null;return o||new ma}},{key:"getBounds",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,o=i.renderable;if(!o.boundsDirty&&!a&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&a&&o.renderBounds)return o.renderBounds;var s=a?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(n,a,s),c=n.childNodes;if(c.forEach(function(d){var h=r.getBounds(d,a);h&&(l?l.add(h):(l=s||new ma,l.update(h.center,h.halfExtents)))}),l||(l=new ma),a){var u=_U(n);if(u){var f=u.parsedStyle.clipPath.getBounds(a);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return a?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=F4e;n.parentNode.transformable&&(r=Ga($4e,this.getWorldTransform(n.parentNode)));var a=this.getBounds(n);if(!ma.isEmpty(a)){var i=new ma;return i.setFromTransformedAABB(a,r),i}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,a,i=this.getGeometryBounds(n);ma.isEmpty(i)||(a=new ma,a.setFromTransformedAABB(i,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(a){var s=a.getMin(),l=ct(s,2),c=l[0],u=l[1],f=a.getMax(),d=ct(f,2),h=d[0],p=d[1];return new Yh(c+((o==null?void 0:o.left)||0),u+((o==null?void 0:o.top)||0),h-c,p-u)}return new Yh((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(n){var r,a=(r=n.parentNode)===null||r===void 0?void 0:r.transformable;a6(n.transformable),i3e(n.transformable,a)}},{key:"internalUpdateElement",value:function(n,r){var a,i,o,s,l=((a=n.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig())===null||a===void 0||(a=a.future)===null||a===void 0?void 0:a.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],u=(c==null?void 0:c.transformDirty)||((i=n.transformable)===null||i===void 0?void 0:i.localDirtyFlag);if(n.transformable){var f;(f=n.transformable).dirtyFlag||(f.dirtyFlag=u)}if(this.internalUpdateTransform(n),u){var d;(d=n.dirty)===null||d===void 0||d.call(n,!0,!0)}var h=((o=n.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=n.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((u||h)&&(c==null?void 0:c.shapeUpdated)===!1&&l)for(var p=r.length-1;p>=0;){var v,g,m=r[p];if(m.shapeUpdated)break;(v=(g=m.node).dirty)===null||v===void 0||v.call(g,!0,!0),m.shapeUpdated=!0,p-=1}return u}},{key:"syncHierarchy",value:function(n){for(var r,a,i=[n],o=n.parentNode?[{node:n.parentNode,transformDirty:((r=n.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((a=n.parentNode.transformable)===null||a===void 0?void 0:a.dirtyFlag),shapeUpdated:!1}]:[];i.length>0;){for(var s=i.pop(),l=o[o.length-1];o.length>0&&s.parentNode!==l.node;)l=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var u=s.childNodes.length-1;u>=0;u--)i.push(s.childNodes[u]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(n,r){w2(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(n,r))}},{key:"dirtyWorldTransform",value:function(n,r){this.dirtifyWorldInternal(n,r),this.dirtyToRoot(n,!0)}},{key:"dirtifyWorldInternal",value:function(n,r){var a,i=this,o=((a=n.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig())===null||a===void 0||(a=a.future)===null||a===void 0?void 0:a.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,n.dirty(!0,!0),o||n.childNodes.forEach(function(s){var l=s.transformable;i.dirtifyWorldInternal(s,l)}))}},{key:"dirtyToRoot",value:function(n){for(var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,o=((r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;i;){var s,l;if((s=(l=i).dirty)===null||s===void 0||s.call(l,!0,!0),o)break;i=i.parentNode}a&&n.forEach(function(c){var u;(u=c.dirty)===null||u===void 0||u.call(c,!0,!0)}),this.informDependentDisplayObjects(n),this.pendingEvents.set(n,a)}},{key:"dirtifyFragment",value:function(n){var r,a,i=n.transformable;i&&(i.dirtyFlag=!0,i.localDirtyFlag=!0),(r=(a=n).dirty)===null||r===void 0||r.call(a,!0,!0);for(var o=n.childNodes.length,s=0;s<o;s++)this.dirtifyFragment(n.childNodes[s]);n.nodeName===Ae.FRAGMENT&&this.pendingEvents.set(n,!1)}},{key:"triggerPendingEvents",value:function(){var n=this,r=new Set,a,i,o=function(l,c){if(!(!l.isConnected||r.has(l)||l.nodeName===Ae.FRAGMENT)){if(n.boundsChangedEvent.detail=c,n.boundsChangedEvent.target=l,l.isMutationObserved)l.dispatchEvent(n.boundsChangedEvent);else{if(a===void 0){var u;a=((u=l.ownerDocument.defaultView)===null||u===void 0||(u=u.getConfig())===null||u===void 0||(u=u.future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0}l.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0,a)}r.add(l)}};this.pendingEvents.forEach(function(s,l){if(l.nodeName!==Ae.FRAGMENT){if(i===void 0){var c;i=((c=l.ownerDocument)===null||c===void 0||(c=c.defaultView)===null||c===void 0||(c=c.getConfig())===null||c===void 0||(c=c.future)===null||c===void 0?void 0:c.experimentalAttributeUpdateOptimization)===!0}Um.affectChildren=s,i?o(l,Um):s?l.forEach(function(u){o(u,Um)}):o(l,Um)}}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(n,r,a,i){if(r&&r!==a){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(i);o[n].splice(s,1)}}if(a){var l=this.displayObjectDependencyMap.get(a);l||(this.displayObjectDependencyMap.set(a,{}),l=this.displayObjectDependencyMap.get(a)),l[n]||(l[n]=[]),l[n].push(i)}}},{key:"informDependentDisplayObjects",value:function(n){var r,a=this,i=this.displayObjectDependencyMap.get(n);if(i){var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(i).forEach(function(s){i[s].forEach(function(l){a.dirtyToRoot(l,!0),l.dispatchEvent(new kc(bn.ATTR_MODIFIED,l,a,a,s,kc.MODIFICATION,a,a),o,o),l.isCustomElement&&l.isConnected&&l.attributeChangedCallback&&l.attributeChangedCallback(s,a,a)})})}}}])}(),I6=function(){function e(t){if(ve(this,e),t<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=t,this.cache=new Map}return ge(e,[{key:"get",value:function(n){if(this.cache.has(n)){var r=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,r),r}}},{key:"put",value:function(n,r){if(this.cache.has(n)&&this.cache.delete(n),this.cache.set(n,r),this.cache.size>this.capacity){var a=this.cache.keys().next().value;this.cache.delete(a)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),Uf={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},R6=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,G4e=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,W4e=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,V4e=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Y4e=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,X4e=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,q4e=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,K4e=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Z4e=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Q4e=new RegExp("".concat(G4e.source,"|").concat(V4e.source,"|").concat(X4e.source,"|").concat(K4e.source)),J4e=new RegExp("".concat(W4e.source,"|").concat(Y4e.source,"|").concat(q4e.source,"|").concat(Z4e.source)),eMe=function(){function e(t){var n=this;ve(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,a){return n.isBreakingSpace(a)?!1:!!(r&&(J4e.exec(a)||Q4e.exec(r)))},this.trimByKinsokuShorui=function(r){var a=_t(r),i=a[a.length-2];if(!i)return r;var o=i[i.length-1];return a[a.length-2]=i.slice(0,-1),a[a.length-1]=o+a[a.length-1],a},this.runtime=t,this.charWidthCache=new I6(100)}return ge(e,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var a={ascent:0,descent:0,fontSize:0},i=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=Uf.MetricsString+Uf.BaselineSymbol,l=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(Uf.BaselineSymbol).width),u=Uf.HeightMultiplier*c;c=c*Uf.BaselineMultiplier|0,i.width=l,i.height=u,o.fillStyle="#f00",o.fillRect(0,0,l,u),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var f=o.getImageData(0,0,l||1,u||1).data,d=f.length,h=l*4,p=0,v=0,g=!1;for(p=0;p<c;++p){for(var m=0;m<h;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=h;else break}for(a.ascent=c-p,v=d-h,g=!1,p=u;p>c;--p){for(var y=0;y<h;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=h;else break}return a.descent=p-c,a.fontSize=a.ascent+a.descent,this.fontMetricsCache[n]=a,a}},{key:"measureText",value:function(n,r,a){var i=r.fontSize,o=i===void 0?16:i,s=r.wordWrap,l=s===void 0?!1:s,c=r.lineHeight,u=r.lineWidth,f=u===void 0?1:u,d=r.textBaseline,h=d===void 0?"alphabetic":d,p=r.textAlign,v=p===void 0?"start":p,g=r.letterSpacing,m=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var x=r.leading,b=x===void 0?0:x,E=O6(r),_=this.measureFont(E,a);_.fontSize===0&&(_.fontSize=o,_.ascent=o);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(a);w.font=E,r.isOverflowing=!1;var A=l?this.wordWrap(n,r,a):n,S=A.split(/(?:\r\n|\r|\n)/),k=new Array(S.length),T=0;if(y){y.getTotalLength();for(var O=0;O<S.length;O++)w.measureText(S[O]).width+(S[O].length-1)*m}else{for(var C=0;C<S.length;C++){var M=w.measureText(S[C]).width+(S[C].length-1)*m;k[C]=M,T=Math.max(T,M)}var R=T+f,I=c||_.fontSize+f,P=Math.max(I,_.fontSize+f)+(S.length-1)*(I+b);I+=b;var B=0;return h==="middle"?B=-P/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?B=-P:(h==="top"||h==="hanging")&&(B=0),{font:E,width:R,height:P,lines:S,lineWidths:k,lineHeight:I,maxLineWidth:T,fontProperties:_,lineMetrics:k.map(function(N,V){var W=0;return v==="center"||v==="middle"?W-=N/2:(v==="right"||v==="end")&&(W-=N),new Yh(W-f/2,B+V*I,N+f,I)})}}}},{key:"wordWrap",value:function(n,r,a){var i=this,o=Array.from(n);if(o.length===0)return"";var s=this,l=r.wordWrapWidth,c=l===void 0?0:l,u=r.letterSpacing,f=u===void 0?0:u,d=r.maxLines,h=d===void 0?1/0:d,p=r.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(a),g=c+f,m="";p==="ellipsis"?m="...":p&&p!=="clip"&&(m=p);var y=[""],x=0,b=0,E=-1,_=O6(r),w=this.charWidthCache.get(_);w||(w=new I6(500),this.charWidthCache.put(_,w));var A=function(N){return i.getFromCache(N,f,w,v)},S=A(m);function k(B,N,V,W){for(;A(B)<W&&N<o.length-1&&!s.isNewline(o[N+1]);)N+=1,B+=o[N];for(;A(B)>W&&N>=V;)N-=1,B=B.slice(0,-1);return{lineTxt:B,txtLastCharIndex:N}}function T(B,N){if(!(S<=0||S>g)){if(!y[B]){y[B]=m;return}var V=k(y[B],N,E+1,g-S);y[B]=V.lineTxt+m}}for(var O=0;O<o.length;O++){var C=o[O],M=o[O-1],R=o[O+1],I=A(C);if(this.isNewline(C)){if(x+1>=h){O<o.length-1&&T(x,O-1),r.isOverflowing=!0;break}E=O-1,x+=1,b=0,y[x]="";continue}if(I>g){T(x,O-1),r.isOverflowing=!0;break}if(b>0&&b+I>g){var P=k(y[x],O-1,E+1,g);if(P.txtLastCharIndex!==O-1){if(y[x]=P.lineTxt,P.txtLastCharIndex===o.length-1)break;O=P.txtLastCharIndex+1,C=o[O],M=o[O-1],R=o[O+1],I=A(C)}if(x+1>=h){T(x,O-1),r.isOverflowing=!0;break}if(E=O-1,x+=1,b=0,y[x]="",this.isBreakingSpace(C))continue;this.canBreakInLastChar(C)||(y=this.trimToBreakable(y),b=this.sumTextWidthByCache(y[x]||"",A)),this.shouldBreakByKinsokuShorui(C,R)&&(y=this.trimByKinsokuShorui(y),b+=A(M||""))}b+=I,y[x]+=C}return y.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:Uf.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:Uf.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=_t(n),a=r[r.length-2],i=this.findBreakableIndex(a);if(i===-1||!a)return r;var o=a.slice(i,i+1),s=this.isBreakingSpace(o),l=i+1,c=i+(s?0:1);return r[r.length-1]+=a.slice(l,a.length),r[r.length-2]=a.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&R6.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(a,i){return a+r(i)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!R6.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,a,i){var o=a.get(n);if(typeof o!="number"){var s=n.length*r,l=i.measureText(n);o=l.width+s,a.put(n,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),$e={},tMe=function(e){var t=new A4e,n=new S4e;return e={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Ae.FRAGMENT,null),Ae.CIRCLE,new b4e),Ae.ELLIPSE,new w4e),Ae.RECT,t),Ae.IMAGE,t),Ae.GROUP,new T4e),Ae.LINE,new _4e),Ae.TEXT,new k4e($e)),Ae.POLYLINE,n),Ae.POLYGON,n),Be(Be(Be(e,Ae.PATH,new E4e),Ae.HTML,new O4e),Ae.MESH,null)}(),nMe=function(e){var t=new ICe,n=new hk;return e={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Ze.PERCENTAGE,null),Ze.NUMBER,new FCe),Ze.ANGLE,new MCe),Ze.DEFINED_PATH,new PCe),Ze.PAINT,t),Ze.COLOR,t),Ze.FILTER,new RCe),Ze.LENGTH,n),Ze.LENGTH_PERCENTAGE,n),Ze.LENGTH_PERCENTAGE_12,new NCe),Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Ze.LENGTH_PERCENTAGE_14,new DCe),Ze.COORDINATE,new hk),Ze.OFFSET_DISTANCE,new BCe),Ze.OPACITY_VALUE,new $Ce),Ze.PATH,new jCe),Ze.LIST_OF_POINTS,new zCe),Ze.SHADOW_BLUR,new UCe),Ze.TEXT,new HCe),Ze.TEXT_TRANSFORM,new GCe),Ze.TRANSFORM,new m4e),Be(Be(Be(e,Ze.TRANSFORM_ORIGIN,new y4e),Ze.Z_INDEX,new x4e),Ze.MARKER,new LCe)}(),rMe=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};$e.CameraContribution=nU;$e.AnimationTimeline=null;$e.EasingFunction=null;$e.offscreenCanvasCreator=new V3;$e.sceneGraphSelector=new R4e;$e.sceneGraphService=new H4e($e);$e.textService=new eMe($e);$e.geometryUpdaterFactory=tMe;$e.CSSPropertySyntaxFactory=nMe;$e.styleValueRegistry=new OCe($e);$e.layoutRegistry=null;$e.globalThis=rMe();$e.enableStyleSyntax=!0;$e.enableSizeAttenuation=!1;var aMe=0,mk=new kc(bn.INSERTED,null,"","","",0,"",""),yk=new kc(bn.REMOVED,null,"","","",0,"",""),MU=new ri(bn.DESTROY),iMe=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.entity=aMe++,n.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.cullable={strategy:n3e.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return ft(t,e),ge(t,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=r,a&&(this.renderable.boundsDirty=r,this.renderable.renderBoundsDirty=r)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(Qn)}},{key:"appendChild",value:function(r,a){var i;if(r.destroyed)throw new Error(WOe);return $e.sceneGraphService.attach(r,this,a),(i=this.ownerDocument)!==null&&i!==void 0&&i.defaultView&&(!w2(this)&&r.nodeName===Ae.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(mk.relatedNode=this,r.dispatchEvent(mk)),r}},{key:"insertBefore",value:function(r,a){if(!a)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var i=this.childNodes.indexOf(a);i===-1?this.appendChild(r):this.appendChild(r,i)}return r}},{key:"replaceChild",value:function(r,a){var i=this.childNodes.indexOf(a);return this.removeChild(a),this.appendChild(r,i),a}},{key:"removeChild",value:function(r){var a,i,o=((a=this.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;return yk.relatedNode=this,r.dispatchEvent(yk,o,o),(i=r.ownerDocument)!==null&&i!==void 0&&i.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),$e.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];this.removeChild(a)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];a.childNodes.length>0&&a.destroyChildren(),a.destroy()}}},{key:"matches",value:function(r){return $e.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return $e.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return $e.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return $e.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return $e.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return $e.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return $e.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var a=this;do{if($e.sceneGraphService.matches(r,a))return a;a=a.parentElement}while(a!==null);return null}},{key:"find",value:function(r){var a=this,i=null;return this.forEach(function(o){return o!==a&&r(o)?(i=o,!1):!0}),i}},{key:"findAll",value:function(r){var a=this,i=[];return this.forEach(function(o){o!==a&&r(o)&&i.push(o)}),i}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.forEach(function(l,c){var u;return(u=r.parentNode)===null||u===void 0?void 0:u.appendChild(l,a+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],c=o.slice(1);this.parentNode.appendChild(l,a),(r=l).after.apply(r,_t(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,a=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(MU,a,a),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return $e.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return $e.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return $e.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return $e.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return $e.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var a=this.attributes[r];return a}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,a,i,o){this.attributes[r]=a}},{key:"getAttributeNS",value:function(r,a){throw new Error(Qn)}},{key:"getAttributeNode",value:function(r){throw new Error(Qn)}},{key:"getAttributeNodeNS",value:function(r,a){throw new Error(Qn)}},{key:"hasAttributeNS",value:function(r,a){throw new Error(Qn)}},{key:"removeAttributeNS",value:function(r,a){throw new Error(Qn)}},{key:"removeAttributeNode",value:function(r){throw new Error(Qn)}},{key:"setAttributeNS",value:function(r,a,i){throw new Error(Qn)}},{key:"setAttributeNode",value:function(r){throw new Error(Qn)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(Qn)}},{key:"toggleAttribute",value:function(r,a){throw new Error(Qn)}}])}(Fr);function _n(e){return!!(e!=null&&e.nodeName)}var oMe=$e.globalThis.Proxy?$e.globalThis.Proxy:function(){},Kl=new kc(bn.ATTR_MODIFIED,null,null,null,null,kc.MODIFICATION,null,null),Kp=Et(),sMe=vn(),Dr=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||Ae.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),$e.enableStyleSyntax&&(r.style=new oMe({setProperty:function(i,o){r.setAttribute(i,o)},getPropertyValue:function(i){return r.getAttribute(i)},removeProperty:function(i){r.removeAttribute(i)},item:function(){return""}},{get:function(i,o){return i[o]!==void 0?i[o]:r.getAttribute(o)},set:function(i,o,s){return r.setAttribute(o,s),!0}})),r}return ft(t,e),ge(t,[{key:"destroy",value:function(){p2(t,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,a){var i=bt({},this.attributes);for(var o in i){var s=i[o];_n(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(i[o]=s.cloneNode(r)),a&&(i[o]=a(o,s))}var l=new this.constructor(bt(bt({},this.config),{},{style:i}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var u=c.cloneNode(r);l.appendChild(u)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={forceUpdateGeometry:!0};$e.styleValueRegistry.processProperties(this,r,a),this.dirty()}},{key:"setAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;Rt(a)||(i||a!==this.attributes[r])&&(this.internalSetAttribute(r,a,{memoize:o}),p2(t,"setAttribute",this)([r,a]))}},{key:"internalSetAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];$e.styleValueRegistry.processProperties(this,Be({},r,a),i),this.dirty();var l=this.parsedStyle[r];if(this.isConnected)if(Kl.relatedNode=this,Kl.prevValue=o,Kl.newValue=a,Kl.attrName=r,Kl.prevParsedValue=s,Kl.newParsedValue=l,this.isMutationObserved)this.dispatchEvent(Kl);else{var c,u=((c=this.ownerDocument.defaultView.getConfig().future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;Kl.target=this,this.ownerDocument.defaultView.dispatchEvent(Kl,!0,u)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var f,d;(f=(d=this).attributeChangedCallback)===null||f===void 0||f.call(d,r,o,a,s,l)}}},{key:"getBBox",value:function(){var r=this.getBounds(),a=r.getMin(),i=ct(a,2),o=i[0],s=i[1],l=r.getMax(),c=ct(l,2),u=c[0],f=c[1];return new Yh(o,s,u-o,f-s)}},{key:"setOrigin",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $e.sceneGraphService.setOrigin(this,uo(r,a,i,!1)),this}},{key:"getOrigin",value:function(){return $e.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $e.sceneGraphService.setPosition(this,uo(r,a,i,!1)),this}},{key:"setLocalPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $e.sceneGraphService.setLocalPosition(this,uo(r,a,i,!1)),this}},{key:"translate",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $e.sceneGraphService.translate(this,uo(r,a,i,!1)),this}},{key:"translateLocal",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $e.sceneGraphService.translateLocal(this,uo(r,a,i,!1)),this}},{key:"getPosition",value:function(){return $e.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return $e.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,a,i){return this.scaleLocal(r,a,i)}},{key:"scaleLocal",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=uo(r,a,i,!1)),$e.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=uo(r,a,i,!1)),$e.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return $e.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return $e.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=mE(Kp,$e.sceneGraphService.getWorldTransform(this)),a=ct(r,3),i=a[2];return As(i)}},{key:"getLocalEulerAngles",value:function(){var r=mE(Kp,$e.sceneGraphService.getLocalRotation(this)),a=ct(r,3),i=a[2];return As(i)}},{key:"setEulerAngles",value:function(r){return $e.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return $e.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,a,i){return lt(a)&&lt(i)?$e.sceneGraphService.rotateLocal(this,0,0,r):$e.sceneGraphService.rotateLocal(this,r,a,i),this}},{key:"rotate",value:function(r,a,i){return lt(a)&&lt(i)?$e.sceneGraphService.rotate(this,0,0,r):$e.sceneGraphService.rotate(this,r,a,i),this}},{key:"setRotation",value:function(r,a,i,o){return $e.sceneGraphService.setRotation(this,r,a,i,o),this}},{key:"setLocalRotation",value:function(r,a,i,o){return $e.sceneGraphService.setLocalRotation(this,r,a,i,o),this}},{key:"setLocalSkew",value:function(r,a){return $e.sceneGraphService.setLocalSkew(this,r,a),this}},{key:"getRotation",value:function(){return $e.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return $e.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return $e.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return $e.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return $e.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return $e.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){$e.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,a){var i,o=(i=this.ownerDocument)===null||i===void 0?void 0:i.timeline;return o?o.play(this,r,a):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,_t(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,_t(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=i[0],l=i[1];return s?yp(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):i.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var a=r||this.getWorldTransform(),i=Id(Kp,a),o=ct(i,2),s=o[0],l=o[1],c=Sc(Kp,a),u=ct(c,2),f=u[0],d=u[1],h=Rd(sMe,a),p=mE(Kp,h),v=ct(p,3),g=v[0],m=v[2];return ZOe(g||m,s,l,f,d)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var a=t6(r),i=ct(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setEulerAngles(u).setPosition(o,s).setLocalScale(l,c)}},{key:"setLocalMatrix",value:function(r){var a=t6(r),i=ct(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setLocalEulerAngles(u).setLocalPosition(o,s).setLocalScale(l,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,a){return this.appendChild(r,a)}},{key:"set",value:function(r,a){this.config[r]=a}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"move",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(iMe);Dr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var jd=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Ae.CIRCLE},n)])}return ft(t,e),ge(t)}(Dr);jd.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var lMe=["style"],Y3=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,lMe);return ve(this,t),n=ut(this,t,[bt({style:a},i)]),n.isCustomElement=!0,n}return ft(t,e),ge(t)}(Dr);Y3.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var X3=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Ae.ELLIPSE},n)])}return ft(t,e),ge(t)}(Dr);X3.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var cMe=function(e){function t(){return ve(this,t),ut(this,t,[{type:Ae.FRAGMENT}])}return ft(t,e),ge(t)}(Dr);cMe.PARSED_STYLE_LIST=new Set(["class","className"]);var gu=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Ae.GROUP},n)])}return ft(t,e),ge(t)}(Dr);gu.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var uMe=["style"],mw=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,uMe);return ve(this,t),n=ut(this,t,[bt({type:Ae.HTML,style:a},i)]),n.cullable.enable=!1,n}return ft(t,e),ge(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Ga(Dt(),this.parentNode.getWorldTransform()),a=this.getBounds();if(!ma.isEmpty(a)){var i=new ma;return i.setFromTransformedAABB(a,r),i}}return this.getBounds()}}])}(Dr);mw.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var q3=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Ae.IMAGE},n)])}return ft(t,e),ge(t)}(Dr);q3.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var fMe=["style"],_p=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,fMe);ve(this,t),n=ut(this,t,[bt({type:Ae.LINE,style:bt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},a)},i)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&_n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&_n(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&_n(o)&&(this.markerStartAngle=0,o.remove()),s&&_n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&_n(o)&&(this.markerEndAngle=0,o.remove()),s&&_n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.x1,u=a.x2,f=a.y1,d=a.y2,h=r?i:o;if(!(!h||!_n(h))){var p=0,v,g,m,y,x,b;r?(m=c,y=f,v=u-c,g=d-f,x=s||0,b=this.markerStartAngle):(m=u,y=d,v=c-u,g=f-d,x=l||0,b=this.markerEndAngle),p=Math.atan2(g,v),h.setLocalEulerAngles(p*180/Math.PI+b),h.setLocalPosition(m+Math.cos(p)*x,y+Math.sin(p)*x)}}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle,o=i.x1,s=i.y1,l=i.x2,c=i.y2,u=Jz(o,s,l,c,r),f=u.x,d=u.y,h=sr(Et(),Ot(f,d,0),a?this.getWorldTransform():this.getLocalTransform());return new _i(h[0],h[1])}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,a=r.x1,i=r.y1,o=r.x2,s=r.y2;return Qz(a,i,o,s)}}])}(Dr);_p.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var dMe=["style"],ls=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,dMe);ve(this,t),n=ut(this,t,[bt({type:Ae.PATH,style:a,initialParsedStyle:{miterLimit:4,d:bt({},rU)}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&_n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&_n(c)&&n.placeMarkerMid(c),l&&_n(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&_n(o)&&(this.markerStartAngle=0,o.remove()),s&&_n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&_n(o)&&(this.markerEndAngle=0,o.remove()),s&&_n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=r?i:o;if(!(!c||!_n(c))){var u=0,f,d,h,p,v,g;if(r){var m=this.getStartTangent(),y=ct(m,2),x=y[0],b=y[1];h=b[0],p=b[1],f=x[0]-b[0],d=x[1]-b[1],v=s||0,g=this.markerStartAngle}else{var E=this.getEndTangent(),_=ct(E,2),w=_[0],A=_[1];h=A[0],p=A[1],f=w[0]-A[0],d=w[1]-A[1],v=l||0,g=this.markerEndAngle}u=Math.atan2(d,f),c.setLocalEulerAngles(u*180/Math.PI+g),c.setLocalPosition(h+Math.cos(u)*v,p+Math.sin(u)*v)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),r&&_n(r))for(var i=1;i<a.length-1;i++){var o=ct(a[i].currentPoint,2),s=o[0],l=o[1],c=i===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return fk(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.d.absolutePath,o=nj(i,r),s=o.x,l=o.y,c=sr(Et(),Ot(s,l,0),a?this.getWorldTransform():this.getLocalTransform());return new _i(c[0],c[1])}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*fk(this),a)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,a=[];if(r.length>1){var i=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;a=[],s?(a.push([i[0]-s[0],i[1]-s[1]]),a.push([i[0],i[1]])):(a.push([o[0],o[1]]),a.push([i[0],i[1]]))}return a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,a=r.length,i=[];if(a>1){var o=r[a-2].currentPoint,s=r[a-1].currentPoint,l=r[a-1].endTangent;i=[],l?(i.push([s[0]-l[0],s[1]-l[1]]),i.push([s[0],s[1]])):(i.push([o[0],o[1]]),i.push([s[0],s[1]]))}return i}}])}(Dr);ls.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var hMe=["style"],Vg=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,hMe);ve(this,t),n=ut(this,t,[bt({type:Ae.POLYGON,style:a,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&_n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&_n(c)&&n.placeMarkerMid(c),l&&_n(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&_n(o)&&(this.markerStartAngle=0,o.remove()),s&&_n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&_n(o)&&(this.markerEndAngle=0,o.remove()),s&&_n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.points,u=c||{},f=u.points,d=r?i:o;if(!(!d||!_n(d)||!f)){var h=0,p,v,g,m,y,x;if(g=f[0][0],m=f[0][1],r)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=s||0,x=this.markerStartAngle;else{var b=f.length;this.parsedStyle.isClosed?(p=f[b-1][0]-f[0][0],v=f[b-1][1]-f[0][1]):(g=f[b-1][0],m=f[b-1][1],p=f[b-2][0]-f[b-1][0],v=f[b-2][1]-f[b-1][1]),y=l||0,x=this.markerEndAngle}h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+x),d.setLocalPosition(g+Math.cos(h)*y,m+Math.sin(h)*y)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.points,i=a||{},o=i.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],r&&_n(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],c=o[s][1],u=s===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(l,c)}}}])}(Dr);Vg.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var pMe=["style"],K3=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=Go(n,pMe);return ve(this,t),ut(this,t,[bt({type:Ae.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},a)])}return ft(t,e),ge(t,[{key:"getTotalLength",value:function(){return eCe(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,c,u=this.getTotalLength();i.forEach(function(m,y){i[y+1]&&(l=[0,0],l[0]=s/u,c=Qz(m[0],m[1],i[y+1][0],i[y+1][1]),s+=c,l[1]=s/u,o.push(l))}),this.parsedStyle.points.segments=o}var f=0,d=0;this.parsedStyle.points.segments.forEach(function(m,y){r>=m[0]&&r<=m[1]&&(f=(r-m[0])/(m[1]-m[0]),d=y)});var h=Jz(i[d][0],i[d][1],i[d+1][0],i[d+1][1],f),p=h.x,v=h.y,g=sr(Et(),Ot(p,v,0),a?this.getWorldTransform():this.getLocalTransform());return new _i(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,a=[];return a.push([r[1][0],r[1][1]]),a.push([r[0][0],r[0][1]]),a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,a=r.length-1,i=[];return i.push([r[a-1][0],r[a-1][1]]),i.push([r[a][0],r[a][1]]),i}}])}(Vg);K3.PARSED_STYLE_LIST=new Set([].concat(_t(Vg.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var c0=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Ae.RECT},n)])}return ft(t,e),ge(t)}(Dr);c0.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var vMe=["style"],Tc=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=Go(n,vMe);return ve(this,t),ut(this,t,[bt({type:Ae.TEXT,style:bt({fill:"black"},r)},a)])}return ft(t,e),ge(t,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Dr);Tc.PARSED_STYLE_LIST=new Set([].concat(_t(Dr.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var gMe=function(){function e(){ve(this,e),this.registry={},this.define(Ae.CIRCLE,jd),this.define(Ae.ELLIPSE,X3),this.define(Ae.RECT,c0),this.define(Ae.IMAGE,q3),this.define(Ae.LINE,_p),this.define(Ae.GROUP,gu),this.define(Ae.PATH,ls),this.define(Ae.POLYGON,Vg),this.define(Ae.POLYLINE,K3),this.define(Ae.TEXT,Tc),this.define(Ae.HTML,mw)}return ge(e,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])}(),PU={number:function(t){return new Jn(t)},percent:function(t){return new Jn(t,"%")},px:function(t){return new Jn(t,"px")},em:function(t){return new Jn(t,"em")},rem:function(t){return new Jn(t,"rem")},deg:function(t){return new Jn(t,"deg")},grad:function(t){return new Jn(t,"grad")},rad:function(t){return new Jn(t,"rad")},turn:function(t){return new Jn(t,"turn")},s:function(t){return new Jn(t,"s")},ms:function(t){return new Jn(t,"ms")},registerProperty:function(t){var n=t.name,r=t.inherits,a=t.interpolable,i=t.initialValue,o=t.syntax;$e.styleValueRegistry.registerMetadata({n,inh:r,int:a,d:i,syntax:o})},registerLayout:function(t,n){$e.layoutRegistry.registerLayout(t,n)}},mMe=function(e){function t(){var n;ve(this,t),n=ut(this,t),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new $e.AnimationTimeline(n)}catch{}var r={};return H3.forEach(function(a){var i=a.n,o=a.inh,s=a.d;o&&s&&(r[i]=ta(s)?s(Ae.GROUP):s)}),n.documentElement=new gu({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return ft(t,e),ge(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,a){if(r==="svg")return this.documentElement;var i=this.defaultView.customElements.get(r);i||(console.warn("Unsupported tagName: ",r),i=r==="tspan"?Tc:gu);var o=new i(a);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,a,i){return this.createElement(a,i)}},{key:"cloneNode",value:function(r){throw new Error(Qn)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,a,i,o){var s=this.defaultView.context.rBushRoot,l=s.search({minX:r,minY:a,maxX:i,maxY:o}),c=[];return l.forEach(function(u){var f=u.displayObject,d=f.parsedStyle.pointerEvents,h=d===void 0?"auto":d,p=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(h);(!p||p&&f.isVisible())&&!f.isCulled()&&f.isInteractive()&&c.push(f)}),c.sort(function(u,f){return f.sortable.renderOrder-u.sortable.renderOrder}),c}},{key:"elementFromPointSync",value:function(r,a){var i=this.defaultView.canvas2Viewport({x:r,y:a}),o=i.x,s=i.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return null;var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:a,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v&&v[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var n=uf(Ai().mark(function a(i,o){var s,l,c,u,f,d,h,p,v,g,m;return Ai().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:i,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),f=u.width,d=u.height,!(l<0||c<0||l>f||c>d)){y.next=1;break}return y.abrupt("return",null);case 1:return h=this.defaultView.viewport2Client({x:l,y:c}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:i,y:o,viewportX:l,viewportY:c,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,y.abrupt("return",m&&m[0]||this.documentElement);case 3:case"end":return y.stop()}},a,this)}));function r(a,i){return n.apply(this,arguments)}return r}()},{key:"elementsFromPointSync",value:function(r,a){var i=this.defaultView.canvas2Viewport({x:r,y:a}),o=i.x,s=i.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return[];var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:a,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v[v.length-1]!==this.documentElement&&v.push(this.documentElement),v}},{key:"elementsFromPoint",value:function(){var n=uf(Ai().mark(function a(i,o){var s,l,c,u,f,d,h,p,v,g,m;return Ai().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:i,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),f=u.width,d=u.height,!(l<0||c<0||l>f||c>d)){y.next=1;break}return y.abrupt("return",[]);case 1:return h=this.defaultView.viewport2Client({x:l,y:c}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:i,y:o,viewportX:l,viewportY:c,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,m[m.length-1]!==this.documentElement&&m.push(this.documentElement),y.abrupt("return",m);case 3:case"end":return y.stop()}},a,this)}));function r(a,i){return n.apply(this,arguments)}return r}()},{key:"appendChild",value:function(r,a){throw new Error(A0)}},{key:"insertBefore",value:function(r,a){throw new Error(A0)}},{key:"removeChild",value:function(r,a){throw new Error(A0)}},{key:"replaceChild",value:function(r,a,i){throw new Error(A0)}},{key:"append",value:function(){throw new Error(A0)}},{key:"prepend",value:function(){throw new Error(A0)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])}(Fr),IU=function(){function e(t){ve(this,e),this.strategies=t}return ge(e,[{key:"apply",value:function(n){var r=n.config,a=n.camera,i=n.renderingService,o=n.renderingContext,s=this.strategies;i.hooks.cull.tap(e.tag,function(l){if(l){var c,u=l.cullable;if(s.length===0?u.visible=o.unculledEntities.indexOf(l.entity)>-1:u.visible=s.every(function(d){return d.isVisible(a,l)}),!l.isCulled()&&l.isVisible())return l;var f=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return l.dispatchEvent(new ri(bn.CULLED),f,f),null}return l}),i.hooks.afterRender.tap(e.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])}();IU.tag="Culling";var RU=function(){function e(){var t=this;ve(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new vk(null),this.rootWheelEvent=new gk(null),this.onPointerMove=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(a.supportsTouchEvents&&n.pointerType==="touch")){var i=t.normalizeToPointerEvent(n,a),o=Zo(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,i=t.normalizeToPointerEvent(n,a),o=Zo(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return ge(e,[{key:"apply",value:function(n){var r=this;this.context=n;var a=n.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),a.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),a.hooks.pointerDown.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,i);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var c=Zo(s),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,d=r.bootstrapEvent(r.rootPointerEvent,f,i,o);r.context.eventService.mapEvent(d)}}catch(h){c.e(h)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerUp.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),c=l?"":"outside",u=r.normalizeToPointerEvent(o,i),f=Zo(u),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=r.bootstrapEvent(r.rootPointerEvent,h,i,o);p.type+=c,r.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerMove.tap(e.tag,this.onPointerMove),a.hooks.pointerOver.tap(e.tag,this.onPointerMove),a.hooks.pointerOut.tap(e.tag,this.onPointerMove),a.hooks.click.tap(e.tag,this.onClick),a.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,i),l=Zo(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,f=r.bootstrapEvent(r.rootPointerEvent,u,i,o);r.context.eventService.mapEvent(f)}}catch(d){l.e(d)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,a,i){n.view=a,n.originalEvent=null,n.nativeEvent=i,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;n.viewport.x=s,n.viewport.y=l;var c=this.context.eventService.viewport2Canvas(n.viewport),u=c.x,f=c.y;return n.canvas.x=u,n.canvas.y=f,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=i.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=QCe[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var a=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),i=a.x,o=a.y;r.viewport.x=i,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,c=s.y;return r.canvas.x=l,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=pk.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var a=[];if(r.isTouchEvent(n))for(var i=0;i<n.changedTouches.length;i++){var o=n.changedTouches[i];Rt(o.button)&&(o.button=0),Rt(o.buttons)&&(o.buttons=1),Rt(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),Rt(o.width)&&(o.width=o.radiusX||1),Rt(o.height)&&(o.height=o.radiusY||1),Rt(o.tiltX)&&(o.tiltX=0),Rt(o.tiltY)&&(o.tiltY=0),Rt(o.pointerType)&&(o.pointerType="touch"),Rt(o.pointerId)&&(o.pointerId=o.identifier||0),Rt(o.pressure)&&(o.pressure=o.force||.5),Rt(o.twist)&&(o.twist=0),Rt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,a.push(o)}else if(r.isMouseEvent(n)){var s=n;Rt(s.isPrimary)&&(s.isPrimary=!0),Rt(s.width)&&(s.width=1),Rt(s.height)&&(s.height=1),Rt(s.tiltX)&&(s.tiltX=0),Rt(s.tiltY)&&(s.tiltY=0),Rt(s.pointerType)&&(s.pointerType="mouse"),Rt(s.pointerId)&&(s.pointerId=ZCe),Rt(s.pressure)&&(s.pressure=.5),Rt(s.twist)&&(s.twist=0),Rt(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,a.push(s)}else a.push(n);return a}}])}();RU.tag="Event";var yMe=[Ae.CIRCLE,Ae.ELLIPSE,Ae.IMAGE,Ae.RECT,Ae.LINE,Ae.POLYLINE,Ae.POLYGON,Ae.TEXT,Ae.PATH,Ae.HTML],xMe=function(){function e(){ve(this,e)}return ge(e,[{key:"isVisible",value:function(n,r){var a,i=r.cullable;if(!i.enable)return!0;var o=r.getRenderBounds();if(ma.isEmpty(o))return!1;var s=n.getFrustum(),l=(a=r.parentNode)===null||a===void 0||(a=a.cullable)===null||a===void 0?void 0:a.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,l||S0.INDETERMINATE,s.planes),i.visible=i.visibilityPlaneMask!==S0.OUTSIDE,i.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,a,i){if(a===S0.OUTSIDE||a===S0.INSIDE)return a;for(var o=S0.INSIDE,s=yMe.indexOf(n.nodeName)>-1,l=0,c=i.length;l<c;++l){var u=1<<l;if((a&u)!==0&&!(s&&(l===4||l===5))){var f=i[l],d=f.normal,h=f.distance;if(Si(d,r.getPositiveFarPoint(i[l]))+h<0)return S0.OUTSIDE;Si(d,r.getNegativeFarPoint(i[l]))+h<0&&(o|=u)}}return o}}])}(),NU=function(){function e(){ve(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return ge(e,[{key:"apply",value:function(n){var r=this,a,i,o=n.config,s=n.renderingService,l=n.renderingContext,c=n.rBushRoot,u=l.root.ownerDocument.defaultView;this.rBush=c;var f=function(y){s.dirtify()},d=function(y){r.syncTasks.set(y.target,y.detail.affectChildren),s.dirtify()},h=function(y){var x=y.target;$e.enableSizeAttenuation&&$e.styleValueRegistry.updateSizeAttenuation(x,u.getCamera().getZoom())},p=function(y){var x=y.target,b=x.rBushNode;b!=null&&b.aabb&&r.rBush.remove(b.aabb),r.syncTasks.delete(x),$e.sceneGraphService.dirtyToRoot(x),s.dirtify()};s.hooks.init.tap(e.tag,function(){u.addEventListener(bn.MOUNTED,h),u.addEventListener(bn.UNMOUNTED,p),u.addEventListener(bn.ATTR_MODIFIED,f),u.addEventListener(bn.BOUNDS_CHANGED,d)}),s.hooks.destroy.tap(e.tag,function(){u.removeEventListener(bn.MOUNTED,h),u.removeEventListener(bn.UNMOUNTED,p),u.removeEventListener(bn.ATTR_MODIFIED,f),u.removeEventListener(bn.BOUNDS_CHANGED,d),r.syncTasks.clear()});var v=(a=$e.globalThis.requestIdleCallback)!==null&&a!==void 0?a:W3.bind($e.globalThis),g=((i=o.future)===null||i===void 0?void 0:i.experimentalRICSyncRTree)===!0;s.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,v(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):g&&$e.globalThis.requestIdleCallback&&$e.globalThis.cancelIdleCallback?($e.globalThis.cancelIdleCallback(r.ricSyncRTreeId),r.ricSyncRTreeId=$e.globalThis.requestIdleCallback(function(){return r.syncRTree()})):r.syncRTree()})}},{key:"syncNode",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.isConnected){var a=n.rBushNode;a.aabb&&this.rBush.remove(a.aabb);var i=n.getRenderBounds();if(i){var o=n.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new ma),o.dirtyRenderBounds.update(i.center,i.halfExtents));var s=i.getMin(),l=ct(s,2),c=l[0],u=l[1],f=i.getMax(),d=ct(f,2),h=d[0],p=d[1];a.aabb||(a.aabb={}),a.aabb.displayObject=n,a.aabb.minX=c,a.aabb.minY=u,a.aabb.maxX=h,a.aabb.maxY=p}if(a.aabb&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.minX)&&!isNaN(a.aabb.minY))return a.aabb}}},{key:"syncRTree",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var a=[],i=new Set,o=function(l){if(!i.has(l)&&l.renderable){var c=n.syncNode(l,r);c&&(a.push(c),i.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var c=l;c;)o(c),c=c.parentElement}),this.rBush.load(a),a.length=0,this.syncing=!1}}}])}();NU.tag="Prepare";var Ts=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),N6=500,bMe=.1,wMe=1e3,Hm=new ri(bn.MOUNTED),Gm=new ri(bn.UNMOUNTED),TE=new ri(Ts.BEFORE_RENDER),D6=new ri(Ts.RERENDER),OE=new ri(Ts.AFTER_RENDER),DU=function(e){function t(n){var r;ve(this,t),r=ut(this,t),r.Element=Dr,r.inited=!1,r.context={};var a=n.container,i=n.canvas,o=n.renderer,s=n.width,l=n.height,c=n.background,u=n.cursor,f=n.supportsMutipleCanvasesInOneContainer,d=n.cleanUpOnDestroy,h=d===void 0?!0:d,p=n.offscreenCanvas,v=n.devicePixelRatio,g=n.requestAnimationFrame,m=n.cancelAnimationFrame,y=n.createImage,x=n.supportsTouchEvents,b=n.supportsPointerEvents,E=n.isTouchEvent,_=n.isMouseEvent,w=n.dblClickSpeed,A=s,S=l,k=v||G3&&window.devicePixelRatio||1;return k=k>=1?Math.ceil(k):1,i&&(A=s||qCe(i)||i.width/k,S=l||KCe(i)||i.height/k),r.customElements=new gMe,r.devicePixelRatio=k,r.requestAnimationFrame=g??W3.bind($e.globalThis),r.cancelAnimationFrame=m??kU.bind($e.globalThis),r.createImage=y??function(){return new window.Image},r.supportsTouchEvents=x??"ontouchstart"in $e.globalThis,r.supportsPointerEvents=b??!!$e.globalThis.PointerEvent,r.isTouchEvent=E??function(T){return r.supportsTouchEvents&&T instanceof $e.globalThis.TouchEvent},r.isMouseEvent=_??function(T){return!$e.globalThis.MouseEvent||T instanceof $e.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(T instanceof $e.globalThis.PointerEvent))},p&&($e.offscreenCanvas=p),r.document=new mMe,r.document.defaultView=r,f||WCe(a,r,h),r.initRenderingContext(bt(bt({},n),{},{width:A,height:S,background:c??"transparent",cursor:u??"default",cleanUpOnDestroy:h,devicePixelRatio:k,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:w??200})),r.initDefaultCamera(A,S,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return ft(t,e),ge(t,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,a,i){var o=this,s=new $e.CameraContribution;s.clipSpaceNearZ=i,s.setType(qn.EXPLORING,ok.DEFAULT).setPosition(r/2,a/2,N6).setFocalPoint(r/2,a/2,0).setOrthographic(r/-2,r/2,a/2,a/-2,bMe,wMe),s.canvas=this,s.eventEmitter.on(tU.UPDATED,function(){o.context.renderingContext.renderReasons.add(ch.CAMERA_CHANGED),$e.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(a){$e.styleValueRegistry.updateSizeAttenuation(a,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(a){r.resolveReadyPromise=function(){a(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;_a.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;i||this.dispatchEvent(new ri(Ts.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();a&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),i||this.dispatchEvent(new ri(Ts.AFTER_DESTROY),o,o);var l=function(u){u.currentTarget=null,u.manager=null,u.target=null,u.relatedNode=null};l(Hm),l(Gm),l(TE),l(D6),l(OE),l(Kl),l(mk),l(yk),l(MU),$e.textService.clearCache()}},{key:"changeSize",value:function(r,a){this.resize(r,a)}},{key:"resize",value:function(r,a){var i,o=this.context.config;o.width=r,o.height=a,this.getContextService().resize(r,a);var s=this.context.camera,l=s.getProjectionMode();s.setPosition(r/2,a/2,N6).setFocalPoint(r/2,a/2,0),l===bs.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,a/2,a/-2,s.getNear(),s.getFar()):s.setAspect(r/a);var c=((i=o.future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new ri(Ts.RESIZE,{width:r,height:a}),c,c)}},{key:"appendChild",value:function(r,a){return this.document.documentElement.appendChild(r,a)}},{key:"insertBefore",value:function(r,a){return this.document.documentElement.insertBefore(r,a)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var a,i=this;r&&(TE.detail=r,OE.detail=r);var o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(TE,o,o);var s=this.getRenderingService();s.render(this.getConfig(),r,function(){i.dispatchEvent(D6,o,o)}),this.dispatchEvent(OE,o,o)}},{key:"run",value:function(){var r=this,a=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(a)};a()}},{key:"initRenderer",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new $Oe,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new RU,new NU,new IU([new xMe])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(bt(bt({},$e),this.context)),this.context.renderingService=new P4e($e,this.context),this.context.eventService=new M4e($e,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,i,!0)):this.context.contextService.initAsync().then(function(){a.initRenderingService(r,i)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;a.inited=!0;var l=((s=a.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;i?o?a.requestAnimationFrame(function(){a.dispatchEvent(new ri(Ts.READY),l,l)}):a.dispatchEvent(new ri(Ts.READY),l,l):a.dispatchEvent(new ri(Ts.RENDERER_CHANGED),l,l),a.readyPromise&&a.resolveReadyPromise(),i||a.getRoot().forEach(function(c){var u,f;(u=(f=c).dirty)===null||u===void 0||u.call(f,!0,!0)}),a.mountChildren(a.getRoot()),r.getConfig().enableAutoRendering&&a.run()})}},{key:"loadRendererContainerModule",value:function(r){var a=this,i=r.getPlugins();i.forEach(function(o){o.context=a.context,o.init($e)})}},{key:"setRenderer",value:function(r){var a=this.getConfig();if(a.renderer!==r){var i=a.renderer;a.renderer=r,this.destroy(!1,!0),_t((i==null?void 0:i.getPlugins())||[]).reverse().forEach(function(o){o.destroy($e)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var a=this.getConfig();a.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var a=this;if(r.childNodes.forEach(function(s){a.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(Gm);else{var i,o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;Gm.target=r,this.dispatchEvent(Gm,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w2(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!i))if(r.isMutationObserved)r.dispatchEvent(Hm);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;Hm.target=r,this.dispatchEvent(Hm,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(l){a.mountChildren(l,i)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,a){return this.client2Viewport({x:r,y:a})}},{key:"getClientByPoint",value:function(r,a){return this.viewport2Client({x:r,y:a})}}])}(CU);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var _Me=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.landmarks=[],n}return ft(t,e),ge(t,[{key:"rotate",value:function(r,a,i){if(this.relElevation=oh(a),this.relAzimuth=oh(r),this.relRoll=oh(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===qn.EXPLORING){var o=xo(vn(),[1,0,0],er((this.rotateWorld?1:-1)*this.relElevation)),s=xo(vn(),[0,1,0],er((this.rotateWorld?1:-1)*this.relAzimuth)),l=xo(vn(),[0,0,1],er(this.relRoll)),c=wo(vn(),s,o);c=wo(vn(),c,l);var u=Rg(Dt(),c);Sl(this.matrix,this.matrix,[0,0,-this.distance]),Ur(this.matrix,this.matrix,u),Sl(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===qn.ORBITING||this.type===qn.EXPLORING?this._getPosition():this.type===qn.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,a){var i=uo(r,a,0),o=ni(this.position);return Ki(o,o,lf(Et(),this.right,i[0])),Ki(o,o,lf(Et(),this.up,i[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var a=this.forward,i=ni(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,i[0]+=o*a[0],i[1]+=o*a[1],i[2]+=o*a[2],this._setPosition(i),this.type===qn.ORBITING||this.type===qn.EXPLORING?this._getDistance():this.type===qn.TRACKING&&Ki(this.focalPoint,i,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var a,i,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.position,u=c===void 0?this.position:c,f=l.focalPoint,d=f===void 0?this.focalPoint:f,h=l.roll,p=l.zoom,v=new $e.CameraContribution;v.setType(this.type,void 0),v.setPosition(u[0],(a=u[1])!==null&&a!==void 0?a:this.position[1],(i=u[2])!==null&&i!==void 0?i:this.position[2]),v.setFocalPoint(d[0],(o=d[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=d[2])!==null&&s!==void 0?s:this.focalPoint[2]),v.setRoll(h??this.roll),v.setZoom(p??this.zoom);var g={name:r,matrix:Xb(v.getWorldTransform()),right:ni(v.right),up:ni(v.up),forward:ni(v.forward),position:ni(v.getPosition()),focalPoint:ni(v.getFocalPoint()),distanceVector:ni(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=In(r)?this.landmarks.find(function(T){return T.name===r}):r;if(o){var s=kn(i)?{duration:i}:i,l=s.easing,c=l===void 0?"linear":l,u=s.duration,f=u===void 0?100:u,d=s.easingFunction,h=d===void 0?void 0:d,p=s.onfinish,v=p===void 0?void 0:p,g=s.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var x=o.position,b=o.focalPoint,E=o.zoom,_=o.roll,w=h||$e.EasingFunction(c),A,S=function(){a.setFocalPoint(b),a.setPosition(x),a.setRoll(_),a.setZoom(E),a.computeMatrix(),a.triggerUpdate(),v==null||v()};if(f===0)return S();var k=function(O){A===void 0&&(A=O);var C=O-A;if(C>=f){S();return}var M=w(C/f),R=Et(),I=Et(),P=1,B=0;Lh(R,a.focalPoint,b,M),Lh(I,a.position,x,M),B=a.roll*(1-M)+_*M,P=a.zoom*(1-M)+E*M,a.setFocalPoint(R),a.setPosition(I),a.setRoll(B),a.setZoom(P);var N=t2(R,b)+t2(I,x);if(N<=y&&E===void 0&&_===void 0)return S();a.computeMatrix(),a.triggerUpdate(),C<f&&(m==null||m(M),a.landmarkAnimationID=a.canvas.requestAnimationFrame(k))};this.canvas.requestAnimationFrame(k)}}}])}(nU);$e.CameraContribution=_Me;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var CE=function(e){function t(n,r,a,i){var o;return ve(this,t),o=ut(this,t,[n]),o.currentTime=a,o.timelineTime=i,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=a,o.timelineTime=i,o}return ft(t,e),ge(t)}(gw),EMe=0,SMe=function(){function e(t,n){var r;ve(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(EMe++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return ge(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,a){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){a(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,a){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){a(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n;if((n=this.effect.target)!==null&&n!==void 0&&n.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,a=this.pending?"pending":this.playState;return this.readyPromise&&a!==r&&(a==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():a==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&a!==r&&(a==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):a==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=a,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new CE(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Qn)}},{key:"addEventListener",value:function(n,r,a){throw new Error(Qn)}},{key:"removeEventListener",value:function(n,r,a){throw new Error(Qn)}},{key:"dispatchEvent",value:function(n){throw new Error(Qn)}},{key:"commitStyles",value:function(){throw new Error(Qn)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var a=new CE(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(a)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var i=new CE(null,this,this.currentTime,n);this.onframe(i)}this._finishedFlag=!1}}}])}(),AMe=4,kMe=.001,TMe=1e-7,OMe=10,yv=11,Wm=1/(yv-1),CMe=typeof Float32Array=="function",LU=function(t,n){return 1-3*n+3*t},FU=function(t,n){return 3*n-6*t},BU=function(t){return 3*t},_2=function(t,n,r){return((LU(n,r)*t+FU(n,r))*t+BU(n))*t},$U=function(t,n,r){return 3*LU(n,r)*t*t+2*FU(n,r)*t+BU(n)},MMe=function(t,n,r,a,i){var o,s,l=0;do s=n+(r-n)/2,o=_2(s,a,i)-t,o>0?r=s:n=s;while(Math.abs(o)>TMe&&++l<OMe);return s},PMe=function(t,n,r,a){for(var i=0;i<AMe;++i){var o=$U(n,r,a);if(o===0)return n;var s=_2(n,r,a)-t;n-=s/o}return n},Z3=function(t,n,r,a){if(!(t>=0&&t<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return function(l){return l};for(var i=CMe?new Float32Array(yv):new Array(yv),o=0;o<yv;++o)i[o]=_2(o*Wm,t,r);var s=function(c){for(var u=0,f=1,d=yv-1;f!==d&&i[f]<=c;++f)u+=Wm;--f;var h=(c-i[f])/(i[f+1]-i[f]),p=u+h*Wm,v=$U(p,t,r);return v>=kMe?PMe(c,p,t,r):v===0?p:MMe(c,u,u+Wm,t,r)};return function(l){return l===0||l===1?l:_2(s(l),n,a)}},IMe=function(t){return t=t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},Vm=function(t){return Math.pow(t,2)},Ym=function(t){return Math.pow(t,3)},Xm=function(t){return Math.pow(t,4)},qm=function(t){return Math.pow(t,5)},Km=function(t){return Math.pow(t,6)},Zm=function(t){return 1-Math.cos(t*Math.PI/2)},Qm=function(t){return 1-Math.sqrt(1-t*t)},Jm=function(t){return t*t*(3*t-2)},ey=function(t){for(var n,r=4;t<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-t,2)},ty=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ct(n,2),a=r[0],i=a===void 0?1:a,o=r[1],s=o===void 0?.5:o,l=An(Number(i),1,10),c=An(Number(s),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-c/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/c)},Zp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=ct(n,4),i=a[0],o=i===void 0?1:i,s=a[1],l=s===void 0?100:s,c=a[2],u=c===void 0?10:c,f=a[3],d=f===void 0?0:f;o=An(o,.1,1e3),l=An(l,.1,1e3),u=An(u,.1,1e3),d=An(d,.1,1e3);var h=Math.sqrt(l/o),p=u/(2*Math.sqrt(l*o)),v=p<1?h*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*h+-d)/v:-d+h,y=r?r*t/1e3:t;return p<1?y=Math.exp(-y*p*h)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*h),t===0||t===1?t:1-y},ME=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,a=ct(r,2),i=a[0],o=i===void 0?10:i,s=a[1],l=s==="start"?Math.ceil:Math.floor;return l(An(t,0,1)*o)/o},L6=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ct(n,4),a=r[0],i=r[1],o=r[2],s=r[3];return Z3(a,i,o,s)(t)},ny=Z3(.42,0,1,1),ds=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return 1-t(1-n,r,a)}},hs=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?t(n*2,r,a)/2:1-t(n*-2+2,r,a)/2}},ps=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?(1-t(1-n*2,r,a))/2:(t(n*2-1,r,a)+1)/2}},F6={steps:ME,"step-start":function(t){return ME(t,[1,"start"])},"step-end":function(t){return ME(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":L6,ease:function(t){return L6(t,[.25,.1,.25,1])},in:ny,out:ds(ny),"in-out":hs(ny),"out-in":ps(ny),"in-quad":Vm,"out-quad":ds(Vm),"in-out-quad":hs(Vm),"out-in-quad":ps(Vm),"in-cubic":Ym,"out-cubic":ds(Ym),"in-out-cubic":hs(Ym),"out-in-cubic":ps(Ym),"in-quart":Xm,"out-quart":ds(Xm),"in-out-quart":hs(Xm),"out-in-quart":ps(Xm),"in-quint":qm,"out-quint":ds(qm),"in-out-quint":hs(qm),"out-in-quint":ps(qm),"in-expo":Km,"out-expo":ds(Km),"in-out-expo":hs(Km),"out-in-expo":ps(Km),"in-sine":Zm,"out-sine":ds(Zm),"in-out-sine":hs(Zm),"out-in-sine":ps(Zm),"in-circ":Qm,"out-circ":ds(Qm),"in-out-circ":hs(Qm),"out-in-circ":ps(Qm),"in-back":Jm,"out-back":ds(Jm),"in-out-back":hs(Jm),"out-in-back":ps(Jm),"in-bounce":ey,"out-bounce":ds(ey),"in-out-bounce":hs(ey),"out-in-bounce":ps(ey),"in-elastic":ty,"out-elastic":ds(ty),"in-out-elastic":hs(ty),"out-in-elastic":ps(ty),spring:Zp,"spring-in":Zp,"spring-out":ds(Zp),"spring-in-out":hs(Zp),"spring-out-in":ps(Zp)},RMe=function(t){return IMe(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},NMe=function(t){return F6[RMe(t)]||F6.linear},DMe=function(t){return t},LMe=1,FMe=.5,B6=0;function $6(e,t){return function(n){if(n>=1)return 1;var r=1/e;return n+=t*r,n-n%r}}var ry="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",BMe=new RegExp("cubic-bezier\\(".concat(ry,",").concat(ry,",").concat(ry,",").concat(ry,"\\)")),$Me=/steps\(\s*(\d+)\s*\)/,jMe=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Q3(e){var t=BMe.exec(e);if(t)return Z3.apply(void 0,_t(t.slice(1).map(Number)));var n=$Me.exec(e);if(n)return $6(Number(n[1]),B6);var r=jMe.exec(e);return r?$6(Number(r[1]),{start:LMe,middle:FMe,end:B6}[r[2]]):NMe(e)}function zMe(e){return Math.abs(UMe(e)/(e.playbackRate||1))}function UMe(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var jU=0,J3=1,yw=2,zU=3;function HMe(e,t,n){if(t===null)return jU;var r=n.endTime;return t<Math.min(n.delay,r)?J3:t>=Math.min(n.delay+e+n.endDelay,r)?yw:zU}function GMe(e,t,n,r,a){switch(r){case J3:return t==="backwards"||t==="both"?0:null;case zU:return n-a;case yw:return t==="forwards"||t==="both"?e:null;case jU:return null}}function WMe(e,t,n,r,a){var i=a;return e===0?t!==J3&&(i+=n):i+=r/e,i}function VMe(e,t,n,r,a,i){var o=e===1/0?t%1:e%1;return o===0&&n===yw&&r!==0&&(a!==0||i===0)&&(o=1),o}function YMe(e,t,n,r){return e===yw&&t===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function XMe(e,t,n){var r=e;if(e!=="normal"&&e!=="reverse"){var a=t;e==="alternate-reverse"&&(a+=1),r="normal",a!==1/0&&a%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function qMe(e,t,n){var r=HMe(e,t,n),a=GMe(e,n.fill,t,r,n.delay);if(a===null)return null;var i=n.duration==="auto"?0:n.duration,o=WMe(i,r,n.iterations,a,n.iterationStart),s=VMe(o,n.iterationStart,r,n.iterations,a,i),l=YMe(r,n.iterations,s,o),c=XMe(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function KMe(e,t,n){var r=ZMe(e,t),a=QMe(r,n);return function(i,o){if(o!==null)a.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var c=o-l.startOffset,u=l.endOffset-l.startOffset,f=u===0?0:c/u;i.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)UU(s)&&i.setAttribute(s,null)}}function UU(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function ZMe(e,t){for(var n={},r=0;r<e.length;r++)for(var a in e[r])if(UU(a)){var i={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:Q3(e[r].easing)||t.easingFunction,value:e[r][a]};n[a]=n[a]||[],n[a].push(i)}return n}function QMe(e,t){var n=[];for(var r in e)for(var a=e[r],i=0;i<a.length-1;i++){var o=i,s=i+1,l=a[o].computedOffset,c=a[s].computedOffset,u=l,f=c;i===0&&(u=-1/0,c===0&&(s=o)),i===a.length-2&&(f=1/0,l===1&&(o=s)),n.push({applyFrom:u,applyTo:f,startOffset:a[o].computedOffset,endOffset:a[s].computedOffset,easingFunction:a[o].easingFunction,property:r,interpolation:JMe(r,a[o].value,a[s].value,t)})}return n.sort(function(d,h){return d.startOffset-h.startOffset}),n}var j6=function(t,n,r){return function(a){var i=HU(t,n,a);return kn(i)?i:r(i)}};function JMe(e,t,n,r){var a=xU[e];if(a&&a.syntax&&a.int){var i=$e.styleValueRegistry.getPropertySyntax(a.syntax);if(i){var o=i.parser,s=o?o(t,r):t,l=o?o(n,r):n,c=i.mixer(s,l,r);if(c){var u=j6.apply(void 0,_t(c));return function(f){return f===0?t:f===1?n:u(f)}}}}return j6(!1,!0,function(f){return f?n:t})}function HU(e,t,n){if(typeof e=="number"&&typeof t=="number")return e*(1-n)+t*n;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,a=t.length,i=Math.max(r,a),o=[],s=0;s<i;s++)o.push(HU(e[s<r?s:r-1],t[s<a?s:a-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var ePe=function(){function e(){ve(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=DMe,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return ge(e,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=Q3(n),this._easing=n}}])}();function tPe(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var a=r.length,i=0;i<a;i++){if(!t[i]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),t[i]=o}r[i]!==void 0&&r[i]!==null&&(t[i][n]=r[i])}}return t.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),t}function z6(e,t){if(e===null)return[];Array.isArray(e)||(e=tPe(e));for(var n=e.map(function(l){var c={};t!=null&&t.composite&&(c.composite="auto");for(var u in l){var f=l[u];if(u==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=f}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));c[u]=f}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(t==null?void 0:t.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,a=-1/0,i=0;i<n.length;i++){var o=n[i].offset;if(lt(o))r=!1;else{if(o<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=o}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,c=n,u=c.length;if(n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1){var f;n[0].computedOffset=Number((f=n[0].offset)!==null&&f!==void 0?f:0)}for(var d=0,h=Number(n[0].computedOffset),p=1;p<u;p++){var v=n[p].computedOffset;if(!lt(v)&&!lt(h)){for(var g=1;g<p-d;g++)n[d+g].computedOffset=h+(Number(v)-h)*g/(p-d);d=p,h=Number(v)}}}return r||s(),n}var nPe="backwards|forwards|both|none".split("|"),rPe="reverse|alternate|alternate-reverse".split("|");function aPe(e,t){var n=new ePe;return typeof e=="number"&&!isNaN(e)?n.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&nPe.indexOf(e[r])===-1||r==="direction"&&rPe.indexOf(e[r])===-1)return;n[r]=e[r]}}),n}function iPe(e,t){return e=oPe(e??{duration:"auto"}),aPe(e)}function oPe(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var sPe=function(){function e(t,n,r){var a=this;ve(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=iPe(r),this.timing.effect=this,this.timing.activeDuration=zMe(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=z6(n,this.timing),this.interpolations=KMe(this.normalizedKeyframes,this.timing,this.target);var i=$e.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?a.animation&&a.animation.currentTime||null:l==="currentIteration"?!a.animation||a.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!a.animation||a.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return ge(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=qMe(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=z6(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(a){r.timing[a]=n[a]})}}])}();function U6(e,t){return Number(e.id)-Number(t.id)}var lPe=function(){function e(t){var n=this;ve(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var a=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(U6),n.animations=n.tick(r,!0,n.animations)[0],a.forEach(function(i){i[1](r)}),n.applyPendingEffects()},this.document=t}return ge(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,a){var i=new sPe(n,r,a),o=new SMe(i,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var a=n.targetAnimations();a.sort(U6);var i=this.tick(Number(this.currentTime),!1,a.slice())[1];i.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(a){r.updateAnimationsPromises(),n(a),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,a){var i=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],c=[],u=[],f=[];return a.forEach(function(d){d.tick(n,r),d._inEffect?(c.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(i.ticking=!0);var h=d._inEffect||d._needsTick;d._inTimeline=h,h?u.push(d):f.push(d)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,f]}}])}();$e.EasingFunction=Q3;$e.AnimationTimeline=lPe;function Mt(e){return new E2([e],null,e,e.ownerDocument)}let E2=class hi{constructor(t=null,n=null,r=null,a=null,i=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(t),this._data=n,this._parent=r,this._document=a,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=o,this._facetElements=s}selectAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new hi(n,null,this._elements[0],this._document)}selectFacetAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new hi(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(t){const n=typeof t=="string"?this._parent.querySelectorAll(t)[0]||null:t;return new hi([n],null,n,this._document)}append(t){const n=typeof t=="function"?t:()=>this.createElement(t),r=[];if(this._data!==null){for(let a=0;a<this._data.length;a++){const i=this._data[a],[o,s]=Array.isArray(i)?i:[i,null],l=n(o,a);l.__data__=o,s!==null&&(l.__fromElements__=s),this._parent.appendChild(l),r.push(l)}return new hi(r,null,this._parent,this._document)}else{for(let a=0;a<this._elements.length;a++){const i=this._elements[a],o=i.__data__,s=n(o,a);i.appendChild(s),r.push(s)}return new hi(r,null,r[0],this._document)}}maybeAppend(t,n,r){const a=this._elements[0],i=a.getElementById(t);if(i)return new hi([i],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=t,r&&(o.className=r),a.appendChild(o),new hi([o],null,this._parent,this._document)}data(t,n=a=>a,r=()=>null){const a=[],i=[],o=new Set(this._elements),s=[],l=new Set,c=new Map(this._elements.map((h,p)=>[n(h.__data__,p),h])),u=new Map(this._facetElements.map((h,p)=>[n(h.__data__,p),h])),f=ur(this._elements,h=>r(h.__data__));for(let h=0;h<t.length;h++){const p=t[h],v=n(p,h),g=r(p,h);if(c.has(v)){const m=c.get(v);m.__data__=p,m.__facet__=!1,i.push(m),o.delete(m),c.delete(v)}else if(u.has(v)){const m=u.get(v);m.__data__=p,m.__facet__=!0,i.push(m),u.delete(v)}else if(f.has(v)){const m=f.get(v);s.push([p,m]);for(const y of m)o.delete(y);f.delete(v)}else if(c.has(g)){const m=c.get(g);m.__toData__?m.__toData__.push(p):m.__toData__=[p],l.add(m),o.delete(m)}else a.push(p)}const d=[new hi([],a,this._parent,this._document),new hi(i,null,this._parent,this._document),new hi(o,null,this._parent,this._document),new hi([],s,this._parent,this._document),new hi(l,null,this._parent,this._document)];return new hi(this._elements,null,this._parent,this._document,d)}merge(t){const n=[...this._elements,...t._elements],r=[...this._transitions,...t._transitions];return new hi(n,null,this._parent,this._document,void 0,r)}createElement(t){if(this._document)return this._document.createElement(t,{});const n=hi.registry[t];return n?new n:Uh(`Unknown node type: ${t}`)}join(t=o=>o,n=o=>o,r=o=>o.remove(),a=o=>o,i=o=>o.remove()){const o=t(this._enter),s=n(this._update),l=r(this._exit),c=a(this._merge),u=i(this._split);return s.merge(o).merge(l).merge(c).merge(u)}remove(){for(let t=0;t<this._elements.length;t++){const n=this._transitions[t];if(n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(a=>a.finished)).then(()=>{this._elements[t].remove()})}else this._elements[t].remove()}return new hi([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],a=r.__data__;t(a,n,r)}return this}attr(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(a,i,o){n!==void 0&&(o[t]=r(a,i,o))})}style(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(a,i,o){n!==void 0&&(o.style[t]=r(a,i,o))})}transition(t){const n=typeof t!="function"?()=>t:t,{_transitions:r}=this;return this.each(function(a,i,o){r[i]=n(a,i,o)})}on(t,n){return this.each(function(r,a,i){i.addEventListener(t,n)}),this}call(t,...n){return t(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};E2.registry={g:gu,rect:c0,circle:jd,path:ls,text:Tc,ellipse:X3,image:q3,line:_p,polygon:Vg,polyline:K3,html:mw};function ay(e,t,n){return Math.max(t,Math.min(e,n))}function S2(e,t=10){return typeof e!="number"||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(t))}function wt(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function cPe(e,t){return t.forEach((n,r)=>r===0?e.moveTo(n[0],n[1]):e.lineTo(n[0],n[1])),e.closePath(),e}function uPe(e,t,n){const{arrowSize:r}=n,a=typeof r=="string"?+parseFloat(r)/100*jr(e,t):r,i=Math.PI/6,o=Math.atan2(t[1]-e[1],t[0]-e[0]),s=Math.PI/2-o-i,l=[t[0]-a*Math.sin(s),t[1]-a*Math.cos(s)],c=o-i,u=[t[0]-a*Math.cos(c),t[1]-a*Math.sin(c)];return[l,u]}function Y1(e,t,n,r,a){const i=Us(Jr(r,t))+Math.PI,o=Us(Jr(r,n))+Math.PI;return e.arc(r[0],r[1],a,i,o,o-i<0),e}function GU(e,t,n,r="y",a="between",i=!1){const o=(g,m)=>g==="y"||g===!0?m?180:90:m?90:0,s=r==="y"||r===!0?n:t,l=o(r,i),c=i0(s),[u,f]=su(c,g=>s[g]),d=new hr({domain:[u,f],range:[0,100]}),h=g=>kn(s[g])&&!Number.isNaN(s[g])?d.map(s[g]):0,p={between:g=>`${e[g]} ${h(g)}%`,start:g=>g===0?`${e[g]} ${h(g)}%`:`${e[g-1]} ${h(g)}%, ${e[g]} ${h(g)}%`,end:g=>g===e.length-1?`${e[g]} ${h(g)}%`:`${e[g]} ${h(g)}%, ${e[g+1]} ${h(g)}%`},v=c.sort((g,m)=>h(g)-h(m)).map(p[a]||p.between).join(",");return`linear-gradient(${l}deg, ${v})`}function xw(e){const[t,n,r,a]=e;return[a,t,n,r]}function u0(e,t,n){const[r,a,,i]=pr(e)?xw(t):t,[o,s]=n,l=e.getCenter(),c=Gh(Jr(r,l)),u=Gh(Jr(a,l)),f=u===c&&o!==s?u+Math.PI*2:u,d=1e-4;return{startAngle:c+d,endAngle:(f-c>=0?f:Math.PI*2+f)-d,innerRadius:jr(i,l),outerRadius:jr(r,l)}}function eC(e){const{colorAttribute:t,opacityAttribute:n=t}=e;return`${n}Opacity`}function WU(e,t){if(!Vn(e))return"";const n=e.getCenter(),{transform:r}=t;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function tC(e){if(e.length===1)return e[0];const[[t,n,r=0],[a,i,o=0]]=e;return[(t+a)/2,(n+i)/2,(r+o)/2]}var px=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function VU(e,t,n,r,a={}){const{inset:i=0,radius:o=0,insetLeft:s=i,insetTop:l=i,insetRight:c=i,insetBottom:u=i,radiusBottomLeft:f=o,radiusBottomRight:d=o,radiusTopLeft:h=o,radiusTopRight:p=o,minWidth:v=-1/0,maxWidth:g=1/0,minHeight:m=-1/0}=a,y=px(a,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!Vn(r)&&!Vz(r)){const A=!!pr(r),[S,,k]=A?xw(t):t,[T,O]=S,[C,M]=Jr(k,S),R=C>0?T:T+C,I=M>0?O:O+M,P=Math.abs(C),B=Math.abs(M),N=R+s,V=I+l,W=P-(s+c),z=B-(l+u),j=A?ay(W,m,1/0):ay(W,v,g),L=A?ay(z,v,g):ay(z,m,1/0),F=A?N:N-(j-W)/2,H=A?V-(L-z)/2:V-(L-z);return Mt(e.createElement("rect",{})).style("x",F).style("y",H).style("width",j).style("height",L).style("radius",[h,p,d,f]).call(wt,y).node()}const{y:x,y1:b}=n,E=r.getCenter(),_=u0(r,t,[x,b]),w=I3().cornerRadius(o).padAngle(i*Math.PI/180);return Mt(e.createElement("path",{})).style("d",w(_)).style("transform",`translate(${E[0]}, ${E[1]})`).style("radius",o).style("inset",i).call(wt,y).node()}const Yg=(e,t)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:a=!0,last:i=!0}=e,o=px(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=t;return(c,u,f)=>{const{color:d,radius:h=0}=f,p=px(f,["color","radius"]),v=p.lineWidth||1,{stroke:g,radius:m=h,radiusTopLeft:y=m,radiusTopRight:x=m,radiusBottomRight:b=m,radiusBottomLeft:E=m,innerRadius:_=0,innerRadiusTopLeft:w=_,innerRadiusTopRight:A=_,innerRadiusBottomRight:S=_,innerRadiusBottomLeft:k=_,lineWidth:T=n==="stroke"||g?v:0,inset:O=0,insetLeft:C=O,insetRight:M=O,insetBottom:R=O,insetTop:I=O,minWidth:P,maxWidth:B,minHeight:N}=o,V=px(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:W=d,opacity:z}=u,j=[a?y:w,a?x:A,i?b:S,i?E:k],L=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];pr(s)&&L.push(L.shift());const F=Object.assign(Object.assign({radius:m},Object.fromEntries(L.map((H,D)=>[H,j[D]]))),{inset:O,insetLeft:C,insetRight:M,insetBottom:R,insetTop:I,minWidth:P,maxWidth:B,minHeight:N});return Mt(VU(l,c,u,s,F)).call(wt,p).style("fill","transparent").style(n,W).style(eC(e),z).style("lineWidth",T).style("stroke",g===void 0?W:g).call(wt,V).node()}};Yg.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const f0=(e,t)=>Yg(Object.assign({colorAttribute:"fill"},e),t);f0.props=Object.assign(Object.assign({},Yg.props),{defaultMarker:"square"});const bw=(e,t)=>Yg(Object.assign({colorAttribute:"stroke"},e),t);bw.props=Object.assign(Object.assign({},Yg.props),{defaultMarker:"hollowSquare"});var H6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function fPe(e,t,n){const[r,a,i,o]=e;if(pr(n)){const c=[t?t[0][0]:a[0],a[1]],u=[t?t[3][0]:i[0],i[1]];return[r,c,u,o]}const s=[a[0],t?t[0][1]:a[1]],l=[i[0],t?t[3][1]:i[1]];return[r,s,l,o]}const nC=(e,t)=>{const{adjustPoints:n=fPe}=e,r=H6(e,["adjustPoints"]),{coordinate:a,document:i}=t;return(o,s,l,c)=>{const{index:u}=s,{color:f}=l,d=H6(l,["color"]),h=c[u+1],p=n(o,h,a),v=!!pr(a),[g,m,y,x]=v?xw(p):p,{color:b=f,opacity:E}=s,_=s0().curve(L3)([g,m,y,x]);return Mt(i.createElement("path",{})).call(wt,d).style("d",_).style("fill",b).style("fillOpacity",E).call(wt,r).node()}};nC.props={defaultMarker:"square"};function dPe(e,t,n){const[r,a,i,o]=e;if(pr(n)){const c=[t?t[0][0]:(a[0]+i[0])/2,a[1]],u=[t?t[3][0]:(a[0]+i[0])/2,i[1]];return[r,c,u,o]}const s=[a[0],t?t[0][1]:(a[1]+i[1])/2],l=[i[0],t?t[3][1]:(a[1]+i[1])/2];return[r,s,l,o]}const YU=(e,t)=>nC(Object.assign({adjustPoints:dPe},e),t);YU.props={defaultMarker:"square"};function qh(e){const t=typeof e=="function"?e:e.render;return class extends Y3{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}var G6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const hPe=qh(e=>{const{d1:t,d2:n,style1:r,style2:a}=e.attributes,i=e.ownerDocument;Mt(e).maybeAppend("line",()=>i.createElement("path",{})).style("d",t).call(wt,r),Mt(e).maybeAppend("line1",()=>i.createElement("path",{})).style("d",n).call(wt,a)});function pPe(e,t){const n=[],r=[];let a=!1,i=null;for(const o of e)!t(o[0])||!t(o[1])?a=!0:(n.push(o),a&&(a=!1,r.push([i,o])),i=o);return[n,r]}const Xs=(e,t)=>{const{curve:n,gradient:r=!1,gradientColor:a="between",defined:i=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:o=!1}=e,s=G6(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=t;return(u,f,d)=>{const{color:h,lineWidth:p}=d,v=G6(d,["color","lineWidth"]),{color:g=h,size:m=p,seriesColor:y,seriesX:x,seriesY:b}=f,E=WU(l,f),_=pr(l),w=r&&y?GU(y,x,b,r,a,_):g,A=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),w&&{stroke:w}),m&&{lineWidth:m}),E&&{transform:E}),s);let S;if(Vn(l)){const R=l.getCenter();S=I=>iOe().angle((P,B)=>Gh(Jr(I[B],R))).radius((P,B)=>jr(I[B],R)).defined(([P,B])=>i(P)&&i(B)).curve(n)(I)}else S=s0().x(R=>R[0]).y(R=>R[1]).defined(([R,I])=>i(R)&&i(I)).curve(n);const[k,T]=pPe(u,i),O=qe(A,"connect"),C=!!T.length;if(!C||o&&!Object.keys(O).length)return Mt(c.createElement("path",{})).style("d",S(k)||[]).call(wt,A).node();if(C&&!o)return Mt(c.createElement("path",{})).style("d",S(u)).call(wt,A).node();const M=R=>R.map(S).join(",");return Mt(new hPe).style("style1",Object.assign(Object.assign({},A),O)).style("style2",A).style("d1",M(T)).style("d2",S(u)).node()}};Xs.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const XU=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const a=Vn(n)?L3:Hg;return Xs(Object.assign({curve:a},e),t)(...r)}};XU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"line"});var vPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const qU=(e,t)=>{const n=vPe(e,[]),{coordinate:r}=t;return(...a)=>{const i=Vn(r)?Fz:pr(r)?Uz:zz;return Xs(Object.assign({curve:i},n),t)(...a)}};qU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"smooth"});const KU=(e,t)=>Xs(Object.assign({curve:Wz},e),t);KU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"hv"});const ZU=(e,t)=>Xs(Object.assign({curve:Gz},e),t);ZU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"vh"});const QU=(e,t)=>Xs(Object.assign({curve:Hz},e),t);QU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"hvh"});var gPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function mPe(e,t,n,r,a){const i=Jr(n,t),o=Us(i),s=o+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[a/2*Math.cos(s),a/2*Math.sin(s)],u=[a/2*Math.cos(o),a/2*Math.sin(o)],f=[r/2*Math.cos(o),r/2*Math.sin(o)],d=Im(t,l),h=Im(n,c),p=Im(h,u),v=Im(n,u),g=Jr(v,c),m=Jr(n,c),y=Jr(t,l),x=Jr(y,f),b=Jr(t,f),E=Jr(d,f);e.moveTo(...d),e.lineTo(...h),e.arcTo(...p,...v,a/2),e.arcTo(...g,...m,a/2),e.lineTo(...y),e.arcTo(...x,...b,r/2),e.arcTo(...E,...d,r/2),e.closePath()}const JU=(e,t)=>{const{document:n}=t;return(r,a,i)=>{const{seriesSize:o,color:s}=a,{color:l}=i,c=gPe(i,["color"]),u=Vs();for(let f=0;f<r.length-1;f++){const d=r[f],h=r[f+1],p=o[f],v=o[f+1];[...d,...h].every(fr)&&mPe(u,d,h,p,v)}return Mt(n.createElement("path",{})).call(wt,c).style("fill",s||l).style("d",u.toString()).call(wt,e).node()}};JU.props=Object.assign(Object.assign({},Xs.props),{defaultMarker:"line"});var yPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const rC=(e,t,n)=>[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]];rC.style=["fill"];const eH=rC.bind(void 0);eH.style=["stroke","lineWidth"];const ww=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]];ww.style=["fill"];const tH=ww.bind(void 0);tH.style=["fill"];const nH=ww.bind(void 0);nH.style=["stroke","lineWidth"];const aC=(e,t,n)=>{const r=n*.618;return[["M",e-r,t],["L",e,t-n],["L",e+r,t],["L",e,t+n],["Z"]]};aC.style=["fill"];const rH=aC.bind(void 0);rH.style=["stroke","lineWidth"];const iC=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]};iC.style=["fill"];const aH=iC.bind(void 0);aH.style=["stroke","lineWidth"];const oC=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]};oC.style=["fill"];const iH=oC.bind(void 0);iH.style=["stroke","lineWidth"];const sC=(e,t,n)=>{const r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]};sC.style=["fill"];const oH=sC.bind(void 0);oH.style=["stroke","lineWidth"];const lC=(e,t,n)=>{const r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]};lC.style=["fill"];const sH=lC.bind(void 0);sH.style=["stroke","lineWidth"];const lH=(e,t,n)=>[["M",e,t+n],["L",e,t-n]];lH.style=["stroke","lineWidth"];const cH=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]];cH.style=["stroke","lineWidth"];const uH=(e,t,n)=>[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]];uH.style=["stroke","lineWidth"];const fH=(e,t,n)=>[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]];fH.style=["stroke","lineWidth"];const dH=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];dH.style=["stroke","lineWidth"];const cC=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];cC.style=["stroke","lineWidth"];const hH=cC.bind(void 0);hH.style=["stroke","lineWidth"];const pH=(e,t,n)=>[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]];pH.style=["stroke","lineWidth"];const vH=(e,t,n)=>[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]];vH.style=["stroke","lineWidth"];const gH=(e,t,n)=>[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]];gH.style=["stroke","lineWidth"];const mH=(e,t,n)=>[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]];mH.style=["stroke","lineWidth"];const yH=(e,t,n)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];yH.style=["stroke","lineWidth"];const A2=new Map([["bowtie",lC],["cross",cH],["dash",hH],["diamond",aC],["dot",cC],["hexagon",sC],["hollowBowtie",sH],["hollowDiamond",rH],["hollowHexagon",oH],["hollowPoint",eH],["hollowSquare",nH],["hollowTriangle",aH],["hollowTriangleDown",iH],["hv",vH],["hvh",mH],["hyphen",dH],["line",lH],["plus",fH],["point",rC],["rect",tH],["smooth",pH],["square",ww],["tick",uH],["triangleDown",oC],["triangle",iC],["vh",gH],["vhv",yH]]);function xPe(e,t){var{d:n,fill:r,lineWidth:a,path:i,stroke:o,color:s}=t,l=yPe(t,["d","fill","lineWidth","path","stroke","color"]);const c=A2.get(e)||A2.get("point");return(...u)=>new ls({style:Object.assign(Object.assign({},l),{d:c(...u),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?a||a||2:0})})}function uC(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}function bPe(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var wPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function xH(e,t,n,r){if(t.length===1)return;const{size:a}=n;if(e==="fixed")return a;if(e==="normal"||Yz(r)){const[[i,o],[s,l]]=t,c=Math.abs((s-i)/2),u=Math.abs((l-o)/2);return Math.max(0,(c+u)/2)}return a}const fn=(e,t)=>{const{colorAttribute:n,symbol:r,mode:a="auto"}=e,i=wPe(e,["colorAttribute","symbol","mode"]),o=A2.get(uC(r))||A2.get("point"),{coordinate:s,document:l}=t;return(c,u,f)=>{const{lineWidth:d,color:h}=f,p=i.stroke?d||1:d,{color:v=h,transform:g,opacity:m}=u,[y,x]=tC(c),E=xH(a,c,u,s)||i.r||f.r;return Mt(l.createElement("path",{})).call(wt,f).style("fill","transparent").style("d",o(y,x,E)).style("lineWidth",p).style("transform",g).style("transformOrigin",`${y-E} ${x-E}`).style("stroke",v).style(eC(e),m).style(n,v).call(wt,i).node()}};fn.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);bH.props=Object.assign({defaultMarker:"hollowBowtie"},fn.props);const wH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);wH.props=Object.assign({defaultMarker:"hollowDiamond"},fn.props);const _H=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);_H.props=Object.assign({defaultMarker:"hollowHexagon"},fn.props);const EH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);EH.props=Object.assign({defaultMarker:"hollowPoint"},fn.props);const SH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);SH.props=Object.assign({defaultMarker:"hollowSquare"},fn.props);const AH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);AH.props=Object.assign({defaultMarker:"hollowTriangle"},fn.props);const kH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);kH.props=Object.assign({defaultMarker:"hollowTriangleDown"},fn.props);var _Pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const TH=(e,t)=>{const{colorAttribute:n,mode:r="auto"}=e,a=_Pe(e,["colorAttribute","mode"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{lineWidth:u,color:f}=c,d=a.stroke?u||1:u,{color:h=f,transform:p,opacity:v}=l,[g,m]=tC(s),x=xH(r,s,l,i)||a.r||c.r;return Mt(o.createElement("circle",{})).call(wt,c).style("fill","transparent").style("cx",g).style("cy",m).style("r",x).style("lineWidth",d).style("transform",p).style("transformOrigin",`${g} ${m}`).style("stroke",h).style(eC(e),v).style(n,h).call(wt,a).node()}},fC=(e,t)=>TH(Object.assign({colorAttribute:"fill"},e),t);fC.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const OH=(e,t)=>TH(Object.assign({colorAttribute:"stroke"},e),t);OH.props=Object.assign({defaultMarker:"hollowPoint"},fC.props);const CH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);CH.props=Object.assign({defaultMarker:"bowtie"},fn.props);const MH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);MH.props=Object.assign({defaultMarker:"cross"},fn.props);const PH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);PH.props=Object.assign({defaultMarker:"diamond"},fn.props);const IH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);IH.props=Object.assign({defaultMarker:"hexagon"},fn.props);const RH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);RH.props=Object.assign({defaultMarker:"hyphen"},fn.props);const NH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);NH.props=Object.assign({defaultMarker:"line"},fn.props);const DH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);DH.props=Object.assign({defaultMarker:"plus"},fn.props);const LH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);LH.props=Object.assign({defaultMarker:"point"},fn.props);const FH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);FH.props=Object.assign({defaultMarker:"square"},fn.props);const BH=(e,t)=>fn(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);BH.props=Object.assign({defaultMarker:"tick"},fn.props);const $H=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);$H.props=Object.assign({defaultMarker:"triangle"},fn.props);const jH=(e,t)=>fn(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);jH.props=Object.assign({defaultMarker:"triangleDown"},fn.props);var W6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dC=(e,t)=>{const{arrow:n=!0,arrowSize:r="40%"}=e,a=W6(e,["arrow","arrowSize"]),{document:i}=t;return(o,s,l)=>{const{defaultColor:c}=l,u=W6(l,["defaultColor"]),{color:f=c,transform:d}=s,[h,p]=o,v=Vs();if(v.moveTo(...h),v.lineTo(...p),n){const[g,m]=uPe(h,p,{arrowSize:r});v.moveTo(...g),v.lineTo(...p),v.lineTo(...m)}return Mt(i.createElement("path",{})).call(wt,u).style("d",v.toString()).style("stroke",f).style("transform",d).call(wt,a).node()}};dC.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function zH(e,t,n,r){var a=e-n,i=t-r;return Math.sqrt(a*a+i*i)}function UH(e,t){var n=Math.min.apply(Math,xt([],se(e),!1)),r=Math.min.apply(Math,xt([],se(t),!1)),a=Math.max.apply(Math,xt([],se(e),!1)),i=Math.max.apply(Math,xt([],se(t),!1));return{x:n,y:r,width:a-n,height:i-r}}function EPe(e,t,n){return Math.atan(-t/e*Math.tan(n))}function SPe(e,t,n){return Math.atan(t/(e*Math.tan(n)))}function APe(e,t,n,r,a,i){return n*Math.cos(a)*Math.cos(i)-r*Math.sin(a)*Math.sin(i)+e}function kPe(e,t,n,r,a,i){return n*Math.sin(a)*Math.cos(i)+r*Math.cos(a)*Math.sin(i)+t}function TPe(e,t,n,r,a,i,o){for(var s=EPe(n,r,a),l=1/0,c=-1/0,u=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;i<o?i<d&&d<o&&u.push(d):o<d&&d<i&&u.push(d)}for(var f=0;f<u.length;f++){var h=APe(e,t,n,r,a,u[f]);h<l&&(l=h),h>c&&(c=h)}for(var p=SPe(n,r,a),v=1/0,g=-1/0,m=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var y=p+f;i<o?i<y&&y<o&&m.push(y):o<y&&y<i&&m.push(y)}for(var f=0;f<m.length;f++){var x=kPe(e,t,n,r,a,m[f]);x<v&&(v=x),x>g&&(g=x)}return{x:l,y:v,width:c-l,height:g-v}}function HH(e,t,n,r){return zH(e,t,n,r)}function GH(e,t,n,r,a){return{x:(1-a)*e+a*n,y:(1-a)*t+a*r}}function V6(e,t,n,r,a){var i=1-a;return i*i*i*e+3*t*a*i*i+3*n*a*a*i+r*a*a*a}function Y6(e,t,n,r){var a=-3*e+9*t-9*n+3*r,i=6*e-12*t+6*n,o=3*t-3*e,s=[],l,c,u;if(pc(a,0))pc(i,0)||(l=-o/i,l>=0&&l<=1&&s.push(l));else{var f=i*i-4*a*o;pc(f,0)?s.push(-i/(2*a)):f>0&&(u=Math.sqrt(f),l=(-i+u)/(2*a),c=(-i-u)/(2*a),l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function OPe(e,t,n,r,a,i,o,s){for(var l=[e,o],c=[t,s],u=Y6(e,n,a,o),f=Y6(t,r,i,s),d=0;d<u.length;d++)l.push(V6(e,n,a,o,u[d]));for(var d=0;d<f.length;d++)c.push(V6(t,r,i,s,f[d]));return UH(l,c)}function CPe(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],a=e[n+1];t+=zH(r[0],r[1],a[0],a[1])}return t}function MPe(e){return CPe(e)}function X6(e,t,n,r){var a=1-r;return a*a*e+2*r*a*t+r*r*n}function q6(e,t,n){var r=e+n-2*t;if(pc(r,0))return[.5];var a=(e-t)/r;return a<=1&&a>=0?[a]:[]}function PPe(e,t,n,r,a,i){var o=q6(e,n,a)[0],s=q6(t,r,i)[0],l=[e,a],c=[t,i];return o!==void 0&&l.push(X6(e,n,a,o)),s!==void 0&&c.push(X6(t,r,i,s)),UH(l,c)}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.2.16
 * @date 1/23/2025, 8:31:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var IPe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RPe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(IPe,function(){function n(E,_,w,A,S){r(E,_,w||0,A||E.length-1,S||i)}function r(E,_,w,A,S){for(;A>w;){if(A-w>600){var k=A-w+1,T=_-w+1,O=Math.log(k),C=.5*Math.exp(2*O/3),M=.5*Math.sqrt(O*C*(k-C)/k)*(T-k/2<0?-1:1),R=Math.max(w,Math.floor(_-T*C/k+M)),I=Math.min(A,Math.floor(_+(k-T)*C/k+M));r(E,_,R,I,S)}var P=E[_],B=w,N=A;for(a(E,w,_),S(E[A],P)>0&&a(E,w,A);B<N;){for(a(E,B,N),B++,N--;S(E[B],P)<0;)B++;for(;S(E[N],P)>0;)N--}S(E[w],P)===0?a(E,w,N):(N++,a(E,N,A)),N<=_&&(w=N+1),_<=N&&(A=N-1)}}function a(E,_,w){var A=E[_];E[_]=E[w],E[w]=A}function i(E,_){return E<_?-1:E>_?1:0}var o=function(_){_===void 0&&(_=9),this._maxEntries=Math.max(4,_),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(_){var w=this.data,A=[];if(!y(_,w))return A;for(var S=this.toBBox,k=[];w;){for(var T=0;T<w.children.length;T++){var O=w.children[T],C=w.leaf?S(O):O;y(_,C)&&(w.leaf?A.push(O):m(_,C)?this._all(O,A):k.push(O))}w=k.pop()}return A},o.prototype.collides=function(_){var w=this.data;if(!y(_,w))return!1;for(var A=[];w;){for(var S=0;S<w.children.length;S++){var k=w.children[S],T=w.leaf?this.toBBox(k):k;if(y(_,T)){if(w.leaf||m(_,T))return!0;A.push(k)}}w=A.pop()}return!1},o.prototype.load=function(_){if(!(_&&_.length))return this;if(_.length<this._minEntries){for(var w=0;w<_.length;w++)this.insert(_[w]);return this}var A=this._build(_.slice(),0,_.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var S=this.data;this.data=A,A=S}this._insert(A,this.data.height-A.height-1,!0)}return this},o.prototype.insert=function(_){return _&&this._insert(_,this.data.height-1),this},o.prototype.clear=function(){return this.data=x([]),this},o.prototype.remove=function(_,w){if(!_)return this;for(var A=this.data,S=this.toBBox(_),k=[],T=[],O,C,M;A||k.length;){if(A||(A=k.pop(),C=k[k.length-1],O=T.pop(),M=!0),A.leaf){var R=s(_,A.children,w);if(R!==-1)return A.children.splice(R,1),k.push(A),this._condense(k),this}!M&&!A.leaf&&m(A,S)?(k.push(A),T.push(O),O=0,C=A,A=A.children[0]):C?(O++,A=C.children[O],M=!1):A=null}return this},o.prototype.toBBox=function(_){return _},o.prototype.compareMinX=function(_,w){return _.minX-w.minX},o.prototype.compareMinY=function(_,w){return _.minY-w.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(_){return this.data=_,this},o.prototype._all=function(_,w){for(var A=[];_;)_.leaf?w.push.apply(w,_.children):A.push.apply(A,_.children),_=A.pop();return w},o.prototype._build=function(_,w,A,S){var k=A-w+1,T=this._maxEntries,O;if(k<=T)return O=x(_.slice(w,A+1)),l(O,this.toBBox),O;S||(S=Math.ceil(Math.log(k)/Math.log(T)),T=Math.ceil(k/Math.pow(T,S-1))),O=x([]),O.leaf=!1,O.height=S;var C=Math.ceil(k/T),M=C*Math.ceil(Math.sqrt(T));b(_,w,A,M,this.compareMinX);for(var R=w;R<=A;R+=M){var I=Math.min(R+M-1,A);b(_,R,I,C,this.compareMinY);for(var P=R;P<=I;P+=C){var B=Math.min(P+C-1,I);O.children.push(this._build(_,P,B,S-1))}}return l(O,this.toBBox),O},o.prototype._chooseSubtree=function(_,w,A,S){for(;S.push(w),!(w.leaf||S.length-1===A);){for(var k=1/0,T=1/0,O=void 0,C=0;C<w.children.length;C++){var M=w.children[C],R=h(M),I=v(_,M)-R;I<T?(T=I,k=R<k?R:k,O=M):I===T&&R<k&&(k=R,O=M)}w=O||w.children[0]}return w},o.prototype._insert=function(_,w,A){var S=A?_:this.toBBox(_),k=[],T=this._chooseSubtree(S,this.data,w,k);for(T.children.push(_),u(T,S);w>=0&&k[w].children.length>this._maxEntries;)this._split(k,w),w--;this._adjustParentBBoxes(S,k,w)},o.prototype._split=function(_,w){var A=_[w],S=A.children.length,k=this._minEntries;this._chooseSplitAxis(A,k,S);var T=this._chooseSplitIndex(A,k,S),O=x(A.children.splice(T,A.children.length-T));O.height=A.height,O.leaf=A.leaf,l(A,this.toBBox),l(O,this.toBBox),w?_[w-1].children.push(O):this._splitRoot(A,O)},o.prototype._splitRoot=function(_,w){this.data=x([_,w]),this.data.height=_.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(_,w,A){for(var S,k=1/0,T=1/0,O=w;O<=A-w;O++){var C=c(_,0,O,this.toBBox),M=c(_,O,A,this.toBBox),R=g(C,M),I=h(C)+h(M);R<k?(k=R,S=O,T=I<T?I:T):R===k&&I<T&&(T=I,S=O)}return S||A-w},o.prototype._chooseSplitAxis=function(_,w,A){var S=_.leaf?this.compareMinX:f,k=_.leaf?this.compareMinY:d,T=this._allDistMargin(_,w,A,S),O=this._allDistMargin(_,w,A,k);T<O&&_.children.sort(S)},o.prototype._allDistMargin=function(_,w,A,S){_.children.sort(S);for(var k=this.toBBox,T=c(_,0,w,k),O=c(_,A-w,A,k),C=p(T)+p(O),M=w;M<A-w;M++){var R=_.children[M];u(T,_.leaf?k(R):R),C+=p(T)}for(var I=A-w-1;I>=w;I--){var P=_.children[I];u(O,_.leaf?k(P):P),C+=p(O)}return C},o.prototype._adjustParentBBoxes=function(_,w,A){for(var S=A;S>=0;S--)u(w[S],_)},o.prototype._condense=function(_){for(var w=_.length-1,A=void 0;w>=0;w--)_[w].children.length===0?w>0?(A=_[w-1].children,A.splice(A.indexOf(_[w]),1)):this.clear():l(_[w],this.toBBox)};function s(E,_,w){if(!w)return _.indexOf(E);for(var A=0;A<_.length;A++)if(w(E,_[A]))return A;return-1}function l(E,_){c(E,0,E.children.length,_,E)}function c(E,_,w,A,S){S||(S=x(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var k=_;k<w;k++){var T=E.children[k];u(S,E.leaf?A(T):T)}return S}function u(E,_){return E.minX=Math.min(E.minX,_.minX),E.minY=Math.min(E.minY,_.minY),E.maxX=Math.max(E.maxX,_.maxX),E.maxY=Math.max(E.maxY,_.maxY),E}function f(E,_){return E.minX-_.minX}function d(E,_){return E.minY-_.minY}function h(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function p(E){return E.maxX-E.minX+(E.maxY-E.minY)}function v(E,_){return(Math.max(_.maxX,E.maxX)-Math.min(_.minX,E.minX))*(Math.max(_.maxY,E.maxY)-Math.min(_.minY,E.minY))}function g(E,_){var w=Math.max(E.minX,_.minX),A=Math.max(E.minY,_.minY),S=Math.min(E.maxX,_.maxX),k=Math.min(E.maxY,_.maxY);return Math.max(0,S-w)*Math.max(0,k-A)}function m(E,_){return E.minX<=_.minX&&E.minY<=_.minY&&_.maxX<=E.maxX&&_.maxY<=E.maxY}function y(E,_){return _.minX<=E.maxX&&_.minY<=E.maxY&&_.maxX>=E.minX&&_.maxY>=E.minY}function x(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(E,_,w,A,S){for(var k=[_,w];k.length;)if(w=k.pop(),_=k.pop(),!(w-_<=A)){var T=_+Math.ceil((w-_)/A/2)*A;n(E,T,_,w,S),k.push(_,T,T,w)}}return o})})(RPe);var Tt=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),PE=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),IE=Ki,k0=Ia,NPe=j$,DPe=$$,K6=lf,RE=U$,Po=function(){function e(){ve(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return ge(e,[{key:"update",value:function(n,r){k0(this.center,n),k0(this.halfExtents,r),RE(this.min,this.center,this.halfExtents),IE(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){IE(this.center,r,n),K6(this.center,this.center,.5),RE(this.halfExtents,r,n),K6(this.halfExtents,this.halfExtents,.5),k0(this.min,n),k0(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!e.isEmpty(n)){if(e.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,a=r[0],i=r[1],o=r[2],s=this.halfExtents,l=s[0],c=s[1],u=s[2],f=a-l,d=a+l,h=i-c,p=i+c,v=o-u,g=o+u,m=n.center,y=m[0],x=m[1],b=m[2],E=n.halfExtents,_=E[0],w=E[1],A=E[2],S=y-_,k=y+_,T=x-w,O=x+w,C=b-A,M=b+A;S<f&&(f=S),k>d&&(d=k),T<h&&(h=T),O>p&&(p=O),C<v&&(v=C),M>g&&(g=M),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(v+g)*.5,s[0]=(d-f)*.5,s[1]=(p-h)*.5,s[2]=(g-v)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=v,this.max[0]=d,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(n,r){var a=this.center,i=this.halfExtents,o=n.center,s=n.halfExtents,l=r[0],c=r[4],u=r[8],f=r[1],d=r[5],h=r[9],p=r[2],v=r[6],g=r[10],m=Math.abs(l),y=Math.abs(c),x=Math.abs(u),b=Math.abs(f),E=Math.abs(d),_=Math.abs(h),w=Math.abs(p),A=Math.abs(v),S=Math.abs(g);a[0]=r[12]+l*o[0]+c*o[1]+u*o[2],a[1]=r[13]+f*o[0]+d*o[1]+h*o[2],a[2]=r[14]+p*o[0]+v*o[1]+g*o[2],i[0]=m*s[0]+y*s[1]+x*s[2],i[1]=b*s[0]+E*s[1]+_*s[2],i[2]=w*s[0]+A*s[1]+S*s[2],RE(this.min,a,i),IE(this.max,a,i)}},{key:"intersects",value:function(n){var r=this.getMax(),a=this.getMin(),i=n.getMax(),o=n.getMin();return a[0]<=i[0]&&r[0]>=o[0]&&a[1]<=i[1]&&r[1]>=o[1]&&a[2]<=i[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new e,a=NPe([0,0,0],this.getMin(),n.getMin()),i=DPe([0,0,0],this.getMax(),n.getMax());return r.setMinMax(a,i),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?k0([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?k0([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])}(),LPe=function(){function e(t,n){ve(this,e),this.distance=t||0,this.normal=n||Ot(0,1,0),this.updatePNVertexFlag()}return ge(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return Si(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/l3(this.normal);lf(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,a){var i=this.distanceToPoint(n),o=this.distanceToPoint(r),s=i/(i-o),l=s>=0&&s<=1;return l&&a&&Lh(a,n,r,s),l}}])}(),FPe=function(){function e(t){if(ve(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new LPe)}return ge(e,[{key:"extractFromVPMatrix",value:function(n){var r=ct(n,16),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],x=r[15];lr(this.planes[0].normal,s-a,f-l,v-d),this.planes[0].distance=x-g,lr(this.planes[1].normal,s+a,f+l,v+d),this.planes[1].distance=x+g,lr(this.planes[2].normal,s+i,f+c,v+h),this.planes[2].distance=x+m,lr(this.planes[3].normal,s-i,f-c,v-h),this.planes[3].distance=x-m,lr(this.planes[4].normal,s-o,f-u,v-p),this.planes[4].distance=x-y,lr(this.planes[5].normal,s+o,f+u,v+p),this.planes[5].distance=x+y,this.planes.forEach(function(b){b.normalize(),b.updatePNVertexFlag()})}}])}(),Cs=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ve(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return ge(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])}(),Kh=function(){function e(t,n,r,a){ve(this,e),this.x=t,this.y=n,this.width=r,this.height=a,this.left=t,this.right=t+r,this.top=n,this.bottom=n+a}return ge(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new e(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var a=tu(n.x,n.y,0,1),i=tu(n.x+n.width,n.y,0,1),o=tu(n.x,n.y+n.height,0,1),s=tu(n.x+n.width,n.y+n.height,0,1),l=Wa(),c=Wa(),u=Wa(),f=Wa();Va(l,a,r),Va(c,i,r),Va(u,o,r),Va(f,s,r);var d=Math.min(l[0],c[0],u[0],f[0]),h=Math.min(l[1],c[1],u[1],f[1]),p=Math.max(l[0],c[0],u[0],f[0]),v=Math.max(l[1],c[1],u[1],f[1]);return e.fromRect({x:d,y:h,width:p-d,height:v-h})}}])}(),ir="Method not implemented.",BPe="Cannot append a destroyed element.";function uh(e){return e===void 0?0:e>360||e<-360?e%360:e}var NE=Et();function fo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?ni(e):Ia(NE,e):kn(e)?r?Ot(e,t,n):lr(NE,e,t,n):r?Ot(e[0],e[1]||t,e[2]||n):lr(NE,e[0],e[1]||t,e[2]||n)}var $Pe=Math.PI/180;function or(e){return e*$Pe}var jPe=180/Math.PI;function ks(e){return e*jPe}function zPe(e){return 360*e}var k2=Math.PI/2;function UPe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n,s=r*r,l=a*a,c=i*i,u=o+s+l+c,f=n*i-r*a;return f>.499995*u?(e[0]=k2,e[1]=2*Math.atan2(r,n),e[2]=0):f<-.499995*u?(e[0]=-k2,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*a-i*r)),e[1]=Math.atan2(2*(n*i+r*a),1-2*(l+c)),e[2]=Math.atan2(2*(n*r+a*i),1-2*(s+l))),e}function HPe(e,t){var n,r,a=Sc(Et(),t),i=ct(a,3),o=i[0],s=i[1],l=i[2],c=Math.asin(-t[2]/o);return c<k2?c>-k2?(n=Math.atan2(t[6]/s,t[10]/l),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/s,t[5]/s)):(r=0,n=Math.atan2(t[4]/s,t[5]/s)),e[0]=n,e[1]=c,e[2]=r,e}function DE(e,t){return t.length===16?HPe(e,t):UPe(e,t)}function GPe(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e);return M$(r*i,a*o,0,-r*o,a*i,0,t,n,1)}function WPe(e,t,n,r,a,i,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*i,c=n-t,u=r-a,f=l/c,d=l/u,h=(n+t)/c,p=(r+a)/u,v,g,m=o-i,y=o*i;return s?(v=-o/m,g=-y/m):(v=-(o+i)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=h,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function Z6(e){var t=e[0],n=e[1],r=e[3],a=e[4],i=Math.sqrt(t*t+n*n),o=Math.sqrt(r*r+a*a),s=t*a-n*r;if(s<0&&(t<a?i=-i:o=-o),i){var l=1/i;t*=l,n*=l}if(o){var c=1/o;r*=c,a*=c}var u=Math.atan2(n,t),f=ks(u);return[e[6],e[7],i,o,f]}var Vl=Dt(),tl=Dt(),Qp=Wa(),jt=[Et(),Et(),Et()],Q6=Et();function VPe(e,t,n,r,a,i){if(!YPe(Vl,e)||(pu(tl,Vl),tl[3]=0,tl[7]=0,tl[11]=0,tl[15]=1,Math.abs(QO(tl))<1e-8))return!1;var o=Vl[3],s=Vl[7],l=Vl[11],c=Vl[12],u=Vl[13],f=Vl[14],d=Vl[15];if(o!==0||s!==0||l!==0){Qp[0]=o,Qp[1]=s,Qp[2]=l,Qp[3]=d;var h=Ga(tl,tl);if(!h)return!1;ZO(tl,tl),Va(a,Qp,tl)}else a[0]=a[1]=a[2]=0,a[3]=1;if(t[0]=c,t[1]=u,t[2]=f,XPe(jt,Vl),n[0]=wi(jt[0]),ns(jt[0],jt[0]),r[0]=Si(jt[0],jt[1]),LE(jt[1],jt[1],jt[0],1,-r[0]),n[1]=wi(jt[1]),ns(jt[1],jt[1]),r[0]/=n[1],r[1]=Si(jt[0],jt[2]),LE(jt[2],jt[2],jt[0],1,-r[1]),r[2]=Si(jt[1],jt[2]),LE(jt[2],jt[2],jt[1],1,-r[2]),n[2]=wi(jt[2]),ns(jt[2],jt[2]),r[1]/=n[2],r[2]/=n[2],Qv(Q6,jt[1],jt[2]),Si(jt[0],Q6)<0)for(var p=0;p<3;p++)n[p]*=-1,jt[p][0]*=-1,jt[p][1]*=-1,jt[p][2]*=-1;return i[0]=.5*Math.sqrt(Math.max(1+jt[0][0]-jt[1][1]-jt[2][2],0)),i[1]=.5*Math.sqrt(Math.max(1-jt[0][0]+jt[1][1]-jt[2][2],0)),i[2]=.5*Math.sqrt(Math.max(1-jt[0][0]-jt[1][1]+jt[2][2],0)),i[3]=.5*Math.sqrt(Math.max(1+jt[0][0]+jt[1][1]+jt[2][2],0)),jt[2][1]>jt[1][2]&&(i[0]=-i[0]),jt[0][2]>jt[2][0]&&(i[1]=-i[1]),jt[1][0]>jt[0][1]&&(i[2]=-i[2]),!0}function YPe(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,a=0;a<16;a++)e[a]=t[a]*r;return!0}function XPe(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function LE(e,t,n,r,a){e[0]=t[0]*r+n[0]*a,e[1]=t[1]*r+n[1]*a,e[2]=t[2]*r+n[2]*a}var ar=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),J6=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),nl=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),qPe={UPDATED:"updated"},e5=2e-4,WH=function(){function e(){ve(this,e),this.clipSpaceNearZ=PE.NEGATIVE_ONE,this.eventEmitter=new hw,this.matrix=Dt(),this.right=Ot(1,0,0),this.up=Ot(0,1,0),this.forward=Ot(0,0,1),this.position=Ot(0,0,1),this.focalPoint=Ot(0,0,0),this.distanceVector=Ot(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Dt(),this.projectionMatrixInverse=Dt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=ar.EXPLORING,this.trackingMode=J6.DEFAULT,this.projectionMode=nl.PERSPECTIVE,this.frustum=new FPe,this.orthoMatrix=Dt()}return ge(e,[{key:"isOrtho",value:function(){return this.projectionMode===nl.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===ar.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===ar.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==ar.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Ga(Dt(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var a=Wi(Dt(),[n,r,0]);this.jitteredProjectionMatrix=Ur(Dt(),a,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===nl.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===nl.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,a,i,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=a,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.projectionMode===nl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===nl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===nl.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===nl.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var a=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),i=a.x,o=a.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(i,o),this.setFocalPoint(i,o),this.setZoom(n),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=l.x,u=l.y,f=Ot(c-i,u-o,0),d=Si(f,this.right)/wi(this.right),h=Si(f,this.up)/wi(this.up),p=this.getPosition(),v=ct(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),x=ct(y,2),b=x[0],E=x[1];return this.setPosition(g-d,m-h),this.setFocalPoint(b-d,E-h),this}},{key:"setPerspective",value:function(n,r,a,i){var o;this.projectionMode=nl.PERSPECTIVE,this.fov=a,this.near=n,this.far=r,this.aspect=i;var s=this.near*Math.tan(or(.5*this.fov))/this.zoom,l=2*s,c=this.aspect*l,u=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var f=this.view.fullWidth,d=this.view.fullHeight;u+=this.view.offsetX*c/f,s-=this.view.offsetY*l/d,c*=this.view.width/f,l*=this.view.height/d}return WPe(this.projectionMatrix,u,u+c,s-l,s,n,this.far,this.clipSpaceNearZ===PE.ZERO),Ga(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,a,i,o,s){var l;this.projectionMode=nl.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=a,this.bottom=i,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,h=f-c,p=f+c,v=d+u,g=d-u;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=m*this.view.offsetX,p=h+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===PE.NEGATIVE_ONE?a3(this.projectionMatrix,h,p,v,g,o,s):i3(this.projectionMatrix,h,p,v,g,o,s),Ga(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],i=fo(n,r,a);return this._setPosition(i),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],i=Ot(0,1,0);if(this.focalPoint=fo(n,r,a),this.trackingMode===J6.CINEMATIC){var o=N1(Et(),this.focalPoint,this.position);n=o[0],r=o[1],a=o[2];var s=wi(o),l=ks(Math.asin(r/s)),c=90+ks(Math.atan2(a,n)),u=Dt();e3(u,u,or(c)),JO(u,u,or(l)),i=sr(Et(),[0,1,0],u)}return Ga(this.matrix,o3(Dt(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<e5&&(this.distance=e5),this.dollyingStep=this.distance/100;var r=Et();n=this.distance;var a=this.forward,i=this.focalPoint;return r[0]=n*a[0]+i[0],r[1]=n*a[1]+i[1],r[2]=n*a[2]+i[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=uh(n),this.computeMatrix(),this._getAxes(),this.type===ar.ORBITING||this.type===ar.EXPLORING?this._getPosition():this.type===ar.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=uh(n),this.computeMatrix(),this._getAxes(),this.type===ar.ORBITING||this.type===ar.EXPLORING?this._getPosition():this.type===ar.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=uh(n),this.computeMatrix(),this._getAxes(),this.type===ar.ORBITING||this.type===ar.EXPLORING?this._getPosition():this.type===ar.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=xo(vn(),[0,0,1],or(this.roll));as(this.matrix);var r=xo(vn(),[1,0,0],or((this.rotateWorld&&this.type!==ar.TRACKING||this.type===ar.TRACKING?1:-1)*this.elevation)),a=xo(vn(),[0,1,0],or((this.rotateWorld&&this.type!==ar.TRACKING||this.type===ar.TRACKING?1:-1)*this.azimuth)),i=wo(vn(),a,r);i=wo(vn(),i,n);var o=Rg(Dt(),i);this.type===ar.ORBITING||this.type===ar.EXPLORING?(Sl(this.matrix,this.matrix,this.focalPoint),Ur(this.matrix,this.matrix,o),Sl(this.matrix,this.matrix,[0,0,this.distance])):this.type===ar.TRACKING&&(Sl(this.matrix,this.matrix,this.position),Ur(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,a){this.position=fo(n,r,a);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Ia(this.right,fo(Va(Wa(),[1,0,0,0],this.matrix))),Ia(this.up,fo(Va(Wa(),[0,1,0,0],this.matrix))),Ia(this.forward,fo(Va(Wa(),[0,0,1,0],this.matrix))),ns(this.right,this.right),ns(this.up,this.up),ns(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],a=this.distanceVector[2],i=wi(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===ar.TRACKING?(this.elevation=ks(Math.asin(r/i)),this.azimuth=ks(Math.atan2(-n,-a))):this.rotateWorld?(this.elevation=ks(Math.asin(r/i)),this.azimuth=ks(Math.atan2(-n,-a))):(this.elevation=-ks(Math.asin(r/i)),this.azimuth=-ks(Math.atan2(-n,-a)))}},{key:"_getPosition",value:function(){Ia(this.position,fo(Va(Wa(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){s3(this.distanceVector,[0,0,-this.distance],C$(a0(),this.matrix)),Ki(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=N1(Et(),this.focalPoint,this.position),this.distance=wi(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===nl.ORTHOGRAPHIC){var n=this.position,r=xo(vn(),[0,0,1],-this.roll*Math.PI/180);iu(this.orthoMatrix,r,Ot((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),Ot(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=Ur(Dt(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(qPe.UPDATED)}}},{key:"rotate",value:function(n,r,a){throw new Error(ir)}},{key:"pan",value:function(n,r){throw new Error(ir)}},{key:"dolly",value:function(n){throw new Error(ir)}},{key:"createLandmark",value:function(n,r){throw new Error(ir)}},{key:"gotoLandmark",value:function(n,r){throw new Error(ir)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(ir)}}])}(),KPe=function(e){return e[e.Standard=0]="Standard",e}({}),xk=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),VH={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Kh(0,0,0,0)},Je=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function hC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function YH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xg(){}var X1=.7,T2=1/X1,fh="\\s*([+-]?\\d+)\\s*",q1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZPe=/^#([0-9a-f]{3,8})$/,QPe=new RegExp(`^rgb\\(${fh},${fh},${fh}\\)$`),JPe=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),e8e=new RegExp(`^rgba\\(${fh},${fh},${fh},${q1}\\)$`),t8e=new RegExp(`^rgba\\(${mc},${mc},${mc},${q1}\\)$`),n8e=new RegExp(`^hsl\\(${q1},${mc},${mc}\\)$`),r8e=new RegExp(`^hsla\\(${q1},${mc},${mc},${q1}\\)$`),t5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hC(Xg,_w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n5,formatHex:n5,formatHex8:a8e,formatHsl:i8e,formatRgb:r5,toString:r5});function n5(){return this.rgb().formatHex()}function a8e(){return this.rgb().formatHex8()}function i8e(){return XH(this).formatHsl()}function r5(){return this.rgb().formatRgb()}function _w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZPe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?a5(t):n===3?new Fo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?iy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?iy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QPe.exec(e))?new Fo(t[1],t[2],t[3],1):(t=JPe.exec(e))?new Fo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e8e.exec(e))?iy(t[1],t[2],t[3],t[4]):(t=t8e.exec(e))?iy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n8e.exec(e))?s5(t[1],t[2]/100,t[3]/100,1):(t=r8e.exec(e))?s5(t[1],t[2]/100,t[3]/100,t[4]):t5.hasOwnProperty(e)?a5(t5[e]):e==="transparent"?new Fo(NaN,NaN,NaN,0):null}function a5(e){return new Fo(e>>16&255,e>>8&255,e&255,1)}function iy(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fo(e,t,n,r)}function o8e(e){return e instanceof Xg||(e=_w(e)),e?(e=e.rgb(),new Fo(e.r,e.g,e.b,e.opacity)):new Fo}function s8e(e,t,n,r){return arguments.length===1?o8e(e):new Fo(e,t,n,r??1)}function Fo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hC(Fo,s8e,YH(Xg,{brighter(e){return e=e==null?T2:Math.pow(T2,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?X1:Math.pow(X1,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fo(wd(this.r),wd(this.g),wd(this.b),O2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i5,formatHex:i5,formatHex8:l8e,formatRgb:o5,toString:o5}));function i5(){return`#${od(this.r)}${od(this.g)}${od(this.b)}`}function l8e(){return`#${od(this.r)}${od(this.g)}${od(this.b)}${od((isNaN(this.opacity)?1:this.opacity)*255)}`}function o5(){const e=O2(this.opacity);return`${e===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${e===1?")":`, ${e})`}`}function O2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function od(e){return e=wd(e),(e<16?"0":"")+e.toString(16)}function s5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vl(e,t,n,r)}function XH(e){if(e instanceof vl)return new vl(e.h,e.s,e.l,e.opacity);if(e instanceof Xg||(e=_w(e)),!e)return new vl;if(e instanceof vl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new vl(o,s,l,e.opacity)}function c8e(e,t,n,r){return arguments.length===1?XH(e):new vl(e,t,n,r??1)}function vl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hC(vl,c8e,YH(Xg,{brighter(e){return e=e==null?T2:Math.pow(T2,e),new vl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?X1:Math.pow(X1,e),new vl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Fo(FE(e>=240?e-240:e+120,a,r),FE(e,a,r),FE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new vl(l5(this.h),oy(this.s),oy(this.l),O2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=O2(this.opacity);return`${e===1?"hsl(":"hsla("}${l5(this.h)}, ${oy(this.s)*100}%, ${oy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l5(e){return e=(e||0)%360,e<0?e+360:e}function oy(e){return Math.max(0,Math.min(1,e||0))}function FE(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Xa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=t?t.apply(this,i):i[0],l=n.cache;if(l.has(s))return l.get(s);var c=e.apply(this,i);return n.cache=l.set(s,c)||l,c};return n.cache=new(Xa.Cache||Map),Xa.cacheList.push(n.cache),n}Xa.Cache=Map;Xa.cacheList=[];Xa.clearCache=function(){Xa.cacheList.forEach(function(e){return e.clear()})};var at=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),cl=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),u8e=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),f8e=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),d8e=[{name:"em",unit_type:at.kEms},{name:"px",unit_type:at.kPixels},{name:"deg",unit_type:at.kDegrees},{name:"rad",unit_type:at.kRadians},{name:"grad",unit_type:at.kGradians},{name:"ms",unit_type:at.kMilliseconds},{name:"s",unit_type:at.kSeconds},{name:"rem",unit_type:at.kRems},{name:"turn",unit_type:at.kTurns}],Zh=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),h8e=function(t){return d8e.find(function(n){return n.name===t}).unit_type},p8e=function(t){return t?t==="number"?at.kNumber:t==="percent"||t==="%"?at.kPercentage:h8e(t):at.kUnknown},v8e=function(t){switch(t){case at.kNumber:case at.kInteger:return cl.kUNumber;case at.kPercentage:return cl.kUPercent;case at.kPixels:return cl.kULength;case at.kMilliseconds:case at.kSeconds:return cl.kUTime;case at.kDegrees:case at.kRadians:case at.kGradians:case at.kTurns:return cl.kUAngle;default:return cl.kUOther}},g8e=function(t){switch(t){case cl.kUNumber:return at.kNumber;case cl.kULength:return at.kPixels;case cl.kUPercent:return at.kPercentage;case cl.kUTime:return at.kSeconds;case cl.kUAngle:return at.kDegrees;default:return at.kUnknown}},c5=function(t){var n=1;switch(t){case at.kPixels:case at.kDegrees:case at.kSeconds:break;case at.kMilliseconds:n=.001;break;case at.kRadians:n=180/Math.PI;break;case at.kGradians:n=.9;break;case at.kTurns:n=360;break}return n},bk=function(t){switch(t){case at.kNumber:case at.kInteger:return"";case at.kPercentage:return"%";case at.kEms:return"em";case at.kRems:return"rem";case at.kPixels:return"px";case at.kDegrees:return"deg";case at.kRadians:return"rad";case at.kGradians:return"grad";case at.kMilliseconds:return"ms";case at.kSeconds:return"s";case at.kTurns:return"turn"}return""},Ew=function(){function e(){ve(this,e)}return ge(e,[{key:"toString",value:function(){return this.buildCSSText(u8e.kNo,f8e.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Zh.kUnitType&&this.getType()<=Zh.kClampType}}],[{key:"isAngle",value:function(n){return n===at.kDegrees||n===at.kRadians||n===at.kGradians||n===at.kTurns}},{key:"isLength",value:function(n){return n>=at.kEms&&n<at.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===at.kPercentage||n===at.kEms||n===at.kRems}},{key:"isTime",value:function(n){return n===at.kSeconds||n===at.kMilliseconds}}])}(),m8e=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.colorSpace=n,r}return ft(t,e),ge(t,[{key:"getType",value:function(){return Zh.kColorType}},{key:"to",value:function(r){return this}}])}(Ew),sy=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),ly=function(e){function t(n,r){var a;return ve(this,t),a=ut(this,t),a.type=n,a.value=r,a}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(r,a,i){return i}},{key:"getType",value:function(){return Zh.kColorType}}])}(Ew),Fl=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.value=n,r}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Zh.kKeywordType}},{key:"buildCSSText",value:function(r,a,i){return i+this.value}}])}(Ew),y8e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(t)?r="NaN":t>0?r="infinity":r="-infinity",r+=n},wk=function(t){return g8e(v8e(t))},yi=function(e){function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.kNumber;ve(this,t),r=ut(this,t);var i;return typeof a=="string"?i=p8e(a):i=a,r.unit=i,r.value=n,r}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(r){var a=r;return this.value===a.value&&this.unit===a.unit}},{key:"getType",value:function(){return Zh.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new t(this.value,this.unit);var a=wk(this.unit);if(a!==wk(r)||a===at.kUnknown)return null;var i=c5(this.unit)/c5(r);return new t(this.value*i,r)}},{key:"buildCSSText",value:function(r,a,i){var o;switch(this.unit){case at.kUnknown:break;case at.kInteger:o=Number(this.value).toFixed(0);break;case at.kNumber:case at.kPercentage:case at.kEms:case at.kRems:case at.kPixels:case at.kDegrees:case at.kRadians:case at.kGradians:case at.kMilliseconds:case at.kSeconds:case at.kTurns:{var s=-999999,l=999999,c=this.value,u=bk(this.unit);if(c<s||c>l){var f=bk(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=y8e(c,f):o=c+(f||"")}else o="".concat(c).concat(u)}}return i+=o,i}}])}(Ew),sl=new yi(0,"px");new yi(1,"px");var zd=new yi(0,"deg"),pC=function(e){function t(n,r,a){var i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ve(this,t),i=ut(this,t,["rgb"]),i.r=n,i.g=r,i.b=a,i.alpha=o,i.isNone=s,i}return ft(t,e),ge(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,a,i){return"".concat(i,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(m8e),u5=new Fl("unset"),x8e=new Fl("initial"),b8e=new Fl("inherit"),BE={"":u5,unset:u5,initial:x8e,inherit:b8e},w8e=function(t){return BE[t]||(BE[t]=new Fl(t)),BE[t]},qH=new pC(0,0,0,0,!0),KH=new pC(0,0,0,0),_8e=Xa(function(e,t,n,r){return new pC(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),Ir=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.kNumber;return new yi(t,n)};new yi(50,"%");function E8e(e){var t=e.type,n=e.value;return t==="hex"?"#".concat(n):t==="literal"?n:t==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var S8e=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(P){throw new Error("".concat(t,": ").concat(P))}function r(){var P=a();return t.length>0&&n("Invalid input not EOF"),P}function a(){return x(i)}function i(){return o("linear-gradient",e.linearGradient,l)||o("repeating-linear-gradient",e.repeatingLinearGradient,l)||o("radial-gradient",e.radialGradient,f)||o("repeating-radial-gradient",e.repeatingRadialGradient,f)||o("conic-gradient",e.conicGradient,f)}function o(P,B,N){return s(B,function(V){var W=N();return W&&(R(e.comma)||n("Missing comma before color stops")),{type:P,orientation:W,colorStops:x(b)}})}function s(P,B){var N=R(P);if(N){R(e.startCall)||n("Missing (");var V=B(N);return R(e.endCall)||n("Missing )"),V}}function l(){return c()||u()}function c(){return M("directional",e.sideOrCorner,1)}function u(){return M("angular",e.angleValue,1)}function f(){var P,B=d(),N;return B&&(P=[],P.push(B),N=t,R(e.comma)&&(B=d(),B?P.push(B):t=N)),P}function d(){var P=h()||p();if(P)P.at=g();else{var B=v();if(B){P=B;var N=g();N&&(P.at=N)}else{var V=m();V&&(P={type:"default-radial",at:V})}}return P}function h(){var P=M("shape",/^(circle)/i,0);return P&&(P.style=C()||v()),P}function p(){var P=M("shape",/^(ellipse)/i,0);return P&&(P.style=T()||v()),P}function v(){return M("extent-keyword",e.extentKeywords,1)}function g(){if(M("position",/^at/,0)){var P=m();return P||n("Missing positioning value"),P}}function m(){var P=y();if(P.x||P.y)return{type:"position",value:P}}function y(){return{x:T(),y:T()}}function x(P){var B=P(),N=[];if(B)for(N.push(B);R(e.comma);)B=P(),B?N.push(B):n("One extra comma");return N}function b(){var P=E();return P||n("Expected color definition"),P.length=T(),P}function E(){return w()||S()||A()||_()}function _(){return M("literal",e.literalColor,0)}function w(){return M("hex",e.hexColor,1)}function A(){return s(e.rgbColor,function(){return{type:"rgb",value:x(k)}})}function S(){return s(e.rgbaColor,function(){return{type:"rgba",value:x(k)}})}function k(){return R(e.number)[1]}function T(){return M("%",e.percentageValue,1)||O()||C()}function O(){return M("position-keyword",e.positionKeywords,1)}function C(){return M("px",e.pixelValue,1)||M("em",e.emValue,1)}function M(P,B,N){var V=R(B);if(V)return{type:P,value:V[N]}}function R(P){var B=/^[\n\r\t\s]+/.exec(t);B&&I(B[0].length);var N=P.exec(t);return N&&I(N[0].length),N}function I(P){t=t.substring(P)}return function(P){return t=P,r()}}(),A8e=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k8e=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T8e=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,ZH=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function O8e(e){var t,n=e.length;if(e[n-1].length=(t=e[n-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},n>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var a=0,i=Number(e[0].length.value),o=1;o<n;o++){var s,l=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!lt(l)&&!lt(i)){for(var c=1;c<o-a;c++)e[a+c].length={type:"%",value:"".concat(i+(Number(l)-i)*c/(o-a))};a=o,i=Number(l)}}}var C8e={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},M8e=Xa(function(e){var t;return e.type==="angular"?t=Number(e.value):t=C8e[e.value]||0,Ir(t,"deg")}),P8e=Xa(function(e){var t=50,n=50,r="%",a="%";if((e==null?void 0:e.type)==="position"){var i=e.value,o=i.x,s=i.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?t=50:o.value==="right"?t=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?n=50:s.value==="right"?t=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,t=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(a=s==null?void 0:s.type,n=Number(s.value))}return{cx:Ir(t,r),cy:Ir(n,a)}}),I8e=Xa(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=S8e(e);return t.map(function(s){var l=s.type,c=s.orientation,u=s.colorStops;O8e(u);var f=u.map(function(x){return{offset:Ir(Number(x.length.value),"%"),color:E8e(x)}});if(l==="linear-gradient")return new ly(sy.LinearGradient,{angle:c?M8e(c):zd,steps:f});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var d=P8e(c[0].at),h=d.cx,p=d.cy,v;if(c[0].style){var g=c[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=w8e(y):v=Ir(y,m)}return new ly(sy.RadialGradient,{cx:h,cy:p,size:v,steps:f})}})}var n=e[0];if(e[1]==="("||e[2]==="("){if(n==="l"){var r=A8e.exec(e);if(r){var a,i=((a=r[2].match(ZH))===null||a===void 0?void 0:a.map(function(s){return s.split(":")}))||[];return[new ly(sy.LinearGradient,{angle:Ir(parseFloat(r[1]),"deg"),steps:i.map(function(s){var l=ct(s,2),c=l[0],u=l[1];return{offset:Ir(Number(c)*100,"%"),color:u}})})]}}else if(n==="r"){var o=R8e(e);if(o)if(In(o))e=o;else return[new ly(sy.RadialGradient,o)]}else if(n==="p")return N8e(e)}});function R8e(e){var t=k8e.exec(e);if(t){var n,r=((n=t[4].match(ZH))===null||n===void 0?void 0:n.map(function(a){return a.split(":")}))||[];return{cx:Ir(50,"%"),cy:Ir(50,"%"),steps:r.map(function(a){var i=ct(a,2),o=i[0],s=i[1];return{offset:Ir(Number(o)*100,"%"),color:s}})}}return null}function N8e(e){var t=T8e.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function D8e(e){return e&&!!e.image}function f5(e){return e&&!lt(e.r)&&!lt(e.g)&&!lt(e.b)}var dh=Xa(function(e){if(D8e(e))return bt({repetition:"repeat"},e);if(lt(e)&&(e=""),e==="transparent")return KH;if(e==="currentColor")e="black";else if(e==="none")return qH;var t=I8e(e);if(t)return t;var n=_w(e),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),_8e.apply(void 0,r)});function L8e(e,t){if(!(!f5(e)||!f5(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(n){var r=n.slice();if(r[3])for(var a=0;a<3;a++)r[a]=Math.round(An(r[a],0,255));return r[3]=An(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function qg(e,t){if(lt(t))return Ir(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return Ir(Number(t),"px");if("deg".search(e)>=0)return Ir(Number(t),"deg")}var n=[];t=t.replace(e,function(a){return n.push(a),"U".concat(a)});var r="U(".concat(e.source,")");return n.map(function(a){return Ir(Number(t.replace(new RegExp("U".concat(a),"g"),"").replace(new RegExp(r,"g"),"*0")),a)})[0]}var QH=function(t){return qg(new RegExp("px","g"),t)},F8e=Xa(QH),B8e=function(t){return qg(new RegExp("%","g"),t)};Xa(B8e);var JH=function(t){return kn(t)||isFinite(Number(t))?Ir(Number(t)||0,"px"):qg(new RegExp("px|%|em|rem","g"),t)},_k=Xa(JH),eG=function(t){return qg(new RegExp("deg|rad|grad|turn","g"),t)},$8e=Xa(eG);function j8e(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i="",o=e.value||0,s=t.value||0,l=wk(e.unit),c=e.convertTo(l),u=t.convertTo(l);return c&&u?(o=c.value,s=u.value,i=bk(e.unit)):(yi.isLength(e.unit)||yi.isLength(t.unit))&&(o=Yo(e,a,n),s=Yo(t,a,n),i="px"),[o,s,function(f){return f+i}]}function No(e){var t=0;return e.unit===at.kDegrees?t=e.value:e.unit===at.kRadians?t=ks(Number(e.value)):e.unit===at.kTurns?t=zPe(Number(e.value)):e.value&&(t=e.value),t}function d5(e,t){var n;return Array.isArray(e)?n=e.map(function(r){return Number(r)}):In(e)?n=e.split(" ").map(function(r){return Number(r)}):kn(e)&&(n=[e]),t===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:t===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:t==="even"&&n.length%2===1?[].concat(_t(n),_t(n)):n}function Yo(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===at.kPixels)return Number(e.value);if(e.unit===at.kPercentage&&n){var a=n.nodeName===Tt.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?a.min[t]:0)+e.value/100*a.halfExtents[t]*2}return 0}var z8e=function(t){return qg(/deg|rad|grad|turn|px|%/g,t)},U8e=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function H8e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,a=0;r=t.exec(e);){if(r.index!==a)return[];if(a=r.index+r[0].length,U8e.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(i){return z8e(i)||dh(i)})}),t.lastIndex===e.length)return n}return[]}function tG(e){return e.toString()}var nG=function(t){return typeof t=="number"?Ir(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?Ir(Number(t)):Ir(0)},Ek=Xa(nG);Xa(function(e){return In(e)?e.split(" ").map(Ek):e.map(Ek)});function vC(e,t){return[e,t,tG]}function gC(e,t){return function(n,r){return[n,r,function(a){return tG(An(a,e,t))}]}}function rG(e,t){if(e.length===t.length)return[e,t,function(n){return n}]}function h5(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=ej(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function G8e(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=MPe(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function W8e(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t],a=r[0];if(a==="M"&&n){var i=n[0],o=[r[1],r[2]],s=void 0;i==="L"||i==="M"?s=[n[1],n[2]]:(i==="C"||i==="A"||i==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&C2(o,s)&&(e.splice(t,1),t--)}}}function V8e(e){for(var t=!1,n=e.length,r=0;r<n;r++){var a=e[r],i=a[0];if(i==="C"||i==="A"||i==="Q"){t=!0;break}}return t}function Y8e(e){for(var t=[],n=[],r=[],a=0;a<e.length;a++){var i=e[a],o=i[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([i[1],i[2]])):o==="Z"?r.length&&(t.push(r),r=[]):r.push([i[1],i[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}function C2(e,t){return e[0]===t[0]&&e[1]===t[1]}function X8e(e,t){for(var n=[],r=[],a=[],i=0;i<e.length;i++){var o=e[i],s=o.currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=PPe(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=OPe(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;u=TPe(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(o.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0}),r=r.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0});var d=Dh(n),h=Dh(r),p=Nh(n),v=Nh(r);if(a.length===0)return{x:d,y:h,width:p-d,height:v-h};for(var g=0;g<a.length;g++){var m=a[g],y=m.currentPoint,x=void 0;y[0]===d?(x=cy(m,t),d-=x.xExtra):y[0]===p&&(x=cy(m,t),p+=x.xExtra),y[1]===h?(x=cy(m,t),h-=x.yExtra):y[1]===v&&(x=cy(m,t),v+=x.yExtra)}return{x:d,y:h,width:p-d,height:v-h}}function cy(e,t){var n=e.prePoint,r=e.currentPoint,a=e.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2),s=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),l=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!l||Math.sin(l)===0||pc(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(a[1]-r[1],a[0]-r[0])),u=Math.abs(Math.atan2(a[0]-r[0],a[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var f={xExtra:Math.cos(l/2-c)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(u-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function p5(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var v5=function(t,n){var r=t.x*n.x+t.y*n.y,a=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),i=t.x*n.y-t.y*n.x<0?-1:1,o=i*Math.acos(r/a);return o},g5=function(t,n,r,a,i,o,s,l){n=Math.abs(n),r=Math.abs(r),a=Yb(a,360);var c=or(a);if(t.x===s.x&&t.y===s.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(t.x-s.x)/2,f=(t.y-s.y)/2,d={x:Math.cos(c)*u+Math.sin(c)*f,y:-Math.sin(c)*u+Math.cos(c)*f},h=Math.pow(d.x,2)/Math.pow(n,2)+Math.pow(d.y,2)/Math.pow(r,2);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(d.y,2)-Math.pow(r,2)*Math.pow(d.x,2),v=Math.pow(n,2)*Math.pow(d.y,2)+Math.pow(r,2)*Math.pow(d.x,2),g=p/v;g=g<0?0:g;var m=(i!==o?1:-1)*Math.sqrt(g),y={x:m*(n*d.y/r),y:m*(-(r*d.x)/n)},x={x:Math.cos(c)*y.x-Math.sin(c)*y.y+(t.x+s.x)/2,y:Math.sin(c)*y.x+Math.cos(c)*y.y+(t.y+s.y)/2},b={x:(d.x-y.x)/n,y:(d.y-y.y)/r},E=v5({x:1,y:0},b),_={x:(-d.x-y.x)/n,y:(-d.y-y.y)/r},w=v5(b,_);!o&&w>0?w-=2*Math.PI:o&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var A=E+w*l,S=n*Math.cos(A),k=r*Math.sin(A),T={x:Math.cos(c)*S-Math.sin(c)*k+x.x,y:Math.sin(c)*S+Math.cos(c)*k+x.y,ellipticalArcStartAngle:E,ellipticalArcEndAngle:E+w,ellipticalArcAngle:A,ellipticalArcCenter:x,resultantRx:n,resultantRy:r};return T};function q8e(e){for(var t=[],n=null,r=null,a=null,i=0,o=e.length,s=0;s<o;s++){var l=e[s];r=e[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":a=[l[1],l[2]],i=s;break;case"A":var f=K8e(n,l);u.arcParams=f;break}if(c==="Z")n=a,r=e[i+1];else{var d=l.length;n=[l[d-2],l[d-1]]}r&&r[0]==="Z"&&(r=e[i],t[i]&&(t[i].prePoint=n)),u.currentPoint=n,t[i]&&C2(n,t[i].currentPoint)&&(t[i].prePoint=u.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=h;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if(c==="Q"){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if(c==="T"){var g=t[s-1],m=p5(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(c==="C"){var y=[l[1],l[2]],x=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-x[0],n[1]-x[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[y[0]-x[0],y[1]-x[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[x[0]-y[0],x[1]-y[1]])}else if(c==="S"){var b=t[s-1],E=p5(b.currentPoint,p),_=[l[1],l[2]];b.command==="C"?(u.command="C",u.startTangent=[p[0]-E[0],p[1]-E[1]],u.endTangent=[n[0]-_[0],n[1]-_[1]]):(u.command="SQ",u.startTangent=[p[0]-_[0],p[1]-_[1]],u.endTangent=[n[0]-_[0],n[1]-_[1]])}else if(c==="A"){var w=m5(u,0),A=w.x,S=w.y,k=m5(u,1,!1),T=k.x,O=k.y;u.startTangent=[A,S],u.endTangent=[T,O]}t.push(u)}return t}function m5(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,a=r.rx,i=a===void 0?0:a,o=r.ry,s=o===void 0?0:o,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,f=g5({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},t),d=g5({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),h=d.x-f.x,p=d.y-f.y,v=Math.sqrt(h*h+p*p);return{x:-h/v,y:-p/v}}function uy(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Sk(e,t){return uy(e)*uy(t)?(e[0]*t[0]+e[1]*t[1])/(uy(e)*uy(t)):1}function y5(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Sk(e,t))}function K8e(e,t){var n=t[1],r=t[2],a=Yb(or(t[3]),Math.PI*2),i=t[4],o=t[5],s=e[0],l=e[1],c=t[6],u=t[7],f=Math.cos(a)*(s-c)/2+Math.sin(a)*(l-u)/2,d=-1*Math.sin(a)*(s-c)/2+Math.cos(a)*(l-u)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(s+c)/2+Math.cos(a)*g-Math.sin(a)*m,x=(l+u)/2+Math.sin(a)*g+Math.cos(a)*m,b=[(f-g)/n,(d-m)/r],E=[(-1*f-g)/n,(-1*d-m)/r],_=y5([1,0],b),w=y5(b,E);return Sk(b,E)<=-1&&(w=Math.PI),Sk(b,E)>=1&&(w=0),o===0&&w>0&&(w-=2*Math.PI),o===1&&w<0&&(w+=2*Math.PI),{cx:y,cy:x,rx:C2(e,[c,u])?0:n,ry:C2(e,[c,u])?0:r,startAngle:_,endAngle:_+w,xRotation:a,arcFlag:i,sweepFlag:o}}var aG=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=Bh(t)}catch{n=Bh(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}W8e(n);var r=V8e(n),a=Y8e(n),i=a.polygons,o=a.polylines,s=q8e(n),l=X8e(s,0),c=l.x,u=l.y,f=l.width,d=l.height;return{absolutePath:n,hasArc:r,segments:s,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(d)?d:0}}},Z8e=Xa(aG);function iG(e){return In(e)?Z8e(e):aG(e)}function Q8e(e,t,n){var r=e.curve,a=t.curve;(!r||r.length===0)&&(r=D1(e.absolutePath,!1),e.curve=r),(!a||a.length===0)&&(a=D1(t.absolutePath,!1),t.curve=a);var i=[r,a];r.length!==a.length&&(i=u3(r,a));var o=a2(i[0])!==a2(i[1])?Z$(i[0]):K$(i[0]);return[o,tj(i[1],o),function(s){return s}]}function J8e(e,t){var n;return In(e)?n=e.split(" ").map(function(r){var a=r.split(","),i=ct(a,2),o=i[0],s=i[1];return[Number(o),Number(s)]}):n=e,{points:n,totalLength:0,segments:[]}}function eIe(e,t){return[e.points,t.points,function(n){return n}]}var qr=null,hh=/\s*(\w+)\(([^)]*)\)/g;function Oo(e){return function(t){var n=0;return e.map(function(r){return r===qr?t[n++]:r})}}function Hf(e){return e}var K1={matrix:["NNNNNN",[qr,qr,0,0,qr,qr,0,0,0,0,1,0,qr,qr,0,1],Hf],matrix3d:["NNNNNNNNNNNNNNNN",Hf],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Oo([qr,qr,new yi(1)]),Hf],scaleX:["N",Oo([qr,new yi(1),new yi(1)]),Oo([qr,new yi(1)])],scaleY:["N",Oo([new yi(1),qr,new yi(1)]),Oo([new yi(1),qr])],scaleZ:["N",Oo([new yi(1),new yi(1),qr])],scale3d:["NNN",Hf],skew:["Aa",null,Hf],skewX:["A",null,Oo([qr,zd])],skewY:["A",null,Oo([zd,qr])],translate:["Tt",Oo([qr,qr,sl]),Hf],translateX:["T",Oo([qr,sl,sl]),Oo([qr,sl])],translateY:["T",Oo([sl,qr,sl]),Oo([sl,qr])],translateZ:["L",Oo([sl,sl,qr])],translate3d:["TTL",Hf]};function oG(e){for(var t=[],n=e.length,r=0;r<n;r++){var a=e[r],i=a[0],o=a.slice(1);i==="translate"||i==="skew"?o.length===1&&o.push(0):i==="scale"&&o.length===1&&o.push(o[0]);var s=K1[i];if(!s)return[];var l=o.map(function(c){return Ir(c)});t.push({t:i,d:l})}return t}function tIe(e){if(Array.isArray(e))return oG(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(hh.lastIndex=0;n=hh.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=K1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?zd:$8e(p)},N:Ek,T:_k,L:F8e}[f.toUpperCase()](u):d={a:zd,n:l[0],t:sl}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),hh.lastIndex===e.length)return t}return[]}function nIe(e){if(Array.isArray(e))return oG(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(hh.lastIndex=0;n=hh.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=K1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?zd:eG(p)},N:nG,T:JH,L:QH}[f.toUpperCase()](u):d={a:zd,n:l[0],t:sl}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),hh.lastIndex===e.length)return t}return[]}function rIe(e){var t,n,r,a;switch(e.t){case"rotateX":return a=or(No(e.d[0])),[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1];case"rotateY":return a=or(No(e.d[0])),[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1];case"rotate":case"rotateZ":return a=or(No(e.d[0])),[Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,a=or(No(e.d[3]));var i=t*t+n*n+r*r;if(i===0)t=1,n=0,r=0;else if(i!==1){var o=Math.sqrt(i);t/=o,n/=o,r/=o}var s=Math.sin(a/2),l=s*Math.cos(a/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*l),2*(t*r*c-n*l),0,2*(t*n*c-r*l),1-2*(t*t+r*r)*c,2*(n*r*c+t*l),0,2*(t*r*c+n*l),2*(n*r*c-t*l),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var u=or(No(e.d[0])),f=or(No(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return a=or(No(e.d[0])),[1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return a=or(No(e.d[0])),[1,Math.tan(a),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=Yo(e.d[0],0,null)||0,n=Yo(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,0,1];case"translateX":return t=Yo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return n=Yo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=Yo(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return t=Yo(e.d[0],0,null)||0,n=Yo(e.d[1],0,null)||0,r=Yo(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1];case"perspective":var d=Yo(e.d[0],0,null)||0,h=d?-1/d:0;return[1,0,0,0,0,1,0,0,0,0,1,h,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function aIe(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function iIe(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(rIe).reduce(aIe)}function x5(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],a=[0,0,0,1],i=[0,0,0,1];return VPe(iIe(e),t,n,r,a,i),[[t,n,r,i,a]]}var oIe=function(){function e(r,a){for(var i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)i[o][s]+=a[o][l]*r[l][s];return i}function t(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,a,i,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=s[c];for(var u=0;u<3;u++)for(var f=0;f<3;f++)l[3][u]+=r[f]*l[f][u];var d=o[0],h=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(h*h+p*p),g[0][1]=2*(d*h-p*v),g[0][2]=2*(d*p+h*v),g[1][0]=2*(d*h+p*v),g[1][1]=1-2*(d*d+p*p),g[1][2]=2*(h*p-d*v),g[2][0]=2*(d*p-h*v),g[2][1]=2*(h*p+d*v),g[2][2]=1-2*(d*d+h*h),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(m[2][1]=i[2],l=e(l,m)),i[1]&&(m[2][1]=0,m[2][0]=i[0],l=e(l,m)),i[0]&&(m[2][0]=0,m[1][0]=i[0],l=e(l,m));for(var y=0;y<3;y++)for(var x=0;x<3;x++)l[y][x]*=a[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n}();function sIe(e){return e.toFixed(6).replace(".000000","")}function $E(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=x5(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=x5(t)),n[0]===null||r[0]===null?[[!1],[!0],function(a){return a?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(a){var i=cIe(n[0][3],r[0][3],a[5]),o=oIe(a[0],a[1],a[2],i,a[4]),s=o.map(sIe).join(",");return s}])}function lIe(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function cIe(e,t,n){var r=lIe(e,t);r=An(r,-1,1);var a=[];if(r===1)a=e;else for(var i=Math.acos(r),o=Math.sin(n*i)*1/Math.sqrt(1-r*r),s=0;s<4;s++)a.push(e[s]*(Math.cos(n*i)-r*o)+t[s]*o);return a}function jE(e){return e.replace(/[XY]/,"")}function zE(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var uIe=function(t,n){return t==="perspective"&&n==="perspective"||(t==="matrix"||t==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function fIe(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var a=function(){var T=e[i],O=T.t,C=T.d,M=O.substring(0,5)==="scale"?1:0;t.push({t:O,d:C.map(function(R){return typeof R=="number"?Ir(M):Ir(M,R.unit)})})},i=0;i<e.length;i++)a()}var o=[],s=[],l=[];if(e.length!==t.length){var c=$E(e,t);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(var u=0;u<e.length;u++){var f=e[u].t,d=t[u].t,h=e[u].d,p=t[u].d,v=K1[f],g=K1[d],m=void 0;if(uIe(f,d)){var y=$E([e[u]],[t[u]]);o.push(y[0]),s.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===d)m=f;else if(v[2]&&g[2]&&jE(f)===jE(d))m=jE(f),h=v[2](h),p=g[2](p);else if(v[1]&&g[1]&&zE(f)===zE(d))m=zE(f),h=v[1](h),p=g[1](p);else{var x=$E(e,t);o=[x[0]],s=[x[1]],l=[["matrix",[x[2]]]];break}for(var b=[],E=[],_=[],w=0;w<h.length;w++){var A=j8e(h[w],p[w],n,!1,w);b[w]=A[0],E[w]=A[1],_.push(A[2])}o.push(b),s.push(E),l.push([m,_])}if(r){var S=o;o=s,s=S}return[o,s,function(k){return k.map(function(T,O){var C=T.map(function(M,R){return l[O][1][R](M)}).join(",");return l[O][0]==="matrix"&&C.split(",").length===16&&(l[O][0]="matrix3d"),l[O][0]==="matrix3d"&&C.split(",").length===6&&(l[O][0]="matrix"),"".concat(l[O][0],"(").concat(C,")")}).join(" ")}]}var dIe=Xa(function(e){if(In(e)){if(e==="text-anchor")return[Ir(0,"px"),Ir(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[_k(b5(t[0])),_k(b5(t[1]))]}return[Ir(e[0]||0,"px"),Ir(e[1]||0,"px")]});function b5(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var sG=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Je.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Je.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Je.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Je.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Je.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Je.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Je.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Je.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Je.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Je.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Je.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Je.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Je.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Je.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Je.FILTER},{n:"clipPath",syntax:Je.DEFINED_PATH},{n:"textPath",syntax:Je.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Je.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Je.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Je.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Je.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Je.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Je.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Je.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Je.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Je.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Je.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Je.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Je.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Je.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Je.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Je.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Je.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Je.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Je.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Je.NUMBER,d:function(t){return t===Tt.PATH||t===Tt.POLYGON||t===Tt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Je.MARKER},{n:"markerEnd",syntax:Je.MARKER},{n:"markerMid",syntax:Je.MARKER},{n:"markerStartOffset",syntax:Je.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Je.LENGTH,l:!0,int:!0,d:"0"}],hIe=new Set(sG.filter(function(e){return!!e.l}).map(function(e){return e.n})),lG={},pIe=function(){function e(t){var n=this;ve(this,e),this.runtime=t,sG.forEach(function(r){n.registerMetadata(r)})}return ge(e,[{key:"registerMetadata",value:function(n){[n.n].concat(_t(n.a||[])).forEach(function(r){lG[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var i=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;vIe(n,r);var s=!!a.forceUpdateGeometry;if(!s){for(var l in r)if(hIe.has(l)){s=!0;break}}var c=cG(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=dh(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=dh(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=dh(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=H8e(r.filter)),c.has("radius")&&!lt(r.radius)&&(n.parsedStyle.radius=d5(r.radius,4)),c.has("lineDash")&&!lt(r.lineDash)&&(n.parsedStyle.lineDash=d5(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=J8e(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=bt({},VH)),c.has("d")&&r.d&&(n.parsedStyle.d=iG(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Je.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!Rt(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Je.DEFINED_PATH].calculator("clipPath",i,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Je.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=tIe(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=dIe(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Je.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Je.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Je.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!lt(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Je.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!lt(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Je.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Je.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Je.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.geometry.dirty=!0,n.renderable.boundsDirty=!0,n.renderable.renderBoundsDirty=!0,a.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,a=this.runtime.geometryUpdaterFactory[r];if(a){var i=n.geometry;i.contentBounds||(i.contentBounds=new Po),i.renderBounds||(i.renderBounds=new Po);var o=n.parsedStyle,s=a.update(o,n),l=s.cx,c=l===void 0?0:l,u=s.cy,f=u===void 0?0:u,d=s.cz,h=d===void 0?0:d,p=s.hwidth,v=p===void 0?0:p,g=s.hheight,m=g===void 0?0:g,y=s.hdepth,x=y===void 0?0:y,b=[Math.abs(v),Math.abs(m),x],E=o.stroke,_=o.lineWidth,w=_===void 0?1:_,A=o.increasedLineWidthForHitTesting,S=A===void 0?0:A,k=o.shadowType,T=k===void 0?"outer":k,O=o.shadowColor,C=o.filter,M=C===void 0?[]:C,R=o.transformOrigin,I=[c,f,h];i.contentBounds.update(I,b);var P=r===Tt.POLYLINE||r===Tt.POLYGON||r===Tt.PATH?Math.SQRT2:.5,B=E&&!E.isNone;if(B){var N=((w||0)+(S||0))*P;b[0]+=N,b[1]+=N}if(i.renderBounds.update(I,b),O&&T&&T!=="inner"){var V=i.renderBounds,W=V.min,z=V.max,j=o.shadowBlur,L=o.shadowOffsetX,F=o.shadowOffsetY,H=j||0,D=L||0,G=F||0,K=W[0]-H+D,re=z[0]+H+D,ie=W[1]-H+G,U=z[1]+H+G;W[0]=Math.min(W[0],K),z[0]=Math.max(z[0],re),W[1]=Math.min(W[1],ie),z[1]=Math.max(z[1],U),i.renderBounds.setMinMax(W,z)}M.forEach(function(te){var pe=te.name,me=te.params;if(pe==="blur"){var Ee=me[0].value;i.renderBounds.update(i.renderBounds.center,Ki(i.renderBounds.halfExtents,i.renderBounds.halfExtents,[Ee,Ee,0]))}else if(pe==="drop-shadow"){var ke=me[0].value,Ue=me[1].value,fe=me[2].value,xe=i.renderBounds,De=xe.min,He=xe.max,pt=De[0]-fe+ke,Re=He[0]+fe+ke,vt=De[1]-fe+Ue,Ye=He[1]+fe+Ue;De[0]=Math.min(De[0],pt),He[0]=Math.max(He[0],Re),De[1]=Math.min(De[1],vt),He[1]=Math.max(He[1],Ye),i.renderBounds.setMinMax(De,He)}}),n.geometry.dirty=!1;var q=v<0,Q=m<0,X=(q?-1:1)*(R?Yo(R[0],0,n,!0):0),ce=(Q?-1:1)*(R?Yo(R[1],1,n,!0):0);(X||ce)&&n.setOrigin(X,ce)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===Tt.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===Tt.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])}();function vIe(e,t){var n=cG(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}function cG(e){return e.constructor.PARSED_STYLE_LIST}var gIe=function(){function e(){ve(this,e),this.mixer=vC}return ge(e,[{key:"calculator",value:function(n,r,a,i){return No(a)}}])}(),mIe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i,o){return a instanceof Fl&&(a=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,a,i),n==="clipPath"&&i.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtifyToRoot(s)}),a}}])}(),yIe=function(){function e(){ve(this,e),this.parser=dh,this.mixer=L8e}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Fl?a.value==="none"?qH:KH:a}}])}(),xIe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a){return a instanceof Fl?[]:a}}])}();function w5(e){var t=e.parsedStyle,n=t.fontSize;return lt(n)?null:n}var Ak=function(){function e(){ve(this,e),this.mixer=vC}return ge(e,[{key:"calculator",value:function(n,r,a,i,o){if(kn(a))return a;if(yi.isRelativeUnit(a.unit)){if(a.unit===at.kPercentage)return 0;if(a.unit===at.kEms){if(i.parentNode){var s=w5(i.parentNode);if(s)return s*=a.value,s}return 0}if(a.unit===at.kRems){var l;if(i!=null&&(l=i.ownerDocument)!==null&&l!==void 0&&l.documentElement){var c=w5(i.ownerDocument.documentElement);if(c)return c*=a.value,c}return 0}}else return a.value}}])}(),bIe=function(){function e(){ve(this,e),this.mixer=rG}return ge(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])}(),wIe=function(){function e(){ve(this,e),this.mixer=rG}return ge(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])}(),_Ie=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){var o;a instanceof Fl&&(a=null);var s=(o=a)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),EIe=function(){function e(){ve(this,e),this.mixer=vC}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}}])}(),SIe=function(){function e(){ve(this,e),this.mixer=gC(0,1)}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,a=r.offsetPath,i=r.offsetDistance;if(a){var o=a.nodeName;if(o===Tt.LINE||o===Tt.PATH||o===Tt.POLYLINE){var s=a.getPoint(i);s&&n.setLocalPosition(s.x,s.y)}}}}])}(),AIe=function(){function e(){ve(this,e),this.mixer=gC(0,1)}return ge(e,[{key:"calculator",value:function(n,r,a){return a.value}}])}(),kIe=function(){function e(){ve(this,e),this.parser=iG,this.mixer=Q8e}return ge(e,[{key:"calculator",value:function(n,r,a){return a instanceof Fl&&a.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Kh(0,0,0,0)}:a}}])}(),TIe=ge(function e(){ve(this,e),this.mixer=eIe}),OIe=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.mixer=gC(0,1/0),n}return ft(t,e),ge(t)}(Ak),CIe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Fl?a.value==="unset"?"":a.value:"".concat(a)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])}(),MIe=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){var o=i.getAttribute("text");if(o){var s=o;a.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):a.value==="lowercase"?s=o.toLowerCase():a.value==="uppercase"&&(s=o.toUpperCase()),i.parsedStyle.text=s}return a.value}}])}();function PIe(e){var t=e;do{var n,r=(n=t.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}var IIe=1,RIe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},NIe=typeof performance=="object"&&performance.now?performance:Date;function kk(e){return e.nodeName===Tt.FRAGMENT?!0:e.getRootNode().nodeName===Tt.FRAGMENT}var DIe=1,LIe=function(){return DIe++},yc=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},FIe=Date.now(),BIe=function(){return yc.performance&&typeof yc.performance.now=="function"?yc.performance.now():Date.now()-FIe},xv={},_5=Date.now(),$Ie=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var n=Date.now(),r=n-_5,a=r>16?0:16-r,i=LIe();return xv[i]=t,Object.keys(xv).length>1||setTimeout(function(){_5=n;var o=xv;xv={},Object.keys(o).forEach(function(s){return o[s](BIe())})},a),i},jIe=function(t){delete xv[t]},zIe=["","webkit","moz","ms","o"],uG=function(t){return typeof t!="string"?$Ie:t===""?yc.requestAnimationFrame:yc["".concat(t,"RequestAnimationFrame")]},UIe=function(t){return typeof t!="string"?jIe:t===""?yc.cancelAnimationFrame:yc["".concat(t,"CancelAnimationFrame")]||yc["".concat(t,"CancelRequestAnimationFrame")]},HIe=function(t,n){for(var r=0;t[r]!==void 0;){if(n(t[r]))return t[r];r+=1}},fG=HIe(zIe,function(e){return!!uG(e)}),dG=uG(fG),GIe=UIe(fG);yc.requestAnimationFrame=dG;yc.cancelAnimationFrame=GIe;var WIe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],VIe=/([\"\'])[^\'\"]+\1/;function YIe(e){for(var t=e.fontSize,n=t===void 0?16:t,r=e.fontFamily,a=r===void 0?"sans-serif":r,i=e.fontStyle,o=i===void 0?"normal":i,s=e.fontVariant,l=s===void 0?"normal":s,c=e.fontWeight,u=c===void 0?"normal":c,f=kn(n)&&"".concat(n,"px")||"16px",d=a.split(","),h=d.length-1;h>=0;h--){var p=d[h].trim();!VIe.test(p)&&WIe.indexOf(p)<0&&(p='"'.concat(p,'"')),d[h]=p}return"".concat(o," ").concat(l," ").concat(u," ").concat(f," ").concat(d.join(","))}function UE(e,t,n){return as(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var ha=Dt(),XIe=Dt(),qIe={scale:function(t){Ko(ha,[t[0].value,t[1].value,1])},scaleX:function(t){Ko(ha,[t[0].value,1,1])},scaleY:function(t){Ko(ha,[1,t[0].value,1])},scaleZ:function(t){Ko(ha,[1,1,t[0].value])},scale3d:function(t){Ko(ha,[t[0].value,t[1].value,t[2].value])},translate:function(t){Wi(ha,[t[0].value,t[1].value,0])},translateX:function(t){Wi(ha,[t[0].value,0,0])},translateY:function(t){Wi(ha,[0,t[0].value,0])},translateZ:function(t){Wi(ha,[0,0,t[0].value])},translate3d:function(t){Wi(ha,[t[0].value,t[1].value,t[2].value])},rotate:function(t){R1(ha,or(No(t[0])))},rotateX:function(t){n3(ha,or(No(t[0])))},rotateY:function(t){r3(ha,or(No(t[0])))},rotateZ:function(t){R1(ha,or(No(t[0])))},rotate3d:function(t){t3(ha,or(No(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){UE(ha,or(t[0].value),or(t[1].value))},skewX:function(t){UE(ha,or(t[0].value),0)},skewY:function(t){UE(ha,0,or(t[0].value))},matrix:function(t){I1(ha,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){I1.apply(F$,[ha].concat(_t(t.map(function(n){return n.value}))))}},KIe=Ot(1,1,1),ZIe=Et(),E5={translate:function(t,n){et.sceneGraphService.setLocalScale(t,KIe,!1),et.sceneGraphService.setLocalEulerAngles(t,ZIe,void 0,void 0,!1),et.sceneGraphService.setLocalPosition(t,[n[0].value,n[1].value,0],!1),et.sceneGraphService.dirtifyLocal(t,t.transformable)}};function QIe(e,t){if(e.length){if(e.length===1&&E5[e[0].t]){E5[e[0].t](t,e[0].d);return}for(var n=as(XIe),r=0;r<e.length;r++){var a=e[r],i=a.t,o=a.d,s=qIe[i];s&&(s(o),qb(n,n,ha))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var JIe=function(){function e(){ve(this,e),this.parser=nIe,this.mixer=fIe}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof Fl?[]:a}},{key:"postProcessor",value:function(n){QIe(n.parsedStyle.transform,n)}}])}(),e6e=function(){function e(){ve(this,e)}return ge(e,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===at.kPixels&&r[1].unit===at.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])}(),t6e=function(){function e(){ve(this,e)}return ge(e,[{key:"calculator",value:function(n,r,a,i){return a.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,a=r.renderable,i=r.sortable;a&&(a.dirty=!0),i&&(i.dirty=!0,i.dirtyReason=xk.Z_INDEX_CHANGED)}}}])}(),n6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.r,c=l===void 0?0:l;return{cx:i,cy:s,hwidth:c,hheight:c}}}])}(),r6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.rx,c=l===void 0?0:l,u=n.ry,f=u===void 0?0:u;return{cx:i,cy:s,hwidth:c,hheight:f}}}])}(),a6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){var r=n.x1,a=n.y1,i=n.x2,o=n.y2,s=Math.min(r,i),l=Math.max(r,i),c=Math.min(a,o),u=Math.max(a,o),f=l-s,d=u-c,h=f/2,p=d/2;return{cx:s+h,cy:c+p,hwidth:h,hheight:p}}}])}(),i6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){var r=n.d,a=r.rect,i=a.x,o=a.y,s=a.width,l=a.height,c=s/2,u=l/2;return{cx:i+c,cy:o+u,hwidth:c,hheight:u}}}])}(),o6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n){if(n.points&&di(n.points.points)){var r=n.points.points,a=Math.min.apply(Math,_t(r.map(function(d){return d[0]}))),i=Math.max.apply(Math,_t(r.map(function(d){return d[0]}))),o=Math.min.apply(Math,_t(r.map(function(d){return d[1]}))),s=Math.max.apply(Math,_t(r.map(function(d){return d[1]}))),l=i-a,c=s-o,u=l/2,f=c/2;return{cx:a+u,cy:o+f,hwidth:u,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),s6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.src,c=n.width,u=c===void 0?0:c,f=n.height,d=f===void 0?0:f,h=u,p=d;return l&&!In(l)&&(h||(h=l.width,n.width=h),p||(p=l.height,n.height=p)),{cx:i+h/2,cy:s+p/2,hwidth:h/2,hheight:p/2}}}])}(),l6e=function(){function e(t){ve(this,e),this.globalRuntime=t}return ge(e,[{key:"isReadyToMeasure",value:function(n,r){var a=n.text;return a}},{key:"update",value:function(n,r){var a,i=n.text,o=n.textAlign,s=o===void 0?"start":o,l=n.lineWidth,c=l===void 0?1:l,u=n.textBaseline,f=u===void 0?"alphabetic":u,d=n.dx,h=d===void 0?0:d,p=n.dy,v=p===void 0?0:p,g=n.x,m=g===void 0?0:g,y=n.y,x=y===void 0?0:y;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var b=(r==null||(a=r.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0?void 0:a.getConfig())||{},E=b.offscreenCanvas,_=this.globalRuntime.textService.measureText(i,n,E);n.metrics=_;var w=_.width,A=_.height,S=w/2,k=A/2,T=m+S;s==="center"||s==="middle"?T+=c/2-S:(s==="right"||s==="end")&&(T+=c-S*2);var O=x-k;return f==="middle"?O+=k:f==="top"||f==="hanging"?O+=k*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(O+=0),h&&(T+=h),v&&(O+=v),{cx:T,cy:O,hwidth:S,hheight:k}}}])}(),c6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),u6e=function(){function e(){ve(this,e)}return ge(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.width,c=l===void 0?0:l,u=n.height,f=u===void 0?0:u;return{cx:i+c/2,cy:s+f/2,hwidth:c/2,hheight:f/2}}}])}(),Sw=function(){function e(t){ve(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Cs,this.page=new Cs,this.canvas=new Cs,this.viewport=new Cs,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return ge(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(ir)}}])}(),hG=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.client=new Cs,n.movement=new Cs,n.offset=new Cs,n.global=new Cs,n.screen=new Cs,n}return ft(t,e),ge(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(ir)}}])}(Sw),f6e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.width=0,n.height=0,n.isPrimary=!1,n}return ft(t,e),ge(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(hG),d6e=function(e){function t(){return ve(this,t),ut(this,t,arguments)}return ft(t,e),ge(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(hG),Ma=function(e){function t(n,r){var a;return ve(this,t),a=ut(this,t,[null]),a.type=n,a.detail=r,Object.assign(a,r),a}return ft(t,e),ge(t)}(Sw),S5=new WeakMap,h6e=function(){function e(){ve(this,e),this.emitter=new hw}return ge(e,[{key:"on",value:function(n,r,a){return this.addEventListener(n,r,a),this}},{key:"addEventListener",value:function(n,r,a){var i=!1,o=!1;if(Qx(a))i=a;else if(a){var s=a.capture;i=s===void 0?!1:s;var l=a.once;o=l===void 0?!1:l}i&&(n+="capture"),r=ta(r)?r:r.handleEvent;var c=ta(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,a){return n?this.removeEventListener(n,r,a):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,a){var i;if(!this.emitter)return this;var o=Qx(a)?a:a==null?void 0:a.capture;o&&(n+="capture"),r=ta(r)?r:(i=r)===null||i===void 0?void 0:i.handleEvent;var s=ta(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new Ma(n,r))}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=S5.get(this);if(!a){var i;this.document?a=this:this.defaultView?a=this.defaultView:a=(i=this.ownerDocument)===null||i===void 0?void 0:i.defaultView,a&&S5.set(this,a)}if(a){if(n.manager=a.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.emitter.emit(n.type,n);return!n.defaultPrevented}}])}(),d0=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n}return ft(t,e),ge(t,[{key:"textContent",get:function(){var r="";this.nodeName===Tt.TEXT&&(r+=this.style.text);var a=Zo(this.childNodes),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o.nodeName===Tt.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){a.e(s)}finally{a.f()}return r},set:function(r){var a=this;this.childNodes.slice().forEach(function(i){a.removeChild(i)}),this.nodeName===Tt.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(ir)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(ir)}},{key:"lookupPrefix",value:function(r){throw new Error(ir)}},{key:"normalize",value:function(){throw new Error(ir)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var a=r,i=this,o=[a],s=[i];(l=a.parentNode)!==null&&l!==void 0?l:i.parentNode;){var l;a=a.parentNode?(o.push(a.parentNode),a.parentNode):a,i=i.parentNode?(s.push(i.parentNode),i.parentNode):i}if(a!==i)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,u=c===o?s:o;if(c[c.length-u.length]===u[0])return c===o?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=c.length-u.length,d=u.length-1;d>=0;d--){var h=u[d],p=c[f+d];if(p!==h){var v=h.parentNode.childNodes;return v.indexOf(h)<v.indexOf(p)?u===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:c===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var a=r;a&&this!==a;)a=a.parentNode;return!!a}},{key:"getAncestor",value:function(r){for(var a=this;r>0&&a;)a=a.parentNode,r--;return a}},{key:"forEach",value:function(r){for(var a=[this];a.length>0;){var i=a.pop(),o=r(i);if(o===!1)break;for(var s=i.childNodes.length-1;s>=0;s--)a.push(i.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(h6e);d0.DOCUMENT_POSITION_DISCONNECTED=1;d0.DOCUMENT_POSITION_PRECEDING=2;d0.DOCUMENT_POSITION_FOLLOWING=4;d0.DOCUMENT_POSITION_CONTAINS=8;d0.DOCUMENT_POSITION_CONTAINED_BY=16;d0.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var p6e=function(){function e(){ve(this,e)}return ge(e,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||et.offscreenCanvas)this.canvas=n||et.offscreenCanvas,this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",bt({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),v6e=/\[\s*(.*)=(.*)\s*\]/,g6e=function(){function e(){ve(this,e)}return ge(e,[{key:"selectOne",value:function(n,r){var a=this;if(n.startsWith("."))return r.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(l){return l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===n})}},{key:"selectAll",value:function(n,r){var a=this;if(n.startsWith("."))return r.findAll(function(l){return r!==l&&((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var a=this.getAttribute(n),i=a.name,o=a.value;return i==="name"?r.name===o:this.attributeToString(r,i)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(v6e),a="",i="";return r&&r.length>2&&(a=r[1].replace(/"/g,""),i=r[2].replace(/"/g,"")),{name:a,value:i}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var a=n.getAttribute(r);return lt(a)?"":a.toString?a.toString():""}}])}(),Or=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),Oc=function(e){function t(n,r,a,i,o,s,l,c){var u;return ve(this,t),u=ut(this,t,[null]),u.relatedNode=r,u.prevValue=a,u.newValue=i,u.attrName=o,u.attrChange=s,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return ft(t,e),ge(t)}(Sw);Oc.ADDITION=2;Oc.MODIFICATION=1;Oc.REMOVAL=3;function A5(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}var m6e=new Oc(Or.REPARENT,null,"","","",0,"",""),y6e=Ng(),fy=Et(),x6e=Ot(1,1,1),b6e=Dt(),w6e=Ng(),Cu=Et(),T0=Dt(),Mu=vn(),_6e=Et(),E6e=vn(),S6e=Et(),Jp=Et(),Gf=Et(),dy=Dt(),k5=vn(),T5=vn(),hy=vn(),HE={affectChildren:!0},A6e=function(){function e(t){ve(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Ma(Or.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return ge(e,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,a){var i,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===Tt.FRAGMENT,l=kk(r);n.parentNode=r;var c=s?n.childNodes:[n];kn(a)?c.forEach(function(h){r.childNodes.splice(a,0,h),h.parentNode=r}):c.forEach(function(h){r.childNodes.push(h),h.parentNode=r});var u=r,f=u.sortable;if((f!=null&&(i=f.sorted)!==null&&i!==void 0&&i.length||n.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(n)===-1&&f.dirtyChildren.push(n),f.dirty=!0,f.dirtyReason=xk.ADDED),!l){if(s)this.dirtifyFragment(n);else{var d=n.transformable;d&&this.dirtifyWorld(n,d)}o&&n.dispatchEvent(m6e)}}},{key:"detach",value:function(n){if(n.parentNode){var r,a,i=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(a=n.style)!==null&&a!==void 0&&a.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=xk.REMOVED);var l=n.parentNode.childNodes.indexOf(n);l>-1&&n.parentNode.childNodes.splice(l,1),i&&this.dirtifyWorld(n,i),n.parentNode=null}}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"setOrigin",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,a,i]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtifyLocal(n,o)}}},{key:"rotate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=Mu;Wu(s,r[0],r[1],r[2]);var l=this.getRotation(n),c=this.getRotation(n.parentNode);Vu(hy,c),ih(hy,hy),wo(s,hy,s),wo(o.localRotation,s,l),Fh(o.localRotation,o.localRotation),this.dirtifyLocal(n,o)}}},{key:"rotateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;Wu(T5,r[0],r[1],r[2]),r2(o.localRotation,o.localRotation,T5),this.dirtifyLocal(n,o)}},{key:"setEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{Wu(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);Vu(k5,ih(Mu,s)),r2(o.localRotation,o.localRotation,k5),this.dirtifyLocal(n,o)}}},{key:"setLocalEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=Ot(r,a,i));var s=n.transformable;Wu(s.localRotation,r[0],r[1],r[2]),o&&this.dirtifyLocal(n,s)}},{key:"translateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ot(r,a,i));var o=n.transformable;ac(r,fy)||(z$(r,r,o.localRotation),Ki(o.localPosition,o.localPosition,r),this.dirtifyLocal(n,o))}},{key:"setPosition",value:function(n,r){var a,i=n.transformable;if(Gf[0]=r[0],Gf[1]=r[1],Gf[2]=(a=r[2])!==null&&a!==void 0?a:0,!ac(this.getPosition(n),Gf)){if(Ia(i.position,Gf),n.parentNode===null||!n.parentNode.transformable)Ia(i.localPosition,Gf);else{var o=n.parentNode.transformable;pu(dy,o.worldTransform),Ga(dy,dy),sr(i.localPosition,Gf,dy)}this.dirtifyLocal(n,i)}}},{key:"setLocalPosition",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Jp[0]=r[0],Jp[1]=r[1],Jp[2]=(a=r[2])!==null&&a!==void 0?a:0,!ac(o.localPosition,Jp)&&(Ia(o.localPosition,Jp),i&&this.dirtifyLocal(n,o))}},{key:"scaleLocal",value:function(n,r){var a,i=n.transformable;B$(i.localScale,i.localScale,lr(Cu,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:1)),this.dirtifyLocal(n,i)}},{key:"setLocalScale",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;lr(Cu,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:o.localScale[2]),!ac(Cu,o.localScale)&&(Ia(o.localScale,Cu),i&&this.dirtifyLocal(n,o))}},{key:"translate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=lr(Cu,r,a,i)),!ac(r,fy)&&(Ki(Cu,this.getPosition(n),r),this.setPosition(n,Cu))}},{key:"setRotation",value:function(n,r,a,i,o){var s=n.transformable;if(typeof r=="number"&&(r=H$(r,a,i,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var l=this.getRotation(n.parentNode);Vu(Mu,l),ih(Mu,Mu),wo(s.localRotation,Mu,r),Fh(s.localRotation,s.localRotation),this.dirtifyLocal(n,s)}}},{key:"setLocalRotation",value:function(n,r,a,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=n2(Mu,r,a,i,o));var l=n.transformable;Vu(l.localRotation,r),s&&this.dirtifyLocal(n,l)}},{key:"setLocalSkew",value:function(n,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=W$(w6e,r,a));var o=n.transformable;G$(o.localSkew,r),i&&this.dirtifyLocal(n,o)}},{key:"dirtifyLocal",value:function(n,r){kk(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtifyWorld(n,r))}},{key:"dirtifyWorld",value:function(n,r){r.dirtyFlag||this.unfreezeParentToRoot(n),this.dirtifyWorldInternal(n,r),this.dirtifyToRoot(n,!0)}},{key:"dirtifyFragment",value:function(n){var r=n.transformable;r&&(r.frozen=!1,r.dirtyFlag=!0,r.localDirtyFlag=!0);var a=n.renderable;a&&(a.renderBoundsDirty=!0,a.boundsDirty=!0,a.dirty=!0);for(var i=n.childNodes.length,o=0;o<i;o++)this.dirtifyFragment(n.childNodes[o]);n.nodeName===Tt.FRAGMENT&&this.pendingEvents.set(n,!1)}},{key:"triggerPendingEvents",value:function(){var n=this,r=new Set,a=function(o,s){!o.isConnected||r.has(o)||o.nodeName===Tt.FRAGMENT||(n.boundsChangedEvent.detail=s,n.boundsChangedEvent.target=o,o.isMutationObserved?o.dispatchEvent(n.boundsChangedEvent):o.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0),r.add(o))};this.pendingEvents.forEach(function(i,o){o.nodeName!==Tt.FRAGMENT&&(HE.affectChildren=i,i?o.forEach(function(s){a(s,HE)}):a(o,HE))}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n;for(a.renderable&&(a.renderable.dirty=!0);a;)A5(a),a=a.parentNode;r&&n.forEach(function(i){A5(i)}),this.informDependentDisplayObjects(n),this.pendingEvents.set(n,r)}},{key:"updateDisplayObjectDependency",value:function(n,r,a,i){if(r&&r!==a){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(i);o[n].splice(s,1)}}if(a){var l=this.displayObjectDependencyMap.get(a);l||(this.displayObjectDependencyMap.set(a,{}),l=this.displayObjectDependencyMap.get(a)),l[n]||(l[n]=[]),l[n].push(i)}}},{key:"informDependentDisplayObjects",value:function(n){var r=this,a=this.displayObjectDependencyMap.get(n);a&&Object.keys(a).forEach(function(i){a[i].forEach(function(o){r.dirtifyToRoot(o,!0),o.dispatchEvent(new Oc(Or.ATTR_MODIFIED,o,r,r,i,Oc.MODIFICATION,r,r)),o.isCustomElement&&o.isConnected&&o.attributeChangedCallback&&o.attributeChangedCallback(i,r,r)})})}},{key:"getPosition",value:function(n){var r=n.transformable;return Id(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return Rd(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return Sc(r.scaling,this.getWorldTransform(n,r))}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.sync(n,r)),r.worldTransform}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"calcLocalTransform",value:function(n){var r=n.localSkew[0]!==0||n.localSkew[1]!==0;if(r){iu(n.localTransform,n.localRotation,n.localPosition,Ot(1,1,1),n.origin),(n.localSkew[0]!==0||n.localSkew[1]!==0)&&(as(T0),T0[4]=Math.tan(n.localSkew[0]),T0[1]=Math.tan(n.localSkew[1]),Ur(n.localTransform,n.localTransform,T0));var a=iu(T0,n2(Mu,0,0,0,1),lr(Cu,1,1,1),n.localScale,n.origin);Ur(n.localTransform,n.localTransform,a)}else{var i=n.localTransform,o=n.localPosition,s=n.localRotation,l=n.localScale,c=n.origin,u=o[0]!==0||o[1]!==0||o[2]!==0,f=s[3]!==1||s[0]!==0||s[1]!==0||s[2]!==0,d=l[0]!==1||l[1]!==1||l[2]!==1,h=c[0]!==0||c[1]!==0||c[2]!==0;!f&&!d&&!h?u?Wi(i,o):as(i):iu(i,s,o,l,c)}}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.localTransform}},{key:"setLocalTransform",value:function(n,r){var a=Id(_6e,r),i=Rd(E6e,r),o=Sc(S6e,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,a,!1),this.setLocalRotation(n,i,void 0,void 0,void 0,!1),this.dirtifyLocal(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,x6e,!1),this.setLocalPosition(n,fy,!1),this.setLocalEulerAngles(n,fy,void 0,void 0,!1),this.setLocalSkew(n,y6e,void 0,!1),this.dirtifyLocal(n,n.transformable)}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0,i=this.getGeometryBounds(n,r);if(!Po.isEmpty(i)){var o=a||new Po;return o.setFromTransformedAABB(i,this.getWorldTransform(n)),o}return null}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,i=a.geometry;i.dirty&&et.styleValueRegistry.updateGeometry(n);var o=r?i.renderBounds:i.contentBounds||null;return o||new Po}},{key:"getBounds",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,o=i.renderable;if(!o.boundsDirty&&!a&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&a&&o.renderBounds)return o.renderBounds;var s=a?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(n,a,s),c=n.childNodes;if(c.forEach(function(d){var h=r.getBounds(d,a);h&&(l?l.add(h):(l=s||new Po,l.update(h.center,h.halfExtents)))}),l||(l=new Po),a){var u=PIe(n);if(u){var f=u.parsedStyle.clipPath.getBounds(a);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return a?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=b6e;n.parentNode.transformable&&(r=Ga(T0,this.getWorldTransform(n.parentNode)));var a=this.getBounds(n);if(!Po.isEmpty(a)){var i=new Po;return i.setFromTransformedAABB(a,r),i}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,a,i=this.getGeometryBounds(n);Po.isEmpty(i)||(a=new Po,a.setFromTransformedAABB(i,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(a){var s=a.getMin(),l=ct(s,2),c=l[0],u=l[1],f=a.getMax(),d=ct(f,2),h=d[0],p=d[1];return new Kh(c+((o==null?void 0:o.left)||0),u+((o==null?void 0:o.top)||0),h-c,p-u)}return new Kh((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(n,r){var a=this;if(!r.dirtyFlag){r.dirtyFlag=!0,r.frozen=!1,n.childNodes.forEach(function(s){var l=s.transformable;l.dirtyFlag||a.dirtifyWorldInternal(s,l)});var i=n,o=i.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}}},{key:"syncHierarchy",value:function(n){var r=n.transformable;if(!r.frozen){r.frozen=!0,(r.localDirtyFlag||r.dirtyFlag)&&this.sync(n,r);for(var a=n.childNodes,i=0;i<a.length;i++)this.syncHierarchy(a[i])}}},{key:"sync",value:function(n,r){if(r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.dirtyFlag){var a=n.parentNode,i=a&&a.transformable;a===null||!i?pu(r.worldTransform,r.localTransform):Ur(r.worldTransform,i.worldTransform,r.localTransform),r.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(n){for(var r=n.parentNode;r;){var a=r.transformable;a&&(a.frozen=!1),r=r.parentNode}}}])}(),Wf={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},O5=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,k6e=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,T6e=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,O6e=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,C6e=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,M6e=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,P6e=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,I6e=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,R6e=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,N6e=new RegExp("".concat(k6e.source,"|").concat(O6e.source,"|").concat(M6e.source,"|").concat(I6e.source)),D6e=new RegExp("".concat(T6e.source,"|").concat(C6e.source,"|").concat(P6e.source,"|").concat(R6e.source)),L6e=function(){function e(t){var n=this;ve(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,a){return n.isBreakingSpace(a)?!1:!!(r&&(D6e.exec(a)||N6e.exec(r)))},this.trimByKinsokuShorui=function(r){var a=_t(r),i=a[a.length-2];if(!i)return r;var o=i[i.length-1];return a[a.length-2]=i.slice(0,-1),a[a.length-1]=o+a[a.length-1],a},this.runtime=t}return ge(e,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var a={ascent:0,descent:0,fontSize:0},i=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=Wf.MetricsString+Wf.BaselineSymbol,l=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(Wf.BaselineSymbol).width),u=Wf.HeightMultiplier*c;c=c*Wf.BaselineMultiplier|0,i.width=l,i.height=u,o.fillStyle="#f00",o.fillRect(0,0,l,u),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var f=o.getImageData(0,0,l||1,u||1).data,d=f.length,h=l*4,p=0,v=0,g=!1;for(p=0;p<c;++p){for(var m=0;m<h;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=h;else break}for(a.ascent=c-p,v=d-h,g=!1,p=u;p>c;--p){for(var y=0;y<h;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=h;else break}return a.descent=p-c,a.fontSize=a.ascent+a.descent,this.fontMetricsCache[n]=a,a}},{key:"measureText",value:function(n,r,a){var i=r.fontSize,o=i===void 0?16:i,s=r.wordWrap,l=s===void 0?!1:s,c=r.lineHeight,u=r.lineWidth,f=u===void 0?1:u,d=r.textBaseline,h=d===void 0?"alphabetic":d,p=r.textAlign,v=p===void 0?"start":p,g=r.letterSpacing,m=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var x=r.leading,b=x===void 0?0:x,E=YIe(r),_=this.measureFont(E,a);_.fontSize===0&&(_.fontSize=o,_.ascent=o);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(a);w.font=E,r.isOverflowing=!1;var A=l?this.wordWrap(n,r,a):n,S=A.split(/(?:\r\n|\r|\n)/),k=new Array(S.length),T=0;if(y){y.getTotalLength();for(var O=0;O<S.length;O++)w.measureText(S[O]).width+(S[O].length-1)*m}else{for(var C=0;C<S.length;C++){var M=w.measureText(S[C]).width+(S[C].length-1)*m;k[C]=M,T=Math.max(T,M)}var R=T+f,I=c||_.fontSize+f,P=Math.max(I,_.fontSize+f)+(S.length-1)*(I+b);I+=b;var B=0;return h==="middle"?B=-P/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?B=-P:(h==="top"||h==="hanging")&&(B=0),{font:E,width:R,height:P,lines:S,lineWidths:k,lineHeight:I,maxLineWidth:T,fontProperties:_,lineMetrics:k.map(function(N,V){var W=0;return v==="center"||v==="middle"?W-=N/2:(v==="right"||v==="end")&&(W-=N),new Kh(W-f/2,B+V*I,N+f,I)})}}}},{key:"wordWrap",value:function(n,r,a){var i=this,o=this,s=r.wordWrapWidth,l=s===void 0?0:s,c=r.letterSpacing,u=c===void 0?0:c,f=r.maxLines,d=f===void 0?1/0:f,h=r.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(a),v=l+u,g="";h==="ellipsis"?g="...":h&&h!=="clip"&&(g=h);var m=Array.from(n),y=[],x=0,b=0,E=0,_={},w=function(B){return i.getFromCache(B,u,_,p)},A=w(g);function S(P,B,N,V){for(;w(P)<V&&B<m.length-1&&!o.isNewline(m[B+1]);)B+=1,P+=m[B];for(;w(P)>V&&B>N;)B-=1,P=P.slice(0,-1);return{lineTxt:P,txtLastCharIndex:B}}function k(P,B){if(!(A<=0||A>v)){if(!y[P]){y[P]=g;return}var N=S(y[P],B,E+1,v-A);y[P]=N.lineTxt+g}}for(var T=0;T<m.length;T++){var O=m[T],C=m[T-1],M=m[T+1],R=w(O);if(this.isNewline(O)){if(x+1>=d){r.isOverflowing=!0,T<m.length-1&&k(x,T-1);break}E=T-1,x+=1,b=0,y[x]="";continue}if(b>0&&b+R>v){var I=S(y[x],T-1,E+1,v);if(I.txtLastCharIndex!==T-1){if(y[x]=I.lineTxt,I.txtLastCharIndex===m.length-1)break;T=I.txtLastCharIndex+1,O=m[T],C=m[T-1],M=m[T+1],R=w(O)}if(x+1>=d){r.isOverflowing=!0,k(x,T-1);break}if(E=T-1,x+=1,b=0,y[x]="",this.isBreakingSpace(O))continue;this.canBreakInLastChar(O)||(y=this.trimToBreakable(y),b=this.sumTextWidthByCache(y[x]||"",w)),this.shouldBreakByKinsokuShorui(O,M)&&(y=this.trimByKinsokuShorui(y),b+=w(C||""))}b+=R,y[x]=(y[x]||"")+O}return y.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:Wf.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:Wf.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=_t(n),a=r[r.length-2],i=this.findBreakableIndex(a);if(i===-1||!a)return r;var o=a.slice(i,i+1),s=this.isBreakingSpace(o),l=i+1,c=i+(s?0:1);return r[r.length-1]+=a.slice(l,a.length),r[r.length-2]=a.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&O5.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(a,i){return a+r(i)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!O5.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,a,i){var o=a[n];if(typeof o!="number"){var s=n.length*r,l=i.measureText(n);o=l.width+s,a[n]=o}return o}}])}(),et={},F6e=function(e){var t=new s6e,n=new o6e;return e={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Tt.FRAGMENT,null),Tt.CIRCLE,new n6e),Tt.ELLIPSE,new r6e),Tt.RECT,t),Tt.IMAGE,t),Tt.GROUP,new c6e),Tt.LINE,new a6e),Tt.TEXT,new l6e(et)),Tt.POLYLINE,n),Tt.POLYGON,n),Be(Be(Be(e,Tt.PATH,new i6e),Tt.HTML,new u6e),Tt.MESH,null)}(),B6e=function(e){var t=new yIe,n=new Ak;return e={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Je.PERCENTAGE,null),Je.NUMBER,new EIe),Je.ANGLE,new gIe),Je.DEFINED_PATH,new mIe),Je.PAINT,t),Je.COLOR,t),Je.FILTER,new xIe),Je.LENGTH,n),Je.LENGTH_PERCENTAGE,n),Je.LENGTH_PERCENTAGE_12,new bIe),Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(e,Je.LENGTH_PERCENTAGE_14,new wIe),Je.COORDINATE,new Ak),Je.OFFSET_DISTANCE,new SIe),Je.OPACITY_VALUE,new AIe),Je.PATH,new kIe),Je.LIST_OF_POINTS,new TIe),Je.SHADOW_BLUR,new OIe),Je.TEXT,new CIe),Je.TEXT_TRANSFORM,new MIe),Je.TRANSFORM,new JIe),Be(Be(Be(e,Je.TRANSFORM_ORIGIN,new e6e),Je.Z_INDEX,new t6e),Je.MARKER,new _Ie)}(),$6e=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};et.CameraContribution=WH;et.AnimationTimeline=null;et.EasingFunction=null;et.offscreenCanvasCreator=new p6e;et.sceneGraphSelector=new g6e;et.sceneGraphService=new A6e(et);et.textService=new L6e(et);et.geometryUpdaterFactory=F6e;et.CSSPropertySyntaxFactory=B6e;et.styleValueRegistry=new pIe(et);et.layoutRegistry=null;et.globalThis=$6e();et.enableStyleSyntax=!0;et.enableSizeAttenuation=!1;var j6e=0,C5=new Oc(Or.INSERTED,null,"","","",0,"",""),M5=new Oc(Or.REMOVED,null,"","","",0,"",""),z6e=new Ma(Or.DESTROY),U6e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.entity=j6e++,n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.cullable={strategy:KPe.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.destroyed=!1,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return ft(t,e),ge(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(ir)}},{key:"appendChild",value:function(r,a){var i;if(r.destroyed)throw new Error(BPe);return et.sceneGraphService.attach(r,this,a),(i=this.ownerDocument)!==null&&i!==void 0&&i.defaultView&&(!kk(this)&&r.nodeName===Tt.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(C5.relatedNode=this,r.dispatchEvent(C5)),r}},{key:"insertBefore",value:function(r,a){if(!a)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var i=this.childNodes.indexOf(a);i===-1?this.appendChild(r):this.appendChild(r,i)}return r}},{key:"replaceChild",value:function(r,a){var i=this.childNodes.indexOf(a);return this.removeChild(a),this.appendChild(r,i),a}},{key:"removeChild",value:function(r){var a;return M5.relatedNode=this,r.dispatchEvent(M5),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),et.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];this.removeChild(a)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];a.childNodes.length>0&&a.destroyChildren(),a.destroy()}}},{key:"matches",value:function(r){return et.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return et.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return et.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return et.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return et.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return et.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return et.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var a=this;do{if(et.sceneGraphService.matches(r,a))return a;a=a.parentElement}while(a!==null);return null}},{key:"find",value:function(r){var a=this,i=null;return this.forEach(function(o){return o!==a&&r(o)?(i=o,!1):!0}),i}},{key:"findAll",value:function(r){var a=this,i=[];return this.forEach(function(o){o!==a&&r(o)&&i.push(o)}),i}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.forEach(function(l,c){var u;return(u=r.parentNode)===null||u===void 0?void 0:u.appendChild(l,a+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],c=o.slice(1);this.parentNode.appendChild(l,a),(r=l).after.apply(r,_t(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(z6e),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return et.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return et.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return et.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return et.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return et.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var a=this.attributes[r];return a}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,a,i,o){this.attributes[r]=a}},{key:"getAttributeNS",value:function(r,a){throw new Error(ir)}},{key:"getAttributeNode",value:function(r){throw new Error(ir)}},{key:"getAttributeNodeNS",value:function(r,a){throw new Error(ir)}},{key:"hasAttributeNS",value:function(r,a){throw new Error(ir)}},{key:"removeAttributeNS",value:function(r,a){throw new Error(ir)}},{key:"removeAttributeNode",value:function(r){throw new Error(ir)}},{key:"setAttributeNS",value:function(r,a,i){throw new Error(ir)}},{key:"setAttributeNode",value:function(r){throw new Error(ir)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(ir)}},{key:"toggleAttribute",value:function(r,a){throw new Error(ir)}}])}(d0);function yr(e){return!!(e!=null&&e.nodeName)}var H6e=et.globalThis.Proxy?et.globalThis.Proxy:function(){},zc=new Oc(Or.ATTR_MODIFIED,null,null,null,null,Oc.MODIFICATION,null,null),ev=Et(),G6e=vn(),Gr=function(e){function t(n){var r;return ve(this,t),r=ut(this,t),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||Tt.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),et.enableStyleSyntax&&(r.style=new H6e({setProperty:function(i,o){r.setAttribute(i,o)},getPropertyValue:function(i){return r.getAttribute(i)},removeProperty:function(i){r.removeAttribute(i)},item:function(){return""}},{get:function(i,o){return i[o]!==void 0?i[o]:r.getAttribute(o)},set:function(i,o,s){return r.setAttribute(o,s),!0}})),r}return ft(t,e),ge(t,[{key:"destroy",value:function(){p2(t,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,a){var i=bt({},this.attributes);for(var o in i){var s=i[o];yr(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(i[o]=s.cloneNode(r)),a&&(i[o]=a(o,s))}var l=new this.constructor(bt(bt({},this.config),{},{style:i}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var u=c.cloneNode(r);l.appendChild(u)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={forceUpdateGeometry:!0};et.styleValueRegistry.processProperties(this,r,a),this.renderable.dirty=!0}},{key:"setAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;Rt(a)||(i||a!==this.attributes[r])&&(this.internalSetAttribute(r,a,{memoize:o}),p2(t,"setAttribute",this)([r,a]))}},{key:"internalSetAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.renderable,s=this.attributes[r],l=this.parsedStyle[r];et.styleValueRegistry.processProperties(this,Be({},r,a),i),o.dirty=!0;var c=this.parsedStyle[r];if(this.isConnected&&(zc.relatedNode=this,zc.prevValue=s,zc.newValue=a,zc.attrName=r,zc.prevParsedValue=l,zc.newParsedValue=c,this.isMutationObserved?this.dispatchEvent(zc):(zc.target=this,this.ownerDocument.defaultView.dispatchEvent(zc,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var u,f;(u=(f=this).attributeChangedCallback)===null||u===void 0||u.call(f,r,s,a,l,c)}}},{key:"getBBox",value:function(){var r=this.getBounds(),a=r.getMin(),i=ct(a,2),o=i[0],s=i[1],l=r.getMax(),c=ct(l,2),u=c[0],f=c[1];return new Kh(o,s,u-o,f-s)}},{key:"setOrigin",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return et.sceneGraphService.setOrigin(this,fo(r,a,i,!1)),this}},{key:"getOrigin",value:function(){return et.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return et.sceneGraphService.setPosition(this,fo(r,a,i,!1)),this}},{key:"setLocalPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return et.sceneGraphService.setLocalPosition(this,fo(r,a,i,!1)),this}},{key:"translate",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return et.sceneGraphService.translate(this,fo(r,a,i,!1)),this}},{key:"translateLocal",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return et.sceneGraphService.translateLocal(this,fo(r,a,i,!1)),this}},{key:"getPosition",value:function(){return et.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return et.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,a,i){return this.scaleLocal(r,a,i)}},{key:"scaleLocal",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=fo(r,a,i,!1)),et.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=fo(r,a,i,!1)),et.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return et.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return et.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=DE(ev,et.sceneGraphService.getWorldTransform(this)),a=ct(r,3),i=a[2];return ks(i)}},{key:"getLocalEulerAngles",value:function(){var r=DE(ev,et.sceneGraphService.getLocalRotation(this)),a=ct(r,3),i=a[2];return ks(i)}},{key:"setEulerAngles",value:function(r){return et.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return et.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,a,i){return lt(a)&&lt(i)?et.sceneGraphService.rotateLocal(this,0,0,r):et.sceneGraphService.rotateLocal(this,r,a,i),this}},{key:"rotate",value:function(r,a,i){return lt(a)&&lt(i)?et.sceneGraphService.rotate(this,0,0,r):et.sceneGraphService.rotate(this,r,a,i),this}},{key:"setRotation",value:function(r,a,i,o){return et.sceneGraphService.setRotation(this,r,a,i,o),this}},{key:"setLocalRotation",value:function(r,a,i,o){return et.sceneGraphService.setLocalRotation(this,r,a,i,o),this}},{key:"setLocalSkew",value:function(r,a){return et.sceneGraphService.setLocalSkew(this,r,a),this}},{key:"getRotation",value:function(){return et.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return et.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return et.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return et.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return et.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return et.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){et.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,a){var i,o=(i=this.ownerDocument)===null||i===void 0?void 0:i.timeline;return o?o.play(this,r,a):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,_t(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,_t(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=i[0],l=i[1];return s?yp(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):i.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var a=r||this.getWorldTransform(),i=Id(ev,a),o=ct(i,2),s=o[0],l=o[1],c=Sc(ev,a),u=ct(c,2),f=u[0],d=u[1],h=Rd(G6e,a),p=DE(ev,h),v=ct(p,3),g=v[0],m=v[2];return GPe(g||m,s,l,f,d)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var a=Z6(r),i=ct(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setEulerAngles(u).setPosition(o,s).setLocalScale(l,c)}},{key:"setLocalMatrix",value:function(r){var a=Z6(r),i=ct(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setLocalEulerAngles(u).setLocalPosition(o,s).setLocalScale(l,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,a){return this.appendChild(r,a)}},{key:"set",value:function(r,a){this.config[r]=a}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"move",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(U6e);Gr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var mC=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Tt.CIRCLE},n)])}return ft(t,e),ge(t)}(Gr);mC.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var W6e=["style"],pG=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,W6e);return ve(this,t),n=ut(this,t,[bt({style:a},i)]),n.isCustomElement=!0,n}return ft(t,e),ge(t)}(Gr);pG.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var vG=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Tt.ELLIPSE},n)])}return ft(t,e),ge(t)}(Gr);vG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var V6e=function(e){function t(){return ve(this,t),ut(this,t,[{type:Tt.FRAGMENT}])}return ft(t,e),ge(t)}(Gr);V6e.PARSED_STYLE_LIST=new Set(["class","className"]);var Ml=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Tt.GROUP},n)])}return ft(t,e),ge(t)}(Gr);Ml.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Y6e=["style"],gG=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,Y6e);return ve(this,t),n=ut(this,t,[bt({type:Tt.HTML,style:a},i)]),n.cullable.enable=!1,n}return ft(t,e),ge(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Ga(Dt(),this.parentNode.getWorldTransform()),a=this.getBounds();if(!Po.isEmpty(a)){var i=new Po;return i.setFromTransformedAABB(a,r),i}}return this.getBounds()}}])}(Gr);gG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var mG=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Tt.IMAGE},n)])}return ft(t,e),ge(t)}(Gr);mG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var X6e=["style"],yG=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,X6e);ve(this,t),n=ut(this,t,[bt({type:Tt.LINE,style:bt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},a)},i)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&yr(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&yr(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&yr(o)&&(this.markerStartAngle=0,o.remove()),s&&yr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&yr(o)&&(this.markerEndAngle=0,o.remove()),s&&yr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.x1,u=a.x2,f=a.y1,d=a.y2,h=r?i:o;if(!(!h||!yr(h))){var p=0,v,g,m,y,x,b;r?(m=c,y=f,v=u-c,g=d-f,x=s||0,b=this.markerStartAngle):(m=u,y=d,v=c-u,g=f-d,x=l||0,b=this.markerEndAngle),p=Math.atan2(g,v),h.setLocalEulerAngles(p*180/Math.PI+b),h.setLocalPosition(m+Math.cos(p)*x,y+Math.sin(p)*x)}}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle,o=i.x1,s=i.y1,l=i.x2,c=i.y2,u=GH(o,s,l,c,r),f=u.x,d=u.y,h=sr(Et(),Ot(f,d,0),a?this.getWorldTransform():this.getLocalTransform());return new Cs(h[0],h[1])}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,a=r.x1,i=r.y1,o=r.x2,s=r.y2;return HH(a,i,o,s)}}])}(Gr);yG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var q6e=["style"],yC=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,q6e);ve(this,t),n=ut(this,t,[bt({type:Tt.PATH,style:a,initialParsedStyle:{miterLimit:4,d:bt({},VH)}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&yr(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&yr(c)&&n.placeMarkerMid(c),l&&yr(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&yr(o)&&(this.markerStartAngle=0,o.remove()),s&&yr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&yr(o)&&(this.markerEndAngle=0,o.remove()),s&&yr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=r?i:o;if(!(!c||!yr(c))){var u=0,f,d,h,p,v,g;if(r){var m=this.getStartTangent(),y=ct(m,2),x=y[0],b=y[1];h=b[0],p=b[1],f=x[0]-b[0],d=x[1]-b[1],v=s||0,g=this.markerStartAngle}else{var E=this.getEndTangent(),_=ct(E,2),w=_[0],A=_[1];h=A[0],p=A[1],f=w[0]-A[0],d=w[1]-A[1],v=l||0,g=this.markerEndAngle}u=Math.atan2(d,f),c.setLocalEulerAngles(u*180/Math.PI+g),c.setLocalPosition(h+Math.cos(u)*v,p+Math.sin(u)*v)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),r&&yr(r))for(var i=1;i<a.length-1;i++){var o=ct(a[i].currentPoint,2),s=o[0],l=o[1],c=i===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return h5(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.d.absolutePath,o=nj(i,r),s=o.x,l=o.y,c=sr(Et(),Ot(s,l,0),a?this.getWorldTransform():this.getLocalTransform());return new Cs(c[0],c[1])}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*h5(this),a)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,a=[];if(r.length>1){var i=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;a=[],s?(a.push([i[0]-s[0],i[1]-s[1]]),a.push([i[0],i[1]])):(a.push([o[0],o[1]]),a.push([i[0],i[1]]))}return a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,a=r.length,i=[];if(a>1){var o=r[a-2].currentPoint,s=r[a-1].currentPoint,l=r[a-1].endTangent;i=[],l?(i.push([s[0]-l[0],s[1]-l[1]]),i.push([s[0],s[1]])):(i.push([o[0],o[1]]),i.push([s[0],s[1]]))}return i}}])}(Gr);yC.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var K6e=["style"],Aw=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=Go(r,K6e);ve(this,t),n=ut(this,t,[bt({type:Tt.POLYGON,style:a,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&yr(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&yr(c)&&n.placeMarkerMid(c),l&&yr(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return ft(t,e),ge(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&yr(o)&&(this.markerStartAngle=0,o.remove()),s&&yr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&yr(o)&&(this.markerEndAngle=0,o.remove()),s&&yr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.points,u=c||{},f=u.points,d=r?i:o;if(!(!d||!yr(d)||!f)){var h=0,p,v,g,m,y,x;if(g=f[0][0],m=f[0][1],r)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=s||0,x=this.markerStartAngle;else{var b=f.length;this.parsedStyle.isClosed?(p=f[b-1][0]-f[0][0],v=f[b-1][1]-f[0][1]):(g=f[b-1][0],m=f[b-1][1],p=f[b-2][0]-f[b-1][0],v=f[b-2][1]-f[b-1][1]),y=l||0,x=this.markerEndAngle}h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+x),d.setLocalPosition(g+Math.cos(h)*y,m+Math.sin(h)*y)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.points,i=a||{},o=i.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],r&&yr(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],c=o[s][1],u=s===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(l,c)}}}])}(Gr);Aw.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Z6e=["style"],xG=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=Go(n,Z6e);return ve(this,t),ut(this,t,[bt({type:Tt.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},a)])}return ft(t,e),ge(t,[{key:"getTotalLength",value:function(){return G8e(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,c,u=this.getTotalLength();i.forEach(function(m,y){i[y+1]&&(l=[0,0],l[0]=s/u,c=HH(m[0],m[1],i[y+1][0],i[y+1][1]),s+=c,l[1]=s/u,o.push(l))}),this.parsedStyle.points.segments=o}var f=0,d=0;this.parsedStyle.points.segments.forEach(function(m,y){r>=m[0]&&r<=m[1]&&(f=(r-m[0])/(m[1]-m[0]),d=y)});var h=GH(i[d][0],i[d][1],i[d+1][0],i[d+1][1],f),p=h.x,v=h.y,g=sr(Et(),Ot(p,v,0),a?this.getWorldTransform():this.getLocalTransform());return new Cs(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,a=[];return a.push([r[1][0],r[1][1]]),a.push([r[0][0],r[0][1]]),a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,a=r.length-1,i=[];return i.push([r[a-1][0],r[a-1][1]]),i.push([r[a][0],r[a][1]]),i}}])}(Aw);xG.PARSED_STYLE_LIST=new Set([].concat(_t(Aw.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var bG=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),ut(this,t,[bt({type:Tt.RECT},n)])}return ft(t,e),ge(t)}(Gr);bG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Q6e=["style"],wG=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=Go(n,Q6e);return ve(this,t),ut(this,t,[bt({type:Tt.TEXT,style:bt({fill:"black"},r)},a)])}return ft(t,e),ge(t,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Gr);wG.PARSED_STYLE_LIST=new Set([].concat(_t(Gr.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var J6e=function(){function e(t){ve(this,e),this.strategies=t}return ge(e,[{key:"apply",value:function(n){var r=n.camera,a=n.renderingService,i=n.renderingContext,o=this.strategies;a.hooks.cull.tap(e.tag,function(s){if(s){var l=s.cullable;return o.length===0?l.visible=i.unculledEntities.indexOf(s.entity)>-1:l.visible=o.every(function(c){return c.isVisible(r,s)}),!s.isCulled()&&s.isVisible()?s:(s.dispatchEvent(new Ma(Or.CULLED)),null)}return s}),a.hooks.afterRender.tap(e.tag,function(s){s.cullable.visibilityPlaneMask=-1})}}])}();J6e.tag="Culling";var e5e=function(){function e(){var t=this;ve(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new f6e(null),this.rootWheelEvent=new d6e(null),this.onPointerMove=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(a.supportsTouchEvents&&n.pointerType==="touch")){var i=t.normalizeToPointerEvent(n,a),o=Zo(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,i=t.normalizeToPointerEvent(n,a),o=Zo(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return ge(e,[{key:"apply",value:function(n){var r=this;this.context=n;var a=n.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),a.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),a.hooks.pointerDown.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,i);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var c=Zo(s),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,d=r.bootstrapEvent(r.rootPointerEvent,f,i,o);r.context.eventService.mapEvent(d)}}catch(h){c.e(h)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerUp.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),c=l?"":"outside",u=r.normalizeToPointerEvent(o,i),f=Zo(u),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=r.bootstrapEvent(r.rootPointerEvent,h,i,o);p.type+=c,r.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerMove.tap(e.tag,this.onPointerMove),a.hooks.pointerOver.tap(e.tag,this.onPointerMove),a.hooks.pointerOut.tap(e.tag,this.onPointerMove),a.hooks.click.tap(e.tag,this.onClick),a.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,i),l=Zo(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,f=r.bootstrapEvent(r.rootPointerEvent,u,i,o);r.context.eventService.mapEvent(f)}}catch(d){l.e(d)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,a,i){n.view=a,n.originalEvent=null,n.nativeEvent=i,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;n.viewport.x=s,n.viewport.y=l;var c=this.context.eventService.viewport2Canvas(n.viewport),u=c.x,f=c.y;return n.canvas.x=u,n.canvas.y=f,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=i.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=RIe[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var a=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),i=a.x,o=a.y;r.viewport.x=i,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,c=s.y;return r.canvas.x=l,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=NIe.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var a=[];if(r.isTouchEvent(n))for(var i=0;i<n.changedTouches.length;i++){var o=n.changedTouches[i];Rt(o.button)&&(o.button=0),Rt(o.buttons)&&(o.buttons=1),Rt(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),Rt(o.width)&&(o.width=o.radiusX||1),Rt(o.height)&&(o.height=o.radiusY||1),Rt(o.tiltX)&&(o.tiltX=0),Rt(o.tiltY)&&(o.tiltY=0),Rt(o.pointerType)&&(o.pointerType="touch"),Rt(o.pointerId)&&(o.pointerId=o.identifier||0),Rt(o.pressure)&&(o.pressure=o.force||.5),Rt(o.twist)&&(o.twist=0),Rt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,a.push(o)}else if(r.isMouseEvent(n)){var s=n;Rt(s.isPrimary)&&(s.isPrimary=!0),Rt(s.width)&&(s.width=1),Rt(s.height)&&(s.height=1),Rt(s.tiltX)&&(s.tiltX=0),Rt(s.tiltY)&&(s.tiltY=0),Rt(s.pointerType)&&(s.pointerType="mouse"),Rt(s.pointerId)&&(s.pointerId=IIe),Rt(s.pressure)&&(s.pressure=.5),Rt(s.twist)&&(s.twist=0),Rt(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,a.push(s)}else a.push(n);return a}}])}();e5e.tag="Event";Tt.CIRCLE,Tt.ELLIPSE,Tt.IMAGE,Tt.RECT,Tt.LINE,Tt.POLYLINE,Tt.POLYGON,Tt.TEXT,Tt.PATH,Tt.HTML;var t5e=function(){function e(){ve(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return ge(e,[{key:"apply",value:function(n){var r=this,a,i=n.renderingService,o=n.renderingContext,s=n.rBushRoot,l=o.root.ownerDocument.defaultView;this.rBush=s;var c=function(v){var g=v.target;g.renderable.dirty=!0,i.dirtify()},u=function(v){r.syncTasks.set(v.target,v.detail.affectChildren),i.dirtify()},f=function(v){var g=v.target;et.enableSizeAttenuation&&et.styleValueRegistry.updateSizeAttenuation(g,l.getCamera().getZoom())},d=function(v){var g=v.target,m=g.rBushNode;m.aabb&&r.rBush.remove(m.aabb),r.syncTasks.delete(g),et.sceneGraphService.dirtifyToRoot(g),i.dirtify()};i.hooks.init.tap(e.tag,function(){l.addEventListener(Or.MOUNTED,f),l.addEventListener(Or.UNMOUNTED,d),l.addEventListener(Or.ATTR_MODIFIED,c),l.addEventListener(Or.BOUNDS_CHANGED,u)}),i.hooks.destroy.tap(e.tag,function(){l.removeEventListener(Or.MOUNTED,f),l.removeEventListener(Or.UNMOUNTED,d),l.removeEventListener(Or.ATTR_MODIFIED,c),l.removeEventListener(Or.BOUNDS_CHANGED,u),r.syncTasks.clear()});var h=(a=et.globalThis.requestIdleCallback)!==null&&a!==void 0?a:dG.bind(et.globalThis);i.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,h(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):r.syncRTree()})}},{key:"syncNode",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.isConnected){var a=n.rBushNode;a.aabb&&this.rBush.remove(a.aabb);var i=n.getRenderBounds();if(i){var o=n.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new Po),o.dirtyRenderBounds.update(i.center,i.halfExtents));var s=i.getMin(),l=ct(s,2),c=l[0],u=l[1],f=i.getMax(),d=ct(f,2),h=d[0],p=d[1];a.aabb||(a.aabb={}),a.aabb.displayObject=n,a.aabb.minX=c,a.aabb.minY=u,a.aabb.maxX=h,a.aabb.maxY=p}if(a.aabb&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.minX)&&!isNaN(a.aabb.minY))return a.aabb}}},{key:"syncRTree",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var a=[],i=new Set,o=function(l){if(!i.has(l)&&l.renderable){var c=n.syncNode(l,r);c&&(a.push(c),i.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var c=l;c;)o(c),c=c.parentElement}),this.rBush.load(a),a.length=0,this.syncing=!1}}}])}();t5e.tag="Prepare";var xC=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({});new Ma(Or.MOUNTED);new Ma(Or.UNMOUNTED);new Ma(xC.BEFORE_RENDER);new Ma(xC.RERENDER);new Ma(xC.AFTER_RENDER);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.35
 * @date 1/23/2025, 8:32:08 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var n5e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.landmarks=[],n}return ft(t,e),ge(t,[{key:"rotate",value:function(r,a,i){if(this.relElevation=uh(a),this.relAzimuth=uh(r),this.relRoll=uh(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===ar.EXPLORING){var o=xo(vn(),[1,0,0],or((this.rotateWorld?1:-1)*this.relElevation)),s=xo(vn(),[0,1,0],or((this.rotateWorld?1:-1)*this.relAzimuth)),l=xo(vn(),[0,0,1],or(this.relRoll)),c=wo(vn(),s,o);c=wo(vn(),c,l);var u=Rg(Dt(),c);Sl(this.matrix,this.matrix,[0,0,-this.distance]),Ur(this.matrix,this.matrix,u),Sl(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===ar.ORBITING||this.type===ar.EXPLORING?this._getPosition():this.type===ar.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,a){var i=fo(r,a,0),o=ni(this.position);return Ki(o,o,lf(Et(),this.right,i[0])),Ki(o,o,lf(Et(),this.up,i[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var a=this.forward,i=ni(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,i[0]+=o*a[0],i[1]+=o*a[1],i[2]+=o*a[2],this._setPosition(i),this.type===ar.ORBITING||this.type===ar.EXPLORING?this._getDistance():this.type===ar.TRACKING&&Ki(this.focalPoint,i,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var a,i,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.position,u=c===void 0?this.position:c,f=l.focalPoint,d=f===void 0?this.focalPoint:f,h=l.roll,p=l.zoom,v=new et.CameraContribution;v.setType(this.type,void 0),v.setPosition(u[0],(a=u[1])!==null&&a!==void 0?a:this.position[1],(i=u[2])!==null&&i!==void 0?i:this.position[2]),v.setFocalPoint(d[0],(o=d[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=d[2])!==null&&s!==void 0?s:this.focalPoint[2]),v.setRoll(h??this.roll),v.setZoom(p??this.zoom);var g={name:r,matrix:Xb(v.getWorldTransform()),right:ni(v.right),up:ni(v.up),forward:ni(v.forward),position:ni(v.getPosition()),focalPoint:ni(v.getFocalPoint()),distanceVector:ni(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=In(r)?this.landmarks.find(function(T){return T.name===r}):r;if(o){var s=kn(i)?{duration:i}:i,l=s.easing,c=l===void 0?"linear":l,u=s.duration,f=u===void 0?100:u,d=s.easingFunction,h=d===void 0?void 0:d,p=s.onfinish,v=p===void 0?void 0:p,g=s.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var x=o.position,b=o.focalPoint,E=o.zoom,_=o.roll,w=h||et.EasingFunction(c),A,S=function(){a.setFocalPoint(b),a.setPosition(x),a.setRoll(_),a.setZoom(E),a.computeMatrix(),a.triggerUpdate(),v==null||v()};if(f===0)return S();var k=function(O){A===void 0&&(A=O);var C=O-A;if(C>=f){S();return}var M=w(C/f),R=Et(),I=Et(),P=1,B=0;Lh(R,a.focalPoint,b,M),Lh(I,a.position,x,M),B=a.roll*(1-M)+_*M,P=a.zoom*(1-M)+E*M,a.setFocalPoint(R),a.setPosition(I),a.setRoll(B),a.setZoom(P);var N=t2(R,b)+t2(I,x);if(N<=y&&E===void 0&&_===void 0)return S();a.computeMatrix(),a.triggerUpdate(),C<f&&(m==null||m(M),a.landmarkAnimationID=a.canvas.requestAnimationFrame(k))};this.canvas.requestAnimationFrame(k)}}}])}(WH);et.CameraContribution=n5e;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.21
 * @date 1/23/2025, 8:33:55 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var GE=function(e){function t(n,r,a,i){var o;return ve(this,t),o=ut(this,t,[n]),o.currentTime=a,o.timelineTime=i,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=a,o.timelineTime=i,o}return ft(t,e),ge(t)}(Sw),r5e=0,a5e=function(){function e(t,n){var r;ve(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(r5e++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return ge(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,a){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){a(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,a){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){a(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n=this.oldPlayState,r=this.pending?"pending":this.playState;return this.readyPromise&&r!==n&&(r==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):n==="pending"?this.resolveReadyPromise():r==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&r!==n&&(r==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):r==="finished"?this.resolveFinishedPromise():n==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=r,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new GE(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(ir)}},{key:"addEventListener",value:function(n,r,a){throw new Error(ir)}},{key:"removeEventListener",value:function(n,r,a){throw new Error(ir)}},{key:"dispatchEvent",value:function(n){throw new Error(ir)}},{key:"commitStyles",value:function(){throw new Error(ir)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var a=new GE(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(a)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var i=new GE(null,this,this.currentTime,n);this.onframe(i)}this._finishedFlag=!1}}}])}(),i5e=4,o5e=.001,s5e=1e-7,l5e=10,bv=11,py=1/(bv-1),c5e=typeof Float32Array=="function",_G=function(t,n){return 1-3*n+3*t},EG=function(t,n){return 3*n-6*t},SG=function(t){return 3*t},M2=function(t,n,r){return((_G(n,r)*t+EG(n,r))*t+SG(n))*t},AG=function(t,n,r){return 3*_G(n,r)*t*t+2*EG(n,r)*t+SG(n)},u5e=function(t,n,r,a,i){var o,s,l=0;do s=n+(r-n)/2,o=M2(s,a,i)-t,o>0?r=s:n=s;while(Math.abs(o)>s5e&&++l<l5e);return s},f5e=function(t,n,r,a){for(var i=0;i<i5e;++i){var o=AG(n,r,a);if(o===0)return n;var s=M2(n,r,a)-t;n-=s/o}return n},bC=function(t,n,r,a){if(!(t>=0&&t<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return function(l){return l};for(var i=c5e?new Float32Array(bv):new Array(bv),o=0;o<bv;++o)i[o]=M2(o*py,t,r);var s=function(c){for(var u=0,f=1,d=bv-1;f!==d&&i[f]<=c;++f)u+=py;--f;var h=(c-i[f])/(i[f+1]-i[f]),p=u+h*py,v=AG(p,t,r);return v>=o5e?f5e(c,p,t,r):v===0?p:u5e(c,u,u+py,t,r)};return function(l){return l===0||l===1?l:M2(s(l),n,a)}},d5e=function(t){return t=t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},vy=function(t){return Math.pow(t,2)},gy=function(t){return Math.pow(t,3)},my=function(t){return Math.pow(t,4)},yy=function(t){return Math.pow(t,5)},xy=function(t){return Math.pow(t,6)},by=function(t){return 1-Math.cos(t*Math.PI/2)},wy=function(t){return 1-Math.sqrt(1-t*t)},_y=function(t){return t*t*(3*t-2)},Ey=function(t){for(var n,r=4;t<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-t,2)},Sy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ct(n,2),a=r[0],i=a===void 0?1:a,o=r[1],s=o===void 0?.5:o,l=An(Number(i),1,10),c=An(Number(s),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-c/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/c)},tv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=ct(n,4),i=a[0],o=i===void 0?1:i,s=a[1],l=s===void 0?100:s,c=a[2],u=c===void 0?10:c,f=a[3],d=f===void 0?0:f;o=An(o,.1,1e3),l=An(l,.1,1e3),u=An(u,.1,1e3),d=An(d,.1,1e3);var h=Math.sqrt(l/o),p=u/(2*Math.sqrt(l*o)),v=p<1?h*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*h+-d)/v:-d+h,y=r?r*t/1e3:t;return p<1?y=Math.exp(-y*p*h)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*h),t===0||t===1?t:1-y},WE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,a=ct(r,2),i=a[0],o=i===void 0?10:i,s=a[1],l=s==="start"?Math.ceil:Math.floor;return l(An(t,0,1)*o)/o},P5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ct(n,4),a=r[0],i=r[1],o=r[2],s=r[3];return bC(a,i,o,s)(t)},Ay=bC(.42,0,1,1),vs=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return 1-t(1-n,r,a)}},gs=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?t(n*2,r,a)/2:1-t(n*-2+2,r,a)/2}},ms=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?(1-t(1-n*2,r,a))/2:(t(n*2-1,r,a)+1)/2}},I5={steps:WE,"step-start":function(t){return WE(t,[1,"start"])},"step-end":function(t){return WE(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":P5,ease:function(t){return P5(t,[.25,.1,.25,1])},in:Ay,out:vs(Ay),"in-out":gs(Ay),"out-in":ms(Ay),"in-quad":vy,"out-quad":vs(vy),"in-out-quad":gs(vy),"out-in-quad":ms(vy),"in-cubic":gy,"out-cubic":vs(gy),"in-out-cubic":gs(gy),"out-in-cubic":ms(gy),"in-quart":my,"out-quart":vs(my),"in-out-quart":gs(my),"out-in-quart":ms(my),"in-quint":yy,"out-quint":vs(yy),"in-out-quint":gs(yy),"out-in-quint":ms(yy),"in-expo":xy,"out-expo":vs(xy),"in-out-expo":gs(xy),"out-in-expo":ms(xy),"in-sine":by,"out-sine":vs(by),"in-out-sine":gs(by),"out-in-sine":ms(by),"in-circ":wy,"out-circ":vs(wy),"in-out-circ":gs(wy),"out-in-circ":ms(wy),"in-back":_y,"out-back":vs(_y),"in-out-back":gs(_y),"out-in-back":ms(_y),"in-bounce":Ey,"out-bounce":vs(Ey),"in-out-bounce":gs(Ey),"out-in-bounce":ms(Ey),"in-elastic":Sy,"out-elastic":vs(Sy),"in-out-elastic":gs(Sy),"out-in-elastic":ms(Sy),spring:tv,"spring-in":tv,"spring-out":vs(tv),"spring-in-out":gs(tv),"spring-out-in":ms(tv)},h5e=function(t){return d5e(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},p5e=function(t){return I5[h5e(t)]||I5.linear},v5e=function(t){return t},g5e=1,m5e=.5,R5=0;function N5(e,t){return function(n){if(n>=1)return 1;var r=1/e;return n+=t*r,n-n%r}}var ky="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",y5e=new RegExp("cubic-bezier\\(".concat(ky,",").concat(ky,",").concat(ky,",").concat(ky,"\\)")),x5e=/steps\(\s*(\d+)\s*\)/,b5e=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function wC(e){var t=y5e.exec(e);if(t)return bC.apply(void 0,_t(t.slice(1).map(Number)));var n=x5e.exec(e);if(n)return N5(Number(n[1]),R5);var r=b5e.exec(e);return r?N5(Number(r[1]),{start:g5e,middle:m5e,end:R5}[r[2]]):p5e(e)}function w5e(e){return Math.abs(_5e(e)/(e.playbackRate||1))}function _5e(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var kG=0,_C=1,kw=2,TG=3;function E5e(e,t,n){if(t===null)return kG;var r=n.endTime;return t<Math.min(n.delay,r)?_C:t>=Math.min(n.delay+e+n.endDelay,r)?kw:TG}function S5e(e,t,n,r,a){switch(r){case _C:return t==="backwards"||t==="both"?0:null;case TG:return n-a;case kw:return t==="forwards"||t==="both"?e:null;case kG:return null}}function A5e(e,t,n,r,a){var i=a;return e===0?t!==_C&&(i+=n):i+=r/e,i}function k5e(e,t,n,r,a,i){var o=e===1/0?t%1:e%1;return o===0&&n===kw&&r!==0&&(a!==0||i===0)&&(o=1),o}function T5e(e,t,n,r){return e===kw&&t===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function O5e(e,t,n){var r=e;if(e!=="normal"&&e!=="reverse"){var a=t;e==="alternate-reverse"&&(a+=1),r="normal",a!==1/0&&a%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function C5e(e,t,n){var r=E5e(e,t,n),a=S5e(e,n.fill,t,r,n.delay);if(a===null)return null;var i=n.duration==="auto"?0:n.duration,o=A5e(i,r,n.iterations,a,n.iterationStart),s=k5e(o,n.iterationStart,r,n.iterations,a,i),l=T5e(r,n.iterations,s,o),c=O5e(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function M5e(e,t,n){var r=P5e(e,t),a=I5e(r,n);return function(i,o){if(o!==null)a.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var c=o-l.startOffset,u=l.endOffset-l.startOffset,f=u===0?0:c/u;i.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)OG(s)&&i.setAttribute(s,null)}}function OG(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function P5e(e,t){for(var n={},r=0;r<e.length;r++)for(var a in e[r])if(OG(a)){var i={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:wC(e[r].easing)||t.easingFunction,value:e[r][a]};n[a]=n[a]||[],n[a].push(i)}return n}function I5e(e,t){var n=[];for(var r in e)for(var a=e[r],i=0;i<a.length-1;i++){var o=i,s=i+1,l=a[o].computedOffset,c=a[s].computedOffset,u=l,f=c;i===0&&(u=-1/0,c===0&&(s=o)),i===a.length-2&&(f=1/0,l===1&&(o=s)),n.push({applyFrom:u,applyTo:f,startOffset:a[o].computedOffset,endOffset:a[s].computedOffset,easingFunction:a[o].easingFunction,property:r,interpolation:R5e(r,a[o].value,a[s].value,t)})}return n.sort(function(d,h){return d.startOffset-h.startOffset}),n}var D5=function(t,n,r){return function(a){var i=CG(t,n,a);return kn(i)?i:r(i)}};function R5e(e,t,n,r){var a=lG[e];if(a&&a.syntax&&a.int){var i=et.styleValueRegistry.getPropertySyntax(a.syntax);if(i){var o=i.parser,s=o?o(t,r):t,l=o?o(n,r):n,c=i.mixer(s,l,r);if(c){var u=D5.apply(void 0,_t(c));return function(f){return f===0?t:f===1?n:u(f)}}}}return D5(!1,!0,function(f){return f?n:t})}function CG(e,t,n){if(typeof e=="number"&&typeof t=="number")return e*(1-n)+t*n;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,a=t.length,i=Math.max(r,a),o=[],s=0;s<i;s++)o.push(CG(e[s<r?s:r-1],t[s<a?s:a-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var N5e=function(){function e(){ve(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=v5e,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return ge(e,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=wC(n),this._easing=n}}])}();function D5e(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var a=r.length,i=0;i<a;i++){if(!t[i]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),t[i]=o}r[i]!==void 0&&r[i]!==null&&(t[i][n]=r[i])}}return t.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),t}function L5(e,t){if(e===null)return[];Array.isArray(e)||(e=D5e(e));for(var n=e.map(function(l){var c={};t!=null&&t.composite&&(c.composite="auto");for(var u in l){var f=l[u];if(u==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=f}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));c[u]=f}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(t==null?void 0:t.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,a=-1/0,i=0;i<n.length;i++){var o=n[i].offset;if(lt(o))r=!1;else{if(o<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=o}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,c=n,u=c.length;if(n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1){var f;n[0].computedOffset=Number((f=n[0].offset)!==null&&f!==void 0?f:0)}for(var d=0,h=Number(n[0].computedOffset),p=1;p<u;p++){var v=n[p].computedOffset;if(!lt(v)&&!lt(h)){for(var g=1;g<p-d;g++)n[d+g].computedOffset=h+(Number(v)-h)*g/(p-d);d=p,h=Number(v)}}}return r||s(),n}var L5e="backwards|forwards|both|none".split("|"),F5e="reverse|alternate|alternate-reverse".split("|");function B5e(e,t){var n=new N5e;return typeof e=="number"&&!isNaN(e)?n.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&L5e.indexOf(e[r])===-1||r==="direction"&&F5e.indexOf(e[r])===-1)return;n[r]=e[r]}}),n}function $5e(e,t){return e=j5e(e??{duration:"auto"}),B5e(e)}function j5e(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var z5e=function(){function e(t,n,r){var a=this;ve(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=$5e(r),this.timing.effect=this,this.timing.activeDuration=w5e(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=L5(n,this.timing),this.interpolations=M5e(this.normalizedKeyframes,this.timing,this.target);var i=et.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?a.animation&&a.animation.currentTime||null:l==="currentIteration"?!a.animation||a.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!a.animation||a.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return ge(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=C5e(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=L5(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(a){r.timing[a]=n[a]})}}])}();function F5(e,t){return Number(e.id)-Number(t.id)}var U5e=function(){function e(t){var n=this;ve(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var a=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(F5),n.animations=n.tick(r,!0,n.animations)[0],a.forEach(function(i){i[1](r)}),n.applyPendingEffects()},this.document=t}return ge(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,a){var i=new z5e(n,r,a),o=new a5e(i,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var a=n.targetAnimations();a.sort(F5);var i=this.tick(Number(this.currentTime),!1,a.slice())[1];i.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(a){r.updateAnimationsPromises(),n(a),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,a){var i=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],c=[],u=[],f=[];return a.forEach(function(d){d.tick(n,r),d._inEffect?(c.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(i.ticking=!0);var h=d._inEffect||d._needsTick;d._inTimeline=h,h?u.push(d):f.push(d)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,f]}}])}();et.EasingFunction=wC;et.AnimationTimeline=U5e;function MG(e,t){t(e),e.children&&e.children.forEach(function(n){n&&MG(n,t)})}function Kg(e){Tw(e,!0)}function Sf(e){Tw(e,!1)}function Tw(e,t){var n=t?"visible":"hidden";MG(e,function(r){r.attr("visibility",n)})}var H5e=function(e){Nr(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,xt([],se(n),!1))||this;return a.isMutationObserved=!0,a.addEventListener(Or.INSERTED,function(){Sf(a)}),a}return t}(Ml);function PG(e){var t=e.appendChild(new H5e({class:"offscreen"}));return Sf(t),t}function G5e(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var EC=function(e){Nr(t,e);function t(n){n===void 0&&(n={});var r=n.style,a=Ra(n,["style"]);return e.call(this,ze({style:ze({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},a))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=PG(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t}(wG);function Qh(e){return e*Math.PI/180}function IG(e){return Number((e*180/Math.PI).toPrecision(5))}var Cr=function(){function e(t,n,r,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),a===void 0&&(a=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=n,this.width=r,this.height=a}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,n){return t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom},e}();function os(e,t){return ta(e)?e.apply(void 0,xt([],se(t),!1)):e}var qs=function(e,t){var n=function(a){return"".concat(t,"-").concat(a)},r=Object.fromEntries(Object.entries(e).map(function(a){var i=se(a,2),o=i[0],s=i[1],l=n(s);return[o,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:n}),r},W5e=5,RG=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=W5e),Object.entries(t).forEach(function(a){var i=se(a,2),o=i[0],s=i[1],l=e;Object.prototype.hasOwnProperty.call(t,o)&&(s?hu(s)?(hu(e[o])||(l[o]={}),n<r?RG(e[o],s,n+1,r):l[o]=t[o]):di(s)?(l[o]=[],l[o]=l[o].concat(s)):l[o]=s:l[o]=s)})},Pl=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)RG(e,t[r]);return e},V5e=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},Ty,Y5e=XEe(function(e,t){var n=t.fontSize,r=t.fontFamily,a=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return Ty||(Ty=et.offscreenCanvasCreator.getOrCreateContext(void 0)),Ty.font=[i,o,a,"".concat(n,"px"),r].join(" "),Ty.measureText(e).width},function(e,t){return[e,Object.values(t||NG(e)).join()].join("")},4096),NG=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",a=e.style.fontVariant,i=e.style.fontSize;return i=typeof i=="object"?i.value:i,{fontSize:i,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:a}};function DG(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function LG(e,t){var n=DG(e);n&&n.attr(t)}function Tk(e,t,n){n===void 0&&(n="..."),LG(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function X5e(e,t,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),LG(e,{wordWrap:!0,wordWrapWidth:t,maxLines:n,textBaseline:r})}function P2(e){var t=e.canvas,n=e.touches,r=e.offsetX,a=e.offsetY;if(t){var i=t.x,o=t.y;return[i,o]}if(n){var s=n[0],l=s.clientX,c=s.clientY;return[l,c]}return r&&a?[r,a]:[0,0]}function Ud(e){return typeof e=="function"?e():In(e)||kn(e)?new EC({style:{text:String(e)}}):e}function q5e(e,t){return e.reduce(function(n,r){return(n[r[t]]=n[r[t]]||[]).push(r),n},{})}function jo(e,t,n,r,a){return r===void 0&&(r=!0),a===void 0&&(a=function(i){i.node().removeChildren()}),e?n(t):(r&&a(t),null)}function pi(e,t,n,r,a){return r===void 0&&(r=!0),a===void 0&&(a=!1),r&&e===t||a&&e===n?!0:e>t&&e<n}var K5e=function(e,t){return function(n){return e*(1-n)+t*n}};function Z5e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(a){var i=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)i[s]=SC(e[s],t[s]);for(;s<n;++s)o[s]=t[s];for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Q5e(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},r={};return Object.entries(t).forEach(function(a){var i=se(a,2),o=i[0],s=i[1];o in e?n[o]=SC(e[o],s):r[o]=s}),function(a){return Object.entries(n).forEach(function(i){var o=se(i,2),s=o[0],l=o[1];return r[s]=l(a)}),r}}function SC(e,t){return typeof e=="number"&&typeof t=="number"?K5e(e,t):Array.isArray(e)&&Array.isArray(t)?Z5e(e,t):typeof e=="object"&&typeof t=="object"?Q5e(e,t):function(n){return e}}function J5e(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var a=r.duration,i=a===void 0?0:a,o=SC(t,n),s=Math.ceil(+i/16),l=new Array(s).fill(0).map(function(c,u,f){return{__keyframe_data__:o(u/(f.length-1))}});return e.animate(l,ze({fill:"both"},r))}function B5(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;i++){var o=e[i],s=o.x,l=o.y,c=o.width,u=o.height,f=se([s+c,l+u],2),d=f[0],h=f[1];s<t&&(t=s),l<n&&(n=l),d>r&&(r=d),h>a&&(a=h)}return new Cr(t,n,r-t,a-n)}var eRe=function(e,t,n){var r=e.width,a=e.height,i=n.flexDirection,o=i===void 0?"row":i;n.flexWrap;var s=n.justifyContent,l=s===void 0?"flex-start":s;n.alignContent;var c=n.alignItems,u=c===void 0?"flex-start":c,f=o==="row",d=o==="row"||o==="column",h=f?d?[1,0]:[-1,0]:d?[0,1]:[0,-1],p=se([0,0],2),v=p[0],g=p[1],m=t.map(function(A){var S,k=A.width,T=A.height,O=se([v,g],2),C=O[0],M=O[1];return S=se([v+k*h[0],g+T*h[1]],2),v=S[0],g=S[1],new Cr(C,M,k,T)}),y=B5(m),x={"flex-start":0,"flex-end":f?r-y.width:a-y.height,center:f?(r-y.width)/2:(a-y.height)/2},b=m.map(function(A){var S=A.x,k=A.y,T=Cr.fromRect(A);return T.x=f?S+x[l]:S,T.y=f?k:k+x[l],T});B5(b);var E=function(A){var S=se(f?["height",a]:["width",r],2),k=S[0],T=S[1];switch(u){case"flex-start":return 0;case"flex-end":return T-A[k];case"center":return T/2-A[k]/2;default:return 0}},_=b.map(function(A){var S=A.x,k=A.y,T=Cr.fromRect(A);return T.x=f?S:S+E(T),T.y=f?k+E(T):k,T}),w=_.map(function(A){var S,k,T=Cr.fromRect(A);return T.x+=(S=e.x)!==null&&S!==void 0?S:0,T.y+=(k=e.y)!==null&&k!==void 0?k:0,T});return w},tRe=function(e,t,n){return[]};const nRe=function(e,t,n){if(t.length===0)return[];var r={flex:eRe,grid:tRe},a=n.display in r?r[n.display]:null;return(a==null?void 0:a.call(null,e,t,n))||[]};function Kc(e,t){return[e[0]*t,e[1]*t]}function wv(e,t){return[e[0]+t[0],e[1]+t[1]]}function VE(e,t){return[e[0]-t[0],e[1]-t[1]]}function Vf(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function Yf(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function Z1(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function FG(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function rRe(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function Ok(e,t){return+e.toPrecision(t)}function $5(e,t){var n={},r=Array.isArray(t)?t:[t];for(var a in e)r.includes(a)||(n[a]=e[a]);return n}function aRe(e,t,n,r){var a,i=[],o=!!r,s,l,c=[1/0,1/0],u=[-1/0,-1/0],f,d,h;if(o){a=se(r,2),c=a[0],u=a[1];for(var p=0,v=e.length;p<v;p+=1){var g=e[p];c=Vf(c,g),u=Yf(u,g)}}for(var p=0,m=e.length;p<m;p+=1){var g=e[p];if(p===0)h=g;else if(p===m-1)d=g,i.push(h),i.push(d);else{var y=[p?p-1:m-1,p-1][1];s=e[y],l=e[p+1];var x=[0,0];x=VE(l,s),x=Kc(x,t);var b=Z1(g,s),E=Z1(g,l),_=b+E;_!==0&&(b/=_,E/=_);var w=Kc(x,-b),A=Kc(x,E);d=wv(g,w),f=wv(g,A),f=Vf(f,Yf(l,g)),f=Yf(f,Vf(l,g)),w=VE(f,g),w=Kc(w,-b/E),d=wv(g,w),d=Vf(d,Yf(s,g)),d=Yf(d,Vf(s,g)),A=VE(g,d),A=Kc(A,E/b),f=wv(g,A),o&&(d=Yf(d,c),d=Vf(d,u),f=Yf(f,c),f=Vf(f,u)),i.push(h),i.push(d),h=f}}return i}function iRe(e,t,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!1,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var s=aRe(a,.4,r,n),l=a.length,c=[],u,f,d,i=0;i<l-1;i+=1)u=s[i*2],f=s[i*2+1],d=a[i+1],c.push(["C",u[0],u[1],f[0],f[1],d[0],d[1]]);return c}var oRe=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function sRe(e){return oRe.includes(e)}function j5(e){var t={};for(var n in e)sRe(n)&&(t[n]=e[n]);return t}function lRe(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],a=0;a<e.length;a+=n)r.push(e[a]);return r}function AC(e,t,n){var r=e.getBBox(),a=r.width,i=r.height,o=t/Math.max(a,i);return e.style.transform="scale(".concat(o,")"),o}function cRe(e,t){var n=new Map;return e.forEach(function(r){var a=t(r);n.has(a)||n.set(a,[]),n.get(a).push(r)}),n}function uRe(e){throw new Error(e)}var fRe=function(){function e(a,i,o,s,l,c,u){a===void 0&&(a=null),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),l===void 0&&(l=[null,null,null,null,null]),c===void 0&&(c=[]),u===void 0&&(u=[]),t.add(this),this._elements=Array.from(a),this._data=i,this._parent=o,this._document=s,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=c,this._facetElements=u}e.prototype.selectAll=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a):a;return new n(i,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a):a;return new n(this._elements,null,this._parent,this._document,void 0,void 0,i)},e.prototype.select=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a)[0]||null:a;return new n([i],null,i,this._document)},e.prototype.append=function(a){var i=this,o=typeof a=="function"?a:function(){return i.createElement(a)},s=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var c=this._data[l],u=se(Array.isArray(c)?c:[c,null],2),f=u[0],d=u[1],h=o(f,l);h.__data__=f,d!==null&&(h.__fromElements__=d),this._parent.appendChild(h),s.push(h)}return new n(s,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var p=this._elements[l],f=p.__data__,h=o(f,l);p.appendChild(h),s.push(h)}return new n(s,null,s[0],this._document)},e.prototype.maybeAppend=function(a,i){var o=aE(this,t,"m",r).call(this,a[0]==="#"?a:"#".concat(a),i);return o.attr("id",a),o},e.prototype.maybeAppendByClassName=function(a,i){var o=a.toString(),s=aE(this,t,"m",r).call(this,o[0]==="."?o:".".concat(o),i);return s.attr("className",o),s},e.prototype.maybeAppendByName=function(a,i){var o=aE(this,t,"m",r).call(this,'[name="'.concat(a,'"]'),i);return o.attr("name",a),o},e.prototype.data=function(a,i,o){var s,l;i===void 0&&(i=function(k){return k}),o===void 0&&(o=function(){return null});for(var c=[],u=[],f=new Set(this._elements),d=[],h=new Set,p=new Map(this._elements.map(function(k,T){return[i(k.__data__,T),k]})),v=new Map(this._facetElements.map(function(k,T){return[i(k.__data__,T),k]})),g=cRe(this._elements,function(k){return o(k.__data__)}),m=0;m<a.length;m++){var y=a[m],x=i(y,m),b=o(y,m);if(p.has(x)){var E=p.get(x);E.__data__=y,E.__facet__=!1,u.push(E),f.delete(E),p.delete(x)}else if(v.has(x)){var E=v.get(x);E.__data__=y,E.__facet__=!0,u.push(E),v.delete(x)}else if(g.has(x)){var _=g.get(x);d.push([y,_]);try{for(var w=(s=void 0,Dg(_)),A=w.next();!A.done;A=w.next()){var E=A.value;f.delete(E)}}catch(k){s={error:k}}finally{try{A&&!A.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}g.delete(x)}else if(p.has(b)){var E=p.get(b);E.__toData__?E.__toData__.push(y):E.__toData__=[y],h.add(E),f.delete(E)}else c.push(y)}var S=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(f,null,this._parent,this._document),new n([],d,this._parent,this._document),new n(h,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,S)},e.prototype.merge=function(a){var i=xt(xt([],se(this._elements),!1),se(a._elements),!1),o=xt(xt([],se(this._transitions),!1),se(a._transitions),!1);return new n(i,null,this._parent,this._document,void 0,o)},e.prototype.createElement=function(a){if(this._document)return this._document.createElement(a,{});var i=n.registry[a];return i?new i:uRe("Unknown node type: ".concat(a))},e.prototype.join=function(a,i,o,s,l){a===void 0&&(a=function(p){return p}),i===void 0&&(i=function(p){return p}),o===void 0&&(o=function(p){return p.remove()}),s===void 0&&(s=function(p){return p}),l===void 0&&(l=function(p){return p.remove()});var c=a(this._enter),u=i(this._update),f=o(this._exit),d=s(this._merge),h=l(this._split);return u.merge(c).merge(f).merge(d).merge(h)},e.prototype.remove=function(){for(var a=function(s){var l=i._elements[s],c=i._transitions[s];c?c.then(function(){return l.remove()}):l.remove()},i=this,o=0;o<this._elements.length;o++)a(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(a){for(var i=0;i<this._elements.length;i++){var o=this._elements[i],s=o.__data__;a.call(o,s,i)}return this},e.prototype.attr=function(a,i){var o=typeof i!="function"?function(){return i}:i;return this.each(function(s,l){i!==void 0&&(this[a]=o.call(this,s,l))})},e.prototype.style=function(a,i,o){o===void 0&&(o=!0);var s=typeof i!="function"||!o?function(){return i}:i;return this.each(function(l,c){i!==void 0&&(this.style[a]=s.call(this,l,c))})},e.prototype.styles=function(a,i){return a===void 0&&(a={}),i===void 0&&(i=!0),this.each(function(o,s){var l=this;Object.entries(a).forEach(function(c){var u=se(c,2),f=u[0],d=u[1],h=typeof d!="function"||!i?function(){return d}:d;d!==void 0&&l.attr(f,h.call(l,o,s))})})},e.prototype.update=function(a,i){i===void 0&&(i=!0);var o=typeof a!="function"||!i?function(){return a}:a;return this.each(function(s,l){a&&this.update&&this.update(o.call(this,s,l))})},e.prototype.maybeUpdate=function(a,i){i===void 0&&(i=!0);var o=typeof a!="function"||!i?function(){return a}:a;return this.each(function(s,l){a&&this.update&&this.update(o.call(this,s,l))})},e.prototype.transition=function(a){this._transitions;var i=new Array(this._elements.length);return this.each(function(o,s){i[s]=a.call(this,o,s)}),this._transitions=BEe(i),this},e.prototype.on=function(a,i){return this.each(function(){this.addEventListener(a,i)}),this},e.prototype.call=function(a){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return a.call.apply(a,xt([this._parent,this],se(i),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(a){return!!a})},e.prototype.parent=function(){return this._parent};var t,n,r;return n=e,t=new WeakSet,r=function(i,o){var s=this._elements[0],l=s.querySelector(i);if(l)return new n([l],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},e.registry={g:Ml,rect:bG,circle:mC,path:yC,text:EC,ellipse:vG,image:mG,line:yG,polygon:Aw,polyline:xG,html:gG},e}();function Gt(e){return new fRe([e],null,e,e.ownerDocument)}function dRe(e,t,n){return e.querySelector(t)?Gt(e).select(t):Gt(e).append(n)}function ki(e){if(kn(e))return[e,e,e,e];if(di(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function z5(e){var t=e.getLocalBounds(),n=t.min,r=t.max,a=se([n,r],2),i=se(a[0],2),o=i[0],s=i[1],l=se(a[1],2),c=l[0],u=l[1];return{x:o,y:s,width:c-o,height:u-s,left:o,bottom:u,top:s,right:c}}function hRe(e,t){var n=se(e,2),r=n[0],a=n[1],i=se(t,2),o=i[0],s=i[1];return r!==o&&a===s}function pRe(e,t){var n,r,a=t.attributes;try{for(var i=Dg(Object.entries(a)),o=i.next();!o.done;o=i.next()){var s=se(o.value,2),l=s[0],c=s[1];l!=="id"&&l!=="className"&&e.attr(l,c)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function kC(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function vRe(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function gRe(e,t){return"".concat(t).concat(kC(e))}function U5(e,t,n){var r;n===void 0&&(n=!0);var a=t||((r=e.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",i=e.replace(new RegExp("^(".concat(a,")")),"");return n?vRe(i):i}function mRe(e,t){Object.entries(t).forEach(function(n){var r=se(n,2),a=r[0],i=r[1];xt([e],se(e.querySelectorAll(a)),!1).filter(function(o){return o.matches(a)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(i).reduce(function(l,c){return"".concat(l).concat(c.join(":"),";")},"")}})})}var Oy=function(e,t){if(!(e!=null&&e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function on(e,t,n){n===void 0&&(n=!1);var r={};return Object.entries(e).forEach(function(a){var i=se(a,2),o=i[0],s=i[1];if(!(o==="className"||o==="class")){if(Oy(o,"show")&&Oy(U5(o,"show"),t)!==n)o===gRe(t,"show")?r[o]=s:r[o.replace(new RegExp(kC(t)),"")]=s;else if(!Oy(o,"show")&&Oy(o,t)!==n){var l=U5(o,t);l==="filter"&&typeof s=="function"||(r[l]=s)}}}),r}function ic(e,t){return Object.entries(e).reduce(function(n,r){var a=se(r,2),i=a[0],o=a[1];return i.startsWith("show")?n["show".concat(t).concat(i.slice(4))]=o:n["".concat(t).concat(kC(i))]=o,n},{})}function mu(e,t){t===void 0&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},a={};return Object.entries(e).forEach(function(i){var o=se(i,2),s=o[0],l=o[1];t.includes(s)||(n.indexOf(s)!==-1?a[s]=l:r[s]=l)}),[r,a]}function yRe(e,t,n){var r=e.getBBox(),a=r.width,i=r.height,o=se([t,n].map(function(c,u){var f;return c.includes("%")?parseFloat(((f=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(u===0?a:i):c}),2),s=o[0],l=o[1];return[s,l]}function BG(e,t){if(t)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=t.replace(n,function(a,i,o){return"translate(".concat(yRe(e,i,o),")")});e.attr("transform",r)}catch{}}function xRe(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(n,r){return e.map(function(a){return a[r]})}))||[]}var H5=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,xt([],se(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(n){return e.appendChild(n)}):e.appendChild(t))};function bRe(){Tw(this,this.attributes.visibility!=="hidden")}var qa=function(e){Nr(t,e);function t(n,r){r===void 0&&(r={});var a=e.call(this,Pl({},{style:r},n))||this;return a.initialized=!1,a._defaultOptions=r,a}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=PG(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t.prototype.attributeChangedCallback=function(n){n==="visibility"&&bRe.call(this)},t.prototype.update=function(n,r){var a;return this.attr(Pl({},this.attributes,n||{})),(a=this.render)===null||a===void 0?void 0:a.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(n,r){},t.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=Ra(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},t}(pG),$G=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},wRe=$G,_Re=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},ERe=function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},SRe=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},ARe=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]},kRe=function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]},TRe=function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]},jG=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},ORe=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]},CRe=function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]},MRe=function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]},PRe=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},zG=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},IRe=zG,RRe=function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]},NRe=function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]},DRe=function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]},LRe=function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]};function FRe(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var BRe=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]};function $Re(e){var t="default";if(yp(e)&&e instanceof Image)t="image";else if(ta(e))t="symbol";else if(In(e)){var n=new RegExp("data:(image|text)");e.match(n)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function jRe(e){var t=$Re(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var Nn=function(e){Nr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=this.getSubShapeStyle(n),c=l.symbol,u=l.size,f=u===void 0?16:u,d=Ra(l,["symbol","size"]),h=jRe(c);jo(!!h,Gt(r),function(p){p.maybeAppendByClassName("marker",h).attr("className","marker ".concat(h,"-marker")).call(function(v){if(h==="image"){var g=f*2;v.styles({img:c,width:g,height:g,x:i-f,y:s-f})}else{var g=f/2,m=ta(c)?c:t.getSymbol(c);v.styles(ze({d:m==null?void 0:m(i,s,g)},d))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(n,r){t.MARKER_SYMBOL_MAP.set(n,r)},t.getSymbol=function(n){return t.MARKER_SYMBOL_MAP.get(n)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(qa);Nn.registerSymbol("cross",ORe);Nn.registerSymbol("hyphen",PRe);Nn.registerSymbol("line",jG);Nn.registerSymbol("plus",MRe);Nn.registerSymbol("tick",CRe);Nn.registerSymbol("circle",$G);Nn.registerSymbol("point",wRe);Nn.registerSymbol("bowtie",TRe);Nn.registerSymbol("hexagon",kRe);Nn.registerSymbol("square",_Re);Nn.registerSymbol("diamond",ERe);Nn.registerSymbol("triangle",SRe);Nn.registerSymbol("triangle-down",ARe);Nn.registerSymbol("line",jG);Nn.registerSymbol("dot",zG);Nn.registerSymbol("dash",IRe);Nn.registerSymbol("smooth",RRe);Nn.registerSymbol("hv",NRe);Nn.registerSymbol("vh",DRe);Nn.registerSymbol("hvh",LRe);Nn.registerSymbol("vhv",FRe);var zRe=function(e){Nr(t,e);function t(n){var r=this,a=n.style,i=Ra(n,["style"]);return r=e.call(this,Ie({},{type:"column"},ze({style:a},i)))||this,r.columnsGroup=new Ml({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.columns,a=n.x,i=n.y;this.columnsGroup.style.transform="translate(".concat(a,", ").concat(i,")"),Gt(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},t.prototype.update=function(n){this.attr(Pl({},this.attributes,n)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Gr),URe=function(e){Nr(t,e);function t(n){var r=this,a=n.style,i=Ra(n,["style"]);return r=e.call(this,Ie({},{type:"lines"},ze({style:a},i)))||this,r.linesGroup=r.appendChild(new Ml),r.areasGroup=r.appendChild(new Ml),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.lines,a=n.areas,i=n.x,o=n.y;this.style.transform="translate(".concat(i,", ").concat(o,")"),r&&this.renderLines(r),a&&this.renderAreas(a)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(n){this.attr(Pl({},this.attributes,n)),this.render()},t.prototype.renderLines=function(n){Gt(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.attr(a)})},function(r){return r.remove()})},t.prototype.renderAreas=function(n){Gt(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.style(a)})},function(r){return r.remove()})},t}(Gr);function HRe(e,t){var n,r=t.x,a=t.y,i=se(a.getOptions().range||[0,0],2),o=i[0],s=i[1];return s>o&&(n=se([o,s],2),s=n[0],o=n[1]),e.map(function(l){var c=l.map(function(u,f){return[r.map(f),An(a.map(u),s,o)]});return c})}function Q1(e,t){t===void 0&&(t=!1);var n=t?e.length-1:0,r=e.map(function(a,i){return xt([i===n?"M":"L"],se(a),!1)});return t?r.reverse():r}function I2(e,t){if(t===void 0&&(t=!1),e.length<=2)return Q1(e);for(var n=[],r=e.length,a=0;a<r;a+=1){var i=t?e[r-a-1]:e[a];Jx(i,n.slice(-2))||n.push.apply(n,xt([],se(i),!1))}var o=iRe(n);return t?o.unshift(xt(["M"],se(e[r-1]),!1)):o.unshift(xt(["M"],se(e[0]),!1)),o}function TC(e,t,n){var r=P1(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function GRe(e,t,n,r){return e.map(function(a){return TC(t?I2(a):Q1(a),n,r)})}function WRe(e,t,n){for(var r=[],a=e.length-1;a>=0;a-=1){var i=e[a],o=Q1(i),s=void 0;if(a===0)s=TC(o,t,n);else{var l=e[a-1],c=Q1(l,!0);c[0][0]="L",s=xt(xt(xt([],se(o),!1),se(c),!1),[["Z"]],!1)}r.push(s)}return r}function VRe(e,t,n){for(var r=[],a=e.length-1;a>=0;a-=1){var i=e[a],o=I2(i),s=void 0;if(a===0)s=TC(o,t,n);else{var l=e[a-1],c=I2(l,!0),u=i[0];c[0][0]="L",s=xt(xt(xt([],se(o),!1),se(c),!1),[xt(["M"],se(u),!1),["Z"]],!1)}r.push(s)}return r}function G5(e){return e.length===0?[0,0]:[Dh(UEe(e,function(t){return Dh(t)||0})),Nh(zEe(e,function(t){return Nh(t)||0}))]}function W5(e){for(var t=P1(e),n=t[0].length,r=se([Array(n).fill(0),Array(n).fill(0)],2),a=r[0],i=r[1],o=0;o<t.length;o+=1)for(var s=t[o],l=0;l<n;l+=1)s[l]>=0?(s[l]+=a[l],a[l]=s[l]):(s[l]+=i[l],i[l]=s[l]);return t}var YRe=function(e){Nr(t,e);function t(n){return e.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||(n==null?void 0:n.length)===0)return[[]];var r=P1(n);return kn(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?W5(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var n=this.scales.y,r=se(n.getOptions().domain||[0,0],2),a=r[0],i=r[1];return i<0?n.map(i):n.map(a<0?0:a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,a=n.height;return{width:r,height:a}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,a=r.type,i=r.isStack,o=r.smooth;if(a!=="line")throw new Error("linesStyle can only be used in line type");var s=on(this.attributes,"area"),l=on(this.attributes,"line"),c=this.containerShape.width,u=this.data;if(u[0].length===0)return{lines:[],areas:[]};var f=this.scales,d=f.x,h=f.y,p=HRe(u,{x:d,y:h}),v=[];if(s){var g=this.baseline;i?v=o?VRe(p,c,g):WRe(p,c,g):v=GRe(p,o,c,g)}return{lines:p.map(function(m,y){return ze({stroke:n.getColor(y),d:o?I2(m):Q1(m)},l)}),areas:v.map(function(m,y){return ze({d:m,fill:n.getColor(y)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var n=this,r=on(this.attributes,"column"),a=this.attributes,i=a.isStack,o=a.type,s=a.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};i&&(c=W5(c));var u=this.createScales(c),f=u.x,d=u.y,h=se(G5(c),2),p=h[0],v=h[1],g=new hr({domain:[0,v-(p>0?0:p)],range:[0,l*s]}),m=f.getBandWidth(),y=this.rawData;return{columns:c.map(function(x,b){return x.map(function(E,_){var w=m/c.length,A=function(){return{x:f.map(_)+w*b,y:E>=0?d.map(E):d.map(0),width:w,height:g.map(Math.abs(E))}},S=function(){return{x:f.map(_),y:d.map(E),width:m,height:g.map(y[b][_])}};return ze(ze({fill:n.getColor(b)},r),i?S():A())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){dRe(r,".container","rect").attr("className","container").node();var a=n.type,i=n.x,o=n.y,s="spark".concat(a),l=ze({x:i,y:o},a==="line"?this.linesStyle:this.columnsStyle);Gt(r).selectAll(".spark").data([a]).join(function(c){return c.append(function(u){return u==="line"?new URe({className:s,style:l}):new zRe({className:s,style:l})}).attr("className","spark ".concat(s))},function(c){return c.update(l)},function(c){return c.remove()})},t.prototype.getColor=function(n){var r=this.attributes.color;return di(r)?r[n%r.length]:ta(r)?r.call(null,n):r},t.prototype.createScales=function(n){var r,a,i=this.attributes,o=i.type,s=i.scale,l=i.range,c=l===void 0?[]:l,u=i.spacing,f=this.containerShape,d=f.width,h=f.height,p=se(G5(n),2),v=p[0],g=p[1],m=new hr({domain:[(r=c[0])!==null&&r!==void 0?r:v,(a=c[1])!==null&&a!==void 0?a:g],range:[h,h*(1-s)]});return o==="line"?{type:o,x:new hr({domain:[0,n[0].length-1],range:[0,d]}),y:m}:{type:o,x:new zh({domain:n[0].map(function(y,x){return x}),range:[0,d],paddingInner:u,paddingOuter:u/2,align:.5}),y:m}},t.tag="sparkline",t}(qa);function XRe(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function V5(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(r){var a=se(r,1),i=a[0];return!t.includes(i)}));return Object.fromEntries(t.map(function(r){return XRe(e)?e[r]===!1?[r,!1]:[r,ze(ze({},e[r]),n)]:[r,n]}))}function Ep(e,t){e?e.finished.then(t):t()}function qRe(e,t){e.length===0?t():Promise.all(e.map(function(n){return n==null?void 0:n.finished})).then(t)}function UG(e,t){"update"in e?e.update(t):e.attr(t)}function HG(e,t,n){if(t.length===0)return null;if(!n){var r=t.slice(-1)[0];return UG(e,{style:r}),null}return e.animate(t,n)}function KRe(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function ZRe(e,t,n,r){if(r===void 0&&(r="destroy"),KRe(e,t))return e.remove(),[null];var a=function(){r==="destroy"?e.destroy():r==="hide"&&Sf(e),t.isVisible()&&Kg(t)};if(!n)return a(),[null];var i=n.duration,o=i===void 0?0:i,s=n.delay,l=s===void 0?0:s,c=Math.ceil(+o/2),u=+o/4,f=se(e.getGeometryBounds().center,2),d=f[0],h=f[1],p=se(t.getGeometryBounds().center,2),v=p[0],g=p[1],m=se([(d+v)/2-d,(h+g)/2-h],2),y=m[0],x=m[1],b=e.style.opacity,E=b===void 0?1:b,_=t.style.opacity,w=_===void 0?1:_,A=e.style.transform||"",S=t.style.transform||"",k=e.animate([{opacity:E,transform:"translate(0, 0) ".concat(A)},{opacity:0,transform:"translate(".concat(y,", ").concat(x,") ").concat(A)}],ze(ze({fill:"both"},n),{duration:l+c+u})),T=t.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-x,") ").concat(S),offset:.01},{opacity:w,transform:"translate(0, 0) ".concat(S)}],ze(ze({fill:"both"},n),{duration:c+u,delay:l+c-u}));return Ep(T,a),[k,T]}function kl(e,t,n){var r={},a={};return Object.entries(t).forEach(function(i){var o=se(i,2),s=o[0],l=o[1];if(!lt(l)){var c=e.style[s]||e.parsedStyle[s]||0;c!==l&&(r[s]=c,a[s]=l)}}),n?HG(e,[r,a],ze({fill:"both"},n)):(UG(e,a),null)}function Ow(e,t){return e.style.opacity||(e.style.opacity=1),kl(e,{opacity:0},t)}var GG={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},WG={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},VG={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Yl=qs({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),ju=qs({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),QRe=function(e){Nr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var a=n.x,i=n.y,o=n.size,s=o===void 0?10:o,l=n.radius,c=l===void 0?s/4:l,u=n.orientation,f=Ra(n,["x","y","size","radius","orientation"]),d=s,h=d*2.4,p=Gt(r).maybeAppendByClassName(ju.iconRect,"rect").styles(ze(ze({},f),{width:d,height:h,radius:c,x:a-d/2,y:i-h/2,transformOrigin:"center"})),v=a+1/3*d-d/2,g=a+2/3*d-d/2,m=i+1/4*h-h/2,y=i+3/4*h-h/2;p.maybeAppendByClassName("".concat(ju.iconLine,"-1"),"line").styles(ze({x1:v,x2:v,y1:m,y2:y},f)),p.maybeAppendByClassName("".concat(ju.iconLine,"-2"),"line").styles(ze({x1:g,x2:g,y1:m,y2:y},f)),u==="vertical"&&(p.node().style.transform="rotate(90)")},t}(qa),YG=function(e){Nr(t,e);function t(n){return e.call(this,n,VG)||this}return t.prototype.renderLabel=function(n){var r=this,a=this.attributes,i=a.x,o=a.y,s=a.showLabel,l=on(this.attributes,"label"),c=l.x,u=c===void 0?0:c,f=l.y,d=f===void 0?0:f,h=l.transform,p=l.transformOrigin,v=Ra(l,["x","y","transform","transformOrigin"]),g=se(mu(v,[]),2),m=g[0],y=g[1],x=Gt(n).maybeAppendByClassName(ju.labelGroup,"g").styles(y),b=ze(ze({},WG),m),E=b.text,_=Ra(b,["text"]);jo(!!s,x,function(w){r.label=w.maybeAppendByClassName(ju.label,"text").styles(ze(ze({},_),{x:i+u,y:o+d,transform:h,transformOrigin:p,text:"".concat(E)})),r.label.on("mousedown",function(A){A.stopPropagation()}),r.label.on("touchstart",function(A){A.stopPropagation()})})},t.prototype.renderIcon=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.orientation,s=r.type,l=ze(ze({x:a,y:i,orientation:o},GG),on(this.attributes,"icon")),c=this.attributes.iconShape,u=c===void 0?function(){return new QRe({style:l})}:c,f=Gt(n).maybeAppendByClassName(ju.iconGroup,"g");f.selectAll(ju.icon.class).data([u]).join(function(d){return d.append(typeof u=="string"?u:function(){return u(s)}).attr("className",ju.icon.name)},function(d){return d.update(l)},function(d){return d.remove()})},t.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},t}(qa),XG=function(e){Nr(t,e);function t(n){var r=e.call(this,n,ze(ze(ze({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(a){return a.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},ic(VG,"handle")),ic(GG,"handleIcon")),ic(WG,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(a){return function(i){i.stopPropagation(),r.target=a,r.prevPos=r.getOrientVal(P2(i));var o=r.availableSpace,s=o.x,l=o.y,c=r.getBBox(),u=c.x,f=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,l])-r.getOrientVal([+u,+f])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(a){var i=r.attributes,o=i.slidable,s=i.brushable,l=i.type;a.stopPropagation();var c=r.getOrientVal(P2(a)),u=c-r.prevPos;if(u){var f=r.getRatio(u);switch(r.target){case"start":o&&r.setValuesOffset(f);break;case"end":o&&r.setValuesOffset(0,f);break;case"selection":o&&r.setValuesOffset(f,f);break;case"track":if(!s)return;r.selectionWidth+=f,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(a){var i=r.attributes,o=i.onChange,s=i.type,l=s==="range"?a:a[1],c=s==="range"?r.getValues():r.getValues()[1],u=new Ma("valuechange",{detail:{oldValue:l,value:c}});r.dispatchEvent(u),o==null||o(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=on(this.attributes,"sparkline");return ze(ze({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,a=n.trackSize,i=se(this.getOrientVal([[r,a],[a,r]]),2),o=i[0],s=i[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,a=se(ki(r),4),i=a[0],o=a[1],s=a[2],l=a[3],c=this.shape,u=c.width,f=c.height;return{x:l,y:i,width:u-(l+o),height:f-(i+s)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var a=r===!1?!1:this.attributes.animate;this.updateSelectionArea(a),this.updateHandlesPosition(a)},t.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(Yl.selection.class).each(function(a,i){kl(this,r[i],n)})},t.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&kl(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&kl(this.endHandle,this.getHandleStyle("end"),n))},t.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var a=this.values,i=this.clampValues(n);this.attributes.values=i,this.setValues(i),r&&this.onValueChange(a)},t.prototype.renderTrack=function(n){var r=this.attributes,a=r.x,i=r.y,o=on(this.attributes,"track");this.trackShape=Gt(n).maybeAppendByClassName(Yl.track,"rect").styles(ze(ze({x:a,y:i},this.shape),o))},t.prototype.renderBrushArea=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.brushable;this.brushArea=Gt(n).maybeAppendByClassName(Yl.brushArea,"rect").styles(ze({x:a,y:i,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(n){var r=this,a=this.attributes,i=a.x,o=a.y,s=a.orientation,l=Gt(n).maybeAppendByClassName(Yl.sparklineGroup,"g");jo(s==="horizontal",l,function(c){var u=ze(ze({},r.sparklineStyle),{x:i,y:o});c.maybeAppendByClassName(Yl.sparkline,function(){return new YRe({style:u})}).update(u)})},t.prototype.renderHandles=function(){var n=this,r,a=this.attributes,i=a.showHandle,o=a.type,s=o==="range"?["start","end"]:["end"],l=i?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(Yl.handle.class).data(l.map(function(u){return{type:u}}),function(u){return u.type}).join(function(u){return u.append(function(f){var d=f.type;return new YG({style:n.getHandleStyle(d)})}).each(function(f){var d=f.type;this.attr("class","".concat(Yl.handle.name," ").concat(d,"-handle"));var h="".concat(d,"Handle");c[h]=this,this.addEventListener("pointerdown",c.onDragStart(d))})},function(u){return u.each(function(f){var d=f.type;this.update(c.getHandleStyle(d))})},function(u){return u.each(function(f){var d=f.type,h="".concat(d,"Handle");c[h]=void 0}).remove()})},t.prototype.renderSelection=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=Gt(n).maybeAppendByClassName(Yl.foreground,"g");var l=on(this.attributes,"selection"),c=function(f){return f.style("visibility",function(d){return d.show?"visible":"hidden"}).style("cursor",function(d){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(ze(ze({},l),{transform:"translate(".concat(a,", ").concat(i,")")}))},u=this;this.foregroundGroup.selectAll(Yl.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(f,d){return{style:ze({},f),index:d,show:s==="select"?d===1:d!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",Yl.selection.name).call(c).each(function(d,h){var p=this;h===1?(u.selectionShape=Gt(this),this.on("pointerdown",function(v){p.attr("cursor","grabbing"),u.onDragStart("selection")(v)}),u.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),u.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),u.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){p.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){p.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){p.attr("cursor","pointer")})):this.on("pointerdown",u.onDragStart("track"))})},function(f){return f.call(c)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},t.prototype.clampValues=function(n,r){var a;r===void 0&&(r=4);var i=se(this.range,2),o=i[0],s=i[1],l=se(this.getValues().map(function(g){return Ok(g,r)}),2),c=l[0],u=l[1],f=Array.isArray(n)?n:[c,n??u],d=se((f||[c,u]).map(function(g){return Ok(g,r)}),2),h=d[0],p=d[1];if(this.attributes.type==="value")return[0,An(p,o,s)];h>p&&(a=se([p,h],2),h=a[0],p=a[1]);var v=p-h;return v>s-o?[o,s]:h<o?c===o&&u===p?[o,p]:[o,v+o]:p>s?u===s&&c===h?[h,s]:[s-v,s]:[h,p]},t.prototype.calcSelectionArea=function(n){var r=se(this.clampValues(n),2),a=r[0],i=r[1],o=this.availableSpace,s=o.x,l=o.y,c=o.width,u=o.height;return this.getOrientVal([[{y:l,height:u,x:s,width:a*c},{y:l,height:u,x:a*c+s,width:(i-a)*c},{y:l,height:u,x:i*c,width:(1-i)*c}],[{x:s,width:c,y:l,height:a*u},{x:s,width:c,y:a*u+l,height:(i-a)*u},{x:s,width:c,y:i*u,height:(1-i)*u}]])},t.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,a=this.availableSpace,i=a.x,o=a.y,s=a.width,l=a.height,c=se(this.clampValues(),2),u=c[0],f=c[1],d=n==="start"?-r:r,h=(n==="start"?u:f)*this.getOrientVal([s,l])+d;return{x:i+this.getOrientVal([h,s/2]),y:o+this.getOrientVal([l/2,h])}},t.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(n){var r,a=this.attributes,i=a.type,o=a.orientation,s=a.formatter,l=a.autoFitLabel,c=on(this.attributes,"handle"),u=on(c,"label"),f=c.spacing,d=this.getHandleSize(),h=this.clampValues(),p=n==="start"?h[0]:h[1],v=s(p),g=new EC({style:ze(ze(ze({},u),this.inferTextStyle(n)),{text:v})}),m=g.getBBox(),y=m.width,x=m.height;if(g.destroy(),!l){if(i==="value")return{text:v,x:0,y:-x-f};var b=f+d+(o==="horizontal"?y/2:0);return r={text:v},r[o==="horizontal"?"x":"y"]=n==="start"?-b:b,r}var E=0,_=0,w=this.availableSpace,A=w.width,S=w.height,k=this.calcSelectionArea()[1],T=k.x,O=k.y,C=k.width,M=k.height,R=f+d;if(o==="horizontal"){var I=R+y/2;if(n==="start"){var P=T-R-y;E=P>0?-I:I}else{var B=A-T-C-R>y;E=B?I:-I}}else{var N=R,V=x+R;n==="start"?_=O-d>x?-V:N:_=S-(O+M)-d>x?V:-N}return{x:E,y:_,text:v}},t.prototype.getHandleLabelStyle=function(n){var r=on(this.attributes,"handleLabel");return ze(ze(ze({},r),this.calcHandleText(n)),this.inferTextStyle(n))},t.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=on(this.attributes,"handleIcon"),a=this.getOrientVal(["ew-resize","ns-resize"]),i=this.getHandleSize();return ze({cursor:a,shape:n,size:i},r)},t.prototype.getHandleStyle=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.showLabel,s=r.showLabelOnInteraction,l=r.orientation,c=this.calcHandlePosition(n),u=c.x,f=c.y,d=this.calcHandleText(n),h=o;return!o&&s&&(this.target?h=!0:h=!1),ze(ze(ze({},ic(this.getHandleIconStyle(),"icon")),ic(ze(ze({},this.getHandleLabelStyle(n)),d),"label")),{transform:"translate(".concat(u+a,", ").concat(f+i,")"),orientation:l,showLabel:h,type:n,zIndex:3})},t.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,a=n.width,i=n.height;return r||Math.floor((this.getOrientVal([+i,+a])+4)/2.4)},t.prototype.getOrientVal=function(n){var r=se(n,2),a=r[0],i=r[1],o=this.attributes.orientation;return o==="horizontal"?a:i},t.prototype.setValuesOffset=function(n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=this.attributes.type,o=se(this.getValues(),2),s=o[0],l=o[1],c=i==="range"?n:0,u=[s+c,l+r].sort();a?this.setValues(u):this.innerSetValues(u,!0)},t.prototype.getRatio=function(n){var r=this.availableSpace,a=r.width,i=r.height;return n/this.getOrientVal([a,i])},t.prototype.dispatchCustomEvent=function(n,r,a){var i=this;n.on(r,function(o){o.stopPropagation(),i.dispatchEvent(new Ma(a,{detail:o}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var a=n.deltaX,i=n.deltaY,o=i||a,s=this.getRatio(o);this.setValuesOffset(s,s,!0)}},t.tag="slider",t}(qa),JRe=function(e){Nr(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(a){var i=r.attributes.value;if(a!==i){var o={detail:{oldValue:a,value:i}};r.dispatchEvent(new Ma("scroll",o)),r.dispatchEvent(new Ma("valuechange",o))}},r.onTrackClick=function(a){var i=r.attributes.slidable;if(i){var o=se(r.getLocalPosition(),2),s=o[0],l=o[1],c=se(r.padding,4),u=c[0],f=c[3],d=r.getOrientVal([s+f,l+u]),h=r.getOrientVal(P2(a)),p=(h-d)/r.trackLength;r.setValue(p,!0)}},r.onThumbMouseenter=function(a){r.dispatchEvent(new Ma("thumbMouseenter",{detail:a.detail}))},r.onTrackMouseenter=function(a){r.dispatchEvent(new Ma("trackMouseenter",{detail:a.detail}))},r.onThumbMouseleave=function(a){r.dispatchEvent(new Ma("thumbMouseleave",{detail:a.detail}))},r.onTrackMouseleave=function(a){r.dispatchEvent(new Ma("trackMouseleave",{detail:a.detail}))},r}return Object.defineProperty(t.prototype,"padding",{get:function(){var n=this.attributes.padding;return ki(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var n=this.attributes.value,r=se(this.range,2),a=r[0],i=r[1];return An(n,a,i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,a=n.trackLength,i=a===void 0?r:a;return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,a=se(this.padding,4),i=a[0],o=a[1],s=a[2],l=a[3],c=se(this.getOrientVal([[r,n],[n,r]]),2),u=c[0],f=c[1];return{x:l,y:i,width:+u-(l+o),height:+f-(i+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,a=n.trackSize;return r?a/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,a=n.thumbRadius;if(!r)return 0;var i=this.availableSpace,o=i.width,s=i.height;return a||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,a=r.viewportLength,i=r.contentLength,o=a/i,s=se(this.range,2),l=s[0],c=s[1],u=n*(c-l-o);return[u,u+o]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.orientation,s=r.trackSize,l=r.padding,c=r.slidable,u=on(this.attributes,"track"),f=on(this.attributes,"thumb"),d=ze(ze({x:a,y:i,brushable:!1,orientation:o,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},ic(u,"track")),ic(f,"selection"));this.slider=Gt(n).maybeAppendByClassName("scrollbar",function(){return new XG({style:d})}).update(d).node()},t.prototype.render=function(n,r){this.renderSlider(r)},t.prototype.setValue=function(n,r){r===void 0&&(r=!1);var a=this.attributes.value,i=se(this.range,2),o=i[0],s=i[1];this.slider.setValues(this.getValues(An(n,o,s)),r),this.onValueChange(a)},t.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},t.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t}(qa),OC={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new yC({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};Ie({},OC,{style:{type:"arc"}});Ie({},OC,{style:{}});var Gn=qs({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Jh=qs({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function qG(e){return e.reduce(function(t,n,r){return t.push(xt([r===0?"M":"L"],se(n),!1)),t},[])}function eNe(e,t,n){var r=t.connect,a=r===void 0?"line":r,i=t.center;if(a==="line")return qG(e);if(!i)return[];var o=Z1(e[0],i),s=n?0:1;return e.reduce(function(l,c,u){return u===0?l.push(xt(["M"],se(c),!1)):l.push(xt(["A",o,o,0,0,s],se(c),!1)),l},[])}function Ck(e,t,n){return t.type==="surround"?eNe(e,t,n):qG(e)}function tNe(e,t,n){var r=n.type,a=n.connect,i=n.center,o=n.closed,s=o?[["Z"]]:[],l=se([Ck(e,n),Ck(t.slice().reverse(),n,!0)],2),c=l[0],u=l[1],f=se([e[0],t.slice(-1)[0]],2),d=f[0],h=f[1],p=function(y,x){return[c,y,u,x,s].flat()};if(a==="line"||r==="surround")return p([xt(["L"],se(h),!1)],[xt(["L"],se(d),!1)]);if(!i)throw new Error("Arc grid need to specified center");var v=se([Z1(h,i),Z1(d,i)],2),g=v[0],m=v[1];return p([xt(["A",g,g,0,0,1],se(h),!1),xt(["L"],se(h),!1)],[xt(["A",m,m,0,0,0],se(d),!1),xt(["L"],se(d),!1)])}function nNe(e,t,n,r){var a=n.animate,i=n.isBillboard,o=t.map(function(s,l){return{id:s.id||"grid-line-".concat(l),d:Ck(s.points,n)}});return e.selectAll(Jh.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(l,c){var u=os(j5(ze({d:l.d},r)),[l,c,o]);this.attr(ze({class:Jh.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:i},u))})},function(s){return s.transition(function(l,c){var u=os(j5(ze({d:l.d},r)),[l,c,o]);return kl(this,u,a.update)})},function(s){return s.transition(function(){var l=this,c=Ow(this,a.exit);return Ep(c,function(){return l.remove()}),c})}).transitions()}function rNe(e,t,n){var r=n.animate,a=n.connect,i=n.areaFill;if(t.length<2||!i||!a)return[];for(var o=Array.isArray(i)?i:[i,"transparent"],s=function(p){return o[p%o.length]},l=[],c=0;c<t.length-1;c++){var u=se([t[c].points,t[c+1].points],2),f=u[0],d=u[1],h=tNe(f,d,n);l.push({d:h,fill:s(c)})}return e.selectAll(Jh.region.class).data(l,function(p,v){return v}).join(function(p){return p.append("path").each(function(v,g){var m=os(v,[v,g,l]);this.attr(m)}).attr("className",Jh.region.name)},function(p){return p.transition(function(v,g){var m=os(v,[v,g,l]);return kl(this,m,r.update)})},function(p){return p.transition(function(){var v=this,g=Ow(this,r.exit);return Ep(g,function(){return v.remove()}),g})}).transitions()}function aNe(e){var t=e.data,n=t===void 0?[]:t,r=e.closed;return r?n.map(function(a){var i=a.points,o=se(i,1),s=o[0];return ze(ze({},a),{points:xt(xt([],se(i),!1),[s],!1)})}):n}var iNe=function(e){Nr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var a=Ra(n,["type","center","areaFill","closed"]),i=aNe(n),o=Gt(r).maybeAppendByClassName(Jh.lineGroup,"g"),s=Gt(r).maybeAppendByClassName(Jh.regionGroup,"g"),l=nNe(o,i,n,a),c=rNe(s,i,n);return xt(xt([],se(l),!1),se(c),!1)},t}(qa);function KG(e,t){return Object.fromEntries(Object.entries(e).map(function(n){var r=se(n,2),a=r[0],i=r[1];return[a,os(i,t)]}))}function CC(e,t){return t&&ta(t)?e.filter(t):e}function ZG(e,t){var n=t.startAngle,r=t.endAngle;return(r-n)*e+n}function Cw(e,t){if(t.type==="linear"){var n=se(t.startPos,2),r=n[0],a=n[1],i=se(t.endPos,2),o=i[0],s=i[1],l=se([o-r,s-a],2),c=l[0],u=l[1];return FG([c,u])}var f=Qh(ZG(e,t));return[-Math.sin(f),Math.cos(f)]}function MC(e,t,n){var r=Cw(e,n);return rRe(r,t!=="positive")}function Zg(e,t){return MC(e,t.labelDirection,t)}function oNe(e,t){var n=se(t.startPos,2),r=n[0],a=n[1],i=se(t.endPos,2),o=i[0],s=i[1],l=se([o-r,s-a],2),c=l[0],u=l[1];return[r+c*e,a+u*e]}function sNe(e,t){var n=t.radius,r=se(t.center,2),a=r[0],i=r[1],o=Qh(ZG(e,t));return[a+n*Math.cos(o),i+n*Math.sin(o)]}function Mw(e,t){return t.type==="linear"?oNe(e,t):sNe(e,t)}function PC(e){return Cw(0,e)[1]===0}function QG(e){return Cw(0,e)[0]===0}function JG(e,t){return t-e===360}function Y5(e,t,n,r,a){var i=t-e,o=se([a,a],2),s=o[0],l=o[1],c=se([Qh(e),Qh(t)],2),u=c[0],f=c[1],d=function(S){return[n+a*Math.cos(S),r+a*Math.sin(S)]},h=se(d(u),2),p=h[0],v=h[1],g=se(d(f),2),m=g[0],y=g[1];if(JG(e,t)){var x=(f+u)/2,b=se(d(x),2),E=b[0],_=b[1];return[["M",p,v],["A",s,l,0,1,0,E,_],["A",s,l,0,1,0,m,y]]}var w=i>180?1:0,A=e>t?0:1;return"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(w,",").concat(A,",").concat(m,",").concat(y)}function lNe(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,a=t.center,i=t.radius;return xt(xt([n,r],se(a),!1),[i],!1)}function cNe(e,t,n,r){var a=t.startAngle,i=t.endAngle,o=t.center,s=t.radius;return e.selectAll(Gn.line.class).data([{d:Y5.apply(void 0,xt(xt([a,i],se(o),!1),[s],!1))}],function(l,c){return c}).join(function(l){return l.append("path").attr("className",Gn.line.name).styles(t).styles({d:function(c){return c.d}})},function(l){return l.transition(function(){var c=this,u=J5e(this,lNe(this),xt(xt([a,i],se(o),!1),[s],!1),r.update);if(u){var f=function(){var d=Pn(c.attributes,"__keyframe_data__");c.style.d=Y5.apply(void 0,xt([],se(d),!1))};u.onframe=f,u.onfinish=f}return u}).styles(t)},function(l){return l.remove()}).styles(n).transitions()}function uNe(e,t){t.truncRange,t.truncShape,t.lineExtension}function fNe(e,t,n){n===void 0&&(n=[0,0]);var r=se([e,t,n],3),a=se(r[0],2),i=a[0],o=a[1],s=se(r[1],2),l=s[0],c=s[1],u=se(r[2],2),f=u[0],d=u[1],h=se([l-i,c-o],2),p=h[0],v=h[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),m=se([-f/g,d/g],2),y=m[0],x=m[1];return[y*p,y*v,x*p,x*v]}function X5(e){var t=se(e,2),n=se(t[0],2),r=n[0],a=n[1],i=se(t[1],2),o=i[0],s=i[1];return{x1:r,y1:a,x2:o,y2:s}}function dNe(e,t,n,r){var a=t.showTrunc,i=t.startPos,o=t.endPos,s=t.truncRange,l=t.lineExtension,c=se([i,o],2),u=se(c[0],2),f=u[0],d=u[1],h=se(c[1],2),p=h[0],v=h[1],g=se(l?fNe(i,o,l):new Array(4).fill(0),4),m=g[0],y=g[1],x=g[2],b=g[3],E=function(B){return e.selectAll(Gn.line.class).data(B,function(N,V){return V}).join(function(N){return N.append("line").attr("className",function(V){return"".concat(Gn.line.name," ").concat(V.className)}).styles(n).transition(function(V){return kl(this,X5(V.line),!1)})},function(N){return N.styles(n).transition(function(V){var W=V.line;return kl(this,X5(W),r.update)})},function(N){return N.remove()}).transitions()};if(!a||!s)return E([{line:[[f+m,d+y],[p+x,v+b]],className:Gn.line.name}]);var _=se(s,2),w=_[0],A=_[1],S=p-f,k=v-d,T=se([f+S*w,d+k*w],2),O=T[0],C=T[1],M=se([f+S*A,d+k*A],2),R=M[0],I=M[1],P=E([{line:[[f+m,d+y],[O,C]],className:Gn.lineFirst.name},{line:[[R,I],[p+x,v+b]],className:Gn.lineSecond.name}]);return uNe(e,t),P}function hNe(e,t,n,r){var a=n.showArrow,i=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,l=n.lineArrowSize,c;if(t==="arc"?c=e.select(Gn.line.class):i?c=e.select(Gn.lineSecond.class):c=e.select(Gn.line.class),!a||!o||n.type==="arc"&&JG(n.startAngle,n.endAngle)){var u=c.node();u&&(u.style.markerEnd=void 0);return}var f=Ud(o);f.attr(r),AC(f,l),c.style("markerEnd",f).style("markerEndOffset",-s)}function pNe(e,t,n){var r=t.type,a,i=on(t,"line");return r==="linear"?a=dNe(e,t,$5(i,"arrow"),n):a=cNe(e,t,$5(i,"arrow"),n),hNe(e,r,t,i),a}function vNe(e,t){return MC(e,t.gridDirection,t)}function eW(e){var t=e.type,n=e.gridCenter;return t==="linear"?n:n||e.center}function gNe(e,t){var n=t.gridLength;return e.map(function(r,a){var i=r.value,o=se(Mw(i,t),2),s=o[0],l=o[1],c=se(Kc(vNe(i,t),n),2),u=c[0],f=c[1];return{id:a,points:[[s,l],[s+u,l+f]]}})}function mNe(e,t){var n=t.gridControlAngles,r=eW(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var a=se(r,2),i=a[0],o=a[1];return e.map(function(s,l){var c=s.value,u=se(Mw(c,t),2),f=u[0],d=u[1],h=se([f-i,d-o],2),p=h[0],v=h[1],g=[];return n.forEach(function(m){var y=Qh(m),x=se([Math.cos(y),Math.sin(y)],2),b=x[0],E=x[1],_=p*b-v*E+i,w=p*E+v*b+o;g.push([_,w])}),{points:g,id:l}})}function yNe(e,t,n,r){var a=on(n,"grid"),i=a.type,o=a.areaFill,s=eW(n),l=CC(t,n.gridFilter),c=i==="segment"?gNe(l,n):mNe(l,n),u=ze(ze({},a),{center:s,areaFill:ta(o)?l.map(function(f,d){return os(o,[f,d,l])}):o,animate:r,data:c});return e.selectAll(Gn.grid.class).data([1]).join(function(f){return f.append(function(){return new iNe({style:u})}).attr("className",Gn.grid.name)},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}var Mk=function(){function e(t,n,r,a){this.set(t,n,r,a)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,n,r){var a=this,i=a.x1,o=a.y1,s=a.x2,l=a.y2,c=Math.cos(t),u=Math.sin(t),f=n-n*c+r*u,d=r-n*u-r*c,h=[[c*i-u*l+f,u*i+c*l+d],[c*s-u*l+f,u*s+c*l+d],[c*i-u*o+f,u*i+c*o+d],[c*s-u*o+f,u*s+c*o+d]];return h},e.prototype.set=function(t,n,r,a){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),a<n?(this.y2=n,this.y1=a):(this.y1=n,this.y2=a),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e}();function Pk(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),a=se(r.min,2),i=a[0],o=a[1],s=se(r.max,2),l=s[0],c=s[1],u=e.getBBox(),f=u.width,d=u.height,h=d,p=0,v=0,g=i,m=o,y=DG(e);if(y){h-=1.5;var x=y.style.textAlign,b=y.style.textBaseline;x==="center"?g=(i+l)/2:(x==="right"||x==="end")&&(g=l),b==="middle"?m=(o+c)/2:b==="bottom"&&(m=c)}var E=se(ki(t),4),_=E[0],w=_===void 0?0:_,A=E[1],S=A===void 0?0:A,k=E[2],T=k===void 0?w:k,O=E[3],C=O===void 0?S:O,M=new Mk((p+=i)-C,(v+=o)-w,p+f+S,v+h+T);return e.setEulerAngles(n),M.rotatedPoints(Qh(n),g,m)}function _v(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function Ev(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r<0?2:1}function xNe(e,t){var n=Ev(e[0],e[1],t[0]),r=Ev(e[0],e[1],t[1]),a=Ev(t[0],t[1],e[0]),i=Ev(t[0],t[1],e[1]);return!!(n!==r&&a!==i||n===0&&_v(e,t[0])||r===0&&_v(e,t[1])||a===0&&_v(t,e[0])||i===0&&_v(t,e[1]))}function bNe(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],a=0,i=0;do{var o=[e[i],e[(i+1)%n]];if(xNe(o,r)){if(Ev(o[0],t,o[1])===0)return _v(o,t);a++}i=(i+1)%n}while(i!==0);return!!(a&1)}function wNe(e,t){return t.every(function(n){return bNe(e,n)})}function _Ne(e,t,n){var r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=[[r,i],[a,i],[a,o],[r,o]],l=Pk(t,n);return wNe(s,l)}function ENe(e,t){var n=se(e,4),r=n[0],a=n[1],i=n[2],o=n[3],s=se(t,4),l=s[0],c=s[1],u=s[2],f=s[3],d=i-r,h=o-a,p=u-l,v=f-c,g=d*v-p*h;if(g===0)return!1;var m=g>0,y=r-l,x=a-c,b=d*x-h*y;if(b<0===m)return!1;var E=p*x-v*y;return!(E<0===m||b>g===m||E>g===m)}function SNe(e,t){var n=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return n.some(function(r){return ENe(t,r)})}function ANe(e,t,n){var r,a,i=Pk(e,n).flat(1),o=Pk(t,n).flat(1),s=[[i[0],i[1],i[2],i[3]],[i[0],i[1],i[4],i[5]],[i[4],i[5],i[6],i[7]],[i[2],i[3],i[6],i[7]]];try{for(var l=Dg(s),c=l.next();!c.done;c=l.next()){var u=c.value;if(SNe(o,u))return!0}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return!1}function kNe(e,t){var n=e.type,r=e.labelDirection,a=e.crossSize;if(!a)return!1;if(n==="arc"){var i=e.center,o=e.radius,s=se(i,2),l=s[0],c=s[1],u=r==="negative"?0:a,f=-o-u,d=o+u,h=se(ki(t),4),p=h[0],v=h[1],g=h[2],m=h[3];return new Mk(l+f-m,c+f-p,l+d+v,c+d+g)}var y=se(e.startPos,2),x=y[0],b=y[1],E=se(e.endPos,2),_=E[0],w=E[1],A=se(QG(e)?[-t,0,t,0]:[0,t,0,-t],4),S=A[0],k=A[1],T=A[2],O=A[3],C=Zg(0,e),M=Kc(C,a),R=new Mk(x,b,_,w);return R.x1+=O,R.y1+=S,R.x2+=k+M[0],R.y2+=T+M[1],R}function Pw(e,t,n){var r,a,i=t.crossPadding,o=new Set,s=null,l=kNe(t,i),c=function(p){return l?_Ne(l,p):!0},u=function(p,v){return!p||!p.firstChild?!0:!ANe(p.firstChild,v.firstChild,ki(n))};try{for(var f=Dg(e),d=f.next();!d.done;d=f.next()){var h=d.value;c(h)?!s||u(s,h)?s=h:(o.add(s),o.add(h)):o.add(h)}}catch(p){r={error:p}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return Array.from(o)}function YE(e,t){return t===void 0&&(t={}),lt(e)?0:typeof e=="number"?e:Math.floor(Y5e(e,t))}function TNe(e,t,n,r){if(!(e.length<=0)){var a=t.suffix,i=a===void 0?"...":a,o=t.minLength,s=t.maxLength,l=s===void 0?1/0:s,c=t.step,u=c===void 0?" ":c,f=t.margin,d=f===void 0?[0,0,0,0]:f,h=NG(r.getTextShape(e[0])),p=YE(u,h),v=o?YE(o,h):p,g=YE(l,h);(lt(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(_){return _.getBBox().width})));var m=e.slice(),y=se(d,4);y[0],y[1],y[2],y[3];for(var x=function(_){if(m.forEach(function(w){r.ellipsis(r.getTextShape(w),_,i)}),m=Pw(e,n,d),m.length<1)return{value:void 0}},b=g;b>v+p;b-=p){var E=x(b);if(typeof E=="object")return E.value}}}var ONe={parity:function(e,t){var n=t.seq,r=n===void 0?2:n;return e.filter(function(a,i){return i%r?(Sf(a),!1):!0})}},CNe=function(e){return e.filter(V5e)};function MNe(e,t,n,r){var a=e.length,i=t.keepHeader,o=t.keepTail;if(!(a<=1||a===2&&i&&o)){var s=ONe.parity,l=function(x){return x.forEach(r.show),x},c=2,u=e.slice(),f=e.slice(),d=Math.min.apply(Math,xt([1],se(e.map(function(x){return x.getBBox().width})),!1));if(n.type==="linear"&&(PC(n)||QG(n))){var h=z5(e[0]).left,p=z5(e[a-1]).right,v=Math.abs(p-h)||1;c=Math.max(Math.floor(a*d/v),c)}var g,m;for(i&&(g=u.splice(0,1)[0]),o&&(m=u.splice(-1,1)[0],u.reverse()),l(u);c<e.length&&Pw(CNe(m?xt(xt([m],se(f),!1),[g],!1):xt([g],se(f),!1)),n,t==null?void 0:t.margin).length;){if(m&&!g&&c%2===0){var y=u.splice(0,1);y.forEach(r.hide)}else if(m&&g){var y=u.splice(0,1);y.forEach(r.hide)}f=s(l(u),{seq:c}),c++}}}function PNe(e,t,n,r){var a,i,o=t.optionalAngles,s=o===void 0?[0,45,90]:o,l=t.margin,c=t.recoverWhenFailed,u=c===void 0?!0:c,f=e.map(function(m){return m.getLocalEulerAngles()}),d=function(){return Pw(e,n,l).length<1},h=function(m){return e.forEach(function(y,x){var b=Array.isArray(m)?m[x]:m;r.rotate(y,+b)})};try{for(var p=Dg(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(h(g),d())return}}catch(m){a={error:m}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u&&h(f)}function INe(e){var t=e.type,n=e.labelDirection;return t==="linear"&&PC(e)?n==="negative"?"bottom":"top":"middle"}function RNe(e,t,n,r,a){var i,o=t.maxLines,s=o===void 0?3:o,l=t.recoverWhenFailed,c=l===void 0?!0:l,u=t.margin,f=u===void 0?[0,0,0,0]:u,d=os((i=t.wordWrapWidth)!==null&&i!==void 0?i:50,[a]),h=e.map(function(x){return x.attr("maxLines")||1}),p=Math.min.apply(Math,xt([],se(h),!1)),v=function(){return Pw(e,n,f).length<1},g=INe(n),m=function(x){return e.forEach(function(b,E){var _=Array.isArray(x)?x[E]:x;r.wrap(b,d,_,g)})};if(!(p>s)){if(n.type==="linear"&&PC(n)){if(m(s),v())return}else for(var y=p;y<=s;y++)if(m(y),v())return;c&&m(h)}}var NNe=new Map([["hide",MNe],["rotate",PNe],["ellipsis",TNe],["wrap",RNe]]);function DNe(e,t,n){return t.labelOverlap.length<1?!1:n==="hide"?!G5e(e[0]):n==="rotate"?!e.some(function(r){var a;return!!(!((a=r.attr("transform"))===null||a===void 0)&&a.includes("rotate"))}):n==="ellipsis"||n==="wrap"?e.filter(function(r){return r.querySelector("text")}).length>=1:!0}function LNe(e,t,n,r){var a=t.labelOverlap,i=a===void 0?[]:a;i.length&&i.forEach(function(o){var s=o.type,l=NNe.get(s);DNe(e,t,s)&&(l==null||l(e,o,t,r,n))})}function FNe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r==="positive"?-1:1};return e.reduce(function(r,a){return r*n(a)},1)}function q5(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function Ik(e,t){var n=se(e,2),r=n[0],a=n[1],i=se(t,2),o=i[0],s=i[1],l=se([r*o+a*s,r*s-a*o],2),c=l[0],u=l[1];return Math.atan2(u,c)}function BNe(e){var t=(e+360)%180;return pi(t,-90,90)||(t+=180),t}function $Ne(e,t,n){var r,a=n.labelAlign,i=(r=t.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(i)return t.getLocalEulerAngles();var o=0,s=Zg(e.value,n),l=Cw(e.value,n);return a==="horizontal"?0:(a==="perpendicular"?o=Ik([1,0],s):o=Ik([l[0]<0?-1:1,0],l),BNe(IG(o)))}function tW(e,t,n){var r=n.type,a=n.labelAlign,i=Zg(e,n),o=q5(t),s=q5(IG(Ik([1,0],i))),l="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(l="center",c=i[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?l="center":s===0?(pi(o,0,90,!1,!0)||pi(o,0,90)||pi(o,270,360))&&(l="start"):s===90?pi(o,0,90,!1,!0)?l="start":(pi(o,90,180)||pi(o,270,360))&&(l="end"):s===270?pi(o,0,90,!1,!0)?l="end":(pi(o,90,180)||pi(o,270,360))&&(l="start"):s===180&&(o===90?l="start":(pi(o,0,90)||pi(o,270,360))&&(l="end")):a==="parallel"?pi(s,0,180,!0)?c="top":c="bottom":a==="horizontal"?pi(s,90,270,!1)?l="end":(pi(s,270,360,!1)||pi(s,0,90))&&(l="start"):a==="perpendicular"&&(pi(s,90,270)?l="end":l="start"),{textAlign:l,textBaseline:c}}function jNe(e,t,n){t.setLocalEulerAngles(e);var r=t.__data__.value,a=tW(r,e,n),i=t.querySelector(Gn.labelItem.class);i&&nW(i,a)}function K5(e,t,n){var r=n.showTick,a=n.tickLength,i=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,l=t.indexOf(e),c=os(s,[e,l,t]),u=se([Zg(e.value,n),FNe(o,i)],2),f=u[0],d=u[1],h=d===1?os(r?a:0,[e,l,t]):0,p=se(wv(Kc(f,c+h),Mw(e.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function zNe(e,t,n,r){var a=r.labelFormatter,i=ta(a)?function(){return Ud(os(a,[e,t,n,Zg(e.value,r)]))}:function(){return Ud(e.label||"")};return i}function nW(e,t){e.nodeName==="text"&&e.attr(t)}function UNe(e,t){LNe(this.node().childNodes,e,t,{hide:Sf,show:Kg,rotate:function(n,r){jNe(+r,n,e)},ellipsis:function(n,r,a){n&&Tk(n,r||1/0,a)},wrap:function(n,r,a){n&&X5e(n,r,a)},getTextShape:function(n){return n.querySelector("text")}})}function Z5(e,t,n,r,a){var i=n.indexOf(t),o=Gt(e).append(zNe(t,i,n,a)).attr("className",Gn.labelItem.name).node(),s=se(mu(KG(r,[t,i,n])),2),l=s[0],c=s[1],u=c.transform,f=Ra(c,["transform"]);BG(o,u);var d=$Ne(t,o,a);return o.getLocalEulerAngles()||o.setLocalEulerAngles(d),nW(o,ze(ze({},tW(t.value,d,a)),l)),e.attr(f),o}function HNe(e,t,n,r,a){var i=CC(t,n.labelFilter),o=on(n,"label"),s,l=e.selectAll(Gn.label.class).data(i,function(c,u){return u}).join(function(c){return c.append("g").attr("className",Gn.label.name).transition(function(u){Z5(this,u,t,o,n);var f=K5(u,t,n),d=f.x,h=f.y;return this.style.transform="translate(".concat(d,", ").concat(h,")"),null})},function(c){return c.transition(function(u){var f=this.querySelector(Gn.labelItem.class),d=Z5(this,u,t,o,n),h=ZRe(f,d,r.update),p=K5(u,t,n),v=p.x,g=p.y,m=kl(this,{transform:"translate(".concat(v,", ").concat(g,")")},r.update);return xt(xt([],se(h),!1),[m],!1)})},function(c){return s=c,c.transition(function(){var u=this,f=Ow(this.childNodes[0],r.exit);return Ep(f,function(){return Gt(u).remove()}),f}),s}).transitions();return qRe(l,function(){UNe.call(e,n,a)}),l}function rW(e,t){return MC(e,t.tickDirection,t)}function GNe(e,t){var n=se(e,2),r=n[0],a=n[1];return[[0,0],[r*t,a*t]]}function WNe(e,t,n,r,a){var i=a.tickLength,o=se(GNe(r,os(i,[e,t,n])),2),s=se(o[0],2),l=s[0],c=s[1],u=se(o[1],2),f=u[0],d=u[1];return{x1:l,x2:f,y1:c,y2:d}}function VNe(e,t,n,r,a){var i=a.tickFormatter,o=rW(t.value,a),s="line";return ta(i)&&(s=function(){return os(i,[t,n,r,o])}),e.append(s).attr("className",Gn.tickItem.name)}function YNe(e,t,n,r,a,i,o){var s=rW(e.value,i),l=WNe(e,t,n,s,i),c=l.x1,u=l.x2,f=l.y1,d=l.y2,h=se(mu(KG(o,[e,t,n,s])),2),p=h[0],v=h[1];r.node().nodeName==="line"&&r.styles(ze({x1:c,x2:u,y1:f,y2:d},p)),a.attr(v),r.styles(p)}function Q5(e,t,n,r,a,i){var o=VNe(Gt(this),e,t,n,r);YNe(e,t,n,o,this,r,a);var s=se(Mw(e.value,r),2),l=s[0],c=s[1];return kl(this,{transform:"translate(".concat(l,", ").concat(c,")")},i)}function XNe(e,t,n,r){var a=CC(t,n.tickFilter),i=on(n,"tick");return e.selectAll(Gn.tick.class).data(a,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",Gn.tick.name).transition(function(s,l){return Q5.call(this,s,l,a,n,i,!1)})},function(o){return o.transition(function(s,l){return this.removeChildren(),Q5.call(this,s,l,a,n,i,r.update)})},function(o){return o.transition(function(){var s=this,l=Ow(this.childNodes[0],r.exit);return Ep(l,function(){return s.remove()}),l})}).transitions()}var J5=qs({text:"text"},"title");function Iw(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}function qNe(e,t){var n=e.attributes,r=n.position,a=n.spacing,i=n.inset,o=n.text,s=e.getBBox(),l=t.getBBox(),c=Iw(r),u=se(ki(o?a:0),4),f=u[0],d=u[1],h=u[2],p=u[3],v=se(ki(i),4),g=v[0],m=v[1],y=v[2],x=v[3],b=se([p+d,f+h],2),E=b[0],_=b[1],w=se([x+m,g+y],2),A=w[0],S=w[1];if(c[0]==="l")return new Cr(s.x,s.y,l.width+s.width+E+A,Math.max(l.height+S,s.height));if(c[0]==="t")return new Cr(s.x,s.y,Math.max(l.width+A,s.width),l.height+s.height+_+S);var k=se([t.attributes.width||l.width,t.attributes.height||l.height],2),T=k[0],O=k[1];return new Cr(l.x,l.y,T+s.width+E+A,O+s.height+_+S)}function KNe(e,t){var n=Object.entries(t).reduce(function(r,a){var i=se(a,2),o=i[0],s=i[1],l=e.node().attr(o);return l||(r[o]=s),r},{});e.styles(n)}function ZNe(e){var t,n,r,a,i=e,o=i.width,s=i.height,l=i.position,c=se([+o/2,+s/2],2),u=c[0],f=c[1],d=se([+u,+f,"center","middle"],4),h=d[0],p=d[1],v=d[2],g=d[3],m=Iw(l);return m.includes("l")&&(t=se([0,"start"],2),h=t[0],v=t[1]),m.includes("r")&&(n=se([+o,"end"],2),h=n[0],v=n[1]),m.includes("t")&&(r=se([0,"top"],2),p=r[0],g=r[1]),m.includes("b")&&(a=se([+s,"bottom"],2),p=a[0],g=a[1]),{x:h,y:p,textAlign:v,textBaseline:g}}var aW=function(e){Nr(t,e);function t(n){return e.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,a=r.width,i=r.height,o=r.position,s=r.spacing,l=r.inset,c=n.querySelector(J5.text.class);if(!c)return new Cr(0,0,+a,+i);var u=c.getBBox(),f=u.width,d=u.height,h=se(ki(s),4),p=h[0],v=h[1],g=h[2],m=h[3],y=se([0,0,+a,+i],4),x=y[0],b=y[1],E=y[2],_=y[3],w=Iw(o);if(w.includes("i"))return new Cr(x,b,E,_);w.forEach(function(I,P){var B,N,V,W;I==="t"&&(B=se(P===0?[d+g,+i-d-g]:[0,+i],2),b=B[0],_=B[1]),I==="r"&&(N=se([+a-f-m],1),E=N[0]),I==="b"&&(V=se([+i-d-p],1),_=V[0]),I==="l"&&(W=se(P===0?[f+v,+a-f-v]:[0,+a],2),x=W[0],E=W[1])});var A=se(ki(l),4),S=A[0],k=A[1],T=A[2],O=A[3],C=se([O+k,S+T],2),M=C[0],R=C[1];return new Cr(x+O,b+S,E-M,_-R)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new Cr(0,0,0,0)},t.prototype.render=function(n,r){var a=this;n.width,n.height,n.position,n.spacing;var i=Ra(n,["width","height","position","spacing"]),o=se(mu(i),1),s=o[0],l=ZNe(n),c=l.x,u=l.y,f=l.textAlign,d=l.textBaseline;jo(!!i.text,Gt(r),function(h){a.title=h.maybeAppendByClassName(J5.text,"text").styles(s).call(KNe,{x:c,y:u,textAlign:f,textBaseline:d}).node()})},t}(qa);function QNe(e,t,n){var r=n.titlePosition,a=r===void 0?"lb":r,i=n.titleSpacing,o=Iw(a),s=e.node().getLocalBounds(),l=se(s.min,2),c=l[0],u=l[1],f=se(s.halfExtents,2),d=f[0],h=f[1],p=se(t.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],m=se([c+d,u+h],2),y=m[0],x=m[1],b=se(ki(i),4),E=b[0],_=b[1],w=b[2],A=b[3];if(["start","end"].includes(a)&&n.type==="linear"){var S=n.startPos,k=n.endPos,T=se(a==="start"?[S,k]:[k,S],2),O=T[0],C=T[1],M=FG([-C[0]+O[0],-C[1]+O[1]]),R=se(Kc(M,E),2),I=R[0],P=R[1];return{x:O[0]+I,y:O[1]+P}}return o.includes("t")&&(x-=h+g+E),o.includes("r")&&(y+=d+v+_),o.includes("l")&&(y-=d+v+A),o.includes("b")&&(x+=h+g+w),{x:y,y:x}}function JNe(e,t,n){var r=e.getGeometryBounds().halfExtents,a=r[1]*2;if(t==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(a/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(a/2,")")}return""}function eR(e,t,n,r,a){var i=on(r,"title"),o=se(mu(i),2),s=o[0],l=o[1],c=l.transform,u=l.transformOrigin,f=Ra(l,["transform","transformOrigin"]);t.styles(f);var d=c||JNe(e.node(),s.direction,s.position);e.styles(ze(ze({},s),{transformOrigin:u})),BG(e.node(),d);var h=QNe(Gt(n._offscreen||n.querySelector(Gn.mainGroup.class)),t,r),p=h.x,v=h.y,g=kl(t.node(),{transform:"translate(".concat(p,", ").concat(v,")")},a);return g}function eDe(e,t,n,r){var a=n.titleText;return e.selectAll(Gn.title.class).data([{title:a}].filter(function(i){return!!i.title}),function(i,o){return i.title}).join(function(i){return i.append(function(){return Ud(a)}).attr("className",Gn.title.name).transition(function(){return eR(Gt(this),e,t,n,r.enter)})},function(i){return i.transition(function(){return eR(Gt(this),e,t,n,r.update)})},function(i){return i.remove()}).transitions()}function tR(e,t,n,r){var a=e.showLine,i=e.showTick,o=e.showLabel,s=t.maybeAppendByClassName(Gn.lineGroup,"g"),l=jo(a,s,function(h){return pNe(h,e,r)})||[],c=t.maybeAppendByClassName(Gn.tickGroup,"g"),u=jo(i,c,function(h){return XNe(h,n,e,r)})||[],f=t.maybeAppendByClassName(Gn.labelGroup,"g"),d=jo(o,f,function(h){return HNe(h,n,e,r,t.node())})||[];return xt(xt(xt([],se(l),!1),se(u),!1),se(d),!1).filter(function(h){return!!h})}var IC=function(e){Nr(t,e);function t(n){return e.call(this,n,OC)||this}return t.prototype.render=function(n,r,a){var i=this,o=n.titleText,s=n.data,l=n.animate,c=n.showTitle,u=n.showGrid,f=n.dataThreshold,d=n.truncRange,h=lRe(s,f).filter(function(E){var _=E.value;return!(d&&_>d[0]&&_<d[1])}),p=V5(a===void 0?l:a),v=Gt(r).maybeAppendByClassName(Gn.gridGroup,"g"),g=jo(u,v,function(E){return yNe(E,h,n,p)})||[],m=Gt(r).maybeAppendByClassName(Gn.mainGroup,"g");o&&(!this.initialized&&p.enter||this.initialized&&p.update)&&tR(n,Gt(this.offscreenGroup),h,V5(!1));var y=tR(n,Gt(m.node()),h,p),x=Gt(r).maybeAppendByClassName(Gn.titleGroup,"g"),b=jo(c,x,function(E){return eDe(E,i,n,p)})||[];return xt(xt(xt([],se(g),!1),se(y),!1),se(b),!1).flat().filter(function(E){return!!E})},t}(qa),ys=qs({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),tDe=function(e){Nr(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:BRe(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(a,i){return"".concat(a,"/").concat(i)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new Ml({class:ys.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new Ml({class:ys.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return An(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var n=this.pageViews,r=se(xRe(n.map(function(f){var d=f.getBBox(),h=d.width,p=d.height;return[h,p]})).map(function(f){return Math.max.apply(Math,xt([],se(f),!1))}),2),a=r[0],i=r[1],o=this.attributes,s=o.pageWidth,l=s===void 0?a:s,c=o.pageHeight,u=c===void 0?i:c;return{pageWidth:l,pageHeight:u}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),r=n.x,a=n.y,i=this.controllerShape,o=this.pageShape,s=o.pageWidth,l=o.pageHeight;return new Cr(r,a,s+i.width,l)},t.prototype.goTo=function(n){var r=this,a=this.attributes.animate,i=this,o=i.currPage,s=i.playState,l=i.playWindow,c=i.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var u=se(this.getFollowingPageDiff(n),2),f=u[0],d=u[1];this.playState="running";var h=HG(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-d,")")}],a);return Ep(h,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),h},t.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,a=this.currPage;if(!n&&a<=0)return null;var i=n?(a-1+r)%r:An(a-1,0,r);return this.goTo(i)},t.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,a=this.currPage;if(!n&&a>=r-1)return null;var i=n?(a+1)%r:An(a+1,0,r);return this.goTo(i)},t.prototype.renderClipPath=function(n){var r=this.pageShape,a=r.pageWidth,i=r.pageHeight;if(!a||!i){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(ys.clipPath,"rect").styles({width:a,height:i}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,a){n.includes(a)?Kg(r):Sf(r)})},t.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,a=n.nextBtnGroup,i=n.pageInfoGroup,o=this.attributes,s=o.orientation,l=o.controllerPadding,c=i.getBBox(),u=c.width;c.height;var f=se(s==="horizontal"?[-180,0]:[-90,90],2),d=f[0],h=f[1];r.setLocalEulerAngles(d),a.setLocalEulerAngles(h);var p=r.getBBox(),v=p.width,g=p.height,m=a.getBBox(),y=m.width,x=m.height,b=Math.max(v,u,y),E=s==="horizontal"?{offset:[[0,0],[v/2+l,0],[v+u+l*2,0]],textAlign:"start"}:{offset:[[b/2,-g-l],[b/2,0],[b/2,x+l]],textAlign:"center"},_=se(E.offset,3),w=se(_[0],2),A=w[0],S=w[1],k=se(_[1],2),T=k[0],O=k[1],C=se(_[2],2),M=C[0],R=C[1],I=E.textAlign,P=i.querySelector("text");P&&(P.style.textAlign=I),r.setLocalPosition(A,S),i.setLocalPosition(T,O),a.setLocalPosition(M,R)},t.prototype.updatePageInfo=function(){var n,r=this,a=r.currPage,i=r.pageViews,o=r.attributes.formatter;i.length<2||((n=this.pageInfoGroup.querySelector(ys.pageInfo.class))===null||n===void 0||n.attr("text",o(a+1,i.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var a=this.attributes.orientation,i=this.pageShape,o=i.pageWidth,s=i.pageHeight,l=n<r?-1:1;return a==="horizontal"?[l*o,0]:[0,l*s]},t.prototype.prepareFollowingPage=function(n){var r=this,a=r.currPage,i=r.pageViews;if(this.setVisiblePages([n,a]),n!==a){var o=se(this.getFollowingPageDiff(n),2),s=o[0],l=o[1];i[n].setLocalPosition(s,l)}},t.prototype.renderController=function(n){var r=this,a=this.attributes.controllerSpacing,i=this.pageShape,o=i.pageWidth,s=i.pageHeight,l=this.pageViews.length>=2,c=n.maybeAppendByClassName(ys.controller,"g");if(Tw(c.node(),l),!!l){var u=on(this.attributes,"button"),f=on(this.attributes,"pageNum"),d=se(mu(u),2),h=d[0],p=d[1],v=h.size,g=Ra(h,["size"]),m=!c.select(ys.prevBtnGroup.class).node(),y=c.maybeAppendByClassName(ys.prevBtnGroup,"g").styles(p);this.prevBtnGroup=y.node();var x=y.maybeAppendByClassName(ys.prevBtn,"path"),b=c.maybeAppendByClassName(ys.nextBtnGroup,"g").styles(p);this.nextBtnGroup=b.node();var E=b.maybeAppendByClassName(ys.nextBtn,"path");[x,E].forEach(function(w){w.styles(ze(ze({},g),{transformOrigin:"center"})),AC(w.node(),v)});var _=c.maybeAppendByClassName(ys.pageInfoGroup,"g");this.pageInfoGroup=_.node(),_.maybeAppendByClassName(ys.pageInfo,"text").styles(f),this.updatePageInfo(),c.node().setLocalPosition(o+a,s/2),m&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},t.prototype.render=function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(i,", ").concat(s,")"));var l=Gt(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var n=this,r=A$(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(Or.INSERTED,r),this.playWindow.addEventListener(Or.REMOVED,r)},t}(qa);function nDe(e,t,n){var r=Math.round((e-n)/t);return n+r*t}function rDe(e,t,n){var r=1.4,a=r*n;return[["M",e-n,t-a],["L",e+n,t-a],["L",e+n,t+a],["L",e-n,t+a],["Z"]]}var iW=1.4,oW=.4;function aDe(e,t,n){var r=n,a=r*iW,i=r/2,o=r/6,s=e+a*oW;return[["M",e,t],["L",s,t+i],["L",e+a,t+i],["L",e+a,t-i],["L",s,t-i],["Z"],["M",s,t+o],["L",e+a-2,t+o],["M",s,t-o],["L",e+a-2,t-o]]}function iDe(e,t,n){var r=n,a=r*iW,i=r/2,o=r/6,s=t+a*oW;return[["M",e,t],["L",e-i,s],["L",e-i,t+a],["L",e+i,t+a],["L",e+i,s],["Z"],["M",e-o,s],["L",e-o,t+a-2],["M",e+o,s],["L",e+o,t+a-2]]}Nn.registerSymbol("hiddenHandle",rDe);Nn.registerSymbol("verticalHandle",aDe);Nn.registerSymbol("horizontalHandle",iDe);function oDe(e,t,n,r){var a,i=se(e,2),o=i[0],s=i[1],l=se(t,2),c=l[0],u=l[1],f=se(n,2),d=f[0],h=f[1],p=se([c,u],2),v=p[0],g=p[1],m=g-v;return v>g&&(a=se([g,v],2),v=a[0],g=a[1]),m>s-o?[o,s]:v<o?d===o&&h===g?[o,g]:[o,m+o]:g>s?h===s&&d===v?[v,s]:[s-m,s]:[v,g]}function uc(e,t,n){return e===void 0&&(e="horizontal"),e==="horizontal"?t:n}var an,sDe="component-poptip",qt={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},nR=(an={},an[".".concat(qt.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},an[".".concat(qt.TEXT)]={"text-align":"center"},an[".".concat(qt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},an[".".concat(qt.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},an[".".concat(qt.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},an[".".concat(qt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},an[".".concat(qt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},an[".".concat(qt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},an[".".concat(qt.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},an[".".concat(qt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},an[".".concat(qt.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},an[".".concat(qt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},an[".".concat(qt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},an[".".concat(qt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},an[".".concat(qt.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},an[".".concat(qt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},an["[data-position='top'] .".concat(qt.ARROW)]={bottom:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},an["[data-position='left'] .".concat(qt.ARROW)]={right:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},an["[data-position='right'] .".concat(qt.ARROW)]={left:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},an["[data-position='bottom'] .".concat(qt.ARROW)]={top:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},an["[data-position='top-left'] .".concat(qt.ARROW)]={left:"10px",bottom:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},an["[data-position='top-right'] .".concat(qt.ARROW)]={right:"10px",bottom:"-2px"},an[".".concat(qt.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},an["[data-position='left-top'] .".concat(qt.ARROW)]={right:"-2px",top:"8px"},an[".".concat(qt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},an["[data-position='left-bottom'] .".concat(qt.ARROW)]={right:"-2px",bottom:"8px"},an[".".concat(qt.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},an["[data-position='right-top'] .".concat(qt.ARROW)]={left:"-2px",top:"8px"},an[".".concat(qt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},an["[data-position='right-bottom'] .".concat(qt.ARROW)]={left:"-2px",bottom:"8px"},an[".".concat(qt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},an["[data-position='bottom-left'] .".concat(qt.ARROW)]={top:"-2px",left:"8px"},an[".".concat(qt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},an["[data-position='bottom-right'] .".concat(qt.ARROW)]={top:"-2px",right:"8px"},an),lDe=void 0;function cDe(e,t,n,r,a,i){if(a===void 0&&(a=!1),i===void 0&&(i=!1),i)return[e,t];var o=n.getBoundingClientRect(),s=o.x,l=o.y,c=o.width,u=o.height;switch(r){case"top":return a?[s+c/2,l]:[e,l];case"left":return a?[s,l+u/2]:[s,t];case"bottom":return a?[s+c/2,l+u]:[e,l+u];case"right":return a?[s+c,l+u/2]:[s+c,t];case"top-right":case"right-top":return[s+c,l];case"left-bottom":case"bottom-left":return[s,l+u];case"right-bottom":case"bottom-right":return[s+c,l+u];case"top-left":case"left-top":default:return[s,l]}}var uDe=function(e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(lDe,n)),t}};function fDe(e){var t=e&&document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),document.body.appendChild(t)),t}function dDe(e){var t=uDe(fDe)(e);return t}var hDe=function(e){Nr(t,e);function t(n){var r=e.call(this,Ie({style:{id:sDe}},t.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.visibility=this.style.visibility,this.updatePoptipElement()},t.prototype.update=function(n){this.attr(Ie({},this.style,n)),this.render(this.attributes,this)},t.prototype.bind=function(n,r){var a=this;if(n){var i=this.style.text,o=function(l){var c=n,u=a.style,f=i;if(r){var d=typeof r=="function"?r.call(null,l):r,h=d.html,p=d.target,v=Ra(d,["html","target"]);u=VEe({},a.style,v),(p||p===!1)&&(c=p),typeof h=="string"&&(f=h)}var g=u.position,m=u.arrowPointAtCenter,y=u.follow,x=u.offset;if(c){var b=l,E=b.clientX,_=b.clientY,w=se(cDe(E,_,c,g,m,y),2),A=w[0],S=w[1];a.showTip(A,S,{text:f,position:g,offset:x})}else a.hideTip()},s=function(){a.hideTip()};n.addEventListener("mousemove",o),n.addEventListener("mouseleave",s),this.map.set(n,[o,s])}},t.prototype.unbind=function(n){if(this.map.has(n)){var r=se(this.map.get(n)||[],2),a=r[0],i=r[1];a&&n.removeEventListener("mousemove",a),i&&n.removeEventListener("mouseleave",i),this.map.delete(n)}},t.prototype.clear=function(){this.container.innerHTML=""},t.prototype.destroy=function(){var n=this,r;xt([],se(this.map.keys()),!1).forEach(function(a){return n.unbind(a)}),(r=this.container)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},t.prototype.showTip=function(n,r,a){var i=Pn(a,"text");if(!(i&&typeof i!="string")&&(this.applyStyles(),n&&r&&a)){var o=a.offset,s=a.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(n,r,o),typeof i=="string"){var l=this.container.querySelector(".".concat(qt.TEXT));l&&(l.innerHTML=i)}this.visibility="visible",this.container.style.visibility="visible"}},t.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},t.prototype.getContainer=function(){return this.container},t.prototype.getClassName=function(){var n=this.style.containerClassName;return"".concat(qt.CONTAINER).concat(n?" ".concat(n):"")},t.prototype.initShape=function(){var n=this,r=this.style.id;this.container=dDe(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return n.showTip()}),this.container.addEventListener("mouseleave",function(){return n.hideTip()})},t.prototype.updatePoptipElement=function(){var n=this.container;this.clear();var r=this.style,a=r.id,i=r.template,o=r.text;this.container.setAttribute("id",a),this.container.className=this.getClassName();var s='<span class="'.concat(qt.ARROW,'"></span>');n.innerHTML=s,In(i)?n.innerHTML+=i:i&&WEe(i)&&n.appendChild(i),o&&(n.getElementsByClassName(qt.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},t.prototype.applyStyles=function(){var n=Pl({},nR,this.style.domStyles),r=Object.entries(n).reduce(function(i,o){var s=se(o,2),l=s[0],c=s[1],u=Object.entries(c).reduce(function(f,d){var h=se(d,2),p=h[0],v=h[1];return"".concat(f).concat(p,": ").concat(v,";")},"");return"".concat(i).concat(l,"{").concat(u,"}")},"");if(this.domStyles!==r){this.domStyles=r;var a=this.container.querySelector("style");a&&this.container.removeChild(a),a=document.createElement("style"),a.innerHTML=r,this.container.appendChild(a)}},t.prototype.setOffsetPosition=function(n,r,a){a===void 0&&(a=this.style.offset);var i=se(a,2),o=i[0],s=o===void 0?0:o,l=i[1],c=l===void 0?0:l;this.container.style.left="".concat(n+s,"px"),this.container.style.top="".concat(r+c,"px")},t.tag="poptip",t.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:nR,template:'<div class="'.concat(qt.TEXT,'"></div>')}},t}(qa),oo=qs({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),pDe={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function vDe(e){var t=e.querySelector(oo.marker.class);return t?t.style:{}}var gDe=function(e){Nr(t,e);function t(n){return e.call(this,n,{span:[1,1],marker:function(){return new mC({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(t.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,a=this.attributes.markerSize,i=n.node().getBBox(),o=i.width,s=i.height,l=r.node().getBBox(),c=l.width,u=l.height;return{markerWidth:a,labelWidth:o,valueWidth:c,height:Math.max(a,s,u)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=se(ki(n),2),a=r[0],i=r[1],o=this.showValue?i:0,s=a+o;return[a/s,o/s]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n,r=this.attributes,a=r.markerSize,i=r.width,o=this.actualSpace,s=o.markerWidth,l=o.height,c=this.actualSpace,u=c.labelWidth,f=c.valueWidth,d=se(this.spacing,2),h=d[0],p=d[1];if(i){var v=i-a-h-p,g=se(this.span,2),m=g[0],y=g[1];n=se([m*v,y*v],2),u=n[0],f=n[1]}var x=s+u+f+h+p;return{width:x,height:l,markerWidth:s,labelWidth:u,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var n=this.attributes.spacing;if(!n)return[0,0];var r=se(ki(n),2),a=r[0],i=r[1];return this.showValue?[a,i]:[a,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,a=n.labelWidth,i=n.valueWidth,o=n.width,s=n.height,l=se(this.spacing,2),c=l[0],u=l[1];return{height:s,width:o,markerWidth:r,labelWidth:a,valueWidth:i,position:[r/2,r+c,r+a+c+u]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var n=vDe(this.markerGroup.node()),r=this.attributes,a=r.markerSize,i=r.markerStrokeWidth,o=i===void 0?n.strokeWidth:i,s=r.markerLineWidth,l=s===void 0?n.lineWidth:s,c=r.markerStroke,u=c===void 0?n.stroke:c,f=+(o||l||(u?1:0))*Math.sqrt(2),d=this.markerGroup.node().getBBox(),h=d.width,p=d.height;return(1-f/Math.max(h,p))*a},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(n){var r=this,a=this.attributes.marker,i=on(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(oo.markerGroup,"g").style("zIndex",0),jo(!!a,this.markerGroup,function(){var o,s=r.markerGroup.node(),l=(o=s.childNodes)===null||o===void 0?void 0:o[0],c=typeof a=="string"?new Nn({style:{symbol:a},className:oo.marker.name}):a();l?c.nodeName===l.nodeName?l instanceof Nn?l.update(ze(ze({},i),{symbol:a})):(pRe(l,c),Gt(l).styles(i)):(l.remove(),Gt(c).attr("className",oo.marker.name).styles(i),s.appendChild(c)):(c instanceof Nn||Gt(c).attr("className",oo.marker.name).styles(i),s.appendChild(c)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var u=AC(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(u,")")})},t.prototype.renderLabel=function(n){var r=on(this.attributes,"label"),a=r.text,i=Ra(r,["text"]);this.labelGroup=n.maybeAppendByClassName(oo.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(oo.label,function(){return Ud(a)}).styles(i)},t.prototype.renderValue=function(n){var r=this,a=on(this.attributes,"value"),i=a.text,o=Ra(a,["text"]);this.valueGroup=n.maybeAppendByClassName(oo.valueGroup,"g").style("zIndex",0),jo(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(oo.value,function(){return Ud(i)}).styles(o)})},t.prototype.createPoptip=function(){var n=this.attributes.poptip,r=n||{};r.render;var a=Ra(r,["render"]),i=new hDe({style:Pl(pDe,a)});return this.poptipGroup=i,i},t.prototype.bindPoptip=function(n){var r=this,a=this.attributes.poptip;if(a){var i=this.poptipGroup||this.createPoptip();i.bind(n,function(){var o=r.attributes,s=o.labelText,l=o.valueText,c=o.markerFill,u=typeof s=="string"?s:s==null?void 0:s.attr("text"),f=typeof l=="string"?l:l==null?void 0:l.attr("text");if(typeof a.render=="function")return{html:a.render({label:u,value:f,color:c})};var d="";return(typeof u=="string"||typeof u=="number")&&(d+='<div class="component-poptip-label">'.concat(u,"</div>")),(typeof f=="string"||typeof f=="number")&&(d+='<div class="component-poptip-value">'.concat(f,"</div>")),{html:d}})}},t.prototype.renderPoptip=function(n){var r=this,a=this.attributes.poptip;if(a){var i=n.maybeAppendByClassName(oo.value,"g").node(),o=n.maybeAppendByClassName(oo.label,"g").node();[i,o].forEach(function(s){s&&r.bindPoptip(s)})}},t.prototype.renderBackground=function(n){var r=this.shape,a=r.width,i=r.height,o=on(this.attributes,"background");this.background=n.maybeAppendByClassName(oo.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(oo.background,"rect").styles(ze({width:a,height:i},o))},t.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,a=n.valueWidth,i=n.height,o=se(n.position,3),s=o[0],l=o[1],c=o[2],u=i/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),Tk(this.labelGroup.select(oo.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),Tk(this.valueGroup.select(oo.value.class).node(),Math.ceil(a)))},t.prototype.render=function(n,r){var a=Gt(r),i=n.x,o=i===void 0?0:i,s=n.y,l=s===void 0?0:s;a.styles({transform:"translate(".concat(o,", ").concat(l,")")}),this.renderMarker(a),this.renderLabel(a),this.renderValue(a),this.renderBackground(a),this.renderPoptip(a),this.adjustLayout()},t}(qa),Xf=qs({page:"item-page",navigator:"navigator",item:"item"},"items"),rR=function(e,t,n){return n===void 0&&(n=!0),e?t(e):n},mDe=function(e){Nr(t,e);function t(n){var r=e.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:nE,mouseenter:nE,mouseleave:nE})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,a=n.gridCol,i=n.data;if(!r&&!a)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&a?[r,a]:r?[r,i.length]:[i.length,a]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,a=n.layout,i=n.poptip,o=on(this.attributes,"item"),s=r.map(function(l,c){var u=l.id,f=u===void 0?c:u,d=l.label,h=l.value;return{id:"".concat(f),index:c,style:ze({layout:a,labelText:d,valueText:h,poptip:i},Object.fromEntries(Object.entries(o).map(function(p){var v=se(p,2),g=v[0],m=v[1];return[g,os(m,[l,c,r])]})))}});return s},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var n=this,r=this.attributes,a=r.orientation,i=r.width,o=r.rowPadding,s=r.colPadding,l=se(this.navigatorShape,1),c=l[0],u=se(this.grid,2),f=u[0],d=u[1],h=d*f,p=0;return this.pageViews.children.map(function(v,g){var m,y,x=Math.floor(g/h),b=g%h,E=n.ifHorizontal(d,f),_=[Math.floor(b/E),b%E];a==="vertical"&&_.reverse();var w=se(_,2),A=w[0],S=w[1],k=(i-c-(d-1)*s)/d,T=v.getBBox().height,O=se([0,0],2),C=O[0],M=O[1];return a==="horizontal"?(m=se([p,A*(T+o)],2),C=m[0],M=m[1],p=S===d-1?0:p+k+s):(y=se([S*(k+s),p],2),C=y[0],M=y[1],p=A===f-1?0:p+T+o),{page:x,index:g,row:A,col:S,pageIndex:b,width:k,height:T,x:C,y:M}})},t.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,a=n.height,i=n.rowPadding,o=n.colPadding,s=se(this.navigatorShape,1),l=s[0],c=se(this.grid,2),u=c[0],f=c[1],d=se([r-l,a],2),h=d[0],p=d[1],v=se([0,0,0,0,0,0,0,0],8),g=v[0],m=v[1],y=v[2],x=v[3],b=v[4],E=v[5],_=v[6],w=v[7];return this.pageViews.children.map(function(A,S){var k,T,O,C,M=A.getBBox(),R=M.width,I=M.height,P=_===0?0:o,B=_+P+R;if(B<=h&&rR(b,function(V){return V<f}))return k=se([_+P,w,B],3),g=k[0],m=k[1],_=k[2],{width:R,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:E,col:b++};T=se([E+1,0,0,w+I+i],4),E=T[0],b=T[1],_=T[2],w=T[3];var N=w+I;return N<=p&&rR(E,function(V){return V<u})?(O=se([_,w,R],3),g=O[0],m=O[1],_=O[2],{width:R,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:E,col:b++}):(C=se([0,0,R,0,y+1,0,0,0],8),g=C[0],m=C[1],_=C[2],w=C[3],y=C[4],x=C[5],E=C[6],b=C[7],{width:R,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:E,col:b++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){var a=this.attributes.orientation;return uc(a,n,r)},t.prototype.flattenPage=function(n){n.querySelectorAll(Xf.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(Xf.page.class).forEach(function(r){var a=n.removeChild(r);a.destroy()})},t.prototype.renderItems=function(n){var r=this.attributes,a=r.click,i=r.mouseenter,o=r.mouseleave;this.flattenPage(n);var s=this.dispatchCustomEvent.bind(this);Gt(n).selectAll(Xf.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(c){var u=c.style;return new gDe({style:u})}).attr("className",Xf.item.name).on("click",function(){a==null||a(this),s("itemClick",{item:this})}).on("pointerenter",function(){i==null||i(this),s("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),s("itemMouseleave",{item:this})})},function(l){return l.each(function(c){var u=c.style;this.update(u)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var n,r=this.attributes,a=r.layout,i=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=se(this.navigatorShape,2),l=s[0],c=s[1];this.navigator.update(a==="grid"?{pageWidth:i-l,pageHeight:o-c}:{})},t.prototype.adjustLayout=function(){var n=this,r=Object.entries(q5e(this.itemsLayout,"page")).map(function(i){var o=se(i,2),s=o[0],l=o[1];return{page:s,layouts:l}}),a=xt([],se(this.navigator.getContainer().children),!1);r.forEach(function(i){var o=i.layouts,s=n.pageViews.appendChild(new Ml({className:Xf.page.name}));o.forEach(function(l){var c=l.x,u=l.y,f=l.index,d=l.width,h=l.height,p=a[f];s.appendChild(p),O$(p,"__layout__",l),p.update({x:c,y:u,width:d,height:h})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(n){var r=this.attributes.orientation,a=on(this.attributes,"nav"),i=Pl({orientation:r},a),o=this;return n.selectAll(Xf.navigator.class).data(["nav"]).join(function(s){return s.append(function(){return new tDe({style:i})}).attr("className",Xf.navigator.name).each(function(){o.navigator=this})},function(s){return s.each(function(){this.update(i)})},function(s){return s.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(n,r){var a=this.attributes.data;if(!(!a||a.length===0)){var i=this.renderNavigator(Gt(r));this.renderItems(i.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(n,r){var a=new Ma(n,{detail:r});this.dispatchEvent(a)},t}(qa),nv=qs({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),sW={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},yDe=function(e){Nr(t,e);function t(n){return e.call(this,n,sW)||this}return t.prototype.render=function(n,r){var a=Gt(r).maybeAppendByClassName(nv.markerGroup,"g");this.renderMarker(a);var i=Gt(r).maybeAppendByClassName(nv.labelGroup,"g");this.renderLabel(i)},t.prototype.renderMarker=function(n){var r=this,a=this.attributes,i=a.orientation,o=a.markerSymbol,s=o===void 0?uc(i,"horizontalHandle","verticalHandle"):o;jo(!!s,n,function(l){var c=on(r.attributes,"marker"),u=ze({symbol:s},c);r.marker=l.maybeAppendByClassName(nv.marker,function(){return new Nn({style:u})}).update(u)})},t.prototype.renderLabel=function(n){var r=this,a=this.attributes,i=a.showLabel,o=a.orientation,s=a.spacing,l=s===void 0?0:s,c=a.formatter;jo(i,n,function(u){var f,d=on(r.attributes,"label"),h=d.text,p=Ra(d,["text"]),v=((f=u.select(nv.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,m=g===void 0?0:g,y=v.height,x=y===void 0?0:y,b=se(uc(o,[0,x+l,"center","top"],[m+l,0,"start","middle"]),4),E=b[0],_=b[1],w=b[2],A=b[3];u.maybeAppendByClassName(nv.label,"text").styles(ze(ze({},p),{x:E,y:_,text:c(h).toString(),textAlign:w,textBaseline:A}))})},t}(qa),lW={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},xDe=Pl({},lW,{}),bDe=Pl({},lW,ic(sW,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),wDe=.01,mi=qs({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),_De=function(e){Nr(t,e);function t(n){return e.call(this,n,xDe)||this}return t.prototype.renderTitle=function(n,r,a){var i=this.attributes,o=i.showTitle,s=i.titleText,l=on(this.attributes,"title"),c=se(mu(l),2),u=c[0],f=c[1];this.titleGroup=n.maybeAppendByClassName(mi.titleGroup,"g").styles(f);var d=ze(ze({width:r,height:a},u),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(mi.title,function(){return new aW({style:d})}).update(d)},t.prototype.renderItems=function(n,r){var a=r.x,i=r.y,o=r.width,s=r.height,l=on(this.attributes,"title",!0),c=se(mu(l),2),u=c[0],f=c[1],d=ze(ze({},u),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(mi.itemsGroup,"g").styles(ze(ze({},f),{transform:"translate(".concat(a,", ").concat(i,")")}));var h=this;this.itemsGroup.selectAll(mi.items.class).data(["items"]).join(function(p){return p.append(function(){return new mDe({style:d})}).attr("className",mi.items.name).each(function(){h.items=Gt(this)})},function(p){return p.update(d)},function(p){return p.remove()})},t.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),a=r.x,i=r.y;this.itemsGroup.node().style.transform="translate(".concat(a,", ").concat(i,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,a=n.width,i=n.height;return r?this.title.node().getAvailableSpace():new Cr(0,0,a,i)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n,r,a=(n=this.title)===null||n===void 0?void 0:n.node(),i=(r=this.items)===null||r===void 0?void 0:r.node();return!a||!i?e.prototype.getBBox.call(this):qNe(a,i)},t.prototype.render=function(n,r){var a=this.attributes,i=a.width,o=a.height,s=a.x,l=s===void 0?0:s,c=a.y,u=c===void 0?0:c,f=Gt(r);r.style.transform="translate(".concat(l,", ").concat(u,")"),this.renderTitle(f,i,o),this.renderItems(f,this.availableSpace),this.adjustLayout()},t}(qa),EDe={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},XE=qs({background:"background",labelGroup:"label-group",label:"label"},"indicator"),SDe=function(e){Nr(t,e);function t(n){var r=e.call(this,n,EDe)||this;return r.point=[0,0],r.group=r.appendChild(new Ml({})),r.isMutationObserved=!0,r}return t.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,a=n.padding,i=se(ki(a),4),o=i[0],s=i[1],l=i[2],c=i[3],u=this.label.node().getLocalBounds(),f=u.min,d=u.max,h=new Cr(f[0]-c,f[1]-o,d[0]+s-f[0]+c,d[1]+l-f[1]+o),p=this.getPath(r,h),v=on(this.attributes,"background");this.background=Gt(this.group).maybeAppendByClassName(XE.background,"path").styles(ze(ze({},v),{d:p})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,a=n.labelText,i=on(this.attributes,"label"),o=se(mu(i),2),s=o[0],l=o[1];s.text;var c=Ra(s,["text"]);if(this.label=Gt(this.group).maybeAppendByClassName(XE.labelGroup,"g").styles(l),!!a){var u=this.label.maybeAppendByClassName(XE.label,function(){return Ud(r(a))}).style("text",r(a).toString());u.selectAll("text").styles(c)}},t.prototype.adjustLayout=function(){var n=se(this.point,2),r=n[0],a=n[1],i=this.attributes,o=i.x,s=i.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-a,")"))},t.prototype.getPath=function(n,r){var a=this.attributes.radius,i=r.x,o=r.y,s=r.width,l=r.height,c=[["M",i+a,o],["L",i+s-a,o],["A",a,a,0,0,1,i+s,o+a],["L",i+s,o+l-a],["A",a,a,0,0,1,i+s-a,o+l],["L",i+a,o+l],["A",a,a,0,0,1,i,o+l-a],["L",i,o+a],["A",a,a,0,0,1,i+a,o],["Z"]],u={top:4,right:6,bottom:0,left:2},f=u[n],d=this.createCorner([c[f].slice(-2),c[f+1].slice(-2)]);return c.splice.apply(c,xt([f+1,1],se(d),!1)),c[0][0]="M",c},t.prototype.createCorner=function(n,r){r===void 0&&(r=10);var a=.8,i=hRe.apply(void 0,xt([],se(n),!1)),o=se(n,2),s=se(o[0],2),l=s[0],c=s[1],u=se(o[1],2),f=u[0],d=u[1],h=se(i?[f-l,[l,f]]:[d-c,[c,d]],2),p=h[0],v=se(h[1],2),g=v[0],m=v[1],y=p/2,x=p/Math.abs(p),b=r*x,E=b/2,_=b*Math.sqrt(3)/2*a,w=se([g,g+y-E,g+y,g+y+E,m],5),A=w[0],S=w[1],k=w[2],T=w[3],O=w[4];return i?(this.point=[k,c-_],[["L",A,c],["L",S,c],["L",k,c-_],["L",T,c],["L",O,c]]):(this.point=[l+_,k],[["L",l,A],["L",l,S],["L",l+_,k],["L",l,T],["L",l,O]])},t.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?Sf(this):Kg(this)},t.prototype.bindEvents=function(){this.label.on(Or.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(qa);function ADe(e,t){for(var n=1;n<e.length;n+=1){var r=e[n-1],a=e[n];if(t>=r&&t<=a)return[r,a]}return[t,t]}function kDe(e,t,n){var r=Array.from(t),a=e.length;return new Array(a).fill(0).reduce(function(i,o,s){var l=r[s%r.length];return i+=" ".concat(e[s],":").concat(l).concat(s<a-1?" ".concat(e[s+1],":").concat(l):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function aR(e,t){var n=se(ADe(e,t),2),r=n[0],a=n[1];return{tick:t>(r+a)/2?a:r,range:[r,a]}}var J1=qs({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function cW(e){var t=e.orientation,n=e.size,r=e.length;return uc(t,[r,n],[n,r])}function uW(e){var t=e.type,n=se(cW(e),2),r=n[0],a=n[1];return t==="size"?[["M",0,a],["L",0+r,0],["L",0+r,a],["Z"]]:[["M",0,a],["L",0,0],["L",0+r,0],["L",0+r,a],["Z"]]}function TDe(e){return uW(e)}function ODe(e){var t=e.orientation,n=e.color,r=e.block,a=e.partition,i;if(ta(n)){var o=20;i=new Array(o).fill(0).map(function(c,u,f){return n(u/(f.length-1))})}else i=n;var s=i.length,l=i.map(function(c){return dh(c).toString()});return s?s===1?l[0]:r?kDe(a,l,t):l.reduce(function(c,u,f){return c+=" ".concat(f/(s-1),":").concat(u)},"l(".concat(uc(t,"0","270"),")")):""}function CDe(e){var t=e.orientation,n=e.range;if(!n)return[];var r=se(cW(e),2),a=r[0],i=r[1],o=se(n,2),s=o[0],l=o[1],c=uc(t,s*a,0),u=uc(t,0,s*i),f=uc(t,l*a,a),d=uc(t,i,l*i);return[["M",c,u],["L",c,d],["L",f,d],["L",f,u],["Z"]]}function MDe(e,t){var n=on(t,"track");e.maybeAppendByClassName(J1.track,"path").styles(ze({d:uW(t)},n))}function PDe(e,t){var n=on(t,"selection"),r=ODe(t),a=e.maybeAppendByClassName(J1.selection,"path").styles(ze({d:TDe(t),fill:r},n)),i=a.maybeAppendByClassName(J1.clipPath,"path").styles({d:CDe(t)}).node();a.style("clipPath",i)}var IDe=function(e){Nr(t,e);function t(n){return e.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return t.prototype.render=function(n,r){var a=Gt(r).maybeAppendByClassName(J1.trackGroup,"g");MDe(a,n);var i=Gt(r).maybeAppendByClassName(J1.selectionGroup,"g");PDe(i,n)},t}(qa);function RDe(e){return{min:Math.min.apply(Math,xt([],se(e.map(function(t){return t.value})),!1)),max:Math.max.apply(Math,xt([],se(e.map(function(t){return t.value})),!1))}}var NDe=function(e){Nr(t,e);function t(n){var r=e.call(this,n,bDe)||this;return r.eventToOffsetScale=new hr({}),r.innerRibbonScale=new hr({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(a){var i=r.attributes,o=i.data,s=i.block;a.stopPropagation();var l=r.getValueByCanvasPoint(a);if(s){var c=aR(o.map(function(d){var h=d.value;return h}),l).range,u=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(u[0],"-").concat(u[1])),r.dispatchIndicated(l,c)}else{var f=r.getTickValue(l);r.showIndicator(f,"".concat(r.getRealValue(f))),r.dispatchIndicated(f)}},r.onDragStart=function(a){return function(i){i.stopPropagation(),r.attributes.slidable&&(r.target=a,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(i)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(a){var i=r.target;r.updateMouse();var o=se(r.selection,2),s=o[0],l=o[1],c=r.getTickValue(r.getValueByCanvasPoint(a)),u=c-r.prevValue;i==="start"?s!==c&&r.updateSelection(c,l):i==="end"?l!==c&&r.updateSelection(s,c):i==="ribbon"&&u!==0&&(r.prevValue=c,r.updateSelection(u,u,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.width,a=n.height;return new Cr(0,0,r,a)},t.prototype.render=function(n,r){var a=this,i=n.showLabel;this.renderTitle(Gt(r));var o=this.availableSpace,s=o.x,l=o.y,c=Gt(r).maybeAppendByClassName(mi.contentGroup,"g").styles({transform:"translate(".concat(s,", ").concat(l,")")}),u=c.maybeAppendByClassName(mi.labelGroup,"g").styles({zIndex:1});jo(!!i,u,function(d){a.renderLabel(d)});var f=c.maybeAppendByClassName(mi.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=c.maybeAppendByClassName(mi.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(f),this.renderIndicator(c),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var n=this.attributes,r=n.data,a=n.domain;return a?{min:a[0],max:a[1]}:RDe(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,a=n.max;return this.innerRibbonScale.update({domain:[r,a],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var n=se(this.selection,2),r=n[0],a=n[1],i=this.ribbonScale;return[i.map(r),i.map(a)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var n=this.range,r=n.min,a=n.max,i=this.attributes.defaultValue,o=i===void 0?[r,a]:i,s=se(o,2),l=s[0],c=s[1];return[l,c]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){return uc(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},t.prototype.renderTitle=function(n){var r=this.attributes,a=r.showTitle,i=r.titleText,o=r.width,s=r.height,l=on(this.attributes,"title"),c=ze(ze({},l),{width:o,height:s,text:i}),u=this;n.selectAll(mi.title.class).data(a?[i]:[]).join(function(f){return f.append(function(){return new aW({style:c})}).attr("className",mi.title.name).each(function(){u.title=this})},function(f){return f.update(c)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,a=n.height;return new Cr(0,0,r,a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,a=n.labelDirection,i={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return i[r][a]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new Cr(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var a=((n=this.label.querySelector(Gn.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),i=a.width,o=a.height;return this.cacheLabelBBox=new Cr(0,0,i,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,a=n.labelSpacing,i=a===void 0?0:a;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,l=o.height,c=this.ifHorizontal(l,s)+i+this.labelFixedSpacing,u=this.ifHorizontal(s,l);return{width:s,height:l,size:c,length:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,a=n.ribbonSize,i=this.availableSpace,o=i.width,s=i.height,l=this.labelShape,c=l.size,u=l.length,f=se(this.ifHorizontal([s,o],[o,s]),2),d=f[0],h=f[1],p=r?this.handleShape:{size:0,length:0},v=p.size,g=p.length,m=this.handleOffsetRatio,y=0,x=this.labelPosition;a?y=a:["bottom","right"].includes(x)?y=Math.min(d-c,(d-v)/m):d*(1-m)>v?y=Math.max(d-c,0):y=Math.max((d-c-v)/m,0);var b=Math.max(g,u),E=h-b,_=se(this.ifHorizontal([E,y],[y,E]),2),w=_[0],A=_[1],S=["top","left"].includes(x)?c:0,k=se(this.ifHorizontal([b/2,S],[S,b/2]),2),T=k[0],O=k[1];return new Cr(T,O,w,A)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,a=n.height;return this.ifHorizontal({size:a,length:r},{size:r,length:a})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(n){var r=this.attributes,a=r.data,i=r.type,o=r.orientation,s=r.color,l=r.block,c=on(this.attributes,"ribbon"),u=this.range,f=u.min,d=u.max,h=this.ribbonBBox,p=h.x,v=h.y,g=this.ribbonShape,m=g.length,y=g.size,x=Pl({transform:"translate(".concat(p,", ").concat(v,")"),length:m,size:y,type:i,orientation:o,color:s,block:l,partition:a.map(function(b){return(b.value-f)/(d-f)}),range:this.ribbonRange},c);this.ribbon=n.maybeAppendByClassName(mi.ribbon,function(){return new IDe({style:x})}).update(x)},t.prototype.getHandleClassName=function(n){return"".concat(mi.prefix("".concat(n,"-handle")))},t.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,a=n.orientation,i=on(this.attributes,"handle"),o=se(this.selection,2),s=o[0],l=o[1],c=ze(ze({},i),{orientation:a}),u=i.shape,f=u===void 0?"slider":u,d=f==="basic"?yDe:YG,h=this;this.handlesGroup.selectAll(mi.handle.class).data(r?[{value:s,type:"start"},{value:l,type:"end"}]:[],function(p){return p.type}).join(function(p){return p.append(function(){return new d({style:c})}).attr("className",function(v){var g=v.type;return"".concat(mi.handle," ").concat(h.getHandleClassName(g))}).each(function(v){var g=v.type,m=v.value;this.update({labelText:m});var y="".concat(g,"Handle");h[y]=this,this.addEventListener("pointerdown",h.onDragStart(g))})},function(p){return p.update(c).each(function(v){var g=v.value;this.update({labelText:g})})},function(p){return p.each(function(v){var g=v.type,m="".concat(g,"Handle");h[m]=void 0}).remove()})},t.prototype.adjustHandles=function(){var n=se(this.selection,2),r=n[0],a=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",a)},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Cr(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,a=n.height,i=this.endHandle.getBBox(),o=i.width,s=i.height,l=se([Math.max(r,o),Math.max(a,s)],2),c=l[0],u=l[1];return this.cacheHandleBBox=new Cr(0,0,c,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,a=n.height,i=se(this.ifHorizontal([a,r],[r,a]),2),o=i[0],s=i[1];return{width:r,height:a,size:o,length:s}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(n,r){var a=this.attributes.handleFormatter,i=this.ribbonBBox,o=i.x,s=i.y,l=this.ribbonShape.size,c=this.getOffset(r),u=se(this.ifHorizontal([o+c,s+l*this.handleOffsetRatio],[o+l*this.handleOffsetRatio,s+c]),2),f=u[0],d=u[1],h=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();h==null||h.update({transform:"translate(".concat(f,", ").concat(d,")"),formatter:a})},t.prototype.renderIndicator=function(n){var r=on(this.attributes,"indicator");this.indicator=n.maybeAppendByClassName(mi.indicator,function(){return new SDe({})}).update(r)},Object.defineProperty(t.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(a,i,o,s){var l,c,u=(l=i==null?void 0:i.id)!==null&&l!==void 0?l:o.toString();if(a.push(ze(ze({},i),{id:u,index:o,type:"value",label:(c=i==null?void 0:i.label)!==null&&c!==void 0?c:i.value.toString(),value:n.ribbonScale.map(i.value)})),o<s.length-1){var f=s[o+1],d=se([i.value,f.value],2),h=d[0],p=d[1],v=(h+p)/2;a.push(ze(ze({},i),{id:u,index:o,type:"range",range:[h,p],label:[h,p].join("~"),value:n.ribbonScale.map(v)}))}return a},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var n=se(["center","middle"],2),r=n[0],a=n[1],i=this.labelPosition;return i==="top"?a="bottom":i==="bottom"?a="top":i==="left"?r="end":i==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:a}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(n){var r=this.attributes,a=r.showTick,i=a===void 0?!1:a,o=r.labelFilter,s=r.labelFormatter,l=on(this.attributes,"tick"),c=on(this.attributes,"label"),u=c.align,f=Pl(ze({showLine:!1,showGrid:!1,showTick:i,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),ic(l,"tick"),ic(c,"label"),{data:this.labelData}),d={tickFilter:function(p,v,g){return(p==null?void 0:p.type)!=="value"?!1:o?o(p,p.index,g.filter(function(m){return m.type!=="value"})):!0},labelFilter:function(p,v,g){return(p==null?void 0:p.type)!==u?!1:o?o(p,p.index,g.filter(function(m){return m.type===u})):!0},labelFormatter:s},h=ze(ze(ze({},f),d),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(mi.label,function(){return new IC({style:h})}).node(),this.label.update(h,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,a=n.labelDirection,i=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,l=this.labelPosition,c=this.labelFixedSpacing,u=se([0,0,0],3),f=u[0],d=u[1],h=u[2],p=o??s;return r?(h=p,d=c,a==="positive"?l==="right"?(f=p,h=p):l==="bottom"&&(f=h):a==="negative"&&(l==="top"||l==="left")&&(f=s)):a==="positive"?l==="right"?d=p:l==="bottom"&&(f=s+c,d=i):a==="negative"&&(l==="left"||l==="top")&&(d=i),{offset:f,spacing:d,tickLength:h}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,a=r.x,i=r.y,o=r.width,s=r.height,l=this.labelAxisStyle,c=l.offset,u=l.spacing,f=l.tickLength,d=se(this.ifHorizontal([[a,i+c],[a+o,i+c]],[[a+c,i+s],[a+c,i]]),2),h=d[0],p=d[1];this.label.update({startPos:h,endPos:p,tickLength:f,labelSpacing:u},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var a=this.attributes.showIndicator;if(!a||typeof n!="number"){this.hideIndicator();return}var i=this.range,o=i.min,s=i.max,l=this.ribbonBBox,c=l.x,u=l.y,f=An(n,o,s),d=this.getOffset(f),h=this.ifHorizontal([d+c,u],[c,d+u]);this.indicator.update({x:h[0],y:h[1],position:this.ifHorizontal("top","left"),labelText:r}),Kg(this.indicator.node())},t.prototype.hideIndicator=function(){Sf(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(n,r){this.updateSelection(n,r)},t.prototype.updateSelection=function(n,r,a){var i;a===void 0&&(a=!1);var o=se(this.selection,2),s=o[0],l=o[1],c=se([n,r],2),u=c[0],f=c[1];a&&(u+=s,f+=l);var d=this.range,h=d.min,p=d.max;i=se(oDe([h,p],[u,f],this.selection),2),u=i[0],f=i[1],this.update({defaultValue:[u,f]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,a=this.range,i=a.min,o=a.max;return Rt(r)?Ok((o-i)*wDe,0):r},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(n){var r=this.attributes,a=r.data,i=r.block,o=this.range.min;return i?aR(a.map(function(s){var l=s.value;return l}),n).tick:nDe(n,this.step,o)},t.prototype.getValueByCanvasPoint=function(n){var r=this.range,a=r.min,i=r.max,o=se(this.ribbon.node().getPosition(),2),s=o[0],l=o[1],c=this.ifHorizontal(s,l),u=this.ifHorizontal.apply(this,xt([],se(P2(n)),!1)),f=u-c,d=An(this.getOffset(f,!0),a,i);return d},t.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var a=this.range,i=a.min,o=a.max,s=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[i,o],range:[0,s]}),r?l.invert(n):l.map(n)},t.prototype.getRealSelection=function(n){var r=this.range.max,a=se(n,2),i=a[0],o=a[1];return this.ifHorizontal([i,o],[r-o,r-i])},t.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},t.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new Ma("valuechange",{detail:{value:n}});this.dispatchEvent(r)},t.prototype.dispatchIndicated=function(n,r){var a=this,i=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:i-n,range:r?a.getRealSelection(r):void 0}}),s=new Ma("indicate",{detail:o});this.dispatchEvent(s)},t}(qa);function Rk(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var iR={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function DDe(e){var t;e===void 0&&(e="");var n=Rk(e);return t={},t[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=ze({flex:1},iR),t[".".concat(n.VALUE)]=ze({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},iR),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var LDe=function(e){Nr(t,e);function t(n){var r=this,a,i,o=(i=(a=n.style)===null||a===void 0?void 0:a.template)===null||i===void 0?void 0:i.prefixCls,s=Rk(o);return r=e.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:DDe(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,a=n.template;return r.map(function(i,o){var s=i.name,l=s===void 0?"":s,c=i.color,u=c===void 0?"black":c,f=i.index,d=Ra(i,["name","color","index"]),h=ze({name:l,color:u,index:f??o},d);return _I(HEe(a.item,h))})},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(n,r){var a=this;if(n!==void 0&&r!==void 0){var i=this.element.style.visibility==="hidden",o=function(){a.attributes.x=n??a.attributes.x,a.attributes.y=r??a.attributes.y,a.updatePosition()};i?this.closeTransition(o):o()}this.element.style.visibility="visible"},t.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var a=this.attributes.enterable;a&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var n=this.attributes.template;this.element=_I(n.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:H5(this.element,n))}},t.prototype.renderHTMLTooltipElement=function(){var n,r,a=this.attributes,i=a.template,o=a.title,s=a.enterable,l=a.style,c=a.content,u=Rk(i.prefixCls),f=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(f.innerHTML=i.title,f.getElementsByClassName(u.TITLE)[0].innerHTML=o):(r=(n=f.getElementsByClassName(u.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var d=this.HTMLTooltipItemsElements,h=document.createElement("ul");h.className=u.LIST,H5(h,d);var p=this.element.querySelector(".".concat(u.LIST));p?p.replaceWith(h):f.appendChild(h)}mRe(f,l)},t.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,a=r.position,i=r.offset,o=n||a,s=o.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,u=c.width,f=c.height,d=[-u/2,-f/2];return s.forEach(function(h){var p=se(d,2),v=p[0],g=p[1],m=se(l[h],2),y=m[0],x=m[1];d=[v+(u/2+i[0])*y,g+(f/2+i[1])*x]}),d},t.prototype.setOffsetPosition=function(n){var r=se(n,2),a=r[0],i=r[1],o=this.attributes,s=o.x,l=s===void 0?0:s,c=o.y,u=c===void 0?0:c,f=o.container,d=f.x,h=f.y;this.element.style.left="".concat(+l+d+a,"px"),this.element.style.top="".concat(+u+h+i,"px")},t.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,a=Date.now();this.timestamp>0&&a-this.timestamp<r||(this.timestamp=a,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(n){var r=se(n,2),a=r[0],i=r[1],o=this.attributes,s=o.x,l=o.y,c=o.bounding,u=o.position;if(!c)return[a,i];var f=this.element,d=f.offsetWidth,h=f.offsetHeight,p=se([+s+a,+l+i],2),v=p[0],g=p[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},y=c.x,x=c.y,b=c.width,E=c.height,_={left:v<y,right:v+d>y+b,top:g<x,bottom:g+h>x+E},w=[];u.split("-").forEach(function(S){_[S]?w.push(m[S]):w.push(S)});var A=w.join("-");return this.getRelativeOffsetFromCursor(A)},t.prototype.isCursorEntered=function(n,r){if(this.element){var a=this.element.getBoundingClientRect(),i=a.x,o=a.y,s=a.width,l=a.height;return new Cr(i,o,s,l).isPointIn(n,r)}return!1},t.prototype.closeTransition=function(n){var r=this,a=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=a},10)},t.tag="tooltip",t}(qa),FDe=function(e){Nr(t,e);function t(n){var r=e.call(this,n)||this;r.layoutEvents=[Or.BOUNDS_CHANGED,Or.INSERTED,Or.REMOVED],r.$margin=ki(0),r.$padding=ki(0);var a=n.style||{},i=a.margin,o=i===void 0?0:i,s=a.padding,l=s===void 0?0:s;return r.margin=o,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=ki(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=ki(n)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.x,a=r===void 0?0:r,i=n.y,o=i===void 0?0:i,s=n.width,l=n.height,c=se(this.$margin,4),u=c[0],f=c[1],d=c[2],h=c[3];return new Cr(a-h,o-u,s+h+f,l+u+d)},t.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,e.prototype.appendChild.call(this,n,r),n},t.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,a=n.height,i=se(this.$padding,4),o=i[0],s=i[1],l=i[2],c=i[3],u=se(this.$margin,4),f=u[0],d=u[3];return new Cr(c+d,o+f,r-c-s,a-o-l)},t.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,a=n.y;this.style.transform="translate(".concat(r,", ").concat(a,")");var i=nRe(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var l=i[s],c=l.x,u=l.y;o.style.transform="translate(".concat(c,", ").concat(u,")")})}catch{}},t.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(a){a.target&&(a.target.isMutationObserved=!0,n.layout())})})},t.prototype.attributeChangedCallback=function(n,r,a){n==="margin"?this.margin=a:n==="padding"&&(this.padding=a),this.layout()},t}(Ml),qE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function BDe(e){const{min:[t,n],max:[r,a]}=e.getLocalBounds();let i=0,o=0;return t>0&&(i=t),r<0&&(i=r),n>0&&(o=n),a<0&&(o=a),[i,o]}function $De(e,t=[]){const[n=0,r=0,a=n,i=r]=t,o=e.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:l,halfExtents:c}=e.getLocalBounds(),[u,f]=l,[d,h]=c;return o.setEulerAngles(s),{x:u-i,y:f-n,width:d*2+i+r,height:h*2+n+a}}function jDe(e,t,n,r,a=!0,i=!0){const o=f=>s0()(f);if(!t[0]&&!t[1])return o([BDe(e),t]);if(!n.length)return o([[0,0],t]);const[s,l]=n,c=[...l],u=[...s];if(l[0]!==s[0]){const f=a?-4:4;c[1]=l[1],i&&!a&&(c[0]=Math.max(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!i&&!a&&(c[0]=Math.max(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!i&&a&&(c[0]=Math.min(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f))),i&&a&&(c[0]=Math.min(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f)))}return o([l,c,u,s,t])}const fW=qh(e=>{const t=e.attributes,{className:n,class:r,transform:a,rotate:i,labelTransform:o,labelTransformOrigin:s,x:l,y:c,x0:u=l,y0:f=c,text:d,background:h,connector:p,startMarker:v,endMarker:g,coordCenter:m,innerHTML:y}=t,x=qE(t,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${l}, ${c})`,[l,c,u,f].some(B=>!kn(B))){e.children.forEach(B=>B.remove());return}const b=qe(x,"background"),{padding:E}=b,_=qE(b,["padding"]),w=qe(x,"connector"),{points:A=[]}=w,S=qE(w,["points"]);let k;y?k=Mt(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",y).call(wt,Object.assign({transform:o,transformOrigin:s},x)).node():k=Mt(e).maybeAppend("text","text").style("zIndex",0).style("text",d).call(wt,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},x)).node();const T=Mt(e).maybeAppend("background","rect").style("zIndex",-1).call(wt,$De(k,E)).call(wt,h?_:{}).node(),O=+u<m[0],C=+f<m[1],M=[+u-+l,+f-+c],R=jDe(T,M,A,m,O,C),I=v&&new Nn({id:"startMarker",style:Object.assign({x:0,y:0},qe(x,"startMarker"))}),P=g&&new Nn({id:"endMarker",style:Object.assign({x:0,y:0},qe(x,"endMarker"))});Mt(e).maybeAppend("connector","path").style("zIndex",0).style("d",R).style("markerStart",I).style("markerEnd",P).call(wt,p?S:{})}),dW=(e,t)=>{const{coordinate:n}=t;return(r,a,i)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=a,f={text:String(s),stroke:o,fill:o,fontSize:l},[[d,h]]=r;return Mt(new fW).style("x",d).style("y",h).call(wt,i).style("transform",`${u}rotate(${+c})`).style("coordCenter",n.getCenter()).call(wt,f).call(wt,e).node()}};dW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Nk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function zDe(e){const t=e/Math.sqrt(2),n=e*Math.sqrt(2),[r,a]=[-t,t-n],[i,o]=[0,0],[s,l]=[t,t-n];return[["M",r,a],["A",e,e,0,1,1,s,l],["L",i,o],["Z"]]}function UDe(e){const{min:t,max:n}=e.getLocalBounds();return[(t[0]+n[0])*.5,(t[1]+n[1])*.5]}const HDe=qh(e=>{const t=e.attributes,{class:n,x:r,y:a,transform:i}=t,o=Nk(t,["class","x","y","transform"]),s=qe(o,"marker"),{size:l=24}=s,c=()=>zDe(l/2),u=Mt(e).maybeAppend("marker",()=>new Nn({})).call(h=>h.node().update(Object.assign({symbol:c},s))).node(),[f,d]=UDe(u);Mt(e).maybeAppend("text","text").style("x",f).style("y",d).call(wt,o)}),hW=(e,t)=>{const n=Nk(e,[]);return(r,a,i)=>{const{color:o}=i,s=Nk(i,["color"]),{color:l=o,text:c=""}=a,u={text:String(c),stroke:l,fill:l},[[f,d]]=r;return Mt(new HDe).call(wt,s).style("transform",`translate(${f},${d})`).call(wt,u).call(wt,n).node()}};hW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const pW=(e,t)=>{const{coordinate:n}=t;return(r,a,i)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=a,f={text:String(s),stroke:o,fill:o,fontSize:l,textAlign:"center",textBaseline:"middle"},[[d,h]]=r;return Mt(new Tc).style("x",d).style("y",h).call(wt,i).style("transformOrigin","center center").style("transform",`${u}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(wt,f).call(wt,e).node()}};pW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function WDe(e,t){const n=[],r=[],a=[];let i=!1,o=null;const s=e.length/2;for(let l=0;l<s;l++){const c=e[l],u=e[l+s];if([...c,...u].some(f=>!t(f)))i=!0;else{if(n.push(c),r.push(u),i&&o){i=!1;const[f,d]=o;a.push([f,c,d,u])}o=[c,u]}}return[n.concat(r),a]}const oR=qh(e=>{const{areaPath:t,connectPath:n,areaStyle:r,connectStyle:a}=e.attributes,i=e.ownerDocument;Mt(e).maybeAppend("connect-path",()=>i.createElement("path",{})).style("d",n).call(wt,a),Mt(e).maybeAppend("area-path",()=>i.createElement("path",{})).style("d",t).call(wt,r)}),Bl=(e,t)=>{const{curve:n,gradient:r=!1,defined:a=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:i=!1}=e,o=GDe(e,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=t;return(c,u,f)=>{const{color:d}=f,{color:h=d,seriesColor:p,seriesX:v,seriesY:g}=u,m=pr(s),y=WU(s,u),x=r&&p?GU(p,v,g,r,void 0,m):h,b=Object.assign(Object.assign(Object.assign(Object.assign({},f),{stroke:x,fill:x}),y&&{transform:y}),o),[E,_]=WDe(c,a),w=qe(b,"connect"),A=!!_.length,S=k=>Mt(l.createElement("path",{})).style("d",k||"").call(wt,b).node();if(Vn(s)){const k=T=>{const O=s.getCenter(),C=T.slice(0,T.length/2),M=T.slice(T.length/2);return oOe().angle((R,I)=>Gh(Jr(C[I],O))).outerRadius((R,I)=>jr(C[I],O)).innerRadius((R,I)=>jr(M[I],O)).defined((R,I)=>[...C[I],...M[I]].every(a)).curve(n)(M)};return!A||i&&!Object.keys(w).length?S(k(E)):A&&!i?S(k(c)):Mt(new oR).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},w),o)).style("areaPath",k(c)).style("connectPath",_.map(k).join("")).node()}else{const k=T=>{const O=T.slice(0,T.length/2),C=T.slice(T.length/2);return m?JA().y((M,R)=>O[R][1]).x1((M,R)=>O[R][0]).x0((M,R)=>C[R][0]).defined((M,R)=>[...O[R],...C[R]].every(a)).curve(n)(O):JA().x((M,R)=>O[R][0]).y1((M,R)=>O[R][1]).y0((M,R)=>C[R][1]).defined((M,R)=>[...O[R],...C[R]].every(a)).curve(n)(O)};return!A||i&&!Object.keys(w).length?S(k(E)):A&&!i?S(k(c)):Mt(new oR).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},w),o)).style("areaPath",k(c)).style("connectPath",_.map(k).join("")).node()}}};Bl.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const vW=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const a=Vn(n)?L3:Hg;return Bl(Object.assign({curve:a},e),t)(...r)}};vW.props=Object.assign(Object.assign({},Bl.props),{defaultMarker:"square"});var VDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const gW=(e,t)=>{const n=VDe(e,[]),{coordinate:r}=t;return(...a)=>{const i=Vn(r)?Fz:pr(r)?Uz:zz;return Bl(Object.assign({curve:i},n),t)(...a)}};gW.props=Object.assign(Object.assign({},Bl.props),{defaultMarker:"smooth"});const mW=(e,t)=>(...n)=>Bl(Object.assign({curve:Hz},e),t)(...n);mW.props=Object.assign(Object.assign({},Bl.props),{defaultMarker:"hvh"});const yW=(e,t)=>(...n)=>Bl(Object.assign({curve:Gz},e),t)(...n);yW.props=Object.assign(Object.assign({},Bl.props),{defaultMarker:"vh"});const xW=(e,t)=>(...n)=>Bl(Object.assign({curve:Wz},e),t)(...n);xW.props=Object.assign(Object.assign({},Bl.props),{defaultMarker:"hv"});const bW=(e,t)=>{const{arrow:n=!1}=e;return(...r)=>dC(Object.assign(Object.assign({},e),{arrow:n}),t)(...r)};bW.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var sR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const wW=(e,t)=>{const n=sR(e,[]),{document:r}=t;return(a,i,o)=>{const{color:s}=o,l=sR(o,["color"]),{color:c=s,transform:u}=i,[f,d]=a,h=Vs();return h.moveTo(f[0],f[1]),h.bezierCurveTo(f[0]/2+d[0]/2,f[1],f[0]/2+d[0]/2,d[1],d[0],d[1]),Mt(r.createElement("path",{})).call(wt,l).style("d",h.toString()).style("stroke",c).style("transform",u).call(wt,n).node()}};wW.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var lR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function YDe(e,t,n,r){const a=Vs();if(Vn(n)){const i=n.getCenter(),o=jr(e,i),l=(jr(t,i)-o)*r+o;return a.moveTo(e[0],e[1]),Y1(a,e,t,i,l),a.lineTo(t[0],t[1]),a}return pr(n)?(a.moveTo(e[0],e[1]),a.lineTo(e[0]+(t[0]-e[0])*r,e[1]),a.lineTo(e[0]+(t[0]-e[0])*r,t[1]),a.lineTo(t[0],t[1]),a):(a.moveTo(e[0],e[1]),a.lineTo(e[0],e[1]+(t[1]-e[1])*r),a.lineTo(t[0],e[1]+(t[1]-e[1])*r),a.lineTo(t[0],t[1]),a)}const _W=(e,t)=>{const{cornerRatio:n=1/3}=e,r=lR(e,["cornerRatio"]),{coordinate:a,document:i}=t;return(o,s,l)=>{const{defaultColor:c}=l,u=lR(l,["defaultColor"]),{color:f=c,transform:d}=s,[h,p]=o,v=YDe(h,p,a,n);return Mt(i.createElement("path",{})).call(wt,u).style("d",v.toString()).style("stroke",f).style("transform",d).call(wt,r).node()}};_W.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var cR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const EW=(e,t)=>{const n=cR(e,[]),{coordinate:r,document:a}=t;return(i,o,s)=>{const{color:l}=s,c=cR(s,["color"]),{color:u=l,transform:f}=o,[d,h]=i,p=Vs();if(p.moveTo(d[0],d[1]),Vn(r)){const v=r.getCenter();p.quadraticCurveTo(v[0],v[1],h[0],h[1])}else{const v=_z(d,h),g=jr(d,h)/2;Y1(p,d,h,v,g)}return Mt(a.createElement("path",{})).call(wt,c).style("d",p.toString()).style("stroke",u).style("transform",f).call(wt,n).node()}};EW.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function SW(e={}){const{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Eo(e={}){return[...SW(e),{name:"title",scale:"identity"}]}function Af(){return[{type:nw,channel:"color"},{type:aw,channel:["x","y"]}]}function Sp(){return[{type:nw,channel:"x"},{type:aw,channel:["y"]}]}function XDe(){return[{type:nw,channel:"color"},{type:aw,channel:["position"]}]}function Ap(e={}){return SW(e)}function ca(){return[{type:qj}]}function Ea(){return[]}function KE(e,t){return e.getBandWidth(e.invert(t))}function h0(e,t,n={}){const{x:r,y:a,series:i}=t,{x:o,y:s,series:l}=e,{style:{bandOffset:c=l?0:.5,bandOffsetX:u=c,bandOffsetY:f=c}={}}=n,d=!!(o!=null&&o.getBandWidth),h=!!(s!=null&&s.getBandWidth),p=!!(l!=null&&l.getBandWidth);return!d&&!h?v=>v:(v,g)=>{const m=d?KE(o,r[g]):0,y=h?KE(s,a[g]):0,b=p&&i?(KE(l,i[g])/2+ +i[g])*m:0,[E,_]=v;return[E+u*m+b,_+f*y]}}function R2(e){return parseFloat(e)/100}function RC(e,t,n,r){const{x:a,y:i}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),l=Array.from(e,c=>{const u=a[c],f=i[c],d=typeof u=="string"?R2(u)*o:+u,h=typeof f=="string"?R2(f)*s:+f;return[[d,h]]});return[e,l]}function xc(e){return typeof e=="function"?e:t=>t[e]}function ZE(e,t){return Array.from(e,xc(t))}function NC(e,t){const{source:n=u=>u.source,target:r=u=>u.target,value:a=u=>u.value}=t,{links:i,nodes:o}=e,s=ZE(i,n),l=ZE(i,r),c=ZE(i,a);return{links:i.map((u,f)=>({target:l[f],source:s[f],value:c[f]})),nodes:o||Array.from(new Set([...s,...l]),u=>({key:u}))}}var qDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const AW=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s}=o,l=qDe(o,["color"]),{color:c=s,src:u="",size:f=32,transform:d=""}=i;let{width:h=f,height:p=f}=e;const[[v,g]]=a,[m,y]=n.getSize();h=typeof h=="string"?R2(h)*m:h,p=typeof p=="string"?R2(p)*y:p;const x=v-Number(h)/2,b=g-Number(p)/2;return Mt(r.createElement("image",{})).call(wt,l).style("x",x).style("y",b).style("src",u).style("stroke",c).style("transform",d).call(wt,e).style("width",h).style("height",p).node()}};AW.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var KDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function ZDe(e,t){const n=Vs();if(Vn(t)){const r=t.getCenter(),a=[...e,e[0]],i=a.map(o=>jr(o,r));return a.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const l=i[s],c=e[s-1],u=i[s-1];u!==void 0&&Math.abs(l-u)<1e-10?Y1(n,c,o,r,l):n.lineTo(o[0],o[1])}),n.closePath(),n}return cPe(n,e)}const kW=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s}=o,l=KDe(o,["color"]),{color:c=s,transform:u}=i,f=ZDe(a,n);return Mt(r.createElement("path",{})).call(wt,l).style("d",f.toString()).style("stroke",c).style("fill",c).style("transform",u).call(wt,e).node()}};kW.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var uR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function QDe(e,t){const[n,r,a,i]=e,o=Vs();if(Vn(t)){const s=t.getCenter(),l=jr(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],a[0],a[1]),Y1(o,a,i,s,l),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),Y1(o,r,n,s,l),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+a[0]/2,n[1],n[0]/2+a[0]/2,a[1],a[0],a[1]),o.lineTo(i[0],i[1]),o.bezierCurveTo(i[0]/2+r[0]/2,i[1],i[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const TW=(e,t)=>{const n=uR(e,[]),{coordinate:r,document:a}=t;return(i,o,s)=>{const{color:l}=s,c=uR(s,["color"]),{color:u=l,transform:f}=o,d=QDe(i,r);return Mt(a.createElement("path",{})).call(wt,c).style("d",d.toString()).style("fill",u||l).style("stroke",u||l).style("transform",f).call(wt,n).node()}};TW.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var JDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function eLe(e,t){const n=Vs();if(!Vn(t))n.moveTo(...e[0]),n.lineTo(...e[1]),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.lineTo(...e[5]),n.lineTo(...e[6]),n.lineTo(...e[7]),n.closePath(),n.moveTo(...e[8]),n.lineTo(...e[9]),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.lineTo(...e[13]);else{const r=t.getCenter(),[a,i]=r,o=Us(Jr(e[0],r)),s=Us(Jr(e[1],r)),l=jr(r,e[2]),c=jr(r,e[3]),u=jr(r,e[8]),f=jr(r,e[10]),d=jr(r,e[11]);n.moveTo(...e[0]),n.arc(a,i,l,o,s),n.arc(a,i,l,s,o,!0),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.arc(a,i,c,o,s),n.lineTo(...e[6]),n.arc(a,i,f,s,o,!0),n.closePath(),n.moveTo(...e[8]),n.arc(a,i,u,o,s),n.arc(a,i,u,s,o,!0),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.arc(a,i,d,o,s),n.arc(a,i,d,s,o,!0)}return n}const OW=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s,transform:l}=i,{color:c,fill:u=c,stroke:f=c}=o,d=JDe(o,["color","fill","stroke"]),h=eLe(a,n);return Mt(r.createElement("path",{})).call(wt,d).style("d",h.toString()).style("stroke",f).style("fill",s||u).style("transform",l).call(wt,e).node()}};OW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var tLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function nLe(e,t,n=4){const r=Vs();if(!Vn(t))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-n,e[3][1]),r.lineTo(e[10][0]-n,e[10][1]),r.lineTo(e[10][0]+n,e[10][1]),r.lineTo(e[3][0]+n,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+n/2,e[8][1]),r.arc(e[3][0],e[8][1],n/2,0,Math.PI*2),r.closePath(),r;const a=t.getCenter(),[i,o]=a,s=jr(a,e[3]),l=jr(a,e[8]),c=jr(a,e[10]),u=Us(Jr(e[2],a)),f=Math.asin(n/l),d=u-f,h=u+f;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(d)*s+i,Math.sin(d)*s+o),r.arc(i,o,s,d,h),r.lineTo(Math.cos(h)*c+i,Math.sin(h)*c+o),r.arc(i,o,c,h,d,!0),r.lineTo(Math.cos(d)*s+i,Math.sin(d)*s+o),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const p=(d+h)/2;return r.moveTo(Math.cos(p)*(l+n/2)+i,Math.sin(p)*(l+n/2)+o),r.arc(Math.cos(p)*l+i,Math.sin(p)*l+o,n/2,p,Math.PI*2+p),r.closePath(),r}const CW=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s,transform:l}=i,c=4,{color:u,fill:f=u,stroke:d=u}=o,h=tLe(o,["color","fill","stroke"]),p=nLe(a,n,c);return Mt(r.createElement("path",{})).call(wt,h).style("d",p.toString()).style("stroke",d).style("fill",s||f).style("transform",l).call(wt,e).node()}};CW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var fR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function rLe(e,t,n){return e.createElement("path",{style:Object.assign({d:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,transformOrigin:"center"},n)})}function aLe(e,t){if(!Vn(t))return s0().x(r=>r[0]).y(r=>r[1])(e);const n=t.getCenter();return I3()({startAngle:0,endAngle:Math.PI*2,outerRadius:jr(e[0],n),innerRadius:jr(e[1],n)})}function iLe(e,t){if(!Vn(e))return t;const[n,r]=e.getCenter();return`translate(${n}, ${r}) ${t||""}`}const DC=(e,t)=>{const{arrow:n,arrowSize:r=4}=e,a=fR(e,["arrow","arrowSize"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{color:u,lineWidth:f}=c,d=fR(c,["color","lineWidth"]),{color:h=u,size:p=f}=l,v=n?rLe(o,r,Object.assign({fill:a.stroke||h,stroke:a.stroke||h},qe(a,"arrow"))):null,g=aLe(s,i),m=iLe(i,l.transform);return Mt(o.createElement("path",{})).call(wt,d).style("d",g).style("stroke",h).style("lineWidth",p).style("transform",m).style("markerEnd",v).call(wt,a).node()}};DC.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var dR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function oLe(e,t,n){return[["M",e,t],["L",e+2*n,t-n],["L",e+2*n,t+n],["Z"]]}function sLe(e){return s0().x(t=>t[0]).y(t=>t[1])(e)}function lLe(e,t,n,r,a,i,o=0){const[[s,l],[c,u]]=t;if(pr(e)){const g=s+n,m=c+r,y=g+o,x=l+a,b=u+i;return[[g,x],[y,x],[y,b],[m,b]]}const f=l-n,d=u-r,h=f-o,p=s-a,v=c-i;return[[p,f],[p,h],[v,h],[v,d]]}const MW=(e,t)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:a=n,offsetY:i=0,sourceOffsetY:o=i,targetOffsetY:s=i,connectLength1:l,endMarker:c=!0}=e,u=dR(e,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:f}=t;return(d,h,p)=>{const{color:v,connectLength1:g}=p,m=dR(p,["color","connectLength1"]),{color:y,transform:x}=h,b=lLe(f,d,o,s,r,a,l??g),E=qe(Object.assign(Object.assign({},u),p),"endMarker");return Mt(new ls).call(wt,m).style("d",sLe(b)).style("stroke",y||v).style("transform",x).style("markerEnd",c?new Nn({className:"marker",style:Object.assign(Object.assign({},E),{symbol:oLe})}):null).call(wt,u).node()}};MW.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function cLe(e,t,n,r){const a=t.length/2,i=t.slice(0,a),o=t.slice(a);let s=bp(i,(h,p)=>Math.abs(h[1]-o[p][1]));s=Math.max(Math.min(s,a-2),1);const l=h=>[i[h][0],(i[h][1]+o[h][1])/2],c=l(s),u=l(s-1),f=l(s+1),d=Us(Jr(f,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${d})`,textAlign:"center",textBaseline:"middle"}}function PW(e,t,n,r){const{bounds:a}=n,[[i,o],[s,l]]=a,c=s-i,u=l-o,f=d=>{const{x:h,y:p}=d,v=BI(n.x,c),g=BI(n.y,u);return Object.assign(Object.assign({},d),{x:(v||h)+i,y:(g||p)+o})};return f(e==="left"?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:e==="right"?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:e==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:e==="bottom"?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:e==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:e==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:e==="bottom-left"?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:e==="bottom-right"?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function IW(e,t,n,r){const{y:a,y1:i,autoRotate:o,rotateToAlignArc:s}=n,l=r.getCenter(),c=u0(r,t,[a,i]),{innerRadius:u,outerRadius:f,startAngle:d,endAngle:h}=c,p=e==="inside"?(d+h)/2:h,v=LC(p,o,s),g=(()=>{const[m,y]=t,x=u+(f-u)*.5,[b,E]=e==="inside"?eg(l,p,x):_z(m,y);return{x:b,y:E}})();return Object.assign(Object.assign({},g),{textAlign:e==="inside"?"center":"start",textBaseline:"middle",rotate:v})}function eg(e,t,n){return[e[0]+Math.sin(t)*n,e[1]-Math.cos(t)*n]}function LC(e,t,n){if(!t)return 0;const r=n?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function uLe(e,t,n,r){const{y:a,y1:i,autoRotate:o,rotateToAlignArc:s,radius:l=.5,offset:c=0}=n,u=u0(r,t,[a,i]),{startAngle:f,endAngle:d}=u,h=r.getCenter(),p=(f+d)/2,g={textAlign:"center",textBaseline:"middle",rotate:LC(p,o,s)},{innerRadius:m,outerRadius:y}=u,b=m+(y-m)*l+c,[E,_]=eg(h,p,b);return Object.assign({x:E,y:_},g)}function hR(e){return e===void 0?null:e}function RW(e,t,n,r){const{bounds:a}=n,[i]=a;return{x:hR(i[0]),y:hR(i[1])}}function Uc(e,t,n,r){const{bounds:a}=n;return a.length===1?RW(e,t,n):(uw(r)?IW:wp(r)?uLe:PW)(e,t,n,r)}function fLe(e,t,n,r,a){const[i,o]=eg(e,t,n),[s,l]=eg(e,t,r),c=Math.sin(t)>0?1:-1;return[[i,o],[s,l],[s+c*a,l]]}function NW(e,t,n){const r=u0(n,e,[t.y,t.y1]),{innerRadius:a,outerRadius:i}=r;return a+(i-a)}function DW(e,t,n){const r=u0(n,e,[t.y,t.y1]),{startAngle:a,endAngle:i}=r;return(a+i)/2}function FC(e,t,n,r){const{autoRotate:a,rotateToAlignArc:i,offset:o=0,connector:s=!0,connectorLength:l=o,connectorLength2:c=0,connectorDistance:u=0}=n,f=r.getCenter(),d=DW(t,n,r),h=Math.sin(d)>0?1:-1,p=LC(d,a,i),v={textAlign:h>0||uw(r)?"start":"end",textBaseline:"middle",rotate:p},g=NW(t,n,r),m=g+(s?l:o),[[y,x],[b,E],[_,w]]=fLe(f,d,g,m,s?c:0),A=s?+u*h:0,S=_+A,k=w,T={connector:s,connectorPoints:[[b-S,E-k],[_-S,w-k]]};return Object.assign(Object.assign({x0:y,y0:x,x:_+A,y:w},v),T)}function dLe(e,t,n,r){const{bounds:a}=n;return a.length===1?RW(e,t,n):(uw(r)?IW:wp(r)?FC:PW)(e,t,n,r)}function pR(e,t={}){const{labelHeight:n=14,height:r}=t,a=Al(e,c=>c.y),i=a.length,o=new Array(i);for(let c=0;c<i;c++){const u=a[c],{y:f}=u;o[c]={y:f,y1:f+n,labels:[f]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const u=o[c],f=o[c-1];if(f.y1>u.y){s=!0,f.labels.push(...u.labels),o.splice(c,1),f.y1+=u.y1-u.y;const d=f.y1-f.y;f.y1=Math.max(Math.min(f.y1,r),d),f.y=f.y1-d}}}let l=0;for(const c of o){const{y:u,labels:f}=c;let d=u-n;for(const h of f){const p=a[l++],g=d+n-h;p.connectorPoints[0][1]-=g,p.y=d+n,d+=n}}}function vR(e,t){const n=Al(e,s=>s.y),{height:r,labelHeight:a=14}=t,i=Math.ceil(r/a);if(n.length<=i)return pR(n,t);const o=[];for(let s=0;s<n.length;s++)s<n.length-i?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);pR(o,t)}var hLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Cy=new WeakMap;function pLe(e,t,n){const{connectorLength:r,connectorLength2:a,connectorDistance:i}=t,o=hLe(FC("outside",e,t,n),[]),s=n.getCenter(),l=NW(e,t,n),c=DW(e,t,n),u=l+r+a,f=Math.sin(c)>0?1:-1,d=s[0]+(u+ +i)*f,{x:h}=o,p=d-h;return o.x+=p,o.connectorPoints[0][0]-=p,o}function vLe(e,t,n,r,a,i){if(!wp(r))return{};if(Cy.has(t))return Cy.get(t);const o=i.map(d=>pLe(d,n,r)),{width:s,height:l}=r.getOptions(),c=o.filter(d=>d.x<s/2),u=o.filter(d=>d.x>=s/2),f=Object.assign(Object.assign({},a),{height:l});return vR(c,f),vR(u,f),o.forEach((d,h)=>Cy.set(i[h],d)),Cy.get(t)}var gLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function mLe(e,t,n,r){if(!wp(r))return{};const{connectorLength:a,connectorLength2:i,connectorDistance:o}=n,s=gLe(FC("outside",t,n,r),[]),{x0:l,y0:c}=s,u=r.getCenter(),d=cOe(r)+a,h=Gh([l-u[0],c-u[1]]),p=Math.sin(h)>0?1:-1,[v,g]=eg(u,h,d);return s.x=v+(i+o)*p,s.y=g,s}const yLe=Object.freeze(Object.defineProperty({__proto__:null,area:cLe,bottom:Uc,bottomLeft:Uc,bottomRight:Uc,inside:Uc,left:Uc,outside:dLe,right:Uc,spider:vLe,surround:mLe,top:Uc,topLeft:Uc,topRight:Uc},Symbol.toStringTag,{value:"Module"}));var gR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function xLe(e,t){return e!==void 0?e:wp(t)?"inside":pr(t)?"right":"top"}function bLe(e,t,n,r,a,i){const{position:o}=t,{render:s}=a,l=xLe(o,n),u=r[s?"htmlLabel":l==="inside"?"innerLabel":"label"],f=Object.assign({},u,t),d=yLe[uC(l)];if(!d)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},u),d(l,e,f,n,a,i))}const LW=(e,t)=>{const{coordinate:n,theme:r}=t,{render:a}=e;return(i,o,s,l)=>{const{text:c,x:u,y:f,transform:d="",transformOrigin:h,className:p=""}=o,v=gR(o,["text","x","y","transform","transformOrigin","className"]),g=bLe(i,o,n,r,e,l),{rotate:m=0,transform:y=""}=g,x=gR(g,["rotate","transform"]);return Mt(new fW).call(wt,x).style("text",`${c}`).style("className",`${p} g2-label`).style("innerHTML",a?a(c,o.datum,o.index):void 0).style("labelTransform",`${y} rotate(${+m}) ${d}`.trim()).style("labelTransformOrigin",h).style("coordCenter",n.getCenter()).call(wt,v).node()}};LW.props={defaultMarker:"point"};var mR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const BC=(e,t)=>{const{arrow:n,colorAttribute:r}=e,a=mR(e,["arrow","colorAttribute"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{color:u,stroke:f}=c,d=mR(c,["color","stroke"]),{d:h,color:p=u}=l,[v,g]=i.getSize();return Mt(o.createElement("path",{})).call(wt,d).style("d",typeof h=="function"?h({width:v,height:g}):h).style(r,p).call(wt,a).node()}};BC.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const FW=(e,t)=>BC(Object.assign({colorAttribute:"fill"},e),t);FW.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const BW=(e,t)=>BC(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);BW.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var wLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $W=(e,t)=>{const{document:n}=t;return(r,a,i)=>{const{transform:o}=a,{color:s}=i,l=wLe(i,["color"]),{color:c=s}=a,[u,...f]=r,d=Vs();return d.moveTo(...u),f.forEach(([h,p])=>{d.lineTo(h,p)}),d.closePath(),Mt(n.createElement("path",{})).call(wt,l).style("d",d.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(wt,e).node()}};$W.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function jW(e){var t,n,r,a=e||1;function i(s,l){++t>a&&(r=n,o(1),++t),n[s]=l}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:i(s,l)}}}jW(3);function zW(e,t=(...r)=>`${r[0]}`,n=16){const r=jW(n);return(...a)=>{const i=t(...a);let o=r.get(i);return r.has(i)?r.get(i):(o=e(...a),r.set(i,o),o)}}function _Le(e){return typeof e=="string"?e.split(" ").map(t=>{const[n,r]=t.split(":");return[+n,r]}):e}function N2(e,t,n){const r=e?e():document.createElement("canvas");return r.width=t,r.height=n,r}const ELe=zW((e,t,n)=>{const r=N2(n,e*2,e*2),a=r.getContext("2d"),i=e,o=e;if(t===1)a.beginPath(),a.arc(i,o,e,0,2*Math.PI,!1),a.fillStyle="rgba(0,0,0,1)",a.fill();else{const s=a.createRadialGradient(i,o,e*t,i,o,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),a.fillStyle=s,a.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function SLe(e,t){const r=N2(t,256,1).getContext("2d"),a=r.createLinearGradient(0,0,256,1);return _Le(e).forEach(([i,o])=>{a.addColorStop(i,o)}),r.fillStyle=a,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function ALe(e,t,n,r,a,i){const{blur:o}=a;let s=r.length;for(;s--;){const{x:l,y:c,value:u,radius:f}=r[s],d=Math.min(u,n),h=l-f,p=c-f,v=ELe(f,1-o,i),g=(d-t)/(n-t);e.globalAlpha=Math.max(g,.001),e.drawImage(v,h,p)}return e}function kLe(e,t,n,r,a){const{minOpacity:i,opacity:o,maxOpacity:s,useGradientOpacity:l}=a,c=0,u=0,f=t,d=n,h=e.getImageData(c,u,f,d),p=h.data,v=p.length;for(let g=3;g<v;g+=4){const m=p[g],y=m*4;if(!y)continue;const x=o||Math.max(0,Math.min(s,Math.max(i,m)));p[g-3]=r[y],p[g-2]=r[y+1],p[g-1]=r[y+2],p[g]=l?r[y+3]:x}return h}function TLe(e,t,n,r,a,i,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},i);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=N2(o,e,t).getContext("2d"),u=SLe(s.gradient,o);c.clearRect(0,0,e,t),ALe(c,n,r,a,s,o);const f=kLe(c,e,t,u,s),h=N2(o,e,t).getContext("2d");return h.putImageData(f,0,0),h}var OLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function CLe(e,t){return Object.keys(e).reduce((n,r)=>{const a=e[r];return t(a,r)||(n[r]=a),n},{})}const UW=(e,t)=>{const{gradient:n,opacity:r,maxOpacity:a,minOpacity:i,blur:o,useGradientOpacity:s}=e,l=OLe(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:f}=t;return(d,h,p)=>{const{transform:v}=h,[g,m]=c.getSize(),y=d.map(w=>({x:w[0],y:w[1],value:w[2],radius:w[3]})),x=is(d,w=>w[2]),b=Fn(d,w=>w[2]),_=g&&m?TLe(g,m,x,b,y,CLe({gradient:n,opacity:r,minOpacity:i,maxOpacity:a,blur:o,useGradientOpacity:s},w=>w===void 0),u):{canvas:null};return Mt(f.createElement("image",{})).call(wt,p).style("x",0).style("y",0).style("width",g).style("height",m).style("src",_.canvas.toDataURL()).style("transform",v).call(wt,l).node()}};UW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var MLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const HW=(e,t)=>{const{render:n}=e,r=MLe(e,["render"]);return a=>{const[[i,o]]=a;return n(Object.assign(Object.assign({},r),{x:i,y:o}),t)}};HW.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const yR=5e3;function xR(e,t,n){return e+(t-e)*n}function PLe(e,t,n,r){return t===0?[[e+1/2*n/Math.PI/2,r/2],[e+1/2*n/Math.PI,r],[e+n/4,r]]:t===1?[[e+1/2*n/Math.PI/2*(Math.PI-2),r],[e+1/2*n/Math.PI/2*(Math.PI-1),r/2],[e+n/4,0]]:t===2?[[e+1/2*n/Math.PI/2,-r/2],[e+1/2*n/Math.PI,-r],[e+n/4,-r]]:[[e+1/2*n/Math.PI/2*(Math.PI-2),-r],[e+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[e+n/4,0]]}function ILe(e,t,n,r,a,i,o){const s=Math.ceil(2*e/n*4)*4,l=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const u=i-e+c-e*2;l.push(["M",u,t]);let f=0;for(let d=0;d<s;++d){const h=d%4,p=PLe(d*n/4,h,n,a);l.push(["C",p[0][0]+u,-p[0][1]+t,p[1][0]+u,-p[1][1]+t,p[2][0]+u,-p[2][1]+t]),d===s-1&&(f=p[2][0])}return l.push(["L",f+u,o+e]),l.push(["L",u,o+e]),l.push(["Z"]),l}function RLe(e,t,n,r,a,i,o,s,l,c,u){const{fill:f,fillOpacity:d,opacity:h}=a;for(let p=0;p<r;p++){const v=r<=1?1:p/(r-1),g=ILe(s,o+s*n,l,0,s/40,e,t),m=u.createElement("path",{style:{d:g,fill:f,opacity:xR(.2,.9,v)*Number(h||d)}});i.appendChild(m);try{const y=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];m.animate(y,{duration:xR(.5*yR,yR,v)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function NLe(e,t,n){return`
      M ${e} ${t-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function DLe(e,t,n){const a=n*.618;return`
      M ${e-a} ${t-n}
      L ${e+a} ${t-n}
      L ${e+a} ${t+n}
      L ${e-a} ${t+n}
      Z
    `}function LLe(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t}
      L ${e} ${t+n}
      L ${e-n} ${t}
      Z
    `}function FLe(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t+n}
      L ${e-n} ${t+n}
      Z
    `}function BLe(e,t,n){const r=n*4/3,a=Math.max(r,n*2),i=r/2,o=e,s=i+t-a/2,l=Math.asin(i/((a-i)*.85)),c=Math.sin(l)*i,u=Math.cos(l)*i,f=o-u,d=s+c,h=e,p=s+i/Math.sin(l);return`
      M ${f} ${d}
      A ${i} ${i} 0 1 1 ${f+u*2} ${d}
      Q ${h} ${p} ${e} ${t+a/2}
      Q ${h} ${p} ${f} ${d}
      Z 
    `}const bR={pin:BLe,rect:DLe,circle:NLe,diamond:LLe,triangle:FLe};var wR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $Le=(e="circle")=>bR[e]||bR.circle,GW=(e,t)=>{if(!t)return;const{coordinate:n}=t,{liquidOptions:r,styleOptions:a}=e,{liquidShape:i,percent:o}=r,{background:s,outline:l={},wave:c={}}=a,u=wR(a,["background","outline","wave"]),{border:f=2,distance:d=0}=l,h=wR(l,["border","distance"]),{length:p=192,count:v=3}=c;return(g,m,y)=>{const{document:x}=t.canvas,{color:b,fillOpacity:E}=y,_=Object.assign(Object.assign({fill:b},y),u),w=x.createElement("g",{}),[A,S]=n.getCenter(),k=n.getSize(),T=Math.min(...k)/2,O=ta(i)?i:$Le(i),C=O(A,S,T,...k),M=O(A,S,T+f/2,...k);if(Object.keys(s).length){const P=x.createElement("path",{style:Object.assign({d:C,fill:"#fff"},s)});w.appendChild(P)}if(o>0){const P=x.createElement("path",{style:{d:M}});w.appendChild(P),w.style.clipPath=P,RLe(A,S,1-o,v,_,w,P.getBBox().y,T*2,p,!0,x)}const R=x.createElement("path",{style:{d:C,fill:"transparent",lineWidth:f+2*d,stroke:"#fff"}}),I=x.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:C,stroke:b,strokeOpacity:E,lineWidth:f},_),h),{fill:"transparent"})});return w.appendChild(R),w.appendChild(I),w}};GW.props={};const _R=(e,t)=>Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))/2,jLe=(e,t,n)=>{const r=Math.atan2(e[1]-n[1],e[0]-n[0]);let i=Math.atan2(t[1]-n[1],t[0]-n[0])-r;return i<0&&(i+=Math.PI*2),i},zLe=(e,t)=>{if(!t)return;const{coordinate:n}=t;if(!(n!=null&&n.getCenter))return;const r=n.getCenter();return(a,i,o)=>{const{document:s}=t.canvas,{color:l,index:c}=i,u=s.createElement("g",{}),f=_R(a[0],a[1]),d=_R(a[0],r)*2,h=jLe(a[3],a[0],r)>Math.PI,p=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...a[0]],["A",f,f,0,1,0,...a[1]],["A",d+f*2,d+f*2,0,h?1:0,0,...a[2]],["A",f,f,0,1,c===0?0:1,...a[3]],["A",d,d,0,h?1:0,1,...a[0]],["Z"]]},o),KO(e,["shape","last","first"])),{fill:l||o.color})});return u.appendChild(p),u}};function ER(e,t){return e.getBandWidth(e.invert(t))}const SR={rect:f0,hollow:bw,funnel:nC,pyramid:YU},WW=()=>(e,t,n,r)=>{const{x:a,y:i,y1:o,series:s,size:l}=n,c=t.x,u=t.series,[f]=r.getSize(),d=l?l.map(v=>+v/f):null,h=l?(v,g,m)=>{const y=v+g/2,x=d[m];return[y-x/2,y+x/2]}:(v,g,m)=>[v,v+g],p=Array.from(e,v=>{const g=ER(c,a[v]),m=u?ER(u,s==null?void 0:s[v]):1,y=g*m,x=(+(s==null?void 0:s[v])||0)*g,b=+a[v]+x,[E,_]=h(b,y,v),w=+i[v],A=+o[v];return[[E,w],[_,w],[_,A],[E,A]].map(C=>r.map(C))});return[e,p]};WW.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:SR,channels:[...Eo({shapes:Object.keys(SR)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...ca(),{type:Fg},{type:o0}],postInference:[...Ea(),...Sp()],interaction:{shareTooltip:!0}};const AR={rect:f0,hollow:bw},VW=()=>(e,t,n,r)=>{const{x:a,x1:i,y:o,y1:s}=n,l=Array.from(e,c=>{const u=[+a[c],+o[c]],f=[+i[c],+o[c]],d=[+i[c],+s[c]],h=[+a[c],+s[c]];return[u,f,d,h].map(p=>r.map(p))});return[e,l]};VW.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:AR,channels:[...Eo({shapes:Object.keys(AR)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca(),{type:Fg}],postInference:[...Ea(),...Sp()],interaction:{shareTooltip:!0}};const kR={line:XU,smooth:qU,hv:KU,vh:ZU,hvh:QU,trail:JU},ULe=(e,t,n,r)=>{var a,i;const{series:o,x:s,y:l}=n,{x:c,y:u}=t;if(s===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const f=o?Array.from(ur(e,g=>o[g]).values()):[e],d=f.map(g=>g[0]).filter(g=>g!==void 0),h=(((a=c==null?void 0:c.getBandWidth)===null||a===void 0?void 0:a.call(c))||0)/2,p=(((i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,v=Array.from(f,g=>g.map(m=>r.map([+s[m]+h,+l[m]+p])));return[d,v,f]},HLe=(e,t,n,r)=>{const a=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(a.length===0)throw new Error("Missing encode for position channel.");Vn(r)&&a.push(a[0]);const i=Array.from(e,o=>{const s=a.map(u=>+u[o]),l=r.map(s),c=[];for(let u=0;u<l.length;u+=2)c.push([l[u],l[u+1]]);return c});return[e,i]},YW=()=>(e,t,n,r)=>(fw(r)?HLe:ULe)(e,t,n,r);YW.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:kR,channels:[...Eo({shapes:Object.keys(kR)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ca(),{type:rz},{type:A3}],postInference:[...Ea(),...Sp(),...XDe()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const TR={hollow:EH,hollowDiamond:wH,hollowHexagon:_H,hollowSquare:SH,hollowTriangleDown:kH,hollowTriangle:AH,hollowBowtie:bH,hollowCircle:OH,point:LH,plus:DH,diamond:PH,square:FH,triangle:$H,hexagon:IH,cross:MH,bowtie:CH,hyphen:RH,line:NH,tick:BH,triangleDown:jH,circle:fC},XW=e=>(t,n,r,a)=>{const{x:i,y:o,x1:s,y1:l,size:c,dx:u,dy:f}=r,[d,h]=a.getSize(),p=h0(n,r,e),v=m=>{const y=+((u==null?void 0:u[m])||0),x=+((f==null?void 0:f[m])||0),b=s?(+i[m]+ +s[m])/2:+i[m],E=l?(+o[m]+ +l[m])/2:+o[m],_=b+y,w=E+x;return[_,w]},g=c?Array.from(t,m=>{const[y,x]=v(m),b=+c[m],E=b/d,_=b/h,w=[y-E,x-_],A=[y+E,x+_];return[a.map(p(w,m)),a.map(p(A,m))]}):Array.from(t,m=>[a.map(p(v(m),m))]);return[t,g]};XW.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:TR,channels:[...Eo({shapes:Object.keys(TR)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...ca(),{type:o0},{type:rw}],postInference:[...Ea(),{type:Xj},...Af()]};const OR={text:dW,badge:hW,tag:pW},qW=e=>{const{cartesian:t=!1}=e;return t?RC:(n,r,a,i)=>{const{x:o,y:s}=a,l=h0(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]}};qW.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:OR,channels:[...Eo({shapes:Object.keys(OR)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...ca(),{type:ow},{type:iw}],postInference:[...Ea(),...Af()]};const CR={cell:f0,hollow:bw},KW=()=>(e,t,n,r)=>{const{x:a,y:i}=n,o=t.x,s=t.y,l=Array.from(e,c=>{const u=o.getBandWidth(o.invert(+a[c])),f=s.getBandWidth(s.invert(+i[c])),d=+a[c],h=+i[c],p=[d,h],v=[d+u,h],g=[d+u,h+f],m=[d,h+f];return[p,v,g,m].map(y=>r.map(y))});return[e,l]};KW.props={defaultShape:"cell",defaultLabelShape:"label",shape:CR,composite:!1,channels:[...Eo({shapes:Object.keys(CR)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...ca(),{type:o0},{type:rw},{type:k3}],postInference:[...Ea(),...Af()]};const MR={area:vW,smooth:gW,hvh:mW,vh:yW,hv:xW},ZW=()=>(e,t,n,r)=>{var a,i;const{x:o,y:s,y1:l,series:c}=n,{x:u,y:f}=t,d=c?Array.from(ur(e,m=>c[m]).values()):[e],h=d.map(m=>m[0]).filter(m=>m!==void 0),p=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=(((i=f==null?void 0:f.getBandWidth)===null||i===void 0?void 0:i.call(f))||0)/2,g=Array.from(d,m=>{const y=m.length,x=new Array(y*2);for(let b=0;b<m.length;b++){const E=m[b];x[b]=r.map([+o[E]+p,+s[E]+v]),x[y+b]=r.map([+o[E]+p,+l[E]+v])}return x});return[h,g,d]};ZW.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:MR,channels:[...Eo({shapes:Object.keys(MR)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ca(),{type:A3},{type:Fg},{type:k3}],postInference:[...Ea(),...Sp()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const PR={link:bW,arc:EW,smooth:wW,vhv:_W},$C=e=>(t,n,r,a)=>{const{x:i,y:o,x1:s=i,y1:l=o}=r,c=h0(n,r,e),u=t.map(f=>[a.map(c([+i[f],+o[f]],f)),a.map(c([+s[f],+l[f]],f))]);return[t,u]};$C.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:PR,channels:[...Eo({shapes:Object.keys(PR)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca(),{type:Qj},{type:Jj}],postInference:[...Ea(),...Af()]};const IR={image:AW},QW=e=>{const{cartesian:t}=e;return t?RC:(n,r,a,i)=>{const{x:o,y:s}=a,l=h0(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]}};QW.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:IR,channels:[...Eo({shapes:Object.keys(IR)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...ca(),{type:ow},{type:iw}],postInference:[...Ea(),...Af()]};const RR={polygon:kW,ribbon:TW},JW=()=>(e,t,n,r)=>{const a=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),i=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=e.map(s=>{const l=[];for(let c=0;c<a.length;c++){const u=a[c][s];if(u===void 0)break;const f=i[c][s];l.push(r.map([+u,+f]))}return l});return[e,o]};JW.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:RR,channels:[...Eo({shapes:Object.keys(RR)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca()],postInference:[...Ea(),...Af()]};const NR={box:OW,violin:CW},eV=()=>(e,t,n,r)=>{const{x:a,y:i,y1:o,y2:s,y3:l,y4:c,series:u}=n,f=t.x,d=t.series,h=Array.from(e,p=>{const v=f.getBandWidth(f.invert(+a[p])),g=d?d.getBandWidth(d.invert(+(u==null?void 0:u[p]))):1,m=v*g,y=(+(u==null?void 0:u[p])||0)*v,x=+a[p]+y+m/2,[b,E,_,w,A]=[+i[p],+o[p],+s[p],+l[p],+c[p]];return[[x-m/2,A],[x+m/2,A],[x,A],[x,w],[x-m/2,w],[x+m/2,w],[x+m/2,E],[x-m/2,E],[x-m/2,_],[x+m/2,_],[x,E],[x,b],[x-m/2,b],[x+m/2,b]].map(k=>r.map(k))});return[e,h]};eV.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:NR,channels:[...Eo({shapes:Object.keys(NR)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...ca(),{type:o0}],postInference:[...Ea(),...Sp()],interaction:{shareTooltip:!0}};const DR={vector:dC},tV=()=>(e,t,n,r)=>{const{x:a,y:i,size:o,rotate:s}=n,[l,c]=r.getSize(),u=e.map(f=>{const d=+s[f]/180*Math.PI,h=+o[f],p=h/l,v=h/c,g=p*Math.cos(d),m=-v*Math.sin(d);return[r.map([+a[f]-g/2,+i[f]-m/2]),r.map([+a[f]+g/2,+i[f]+m/2])]});return[e,u]};tV.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:DR,channels:[...Eo({shapes:Object.keys(DR)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...ca()],postInference:[...Ea(),...Af()]};const LR={line:DC},nV=e=>(t,n,r,a)=>{const{y:i}=r,o=h0(n,r,Ie({style:{bandOffset:0}},e)),s=Array.from(t,l=>{const c=[0,i[l]],u=[1,i[l]];return[c,u].map(f=>a.map(o(f,l)))});return[t,s]};nV.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:LR,channels:[...Ap({shapes:Object.keys(LR)}),{name:"y",required:!0}],preInference:[...ca(),{type:Kj}],postInference:[...Ea()]};const FR={line:DC},rV=e=>(t,n,r,a)=>{const{x:i}=r,o=h0(n,r,Ie({style:{bandOffset:0}},e)),s=Array.from(t,l=>{const c=[i[l],1],u=[i[l],0];return[c,u].map(f=>a.map(o(f,l)))});return[t,s]};rV.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:FR,channels:[...Ap({shapes:Object.keys(FR)}),{name:"x",required:!0}],preInference:[...ca(),{type:Zj}],postInference:[...Ea()]};const BR={connector:MW},aV=(...e)=>$C(...e);aV.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:BR,channels:[...Ap({shapes:Object.keys(BR)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca()],postInference:[...Ea()]};function $R(e,t,n,r){if(t)return()=>[0,1];const{[e]:a,[`${e}1`]:i}=n;return o=>{var s;const l=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+i[o])))||0;return[a[o],i[o]+l]}}function jC(e={}){const{extendX:t=!1,extendY:n=!1}=e;return(r,a,i,o)=>{const s=$R("x",t,i,a.x),l=$R("y",n,i,a.y),c=Array.from(r,u=>{const[f,d]=s(u),[h,p]=l(u);return[[f,h],[d,h],[d,p],[f,p]].map(x=>o.map(x))});return[r,c]}}const jR={range:f0},iV=()=>jC();iV.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:jR,channels:[...Ap({shapes:Object.keys(jR)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca()],postInference:[...Ea()]};const zR={range:f0},oV=()=>jC({extendY:!0});oV.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:zR,channels:[...Ap({shapes:Object.keys(zR)}),{name:"x",required:!0}],preInference:[...ca(),{type:ez}],postInference:[...Ea()]};const UR={range:f0},sV=()=>jC({extendX:!0});sV.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:UR,channels:[...Ap({shapes:Object.keys(UR)}),{name:"y",required:!0}],preInference:[...ca(),{type:tz}],postInference:[...Ea()]};function GLe(e){return e.target.depth}function WLe(e){return e.depth}function VLe(e,t){return t-1-e.height}function D2(e,t){return e.sourceLinks.length?e.depth:t-1}function YLe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?is(e.sourceLinks,GLe)-1:0}function My(e){return function(){return e}}function HR(e,t){return L2(e.source,t.source)||e.index-t.index}function GR(e,t){return L2(e.target,t.target)||e.index-t.index}function L2(e,t){return e.y0-t.y0}function QE(e){return e.value}function XLe(e){return e.index}function qLe(e){return e.nodes}function KLe(e){return e.links}function WR(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function VR({nodes:e}){for(const t of e){let n=t.y0,r=n;for(const a of t.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(const a of t.targetLinks)a.y1=r+a.width/2,r+=a.width}}function ZLe(){let e=0,t=0,n=1,r=1,a=24,i=8,o,s=XLe,l=D2,c,u,f,d=qLe,h=KLe,p=6;function v(I){const P={nodes:d(I),links:h(I)};return g(P),m(P),y(P),x(P),_(P),VR(P),P}v.update=function(I){return VR(I),I},v.nodeId=function(I){return arguments.length?(s=typeof I=="function"?I:My(I),v):s},v.nodeAlign=function(I){return arguments.length?(l=typeof I=="function"?I:My(I),v):l},v.nodeDepth=function(I){return arguments.length?(c=I,v):c},v.nodeSort=function(I){return arguments.length?(u=I,v):u},v.nodeWidth=function(I){return arguments.length?(a=+I,v):a},v.nodePadding=function(I){return arguments.length?(i=o=+I,v):i},v.nodes=function(I){return arguments.length?(d=typeof I=="function"?I:My(I),v):d},v.links=function(I){return arguments.length?(h=typeof I=="function"?I:My(I),v):h},v.linkSort=function(I){return arguments.length?(f=I,v):f},v.size=function(I){return arguments.length?(e=t=0,n=+I[0],r=+I[1],v):[n-e,r-t]},v.extent=function(I){return arguments.length?(e=+I[0][0],n=+I[1][0],t=+I[0][1],r=+I[1][1],v):[[e,t],[n,r]]},v.iterations=function(I){return arguments.length?(p=+I,v):p};function g({nodes:I,links:P}){I.forEach((N,V)=>{N.index=V,N.sourceLinks=[],N.targetLinks=[]});const B=new Map(I.map(N=>[s(N),N]));if(P.forEach((N,V)=>{N.index=V;let{source:W,target:z}=N;typeof W!="object"&&(W=N.source=WR(B,W)),typeof z!="object"&&(z=N.target=WR(B,z)),W.sourceLinks.push(N),z.targetLinks.push(N)}),f!=null)for(const{sourceLinks:N,targetLinks:V}of I)N.sort(f),V.sort(f)}function m({nodes:I}){for(const P of I)P.value=P.fixedValue===void 0?Math.max(Bs(P.sourceLinks,QE),Bs(P.targetLinks,QE)):P.fixedValue}function y({nodes:I}){const P=I.length;let B=new Set(I),N=new Set,V=0;for(;B.size;){if(B.forEach(W=>{W.depth=V;for(const{target:z}of W.sourceLinks)N.add(z)}),++V>P)throw new Error("circular link");B=N,N=new Set}if(c){const W=Math.max(Fn(I,j=>j.depth)+1,0);let z;for(let j=0;j<I.length;j++)z=I[j],z.depth=c.call(null,z,W)}}function x({nodes:I}){const P=I.length;let B=new Set(I),N=new Set,V=0;for(;B.size;){if(B.forEach(W=>{W.height=V;for(const{source:z}of W.targetLinks)N.add(z)}),++V>P)throw new Error("circular link");B=N,N=new Set}}function b({nodes:I}){const P=Math.max(Fn(I,V=>V.depth)+1,0),B=(n-e-a)/(P-1),N=new Array(P).fill(0).map(()=>[]);for(const V of I){const W=Math.max(0,Math.min(P-1,Math.floor(l.call(null,V,P))));V.layer=W,V.x0=e+W*B,V.x1=V.x0+a,N[W]?N[W].push(V):N[W]=[V]}if(u)for(const V of N)V.sort(u);return N}function E(I){const P=is(I,B=>(r-t-(B.length-1)*o)/Bs(B,QE));for(const B of I){let N=t;for(const V of B){V.y0=N,V.y1=N+V.value*P,N=V.y1+o;for(const W of V.sourceLinks)W.width=W.value*P}N=(r-N+o)/(B.length+1);for(let V=0;V<B.length;++V){const W=B[V];W.y0+=N*(V+1),W.y1+=N*(V+1)}C(B)}}function _(I){const P=b(I);o=Math.min(i,(r-t)/(Fn(P,B=>B.length)-1)),E(P);for(let B=0;B<p;++B){const N=Math.pow(.99,B),V=Math.max(1-N,(B+1)/p);A(P,N,V),w(P,N,V)}}function w(I,P,B){for(let N=1,V=I.length;N<V;++N){const W=I[N];for(const z of W){let j=0,L=0;for(const{source:H,value:D}of z.targetLinks){const G=D*(z.layer-H.layer);j+=M(H,z)*G,L+=G}if(!(L>0))continue;const F=(j/L-z.y0)*P;z.y0+=F,z.y1+=F,O(z)}u===void 0&&W.sort(L2),W.length&&S(W,B)}}function A(I,P,B){for(let N=I.length,V=N-2;V>=0;--V){const W=I[V];for(const z of W){let j=0,L=0;for(const{target:H,value:D}of z.sourceLinks){const G=D*(H.layer-z.layer);j+=R(z,H)*G,L+=G}if(!(L>0))continue;const F=(j/L-z.y0)*P;z.y0+=F,z.y1+=F,O(z)}u===void 0&&W.sort(L2),W.length&&S(W,B)}}function S(I,P){const B=I.length>>1,N=I[B];T(I,N.y0-o,B-1,P),k(I,N.y1+o,B+1,P),T(I,r,I.length-1,P),k(I,t,0,P)}function k(I,P,B,N){for(;B<I.length;++B){const V=I[B],W=(P-V.y0)*N;W>1e-6&&(V.y0+=W,V.y1+=W),P=V.y1+o}}function T(I,P,B,N){for(;B>=0;--B){const V=I[B],W=(V.y1-P)*N;W>1e-6&&(V.y0-=W,V.y1-=W),P=V.y0-o}}function O({sourceLinks:I,targetLinks:P}){if(f===void 0){for(const{source:{sourceLinks:B}}of P)B.sort(GR);for(const{target:{targetLinks:B}}of I)B.sort(HR)}}function C(I){if(f===void 0)for(const{sourceLinks:P,targetLinks:B}of I)P.sort(GR),B.sort(HR)}function M(I,P){let B=I.y0-(I.sourceLinks.length-1)*o/2;for(const{target:N,width:V}of I.sourceLinks){if(N===P)break;B+=V+o}for(const{source:N,width:V}of P.targetLinks){if(N===I)break;B-=V}return B}function R(I,P){let B=P.y0-(P.targetLinks.length-1)*o/2;for(const{source:N,width:V}of P.targetLinks){if(N===I)break;B+=V+o}for(const{target:N,width:V}of I.sourceLinks){if(N===P)break;B-=V}return B}return v}const QLe={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},JLe={left:WLe,right:VLe,center:YLe,justify:D2};function eFe(e){const t=typeof e;return t==="string"?JLe[e]||D2:t==="function"?e:D2}const lV=e=>t=>{const{nodeId:n,nodeSort:r,nodeAlign:a,nodeWidth:i,nodePadding:o,nodeDepth:s,nodes:l,links:c,linkSort:u,iterations:f}=Object.assign({},QLe,e),d=ZLe().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(i).nodePadding(o).nodeDepth(s).nodeAlign(eFe(a)).iterations(f).extent([[0,0],[1,1]]);typeof n=="function"&&d.nodeId(n);const h=d(t),{nodes:p,links:v}=h,g=p.map(y=>{const{x0:x,x1:b,y0:E,y1:_}=y;return Object.assign(Object.assign({},y),{x:[x,b,b,x],y:[E,E,_,_]})}),m=v.map(y=>{const{source:x,target:b}=y,E=x.x1,_=b.x0,w=y.width/2;return Object.assign(Object.assign({},y),{x:[E,E,_,_],y:[y.y0+w,y.y0-w,y.y1+w,y.y1-w]})});return{nodes:g,links:m}};lV.props={};function Cc(e,t,n={},r=!1){if(vu(e)||Array.isArray(e)&&r)return e;const a=qe(e,t);return Ie(n,a)}function F2(e,t={}){return vu(e)||Array.isArray(e)||!cV(e)?e:Ie(t,e)}function cV(e){if(Object.keys(e).length===0)return!0;const{title:t,items:n}=e;return t!==void 0||n!==void 0}function Mc(e,t){return typeof e=="object"?qe(e,t):e}var tFe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const nFe={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},rFe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},aFe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},iFe={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},uV=e=>{const{data:t,encode:n={},scale:r,style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={},interaction:u,state:f={}}=e,{links:d,nodes:h}=NC(t,n),p=qe(n,"node"),v=qe(n,"link"),{key:g=C=>C.key,color:m=g}=p,{links:y,nodes:x}=lV(Object.assign(Object.assign(Object.assign({},nFe),{nodeId:xc(g)}),i))({links:d,nodes:h}),b=qe(a,"label"),{text:E=g,spacing:_=5}=b,w=tFe(b,["text","spacing"]),A=xc(g),S=Cc(c,"node",{title:A,items:[{field:"value"}]},!0),k=Cc(c,"link",{title:"",items:[C=>({name:"source",value:A(C.source)}),C=>({name:"target",value:A(C.target)})]}),[T,O]=Object.entries(f).reduce((C,[M,R])=>{const I=dx(R,"node","link"),P=qe(R,"node");C[0][M]=Object.assign(Object.assign({},I),P);const B=qe(R,"link");return C[1][M]=Object.assign(Object.assign({},I),B),C},[{},{}]);return[Ie({},rFe,{data:x,encode:Object.assign(Object.assign({},p),{color:m}),scale:r,style:qe(a,"node"),labels:[Object.assign(Object.assign(Object.assign({},iFe),{text:E,dx:C=>C.x[0]<.5?_:-_}),w),...o],tooltip:S,animate:Mc(l,"node"),axis:!1,interaction:u,state:T}),Ie({},aFe,{data:y,encode:v,labels:s,style:Object.assign({fill:v.color?void 0:"#aaa",lineWidth:0},qe(a,"link")),tooltip:k,animate:Mc(l,"link"),interaction:u,state:O})]};uV.props={};function oFe(e,t){return t.value-e.value}function sFe(e,t){return t.frequency-e.frequency}function lFe(e,t){return`${e.id}`.localeCompare(`${t.id}`)}function cFe(e,t){return`${e.name}`.localeCompare(`${t.name}`)}const uFe=Object.freeze(Object.defineProperty({__proto__:null,frequency:sFe,id:lFe,name:cFe,weight:oFe},Symbol.toStringTag,{value:"Module"})),fFe={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function dFe(e){const{y:t,thickness:n,weight:r,marginRatio:a,id:i,source:o,target:s,sourceWeight:l,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},fFe),e);function f(g){const m=g.nodes.map(x=>Object.assign({},x)),y=g.edges.map(x=>Object.assign({},x));return d(m,y),h(m),p(m,y),v(m,y),{nodes:m,edges:y}}function d(g,m){m.forEach(b=>{b.source=o(b),b.target=s(b),b.sourceWeight=l(b),b.targetWeight=c(b)});const y=ur(m,b=>b.source),x=ur(m,b=>b.target);return g.forEach(b=>{b.id=i(b);const E=y.has(b.id)?y.get(b.id):[],_=x.has(b.id)?x.get(b.id):[];b.frequency=E.length+_.length,b.value=Bs(E,w=>w.sourceWeight)+Bs(_,w=>w.targetWeight)}),{nodes:g,edges:m}}function h(g,m){const y=typeof u=="function"?u:uFe[u];y&&g.sort(y)}function p(g,m){const y=g.length;if(!y)throw Uh("Invalid nodes: it's empty!");if(!r){const E=1/y;return g.forEach((_,w)=>{_.x=(w+.5)*E,_.y=t}),{nodes:g,edges:m}}const x=a/(2*y),b=g.reduce((E,_)=>E+=_.value,0);return g.reduce((E,_)=>{_.weight=_.value/b,_.width=_.weight*(1-a),_.height=n;const w=x+E,A=w+_.width,S=t-n/2,k=S+n;return _.x=[w,A,A,w],_.y=[S,S,k,k],E+_.width+2*x},0),{nodes:g,edges:m}}function v(g,m){const y=new Map(g.map(E=>[E.id,E]));if(!r)return m.forEach(E=>{const _=o(E),w=s(E),A=y.get(_),S=y.get(w);A&&S&&(E.x=[A.x,S.x],E.y=[A.y,S.y])}),{nodes:g,edges:m};m.forEach(E=>{E.x=[0,0,0,0],E.y=[t,t,t,t]});const x=ur(m,E=>E.source),b=ur(m,E=>E.target);g.forEach(E=>{const{edges:_,width:w,x:A,y:S,value:k,id:T}=E,O=x.get(T)||[],C=b.get(T)||[];let M=0;O.map(R=>{const I=R.sourceWeight/k*w;R.x[0]=A[0]+M,R.x[1]=A[0]+M+I,M+=I}),C.forEach(R=>{const I=R.targetWeight/k*w;R.x[3]=A[0]+M,R.x[2]=A[0]+M+I,M+=I})})}return f}const zC=e=>t=>dFe(e)(t);zC.props={};var YR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const JE={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},hFe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},pFe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},vFe={position:"outside",fontSize:10},fV=(e,t)=>{const{data:n,encode:r={},scale:a,style:i={},layout:o={},nodeLabels:s=[],linkLabels:l=[],animate:c={},tooltip:u={}}=e,{nodes:f,links:d}=NC(n,r),h=qe(r,"node"),p=qe(r,"link"),{key:v=R=>R.key,color:g=v}=h,{linkEncodeColor:m=R=>R.source}=p,{nodeWidthRatio:y=JE.thickness,nodePaddingRatio:x=JE.marginRatio}=o,b=YR(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:E,edges:_}=zC(Object.assign(Object.assign(Object.assign(Object.assign({},JE),{id:xc(v),thickness:y,marginRatio:x}),b),{weight:!0}))({nodes:f,edges:d}),w=qe(i,"label"),{text:A=v}=w,S=YR(w,["text"]),k=Cc(u,"node",{title:"",items:[R=>({name:R.key,value:R.value})]},!0),T=Cc(u,"link",{title:"",items:[R=>({name:`${R.source} -> ${R.target}`,value:R.value})]}),{height:O,width:C}=t,M=Math.min(O,C);return[Ie({},pFe,{data:_,encode:Object.assign(Object.assign({},p),{color:m}),labels:l,style:Object.assign({fill:m?void 0:"#aaa"},qe(i,"link")),tooltip:T,animate:Mc(c,"link")}),Ie({},hFe,{data:E,encode:Object.assign(Object.assign({},h),{color:g}),scale:a,style:qe(i,"node"),coordinate:{type:"polar",outerRadius:(M-20)/M,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},vFe),{text:A}),S),...s],tooltip:k,animate:Mc(c,"node"),axis:!1})]};fV.props={};const XR={path:FW,hollow:BW},dV=e=>(t,n,r,a)=>[t,t.map(()=>[[0,0]])];dV.props={defaultShape:"path",defaultLabelShape:"label",shape:XR,composite:!1,channels:[...Eo({shapes:Object.keys(XR)}),{name:"d",scale:"identity"}],preInference:[...ca()],postInference:[...Ea()]};function gFe(e,t){return e.parent===t.parent?1:2}function mFe(e){return e.reduce(yFe,0)/e.length}function yFe(e,t){return e+t.x}function xFe(e){return 1+e.reduce(bFe,0)}function bFe(e,t){return Math.max(e,t.y)}function wFe(e){for(var t;t=e.children;)e=t[0];return e}function _Fe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function EFe(){var e=gFe,t=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(d){var h=d.children;h?(d.x=mFe(h),d.y=xFe(h)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=wFe(i),c=_Fe(i),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return i.eachAfter(r?function(d){d.x=(d.x-i.x)*t,d.y=(i.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(i.y?d.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(e=i,a):e},a.size=function(i){return arguments.length?(r=!1,t=+i[0],n=+i[1],a):r?null:[t,n]},a.nodeSize=function(i){return arguments.length?(r=!0,t=+i[0],n=+i[1],a):r?[t,n]:null},a}function SFe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function AFe(){return this.eachAfter(SFe)}function kFe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function TFe(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function OFe(e,t){for(var n=this,r=[n],a=[],i,o,s,l=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++l,this);return this}function CFe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function MFe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function PFe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function IFe(e){for(var t=this,n=RFe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function RFe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function NFe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function DFe(){return Array.from(this)}function LFe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function FFe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*BFe(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function Qg(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=zFe)):t===void 0&&(t=jFe);for(var n=new ep(e),r,a=[n],i,o,s,l;r=a.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new ep(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(hV)}function $Fe(){return Qg(this).eachBefore(UFe)}function jFe(e){return e.children}function zFe(e){return Array.isArray(e)?e[1]:null}function UFe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function hV(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ep(e){this.data=e,this.depth=this.height=0,this.parent=null}ep.prototype=Qg.prototype={constructor:ep,count:AFe,each:kFe,eachAfter:OFe,eachBefore:TFe,find:CFe,sum:MFe,sort:PFe,path:IFe,ancestors:NFe,descendants:DFe,leaves:LFe,links:FFe,copy:$Fe,[Symbol.iterator]:BFe};function vx(e){return e==null?null:pV(e)}function pV(e){if(typeof e!="function")throw new Error;return e}function ed(){return 0}function B0(e){return function(){return e}}const HFe=1664525,GFe=1013904223,qR=4294967296;function WFe(){let e=1;return()=>(e=(HFe*e+GFe)%qR)/qR}function VFe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YFe(e,t){let n=e.length,r,a;for(;n;)a=t()*n--|0,r=e[n],e[n]=e[a],e[a]=r;return e}function XFe(e,t){for(var n=0,r=(e=YFe(Array.from(e),t)).length,a=[],i,o;n<r;)i=e[n],o&&vV(o,i)?++n:(o=KFe(a=qFe(a,i)),n=0);return o}function qFe(e,t){var n,r;if(eS(t,e))return[t];for(n=0;n<e.length;++n)if(Py(t,e[n])&&eS(Sv(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Py(Sv(e[n],e[r]),t)&&Py(Sv(e[n],t),e[r])&&Py(Sv(e[r],t),e[n])&&eS(gV(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Py(e,t){var n=e.r-t.r,r=t.x-e.x,a=t.y-e.y;return n<0||n*n<r*r+a*a}function vV(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function eS(e,t){for(var n=0;n<t.length;++n)if(!vV(e,t[n]))return!1;return!0}function KFe(e){switch(e.length){case 1:return ZFe(e[0]);case 2:return Sv(e[0],e[1]);case 3:return gV(e[0],e[1],e[2])}}function ZFe(e){return{x:e.x,y:e.y,r:e.r}}function Sv(e,t){var n=e.x,r=e.y,a=e.r,i=t.x,o=t.y,s=t.r,l=i-n,c=o-r,u=s-a,f=Math.sqrt(l*l+c*c);return{x:(n+i+l/f*u)/2,y:(r+o+c/f*u)/2,r:(f+a+s)/2}}function gV(e,t,n){var r=e.x,a=e.y,i=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-o,h=r-c,p=a-s,v=a-u,g=l-i,m=f-i,y=r*r+a*a-i*i,x=y-o*o-s*s+l*l,b=y-c*c-u*u+f*f,E=h*p-d*v,_=(p*b-v*x)/(E*2)-r,w=(v*g-p*m)/E,A=(h*x-d*b)/(E*2)-a,S=(d*m-h*g)/E,k=w*w+S*S-1,T=2*(i+_*w+A*S),O=_*_+A*A-i*i,C=-(Math.abs(k)>1e-6?(T+Math.sqrt(T*T-4*k*O))/(2*k):O/T);return{x:r+_+w*C,y:a+A+S*C,r:C}}function KR(e,t,n){var r=e.x-t.x,a,i,o=e.y-t.y,s,l,c=r*r+o*o;c?(i=t.r+n.r,i*=i,l=e.r+n.r,l*=l,i>l?(a=(c+l-i)/(2*c),s=Math.sqrt(Math.max(0,l/c-a*a)),n.x=e.x-a*r-s*o,n.y=e.y-a*o+s*r):(a=(c+i-l)/(2*c),s=Math.sqrt(Math.max(0,i/c-a*a)),n.x=t.x+a*r-s*o,n.y=t.y+a*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function ZR(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function QR(e){var t=e._,n=e.next._,r=t.r+n.r,a=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return a*a+i*i}function Iy(e){this._=e,this.next=null,this.previous=null}function QFe(e,t){if(!(i=(e=VFe(e)).length))return 0;var n,r,a,i,o,s,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;KR(r,n,a=e[2]),n=new Iy(n),r=new Iy(r),a=new Iy(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;e:for(l=3;l<i;++l){KR(n._,r._,a=e[l]),a=new Iy(a),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(ZR(c._,a._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(ZR(u._,a._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,o=QR(n);(a=a.next)!==r;)(s=QR(a))<o&&(n=a,o=s);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=XFe(n,t),l=0;l<i;++l)n=e[l],n.x-=a.x,n.y-=a.y;return a.r}function JFe(e){return Math.sqrt(e.value)}function e7e(){var e=null,t=1,n=1,r=ed;function a(i){const o=WFe();return i.x=t/2,i.y=n/2,e?i.eachBefore(JR(e)).eachAfter(tS(r,.5,o)).eachBefore(eN(1)):i.eachBefore(JR(JFe)).eachAfter(tS(ed,1,o)).eachAfter(tS(r,i.r/Math.min(t,n),o)).eachBefore(eN(Math.min(t,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(e=vx(i),a):e},a.size=function(i){return arguments.length?(t=+i[0],n=+i[1],a):[t,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:B0(+i),a):r},a}function JR(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function tS(e,t,n){return function(r){if(a=r.children){var a,i,o=a.length,s=e(r)*t||0,l;if(s)for(i=0;i<o;++i)a[i].r+=s;if(l=QFe(a,n),s)for(i=0;i<o;++i)a[i].r-=s;r.r=l+s}}}function eN(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function t7e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Rw(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(r-t)/e.value;++s<l;)o=i[s],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*c}var n7e={depth:-1},tN={},nS={};function r7e(e){return e.id}function a7e(e){return e.parentId}function Dk(){var e=r7e,t=a7e,n;function r(a){var i=Array.from(a),o=e,s=t,l,c,u,f,d,h,p,v,g=new Map;if(n!=null){const m=i.map((b,E)=>i7e(n(b,E,a))),y=m.map(nN),x=new Set(m).add("");for(const b of y)x.has(b)||(x.add(b),m.push(b),y.push(nN(b)),i.push(nS));o=(b,E)=>m[E],s=(b,E)=>y[E]}for(u=0,l=i.length;u<l;++u)c=i[u],h=i[u]=new ep(c),(p=o(c,u,a))!=null&&(p+="")&&(v=h.id=p,g.set(v,g.has(v)?tN:h)),(p=s(c,u,a))!=null&&(p+="")&&(h.parent=p);for(u=0;u<l;++u)if(h=i[u],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===tN)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===nS&&f.children.length===1;)f=f.children[0],--l;for(let m=i.length-1;m>=0&&(h=i[m],h.data===nS);--m)h.data=null}if(f.parent=n7e,f.eachBefore(function(m){m.depth=m.parent.depth+1,--l}).eachBefore(hV),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(a){return arguments.length?(e=vx(a),r):e},r.parentId=function(a){return arguments.length?(t=vx(a),r):t},r.path=function(a){return arguments.length?(n=vx(a),r):n},r}function i7e(e){e=`${e}`;let t=e.length;return Lk(e,t-1)&&!Lk(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function nN(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Lk(e,t););return e.slice(0,t)}function Lk(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function o7e(e,t){return e.parent===t.parent?1:2}function rS(e){var t=e.children;return t?t[0]:e.t}function aS(e){var t=e.children;return t?t[t.length-1]:e.t}function s7e(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function l7e(e){for(var t=0,n=0,r=e.children,a=r.length,i;--a>=0;)i=r[a],i.z+=t,i.m+=t,t+=i.s+(n+=i.c)}function c7e(e,t,n){return e.a.parent===t.parent?e.a:n}function gx(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}gx.prototype=Object.create(ep.prototype);function u7e(e){for(var t=new gx(e,0),n,r=[t],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new gx(i[o],o)),a.parent=n;return(t.parent=new gx(null,0)).children=[t],t}function f7e(){var e=o7e,t=1,n=1,r=null;function a(c){var u=u7e(c);if(u.eachAfter(i),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var p=f===d?1:e(f,d)/2,v=p-f.x,g=t/(d.x+p+v),m=n/(h.depth||1);c.eachBefore(function(y){y.x=(y.x+v)*g,y.y=y.depth*m})}return c}function i(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){l7e(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=s(c,d,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,f){if(u){for(var d=c,h=c,p=u,v=d.parent.children[0],g=d.m,m=h.m,y=p.m,x=v.m,b;p=aS(p),d=rS(d),p&&d;)v=rS(v),h=aS(h),h.a=c,b=p.z+y-d.z-g+e(p._,d._),b>0&&(s7e(c7e(p,c,f),c,b),g+=b,m+=b),y+=p.m,g+=d.m,x+=v.m,m+=h.m;p&&!aS(h)&&(h.t=p,h.m+=y-m),d&&!rS(v)&&(v.t=d,v.m+=g-x,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return a.separation=function(c){return arguments.length?(e=c,a):e},a.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],a):r?null:[t,n]},a.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],a):r?[t,n]:null},a}function Nw(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(a-n)/e.value;++s<l;)o=i[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var mV=(1+Math.sqrt(5))/2;function yV(e,t,n,r,a,i){for(var o=[],s=t.children,l,c,u=0,f=0,d=s.length,h,p,v=t.value,g,m,y,x,b,E,_;u<d;){h=a-n,p=i-r;do g=s[f++].value;while(!g&&f<d);for(m=y=g,E=Math.max(p/h,h/p)/(v*e),_=g*g*E,b=Math.max(y/_,_/m);f<d;++f){if(g+=c=s[f].value,c<m&&(m=c),c>y&&(y=c),_=g*g*E,x=Math.max(y/_,_/m),x>b){g-=c;break}b=x}o.push(l={value:g,dice:h<p,children:s.slice(u,f)}),l.dice?Rw(l,n,r,a,v?r+=p*g/v:i):Nw(l,n,r,v?n+=h*g/v:a,i),v-=g,u=f}return o}const xV=function e(t){function n(r,a,i,o,s){yV(t,r,a,i,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(mV);function d7e(){var e=xV,t=!1,n=1,r=1,a=[0],i=ed,o=ed,s=ed,l=ed,c=ed;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),a=[0],t&&d.eachBefore(t7e),d}function f(d){var h=a[d.depth],p=d.x0+h,v=d.y0+h,g=d.x1-h,m=d.y1-h;g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),d.x0=p,d.y0=v,d.x1=g,d.y1=m,d.children&&(h=a[d.depth+1]=i(d)/2,p+=c(d)-h,v+=o(d)-h,g-=s(d)-h,m-=l(d)-h,g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),e(d,p,v,g,m))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=pV(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(i=typeof d=="function"?d:B0(+d),u):i},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:B0(+d),u):o},u.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:B0(+d),u):s},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:B0(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:B0(+d),u):c},u}function h7e(e,t,n,r,a){var i=e.children,o,s=i.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=i[o].value;u(0,s,e.value,t,n,r,a);function u(f,d,h,p,v,g,m){if(f>=d-1){var y=i[f];y.x0=p,y.y0=v,y.x1=g,y.y1=m;return}for(var x=c[f],b=h/2+x,E=f+1,_=d-1;E<_;){var w=E+_>>>1;c[w]<b?E=w+1:_=w}b-c[E-1]<c[E]-b&&f+1<E&&--E;var A=c[E]-x,S=h-A;if(g-p>m-v){var k=h?(p*S+g*A)/h:g;u(f,E,A,p,v,k,m),u(E,d,S,k,v,g,m)}else{var T=h?(v*S+m*A)/h:m;u(f,E,A,p,v,g,T),u(E,d,S,p,T,g,m)}}}function p7e(e,t,n,r,a){(e.depth&1?Nw:Rw)(e,t,n,r,a)}const v7e=function e(t){function n(r,a,i,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,p=l.length,v=r.value;++d<p;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?Rw(c,a,i,o,v?i+=(s-i)*c.value/v:s):Nw(c,a,i,v?a+=(o-a)*c.value/v:o,s),v-=c.value}else r._squarify=l=yV(t,r,a,i,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(mV);function g7e(e,t){return Array.isArray(e)?typeof t=="function"?Dk().path(t)(e):Dk()(e):Qg(e)}function bV(e,t=[e.data.name]){e.id=e.id||e.data.name,e.path=t,e.children&&e.children.forEach(n=>{n.id=`${e.id}/${n.data.name}`,n.path=[...t,n.data.name],bV(n,n.path)})}function wV(e){const t=Pn(e,["data","name"]);t.replaceAll&&(e.path=t.replaceAll(".","/").split("/")),e.children&&e.children.forEach(n=>{wV(n)})}function m7e(e,t){const n={treemapBinary:h7e,treemapDice:Rw,treemapSlice:Nw,treemapSliceDice:p7e,treemapSquarify:xV,treemapResquarify:v7e},r=e==="treemapSquarify"?n[e].ratio(t):n[e];if(!r)throw new TypeError("Invalid tile method!");return r}function _V(e,t,n){const{value:r}=n,a=m7e(t.tile,t.ratio),i=g7e(e,t.path);di(e)?wV(i):bV(i),r?i.sum(l=>t.ignoreParentValue&&l.children?0:xc(r)(l)).sort(t.sort):i.count(),d7e().tile(a).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(i);const o=i.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[o.filter(typeof t.layer=="function"?t.layer:l=>l.height===t.layer),o]}var y7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const x7e=(e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),b7e=(e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),w7e={fontSize:10,text:e=>xp(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0,isTreemapLabel:!0},_7e={title:e=>{var t,n;return(n=(t=e.path)===null||t===void 0?void 0:t.join)===null||n===void 0?void 0:n.call(t,".")},items:[{field:"value"}]},E7e={title:e=>xp(e.path),items:[{field:"value"}]},EV=(e,t)=>{const{width:n,height:r,options:a}=t,{data:i,encode:o={},scale:s,style:l={},layout:c={},labels:u=[],tooltip:f={}}=e,d=y7e(e,["data","encode","scale","style","layout","labels","tooltip"]),h=Pn(a,["interaction","treemapDrillDown"])||Pn(a,["marks",0,"interaction","treemapDrillDown"]),p=Ie({},x7e(n,r),c,{layer:h?y=>y.depth===1:c.layer}),[v,g]=_V(i,p,o),m=qe(l,"label");return Ie({},b7e(n,r),Object.assign(Object.assign({data:v,scale:s,style:l,labels:[Object.assign(Object.assign(Object.assign({},w7e),m),h&&{cursor:"pointer"}),...u]},d),{encode:o,tooltip:F2(f,_7e),axis:!1}),h?{interaction:Object.assign(Object.assign({},d.interaction),{treemapDrillDown:h?Object.assign(Object.assign({},h),{originData:g,layout:p}):void 0}),encode:Object.assign({color:y=>xp(y.path)},o),tooltip:F2(f,E7e)}:{})};EV.props={};var S7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const A7e=(e,t)=>({size:[e,t],padding:0,sort:(n,r)=>r.value-n.value}),k7e=(e,t,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),T7e={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.r*2},O7e={title:e=>e.data.name,items:[{field:"value"}]},C7e=(e,t,n)=>{const{value:r}=n,a=di(e)?Dk().path(t.path)(e):Qg(e);return r?a.sum(i=>xc(r)(i)).sort(t.sort):a.count(),e7e().size(t.size).padding(t.padding)(a),a.descendants()},SV=(e,t)=>{const{width:n,height:r}=t,{data:a,encode:i={},scale:o={},style:s={},layout:l={},labels:c=[],tooltip:u={}}=e,f=S7e(e,["data","encode","scale","style","layout","labels","tooltip"]),d=k7e(n,r,i),h=C7e(a,Ie({},A7e(n,r),l),Ie({},d.encode,i)),p=qe(s,"label");return Ie({},d,Object.assign(Object.assign({data:h,encode:i,scale:o,style:s,labels:[Object.assign(Object.assign({},T7e),p),...c]},f),{tooltip:F2(u,O7e),axis:!1}))};SV.props={};var rN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function M7e(e,t){return is(e,n=>t[n])}function P7e(e,t){return Fn(e,n=>t[n])}function AV(e,t){const n=UC(e,t)*2.5-HC(e,t)*1.5;return is(e,r=>t[r]>=n?t[r]:NaN)}function UC(e,t){return Zb(e,.25,n=>t[n])}function I7e(e,t){return Zb(e,.5,n=>t[n])}function HC(e,t){return Zb(e,.75,n=>t[n])}function kV(e,t){const n=HC(e,t)*2.5-UC(e,t)*1.5;return Fn(e,r=>t[r]<=n?t[r]:NaN)}function R7e(){return(e,t)=>{const{encode:n}=t,{y:r,x:a}=n,{value:i}=r,{value:o}=a;return[Array.from(ur(e,c=>o[+c]).values()).flatMap(c=>{const u=AV(c,i),f=kV(c,i);return c.filter(d=>i[d]<u||i[d]>f)}),t]}}const TV=e=>{const{data:t,encode:n,style:r={},tooltip:a={},transform:i,animate:o}=e,s=rN(e,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=rN(r,["point"]),{y:u}=n,f={y:u,y1:u,y2:u,y3:u,y4:u},d={y1:UC,y2:I7e,y3:HC},h=Cc(a,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=Cc(a,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:M7e},d),{y4:P7e})],encode:Object.assign(Object.assign({},n),f),style:c,tooltip:h},s);const v=qe(c,"box"),g=qe(c,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:AV},d),{y4:kV})],encode:Object.assign(Object.assign({},n),f),style:v,tooltip:h,animate:Mc(o,"box")},s),{type:"point",data:t,transform:[{type:R7e}],encode:n,style:Object.assign({},g),tooltip:p,animate:Mc(o,"point")}]};TV.props={};const N7e={shape:HW},OV=e=>{const{cartesian:t}=e;return t?RC:(n,r,a,i)=>{const{x:o,y:s}=a,l=h0(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]}};OV.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:N7e,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ca(),{type:ow},{type:iw},{type:nz}]};function D7e(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function a(){var i,o=n.length,s,l=0,c=0;for(i=0;i<o;++i)s=n[i],l+=s.x,c+=s.y;for(l=(l/o-e)*r,c=(c/o-t)*r,i=0;i<o;++i)s=n[i],s.x-=l,s.y-=c}return a.initialize=function(i){n=i},a.x=function(i){return arguments.length?(e=+i,a):e},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(r=+i,a):r},a}function L7e(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return CV(this.cover(t,n),t,n,e)}function CV(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,p,v,g,m,y;if(!i)return e._root=o,e;for(;i.length;)if((v=t>=(f=(s+c)/2))?s=f:c=f,(g=n>=(d=(l+u)/2))?l=d:u=d,a=i,!(i=i[m=g<<1|v]))return a[m]=o,e;if(h=+e._x.call(null,i.data),p=+e._y.call(null,i.data),t===h&&n===p)return o.next=i,a?a[m]=o:e._root=o,e;do a=a?a[m]=new Array(4):e._root=new Array(4),(v=t>=(f=(s+c)/2))?s=f:c=f,(g=n>=(d=(l+u)/2))?l=d:u=d;while((m=g<<1|v)===(y=(p>=d)<<1|h>=f));return a[y]=i,a[m]=o,e}function F7e(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=a,s[n]=i,a<l&&(l=a),a>u&&(u=a),i<c&&(c=i),i>f&&(f=i));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)CV(this,o[n],s[n],e[n]);return this}function B7e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o=a-n||1,s=this._root,l,c;n>e||e>=a||r>t||t>=i;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function $7e(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function j7e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function vo(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function z7e(e,t,n){var r,a=this._x0,i=this._y0,o,s,l,c,u=this._x1,f=this._y1,d=[],h=this._root,p,v;for(h&&d.push(new vo(h,a,i,u,f)),n==null?n=1/0:(a=e-n,i=t-n,u=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>u||(s=p.y0)>f||(l=p.x1)<a||(c=p.y1)<i))if(h.length){var g=(o+l)/2,m=(s+c)/2;d.push(new vo(h[3],g,m,l,c),new vo(h[2],o,m,g,c),new vo(h[1],g,s,l,m),new vo(h[0],o,s,g,m)),(v=(t>=m)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=p)}else{var y=e-+this._x.call(null,h.data),x=t-+this._y.call(null,h.data),b=y*y+x*x;if(b<n){var E=Math.sqrt(n=b);a=e-E,i=t-E,u=e+E,f=t+E,r=h.data}}return r}function U7e(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,d,h,p,v,g,m;if(!n)return this;if(n.length)for(;;){if((p=u>=(d=(o+l)/2))?o=d:l=d,(v=f>=(h=(s+c)/2))?s=h:c=h,t=n,!(n=n[g=v<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,m=g)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[g]=i:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[m]=n:this._root=n),this):(this._root=i,this)}function H7e(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function G7e(){return this._root}function W7e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function V7e(e){var t=[],n,r=this._root,a,i,o,s,l;for(r&&t.push(new vo(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(i+s)/2,u=(o+l)/2;(a=r[3])&&t.push(new vo(a,c,u,s,l)),(a=r[2])&&t.push(new vo(a,i,u,c,l)),(a=r[1])&&t.push(new vo(a,c,o,s,u)),(a=r[0])&&t.push(new vo(a,i,o,c,u))}return this}function Y7e(e){var t=[],n=[],r;for(this._root&&t.push(new vo(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,f=(s+c)/2;(i=a[0])&&t.push(new vo(i,o,s,u,f)),(i=a[1])&&t.push(new vo(i,u,s,l,f)),(i=a[2])&&t.push(new vo(i,o,f,u,c)),(i=a[3])&&t.push(new vo(i,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function X7e(e){return e[0]}function q7e(e){return arguments.length?(this._x=e,this):this._x}function K7e(e){return e[1]}function Z7e(e){return arguments.length?(this._y=e,this):this._y}function MV(e,t,n){var r=new GC(t??X7e,n??K7e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function GC(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function aN(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var So=MV.prototype=GC.prototype;So.copy=function(){var e=new GC(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=aN(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=aN(r));return e};So.add=L7e;So.addAll=F7e;So.cover=B7e;So.data=$7e;So.extent=j7e;So.find=z7e;So.remove=U7e;So.removeAll=H7e;So.root=G7e;So.size=W7e;So.visit=V7e;So.visitAfter=Y7e;So.x=q7e;So.y=Z7e;function es(e){return function(){return e}}function V0(e){return(e()-.5)*1e-6}function Q7e(e){return e.index}function iN(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function J7e(e){var t=Q7e,n=f,r,a=es(30),i,o,s,l,c,u=1;e==null&&(e=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function d(g){for(var m=0,y=e.length;m<u;++m)for(var x=0,b,E,_,w,A,S,k;x<y;++x)b=e[x],E=b.source,_=b.target,w=_.x+_.vx-E.x-E.vx||V0(c),A=_.y+_.vy-E.y-E.vy||V0(c),S=Math.sqrt(w*w+A*A),S=(S-i[x])/S*g*r[x],w*=S,A*=S,_.vx-=w*(k=l[x]),_.vy-=A*k,E.vx+=w*(k=1-k),E.vy+=A*k}function h(){if(o){var g,m=o.length,y=e.length,x=new Map(o.map((E,_)=>[t(E,_,o),E])),b;for(g=0,s=new Array(m);g<y;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=iN(x,b.source)),typeof b.target!="object"&&(b.target=iN(x,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)b=e[g],l[g]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(y),p(),i=new Array(y),v()}}function p(){if(o)for(var g=0,m=e.length;g<m;++g)r[g]=+n(e[g],g,e)}function v(){if(o)for(var g=0,m=e.length;g<m;++g)i[g]=+a(e[g],g,e)}return d.initialize=function(g,m){o=g,c=m,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(u=+g,d):u},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:es(+g),p(),d):n},d.distance=function(g){return arguments.length?(a=typeof g=="function"?g:es(+g),v(),d):a},d}var e9e={value:()=>{}};function PV(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mx(n)}function mx(e){this._=e}function t9e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mx.prototype=PV.prototype={constructor:mx,on:function(e,t){var n=this._,r=t9e(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=n9e(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=oN(n[a],e.name,t);else if(t==null)for(a in n)n[a]=oN(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mx(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function n9e(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function oN(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=e9e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tp=0,Av=0,rv=0,IV=1e3,B2,kv,$2=0,Hd=0,Dw=0,tg=typeof performance=="object"&&performance.now?performance:Date,RV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function NV(){return Hd||(RV(r9e),Hd=tg.now()+Dw)}function r9e(){Hd=0}function Fk(){this._call=this._time=this._next=null}Fk.prototype=DV.prototype={constructor:Fk,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?NV():+n)+(t==null?0:+t),!this._next&&kv!==this&&(kv?kv._next=this:B2=this,kv=this),this._call=e,this._time=n,Bk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bk())}};function DV(e,t,n){var r=new Fk;return r.restart(e,t,n),r}function a9e(){NV(),++tp;for(var e=B2,t;e;)(t=Hd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tp}function sN(){Hd=($2=tg.now())+Dw,tp=Av=0;try{a9e()}finally{tp=0,o9e(),Hd=0}}function i9e(){var e=tg.now(),t=e-$2;t>IV&&(Dw-=t,$2=e)}function o9e(){for(var e,t=B2,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:B2=n);kv=e,Bk(r)}function Bk(e){if(!tp){Av&&(Av=clearTimeout(Av));var t=e-Hd;t>24?(e<1/0&&(Av=setTimeout(sN,e-tg.now()-Dw)),rv&&(rv=clearInterval(rv))):(rv||($2=tg.now(),rv=setInterval(i9e,IV)),tp=1,RV(sN))}}const s9e=1664525,l9e=1013904223,lN=4294967296;function c9e(){let e=1;return()=>(e=(s9e*e+l9e)%lN)/lN}function u9e(e){return e.x}function f9e(e){return e.y}var d9e=10,h9e=Math.PI*(3-Math.sqrt(5));function p9e(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,s=new Map,l=DV(f),c=PV("tick","end"),u=c9e();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(v){var g,m=e.length,y;v===void 0&&(v=1);for(var x=0;x<v;++x)for(n+=(i-n)*a,s.forEach(function(b){b(n)}),g=0;g<m;++g)y=e[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return t}function h(){for(var v=0,g=e.length,m;v<g;++v){if(m=e[v],m.index=v,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=d9e*Math.sqrt(.5+v),x=v*h9e;m.x=y*Math.cos(x),m.y=y*Math.sin(x)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(v){return v.initialize&&v.initialize(e,u),v}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(v){return arguments.length?(e=v,h(),s.forEach(p),t):e},alpha:function(v){return arguments.length?(n=+v,t):n},alphaMin:function(v){return arguments.length?(r=+v,t):r},alphaDecay:function(v){return arguments.length?(a=+v,t):+a},alphaTarget:function(v){return arguments.length?(i=+v,t):i},velocityDecay:function(v){return arguments.length?(o=1-v,t):1-o},randomSource:function(v){return arguments.length?(u=v,s.forEach(p),t):u},force:function(v,g){return arguments.length>1?(g==null?s.delete(v):s.set(v,p(g)),t):s.get(v)},find:function(v,g,m){var y=0,x=e.length,b,E,_,w,A;for(m==null?m=1/0:m*=m,y=0;y<x;++y)w=e[y],b=v-w.x,E=g-w.y,_=b*b+E*E,_<m&&(A=w,m=_);return A},on:function(v,g){return arguments.length>1?(c.on(v,g),t):c.on(v)}}}function v9e(){var e,t,n,r,a=es(-30),i,o=1,s=1/0,l=.81;function c(h){var p,v=e.length,g=MV(e,u9e,f9e).visitAfter(f);for(r=h,p=0;p<v;++p)t=e[p],g.visit(d)}function u(){if(e){var h,p=e.length,v;for(i=new Array(p),h=0;h<p;++h)v=e[h],i[v.index]=+a(v,h,e)}}function f(h){var p=0,v,g,m=0,y,x,b;if(h.length){for(y=x=b=0;b<4;++b)(v=h[b])&&(g=Math.abs(v.value))&&(p+=v.value,m+=g,y+=g*v.x,x+=g*v.y);h.x=y/m,h.y=x/m}else{v=h,v.x=v.data.x,v.y=v.data.y;do p+=i[v.data.index];while(v=v.next)}h.value=p}function d(h,p,v,g){if(!h.value)return!0;var m=h.x-t.x,y=h.y-t.y,x=g-p,b=m*m+y*y;if(x*x/l<b)return b<s&&(m===0&&(m=V0(n),b+=m*m),y===0&&(y=V0(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)),t.vx+=m*h.value*r/b,t.vy+=y*h.value*r/b),!0;if(h.length||b>=s)return;(h.data!==t||h.next)&&(m===0&&(m=V0(n),b+=m*m),y===0&&(y=V0(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)));do h.data!==t&&(x=i[h.data.index]*r/b,t.vx+=m*x,t.vy+=y*x);while(h=h.next)}return c.initialize=function(h,p){e=h,n=p,u()},c.strength=function(h){return arguments.length?(a=typeof h=="function"?h:es(+h),u(),c):a},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function g9e(e){var t=es(.1),n,r,a;typeof e!="function"&&(e=es(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(a[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:es(+s),o(),i):t},i.x=function(s){return arguments.length?(e=typeof s=="function"?s:es(+s),o(),i):e},i}function m9e(e){var t=es(.1),n,r,a;typeof e!="function"&&(e=es(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(a[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:es(+s),o(),i):t},i.y=function(s){return arguments.length?(e=typeof s=="function"?s:es(+s),o(),i):e},i}var y9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const x9e={joint:!0},b9e={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},w9e={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},_9e={text:""};function E9e(e,t,n){const{nodes:r,links:a}=e,{joint:i,nodeStrength:o,linkStrength:s}=t,{nodeKey:l=p=>p.id,linkKey:c=p=>p.id}=n,u=v9e(),f=J7e(a).id(xc(c));typeof o=="function"&&u.strength(o),typeof s=="function"&&f.strength(s);const d=p9e(r).force("link",f).force("charge",u);i?d.force("center",D7e()):d.force("x",g9e()).force("y",m9e()),d.stop();const h=Math.ceil(Math.log(d.alphaMin())/Math.log(1-d.alphaDecay()));for(let p=0;p<h;p++)d.tick();return{nodesData:r,linksData:a}}const LV=e=>{const{data:t,encode:n={},scale:r,style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=e,{nodeKey:u=_=>_.id,linkKey:f=_=>_.id}=n,d=y9e(n,["nodeKey","linkKey"]),h=Object.assign({nodeKey:u,linkKey:f},d),p=qe(h,"node"),v=qe(h,"link"),{links:g,nodes:m}=NC(t,h),{nodesData:y,linksData:x}=E9e({links:g,nodes:m},Ie({},x9e,i),h),b=Cc(c,"link",{items:[_=>({name:"source",value:xc(f)(_.source)}),_=>({name:"target",value:xc(f)(_.target)})]}),E=Cc(c,"node",{items:[_=>({name:"key",value:xc(u)(_)})]},!0);return[Ie({},b9e,{data:x,encode:v,labels:s,style:qe(a,"link"),tooltip:b,animate:Mc(l,"link")}),Ie({},w9e,{data:y,encode:Object.assign({},p),scale:r,style:qe(a,"node"),tooltip:E,labels:[Object.assign(Object.assign({},_9e),qe(a,"label")),...o],animate:Mc(l,"link")})]};LV.props={};const FV=e=>t=>n=>{const{field:r="value",nodeSize:a,separation:i,sortBy:o,as:s=["x","y"]}=t,[l,c]=s,u=Qg(n,p=>p.children).sum(p=>p[r]).sort(o),f=e();f.size([1,1]),a&&f.nodeSize(a),i&&f.separation(i),f(u);const d=[];u.each(p=>{p[l]=p.x,p[c]=p.y,p.name=p.data.name,d.push(p)});const h=u.links();return h.forEach(p=>{p[l]=[p.source[l],p.target[l]],p[c]=[p.source[c],p.target[c]]}),{nodes:d,edges:h}},BV=e=>FV(EFe)(e);BV.props={};const $V=e=>FV(f7e)(e);$V.props={};const S9e={sortBy:(e,t)=>t.value-e.value},A9e={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},k9e={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},T9e={text:"",fontSize:10},jV=e=>{const{data:t,encode:n={},scale:r={},style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=e,u=n==null?void 0:n.value,{nodes:f,edges:d}=$V(Object.assign(Object.assign(Object.assign({},S9e),i),{field:u}))(t),h=Cc(c,"node",{title:"name",items:["value"]},!0),p=Cc(c,"link",{title:"",items:[v=>({name:"source",value:v.source.name}),v=>({name:"target",value:v.target.name})]});return[Ie({},k9e,{data:d,encode:qe(n,"link"),scale:qe(r,"link"),labels:s,style:Object.assign({stroke:"#999"},qe(a,"link")),tooltip:p,animate:Mc(l,"link")}),Ie({},A9e,{data:f,scale:qe(r,"node"),encode:qe(n,"node"),labels:[Object.assign(Object.assign({},T9e),qe(a,"label")),...o],style:Object.assign({},qe(a,"node")),tooltip:h,animate:Mc(l,"node")})]};jV.props={};var O9e=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},C9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function M9e(e,t){const{text:n="text",value:r="value"}=t;return e.map(a=>Object.assign(Object.assign({},a),{text:a[n],value:a[r]}))}const P9e=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily},tooltip:{items:[e=>({name:e.text,value:e.value})]}}),WC=(e,t)=>O9e(void 0,void 0,void 0,function*(){const{width:n,height:r}=t,{data:a,encode:i={},scale:o,style:s={},layout:l={}}=e,c=C9e(e,["data","encode","scale","style","layout"]),u=M9e(a,i);return Ie({},P9e(),Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},l)]},encode:i,scale:o,style:s},c),{axis:!1}))});WC.props={};var t1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const I9e=(e,t)=>{const{shape:n,radius:r}=e,a=t1(e,["shape","radius"]),i=qe(a,"pointer"),o=qe(a,"pin"),{shape:s}=i,l=t1(i,["shape"]),{shape:c}=o,u=t1(o,["shape"]),{coordinate:f,theme:d}=t;return(h,p)=>{const v=h.map(M=>f.invert(M)),[g,m,y]=uOe(f,"polar"),x=f.clone(),{color:b}=p,E=YO({startAngle:g,endAngle:m,innerRadius:y,outerRadius:r});E.push(["cartesian"]),x.update({transformations:E});const _=v.map(M=>x.map(M)),[w,A]=tC(_),[S,k]=f.getCenter(),T=Object.assign(Object.assign({x1:w,y1:A,x2:S,y2:k,stroke:b},l),a),O=Object.assign(Object.assign({cx:S,cy:k,stroke:b},u),a),C=Mt(new gu);return vu(s)||(typeof s=="function"?C.append(()=>s(_,p,x,d)):C.append("line").call(wt,T).node()),vu(c)||(typeof c=="function"?C.append(()=>c(_,p,x,d)):C.append("circle").call(wt,O).node()),C.node()}},cN={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},R9e={style:{shape:I9e,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},N9e={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function D9e(e){if(kn(e)){const t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}function L9e(e,t){const{name:n="score",target:r,total:a,percent:i,thresholds:o=[]}=D9e(e),s=i||r,l=i?1:a,c=Object.assign({y:{domain:[0,l]}},t);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((u,f)=>({x:n,y:f>=1?u-o[f-1]:u,color:f})),target:s,total:l,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:c}}function F9e(e,{target:t,total:n}){const{content:r}=e;return r?r(t,n):t.toString()}const zV=e=>{const{data:t={},scale:n={},style:r={},animate:a={},transform:i=[]}=e,o=t1(e,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:c,total:u,scale:f}=L9e(t,n),d=qe(r,"text"),{tooltip:h}=d,p=t1(d,["tooltip"]),v=nTe(r,["pointer","pin"]),g=qe(r,"arc"),m=g.shape;return[Ie({},cN,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:f,style:m==="round"?Object.assign(Object.assign({},g),{shape:zLe}):g,animate:typeof a=="object"?qe(a,"arc"):a},o)),Ie({},cN,R9e,Object.assign({type:"point",data:s,scale:f,style:v,animate:typeof a=="object"?qe(a,"indicator"):a},o)),Ie({},N9e,{style:Object.assign({text:F9e(p,{target:c,total:u})},p),tooltip:h,animate:typeof a=="object"?qe(a,"text"):a})]};zV.props={};const uN={density:$W},UV=()=>(e,t,n,r)=>{const{x:a,series:i}=n,o=Object.entries(n).filter(([f])=>f.startsWith("y")).map(([,f])=>f),s=Object.entries(n).filter(([f])=>f.startsWith("size")).map(([,f])=>f);if(a===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const l=t.x,c=t.series,u=Array.from(e,f=>{const d=l.getBandWidth(l.invert(+a[f])),h=c?c.getBandWidth(c.invert(+(i==null?void 0:i[f]))):1,p=d*h,v=(+(i==null?void 0:i[f])||0)*d,g=+a[f]+v+p/2;return[...o.map((y,x)=>[g+ +s[x][f]/e.length,+o[x][f]]),...o.map((y,x)=>[g-+s[x][f]/e.length,+o[x][f]]).reverse()].map(y=>r.map(y))});return[e,u]};UV.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:uN,channels:[...Eo({shapes:Object.keys(uN)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...ca(),{type:Fg},{type:o0}],postInference:[...Ea(),...Sp()],interaction:{shareTooltip:!0}};const fN={heatmap:UW},HV=e=>(t,n,r,a)=>{const{x:i,y:o,size:s,color:l}=r,c=Array.from(t,u=>{const f=s?+s[u]:40;return[...a.map([+i[u],+o[u]]),l[u],f]});return[[0],[c]]};HV.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:fN,channels:[...Eo({shapes:Object.keys(fN)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...ca(),{type:o0},{type:rw}],postInference:[...Ea(),...Af()]};var B9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $9e={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:GW},animate:{enter:{type:"fadeIn"}}},j9e={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},GV=e=>{const{data:t={},style:n={},animate:r}=e,a=B9e(e,["data","style","animate"]),i=Math.max(0,kn(t)?t:t==null?void 0:t.percent),o=[{percent:i,type:"liquid"}],s=Object.assign(Object.assign({},qe(n,"text")),qe(n,"content")),l=qe(n,"outline"),c=qe(n,"wave"),u=qe(n,"background");return[Ie({},$9e,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:i,liquidShape:n==null?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:l,wave:c,background:u})},animate:r},a)),Ie({},j9e,{style:Object.assign({text:`${S2(i*100)} %`},s),animate:r})]};GV.props={};const WV=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];WV.props={};const VV=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];VV.props={};const YV=e=>new zh(e);YV.props={};const XV=e=>new hr(e);XV.props={};const qV=e=>new mj(e);qV.props={};const KV=e=>new wj(e);KV.props={};const ZV=e=>new Sj(e);ZV.props={};const QV=e=>new Vke(e);QV.props={};const JV=e=>new Rke(e);JV.props={};const eY=e=>new kj(e);eY.props={};const tY=e=>new ew(e);tY.props={};const nY=e=>new Rj(e);nY.props={};const rY=e=>new Pj(e);rY.props={};const aY=e=>new Pke(e);aY.props={};const iY=e=>new KA(e);iY.props={};const oY=e=>new x3(e);oY.props={};function VC({colorDefault:e,colorBlack:t,colorWhite:n,colorStroke:r,colorBackground:a,padding1:i,padding2:o,padding3:s,alpha90:l,alpha65:c,alpha45:u,alpha25:f,alpha10:d,category10:h,category20:p,sizeDefault:v=1,padding:g="auto",margin:m=16}){return{padding:g,margin:m,size:v,color:e,category10:h,category20:p,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:a,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:d,labelAlign:"horizontal",labelFill:t,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:i,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:u,titleFill:t,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[i,i],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:i,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:t,tickStrokeOpacity:u},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const z9e={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},U9e=VC(z9e),YC=e=>Ie({},U9e,e);YC.props={};const sY=e=>Ie({},YC(),{category10:"category10",category20:"category20"},e);sY.props={};const H9e={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},G9e=VC(H9e),lY=e=>Ie({},G9e,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),cY=e=>Object.assign({},lY(),{category10:"category10",category20:"category20"},e);cY.props={};const W9e={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},V9e=VC(W9e),uY=e=>Ie({},V9e,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(t,n)=>n!==0},axisRight:{gridFilter:(t,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);uY.props={};function Y9e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function j2(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function X9e(e){return e=j2(Math.abs(e)),e?e[1]:NaN}function q9e(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function K9e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Z9e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $k(e){if(!(t=Z9e.exec(e)))throw new Error("invalid format: "+e);var t;return new XC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$k.prototype=XC.prototype;function XC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q9e(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var fY;function J9e(e,t){var n=j2(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(fY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+j2(e,Math.max(0,t+i-1))[0]}function dN(e,t){var n=j2(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const hN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y9e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dN(e*100,t),r:dN,s:J9e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pN(e){return e}var vN=Array.prototype.map,gN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eBe(e){var t=e.grouping===void 0||e.thousands===void 0?pN:q9e(vN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pN:K9e(vN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=$k(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,g=f.zero,m=f.width,y=f.comma,x=f.precision,b=f.trim,E=f.type;E==="n"?(y=!0,E="g"):hN[E]||(x===void 0&&(x=12),b=!0,E="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var _=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",w=v==="$"?r:/[%p]/.test(E)?o:"",A=hN[E],S=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(T){var O=_,C=w,M,R,I;if(E==="c")C=A(T)+C,T="";else{T=+T;var P=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),x),b&&(T=Q9e(T)),P&&+T==0&&p!=="+"&&(P=!1),O=(P?p==="("?p:s:p==="-"||p==="("?"":p)+O,C=(E==="s"?gN[8+fY/3]:"")+C+(P&&p==="("?")":""),S){for(M=-1,R=T.length;++M<R;)if(I=T.charCodeAt(M),48>I||I>57){C=(I===46?a+T.slice(M+1):T.slice(M))+C,T=T.slice(0,M);break}}}y&&!g&&(T=t(T,1/0));var B=O.length+T.length+C.length,N=B<m?new Array(m-B+1).join(d):"";switch(y&&g&&(T=t(N+T,N.length?m-C.length:1/0),N=""),h){case"<":T=O+T+C+N;break;case"=":T=O+N+T+C;break;case"^":T=N.slice(0,B=N.length>>1)+O+T+C+N.slice(B);break;default:T=N+O+T+C;break}return i(T)}return k.toString=function(){return f+""},k}function u(f,d){var h=c((f=$k(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(X9e(d)/3)))*3,v=Math.pow(10,-p),g=gN[8+p/3];return function(m){return h(v*m)+g}}return{format:c,formatPrefix:u}}var Ry,kf;tBe({thousands:",",grouping:[3],currency:["$",""]});function tBe(e){return Ry=eBe(e),kf=Ry.format,Ry.formatPrefix,Ry}var nBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function rBe(e){return class extends Y3{constructor(t){super(t),this.descriptor=e}connectedCallback(){var t,n;(n=(t=this.descriptor).render)===null||n===void 0||n.call(t,this.attributes,this)}update(t={}){var n,r;this.attr(Ie({},this.attributes,t)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function mN(e,t,n){return e.querySelector(t)?Mt(e).select(t):Mt(e).append(n)}function Lw(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function dY(e,t){const n={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:a,alignItems:i}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in o&&([r,a,i]=o[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:a,alignItems:i},t)}class hY extends FDe{get child(){var t;return(t=this.children)===null||t===void 0?void 0:t[0]}update(t){var n;this.attr(t);const{subOptions:r}=t;(n=this.child)===null||n===void 0||n.update(r)}}class aBe extends hY{update(t){var n;const{subOptions:r}=t;this.attr(t),(n=this.child)===null||n===void 0||n.update(r)}}function bc(e,t){var n;return(n=e.filter(r=>r.getOptions().name===t))===null||n===void 0?void 0:n[0]}function iBe(e){return e==="horizontal"||e===0}function oBe(e){return e==="vertical"||e===-Math.PI/2}function pY(e,t,n){const{bbox:r}=e,{position:a="top",size:i,length:o}=t,s=["top","bottom","center"].includes(a),[l,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:f}=n.props,d=i||u||l,h=o||f||c,p=s?"horizontal":"vertical",[v,g]=s?[h,d]:[d,h];return{orientation:p,width:v,height:g,size:d,length:h}}function sBe(e){return e.find(t=>t.getOptions().domain.length>0).getOptions().domain}function Fw(e){const t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=e,r=nBe(e,["style"]),a={};return Object.entries(r).forEach(([i,o])=>{t.includes(i)?a[`show${bf(i)}`]=o:a[i]=o}),Object.assign(Object.assign({},a),n)}var vY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function gY(e,t){const{eulerAngles:n,origin:r}=t;r&&e.setOrigin(r),n&&e.rotate(n[0],n[1],n[2])}function mY(e){const{innerWidth:t,innerHeight:n,depth:r}=e.getOptions();return[t,n,r]}function lBe(e,t){const{width:n,height:r}=t.getOptions();return a=>{if(!Yz(t))return a;const i=e==="bottom"?[a,1]:[0,a],o=t.map(i);if(e==="bottom"){const s=o[0];return new hr({domain:[0,n],range:[0,1]}).map(s)}else if(e==="left"){const s=o[1];return new hr({domain:[0,r],range:[0,1]}).map(s)}return a}}function cBe(e,t,n){if(e.getTicks)return e.getTicks();if(!n)return t;const[r,a]=su(t,o=>+o),{tickCount:i}=e.getOptions();return n(r,a,i)}function uBe(e,t){if(Vn(t))return h=>h;const n=t.getOptions(),{innerWidth:r,innerHeight:a,insetTop:i,insetBottom:o,insetLeft:s,insetRight:l}=n,[c,u,f]=e==="left"||e==="right"?[i,o,a]:[s,l,r],d=new hr({domain:[0,1],range:[c/f,1-u/f]});return h=>d.map(h)}function yY(e,t,n,r,a,i,o,s){var l;(n!==void 0||i!==void 0)&&e.update(Object.assign(Object.assign({},n&&{tickCount:n}),i&&{tickMethod:i}));const c=cBe(e,t,i),u=a?c.filter(a):c,f=m=>m instanceof Date?String(m):typeof m=="object"&&m?m:String(m),d=r||((l=e.getFormatter)===null||l===void 0?void 0:l.call(e))||f,h=uBe(o,s),p=lBe(o,s),v=m=>["top","bottom","center","outer"].includes(m),g=m=>["left","right"].includes(m);return Vn(s)||pr(s)?u.map((m,y,x)=>{var b,E;const _=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,m))/2||0,w=h(e.map(m)+_);return{value:uw(s)&&o==="center"||pr(s)&&((E=e.getTicks)===null||E===void 0?void 0:E.call(e))&&v(o)||pr(s)&&g(o)?1-w:w,label:f(d(S2(m),y,x)),id:String(y)}}):u.map((m,y,x)=>{var b;const E=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,m))/2||0,_=p(h(e.map(m)+E));return{value:g(o)?1-_:_,label:f(d(S2(m),y,x)),id:String(y)}})}function fBe(e,t,n="xy"){const[r,a,i]=mY(t);return n==="xy"?e.includes("bottom")||e.includes("top")?a:r:n==="xz"?e.includes("bottom")||e.includes("top")?i:r:e.includes("bottom")||e.includes("top")?a:i}function dBe(e=[],t){if(e.length>0)return e;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:a,labelAutoWrap:i}=t,o=[],s=(l,c)=>{c&&o.push(Object.assign(Object.assign({},l),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},a),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},i),o}function hBe(e,t,n,r,a){const{x:i,y:o,width:s,height:l}=t,c=[i+s/2,o+l/2],u=Math.min(s,l)/2,[f,d]=F3(a),[h,p]=mY(a),v=Math.min(h,p)/2,g={center:c,radius:u,startAngle:f,endAngle:d,gridLength:(r-n)*v};if(e==="inner"){const{insetLeft:m,insetTop:y}=a.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-m,c[1]-y],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function pBe(e,t,n){return lOe(t)||fw(t)?!1:e===void 0?!!n.getTicks:e}function vBe(e){const{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function gBe(e,t,n,r,a){const{x:i,y:o,width:s,height:l}=n;if(e==="bottom")return{startPos:[i,o],endPos:[i+s,o]};if(e==="left")return{startPos:[i+s,o+l],endPos:[i+s,o]};if(e==="right")return{startPos:[i,o+l],endPos:[i,o]};if(e==="top")return{startPos:[i,o+l],endPos:[i+s,o+l]};if(e==="center"){if(t==="vertical")return{startPos:[i,o],endPos:[i,o+l]};if(t==="horizontal")return{startPos:[i,o],endPos:[i+s,o]};if(typeof t=="number"){const[c,u]=r.getCenter(),[f,d]=dw(r),[h,p]=F3(r),v=Math.min(s,l)/2,{insetLeft:g,insetTop:m}=r.getOptions(),y=f*v,x=d*v,[b,E]=[c+i-g,u+o-m],[_,w]=[Math.cos(t),Math.sin(t)],A=[b+x*_,E+x*w],S=[b+y*_,E+y*w],k=()=>{const{domain:O}=a.getOptions();return O.length},T=Vn(r)&&a?k():3;return{startPos:A,endPos:S,gridClosed:Math.abs(p-h-360)<1e-6,gridCenter:[b,E],gridControlAngles:new Array(T).fill(0).map((O,C,M)=>(p-h)/T*C)}}}return{}}const mBe=e=>{const{order:t,size:n,position:r,orientation:a,labelFormatter:i,tickFilter:o,tickCount:s,tickMethod:l,important:c={},style:u={},indexBBox:f,title:d,grid:h=!1}=e,p=vY(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[v],value:g,coordinate:m,theme:y})=>{const{bbox:x}=g,{domain:b}=v.getOptions(),E=yY(v,b,s,i,o,l,r,m),_=f?E.map((C,M)=>{const R=f.get(M);return!R||R[0]!==C.label?C:Object.assign(Object.assign({},C),{bbox:R[1]})}):E,[w,A]=dw(m),S=hBe(r,x,w,A,m),{axis:k,axisArc:T={}}=y,O=Fw(Ie({},k,T,S,Object.assign(Object.assign({type:"arc",data:_,titleText:Lw(d),grid:h},p),c)));return new IC({style:KO(O,["transform"])})}};function yBe(e,t,n,r,a,i){const o=n.axis,s=["top","right","bottom","left"].includes(a)?n[`axis${E3(a)}`]:n.axisLinear,l=e.getOptions().name,c=n[`axis${bf(l)}`]||{};return Object.assign({},o,s,c)}function xBe(e,t,n,r,a,i){const o=yBe(e,t,n,r,a);return a==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:oBe(i)?10:0,tick:r==="center"?!1:void 0}):o}const bBe=e=>{const{direction:t="left",important:n={},labelFormatter:r,order:a,orientation:i,actualPosition:o,position:s,size:l,style:c={},title:u,tickCount:f,tickFilter:d,tickMethod:h,transform:p,indexBBox:v}=e,g=vY(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:m,value:y,coordinate:x,theme:b})=>{const{bbox:E}=y,[_]=m,{domain:w,xScale:A}=_.getOptions(),S=xBe(_,x,b,t,s,i),k=Object.assign(Object.assign(Object.assign({},S),c),g),T=fBe(o||s,x,e.plane),O=gBe(s,i,E,x,A),C=vBe(x),M=yY(_,w,f,r,d,h,s,x),R=v?M.map((B,N)=>{const V=v.get(N);return!V||V[0]!==B.label?B:Object.assign(Object.assign({},B),{bbox:V[1]})}):M,I=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k),{type:"linear",data:R,crossSize:l,titleText:Lw(u),labelOverlap:dBe(p,k),grid:pBe(k.grid,x,_),gridLength:T,line:!0,indexBBox:v}),k.line?null:{lineOpacity:0}),O),C),n);return I.labelOverlap.find(B=>B.type==="hide")&&(I.crossSize=!1),new IC({className:"axis",style:Fw(I)})}},xY=e=>t=>{const{labelFormatter:n,labelFilter:r=()=>!0}=t;return a=>{var i;const{scales:[o]}=a,s=((i=o.getTicks)===null||i===void 0?void 0:i.call(o))||o.getOptions().domain,l=typeof n=="string"?kf(n):n,c=(f,d,h)=>r(s[d],d,s),u=Object.assign(Object.assign({},t),{labelFormatter:l,labelFilter:c,scale:o});return e(u)(a)}},Tf=xY(bBe),bY=xY(mBe);Tf.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};bY.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const wY=e=>(...t)=>{const n=Tf(Object.assign({},{crossPadding:50},e))(...t);return gY(n,e),n};wY.props=Object.assign(Object.assign({},Tf.props),{defaultPosition:"bottom"});const _Y=e=>(...t)=>{const n=Tf(Object.assign({},{crossPadding:10},e))(...t);return gY(n,e),n};_Y.props=Object.assign(Object.assign({},Tf.props),{defaultPosition:"left"});var wBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function _Be(e){const t=e%(Math.PI*2);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function EBe(e,t,n,r){const{radar:a}=e,[i]=r,o=i.getOptions().name,[s,l]=F3(n),{axisRadar:c={}}=t;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(a.count).fill(0).map((u,f)=>(l-s)/a.count*f)})}const EY=e=>{const{important:t={}}=e,n=wBe(e,["important"]);return r=>{const{theme:a,coordinate:i,scales:o}=r;return Tf(Object.assign(Object.assign(Object.assign({},n),_Be(e.orientation)),{important:Object.assign(Object.assign({},EBe(e,a,i,o)),t)}))(r)}};EY.props=Object.assign(Object.assign({},Tf.props),{defaultPosition:"center"});var SBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function SY(e,t){const n=bc(e,"shape"),r=bc(e,"color"),a=n?n.clone():null,i=[];for(const[s,l]of t){const c=s.type,f=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:l.data).map((d,h)=>{var p;return a?a.map(d||"point"):((p=s==null?void 0:s.style)===null||p===void 0?void 0:p.shape)||l.defaultShape||"point"});typeof c=="string"&&i.push([c,f])}if(i.length===0)return["point",["point"]];if(i.length===1||!n)return i[0];const{range:o}=n.getOptions();return i.map(([s,l])=>{let c=0;for(let u=0;u<i.length;u++){const f=o[u%o.length];l[u]===f&&c++}return[c/l.length,[s,l]]}).sort((s,l)=>l[0]-s[0])[0][1]}function ABe(e,t){const{scales:n,library:r,markState:a}=t,[i,o]=SY(n,a),{itemMarker:s,itemMarkerSize:l}=e,c=(d,h)=>{var p,v,g;const m=((g=(v=(p=r[`mark.${i}`])===null||p===void 0?void 0:p.props)===null||v===void 0?void 0:v.shape[d])===null||g===void 0?void 0:g.props.defaultMarker)||xp(d.split(".")),y=typeof l=="function"?l(h):l;return()=>xPe(m,{color:h.color})(0,0,y)},u=d=>`${o[d]}`;return bc(n,"shape")&&!s?(d,h)=>c(u(h),d):typeof s=="function"?(d,h)=>{const p=s(d.id,h);return typeof p=="string"?c(p,d):p}:(d,h)=>c(s||u(h),d)}function kBe(e){const t=bc(e,"opacity");if(t){const{range:n}=t.getOptions();return(r,a)=>n[a]}}function TBe(e,t){const n=bc(e,"size");return n instanceof wj?n.map(NaN)*2:t}function OBe(e,t){const{scales:n,markState:r}=t,[a,i]=SY(n,r),{itemMarker:o,itemMarkerLineWidth:s}=e;if(s!==void 0)return s;const l=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&l.includes(o))return 4;if(typeof o=="function")return(f,d)=>{const h=o(f.id,d);if(typeof h=="string"&&l.includes(h))return 4};if((Array.isArray(i)?i:[i]).some(f=>l.includes(f)))return 4}function CBe(e,t){const{labelFormatter:n=d=>`${d}`}=e,{scales:r,theme:a}=t,i=a.legendCategory.itemMarkerSize,o=TBe(r,i),s={itemMarker:ABe(Object.assign(Object.assign({},e),{itemMarkerSize:o}),t),itemMarkerSize:o,itemMarkerOpacity:kBe(r),itemMarkerLineWidth:OBe(e,t)},l=typeof n=="string"?kf(n):n,c=bc(r,"color"),u=sBe(r),f=c?d=>c.map(d):()=>t.theme.color;return Object.assign(Object.assign({},s),{data:u.map(d=>({id:d,label:l(d),color:f(d)}))})}function MBe(e,t,n){const{position:r}=t;if(r==="center"){const{bbox:o}=e,{width:s,height:l}=o;return{width:s,height:l}}const{width:a,height:i}=pY(e,t,n);return{width:a,height:i}}function PBe(e){return Object.assign(Object.assign({},e),{data:(e==null?void 0:e.data.filter(t=>t.id!==""))||[]})}const qC=e=>{const{labelFormatter:t,layout:n,order:r,orientation:a,position:i,size:o,title:s,cols:l,itemMarker:c}=e,u=SBe(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=u;return d=>{const{value:h,theme:p}=d,{bbox:v}=h,{width:g,height:m}=MBe(h,e,qC),y=dY(i,n),x=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(i)?"vertical":"horizontal",width:g,height:m,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),f!==void 0&&{gridRow:f}),{titleText:Lw(s)}),CBe(e,d)),{legendCategory:b={}}=p,E=Fw(Object.assign({},b,PBe(x),u)),_=new aBe({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},y),{subOptions:E})});return _.appendChild(new _De({className:"legend-category",style:E})),_}};qC.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var IBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function RBe(e,t,n){return e.size=t,iBe(n)?e.height=t:e.width=t,e}function NBe(e,t,n){const{size:r}=t,a=pY(e,t,n);return RBe(a,r,a.orientation)}function DBe(e){return t=>({value:t/e,label:String(t)})}function LBe(e,t,n,r,a){const i=t.thresholds,o=DBe(r);return Object.assign(Object.assign({},e),{color:a,data:[n,...i,r].map(o)})}function FBe(e,t,n){const a=[-1/0,...t.thresholds,1/0].map((i,o)=>({value:o,label:i}));return Object.assign(Object.assign({},e),{data:a,color:n,labelFilter:(i,o)=>o>0&&o<a.length-1})}function jk(e){const{domain:t}=e.getOptions(),[n,r]=[t[0],zj(t)];return[n,r]}function BBe(e,t){const n=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},n),{range:[bd(t).toString()]})),r}function $Be(e,t,n,r,a,i){const{length:o}=e,s=n||r,l=a.color?i.legendContinuous.ribbonFill||"black":i.color,c=t||BBe(s,l),[u,f]=jk(c),[d,h]=jk([t,n,r].filter(p=>p!==void 0).find(p=>!(p instanceof x3)));return Object.assign(Object.assign({},e),{domain:[d,h],data:c.getTicks().map(p=>({value:p})),color:new Array(Math.floor(o)).fill(0).map((p,v)=>{const g=(f-u)/(o-1)*v+u,m=c.map(g)||l,y=r?r.map(g):1;return m.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(x,b,E,_)=>`rgba(${b}, ${E}, ${_}, ${y})`)})})}function jBe(e,t,n,r,a,i){const o=bc(e,"color"),s=NBe(n,r,a);if(o instanceof ew){const{range:u}=o.getOptions(),[f,d]=jk(o);return o instanceof Pj||o instanceof Rj?LBe(s,o,f,d,u):FBe(s,o,u)}const l=bc(e,"size"),c=bc(e,"opacity");return $Be(s,o,l,c,t,i)}const Of=e=>{const{labelFormatter:t,layout:n,order:r,orientation:a,position:i,size:o,title:s,style:l,crossPadding:c,padding:u}=e,f=IBe(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:d,value:h,theme:p,scale:v})=>{const{bbox:g}=h,{x:m,y,width:x,height:b}=g,E=dY(i,n),{legendContinuous:_={}}=p,w=Fw(Object.assign({},_,Object.assign(Object.assign({titleText:Lw(s),labelAlign:"value",labelFormatter:typeof t=="string"?S=>kf(t)(S.label):t},jBe(d,v,h,e,Of,p)),l),f)),A=new hY({style:Object.assign(Object.assign({x:m,y,width:x,height:b},E),{subOptions:w})});return A.appendChild(new NDe({className:"legend-continuous",style:w})),A}};Of.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const AY=e=>(...t)=>Of(Object.assign({},{block:!0},e))(...t);AY.props=Object.assign(Object.assign({},Of.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const KC=e=>t=>{const{scales:n}=t,r=bc(n,"size");return Of(Object.assign({},{type:"size",data:r.getTicks().map((a,i)=>({value:a,label:String(a)}))},e))(t)};KC.props=Object.assign(Object.assign({},Of.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const kY=e=>KC(Object.assign({},{block:!0},e));kY.props=Object.assign(Object.assign({},Of.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var zBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function yN(e,t,n,r){switch(r){case"center":return{x:e+n/2,y:t,textAlign:"middle"};case"right":return{x:e+n,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}const UBe=rBe({render(e,t){const{width:n,title:r,subtitle:a,spacing:i=2,align:o="left",x:s,y:l}=e,c=zBe(e,["width","title","subtitle","spacing","align","x","y"]);t.style.transform=`translate(${s}, ${l})`;const u=qe(c,"title"),f=qe(c,"subtitle"),h=mN(t,".title","text").attr("className","title").call(wt,Object.assign(Object.assign(Object.assign({},yN(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();mN(t,".sub-title","text").attr("className","sub-title").call(p=>{if(!a)return p.node().remove();p.node().attr(Object.assign(Object.assign(Object.assign({},yN(0,h.max[1]+i,n,o)),{fontSize:12,textBaseline:"top",text:a}),f))})}}),TY=e=>({value:t,theme:n})=>{const{x:r,y:a,width:i,height:o}=t.bbox;return new UBe({style:Ie({},n.title,Object.assign({x:r,y:a,width:i,height:o},e))})};TY.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function HBe(e,t,n){return Math.min(n,Math.max(t,e))}function n1(e){return!!e.getBandWidth}function np(e,t,n){if(!n1(e))return e.invert(t);const{adjustedRange:r}=e,{domain:a}=e.getOptions(),i=n?-1:0,o=e.getStep(),s=n?r:r.map(u=>u+o),l=cAe(s,t),c=HBe(l+i,0,a.length-1);return a[c]}function Xu(e,t,n){if(!t)return e.getOptions().domain;if(!n1(e)){const l=Al(t);if(!n)return l;const[c]=l,{range:u}=e.getOptions(),[f,d]=u,h=f>d?-1:1,p=e.invert(e.map(c)+h*n);return[c,p]}const{domain:r}=e.getOptions(),a=t[0],i=r.indexOf(a);if(n){const l=i+Math.round(r.length*n);return r.slice(i,l)}const o=t[t.length-1],s=r.indexOf(o);return r.slice(i,s+1)}function yx(e,t,n,r,a,i){const{x:o,y:s}=a,l=(h,p)=>{const[v,g]=i.invert(h);return[np(o,v,p),np(s,g,p)]},c=l([e,t],!0),u=l([n,r],!1),f=Xu(o,[c[0],u[0]]),d=Xu(s,[c[1],u[1]]);return[f,d]}function z2(e,t){const[n,r]=e,a=i=>i.getStep?i.getStep():0;return[t.map(n),t.map(r)+a(t)]}function GBe(e,t,n){const{x:r,y:a}=t,[i,o]=e,s=z2(i,r),l=z2(o,a),c=[s[0],l[0]],u=[s[1],l[1]],[f,d]=n.map(c),[h,p]=n.map(u);return[f,d,h,p]}var WBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function VBe(e,t,n){const{x:r,y:a,width:i,height:o}=e;if(t==="left")return[r+i-n,a];if(t==="right")return[r,a];if(t==="bottom")return[r,a];if(t==="top")return[r,a+o-n]}const Jg=e=>{const{orientation:t,labelFormatter:n,size:r,style:a={},position:i}=e,o=WBe(e,["orientation","labelFormatter","size","style","position"]);return s=>{var l;const{scales:[c],value:u,theme:f,coordinate:d}=s,{bbox:h}=u,{width:p,height:v}=h,{slider:g={}}=f,m=((l=c.getFormatter)===null||l===void 0?void 0:l.call(c))||(A=>A+""),y=typeof n=="string"?kf(n):n,x=t==="horizontal",b=pr(d)&&x,{trackSize:E=g.trackSize}=a,[_,w]=VBe(h,i,E);return new XG({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:_,y:w,trackLength:x?p:v,orientation:t,formatter:A=>{const S=y||m,k=b?1-A:A,T=np(c,k,!0);return S(T)},sparklineData:XBe(e,s)},a),o))})}};function YBe(e,t){const[n]=Array.from(e.entries()).filter(([a])=>a.type==="line"||a.type==="area").filter(([a])=>a.slider).map(([a])=>{const{encode:i,slider:o}=a;if(o!=null&&o.x){const s=l=>{const c=i[l];return[l,c?c.value:void 0]};return Object.fromEntries(t.map(s))}});if(!(n!=null&&n.series))return n==null?void 0:n.y;const r=n.series.reduce((a,i,o)=>(a[i]=a[i]||[],a[i].push(n.y[o]),a),{});return Object.values(r)}function XBe(e,t){const{markState:n}=t;return di(e.sparklineData)?e.sparklineData:YBe(n,["y","series"])}Jg.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const OY=e=>Jg(Object.assign(Object.assign({},e),{orientation:"horizontal"}));OY.props=Object.assign(Object.assign({},Jg.props),{defaultPosition:"bottom"});const CY=e=>Jg(Object.assign(Object.assign({},e),{orientation:"vertical"}));CY.props=Object.assign(Object.assign({},Jg.props),{defaultPosition:"left"});var qBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const em=e=>{const{orientation:t,labelFormatter:n,style:r}=e,a=qBe(e,["orientation","labelFormatter","style"]);return({scales:[i],value:o,theme:s})=>{const{bbox:l}=o,{x:c,y:u,width:f,height:d}=l,{scrollbar:h={}}=s,{ratio:p,range:v}=i.getOptions(),g=t==="horizontal"?f:d,m=g/p,[y,x]=v,b=x>y?0:1;return new JRe({className:"g2-scrollbar",style:Object.assign({},h,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:u,trackLength:g,value:b}),a),{orientation:t,contentLength:m,viewportLength:g}))})}};em.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const MY=e=>em(Object.assign(Object.assign({},e),{orientation:"horizontal"}));MY.props=Object.assign(Object.assign({},em.props),{defaultPosition:"bottom"});const PY=e=>em(Object.assign(Object.assign({},e),{orientation:"vertical"}));PY.props=Object.assign(Object.assign({},em.props),{defaultPosition:"left"});const IY=e=>()=>new gu;IY.props={};const ZC=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=pr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f}];return s.animate(p,Object.assign(Object.assign({},o),e))}},KBe=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=pr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},RY=(e,t)=>{const{coordinate:r}=t;return PU.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Ze.NUMBER}),(a,i,o)=>{const[s]=a,l=u=>{const{__data__:f,style:d}=u,{fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=d,{points:g,y:m,y1:y}=f,x=u0(r,g,[m,y]),{innerRadius:b,outerRadius:E}=x,_=[{scaleInYRadius:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:b+1e-4,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{scaleInYRadius:E,fillOpacity:h,strokeOpacity:p,opacity:v}];return u.animate(_,Object.assign(Object.assign({},o),e))},c=u=>{const{style:f}=u,{transform:d="",fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=f,[g,m]=pr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],y=[{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{transform:`${d} scale(1, 1)`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v}];return u.animate(y,Object.assign(Object.assign({},o),e))};return Vn(r)?l(s):c(s)}},ZBe=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=pr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},NY=e=>(t,n,r)=>{const[a]=t,{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=a.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:i,strokeOpacity:o,opacity:s}];return a.animate(l,Object.assign(Object.assign({},r),e))};NY.props={};const DY=e=>(t,n,r)=>{const[a]=t,{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=a.style,l=[{fillOpacity:i,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(l,Object.assign(Object.assign({},r),e))};DY.props={};const QBe={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},JBe={[Ae.CIRCLE]:["cx","cy","r"],[Ae.ELLIPSE]:["cx","cy","rx","ry"],[Ae.RECT]:["x","y","width","height"],[Ae.IMAGE]:["x","y","width","height"],[Ae.LINE]:["x1","y1","x2","y2"],[Ae.POLYLINE]:["points"],[Ae.POLYGON]:["points"]};function rp(e,t,n=!1){const r={};for(const a of t){const i=e.style[a];i?r[a]=i:n&&(r[a]=QBe[a])}return r}const ng=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function zk(e){const{min:t,max:n}=e.getLocalBounds(),[r,a]=t,[i,o]=n,s=o-a,l=i-r;return[r,a,l,s]}function e$e(e){const[t,n,r,a]=e;return`
    M ${t} ${n}
    L ${t+r} ${n}
    L ${t+r} ${n+a}
    L ${t} ${n+a}
    Z
  `}function t$e(e,t){const[n,r,a,i]=zk(e),o=i/a,s=Math.ceil(Math.sqrt(t/o)),l=Math.ceil(t/s),c=[],u=i/l;let f=0,d=t;for(;d>0;){const h=Math.min(d,s),p=a/h;for(let v=0;v<h;v++){const g=n+v*p,m=r+f*u;c.push(e$e([g,m,p,u]))}d-=h,f+=1}return c}function n$e(e="pack"){return typeof e=="function"?e:t$e}function r$e(e,t,n){let{transform:r}=e.style;const{transform:a}=t.style;LY(t,e);let i=ng;if(e.nodeName===Ae.GROUP){const[l,c,u,f]=zk(e),[d,h,p,v]=zk(t),g=l-d,m=c-h,y=u/p,x=f/v;r=`translate(${g}, ${m}) scale(${y}, ${x})`}else i=i.concat(JBe[e.nodeName]||[]);const o=[Object.assign({transform:r??"none"},rp(e,i,!0)),Object.assign({transform:a??"none"},rp(t,i,!0))];return t.animate(o,n)}function LY(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function a$e(e,t){const{nodeName:n}=e;if(n==="path")return e;const r=new ls({style:Object.assign(Object.assign({},rp(e,ng)),{d:t})});return LY(r,e),r}function xN(e,t){const n=e.indexOf(t),r=e.lastIndexOf(t);return n===r}function i$e(e){return!xN(e,"m")||!xN(e,"M")}function bN(e){const t=fCe(e);if(t&&!i$e(t))return t}function wN(e){const{nodeName:t}=e;if(t==="path"){const n=Pn(e,"attributes");return n.markerEnd||n.markerStart}return!1}function QC(e,t,n,r){const{nodeName:a}=t,{nodeName:i}=n,o=bN(t),s=bN(n),l=a===i&&a!=="path",c=o===void 0||s===void 0,u=wN(t)||wN(n);if(l||c||u)return r$e(t,n,r);const f=a$e(e,o),d=[Object.assign({},rp(t,ng)),Object.assign({},rp(n,ng))];if(o!==s){d[0].d=o,d[1].d=s;const h=f.animate(d,r);return h.onfinish=()=>{S3(f,n),f.style.d=s,f.style.transform="none"},f.style.transform="none",h}return null}function o$e(e,t,n,r){e.style.visibility="hidden";const a=r(e,t.length);return t.map((i,o)=>{const s=new ls({style:Object.assign({d:a[o]},rp(e,ng))});return QC(i,s,i,n)})}function s$e(e,t,n,r){const a=r(t,e.length),{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=t.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:i,strokeOpacity:o,opacity:s}],c=t.animate(l,n);return[...e.map((f,d)=>{const h=new ls({style:{d:a[d],fill:t.style.fill}});return QC(f,f,h,n)}),c]}const FY=e=>(t,n,r)=>{const a=n$e(e.split),i=Object.assign(Object.assign({},r),e),{length:o}=t,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[l]=t,[c]=n;return QC(l,l,c,i)}if(o===1&&s>1){const[l]=t;return o$e(l,n,i,a)}if(o>1&&s===1){const[l]=n;return s$e(t,l,i,a)}return null};FY.props={};const BY=(e,t)=>{PU.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Ze.NUMBER});const{coordinate:r}=t;return(a,i,o)=>{const[s]=a;if(!Vn(r))return ZC(e,t)(a,i,o);const{__data__:l,style:c}=s,{radius:u=0,inset:f=0,fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=c,{points:v,y:g,y1:m}=l,y=I3().cornerRadius(u).padAngle(f*Math.PI/180),x=u0(r,v,[g,m]),{startAngle:b,endAngle:E}=x,_=[{waveInArcAngle:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:b+1e-4,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{waveInArcAngle:E,fillOpacity:d,strokeOpacity:h,opacity:p}],w=s.animate(_,Object.assign(Object.assign({},o),e));return w.onframe=function(){s.style.d=y(Object.assign(Object.assign({},x),{endAngle:Number(s.style.waveInArcAngle)}))},w.onfinish=function(){s.style.d=y(Object.assign(Object.assign({},x),{endAngle:E}))},w}};BY.props={};const l$e=e=>(n,r,a)=>{const[i]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=i.style,u="center center",f=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c}];return i.animate(f,Object.assign(Object.assign({},a),e))},c$e=e=>(n,r,a)=>{const[i]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=i.style,u="center center",f=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:u},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(f,Object.assign(Object.assign({},a),e))},$Y=e=>(t,n,r)=>{var a,i;const[o]=t,s=((i=(a=o).getTotalLength)===null||i===void 0?void 0:i.call(a))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(l,Object.assign(Object.assign({},r),e))};$Y.props={};const jY=(e,t)=>(n,r,a)=>{const[i]=n,{min:[o,s],halfExtents:l}=i.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new ls({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return i.appendChild(f),i.style.clipPath=f,ZC(e,t)([f],r,a)};jY.props={};const zY=(e,t)=>(n,r,a)=>{const[i]=n,{min:[o,s],halfExtents:l}=i.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new ls({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return i.appendChild(f),i.style.clipPath=f,RY(e,t)([f],r,a)};zY.props={};const _N="main-layer",Uk="label-layer",tc="element",U2="view",H2="plot",EN="component",Hk="label",SN="area";/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function u$e(e,t){var n=t.cx,r=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.r;e.arc(r,i,o,0,Math.PI*2,!1)}function f$e(e,t){var n=t.cx,r=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.rx,s=t.ry;if(e.ellipse)e.ellipse(r,i,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,c=o>s?1:o/s,u=o>s?s/o:1;e.save(),e.scale(c,u),e.arc(r,i,l,0,Math.PI*2)}}function d$e(e,t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2,o=t.markerStart,s=t.markerEnd,l=t.markerStartOffset,c=t.markerEndOffset,u=0,f=0,d=0,h=0,p=0,v,g;o&&_n(o)&&l&&(v=a-n,g=i-r,p=Math.atan2(g,v),u=Math.cos(p)*(l||0),f=Math.sin(p)*(l||0)),s&&_n(s)&&c&&(v=n-a,g=r-i,p=Math.atan2(g,v),d=Math.cos(p)*(c||0),h=Math.sin(p)*(c||0)),e.moveTo(n+u,r+f),e.lineTo(a+d,i+h)}function h$e(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.d,s=o.absolutePath,l=o.segments,c=0,u=0,f=0,d=0,h=0,p,v;if(n&&_n(n)&&a){var g=n.parentNode.getStartTangent(),m=ct(g,2),y=m[0],x=m[1];p=y[0]-x[0],v=y[1]-x[1],h=Math.atan2(v,p),c=Math.cos(h)*(a||0),u=Math.sin(h)*(a||0)}if(r&&_n(r)&&i){var b=r.parentNode.getEndTangent(),E=ct(b,2),_=E[0],w=E[1];p=_[0]-w[0],v=_[1]-w[1],h=Math.atan2(v,p),f=Math.cos(h)*(i||0),d=Math.sin(h)*(i||0)}for(var A=0;A<s.length;A++){var S=s[A],k=S[0],T=s[A+1],O=A===0&&(c!==0||u!==0),C=(A===s.length-1||T&&(T[0]==="M"||T[0]==="Z"))&&f!==0&&d!==0,M=O?[c,u]:[0,0],R=ct(M,2),I=R[0],P=R[1],B=C?[f,d]:[0,0],N=ct(B,2),V=N[0],W=N[1];switch(k){case"M":e.moveTo(S[1]+I,S[2]+P);break;case"L":e.lineTo(S[1]+V,S[2]+W);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+V,S[4]+W);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+V,S[6]+W);break;case"A":{var z=l[A].arcParams,j=z.cx,L=z.cy,F=z.rx,H=z.ry,D=z.startAngle,G=z.endAngle,K=z.xRotation,re=z.sweepFlag;if(e.ellipse)e.ellipse(j,L,F,H,K,D,G,!!(1-re));else{var ie=F>H?F:H,U=F>H?1:F/H,q=F>H?H/F:1;e.translate(j,L),e.rotate(K),e.scale(U,q),e.arc(0,0,ie,D,G,!!(1-re)),e.scale(1/U,1/q),e.rotate(-K),e.translate(-j,-L)}C&&e.lineTo(S[6]+f,S[7]+d);break}case"Z":e.closePath();break}}}function p$e(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;n&&_n(n)&&a&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)),r&&_n(r)&&i&&(m=o[s-1][0]-o[0][0],y=o[s-1][1]-o[0][1],g=Math.atan2(y,m),p=Math.cos(g)*(i||0),v=Math.sin(g)*(i||0)),e.moveTo(l+(d||p),c+(h||v));for(var x=1;x<s-1;x++){var b=o[x];e.lineTo(b[0],b[1])}e.lineTo(u,f)}function v$e(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;n&&_n(n)&&a&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)),r&&_n(r)&&i&&(m=o[s-2][0]-o[s-1][0],y=o[s-2][1]-o[s-1][1],g=Math.atan2(y,m),p=Math.cos(g)*(i||0),v=Math.sin(g)*(i||0)),e.moveTo(l+d,c+h);for(var x=1;x<s-1;x++){var b=o[x];e.lineTo(b[0],b[1])}e.lineTo(u+p,f+v)}function g$e(e,t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.radius,s=t.width,l=t.height,c=s,u=l,f=o&&o.some(function(E){return E!==0});if(!f)e.rect(r,i,c,u);else{var d=s>0?1:-1,h=l>0?1:-1,p=d+h===0,v=o.map(function(E){return An(E,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),g=ct(v,4),m=g[0],y=g[1],x=g[2],b=g[3];e.moveTo(d*m+r,i),e.lineTo(c-d*y+r,i),y!==0&&e.arc(c-d*y+r,h*y+i,y,-h*Math.PI/2,d>0?0:Math.PI,p),e.lineTo(c+r,u-h*x+i),x!==0&&e.arc(c-d*x+r,u-h*x+i,x,d>0?0:Math.PI,h>0?Math.PI/2:1.5*Math.PI,p),e.lineTo(d*b+r,u+i),b!==0&&e.arc(d*b+r,u-h*b+i,b,h>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,p),e.lineTo(r,h*m+i),m!==0&&e.arc(d*m+r,h*m+i,m,d>0?Math.PI:0,h>0?Math.PI*1.5:Math.PI/2,p)}}var m$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="canvas-path-generator",n}return ft(t,e),ge(t,[{key:"init",value:function(){var r,a=(r={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(r,Ae.CIRCLE,u$e),Ae.ELLIPSE,f$e),Ae.RECT,g$e),Ae.LINE,d$e),Ae.POLYLINE,v$e),Ae.POLYGON,p$e),Ae.PATH,h$e),Ae.TEXT,void 0),Ae.GROUP,void 0),Ae.IMAGE,void 0),Be(Be(Be(r,Ae.HTML,void 0),Ae.MESH,void 0),Ae.FRAGMENT,void 0));this.context.pathGeneratorFactory=a}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Ef);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var y$e=Et(),x$e=Et(),b$e=Et(),w$e=Dt(),UY=function(){function e(){var t=this;ve(this,e),this.isHit=function(n,r,a,i){var o=t.context.pointInPathPickerFactory[n.nodeName];if(o){var s=Ga(w$e,a),l=sr(x$e,lr(b$e,r[0],r[1],0),s);if(o(n,new _i(l[0],l[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(n,r){var a=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[n.nodeName];return i&&(a.beginPath(),i(a,n.parsedStyle),a.closePath()),a.isPointInPath(r.x,r.y)}}return ge(e,[{key:"apply",value:function(n,r){var a,i=this,o=n.renderingService,s=n.renderingContext;this.context=n,this.runtime=r;var l=(a=s.root)===null||a===void 0?void 0:a.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(){var c=uf(Ai().mark(function u(f){return Ai().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",i.pick(l,f));case 1:case"end":return d.stop()}},u)}));return function(u){return c.apply(this,arguments)}}()),o.hooks.pickSync.tap(e.tag,function(c){return i.pick(l,c)})}},{key:"pick",value:function(n,r){var a=r.topmost,i=r.position,o=i.x,s=i.y,l=lr(y$e,o,s,0),c=n.elementsFromBBox(l[0],l[1],l[0],l[1]),u=[],f=Zo(c),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=h.getWorldTransform(),v=this.isHit(h,l,p,!1);if(v){var g=_U(h);if(g){var m=g.parsedStyle.clipPath,y=this.isHit(m,l,m.getWorldTransform(),!0);if(y){if(a)return r.picked=[h],r;u.push(h)}}else{if(a)return r.picked=[h],r;u.push(h)}}}}catch(x){f.e(x)}finally{f.f()}return r.picked=u,r}}])}();UY.tag="CanvasPicker";function _$e(e,t,n){var r=e.parsedStyle,a=r.cx,i=a===void 0?0:a,o=r.cy,s=o===void 0?0:o,l=r.r,c=r.fill,u=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,p=h===void 0?0:h,v=r.pointerEvents,g=v===void 0?"auto":v,m=(d+p)/2,y=lu(i,s,t.x,t.y),x=l0(g,c,u),b=ct(x,2),E=b[0],_=b[1];return E&&_||n?y<=l+m:E?y<=l:_?y>=l-m&&y<=l+m:!1}function Ny(e,t,n,r){return e/(n*n)+t/(r*r)}function E$e(e,t,n){var r=e.parsedStyle,a=r.cx,i=a===void 0?0:a,o=r.cy,s=o===void 0?0:o,l=r.rx,c=r.ry,u=r.fill,f=r.stroke,d=r.lineWidth,h=d===void 0?1:d,p=r.increasedLineWidthForHitTesting,v=p===void 0?0:p,g=r.pointerEvents,m=g===void 0?"auto":g,y=t.x,x=t.y,b=l0(m,u,f),E=ct(b,2),_=E[0],w=E[1],A=(h+v)/2,S=(y-i)*(y-i),k=(x-s)*(x-s);return _&&w||n?Ny(S,k,l+A,c+A)<=1:_?Ny(S,k,l,c)<=1:w?Ny(S,k,l-A,c-A)>=1&&Ny(S,k,l+A,c+A)<=1:!1}function sd(e,t,n,r,a,i){return a>=e&&a<=e+n&&i>=t&&i<=t+r}function S$e(e,t,n,r,a,i,o){var s=a/2;return sd(e-s,t-s,n,a,i,o)||sd(e+n-s,t-s,a,r,i,o)||sd(e+s,t+r-s,n,a,i,o)||sd(e-s,t+s,a,r,i,o)}function Dy(e,t,n,r,a,i,o,s){var l=(Math.atan2(s-t,o-e)+Math.PI*2)%(Math.PI*2),c={x:e+n*Math.cos(l),y:t+n*Math.sin(l)};return lu(c.x,c.y,o,s)<=i/2}function qu(e,t,n,r,a,i,o){var s=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),u=Math.max(t,r),f=a/2;return i>=s-f&&i<=l+f&&o>=c-f&&o<=u+f?COe(e,t,n,r,i,o)<=a/2:!1}function HY(e,t,n,r,a){var i=e.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=e[o][0],l=e[o][1],c=e[o+1][0],u=e[o+1][1];if(qu(s,l,c,u,t,n,r))return!0}if(a){var f=e[0],d=e[i-1];if(qu(f[0],f[1],d[0],d[1],t,n,r))return!0}return!1}var A$e=1e-6;function iS(e){return Math.abs(e)<A$e?0:e<0?-1:1}function k$e(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function GY(e,t,n){var r=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(k$e(o,s,[t,n]))return!0;iS(o[1]-n)>0!=iS(s[1]-n)>0&&iS(t-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function AN(e,t,n){for(var r=!1,a=0;a<e.length;a++){var i=e[a];if(r=GY(i,t,n),r)break}return r}function T$e(e,t,n){var r=e.parsedStyle,a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.lineWidth,c=l===void 0?1:l,u=r.increasedLineWidthForHitTesting,f=u===void 0?0:u,d=r.pointerEvents,h=d===void 0?"auto":d,p=r.fill,v=r.stroke,g=l0(h,p,v),m=ct(g,2),y=m[1];return!y&&!n||!c?!1:qu(a,i,o,s,c+f,t.x,t.y)}function O$e(e,t,n,r,a){for(var i=!1,o=t/2,s=0;s<e.length;s++){var l=e[s],c=l.currentPoint,u=l.params,f=l.prePoint,d=l.box;if(!(d&&!sd(d.x-o,d.y-o,d.width+t,d.height+t,n,r)))switch(l.command){case"L":case"Z":if(i=qu(f[0],f[1],c[0],c[1],t,n,r),i)return!0;break;case"Q":var h=LOe(f[0],f[1],u[1],u[2],u[3],u[4],n,r);if(i=h<=t/2,i)return!0;break;case"C":var p=ZI(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,a);if(i=p<=t/2,i)return!0;break;case"A":l.cubicParams||(l.cubicParams=c3(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var v=l.cubicParams,g=f,m=0;m<v.length;m+=6){var y=ZI(g[0],g[1],v[m],v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],n,r,a);if(g=[v[m+4],v[m+5]],i=y<=t/2,i)return!0}break}}return i}function C$e(e,t,n,r,a,i){var o=e.parsedStyle,s=o.lineWidth,l=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,u=c===void 0?0:c,f=o.stroke,d=o.fill,h=o.d,p=o.pointerEvents,v=p===void 0?"auto":p,g=h.segments,m=h.hasArc,y=h.polylines,x=h.polygons,b=l0(v,(x==null?void 0:x.length)&&d,f),E=ct(b,2),_=E[0],w=E[1],A=fk(e),S=!1;return _||n?(m?S=r(e,t):S=AN(x,t.x,t.y)||AN(y,t.x,t.y),S):((w||n)&&(S=O$e(g,l+u,t.x,t.y,A)),S)}function M$e(e,t,n){var r=e.parsedStyle,a=r.stroke,i=r.fill,o=r.lineWidth,s=o===void 0?1:o,l=r.increasedLineWidthForHitTesting,c=l===void 0?0:l,u=r.points,f=r.pointerEvents,d=f===void 0?"auto":f,h=l0(d,i,a),p=ct(h,2),v=p[0],g=p[1],m=!1;return(g||n)&&(m=HY(u.points,s+c,t.x,t.y,!0)),!m&&(v||n)&&(m=GY(u.points,t.x,t.y)),m}function P$e(e,t,n){var r=e.parsedStyle,a=r.lineWidth,i=a===void 0?1:a,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,l=r.points,c=r.pointerEvents,u=c===void 0?"auto":c,f=r.fill,d=r.stroke,h=l0(u,f,d),p=ct(h,2),v=p[1];return!v&&!n||!i?!1:HY(l.points,i+s,t.x,t.y,!1)}function I$e(e,t,n,r,a){var i=e.parsedStyle,o=i.radius,s=i.fill,l=i.stroke,c=i.lineWidth,u=c===void 0?1:c,f=i.increasedLineWidthForHitTesting,d=f===void 0?0:f,h=i.x,p=h===void 0?0:h,v=i.y,g=v===void 0?0:v,m=i.width,y=i.height,x=i.pointerEvents,b=x===void 0?"auto":x,E=l0(b,s,l),_=ct(E,2),w=_[0],A=_[1],S=o&&o.some(function(C){return C!==0}),k=u+d;if(S){var O=!1;return(A||n)&&(O=R$e(p,g,m,y,o.map(function(C){return An(C,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))}),k,t.x,t.y)),!O&&(w||n)&&(O=r(e,t)),O}else{var T=k/2;if(w&&A||n)return sd(p-T,g-T,m+T,y+T,t.x,t.y);if(w)return sd(p,g,m,y,t.x,t.y);if(A)return S$e(p,g,m,y,k,t.x,t.y)}return!1}function R$e(e,t,n,r,a,i,o,s){var l=ct(a,4),c=l[0],u=l[1],f=l[2],d=l[3];return qu(e+c,t,e+n-u,t,i,o,s)||qu(e+n,t+u,e+n,t+r-f,i,o,s)||qu(e+n-f,t+r,e+d,t+r,i,o,s)||qu(e,t+r-d,e,t+c,i,o,s)||Dy(e+n-u,t+u,u,1.5*Math.PI,2*Math.PI,i,o,s)||Dy(e+n-f,t+r-f,f,0,.5*Math.PI,i,o,s)||Dy(e+d,t+r-d,d,.5*Math.PI,Math.PI,i,o,s)||Dy(e+c,t+c,c,Math.PI,1.5*Math.PI,i,o,s)}function N$e(e,t,n,r,a,i){var o=e.parsedStyle,s=o.pointerEvents,l=s===void 0?"auto":s,c=o.x,u=c===void 0?0:c,f=o.y,d=f===void 0?0:f,h=o.width,p=o.height;if(l==="non-transparent-pixel"){var v=a.config.offscreenCanvas,g=i.offscreenCanvasCreator.getOrCreateCanvas(v),m=i.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});g.width=h,g.height=p,a.defaultStyleRendererFactory[Ae.IMAGE].render(m,bt(bt({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=m.getImageData(t.x-u,t.y-d,1,1).data;return y.every(function(x){return x!==0})}return!0}function D$e(e,t,n,r){var a=e.getGeometryBounds();return t.x>=a.min[0]&&t.y>=a.min[1]&&t.x<=a.max[0]&&t.y<=a.max[1]}var L$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="canvas-picker",n}return ft(t,e),ge(t,[{key:"init",value:function(){var r,a=(r={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(r,Ae.CIRCLE,_$e),Ae.ELLIPSE,E$e),Ae.RECT,I$e),Ae.LINE,T$e),Ae.POLYLINE,P$e),Ae.POLYGON,M$e),Ae.PATH,C$e),Ae.TEXT,D$e),Ae.GROUP,null),Ae.IMAGE,N$e),Be(Be(r,Ae.HTML,null),Ae.MESH,null));this.context.pointInPathPickerFactory=a,this.addRenderingPlugin(new UY)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Ef);function Xl(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var F$e=0;function B$e(e){return"__private_"+F$e+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var $$e=function(){function e(){ve(this,e),this.cacheStore=new Map}return ge(e,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,a){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([a.entity])}),this.onRefAdded(a),!0)}},{key:"get",value:function(n,r){var a=this.cacheStore.get(n);return a?(a.counter.has(r.entity)||(a.counter.add(r.entity),this.onRefAdded(r)),a.value):null}},{key:"update",value:function(n,r,a){var i=this.cacheStore.get(n);return i?(i.value=bt(bt({},i.value),r),i.counter.has(a.entity)||(i.counter.add(a.entity),this.onRefAdded(a)),!0):!1}},{key:"release",value:function(n,r){var a=this.cacheStore.get(n);return a?(a.counter.delete(r.entity),a.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(a){r.release(a,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),oS=[],sS=[],Gk=function(){function e(){ve(this,e)}return ge(e,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(n.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;oS.length<=0&&sS.length<=0||(sS.forEach(function(r){return r()}),sS=oS.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=n.requestAnimationFrame(function(){e.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,a,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=r-o,f=a-o,d=Math.ceil(l/u),h=Math.ceil(c/f),p={tileSize:[r,a],gridSize:[h,d],tiles:Array(h).fill(null).map(function(){return Array(d).fill(null)})},v=function(y){for(var x=function(_){oS.push(function(){var w=_*u,A=y*f,S=[Math.min(r,l-w),Math.min(a,c-A)],k=S[0],T=S[1],O=s.createCanvas();O.width=r,O.height=a;var C=O.getContext("2d");C.drawImage(n,w,A,k,T,0,0,k,T),p.tiles[y][_]={x:w,y:A,tileX:_,tileY:y,data:O},i()})},b=0;b<d;b++)x(b)},g=0;g<h;g++)v(g);return e.stop(),e.executeTask(),p}}])}();Gk.TASK_NUM_PER_FRAME=10;var Wo=new $$e;Wo.onRefAdded=function(t){var n=this;t.addEventListener(bn.DESTROY,function(){n.releaseRef(t)},{once:!0})};var JC=function(){function e(t,n){ve(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n}return ge(e,[{key:"getImageSync",value:function(n,r,a){var i=In(n)?n:n.src;if(Wo.has(i)){var o=Wo.get(i,r);if(o.img.complete)return a==null||a(o),o}return this.getOrCreateImage(n,r).then(function(s){a==null||a(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(n,r){var a=this,i=In(n)?n:n.src;if(!In(n)&&!Wo.has(i)){var o={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:Ly(n)};Wo.put(i,o,r)}if(Wo.has(i)){var s=Wo.get(i,r);return s.img.complete?Promise.resolve(s):new Promise(function(l,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=Ly(s.img),l(s)}),s.img.addEventListener("error",function(u){c(u)})})}return new Promise(function(l,c){var u=a.context.config.createImage();if(u){var f={img:u,size:[0,0],tileSize:Ly(u)};Wo.put(i,f,r),u.onload=function(){f.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],f.tileSize=Ly(f.img),l(f)},u.onerror=function(d){c(d)},u.crossOrigin="Anonymous",u.src=i}})}},{key:"createDownSampledImage",value:function(){var t=uf(Ai().mark(function r(a,i){var o,s,l,c,u,f,d,h,p,v,g,m,y,x;return Ai().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=1,this.getOrCreateImage(a,i);case 1:if(o=b.sent,!(typeof o.downSamplingRate<"u")){b.next=2;break}return b.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,l=typeof s=="boolean"?{}:s,c=l.maxDownSampledImageSize,u=c===void 0?2048:c,f=l.downSamplingRateThreshold,d=f===void 0?.5:f,h=this.runtime.globalThis.createImageBitmap,p=ct(o.size,2),v=p[0],g=p[1],m=o.img,y=Math.min((u+u)/(v+g),Math.max(.01,Math.min(d,.5))),x=bt(bt({},o),{},{downSamplingRate:y}),Wo.update(o.img.src,x,i),!h){b.next=7;break}return b.prev=3,b.next=4,h(o.img,{resizeWidth:v*y,resizeHeight:g*y});case 4:m=b.sent,b.next=6;break;case 5:b.prev=5,b.catch(3),y=1;case 6:b.next=8;break;case 7:y=1;case 8:return x=bt(bt({},this.getImageSync(a,i)),{},{downSampled:m,downSamplingRate:y}),Wo.update(o.img.src,x,i),b.abrupt("return",x);case 9:case"end":return b.stop()}},r,this,[[3,5]])}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"createImageTiles",value:function(){var t=uf(Ai().mark(function r(a,i,o,s){var l,c,u,f,d;return Ai().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=1,this.getOrCreateImage(a,s);case 1:return l=h.sent,c=s.ownerDocument.defaultView,u=c.requestAnimationFrame,f=c.cancelAnimationFrame,Gk.api={requestAnimationFrame:u,cancelAnimationFrame:f,createCanvas:function(){return V3.createCanvas()}},d=bt(bt({},l),Gk.sliceImage(l.img,l.tileSize[0],l.tileSize[0],o)),Wo.update(l.img.src,d,s),h.abrupt("return",d);case 2:case"end":return h.stop()}},r,this)}));function n(r,a,i,o){return t.apply(this,arguments)}return n}()},{key:"releaseImage",value:function(n,r){Wo.release(In(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){Wo.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,a,i,o,s,l){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var u=r.image,f=r.repetition,d=r.transform,h,p=!1;if(In(u)){var v=this.getImageSync(u,n,l);h=v==null?void 0:v.img}else i?(h=i,p=!0):h=u;var g=h&&a.createPattern(h,f);if(g){var m;d?m=TU(yU(d),new Dr({})):m=as(Dt()),p&&I$(m,m,[1/o,1/o,1]),g.setTransform({a:m[0],b:m[1],c:m[4],d:m[5],e:m[12]+s[0],f:m[13]+s[1]})}return c&&g&&(this.patternCache[c]=g),g}},{key:"getOrCreateGradient",value:function(n,r){var a=this.generateGradientKey(n),i=n.type,o=n.steps,s=n.min,l=n.width,c=n.height,u=n.angle,f=n.cx,d=n.cy,h=n.size;if(this.gradientCache[a])return this.gradientCache[a];var p=null;if(i===Yu.LinearGradient){var v=N3e(s,l,c,u),g=v.x1,m=v.y1,y=v.x2,x=v.y2;p=r.createLinearGradient(g,m,y,x)}else if(i===Yu.RadialGradient){var b=D3e(s,l,c,f,d,h),E=b.x,_=b.y,w=b.r;p=r.createRadialGradient(E,_,0,E,_,w)}return p&&(o.forEach(function(A){var S=A.offset,k=A.color;if(S.unit===nt.kPercentage){var T;(T=p)===null||T===void 0||T.addColorStop(S.value/100,k.toString())}}),this.gradientCache[a]=p),this.gradientCache[a]}},{key:"generateGradientKey",value:function(n){var r=n.type,a=n.min,i=n.width,o=n.height,s=n.steps,l=n.angle,c=n.cx,u=n.cy,f=n.size;return"gradient-".concat(r,"-").concat((l==null?void 0:l.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat((f==null?void 0:f.toString())||0,"-").concat(a[0],"-").concat(a[1],"-").concat(i,"-").concat(o,"-").concat(s.map(function(d){var h=d.offset,p=d.color;return"".concat(h).concat(p)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,a=n.repetition;if(In(r))return"pattern-".concat(r,"-").concat(a);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(a)}}])}();JC.isSupportTile=!!V3.createCanvas();function Ly(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(a){var i=Math.ceil(n/a),o=Math.ceil(t/a);i*o<1e3&&(r=a)}),[r,r]}var WY=function(){function e(){ve(this,e)}return ge(e,[{key:"apply",value:function(n){var r=n.renderingService,a=n.renderingContext,i=n.imagePool,o=a.root.ownerDocument.defaultView,s=function(f,d,h){var p=f.parsedStyle,v=p.width,g=p.height;v&&!g?f.setAttribute("height",h/d*v):!v&&g&&f.setAttribute("width",d/h*g)},l=function(f){var d=f.target,h=d.nodeName,p=d.attributes;if(h===Ae.IMAGE){var v=p.src,g=p.keepAspectRatio;i.getImageSync(v,d,function(m){var y=m.img,x=y.width,b=y.height;g&&s(d,x,b),d.renderable.dirty=!0,r.dirtify()})}},c=function(f){var d=f.target,h=f.attrName,p=f.prevValue,v=f.newValue;d.nodeName!==Ae.IMAGE||h!=="src"||(p!==v&&i.releaseImage(p,d),In(v)&&i.getOrCreateImage(v,d).then(function(g){var m=g.img,y=m.width,x=m.height;d.attributes.keepAspectRatio&&s(d,y,x),d.renderable.dirty=!0,r.dirtify()}).catch(function(){}))};r.hooks.init.tap(e.tag,function(){o.addEventListener(bn.MOUNTED,l),o.addEventListener(bn.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener(bn.MOUNTED,l),o.removeEventListener(bn.ATTR_MODIFIED,c)})}}])}();WY.tag="LoadImage";var j$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="image-loader",n}return ft(t,e),ge(t,[{key:"init",value:function(r){this.context.imagePool=new JC(this.context,r),this.addRenderingPlugin(new WY)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ef);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var fa=B$e("renderState"),VY=function(){function e(t){ve(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,fa,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=Dt(),this.dprMatrix=Dt(),this.tmpMat4=Dt(),this.vec3a=Et(),this.vec3b=Et(),this.vec3c=Et(),this.vec3d=Et(),this.canvasRendererPluginOptions=t}return ge(e,[{key:"apply",value:function(n,r){var a=this;this.context=n;var i=this.context,o=i.config,s=i.camera,l=i.renderingService,c=i.renderingContext,u=i.rBushRoot,f=i.pathGeneratorFactory,d=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=f;var h=n.contextService,p=c.root.ownerDocument.defaultView,v=function(b){var E=b.target,_=E.rBushNode;_!=null&&_.aabb&&a.removedRBushNodeAABBs.push(_.aabb)},g=function(b){var E=b.target,_=E.rBushNode;_.aabb&&a.removedRBushNodeAABBs.push(_.aabb)};l.hooks.init.tap(e.tag,function(){p.addEventListener(bn.UNMOUNTED,v),p.addEventListener(bn.CULLED,g);var x=h.getDPR(),b=o.width,E=o.height,_=h.getContext();a.clearRect(_,0,0,b*x,E*x,o.background)}),l.hooks.destroy.tap(e.tag,function(){p.removeEventListener(bn.UNMOUNTED,v),p.removeEventListener(bn.CULLED,g),a.renderQueue=[],a.removedRBushNodeAABBs=[],Xl(a,fa)[fa]={restoreStack:[],prevObject:null,currentContext:null}});var m=function(){var b,E=h.getContext(),_=h.getDPR(),w=o.width,A=o.height,S=a.canvasRendererPluginOptions,k=S.dirtyObjectNumThreshold,T=S.dirtyObjectRatioThreshold,O=l.getStats(),C=O.total,M=O.rendered,R=M/C;a.clearFullScreen=a.clearFullScreenLastFrame||!((b=p.context.renderingPlugins[1])!==null&&b!==void 0&&b.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||M>k&&R>T,E&&(typeof E.resetTransform=="function"?E.resetTransform():E.setTransform(1,0,0,1,0,0),a.clearFullScreen&&a.clearRect(E,0,0,w*_,A*_,o.background))},y=function(b,E){for(var _=[b];_.length>0;){var w,A=_.pop();A.isVisible()&&!A.isCulled()&&(d?a.renderDisplayObjectOptimized(A,E,a.context,Xl(a,fa)[fa],r):a.renderDisplayObject(A,E,a.context,Xl(a,fa)[fa],r));for(var S=((w=A.sortable)===null||w===void 0||(w=w.sorted)===null||w===void 0?void 0:w.length)>0?A.sortable.sorted:A.childNodes,k=S.length-1;k>=0;k--)_.push(S[k])}};l.hooks.endFrame.tap(e.tag,function(){if(m(),c.root.childNodes.length===0){a.clearFullScreenLastFrame=!0;return}d=o.renderer.getConfig().enableRenderingOptimization,Xl(a,fa)[fa]={restoreStack:[],prevObject:null,currentContext:Xl(a,fa)[fa].currentContext},Xl(a,fa)[fa].currentContext.clear(),a.clearFullScreenLastFrame=!1;var x=h.getContext(),b=h.getDPR();if(Ko(a.dprMatrix,[b,b,1]),Ur(a.vpMatrix,a.dprMatrix,s.getOrthoMatrix()),a.clearFullScreen)d?(x.save(),y(c.root,x),x.restore()):y(c.root,x),a.removedRBushNodeAABBs=[];else{var E=a.safeMergeAABB.apply(a,[a.mergeDirtyAABBs(a.renderQueue)].concat(_t(a.removedRBushNodeAABBs.map(function(H){var D=H.minX,G=H.minY,K=H.maxX,re=H.maxY,ie=new ma;return ie.setMinMax([D,G,0],[K,re,0]),ie}))));if(a.removedRBushNodeAABBs=[],ma.isEmpty(E)){a.renderQueue=[];return}var _=a.convertAABB2Rect(E),w=_.x,A=_.y,S=_.width,k=_.height,T=sr(a.vec3a,[w,A,0],a.vpMatrix),O=sr(a.vec3b,[w+S,A,0],a.vpMatrix),C=sr(a.vec3c,[w,A+k,0],a.vpMatrix),M=sr(a.vec3d,[w+S,A+k,0],a.vpMatrix),R=Math.min(T[0],O[0],M[0],C[0]),I=Math.min(T[1],O[1],M[1],C[1]),P=Math.max(T[0],O[0],M[0],C[0]),B=Math.max(T[1],O[1],M[1],C[1]),N=Math.floor(R),V=Math.floor(I),W=Math.ceil(P-R),z=Math.ceil(B-I);x.save(),a.clearRect(x,N,V,W,z,o.background),x.beginPath(),x.rect(N,V,W,z),x.clip(),x.setTransform(a.vpMatrix[0],a.vpMatrix[1],a.vpMatrix[4],a.vpMatrix[5],a.vpMatrix[12],a.vpMatrix[13]);var j=o.renderer.getConfig(),L=j.enableDirtyRectangleRenderingDebug;L&&p.dispatchEvent(new ri(Ts.DIRTY_RECTANGLE,{dirtyRect:{x:N,y:V,width:W,height:z}}));var F=a.searchDirtyObjects(E);F.sort(function(H,D){return H.sortable.renderOrder-D.sortable.renderOrder}).forEach(function(H){H&&H.isVisible()&&!H.isCulled()&&a.renderDisplayObject(H,x,a.context,Xl(a,fa)[fa],r)}),x.restore(),a.renderQueue.forEach(function(H){a.saveDirtyAABB(H)}),a.renderQueue=[]}Xl(a,fa)[fa].restoreStack.forEach(function(){x.restore()}),Xl(a,fa)[fa].restoreStack=[]}),l.hooks.render.tap(e.tag,function(x){a.clearFullScreen||a.renderQueue.push(x)})}},{key:"clearRect",value:function(n,r,a,i,o,s){n.clearRect(r,a,i,o),s&&(n.fillStyle=s,n.fillRect(r,a,i,o))}},{key:"renderDisplayObjectOptimized",value:function(n,r,a,i,o){var s=n.nodeName,l=!1,c=!1,u=this.context.styleRendererFactory[s],f=this.pathGeneratorFactory[s],d=n.parsedStyle.clipPath;if(d){l=!i.prevObject||!jA(d.getWorldTransform(),i.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(r,d),i.prevObject=null);var h=this.pathGeneratorFactory[d.nodeName];h&&(r.save(),c=!0,r.beginPath(),h(r,d.parsedStyle),r.closePath(),r.clip())}if(u){l=!i.prevObject||!jA(n.getWorldTransform(),i.prevObject.getWorldTransform()),l&&this.applyWorldTransform(r,n);var p=!i.prevObject;if(!p){var v=i.prevObject.nodeName;s===Ae.TEXT?p=v!==Ae.TEXT:s===Ae.IMAGE?p=v!==Ae.IMAGE:p=v===Ae.TEXT||v===Ae.IMAGE}u.applyStyleToContext(r,n,p,i),i.prevObject=n}f&&(r.beginPath(),f(r,n.parsedStyle),s!==Ae.LINE&&s!==Ae.PATH&&s!==Ae.POLYLINE&&r.closePath()),u&&u.drawToContext(r,n,Xl(this,fa)[fa],this,o),c&&r.restore(),n.dirty(!1)}},{key:"renderDisplayObject",value:function(n,r,a,i,o){var s=n.nodeName,l=i.restoreStack[i.restoreStack.length-1];l&&!(n.compareDocumentPosition(l)&Fr.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),i.restoreStack.pop());var c=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],f=n.parsedStyle.clipPath;if(f){this.applyWorldTransform(r,f);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),i.restoreStack.push(n),r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),u&&(r.beginPath(),u(r,n.parsedStyle),s!==Ae.LINE&&s!==Ae.PATH&&s!==Ae.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,a,this,o),r.restore()),n.dirty(!1)}},{key:"applyAttributesToContext",value:function(n,r){var a=r.parsedStyle,i=a.stroke,o=a.fill,s=a.opacity,l=a.lineDash,c=a.lineDashOffset;l&&n.setLineDash(l),lt(c)||(n.lineDashOffset=c),lt(s)||(n.globalAlpha*=s),!lt(i)&&!Array.isArray(i)&&!i.isNone&&(n.strokeStyle=r.attributes.stroke),!lt(o)&&!Array.isArray(o)&&!o.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),a=n.getMax(),i=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(a[0]),l=Math.ceil(a[1]),c=s-i,u=l-o;return{x:i,y:o,width:c,height:u}}},{key:"mergeDirtyAABBs",value:function(n){var r=new ma;return n.forEach(function(a){var i=a.getRenderBounds();r.add(i);var o=a.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"searchDirtyObjects",value:function(n){var r=n.getMin(),a=ct(r,2),i=a[0],o=a[1],s=n.getMax(),l=ct(s,2),c=l[0],u=l[1],f=this.rBush.search({minX:i,minY:o,maxX:c,maxY:u});return f.map(function(d){var h=d.displayObject;return h})}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new ma);var a=n.getRenderBounds();a&&r.dirtyRenderBounds.update(a.center,a.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,a){a?(pu(this.tmpMat4,r.getLocalTransform()),Ur(this.tmpMat4,a,this.tmpMat4),Ur(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(pu(this.tmpMat4,r.getWorldTransform()),Ur(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new ma,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.forEach(function(o){n.add(o)}),n}}])}();VY.tag="CanvasRenderer";function G2(e,t,n,r,a,i,o){var s,l;if(e.image.nodeName==="rect"){var c=e.image.parsedStyle,u=c.width,f=c.height;l=r.contextService.getDPR();var d=r.config.offscreenCanvas;s=i.offscreenCanvasCreator.getOrCreateCanvas(d),s.width=u*l,s.height=f*l;var h=i.offscreenCanvasCreator.getOrCreateContext(d),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){a.renderDisplayObject(g,h,r,p,i)}),p.restoreStack.forEach(function(){h.restore()})}var v=o.getOrCreatePatternSync(t,e,n,s,l,t.getGeometryBounds().min,function(){t.dirty(),r.renderingService.dirtify()});return v}function W2(e,t,n,r){var a;if(e.type===Yu.LinearGradient||e.type===Yu.RadialGradient){var i=t.getGeometryBounds(),o=i&&i.halfExtents[0]*2||1,s=i&&i.halfExtents[1]*2||1,l=i&&i.min||[0,0];a=r.getOrCreateGradient(bt(bt({type:e.type},e.value),{},{min:l,width:o,height:s}),n)}return a}var Fy=["shadowBlur","shadowOffsetX","shadowOffsetY"],kN=["lineCap","lineJoin","miterLimit"],ka={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},TN={};function Yr(e,t,n,r){var a=r.has(t)?r.get(t):ka[t];return a!==n&&(t==="lineDash"?e.setLineDash(n):e[t]=n,r.set(t,n)),a}var z$e=function(){function e(t){ve(this,e),this.imagePool=t}return ge(e,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,a,i,o,s){}},{key:"applyCommonStyleToContext",value:function(n,r,a,i){var o=a?TN:i.prevObject.parsedStyle,s=r.parsedStyle;(a||s.opacity!==o.opacity)&&Yr(n,"globalAlpha",lt(s.opacity)?ka.globalAlpha:s.opacity,i.currentContext),(a||s.blend!==o.blend)&&Yr(n,"globalCompositeOperation",lt(s.blend)?ka.globalCompositeOperation:s.blend,i.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,a,i){var o=a?TN:i.prevObject.parsedStyle,s=r.parsedStyle,l=s.lineWidth,c=l===void 0?ka.lineWidth:l,u=s.fill&&!s.fill.isNone,f=s.stroke&&!s.stroke.isNone&&c>0;if(f){if(a||r.attributes.stroke!==i.prevObject.attributes.stroke){var d=!lt(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:ka.strokeStyle;Yr(n,"strokeStyle",d,i.currentContext)}(a||s.lineWidth!==o.lineWidth)&&Yr(n,"lineWidth",lt(s.lineWidth)?ka.lineWidth:s.lineWidth,i.currentContext),(a||s.lineDash!==o.lineDash)&&Yr(n,"lineDash",s.lineDash||ka.lineDash,i.currentContext),(a||s.lineDashOffset!==o.lineDashOffset)&&Yr(n,"lineDashOffset",lt(s.lineDashOffset)?ka.lineDashOffset:s.lineDashOffset,i.currentContext);for(var h=0;h<kN.length;h++){var p=kN[h];(a||s[p]!==o[p])&&Yr(n,p,lt(s[p])?ka[p]:s[p],i.currentContext)}}if(u&&(a||r.attributes.fill!==i.prevObject.attributes.fill)){var v=!lt(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:ka.fillStyle;Yr(n,"fillStyle",v,i.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,a,i){var o=r.nodeName;this.applyCommonStyleToContext(n,r,a,i),o===Ae.IMAGE||this.applyStrokeFillStyleToContext(n,r,a,i)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,a,i){var o=r.parsedStyle;if(a){Yr(n,"shadowColor",o.shadowColor.toString(),i.currentContext);for(var s=0;s<Fy.length;s++){var l=Fy[s];Yr(n,l,o[l]||ka[l],i.currentContext)}}o.filter&&o.filter.length&&Yr(n,"filter",r.attributes.filter,i.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Yr(n,"shadowColor",ka.shadowColor,i.currentContext);for(var s=0;s<Fy.length;s++){var l=Fy[s];Yr(n,l,ka[l],i.currentContext)}}if(a)if(r&&o){var c=n.filter;!lt(c)&&c.indexOf("drop-shadow")>-1&&Yr(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||ka.filter,i.currentContext)}else Yr(n,"filter",ka.filter,i.currentContext)}},{key:"fillToContext",value:function(n,r,a,i,o){var s=this,l=r.parsedStyle,c=l.fill,u=l.fillRule,f=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(h){var p=Yr(n,"fillStyle",W2(h,r,n,s.imagePool),a.currentContext);f=f??p,u?n.fill(u):n.fill()});else{if($d(c)){var d=G2(c,r,n,r.ownerDocument.defaultView.context,i,o,this.imagePool);d&&(n.fillStyle=d,f=!0)}u?n.fill(u):n.fill()}f!==null&&Yr(n,"fillStyle",f,a.currentContext)}},{key:"strokeToContext",value:function(n,r,a,i,o){var s=this,l=r.parsedStyle.stroke,c=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(d){var h=Yr(n,"strokeStyle",W2(d,r,n,s.imagePool),a.currentContext);c=c??h,n.stroke()});else{if($d(l)){var u=G2(l,r,n,r.ownerDocument.defaultView.context,i,o,this.imagePool);if(u){var f=Yr(n,"strokeStyle",u,a.currentContext);c=c??f}}n.stroke()}c!==null&&Yr(n,"strokeStyle",c,a.currentContext)}},{key:"drawToContext",value:function(n,r,a,i,o){var s,l=r.nodeName,c=r.parsedStyle,u=c.opacity,f=u===void 0?ka.globalAlpha:u,d=c.fillOpacity,h=d===void 0?ka.fillOpacity:d,p=c.strokeOpacity,v=p===void 0?ka.strokeOpacity:p,g=c.lineWidth,m=g===void 0?ka.lineWidth:g,y=c.fill&&!c.fill.isNone,x=c.stroke&&!c.stroke.isNone&&m>0;if(!(!y&&!x)){var b=!lt(c.shadowColor)&&c.shadowBlur>0,E=c.shadowType==="inner",_=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,w=!!(c.filter&&c.filter.length),A=b&&x&&(l===Ae.PATH||l===Ae.LINE||l===Ae.POLYLINE||_||E),S=null;if(y){A||this.applyShadowAndFilterStyleToContext(n,r,b,a);var k=f*h;S=Yr(n,"globalAlpha",k,a.currentContext),this.fillToContext(n,r,a,i,o),A||this.clearShadowAndFilterStyleForContext(n,b,w,a)}if(x){var T=!1,O=f*v,C=Yr(n,"globalAlpha",O,a.currentContext);if(S=y?S:C,A&&(this.applyShadowAndFilterStyleToContext(n,r,b,a),T=!0,E)){var M=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,a,i,o),n.globalCompositeOperation=M,this.clearShadowAndFilterStyleForContext(n,b,w,a,!0)}this.strokeToContext(n,r,a,i,o),T&&this.clearShadowAndFilterStyleForContext(n,b,w,a)}S!==null&&Yr(n,"globalAlpha",S,a.currentContext)}}}])}(),e4=function(e){function t(){return ve(this,t),ut(this,t,arguments)}return ft(t,e),ge(t,[{key:"render",value:function(r,a,i,o,s,l){var c=a.fill,u=a.fillRule,f=a.opacity,d=f===void 0?1:f,h=a.fillOpacity,p=h===void 0?1:h,v=a.stroke,g=a.strokeOpacity,m=g===void 0?1:g,y=a.lineWidth,x=y===void 0?1:y,b=a.lineCap,E=a.lineJoin,_=a.shadowType,w=a.shadowColor,A=a.shadowBlur,S=a.filter,k=a.miterLimit,T=c&&!c.isNone,O=v&&!v.isNone&&x>0,C=(c==null?void 0:c.alpha)===0,M=!!(S&&S.length),R=!lt(w)&&A>0,I=i.nodeName,P=_==="inner",B=O&&R&&(I===Ae.PATH||I===Ae.LINE||I===Ae.POLYLINE||C||P);T&&(r.globalAlpha=d*p,B||V2(i,r,R),YY(r,i,c,u,o,s,l,this.imagePool),B||this.clearShadowAndFilter(r,M,R)),O&&(r.globalAlpha=d*m,r.lineWidth=x,lt(k)||(r.miterLimit=k),lt(b)||(r.lineCap=b),lt(E)||(r.lineJoin=E),B&&(P&&(r.globalCompositeOperation="source-atop"),V2(i,r,!0),P&&(Wk(r,i,v,o,s,l,this.imagePool),r.globalCompositeOperation=ka.globalCompositeOperation,this.clearShadowAndFilter(r,M,!0))),Wk(r,i,v,o,s,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,a,i){if(i&&(r.shadowColor="transparent",r.shadowBlur=0),a){var o=r.filter;!lt(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(z$e);function V2(e,t,n){var r=e.parsedStyle,a=r.filter,i=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;a&&a.length&&(t.filter=e.style.filter),n&&(t.shadowColor=i.toString(),t.shadowBlur=o||0,t.shadowOffsetX=s||0,t.shadowOffsetY=l||0)}function YY(e,t,n,r,a,i,o,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){e.fillStyle=W2(c,t,e,s),l||(r?e.fill(r):e.fill())}):($d(n)&&(e.fillStyle=G2(n,t,e,a,i,o,s)),l||(r?e.fill(r):e.fill()))}function Wk(e,t,n,r,a,i,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(l){e.strokeStyle=W2(l,t,e,o),s||e.stroke()}):($d(n)&&(e.strokeStyle=G2(n,t,e,r,a,i,o)),s||e.stroke())}function U$e(e,t){var n=ct(e,4),r=n[0],a=n[1],i=n[2],o=n[3],s=ct(t,4),l=s[0],c=s[1],u=s[2],f=s[3],d=Math.max(r,l),h=Math.max(a,c),p=Math.min(r+i,l+u),v=Math.min(a+o,c+f);return p<=d||v<=h?null:[d,h,p-d,v-h]}function H$e(e,t){var n=sr(Et(),[e[0],e[1],0],t),r=sr(Et(),[e[0]+e[2],e[1],0],t),a=sr(Et(),[e[0],e[1]+e[3],0],t),i=sr(Et(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],a[0],i[0]),Math.min(n[1],r[1],a[1],i[1]),Math.max(n[0],r[0],a[0],i[0])-Math.min(n[0],r[0],a[0],i[0]),Math.max(n[1],r[1],a[1],i[1])-Math.min(n[1],r[1],a[1],i[1])]}var G$e=function(e){function t(){return ve(this,t),ut(this,t,arguments)}return ft(t,e),ge(t,[{key:"renderDownSampled",value:function(r,a,i,o){var s=o.src,l=o.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(s,i).then(function(){i.ownerDocument&&(i.dirty(),i.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(c){console.error(c)});return}r.drawImage(l.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,a,i,o){var s=o.src,l=o.imageCache,c=o.imageRect,u=o.drawRect,f=l.size,d=r.getTransform(),h=d.a,p=d.b,v=d.c,g=d.d,m=d.e,y=d.f;if(r.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(s,[],function(){i.ownerDocument&&(i.dirty(),i.ownerDocument.defaultView.context.renderingService.dirtify())},i).catch(function(R){console.error(R)});return}for(var x=[f[0]/c[2],f[1]/c[3]],b=[l.tileSize[0]/x[0],l.tileSize[1]/x[1]],E=[Math.floor((u[0]-c[0])/b[0]),Math.ceil((u[0]+u[2]-c[0])/b[0])],_=E[0],w=E[1],A=[Math.floor((u[1]-c[1])/b[1]),Math.ceil((u[1]+u[3]-c[1])/b[1])],S=A[0],k=A[1],T=S;T<=k;T++)for(var O=_;O<=w;O++){var C=l.tiles[T][O];if(C){var M=[Math.floor(c[0]+C.tileX*b[0]),Math.floor(c[1]+C.tileY*b[1]),Math.ceil(b[0]),Math.ceil(b[1])];r.drawImage(C.data,M[0],M[1],M[2],M[3])}}r.setTransform(h,p,v,g,m,y)}},{key:"render",value:function(r,a,i){var o=a.x,s=o===void 0?0:o,l=a.y,c=l===void 0?0:l,u=a.width,f=a.height,d=a.src,h=a.shadowColor,p=a.shadowBlur,v=this.imagePool.getImageSync(d,i),g=v==null?void 0:v.img,m=u,y=f;if(g){m||(m=g.width),y||(y=g.height);var x=!lt(h)&&p>0;V2(i,r,x);try{var b=i.ownerDocument.defaultView.getContextService().getDomElement(),E=b.width,_=b.height,w=r.getTransform(),A=w.a,S=w.b,k=w.c,T=w.d,O=w.e,C=w.f,M=P$(A,k,0,0,S,T,0,0,0,0,1,0,O,C,0,1),R=H$e([s,c,m,y],M),I=U$e([0,0,E,_],R);if(!I)return;if(!i.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(r,a,i,{image:g,drawRect:[s,c,m,y]});return}var P=R[2]/v.size[0];if(P<(v.downSamplingRate||.5)){this.renderDownSampled(r,a,i,{src:d,imageCache:v,drawRect:[s,c,m,y]});return}if(!JC.isSupportTile){t.renderFull(r,a,i,{image:g,drawRect:[s,c,m,y]});return}this.renderTile(r,a,i,{src:d,imageCache:v,imageRect:R,drawRect:I})}catch{}}}},{key:"drawToContext",value:function(r,a,i,o,s){this.render(r,a.parsedStyle,a)}}],[{key:"renderFull",value:function(r,a,i,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])}(e4),W$e=function(e){function t(){return ve(this,t),ut(this,t,arguments)}return ft(t,e),ge(t,[{key:"render",value:function(r,a,i,o,s,l){i.getBounds();var c=a.lineWidth,u=c===void 0?1:c,f=a.textAlign,d=f===void 0?"start":f,h=a.textBaseline,p=h===void 0?"alphabetic":h,v=a.lineJoin,g=v===void 0?"miter":v,m=a.miterLimit,y=m===void 0?10:m,x=a.letterSpacing,b=x===void 0?0:x,E=a.stroke,_=a.fill,w=a.fillRule,A=a.fillOpacity,S=A===void 0?1:A,k=a.strokeOpacity,T=k===void 0?1:k,O=a.opacity,C=O===void 0?1:O,M=a.metrics,R=a.x,I=R===void 0?0:R,P=a.y,B=P===void 0?0:P,N=a.dx,V=a.dy,W=a.shadowColor,z=a.shadowBlur,j=M.font,L=M.lines,F=M.height,H=M.lineHeight,D=M.lineMetrics;r.font=j,r.lineWidth=u,r.textAlign=d==="middle"?"center":d;var G=p;G==="alphabetic"&&(G="bottom"),r.lineJoin=g,lt(y)||(r.miterLimit=y);var K=B;p==="middle"?K+=-F/2-H/2:p==="bottom"||p==="alphabetic"||p==="ideographic"?K+=-F:(p==="top"||p==="hanging")&&(K+=-H);var re=I+(N||0);K+=V||0,L.length===1&&(G==="bottom"?(G="middle",K-=.5*F):G==="top"&&(G="middle",K+=.5*F)),r.textBaseline=G;var ie=!lt(W)&&z>0;V2(i,r,ie);for(var U=0;U<L.length;U++){var q=u/2+re;K+=H,!lt(E)&&!E.isNone&&u&&this.drawLetterSpacing(r,i,L[U],D[U],d,q,K,b,_,w,S,E,T,C,!0,o,s,l),lt(_)||this.drawLetterSpacing(r,i,L[U],D[U],d,q,K,b,_,w,S,E,T,C,!1,o,s,l)}}},{key:"drawLetterSpacing",value:function(r,a,i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b){if(u===0){m?this.strokeText(r,a,i,l,c,p,v,y,x,b):this.fillText(r,a,i,l,c,f,d,h,g,y,x,b);return}var E=r.textAlign;r.textAlign="left";var _=l;s==="center"||s==="middle"?_=l-o.width/2:(s==="right"||s==="end")&&(_=l-o.width);for(var w=Array.from(i),A=r.measureText(i).width,S=0,k=0;k<w.length;++k){var T=w[k];m?this.strokeText(r,a,T,_,c,p,v,y,x,b):this.fillText(r,a,T,_,c,f,d,h,g,y,x,b),S=r.measureText(i.substring(k+1)).width,_+=A-S+u,A=S}r.textAlign=E}},{key:"fillText",value:function(r,a,i,o,s,l,c,u,f,d,h,p){YY(r,a,l,c,d,h,p,this.imagePool,!0);var v,g=!lt(u)&&u!==1;g&&(v=r.globalAlpha,r.globalAlpha=u*f),r.fillText(i,o,s),g&&(r.globalAlpha=v)}},{key:"strokeText",value:function(r,a,i,o,s,l,c,u,f,d){Wk(r,a,l,u,f,d,this.imagePool,!0);var h,p=!lt(c)&&c!==1;p&&(h=r.globalAlpha,r.globalAlpha=c),r.strokeText(i,o,s),p&&(r.globalAlpha=h)}},{key:"drawToContext",value:function(r,a,i,o,s){this.render(r,a.parsedStyle,a,a.ownerDocument.defaultView.context,o,s)}}])}(e4),V$e=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),n=ut(this,t),n.name="canvas-renderer",n.options=r,n}return ft(t,e),ge(t,[{key:"init",value:function(){var r,a=bt({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),i=this.context.imagePool,o=new e4(i),s=(r={},Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(r,Ae.CIRCLE,o),Ae.ELLIPSE,o),Ae.RECT,o),Ae.IMAGE,new G$e(i)),Ae.TEXT,new W$e(i)),Ae.LINE,o),Ae.POLYLINE,o),Ae.POLYGON,o),Ae.PATH,o),Ae.GROUP,void 0),Be(Be(Be(r,Ae.HTML,void 0),Ae.MESH,void 0),Ae.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new VY(a))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Ef);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.27
 * @date 7/30/2025, 1:35:38 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var XY=function(){function e(){ve(this,e)}return ge(e,[{key:"apply",value:function(n,r){var a=this,i=n.renderingService,o=n.renderingContext,s=n.config;this.context=n;var l=o.root.ownerDocument.defaultView,c=function(A){i.hooks.pointerMove.call(A)},u=function(A){i.hooks.pointerUp.call(A)},f=function(A){i.hooks.pointerDown.call(A)},d=function(A){i.hooks.pointerOver.call(A)},h=function(A){i.hooks.pointerOut.call(A)},p=function(A){i.hooks.pointerCancel.call(A)},v=function(A){i.hooks.pointerWheel.call(A)},g=function(A){i.hooks.click.call(A)},m=function(A){r.globalThis.document.addEventListener("pointermove",c,!0),A.addEventListener("pointerdown",f,!0),A.addEventListener("pointerleave",h,!0),A.addEventListener("pointerover",d,!0),r.globalThis.addEventListener("pointerup",u,!0),r.globalThis.addEventListener("pointercancel",p,!0)},y=function(A){A.addEventListener("touchstart",f,!0),A.addEventListener("touchend",u,!0),A.addEventListener("touchmove",c,!0),A.addEventListener("touchcancel",p,!0)},x=function(A){r.globalThis.document.addEventListener("mousemove",c,!0),A.addEventListener("mousedown",f,!0),A.addEventListener("mouseout",h,!0),A.addEventListener("mouseover",d,!0),r.globalThis.addEventListener("mouseup",u,!0)},b=function(A){r.globalThis.document.removeEventListener("pointermove",c,!0),A.removeEventListener("pointerdown",f,!0),A.removeEventListener("pointerleave",h,!0),A.removeEventListener("pointerover",d,!0),r.globalThis.removeEventListener("pointerup",u,!0),r.globalThis.removeEventListener("pointercancel",p,!0)},E=function(A){A.removeEventListener("touchstart",f,!0),A.removeEventListener("touchend",u,!0),A.removeEventListener("touchmove",c,!0),A.removeEventListener("touchcancel",p,!0)},_=function(A){r.globalThis.document.removeEventListener("mousemove",c,!0),A.removeEventListener("mousedown",f,!0),A.removeEventListener("mouseout",h,!0),A.removeEventListener("mouseover",d,!0),r.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(e.tag,function(){var w=a.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="none",w.style.msTouchAction="none"):l.supportsPointerEvents&&(w.style.touchAction="none"),l.supportsPointerEvents?m(w):x(w),l.supportsTouchEvents&&y(w),s.useNativeClickEvent&&w.addEventListener("click",g,!0),w.addEventListener("wheel",v,{passive:!0,capture:!0})}),i.hooks.destroy.tap(e.tag,function(){var w=a.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="",w.style.msTouchAction=""):l.supportsPointerEvents&&(w.style.touchAction=""),l.supportsPointerEvents?b(w):_(w),l.supportsTouchEvents&&E(w),s.useNativeClickEvent&&w.removeEventListener("click",g,!0),w.removeEventListener("wheel",v,!0)})}}])}();XY.tag="DOMInteraction";var Y$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="dom-interaction",n}return ft(t,e),ge(t,[{key:"init",value:function(){this.addRenderingPlugin(new XY)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ef);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var X$e="g-canvas-camera",qY=function(){function e(){ve(this,e),this.displayObjectHTMLElementMap=new WeakMap}return ge(e,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var a=this,i=n.camera,o=n.renderingContext,s=n.renderingService;this.context=n;var l=o.root.ownerDocument.defaultView,c=l.context.eventService.nativeHTMLMap,u=function(m,y){y.style.transform=a.joinTransformMatrix(m.getWorldTransform(),m.getOrigin())},f=function(m){var y=m.target;if(y.nodeName===Ae.HTML){a.$camera||(a.$camera=a.createCamera(i));var x=a.getOrCreateEl(y);a.$camera.appendChild(x),Object.keys(y.attributes).forEach(function(b){a.updateAttribute(b,y)}),u(y,x),c.set(x,y)}},d=function(m){var y=m.target;if(y.nodeName===Ae.HTML&&a.$camera){var x=a.getOrCreateEl(y);x&&(x.remove(),c.delete(x))}},h=function(m){var y=m.target;if(y.nodeName===Ae.HTML){var x=m.attrName;a.updateAttribute(x,y)}},p=function(m){var y=m.target,x=y.nodeName===Ae.FRAGMENT?y.childNodes:[y];x.forEach(function(b){if(b.nodeName===Ae.HTML){var E=a.getOrCreateEl(b);u(b,E)}})},v=function(){if(a.$camera){var m=a.context.config,y=m.width,x=m.height;a.$camera.parentElement.style.width="".concat(y||0,"px"),a.$camera.parentElement.style.height="".concat(x||0,"px")}};s.hooks.init.tap(e.tag,function(){l.addEventListener(Ts.RESIZE,v),l.addEventListener(bn.MOUNTED,f),l.addEventListener(bn.UNMOUNTED,d),l.addEventListener(bn.ATTR_MODIFIED,h),l.addEventListener(bn.BOUNDS_CHANGED,p)}),s.hooks.endFrame.tap(e.tag,function(){a.$camera&&o.renderReasons.has(ch.CAMERA_CHANGED)&&(a.$camera.style.transform=a.joinTransformMatrix(i.getOrthoMatrix()))}),s.hooks.destroy.tap(e.tag,function(){a.$camera&&a.$camera.remove(),l.removeEventListener(Ts.RESIZE,v),l.removeEventListener(bn.MOUNTED,f),l.removeEventListener(bn.UNMOUNTED,d),l.removeEventListener(bn.ATTR_MODIFIED,h),l.removeEventListener(bn.BOUNDS_CHANGED,p)})}},{key:"createCamera",value:function(n){var r=this.context.config,a=r.document,i=r.width,o=r.height,s=this.context.contextService.getDomElement(),l=s.parentNode;if(l){var c=X$e,u=l.querySelector("#".concat(c));if(!u){var f=(a||document).createElement("div");f.style.overflow="hidden",f.style.pointerEvents="none",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="".concat(i||0,"px"),f.style.height="".concat(o||0,"px");var d=(a||document).createElement("div");u=d,d.id=c,d.style.position="absolute",d.style.left="".concat(s.offsetLeft||0,"px"),d.style.top="".concat(s.offsetTop||0,"px"),d.style.transformOrigin="left top",d.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),d.style.pointerEvents="none",d.style.width="100%",d.style.height="100%",f.appendChild(d),l.appendChild(f)}return u}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,a=this.displayObjectHTMLElementMap.get(n);return a||(a=(r||document).createElement("div"),n.parsedStyle.$el=a,this.displayObjectHTMLElementMap.set(n,a),n.id&&(a.id=n.id),n.name&&a.setAttribute("name",n.name),n.className&&(a.className=n.className),a.style.position="absolute",a.style["will-change"]="transform",a.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),a}},{key:"updateAttribute",value:function(n,r){var a=this.getOrCreateEl(r);switch(n){case"innerHTML":var i=r.parsedStyle.innerHTML;In(i)?a.innerHTML=i:(a.innerHTML="",a.appendChild(i));break;case"x":a.style.left="".concat(r.parsedStyle.x,"px");break;case"y":a.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;a.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;a.style.width=kn(s)?"".concat(s,"px"):s.toString();break;case"height":var l=r.parsedStyle.height;a.style.height=kn(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;a.style["z-index"]="".concat(c);break;case"visibility":var u=r.parsedStyle.visibility;a.style.visibility=u;break;case"pointerEvents":var f=r.parsedStyle.pointerEvents,d=f===void 0?"auto":f;a.style.pointerEvents=d;break;case"opacity":var h=r.parsedStyle.opacity;a.style.opacity="".concat(h);break;case"fill":var p=r.parsedStyle.fill,v="";x2(p)?p.isNone?v="transparent":v=r.getAttribute("fill"):Array.isArray(p)?v=r.getAttribute("fill"):$d(p),a.style.background=v;break;case"stroke":var g=r.parsedStyle.stroke,m="";x2(g)?g.isNone?m="transparent":m=r.getAttribute("stroke"):Array.isArray(g)?m=r.getAttribute("stroke"):$d(g),a.style["border-color"]=m,a.style["border-style"]="solid";break;case"lineWidth":var y=r.parsedStyle.lineWidth;a.style["border-width"]="".concat(y||0,"px");break;case"lineDash":a.style["border-style"]="dashed";break;case"filter":var x=r.style.filter;a.style.filter=x;break;default:!lt(r.style[n])&&r.style[n]!==""&&(a.style[n]=r.style[n])}}}])}();qY.tag="HTMLRendering";var q$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="html-renderer",n}return ft(t,e),ge(t,[{key:"init",value:function(){this.addRenderingPlugin(new qY)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ef);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var K$e=function(){function e(t){ve(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return ge(e,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,a=n.canvas;if(a)this.$canvas=a,r&&a.parentElement!==r&&r.appendChild(a),this.$container=a.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=In(r)?document.getElementById(r):r,this.$container)){var i=document.createElement("canvas");this.$container.appendChild(i),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=i}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var a=this.canvasConfig.devicePixelRatio;this.dpr=a,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,XCe(this.$canvas,n,r)),this.renderingContext.renderReasons.add(ch.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:function(){var t=uf(Ai().mark(function r(){var a,i,o,s=arguments;return Ai().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=a.type,o=a.encoderOptions,l.abrupt("return",this.context.canvas.toDataURL(i,o));case 1:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),Z$e=function(e){function t(){var n;ve(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ut(this,t,[].concat(a)),n.name="canvas-context-register",n}return ft(t,e),ge(t,[{key:"init",value:function(){this.context.ContextService=K$e}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Ef),KY=function(e){function t(n){var r;return ve(this,t),r=ut(this,t,[n]),r.registerPlugin(new Z$e),r.registerPlugin(new j$e),r.registerPlugin(new m$e),r.registerPlugin(new V$e),r.registerPlugin(new Y$e),r.registerPlugin(new L$e),r.registerPlugin(new q$e),r}return ft(t,e),ge(t)}(jOe);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var ZY=function(){function e(t){ve(this,e),this.dragndropPluginOptions=t}return ge(e,[{key:"apply",value:function(n){var r=this,a=n.renderingService,i=n.renderingContext,o=i.root.ownerDocument,s=o.defaultView,l=function(u){var f=u.target,d=f===o,h=d&&r.dragndropPluginOptions.isDocumentDraggable?o:f.closest&&f.closest("[draggable=true]");if(h){var p=!1,v=u.timeStamp,g=[u.clientX,u.clientY],m=null,y=[u.clientX,u.clientY],x=function(){var E=uf(Ai().mark(function _(w){var A,S,k,T,O,C;return Ai().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(p){M.next=2;break}if(A=w.timeStamp-v,S=Io([w.clientX,w.clientY],g),!(A<=r.dragndropPluginOptions.dragstartTimeThreshold||S<=r.dragndropPluginOptions.dragstartDistanceThreshold)){M.next=1;break}return M.abrupt("return");case 1:w.type="dragstart",h.dispatchEvent(w),p=!0;case 2:if(w.type="drag",w.dx=w.clientX-y[0],w.dy=w.clientY-y[1],h.dispatchEvent(w),y=[w.clientX,w.clientY],d){M.next=4;break}return k=r.dragndropPluginOptions.overlap==="pointer"?[w.canvasX,w.canvasY]:f.getBounds().center,M.next=3,o.elementsFromPoint(k[0],k[1]);case 3:T=M.sent,O=T[T.indexOf(f)+1],C=(O==null?void 0:O.closest("[droppable=true]"))||(r.dragndropPluginOptions.isDocumentDroppable?o:null),m!==C&&(m&&(w.type="dragleave",w.target=m,m.dispatchEvent(w)),C&&(w.type="dragenter",w.target=C,C.dispatchEvent(w)),m=C,m&&(w.type="dragover",w.target=m,m.dispatchEvent(w)));case 4:case"end":return M.stop()}},_)}));return function(w){return E.apply(this,arguments)}}();s.addEventListener("pointermove",x);var b=function(_){if(p){_.detail={preventClick:!0};var w=_.clone();m&&(w.type="drop",w.target=m,m.dispatchEvent(w)),w.type="dragend",h.dispatchEvent(w),p=!1}s.removeEventListener("pointermove",x)};f.addEventListener("pointerup",b,{once:!0}),f.addEventListener("pointerupoutside",b,{once:!0})}};a.hooks.init.tap(e.tag,function(){s.addEventListener("pointerdown",l)}),a.hooks.destroy.tap(e.tag,function(){s.removeEventListener("pointerdown",l)})}}])}();ZY.tag="Dragndrop";var QY=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ve(this,t),n=ut(this,t),n.name="dragndrop",n.options=r,n}return ft(t,e),ge(t,[{key:"init",value:function(){this.addRenderingPlugin(new ZY(bt({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])}(Ef),Q$e="*",JY=function(){function e(){this._events={}}return e.prototype.on=function(t,n,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!r}),this},e.prototype.once=function(t,n){return this.on(t,n,!0)},e.prototype.emit=function(t){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=this._events[t]||[],o=this._events[Q$e]||[],s=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var f=l[u],d=f.callback,h=f.once;h&&(l.splice(u,1),l.length===0&&delete n._events[t],c--,u--),d.apply(n,r)}};s(i),s(o)},e.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var r=this._events[t]||[],a=r.length,i=0;i<a;i++)r[i].callback===n&&(r.splice(i,1),a--,i--);r.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}();const jn={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},J$e={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class Ca extends Error{constructor(t,n,r){super(t),this.position=n,this.token=r,this.name="ExpressionError"}}var Yt;(function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.NULL=3]="NULL",e[e.IDENTIFIER=4]="IDENTIFIER",e[e.OPERATOR=5]="OPERATOR",e[e.FUNCTION=6]="FUNCTION",e[e.DOT=7]="DOT",e[e.BRACKET_LEFT=8]="BRACKET_LEFT",e[e.BRACKET_RIGHT=9]="BRACKET_RIGHT",e[e.PAREN_LEFT=10]="PAREN_LEFT",e[e.PAREN_RIGHT=11]="PAREN_RIGHT",e[e.COMMA=12]="COMMA",e[e.QUESTION=13]="QUESTION",e[e.COLON=14]="COLON",e[e.DOLLAR=15]="DOLLAR"})(Yt||(Yt={}));const eje=new Set([32,9,10,13]),tje=new Set([43,45,42,47,37,33,38,124,61,60,62]),nje=new Map([["true",Yt.BOOLEAN],["false",Yt.BOOLEAN],["null",Yt.NULL]]),lS=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),rje=new Map([[46,Yt.DOT],[91,Yt.BRACKET_LEFT],[93,Yt.BRACKET_RIGHT],[40,Yt.PAREN_LEFT],[41,Yt.PAREN_RIGHT],[44,Yt.COMMA],[63,Yt.QUESTION],[58,Yt.COLON],[36,Yt.DOLLAR]]),eX=new Map;for(const[e,t]of rje.entries())eX.set(e,{type:t,value:String.fromCharCode(e)});function Tv(e){return e>=48&&e<=57}function Vk(e){return e>=97&&e<=122||e>=65&&e<=90||e===95}function ON(e){return Vk(e)||Tv(e)}function aje(e){return tje.has(e)}var Kr;(function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"})(Kr||(Kr={}));const ije=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),oje={type:Kr.Literal,value:null},sje={type:Kr.Literal,value:!0},lje={type:Kr.Literal,value:!1},cje=e=>{let t=0;const n=e.length,r=()=>t>=n?null:e[t],a=()=>e[t++],i=f=>{const d=r();return d!==null&&d.type===f},o=f=>f.type===Yt.OPERATOR?ije.get(f.value)||-1:f.type===Yt.DOT||f.type===Yt.BRACKET_LEFT?9:f.type===Yt.QUESTION?1:-1,s=f=>{let d,h;if(a().type===Yt.DOT){if(!i(Yt.IDENTIFIER)){const v=r();throw new Ca("Expected property name",t,v?v.value:"<end of input>")}const p=a();d={type:Kr.Identifier,name:p.value},h=!1}else{if(d=c(0),!i(Yt.BRACKET_RIGHT)){const p=r();throw new Ca("Expected closing bracket",t,p?p.value:"<end of input>")}a(),h=!0}return{type:Kr.MemberExpression,object:f,property:d,computed:h}},l=()=>{const f=r();if(!f)throw new Ca("Unexpected end of input",t,"<end of input>");if(f.type===Yt.OPERATOR&&(f.value==="!"||f.value==="-")){a();const d=l();return{type:Kr.UnaryExpression,operator:f.value,argument:d,prefix:!0}}switch(f.type){case Yt.NUMBER:return a(),{type:Kr.Literal,value:Number(f.value)};case Yt.STRING:return a(),{type:Kr.Literal,value:f.value};case Yt.BOOLEAN:return a(),f.value==="true"?sje:lje;case Yt.NULL:return a(),oje;case Yt.IDENTIFIER:return a(),{type:Kr.Identifier,name:f.value};case Yt.FUNCTION:return(()=>{const d=a(),h=[];if(!i(Yt.PAREN_LEFT)){const p=r();throw new Ca("Expected opening parenthesis after function name",t,p?p.value:"<end of input>")}for(a();;){if(i(Yt.PAREN_RIGHT)){a();break}if(!r()){const v=r();throw new Ca("Expected closing parenthesis",t,v?v.value:"<end of input>")}if(h.length>0){if(!i(Yt.COMMA)){const v=r();throw new Ca("Expected comma between function arguments",t,v?v.value:"<end of input>")}a()}const p=c(0);h.push(p)}return{type:Kr.CallExpression,callee:{type:Kr.Identifier,name:d.value},arguments:h}})();case Yt.PAREN_LEFT:{a();const d=c(0);if(!i(Yt.PAREN_RIGHT)){const h=r();throw new Ca("Expected closing parenthesis",t,h?h.value:"<end of input>")}return a(),d}default:throw new Ca(`Unexpected token: ${f.type}`,t,f.value)}},c=(f=0)=>{let d=l();for(;t<n;){const h=e[t],p=o(h);if(p<=f)break;if(h.type!==Yt.QUESTION)if(h.type!==Yt.OPERATOR){if(h.type!==Yt.DOT&&h.type!==Yt.BRACKET_LEFT)break;d=s(d)}else{a();const v=c(p);d={type:Kr.BinaryExpression,operator:h.value,left:d,right:v}}else{a();const v=c(0);if(!i(Yt.COLON)){const m=r();throw new Ca("Expected : in conditional expression",t,m?m.value:"<end of input>")}a();const g=c(0);d={type:Kr.ConditionalExpression,test:d,consequent:v,alternate:g}}}return d},u=c();return{type:Kr.Program,body:u}},uje=(e,t,n)=>{let r=t;n&&(r={...t,context:{...t.context,...n}});const a=i=>{switch(i.type){case Kr.Literal:return(o=>o.value)(i);case Kr.Identifier:return(o=>{if(!(o.name in r.context))throw new Ca(`Undefined variable: ${o.name}`);return r.context[o.name]})(i);case Kr.MemberExpression:return(o=>{const s=a(o.object);if(s==null)throw new Ca("Cannot access property of null or undefined");return s[o.computed?a(o.property):o.property.name]})(i);case Kr.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new Ca(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map(l=>a(l)))})(i);case Kr.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=a(o.left);return c&&a(o.right)}if(o.operator==="||")return a(o.left)||a(o.right);const s=a(o.left),l=a(o.right);switch(o.operator){case"+":return s+l;case"-":return s-l;case"*":return s*l;case"/":return s/l;case"%":return s%l;case"===":return s===l;case"!==":return s!==l;case">":return s>l;case">=":return s>=l;case"<":return s<l;case"<=":return s<=l;default:throw new Ca(`Unknown operator: ${o.operator}`)}})(i);case Kr.UnaryExpression:return(o=>{const s=a(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new Ca(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new Ca(`Unknown operator: ${o.operator}`)}throw new Ca(`Postfix operators are not supported: ${o.operator}`)})(i);case Kr.ConditionalExpression:return(o=>{const s=a(o.test);return a(s?o.consequent:o.alternate)})(i);default:throw new Ca(`Evaluation error: Unsupported node type: ${i.type}`)}};return a(e.body)};function fje(e){const t=(a=>{const i=a,o=i.length,s=new Array(Math.ceil(o/3));let l=0,c=0;function u(g){const m=c+1;c++;let y="",x=!1;for(;c<o;){const b=i.charCodeAt(c);if(b===g)return x||(y=i.substring(m,c)),c++,{type:Yt.STRING,value:y};b===92?(x||(y=i.substring(m,c),x=!0),c++,y+=i[c]):x&&(y+=i[c]),c++}throw new Ca(`Unterminated string starting with ${String.fromCharCode(g)}`,c,i.substring(Math.max(0,c-10),c))}function f(){const g=c;for(i.charCodeAt(c)===45&&c++;c<o&&Tv(i.charCodeAt(c));)c++;if(c<o&&i.charCodeAt(c)===46)for(c++;c<o&&Tv(i.charCodeAt(c));)c++;const m=i.slice(g,c);return{type:Yt.NUMBER,value:m}}function d(){c++;const g=c;if(c<o&&Vk(i.charCodeAt(c)))for(c++;c<o&&ON(i.charCodeAt(c));)c++;const m=i.slice(g,c);return{type:Yt.FUNCTION,value:m}}function h(){const g=c++;for(;c<o&&ON(i.charCodeAt(c));)c++;const m=i.slice(g,c),y=nje.get(m);return y?{type:y,value:m}:{type:Yt.IDENTIFIER,value:m}}function p(){if(c+2<o){const m=i.substring(c,c+3);if(lS.has(m))return c+=3,{type:Yt.OPERATOR,value:m}}if(c+1<o){const m=i.substring(c,c+2);if(lS.has(m))return c+=2,{type:Yt.OPERATOR,value:m}}const g=i[c];if(lS.has(g))return c++,{type:Yt.OPERATOR,value:g};throw new Ca(`Unknown operator at position ${c}: ${i.substring(c,c+1)}`,c,i.substring(Math.max(0,c-10),c))}for(;c<o;){const g=i.charCodeAt(c);if(v=g,eje.has(v)){c++;continue}const m=eX.get(g);if(m)s[l++]=m,c++;else if(g!==34&&g!==39)if(Tv(g)||g===45&&c+1<o&&Tv(i.charCodeAt(c+1)))s[l++]=f();else if(g!==64)if(Vk(g))s[l++]=h();else{if(!aje(g))throw new Ca(`Unexpected character: ${i[c]}`,c,i.substring(Math.max(0,c-10),c));s[l++]=p()}else s[l++]=d();else s[l++]=u(g)}var v;return l===s.length?s:s.slice(0,l)})(e),n=cje(t),r=((a={},i={})=>({context:a,functions:i}))({},J$e);return(a={})=>uje(n,r,a)}const dje=["style","encode","labels","children"],hje=zW(e=>{const t=fje(e);return(...n)=>{const r=Array.from({length:n.length},(i,o)=>String.fromCharCode(97+o)),a=Object.fromEntries(n.map((i,o)=>[r[o],i]));return t(Object.assign(Object.assign({},a),{global:Object.assign({},a)}))}},e=>e,128);function xx(e,t=!0){if(Array.isArray(e))return e.map((n,r)=>xx(e[r],t));if(typeof e=="object"&&e)return QEe(e,(n,r)=>t&&dje.includes(r)?xx(n,r==="children"):t?n:xx(n,!1));if(typeof e=="string"){const n=e.trim();if(n.startsWith("{")&&n.endsWith("}"))return hje(n.slice(1,-1))}return e}const pje=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var vje={}.toString,Bw=function(e,t){return vje.call(e)==="[object "+t+"]"};const tX=function(e){return Bw(e,"Function")},nX=function(e){return Array.isArray?Array.isArray(e):Bw(e,"Array")},gje=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function mje(e,t){if(e){var n;if(nX(e))for(var r=0,a=e.length;r<a&&(n=t(e[r],r),n!==!1);r++);else if(gje(e)){for(var i in e)if(e.hasOwnProperty(i)&&(n=t(e[i],i),n===!1))break}}}var yje=function(e){return typeof e=="object"&&e!==null},CN=function(e){if(!yje(e)||!Bw(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};const xje=function(e){return Bw(e,"String")};var bje=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return mje(e,function(n,r){tX(e)&&r==="prototype"||t.push(n)}),t};const wje=function(e,t){if(!tX(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return o.set(i,s),s};return n.cache=new Map,n};var _je=5;function rX(e,t,n,r){n=n||0,r=r||_je;for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];i!==null&&CN(i)?(CN(e[a])||(e[a]={}),n<r?rX(e[a],i,n+1,r):e[a]=t[a]):nX(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var aX=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)rX(e,t[r]);return e};const t4=function(e){return e};var By;wje(function(e,t){t===void 0&&(t={});var n=t.fontSize,r=t.fontFamily,a=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return By||(By=document.createElement("canvas").getContext("2d")),By.font=[i,o,a,n+"px",r].join(" "),By.measureText(xje(e)?e:"").width},function(e,t){return t===void 0&&(t={}),RSe([e],bje(t)).join("")});function iX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?t.reduce(function(r,a){return function(i){return a(r(i))}},e):t4}function oX(e){return e instanceof Float32Array||e instanceof Array}var sX=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},lX=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function Eje(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=2){var a=[t[r],t[r+1]],i=e(a);n.push.apply(n,lX([],sX(i),!1))}return n}}function Sje(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=3){var a=[t[r],t[r+1],t[r+2]],i=e(a);n.push.apply(n,lX([],sX(i),!1))}return n}}function cX(e,t,n){for(;e<t;)e+=Math.PI*2;for(;e>n;)e-=Math.PI*2;return e}var Aje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},kje=function(e,t,n,r,a){var i=Aje(e,2),o=i[0],s=i[1],l=a0();return aSe(l,[o,s])},MN=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Tje=function(e,t,n,r,a){var i=new hr({range:[t,t+r]}),o=new hr({range:[n,n+a]});return{transform:function(s){var l=MN(s,2),c=l[0],u=l[1];return[i.map(c),o.map(u)]},untransform:function(s){var l=MN(s,2),c=l[0],u=l[1];return[i.invert(c),o.invert(u)]}}},Oje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Cje=function(e,t,n,r,a){var i=Oje(e,1),o=i[0];return o(t,n,r,a)},Mje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Pje=function(e,t,n,r,a){var i=Mje(e,1),o=i[0];return o},cS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Ije=function(e,t,n,r,a){var i=cS(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=new hr({range:[l,c]}),f=new hr({range:[o,s]}),d=a/r,h=d>1?1:d,p=d>1?1/d:1;return{transform:function(v){var g=cS(v,2),m=g[0],y=g[1],x=f.map(m),b=u.map(y),E=b*Math.cos(x)*h,_=b*Math.sin(x)*p,w=E*.5+.5,A=_*.5+.5;return[w,A]},untransform:function(v){var g=cS(v,2),m=g[0],y=g[1],x=(m-.5)*2/h,b=(y-.5)*2/p,E=Math.sqrt(Math.pow(x,2)+Math.pow(b,2)),_=Math.atan2(b,x),w=cX(_,o,s),A=f.invert(w),S=u.invert(E);return[A,S]}}},PN=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Rje=function(e,t,n,r,a){return{transform:function(i){var o=PN(i,2),s=o[0],l=o[1];return[l,s]},untransform:function(i){var o=PN(i,2),s=o[0],l=o[1];return[l,s]}}},Nje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},$w=function(e,t,n,r,a){var i=Nje(e,2),o=i[0],s=i[1],l=a0();return oSe(l,[o,s])},n4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},r4=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Dje=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $w.apply(void 0,r4([[-1,-1]],n4(t),!1))},Lje=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $w.apply(void 0,r4([[-1,1]],n4(t),!1))},Fje=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $w.apply(void 0,r4([[1,-1]],n4(t),!1))},Bje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},$je=function(e,t,n,r,a){var i=Bje(e,1),o=i[0],s=a0();return iSe(s,o)},uS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},jje=function(e,t,n,r,a){var i=uS(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=(s-0)/(2*Math.PI)+1,f=(c-l)/u,d=f/(Math.PI*2),h=new hr({range:[l,l+f*.99]}),p=new hr({range:[o,s]}),v=a/r,g=v>1?1:v,m=v>1?1/v:1;return{transform:function(y){var x=uS(y,2),b=x[0],E=x[1],_=p.map(b),w=h.map(E),A=Math.cos(_)*(d*_+w)*g,S=Math.sin(_)*(d*_+w)*m,k=A*.5+.5,T=S*.5+.5;return[k,T]},untransform:function(y){var x=uS(y,2),b=x[0],E=x[1],_=(b-.5)*2/g,w=(E-.5)*2/m,A=Math.sqrt(Math.pow(_,2)+Math.pow(w,2)),S=Math.atan2(w,_)+Math.floor(A/f)*Math.PI*2,k=cX(S,o,s),T=A-d*k,O=p.invert(k),C=h.invert(T);return[O,C]}}},zje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Uje=function(e,t,n,r,a){var i=zje(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=new hr({range:[l,c]});return{transform:function(f){for(var d=[],h=f.length,p=new Sj({domain:new Array(h).fill(0).map(function(x,b){return b}),range:[o,s]}),v=0;v<h;v++){var g=f[v],m=p.map(v),y=u.map(g);d.push(m,y)}return d},untransform:function(f){for(var d=[],h=0;h<f.length;h+=2){var p=f[h+1];d.push(u.invert(p))}return d}}},ph=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function uX(e){return 1/Math.tan(e)}var Hje=function(e,t,n,r,a){var i=ph(e,1),o=i[0],s=uX(o);return{transform:function(l){var c=ph(l,2),u=c[0],f=c[1],d=u+f*s;return[d,f]},untransform:function(l){var c=ph(l,2),u=c[0],f=c[1],d=u-f*s;return[d,f]}}},Gje=function(e,t,n,r,a){var i=ph(e,1),o=i[0],s=uX(o);return{transform:function(l){var c=ph(l,2),u=c[0],f=c[1],d=f+u*s;return[u,d]},untransform:function(l){var c=ph(l,2),u=c[0],f=c[1],d=f-u*s;return[u,d]}}},$s=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function rg(e,t,n,r,a){var i=e<t,o=(i?t-r:a-t)||a-r,s=i?-1:1;return s*o*(n+1)/(n+o/((e-t)*s))+t}function ag(e,t,n,r,a){var i=e<t,o=(i?t-r:a-t)||a-r,s=i?-1:1;return o/(o*(n+1)/(e-t)-n*s)+t}function Y2(e,t,n){if(!n)return e;var r=new hr({range:[0,1],domain:[0,t]});return r.map(e)}var Wje=function(e,t,n,r,a){var i=$s(e,3),o=i[0],s=i[1],l=i[2],c=l===void 0?!1:l,u=Y2(o,r,c);return{transform:function(f){var d=$s(f,2),h=d[0],p=d[1],v=rg(h,u,s,0,1);return[v,p]},untransform:function(f){var d=$s(f,2),h=d[0],p=d[1],v=ag(h,u,s,0,1);return[v,p]}}},Vje=function(e,t,n,r,a){var i=$s(e,3),o=i[0],s=i[1],l=i[2],c=l===void 0?!1:l,u=Y2(o,a,c);return{transform:function(f){var d=$s(f,2),h=d[0],p=d[1],v=rg(p,u,s,0,1);return[h,v]},untransform:function(f){var d=$s(f,2),h=d[0],p=d[1],v=ag(p,u,s,0,1);return[h,v]}}},Yje=function(e,t,n,r,a){var i=$s(e,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],f=u===void 0?!1:u,d=Y2(o,r,f),h=Y2(s,a,f);return{transform:function(p){var v=$s(p,2),g=v[0],m=v[1],y=rg(g,d,l,0,1),x=rg(m,h,c,0,1);return[y,x]},untransform:function(p){var v=$s(p,2),g=v[0],m=v[1],y=ag(g,d,l,0,1),x=ag(m,h,c,0,1);return[y,x]}}},Xje=function(e,t,n,r,a){var i=$s(e,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],f=u===void 0?!1:u,d=new hr({range:[0,r]}),h=new hr({range:[0,a]}),p=f?o:d.map(o),v=f?s:h.map(s);return{transform:function(g){var m=$s(g,2),y=m[0],x=m[1],b=d.map(y)-p,E=h.map(x)-v,_=Math.sqrt(b*b+E*E);if(_>l)return[y,x];var w=rg(_,0,c,0,l),A=Math.atan2(E,b),S=p+w*Math.cos(A),k=v+w*Math.sin(A);return[d.invert(S),h.invert(k)]},untransform:function(g){var m=$s(g,2),y=m[0],x=m[1],b=d.map(y)-p,E=h.map(x)-v,_=Math.sqrt(b*b+E*E);if(_>l)return[y,x];var w=ag(_,0,c,0,l),A=Math.atan2(E,b),S=p+w*Math.cos(A),k=v+w*Math.sin(A);return[d.invert(S),h.invert(k)]}}},IN=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},qje=function(e,t,n,r,a,i,o){var s=new hr({range:[t,t+a]}),l=new hr({range:[n,n+i]}),c=new hr({range:[r,r+o]});return{transform:function(u){var f=IN(u,3),d=f[0],h=f[1],p=f[2];return[s.map(d),l.map(h),c.map(p)]},untransform:function(u){var f=IN(u,3),d=f[0],h=f[1],p=f[2];return[s.invert(d),l.invert(h),c.invert(p)]}}},Kje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Zje=function(e,t,n,r,a,i,o){var s=Kje(e,3),l=s[0],c=s[1],u=s[2];return Wi(Dt(),[l,c,u])},RN=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Qje=function(e,t,n,r,a,i,o){return{transform:function(s){var l=RN(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]},untransform:function(s){var l=RN(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]}}},Jje=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},eze=function(e,t,n,r,a,i,o){var s=Jje(e,3),l=s[0],c=s[1],u=s[2];return Ko(Dt(),[l,c,u])},O0=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},C0=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},tze=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nze=function(){function e(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:Tje,translate:kje,custom:Cje,matrix:Pje,polar:Ije,transpose:Rje,scale:$w,"shear.x":Hje,"shear.y":Gje,reflect:Dje,"reflect.x":Lje,"reflect.y":Fje,rotate:$je,helix:jje,parallel:Uje,fisheye:Yje,"fisheye.x":Wje,"fisheye.y":Vje,"fisheye.circular":Xje},this.update(t)}return e.prototype.update=function(t){this.options=aX({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height;return[n,r]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,a=t.width,i=t.height;return[(n*2+a)/2,(r*2+i)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:C0(C0([],O0(r),!1),[C0([],O0(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var a=t?C0([],O0(this.options.transformations),!1).reverse():this.options.transformations,i=t?function(w){return w.untransform}:function(w){return w.transform},o=[],s=[],l=function(w,A){return A===void 0&&(A=!0),s.push(A?Eje(w):w)};try{for(var c=tze(a),u=c.next();!u.done;u=c.next()){var f=O0(u.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.width,x=v.height,b=p(C0([],O0(h),!1),g,m,y,x);if(oX(b))o.push(b);else{if(o.length){var E=this.createMatrixTransform(o,t);l(E),o.splice(0,o.length)}var _=i(b)||t4;l(_,d!=="parallel")}}}}catch(w){n={error:w}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var _=this.createMatrixTransform(o,t);l(_)}return iX.apply(void 0,C0([],O0(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=a0();return n&&t.reverse(),t.forEach(function(a){return sSe(r,r,a)}),n&&nSe(r,tSe(r)),function(a){var i=[a[0],a[1],1];return s3(i,i,r),[i[0],i[1]]}},e}(),M0=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},P0=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},rze=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aze=function(){function e(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:qje,translate3D:Zje,scale3D:eze,transpose3D:Qje},this.update(t)}return e.prototype.update=function(t){this.options=aX({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height,a=t.depth;return[n,r,a]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,a=t.z,i=t.width,o=t.height,s=t.depth;return[(n*2+i)/2,(r*2+o)/2,(a*2+s)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:P0(P0([],M0(r),!1),[P0([],M0(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var a=t?P0([],M0(this.options.transformations),!1).reverse():this.options.transformations,i=t?function(S){return S.untransform}:function(S){return S.transform},o=[],s=[],l=function(S,k){return k===void 0&&(k=!0),s.push(k?Sje(S):S)};try{for(var c=rze(a),u=c.next();!u.done;u=c.next()){var f=M0(u.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.z,x=v.width,b=v.height,E=v.depth,_=p(P0([],M0(h),!1),g,m,y,x,b,E);if(oX(_))o.push(_);else{if(o.length){var w=this.createMatrixTransform(o,t);l(w),o.splice(0,o.length)}var A=i(_)||t4;l(A,!0)}}}}catch(S){n={error:S}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var A=this.createMatrixTransform(o,t);l(A)}return iX.apply(void 0,P0([],M0(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=Dt();return n&&t.reverse(),t.forEach(function(a){return qb(r,r,a)}),n&&Ga(r,Xb(r)),function(a){var i=[a[0],a[1],a[2],1];return Va(i,i,r),[i[0],i[1],i[2]]}},e}(),ize=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function tm(e){return(t,...n)=>Ie({},e(t,...n),t)}function p0(e){return(t,...n)=>Ie({},t,e(t,...n))}function oze(e){return e instanceof Date?!1:typeof e=="object"}function a4(e,t){if(!e)return t;if(Array.isArray(e))return e;if(oze(e)){const{value:n=t}=e,r=ize(e,["value"]);return Object.assign(Object.assign({},r),{value:n})}return e}var sze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const fX=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{x:n=0,y:r=0,width:a,height:i,data:o}=e;return t.map(s=>{var{data:l,x:c,y:u,width:f,height:d}=s,h=sze(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},h),{data:a4(l,o),x:c??n,y:u??r,width:f??a,height:d??i})})};fX.props={};var lze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dX=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{direction:n="row",ratio:r=t.map(()=>1),padding:a=0,data:i}=e,[o,s,l,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((v,g)=>v+g),f=e[s]-a*(t.length-1),d=r.map(v=>f*(v/u)),h=[];let p=e[o]||0;for(let v=0;v<d.length;v+=1){const g=t[v],{data:m}=g,y=lze(g,["data"]),x=a4(m,i);h.push(Object.assign({[o]:p,[s]:d[v],[c]:e[c]||0,[l]:e[l],data:x},y)),p+=d[v]+a}return h};dX.props={};var fS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const hX=()=>e=>{const{children:t}=e,n=fS(e,["children"]);if(!Array.isArray(t))return[];const{data:r,scale:a={},axis:i={},legend:o={},encode:s={},transform:l=[]}=n,c=fS(n,["data","scale","axis","legend","encode","transform"]),u=t.map(f=>{var{data:d,scale:h={},axis:p={},legend:v={},encode:g={},transform:m=[]}=f,y=fS(f,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:a4(d,r),scale:Ie({},a,h),encode:Ie({},s,g),transform:[...l,...m],axis:p&&i?Ie({},i,p):!1,legend:v&&o?Ie({},o,v):!1},y)});return[Object.assign(Object.assign({},c),{marks:u,type:"standardView"})]};hX.props={};var cze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const pX=({static:e=!1}={})=>t=>{const{width:n,height:r,depth:a,paddingLeft:i,paddingRight:o,paddingTop:s,paddingBottom:l,padding:c,inset:u,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:x,data:b,coordinate:E,theme:_,component:w,interaction:A,x:S,y:k,z:T,key:O,frame:C,labelTransform:M,parentKey:R,clip:I,viewStyle:P,title:B}=t,N=cze(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:S,y:k,z:T,key:O,width:n,height:r,depth:a,padding:c,paddingLeft:i,paddingRight:o,paddingTop:s,inset:u,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,paddingBottom:l,theme:_,coordinate:E,component:w,interaction:A,frame:C,labelTransform:M,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:x,parentKey:R,clip:I,style:P},!e&&{title:B}),{marks:[Object.assign(Object.assign(Object.assign({},N),{key:`${O}-0`,data:b}),e&&{title:B})]})]};pX.props={};class nm{constructor(t){this.$value=t}static of(t){return new nm(t)}call(t,...n){return this.$value=t(this.$value,...n),this}value(){return this.$value}}var uze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const fze=tm(e=>{const{encode:t,data:n,scale:r,shareSize:a=!1}=e,{x:i,y:o}=t,s=(l,c)=>{var u;if(l===void 0||!a)return{};const f=ur(n,p=>p[l]),d=((u=r==null?void 0:r[c])===null||u===void 0?void 0:u.domain)||Array.from(f.keys()),h=d.map(p=>f.has(p)?f.get(p).length:1);return{domain:d,flex:h}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:i===void 0?null:{position:"top"}},i===void 0&&{paddingInner:0}),s(i,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),i4=p0(e=>{const{data:t,scale:n,legend:r}=e,a=[e];let i,o,s;for(;a.length;){const d=a.shift(),{children:h,encode:p={},scale:v={},legend:g={}}=d,{color:m}=p,{color:y}=v,{color:x}=g;m!==void 0&&(i=m),y!==void 0&&(o=y),x!==void 0&&(s=x),Array.isArray(h)&&a.push(...h)}const l=()=>{var d;const h=(d=n==null?void 0:n.color)===null||d===void 0?void 0:d.domain;if(h!==void 0)return[h];if(i===void 0)return[void 0];const p=typeof i=="function"?i:g=>g[i],v=t.map(p);return v.some(g=>typeof g=="number")?[su(v)]:[Array.from(new Set(v)),"ordinal"]},c=typeof i=="string"?i:"",[u,f]=l();return Object.assign({encode:{color:{type:"column",value:u??[]}},scale:{color:Ie({},o,{domain:u,type:f})}},r===void 0&&{legend:{color:Ie({title:c},s)}})}),o4=tm(()=>({animate:{enterType:"fadeIn"}})),s4=p0(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),l4=p0(()=>({type:"cell"})),vX=p0(e=>{const{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{const{data:r,encode:a}=e,{x:i,y:o}=a,s=i?Array.from(new Set(r.map(u=>u[i]))):[],l=o?Array.from(new Set(r.map(u=>u[o]))):[];return(()=>{if(s.length&&l.length){const u=[];for(const f of s)for(const d of l)u.push({[i]:f,[o]:d});return u}if(s.length)return s.map(u=>({[i]:u}));if(l.length)return l.map(u=>({[o]:u}))})()}}]}}}),gX=p0((e,t=dze,n=hze,r=pze,a={})=>{const{data:i,encode:o,children:s,scale:l,x:c=0,y:u=0,shareData:f=!1,key:d}=e,{value:h}=i,{x:p,y:v}=o,{color:g}=l,{domain:m}=g;return{children:(x,b,E)=>{const{x:_,y:w}=b,{paddingLeft:A,paddingTop:S,marginLeft:k,marginTop:T}=E,{domain:O}=_.getOptions(),{domain:C}=w.getOptions(),M=i0(x),R=x.map(t),I=x.map(({x:z,y:j})=>[_.invert(z),w.invert(j)]),B=I.map(([z,j])=>L=>{const{[p]:F,[v]:H}=L;return(p!==void 0?F===z:!0)&&(v!==void 0?H===j:!0)}).map(z=>h.filter(z)),N=f?Fn(B,z=>z.length):void 0,V=I.map(([z,j])=>({columnField:p,columnIndex:O.indexOf(z),columnValue:z,columnValuesLength:O.length,rowField:v,rowIndex:C.indexOf(j),rowValue:j,rowValuesLength:C.length})),W=V.map(z=>Array.isArray(s)?s:[s(z)].flat(1));return M.flatMap(z=>{const[j,L,F,H]=R[z],D=V[z],G=B[z];return W[z].map(re=>{var ie,U,{scale:q,key:Q,facet:X=!0,axis:ce={},legend:te={}}=re,pe=uze(re,["scale","key","facet","axis","legend"]);const me=((ie=q==null?void 0:q.y)===null||ie===void 0?void 0:ie.guide)||ce.y,Ee=((U=q==null?void 0:q.x)===null||U===void 0?void 0:U.guide)||ce.x,ke={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},Ue=X?G:G.length===0?[]:h,fe={color:{domain:m}},xe={x:NN(Ee,n)(D,Ue),y:NN(me,r)(D,Ue)};return Object.assign(Object.assign({key:`${Q}-${z}`,data:Ue,margin:0,x:j+A+c+k,y:L+S+u+T,parentKey:d,width:F,height:H,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Ue.length,dataDomain:N,scale:Ie(ke,q,fe),axis:Ie({},ce,xe),legend:!1},pe),a)})})}}});function dze(e){const{points:t}=e;return O3(t)}function jw(e,t){return t.length?Ie({title:!1,tick:null,label:null},e):Ie({title:!1,tick:null,label:null,grid:null},e)}function hze(e){return(t,n)=>{const{rowIndex:r,rowValuesLength:a,columnIndex:i,columnValuesLength:o}=t;if(r!==a-1)return jw(e,n);const s=i!==o-1?!1:void 0,l=n.length?void 0:null;return Ie({title:s,grid:l},e)}}function pze(e){return(t,n)=>{const{rowIndex:r,columnIndex:a}=t;if(a!==0)return jw(e,n);const i=r!==0?!1:void 0,o=n.length?void 0:null;return Ie({title:i,grid:o},e)}}function NN(e,t){return typeof e=="function"?e:e===null||e===!1?()=>null:t(e)}const mX=()=>e=>[nm.of(e).call(l4).call(i4).call(o4).call(fze).call(s4).call(vX).call(gX).value()];mX.props={};var Yk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const vze=tm(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),gze=p0(e=>{const{data:t,children:n,x:r=0,y:a=0,key:i}=e;return{children:(s,l,c)=>{const{x:u,y:f}=l,{paddingLeft:d,paddingTop:h,marginLeft:p,marginTop:v}=c,{domain:g}=u.getOptions(),{domain:m}=f.getOptions(),y=i0(s),x=s.map(({points:w})=>O3(w)),b=s.map(({x:w,y:A})=>[u.invert(w),f.invert(A)]),E=b.map(([w,A])=>({columnField:w,columnIndex:g.indexOf(w),columnValue:w,columnValuesLength:g.length,rowField:A,rowIndex:m.indexOf(A),rowValue:A,rowValuesLength:m.length})),_=E.map(w=>Array.isArray(n)?n:[n(w)].flat(1));return y.flatMap(w=>{const[A,S,k,T]=x[w],[O,C]=b[w],M=E[w];return _[w].map(I=>{var P,B;const{scale:N,key:V,encode:W,axis:z,interaction:j}=I,L=Yk(I,["scale","key","encode","axis","interaction"]),F=(P=N==null?void 0:N.y)===null||P===void 0?void 0:P.guide,H=(B=N==null?void 0:N.x)===null||B===void 0?void 0:B.guide,D={x:{facet:!1},y:{facet:!1}},G={x:yze(H)(M,t),y:xze(F)(M,t)},K={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:t,parentKey:i,key:`${V}-${w}`,x:A+d+r+p,y:S+h+a+v,width:k,height:T,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Ie(D,N),axis:Ie(K,z,G),legend:!1,encode:Ie({},W,{x:O,y:C}),interaction:Ie({},j,{legendFilter:!1})},L)})})}}}),mze=p0(e=>{const{encode:t}=e,n=Yk(e,["encode"]),{position:r=[],x:a=r,y:i=[...r].reverse()}=t,o=Yk(t,["position","x","y"]),s=[];for(const l of[a].flat(1))for(const c of[i].flat(1))s.push({$x:l,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[a].flat(1).length===1&&{x:{paddingInner:0}}),[i].flat(1).length===1&&{y:{paddingInner:0}})})});function yze(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{rowIndex:r,rowValuesLength:a}=t;if(r!==a-1)return jw(e,n)}}function xze(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{columnIndex:r}=t;if(r!==0)return jw(e,n)}}const bze=()=>e=>[nm.of(e).call(l4).call(i4).call(gze).call(mze).call(o4).call(s4).call(vze).value()];var wze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const _ze=tm(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Eze=tm(e=>({coordinate:{type:"polar"}})),Sze=e=>{const{encode:t}=e,n=wze(e,["encode"]),{position:r}=t;return Object.assign(Object.assign({},n),{encode:{x:r}})};function DN(e){return t=>null}function Aze(e){const{points:t}=e,[n,r,a,i]=t,o=jr(n,i),s=Jr(n,i),l=Jr(r,a),c=wz(s,l),u=1/Math.sin(c/2),f=o/(1+u),d=f*Math.sqrt(2),[h,p]=a,g=Gh(s)+c/2,m=f*u,y=h+m*Math.sin(g),x=p-m*Math.cos(g);return[y-d/2,x-d/2,d,d]}const kze=()=>e=>[nm.of(e).call(l4).call(Sze).call(i4).call(Eze).call(vX).call(gX,Aze,DN,DN,{frame:!1}).call(o4).call(s4).call(_ze).value()];function Tze(e,t,n){const a=n,i=[0,a],o=[-a+1,1];if(e==="normal")return i;if(e==="reverse")return o;if(e==="alternate")return t%2===0?i:o;if(e==="reverse-alternate")return t%2===0?o:i}function Oze(e,t,n){const r=[e];for(;r.length;){const a=r.pop();a.animate=Ie({enter:{duration:t},update:{duration:t,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},a.animate||{});const{children:i}=a;Array.isArray(i)&&r.push(...i)}return e}const yX=()=>e=>{const{children:t=[],duration:n=1e3,iterationCount:r=1,direction:a="normal",easing:i="ease-in-out-sine"}=e,o=t.length;if(!Array.isArray(t)||o===0)return[];const{key:s}=t[0],l=t.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>Oze(c,n,i));return function*(){let c=0,u;for(;r==="infinite"||c<r;){const[f,d]=Tze(a,c,o);for(let h=f;h<d;h+=1){const p=Math.abs(h);u!==p&&(yield l[p]),u=p}c++}}};yX.props={};var Cze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const xX=()=>e=>{const{type:t,data:n,scale:r,encode:a,style:i,animate:o,key:s,state:l,tooltip:c}=e,u=Cze(e,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},u),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:a,style:i,animate:o,state:l,tooltip:c}]})]};xX.props={};var Ut=1e-6,Mze=1e-12,hn=Math.PI,ia=hn/2,LN=hn/4,ss=hn*2,Fi=180/hn,Zr=hn/180,Rn=Math.abs,kp=Math.atan,yu=Math.atan2,cn=Math.cos,$y=Math.ceil,bX=Math.exp,X2=Math.log,dS=Math.pow,Qt=Math.sin,Rs=Math.sign||function(e){return e>0?1:e<0?-1:0},zo=Math.sqrt,c4=Math.tan;function wX(e){return e>1?0:e<-1?hn:Math.acos(e)}function Hs(e){return e>1?ia:e<-1?-ia:Math.asin(e)}function Ns(){}function q2(e,t){e&&BN.hasOwnProperty(e.type)&&BN[e.type](e,t)}var FN={Feature:function(e,t){q2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)q2(n[r].geometry,t)}},BN={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Xk(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Xk(n[r],t,0)},Polygon:function(e,t){$N(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)$N(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)q2(n[r],t)}};function Xk(e,t,n){var r=-1,a=e.length-n,i;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function $N(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Xk(e[n],t,1);t.polygonEnd()}function $0(e,t){e&&FN.hasOwnProperty(e.type)?FN[e.type](e,t):q2(e,t)}function qk(e){return[yu(e[1],e[0]),Hs(e[2])]}function ap(e){var t=e[0],n=e[1],r=cn(n);return[r*cn(t),r*Qt(t),Qt(n)]}function jy(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function K2(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function hS(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function zy(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Kk(e){var t=zo(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Zk(e,t){function n(r,a){return r=e(r,a),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,a){return r=t.invert(r,a),r&&e.invert(r[0],r[1])}),n}function Qk(e,t){return Rn(e)>hn&&(e-=Math.round(e/ss)*ss),[e,t]}Qk.invert=Qk;function _X(e,t,n){return(e%=ss)?t||n?Zk(zN(e),UN(t,n)):zN(e):t||n?UN(t,n):Qk}function jN(e){return function(t,n){return t+=e,Rn(t)>hn&&(t-=Math.round(t/ss)*ss),[t,n]}}function zN(e){var t=jN(e);return t.invert=jN(-e),t}function UN(e,t){var n=cn(e),r=Qt(e),a=cn(t),i=Qt(t);function o(s,l){var c=cn(l),u=cn(s)*c,f=Qt(s)*c,d=Qt(l),h=d*n+u*r;return[yu(f*a-h*i,u*n-d*r),Hs(h*a+f*i)]}return o.invert=function(s,l){var c=cn(l),u=cn(s)*c,f=Qt(s)*c,d=Qt(l),h=d*a-f*i;return[yu(f*a+d*i,u*n+h*r),Hs(h*n-u*r)]},o}function Pze(e){e=_X(e[0]*Zr,e[1]*Zr,e.length>2?e[2]*Zr:0);function t(n){return n=e(n[0]*Zr,n[1]*Zr),n[0]*=Fi,n[1]*=Fi,n}return t.invert=function(n){return n=e.invert(n[0]*Zr,n[1]*Zr),n[0]*=Fi,n[1]*=Fi,n},t}function Ize(e,t,n,r,a,i){if(n){var o=cn(t),s=Qt(t),l=r*n;a==null?(a=t+r*ss,i=t-l/2):(a=HN(o,a),i=HN(o,i),(r>0?a<i:a>i)&&(a+=r*ss));for(var c,u=a;r>0?u>i:u<i;u-=l)c=qk([o,-s*cn(u),-s*Qt(u)]),e.point(c[0],c[1])}}function HN(e,t){t=ap(t),t[0]-=e,Kk(t);var n=wX(-t[1]);return((-t[2]<0?-n:n)+ss-Ut)%ss}function EX(){var e=[],t;return{point:function(n,r,a){t.push([n,r,a])},lineStart:function(){e.push(t=[])},lineEnd:Ns,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function bx(e,t){return Rn(e[0]-t[0])<Ut&&Rn(e[1]-t[1])<Ut}function Uy(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function SX(e,t,n,r,a){var i=[],o=[],s,l;if(e.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],m=p[v],y;if(bx(g,m)){if(!g[2]&&!m[2]){for(a.lineStart(),s=0;s<v;++s)a.point((g=p[s])[0],g[1]);a.lineEnd();return}m[0]+=2*Ut}i.push(y=new Uy(g,p,null,!0)),o.push(y.o=new Uy(g,null,y,!1)),i.push(y=new Uy(m,p,null,!1)),o.push(y.o=new Uy(m,null,y,!0))}}),!!i.length){for(o.sort(t),GN(i),GN(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=i[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=u.length;s<l;++s)a.point((f=u[s])[0],f[1]);else r(d.x,d.n.x,1,a);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;s>=0;--s)a.point((f=u[s])[0],f[1]);else r(d.x,d.p.x,-1,a);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);a.lineEnd()}}}function GN(e){if(t=e.length){for(var t,n=0,r=e[0],a;++n<t;)r.n=a=e[n],a.p=r,r=a;r.n=a=e[0],a.p=r}}function pS(e){return Rn(e[0])<=hn?e[0]:Rs(e[0])*((Rn(e[0])+hn)%ss-hn)}function Rze(e,t){var n=pS(t),r=t[1],a=Qt(r),i=[Qt(n),-cn(n),0],o=0,s=0,l=new Nd;a===1?r=ia+Ut:a===-1&&(r=-ia-Ut);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=pS(h),v=h[1]/2+LN,g=Qt(v),m=cn(v),y=0;y<d;++y,p=b,g=_,m=w,h=x){var x=f[y],b=pS(x),E=x[1]/2+LN,_=Qt(E),w=cn(E),A=b-p,S=A>=0?1:-1,k=S*A,T=k>hn,O=g*_;if(l.add(yu(O*S*Qt(k),m*w+O*cn(k))),o+=T?A+S*ss:A,T^p>=n^b>=n){var C=K2(ap(h),ap(x));Kk(C);var M=K2(i,C);Kk(M);var R=(T^A>=0?-1:1)*Hs(M[2]);(r>R||r===R&&(C[0]||C[1]))&&(s+=T^A>=0?1:-1)}}return(o<-1e-6||o<Ut&&l<-1e-12)^s&1}function AX(e,t,n,r){return function(a){var i=t(a),o=EX(),s=t(o),l=!1,c,u,f,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=x,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,u=sj(u);var b=Rze(c,r);u.length?(l||(a.polygonStart(),l=!0),SX(u,Dze,b,n,a)):b&&(l||(a.polygonStart(),l=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),u=c=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(b,E){e(b,E)&&a.point(b,E)}function p(b,E){i.point(b,E)}function v(){d.point=p,i.lineStart()}function g(){d.point=h,i.lineEnd()}function m(b,E){f.push([b,E]),s.point(b,E)}function y(){s.lineStart(),f=[]}function x(){m(f[0][0],f[0][1]),s.lineEnd();var b=s.clean(),E=o.result(),_,w=E.length,A,S,k;if(f.pop(),c.push(f),f=null,!!w){if(b&1){if(S=E[0],(A=S.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),_=0;_<A;++_)a.point((k=S[_])[0],k[1]);a.lineEnd()}return}w>1&&b&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(Nze))}}return d}}function Nze(e){return e.length>1}function Dze(e,t){return((e=e.x)[0]<0?e[1]-ia-Ut:ia-e[1])-((t=t.x)[0]<0?t[1]-ia-Ut:ia-t[1])}const WN=AX(function(){return!0},Lze,Bze,[-hn,-ia]);function Lze(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(i,o){var s=i>0?hn:-hn,l=Rn(i-t);Rn(l-hn)<Ut?(e.point(t,n=(n+o)/2>0?ia:-ia),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(i,n),a=0):r!==s&&l>=hn&&(Rn(t-r)<Ut&&(t-=r*Ut),Rn(i-s)<Ut&&(i-=s*Ut),n=Fze(t,n,i,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),a=0),e.point(t=i,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-a}}}function Fze(e,t,n,r){var a,i,o=Qt(e-n);return Rn(o)>Ut?kp((Qt(t)*(i=cn(r))*Qt(n)-Qt(r)*(a=cn(t))*Qt(e))/(a*i*o)):(t+r)/2}function Bze(e,t,n,r){var a;if(e==null)a=n*ia,r.point(-hn,a),r.point(0,a),r.point(hn,a),r.point(hn,0),r.point(hn,-a),r.point(0,-a),r.point(-hn,-a),r.point(-hn,0),r.point(-hn,a);else if(Rn(e[0]-t[0])>Ut){var i=e[0]<t[0]?hn:-hn;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function $ze(e){var t=cn(e),n=2*Zr,r=t>0,a=Rn(t)>Ut;function i(u,f,d,h){Ize(h,e,n,d,u,f)}function o(u,f){return cn(u)*cn(f)>t}function s(u){var f,d,h,p,v;return{lineStart:function(){p=h=!1,v=1},point:function(g,m){var y=[g,m],x,b=o(g,m),E=r?b?0:c(g,m):b?c(g+(g<0?hn:-hn),m):0;if(!f&&(p=h=b)&&u.lineStart(),b!==h&&(x=l(f,y),(!x||bx(f,x)||bx(y,x))&&(y[2]=1)),b!==h)v=0,b?(u.lineStart(),x=l(y,f),u.point(x[0],x[1])):(x=l(f,y),u.point(x[0],x[1],2),u.lineEnd()),f=x;else if(a&&f&&r^b){var _;!(E&d)&&(_=l(y,f,!0))&&(v=0,r?(u.lineStart(),u.point(_[0][0],_[0][1]),u.point(_[1][0],_[1][1]),u.lineEnd()):(u.point(_[1][0],_[1][1]),u.lineEnd(),u.lineStart(),u.point(_[0][0],_[0][1],3)))}b&&(!f||!bx(f,y))&&u.point(y[0],y[1]),f=y,h=b,d=E},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return v|(p&&h)<<1}}}function l(u,f,d){var h=ap(u),p=ap(f),v=[1,0,0],g=K2(h,p),m=jy(g,g),y=g[0],x=m-y*y;if(!x)return!d&&u;var b=t*m/x,E=-t*y/x,_=K2(v,g),w=zy(v,b),A=zy(g,E);hS(w,A);var S=_,k=jy(w,S),T=jy(S,S),O=k*k-T*(jy(w,w)-1);if(!(O<0)){var C=zo(O),M=zy(S,(-k-C)/T);if(hS(M,w),M=qk(M),!d)return M;var R=u[0],I=f[0],P=u[1],B=f[1],N;I<R&&(N=R,R=I,I=N);var V=I-R,W=Rn(V-hn)<Ut,z=W||V<Ut;if(!W&&B<P&&(N=P,P=B,B=N),z?W?P+B>0^M[1]<(Rn(M[0]-R)<Ut?P:B):P<=M[1]&&M[1]<=B:V>hn^(R<=M[0]&&M[0]<=I)){var j=zy(S,(-k+C)/T);return hS(j,w),[M,qk(j)]}}}function c(u,f){var d=r?e:hn-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return AX(o,s,i,r?[0,-e]:[-hn,e-hn])}function jze(e,t,n,r,a,i){var o=e[0],s=e[1],l=t[0],c=t[1],u=0,f=1,d=l-o,h=c-s,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=o+u*d,e[1]=s+u*h),f<1&&(t[0]=o+f*d,t[1]=s+f*h),!0}}}}}var Hy=1e9,Gy=-1e9;function kX(e,t,n,r){function a(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function i(c,u,f,d){var h=0,p=0;if(c==null||(h=o(c,f))!==(p=o(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(u[0],u[1])}function o(c,u){return Rn(c[0]-e)<Ut?u>0?0:3:Rn(c[0]-n)<Ut?u>0?2:1:Rn(c[1]-t)<Ut?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),d=o(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=EX(),d,h,p,v,g,m,y,x,b,E,_,w={point:A,lineStart:O,lineEnd:C,polygonStart:k,polygonEnd:T};function A(R,I){a(R,I)&&u.point(R,I)}function S(){for(var R=0,I=0,P=h.length;I<P;++I)for(var B=h[I],N=1,V=B.length,W=B[0],z,j,L=W[0],F=W[1];N<V;++N)z=L,j=F,W=B[N],L=W[0],F=W[1],j<=r?F>r&&(L-z)*(r-j)>(F-j)*(e-z)&&++R:F<=r&&(L-z)*(r-j)<(F-j)*(e-z)&&--R;return R}function k(){u=f,d=[],h=[],_=!0}function T(){var R=S(),I=_&&R,P=(d=sj(d)).length;(I||P)&&(c.polygonStart(),I&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),P&&SX(d,s,R,i,c),c.polygonEnd()),u=c,d=h=p=null}function O(){w.point=M,h&&h.push(p=[]),E=!0,b=!1,y=x=NaN}function C(){d&&(M(v,g),m&&b&&f.rejoin(),d.push(f.result())),w.point=A,b&&u.lineEnd()}function M(R,I){var P=a(R,I);if(h&&p.push([R,I]),E)v=R,g=I,m=P,E=!1,P&&(u.lineStart(),u.point(R,I));else if(P&&b)u.point(R,I);else{var B=[y=Math.max(Gy,Math.min(Hy,y)),x=Math.max(Gy,Math.min(Hy,x))],N=[R=Math.max(Gy,Math.min(Hy,R)),I=Math.max(Gy,Math.min(Hy,I))];jze(B,N,e,t,n,r)?(b||(u.lineStart(),u.point(B[0],B[1])),u.point(N[0],N[1]),P||u.lineEnd(),_=!1):P&&(u.lineStart(),u.point(R,I),_=!1)}y=R,x=I,b=P}return w}}function VN(e,t,n){var r=G0(e,t-Ut,n).concat(t);return function(a){return r.map(function(i){return[a,i]})}}function YN(e,t,n){var r=G0(e,t-Ut,n).concat(t);return function(a){return r.map(function(i){return[i,a]})}}function zze(){var e,t,n,r,a,i,o,s,l=10,c=l,u=90,f=360,d,h,p,v,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return G0($y(r/u)*u,n,u).map(p).concat(G0($y(s/f)*f,o,f).map(v)).concat(G0($y(t/l)*l,e,l).filter(function(x){return Rn(x%u)>Ut}).map(d)).concat(G0($y(i/c)*c,a,c).filter(function(x){return Rn(x%f)>Ut}).map(h))}return m.lines=function(){return y().map(function(x){return{type:"LineString",coordinates:x}})},m.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(v(o).slice(1),p(n).reverse().slice(1),v(s).reverse().slice(1))]}},m.extent=function(x){return arguments.length?m.extentMajor(x).extentMinor(x):m.extentMinor()},m.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],s=+x[0][1],o=+x[1][1],r>n&&(x=r,r=n,n=x),s>o&&(x=s,s=o,o=x),m.precision(g)):[[r,s],[n,o]]},m.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],i=+x[0][1],a=+x[1][1],t>e&&(x=t,t=e,e=x),i>a&&(x=i,i=a,a=x),m.precision(g)):[[t,i],[e,a]]},m.step=function(x){return arguments.length?m.stepMajor(x).stepMinor(x):m.stepMinor()},m.stepMajor=function(x){return arguments.length?(u=+x[0],f=+x[1],m):[u,f]},m.stepMinor=function(x){return arguments.length?(l=+x[0],c=+x[1],m):[l,c]},m.precision=function(x){return arguments.length?(g=+x,d=VN(i,a,90),h=YN(t,e,g),p=VN(s,o,90),v=YN(r,n,g),m):g},m.extentMajor([[-180,-90+Ut],[180,90-Ut]]).extentMinor([[-180,-80-Ut],[180,80+Ut]])}function Uze(){return zze()()}const ig=e=>e;var vS=new Nd,Jk=new Nd,TX,OX,eT,tT,Zc={point:Ns,lineStart:Ns,lineEnd:Ns,polygonStart:function(){Zc.lineStart=Hze,Zc.lineEnd=Wze},polygonEnd:function(){Zc.lineStart=Zc.lineEnd=Zc.point=Ns,vS.add(Rn(Jk)),Jk=new Nd},result:function(){var e=vS/2;return vS=new Nd,e}};function Hze(){Zc.point=Gze}function Gze(e,t){Zc.point=CX,TX=eT=e,OX=tT=t}function CX(e,t){Jk.add(tT*e-eT*t),eT=e,tT=t}function Wze(){CX(TX,OX)}var ip=1/0,Z2=ip,og=-ip,Q2=og,J2={point:Vze,lineStart:Ns,lineEnd:Ns,polygonStart:Ns,polygonEnd:Ns,result:function(){var e=[[ip,Z2],[og,Q2]];return og=Q2=-(Z2=ip=1/0),e}};function Vze(e,t){e<ip&&(ip=e),e>og&&(og=e),t<Z2&&(Z2=t),t>Q2&&(Q2=t)}var nT=0,rT=0,Ov=0,eb=0,tb=0,Y0=0,aT=0,iT=0,Cv=0,MX,PX,oc,sc,Ms={point:Gd,lineStart:XN,lineEnd:qN,polygonStart:function(){Ms.lineStart=qze,Ms.lineEnd=Kze},polygonEnd:function(){Ms.point=Gd,Ms.lineStart=XN,Ms.lineEnd=qN},result:function(){var e=Cv?[aT/Cv,iT/Cv]:Y0?[eb/Y0,tb/Y0]:Ov?[nT/Ov,rT/Ov]:[NaN,NaN];return nT=rT=Ov=eb=tb=Y0=aT=iT=Cv=0,e}};function Gd(e,t){nT+=e,rT+=t,++Ov}function XN(){Ms.point=Yze}function Yze(e,t){Ms.point=Xze,Gd(oc=e,sc=t)}function Xze(e,t){var n=e-oc,r=t-sc,a=zo(n*n+r*r);eb+=a*(oc+e)/2,tb+=a*(sc+t)/2,Y0+=a,Gd(oc=e,sc=t)}function qN(){Ms.point=Gd}function qze(){Ms.point=Zze}function Kze(){IX(MX,PX)}function Zze(e,t){Ms.point=IX,Gd(MX=oc=e,PX=sc=t)}function IX(e,t){var n=e-oc,r=t-sc,a=zo(n*n+r*r);eb+=a*(oc+e)/2,tb+=a*(sc+t)/2,Y0+=a,a=sc*e-oc*t,aT+=a*(oc+e),iT+=a*(sc+t),Cv+=a*3,Gd(oc=e,sc=t)}function RX(e){this._context=e}RX.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ss);break}}},result:Ns};var oT=new Nd,gS,NX,DX,Mv,Pv,sg={point:Ns,lineStart:function(){sg.point=Qze},lineEnd:function(){gS&&LX(NX,DX),sg.point=Ns},polygonStart:function(){gS=!0},polygonEnd:function(){gS=null},result:function(){var e=+oT;return oT=new Nd,e}};function Qze(e,t){sg.point=LX,NX=Mv=e,DX=Pv=t}function LX(e,t){Mv-=e,Pv-=t,oT.add(zo(Mv*Mv+Pv*Pv)),Mv=e,Pv=t}let KN,nb,ZN,QN;class JN{constructor(t){this._append=t==null?FX:Jze(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ZN||this._append!==nb){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ZN=r,nb=this._append,QN=this._,this._=a}this._+=QN;break}}}result(){const t=this._;return this._="",t.length?t:null}}function FX(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jze(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return FX;if(t!==KN){const n=10**t;KN=t,nb=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}return nb}function BX(e,t){let n=3,r=4.5,a,i;function o(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),$0(s,a(i))),i.result()}return o.area=function(s){return $0(s,a(Zc)),Zc.result()},o.measure=function(s){return $0(s,a(sg)),sg.result()},o.bounds=function(s){return $0(s,a(J2)),J2.result()},o.centroid=function(s){return $0(s,a(Ms)),Ms.result()},o.projection=function(s){return arguments.length?(a=s==null?(e=null,ig):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new JN(n)):new RX(t=s),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(i=new JN(n)),o},o.projection(e).digits(n).context(t)}function zw(e){return function(t){var n=new sT;for(var r in e)n[r]=e[r];return n.stream=t,n}}function sT(){}sT.prototype={constructor:sT,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function u4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),$0(n,e.stream(J2)),t(J2.result()),r!=null&&e.clipExtent(r),e}function Uw(e,t,n){return u4(e,function(r){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(a/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),s=+t[0][0]+(a-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function f4(e,t,n){return Uw(e,[[0,0],t],n)}function d4(e,t,n){return u4(e,function(r){var a=+t,i=a/(r[1][0]-r[0][0]),o=(a-i*(r[1][0]+r[0][0]))/2,s=-i*r[0][1];e.scale(150*i).translate([o,s])},n)}function h4(e,t,n){return u4(e,function(r){var a=+t,i=a/(r[1][1]-r[0][1]),o=-i*r[0][0],s=(a-i*(r[1][1]+r[0][1]))/2;e.scale(150*i).translate([o,s])},n)}var eD=16,eUe=cn(30*Zr);function tD(e,t){return+t?nUe(e,t):tUe(e)}function tUe(e){return zw({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function nUe(e,t){function n(r,a,i,o,s,l,c,u,f,d,h,p,v,g){var m=c-r,y=u-a,x=m*m+y*y;if(x>4*t&&v--){var b=o+d,E=s+h,_=l+p,w=zo(b*b+E*E+_*_),A=Hs(_/=w),S=Rn(Rn(_)-1)<Ut||Rn(i-f)<Ut?(i+f)/2:yu(E,b),k=e(S,A),T=k[0],O=k[1],C=T-r,M=O-a,R=y*C-m*M;(R*R/x>t||Rn((m*C+y*M)/x-.5)>.3||o*d+s*h+l*p<eUe)&&(n(r,a,i,o,s,l,T,O,S,b/=w,E/=w,_,v,g),g.point(T,O),n(T,O,S,b,E,_,c,u,f,d,h,p,v,g))}}return function(r){var a,i,o,s,l,c,u,f,d,h,p,v,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=E},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function m(A,S){A=e(A,S),r.point(A[0],A[1])}function y(){f=NaN,g.point=x,r.lineStart()}function x(A,S){var k=ap([A,S]),T=e(A,S);n(f,d,u,h,p,v,f=T[0],d=T[1],u=A,h=k[0],p=k[1],v=k[2],eD,r),r.point(f,d)}function b(){g.point=m,r.lineEnd()}function E(){y(),g.point=_,g.lineEnd=w}function _(A,S){x(a=A,S),i=f,o=d,s=h,l=p,c=v,g.point=x}function w(){n(f,d,u,h,p,v,i,o,a,s,l,c,eD,r),g.lineEnd=b,b()}return g}}var rUe=zw({point:function(e,t){this.stream.point(e*Zr,t*Zr)}});function aUe(e){return zw({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function iUe(e,t,n,r,a){function i(o,s){return o*=r,s*=a,[t+e*o,n-e*s]}return i.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*a]},i}function nD(e,t,n,r,a,i){if(!i)return iUe(e,t,n,r,a);var o=cn(i),s=Qt(i),l=o*e,c=s*e,u=o/e,f=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function p(v,g){return v*=r,g*=a,[l*v-c*g+t,n-c*v-l*g]}return p.invert=function(v,g){return[r*(u*v-f*g+d),a*(h-f*v-u*g)]},p}function Dc(e){return p4(function(){return e})()}function p4(e){var t,n=150,r=480,a=250,i=0,o=0,s=0,l=0,c=0,u,f=0,d=1,h=1,p=null,v=WN,g=null,m,y,x,b=ig,E=.5,_,w,A,S,k;function T(R){return A(R[0]*Zr,R[1]*Zr)}function O(R){return R=A.invert(R[0],R[1]),R&&[R[0]*Fi,R[1]*Fi]}T.stream=function(R){return S&&k===R?S:S=rUe(aUe(u)(v(_(b(k=R)))))},T.preclip=function(R){return arguments.length?(v=R,p=void 0,M()):v},T.postclip=function(R){return arguments.length?(b=R,g=m=y=x=null,M()):b},T.clipAngle=function(R){return arguments.length?(v=+R?$ze(p=R*Zr):(p=null,WN),M()):p*Fi},T.clipExtent=function(R){return arguments.length?(b=R==null?(g=m=y=x=null,ig):kX(g=+R[0][0],m=+R[0][1],y=+R[1][0],x=+R[1][1]),M()):g==null?null:[[g,m],[y,x]]},T.scale=function(R){return arguments.length?(n=+R,C()):n},T.translate=function(R){return arguments.length?(r=+R[0],a=+R[1],C()):[r,a]},T.center=function(R){return arguments.length?(i=R[0]%360*Zr,o=R[1]%360*Zr,C()):[i*Fi,o*Fi]},T.rotate=function(R){return arguments.length?(s=R[0]%360*Zr,l=R[1]%360*Zr,c=R.length>2?R[2]%360*Zr:0,C()):[s*Fi,l*Fi,c*Fi]},T.angle=function(R){return arguments.length?(f=R%360*Zr,C()):f*Fi},T.reflectX=function(R){return arguments.length?(d=R?-1:1,C()):d<0},T.reflectY=function(R){return arguments.length?(h=R?-1:1,C()):h<0},T.precision=function(R){return arguments.length?(_=tD(w,E=R*R),M()):zo(E)},T.fitExtent=function(R,I){return Uw(T,R,I)},T.fitSize=function(R,I){return f4(T,R,I)},T.fitWidth=function(R,I){return d4(T,R,I)},T.fitHeight=function(R,I){return h4(T,R,I)};function C(){var R=nD(n,0,0,d,h,f).apply(null,t(i,o)),I=nD(n,r-R[0],a-R[1],d,h,f);return u=_X(s,l,c),w=Zk(t,I),A=Zk(u,w),_=tD(w,E),M()}function M(){return S=k=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&O,C()}}function v4(e){var t=0,n=hn/3,r=p4(e),a=r(t,n);return a.parallels=function(i){return arguments.length?r(t=i[0]*Zr,n=i[1]*Zr):[t*Fi,n*Fi]},a}function oUe(e){var t=cn(e);function n(r,a){return[r*t,Qt(a)/t]}return n.invert=function(r,a){return[r/t,Hs(a*t)]},n}function $X(e,t){var n=Qt(e),r=(n+Qt(t))/2;if(Rn(r)<Ut)return oUe(e);var a=1+n*(2*r-n),i=zo(a)/r;function o(s,l){var c=zo(a-2*r*Qt(l))/r;return[c*Qt(s*=r),i-c*cn(s)]}return o.invert=function(s,l){var c=i-l,u=yu(s,Rn(c))*Rs(c);return c*r<0&&(u-=hn*Rs(s)*Rs(c)),[u/r,Hs((a-(s*s+c*c)*r*r)/(2*r))]},o}function rb(){return v4($X).scale(155.424).center([0,33.6442])}function jX(){return rb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sUe(e){var t=e.length;return{point:function(n,r){for(var a=-1;++a<t;)e[a].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function lUe(){var e,t,n=jX(),r,a=rb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=rb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(i.point(h,p),l)||(s.point(h,p),l)}u.invert=function(d){var h=n.scale(),p=n.translate(),v=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?a:g>=.166&&g<.234&&v>=-.214&&v<-.115?o:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=sUe([n.stream(t=d),a.stream(d),o.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),a.precision(d),o.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),a.scale(d*.35),o.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],v=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,v-.238*h],[p+.455*h,v+.238*h]]).stream(c),i=a.translate([p-.307*h,v+.201*h]).clipExtent([[p-.425*h+Ut,v+.12*h+Ut],[p-.214*h-Ut,v+.234*h-Ut]]).stream(c),s=o.translate([p-.205*h,v+.212*h]).clipExtent([[p-.214*h+Ut,v+.166*h+Ut],[p-.115*h-Ut,v+.234*h-Ut]]).stream(c),f()},u.fitExtent=function(d,h){return Uw(u,d,h)},u.fitSize=function(d,h){return f4(u,d,h)},u.fitWidth=function(d,h){return d4(u,d,h)},u.fitHeight=function(d,h){return h4(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function zX(e){return function(t,n){var r=cn(t),a=cn(n),i=e(r*a);return i===1/0?[2,0]:[i*a*Qt(t),i*Qt(n)]}}function rm(e){return function(t,n){var r=zo(t*t+n*n),a=e(r),i=Qt(a),o=cn(a);return[yu(t*i,r*o),Hs(r&&n*i/r)]}}var g4=zX(function(e){return zo(2/(1+e))});g4.invert=rm(function(e){return 2*Hs(e/2)});function cUe(){return Dc(g4).scale(124.75).clipAngle(180-.001)}var m4=zX(function(e){return(e=wX(e))&&e/Qt(e)});m4.invert=rm(function(e){return e});function uUe(){return Dc(m4).scale(79.4188).clipAngle(180-.001)}function am(e,t){return[e,X2(c4((ia+t)/2))]}am.invert=function(e,t){return[e,2*kp(bX(t))-ia]};function fUe(){return UX(am).scale(961/ss)}function UX(e){var t=Dc(e),n=t.center,r=t.scale,a=t.translate,i=t.clipExtent,o=null,s,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(a(f),u()):a()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=c=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var f=hn*r(),d=t(Pze(t.rotate()).invert([0,0]));return i(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===am?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),c]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,c)]])}return u()}function Wy(e){return c4((ia+e)/2)}function HX(e,t){var n=cn(e),r=e===t?Qt(e):X2(n/cn(t))/X2(Wy(t)/Wy(e)),a=n*dS(Wy(e),r)/r;if(!r)return am;function i(o,s){a>0?s<-ia+Ut&&(s=-ia+Ut):s>ia-Ut&&(s=ia-Ut);var l=a/dS(Wy(s),r);return[l*Qt(r*o),a-l*cn(r*o)]}return i.invert=function(o,s){var l=a-s,c=Rs(r)*zo(o*o+l*l),u=yu(o,Rn(l))*Rs(l);return l*r<0&&(u-=hn*Rs(o)*Rs(l)),[u/r,2*kp(dS(a/c,1/r))-ia]},i}function dUe(){return v4(HX).scale(109.5).parallels([30,30])}function lg(e,t){return[e,t]}lg.invert=lg;function hUe(){return Dc(lg).scale(152.63)}function GX(e,t){var n=cn(e),r=e===t?Qt(e):(n-cn(t))/(t-e),a=n/r+e;if(Rn(r)<Ut)return lg;function i(o,s){var l=a-s,c=r*o;return[l*Qt(c),a-l*cn(c)]}return i.invert=function(o,s){var l=a-s,c=yu(o,Rn(l))*Rs(l);return l*r<0&&(c-=hn*Rs(o)*Rs(l)),[c/r,a-Rs(r)*zo(o*o+l*l)]},i}function pUe(){return v4(GX).scale(131.154).center([0,13.9389])}var r1=1.340264,a1=-.081106,i1=893e-6,o1=.003796,ab=zo(3)/2,vUe=12;function y4(e,t){var n=Hs(ab*Qt(t)),r=n*n,a=r*r*r;return[e*cn(n)/(ab*(r1+3*a1*r+a*(7*i1+9*o1*r))),n*(r1+a1*r+a*(i1+o1*r))]}y4.invert=function(e,t){for(var n=t,r=n*n,a=r*r*r,i=0,o,s,l;i<vUe&&(s=n*(r1+a1*r+a*(i1+o1*r))-t,l=r1+3*a1*r+a*(7*i1+9*o1*r),n-=o=s/l,r=n*n,a=r*r*r,!(Rn(o)<Mze));++i);return[ab*e*(r1+3*a1*r+a*(7*i1+9*o1*r))/cn(n),Hs(Qt(n)/ab)]};function gUe(){return Dc(y4).scale(177.158)}function x4(e,t){var n=cn(t),r=cn(e)*n;return[n*Qt(e)/r,Qt(t)/r]}x4.invert=rm(kp);function mUe(){return Dc(x4).scale(144.049).clipAngle(60)}function yUe(){var e=1,t=0,n=0,r=1,a=1,i=0,o,s,l=null,c,u,f,d=1,h=1,p=zw({point:function(b,E){var _=x([b,E]);this.stream.point(_[0],_[1])}}),v=ig,g,m;function y(){return d=e*r,h=e*a,g=m=null,x}function x(b){var E=b[0]*d,_=b[1]*h;if(i){var w=_*o-E*s;E=E*o+_*s,_=w}return[E+t,_+n]}return x.invert=function(b){var E=b[0]-t,_=b[1]-n;if(i){var w=_*o+E*s;E=E*o-_*s,_=w}return[E/d,_/h]},x.stream=function(b){return g&&m===b?g:g=p(v(m=b))},x.postclip=function(b){return arguments.length?(v=b,l=c=u=f=null,y()):v},x.clipExtent=function(b){return arguments.length?(v=b==null?(l=c=u=f=null,ig):kX(l=+b[0][0],c=+b[0][1],u=+b[1][0],f=+b[1][1]),y()):l==null?null:[[l,c],[u,f]]},x.scale=function(b){return arguments.length?(e=+b,y()):e},x.translate=function(b){return arguments.length?(t=+b[0],n=+b[1],y()):[t,n]},x.angle=function(b){return arguments.length?(i=b%360*Zr,s=Qt(i),o=cn(i),y()):i*Fi},x.reflectX=function(b){return arguments.length?(r=b?-1:1,y()):r<0},x.reflectY=function(b){return arguments.length?(a=b?-1:1,y()):a<0},x.fitExtent=function(b,E){return Uw(x,b,E)},x.fitSize=function(b,E){return f4(x,b,E)},x.fitWidth=function(b,E){return d4(x,b,E)},x.fitHeight=function(b,E){return h4(x,b,E)},x}function b4(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}b4.invert=function(e,t){var n=t,r=25,a;do{var i=n*n,o=i*i;n-=a=(n*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(Rn(a)>Ut&&--r>0);return[e/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function xUe(){return Dc(b4).scale(175.295)}function w4(e,t){return[cn(t)*Qt(e),Qt(t)]}w4.invert=rm(Hs);function bUe(){return Dc(w4).scale(249.5).clipAngle(90+Ut)}function _4(e,t){var n=cn(t),r=1+cn(e)*n;return[n*Qt(e)/r,Qt(t)/r]}_4.invert=rm(function(e){return 2*kp(e)});function wUe(){return Dc(_4).scale(250).clipAngle(142)}function E4(e,t){return[X2(c4((ia+t)/2)),-e]}E4.invert=function(e,t){return[-t,2*kp(bX(e))-ia]};function _Ue(){var e=UX(E4),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const EUe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:jX,geoAlbersUsa:lUe,geoAzimuthalEqualArea:cUe,geoAzimuthalEqualAreaRaw:g4,geoAzimuthalEquidistant:uUe,geoAzimuthalEquidistantRaw:m4,geoConicConformal:dUe,geoConicConformalRaw:HX,geoConicEqualArea:rb,geoConicEqualAreaRaw:$X,geoConicEquidistant:pUe,geoConicEquidistantRaw:GX,geoEqualEarth:gUe,geoEqualEarthRaw:y4,geoEquirectangular:hUe,geoEquirectangularRaw:lg,geoGnomonic:mUe,geoGnomonicRaw:x4,geoIdentity:yUe,geoMercator:fUe,geoMercatorRaw:am,geoNaturalEarth1:xUe,geoNaturalEarth1Raw:b4,geoOrthographic:bUe,geoOrthographicRaw:w4,geoProjection:Dc,geoProjectionMutator:p4,geoStereographic:wUe,geoStereographicRaw:_4,geoTransverseMercator:_Ue,geoTransverseMercatorRaw:E4},Symbol.toStringTag,{value:"Module"}));var SUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function AUe(e){if(typeof e=="function")return e;const t=`geo${bf(e)}`,n=EUe[t];if(!n)throw new Error(`Unknown coordinate: ${e}`);return n}function kUe(e){return{type:"FeatureCollection",features:e.flatMap(t=>TUe(t).features)}}function TUe(e){const t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const n=t[e.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(n==="feature")return{type:"FeatureCollection",features:[e]};if(n==="featureCollection")return e}function OUe(e,t){var n;for(const[r,a]of Object.entries(t))(n=e[r])===null||n===void 0||n.call(e,a)}function CUe(e,t,n,r){const a=()=>{const s=t.filter(WX);return s.find(c=>c.sphere)?{type:"Sphere"}:kUe(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:i=a()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return MUe(e,i,n);if(o==="fitWidth")return PUe(e,i,n)}function MUe(e,t,n){const{x:r,y:a,width:i,height:o}=n;e.fitExtent([[r,a],[i,o]],t)}function PUe(e,t,n){const{width:r,height:a}=n,[[i,o],[s,l]]=BX(e.fitWidth(r,t)).bounds(t),c=Math.ceil(l-o),u=Math.min(Math.ceil(s-i),c),f=e.scale()*(u-1)/u,[d,h]=e.translate(),p=h+(a-c)/2;e.scale(f).translate([d,p]).precision(.2)}function IUe(e){const{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});const{type:n}=t;return n==="graticule10"?Object.assign(Object.assign({},e),{data:{value:[Uze()]}}):n==="sphere"?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function WX(e){return e.type==="geoPath"}const VX=()=>e=>{const{children:t,coordinate:n={}}=e;if(!Array.isArray(t))return[];const{type:r="equalEarth"}=n,a=SUe(n,["type"]),i=AUe(r),o=t.map(IUe);let s;function l(){return[["custom",(f,d,h,p)=>{const v=i();CUe(v,o,{x:f,y:d,width:h,height:p},a),OUe(v,a),s=BX(v);const m=new hr({domain:[f,f+h]}),y=new hr({domain:[d,d+p]}),x=E=>{const _=v(E);if(!_)return[null,null];const[w,A]=_;return[m.map(w),y.map(A)]},b=E=>{if(!E)return null;const[_,w]=E,A=[m.invert(_),y.invert(w)];return v.invert(A)};return{transform:E=>x(E),untransform:E=>b(E)}}]]}function c(f){const{style:d,tooltip:h={}}=f;return Object.assign(Object.assign({},f),{type:"path",tooltip:F2(h,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},d),{d:p=>s(p)||[]})})}const u=f=>WX(f)?c(f):f;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:o.flatMap(u)})]};VX.props={};function RUe(e){return sm(e,t=>t.className==="component")}function NUe(e){return sm(e,t=>t.className==="element")}function DUe(e){return sm(e,t=>t.className==="label")}function Ka(e,t,n,r=a=>!0){return a=>{if(!r(a))return;n.emit(`plot:${e}`,a);const{target:i}=a;if(!i)return;const{className:o}=i;if(o==="plot")return;const s=NUe(i),l=RUe(i),c=DUe(i),u=s||l||c;if(!u)return;const{className:f,markType:d}=u,h=Object.assign(Object.assign({},a),{nativeEvent:!0});f==="element"?(h.data={data:w3(u,t)},n.emit(`element:${e}`,h),n.emit(`${d}:${e}`,h)):f==="label"?(h.data={data:u.attributes.datum},n.emit(`label:${e}`,h),n.emit(`${o}:${e}`,h)):(n.emit(`component:${e}`,h),n.emit(`${o}:${e}`,h))}}function YX(){return(e,t,n)=>{const{container:r,view:a}=e,i=Ka(jn.CLICK,a,n,w=>w.detail===1),o=Ka(jn.DBLCLICK,a,n,w=>w.detail===2),s=Ka(jn.POINTER_TAP,a,n),l=Ka(jn.POINTER_DOWN,a,n),c=Ka(jn.POINTER_UP,a,n),u=Ka(jn.POINTER_OVER,a,n),f=Ka(jn.POINTER_OUT,a,n),d=Ka(jn.POINTER_MOVE,a,n),h=Ka(jn.POINTER_ENTER,a,n),p=Ka(jn.POINTER_LEAVE,a,n),v=Ka(jn.POINTER_UPOUTSIDE,a,n),g=Ka(jn.DRAG_START,a,n),m=Ka(jn.DRAG,a,n),y=Ka(jn.DRAG_END,a,n),x=Ka(jn.DRAG_ENTER,a,n),b=Ka(jn.DRAG_LEAVE,a,n),E=Ka(jn.DRAG_OVER,a,n),_=Ka(jn.DROP,a,n);return r.addEventListener("click",i),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",f),r.addEventListener("pointermove",d),r.addEventListener("pointerenter",h),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",m),r.addEventListener("dragend",y),r.addEventListener("dragenter",x),r.addEventListener("dragleave",b),r.addEventListener("dragover",E),r.addEventListener("drop",_),()=>{r.removeEventListener("click",i),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",f),r.removeEventListener("pointermove",d),r.removeEventListener("pointerenter",h),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",m),r.removeEventListener("dragend",y),r.removeEventListener("dragenter",x),r.removeEventListener("dragleave",b),r.removeEventListener("dragover",E),r.removeEventListener("drop",_)}}}YX.props={reapplyWhenUpdate:!0};function LUe(){return{"component.axisRadar":EY,"component.axisLinear":Tf,"component.axisArc":bY,"component.legendContinuousBlock":AY,"component.legendContinuousBlockSize":kY,"component.legendContinuousSize":KC,"interaction.event":YX,"composition.mark":pX,"composition.view":hX,"shape.label.label":LW}}var FUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function wr(e,t){const n=Object.assign(Object.assign({},LUe()),t),r=i=>{if(typeof i!="string")return i;const o=`${e}.${i}`;return n[o]||Uh(`Unknown Component: ${o}`)};return[(i,o)=>{const{type:s}=i,l=FUe(i,["type"]);s||Uh("Plot type is required!");const c=r(s);return c==null?void 0:c(l,o)},r]}function XX(e){const{canvas:t,group:n}=e;return(t==null?void 0:t.document)||(n==null?void 0:n.ownerDocument)||Uh("Cannot find library document")}var rD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function BUe(e,t,n){const[r]=wr("coordinate",n),{innerHeight:a,innerWidth:i,insetLeft:o,insetTop:s,insetRight:l,insetBottom:c}=e,{coordinates:u=[]}=t,f=HUe(u),d=f[0].type==="cartesian3D",h=Object.assign(Object.assign({},e),{x:o,y:s,width:i-o-l,height:a-c-s,transformations:f.flatMap(r)});return d?new aze(h):new nze(h)}function qX(e,t){const{coordinate:n={},coordinates:r}=e,a=rD(e,["coordinate","coordinates"]);if(r)return e;const{type:i,transform:o=[]}=n,s=rD(n,["type","transform"]);if(!i)return Object.assign(Object.assign({},a),{coordinates:o});const[,l]=wr("coordinate",t),{transform:c=!1}=l(i).props||{};if(c)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},a),{coordinates:[Object.assign({type:i},s),...o]})}function Il(e,t){return e.filter(n=>n.type===t)}function ld(e){return Il(e,"polar").length>0}function $Ue(e){return Il(e,"helix").length>0}function vh(e){return Il(e,"transpose").length%2===1}function jUe(e){return Il(e,"parallel").length>0}function KX(e){return Il(e,"theta").length>0}function zUe(e){return Il(e,"reflect").length>0}function s1(e){return Il(e,"radial").length>0}function ZX(e){return Il(e,"radar").length>0}function UUe(e){return Il(e,"reflectY").length>0}function HUe(e){return e.find(t=>t.type==="cartesian"||t.type==="cartesian3D")?e:[...e,{type:"cartesian"}]}function nn(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const GUe=nn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),WUe=nn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),VUe=nn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),YUe=nn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),XUe=nn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qUe=nn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),KUe=nn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ZUe=nn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),QUe=nn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),JUe=nn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),eHe=nn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Hw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function S4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tp(){}var Wd=.7,op=1/Wd,gh="\\s*([+-]?\\d+)\\s*",cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tHe=/^#([0-9a-f]{3,8})$/,nHe=new RegExp(`^rgb\\(${gh},${gh},${gh}\\)$`),rHe=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),aHe=new RegExp(`^rgba\\(${gh},${gh},${gh},${cg}\\)$`),iHe=new RegExp(`^rgba\\(${wc},${wc},${wc},${cg}\\)$`),oHe=new RegExp(`^hsl\\(${cg},${wc},${wc}\\)$`),sHe=new RegExp(`^hsla\\(${cg},${wc},${wc},${cg}\\)$`),aD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hw(Tp,A4,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iD,formatHex:iD,formatHex8:lHe,formatHsl:cHe,formatRgb:oD,toString:oD});function iD(){return this.rgb().formatHex()}function lHe(){return this.rgb().formatHex8()}function cHe(){return JX(this).formatHsl()}function oD(){return this.rgb().formatRgb()}function A4(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tHe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sD(t):n===3?new Yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nHe.exec(e))?new Yi(t[1],t[2],t[3],1):(t=rHe.exec(e))?new Yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aHe.exec(e))?Vy(t[1],t[2],t[3],t[4]):(t=iHe.exec(e))?Vy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oHe.exec(e))?uD(t[1],t[2]/100,t[3]/100,1):(t=sHe.exec(e))?uD(t[1],t[2]/100,t[3]/100,t[4]):aD.hasOwnProperty(e)?sD(aD[e]):e==="transparent"?new Yi(NaN,NaN,NaN,0):null}function sD(e){return new Yi(e>>16&255,e>>8&255,e&255,1)}function Vy(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yi(e,t,n,r)}function QX(e){return e instanceof Tp||(e=A4(e)),e?(e=e.rgb(),new Yi(e.r,e.g,e.b,e.opacity)):new Yi}function ug(e,t,n,r){return arguments.length===1?QX(e):new Yi(e,t,n,r??1)}function Yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hw(Yi,ug,S4(Tp,{brighter(e){return e=e==null?op:Math.pow(op,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wd:Math.pow(Wd,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yi(_d(this.r),_d(this.g),_d(this.b),ib(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lD,formatHex:lD,formatHex8:uHe,formatRgb:cD,toString:cD}));function lD(){return`#${cd(this.r)}${cd(this.g)}${cd(this.b)}`}function uHe(){return`#${cd(this.r)}${cd(this.g)}${cd(this.b)}${cd((isNaN(this.opacity)?1:this.opacity)*255)}`}function cD(){const e=ib(this.opacity);return`${e===1?"rgb(":"rgba("}${_d(this.r)}, ${_d(this.g)}, ${_d(this.b)}${e===1?")":`, ${e})`}`}function ib(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _d(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cd(e){return e=_d(e),(e<16?"0":"")+e.toString(16)}function uD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gl(e,t,n,r)}function JX(e){if(e instanceof gl)return new gl(e.h,e.s,e.l,e.opacity);if(e instanceof Tp||(e=A4(e)),!e)return new gl;if(e instanceof gl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new gl(o,s,l,e.opacity)}function fHe(e,t,n,r){return arguments.length===1?JX(e):new gl(e,t,n,r??1)}function gl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hw(gl,fHe,S4(Tp,{brighter(e){return e=e==null?op:Math.pow(op,e),new gl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wd:Math.pow(Wd,e),new gl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Yi(mS(e>=240?e-240:e+120,a,r),mS(e,a,r),mS(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new gl(fD(this.h),Yy(this.s),Yy(this.l),ib(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ib(this.opacity);return`${e===1?"hsl(":"hsla("}${fD(this.h)}, ${Yy(this.s)*100}%, ${Yy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fD(e){return e=(e||0)%360,e<0?e+360:e}function Yy(e){return Math.max(0,Math.min(1,e||0))}function mS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dHe=Math.PI/180,hHe=180/Math.PI;var eq=-.14861,k4=1.78277,T4=-.29227,Gw=-.90649,fg=1.97294,dD=fg*Gw,hD=fg*k4,pD=k4*T4-Gw*eq;function pHe(e){if(e instanceof Ed)return new Ed(e.h,e.s,e.l,e.opacity);e instanceof Yi||(e=QX(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(pD*r+dD*t-hD*n)/(pD+dD-hD),i=r-a,o=(fg*(n-a)-T4*i)/Gw,s=Math.sqrt(o*o+i*i)/(fg*a*(1-a)),l=s?Math.atan2(o,i)*hHe-120:NaN;return new Ed(l<0?l+360:l,s,a,e.opacity)}function Pc(e,t,n,r){return arguments.length===1?pHe(e):new Ed(e,t,n,r??1)}function Ed(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hw(Ed,Pc,S4(Tp,{brighter(e){return e=e==null?op:Math.pow(op,e),new Ed(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wd:Math.pow(Wd,e),new Ed(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*dHe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Yi(255*(t+n*(eq*r+k4*a)),255*(t+n*(T4*r+Gw*a)),255*(t+n*(fg*r)),this.opacity)}}));function vHe(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function gHe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return vHe((n-r/t)*t,o,a,i,s)}}const O4=e=>()=>e;function tq(e,t){return function(n){return e+n*t}}function mHe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yHe(e,t){var n=t-e;return n?tq(e,n>180||n<-180?n-360*Math.round(n/360):n):O4(isNaN(e)?t:e)}function xHe(e){return(e=+e)==1?mh:function(t,n){return n-t?mHe(t,n,e):O4(isNaN(t)?n:t)}}function mh(e,t){var n=t-e;return n?tq(e,n):O4(isNaN(e)?t:e)}(function e(t){var n=xHe(t);function r(a,i){var o=n((a=ug(a)).r,(i=ug(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=mh(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r})(1);function bHe(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=ug(t[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=e(r),a=e(a),i=e(i),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=i(l),s+""}}}var wHe=bHe(gHe);function nq(e){return function t(n){n=+n;function r(a,i){var o=e((a=Pc(a)).h,(i=Pc(i)).h),s=mh(a.s,i.s),l=mh(a.l,i.l),c=mh(a.opacity,i.opacity);return function(u){return a.h=o(u),a.s=s(u),a.l=l(Math.pow(u,n)),a.opacity=c(u),a+""}}return r.gamma=t,r}(1)}nq(yHe);var C4=nq(mh);const vr=e=>wHe(e[e.length-1]);var rq=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(nn);const _He=vr(rq);var aq=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(nn);const EHe=vr(aq);var iq=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(nn);const SHe=vr(iq);var oq=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(nn);const AHe=vr(oq);var sq=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(nn);const kHe=vr(sq);var lq=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(nn);const THe=vr(lq);var cq=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(nn);const OHe=vr(cq);var uq=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(nn);const CHe=vr(uq);var fq=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(nn);const MHe=vr(fq);var dq=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(nn);const PHe=vr(dq);var hq=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(nn);const IHe=vr(hq);var pq=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(nn);const RHe=vr(pq);var vq=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(nn);const NHe=vr(vq);var gq=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(nn);const DHe=vr(gq);var mq=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(nn);const LHe=vr(mq);var yq=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(nn);const FHe=vr(yq);var xq=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(nn);const BHe=vr(xq);var bq=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(nn);const $He=vr(bq);var wq=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(nn);const jHe=vr(wq);var _q=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(nn);const zHe=vr(_q);var Eq=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(nn);const UHe=vr(Eq);var Sq=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(nn);const HHe=vr(Sq);var Aq=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(nn);const GHe=vr(Aq);var kq=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(nn);const WHe=vr(kq);var Tq=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(nn);const VHe=vr(Tq);var Oq=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(nn);const YHe=vr(Oq);var Cq=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(nn);const XHe=vr(Cq);function qHe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const KHe=C4(Pc(300,.5,0),Pc(-240,.5,1));var ZHe=C4(Pc(-100,.75,.35),Pc(80,1.5,.8)),QHe=C4(Pc(260,.75,.35),Pc(80,1.5,.8)),Xy=Pc();function JHe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Xy.h=360*e-100,Xy.s=1.5-1.5*t,Xy.l=.8-.9*t,Xy+""}var qy=ug(),eGe=Math.PI/3,tGe=Math.PI*2/3;function nGe(e){var t;return e=(.5-e)*Math.PI,qy.r=255*(t=Math.sin(e))*t,qy.g=255*(t=Math.sin(e+eGe))*t,qy.b=255*(t=Math.sin(e+tGe))*t,qy+""}function rGe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ww(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const aGe=Ww(nn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var iGe=Ww(nn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),oGe=Ww(nn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sGe=Ww(nn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const lT=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:HHe,interpolateBrBG:_He,interpolateBuGn:PHe,interpolateBuPu:IHe,interpolateCividis:qHe,interpolateCool:QHe,interpolateCubehelixDefault:KHe,interpolateGnBu:RHe,interpolateGreens:GHe,interpolateGreys:WHe,interpolateInferno:oGe,interpolateMagma:iGe,interpolateOrRd:NHe,interpolateOranges:XHe,interpolatePRGn:EHe,interpolatePiYG:SHe,interpolatePlasma:sGe,interpolatePuBu:LHe,interpolatePuBuGn:DHe,interpolatePuOr:AHe,interpolatePuRd:FHe,interpolatePurples:VHe,interpolateRainbow:JHe,interpolateRdBu:kHe,interpolateRdGy:THe,interpolateRdPu:BHe,interpolateRdYlBu:OHe,interpolateRdYlGn:CHe,interpolateReds:YHe,interpolateSinebow:nGe,interpolateSpectral:MHe,interpolateTurbo:rGe,interpolateViridis:aGe,interpolateWarm:ZHe,interpolateYlGn:jHe,interpolateYlGnBu:$He,interpolateYlOrBr:zHe,interpolateYlOrRd:UHe,schemeAccent:WUe,schemeBlues:Sq,schemeBrBG:rq,schemeBuGn:dq,schemeBuPu:hq,schemeCategory10:GUe,schemeDark2:VUe,schemeGnBu:pq,schemeGreens:Aq,schemeGreys:kq,schemeObservable10:YUe,schemeOrRd:vq,schemeOranges:Cq,schemePRGn:aq,schemePaired:XUe,schemePastel1:qUe,schemePastel2:KUe,schemePiYG:iq,schemePuBu:mq,schemePuBuGn:gq,schemePuOr:oq,schemePuRd:yq,schemePurples:Tq,schemeRdBu:sq,schemeRdGy:lq,schemeRdPu:xq,schemeRdYlBu:cq,schemeRdYlGn:uq,schemeReds:Oq,schemeSet1:ZUe,schemeSet2:QUe,schemeSet3:JUe,schemeSpectral:fq,schemeTableau10:eHe,schemeYlGn:wq,schemeYlGnBu:bq,schemeYlOrBr:_q,schemeYlOrRd:Eq},Symbol.toStringTag,{value:"Module"}));function lGe(e,t,n,r,a,i){const{guide:o={}}=n,s=yGe(e,t,n);if(typeof s!="string")return n;const l=xGe(s,e,t,n),c=vGe(s,l,n);return Object.assign(Object.assign(Object.assign({},n),wGe(s,e,t,n,r)),{domain:c,range:bGe(s,e,t,n,c,a,i),expectedDomain:l,guide:o,name:e,type:s})}function cGe(e,t){const n={};for(const r of e){const{values:a,name:i}=r,o=t[i];for(const s of a){const{name:l,value:c}=s;n[l]=c.map(u=>o.map(u))}}return n}function uGe(e,t){const n=Array.from(e.values()).flatMap(a=>a.channels);h3(n,a=>a.map(i=>t.get(i.scale.uid)),a=>a.name).filter(([,a])=>a.some(i=>typeof i.getOptions().groupTransform=="function")&&a.every(i=>i.getTicks)).map(a=>a[1]).forEach(a=>{const i=a.map(o=>o.getOptions().groupTransform)[0];i(a)})}function fGe(e,t){var n;const{components:r=[]}=t,a=["scale","encode","axis","legend","data","transform"],i=Array.from(new Set(e.flatMap(s=>s.channels.map(l=>l.scale)))),o=new Map(i.map(s=>[s.name,s]));for(const s of r){const l=pGe(s);for(const c of l){const u=o.get(c),f=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:d=!1}=f;if(u&&!d){const{guide:h}=u,p=typeof h=="boolean"?{}:h;u.guide=Ie({},p,s),Object.assign(u,f)}else{const h=Object.assign(Object.assign({},f),{expectedDomain:f.domain,name:c,guide:KO(s,a)});i.push(h)}}}return i}function dGe(e){if(!e||!Array.isArray(e))return[Fd,Fd];let t,n;return[i=>{var o;t=i.map.bind(i),n=(o=i.invert)===null||o===void 0?void 0:o.bind(i);const s=e.filter(([d])=>typeof d=="function"),l=e.filter(([d])=>typeof d!="function"),c=new Map(l);if(i.map=d=>{for(const[h,p]of s)if(h(d))return p;return c.has(d)?c.get(d):t(d)},!n)return i;const u=new Map(l.map(([d,h])=>[h,d])),f=new Map(s.map(([d,h])=>[h,d]));return i.invert=d=>f.has(d)?d:u.has(d)?u.get(d):n(d),i},i=>(t!==null&&(i.map=t),n!==null&&(i.invert=n),i)]}function vD(e,t){const n=Object.keys(e);for(const r of Object.values(t)){const{name:a}=r.getOptions();if(!(a in e))e[a]=r;else{const i=n.filter(l=>l.startsWith(a)).map(l=>+(l.replace(a,"")||0)),o=Fn(i)+1,s=`${a}${o}`;e[s]=r,r.getOptions().key=s}}return e}function gD(e,t){const[n]=wr("scale",t),{relations:r}=e,[a]=dGe(r),i=n(e);return a(i)}function hGe(e){const t=e.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));mD(t,"x"),mD(t,"y")}function pGe(e){const{channels:t=[],type:n,scale:r={}}=e,a=["shape","color","opacity","size"];return t.length!==0?t:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(i=>a.includes(i)):[]}function mD(e,t){const n=e.filter(({name:i,facet:o=!0})=>o&&i===t),r=n.flatMap(i=>i.domain),a=n.every(Mq)?su(r):n.every(Pq)?Array.from(new Set(r)):null;if(a!==null)for(const i of n)i.domain=a}function vGe(e,t,n){const{ratio:r}=n;return r==null?t:Mq({type:e})?gGe(t,r,e):Pq({type:e})?mGe(t,r):t}function gGe(e,t,n){const r=e.map(Number),a=new hr({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*t]});return n==="time"?e.map(i=>new Date(a.map(i))):e.map(i=>a.map(i))}function mGe(e,t){const n=Math.round(e.length*t);return e.slice(0,n)}function Mq(e){const{type:t}=e;return typeof t!="string"?!1:["linear","log","pow","time"].includes(t)}function Pq(e){const{type:t}=e;return typeof t!="string"?!1:["band","point","ordinal"].includes(t)}function yGe(e,t,n){const{type:r,domain:a,range:i,quantitative:o,ordinal:s}=n;return r!==void 0?r:RGe(t)?"identity":typeof i=="string"?"linear":(a||i||[]).length>2?yS(e,s):a!==void 0?wD([a])?yS(e,s):_D(t)?"time":xD(e,i,o):wD(t)?yS(e,s):_D(t)?"time":xD(e,i,o)}function xGe(e,t,n,r){const{domain:a}=r;if(a!==void 0)return a;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return bD(OGe(n,r),r);case"band":case"ordinal":case"point":return CGe(n);case"quantile":return MGe(n);case"sequential":return bD(PGe(n),r);default:return[]}}function bGe(e,t,n,r,a,i,o){const{range:s}=r;if(typeof s=="string")return _Ge(s);if(s!==void 0)return s;const{rangeMin:l,rangeMax:c}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=yD(n,r,a,i,o),[f,d]=IGe(t,u);return[l??f,c??d]}case"band":case"point":return[l??(t==="size"?5:0),c??(t==="size"?10:1)];case"ordinal":return yD(n,r,a,i,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function wGe(e,t,n,r,a){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return AGe(a,r);case"band":case"point":return kGe(e,t,a,r);case"sequential":return SGe(r);default:return r}}function yD(e,t,n,r,a){const[i]=wr("palette",a),{category10:o,category20:s}=r,l=aTe(n).length<=o.length?o:s,{palette:c=l,offset:u}=t;if(Array.isArray(c))return c;try{return i({type:c})}catch{const d=EGe(c,n,u);if(d)return d;throw new Error(`Unknown Component: ${c} `)}}function _Ge(e){return e.split("-")}function EGe(e,t,n=r=>r){if(!e)return null;const r=bf(e),a=lT[`scheme${r}`],i=lT[`interpolate${r}`];if(!a&&!i)return null;if(a){if(!a.some(Array.isArray))return a;const o=a[t.length];if(o)return o}return t.map((o,s)=>i(n(s/t.length)))}function SGe(e){const{palette:t="ylGnBu",offset:n}=e,r=bf(t),a=lT[`interpolate${r}`];if(!a)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?i=>a(n(i)):a}}function AGe(e,t){const{interpolate:n=$g,nice:r=!1,tickCount:a=5}=t;return Object.assign(Object.assign({},t),{interpolate:n,nice:r,tickCount:a})}function kGe(e,t,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const a=TGe(e,t,n),{paddingInner:i=a,paddingOuter:o=a}=r;return Object.assign(Object.assign({},r),{paddingInner:i,paddingOuter:o,padding:a,unknown:NaN})}function TGe(e,t,n){return t==="enterDelay"||t==="enterDuration"||t==="size"?0:e==="band"?KX(n)?0:.1:e==="point"?.5:0}function yS(e,t){return t||(NGe(e)?"point":"ordinal")}function xD(e,t,n){return n||(e!=="color"||t?"linear":"sequential")}function bD(e,t){if(e.length===0)return e;const{domainMin:n,domainMax:r}=t,[a,i]=e;return[n??a,r??i]}function OGe(e,t){const{zero:n=!1}=t;let r=1/0,a=-1/0;for(const i of e)for(const o of i)fr(o)&&(r=Math.min(r,+o),a=Math.max(a,+o));return r===1/0?[]:n?[Math.min(0,r),a]:[r,a]}function CGe(e){return Array.from(new Set(e.flat()))}function MGe(e){return e.flat().sort()}function PGe(e){let t=1/0,n=-1/0;for(const r of e)for(const a of r)fr(a)&&(t=Math.min(t,+a),n=Math.max(n,+a));return t===1/0?[]:[t<0?-n:t,n]}function IGe(e,t){return e==="enterDelay"?[0,1e3]:e=="enterDuration"?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:e==="color"?[rTe(t),zj(t)]:e==="opacity"?[0,1]:e==="size"?[1,10]:[0,1]}function wD(e){return M4(e,t=>{const n=typeof t;return n==="string"||n==="boolean"})}function _D(e){return M4(e,t=>t instanceof Date)}function RGe(e){return M4(e,Hh)}function M4(e,t){for(const n of e)if(n.some(t))return!0;return!1}function NGe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}function DGe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e==="enterDelay"||e==="enterDuration"||e==="updateDelay"||e==="updateDuration"||e==="exitDelay"||e==="exitDuration"}function LGe(e){if(!e||!e.type)return!1;if(typeof e.type=="function")return!0;const{type:t,domain:n,range:r,interpolator:a}=e,i=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&i&&o||["sequential"].includes(t)&&i&&(o||a)||["constant","identity"].includes(t)&&o)}const FGe={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},BGe={threshold:"threshold",quantize:"quantize",quantile:"quantile"},$Ge={ordinal:"ordinal",band:"band",point:"point"},jGe={constant:"constant"};var Cf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function zGe(e,t,n){const{coordinates:r=[],title:a}=t,[,i]=wr("component",n),o=e.filter(({guide:u})=>u!==null),s=[],l=ZGe(t,e,n);if(s.push(...l),a){const{props:u}=i("title"),{defaultPosition:f,defaultOrientation:d,defaultOrder:h,defaultSize:p,defaultCrossPadding:v}=u,g=typeof a=="string"?{title:a}:a;s.push(Object.assign({type:"title",position:f,orientation:d,order:h,crossPadding:v[0],defaultSize:p},g))}return VGe(o,r).forEach(([u,f])=>{const{props:d}=i(u),{defaultPosition:h,defaultPlane:p="xy",defaultOrientation:v,defaultSize:g,defaultOrder:m,defaultLength:y,defaultPadding:x=[0,0],defaultCrossPadding:b=[0,0]}=d,E=Ie({},...f),{guide:_,field:w}=E,A=Array.isArray(_)?_:[_];for(const S of A){const[k,T]=qGe(u,h,v,S,f,o,r);if(!k&&!T)continue;const O=k==="left"||k==="right",C=O?x[1]:x[0],M=O?b[1]:b[0],{size:R,order:I=m,length:P=y,padding:B=C,crossPadding:N=M}=S;s.push(Object.assign(Object.assign({title:w},S),{defaultSize:g,length:P,position:k,plane:p,orientation:T,padding:B,order:I,crossPadding:N,size:R,type:u,scales:f}))}}),s}function ED(e,t,n,r,a){const[i]=wr("component",r),{scaleInstances:o,scale:s,bbox:l}=e,c=Cf(e,["scaleInstances","scale","bbox"]),u={bbox:l,library:r};return i(c)({coordinate:t,library:r,markState:a,scales:o,theme:n,value:u,scale:s})}function UGe(e){return e.map(t=>{const n=Ie(t,t.style);return delete n.style,n})}function Iq(e,t){const n=["left","right","bottom","top"];return f3(e,({type:i,position:o,group:s})=>n.includes(o)?s===void 0?i.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,i])=>{if(i.length===1)return i[0];if(t!==void 0){const u=i.filter(v=>v.length!==void 0).map(v=>v.length),f=Bs(u);if(f>t)return i.forEach(v=>v.group=Symbol("independent")),i;const d=t-f,h=i.length-u.length,p=d/h;i.forEach(v=>{v.length===void 0&&(v.length=p)})}const o=Fn(i,u=>u.size),s=Fn(i,u=>u.order),l=Fn(i,u=>u.crossPadding),c=i[0].position;return{type:"group",size:o,order:s,position:c,children:i,crossPadding:l}})}function HGe(e,t){const n=["shape","size","color","opacity"],r=(d,h)=>d==="constant"&&h==="size",a=e.filter(({type:d,name:h})=>typeof d=="string"&&n.includes(h)&&!r(d,h)),i=a.filter(({type:d})=>d==="constant"),o=a.filter(({type:d})=>d!=="constant"),l=f3(o,d=>d.field?d.field:Symbol("independent")).map(([d,h])=>[d,[...h,...i]]).filter(([,d])=>d.some(h=>h.type!=="constant")),c=new Map(l);if(c.size===0)return[];const u=d=>d.sort(([h],[p])=>h.localeCompare(p));return Array.from(c).map(([,d])=>{const p=iTe(d).sort((v,g)=>g.length-v.length).map(v=>({combination:v,option:v.map(g=>[g.name,GGe(g)])}));for(const{option:v,combination:g}of p)if(!v.every(m=>m[1]==="constant")&&v.every(m=>m[1]==="discrete"||m[1]==="constant"))return["legendCategory",g];for(const[v,g]of pje)for(const{option:m,combination:y}of p)if(g.some(x=>Jx(u(x),u(m))))return[v,y];return null}).filter(fr)}function GGe(e){const{type:t}=e;return typeof t!="string"?null:t in FGe?"continuous":t in $Ge?"discrete":t in BGe?"distribution":t in jGe?"constant":null}function WGe(e,t){return e.map(n=>{const{name:r}=n;if($Ue(t)||KX(t)||vh(t)&&(ld(t)||s1(t)))return null;if(r.startsWith("x"))return ld(t)?["axisArc",[n]]:s1(t)?["axisLinear",[n]]:[vh(t)?"axisY":"axisX",[n]];if(r.startsWith("y"))return ld(t)?["axisLinear",[n]]:s1(t)?["axisArc",[n]]:[vh(t)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(ZX(t))return["axisRadar",[n]];if(!ld(t))return["axisY",[n]]}return null}).filter(fr)}function VGe(e,t){const n=e.filter(r=>LGe(r));return[...HGe(n),...WGe(n,t)]}function cT(e){const t=Il(e,"polar");if(t.length){const r=t[t.length-1],{startAngle:a,endAngle:i}=f$(r);return[a,i]}const n=Il(e,"radial");if(n.length){const r=n[n.length-1],{startAngle:a,endAngle:i}=p$(r);return[a,i]}return[-Math.PI/2,Math.PI/2*3]}function YGe(e){const t=/position(\d*)/g.exec(e);return t?+t[1]:null}function XGe(e,t,n,r,a){const{name:i}=n[0];if(e==="axisRadar"){const o=r.filter(d=>d.name.startsWith("position")),s=YGe(i);if(s===null)return[null,null];const[l,c]=cT(a),u=ZX(a)?o.length:o.length-1;return["center",(c-l)/u*s+l]}if(e==="axisY"&&jUe(a))return vh(a)?["center","horizontal"]:["center","vertical"];if(e==="axisLinear"){const[o]=cT(a);return["center",o]}return e==="axisArc"?t[0]==="inner"?["inner",null]:["outer",null]:ld(a)?["center",null]:s1(a)?["center",null]:e==="axisX"&&zUe(a)||e==="axisX"&&UUe(a)?["top",null]:t}function qGe(e,t,n,r,a,i,o){const[s]=cT(o),l=[r.position||t,s??n];return typeof e=="string"&&e.startsWith("axis")?XGe(e,l,a,i,o):typeof e=="string"&&e.startsWith("legend")&&ld(o)&&r.position==="center"?["center","vertical"]:l}function KGe(e,t,n=[]){return e==="x"?vh(n)?`${t}Y`:`${t}X`:e==="y"?vh(n)?`${t}X`:`${t}Y`:null}function ZGe(e,t,n){const[,r]=wr("component",n),{coordinates:a}=e;function i(o,s,l,c){const u=KGe(s,o,a);if(!c||!u)return;const{props:f}=r(u),{defaultPosition:d,defaultSize:h,defaultOrder:p,defaultCrossPadding:[v]}=f;return Object.assign(Object.assign({position:d,defaultSize:h,order:p,type:u,crossPadding:v},c),{scales:[l]})}return t.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:l,name:c}=o;return[i("slider",c,o,s),i("scrollbar",c,o,l)]}).filter(o=>!!o)}function Rq(e,t,n,r,a,i){const{type:o}=e;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const l=o;return(l.startsWith("axis")?nWe:l.startsWith("group")?QGe:l.startsWith("legendContinuous")?rWe:l==="legendCategory"?aWe:l.startsWith("slider")?tWe:l==="title"?eWe:l.startsWith("scrollbar")?JGe:()=>{})(e,t,n,r,a,i)}function QGe(e,t,n,r,a,i){const{children:o}=e,s=Fn(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>Rq(c,t,n,r,a,i));const l=Fn(o,c=>c.size);e.size=l,o.forEach(c=>c.size=l)}function JGe(e,t,n,r,a,i){const{trackSize:o=6}=Ie({},a.scrollbar,e);e.size=o}function eWe(e,t,n,r,a,i){const o=Ie({},a.title,e),{title:s,subtitle:l,spacing:c=0}=o,u=Cf(o,["title","subtitle","spacing"]);if(s){const f=qe(u,"title"),d=ob(s,f);e.size=d.height}if(l){const f=qe(u,"subtitle"),d=ob(l,f);e.size+=c+d.height}}function tWe(e,t,n,r,a,i){const o=()=>{const{slider:u}=a;return Ie({},u,e)},{trackSize:s,handleIconSize:l}=o(),c=Math.max(s,l*2.4);e.size=c}function nWe(e,t,n,r,a,i){var o;e.transform=e.transform||[{type:"hide"}];const s=r==="left"||r==="right",l=Nq(e,r,a),{tickLength:c=0,labelSpacing:u=0,titleSpacing:f=0,labelAutoRotate:d}=l,h=Cf(l,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=Vw(e,i),v=Yw(h,p),g=c+u;if(v&&v.length){const y=Fn(v,b=>b.width),x=Fn(v,b=>b.height);if(s)e.size=y+g;else{const{tickFilter:b,labelTransform:E}=e;sWe(p,v,t,n,b)&&!E&&d!==!1&&d!==null?(e.labelTransform="rotate(90)",e.size=y+g):(e.labelTransform=(o=e.labelTransform)!==null&&o!==void 0?o:"rotate(0)",e.size=x+g)}}else e.size=c;const m=Xw(h);m&&(s?e.size+=f+m.width:e.size+=f+m.height)}function rWe(e,t,n,r,a,i){const s=(()=>{const{legendContinuous:b}=a;return Ie({},b,e)})(),{labelSpacing:l=0,titleSpacing:c=0}=s,u=Cf(s,["labelSpacing","titleSpacing"]),f=r==="left"||r==="right",d=qe(u,"ribbon"),{size:h}=d,p=qe(u,"handleIcon"),{size:v}=p,g=Math.max(h,v*2.4);e.size=g;const m=Vw(e,i),y=Yw(u,m);if(y){const b=f?"width":"height",E=Fn(y,_=>_[b]);e.size+=E+l}const x=Xw(u);x&&(f?e.size=Math.max(e.size,x.width):e.size+=c+x.height)}function aWe(e,t,n,r,a,i){const s=(()=>{const{legendCategory:M}=a,{title:R}=e,[I,P]=Array.isArray(R)?[R,void 0]:[void 0,R];return Ie({title:I},M,Object.assign(Object.assign({},e),{title:P}))})(),{itemSpacing:l,itemMarkerSize:c,titleSpacing:u,rowPadding:f,colPadding:d,maxCols:h=1/0,maxRows:p=1/0}=s,v=Cf(s,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:g,length:m}=e,y=M=>Math.min(M,p),x=M=>Math.min(M,h),b=r==="left"||r==="right",E=m===void 0?t+(b?0:n[0]+n[1]):m,_=Xw(v),w=Vw(e,i),A=Yw(v,w,"itemLabel"),S=Math.max(A[0].height,c)+f,k=(M,R=0)=>c+M+l[0]+R;b?(()=>{let M=-1/0,R=0,I=1,P=0,B=-1/0,N=-1/0;const V=_?_.height:0,W=E-V;for(const{width:z}of A){const j=k(z,d);M=Math.max(M,j),R+S>W?(I++,B=Math.max(B,P),N=Math.max(N,R),P=1,R=S):(R+=S,P++)}I<=1&&(B=P,N=R),e.size=M*x(I),e.length=N+V,Ie(e,{cols:x(I),gridRow:B})})():typeof g=="number"?(()=>{const M=Math.ceil(A.length/g),R=Fn(A,I=>k(I.width))*g;e.size=S*y(M)-f,e.length=Math.min(R,E)})():(()=>{let M=1,R=0,I=-1/0;for(const{width:P}of A){const B=k(P,d);R+B>E?(I=Math.max(I,R),R=B,M++):R+=B}M===1&&(I=R),e.size=S*y(M)-f,e.length=I})(),_&&(b?e.size=Math.max(e.size,_.width):e.size+=u+_.height)}function Vw(e,t){const[n]=wr("scale",t),{scales:r,tickCount:a,tickMethod:i}=e,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return a!==void 0&&(o.tickCount=a),i!==void 0&&(o.tickMethod=i),n(o)}function Yw(e,t,n="label"){const{labelFormatter:r,tickFilter:a,label:i=!0}=e,o=Cf(e,["labelFormatter","tickFilter","label"]);if(!i)return null;const s=iWe(t,r,a),l=qe(o,n),c=s.map((d,h)=>Object.fromEntries(Object.entries(l).map(([p,v])=>[p,typeof v=="function"?v(d,h):v]))),u=s.map((d,h)=>{const p=c[h];return ob(d,p)});if(!c.some(d=>d.transform)){const d=s.map((h,p)=>p);e.indexBBox=new Map(d.map(h=>[h,[s[h],u[h]]]))}return u}function Xw(e){const t=c=>c===!1||c===null,{title:n}=e,r=Cf(e,["title"]);if(t(n)||n===void 0)return null;const a=qe(r,"title"),{direction:i,transform:o}=a,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:ob(s,Object.assign(Object.assign({},a),{transform:o||(i==="vertical"?"rotate(-90)":"")}))}function Nq(e,t,n){const{title:r}=e,[a,i]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${E3(t)}`]:s}=n;return Ie({title:a},o,s,Object.assign(Object.assign({},e),{title:i}))}function Dq(e,t){const n=e.getTicks?e.getTicks():e.getOptions().domain;return t?n.filter(t):n}function iWe(e,t,n){const a=Dq(e,n).map(o=>typeof o=="number"?S2(o):o),i=t?typeof t=="string"?kf(t):t:e.getFormatter?e.getFormatter():o=>`${o}`;return a.map(i)}function oWe(e,t){return e.getBandWidth?e.getBandWidth(t)/2:0}function sWe(e,t,n,r,a){if(Bs(t,h=>h.width)>n)return!0;const o=e.clone();o.update({range:[0,n]});const s=Dq(e,a),l=s.map(h=>o.map(h)+oWe(o,h)),c=s.map((h,p)=>p),u=-r[0],f=n+r[1],d=(h,p)=>{const{width:v}=p;return[h-v/2,h+v/2]};for(let h=0;h<c.length;h++){const p=l[h],[v,g]=d(p,t[h]);if(v<u||g>f)return!0;const m=l[h+1];if(m){const[y]=d(m,t[h+1]);if(g>y)return!0}}return!1}function ob(e,t){const n=lWe(e),{filter:r}=t,a=Cf(t,["filter"]);return n.attr(Object.assign(Object.assign({},a),{visibility:"none"})),n.getBBox()}function lWe(e){return e instanceof Dr?e:new Tc({style:{text:`${e}`}})}function cWe(e){const t=e.find(({type:a})=>a==="axisX"),n=e.find(({type:a})=>a==="axisY"),r=e.find(({type:a})=>a==="axisZ");t&&n&&r&&(t.plane="xy",n.plane="xy",r.plane="yz",r.origin=[t.bbox.x,t.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=t.bbox.x,r.bbox.y=t.bbox.y,e.push(Object.assign(Object.assign({},t),{plane:"xz",showLabel:!1,showTitle:!1,origin:[t.bbox.x,t.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function uWe(e,t,n,r){var a,i;const{width:o,height:s,depth:l,x:c=0,y:u=0,z:f=0,inset:d=(a=n.inset)!==null&&a!==void 0?a:0,insetLeft:h=d,insetTop:p=d,insetBottom:v=d,insetRight:g=d,margin:m=(i=n.margin)!==null&&i!==void 0?i:0,marginLeft:y=m,marginBottom:x=m,marginTop:b=m,marginRight:E=m,padding:_=n.padding,paddingBottom:w=_,paddingLeft:A=_,paddingRight:S=_,paddingTop:k=_}=dWe(e,t,n,r),T=1/4,O=(re,ie,U,q,Q)=>{const{marks:X}=t;if(X.length===0)return[q,Q];if(re-q-Q-re*T>0)return[q,Q];const pe=re*(1-T);return[ie==="auto"?pe*q/(q+Q):q,U==="auto"?pe*Q/(q+Q):Q]},C=re=>re==="auto"?20:re??20,M=C(k),R=C(w),I=SD(e,s-M-R,[M+b,R+x],["left","right"],t,n,r),{paddingLeft:P,paddingRight:B}=I,N=o-y-E,[V,W]=O(N,A,S,P,B),z=N-V-W,j=SD(e,z,[V+y,W+E],["bottom","top"],t,n,r),{paddingTop:L,paddingBottom:F}=j,H=s-x-b,[D,G]=O(H,w,k,F,L),K=H-D-G;return{width:o,height:s,depth:l,insetLeft:h,insetTop:p,insetBottom:v,insetRight:g,innerWidth:z,innerHeight:K,paddingLeft:V,paddingRight:W,paddingTop:G,paddingBottom:D,marginLeft:y,marginBottom:x,marginTop:b,marginRight:E,x:c,y:u,z:f}}function fWe(e){const{height:t,width:n,padding:r=0,paddingLeft:a=r,paddingRight:i=r,paddingTop:o=r,paddingBottom:s=r,margin:l=16,marginLeft:c=l,marginRight:u=l,marginTop:f=l,marginBottom:d=l,inset:h=0,insetLeft:p=h,insetRight:v=h,insetTop:g=h,insetBottom:m=h}=e,y=E=>E==="auto"?20:E,x=n-y(a)-y(i)-c-u-p-v,b=t-y(o)-y(s)-f-d-g-m;return{width:x,height:b}}function dWe(e,t,n,r){const{coordinates:a}=t;if(!ld(a)&&!s1(a))return t;const i=e.filter(m=>typeof m.type=="string"&&m.type.startsWith("axis"));if(i.length===0)return t;const o=i.map(m=>{const y=m.type==="axisArc"?"arc":"linear";return Nq(m,y,n)}),s=Fn(o,m=>{var y;return(y=m.labelSpacing)!==null&&y!==void 0?y:0}),l=i.flatMap((m,y)=>{const x=o[y],b=Vw(m,r);return Yw(x,b)}).filter(fr),c=Fn(l,m=>m.height)+s,u=i.flatMap((m,y)=>{const x=o[y];return Xw(x)}).filter(m=>m!==null),f=u.length===0?0:Fn(u,m=>m.height),{inset:d=c,insetLeft:h=d,insetBottom:p=d,insetTop:v=d+f,insetRight:g=d}=t;return Object.assign(Object.assign({},t),{insetLeft:h,insetBottom:p,insetTop:v,insetRight:g})}function SD(e,t,n,r,a,i,o){const s=ur(e,p=>p.position),{padding:l=i.padding,paddingLeft:c=l,paddingRight:u=l,paddingBottom:f=l,paddingTop:d=l}=a,h={paddingBottom:f,paddingLeft:c,paddingTop:d,paddingRight:u};for(const p of r){const v=`padding${E3(uC(p))}`,g=s.get(p)||[],m=h[v],y=S=>{S.size===void 0&&(S.size=S.defaultSize)},x=S=>{S.type==="group"?(S.children.forEach(y),S.size=Fn(S.children,k=>k.size)):S.size=S.defaultSize},b=S=>{S.size||(m!=="auto"?x(S):(Rq(S,t,n,p,i,o),y(S)))},E=S=>{S.type.startsWith("axis")&&S.labelAutoHide===void 0&&(S.labelAutoHide=!0)},_=p==="bottom"||p==="top",w=is(g,S=>S.order),A=g.filter(S=>S.type.startsWith("axis")&&S.order==w);if(A.length&&(A[0].crossPadding=0),typeof m=="number")g.forEach(y),g.forEach(E);else if(g.length===0)h[v]=0;else{const S=_?t+n[0]+n[1]:t,k=Iq(g,S);k.forEach(b);const T=k.reduce((O,{size:C,crossPadding:M=12})=>O+C+M,0);h[v]=T}}return h}function hWe(e,t,n){const r=ur(e,_=>`${_.plane||"xy"}-${_.position}`),{paddingLeft:a,paddingRight:i,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m,height:y,width:x,depth:b}=n,E={xy:xS({width:x,height:y,paddingLeft:a,paddingRight:i,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m}),yz:xS({width:b,height:y,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:y,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:xS({width:x,height:b,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:x,innerHeight:b,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[_,w]of r.entries()){const[A,S]=_.split("-"),k=E[A][S],[T,O]=Uj(w,C=>typeof C.type!="string"?!1:!!(S==="center"||C.type.startsWith("axis")&&["inner","outer"].includes(S)));T.length&&pWe(T,t,k,S),O.length&&EWe(w,t,k)}}function xS({width:e,height:t,paddingLeft:n,paddingRight:r,paddingTop:a,paddingBottom:i,marginLeft:o,marginTop:s,marginBottom:l,marginRight:c,innerHeight:u,innerWidth:f,insetBottom:d,insetLeft:h,insetRight:p,insetTop:v}){const g=n+o,m=a+s,y=r+c,x=i+l,b=e-o-c,E=[g+h,m+v,f-h-p,u-v-d,"center",null,null];return{top:[g,0,f,m,"vertical",!0,Qr,o,b],right:[e-y,m,y,u,"horizontal",!1,Qr],bottom:[g,t-x,f,x,"vertical",!1,Qr,o,b],left:[0,m,g,u,"horizontal",!0,Qr],"top-left":[g,0,f,m,"vertical",!0,Qr],"top-right":[g,0,f,m,"vertical",!0,Qr],"bottom-left":[g,t-x,f,x,"vertical",!1,Qr],"bottom-right":[g,t-x,f,x,"vertical",!1,Qr],center:E,inner:E,outer:E}}function pWe(e,t,n,r){const[a,i]=Uj(e,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));vWe(a,t,n,r),SWe(i,t,n)}function vWe(e,t,n,r){r==="center"?sOe(t)?_We(e,t,n):Vn(t)?yWe(e,t,n):fw(t)&&xWe(e,t,n,e[0].orientation):r==="inner"?gWe(e,t,n):r==="outer"&&mWe(e,t,n)}function gWe(e,t,n){const[r,a,,i]=n,[o,s]=t.getCenter(),[l]=dw(t),c=i/2,u=l*c,f=o-u,d=s-u;for(let h=0;h<e.length;h++){const p=e[h];p.bbox={x:r+f,y:a+d,width:u*2,height:u*2}}}function mWe(e,t,n){const[r,a,i,o]=n;for(const s of e)s.bbox={x:r,y:a,width:i,height:o}}function yWe(e,t,n){const[r,a,i,o]=n;for(const s of e)s.bbox={x:r,y:a,width:i,height:o}}function xWe(e,t,n,r){r==="horizontal"?wWe(e,t,n):r==="vertical"&&bWe(e,t,n)}function bWe(e,t,n){const[r,a,,i]=n,o=new Array(e.length).fill(0),l=t.map(o).filter((c,u)=>u%2===0).map(c=>c+r);for(let c=0;c<e.length;c++){const u=e[c],f=l[c],d=l[c+1]-f;u.bbox={x:f,y:a,width:d,height:i}}}function wWe(e,t,n){const[r,a,i]=n,o=new Array(e.length).fill(0),l=t.map(o).filter((c,u)=>u%2===1).map(c=>c+a);for(let c=0;c<e.length;c++){const u=e[c],f=l[c],d=l[c+1]-f;u.bbox={x:r,y:f,width:i,height:d}}}function _We(e,t,n,r){const[a,i,o,s]=n;for(const l of e)l.bbox={x:a,y:i,width:o,height:s},l.radar={index:e.indexOf(l),count:e.length}}function EWe(e,t,n){const[r,a,i,o,s,l,c,u,f]=n,[d,h,p,v,g,m,y,x]=s==="vertical"?["y",a,"x",r,"height",o,"width",i]:["x",r,"y",a,"width",i,"height",o];e.sort((S,k)=>c==null?void 0:c(S.order,k.order));const b=S=>S==="title"||S==="group"||S.startsWith("legend"),E=(S,k,T)=>T===void 0?k:b(S)?T:k,_=(S,k,T)=>T===void 0?k:b(S)?T:k,w=l?h+m:h;for(let S=0,k=w;S<e.length;S++){const T=e[S],{crossPadding:O=0,type:C}=T,{size:M}=T;T.bbox={[d]:l?k-M-O:k+O,[p]:_(C,v,u),[g]:M,[y]:E(C,x,f)},k+=(M+O)*(l?-1:1)}const A=e.filter(S=>S.type==="group");for(const S of A){const{bbox:k,children:T}=S,O=k[y],C=O/T.length,M=T.reduce((N,V)=>{var W;const z=(W=V.layout)===null||W===void 0?void 0:W.justifyContent;return z||N},"flex-start"),R=T.map((N,V)=>{const{length:W=C,padding:z=0}=N;return W+(V===T.length-1?0:z)}),I=Bs(R),P=O-I,B=M==="flex-start"?0:M==="center"?P/2:P;for(let N=0,V=k[p]+B;N<T.length;N++){const W=T[N],{padding:z=0}=W,j=N===T.length-1?0:z;W.bbox={[g]:k[g],[d]:k[d],[p]:V,[y]:R[N]-j},Ie(W,{layout:{justifyContent:M}}),V+=R[N]}}}function SWe(e,t,n){if(e.length===0)return;const[r,a,i,o]=n,[s]=dw(t),l=o/2*s/Math.sqrt(2),c=r+i/2,u=a+o/2;for(let f=0;f<e.length;f++){const d=e[f];d.bbox={x:c-l,y:u-l,width:l*2,height:l*2}}}var AWe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},sp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Lq=Symbol("CALLBACK_ITEM");function kWe(e,t,n){const{encode:r={},scale:a={},transform:i=[]}=t,o=sp(t,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},o),{encode:r,scale:a,transform:i})]}function Fq(e,t,n){return AWe(this,void 0,void 0,function*(){const{library:r}=n,{data:a}=t,[i]=wr("data",r),o=$We(a),{transform:s=[]}=o,u=[sp(o,["transform"]),...s].map(h=>i(h,n)),f=yield Jke(u)(a),d=a&&!Array.isArray(a)&&!Array.isArray(f)?{value:f}:f;return[Array.isArray(f)?i0(f):[],Object.assign(Object.assign({},t),{data:d})]})}function TWe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const a={};for(const[i,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=`${i}${s===0?"":s}`;a[l]=o[s]}else a[i]=o;return[e,Object.assign(Object.assign({},t),{encode:a})]}function OWe(e,t,n){const{encode:r,data:a}=t;if(!r)return[e,t];const i=Ac(r,o=>LWe(o)?o:{type:FWe(a,o),value:o});return[e,Object.assign(Object.assign({},t),{encode:i})]}function CWe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const a=Ac(r,(i,o)=>{const{type:s}=i;return s!=="constant"||DGe(o)?i:Object.assign(Object.assign({},i),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:a})]}function MWe(e,t,n){const{encode:r,data:a}=t;if(!r)return[e,t];const{library:i}=n,o=UWe(i),s=Ac(r,l=>o(a,l));return[e,Object.assign(Object.assign({},t),{encode:s})]}function PWe(e,t,n){const{tooltip:r={}}=t;return vu(r)?[e,t]:Array.isArray(r)?[e,Object.assign(Object.assign({},t),{tooltip:{items:r}})]:Hh(r)&&cV(r)?[e,Object.assign(Object.assign({},t),{tooltip:r})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[r]}})]}function IWe(e,t,n){const{data:r,encode:a,tooltip:i={}}=t;if(vu(i))return[e,t];const o=f=>{if(!f)return f;if(typeof f=="string")return e.map(d=>({name:f,value:r[d][f]}));if(Hh(f)){const{field:d,channel:h,color:p,name:v=d,valueFormatter:g=_=>_}=f,m=typeof g=="string"?kf(g):g,y=h&&a[h],x=y&&a[h].field,b=v||x||h,E=[];for(const _ of e){const w=d?r[_][d]:y?a[h].value[_]:null;E[_]={name:b,color:p,value:m(w)}}return E}if(typeof f=="function"){const d=[];for(const h of e){const p=f(r[h],h,r,a);Hh(p)?d[h]=Object.assign(Object.assign({},p),{[Lq]:!0}):d[h]={value:p}}return d}return f},{title:s,items:l=[]}=i,c=sp(i,["title","items"]),u=Object.assign({title:o(s),items:Array.isArray(l)?l.map(o):[]},c);return[e,Object.assign(Object.assign({},t),{tooltip:u})]}function RWe(e,t,n){const{encode:r}=t,a=sp(t,["encode"]);if(!r)return[e,t];const i=Object.entries(r),o=i.filter(([,l])=>{const{value:c}=l;return Array.isArray(c[0])}).flatMap(([l,c])=>{const u=[[l,new Array(e.length).fill(void 0)]],{value:f}=c,d=sp(c,["value"]);for(let h=0;h<f.length;h++){const p=f[h];if(Array.isArray(p))for(let v=0;v<p.length;v++){const g=u[v]||[`${l}${v}`,new Array(e).fill(void 0)];g[1][h]=p[v],u[v]=g}}return u.map(([h,p])=>[h,Object.assign({type:"column",value:p},d)])}),s=Object.fromEntries([...i,...o]);return[e,Object.assign(Object.assign({},a),{encode:s})]}function NWe(e,t,n){const{axis:r={},legend:a={},slider:i={},scrollbar:o={}}=t,s=(c,u)=>{if(typeof c=="boolean")return c?{}:null;const f=c[u];return f===void 0||f?f:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return Ie(t,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(c=>{const u=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(i,c),scrollbar:u},u&&{ratio:u.ratio===void 0?.5:u.ratio})]}))),{color:{guide:s(a,"color")},size:{guide:s(a,"size")},shape:{guide:s(a,"shape")},opacity:{guide:s(a,"opacity")}})}),[e,t]}function DWe(e,t,n){const{animate:r}=t;return r||r===void 0?[e,t]:(Ie(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t])}function LWe(e){if(typeof e!="object"||e instanceof Date||e===null)return!1;const{type:t}=e;return fr(t)}function FWe(e,t){return typeof t=="function"?"transform":typeof t=="string"&&BWe(e,t)?"field":"constant"}function BWe(e,t){return Array.isArray(e)?e.some(n=>n[t]!==void 0):!1}function $We(e){if(kn(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:t="inline"}=e,n=sp(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}var Bq=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},jWe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function zWe(e,t,n){return Bq(this,void 0,void 0,function*(){const[r,a]=yield HWe(e,t,n),{encode:i,scale:o,data:s,tooltip:l}=a;if(Array.isArray(s)===!1)return null;const{channels:c}=t,u=h3(Object.entries(i).filter(([,d])=>fr(d)),d=>d.map(([h,p])=>Object.assign({name:h},p)),([d])=>{var h;const p=(h=/([^\d]+)\d*$/.exec(d))===null||h===void 0?void 0:h[1],v=c.find(g=>g.name===p);return v!=null&&v.independent?d:p}),f=c.filter(d=>{const{name:h,required:p}=d;if(u.find(([v])=>v===h))return!0;if(p)throw new Error(`Missing encoding for channel: ${h}.`);return!1}).flatMap(d=>{const{name:h,scale:p,scaleKey:v,range:g,quantitative:m,ordinal:y}=d;return u.filter(([b])=>b.startsWith(h)).map(([b,E],_)=>{const w=E.some(I=>I.visual),A=E.some(I=>I.constant),S=o[b]||{},{independent:k=!1,key:T=v||b,type:O=A?"constant":w?"identity":p}=S,C=jWe(S,["independent","key","type"]),M=O==="constant",R=M?void 0:g;return{name:b,values:E,scaleKey:k||M?Symbol("independent"):T,scale:Object.assign(Object.assign({type:O,range:R},C),{quantitative:m,ordinal:y})}})});return[a,Object.assign(Object.assign({},t),{index:r,channels:f,tooltip:l})]})}function UWe(e){const[t]=wr("encode",e);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:t(r)(n),field:GWe(r)})}function HWe(e,t,n){return Bq(this,void 0,void 0,function*(){const{library:r}=n,[a]=wr("transform",r),{preInference:i=[],postInference:o=[]}=t,{transform:s=[]}=e,l=[kWe,Fq,TWe,OWe,CWe,MWe,RWe,DWe,NWe,PWe,...i.map(a),...s.map(a),...o.map(a),IWe];let c=[],u=e;for(const f of l)[c,u]=yield f(c,u,n);return[c,u]})}function GWe(e){const{type:t,value:n}=e;return t==="field"&&typeof n=="string"?n:null}var cu=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},ff=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function P4(e,t,n){var r;return cu(this,void 0,void 0,function*(){const{library:a}=n,[i]=wr("composition",a),[o]=wr("interaction",a),s=new Set(Object.keys(a).map(C=>{var M;return(M=/mark\.(.*)/.exec(C))===null||M===void 0?void 0:M[1]}).filter(fr)),l=new Set(Object.keys(a).map(C=>{var M;return(M=/component\.(.*)/.exec(C))===null||M===void 0?void 0:M[1]}).filter(fr)),c=C=>{const{type:M}=C;if(typeof M=="function"){const{props:R={}}=M,{composite:I=!0}=R;if(I)return"mark"}return typeof M!="string"?M:s.has(M)||l.has(M)?"mark":M},u=C=>c(C)==="mark",f=C=>c(C)==="standardView",d=C=>{const{type:M}=C;return typeof M!="string"?!1:!!l.has(M)},h=C=>{if(f(C))return[C];const M=c(C);return i({type:M,static:d(C)})(C)},p=[],v=new Map,g=new Map,m=[e],y=[];for(;m.length;){const C=m.shift();if(f(C)){const M=g.get(C),[R,I]=M?zq(M,C,a):yield $q(C,n);v.set(R,C),p.push(R);const P=I.flatMap(h).map(B=>qX(B,a));if(m.push(...P),P.every(f)){const B=yield Promise.all(P.map(N=>jq(N,n)));hGe(B);for(let N=0;N<P.length;N++){const V=P[N],W=B[N];g.set(V,W)}}}else{const M=u(C)?C:yield Wq(C,n),R=h(M);Array.isArray(R)?m.push(...R):typeof R=="function"&&y.push(R())}}n.emitter.emit(jn.BEFORE_PAINT);const x=new Map,b=new Map,E=[];t.selectAll(fc(U2)).data(p,C=>C.key).join(C=>C.append("g").attr("className",U2).attr("id",M=>M.key).call(AD).each(function(M,R,I){fT(M,Mt(I),E,n),x.set(M,I)}),C=>C.call(AD).each(function(M,R,I){fT(M,Mt(I),E,n),b.set(M,I)}),C=>C.each(function(M,R,I){const P=I.nameInteraction.values();for(const B of P)B.destroy()}).remove());const _=(C,M,R)=>Array.from(C.entries()).map(([I,P])=>{const B=R||new Map,N=(z,j=L=>L)=>B.set(z,j),V=v.get(I),W=VWe(Mt(P),V,n);return{view:I,container:P,options:V,setState:N,update:(z,j)=>cu(this,void 0,void 0,function*(){const F=_3(Array.from(B.values()))(V);return yield W(F,z,()=>{di(j)&&M(C,j,B)})})}}),w=(C=b,M,R)=>{var I;const P=_(C,w,R);for(const B of P){const{options:N,container:V}=B,W=V.nameInteraction;let z=sb(N);M&&(z=z.filter(j=>M.includes(j[0])));for(const j of z){const[L,F]=j,H=W.get(L);if(H&&((I=H.destroy)===null||I===void 0||I.call(H)),F){const G=uT(B.view,L,F,o)(B,P,n.emitter);W.set(L,{destroy:G})}}}},A=_(x,w);for(const C of A){const{options:M}=C,R=new Map;C.container.nameInteraction=R;for(const I of sb(M)){const[P,B]=I;if(B){const V=uT(C.view,P,B,o)(C,A,n.emitter);R.set(P,{destroy:V})}}}w();const{width:S,height:k}=e,T=[];for(const C of y){const M=new Promise(R=>cu(this,void 0,void 0,function*(){for(const I of C){const P=Object.assign({width:S,height:k},I);yield P4(P,t,n)}R()}));T.push(M)}n.views=p,(r=n.animations)===null||r===void 0||r.forEach(C=>C==null?void 0:C.cancel()),n.animations=E,n.emitter.emit(jn.AFTER_PAINT);const O=E.filter(fr).map(sVe).map(C=>C.finished);return Promise.all([...O,...T])})}function AD(e){e.style("transform",t=>`translate(${t.layout.x}, ${t.layout.y})`)}function WWe(e){const[,t]=wr("interaction",e);return n=>{const[r,a]=n;try{return[r,t(r)]}catch{return[r,a.type]}}}function VWe(e,t,n){const{library:r}=n,a=WWe(r),i=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,s=sb(t).map(a).filter(i).map(l=>l[0]);return(l,c,u)=>cu(this,void 0,void 0,function*(){const f=[],[d,h]=yield $q(l,n);fT(d,e,f,n);for(const p of s.filter(v=>v!==c))YWe(p,e,l,d,n);for(const p of h)P4(p,e,n);return u(),{options:l,view:d}})}function YWe(e,t,n,r,a){var i;const{library:o}=a,[s]=wr("interaction",o),c=t.node().nameInteraction,u=sb(n).find(([v])=>v===e),f=c.get(e);if(!f||((i=f.destroy)===null||i===void 0||i.call(f),!u[1]))return;const d=uT(r,e,u[1],s),h={options:n,view:r,container:t.node(),update:v=>Promise.resolve(v)},p=d(h,[],a.emitter);c.set(e,{destroy:p})}function $q(e,t){return cu(this,void 0,void 0,function*(){const{library:n}=t,r=yield qWe(e,t),a=XWe(r);e.interaction=a.interaction,e.coordinate=a.coordinate,e.marks=[...a.marks,...a.components];const i=qX(a,n),o=yield jq(i,t);return zq(o,i,n)})}function XWe(e){const{coordinate:t={},interaction:n={},style:r={},marks:a}=e,i=ff(e,["coordinate","interaction","style","marks"]),o=a.map(d=>d.coordinate||{}),s=a.map(d=>d.interaction||{}),l=a.map(d=>d.viewStyle||{}),c=[...o,t].reduceRight((d,h)=>Ie(d,h),{}),u=[n,...s].reduce((d,h)=>Ie(d,h),{}),f=[...l,r].reduce((d,h)=>Ie(d,h),{});return Object.assign(Object.assign({},i),{marks:a,coordinate:c,interaction:u,style:f})}function qWe(e,t){return cu(this,void 0,void 0,function*(){const{library:n}=t,[r,a]=wr("mark",n),i=new Set(Object.keys(n).map(h=>{var p;return(p=/component\.(.*)/.exec(h))===null||p===void 0?void 0:p[1]}).filter(fr)),{marks:o}=e,s=[],l=[],c=[...o],{width:u,height:f}=fWe(e),d={options:e,width:u,height:f};for(;c.length;){const[h]=c.splice(0,1),p=yield Wq(h,t),{type:v=Uh("G2Mark type is required."),key:g}=p;if(i.has(v))l.push(p);else{const{props:m={}}=a(v),{composite:y=!0}=m;if(!y)s.push(p);else{const{data:x}=p,b=Object.assign(Object.assign({},p),{data:x&&(Array.isArray(x)?x:x.value)}),E=yield r(b,d),_=Array.isArray(E)?E:[E];c.unshift(..._.map((w,A)=>Object.assign(Object.assign({},w),{key:`${g}-${A}`})))}}}return Object.assign(Object.assign({},e),{marks:s,components:l})})}function jq(e,t){return cu(this,void 0,void 0,function*(){const{library:n}=t,[r]=wr("theme",n),[,a]=wr("mark",n),{theme:i,marks:o,coordinates:s=[]}=e,l=r(Gq(i)),c=new Map;for(const f of o){const{type:d}=f,{props:h={}}=a(d),p=yield zWe(f,h,t);if(p){const[v,g]=p;c.set(v,g)}}const u=ur(Array.from(c.values()).flatMap(f=>f.channels),({scaleKey:f})=>f);for(const f of u.values()){const d=f.reduce((b,{scale:E})=>Ie(b,E),{}),{scaleKey:h}=f[0],{values:p}=f[0],v=Array.from(new Set(p.map(b=>b.field).filter(fr))),g=Ie({guide:{title:v.length===0?void 0:v},field:v[0]},d),{name:m}=f[0],y=f.flatMap(({values:b})=>b.map(E=>E.value)),x=Object.assign(Object.assign({},lGe(m,y,g,s,l,n)),{uid:Symbol("scale"),key:h});f.forEach(b=>b.scale=x)}return c})}function uT(e,t,n,r){const a=e.theme,i=typeof t=="string"?a[t]||{}:{};return r(Ie(i,Object.assign({type:t},n)))}function zq(e,t,n){var r;const[a]=wr("mark",n),[i]=wr("theme",n),[o]=wr("labelTransform",n),{key:s,frame:l=!1,theme:c,clip:u,style:f={},labelTransform:d=[]}=t,h=i(Gq(c)),p=Array.from(e.values()),v=fGe(p,t),g=UGe(zGe(fVe(Array.from(v),p,e),t,n)),m=uWe(g,t,h,n),y=BUe(m,t,n),x=l?Ie({mainLineWidth:1,mainStroke:"#000"},f):f;hWe(Iq(g),y,m),cWe(g);const b=new Map(Array.from(e.values()).flatMap(S=>{const{channels:k}=S;return k.map(({scale:T})=>[T.uid,gD(T,n)])}));uGe(e,b);const E={};for(const S of g){const{scales:k=[]}=S,T=[];for(const O of k){const{name:C,uid:M}=O,R=(r=b.get(M))!==null&&r!==void 0?r:gD(O,n);T.push(R),C==="y"&&R.update(Object.assign(Object.assign({},R.getOptions()),{xScale:E.x})),vD(E,{[C]:R})}S.scaleInstances=T}const _=[],w=new Map;for(const[S,k]of e.entries()){const{children:T,dataDomain:O,modifier:C,key:M,data:R}=S;w.set(M,R);const{index:I,channels:P,tooltip:B}=k,N=Object.fromEntries(P.map(({name:U,scale:q})=>[U,q])),V=Ac(N,({uid:U})=>b.get(U));vD(E,V);const W=cGe(P,V),z=a(S),[j,L,F]=QWe(z(I,V,W,y)),H=O||j.length,D=C?C(L,H,m):[],G=U=>{var q,Q;return(Q=(q=B.title)===null||q===void 0?void 0:q[U])===null||Q===void 0?void 0:Q.value},K=U=>B.items.map(q=>q[U]),re=j.map((U,q)=>{const Q=Object.assign({points:L[q],transform:D[q],index:U,markKey:M,viewKey:s,data:R[U]},B&&{title:G(U),items:K(U)});for(const[X,ce]of Object.entries(W))Q[X]=ce[U],F&&(Q[`series${bf(X)}`]=F[q].map(te=>ce[te]));return F&&(Q.seriesIndex=F[q]),F&&B&&(Q.seriesItems=F[q].map(X=>K(X)),Q.seriesTitle=F[q].map(X=>G(X))),Q});k.data=re,k.index=j;const ie=T==null?void 0:T(re,V,m);_.push(...ie||[])}return[{layout:m,theme:h,coordinate:y,markState:e,key:s,clip:u,scale:E,style:x,components:g,data:w,labelTransform:_3(d.map(o))},_]}function fT(e,t,n,r){return cu(this,void 0,void 0,function*(){const{library:a}=r,{components:i,theme:o,layout:s,markState:l,coordinate:c,key:u,style:f,clip:d,scale:h}=e,{x:p,y:v,width:g,height:m}=s,y=ff(s,["x","y","width","height"]),x=["view","plot","main","content"],b=x.map((B,N)=>N),E=["a","margin","padding","inset"],_=x.map(B=>$j(Object.assign({},o.view,f),B)),w=E.map(B=>qe(y,B)),A=B=>B.style("x",N=>C[N].x).style("y",N=>C[N].y).style("width",N=>C[N].width).style("height",N=>C[N].height).each(function(N,V,W){dVe(Mt(W),_[N])});let S=0,k=0,T=g,O=m;const C=b.map(B=>{const N=w[B],{left:V=0,top:W=0,bottom:z=0,right:j=0}=N;return S+=V,k+=W,T-=V+j,O-=W+z,{x:S,y:k,width:T,height:O}});t.selectAll(fc(SN)).data(b.filter(B=>fr(_[B])),B=>x[B]).join(B=>B.append("rect").attr("className",SN).style("zIndex",-2).call(A),B=>B.call(A),B=>B.remove());const M=nVe(l),R=M?{duration:M[1]}:!1;for(const[,B]of f3(i,N=>`${N.type}-${N.position}`))B.forEach((N,V)=>N.index=V);const I=t.selectAll(fc(EN)).data(i,B=>`${B.type}-${B.position}-${B.index}`).join(B=>B.append("g").style("zIndex",({zIndex:N})=>N||-1).attr("className",EN).append(N=>ED(Ie({animate:R,scale:h},N),c,o,a,l)),B=>B.transition(function(N,V,W){const{preserve:z=!1}=N;if(z)return;const j=ED(Ie({animate:R,scale:h},N),c,o,a,l),{attributes:L}=j,[F]=W.childNodes;return F.update(L,!1)})).transitions();n.push(...I.flat().filter(fr));const P=t.selectAll(fc(H2)).data([s],()=>u).join(B=>B.append("rect").style("zIndex",0).style("fill","transparent").attr("className",H2).call(kD).call(TD,Array.from(l.keys())).call(OD,d),B=>B.call(TD,Array.from(l.keys())).call(N=>M?uVe(N,M):kD(N)).call(OD,d)).transitions();n.push(...P.flat());for(const[B,N]of l.entries()){const{data:V}=N,{key:W,class:z,type:j}=B,L=t.select(`#${W}`),F=iVe(B,N,e,r),H=oVe(B,N,e,a),D=lVe(B,N,e,a),G=cVe(B,N,e,a),K=rVe(t,L,z,"element"),re=L.selectAll(fc(tc)).selectFacetAll(K).data(V,ie=>ie.key,ie=>ie.groupKey).join(ie=>ie.append(F).attr("className",tc).attr("markType",j).transition(function(U,q,Q){return H(U,[Q])}),ie=>ie.call(U=>{const q=U.parent(),Q=eTe(X=>{const[ce,te]=X.getBounds().min;return[ce,te]});U.transition(function(X,ce,te){aVe(te,q,Q);const pe=F(X,ce),me=D(X,[te],[pe]);return me!=null&&me.length||(te.nodeName===pe.nodeName&&pe.nodeName!=="g"?S3(te,pe):(te.parentNode.replaceChild(pe,te),pe.className=tc,pe.markType=j,pe.__data__=te.__data__)),me}).attr("markType",j).attr("className",tc)}),ie=>ie.each(function(U,q,Q){Q.__removed__=!0}).transition(function(U,q,Q){return G(U,[Q])}).remove(),ie=>ie.append(F).attr("className",tc).attr("markType",j).transition(function(U,q,Q){const{__fromElements__:X}=Q,ce=D(U,X,[Q]);return new E2(X,null,Q.parentNode).transition(ce).remove(),ce}),ie=>ie.transition(function(U,q,Q){const ce=new E2([],Q.__toData__,Q.parentNode).append(F).attr("className",tc).attr("markType",j).nodes();return D(U,[Q],ce)}).remove()).transitions();n.push(...re.flat())}KWe(e,t,n,a,r)})}function KWe(e,t,n,r,a){const[i]=wr("labelTransform",r),{markState:o,labelTransform:s}=e,l=t.select(fc(Uk)).node(),c=new Map,u=new Map,f=Array.from(o.entries()).flatMap(([m,y])=>{const{labels:x=[],key:b}=m,E=tVe(m,y,e,r,a),_=t.select(`#${b}`).selectAll(fc(tc)).nodes().filter(w=>!w.__removed__);return x.flatMap((w,A)=>{const{transform:S=[]}=w,k=ff(w,["transform"]);return _.flatMap(T=>{const O=ZWe(k,A,T);return O.forEach(C=>{c.set(C,M=>E(Object.assign(Object.assign({},M),{element:T}))),u.set(C,w)}),O})})}),d=Mt(l).selectAll(fc(Hk)).data(f,m=>m.key).join(m=>m.append(y=>c.get(y)(y)).attr("className",Hk),m=>m.each(function(y,x,b){const _=c.get(y)(y);S3(b,_)}),m=>m.remove()).nodes(),h=ur(d,m=>u.get(m.__data__)),{coordinate:p,layout:v}=e,g={canvas:a.canvas,coordinate:p,layout:v};for(const[m,y]of h){const{transform:x=[]}=m;_3(x.map(i))(y,g)}s&&s(d,g)}function ZWe(e,t,n){const{seriesIndex:r,seriesKey:a,points:i,key:o,index:s}=n.__data__,l=eVe(n);if(!r)return[Object.assign(Object.assign({},e),{key:`${o}-${t}`,bounds:l,index:s,points:i,dependentElement:n})];const c=JWe(e),u=r.map((f,d)=>Object.assign(Object.assign({},e),{key:`${a[d]}-${t}`,bounds:[i[d]],index:f,points:i,dependentElement:n}));return c?c(u):u}function QWe([e,t,n]){if(n)return[e,t,n];const r=[],a=[];for(let i=0;i<e.length;i++){const o=e[i],s=t[i];s.every(([l,c])=>fr(l)&&fr(c))&&(r.push(o),a.push(s))}return[r,a]}function JWe(e){const{selector:t}=e;if(!t)return null;if(typeof t=="function")return t;if(t==="first")return n=>[n[0]];if(t==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${t}`)}function eVe(e){const t=e.cloneNode(!0),n=e.getAnimations();t.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();t.attr(s[s.length-1])}),e.parentNode.appendChild(t);const r=t.getLocalBounds();t.destroy();const{min:a,max:i}=r;return[a,i]}function tVe(e,t,n,r,a){const[i]=wr("shape",r),{data:o,encode:s}=e,{data:l,defaultLabelShape:c}=t,u=l.map(v=>v.points),f=Ac(s,v=>v.value),{theme:d,coordinate:h}=n,p=Object.assign(Object.assign({},a),{document:XX(a),theme:d,coordinate:h});return v=>{const{index:g,points:m}=v,y=o[g],{formatter:x=N=>`${N}`,transform:b,style:E,render:_,selector:w,element:A}=v,S=ff(v,["formatter","transform","style","render","selector","element"]),k=Ac(Object.assign(Object.assign({},S),E),N=>Uq(N,y,g,o,{channel:f,element:A})),{shape:T=c,text:O}=k,C=ff(k,["shape","text"]),M=typeof x=="string"?kf(x):x,R=Object.assign(Object.assign({},C),{text:M(O,y,g,o),datum:y}),I=Object.assign({type:`label.${T}`,render:_},C),P=i(I,p),B=Hq(d,"label",T,"label");return P(m,R,B,u)}}function Uq(e,t,n,r,a){return typeof e=="function"?e(t,n,r,a):typeof e!="string"?e:Hh(t)&&t[e]!==void 0?t[e]:e}function nVe(e){let t=-1/0,n=1/0;for(const[r,a]of e){const{animate:i={}}=r,{data:o}=a,{enter:s={},update:l={},exit:c={}}=i,{type:u,duration:f=300,delay:d=0}=l,{type:h,duration:p=300,delay:v=0}=s,{type:g,duration:m=300,delay:y=0}=c;for(const x of o){const{updateType:b=u,updateDuration:E=f,updateDelay:_=d,enterType:w=h,enterDuration:A=p,enterDelay:S=v,exitDuration:k=m,exitDelay:T=y,exitType:O=g}=x;(b===void 0||b)&&(t=Math.max(t,E+_),n=Math.min(n,_)),(O===void 0||O)&&(t=Math.max(t,k+T),n=Math.min(n,T)),(w===void 0||w)&&(t=Math.max(t,A+S),n=Math.min(n,S))}}return t===-1/0?null:[n,t-n]}function rVe(e,t,n,r){const a=e.node().parentElement;return!a||typeof a.findAll!="function"?[]:a.findAll(i=>i.style.facet!==void 0&&i.style.facet===n&&i!==t.node()).flatMap(i=>i.getElementsByClassName(r))}function aVe(e,t,n){if(!e.__facet__)return;const r=e.parentNode.parentNode,a=t.parentNode,[i,o]=n(r),[s,l]=n(a),c=`translate(${i-s}, ${o-l})`;tTe(e,c),t.append(e)}function iVe(e,t,n,r){const{library:a}=r,[i]=wr("shape",a),{data:o,encode:s}=e,{defaultShape:l,data:c,shape:u}=t,f=Ac(s,y=>y.value),d=c.map(y=>y.points),{theme:h,coordinate:p}=n,{type:v,style:g={}}=e,m=Object.assign(Object.assign({},r),{document:XX(r),coordinate:p,theme:h});return y=>{const{shape:x=l}=g,{shape:b=x,points:E,seriesIndex:_,index:w}=y,A=ff(y,["shape","points","seriesIndex","index"]),S=Object.assign(Object.assign({},A),{index:w}),k=_?_.map(R=>o[R]):o[w],T=_||w,O=Ac(g,R=>Uq(R,k,T,o,{channel:f})),C=u[b]?u[b](O,m):i(Object.assign(Object.assign({},O),{type:Vq(e,b)}),m),M=Hq(h,v,b,l);return C(E,S,M,d)}}function Hq(e,t,n,r){if(typeof t!="string")return;const{color:a}=e,i=e[t]||{},o=i[n]||i[r];return Object.assign({color:a},o)}function I4(e,t,n,r,a){var i,o;const[,s]=wr("shape",a),[l]=wr("animation",a),{defaultShape:c,shape:u}=n,{theme:f,coordinate:d}=r,p=`default${bf(e)}Animation`,{[p]:v}=((i=u[c])===null||i===void 0?void 0:i.props)||s(Vq(t,c)).props,{[e]:g={}}=f,m=((o=t.animate)===null||o===void 0?void 0:o[e])||{},y={coordinate:d};return(x,b,E)=>{const{[`${e}Type`]:_,[`${e}Delay`]:w,[`${e}Duration`]:A,[`${e}Easing`]:S}=x,k=Object.assign({type:_||v},m);if(!k.type)return null;const C=l(k,y)(b,E,Ie(g,{delay:w,duration:A,easing:S}));let M=[];return Array.isArray(C)?M=C:M=[C],M.filter(Boolean)}}function oVe(e,t,n,r){return I4("enter",e,t,n,r)}function sVe(e){return e.finished.then(()=>{e.cancel()}),e}function lVe(e,t,n,r){return I4("update",e,t,n,r)}function cVe(e,t,n,r){return I4("exit",e,t,n,r)}function Gq(e={}){if(typeof e=="string")return{type:e};const{type:t="light"}=e,n=ff(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}function sb(e){const t={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=e;return Object.entries(Ie(t,n)).reverse()}function Wq(e,t){return cu(this,void 0,void 0,function*(){const{data:n}=e,r=ff(e,["data"]);if(n==null)return e;const[,{data:a}]=yield Fq([],{data:n},t);return Object.assign({data:a},r)})}function kD(e){e.style("transform",t=>`translate(${t.paddingLeft+t.marginLeft}, ${t.paddingTop+t.marginTop})`).style("width",t=>t.innerWidth).style("height",t=>t.innerHeight)}function uVe(e,t){const[n,r]=t;e.transition(function(a,i,o){const{transform:s,width:l,height:c}=o.style,{paddingLeft:u,paddingTop:f,innerWidth:d,innerHeight:h,marginLeft:p,marginTop:v}=a,g=[{transform:s,width:l,height:c},{transform:`translate(${u+p}, ${f+v})`,width:d,height:h}];return o.animate(g,{delay:n,duration:r,fill:"both"})})}function Vq(e,t){const{type:n}=e;return typeof t=="string"?`${n}.${t}`:t}function TD(e,t){const n=i=>i.class!==void 0?`${i.class}`:"";e.nodes().length===0||(e.selectAll(fc(_N)).data(t,i=>i.key).join(i=>i.append("g").attr("className",_N).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),i=>i.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),i=>i.remove()),e.select(fc(Uk)).node())||e.append("g").attr("className",Uk).style("zIndex",0)}function fc(...e){return e.map(t=>`.${t}`).join("")}function OD(e,t){e.node()&&e.style("clipPath",n=>{if(!t)return null;const{paddingTop:r,paddingLeft:a,marginLeft:i,marginTop:o,innerWidth:s,innerHeight:l}=n;return new c0({style:{x:a+i,y:r+o,width:s,height:l}})})}function fVe(e,t,n){var r;for(const[c]of n.entries())if(c.type==="cell")return e.filter(u=>u.name!=="shape");if(t.length!==1||e.some(c=>c.name==="shape"))return e;const{defaultShape:a}=t[0];if(!["point","line","rect","hollow"].includes(a))return e;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=e.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[a]]};return[...e,l]}function dVe(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function hVe(...e){return t=>e.reduce((n,r)=>r(n),t)}function pVe(e){const{style:t,scale:n,type:r}=e,a={},i=Pn(t,"columnWidthRatio");return i&&r==="interval"&&(a.x=Object.assign(Object.assign({},n==null?void 0:n.x),{padding:1-i})),Object.assign(Object.assign({},e),{scale:Object.assign(Object.assign({},n),a)})}function Yq(e){const t=vVe(e);return t.children&&Array.isArray(t.children)&&(t.children=t.children.map(n=>Yq(n))),t}function vVe(e){return hVe(pVe)(e)}function gVe(e){const t=Ie({},e),n=new Map([[t,null]]),r=new Map([[null,-1]]),a=[t];for(;a.length;){const i=a.shift();if(i.key===void 0){const s=n.get(i),l=r.get(i),c=s===null?"0":`${s.key}-${l}`;i.key=c}const{children:o=[]}=i;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=Ie({},o[s]);o[s]=l,n.set(l,i),r.set(l,s),a.push(l)}}return t}function mVe(e,t){const n=new KY;return n.registerPlugin(new QY),new DU({width:e,height:t,container:document.createElement("div"),renderer:n})}function yVe(e,t={},n=()=>{},r=a=>{throw a}){const a=xx(e),{width:i=640,height:o=480,depth:s=0}=a,l=Yq(a),c=gVe(l),{canvas:u=mVe(i,o),emitter:f=new JY,library:d}=t;t.canvas=u,t.emitter=f;const{width:h,height:p}=u.getConfig();(h!==i||p!==o)&&u.resize(i,o),f.emit(jn.BEFORE_RENDER);const v=Mt(u.document.documentElement);return u.ready.then(()=>P4(Object.assign(Object.assign({},c),{width:i,height:o,depth:s}),v,t)).then(()=>{if(s){const[g,m]=u.document.documentElement.getPosition();u.document.documentElement.setPosition(g,m,-s/2)}u.requestAnimationFrame(()=>{u.requestAnimationFrame(()=>{f.emit(jn.AFTER_RENDER),n==null||n()})})}).catch(g=>{r==null||r(g)}),bVe(u.getConfig().container)}function CD(e,t={},n=!1,r=!0){const{canvas:a,emitter:i}=t;a&&(xVe(a),n?a.destroy():a.destroyChildren()),r&&i.off()}function xVe(e){const t=e.getRoot().querySelectorAll(`.${U2}`);t==null||t.forEach(n=>{const{nameInteraction:r=new Map}=n;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(a=>{a==null||a.destroy()})})}function bVe(e){return typeof e=="string"?document.getElementById(e):e}function dg(e,t){if(t(e))return!0;if(e.tagName==="g"){const{childNodes:n=[]}=e;for(const r of n)if(dg(r,t))return!0}return!1}const wVe={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function _Ve(e,t){let n;return dg(e,r=>{var a;return r.tagName!=="g"&&((a=r.style)===null||a===void 0?void 0:a[t])!==void 0?(n=r.style[t],!0):!1}),n??wVe[t]}function R4(e,t,n,r){e.style[t]=n,e.children.forEach(a=>R4(a,t,n))}function N4(e){R4(e,"visibility","hidden")}function qw(e){R4(e,"visibility","visible")}var l1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function df(e){return Mt(e).selectAll(`.${tc}`).nodes().filter(t=>!t.__removed__)}function Xq(e,t){return dT(e,t).flatMap(({container:n})=>df(n))}function dT(e,t){return t.filter(n=>n!==e&&n.options.parentKey===e.options.key)}function $l(e){return Mt(e).select(`.${H2}`).node()}function lb(e){if(e.tagName==="g")return e.getRenderBounds();const t=e.getGeometryBounds(),n=new ma;return n.setFromTransformedAABB(t,e.getWorldTransform()),n}function Vd(e,t){const{offsetX:n,offsetY:r}=t,a=lb(e),{min:[i,o],max:[s,l]}=a,c=n<i||n>s,u=r<o||r>l;return c||u?null:[n-i,r-o]}function bS(e,t){const{offsetX:n,offsetY:r}=t,[a,i,o,s]=EVe(e);return[Math.min(o,Math.max(a,n))-a,Math.min(s,Math.max(i,r))-i]}function EVe(e){const t=e.getRenderBounds(),{min:[n,r],max:[a,i]}=t;return[n,r,a,i]}function qq(e){return t=>t.__data__.color}function im(e){return t=>t.__data__.x}function Yd(e){const t=Array.isArray(e)?e:[e],n=new Map(t.flatMap(r=>Array.from(r.markState.keys()).map(i=>[cb(r.key,i.key),i.data])));return r=>{const{index:a,markKey:i,viewKey:o}=r.__data__;return n.get(cb(o,i))[a]}}const MD={selected:3,unselected:3,active:2,inactive:2,default:1},SVe={selection:["selected","unselected"],highlight:["active","inactive"]},Kq=(e,t,n)=>{dg(e,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(t,n)})};function Zq(e,t){return t.forEach(n=>{const r=n.__interactionStyle__;r?n.__interactionStyle__=Object.assign(Object.assign({},r),e):n.__interactionStyle__=e}),(n=(a,i)=>a,r=Kq)=>rf(void 0,n,r)}function rf(e,t=(r,a)=>r,n=Kq){const r="__states__",a="__ordinal__",i=h=>MD[h]||MD.default,o=h=>{var p;return(p=Object.entries(SVe).find(([v,g])=>g.includes(h)))===null||p===void 0?void 0:p[0]},s=h=>{var p;const{[r]:v=[],[a]:g={}}=h,m=[...v].sort((b,E)=>i(E)-i(b)),y=new Map;for(const b of m){const E=((p=e??h.__interactionStyle__)===null||p===void 0?void 0:p[b])||{};for(const[_,w]of Object.entries(E))y.has(_)||y.set(_,w)}const x=Object.assign({},g);for(const[b,E]of y.entries())x[b]=E;if(Object.keys(x).length!==0){for(const[b,E]of Object.entries(x)){const _=_Ve(h,b),w=t(E,h);n(h,b,w),b in g||(g[b]=_)}h[a]=g}},l=h=>{h[r]||(h[r]=[])};return{setState:(h,...p)=>{l(h),h[r]=[...p],s(h)},updateState:(h,...p)=>{l(h);const v=h[r],g=new Set(p.map(y=>o(y)).filter(y=>y!==void 0)),m=v.filter(y=>!g.has(o(y)));h[r]=[...m,...p],s(h)},removeState:(h,...p)=>{l(h);for(const v of p){const g=h[r].indexOf(v);g!==-1&&h[r].splice(g,1)}s(h)},hasState:(h,p)=>(l(h),h[r].indexOf(p)!==-1)}}function AVe(e){return e===void 0?!0:typeof e!="object"?!1:Object.keys(e).length===0}function cb(e,t){return`${e},${t}`}function lp(e,t){const r=(Array.isArray(e)?e:[e]).flatMap(i=>i.marks.map(o=>[cb(i.key,o.key),o.state])),a={};for(const i of t){const[o,s]=Array.isArray(i)?i:[i,{}];a[o]=r.reduce((l,c)=>{const[u,f={}]=c,d=AVe(f[o])?s:f[o];for(const[h,p]of Object.entries(d)){const v=l[h],g=(m,y,x,b)=>{const E=cb(b.__data__.viewKey,b.__data__.markKey);return u!==E?v==null?void 0:v(m,y,x,b):typeof p!="function"?p:p(m,y,x,b)};l[h]=g}return l},{})}return a}function om(e,t){const n=new Map(e.map((a,i)=>[a,i])),r=t?e.map(t):e;return(a,i)=>{if(typeof a!="function")return a;const o=n.get(i),s=t?t(i):i;return a(s,o,r,i)}}function Qq(e){var{link:t=!1,valueof:n=(u,f)=>u,coordinate:r}=e,a=l1(e,["link","valueof","coordinate"]);const i="element-link";if(!t)return[()=>{},()=>{}];const o=u=>u.__data__.points,s=(u,f)=>{const[,d,h]=u,[p,,,v]=f;return[d,p,v,h]};return[u=>{var f;if(u.length<=1)return;const d=Al(u,(h,p)=>{const{x:v}=h.__data__,{x:g}=p.__data__;return v-g});for(let h=1;h<d.length;h++){const p=Vs(),v=d[h-1],g=d[h],[m,y,x,b]=s(o(v),o(g));p.moveTo(...m),p.lineTo(...y),p.lineTo(...x),p.lineTo(...b),p.closePath();const E=Ac(a,S=>n(S,v)),{fill:_=v.getAttribute("fill")}=E,w=l1(E,["fill"]),A=new ls({className:i,style:Object.assign({d:p.toString(),fill:_,zIndex:-2},w)});(f=v.link)===null||f===void 0||f.remove(),v.parentNode.appendChild(A),v.link=A}},u=>{var f;(f=u.link)===null||f===void 0||f.remove(),u.link=null}]}function Jq(e,t,n){const r=a=>{const{transform:i}=e.style;return i?`${i} ${a}`:a};if(Vn(n)){const{points:a}=e.__data__,[i,o]=pr(n)?xw(a):a,s=n.getCenter(),l=Jr(i,s),c=Jr(o,s),u=Us(l),f=wz(l,c),d=u+f/2,h=t*Math.cos(d),p=t*Math.sin(d);return r(`translate(${h}, ${p})`)}return pr(n)?r(`translate(${t}, 0)`):r(`translate(0, ${-t})`)}function eK(e){var{document:t,background:n,scale:r,coordinate:a,valueof:i}=e,o=l1(e,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(m,y,x)=>{const b=m.invert(y),E=y+m.getBandWidth(b)/2,_=m.getStep(b)/2,w=_*x;return[E-_+w,E+_-w]},c=(m,y)=>{const{x}=r;if(!n1(x))return[0,1];const{__data__:b}=m,{x:E}=b,[_,w]=l(x,E,y);return[_,w]},u=(m,y)=>{const{y:x}=r;if(!n1(x))return[0,1];const{__data__:b}=m,{y:E}=b,[_,w]=l(x,E,y);return[_,w]},f=(m,y)=>{const{padding:x}=y,[b,E]=c(m,x),[_,w]=u(m,x),A=[[b,_],[E,_],[E,w],[b,w]].map(O=>a.map(O)),{__data__:S}=m,{y:k,y1:T}=S;return VU(t,A,{y:k,y1:T},a,y)},d=(m,y)=>{const{transform:x="scale(1.2, 1.2)",transformOrigin:b="center center",stroke:E=""}=y,_=l1(y,["transform","transformOrigin","stroke"]),w=Object.assign({transform:x,transformOrigin:b,stroke:E},_),A=m.cloneNode(!0);for(const[S,k]of Object.entries(w))A.style[S]=k;return A},h=()=>{const{x:m,y}=r;return[m,y].some(n1)};return[m=>{m.background&&m.background.remove();const y=Ac(o,O=>i(O,m)),{fill:x="#CCD6EC",fillOpacity:b=.3,zIndex:E=-2,padding:_=.001,lineWidth:w=0}=y,A=l1(y,["fill","fillOpacity","zIndex","padding","lineWidth"]),S=Object.assign(Object.assign({},A),{fill:x,fillOpacity:b,zIndex:E,padding:_,lineWidth:w}),T=(h()?f:d)(m,S);T.className=s,m.parentNode.parentNode.appendChild(T),m.background=T},m=>{var y;(y=m.background)===null||y===void 0||y.remove(),m.background=null},m=>m.className===s]}function Fu(e,t){const r=e.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(e.cursor=r.style.cursor,r.style.cursor=t)}function kVe(e){Fu(e,e.cursor)}function D4(e,t,n){return e.find(r=>Object.entries(t).every(([a,i])=>n(r)[a]===i))}function ub(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function av(e,t=!1){const n=DEe(e,r=>!!r).map((r,a)=>[a===0?"M":"L",...r]);return t&&n.push(["Z"]),n}function tK(e){return e.querySelectorAll(".element")}function TVe(e,t,n=0){const r=[["M",...t[1]]],a=ub(e,t[1]),i=ub(e,t[0]);return a===0?r.push(["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]):r.push(["A",a,a,0,n,0,...t[2]],["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]),r}function sm(e,t){if(t(e))return e;let n=e.parent;for(;n&&!t(n);)n=n.parent;return n}const L4=["interval","point","density"];function nK({elementsof:e,root:t,coordinate:n,scale:r,validFindByXMarks:a=L4}){var i,o;let s=e(t);const l=u=>a.includes(u.markType);if(s.find(l)){s=s.filter(l);const u=r.x,f=r.series,d=(o=(i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))!==null&&o!==void 0?o:0,h=f?p=>{var v,g;const m=Math.round(1/((v=f.valueBandWidth)!==null&&v!==void 0?v:1));return p.__data__.x+((g=p.__data__.series)!==null&&g!==void 0?g:0)*d+d/(m*2)}:p=>p.__data__.x+d/2;return s.sort((p,v)=>h(p)-h(v)),p=>{const v=Vd(t,p);if(!v)return;const[g]=n.invert(v),m=ou(h).center,y=m(s,g);return s[y]}}return u=>{const{target:f}=u;return sm(f,d=>d.classList?d.classList.includes("element"):!1)}}var OVe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function CVe(e,{elements:t,datum:n,groupKey:r=p=>p,regionGroupKey:a=p=>p,link:i=!1,background:o=!1,delay:s=60,scale:l,coordinate:c,emitter:u,state:f={},region:d=!1,regionEleFilter:h=p=>L4.includes(p.markType)}){var p,v;const g=(p=t(e))!==null&&p!==void 0?p:[],m=d?g.filter(h):g,y=new Set(m),x=d?a:r,b=ur(m,x),E=nK({elementsof:t,root:e,coordinate:c,scale:l}),_=om(m,n),[w,A]=Qq(Object.assign({elements:m,valueof:_,link:i,coordinate:c},qe(f.active,"link"))),[S,k,T]=eK(Object.assign({document:e.ownerDocument,scale:l,coordinate:c,background:o,valueof:_},qe(f.active,"background"))),O=Ie(f,{active:Object.assign({},((v=f.active)===null||v===void 0?void 0:v.offset)&&{transform:(...F)=>{const H=f.active.offset(...F),[,D]=F;return Jq(m[D],H,c)}})}),C=Zq(O,m),{updateState:M,removeState:R,hasState:I}=C(_);let P;const B=F=>{const{nativeEvent:H=!0}=F;let D=F.target;if(d&&(D=E(F)),!y.has(D))return;P&&clearTimeout(P);const G=x(D),K=b.get(G),re=new Set(K);for(const ie of m)re.has(ie)?I(ie,"active")||M(ie,"active"):(M(ie,"inactive"),A(ie)),ie!==D&&k(ie);S(D),w(K),H&&u.emit("element:highlight",{nativeEvent:H,data:{data:n(D),group:K.map(n)}})},N=()=>{P&&clearTimeout(P),P=setTimeout(()=>{V(),P=null},s)},V=(F=!0)=>{for(const H of m)R(H,"active","inactive"),k(H),A(H);F&&u.emit("element:unhighlight",{nativeEvent:F})},W=F=>{let H=F.target;if(d&&(H=E(F)),!H){s>0?N():V();return}o&&!T(H)||!o&&!y.has(H)||(s>0?N():V())},z=()=>{V()};e.addEventListener("pointerover",B),e.addEventListener("pointermove",B),e.addEventListener("pointerout",W),e.addEventListener("pointerleave",z);const j=F=>{const{nativeEvent:H}=F;H||V(!1)},L=F=>{const{nativeEvent:H}=F;if(H)return;const{data:D}=F.data,G=D4(m,D,n);G&&B({target:G,nativeEvent:!1})};return u.on("element:highlight",L),u.on("element:unhighlight",j),()=>{e.removeEventListener("pointerover",B),e.removeEventListener("pointermove",B),e.removeEventListener("pointerout",W),e.removeEventListener("pointerleave",z),u.off("element:highlight",L),u.off("element:unhighlight",j);for(const F of m)k(F),A(F)}}function Kw(e){var{delay:t,createGroup:n,createRegionGroup:r,background:a=!1,link:i=!1}=e,o=OVe(e,["delay","createGroup","createRegionGroup","background","link"]);return(s,l,c)=>{const{container:u,view:f,options:d}=s,{scale:h,coordinate:p}=f,v=$l(u);return CVe(v,Object.assign({elements:df,datum:Yd(f),groupKey:n?n(f):void 0,regionGroupKey:r?r(f):im(),coordinate:p,scale:h,state:lp(d,[["active",a?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:a,link:i,delay:t,emitter:c},o))}}Kw.props={reapplyWhenUpdate:!0};function rK(e){return Kw(Object.assign(Object.assign({},e),{createGroup:im}))}rK.props={reapplyWhenUpdate:!0};function aK(e){return Kw(Object.assign(Object.assign({},e),{createGroup:qq}))}aK.props={reapplyWhenUpdate:!0};var MVe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function PVe(e,{elements:t,datum:n,groupKey:r=v=>v,regionGroupKey:a=v=>v,link:i=!1,single:o=!1,multipleSelectHotkey:s,coordinate:l,background:c=!1,scale:u,emitter:f,state:d={},region:h=!1,regionEleFilter:p=v=>L4.includes(v.markType)}){var v;const g=t(e),m=new Set(g),y=nK({elementsof:t,root:e,coordinate:l,scale:u}),x=ur(g,r),b=ur(g,a),E=om(g,n),[_,w]=Qq(Object.assign({link:i,elements:g,valueof:E,coordinate:l},qe(d.selected,"link"))),[A,S]=eK(Object.assign({document:e.ownerDocument,background:c,coordinate:l,scale:u,valueof:E},qe(d.selected,"background"))),k=Ie(d,{selected:Object.assign({},((v=d.selected)===null||v===void 0?void 0:v.offset)&&{transform:(...G)=>{const K=d.selected.offset(...G),[,re]=G;return Jq(g[re],K,l)}})}),T=Zq(k,g),{updateState:O,removeState:C,hasState:M}=T(E);let R=!o,I=null;const P=(G=!0)=>{for(const K of g)C(K,"selected","unselected"),w(K),S(K);G&&f.emit("element:unselect",{nativeEvent:!0})},B=({event:G,element:K,nativeEvent:re=!0,filter:ie=Q=>!0,groupBy:U=r,groupMap:q=x})=>{const Q=g.filter(ie);if(M(K,"selected"))P();else{const X=U(K),ce=q.get(X),te=new Set(ce);for(const pe of Q)te.has(pe)?O(pe,"selected"):(O(pe,"unselected"),w(pe)),pe!==K&&S(pe);if(_(ce),A(K),!re)return;f.emit("element:select",Object.assign(Object.assign({},G),{nativeEvent:re,data:{data:[n(K),...ce.map(n)]}}))}},N=({event:G,element:K,nativeEvent:re=!0,filter:ie=Q=>!0,groupBy:U=r,groupMap:q=x})=>{const Q=U(K),X=q.get(Q),ce=new Set(X),te=g.filter(ie);if(M(K,"selected")){if(!g.some(me=>!ce.has(me)&&M(me,"selected")))return P();for(const me of X)O(me,"unselected"),w(me),S(me)}else{const pe=X.some(me=>M(me,"selected"));for(const me of te)ce.has(me)?O(me,"selected"):M(me,"selected")||O(me,"unselected");!pe&&i&&_(X),A(K)}re&&f.emit("element:select",Object.assign(Object.assign({},G),{nativeEvent:re,data:{data:g.filter(pe=>M(pe,"selected")).map(n)}}))},V=G=>{if(m.has(G))return!0;for(const K of m)if(dg(K,ie=>ie===G))return!0;return!1},W=G=>{if(m.has(G))return G;for(const K of m){let re=null;if(dg(K,ie=>{ie===G&&(re=K)}),re)return re}return G},z=G=>{const{target:K,nativeEvent:re=!0}=G,ie=R?N:B;let U=K;const q=V(K);return!h||q?q?ie({event:G,element:W(U),nativeEvent:re,groupBy:r}):P():(U=y(G),m.has(U)?ie({event:G,element:U,nativeEvent:re,filter:p,groupBy:a,groupMap:b}):P())},j=Array.isArray(s)?s:[s],L=G=>{j.includes(G.code)&&!I&&(I=G.code,R=!0)},F=G=>{G.code===I&&(I=null,R=!1)};e.addEventListener("click",z),s&&(R=!1,document.addEventListener("keydown",L),document.addEventListener("keyup",F));const H=G=>{const{nativeEvent:K,data:re}=G;if(K)return;const ie=R?re.data:re.data.slice(0,1);for(const U of ie){const q=D4(g,U,n);z({target:q,nativeEvent:!1})}},D=()=>{P(!1)};return f.on("element:select",H),f.on("element:unselect",D),()=>{for(const G of g)w(G);e.removeEventListener("click",z),s&&(document.removeEventListener("keydown",L),document.removeEventListener("keyup",F)),f.off("element:select",H),f.off("element:unselect",D)}}function Zw(e){var{createGroup:t,createRegionGroup:n,background:r=!1,link:a=!1}=e,i=MVe(e,["createGroup","createRegionGroup","background","link"]);return(o,s,l)=>{const{container:c,view:u,options:f}=o,{coordinate:d,scale:h}=u,p=$l(c);return PVe(p,Object.assign({elements:df,datum:Yd(u),groupKey:t?t(u):void 0,regionGroupKey:n?n(u):im(),coordinate:d,scale:h,state:lp(f,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:a,emitter:l},i))}}Zw.props={reapplyWhenUpdate:!0};function iK(e){return Zw(Object.assign(Object.assign({},e),{createGroup:im}))}iK.props={reapplyWhenUpdate:!0};function oK(e){return Zw(Object.assign(Object.assign({},e),{createGroup:qq}))}oK.props={reapplyWhenUpdate:!0};var IVe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},RVe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function NVe(e){const{transform:t=[]}=e,n=t.find(a=>a.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return t.push(r),e.transform=t,r}function DVe(e,t,n){const[r]=Array.from(e.entries()).filter(([a])=>a.type===t).map(([a])=>{const{encode:i}=a,o=s=>{const l=i[s];return[s,l?l.value:void 0]};return Object.fromEntries(n.map(o))});return r}function sK(e){var{wait:t=20,leading:n,trailing:r=!1,labelFormatter:a=o=>`${o}`}=e,i=RVe(e,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:l,update:c,setState:u}=o,{markState:f,scale:d,coordinate:h}=s,p=DVe(f,"line",["x","y","series"]);if(!p)return;const{y:v,x:g,series:m=[]}=p,y=v.map((P,B)=>B),x=Al(y.map(P=>g[P])),b=$l(l),E=l.getElementsByClassName(tc),_=l.getElementsByClassName(Hk),A=ur(_,P=>P.__data__.key.split("-")[0]),S=new _p({style:Object.assign({x1:0,y1:0,x2:0,y2:b.getAttribute("height"),stroke:"black",lineWidth:1},qe(i,"rule"))}),k=new Tc({style:Object.assign({x:0,y:b.getAttribute("height"),text:"",fontSize:10},qe(i,"label"))});S.append(k),b.appendChild(S);const T=(P,B,N)=>{const[V]=P.invert(N),W=B.invert(V);return x[uAe(x,W)]},O=(P,B)=>{S.setAttribute("x1",P[0]),S.setAttribute("x2",P[0]),k.setAttribute("text",a(B))};let C;const M=P=>IVe(this,void 0,void 0,function*(){const{x:B}=d,N=T(h,B,P);O(P,N),u("chartIndex",W=>{const z=Ie({},W),j=z.marks.find(G=>G.type==="line"),F=Fn(d3(y,G=>Fn(G,K=>+v[K])/is(G,K=>+v[K]),G=>m[G]).values()),H=[1/F,F];Ie(j,{scale:{y:{domain:H}}});const D=NVe(j);D.groupBy="color",D.basis=(G,K)=>{const re=G[ou(ie=>g[+ie]).center(G,N)];return K[re]};for(const G of z.marks)G.animate=!1;return z}),C=(yield c("chartIndex")).view}),R=P=>{const{scale:B,coordinate:N}=C,{x:V,y:W}=B,z=T(N,V,P);O(P,z);for(const j of E){const{seriesIndex:L,key:F}=j.__data__,H=L[ou(q=>g[+q]).center(L,z)],D=[0,W.map(1)],G=[0,W.map(v[H]/v[L[0]])],[,K]=N.map(D),[,re]=N.map(G),ie=K-re;j.setAttribute("transform",`translate(0, ${ie})`);const U=A.get(F)||[];for(const q of U)q.setAttribute("dy",ie)}},I=Md(P=>{const B=Vd(b,P);B&&R(B)},t,{leading:n,trailing:r});return M([0,0]),b.addEventListener("pointerenter",I),b.addEventListener("pointermove",I),b.addEventListener("pointerleave",I),()=>{S.remove(),b.removeEventListener("pointerenter",I),b.removeEventListener("pointermove",I),b.removeEventListener("pointerleave",I)}}}sK.props={reapplyWhenUpdate:!0};function LVe(e){const{coordinate:t={}}=e,{transform:n=[]}=t,r=n.find(i=>i.type==="fisheye");if(r)return r;const a={type:"fisheye"};return n.push(a),t.transform=n,e.coordinate=t,a}function FVe({wait:e=30,leading:t,trailing:n=!1}){return r=>{const{options:a,update:i,setState:o,container:s}=r,l=$l(s),c=Md(u=>{const f=Vd(l,u);if(!f){o("fisheye"),i();return}o("fisheye",d=>{const h=Ie({},d,{interaction:{tooltip:{preserve:!0}}});for(const m of h.marks)m.animate=!1;const[p,v]=f,g=LVe(h);return g.focusX=p,g.focusY=v,g.visual=!0,h}),i()},e,{leading:t,trailing:n});return l.addEventListener("pointerenter",c),l.addEventListener("pointermove",c),l.addEventListener("pointerleave",c),()=>{l.removeEventListener("pointerenter",c),l.removeEventListener("pointermove",c),l.removeEventListener("pointerleave",c)}}}var Xd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function fb(e,t){var n;if(t)return typeof t=="string"?document.querySelector(t):t;const r=(n=e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function BVe(e){const t=e.getRenderBounds(),{min:[n,r],max:[a,i]}=t;return{x:n,y:r,width:a-n,height:i-r}}function $Ve(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function jVe(e,t,n,r,a,i,o,s={},l=[10,10]){const c={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},u=new LDe({className:"tooltip",style:{x:t,y:n,container:o,data:[],bounding:i,position:r,enterable:a,title:"",offset:l,template:{prefixCls:"g2-"},style:Ie(c,s)}});return e.appendChild(u.HTMLTooltipElement),u}function lK({root:e,data:t,x:n,y:r,render:a,event:i,single:o,position:s="right-bottom",enterable:l=!1,css:c,mount:u,bounding:f,offset:d}){const h=fb(e,u),p=fb(e),v=o?p:e,g=f||BVe(e),m=$Ve(p,h),{tooltipElement:y=jVe(h,n,r,s,l,g,m,c,d)}=v,{items:x,title:b=""}=t;y.update(Object.assign({x:n,y:r,data:x,title:b,position:s,enterable:l,container:m},a!==void 0&&{content:a(i,{items:x,title:b})})),v.tooltipElement=y}function zu({root:e,single:t,emitter:n,nativeEvent:r=!0,event:a=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const i=fb(e),o=t?i:e,{tooltipElement:s}=o;s&&s.hide(a==null?void 0:a.clientX,a==null?void 0:a.clientY),dK(e),hK(e),pK(e)}function hT({root:e,single:t}){const n=fb(e),r=t?n:e;if(!r)return;const{tooltipElement:a}=r;a&&(a.destroy(),r.tooltipElement=void 0),dK(e),hK(e),pK(e)}function cK(e){const{value:t}=e;return Object.assign(Object.assign({},e),{value:t===void 0?"undefined":t})}function zVe(e){var t,n,r,a,i,o,s;const l=e.__data__,c=(n=(t=l==null?void 0:l.normalized)===null||t===void 0?void 0:t.x)!==null&&n!==void 0?n:0,u=(r=e.parentNode)===null||r===void 0?void 0:r.__data__,f=(a=u==null?void 0:u.encode)!==null&&a!==void 0?a:{},{x:d={},y:h={},color:p={}}=f,{value:v=[]}=d,{value:g=[]}=h,{value:m=[]}=p,y=Math.min(Math.round(v.length*c),v.length-1);return{title:`${v[y]}, ${g[y]}`,items:[{name:(i=p.field)!==null&&i!==void 0?i:"value",value:m[y],color:((o=e.style)===null||o===void 0?void 0:o.fill)||((s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"color"))||"#000"}]}}function UVe(e){const{__data__:t}=e;if(tw(e))return zVe(e);const{title:n,items:r=[]}=t,a=r.filter(fr).map(i=>{var{color:o=uK(e)}=i,s=Xd(i,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(cK);return Object.assign(Object.assign({},n&&{title:n}),{items:a})}function uK(e){const t=e.getAttribute("fill"),n=e.getAttribute("stroke"),{__data__:r}=e,{color:a=t&&t!=="transparent"?t:n}=r;return a}function PD(e,t=n=>n){const n=new Map(e.map(r=>[t(r),r]));return Array.from(n.values())}function fK(e,t,n,r=e.map(i=>i.__data__),a={}){const i=l=>l instanceof Date?+l:l,o=PD(r.map(l=>l.title),i).filter(fr),s=r.flatMap((l,c)=>{const u=l.element||e[c],{items:f=[],title:d}=l,h=f.filter(fr),p=n!==void 0?n:f.length<=1;return h.map(v=>{var{color:g=uK(u)||a.color,name:m}=v,y=Xd(v,["color","name"]);const x=Qke(t,l),b=p&&!(Lq in y)?x||m:m||x;return Object.assign(Object.assign({},y),{color:g,name:b||d})})}).map(cK);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:PD(s,l=>`(${i(l.name)}, ${i(l.value)}, ${i(l.color)})`)})}function HVe(e,t,n,r){var{plotWidth:a,plotHeight:i,mainWidth:o,mainHeight:s,startX:l,startY:c,transposed:u,polar:f,insetLeft:d,insetTop:h}=r,p=Xd(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const v=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},p),g=(_,w,A)=>{const S=new jd({style:Object.assign({cx:_,cy:w,r:A},v)});return e.appendChild(S),S},m=(_,w,A,S)=>{const k=new _p({style:Object.assign({x1:_,x2:w,y1:A,y2:S},v)});return e.appendChild(k),k},x=((_,w)=>{if(w.length===1)return w[0];const A=w.map(k=>jr(k,_)),S=Bg(A,k=>k);return w[S]})(n,t),b=()=>u?[l+x[0],l+x[0],c,c+i]:[l,l+a,x[1]+c,x[1]+c],E=()=>{const _=l+d+o/2,w=c+h+s/2,A=jr([_,w],x);return[_,w,A]};if(f){const[_,w,A]=E(),S=e.ruleX||g(_,w,A);S.style.cx=_,S.style.cy=w,S.style.r=A,e.ruleX=S}else{const[_,w,A,S]=b(),k=e.ruleX||m(_,w,A,S);k.style.x1=_,k.style.x2=w,k.style.y1=A,k.style.y2=S,e.ruleX=k}}function GVe(e,t,n){var{plotWidth:r,plotHeight:a,mainWidth:i,mainHeight:o,startX:s,startY:l,transposed:c,polar:u,insetLeft:f,insetTop:d}=n,h=Xd(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),v=t.map(S=>S[1]),g=t.map(S=>S[0]),m=$1(v),y=$1(g),x=()=>{if(u){const S=Math.min(i,o)/2,k=s+f+i/2,T=l+d+o/2,O=Us(Jr([y,m],[k,T])),C=k+S*Math.cos(O),M=T+S*Math.sin(O);return[k,C,T,M]}return c?[s,s+r,m+l,m+l]:[y+s,y+s,l,l+a]},[b,E,_,w]=x(),A=()=>{const S=new _p({style:Object.assign({x1:b,x2:E,y1:_,y2:w},p)});return e.appendChild(S),S};if(g.length>0){const S=e.ruleY||A();S.style.x1=b,S.style.x2=E,S.style.y1=_,S.style.y2=w,e.ruleY=S}}function dK(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function hK(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function WVe(e,{data:t,style:n,theme:r}){e.markers&&e.markers.forEach(o=>o.remove());const{type:a=""}=n,i=t.filter(o=>{const[{x:s,y:l}]=o;return fr(s)&&fr(l)}).map(o=>{const[{color:s,element:l},c]=o,u=s||l.style.fill||l.style.stroke||r.color,f=a==="hollow"?"transparent":u,d=a==="hollow"?u:"#fff";return new jd({className:"g2-tooltip-marker",style:Object.assign({cx:c[0],cy:c[1],fill:f,r:4,stroke:d,lineWidth:2,pointerEvents:"none"},n)})});for(const o of i)e.appendChild(o);e.markers=i}function pK(e){e.markers&&(e.markers.forEach(t=>t.remove()),e.markers=[])}function ID(e,t){return Array.from(e.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[t]})}function Zl(e,t){return e===void 0?t:e}function vK(e){const{title:t,items:n}=e;return n.length===0&&t===void 0}function VVe(e){return Array.from(e.values()).some(t=>{var n;return((n=t.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&t.tooltip})}function YVe(e,t){const{innerWidth:n,innerHeight:r,marginLeft:a,paddingLeft:i,insetLeft:o,marginTop:s,paddingTop:l,insetTop:c}=e.getOptions();return{x:(t.x-a-i-o)/n,y:(t.y-s-l-c)/r}}function gK({root:e,event:t,elements:n=[],coordinate:r,scale:a,shared:i}){var o,s;const l=g=>g.markType==="interval",c=n.every(l)&&!Vn(r),u=a.x,f=a.series,d=(s=(o=u==null?void 0:u.getBandWidth)===null||o===void 0?void 0:o.call(u))!==null&&s!==void 0?s:0,h=f?g=>{const m=Math.round(1/f.valueBandWidth);return g.__data__.x+g.__data__.series*d+d/(m*2)}:g=>g.__data__.x+d/2;c&&n.sort((g,m)=>h(g)-h(m));const p=g=>{const{target:m=xp(n)}=g;return sm(m,y=>y.classList?(tw(y)&&O$(y,"__data__.normalized",YVe(r,{x:g.offsetX,y:g.offsetY})),y.classList.includes("element")):!1)};return(c?g=>{const m=Vd(e,g);if(!m)return;const[y]=r.invert(m),x=ou(h).center,b=x(n,y),E=n[b];return!i&&n.find(w=>w!==E&&h(w)===h(E))?p(g):E}:p)(t)}function mK({root:e,event:t,elements:n,coordinate:r,scale:a,startX:i,startY:o}){const s=pr(r),l=[],c=[];for(const P of n){const{__data__:B}=P,{seriesX:N,title:V,items:W}=B;N?l.push(P):(V||W)&&c.push(P)}const u=P=>P.markType==="interval",f=c.length&&c.every(u)&&!Vn(r),d=P=>P.__data__.x,p=!!a.x.getBandWidth&&c.length>0;l.sort((P,B)=>{const N=s?0:1,V=W=>W.getBounds().min[N];return s?V(B)-V(P):V(P)-V(B)});const v=P=>{const B=s?1:0,{min:N,max:V}=P.getLocalBounds();return Al([N[B],V[B]])};f?n.sort((P,B)=>d(P)-d(B)):c.sort((P,B)=>{const[N,V]=v(P),[W,z]=v(B),j=(N+V)/2,L=(W+z)/2;return s?L-j:j-L});const g=new Map(l.map(P=>{const{__data__:B}=P,{seriesX:N}=B,V=N.map((z,j)=>j),W=Al(V,z=>N[+z]);return[P,[W,N]]})),{x:m}=a,y=m!=null&&m.getBandWidth?m.getBandWidth()/2:0,x=P=>{const[B]=r.invert(P);return B-y},b=(P,B,N,V)=>{const{_x:W}=P,z=W!==void 0?m.map(W):x(B),j=V.filter(fr),[L,F]=Al([j[0],j[j.length-1]]),H=L===F;if(!p&&(z<L||z>F)&&!H)return null;const D=ou(K=>V[+K]).center,G=D(N,z);return N[G]},E=f?(P,B)=>{const N=ou(d).center,V=N(B,x(P)),W=B[V];return ur(B,d).get(d(W))}:(P,B)=>{const V=P[s?1:0],W=B.filter(L=>{const[F,H]=v(L);return V>=F&&V<=H});if(!p||W.length>0)return W;const z=ou(L=>{const[F,H]=v(L);return(F+H)/2}).center,j=z(B,V);return[B[j]].filter(fr)},_=(P,B)=>{const{__data__:N}=P;return Object.fromEntries(Object.entries(N).filter(([V])=>V.startsWith("series")&&V!=="series").map(([V,W])=>{const z=W[B];return[S$(V.replace("series","")),z]}))},w=Vd(e,t);if(!w)return;const A=[w[0]-i,w[1]-o];if(!A)return;const S=E(A,c),k=[],T=[];for(const P of l){const[B,N]=g.get(P),V=b(t,A,B,N);if(V!==null){k.push(P);const W=_(P,V),{x:z,y:j}=W,L=r.map([(z||0)+y,j||0]);T.push([Object.assign(Object.assign({},W),{element:P}),L])}}const O=Array.from(new Set(T.map(P=>P[0].x))),C=O[Bg(O,P=>Math.abs(P-x(A)))],M=T.filter(P=>P[0].x===C),R=[...M.map(P=>P[0]),...S.map(P=>P.__data__)];return{selectedElements:[...k,...S],selectedData:R,filteredSeriesData:M,abstractX:x}}function RD(e,t){var{elements:n,sort:r,filter:a,scale:i,coordinate:o,crosshairs:s,crosshairsX:l,crosshairsY:c,render:u,groupName:f,emitter:d,wait:h=50,leading:p=!0,trailing:v=!1,startX:g=0,startY:m=0,body:y=!0,single:x=!0,position:b,enterable:E,mount:_,bounding:w,theme:A,offset:S,disableNative:k=!1,marker:T=!0,preserve:O=!1,style:C={},css:M={}}=t,R=Xd(t,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const I=n(e),P=Ie(C,R),B=Vn(o),N=pr(o),{innerWidth:V,innerHeight:W,width:z,height:j,insetLeft:L,insetTop:F}=o.getOptions(),H=Md(X=>{var ce;const te=Vd(e,X);if(!te)return;const pe=lb(e),me=pe.min[0],Ee=pe.min[1],{selectedElements:ke,selectedData:Ue,filteredSeriesData:fe,abstractX:xe}=mK({root:e,event:X,elements:I,coordinate:o,scale:i,startX:g,startY:m}),De=fK(ke,i,f,Ue,A);if(r&&De.items.sort((Re,vt)=>r(Re)-r(vt)),a&&(De.items=De.items.filter(a)),ke.length===0||vK(De)){D(X);return}if(y&&lK({root:e,data:De,x:te[0]+me,y:te[1]+Ee,render:u,event:X,single:x,position:b,enterable:E,mount:_,bounding:w,css:M,offset:S}),s||l||c){const Re=qe(P,"crosshairs"),vt=Object.assign(Object.assign({},Re),qe(P,"crosshairsX")),Ye=Object.assign(Object.assign({},Re),qe(P,"crosshairsY")),It=fe.map(Xt=>Xt[1]);l&&HVe(e,It,te,Object.assign(Object.assign({},vt),{plotWidth:V,plotHeight:W,mainWidth:z,mainHeight:j,insetLeft:L,insetTop:F,startX:g,startY:m,transposed:N,polar:B})),c&&GVe(e,It,Object.assign(Object.assign({},Ye),{plotWidth:V,plotHeight:W,mainWidth:z,mainHeight:j,insetLeft:L,insetTop:F,startX:g,startY:m,transposed:N,polar:B}))}if(T){const Re=qe(P,"marker");WVe(e,{data:fe,style:Re,theme:A})}const He=(ce=fe[0])===null||ce===void 0?void 0:ce[0].x,pt=He??xe(focus);d.emit("tooltip:show",Object.assign(Object.assign({},X),{nativeEvent:!0,data:Object.assign(Object.assign({},De),{data:{x:np(i.x,pt,!0)}})}))},h,{leading:p,trailing:v}),D=X=>{zu({root:e,single:x,emitter:d,event:X})},G=()=>{hT({root:e,single:x})},K=X=>{var ce,{nativeEvent:te,data:pe,offsetX:me,offsetY:Ee}=X,ke=Xd(X,["nativeEvent","data","offsetX","offsetY"]);if(te)return;const Ue=(ce=pe==null?void 0:pe.data)===null||ce===void 0?void 0:ce.x,xe=i.x.map(Ue),[De,He]=o.map([xe,.5]),pt=e.getRenderBounds(),Re=pt.min[0],vt=pt.min[1];H(Object.assign(Object.assign({},ke),{offsetX:me!==void 0?me:Re+De,offsetY:Ee!==void 0?Ee:vt+He,_x:Ue}))},re=()=>{zu({root:e,single:x,emitter:d,nativeEvent:!1})},ie=()=>{Q(),G()},U=()=>{q()},q=()=>{k||(e.addEventListener("pointerdown",H),e.addEventListener("pointerenter",H),e.addEventListener("pointermove",H),e.addEventListener("pointerleave",X=>{Vd(e,X)||D(X)}),e.addEventListener("pointerup",D))},Q=()=>{k||(e.removeEventListener("pointerdown",H),e.removeEventListener("pointerenter",H),e.removeEventListener("pointermove",H),e.removeEventListener("pointerleave",D),e.removeEventListener("pointerup",D))};return q(),d.on("tooltip:show",K),d.on("tooltip:hide",re),d.on("tooltip:disable",ie),d.on("tooltip:enable",U),()=>{Q(),d.off("tooltip:show",K),d.off("tooltip:hide",re),d.off("tooltip:disable",ie),d.off("tooltip:enable",U),O?zu({root:e,single:x,emitter:d,nativeEvent:!1}):G()}}function XVe(e,{elements:t,coordinate:n,scale:r,render:a,groupName:i,sort:o,filter:s,emitter:l,wait:c=50,leading:u=!0,trailing:f=!1,groupKey:d=T=>T,single:h=!0,position:p,enterable:v,datum:g,view:m,mount:y,bounding:x,theme:b,offset:E,shared:_=!1,body:w=!0,disableNative:A=!1,preserve:S=!1,css:k={}}){const T=t(e),O=ur(T,d),C=Md(W=>{const z=gK({root:e,event:W,elements:T,coordinate:n,scale:r,shared:_});if(!z){zu({root:e,single:h,emitter:l,event:W});return}const j=d(z),L=O.get(j);if(!L)return;const F=L.length===1&&!_?UVe(L[0]):fK(L,r,i,void 0,b);if(o&&F.items.sort((G,K)=>o(G)-o(K)),s&&(F.items=F.items.filter(s)),vK(F)){zu({root:e,single:h,emitter:l,event:W});return}const{offsetX:H,offsetY:D}=W;w&&lK({root:e,data:F,x:H,y:D,render:a,event:W,single:h,position:p,enterable:v,mount:y,bounding:x,css:k,offset:E}),l.emit("tooltip:show",Object.assign(Object.assign({},W),{nativeEvent:!0,data:Object.assign(Object.assign({},F),{data:w3(z,m)})}))},c,{leading:u,trailing:f}),M=W=>{zu({root:e,single:h,emitter:l,event:W})},R=()=>{A||(e.addEventListener("pointerdown",C),e.addEventListener("pointermove",C),e.addEventListener("pointerleave",M),e.addEventListener("pointerup",M))},I=()=>{A||(e.removeEventListener("pointerdown",C),e.removeEventListener("pointermove",C),e.removeEventListener("pointerleave",M),e.removeEventListener("pointerup",M))},P=({nativeEvent:W,offsetX:z,offsetY:j,data:L})=>{if(W)return;const{data:F}=L,H=D4(T,F,g);if(!H)return;const D=H.getBBox(),{x:G,y:K,width:re,height:ie}=D,U=e.getBBox();C({target:H,offsetX:z!==void 0?z+U.x:G+re/2,offsetY:j!==void 0?j+U.y:K+ie/2})},B=({nativeEvent:W}={})=>{W||zu({root:e,single:h,emitter:l,nativeEvent:!1})},N=()=>{I(),hT({root:e,single:h})},V=()=>{R()};return l.on("tooltip:show",P),l.on("tooltip:hide",B),l.on("tooltip:enable",V),l.on("tooltip:disable",N),R(),()=>{I(),l.off("tooltip:show",P),l.off("tooltip:hide",B),l.off("tooltip:enable",V),l.off("tooltip:disable",N),S?zu({root:e,single:h,emitter:l,nativeEvent:!1}):hT({root:e,single:h})}}function yK(e){const{shared:t,crosshairs:n,crosshairsX:r,crosshairsY:a,series:i,name:o,item:s=()=>({}),facet:l=!1}=e,c=Xd(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(u,f,d)=>{const{container:h,view:p}=u,{scale:v,markState:g,coordinate:m,theme:y}=p,x=ID(g,"seriesTooltip"),b=ID(g,"crosshairs"),E=$l(h),_=Zl(i,x),w=Zl(n,b);if(_&&VVe(g)&&!l)return RD(E,Object.assign(Object.assign({},c),{theme:y,elements:df,scale:v,coordinate:m,crosshairs:w,crosshairsX:Zl(Zl(r,n),!1),crosshairsY:Zl(a,w),item:s,emitter:d}));if(_&&l){const A=f.filter(M=>M!==u&&M.options.parentKey===u.options.key),S=Xq(u,f),k=A[0].view.scale,T=E.getBounds(),O=T.min[0],C=T.min[1];return Object.assign(k,{facet:!0}),RD(E.parentNode.parentNode,Object.assign(Object.assign({},c),{theme:y,elements:()=>S,scale:k,coordinate:m,crosshairs:Zl(n,b),crosshairsX:Zl(Zl(r,n),!1),crosshairsY:Zl(a,w),item:s,startX:O,startY:C,emitter:d}))}return XVe(E,Object.assign(Object.assign({},c),{datum:Yd(p),elements:df,scale:v,coordinate:m,groupKey:t?im():void 0,item:s,emitter:d,view:p,theme:y,shared:t}))}}yK.props={reapplyWhenUpdate:!0};var wx=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const xK="legend-category",qVe="legend-continuous",KVe="items-item",ZVe="legend-category-item-marker",QVe="legend-category-item-label";function bK(e){return e.getElementsByClassName(ZVe)[0]}function wK(e){return e.getElementsByClassName(QVe)[0]}function _K(e){return e.getElementsByClassName(KVe)}function F4(e){return e.getElementsByClassName(xK)}function EK(e){return e.getElementsByClassName(qVe)}function JVe(e,t){[...F4(e),...EK(e)].forEach(r=>{t(r,a=>a)})}function pT(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function eYe(e,{legends:t,marker:n,label:r,datum:a,filter:i,emitter:o,channel:s,state:l={}}){const c=new Map,u=new Map,f=new Map,{unselected:d={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,h={unselected:qe(d,"marker")},p={unselected:qe(d,"label")},{setState:v,removeState:g}=rf(h,void 0),{setState:m,removeState:y}=rf(p,void 0),x=Array.from(t(e));let b=x.map(a);const E=()=>{for(const A of x){const S=a(A),k=n(A),T=r(A);b.includes(S)?(g(k,"unselected"),y(T,"unselected")):(v(k,"unselected"),m(T,"unselected"))}};for(const A of x){const S=()=>{Fu(e,"pointer")},k=()=>{kVe(e)},T=O=>wx(this,void 0,void 0,function*(){const C=a(A),M=b.indexOf(C);M===-1?b.push(C):b.splice(M,1),yield i(b),E();const{nativeEvent:R=!0}=O;R&&(b.length===x.length?o.emit("legend:reset",{nativeEvent:R}):o.emit("legend:filter",Object.assign(Object.assign({},O),{nativeEvent:R,data:{channel:s,values:b}})))});A.addEventListener("click",T),A.addEventListener("pointerenter",S),A.addEventListener("pointerout",k),c.set(A,T),u.set(A,S),f.set(A,k)}const _=A=>wx(this,void 0,void 0,function*(){const{nativeEvent:S}=A;if(S)return;const{data:k}=A,{channel:T,values:O}=k;T===s&&(b=O,yield i(b),E())}),w=A=>wx(this,void 0,void 0,function*(){const{nativeEvent:S}=A;S||(b=x.map(a),yield i(b),E())});return o.on("legend:filter",_),o.on("legend:reset",w),()=>{for(const A of x)A.removeEventListener("click",c.get(A)),A.removeEventListener("pointerenter",u.get(A)),A.removeEventListener("pointerout",f.get(A)),o.off("legend:filter",_),o.off("legend:reset",w)}}function tYe(e,{legend:t,filter:n,emitter:r,channel:a}){const i=({detail:{value:o}})=>{n(o),r.emit({nativeEvent:!0,data:{channel:a,values:o}})};return t.addEventListener("valuechange",i),()=>{t.removeEventListener("valuechange",i)}}function SK(e,{legend:t,channel:n,value:r,ordinal:a,channels:i,allChannels:o,facet:s=!1}){return wx(this,void 0,void 0,function*(){const{view:l,update:c,setState:u}=e;u(t,f=>{const{marks:d}=f,h=d.map(p=>{if(p.type==="legends")return p;const{transform:v=[],data:g=[]}=p,m=v.findIndex(({type:b})=>b.startsWith("group")||b.startsWith("bin")),y=[...v];g.length&&y.splice(m+1,0,{type:"filter",[n]:{value:r,ordinal:a}});const x=Object.fromEntries(i.map(b=>[b,{domain:l.scale[b].getOptions().domain}]));return Ie({},p,Object.assign(Object.assign({transform:y,scale:x},!a&&{animate:!1}),{legend:s?!1:Object.fromEntries(o.map(b=>[b,{preserve:!0}]))}))});return Object.assign(Object.assign({},f),{marks:h})}),yield c()})}function nYe(e,t){for(const n of e)SK(n,Object.assign(Object.assign({},t),{facet:!0}))}function rYe(){return(e,t,n)=>{const{container:r}=e,a=t.filter(f=>f!==e),i=a.length>0,o=f=>pT(f).scales.map(d=>d.name),s=[...F4(r),...EK(r)],l=s.flatMap(o),c=i?Md(nYe,50,{trailing:!0}):Md(SK,50,{trailing:!0}),u=s.map(f=>{const{name:d,domain:h}=pT(f).scales[0],p=o(f),v={legend:f,channel:d,channels:p,allChannels:l};return f.className===xK?eYe(r,{legends:_K,marker:bK,label:wK,datum:g=>{const{__data__:m}=g,{index:y}=m;return h[y]},filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!0});c(i?a:e,m)},state:f.attributes.state,channel:d,emitter:n}):tYe(r,{legend:f,filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!1});c(i?a:e,m)},emitter:n,channel:d})});return()=>{u.forEach(f=>f())}}}function aYe(){return(e,t,n)=>{const{container:r,view:a,options:i}=e,o=F4(r),s=df(r),l=h=>pT(h).scales[0].name,c=h=>{const{scale:{[h]:p}}=a;return p},u=lp(i,["active","inactive"]),f=om(s,Yd(a)),d=[];for(const h of o){const p=V=>{const{data:W}=h.attributes,{__data__:z}=V,{index:j}=z;return W[j].label},v=l(h),g=_K(h),m=c(v),y=ur(s,V=>m.invert(V.__data__[v])),{state:x={}}=h.attributes,{inactive:b={}}=x,{setState:E,removeState:_}=rf(u,f),w={inactive:qe(b,"marker")},A={inactive:qe(b,"label")},{setState:S,removeState:k}=rf(w),{setState:T,removeState:O}=rf(A),C=V=>{for(const W of g){const z=bK(W),j=wK(W);W===V||V===null?(k(z,"inactive"),O(j,"inactive")):(S(z,"inactive"),T(j,"inactive"))}},M=(V,W)=>{const z=p(W),j=new Set(y.get(z));for(const F of s)j.has(F)?E(F,"active"):E(F,"inactive");C(W);const{nativeEvent:L=!0}=V;L&&n.emit("legend:highlight",Object.assign(Object.assign({},V),{nativeEvent:L,data:{channel:v,value:z}}))},R=new Map;for(const V of g){const W=z=>{M(z,V)};V.addEventListener("pointerover",W),R.set(V,W)}const I=V=>{for(const z of s)_(z,"inactive","active");C(null);const{nativeEvent:W=!0}=V;W&&n.emit("legend:unhighlight",{nativeEvent:W})},P=V=>{const{nativeEvent:W,data:z}=V;if(W)return;const{channel:j,value:L}=z;if(j!==v)return;const F=g.find(H=>p(H)===L);F&&M({nativeEvent:!1},F)},B=V=>{const{nativeEvent:W}=V;W||I({nativeEvent:!1})};h.addEventListener("pointerleave",I),n.on("legend:highlight",P),n.on("legend:unhighlight",B);const N=()=>{h.removeEventListener(I),n.off("legend:highlight",P),n.off("legend:unhighlight",B);for(const[V,W]of R)V.removeEventListener(W)};d.push(N)}return()=>d.forEach(h=>h())}}var Ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function iYe(e,t){const[n,r,a,i]=e,[o,s,l,c]=t;return!(o>a||l<n||s>i||c<r)}function oYe(e,t,n,r,a){const[i,o,s,l]=a;return[Math.max(i,Math.min(e,n)),Math.max(o,Math.min(t,r)),Math.min(s,Math.max(e,n)),Math.min(l,Math.max(t,r))]}function sYe(e){const{width:t,height:n}=e.getBBox();return[0,0,t,n]}function Hc(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}const ND=qh(e=>{const t=e.attributes,{x:n,y:r,width:a,height:i,class:o,renders:s={},handleSize:l=10,document:c}=t,u=Ss(t,["x","y","width","height","class","renders","handleSize","document"]);if(!c||a===void 0||i===void 0||n===void 0||r===void 0)return;const f=l/2,d=(L,F,H)=>{L.handle||(L.handle=H.createElement("rect"),L.append(L.handle));const{handle:D}=L;return D.attr(F),D},h=qe(dx(u,"handleNW","handleNE"),"handleN"),{render:p=d}=h,v=Ss(h,["render"]),g=qe(u,"handleE"),{render:m=d}=g,y=Ss(g,["render"]),x=qe(dx(u,"handleSE","handleSW"),"handleS"),{render:b=d}=x,E=Ss(x,["render"]),_=qe(u,"handleW"),{render:w=d}=_,A=Ss(_,["render"]),S=qe(u,"handleNW"),{render:k=d}=S,T=Ss(S,["render"]),O=qe(u,"handleNE"),{render:C=d}=O,M=Ss(O,["render"]),R=qe(u,"handleSE"),{render:I=d}=R,P=Ss(R,["render"]),B=qe(u,"handleSW"),{render:N=d}=B,V=Ss(B,["render"]),W=(L,F)=>{const{id:H}=L,D=F(L,L.attributes,c);D.id=H,D.style.draggable=!0},z=L=>()=>{const F=qh(H=>W(H,L));return new F({})},j=Mt(e).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);j.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(Hc,Object.assign(Object.assign({width:a,height:i},dx(u,"handle")),{transform:void 0})),j.maybeAppend("handle-n",z(p)).style("x",f).style("y",-f).style("width",a-l).style("height",l).style("fill","transparent").call(Hc,v),j.maybeAppend("handle-e",z(m)).style("x",a-f).style("y",f).style("width",l).style("height",i-l).style("fill","transparent").call(Hc,y),j.maybeAppend("handle-s",z(b)).style("x",f).style("y",i-f).style("width",a-l).style("height",l).style("fill","transparent").call(Hc,E),j.maybeAppend("handle-w",z(w)).style("x",-f).style("y",f).style("width",l).style("height",i-l).style("fill","transparent").call(Hc,A),j.maybeAppend("handle-nw",z(k)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(Hc,T),j.maybeAppend("handle-ne",z(C)).style("x",a-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(Hc,M),j.maybeAppend("handle-se",z(I)).style("x",a-f).style("y",i-f).style("width",l).style("height",l).style("fill","transparent").call(Hc,P),j.maybeAppend("handle-sw",z(N)).style("x",-f).style("y",i-f).style("width",l).style("height",l).style("fill","transparent").call(Hc,V)});function B4(e,t){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:a=()=>{},brushstarted:i=()=>{},brushupdated:o=()=>{},extent:s=sYe(e),brushRegion:l=(D,G,K,re,ie)=>[D,G,K,re],reverse:c=!1,fill:u="#777",fillOpacity:f="0.3",stroke:d="#fff",selectedHandles:h=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,p=Ss(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let v=null,g=null,m=null,y=null,x=null,b=!1;const[E,_,w,A]=s;Fu(e,"crosshair"),e.style.draggable=!0;const S=(D,G,K)=>{if(i(K),y&&y.remove(),x&&x.remove(),v=[D,G],c)return k();T()},k=()=>{x=new ls({style:Object.assign(Object.assign({},p),{fill:u,fillOpacity:f,stroke:d,pointerEvents:"none"})}),y=new ND({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(x),e.appendChild(y)},T=()=>{y=new ND({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},p),{fill:u,fillOpacity:f,stroke:d,draggable:!0}),className:"mask"}),e.appendChild(y)},O=(D=!0)=>{y&&y.remove(),x&&x.remove(),v=null,g=null,m=null,b=!1,y=null,x=null,r(D)},C=(D,G,K=!0)=>{const[re,ie,U,q]=oYe(D[0],D[1],G[0],G[1],s),[Q,X,ce,te]=l(re,ie,U,q,s);return c?R(Q,X,ce,te):M(Q,X,ce,te),n(Q,X,ce,te,K),[Q,X,ce,te]},M=(D,G,K,re)=>{y.style.x=D,y.style.y=G,y.style.width=K-D,y.style.height=re-G},R=(D,G,K,re)=>{x.style.d=`
      M${E},${_}L${w},${_}L${w},${A}L${E},${A}Z
      M${D},${G}L${D},${re}L${K},${re}L${K},${G}Z
    `,y.style.x=D,y.style.y=G,y.style.width=K-D,y.style.height=re-G},I=D=>{const G=(X,ce,te,pe,me)=>X+ce<pe?pe-ce:X+te>me?me-te:X,K=D[0]-m[0],re=D[1]-m[1],ie=G(K,v[0],g[0],E,w),U=G(re,v[1],g[1],_,A),q=[v[0]+ie,v[1]+U],Q=[g[0]+ie,g[1]+U];C(q,Q)},P={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},B=D=>V(D)||N(D),N=D=>{const{id:G}=D;return h.indexOf(G)===-1?!1:new Set(Object.keys(P)).has(G)},V=D=>D===y.getElementById("selection"),W=D=>{const{target:G}=D,[K,re]=bS(e,D);if(!y||!B(G)){S(K,re,D),b=!0;return}B(G)&&(m=[K,re])},z=D=>{const{target:G}=D,K=bS(e,D);if(!v)return;if(!m)return C(v,K);if(V(G))return I(K);const[re,ie]=[K[0]-m[0],K[1]-m[1]],{id:U}=G;if(P[U]){const[q,Q,X,ce]=P[U].vector;return C([v[0]+re*q,v[1]+ie*Q],[g[0]+re*X,g[1]+ie*ce])}},j=D=>{if(m){m=null;const{x:U,y:q,width:Q,height:X}=y.style;v=[U,q],g=[U+Q,q+X],o(U,q,U+Q,q+X,D);return}g=bS(e,D);const[G,K,re,ie]=C(v,g);b=!1,a(G,K,re,ie,D)},L=D=>{const{target:G}=D;y&&!B(G)&&O()},F=D=>{const{target:G}=D;!y||!B(G)||b?Fu(e,"crosshair"):V(G)?Fu(e,"move"):N(G)&&Fu(e,P[G.id].cursor)},H=()=>{Fu(e,"default")};return e.addEventListener("dragstart",W),e.addEventListener("drag",z),e.addEventListener("dragend",j),e.addEventListener("click",L),e.addEventListener("pointermove",F),e.addEventListener("pointerleave",H),{mask:y,move(D,G,K,re,ie=!0){y||S(D,G,{}),v=[D,G],g=[K,re],C([D,G],[K,re],ie)},remove(D=!0){y&&O(D)},destroy(){y&&O(!1),Fu(e,"default"),e.removeEventListener("dragstart",W),e.removeEventListener("drag",z),e.removeEventListener("dragend",j),e.removeEventListener("click",L),e.removeEventListener("pointermove",F),e.removeEventListener("pointerleave",H)}}}function $4(e,t,n){return t.filter(r=>{if(r===e)return!1;const{interaction:a={}}=r.options;return Object.values(a).find(i=>i.brushKey===n)})}function lYe(e,t,n){return $4(e,t,n).map(r=>$l(r.container))}function cYe(e,t,n){return $4(e,t,n).map(r=>r.options)}function DD(e,t){var{elements:n,selectedHandles:r,siblings:a=z=>[],datum:i,brushRegion:o,extent:s,reverse:l,scale:c,coordinate:u,series:f=!1,key:d=z=>z,bboxOf:h=z=>{const{x:j,y:L,width:F,height:H}=z.style;return{x:j,y:L,width:F,height:H}},state:p={},emitter:v}=t,g=Ss(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const m=n(e),y=a(e),x=y.flatMap(n),b=om(m,i),E=qe(g,"mask"),{setState:_,removeState:w}=rf(p,b),A=new Map,{width:S,height:k,x:T=0,y:O=0}=h(e),C=s||[0,0,S,k],M=()=>{for(const z of[...m,...x])w(z,"active","inactive")},R=(z,j,L,F)=>{var H;for(const G of y)(H=G.brush)===null||H===void 0||H.remove();const D=new Set;for(const G of m){const{min:K,max:re}=G.getLocalBounds(),[ie,U]=K,[q,Q]=re;iYe([ie,U,q,Q],[z,j,L,F])?(_(G,"active"),D.add(d(G))):_(G,"inactive")}for(const G of x)D.has(d(G))?_(G,"active"):_(G,"inactive")},I=()=>{for(const z of m)w(z,"inactive");for(const z of A.values())z.remove();A.clear()},P=(z,j,L,F)=>{const H=G=>{const K=G.cloneNode();return K.__data__=G.__data__,G.parentNode.appendChild(K),A.set(G,K),K},D=new c0({style:{x:z+T,y:j+O,width:L-z,height:F-j}});e.appendChild(D);for(const G of m){const K=A.get(G)||H(G);K.style.clipPath=D,_(G,"inactive"),_(K,"active")}},B=B4(e,Object.assign(Object.assign({},E),{extent:C,brushRegion:o,reverse:l,selectedHandles:r,brushended:z=>{const j=f?I:M;z&&v.emit("brush:remove",{nativeEvent:!0}),j()},brushed:(z,j,L,F,H)=>{const D=yx(z,j,L,F,c,u);H&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:D}}),(f?P:R)(z,j,L,F)},brushcreated:(z,j,L,F,H)=>{const D=yx(z,j,L,F,c,u);v.emit("brush:end",Object.assign(Object.assign({},H),{nativeEvent:!0,data:{selection:D}}))},brushupdated:(z,j,L,F,H)=>{const D=yx(z,j,L,F,c,u);v.emit("brush:end",Object.assign(Object.assign({},H),{nativeEvent:!0,data:{selection:D}}))},brushstarted:z=>{v.emit("brush:start",z)}})),N=({nativeEvent:z,data:j})=>{if(z)return;const{selection:L}=j,[F,H,D,G]=GBe(L,c,u);B.move(F,H,D,G,!1)};v.on("brush:highlight",N);const V=({nativeEvent:z}={})=>{z||B.remove(!1)};v.on("brush:remove",V);const W=B.destroy.bind(B);return B.destroy=()=>{v.off("brush:highlight",N),v.off("brush:remove",V),W()},B}function j4(e){var{facet:t,brushKey:n}=e,r=Ss(e,["facet","brushKey"]);return(a,i,o)=>{const{container:s,view:l,options:c}=a,u=$l(s),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},d=["active",["inactive",{opacity:.5}]],{scale:h,coordinate:p}=l;if(t){const g=u.getBounds(),m=g.min[0],y=g.min[1],x=g.max[0],b=g.max[1];return DD(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>Xq(a,i),datum:Yd(dT(a,i).map(E=>E.view)),brushRegion:(E,_,w,A)=>[E,_,w,A],extent:[m,y,x,b],state:lp(dT(a,i).map(E=>E.options),d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r))}const v=DD(u,Object.assign(Object.assign({elements:df,key:g=>g.__data__.key,siblings:()=>lYe(a,i,n),datum:Yd([l,...$4(a,i,n).map(g=>g.view)]),brushRegion:(g,m,y,x)=>[g,m,y,x],extent:void 0,state:lp([c,...cYe(a,i,n)],d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r));return u.brush=v,()=>v.destroy()}}function z4(e,t,n,r,a){const[,i,,o]=a;return[e,i,n,o]}function uYe(e){return j4(Object.assign(Object.assign({},e),{brushRegion:z4,selectedHandles:["handle-e","handle-w"]}))}function U4(e,t,n,r,a){const[i,,o]=a;return[i,t,o,r]}function fYe(e){return j4(Object.assign(Object.assign({},e),{brushRegion:U4,selectedHandles:["handle-n","handle-s"]}))}var H4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dYe="axis",hYe="axis-line",pYe="axis-main-group",AK="axis-hot-area";function vYe(e){return e.getElementsByClassName(dYe)}function kK(e){return e.getElementsByClassName(hYe)[0]}function gYe(e){return e.getElementsByClassName(pYe)[0]}function TK(e){return gYe(e).getLocalBounds()}function mYe(e,t){var{cross:n,offsetX:r,offsetY:a}=t,i=H4(t,["cross","offsetX","offsetY"]);const o=TK(e),s=kK(e),[l]=s.getLocalBounds().min,[c,u]=o.min,[f,d]=o.max,h=(f-c)*2;return{brushRegion:U4,hotZone:new c0({className:AK,style:Object.assign({width:n?h/2:h,transform:`translate(${(n?c:l-h/2).toFixed(2)}, ${u})`,height:d-u},i)}),extent:n?(p,v,g,m)=>[-1/0,v,1/0,m]:(p,v,g,m)=>[Math.floor(c-r),v,Math.ceil(f-r),m]}}function yYe(e,t){var{offsetY:n,offsetX:r,cross:a=!1}=t,i=H4(t,["offsetY","offsetX","cross"]);const o=TK(e),s=kK(e),[,l]=s.getLocalBounds().min,[c,u]=o.min,[f,d]=o.max,h=d-u;return{brushRegion:z4,hotZone:new c0({className:AK,style:Object.assign({width:f-c,height:a?h:h*2,transform:`translate(${c}, ${a?u:l-h})`},i)}),extent:a?(p,v,g,m)=>[p,-1/0,g,1/0]:(p,v,g,m)=>[p,Math.floor(u-n),g,Math.ceil(d-n)]}}function xYe(e,t){var{axes:n,elements:r,points:a,horizontal:i,datum:o,offsetY:s,offsetX:l,reverse:c=!1,state:u={},emitter:f,coordinate:d}=t,h=H4(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(e),v=n(e),g=om(p,o),{setState:m,removeState:y}=rf(u,g),x=new Map,b=qe(h,"mask"),E=N=>Array.from(x.values()).every(([V,W,z,j])=>N.some(([L,F])=>L>=V&&L<=z&&F>=W&&F<=j)),_=v.map(N=>N.attributes.scale),w=N=>N.length>2?[N[0],N[N.length-1]]:N,A=new Map,S=()=>{A.clear();for(let N=0;N<v.length;N++){const V=_[N],{domain:W}=V.getOptions();A.set(N,w(W))}};S();const k=(N,V)=>{const W=[];for(const j of p){const L=a(j);E(L)?(m(j,"active"),W.push(j)):m(j,"inactive")}if(A.set(N,O(W,N)),!V)return;const z=()=>{if(!C)return Array.from(A.values());const j=[];for(const[L,F]of A){const H=_[L],{name:D}=H.getOptions();D==="x"?j[0]=F:j[1]=F}return j};f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:z()}})},T=N=>{for(const V of p)y(V,"active","inactive");S(),N&&f.emit("brushAxis:remove",{nativeEvent:!0})},O=(N,V)=>{const W=_[V],{name:z}=W.getOptions(),j=N.map(L=>{const F=L.__data__;return W.invert(F[z])});return w(Xu(W,j))},C=v.some(i)&&v.some(N=>!i(N)),M=[];for(let N=0;N<v.length;N++){const V=v[N],W=i(V)?yYe:mYe,{hotZone:z,brushRegion:j,extent:L}=W(V,{offsetY:s,offsetX:l,cross:C,zIndex:999,fill:"transparent"});V.parentNode.appendChild(z);const F=B4(z,Object.assign(Object.assign({},b),{reverse:c,brushRegion:j,brushended(H){x.delete(V),Array.from(x.entries()).length===0?T(H):k(N,H)},brushed(H,D,G,K,re){x.set(V,L(H,D,G,K)),k(N,re)}}));M.push(F)}const R=(N={})=>{const{nativeEvent:V}=N;V||M.forEach(W=>W.remove(!1))},I=(N,V,W)=>{const[z,j]=N,L=D=>D.getStep?D.getStep():0,F=P(z,V,W),H=P(j,V,W)+L(V);return i(W)?[F,-1/0,H,1/0]:[-1/0,F,1/0,H]},P=(N,V,W)=>{const{height:z,width:j}=d.getOptions(),L=V.clone();return i(W)?L.update({range:[0,j]}):L.update({range:[z,0]}),L.map(N)},B=N=>{const{nativeEvent:V}=N;if(V)return;const{selection:W}=N.data;for(let z=0;z<M.length;z++){const j=W[z],L=M[z],F=v[z];if(j){const H=_[z];L.move(...I(j,H,F),!1)}else L.remove(!1)}};return f.on("brushAxis:remove",R),f.on("brushAxis:highlight",B),()=>{M.forEach(N=>N.destroy()),f.off("brushAxis:remove",R),f.off("brushAxis:highlight",B)}}function bYe(e){return(t,n,r)=>{const{container:a,view:i,options:o}=t,s=$l(a),{x:l,y:c}=s.getBBox(),{coordinate:u}=i;return xYe(a,Object.assign({elements:df,axes:vYe,offsetY:c,offsetX:l,points:f=>f.__data__.points,horizontal:f=>{const{startPos:[d,h],endPos:[p,v]}=f.attributes;return d!==p&&h===v},datum:Yd(i),state:lp(o,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},e))}}var wYe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},OK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function _Ye(e=300){let t=null;return n=>{const{timeStamp:r}=n;return t!==null&&r-t<e?(t=r,!0):(t=r,!1)}}function EYe(e,t){var{filter:n,reset:r,brushRegion:a,extent:i,reverse:o,emitter:s,scale:l,coordinate:c,selection:u,series:f=!1}=t,d=OK(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const h=qe(d,"mask"),{width:p,height:v}=e.getBBox(),g=i||[0,0,p,v],m=_Ye(),y=B4(e,Object.assign(Object.assign({},h),{extent:g,brushRegion:a,reverse:o,brushcreated:x}));e.addEventListener("click",b);function x(_,w,A,S,k){_===A&&w===S||(k.nativeEvent=!0,n(u(_,w,A,S),k),y.remove())}function b(_){m(_)&&(_.nativeEvent=!0,r(_))}const E=({nativeEvent:_,data:w})=>{if(_)return;const{selection:A}=w;n(A,{nativeEvent:!1})};return s.on("brush:filter",E),()=>{y.destroy(),s.off("brush:filter",E),e.removeEventListener("click",b)}}function G4(e){var{hideX:t=!0,hideY:n=!0}=e,r=OK(e,["hideX","hideY"]);return(a,i,o)=>{const{container:s,view:l,options:c,update:u,setState:f}=a,d=$l(s),h={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let p=!1,v=!1,g=l;const{scale:m,coordinate:y}=l;return EYe(d,Object.assign(Object.assign({brushRegion:(x,b,E,_)=>[x,b,E,_],selection:(x,b,E,_)=>{const{scale:w,coordinate:A}=g;return yx(x,b,E,_,w,A)},filter:(x,b)=>wYe(this,void 0,void 0,function*(){if(v)return;v=!0;const[E,_]=x;f("brushFilter",A=>{const{marks:S}=A,k=S.map(T=>Ie({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},T,{scale:{x:{domain:E,nice:!1},y:{domain:_,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:k,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[E,_]}})),g=(yield u()).view,v=!1,p=!0}),reset:x=>{if(v||!p)return;const{scale:b}=l,{x:E,y:_}=b,w=E.getOptions().domain,A=_.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},x),{data:{selection:[w,A]}})),p=!1,g=l,f("brushFilter"),u()},extent:void 0,emitter:o,scale:m,coordinate:y},h),r))}}function SYe(e){return G4(Object.assign(Object.assign({hideX:!0},e),{brushRegion:z4}))}function AYe(e){return G4(Object.assign(Object.assign({hideY:!0},e),{brushRegion:U4}))}var kYe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const TYe="slider";function OYe(e,t,n,r=!1,a="x",i="y"){const{marks:o}=e,s=o.map(l=>{var c,u;return Ie({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:t,[n]:Object.assign(Object.assign({},((c=l[n])===null||c===void 0?void 0:c[a])&&{[a]:Object.assign({preserve:!0},r&&{ratio:null})}),((u=l[n])===null||u===void 0?void 0:u[i])&&{[i]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:s,clip:!0,animate:!1})}function CYe(e,t,n){const[r,a]=e,i=n?l=>1-l:l=>l,o=np(t,i(r),!0),s=np(t,i(a),!1);return Xu(t,[o,s])}function Ky(e){return[e[0],e[e.length-1]]}function CK({initDomain:e={},className:t=TYe,prefix:n="slider",setValue:r=(c,u)=>c.setValues(u),hasState:a=!1,wait:i=50,leading:o=!0,trailing:s=!1,getInitValues:l=c=>{var u;const f=(u=c==null?void 0:c.attributes)===null||u===void 0?void 0:u.values;if(f[0]!==0||f[1]!==1)return f}}){return(c,u,f)=>{const{container:d,view:h,update:p,setState:v}=c,g=d.getElementsByClassName(t);if(!g.length)return()=>{};let m=!1;const{scale:y,coordinate:x,layout:b}=h,{paddingLeft:E,paddingTop:_,paddingBottom:w,paddingRight:A}=b,{x:S,y:k}=y,T=pr(x),O=I=>{const P=I==="vertical"?"y":"x",B=I==="vertical"?"x":"y";return T?[B,P]:[P,B]},C=new Map,M=new Set,R={x:e.x||S.getOptions().domain,y:e.y||k.getOptions().domain};for(const I of g){const{orientation:P}=I.attributes,[B,N]=O(P),V=`${n}${bf(B)}:filter`,W=B==="x",{ratio:z}=S.getOptions(),{ratio:j}=k.getOptions(),L=G=>{if(G.data){const{selection:q}=G.data,[Q=Ky(R.x),X=Ky(R.y)]=q;return W?[Xu(S,Q,z),Xu(k,X,j)]:[Xu(k,X,j),Xu(S,Q,z)]}const{value:K}=G.detail,re=y[B],ie=CYe(K,re,T&&P==="horizontal"),U=R[N];return[ie,U]},F=Md(G=>kYe(this,void 0,void 0,function*(){const{initValue:K=!1}=G;if(m&&!K)return;m=!0;const{nativeEvent:re=!0}=G,ie=S.getOptions();Pn(ie,"domain.length")!==Pn(ie,"expectedDomain.length")&&S.update({domain:ie.expectedDomain});const U=k.getOptions();Pn(U,"domain.length")!==Pn(U,"expectedDomain.length")&&k.update({domain:U.expectedDomain});const[q,Q]=L(G);if(R[B]=q,R[N]=Q,re){const X=W?q:Q,ce=W?Q:q;f.emit(V,Object.assign(Object.assign({},G),{nativeEvent:re,data:{selection:[Ky(X),Ky(ce)]}}))}v(I,X=>Object.assign(Object.assign({},OYe(X,{[B]:{domain:q,nice:!1}},n,a,B,N)),{paddingLeft:E,paddingTop:_,paddingBottom:w,paddingRight:A})),yield p(),m=!1}),i,{leading:o,trailing:s}),H=G=>{const{nativeEvent:K}=G;if(K)return;const{data:re}=G,{selection:ie}=re,[U,q]=ie;I.dispatchEvent(new ri("valuechange",{data:re,nativeEvent:!1}));const Q=W?z2(U,S):z2(q,k);r(I,Q)};f.on(V,H),I.addEventListener("valuechange",F),C.set(I,F),M.add([V,H]);const D=l(I);D&&I.dispatchEvent(new ri("valuechange",{detail:{value:D},nativeEvent:!1,initValue:!0}))}return()=>{for(const[I,P]of C)I.removeEventListener("valuechange",P);for(const[I,P]of M)f.off(I,P)}}}const LD="g2-scrollbar";function MYe(e={}){return(t,n,r)=>{const{view:a,container:i}=t;if(!i.getElementsByClassName(LD).length)return()=>{};const{scale:s}=a,{x:l,y:c}=s,u={x:[...l.getOptions().domain],y:[...c.getOptions().domain]};return CK(Object.assign({initDomain:u,className:LD,prefix:"scrollbar",hasState:!0,setValue:(d,h)=>d.setValue(h[0]),getInitValues:d=>{const h=d.slider.attributes.values;if(h[0]!==0)return h}},e))(t,n,r)}}var PYe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function IYe(e,t,n){return`<${e} style="${Object.entries(n).map(([r,a])=>`${bPe(r)}:${a}`).join(";")}">${t}</${e}>`}const RYe={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function FD(e){return e.nodeName!=="text"?!1:!!e.isOverflowing()}function MK(e){var{offsetX:t=8,offsetY:n=8}=e,r=PYe(e,["offsetX","offsetY"]);return a=>{const{container:i}=a,[o,s]=i.getBounds().min,l=qe(r,"tip"),c=new Set,u=d=>{const{target:h}=d;if(!FD(h)){d.stopPropagation();return}const{offsetX:p,offsetY:v}=d,g=p+t-o,m=v+n-s;if(h.tip){h.tip.style.x=g,h.tip.style.y=m;return}const{text:y}=h.style,x=new mw({className:"poptip",style:{innerHTML:IYe("div",y,Object.assign(Object.assign({},RYe),l)),x:g,y:m}});i.appendChild(x),h.tip=x,c.add(x)},f=d=>{const{target:h}=d;if(!FD(h)){d.stopPropagation();return}h.tip&&(h.tip.remove(),h.tip=null,c.delete(h.tip))};return i.addEventListener("pointerover",u),i.addEventListener("pointerout",f),()=>{i.removeEventListener("pointerover",u),i.removeEventListener("pointerout",f),c.forEach(d=>d.remove())}}}MK.props={reapplyWhenUpdate:!0};var NYe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},DYe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function LYe(e){return Mt(e).select(`.${H2}`).node()}const FYe={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function BYe(e={}){const{originData:t=[],layout:n}=e,r=DYe(e,["originData","layout"]),a=Ie({},FYe,r),i=qe(a,"breadCrumb"),o=qe(a,"active");return s=>{const{update:l,setState:c,container:u,options:f}=s,d=LYe(u),h=f.marks[0],{state:p}=h,v=new gu;d.appendChild(v);const g=(_,w)=>NYe(this,void 0,void 0,function*(){if(v.removeChildren(),w){let A="",S=i.y,k=0;const T=[],O=d.getBBox().width,C=_.map((M,R)=>{A=`${A}${M}/`,T.push(M);const I=new Tc({name:A.replace(/\/$/,""),style:Object.assign(Object.assign({text:M,x:k,path:[...T],depth:R},i),{y:S})});v.appendChild(I),k+=I.getBBox().width;const P=new Tc({style:Object.assign(Object.assign({x:k,text:" / "},i),{y:S})});return v.appendChild(P),k+=P.getBBox().width,k>O&&(S=v.getBBox().height+i.y,k=0,I.attr({x:k,y:S}),k+=I.getBBox().width,P.attr({x:k,y:S}),k+=P.getBBox().width),R===e2(_)-1&&P.remove(),I});C.forEach((M,R)=>{if(R===e2(C)-1)return;const I=Object.assign({},M.attributes);M.attr("cursor","pointer"),M.addEventListener("mouseenter",()=>{M.attr(o)}),M.addEventListener("mouseleave",()=>{M.attr(I)}),M.addEventListener("click",()=>{g(Pn(M,["style","path"]),Pn(M,["style","depth"]))})})}JVe(u,c),c("treemapDrillDown",A=>{const{marks:S}=A,k=_.join("/"),T=S.map(O=>{if(O.type!=="rect")return O;let C=t;if(w){const R=t.filter(V=>{const W=Pn(V,["id"]);return W&&(W.match(`${k}/`)||k.match(W))}).map(V=>({value:V.height===0?Pn(V,["value"]):void 0,name:Pn(V,["id"])})),{paddingLeft:I,paddingBottom:P,paddingRight:B}=n,N=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||v.getBBox().height+10)/(w+1),paddingLeft:I/(w+1),paddingBottom:P/(w+1),paddingRight:B/(w+1),path:V=>V.name,layer:V=>V.depth===w+1});C=_V(R,N,{value:"value"})[0]}else C=t.filter(R=>R.depth===1);const M=[];return C.forEach(({path:R})=>{M.push(xp(R))}),Ie({},O,{data:C,scale:{color:{domain:M}}})});return Object.assign(Object.assign({},A),{marks:T})}),yield l(void 0,["legendFilter"])}),m=_=>_.attributes.key.split("-")[0],y=_=>Pn(_,["__data__","key"]),x=_=>{const w=_.target,{markType:A,nodeName:S,attributes:k}=w||{};if(A!=="rect"&&S!==Ae.TEXT)return;const T=S===Ae.TEXT&&Pn(k,"isTreemapLabel")===!0?m(w):y(w),O=Rh(t,C=>C.id===T);Pn(O,"height")&&g(Pn(O,"path"),Pn(O,"depth"))};d.addEventListener("click",x);const b=w$(Object.assign(Object.assign({},p.active),p.inactive)),E=()=>{tK(d).forEach(w=>{const A=Pn(w,["style","cursor"]),S=Rh(t,k=>k.id===Pn(w,["__data__","key"]));if(A!=="pointer"&&(S!=null&&S.height)){w.style.cursor="pointer";const k=eSe(w.attributes,b);w.addEventListener("mouseenter",()=>{w.attr(p.active)}),w.addEventListener("mouseleave",()=>{w.attr(Ie(k,p.inactive))})}})};return E(),d.addEventListener("mousemove",E),()=>{v.remove(),d.removeEventListener("click",x),d.removeEventListener("mousemove",E)}}}var wS=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},$Ye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const jYe={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},_S="movePoint",BD=e=>{const t=e.target,{markType:n}=t;n==="line"&&(t.attr("_lineWidth",t.attr("lineWidth")||1),t.attr("lineWidth",t.attr("_lineWidth")+3)),n==="interval"&&(t.attr("_opacity",t.attr("opacity")||1),t.attr("opacity",.7*t.attr("_opacity")))},$D=e=>{const t=e.target,{markType:n}=t;n==="line"&&t.attr("lineWidth",t.attr("_lineWidth")),n==="interval"&&t.attr("opacity",t.attr("_opacity"))},zYe=(e,t,n)=>t.map(r=>["x","color"].reduce((i,o)=>{const s=n[o];return s&&r[s]!==e[s]?!1:i},!0)?Object.assign(Object.assign({},r),e):r),UYe=e=>{const t=Pn(e,["__data__","y"]),r=Pn(e,["__data__","y1"])-t,{__data__:{data:a,encode:i,transform:o},childNodes:s}=e.parentNode,l=Rh(o,({type:f})=>f==="normalizeY"),c=Pn(i,["y","field"]),u=a[s.indexOf(e)][c];return(f,d=!1)=>l||d?f/(1-f)/(r/(1-r))*u:f},HYe=(e,t)=>{const n=Pn(e,["__data__","seriesItems",t,"0","value"]),r=Pn(e,["__data__","seriesIndex",t]),{__data__:{data:a,encode:i,transform:o}}=e.parentNode,s=Rh(o,({type:u})=>u==="normalizeY"),l=Pn(i,["y","field"]),c=a[r][l];return u=>s?n===1?u:u/(1-u)/(n/(1-n))*c:u},jD=(e,t,n)=>{e.forEach((r,a)=>{r.attr("stroke",t[1]===a?n.activeStroke:n.stroke)})},zD=(e,t,n,r)=>{const a=new ls({style:n}),i=new Tc({style:r});return t.appendChild(i),e.appendChild(a),[a,i]},UD=(e,t)=>{if(!Pn(e,["options","range","indexOf"]))return;const r=e.options.range.indexOf(t);return e.sortedDomain[r]},ES=(e,t,n)=>{const r=ub(e,t),i=ub(e,n)/r,o=e[0]+(t[0]-e[0])*i,s=e[1]+(t[1]-e[1])*i;return[o,s]};function GYe(e={}){const{selection:t=[],precision:n=2}=e,r=$Ye(e,["selection","precision"]),a=Object.assign(Object.assign({},jYe),r||{}),i=qe(a,"path"),o=qe(a,"label"),s=qe(a,"point");return(l,c,u)=>{const{update:f,setState:d,container:h,view:p,options:{marks:v,coordinate:g}}=l,m=$l(h);let y=tK(m),x,b=t;const{transform:E=[],type:_}=g,w=!!Rh(E,({type:B})=>B==="transpose"),A=_==="polar",S=_==="theta",k=!!Rh(y,({markType:B})=>B==="area");k&&(y=y.filter(({markType:B})=>B==="area"));const T=new gu({style:{zIndex:2}});m.appendChild(T);const O=()=>{u.emit("element-point:select",{nativeEvent:!0,data:{selection:b}})},C=(B,N)=>{u.emit("element-point:moved",{nativeEvent:!0,data:{changeData:B,data:N}})},M=B=>{const N=B.target;b=[N.parentNode.childNodes.indexOf(N)],O(),I(N)},R=B=>{const{data:{selection:N},nativeEvent:V}=B;if(V)return;b=N;const W=Pn(y,[b==null?void 0:b[0]]);W&&I(W)},I=B=>{const{attributes:N,markType:V,__data__:W}=B,{stroke:z}=N,{points:j,seriesTitle:L,color:F,title:H,seriesX:D,y1:G}=W;if(w&&V!=="interval")return;const{scale:K,coordinate:re}=(x==null?void 0:x.view)||p,{color:ie,y:U,x:q}=K,Q=re.getCenter();T.removeChildren();let X;const ce=(te,pe,me,Ee)=>wS(this,void 0,void 0,function*(){return d("elementPointMove",ke=>{var Ue;const fe=(((Ue=x==null?void 0:x.options)===null||Ue===void 0?void 0:Ue.marks)||v).map(xe=>{if(!Ee.includes(xe.type))return xe;const{data:De,encode:He}=xe,Re=Object.keys(He).reduce((Ye,It)=>{const Xt=He[It];return It==="x"&&(Ye[Xt]=te),It==="y"&&(Ye[Xt]=pe),It==="color"&&(Ye[Xt]=me),Ye},{}),vt=zYe(Re,De,He);return C(Re,vt),Ie({},xe,{data:vt,animate:!1})});return Object.assign(Object.assign({},ke),{marks:fe})}),yield f("elementPointMove")});if(["line","area"].includes(V))j.forEach((te,pe)=>{const me=q.invert(D[pe]);if(!me)return;const Ee=new jd({name:_S,style:Object.assign({cx:te[0],cy:te[1],fill:z},s)}),ke=HYe(B,pe);Ee.addEventListener("mousedown",Ue=>{const fe=re.output([D[pe],0]),xe=L==null?void 0:L.length;h.attr("cursor","move"),b[1]!==pe&&(b[1]=pe,O()),jD(T.childNodes,b,s);const[De,He]=zD(T,Ee,i,o),pt=vt=>{const Ye=te[1]+vt.clientY-X[1];if(k)if(A){const It=te[0]+vt.clientX-X[0],[Xt,pn]=ES(Q,fe,[It,Ye]),[,Sa]=re.output([1,U.output(0)]),[,Lr]=re.invert([Xt,Sa-(j[pe+xe][1]-pn)]),Na=(pe+1)%xe,jl=(pe-1+xe)%xe,we=av([j[jl],[Xt,pn],L[Na]&&j[Na]]);He.attr("text",ke(U.invert(Lr)).toFixed(n)),De.attr("d",we),Ee.attr("cx",Xt),Ee.attr("cy",pn)}else{const[,It]=re.output([1,U.output(0)]),[,Xt]=re.invert([te[0],It-(j[pe+xe][1]-Ye)]),pn=av([j[pe-1],[te[0],Ye],L[pe+1]&&j[pe+1]]);He.attr("text",ke(U.invert(Xt)).toFixed(n)),De.attr("d",pn),Ee.attr("cy",Ye)}else{const[,It]=re.invert([te[0],Ye]),Xt=av([j[pe-1],[te[0],Ye],j[pe+1]]);He.attr("text",U.invert(It).toFixed(n)),De.attr("d",Xt),Ee.attr("cy",Ye)}};X=[Ue.clientX,Ue.clientY],window.addEventListener("mousemove",pt);const Re=()=>wS(this,void 0,void 0,function*(){if(h.attr("cursor","default"),window.removeEventListener("mousemove",pt),h.removeEventListener("mouseup",Re),Rt(He.attr("text")))return;const vt=Number(He.attr("text")),Ye=UD(ie,F);x=yield ce(me,vt,Ye,["line","area"]),He.remove(),De.remove(),I(B)});h.addEventListener("mouseup",Re)}),T.appendChild(Ee)}),jD(T.childNodes,b,s);else if(V==="interval"){let te=[(j[0][0]+j[1][0])/2,j[0][1]];w?te=[j[0][0],(j[0][1]+j[1][1])/2]:S&&(te=j[0]);const pe=UYe(B),me=new jd({name:_S,style:Object.assign(Object.assign({cx:te[0],cy:te[1],fill:z},s),{stroke:s.activeStroke})});me.addEventListener("mousedown",Ee=>{h.attr("cursor","move");const ke=UD(ie,F),[Ue,fe]=zD(T,me,i,o),xe=He=>{if(w){const pt=te[0]+He.clientX-X[0],[Re]=re.output([U.output(0),U.output(0)]),[,vt]=re.invert([Re+(pt-j[2][0]),te[1]]),Ye=av([[pt,j[0][1]],[pt,j[1][1]],j[2],j[3]],!0);fe.attr("text",pe(U.invert(vt)).toFixed(n)),Ue.attr("d",Ye),me.attr("cx",pt)}else if(S){const pt=te[1]+He.clientY-X[1],Re=te[0]+He.clientX-X[0],[vt,Ye]=ES(Q,[Re,pt],te),[It,Xt]=ES(Q,[Re,pt],j[1]),pn=re.invert([vt,Ye])[1],Sa=G-pn;if(Sa<0)return;const Lr=TVe(Q,[[vt,Ye],[It,Xt],j[2],j[3]],Sa>.5?1:0);fe.attr("text",pe(Sa,!0).toFixed(n)),Ue.attr("d",Lr),me.attr("cx",vt),me.attr("cy",Ye)}else{const pt=te[1]+He.clientY-X[1],[,Re]=re.output([1,U.output(0)]),[,vt]=re.invert([te[0],Re-(j[2][1]-pt)]),Ye=av([[j[0][0],pt],[j[1][0],pt],j[2],j[3]],!0);fe.attr("text",pe(U.invert(vt)).toFixed(n)),Ue.attr("d",Ye),me.attr("cy",pt)}};X=[Ee.clientX,Ee.clientY],window.addEventListener("mousemove",xe);const De=()=>wS(this,void 0,void 0,function*(){if(h.attr("cursor","default"),h.removeEventListener("mouseup",De),window.removeEventListener("mousemove",xe),Rt(fe.attr("text")))return;const He=Number(fe.attr("text"));x=yield ce(H,He,ke,[V]),fe.remove(),Ue.remove(),I(B)});h.addEventListener("mouseup",De)}),T.appendChild(me)}};y.forEach((B,N)=>{b[0]===N&&I(B),B.addEventListener("click",M),B.addEventListener("mouseenter",BD),B.addEventListener("mouseleave",$D)});const P=B=>{const N=B==null?void 0:B.target;(!N||N.name!==_S&&!y.includes(N))&&(b=[],O(),T.removeChildren())};return u.on("element-point:select",R),u.on("element-point:unselect",P),h.addEventListener("mousedown",P),()=>{T.remove(),u.off("element-point:select",R),u.off("element-point:unselect",P),h.removeEventListener("mousedown",P),y.forEach(B=>{B.removeEventListener("click",M),B.removeEventListener("mouseenter",BD),B.removeEventListener("mouseleave",$D)})}}}var HD={},SS={},AS=34,iv=10,kS=13;function PK(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function WYe(e,t){var n=PK(e);return function(r,a){return t(n(r),a,e)}}function GD(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function Co(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function VYe(e){return e<0?"-"+Co(-e,6):e>9999?"+"+Co(e,6):Co(e,4)}function YYe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":VYe(e.getUTCFullYear())+"-"+Co(e.getUTCMonth()+1,2)+"-"+Co(e.getUTCDate(),2)+(a?"T"+Co(t,2)+":"+Co(n,2)+":"+Co(r,2)+"."+Co(a,3)+"Z":r?"T"+Co(t,2)+":"+Co(n,2)+":"+Co(r,2)+"Z":n||t?"T"+Co(t,2)+":"+Co(n,2)+"Z":"")}function XYe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,v=a(f,function(g,m){if(h)return h(g,m-1);p=g,h=d?WYe(g,d):PK(g)});return v.columns=p||[],v}function a(f,d){var h=[],p=f.length,v=0,g=0,m,y=p<=0,x=!1;f.charCodeAt(p-1)===iv&&--p,f.charCodeAt(p-1)===kS&&--p;function b(){if(y)return SS;if(x)return x=!1,HD;var _,w=v,A;if(f.charCodeAt(w)===AS){for(;v++<p&&f.charCodeAt(v)!==AS||f.charCodeAt(++v)===AS;);return(_=v)>=p?y=!0:(A=f.charCodeAt(v++))===iv?x=!0:A===kS&&(x=!0,f.charCodeAt(v)===iv&&++v),f.slice(w+1,_-1).replace(/""/g,'"')}for(;v<p;){if((A=f.charCodeAt(_=v++))===iv)x=!0;else if(A===kS)x=!0,f.charCodeAt(v)===iv&&++v;else if(A!==n)continue;return f.slice(w,_)}return y=!0,f.slice(w,p)}for(;(m=b())!==SS;){for(var E=[];m!==HD&&m!==SS;)E.push(m),m=b();d&&(E=d(E,g++))==null||h.push(E)}return h}function i(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function o(f,d){return d==null&&(d=GD(f)),[d.map(u).join(e)].concat(i(f,d)).join(`
`)}function s(f,d){return d==null&&(d=GD(f)),i(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?YYe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:a,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}function qYe(e){for(var t in e){var n=e[t].trim(),r,a;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(a=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))KYe&&a[4]&&!a[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const KYe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var ZYe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const IK=e=>{const{value:t,format:n=t.split(".").pop(),delimiter:r=",",autoType:a=!0}=e;return()=>ZYe(void 0,void 0,void 0,function*(){const i=yield fetch(t);if(n==="csv"){const o=yield i.text();return XYe(r).parse(o,a?qYe:Fd)}if(n==="json")return yield i.json();throw new Error(`Unknown format: ${n}.`)})};IK.props={};function QYe(e){return!e||Object.keys(e).length===0}const RK=e=>{const{fields:t,key:n="key",value:r="value"}=e;return a=>QYe(t)?a:a.flatMap(i=>t.map(o=>Object.assign(Object.assign({},i),{[n]:o,[r]:i[o]})))};RK.props={};function JYe(e){return e!=null&&!Number.isNaN(e)}const NK=e=>{const{callback:t=JYe}=e;return n=>n.filter(t)};NK.props={};const DK=e=>{const{callback:t}=e;return n=>Array.isArray(n)?[...n].sort(t):n};DK.props={};function eXe(e,t=[]){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}const LK=e=>{const{fields:t}=e;return n=>n.map(r=>eXe(r,t))};LK.props={};function tXe(e){return Object.keys(e).length===0}const FK=e=>t=>{if(!e||tXe(e))return t;const n=r=>Object.entries(r).reduce((a,[i,o])=>(a[e[i]||i]=o,a),{});return t.map(n)};FK.props={};function nXe(e,t){return e.map(n=>{if(Array.isArray(n)){const[r,a=t]=n;return[r,a]}return[n,t]})}const BK=e=>{const{fields:t=[]}=e,n=nXe(t,!0);return r=>{const a=(i,o)=>n.reduce((s,[l,c=!0])=>s!==0?s:c?i[l]<o[l]?-1:+(i[l]!==o[l]):i[l]>o[l]?-1:+(i[l]!==o[l]),0);return[...r].sort(a)}};BK.props={};const $K=e=>{const{value:t}=e;return()=>t};$K.props={};const jK=e=>{const{callback:t=Fd}=e;return n=>t(n)};jK.props={};const zK=e=>{const{callback:t=Fd}=e;return n=>Array.isArray(n)?n.map(t):n};zK.props={};var rXe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function aXe(e,t){return{set(n,r,a){if(t[n]===void 0)return this;const i=r?r.call(null,t[n]):t[n];return a?a.call(null,i):typeof e[n]=="function"?e[n](i):e[n]=i,this},setAsync(n,r,a){return rXe(this,void 0,void 0,function*(){if(t[n]===void 0)return this;const i=r?yield r.call(null,t[n]):t[n];return a?a.call(null,i):typeof e[n]=="function"?e[n](i):e[n]=i,this})}}}const TS=Math.PI/180,Iv=64,_x=2048;function iXe(e){return e.text}function oXe(){return"serif"}function WD(){return"normal"}function sXe(e){return e.value}function lXe(){return~~(Math.random()*2)*90}function cXe(){return 1}function uXe(){}function fXe(e,t,n,r){if(t.sprite)return;const a=e.context,i=e.ratio;a.clearRect(0,0,(Iv<<5)/i,_x/i);let o=0,s=0,l=0;const c=n.length;for(--r;++r<c;){t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font;let d=a.measureText(t.text+"m").width*i,h=t.size<<1;if(t.rotate){const p=Math.sin(t.rotate*TS),v=Math.cos(t.rotate*TS),g=d*v,m=d*p,y=h*v,x=h*p;d=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,h=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else d=d+31>>5<<5;if(h>l&&(l=h),o+d>=Iv<<5&&(o=0,s+=l,l=0),s+h>=_x)break;a.translate((o+(d>>1))/i,(s+(h>>1))/i),t.rotate&&a.rotate(t.rotate*TS),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=d,t.height=h,t.xoff=o,t.yoff=s,t.x1=d>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=d}const u=a.getImageData(0,0,(Iv<<5)/i,_x/i).data,f=[];for(;--r>=0;){if(t=n[r],!t.hasText)continue;const d=t.width,h=d>>5;let p=t.y1-t.y0;for(let m=0;m<p*h;m++)f[m]=0;if(o=t.xoff,o==null)return;s=t.yoff;let v=0,g=-1;for(let m=0;m<p;m++){for(let y=0;y<d;y++){const x=h*m+(y>>5),b=u[(s+m)*(Iv<<5)+(o+y)<<2]?1<<31-y%32:0;f[x]|=b,v|=b}v?g=m:(t.y0++,p--,m--,s++)}t.y1=t.y0+g,t.sprite=f.slice(0,(t.y1-t.y0)*h)}}function dXe(e,t,n){n>>=5;const r=e.sprite,a=e.width>>5,i=e.x-(a<<4),o=i&127,s=32-o,l=e.y1-e.y0;let c=(e.y+e.y0)*n+(i>>5),u;for(let f=0;f<l;f++){u=0;for(let d=0;d<=a;d++)if((u<<s|(d<a?(u=r[f*a+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function hXe(e,t){const n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function pXe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function UK(e){const t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function vXe(e){const n=4*e[0]/e[1];let r=0,a=0;return function(i){const o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:r+=n;break;case 1:a+=4;break;case 2:r-=n;break;default:a-=4;break}return[r,a]}}function VD(e){const t=[];let n=-1;for(;++n<e;)t[n]=0;return t}function gXe(){return document.createElement("canvas")}function Gc(e){return typeof e=="function"?e:function(){return e}}const mXe={archimedean:UK,rectangular:vXe};function yXe(){let e=[256,256],t=iXe,n=oXe,r=sXe,a=WD,i=lXe,o=cXe,s=UK,l=Math.random,c=uXe,u=[],f=null,d=1/0,h=gXe;const p=WD,v={};v.start=function(){const[y,x]=e,b=g(h()),E=v.board?v.board:VD((e[0]>>5)*e[1]),_=u.length,w=[],A=u.map(function(O,C,M){return O.text=t.call(this,O,C,M),O.font=n.call(this,O,C,M),O.style=p.call(this,O,C,M),O.weight=a.call(this,O,C,M),O.rotate=i.call(this,O,C,M),O.size=~~r.call(this,O,C,M),O.padding=o.call(this,O,C,M),O}).sort(function(O,C){return C.size-O.size});let S=-1,k=v.board?[{x:0,y:0},{x:y,y:x}]:void 0;f&&clearInterval(f),f=setInterval(T,0),T();function T(){const O=Date.now();for(;Date.now()-O<d&&++S<_;){const C=A[S];C.x=y*(l()+.5)>>1,C.y=x*(l()+.5)>>1,fXe(b,C,A,S),C.hasText&&m(E,C,k)&&(c.call(null,"word",{cloud:v,word:C}),w.push(C),k?v.hasImage||hXe(k,C):k=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}v._tags=w,v._bounds=k,S>=_&&(v.stop(),c.call(null,"end",{cloud:v,words:w,bounds:k}))}return v},v.stop=function(){return f&&(clearInterval(f),f=null),v};function g(y){y.width=y.height=1;const x=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(Iv<<5)/x,y.height=_x/x;const b=y.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",b.textBaseline="middle",{context:b,ratio:x}}function m(y,x,b){const E=x.x,_=x.y,w=Math.sqrt(e[0]*e[0]+e[1]*e[1]),A=s(e),S=l()<.5?1:-1;let k,T=-S,O,C;for(;(k=A(T+=S))&&(O=~~k[0],C=~~k[1],!(Math.min(Math.abs(O),Math.abs(C))>=w));)if(x.x=E+O,x.y=_+C,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>e[0]||x.y+x.y1>e[1])&&(!b||!dXe(x,y,e[0]))&&(!b||pXe(x,b))){const M=x.sprite,R=x.width>>5,I=e[0]>>5,P=x.x-(R<<4),B=P&127,N=32-B,V=x.y1-x.y0;let W,z=(x.y+x.y0)*I+(P>>5);for(let j=0;j<V;j++){W=0;for(let L=0;L<=R;L++)y[z+L]|=W<<N|(L<R?(W=M[j*R+L])>>>B:0);z+=I}return delete x.sprite,!0}return!1}return v.createMask=y=>{const x=document.createElement("canvas"),[b,E]=e;if(!b||!E)return;const _=b>>5,w=VD((b>>5)*E);x.width=b,x.height=E;const A=x.getContext("2d");A.drawImage(y,0,0,y.width,y.height,0,0,b,E);const S=A.getImageData(0,0,b,E).data;for(let k=0;k<E;k++)for(let T=0;T<b;T++){const O=_*k+(T>>5),C=k*b+T<<2,R=S[C]>=250&&S[C+1]>=250&&S[C+2]>=250?1<<31-T%32:0;w[O]|=R}v.board=w,v.hasImage=!0},v.timeInterval=function(y){d=y??1/0},v.words=function(y){u=y},v.size=function(y=[]){e=[+y[0],+y[1]]},v.text=function(y){t=Gc(y)},v.font=function(y){n=Gc(y)},v.fontWeight=function(y){a=Gc(y)},v.rotate=function(y){i=Gc(y)},v.canvas=function(y){h=Gc(y)},v.spiral=function(y){s=mXe[y]||y},v.fontSize=function(y){r=Gc(y)},v.padding=function(y){o=Gc(y)},v.random=function(y){l=Gc(y)},v.on=function(y){c=Gc(y)},v}var xXe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},bXe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const wXe={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function _Xe(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}if(typeof e=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=()=>t(r),r.onerror=()=>{console.error(`'image ${e} load failed !!!'`),n()};return}n()})}function EXe(e,t){if(typeof e=="function")return e;if(Array.isArray(e)){const[n,r]=e;if(!t)return()=>(r+n)/2;const[a,i]=t;return i===a?()=>(r+n)/2:({value:o})=>(r-n)/(i-a)*(o-a)+n}return()=>e}const HK=(e,t)=>n=>xXe(void 0,void 0,void 0,function*(){const r=Object.assign({},wXe,e,{canvas:t.createCanvas}),a=yXe();yield aXe(a,r).set("fontSize",y=>{const x=n.map(b=>b.value);return EXe(y,[is(x),Fn(x)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",_Xe,a.createMask),a.words([...n]);const i=a.start(),[o,s]=r.size,l=[{x:0,y:0},{x:o,y:s}],{_bounds:c=l,_tags:u,hasImage:f}=i,d=u.map(y=>{var{x,y:b,font:E}=y,_=bXe(y,["x","y","font"]);return Object.assign(Object.assign({},_),{x:x+o/2,y:b+s/2,fontFamily:E})}),[{x:h,y:p},{x:v,y:g}]=c,m={text:"",value:0,opacity:0,fontSize:0};return d.push(Object.assign(Object.assign({},m),{x:f?0:h,y:f?0:p}),Object.assign(Object.assign({},m),{x:f?o:v,y:f?s:g})),d});HK.props={};function YD(e){return typeof e=="string"?t=>t[e]:e}const GK=e=>{const{join:t,on:n,select:r=[],as:a=r,unknown:i=NaN}=e,[o,s]=n,l=YD(s),c=YD(o),u=d3(t,([f])=>f,f=>l(f));return f=>f.map(d=>{const h=u.get(c(d));return Object.assign(Object.assign({},d),r.reduce((p,v,g)=>(p[a[g]]=h?h[v]:i,p),{}))})};GK.props={};const WK=e=>{const{start:t,end:n}=e;return r=>r.slice(t,n)};WK.props={};var OS={exports:{}},CS={exports:{}},XD;function SXe(){return XD||(XD=1,function(e){var t=e.exports;e.exports.isNumber=function(n){return typeof n=="number"},e.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],a=1;a<n.length;a++)r=Math.min(r,n[a]);return r},e.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],a=1;a<n.length;a++)r=Math.max(r,n[a]);return r},e.exports.findMinMulti=function(n){for(var r=t.findMin(n[0]),a=1;a<n.length;a++)r=Math.min(r,t.findMin(n[a]));return r},e.exports.findMaxMulti=function(n){for(var r=t.findMax(n[0]),a=1;a<n.length;a++)r=Math.max(r,t.findMax(n[a]));return r},e.exports.inside=function(n,r,a){return n<=a&&a<=r}}(CS)),CS.exports}var qD;function AXe(){return qD||(qD=1,function(e){var t=50,n=2,r=Math.log(2),a=e.exports,i=SXe();function o(l){return 1-Math.abs(l)}e.exports.getUnifiedMinMax=function(l,c){return a.getUnifiedMinMaxMulti([l],c)},e.exports.getUnifiedMinMaxMulti=function(l,c){c=c||{};var u=!1,f=!1,d=i.isNumber(c.width)?c.width:n,h=i.isNumber(c.size)?c.size:t,p=i.isNumber(c.min)?c.min:(u=!0,i.findMinMulti(l)),v=i.isNumber(c.max)?c.max:(f=!0,i.findMaxMulti(l)),g=v-p,m=g/(h-1);return u&&(p=p-2*d*m),f&&(v=v+2*d*m),{min:p,max:v}},e.exports.create=function(l,c){if(c=c||{},!l||l.length===0)return[];var u=i.isNumber(c.size)?c.size:t,f=i.isNumber(c.width)?c.width:n,d=a.getUnifiedMinMax(l,{size:u,width:f,min:c.min,max:c.max}),h=d.min,p=d.max,v=p-h,g=v/(u-1);if(v===0)return[{x:h,y:1}];for(var m=[],y=0;y<u;y++)m.push({x:h+y*g,y:0});var x=function(T){return Math.floor((T-h)/g)},b=s(o,f),E=b[f],_=b[f-1]-b[f-2],w=0;l.forEach(function(T){var O=x(T);if(!(O+f<0||O-f>=m.length)){var C=Math.max(O-f,0),M=O,R=Math.min(O+f,m.length-1),I=C-(O-f),P=O+f-R,B=b[-f-1+I]||0,N=b[-f-1+P]||0,V=E/(E-B-N);I>0&&(w+=V*(I-1)*_);var W=Math.max(0,O-f+1);i.inside(0,m.length-1,W)&&(m[W].y+=V*1*_),i.inside(0,m.length-1,M+1)&&(m[M+1].y-=V*2*_),i.inside(0,m.length-1,R+1)&&(m[R+1].y+=V*1*_)}});var A=w,S=0,k=0;return m.forEach(function(T){S+=T.y,A+=S,T.y=A,k+=A}),k>0&&m.forEach(function(T){T.y/=k}),m};function s(l,c){for(var u={},f=0,d=-c;d<=c;d++)f+=l(d/c),u[d]=f;return u}e.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){c+=u.x*u.y}),c}},e.exports.getXWithLeftTailArea=function(l,c){if(!(!l||l.length===0)){for(var u=0,f=0,d=0;d<l.length&&(f=d,u+=l[d].y,!(u>=c));d++);return l[f].x}},e.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){var f=Math.log(u.y);isFinite(f)&&(c+=u.y*f)}),c=-c/r,Math.pow(2,c)}}}(OS)),OS.exports}var kXe=AXe();const TXe=Vb(kXe),VK=e=>{const{field:t,groupBy:n,as:r=["y","size"],min:a,max:i,size:o=10,width:s}=e,[l,c]=r;return u=>Array.from(ur(u,d=>n.map(h=>d[h]).join("-")).values()).map(d=>{const h=TXe.create(d.map(g=>g[t]),{min:a,max:i,size:o,width:s}),p=h.map(g=>g.x),v=h.map(g=>g.y);return Object.assign(Object.assign({},d[0]),{[l]:p,[c]:v})})};VK.props={};function OXe(e,t,n,r){r=r||{};const a=r.maxIterations||100,i=r.tolerance||1e-10,o=e(t),s=e(n);let l=n-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return t;if(s===0)return n;for(let c=0;c<a;++c){l/=2;const u=t+l,f=e(u);if(f*o>=0&&(t=u),Math.abs(l)<i||f===0)return u}return t+l}function vT(e){const t=new Array(e);for(let n=0;n<e;++n)t[n]=0;return t}function KD(e,t){return vT(e).map(()=>vT(t))}function yh(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function gT(e){return Math.sqrt(yh(e,e))}function mT(e,t,n){for(let r=0;r<t.length;++r)e[r]=t[r]*n}function Qc(e,t,n,r,a){for(let i=0;i<e.length;++i)e[i]=t*n[i]+r*a[i]}function CXe(e,t,n){n=n||{};const r=n.maxIterations||t.length*200,a=n.nonZeroDelta||1.05,i=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,u=n.psi!==void 0?n.psi:-.5,f=n.sigma!==void 0?n.sigma:.5;let d;const h=t.length,p=new Array(h+1);p[0]=t,p[0].fx=e(t),p[0].id=0;for(let E=0;E<h;++E){const _=t.slice();_[E]=_[E]?_[E]*a:i,p[E+1]=_,p[E+1].fx=e(_),p[E+1].id=E+1}function v(E){for(let _=0;_<E.length;_++)p[h][_]=E[_];p[h].fx=E.fx}const g=(E,_)=>E.fx-_.fx,m=t.slice(),y=t.slice(),x=t.slice(),b=t.slice();for(let E=0;E<r;++E){if(p.sort(g),n.history){const w=p.map(A=>{const S=A.slice();return S.fx=A.fx,S.id=A.id,S});w.sort((A,S)=>A.id-S.id),n.history.push({x:p[0].slice(),fx:p[0].fx,simplex:w})}d=0;for(let w=0;w<h;++w)d=Math.max(d,Math.abs(p[0][w]-p[1][w]));if(Math.abs(p[0].fx-p[h].fx)<o&&d<s)break;for(let w=0;w<h;++w){m[w]=0;for(let A=0;A<h;++A)m[w]+=p[A][w];m[w]/=h}const _=p[h];if(Qc(y,1+l,m,-l,_),y.fx=e(y),y.fx<p[0].fx)Qc(b,1+c,m,-c,_),b.fx=e(b),b.fx<y.fx?v(b):v(y);else if(y.fx>=p[h-1].fx){let w=!1;if(y.fx>_.fx?(Qc(x,1+u,m,-u,_),x.fx=e(x),x.fx<_.fx?v(x):w=!0):(Qc(x,1-u*l,m,u*l,_),x.fx=e(x),x.fx<y.fx?v(x):w=!0),w){if(f>=1)break;for(let A=1;A<p.length;++A)Qc(p[A],1-f,p[0],f,p[A]),p[A].fx=e(p[A])}}else v(y)}return p.sort(g),{fx:p[0].fx,x:p[0]}}function MXe(e,t,n,r,a,i,o){const s=n.fx,l=yh(n.fxprime,t);let c=s,u=s,f=l,d=0;a=a||1,i=i||1e-6,o=o||.1;function h(p,v,g){for(let m=0;m<16;++m)if(a=(p+v)/2,Qc(r.x,1,n.x,a,t),c=r.fx=e(r.x,r.fxprime),f=yh(r.fxprime,t),c>s+i*a*l||c>=g)v=a;else{if(Math.abs(f)<=-o*l)return a;f*(v-p)>=0&&(v=p),p=a,g=c}return 0}for(let p=0;p<10;++p){if(Qc(r.x,1,n.x,a,t),c=r.fx=e(r.x,r.fxprime),f=yh(r.fxprime,t),c>s+i*a*l||p&&c>=u)return h(d,a,u);if(Math.abs(f)<=-o*l)return a;if(f>=0)return h(a,d,c);u=c,d=a,a*=2}return a}function PXe(e,t,n){let r={x:t.slice(),fx:0,fxprime:t.slice()},a={x:t.slice(),fx:0,fxprime:t.slice()};const i=t.slice();let o,s=1;n=n||{};const l=n.maxIterations||t.length*20;r.fx=e(r.x,r.fxprime);const c=r.fxprime.slice();mT(c,r.fxprime,-1);for(let u=0;u<l;++u){if(s=MXe(e,c,r,a,s),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)mT(c,r.fxprime,-1);else{Qc(i,1,a.fxprime,-1,r.fxprime);const f=yh(r.fxprime,r.fxprime),d=Math.max(0,yh(i,a.fxprime)/f);Qc(c,d,c,-1,a.fxprime),o=r,r=a,a=o}if(gT(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const YK=1e-10;function XK(e,t){const n=RXe(e),r=n.filter(function(l){return IXe(l,e)});let a=0,i=0,o;const s=[];if(r.length>1){const l=NXe(r);for(o=0;o<r.length;++o){const u=r[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(u,f){return f.angle-u.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const u=r[o];i+=(c.x+u.x)*(u.y-c.y);const f={x:(u.x+c.x)/2,y:(u.y+c.y)/2};let d=null;for(let h=0;h<u.parentIndex.length;++h)if(c.parentIndex.indexOf(u.parentIndex[h])>-1){const p=e[u.parentIndex[h]],v=Math.atan2(u.x-p.x,u.y-p.y),g=Math.atan2(c.x-p.x,c.y-p.y);let m=g-v;m<0&&(m+=2*Math.PI);const y=g-m/2;let x=hg(f,{x:p.x+p.radius*Math.sin(y),y:p.y+p.radius*Math.cos(y)});x>p.radius*2&&(x=p.radius*2),(d===null||d.width>x)&&(d={circle:p,width:x,p1:u,p2:c})}d!==null&&(s.push(d),a+=yT(d.circle.radius,d.width),c=u)}}else{let l=e[0];for(o=1;o<e.length;++o)e[o].radius<l.radius&&(l=e[o]);let c=!1;for(o=0;o<e.length;++o)if(hg(e[o],l)>Math.abs(l.radius-e[o].radius)){c=!0;break}c?a=i=0:(a=l.radius*l.radius*Math.PI,s.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-YK,y:l.y+l.radius},width:l.radius*2}))}return i/=2,t&&(t.area=a+i,t.arcArea=a,t.polygonArea=i,t.arcs=s,t.innerPoints=r,t.intersectionPoints=n),a+i}function IXe(e,t){for(let n=0;n<t.length;++n)if(hg(e,t[n])>t[n].radius+YK)return!1;return!0}function RXe(e){const t=[];for(let n=0;n<e.length;++n)for(let r=n+1;r<e.length;++r){const a=KK(e[n],e[r]);for(let i=0;i<a.length;++i){const o=a[i];o.parentIndex=[n,r],t.push(o)}}return t}function yT(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function hg(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function qK(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);const r=e-(n*n-t*t+e*e)/(2*n),a=t-(n*n-e*e+t*t)/(2*n);return yT(e,r)+yT(t,a)}function KK(e,t){const n=hg(e,t),r=e.radius,a=t.radius;if(n>=r+a||n<=Math.abs(r-a))return[];const i=(r*r-a*a+n*n)/(2*n),o=Math.sqrt(r*r-i*i),s=e.x+i*(t.x-e.x)/n,l=e.y+i*(t.y-e.y)/n,c=-(t.y-e.y)*(o/n),u=-(t.x-e.x)*(o/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function NXe(e){const t={x:0,y:0};for(let n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function DXe(e,t){t=t||{},t.maxIterations=t.maxIterations||500;const n=t.initialLayout||$Xe,r=t.lossFunction||W4;e=LXe(e);const a=n(e,t),i=[],o=[];let s;for(s in a)a.hasOwnProperty(s)&&(i.push(a[s].x),i.push(a[s].y),o.push(s));const c=CXe(function(u){const f={};for(let d=0;d<o.length;++d){const h=o[d];f[h]={x:u[2*d],y:u[2*d+1],radius:a[h].radius}}return r(f,e)},i,t).x;for(let u=0;u<o.length;++u)s=o[u],a[s].x=c[2*u],a[s].y=c[2*u+1];return a}const ZK=1e-10;function xT(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+ZK?Math.abs(e-t):OXe(function(r){return qK(e,t,r)-n},0,e+t)}function LXe(e){e=e.slice();const t=[],n={};let r,a,i,o;for(r=0;r<e.length;++r){const s=e[r];s.sets.length==1?t.push(s.sets[0]):s.sets.length==2&&(i=s.sets[0],o=s.sets[1],n[[i,o]]=!0,n[[o,i]]=!0)}for(t.sort((s,l)=>s>l?1:-1),r=0;r<t.length;++r)for(i=t[r],a=r+1;a<t.length;++a)o=t[a],[i,o]in n||e.push({sets:[i,o],size:0});return e}function FXe(e,t,n){const r=KD(t.length,t.length),a=KD(t.length,t.length);return e.filter(function(i){return i.sets.length==2}).map(function(i){const o=n[i.sets[0]],s=n[i.sets[1]],l=Math.sqrt(t[o].size/Math.PI),c=Math.sqrt(t[s].size/Math.PI),u=xT(l,c,i.size);r[o][s]=r[s][o]=u;let f=0;i.size+1e-10>=Math.min(t[o].size,t[s].size)?f=1:i.size<=1e-10&&(f=-1),a[o][s]=a[s][o]=f}),{distances:r,constraints:a}}function BXe(e,t,n,r){let a=0,i;for(i=0;i<t.length;++i)t[i]=0;for(i=0;i<n.length;++i){const o=e[2*i],s=e[2*i+1];for(let l=i+1;l<n.length;++l){const c=e[2*l],u=e[2*l+1],f=n[i][l],d=r[i][l],h=(c-o)*(c-o)+(u-s)*(u-s),p=Math.sqrt(h),v=h-f*f;d>0&&p<=f||d<0&&p>=f||(a+=2*v*v,t[2*i]+=4*v*(o-c),t[2*i+1]+=4*v*(s-u),t[2*l]+=4*v*(c-o),t[2*l+1]+=4*v*(u-s))}}return a}function $Xe(e,t){let n=zXe(e,t);const r=t.lossFunction||W4;if(e.length>=8){const a=jXe(e,t),i=r(a,e),o=r(n,e);i+1e-8<o&&(n=a)}return n}function jXe(e,t){t=t||{};const n=t.restarts||10,r=[],a={};let i;for(i=0;i<e.length;++i){const v=e[i];v.sets.length==1&&(a[v.sets[0]]=r.length,r.push(v))}const o=FXe(e,r,a);let s=o.distances;const l=o.constraints,c=gT(s.map(gT))/s.length;s=s.map(function(v){return v.map(function(g){return g/c})});const u=function(v,g){return BXe(v,g,s,l)};let f,d;for(i=0;i<n;++i){const v=vT(s.length*2).map(Math.random);d=PXe(u,v,t),(!f||d.fx<f.fx)&&(f=d)}const h=f.x,p={};for(i=0;i<r.length;++i){const v=r[i];p[v.sets[0]]={x:h[2*i]*c,y:h[2*i+1]*c,radius:Math.sqrt(v.size/Math.PI)}}if(t.history)for(i=0;i<t.history.length;++i)mT(t.history[i].x,c);return p}function zXe(e,t){const n=t&&t.lossFunction?t.lossFunction:W4,r={},a={};let i;for(let f=0;f<e.length;++f){const d=e[f];d.sets.length==1&&(i=d.sets[0],r[i]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:d.size,radius:Math.sqrt(d.size/Math.PI)},a[i]=[])}e=e.filter(function(f){return f.sets.length==2});for(let f=0;f<e.length;++f){const d=e[f];let h=d.hasOwnProperty("weight")?d.weight:1;const p=d.sets[0],v=d.sets[1];d.size+ZK>=Math.min(r[p].size,r[v].size)&&(h=0),a[p].push({set:v,size:d.size,weight:h}),a[v].push({set:p,size:d.size,weight:h})}const o=[];for(i in a)if(a.hasOwnProperty(i)){let f=0;for(let d=0;d<a[i].length;++d)f+=a[i][d].size*a[i][d].weight;o.push({set:i,size:f})}function s(f,d){return d.size-f.size}o.sort(s);const l={};function c(f){return f.set in l}function u(f,d){r[d].x=f.x,r[d].y=f.y,l[d]=!0}u({x:0,y:0},o[0].set);for(let f=1;f<o.length;++f){const d=o[f].set,h=a[d].filter(c);if(i=r[d],h.sort(s),h.length===0)throw"ERROR: missing pairwise overlap information";const p=[];for(let m=0;m<h.length;++m){const y=r[h[m].set],x=xT(i.radius,y.radius,h[m].size);p.push({x:y.x+x,y:y.y}),p.push({x:y.x-x,y:y.y}),p.push({y:y.y+x,x:y.x}),p.push({y:y.y-x,x:y.x});for(let b=m+1;b<h.length;++b){const E=r[h[b].set],_=xT(i.radius,E.radius,h[b].size),w=KK({x:y.x,y:y.y,radius:x},{x:E.x,y:E.y,radius:_});for(let A=0;A<w.length;++A)p.push(w[A])}}let v=1e50,g=p[0];for(let m=0;m<p.length;++m){r[d].x=p[m].x,r[d].y=p[m].y;const y=n(r,e);y<v&&(v=y,g=p[m])}u(g,d)}return r}function W4(e,t){let n=0;function r(a){return a.map(function(i){return e[i]})}for(let a=0;a<t.length;++a){const i=t[a];let o;if(i.sets.length==1)continue;if(i.sets.length==2){const l=e[i.sets[0]],c=e[i.sets[1]];o=qK(l.radius,c.radius,hg(l,c))}else o=XK(r(i.sets));const s=i.hasOwnProperty("weight")?i.weight:1;n+=s*(o-i.size)*(o-i.size)}return n}function UXe(e){const t=function(n){const r=Math.max.apply(null,e.map(function(i){return i[n]+i.radius})),a=Math.min.apply(null,e.map(function(i){return i[n]-i.radius}));return{max:r,min:a}};return{xRange:t("x"),yRange:t("y")}}function HXe(e,t,n,r){const a=[],i=[];for(const v in e)e.hasOwnProperty(v)&&(i.push(v),a.push(e[v]));t-=2*r,n-=2*r;const o=UXe(a),s=o.xRange,l=o.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;const c=t/(s.max-s.min),u=n/(l.max-l.min),f=Math.min(u,c),d=(t-(s.max-s.min)*f)/2,h=(n-(l.max-l.min)*f)/2,p={};for(let v=0;v<a.length;++v){const g=a[v];p[i[v]]={radius:f*g.radius,x:r+d+(g.x-s.min)*f,y:r+h+(g.y-l.min)*f}}return p}function GXe(e,t,n){const r=[],a=e-n,i=t;return r.push("M",a,i),r.push("A",n,n,0,1,0,a+2*n,i),r.push("A",n,n,0,1,0,a,i),r.join(" ")}function WXe(e){const t={};XK(e,t);const n=t.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return GXe(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let a=0;a<n.length;++a){const i=n[a],o=i.circle.radius,s=i.width>o;r.push(`
A`,o,o,0,s?1:0,1,i.p1.x,i.p1.y)}return r.join(" ")}}const QK=e=>{const{sets:t="sets",size:n="size",as:r=["key","path"],padding:a=0}=e,[i,o]=r;return s=>{const l=s.map(f=>Object.assign(Object.assign({},f),{sets:f[t],size:f[n],[i]:f.sets.join("&")}));l.sort((f,d)=>f.sets.length-d.sets.length);const c=DXe(l);let u;return l.map(f=>{const d=f[t],h=({width:p,height:v})=>{u=u||HXe(c,p,v,a);const g=d.map(y=>u[y]);let m=WXe(g);return/[zZ]$/.test(m)||(m+=" Z"),m};return Object.assign(Object.assign({},f),{[o]:h})})}};QK.props={};const JK=()=>e=>(console.log("G2 data section:",e),e);JK.props={};function VXe(e,t){if(t<0||t>1)throw new Error("alpha must be between 0 and 1.");if(e.length===0)return[];let n=e[0];const r=[];for(const a of e){if(a==null){r.push(a),console.warn("EMA：The value is null or undefined",e);continue}n==null&&(n=a);const i=n*t+(1-t)*a;r.push(i),n=i}return r}const eZ=e=>{const{field:t="y",alpha:n=.6,as:r=t}=e;return a=>{const i=a.map(s=>s[t]),o=VXe(i,n);return a.map((s,l)=>Object.assign(Object.assign({},s),{[r]:o[l]}))}};eZ.props={};const tZ=.01;function pg(e){const{min:t,max:n}=e;return[[t[0],t[1]],[n[0],n[1]]]}function ZD(e,t,n=tZ){const[r,a]=e,[i,o]=t;return r>=i[0]-n&&r<=o[0]+n&&a>=i[1]-n&&a<=o[1]+n}function nZ(e,t,n=tZ){const[r,a]=e;return!(ZD(r,t,n)&&ZD(a,t,n))}function YXe(e,t){const[n,r]=e,[a,i]=t;return n[0]<i[0]&&r[0]>a[0]&&n[1]<i[1]&&r[1]>a[1]}const XXe=e=>{const{priority:t}=e;return n=>{const r=[];return t&&n.sort(t),n.forEach(a=>{qw(a);const i=a.getLocalBounds();r.some(s=>YXe(pg(i),pg(s.getLocalBounds())))?N4(a):r.push(a)}),n}};function qXe([e,t],[n,r]){return r>e&&t>n}function Zy(){const e=new Map;return[r=>e.get(r),(r,a)=>e.set(r,a)]}function KXe(e){const t=e.cloneNode(!0),n=t.getElementById("connector");n&&t.removeChild(n);const{min:r,max:a}=t.getRenderBounds();return t.destroy(),{min:r,max:a}}const ZXe=e=>{const{maxIterations:t=10,maxError:n=.1,padding:r=1}=e;return a=>{const i=a.length;if(i<=1)return a;const[o,s]=Zy(),[l,c]=Zy(),[u,f]=Zy(),[d,h]=Zy();for(const p of a){const{min:v,max:g}=KXe(p),[m,y]=v,[x,b]=g;s(p,y),c(p,y),f(p,b-y),h(p,[m,x])}for(let p=0;p<t;p++){a.sort((g,m)=>Qr(l(g),l(m)));let v=0;for(let g=0;g<i-1;g++){const m=a[g];let y=g+1,x;for(;(x=a[y])&&!qXe(d(m),d(x));)y+=1;if(x){const b=l(m),E=u(m),_=l(x),w=_-(b+E);if(w<r){const A=(r-w)/2;v=Math.max(v,A),c(m,b-A),c(x,_+A)}}}if(v<n)break}for(const p of a)p.style.y+=l(p)-o(p);return a}};function rZ(e){return typeof e=="object"?e:bd(e)}function MS(e){let t=e/255;return t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),t}function QD(e,t,n){return .2126*MS(e)+.7152*MS(t)+.0722*MS(n)}function aZ(e,t){if(!e||!t||e===t)return 1;const{r:n,g:r,b:a}=e,{r:i,g:o,b:s}=t,l=QD(n,r,a),c=QD(i,o,s);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function iZ(e,t){const n=bp(t,r=>aZ(e,rZ(r)));return t[n]}const QXe=e=>{const{threshold:t=4.5,palette:n=["#000","#fff"]}=e;return r=>(r.forEach(a=>{const i=a.attr("dependentElement").parsedStyle.fill,o=a.parsedStyle.fill;aZ(o,i)<t&&a.attr("fill",iZ(i,n))}),r)},JXe=()=>e=>(e.forEach(t=>{qw(t);const n=t.attr("bounds"),r=t.getLocalBounds();nZ(pg(r),n)&&N4(t)}),e),eqe=(e,t)=>{const[[n,r],[a,i]]=t,[[o,s],[l,c]]=e;let u=0,f=0;return o<n?u=n-o:l>a&&(u=a-l),s<r?f=r-s:c>i&&(f=i-c),[u,f]},tqe=(e={})=>(t,{canvas:n,layout:r})=>{const{bounds:a="view",offsetX:i=0,offsetY:o=0}=e,l=(()=>{if(a==="main"){const{x:c=0,y:u=0,width:f=0,height:d=0,marginLeft:h=0,marginRight:p=0,marginTop:v=0,marginBottom:g=0,paddingLeft:m=0,paddingRight:y=0,paddingTop:x=0,paddingBottom:b=0}=r;return[[c+h+m+i,u+v+x+o],[c+f-p-y-i,u+d-g-b-o]]}else{const{x:c=0,y:u=0,width:f=0,height:d=0}=r;return[[c+i,u+o],[c+f-i,u+d-o]]}})();return t.forEach(c=>{qw(c);const{max:u,min:f}=c.getRenderBounds(),[d,h]=u,[p,v]=f,g=eqe([[p,v],[d,h]],l);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=g[0],c.style.connectorPoints[0][1]-=g[1]),c.style.x+=g[0],c.style.y+=g[1]}),t};function JD(e){var t;const n=e.getAnimations();if(!n||n.length===0)return lb(e);const r=e.cloneNode(!0);r.style.visibility="hidden",n.forEach(i=>{const o=i.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(t=e.parentNode)===null||t===void 0||t.appendChild(r);const a=lb(r);return r.destroy(),a}const nqe=e=>{const{palette:t=["#000","#fff"],threshold:n=2}=e;return r=>(r.forEach(a=>{var i,o;const s=a.attr("dependentElement"),l=(o=(i=a.attributes.fill)!==null&&i!==void 0?i:a.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=pg(JD(a)),u=pg(JD(s));if(nZ(c,u,n)){const f=iZ(rZ(l),t);a.attr("stroke",f)}else a.removeAttribute("stroke")}),r)};function rqe(){return{"data.fetch":IK,"data.inline":$K,"data.sortBy":BK,"data.sort":DK,"data.filter":NK,"data.pick":LK,"data.rename":FK,"data.fold":RK,"data.slice":WK,"data.custom":jK,"data.map":zK,"data.join":GK,"data.kde":VK,"data.log":JK,"data.wordCloud":HK,"data.ema":eZ,"transform.stackY":Yj,"transform.binX":Sz,"transform.bin":C3,"transform.dodgeX":az,"transform.jitter":sz,"transform.jitterX":lz,"transform.jitterY":cz,"transform.symmetryY":uz,"transform.diffY":fz,"transform.stackEnter":iz,"transform.normalizeY":oz,"transform.select":sw,"transform.selectX":dz,"transform.selectY":hz,"transform.groupX":pz,"transform.groupY":vz,"transform.groupColor":gz,"transform.group":Ug,"transform.sortX":mz,"transform.sortY":xz,"transform.sortColor":yz,"transform.flexX":bz,"transform.pack":Ez,"transform.sample":Az,"transform.filter":kz,"coordinate.cartesian":u$,"coordinate.polar":Ig,"coordinate.transpose":VO,"coordinate.theta":h$,"coordinate.parallel":XO,"coordinate.fisheye":v$,"coordinate.radial":YO,"coordinate.radar":g$,"coordinate.helix":d$,"encode.constant":m$,"encode.field":x$,"encode.transform":y$,"encode.column":b$,"mark.interval":WW,"mark.rect":VW,"mark.line":YW,"mark.point":XW,"mark.text":qW,"mark.cell":KW,"mark.area":ZW,"mark.link":$C,"mark.image":QW,"mark.polygon":JW,"mark.box":eV,"mark.vector":tV,"mark.lineX":rV,"mark.lineY":nV,"mark.connector":aV,"mark.range":iV,"mark.rangeX":oV,"mark.rangeY":sV,"mark.path":dV,"mark.shape":OV,"mark.density":UV,"mark.heatmap":HV,"mark.wordCloud":WC,"palette.category10":WV,"palette.category20":VV,"scale.linear":XV,"scale.ordinal":qV,"scale.band":YV,"scale.identity":KV,"scale.point":ZV,"scale.time":QV,"scale.log":JV,"scale.pow":eY,"scale.sqrt":aY,"scale.threshold":tY,"scale.quantile":nY,"scale.quantize":rY,"scale.sequential":iY,"scale.constant":oY,"theme.classic":sY,"theme.classicDark":cY,"theme.academy":uY,"theme.light":YC,"theme.dark":lY,"component.axisX":wY,"component.axisY":_Y,"component.legendCategory":qC,"component.legendContinuous":Of,"component.legends":IY,"component.title":TY,"component.sliderX":OY,"component.sliderY":CY,"component.scrollbarX":MY,"component.scrollbarY":PY,"animation.scaleInX":ZC,"animation.scaleOutX":KBe,"animation.scaleInY":RY,"animation.scaleOutY":ZBe,"animation.waveIn":BY,"animation.fadeIn":NY,"animation.fadeOut":DY,"animation.zoomIn":l$e,"animation.zoomOut":c$e,"animation.pathIn":$Y,"animation.morphing":FY,"animation.growInX":jY,"animation.growInY":zY,"interaction.elementHighlight":Kw,"interaction.elementHighlightByX":rK,"interaction.elementHighlightByColor":aK,"interaction.elementSelect":Zw,"interaction.elementSelectByX":iK,"interaction.elementSelectByColor":oK,"interaction.fisheye":FVe,"interaction.chartIndex":sK,"interaction.tooltip":yK,"interaction.legendFilter":rYe,"interaction.legendHighlight":aYe,"interaction.brushHighlight":j4,"interaction.brushXHighlight":uYe,"interaction.brushYHighlight":fYe,"interaction.brushAxisHighlight":bYe,"interaction.brushFilter":G4,"interaction.brushXFilter":SYe,"interaction.brushYFilter":AYe,"interaction.sliderFilter":CK,"interaction.scrollbarFilter":MYe,"interaction.poptip":MK,"interaction.treemapDrillDown":BYe,"interaction.elementPointMove":GYe,"composition.spaceLayer":fX,"composition.spaceFlex":dX,"composition.facetRect":mX,"composition.repeatMatrix":bze,"composition.facetCircle":kze,"composition.timingKeyframe":yX,"labelTransform.overlapHide":XXe,"labelTransform.overlapDodgeY":ZXe,"labelTransform.overflowHide":JXe,"labelTransform.contrastReverse":QXe,"labelTransform.overflowStroke":nqe,"labelTransform.exceedAdjust":tqe}}function aqe(){return{"composition.geoView":VX,"composition.geoPath":xX}}function iqe(){return{"data.arc":zC,"data.cluster":BV,"mark.forceGraph":LV,"mark.tree":jV,"mark.pack":SV,"mark.sankey":uV,"mark.chord":fV,"mark.treemap":EV}}function oqe(){return{"data.venn":QK,"mark.boxplot":TV,"mark.gauge":zV,"mark.wordCloud":WC,"mark.liquid":GV}}function sqe(){return Object.assign(Object.assign(Object.assign(Object.assign({},aqe()),iqe()),oqe()),rqe())}function lqe(e,t){class n extends e{constructor(a){super(Object.assign(Object.assign({},a),{lib:t}))}}return n}const cqe={},I0=e=>e?parseInt(e):0;function uqe(e){const t=getComputedStyle(e),n=e.clientWidth||I0(t.width),r=e.clientHeight||I0(t.height),a=I0(t.paddingLeft)+I0(t.paddingRight),i=I0(t.paddingTop)+I0(t.paddingBottom);return{width:n-a,height:r-i}}function PS(e,t){const n=[e];for(;n.length;){const r=n.shift();t&&t(r);const a=r.children||[];for(const i of a)n.push(i)}}let V4=class{constructor(t={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=t}map(t=n=>n){const n=t(this.value);return this.value=n,this}attr(t,n){return arguments.length===1?this.value[t]:this.map(r=>(r[t]=n,r))}append(t){const n=new t({});return n.children=[],this.push(n),n}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:n}=t,r=n.findIndex(a=>a===this);n.splice(r,1)}return this}getNodeByKey(t){let n=null;return PS(this,a=>{t===a.attr("key")&&(n=a)}),n}getNodesByType(t){const n=[];return PS(this,a=>{t===a.type&&n.push(a)}),n}getNodeByType(t){let n=null;return PS(this,r=>{n||t===r.type&&(n=r)}),n}call(t,...n){return t(this.map(),...n),this}getRoot(){let t=this;for(;t&&t.parentNode;)t=t.parentNode;return t}};var oZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bT=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],sZ="__remove__",lZ="__callback__",eL=1,tL=1;function fqe(e){if(e===void 0){const t=document.createElement("div");return t[sZ]=!0,t}return typeof e=="string"?document.getElementById(e):e}function dqe(e){const t=e.parentNode;t&&t.removeChild(e)}function hqe(e){if(e.type!==null)return e;const t=e.children[e.children.length-1];for(const n of bT)t.attr(n,e.attr(n));return t}function nL(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function IS(e,t){const{width:n,height:r,autoFit:a,depth:i=0}=e;let o=640,s=480;if(a){const{width:l,height:c}=uqe(t);o=l||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(kn(o)?o:eL,eL),height:Math.max(kn(s)?s:tL,tL),depth:i}}function pqe(e){const t=hqe(e),n=[t],r=new Map;for(r.set(t,nL(t));n.length;){const a=n.pop(),i=r.get(a),{children:o=[]}=a;for(const s of o)if(s.type===lZ)i.children=s.value;else{const l=nL(s),{children:c=[]}=i;c.push(l),n.push(s),r.set(s,l),i.children=c}}return r.get(t)}function vqe(e,t){return typeof e=="function"?!0:new Set(Object.keys(t)).has(e)}function gqe(e,t){return typeof e!="function"&&new Set(Object.keys(t)).has(e)}function mqe(e,t,n,r,a){const{type:i}=e,{type:o=n||i}=t;if(gqe(o,a)){for(const s of bT)e.attr(s)!==void 0&&t[s]===void 0&&(t[s]=e.attr(s));return t}if(vqe(o,r)){const s={type:"view"},l=Object.assign({},t);for(const c of bT)l[c]!==void 0&&(s[c]=l[c],delete l[c]);return Object.assign(Object.assign({},s),{children:[l]})}return t}function yqe(e,t,n){if(typeof e=="function")return t.mark;const a=Object.assign(Object.assign({},t),n)[e];if(!a)throw new Error(`Unknown mark: ${e}.`);return a}function xqe(e,t,n){if(typeof e=="function"){const l=new V4;return l.value=e,l.type=lZ,l}const{type:r,children:a}=e,i=oZ(e,["type","children"]),o=yqe(r,t,n),s=new o;return s.value=i,s.type=r,s}function bqe(e,t){const{type:n,children:r}=t,a=oZ(t,["type","children"]);e.type===n||n===void 0?jj(e.value,a):typeof n=="string"&&(e.type=n,e.value=a)}function wqe(e,t,n,r){if(!e)return;const a=[[e,t]];for(;a.length;){const[i,o]=a.shift(),s=xqe(o,n,r);Array.isArray(i.children)&&i.push(s);const{children:l}=o;if(Array.isArray(l))for(const c of l)a.push([s,c]);else typeof l=="function"&&a.push([s,l])}}function _qe(e,t,n,r,a){const i=mqe(e,t,n,r,a),o=[[null,e,i]];for(;o.length;){const[s,l,c]=o.shift();if(!l)wqe(s,c,r,a);else if(!c)l.remove();else{bqe(l,c);const{children:u}=c,{children:f}=l;if(Array.isArray(u)&&Array.isArray(f)){const d=Math.max(u.length,f.length);for(let h=0;h<d;h++){const p=u[h],v=f[h];o.push([l,v,p])}}else typeof u=="function"&&o.push([l,null,u])}}}function Eqe(){let e,t;return[new Promise((r,a)=>{t=r,e=a}),t,e]}function Sqe(e,t,{key:n=t}){e.prototype[t]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function Aqe(e,t,{key:n=t}){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const a=[...this.attr(n)||[],r];return this.attr(n,a)}}function kqe(e,t,{key:n=t}){e.prototype[t]=function(r,a){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const i=this.attr(n)||{};return i[r]=arguments.length===1?!0:a,this.attr(n,i)}}function Tqe(e,t,n){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(t);if(Array.isArray(r))return this.attr(t,{items:r});if(Hh(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(t,r);if(r===null||r===!1)return this.attr(t,r);const a=this.attr(t)||{},{items:i=[]}=a;return i.push(r),a.items=i,this.attr(t,a)}}function Oqe(e,t,{ctor:n}){e.prototype[t]=function(r){const a=this.append(n);return t==="mark"&&(a.type=r),a}}function Cqe(e,t,{ctor:n}){e.prototype[t]=function(){return this.type=null,this.append(n)}}function db(e){return t=>{for(const[n,r]of Object.entries(e)){const{type:a}=r;a==="value"?Sqe(t,n,r):a==="array"?Aqe(t,n,r):a==="object"?kqe(t,n,r):a==="node"?Oqe(t,n,r):a==="container"?Cqe(t,n,r):a==="mix"&&Tqe(t,n)}return t}}function rL(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{type:"node",ctor:n}]))}const cZ={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},Mqe=Object.assign(Object.assign({},cZ),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),Pqe=Object.assign(Object.assign({},cZ),{labelTransform:{type:"array"}});var Iqe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};let hb=class extends V4{changeData(t){var n;const r=this.getRoot();if(r)return this.attr("data",t),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(a=>{a.attr("data",t)}),r==null?void 0:r.render()}getView(){const t=this.getRoot(),{views:n}=t.getContext();if(n!=null&&n.length)return n.find(r=>r.key===this._key)}getScale(){var t;return(t=this.getView())===null||t===void 0?void 0:t.scale}getScaleByChannel(t){const n=this.getScale();if(n)return n[t]}getCoordinate(){var t;return(t=this.getView())===null||t===void 0?void 0:t.coordinate}getTheme(){var t;return(t=this.getView())===null||t===void 0?void 0:t.theme}getGroup(){const t=this._key;return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}show(){const t=this.getGroup();t&&!t.isVisible()&&qw(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&N4(t)}};hb=Iqe([db(Pqe)],hb);var Rqe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};let wT=class extends V4{changeData(t){const n=this.getRoot();if(n)return this.attr("data",t),n==null?void 0:n.render()}getMark(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(!n)return;const{markState:r}=n,a=Array.from(r.keys()).find(i=>i.key===this.attr("key"));return r.get(a)}getScale(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(n)return n==null?void 0:n.scale}getScaleByChannel(t){var n,r;const a=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(a)return(r=a==null?void 0:a.scale)===null||r===void 0?void 0:r[t]}getGroup(){const t=this.attr("key");return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}};wT=Rqe([db(Mqe)],wT);var Nqe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Dqe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Lqe="G2_CHART_KEY";class Fqe extends hb{constructor(t){const{container:n,canvas:r,renderer:a,plugins:i,lib:o,createCanvas:s}=t,l=Dqe(t,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=A$(()=>{this.forceFit()},300),this._renderer=a||new KY,this._plugins=i||[],this._container=fqe(n),this._emitter=new JY,this._context={library:Object.assign(Object.assign({},o),cqe),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise((i,o)=>yVe(this._computedOptions(),this._context,this._createResolve(i),this._createReject(o))),[n,r,a]=Eqe();return t.then(r).then(()=>{if(this._trailingClear){const i=this.options();this._trailingClear(),this._trailing&&this.options(i)}}).catch(a).then(()=>{this._trailingClear=null,this._renderTrailing()}),n}options(t){if(arguments.length===0)return pqe(this);const{type:n}=t;return n&&(this._previousDefinedType=n),_qe(this,t,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(t,n,r){return this._emitter.on(t,n,r),this}once(t,n){return this._emitter.once(t,n),this}emit(t,...n){return this._emitter.emit(t,...n),this}off(t,n){return this._emitter.off(t,n),this}clear(t=!0){if(this._rendering){this._trailingClear=()=>{this.clear(t)},this._reset();return}const n=this.options();this.emit(jn.BEFORE_CLEAR),this._reset(),CD(n,this._context,!1,t),this.emit(jn.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(jn.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),CD(t,this._context,!0),this._container[sZ]&&dqe(this._container),this.emit(jn.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:t,height:n}=IS(this.options(),this._container);if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(jn.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(jn.AFTER_CHANGE_SIZE)}),r}changeSize(t,n){if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(jn.BEFORE_CHANGE_SIZE),this.attr("width",t),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(jn.AFTER_CHANGE_SIZE)}),r}getDataByXY(t,n={}){const{shared:r=!1,series:a,facet:i=!1,startX:o=0,startY:s=0}=n,{canvas:l,views:c}=this._context,{document:u}=l,{x:f,y:d}=t,{coordinate:h,scale:p,markState:v,data:g,key:m}=c[0],y=u.getElementsByClassName(tc),x=r?T=>T.__data__.x:T=>T,b=ur(y,x),E=u.getElementsByClassName(U2)[0],_=$l(E),w=T=>Array.from(T.values()).some(O=>{var C,M;return((C=O.interaction)===null||C===void 0?void 0:C.seriesTooltip)||((M=O.channels)===null||M===void 0?void 0:M.some(R=>R.name==="series"&&R.values!==void 0))}),A=Zl(a,w(v)),S=T=>Pn(T,"__data__.data",null),k=T=>T.map(S);try{if(A&&w(v)&&!i){const{selectedData:M}=mK({root:_,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,startX:o,startY:s}),R=g.get(`${m}-0`);return M.map(({index:I})=>R[I])}const T=gK({root:_,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,shared:r});if(tw(T))return w3(T,g.get(m));const O=x(T),C=b.get(O);return C?k(C):[]}catch{const O=l.document.elementFromPointSync(f,d);return O?S(O):[]}}_create(){const{library:t}=this._context,n=i=>i.startsWith("mark.")||i==="component.axisX"||i==="component.axisY"||i==="component.legends",r=["mark.mark",...Object.keys(t).filter(n)];this._marks={};for(const i of r){const o=i.split(".").pop();class s extends wT{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(l){const c=this.append(s);return o==="mark"&&(c.type=l),c}}const a=["composition.view",...Object.keys(t).filter(i=>i.startsWith("composition.")&&i!=="composition.mark")];this._compositions=Object.fromEntries(a.map(i=>{const o=i.split(".").pop();let s=class extends hb{constructor(){super({},o)}};return s=Nqe([db(rL(this._marks))],s),[o,s]}));for(const i of Object.values(this._compositions))db(rL(this._compositions))(i);for(const i of a){const o=i.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const t=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||t.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)}).catch(t=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(t)}))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return n=>{this._rendering=!1,t(n)}}_computedOptions(){const t=this.options(),{key:n=Lqe}=t,{width:r,height:a,depth:i}=IS(t,this._container);return this._width=r,this._height=a,this._key=n,Object.assign(Object.assign({key:this._key},t),{width:r,height:a,depth:i})}_createCanvas(){const{width:t,height:n}=IS(this.options(),this._container);this._plugins.push(new QY),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new DU({container:this._container,width:t,height:n,renderer:this._renderer})}_addToTrailing(){var t;return(t=this._trailingResolve)===null||t===void 0||t.call(this,this),this._trailing=!0,new Promise((r,a)=>{this._trailingResolve=r,this._trailingReject=a})}_bindAutoFit(){const t=this.options(),{autoFit:n}=t;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const Bqe=Object.assign({},sqe()),$qe=lqe(Fqe,Bqe),jqe={ref:"chart",class:"wm-chart_pie"},zqe=["innerHTML"],Uqe=ln({__name:"pie",props:{type:String,value:Array,theme:{type:String,default:"classic"},height:{type:Number,default:0},html:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Gs();sn(()=>t,a=>{r()},{deep:!0}),Wn(()=>{r()});const r=()=>{Hn(()=>{const i={container:n.$refs.chart,autoFit:!0,forceFit:!0,theme:t.theme};t.height&&(i.height=t.height);const o=new $qe(i);o.interval().data(t.value).coordinate({type:"theta",radius:.75,innerRadius:.45}).encode("y","value").encode("color","label").transform({type:"stackY"}).style("radius",4).style("inset",1).animate("enter",{type:"waveIn",duration:600}).tooltip({title:"label",items:[{field:"value",name:"数量"}]}).legend(!1),o.render()})};return(a,i)=>(Z(),ne("div",jqe,[e.html?(Z(),ne("div",{key:0,class:"wm-chart_pie_html",innerHTML:e.html},null,8,zqe)):ye("",!0)],512))}}),Hqe=fi(Uqe,[["__scopeId","data-v-4d456890"]]),Gqe={class:"index_title"},Wqe={class:"index_ct flex"},Vqe={class:"index_left"},Yqe={class:"index_chart bg line_top c1"},Xqe={class:"index_right"},qqe={class:"index_chart bg line_top line_bottom c3"},Kqe={class:"c3_list"},Zqe=ln({__name:"Homes",setup(e){const t=Ce(!1),r=Rl().state,a=Ce(!1),i=Ce("c1"),o=Ce([{}]),s=Ce([]);sn(()=>r.isLogin,u=>{u&&l()},{deep:!0}),Wn(()=>{r.token&&(t.value=!0)}),YL(()=>{t&&r.isLogin&&l()});const l=()=>{o.value=[{label:"n1",value:90},{label:"n2",value:200},{label:"n3",value:120}],c(i.value)},c=u=>{const f={c1:[{label:"n1",value:100},{label:"n2",value:50},{label:"n3",value:110},{label:"n4",value:360},{label:"n5",value:240},{label:"n6",value:120}],c2:[{label:"n1",value:300},{label:"n2",value:200},{label:"n3",value:450}],c3:[{label:"n1",value:100},{label:"n2",value:200},{label:"n3",value:150},{label:"n4",value:280},{label:"n5",value:120},{label:"n6",value:80}],c4:[{label:"n1",value:60},{label:"n2",value:30},{label:"n3",value:180},{label:"n4",value:260},{label:"n5",value:210}],c5:[{label:"n1",value:80},{label:"n2",value:210},{label:"n3",value:110}]};i.value=u,s.value=f[u]};return(u,f)=>(Z(),ne("div",{class:Qe(["index_body",a.value?"full_screen":""])},[Y("div",Gqe,[f[6]||(f[6]=Y("h1",null,"实时数据大屏",-1)),Y("i",{class:Qe(["ui",a.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:f[0]||(f[0]=d=>{a.value=!a.value,l()})},null,2)]),f[14]||(f[14]=uM('<div class="index_tools bg line_top flex" data-v-6ac355aa><div class="city flex" data-v-6ac355aa><span data-v-6ac355aa>区域: <b data-v-6ac355aa>全部</b></span><span class="time" data-v-6ac355aa>时段: <b data-v-6ac355aa>2024/07/29</b> 至 <b data-v-6ac355aa>2024/07/29</b></span></div><ul class="day" data-v-6ac355aa><li class="active" data-v-6ac355aa>今日</li><li data-v-6ac355aa>昨日</li><li data-v-6ac355aa>近7天</li><li data-v-6ac355aa>近1月</li><li data-v-6ac355aa>自定义</li><li class="line" data-v-6ac355aa>|</li><li data-v-6ac355aa>导出</li></ul></div>',1)),Y("div",Wqe,[Y("div",Vqe,[Y("div",Yqe,[mt(Hqe,{type:"stack",theme:"classicDark",html:"<span style='font-size: 18px;'>库存</span>",value:o.value},null,8,["value"])]),f[7]||(f[7]=uM('<div class="index_chart bg line_top c2 scrollbar" data-v-6ac355aa><ul class="c2_list" data-v-6ac355aa><li class="flex" data-v-6ac355aa><div class="title" data-v-6ac355aa>瑞丽库房</div><div class="num" data-v-6ac355aa>7890</div></li><li class="flex" data-v-6ac355aa><div class="title" data-v-6ac355aa>平洲库房</div><div class="num" data-v-6ac355aa>3495</div></li><li class="flex" data-v-6ac355aa><div class="title" data-v-6ac355aa>缅甸库房</div><div class="num" data-v-6ac355aa>4056</div></li></ul></div>',1))]),Y("div",Xqe,[Y("div",qqe,[Y("ul",Kqe,[Y("li",null,[Y("div",{class:Qe(i.value=="c1"?"active":""),onClick:f[1]||(f[1]=d=>c("c1"))},f[8]||(f[8]=[Y("span",{class:"title line_bottom"},"采购入库",-1),Y("h2",null,"8920",-1),Y("span",{class:"ratio"},[Jt("同比上期  "),Y("b",{class:"up"},"12%")],-1)]),2)]),Y("li",null,[Y("div",{class:Qe(i.value=="c2"?"active":""),onClick:f[2]||(f[2]=d=>c("c2"))},f[9]||(f[9]=[Y("span",{class:"title"},"采购退货",-1),Y("h2",null,"720",-1),Y("span",{class:"ratio"},[Jt("同比上期  "),Y("b",{class:"down"},"32%")],-1)]),2)]),Y("li",null,[Y("div",{class:Qe(i.value=="c3"?"active":""),onClick:f[3]||(f[3]=d=>c("c3"))},f[10]||(f[10]=[Y("span",{class:"title"},"调拨出",-1),Y("h2",null,"5960",-1),Y("span",{class:"ratio"},[Jt("同比上期  "),Y("b",{class:"up"},"8%")],-1)]),2)]),Y("li",null,[Y("div",{class:Qe(i.value=="c4"?"active":""),onClick:f[4]||(f[4]=d=>c("c4"))},f[11]||(f[11]=[Y("span",{class:"title"},"调拨入",-1),Y("h2",null,"5810",-1),Y("span",{class:"ratio"},[Jt("同比上期  "),Y("b",{class:"down"},"8%")],-1)]),2)]),Y("li",null,[Y("div",{class:Qe(i.value=="c5"?"active":""),onClick:f[5]||(f[5]=d=>c("c5"))},f[12]||(f[12]=[Y("span",{class:"title"},"销售出仓",-1),Y("h2",null,"2343",-1),Y("span",{class:"ratio"},[Jt("同比上期  "),Y("b",{class:"up"},"5%")],-1)]),2)])])]),f[13]||(f[13]=Y("div",{class:"index_chart bg line_top line_bottom c4"},null,-1))])])],2))}}),Qqe=fi(Zqe,[["__scopeId","data-v-6ac355aa"]]),Jqe=[{path:"/",name:"Home",component:Qqe},{path:"/refresh",name:"Refresh",component:()=>na(()=>import("./Refresh-DjiCdCiq.js"),[])},{path:"/SysFileManage",name:"SysFileManage",component:()=>na(()=>import("./index-DOuiZE6w.js"),__vite__mapDeps([0,1,2,3]))},{path:"/SysMenus",name:"SysMenus",component:()=>na(()=>import("./index-CuzxA6SA.js"),__vite__mapDeps([4,5,6,1,2,7,8,9,10,11]))},{path:"/SysUser",name:"SysUser",component:()=>na(()=>import("./index-DLyeSh2A.js"),__vite__mapDeps([12,5,6,13,14,1,2,7,8,9,10,15,16,17]))},{path:"/SysRole",name:"SysRole",component:()=>na(()=>import("./index-DTjHgv6O.js"),__vite__mapDeps([18,5,6,1,2,7,8,9,10,15,16,19]))},{path:"/WebHtml",name:"WebHtml",component:()=>na(()=>import("./index-RYbPkyND.js"),__vite__mapDeps([20,5,6,1,2,7,8,9,10,21]))},{path:"/BaseOrganization",name:"BaseOrganization",component:()=>na(()=>import("./index-DMttbNat.js"),__vite__mapDeps([22,5,6,1,2,23,24,7,8,25]))},{path:"/BaseShop",name:"BaseShop",meta:{keepAlive:!0},component:()=>na(()=>import("./index-CiVnLzHM.js"),__vite__mapDeps([26,5,6,1,2,23,24,7,8,27]))},{path:"/BasePartner",name:"BasePartner",component:()=>na(()=>import("./index-DE6CBrnC.js"),__vite__mapDeps([28,5,6,1,2,23,24,7,8,29]))},{path:"/BaseBrand",name:"BaseBrand",component:()=>na(()=>import("./index-Djp2Wb9_.js"),__vite__mapDeps([30,5,6,1,2,23,24,7,8,31]))},{path:"/BaseCategory",name:"BaseCategory",component:()=>na(()=>import("./index-UUugMO4F.js"),__vite__mapDeps([32,5,6,1,2,23,24,7,8,33]))},{path:"/BaseSupplier",name:"BaseSupplier",component:()=>na(()=>import("./index-DF4bYiQU.js"),__vite__mapDeps([34,5,6,1,2,7,8]))},{path:"/GoodsInfo",name:"GoodsInfo",component:()=>na(()=>import("./index-DBH7fSDI.js"),__vite__mapDeps([35,5,6,13,14,1,2,23,24]))},{path:"/GoodsLog",name:"GoodsLog",component:()=>na(()=>import("./index-CABIGknC.js"),__vite__mapDeps([36,5,6,1,2]))},{path:"/GoodsStock",name:"GoodsStock",component:()=>na(()=>import("./index-DkoWpTXS.js"),__vite__mapDeps([37,5,6,1,2]))},{path:"/PurchaseIn",name:"PurchaseIn",component:()=>na(()=>import("./index-C9eMC6eF.js"),__vite__mapDeps([38,5,6,1,2,39,23,24,9,10,40,13,14,41]))},{path:"/PurchaseInPush",name:"PurchaseInPush",component:()=>na(()=>import("./index-D_NFmDZn.js"),__vite__mapDeps([42,5,6,1,2,39,23,24,9,10,40,13,14,43]))},{path:"/PurchaseOut",name:"PurchaseOut",component:()=>na(()=>import("./index-Byrvyqo4.js"),__vite__mapDeps([44,5,6,1,2,39,23,24,9,10,40,13,14,45]))},{path:"/PurchaseOutPush",name:"PurchaseOutPush",component:()=>na(()=>import("./index-DeMpQpo6.js"),__vite__mapDeps([46,5,6,1,2,39,23,24,9,10,40,13,14,47]))},{path:"/AllocateOut",name:"AllocateOut",component:()=>na(()=>import("./index-YJ0oAyul.js"),__vite__mapDeps([48,5,6,1,2,39,23,24,9,10,40,13,14,49]))},{path:"/AllocateIn",name:"AllocateIn",component:()=>na(()=>import("./index-PpSaT9DY.js"),__vite__mapDeps([50,5,6,1,2,39,23,24,9,10,40,13,14,51]))},{path:"/OrderInout",name:"OrderInout",component:()=>na(()=>import("./index-Bcsk27Fo.js"),__vite__mapDeps([52,5,6,1,2,39,23,24,9,10,40,13,14,53]))}],eKe=pte({history:Hee(),routes:Jqe});$J(CEe).use(MEe).use(eKe).mount("#app");export{v9 as A,ye as B,Ti as C,nu as D,H_ as E,ti as F,Hn as G,Use as H,j0e as I,Mre as J,wm as K,fA as L,kA as M,FA as N,Gwe as O,bl as P,nx as Q,Br as R,R_ as S,Li as T,St as U,wl as V,Ywe as W,rt as X,oa as Y,fi as _,ht as a,J as b,zt as c,ln as d,_7 as e,mt as f,Gs as g,E7 as h,Y as i,Ps as j,w7 as k,Jt as l,eh as m,ne as n,Z as o,We as p,x1 as q,Ce as r,Ve as s,be as t,Rl as u,Ft as v,sn as w,Qe as x,Wn as y,YL as z};
