import{d as v,g as C,r as s,w as k,y as x,n as a,s as b,i as f,f as I,p as l,B,t as z,A as N,o,_ as V}from"./index-CkPR886e.js";const p={ref:"wmImage"},F=v({__name:"index",props:{img:{type:String,default:""},imgTitle:{type:String,default:""},width:{type:String,default:"32px"},height:{type:String,default:"32px"},radius:{type:String,default:"50%"},bgColor:{type:String,default:"#00000010"},icoSize:{type:String,default:"18px"},icoColor:{type:String,default:"#00000050"},isView:{type:Boolean,default:!0},redNum:{type:String,default:""},redBgColor:{type:String,default:"#FF3300"}},emits:["imgClick"],setup(e,{emit:y}){const i=e,{proxy:w}=C(),S=y,g=s(!1),r=s(""),u=s(!1),d=s([]);k(()=>i.img,t=>{m()},{deep:!0}),x(()=>{m()});const m=()=>{const t=w.$refs.wmImage;t.src=i.img,t.onload=()=>{g.value=!0,r.value=i.img}},h=t=>{S("imgClick",t),i.isView&&(u.value=!0,d.value=[{label:i.imgTitle||t,value:t}])};return(t,n)=>(o(),a(b,null,[f("div",{class:"wm-image",style:l({width:e.width,height:e.height,lineHeight:"calc("+e.height+" + 4px)",borderRadius:e.radius,backgroundColor:e.bgColor})},[e.redNum!=""?(o(),a("span",{key:0,class:"rednum",style:l({backgroundColor:e.redBgColor})},z(e.redNum),5)):B("",!0),f("img",p,null,512),e.img?g.value?(o(),a("div",{key:3,class:"img",style:l({backgroundImage:r.value?"url("+e.img+")":"",borderRadius:e.radius}),onClick:n[0]||(n[0]=c=>h(e.img))},null,4)):(o(),a("i",{key:2,class:"ui ui_loading loading",style:l({fontSize:e.icoSize})},null,4)):(o(),a("i",{key:1,class:"ui ui_image",style:l({fontSize:e.icoSize,color:e.icoColor})},null,4))],4),I(N,{show:u.value,"onUpdate:show":n[1]||(n[1]=c=>u.value=c),options:d.value},null,8,["show","options"])],64))}}),R=V(F,[["__scopeId","data-v-7ee900f5"]]);export{R as w};
