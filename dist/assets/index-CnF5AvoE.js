const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BdnBWSkm.js","assets/Total-D1VoWU1A.js","assets/Total-y6GAO7vw.css","assets/index-CwUhAjwy.css","assets/index-XsoW7gub.js","assets/Search-CvnSry-k.js","assets/Search-C28KLlio.css","assets/index-Cz1UrKEg.js","assets/index-CF9yUiqi.css","assets/index-DYzwSGVj.js","assets/index-BS1niaVh.css","assets/index-Byh7Ej69.js","assets/index-bHSuAcZO.css","assets/index-DhmTQpDW.css","assets/index-BSrpXK_b.js","assets/index-GCe5NAAQ.js","assets/index-BRBWJtY9.css","assets/index-D2Wb6jXq.js","assets/index-biU_zlF0.css","assets/index-DPhwP3FX.css","assets/index-CldvQ-9g.js","assets/index--sosMiRp.css","assets/index-CsXorXoy.js","assets/index-DE4ja0oc.css","assets/index-D-aZifL6.js","assets/index-GcSL2rHE.js","assets/index-DLMFU-KE.css","assets/index-D5VEDY7A.css","assets/index-BZft0WRB.js","assets/index-XfYXMHEA.css","assets/index-CBriBVJV.js","assets/index-Ce9OFn3Z.css","assets/index-CFDcOoJD.js","assets/index-BxrOKnuQ.css","assets/index-BBB5Gek8.js","assets/index-9h1kB5Et.css","assets/index-COT-csyd.js","assets/index-B0DHfgJx.js","assets/utils-DiaYGV9e.js","assets/index-CqP8exIr.js","assets/index-JWbtx1N1.js"])))=>i.map(i=>d[i]);
var fz=Object.defineProperty;var dz=(e,n,t)=>n in e?fz(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var He=(e,n,t)=>dz(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function L2(e){const n=Object.create(null);for(const t of e.split(","))n[t]=1;return t=>t in n}const xn={},$c=[],Wo=()=>{},hz=()=>!1,Cm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$2=e=>e.startsWith("onUpdate:"),Br=Object.assign,I2=(e,n)=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)},pz=Object.prototype.hasOwnProperty,Jt=(e,n)=>pz.call(e,n),ft=Array.isArray,Ic=e=>gp(e)==="[object Map]",QR=e=>gp(e)==="[object Set]",vz=e=>gp(e)==="[object RegExp]",yt=e=>typeof e=="function",Fn=e=>typeof e=="string",js=e=>typeof e=="symbol",An=e=>e!==null&&typeof e=="object",JR=e=>(An(e)||yt(e))&&yt(e.then)&&yt(e.catch),eN=Object.prototype.toString,gp=e=>eN.call(e),gz=e=>gp(e).slice(8,-1),tN=e=>gp(e)==="[object Object]",D2=e=>Fn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kd=L2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rm=e=>{const n=Object.create(null);return t=>n[t]||(n[t]=e(t))},mz=/-(\w)/g,$a=Rm(e=>e.replace(mz,(n,t)=>t?t.toUpperCase():"")),yz=/\B([A-Z])/g,Sl=Rm(e=>e.replace(yz,"-$1").toLowerCase()),Nm=Rm(e=>e.charAt(0).toUpperCase()+e.slice(1)),l1=Rm(e=>e?`on${Nm(e)}`:""),pl=(e,n)=>!Object.is(e,n),Dc=(e,...n)=>{for(let t=0;t<e.length;t++)e[t](...n)},nN=(e,n,t,r=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:r,value:t})},bx=e=>{const n=parseFloat(e);return isNaN(n)?e:n},bz=e=>{const n=Fn(e)?Number(e):NaN;return isNaN(n)?e:n};let SS;const Lm=()=>SS||(SS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Be(e){if(ft(e)){const n={};for(let t=0;t<e.length;t++){const r=e[t],i=Fn(r)?kz(r):Be(r);if(i)for(const a in i)n[a]=i[a]}return n}else if(Fn(e)||An(e))return e}const xz=/;(?![^(]*\))/g,wz=/:([^]+)/,_z=/\/\*[^]*?\*\//g;function kz(e){const n={};return e.replace(_z,"").split(xz).forEach(t=>{if(t){const r=t.split(wz);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function Ue(e){let n="";if(Fn(e))n=e;else if(ft(e))for(let t=0;t<e.length;t++){const r=Ue(e[t]);r&&(n+=r+" ")}else if(An(e))for(const t in e)e[t]&&(n+=t+" ");return n.trim()}function Dr(e){if(!e)return null;let{class:n,style:t}=e;return n&&!Fn(n)&&(e.class=Ue(n)),t&&(e.style=Be(t)),e}const Oz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sz=L2(Oz);function rN(e){return!!e||e===""}const iN=e=>!!(e&&e.__v_isRef===!0),Me=e=>Fn(e)?e:e==null?"":ft(e)||An(e)&&(e.toString===eN||!yt(e.toString))?iN(e)?Me(e.value):JSON.stringify(e,aN,2):String(e),aN=(e,n)=>iN(n)?aN(e,n.value):Ic(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((t,[r,i],a)=>(t[u1(r,a)+" =>"]=i,t),{})}:QR(n)?{[`Set(${n.size})`]:[...n.values()].map(t=>u1(t))}:js(n)?u1(n):An(n)&&!ft(n)&&!tN(n)?String(n):n,u1=(e,n="")=>{var t;return js(e)?`Symbol(${(t=e.description)!=null?t:n})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bi;class oN{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bi,!n&&bi&&(this.index=(bi.scopes||(bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,t;if(this.scopes)for(n=0,t=this.scopes.length;n<t;n++)this.scopes[n].pause();for(n=0,t=this.effects.length;n<t;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,t;if(this.scopes)for(n=0,t=this.scopes.length;n<t;n++)this.scopes[n].resume();for(n=0,t=this.effects.length;n<t;n++)this.effects[n].resume()}}run(n){if(this._active){const t=bi;try{return bi=this,n()}finally{bi=t}}}on(){bi=this}off(){bi=this.parent}stop(n){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ez(e){return new oN(e)}function sN(){return bi}function Tz(e,n=!1){bi&&bi.cleanups.push(e)}let Sn;const c1=new WeakSet;class lN{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bi&&bi.active&&bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,c1.has(this)&&(c1.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cN(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ES(this),fN(this);const n=Sn,t=to;Sn=this,to=!0;try{return this.fn()}finally{dN(this),Sn=n,to=t,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)j2(n);this.deps=this.depsTail=void 0,ES(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?c1.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xx(this)&&this.run()}get dirty(){return xx(this)}}let uN=0,Zd,Qd;function cN(e,n=!1){if(e.flags|=8,n){e.next=Qd,Qd=e;return}e.next=Zd,Zd=e}function F2(){uN++}function B2(){if(--uN>0)return;if(Qd){let n=Qd;for(Qd=void 0;n;){const t=n.next;n.next=void 0,n.flags&=-9,n=t}}let e;for(;Zd;){let n=Zd;for(Zd=void 0;n;){const t=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(r){e||(e=r)}n=t}}if(e)throw e}function fN(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function dN(e){let n,t=e.depsTail,r=t;for(;r;){const i=r.prevDep;r.version===-1?(r===t&&(t=i),j2(r),Mz(r)):n=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=n,e.depsTail=t}function xx(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(hN(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function hN(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yh))return;e.globalVersion=yh;const n=e.dep;if(e.flags|=2,n.version>0&&!e.isSSR&&e.deps&&!xx(e)){e.flags&=-3;return}const t=Sn,r=to;Sn=e,to=!0;try{fN(e);const i=e.fn(e._value);(n.version===0||pl(i,e._value))&&(e._value=i,n.version++)}catch(i){throw n.version++,i}finally{Sn=t,to=r,dN(e),e.flags&=-3}}function j2(e,n=!1){const{dep:t,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),t.subs===e&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let a=t.computed.deps;a;a=a.nextDep)j2(a,!0)}!n&&!--t.sc&&t.map&&t.map.delete(t.key)}function Mz(e){const{prevDep:n,nextDep:t}=e;n&&(n.nextDep=t,e.prevDep=void 0),t&&(t.prevDep=n,e.nextDep=void 0)}let to=!0;const pN=[];function El(){pN.push(to),to=!1}function Tl(){const e=pN.pop();to=e===void 0?!0:e}function ES(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const t=Sn;Sn=void 0;try{n()}finally{Sn=t}}}let yh=0,Az=class{constructor(n,t){this.sub=n,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class z2{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!Sn||!to||Sn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Sn)t=this.activeLink=new Az(Sn,this),Sn.deps?(t.prevDep=Sn.depsTail,Sn.depsTail.nextDep=t,Sn.depsTail=t):Sn.deps=Sn.depsTail=t,vN(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=Sn.depsTail,t.nextDep=void 0,Sn.depsTail.nextDep=t,Sn.depsTail=t,Sn.deps===t&&(Sn.deps=r)}return t}trigger(n){this.version++,yh++,this.notify(n)}notify(n){F2();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{B2()}}}function vN(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let r=n.deps;r;r=r.nextDep)vN(r)}const t=e.dep.subs;t!==e&&(e.prevSub=t,t&&(t.nextSub=e)),e.dep.subs=e}}const J0=new WeakMap,vu=Symbol(""),wx=Symbol(""),bh=Symbol("");function ai(e,n,t){if(to&&Sn){let r=J0.get(e);r||J0.set(e,r=new Map);let i=r.get(t);i||(r.set(t,i=new z2),i.map=r,i.key=t),i.track()}}function xs(e,n,t,r,i,a){const o=J0.get(e);if(!o){yh++;return}const s=l=>{l&&l.trigger()};if(F2(),n==="clear")o.forEach(s);else{const l=ft(e),u=l&&D2(t);if(l&&t==="length"){const c=Number(r);o.forEach((f,d)=>{(d==="length"||d===bh||!js(d)&&d>=c)&&s(f)})}else switch((t!==void 0||o.has(void 0))&&s(o.get(t)),u&&s(o.get(bh)),n){case"add":l?u&&s(o.get("length")):(s(o.get(vu)),Ic(e)&&s(o.get(wx)));break;case"delete":l||(s(o.get(vu)),Ic(e)&&s(o.get(wx)));break;case"set":Ic(e)&&s(o.get(vu));break}}B2()}function Pz(e,n){const t=J0.get(e);return t&&t.get(n)}function lc(e){const n=Yt(e);return n===e?n:(ai(n,"iterate",bh),Ca(e)?n:n.map(oi))}function $m(e){return ai(e=Yt(e),"iterate",bh),e}const Cz={__proto__:null,[Symbol.iterator](){return f1(this,Symbol.iterator,oi)},concat(...e){return lc(this).concat(...e.map(n=>ft(n)?lc(n):n))},entries(){return f1(this,"entries",e=>(e[1]=oi(e[1]),e))},every(e,n){return fs(this,"every",e,n,void 0,arguments)},filter(e,n){return fs(this,"filter",e,n,t=>t.map(oi),arguments)},find(e,n){return fs(this,"find",e,n,oi,arguments)},findIndex(e,n){return fs(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return fs(this,"findLast",e,n,oi,arguments)},findLastIndex(e,n){return fs(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return fs(this,"forEach",e,n,void 0,arguments)},includes(...e){return d1(this,"includes",e)},indexOf(...e){return d1(this,"indexOf",e)},join(e){return lc(this).join(e)},lastIndexOf(...e){return d1(this,"lastIndexOf",e)},map(e,n){return fs(this,"map",e,n,void 0,arguments)},pop(){return od(this,"pop")},push(...e){return od(this,"push",e)},reduce(e,...n){return TS(this,"reduce",e,n)},reduceRight(e,...n){return TS(this,"reduceRight",e,n)},shift(){return od(this,"shift")},some(e,n){return fs(this,"some",e,n,void 0,arguments)},splice(...e){return od(this,"splice",e)},toReversed(){return lc(this).toReversed()},toSorted(e){return lc(this).toSorted(e)},toSpliced(...e){return lc(this).toSpliced(...e)},unshift(...e){return od(this,"unshift",e)},values(){return f1(this,"values",oi)}};function f1(e,n,t){const r=$m(e),i=r[n]();return r!==e&&!Ca(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=t(a.value)),a}),i}const Rz=Array.prototype;function fs(e,n,t,r,i,a){const o=$m(e),s=o!==e&&!Ca(e),l=o[n];if(l!==Rz[n]){const f=l.apply(e,a);return s?oi(f):f}let u=t;o!==e&&(s?u=function(f,d){return t.call(this,oi(f),d,e)}:t.length>2&&(u=function(f,d){return t.call(this,f,d,e)}));const c=l.call(o,u,r);return s&&i?i(c):c}function TS(e,n,t,r){const i=$m(e);let a=t;return i!==e&&(Ca(e)?t.length>3&&(a=function(o,s,l){return t.call(this,o,s,l,e)}):a=function(o,s,l){return t.call(this,o,oi(s),l,e)}),i[n](a,...r)}function d1(e,n,t){const r=Yt(e);ai(r,"iterate",bh);const i=r[n](...t);return(i===-1||i===!1)&&W2(t[0])?(t[0]=Yt(t[0]),r[n](...t)):i}function od(e,n,t=[]){El(),F2();const r=Yt(e)[n].apply(e,t);return B2(),Tl(),r}const Nz=L2("__proto__,__v_isRef,__isVue"),gN=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(js));function Lz(e){js(e)||(e=String(e));const n=Yt(this);return ai(n,"has",e),n.hasOwnProperty(e)}class mN{constructor(n=!1,t=!1){this._isReadonly=n,this._isShallow=t}get(n,t,r){if(t==="__v_skip")return n.__v_skip;const i=this._isReadonly,a=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return a;if(t==="__v_raw")return r===(i?a?Wz:wN:a?xN:bN).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(r)?n:void 0;const o=ft(n);if(!i){let l;if(o&&(l=Cz[t]))return l;if(t==="hasOwnProperty")return Lz}const s=Reflect.get(n,t,gr(n)?n:r);return(js(t)?gN.has(t):Nz(t))||(i||ai(n,"get",t),a)?s:gr(s)?o&&D2(t)?s:s.value:An(s)?i?kN(s):ls(s):s}}class yN extends mN{constructor(n=!1){super(!1,n)}set(n,t,r,i){let a=n[t];if(!this._isShallow){const l=Eu(a);if(!Ca(r)&&!Eu(r)&&(a=Yt(a),r=Yt(r)),!ft(n)&&gr(a)&&!gr(r))return l?!1:(a.value=r,!0)}const o=ft(n)&&D2(t)?Number(t)<n.length:Jt(n,t),s=Reflect.set(n,t,r,gr(n)?n:i);return n===Yt(i)&&(o?pl(r,a)&&xs(n,"set",t,r):xs(n,"add",t,r)),s}deleteProperty(n,t){const r=Jt(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&r&&xs(n,"delete",t,void 0),i}has(n,t){const r=Reflect.has(n,t);return(!js(t)||!gN.has(t))&&ai(n,"has",t),r}ownKeys(n){return ai(n,"iterate",ft(n)?"length":vu),Reflect.ownKeys(n)}}class $z extends mN{constructor(n=!1){super(!0,n)}set(n,t){return!0}deleteProperty(n,t){return!0}}const Iz=new yN,Dz=new $z,Fz=new yN(!0);const _x=e=>e,nv=e=>Reflect.getPrototypeOf(e);function Bz(e,n,t){return function(...r){const i=this.__v_raw,a=Yt(i),o=Ic(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=t?_x:n?kx:oi;return!n&&ai(a,"iterate",l?wx:vu),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function rv(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function jz(e,n){const t={get(i){const a=this.__v_raw,o=Yt(a),s=Yt(i);e||(pl(i,s)&&ai(o,"get",i),ai(o,"get",s));const{has:l}=nv(o),u=n?_x:e?kx:oi;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&ai(Yt(i),"iterate",vu),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=Yt(a),s=Yt(i);return e||(pl(i,s)&&ai(o,"has",i),ai(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=Yt(s),u=n?_x:e?kx:oi;return!e&&ai(l,"iterate",vu),s.forEach((c,f)=>i.call(a,u(c),u(f),o))}};return Br(t,e?{add:rv("add"),set:rv("set"),delete:rv("delete"),clear:rv("clear")}:{add(i){!n&&!Ca(i)&&!Eu(i)&&(i=Yt(i));const a=Yt(this);return nv(a).has.call(a,i)||(a.add(i),xs(a,"add",i,i)),this},set(i,a){!n&&!Ca(a)&&!Eu(a)&&(a=Yt(a));const o=Yt(this),{has:s,get:l}=nv(o);let u=s.call(o,i);u||(i=Yt(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?pl(a,c)&&xs(o,"set",i,a):xs(o,"add",i,a),this},delete(i){const a=Yt(this),{has:o,get:s}=nv(a);let l=o.call(a,i);l||(i=Yt(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&xs(a,"delete",i,void 0),u},clear(){const i=Yt(this),a=i.size!==0,o=i.clear();return a&&xs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Bz(i,e,n)}),t}function Y2(e,n){const t=jz(e,n);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Jt(t,i)&&i in r?t:r,i,a)}const zz={get:Y2(!1,!1)},Yz={get:Y2(!1,!0)},Gz={get:Y2(!0,!1)};const bN=new WeakMap,xN=new WeakMap,wN=new WeakMap,Wz=new WeakMap;function Hz(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uz(e){return e.__v_skip||!Object.isExtensible(e)?0:Hz(gz(e))}function ls(e){return Eu(e)?e:G2(e,!1,Iz,zz,bN)}function _N(e){return G2(e,!1,Fz,Yz,xN)}function kN(e){return G2(e,!0,Dz,Gz,wN)}function G2(e,n,t,r,i){if(!An(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=Uz(e);if(o===0)return e;const s=new Proxy(e,o===2?r:t);return i.set(e,s),s}function Fc(e){return Eu(e)?Fc(e.__v_raw):!!(e&&e.__v_isReactive)}function Eu(e){return!!(e&&e.__v_isReadonly)}function Ca(e){return!!(e&&e.__v_isShallow)}function W2(e){return e?!!e.__v_raw:!1}function Yt(e){const n=e&&e.__v_raw;return n?Yt(n):e}function Vz(e){return!Jt(e,"__v_skip")&&Object.isExtensible(e)&&nN(e,"__v_skip",!0),e}const oi=e=>An(e)?ls(e):e,kx=e=>An(e)?kN(e):e;function gr(e){return e?e.__v_isRef===!0:!1}function ge(e){return ON(e,!1)}function Xz(e){return ON(e,!0)}function ON(e,n){return gr(e)?e:new qz(e,n)}class qz{constructor(n,t){this.dep=new z2,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?n:Yt(n),this._value=t?n:oi(n),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(n){const t=this._rawValue,r=this.__v_isShallow||Ca(n)||Eu(n);n=r?n:Yt(n),pl(n,t)&&(this._rawValue=n,this._value=r?n:oi(n),this.dep.trigger())}}function V(e){return gr(e)?e.value:e}function Kz(e){return yt(e)?e():V(e)}const Zz={get:(e,n,t)=>n==="__v_raw"?e:V(Reflect.get(e,n,t)),set:(e,n,t,r)=>{const i=e[n];return gr(i)&&!gr(t)?(i.value=t,!0):Reflect.set(e,n,t,r)}};function SN(e){return Fc(e)?e:new Proxy(e,Zz)}class Qz{constructor(n,t,r){this._object=n,this._key=t,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Pz(Yt(this._object),this._key)}}class Jz{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xh(e,n,t){return gr(e)?e:yt(e)?new Jz(e):An(e)&&arguments.length>1?eY(e,n,t):ge(e)}function eY(e,n,t){const r=e[n];return gr(r)?r:new Qz(e,n,t)}class tY{constructor(n,t,r){this.fn=n,this.setter=t,this._value=void 0,this.dep=new z2(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Sn!==this)return cN(this,!0),!0}get value(){const n=this.dep.track();return hN(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function nY(e,n,t=!1){let r,i;return yt(e)?r=e:(r=e.get,i=e.set),new tY(r,i,t)}const iv={},eg=new WeakMap;let iu;function rY(e,n=!1,t=iu){if(t){let r=eg.get(t);r||eg.set(t,r=[]),r.push(e)}}function iY(e,n,t=xn){const{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=t,u=x=>i?x:Ca(x)||i===!1||i===0?ws(x,1):ws(x);let c,f,d,h,p=!1,v=!1;if(gr(e)?(f=()=>e.value,p=Ca(e)):Fc(e)?(f=()=>u(e),p=!0):ft(e)?(v=!0,p=e.some(x=>Fc(x)||Ca(x)),f=()=>e.map(x=>{if(gr(x))return x.value;if(Fc(x))return u(x);if(yt(x))return l?l(x,2):x()})):yt(e)?n?f=l?()=>l(e,2):e:f=()=>{if(d){El();try{d()}finally{Tl()}}const x=iu;iu=c;try{return l?l(e,3,[h]):e(h)}finally{iu=x}}:f=Wo,n&&i){const x=f,_=i===!0?1/0:i;f=()=>ws(x(),_)}const g=sN(),m=()=>{c.stop(),g&&g.active&&I2(g.effects,c)};if(a&&n){const x=n;n=(..._)=>{x(..._),m()}}let y=v?new Array(e.length).fill(iv):iv;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(n){const _=c.run();if(i||p||(v?_.some((w,k)=>pl(w,y[k])):pl(_,y))){d&&d();const w=iu;iu=c;try{const k=[_,y===iv?void 0:v&&y[0]===iv?[]:y,h];l?l(n,3,k):n(...k),y=_}finally{iu=w}}}else c.run()};return s&&s(b),c=new lN(f),c.scheduler=o?()=>o(b,!1):b,h=x=>rY(x,!1,c),d=c.onStop=()=>{const x=eg.get(c);if(x){if(l)l(x,4);else for(const _ of x)_();eg.delete(c)}},n?r?b(!0):y=c.run():o?o(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function ws(e,n=1/0,t){if(n<=0||!An(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),n--,gr(e))ws(e.value,n,t);else if(ft(e))for(let r=0;r<e.length;r++)ws(e[r],n,t);else if(QR(e)||Ic(e))e.forEach(r=>{ws(r,n,t)});else if(tN(e)){for(const r in e)ws(e[r],n,t);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ws(e[r],n,t)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mp(e,n,t,r){try{return r?e(...r):e()}catch(i){Im(i,n,t)}}function lo(e,n,t,r){if(yt(e)){const i=mp(e,n,t,r);return i&&JR(i)&&i.catch(a=>{Im(a,n,t)}),i}if(ft(e)){const i=[];for(let a=0;a<e.length;a++)i.push(lo(e[a],n,t,r));return i}}function Im(e,n,t,r=!0){const i=n?n.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||xn;if(n){let s=n.parent;const l=n.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(a){El(),mp(a,null,10,[e,l,u]),Tl();return}}aY(e,t,i,r,o)}function aY(e,n,t,r=!0,i=!1){if(i)throw e;console.error(e)}const _i=[];let Co=-1;const Bc=[];let Zs=null,Oc=0;const EN=Promise.resolve();let tg=null;function vn(e){const n=tg||EN;return e?n.then(this?e.bind(this):e):n}function oY(e){let n=Co+1,t=_i.length;for(;n<t;){const r=n+t>>>1,i=_i[r],a=wh(i);a<e||a===e&&i.flags&2?n=r+1:t=r}return n}function H2(e){if(!(e.flags&1)){const n=wh(e),t=_i[_i.length-1];!t||!(e.flags&2)&&n>=wh(t)?_i.push(e):_i.splice(oY(n),0,e),e.flags|=1,TN()}}function TN(){tg||(tg=EN.then(AN))}function sY(e){ft(e)?Bc.push(...e):Zs&&e.id===-1?Zs.splice(Oc+1,0,e):e.flags&1||(Bc.push(e),e.flags|=1),TN()}function MS(e,n,t=Co+1){for(;t<_i.length;t++){const r=_i[t];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;_i.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function MN(e){if(Bc.length){const n=[...new Set(Bc)].sort((t,r)=>wh(t)-wh(r));if(Bc.length=0,Zs){Zs.push(...n);return}for(Zs=n,Oc=0;Oc<Zs.length;Oc++){const t=Zs[Oc];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Zs=null,Oc=0}}const wh=e=>e.id==null?e.flags&2?-1:1/0:e.id;function AN(e){try{for(Co=0;Co<_i.length;Co++){const n=_i[Co];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),mp(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Co<_i.length;Co++){const n=_i[Co];n&&(n.flags&=-2)}Co=-1,_i.length=0,MN(),tg=null,(_i.length||Bc.length)&&AN()}}let Fr=null,PN=null;function ng(e){const n=Fr;return Fr=e,PN=e&&e.type.__scopeId||null,n}function Je(e,n=Fr,t){if(!n||e._n)return e;const r=(...i)=>{r._d&&zS(-1);const a=ng(n);let o;try{o=e(...i)}finally{ng(a),r._d&&zS(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function no(e,n){if(Fr===null)return e;const t=zm(Fr),r=e.dirs||(e.dirs=[]);for(let i=0;i<n.length;i++){let[a,o,s,l=xn]=n[i];a&&(yt(a)&&(a={mounted:a,updated:a}),a.deep&&ws(o),r.push({dir:a,instance:t,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Yl(e,n,t,r){const i=e.dirs,a=n&&n.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[r];l&&(El(),lo(l,t,8,[e.el,s,e,n]),Tl())}}const CN=Symbol("_vte"),RN=e=>e.__isTeleport,Jd=e=>e&&(e.disabled||e.disabled===""),AS=e=>e&&(e.defer||e.defer===""),PS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,CS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ox=(e,n)=>{const t=e&&e.to;return Fn(t)?n?n(t):null:t},NN={name:"Teleport",__isTeleport:!0,process(e,n,t,r,i,a,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=Jd(n.props);let{shapeFlag:y,children:b,dynamicChildren:x}=n;if(e==null){const _=n.el=v(""),w=n.anchor=v("");h(_,t,r),h(w,t,r);const k=(S,E)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=S),c(b,S,E,i,a,o,s,l))},O=()=>{const S=n.target=Ox(n.props,p),E=LN(S,n,v,h);S&&(o!=="svg"&&PS(S)?o="svg":o!=="mathml"&&CS(S)&&(o="mathml"),m||(k(S,E),C0(n,!1)))};m&&(k(t,w),C0(n,!0)),AS(n.props)?Er(()=>{O(),n.el.__isMounted=!0},a):O()}else{if(AS(n.props)&&!e.el.__isMounted){Er(()=>{NN.process(e,n,t,r,i,a,o,s,l,u),delete e.el.__isMounted},a);return}n.el=e.el,n.targetStart=e.targetStart;const _=n.anchor=e.anchor,w=n.target=e.target,k=n.targetAnchor=e.targetAnchor,O=Jd(e.props),S=O?t:w,E=O?_:k;if(o==="svg"||PS(w)?o="svg":(o==="mathml"||CS(w))&&(o="mathml"),x?(d(e.dynamicChildren,x,S,i,a,o,s),X2(e,n,!0)):l||f(e,n,S,E,i,a,o,s,!1),m)O?n.props&&e.props&&n.props.to!==e.props.to&&(n.props.to=e.props.to):av(n,t,_,u,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const T=n.target=Ox(n.props,p);T&&av(n,T,null,u,0)}else O&&av(n,w,k,u,1);C0(n,m)}},remove(e,n,t,{um:r,o:{remove:i}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(i(u),i(c)),a&&i(l),o&16){const h=a||!Jd(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,n,t,h,!!v.dynamicChildren)}}},move:av,hydrate:lY};function av(e,n,t,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,n,t);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&r(o,n,t),(!f||Jd(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],n,t,2);f&&r(s,n,t)}function lY(e,n,t,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=n.target=Ox(n.props,l);if(d){const h=Jd(n.props),p=d._lpa||d.firstChild;if(n.shapeFlag&16)if(h)n.anchor=f(o(e),n,s(e),t,r,i,a),n.targetStart=p,n.targetAnchor=p&&o(p);else{n.anchor=o(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")n.targetStart=v;else if(v.data==="teleport anchor"){n.targetAnchor=v,d._lpa=n.targetAnchor&&o(n.targetAnchor);break}}v=o(v)}n.targetAnchor||LN(d,n,c,u),f(p&&o(p),n,d,t,r,i,a)}C0(n,h)}return n.anchor&&o(n.anchor)}const uY=NN;function C0(e,n){const t=e.ctx;if(t&&t.ut){let r,i;for(n?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}function LN(e,n,t,r){const i=n.targetStart=t(""),a=n.targetAnchor=t("");return i[CN]=a,e&&(r(i,e),r(a,e)),a}const Qs=Symbol("_leaveCb"),ov=Symbol("_enterCb");function cY(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tn(()=>{e.isMounted=!0}),U2(()=>{e.isUnmounting=!0}),e}const da=[Function,Array],$N={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:da,onEnter:da,onAfterEnter:da,onEnterCancelled:da,onBeforeLeave:da,onLeave:da,onAfterLeave:da,onLeaveCancelled:da,onBeforeAppear:da,onAppear:da,onAfterAppear:da,onAppearCancelled:da},IN=e=>{const n=e.subTree;return n.component?IN(n.component):n},fY={name:"BaseTransition",props:$N,setup(e,{slots:n}){const t=vo(),r=cY();return()=>{const i=n.default&&BN(n.default(),!0);if(!i||!i.length)return;const a=DN(i),o=Yt(e),{mode:s}=o;if(r.isLeaving)return h1(a);const l=RS(a);if(!l)return h1(a);let u=Sx(l,o,r,t,f=>u=f);l.type!==si&&rf(l,u);let c=t.subTree&&RS(t.subTree);if(c&&c.type!==si&&!rl(l,c)&&IN(t).type!==si){let f=Sx(c,o,r,t);if(rf(c,f),s==="out-in"&&l.type!==si)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete f.afterLeave,c=void 0},h1(a);s==="in-out"&&l.type!==si?f.delayLeave=(d,h,p)=>{const v=FN(r,c);v[String(c.key)]=c,d[Qs]=()=>{h(),d[Qs]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function DN(e){let n=e[0];if(e.length>1){for(const t of e)if(t.type!==si){n=t;break}}return n}const dY=fY;function FN(e,n){const{leavingVNodes:t}=e;let r=t.get(n.type);return r||(r=Object.create(null),t.set(n.type,r)),r}function Sx(e,n,t,r,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=n,x=String(e.key),_=FN(t,e),w=(S,E)=>{S&&lo(S,r,9,E)},k=(S,E)=>{const T=E[1];w(S,E),ft(S)?S.every(M=>M.length<=1)&&T():S.length<=1&&T()},O={mode:o,persisted:s,beforeEnter(S){let E=l;if(!t.isMounted)if(a)E=g||l;else return;S[Qs]&&S[Qs](!0);const T=_[x];T&&rl(e,T)&&T.el[Qs]&&T.el[Qs](),w(E,[S])},enter(S){let E=u,T=c,M=f;if(!t.isMounted)if(a)E=m||u,T=y||c,M=b||f;else return;let P=!1;const A=S[ov]=N=>{P||(P=!0,N?w(M,[S]):w(T,[S]),O.delayedLeave&&O.delayedLeave(),S[ov]=void 0)};E?k(E,[S,A]):A()},leave(S,E){const T=String(e.key);if(S[ov]&&S[ov](!0),t.isUnmounting)return E();w(d,[S]);let M=!1;const P=S[Qs]=A=>{M||(M=!0,E(),A?w(v,[S]):w(p,[S]),S[Qs]=void 0,_[T]===e&&delete _[T])};_[T]=e,h?k(h,[S,P]):P()},clone(S){const E=Sx(S,n,t,r,i);return i&&i(E),E}};return O}function h1(e){if(Dm(e))return e=Rs(e),e.children=null,e}function RS(e){if(!Dm(e))return RN(e.type)&&e.children?DN(e.children):e;const{shapeFlag:n,children:t}=e;if(t){if(n&16)return t[0];if(n&32&&yt(t.default))return t.default()}}function rf(e,n){e.shapeFlag&6&&e.component?(e.transition=n,rf(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function BN(e,n=!1,t){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=t==null?o.key:String(t)+String(o.key!=null?o.key:a);o.type===De?(o.patchFlag&128&&i++,r=r.concat(BN(o.children,n,s))):(n||o.type!==si)&&r.push(s!=null?Rs(o,{key:s}):o)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Nt(e,n){return yt(e)?Br({name:e.name},n,{setup:e}):e}function jN(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function rg(e,n,t,r,i=!1){if(ft(e)){e.forEach((p,v)=>rg(p,n&&(ft(n)?n[v]:n),t,r,i));return}if(gu(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&rg(e,n,t,r.component.subTree);return}const a=r.shapeFlag&4?zm(r.component):r.el,o=i?null:a,{i:s,r:l}=e,u=n&&n.r,c=s.refs===xn?s.refs={}:s.refs,f=s.setupState,d=Yt(f),h=f===xn?()=>!1:p=>Jt(d,p);if(u!=null&&u!==l&&(Fn(u)?(c[u]=null,h(u)&&(f[u]=null)):gr(u)&&(u.value=null)),yt(l))mp(l,s,12,[o,c]);else{const p=Fn(l),v=gr(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:c[l]:l.value;i?ft(m)&&I2(m,a):ft(m)?m.includes(a)||m.push(a):p?(c[l]=[a],h(l)&&(f[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,Er(g,t)):g()}}}Lm().requestIdleCallback;Lm().cancelIdleCallback;const gu=e=>!!e.type.__asyncLoader,Dm=e=>e.type.__isKeepAlive,hY={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:n}){const t=vo(),r=t.ctx;if(!r.renderer)return()=>{const y=n.default&&n.default();return y&&y.length===1?y[0]:y};const i=new Map,a=new Set;let o=null;const s=t.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(y,b,x,_,w)=>{const k=y.component;u(y,b,x,0,s),l(k.vnode,y,b,x,k,s,_,y.slotScopeIds,w),Er(()=>{k.isDeactivated=!1,k.a&&Dc(k.a);const O=y.props&&y.props.onVnodeMounted;O&&wa(O,k.parent,y)},s)},r.deactivate=y=>{const b=y.component;ag(b.m),ag(b.a),u(y,d,null,1,s),Er(()=>{b.da&&Dc(b.da);const x=y.props&&y.props.onVnodeUnmounted;x&&wa(x,b.parent,y),b.isDeactivated=!0},s)};function h(y){p1(y),c(y,t,s,!0)}function p(y){i.forEach((b,x)=>{const _=Cx(b.type);_&&!y(_)&&v(x)})}function v(y){const b=i.get(y);b&&(!o||!rl(b,o))?h(b):o&&p1(o),i.delete(y),a.delete(y)}Rt(()=>[e.include,e.exclude],([y,b])=>{y&&p(x=>Cd(y,x)),b&&p(x=>!Cd(b,x))},{flush:"post",deep:!0});let g=null;const m=()=>{g!=null&&(og(t.subTree.type)?Er(()=>{i.set(g,sv(t.subTree))},t.subTree.suspense):i.set(g,sv(t.subTree)))};return tn(m),WN(m),U2(()=>{i.forEach(y=>{const{subTree:b,suspense:x}=t,_=sv(b);if(y.type===_.type&&y.key===_.key){p1(_);const w=_.component.da;w&&Er(w,x);return}h(y)})}),()=>{if(g=null,!n.default)return o=null;const y=n.default(),b=y[0];if(y.length>1)return o=null,y;if(!af(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let x=sv(b);if(x.type===si)return o=null,x;const _=x.type,w=Cx(gu(x)?x.type.__asyncResolved||{}:_),{include:k,exclude:O,max:S}=e;if(k&&(!w||!Cd(k,w))||O&&w&&Cd(O,w))return x.shapeFlag&=-257,o=x,b;const E=x.key==null?_:x.key,T=i.get(E);return x.el&&(x=Rs(x),b.shapeFlag&128&&(b.ssContent=x)),g=E,T?(x.el=T.el,x.component=T.component,x.transition&&rf(x,x.transition),x.shapeFlag|=512,a.delete(E),a.add(E)):(a.add(E),S&&a.size>parseInt(S,10)&&v(a.values().next().value)),x.shapeFlag|=256,o=x,og(b.type)?b:x}}},pY=hY;function Cd(e,n){return ft(e)?e.some(t=>Cd(t,n)):Fn(e)?e.split(",").includes(n):vz(e)?(e.lastIndex=0,e.test(n)):!1}function zN(e,n){YN(e,"a",n)}function vY(e,n){YN(e,"da",n)}function YN(e,n,t=Xr){const r=e.__wdc||(e.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Fm(n,r,t),t){let i=t.parent;for(;i&&i.parent;)Dm(i.parent.vnode)&&gY(r,n,t,i),i=i.parent}}function gY(e,n,t,r){const i=Fm(n,e,r,!0);Ml(()=>{I2(r[n],i)},t)}function p1(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function sv(e){return e.shapeFlag&128?e.ssContent:e}function Fm(e,n,t=Xr,r=!1){if(t){const i=t[e]||(t[e]=[]),a=n.__weh||(n.__weh=(...o)=>{El();const s=bp(t),l=lo(n,t,e,o);return s(),Tl(),l});return r?i.unshift(a):i.push(a),a}}const zs=e=>(n,t=Xr)=>{(!kh||e==="sp")&&Fm(e,(...r)=>n(...r),t)},mY=zs("bm"),tn=zs("m"),GN=zs("bu"),WN=zs("u"),U2=zs("bum"),Ml=zs("um"),yY=zs("sp"),bY=zs("rtg"),xY=zs("rtc");function wY(e,n=Xr){Fm("ec",e,n)}const HN="components";function _Y(e,n){return VN(HN,e,!0,n)||e}const UN=Symbol.for("v-ndc");function yp(e){return Fn(e)?VN(HN,e,!1)||e:e||UN}function VN(e,n,t=!0,r=!1){const i=Fr||Xr;if(i){const a=i.type;{const s=Cx(a,!1);if(s&&(s===n||s===$a(n)||s===Nm($a(n))))return a}const o=NS(i[e]||a[e],n)||NS(i.appContext[e],n);return!o&&r?a:o}}function NS(e,n){return e&&(e[n]||e[$a(n)]||e[Nm($a(n))])}function Mt(e,n,t,r){let i;const a=t,o=ft(e);if(o||Fn(e)){const s=o&&Fc(e);let l=!1;s&&(l=!Ca(e),e=$m(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=n(l?oi(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=n(s+1,s,void 0,a)}else if(An(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>n(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=n(e[c],c,l,a)}}else i=[];return i}function fi(e,n){for(let t=0;t<n.length;t++){const r=n[t];if(ft(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function Fe(e,n,t={},r,i){if(Fr.ce||Fr.parent&&gu(Fr.parent)&&Fr.parent.ce)return n!=="default"&&(t.name=n),J(),vt(De,null,[it("slot",t,r)],64);let a=e[n];a&&a._c&&(a._d=!1),J();const o=a&&XN(a(t)),s=t.key||o&&o.key,l=vt(De,{key:(s&&!js(s)?s:`_${n}`)+""},o||[],o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function XN(e){return e.some(n=>af(n)?!(n.type===si||n.type===De&&!XN(n.children)):!0)?e:null}const Ex=e=>e?pL(e)?zm(e):Ex(e.parent):null,eh=Br(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ex(e.parent),$root:e=>Ex(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ZN(e),$forceUpdate:e=>e.f||(e.f=()=>{H2(e.update)}),$nextTick:e=>e.n||(e.n=vn.bind(e.proxy)),$watch:e=>WY.bind(e)}),v1=(e,n)=>e!==xn&&!e.__isScriptSetup&&Jt(e,n),kY={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:t,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(n[0]!=="$"){const h=o[n];if(h!==void 0)switch(h){case 1:return r[n];case 2:return i[n];case 4:return t[n];case 3:return a[n]}else{if(v1(r,n))return o[n]=1,r[n];if(i!==xn&&Jt(i,n))return o[n]=2,i[n];if((u=e.propsOptions[0])&&Jt(u,n))return o[n]=3,a[n];if(t!==xn&&Jt(t,n))return o[n]=4,t[n];Tx&&(o[n]=0)}}const c=eh[n];let f,d;if(c)return n==="$attrs"&&ai(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[n]))return f;if(t!==xn&&Jt(t,n))return o[n]=4,t[n];if(d=l.config.globalProperties,Jt(d,n))return d[n]},set({_:e},n,t){const{data:r,setupState:i,ctx:a}=e;return v1(i,n)?(i[n]=t,!0):r!==xn&&Jt(r,n)?(r[n]=t,!0):Jt(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(a[n]=t,!0)},has({_:{data:e,setupState:n,accessCache:t,ctx:r,appContext:i,propsOptions:a}},o){let s;return!!t[o]||e!==xn&&Jt(e,o)||v1(n,o)||(s=a[0])&&Jt(s,o)||Jt(r,o)||Jt(eh,o)||Jt(i.config.globalProperties,o)},defineProperty(e,n,t){return t.get!=null?e._.accessCache[n]=0:Jt(t,"value")&&this.set(e,n,t.value,null),Reflect.defineProperty(e,n,t)}};function Xu(){return qN().slots}function OY(){return qN().attrs}function qN(){const e=vo();return e.setupContext||(e.setupContext=gL(e))}function LS(e){return ft(e)?e.reduce((n,t)=>(n[t]=null,n),{}):e}let Tx=!0;function SY(e){const n=ZN(e),t=e.proxy,r=e.ctx;Tx=!1,n.beforeCreate&&$S(n.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:x,render:_,renderTracked:w,renderTriggered:k,errorCaptured:O,serverPrefetch:S,expose:E,inheritAttrs:T,components:M,directives:P,filters:A}=n;if(u&&EY(u,r,null),o)for(const C in o){const L=o[C];yt(L)&&(r[C]=L.bind(t))}if(i){const C=i.call(t,t);An(C)&&(e.data=ls(C))}if(Tx=!0,a)for(const C in a){const L=a[C],I=yt(L)?L.bind(t,t):yt(L.get)?L.get.bind(t,t):Wo,j=!yt(L)&&yt(L.set)?L.set.bind(t):Wo,F=Oe({get:I,set:j});Object.defineProperty(r,C,{enumerable:!0,configurable:!0,get:()=>F.value,set:z=>F.value=z})}if(s)for(const C in s)KN(s[C],r,t,C);if(l){const C=yt(l)?l.call(t):l;Reflect.ownKeys(C).forEach(L=>{R0(L,C[L])})}c&&$S(c,e,"c");function R(C,L){ft(L)?L.forEach(I=>C(I.bind(t))):L&&C(L.bind(t))}if(R(mY,f),R(tn,d),R(GN,h),R(WN,p),R(zN,v),R(vY,g),R(wY,O),R(xY,w),R(bY,k),R(U2,y),R(Ml,x),R(yY,S),ft(E))if(E.length){const C=e.exposed||(e.exposed={});E.forEach(L=>{Object.defineProperty(C,L,{get:()=>t[L],set:I=>t[L]=I})})}else e.exposed||(e.exposed={});_&&e.render===Wo&&(e.render=_),T!=null&&(e.inheritAttrs=T),M&&(e.components=M),P&&(e.directives=P),S&&jN(e)}function EY(e,n,t=Wo){ft(e)&&(e=Mx(e));for(const r in e){const i=e[r];let a;An(i)?"default"in i?a=Ra(i.from||r,i.default,!0):a=Ra(i.from||r):a=Ra(i),gr(a)?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):n[r]=a}}function $S(e,n,t){lo(ft(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,t)}function KN(e,n,t,r){let i=r.includes(".")?cL(t,r):()=>t[r];if(Fn(e)){const a=n[e];yt(a)&&Rt(i,a)}else if(yt(e))Rt(i,e.bind(t));else if(An(e))if(ft(e))e.forEach(a=>KN(a,n,t,r));else{const a=yt(e.handler)?e.handler.bind(t):n[e.handler];yt(a)&&Rt(i,a,e)}}function ZN(e){const n=e.type,{mixins:t,extends:r}=n,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(n);let l;return s?l=s:!i.length&&!t&&!r?l=n:(l={},i.length&&i.forEach(u=>ig(l,u,o,!0)),ig(l,n,o)),An(n)&&a.set(n,l),l}function ig(e,n,t,r=!1){const{mixins:i,extends:a}=n;a&&ig(e,a,t,!0),i&&i.forEach(o=>ig(e,o,t,!0));for(const o in n)if(!(r&&o==="expose")){const s=TY[o]||t&&t[o];e[o]=s?s(e[o],n[o]):n[o]}return e}const TY={data:IS,props:DS,emits:DS,methods:Rd,computed:Rd,beforeCreate:gi,created:gi,beforeMount:gi,mounted:gi,beforeUpdate:gi,updated:gi,beforeDestroy:gi,beforeUnmount:gi,destroyed:gi,unmounted:gi,activated:gi,deactivated:gi,errorCaptured:gi,serverPrefetch:gi,components:Rd,directives:Rd,watch:AY,provide:IS,inject:MY};function IS(e,n){return n?e?function(){return Br(yt(e)?e.call(this,this):e,yt(n)?n.call(this,this):n)}:n:e}function MY(e,n){return Rd(Mx(e),Mx(n))}function Mx(e){if(ft(e)){const n={};for(let t=0;t<e.length;t++)n[e[t]]=e[t];return n}return e}function gi(e,n){return e?[...new Set([].concat(e,n))]:n}function Rd(e,n){return e?Br(Object.create(null),e,n):n}function DS(e,n){return e?ft(e)&&ft(n)?[...new Set([...e,...n])]:Br(Object.create(null),LS(e),LS(n??{})):n}function AY(e,n){if(!e)return n;if(!n)return e;const t=Br(Object.create(null),e);for(const r in n)t[r]=gi(e[r],n[r]);return t}function QN(){return{app:null,config:{isNativeTag:hz,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PY=0;function CY(e,n){return function(r,i=null){yt(r)||(r=Br({},r)),i!=null&&!An(i)&&(i=null);const a=QN(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:PY++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:sG,get config(){return a.config},set config(c){},use(c,...f){return o.has(c)||(c&&yt(c.install)?(o.add(c),c.install(u,...f)):yt(c)&&(o.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||it(r,i);return h.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,zm(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(lo(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=jc;jc=u;try{return c()}finally{jc=f}}};return u}}let jc=null;function R0(e,n){if(Xr){let t=Xr.provides;const r=Xr.parent&&Xr.parent.provides;r===t&&(t=Xr.provides=Object.create(r)),t[e]=n}}function Ra(e,n,t=!1){const r=Xr||Fr;if(r||jc){const i=jc?jc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return t&&yt(n)?n.call(r&&r.proxy):n}}const JN={},eL=()=>Object.create(JN),tL=e=>Object.getPrototypeOf(e)===JN;function RY(e,n,t,r=!1){const i={},a=eL();e.propsDefaults=Object.create(null),nL(e,n,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);t?e.props=r?i:_N(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function NY(e,n,t,r){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Yt(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Bm(e.emitsOptions,d))continue;const h=n[d];if(l)if(Jt(a,d))h!==a[d]&&(a[d]=h,u=!0);else{const p=$a(d);i[p]=Ax(l,s,p,h,e,!1)}else h!==a[d]&&(a[d]=h,u=!0)}}}else{nL(e,n,i,a)&&(u=!0);let c;for(const f in s)(!n||!Jt(n,f)&&((c=Sl(f))===f||!Jt(n,c)))&&(l?t&&(t[f]!==void 0||t[c]!==void 0)&&(i[f]=Ax(l,s,f,void 0,e,!0)):delete i[f]);if(a!==s)for(const f in a)(!n||!Jt(n,f))&&(delete a[f],u=!0)}u&&xs(e.attrs,"set","")}function nL(e,n,t,r){const[i,a]=e.propsOptions;let o=!1,s;if(n)for(let l in n){if(Kd(l))continue;const u=n[l];let c;i&&Jt(i,c=$a(l))?!a||!a.includes(c)?t[c]=u:(s||(s={}))[c]=u:Bm(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(a){const l=Yt(t),u=s||xn;for(let c=0;c<a.length;c++){const f=a[c];t[f]=Ax(i,l,f,u[f],e,!Jt(u,f))}}return o}function Ax(e,n,t,r,i,a){const o=e[t];if(o!=null){const s=Jt(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&yt(l)){const{propsDefaults:u}=i;if(t in u)r=u[t];else{const c=bp(i);r=u[t]=l.call(null,n),c()}}else r=l;i.ce&&i.ce._setProp(t,r)}o[0]&&(a&&!s?r=!1:o[1]&&(r===""||r===Sl(t))&&(r=!0))}return r}const LY=new WeakMap;function rL(e,n,t=!1){const r=t?LY:n.propsCache,i=r.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!yt(e)){const c=f=>{l=!0;const[d,h]=rL(f,n,!0);Br(o,d),h&&s.push(...h)};!t&&n.mixins.length&&n.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return An(e)&&r.set(e,$c),$c;if(ft(a))for(let c=0;c<a.length;c++){const f=$a(a[c]);FS(f)&&(o[f]=xn)}else if(a)for(const c in a){const f=$a(c);if(FS(f)){const d=a[c],h=o[f]=ft(d)||yt(d)?{type:d}:Br({},d),p=h.type;let v=!1,g=!0;if(ft(p))for(let m=0;m<p.length;++m){const y=p[m],b=yt(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(g=!1)}else v=yt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Jt(h,"default"))&&s.push(f)}}const u=[o,s];return An(e)&&r.set(e,u),u}function FS(e){return e[0]!=="$"&&!Kd(e)}const iL=e=>e[0]==="_"||e==="$stable",V2=e=>ft(e)?e.map(No):[No(e)],$Y=(e,n,t)=>{if(n._n)return n;const r=Je((...i)=>V2(n(...i)),t);return r._c=!1,r},aL=(e,n,t)=>{const r=e._ctx;for(const i in e){if(iL(i))continue;const a=e[i];if(yt(a))n[i]=$Y(i,a,r);else if(a!=null){const o=V2(a);n[i]=()=>o}}},oL=(e,n)=>{const t=V2(n);e.slots.default=()=>t},sL=(e,n,t)=>{for(const r in n)(t||r!=="_")&&(e[r]=n[r])},IY=(e,n,t)=>{const r=e.slots=eL();if(e.vnode.shapeFlag&32){const i=n._;i?(sL(r,n,t),t&&nN(r,"_",i,!0)):aL(n,r)}else n&&oL(e,n)},DY=(e,n,t)=>{const{vnode:r,slots:i}=e;let a=!0,o=xn;if(r.shapeFlag&32){const s=n._;s?t&&s===1?a=!1:sL(i,n,t):(a=!n.$stable,aL(n,i)),o=n}else n&&(oL(e,n),o={default:1});if(a)for(const s in i)!iL(s)&&o[s]==null&&delete i[s]},Er=ZY;function FY(e){return BY(e)}function BY(e,n){const t=Lm();t.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Wo,insertStaticContent:p}=e,v=(H,G,X,Y=null,re=null,te=null,ae=void 0,ue=null,pe=!!G.dynamicChildren)=>{if(H===G)return;H&&!rl(H,G)&&(Y=$(H),z(H,re,te,!0),H=null),G.patchFlag===-2&&(pe=!1,G.dynamicChildren=null);const{type:ve,ref:Te,shapeFlag:ne}=G;switch(ve){case jm:g(H,G,X,Y);break;case si:m(H,G,X,Y);break;case N0:H==null&&y(G,X,Y,ae);break;case De:M(H,G,X,Y,re,te,ae,ue,pe);break;default:ne&1?_(H,G,X,Y,re,te,ae,ue,pe):ne&6?P(H,G,X,Y,re,te,ae,ue,pe):(ne&64||ne&128)&&ve.process(H,G,X,Y,re,te,ae,ue,pe,oe)}Te!=null&&re&&rg(Te,H&&H.ref,te,G||H,!G)},g=(H,G,X,Y)=>{if(H==null)r(G.el=s(G.children),X,Y);else{const re=G.el=H.el;G.children!==H.children&&u(re,G.children)}},m=(H,G,X,Y)=>{H==null?r(G.el=l(G.children||""),X,Y):G.el=H.el},y=(H,G,X,Y)=>{[H.el,H.anchor]=p(H.children,G,X,Y,H.el,H.anchor)},b=({el:H,anchor:G},X,Y)=>{let re;for(;H&&H!==G;)re=d(H),r(H,X,Y),H=re;r(G,X,Y)},x=({el:H,anchor:G})=>{let X;for(;H&&H!==G;)X=d(H),i(H),H=X;i(G)},_=(H,G,X,Y,re,te,ae,ue,pe)=>{G.type==="svg"?ae="svg":G.type==="math"&&(ae="mathml"),H==null?w(G,X,Y,re,te,ae,ue,pe):S(H,G,re,te,ae,ue,pe)},w=(H,G,X,Y,re,te,ae,ue)=>{let pe,ve;const{props:Te,shapeFlag:ne,transition:ce,dirs:be}=H;if(pe=H.el=o(H.type,te,Te&&Te.is,Te),ne&8?c(pe,H.children):ne&16&&O(H.children,pe,null,Y,re,g1(H,te),ae,ue),be&&Yl(H,null,Y,"created"),k(pe,H,H.scopeId,ae,Y),Te){for(const Qe in Te)Qe!=="value"&&!Kd(Qe)&&a(pe,Qe,null,Te[Qe],te,Y);"value"in Te&&a(pe,"value",null,Te.value,te),(ve=Te.onVnodeBeforeMount)&&wa(ve,Y,H)}be&&Yl(H,null,Y,"beforeMount");const Ae=jY(re,ce);Ae&&ce.beforeEnter(pe),r(pe,G,X),((ve=Te&&Te.onVnodeMounted)||Ae||be)&&Er(()=>{ve&&wa(ve,Y,H),Ae&&ce.enter(pe),be&&Yl(H,null,Y,"mounted")},re)},k=(H,G,X,Y,re)=>{if(X&&h(H,X),Y)for(let te=0;te<Y.length;te++)h(H,Y[te]);if(re){let te=re.subTree;if(G===te||og(te.type)&&(te.ssContent===G||te.ssFallback===G)){const ae=re.vnode;k(H,ae,ae.scopeId,ae.slotScopeIds,re.parent)}}},O=(H,G,X,Y,re,te,ae,ue,pe=0)=>{for(let ve=pe;ve<H.length;ve++){const Te=H[ve]=ue?Js(H[ve]):No(H[ve]);v(null,Te,G,X,Y,re,te,ae,ue)}},S=(H,G,X,Y,re,te,ae)=>{const ue=G.el=H.el;let{patchFlag:pe,dynamicChildren:ve,dirs:Te}=G;pe|=H.patchFlag&16;const ne=H.props||xn,ce=G.props||xn;let be;if(X&&Gl(X,!1),(be=ce.onVnodeBeforeUpdate)&&wa(be,X,G,H),Te&&Yl(G,H,X,"beforeUpdate"),X&&Gl(X,!0),(ne.innerHTML&&ce.innerHTML==null||ne.textContent&&ce.textContent==null)&&c(ue,""),ve?E(H.dynamicChildren,ve,ue,X,Y,g1(G,re),te):ae||L(H,G,ue,null,X,Y,g1(G,re),te,!1),pe>0){if(pe&16)T(ue,ne,ce,X,re);else if(pe&2&&ne.class!==ce.class&&a(ue,"class",null,ce.class,re),pe&4&&a(ue,"style",ne.style,ce.style,re),pe&8){const Ae=G.dynamicProps;for(let Qe=0;Qe<Ae.length;Qe++){const xe=Ae[Qe],et=ne[xe],at=ce[xe];(at!==et||xe==="value")&&a(ue,xe,et,at,re,X)}}pe&1&&H.children!==G.children&&c(ue,G.children)}else!ae&&ve==null&&T(ue,ne,ce,X,re);((be=ce.onVnodeUpdated)||Te)&&Er(()=>{be&&wa(be,X,G,H),Te&&Yl(G,H,X,"updated")},Y)},E=(H,G,X,Y,re,te,ae)=>{for(let ue=0;ue<G.length;ue++){const pe=H[ue],ve=G[ue],Te=pe.el&&(pe.type===De||!rl(pe,ve)||pe.shapeFlag&70)?f(pe.el):X;v(pe,ve,Te,null,Y,re,te,ae,!0)}},T=(H,G,X,Y,re)=>{if(G!==X){if(G!==xn)for(const te in G)!Kd(te)&&!(te in X)&&a(H,te,G[te],null,re,Y);for(const te in X){if(Kd(te))continue;const ae=X[te],ue=G[te];ae!==ue&&te!=="value"&&a(H,te,ue,ae,re,Y)}"value"in X&&a(H,"value",G.value,X.value,re)}},M=(H,G,X,Y,re,te,ae,ue,pe)=>{const ve=G.el=H?H.el:s(""),Te=G.anchor=H?H.anchor:s("");let{patchFlag:ne,dynamicChildren:ce,slotScopeIds:be}=G;be&&(ue=ue?ue.concat(be):be),H==null?(r(ve,X,Y),r(Te,X,Y),O(G.children||[],X,Te,re,te,ae,ue,pe)):ne>0&&ne&64&&ce&&H.dynamicChildren?(E(H.dynamicChildren,ce,X,re,te,ae,ue),(G.key!=null||re&&G===re.subTree)&&X2(H,G,!0)):L(H,G,X,Te,re,te,ae,ue,pe)},P=(H,G,X,Y,re,te,ae,ue,pe)=>{G.slotScopeIds=ue,H==null?G.shapeFlag&512?re.ctx.activate(G,X,Y,ae,pe):A(G,X,Y,re,te,ae,pe):N(H,G,pe)},A=(H,G,X,Y,re,te,ae)=>{const ue=H.component=nG(H,Y,re);if(Dm(H)&&(ue.ctx.renderer=oe),rG(ue,!1,ae),ue.asyncDep){if(re&&re.registerDep(ue,R,ae),!H.el){const pe=ue.subTree=it(si);m(null,pe,G,X)}}else R(ue,H,G,X,re,te,ae)},N=(H,G,X)=>{const Y=G.component=H.component;if(qY(H,G,X))if(Y.asyncDep&&!Y.asyncResolved){C(Y,G,X);return}else Y.next=G,Y.update();else G.el=H.el,Y.vnode=G},R=(H,G,X,Y,re,te,ae)=>{const ue=()=>{if(H.isMounted){let{next:ne,bu:ce,u:be,parent:Ae,vnode:Qe}=H;{const Vt=lL(H);if(Vt){ne&&(ne.el=Qe.el,C(H,ne,ae)),Vt.asyncDep.then(()=>{H.isUnmounted||ue()});return}}let xe=ne,et;Gl(H,!1),ne?(ne.el=Qe.el,C(H,ne,ae)):ne=Qe,ce&&Dc(ce),(et=ne.props&&ne.props.onVnodeBeforeUpdate)&&wa(et,Ae,ne,Qe),Gl(H,!0);const at=BS(H),Kt=H.subTree;H.subTree=at,v(Kt,at,f(Kt.el),$(Kt),H,re,te),ne.el=at.el,xe===null&&KY(H,at.el),be&&Er(be,re),(et=ne.props&&ne.props.onVnodeUpdated)&&Er(()=>wa(et,Ae,ne,Qe),re)}else{let ne;const{el:ce,props:be}=G,{bm:Ae,m:Qe,parent:xe,root:et,type:at}=H,Kt=gu(G);Gl(H,!1),Ae&&Dc(Ae),!Kt&&(ne=be&&be.onVnodeBeforeMount)&&wa(ne,xe,G),Gl(H,!0);{et.ce&&et.ce._injectChildStyle(at);const Vt=H.subTree=BS(H);v(null,Vt,X,Y,H,re,te),G.el=Vt.el}if(Qe&&Er(Qe,re),!Kt&&(ne=be&&be.onVnodeMounted)){const Vt=G;Er(()=>wa(ne,xe,Vt),re)}(G.shapeFlag&256||xe&&gu(xe.vnode)&&xe.vnode.shapeFlag&256)&&H.a&&Er(H.a,re),H.isMounted=!0,G=X=Y=null}};H.scope.on();const pe=H.effect=new lN(ue);H.scope.off();const ve=H.update=pe.run.bind(pe),Te=H.job=pe.runIfDirty.bind(pe);Te.i=H,Te.id=H.uid,pe.scheduler=()=>H2(Te),Gl(H,!0),ve()},C=(H,G,X)=>{G.component=H;const Y=H.vnode.props;H.vnode=G,H.next=null,NY(H,G.props,Y,X),DY(H,G.children,X),El(),MS(H),Tl()},L=(H,G,X,Y,re,te,ae,ue,pe=!1)=>{const ve=H&&H.children,Te=H?H.shapeFlag:0,ne=G.children,{patchFlag:ce,shapeFlag:be}=G;if(ce>0){if(ce&128){j(ve,ne,X,Y,re,te,ae,ue,pe);return}else if(ce&256){I(ve,ne,X,Y,re,te,ae,ue,pe);return}}be&8?(Te&16&&q(ve,re,te),ne!==ve&&c(X,ne)):Te&16?be&16?j(ve,ne,X,Y,re,te,ae,ue,pe):q(ve,re,te,!0):(Te&8&&c(X,""),be&16&&O(ne,X,Y,re,te,ae,ue,pe))},I=(H,G,X,Y,re,te,ae,ue,pe)=>{H=H||$c,G=G||$c;const ve=H.length,Te=G.length,ne=Math.min(ve,Te);let ce;for(ce=0;ce<ne;ce++){const be=G[ce]=pe?Js(G[ce]):No(G[ce]);v(H[ce],be,X,null,re,te,ae,ue,pe)}ve>Te?q(H,re,te,!0,!1,ne):O(G,X,Y,re,te,ae,ue,pe,ne)},j=(H,G,X,Y,re,te,ae,ue,pe)=>{let ve=0;const Te=G.length;let ne=H.length-1,ce=Te-1;for(;ve<=ne&&ve<=ce;){const be=H[ve],Ae=G[ve]=pe?Js(G[ve]):No(G[ve]);if(rl(be,Ae))v(be,Ae,X,null,re,te,ae,ue,pe);else break;ve++}for(;ve<=ne&&ve<=ce;){const be=H[ne],Ae=G[ce]=pe?Js(G[ce]):No(G[ce]);if(rl(be,Ae))v(be,Ae,X,null,re,te,ae,ue,pe);else break;ne--,ce--}if(ve>ne){if(ve<=ce){const be=ce+1,Ae=be<Te?G[be].el:Y;for(;ve<=ce;)v(null,G[ve]=pe?Js(G[ve]):No(G[ve]),X,Ae,re,te,ae,ue,pe),ve++}}else if(ve>ce)for(;ve<=ne;)z(H[ve],re,te,!0),ve++;else{const be=ve,Ae=ve,Qe=new Map;for(ve=Ae;ve<=ce;ve++){const or=G[ve]=pe?Js(G[ve]):No(G[ve]);or.key!=null&&Qe.set(or.key,ve)}let xe,et=0;const at=ce-Ae+1;let Kt=!1,Vt=0;const Yr=new Array(at);for(ve=0;ve<at;ve++)Yr[ve]=0;for(ve=be;ve<=ne;ve++){const or=H[ve];if(et>=at){z(or,re,te,!0);continue}let Gr;if(or.key!=null)Gr=Qe.get(or.key);else for(xe=Ae;xe<=ce;xe++)if(Yr[xe-Ae]===0&&rl(or,G[xe])){Gr=xe;break}Gr===void 0?z(or,re,te,!0):(Yr[Gr-Ae]=ve+1,Gr>=Vt?Vt=Gr:Kt=!0,v(or,G[Gr],X,null,re,te,ae,ue,pe),et++)}const fa=Kt?zY(Yr):$c;for(xe=fa.length-1,ve=at-1;ve>=0;ve--){const or=Ae+ve,Gr=G[or],Gs=or+1<Te?G[or+1].el:Y;Yr[ve]===0?v(null,Gr,X,Gs,re,te,ae,ue,pe):Kt&&(xe<0||ve!==fa[xe]?F(Gr,X,Gs,2):xe--)}}},F=(H,G,X,Y,re=null)=>{const{el:te,type:ae,transition:ue,children:pe,shapeFlag:ve}=H;if(ve&6){F(H.component.subTree,G,X,Y);return}if(ve&128){H.suspense.move(G,X,Y);return}if(ve&64){ae.move(H,G,X,oe);return}if(ae===De){r(te,G,X);for(let ne=0;ne<pe.length;ne++)F(pe[ne],G,X,Y);r(H.anchor,G,X);return}if(ae===N0){b(H,G,X);return}if(Y!==2&&ve&1&&ue)if(Y===0)ue.beforeEnter(te),r(te,G,X),Er(()=>ue.enter(te),re);else{const{leave:ne,delayLeave:ce,afterLeave:be}=ue,Ae=()=>r(te,G,X),Qe=()=>{ne(te,()=>{Ae(),be&&be()})};ce?ce(te,Ae,Qe):Qe()}else r(te,G,X)},z=(H,G,X,Y=!1,re=!1)=>{const{type:te,props:ae,ref:ue,children:pe,dynamicChildren:ve,shapeFlag:Te,patchFlag:ne,dirs:ce,cacheIndex:be}=H;if(ne===-2&&(re=!1),ue!=null&&rg(ue,null,X,H,!0),be!=null&&(G.renderCache[be]=void 0),Te&256){G.ctx.deactivate(H);return}const Ae=Te&1&&ce,Qe=!gu(H);let xe;if(Qe&&(xe=ae&&ae.onVnodeBeforeUnmount)&&wa(xe,G,H),Te&6)U(H.component,X,Y);else{if(Te&128){H.suspense.unmount(X,Y);return}Ae&&Yl(H,null,G,"beforeUnmount"),Te&64?H.type.remove(H,G,X,oe,Y):ve&&!ve.hasOnce&&(te!==De||ne>0&&ne&64)?q(ve,G,X,!1,!0):(te===De&&ne&384||!re&&Te&16)&&q(pe,G,X),Y&&D(H)}(Qe&&(xe=ae&&ae.onVnodeUnmounted)||Ae)&&Er(()=>{xe&&wa(xe,G,H),Ae&&Yl(H,null,G,"unmounted")},X)},D=H=>{const{type:G,el:X,anchor:Y,transition:re}=H;if(G===De){B(X,Y);return}if(G===N0){x(H);return}const te=()=>{i(X),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(H.shapeFlag&1&&re&&!re.persisted){const{leave:ae,delayLeave:ue}=re,pe=()=>ae(X,te);ue?ue(H.el,te,pe):pe()}else te()},B=(H,G)=>{let X;for(;H!==G;)X=d(H),i(H),H=X;i(G)},U=(H,G,X)=>{const{bum:Y,scope:re,job:te,subTree:ae,um:ue,m:pe,a:ve}=H;ag(pe),ag(ve),Y&&Dc(Y),re.stop(),te&&(te.flags|=8,z(ae,H,G,X)),ue&&Er(ue,G),Er(()=>{H.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},q=(H,G,X,Y=!1,re=!1,te=0)=>{for(let ae=te;ae<H.length;ae++)z(H[ae],G,X,Y,re)},$=H=>{if(H.shapeFlag&6)return $(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const G=d(H.anchor||H.el),X=G&&G[CN];return X?d(X):G};let W=!1;const Q=(H,G,X)=>{H==null?G._vnode&&z(G._vnode,null,null,!0):v(G._vnode||null,H,G,null,null,null,X),G._vnode=H,W||(W=!0,MS(),MN(),W=!1)},oe={p:v,um:z,m:F,r:D,mt:A,mc:O,pc:L,pbc:E,n:$,o:e};return{render:Q,hydrate:void 0,createApp:CY(Q)}}function g1({type:e,props:n},t){return t==="svg"&&e==="foreignObject"||t==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:t}function Gl({effect:e,job:n},t){t?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function jY(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function X2(e,n,t=!1){const r=e.children,i=n.children;if(ft(r)&&ft(i))for(let a=0;a<r.length;a++){const o=r[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Js(i[a]),s.el=o.el),!t&&s.patchFlag!==-2&&X2(o,s)),s.type===jm&&(s.el=o.el)}}function zY(e){const n=e.slice(),t=[0];let r,i,a,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=t[t.length-1],e[i]<u){n[r]=i,t.push(r);continue}for(a=0,o=t.length-1;a<o;)s=a+o>>1,e[t[s]]<u?a=s+1:o=s;u<e[t[a]]&&(a>0&&(n[r]=t[a-1]),t[a]=r)}}for(a=t.length,o=t[a-1];a-- >0;)t[a]=o,o=n[o];return t}function lL(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:lL(n)}function ag(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const YY=Symbol.for("v-scx"),GY=()=>Ra(YY);function Rt(e,n,t){return uL(e,n,t)}function uL(e,n,t=xn){const{immediate:r,deep:i,flush:a,once:o}=t,s=Br({},t),l=n&&r||!n&&a!=="post";let u;if(kh){if(a==="sync"){const h=GY();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Wo,h.resume=Wo,h.pause=Wo,h}}const c=Xr;s.call=(h,p,v)=>lo(h,c,p,v);let f=!1;a==="post"?s.scheduler=h=>{Er(h,c&&c.suspense)}:a!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():H2(h)}),s.augmentJob=h=>{n&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=iY(e,n,s);return kh&&(u?u.push(d):l&&d()),d}function WY(e,n,t){const r=this.proxy,i=Fn(e)?e.includes(".")?cL(r,e):()=>r[e]:e.bind(r,r);let a;yt(n)?a=n:(a=n.handler,t=n);const o=bp(this),s=uL(i,a.bind(r),t);return o(),s}function cL(e,n){const t=n.split(".");return()=>{let r=e;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}const HY=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${$a(n)}Modifiers`]||e[`${Sl(n)}Modifiers`];function UY(e,n,...t){if(e.isUnmounted)return;const r=e.vnode.props||xn;let i=t;const a=n.startsWith("update:"),o=a&&HY(r,n.slice(7));o&&(o.trim&&(i=t.map(c=>Fn(c)?c.trim():c)),o.number&&(i=t.map(bx)));let s,l=r[s=l1(n)]||r[s=l1($a(n))];!l&&a&&(l=r[s=l1(Sl(n))]),l&&lo(l,e,6,i);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,lo(u,e,6,i)}}function fL(e,n,t=!1){const r=n.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!yt(e)){const l=u=>{const c=fL(u,n,!0);c&&(s=!0,Br(o,c))};!t&&n.mixins.length&&n.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(An(e)&&r.set(e,null),null):(ft(a)?a.forEach(l=>o[l]=null):Br(o,a),An(e)&&r.set(e,o),o)}function Bm(e,n){return!e||!Cm(n)?!1:(n=n.slice(2).replace(/Once$/,""),Jt(e,n[0].toLowerCase()+n.slice(1))||Jt(e,Sl(n))||Jt(e,n))}function BS(e){const{type:n,vnode:t,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=ng(e);let m,y;try{if(t.shapeFlag&4){const x=i||r,_=x;m=No(u.call(_,x,c,f,h,d,p)),y=s}else{const x=n;m=No(x.length>1?x(f,{attrs:s,slots:o,emit:l}):x(f,null)),y=n.props?s:VY(s)}}catch(x){th.length=0,Im(x,e,1),m=it(si)}let b=m;if(y&&v!==!1){const x=Object.keys(y),{shapeFlag:_}=b;x.length&&_&7&&(a&&x.some($2)&&(y=XY(y,a)),b=Rs(b,y,!1,!0))}return t.dirs&&(b=Rs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&rf(b,t.transition),m=b,ng(g),m}const VY=e=>{let n;for(const t in e)(t==="class"||t==="style"||Cm(t))&&((n||(n={}))[t]=e[t]);return n},XY=(e,n)=>{const t={};for(const r in e)(!$2(r)||!(r.slice(9)in n))&&(t[r]=e[r]);return t};function qY(e,n,t){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=n,u=a.emitsOptions;if(n.dirs||n.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?jS(r,o,u):!!o;if(l&8){const c=n.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!Bm(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?jS(r,o,u):!0:!!o;return!1}function jS(e,n,t){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(n[a]!==e[a]&&!Bm(t,a))return!0}return!1}function KY({vnode:e,parent:n},t){for(;n;){const r=n.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=n.vnode).el=t,n=n.parent;else break}}const og=e=>e.__isSuspense;function ZY(e,n){n&&n.pendingBranch?ft(e)?n.effects.push(...e):n.effects.push(e):sY(e)}const De=Symbol.for("v-fgt"),jm=Symbol.for("v-txt"),si=Symbol.for("v-cmt"),N0=Symbol.for("v-stc"),th=[];let ea=null;function J(e=!1){th.push(ea=e?null:[])}function QY(){th.pop(),ea=th[th.length-1]||null}let _h=1;function zS(e,n=!1){_h+=e,e<0&&ea&&n&&(ea.hasOnce=!0)}function dL(e){return e.dynamicChildren=_h>0?ea||$c:null,QY(),_h>0&&ea&&ea.push(e),e}function ie(e,n,t,r,i,a){return dL(K(e,n,t,r,i,a,!0))}function vt(e,n,t,r,i){return dL(it(e,n,t,r,i,!0))}function af(e){return e?e.__v_isVNode===!0:!1}function rl(e,n){return e.type===n.type&&e.key===n.key}const hL=({key:e})=>e??null,L0=({ref:e,ref_key:n,ref_for:t})=>(typeof e=="number"&&(e=""+e),e!=null?Fn(e)||gr(e)||yt(e)?{i:Fr,r:e,k:n,f:!!t}:e:null);function K(e,n=null,t=null,r=0,i=null,a=e===De?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&hL(n),ref:n&&L0(n),scopeId:PN,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fr};return s?(q2(l,t),a&128&&e.normalize(l)):t&&(l.shapeFlag|=Fn(t)?8:16),_h>0&&!o&&ea&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ea.push(l),l}const it=JY;function JY(e,n=null,t=null,r=0,i=null,a=!1){if((!e||e===UN)&&(e=si),af(e)){const s=Rs(e,n,!0);return t&&q2(s,t),_h>0&&!a&&ea&&(s.shapeFlag&6?ea[ea.indexOf(e)]=s:ea.push(s)),s.patchFlag=-2,s}if(oG(e)&&(e=e.__vccOpts),n){n=Oi(n);let{class:s,style:l}=n;s&&!Fn(s)&&(n.class=Ue(s)),An(l)&&(W2(l)&&!ft(l)&&(l=Br({},l)),n.style=Be(l))}const o=Fn(e)?1:og(e)?128:RN(e)?64:An(e)?4:yt(e)?2:0;return K(e,n,t,r,i,o,a,!0)}function Oi(e){return e?W2(e)||tL(e)?Br({},e):e:null}function Rs(e,n,t=!1,r=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=n?Tr(i||{},n):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&hL(u),ref:n&&n.ref?t&&a?ft(a)?a.concat(L0(n)):[a,L0(n)]:L0(n):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==De?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rs(e.ssContent),ssFallback:e.ssFallback&&Rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&rf(c,l.clone(c)),c}function Jn(e=" ",n=0){return it(jm,null,e,n)}function YS(e,n){const t=it(N0,null,e);return t.staticCount=n,t}function he(e="",n=!1){return n?(J(),vt(si,null,e)):it(si,null,e)}function No(e){return e==null||typeof e=="boolean"?it(si):ft(e)?it(De,null,e.slice()):af(e)?Js(e):it(jm,null,String(e))}function Js(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rs(e)}function q2(e,n){let t=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(ft(n))t=16;else if(typeof n=="object")if(r&65){const i=n.default;i&&(i._c&&(i._d=!1),q2(e,i()),i._c&&(i._d=!0));return}else{t=32;const i=n._;!i&&!tL(n)?n._ctx=Fr:i===3&&Fr&&(Fr.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else yt(n)?(n={default:n,_ctx:Fr},t=32):(n=String(n),r&64?(t=16,n=[Jn(n)]):t=8);e.children=n,e.shapeFlag|=t}function Tr(...e){const n={};for(let t=0;t<e.length;t++){const r=e[t];for(const i in r)if(i==="class")n.class!==r.class&&(n.class=Ue([n.class,r.class]));else if(i==="style")n.style=Be([n.style,r.style]);else if(Cm(i)){const a=n[i],o=r[i];o&&a!==o&&!(ft(a)&&a.includes(o))&&(n[i]=a?[].concat(a,o):o)}else i!==""&&(n[i]=r[i])}return n}function wa(e,n,t,r=null){lo(e,n,7,[t,r])}const eG=QN();let tG=0;function nG(e,n,t){const r=e.type,i=(n?n.appContext:e.appContext)||eG,a={uid:tG++,vnode:e,type:r,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rL(r,i),emitsOptions:fL(r,i),emit:null,emitted:null,propsDefaults:xn,inheritAttrs:r.inheritAttrs,ctx:xn,data:xn,props:xn,attrs:xn,slots:xn,refs:xn,setupState:xn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=n?n.root:a,a.emit=UY.bind(null,a),e.ce&&e.ce(a),a}let Xr=null;const vo=()=>Xr||Fr;let sg,Px;{const e=Lm(),n=(t,r)=>{let i;return(i=e[t])||(i=e[t]=[]),i.push(r),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};sg=n("__VUE_INSTANCE_SETTERS__",t=>Xr=t),Px=n("__VUE_SSR_SETTERS__",t=>kh=t)}const bp=e=>{const n=Xr;return sg(e),e.scope.on(),()=>{e.scope.off(),sg(n)}},GS=()=>{Xr&&Xr.scope.off(),sg(null)};function pL(e){return e.vnode.shapeFlag&4}let kh=!1;function rG(e,n=!1,t=!1){n&&Px(n);const{props:r,children:i}=e.vnode,a=pL(e);RY(e,r,a,n),IY(e,i,t);const o=a?iG(e,n):void 0;return n&&Px(!1),o}function iG(e,n){const t=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,kY);const{setup:r}=t;if(r){El();const i=e.setupContext=r.length>1?gL(e):null,a=bp(e),o=mp(r,e,0,[e.props,i]),s=JR(o);if(Tl(),a(),(s||e.sp)&&!gu(e)&&jN(e),s){if(o.then(GS,GS),n)return o.then(l=>{WS(e,l)}).catch(l=>{Im(l,e,0)});e.asyncDep=o}else WS(e,o)}else vL(e)}function WS(e,n,t){yt(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:An(n)&&(e.setupState=SN(n)),vL(e)}function vL(e,n,t){const r=e.type;e.render||(e.render=r.render||Wo);{const i=bp(e);El();try{SY(e)}finally{Tl(),i()}}}const aG={get(e,n){return ai(e,"get",""),e[n]}};function gL(e){const n=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,aG),slots:e.slots,emit:e.emit,expose:n}}function zm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(SN(Vz(e.exposed)),{get(n,t){if(t in n)return n[t];if(t in eh)return eh[t](e)},has(n,t){return t in n||t in eh}})):e.proxy}function Cx(e,n=!0){return yt(e)?e.displayName||e.name:e.name||n&&e.__name}function oG(e){return yt(e)&&"__vccOpts"in e}const Oe=(e,n)=>nY(e,n,kh);function Ym(e,n,t){const r=arguments.length;return r===2?An(n)&&!ft(n)?af(n)?it(e,null,[n]):it(e,n):it(e,null,n):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&af(t)&&(t=[t]),it(e,n,t))}const sG="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rx;const HS=typeof window<"u"&&window.trustedTypes;if(HS)try{Rx=HS.createPolicy("vue",{createHTML:e=>e})}catch{}const mL=Rx?e=>Rx.createHTML(e):e=>e,lG="http://www.w3.org/2000/svg",uG="http://www.w3.org/1998/Math/MathML",ys=typeof document<"u"?document:null,US=ys&&ys.createElement("template"),cG={insert:(e,n,t)=>{n.insertBefore(e,t||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,t,r)=>{const i=n==="svg"?ys.createElementNS(lG,e):n==="mathml"?ys.createElementNS(uG,e):t?ys.createElement(e,{is:t}):ys.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ys.createTextNode(e),createComment:e=>ys.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ys.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,t,r,i,a){const o=t?t.previousSibling:n.lastChild;if(i&&(i===a||i.nextSibling))for(;n.insertBefore(i.cloneNode(!0),t),!(i===a||!(i=i.nextSibling)););else{US.innerHTML=mL(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=US.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}n.insertBefore(s,t)}return[o?o.nextSibling:n.firstChild,t?t.previousSibling:n.lastChild]}},Hs="transition",sd="animation",Oh=Symbol("_vtc"),yL={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fG=Br({},$N,yL),dG=e=>(e.displayName="Transition",e.props=fG,e),Hf=dG((e,{slots:n})=>Ym(dY,hG(e),n)),Wl=(e,n=[])=>{ft(e)?e.forEach(t=>t(...n)):e&&e(...n)},VS=e=>e?ft(e)?e.some(n=>n.length>1):e.length>1:!1;function hG(e){const n={};for(const M in e)M in yL||(n[M]=e[M]);if(e.css===!1)return n;const{name:t="v",type:r,duration:i,enterFromClass:a=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:s=`${t}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=e,p=pG(i),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:_,onBeforeAppear:w=m,onAppear:k=y,onAppearCancelled:O=b}=n,S=(M,P,A,N)=>{M._enterCancelled=N,Hl(M,P?c:s),Hl(M,P?u:o),A&&A()},E=(M,P)=>{M._isLeaving=!1,Hl(M,f),Hl(M,h),Hl(M,d),P&&P()},T=M=>(P,A)=>{const N=M?k:y,R=()=>S(P,M,A);Wl(N,[P,R]),XS(()=>{Hl(P,M?l:a),ds(P,M?c:s),VS(N)||qS(P,r,v,R)})};return Br(n,{onBeforeEnter(M){Wl(m,[M]),ds(M,a),ds(M,o)},onBeforeAppear(M){Wl(w,[M]),ds(M,l),ds(M,u)},onEnter:T(!1),onAppear:T(!0),onLeave(M,P){M._isLeaving=!0;const A=()=>E(M,P);ds(M,f),M._enterCancelled?(ds(M,d),QS()):(QS(),ds(M,d)),XS(()=>{M._isLeaving&&(Hl(M,f),ds(M,h),VS(x)||qS(M,r,g,A))}),Wl(x,[M,A])},onEnterCancelled(M){S(M,!1,void 0,!0),Wl(b,[M])},onAppearCancelled(M){S(M,!0,void 0,!0),Wl(O,[M])},onLeaveCancelled(M){E(M),Wl(_,[M])}})}function pG(e){if(e==null)return null;if(An(e))return[m1(e.enter),m1(e.leave)];{const n=m1(e);return[n,n]}}function m1(e){return bz(e)}function ds(e,n){n.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[Oh]||(e[Oh]=new Set)).add(n)}function Hl(e,n){n.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const t=e[Oh];t&&(t.delete(n),t.size||(e[Oh]=void 0))}function XS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vG=0;function qS(e,n,t,r){const i=e._endId=++vG,a=()=>{i===e._endId&&r()};if(t!=null)return setTimeout(a,t);const{type:o,timeout:s,propCount:l}=gG(e,n);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),a()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function gG(e,n){const t=window.getComputedStyle(e),r=p=>(t[p]||"").split(", "),i=r(`${Hs}Delay`),a=r(`${Hs}Duration`),o=KS(i,a),s=r(`${sd}Delay`),l=r(`${sd}Duration`),u=KS(s,l);let c=null,f=0,d=0;n===Hs?o>0&&(c=Hs,f=o,d=a.length):n===sd?u>0&&(c=sd,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?Hs:sd:null,d=c?c===Hs?a.length:l.length:0);const h=c===Hs&&/\b(transform|all)(,|$)/.test(r(`${Hs}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function KS(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((t,r)=>ZS(t)+ZS(e[r])))}function ZS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function QS(){return document.body.offsetHeight}function mG(e,n,t){const r=e[Oh];r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):t?e.setAttribute("class",n):e.className=n}const lg=Symbol("_vod"),bL=Symbol("_vsh"),$0={beforeMount(e,{value:n},{transition:t}){e[lg]=e.style.display==="none"?"":e.style.display,t&&n?t.beforeEnter(e):ld(e,n)},mounted(e,{value:n},{transition:t}){t&&n&&t.enter(e)},updated(e,{value:n,oldValue:t},{transition:r}){!n!=!t&&(r?n?(r.beforeEnter(e),ld(e,!0),r.enter(e)):r.leave(e,()=>{ld(e,!1)}):ld(e,n))},beforeUnmount(e,{value:n}){ld(e,n)}};function ld(e,n){e.style.display=n?e[lg]:"none",e[bL]=!n}const yG=Symbol(""),bG=/(^|;)\s*display\s*:/;function xG(e,n,t){const r=e.style,i=Fn(t);let a=!1;if(t&&!i){if(n)if(Fn(n))for(const o of n.split(";")){const s=o.slice(0,o.indexOf(":")).trim();t[s]==null&&I0(r,s,"")}else for(const o in n)t[o]==null&&I0(r,o,"");for(const o in t)o==="display"&&(a=!0),I0(r,o,t[o])}else if(i){if(n!==t){const o=r[yG];o&&(t+=";"+o),r.cssText=t,a=bG.test(t)}}else n&&e.removeAttribute("style");lg in e&&(e[lg]=a?r.display:"",e[bL]&&(r.display="none"))}const JS=/\s*!important$/;function I0(e,n,t){if(ft(t))t.forEach(r=>I0(e,n,r));else if(t==null&&(t=""),n.startsWith("--"))e.setProperty(n,t);else{const r=wG(e,n);JS.test(t)?e.setProperty(Sl(r),t.replace(JS,""),"important"):e[r]=t}}const eE=["Webkit","Moz","ms"],y1={};function wG(e,n){const t=y1[n];if(t)return t;let r=$a(n);if(r!=="filter"&&r in e)return y1[n]=r;r=Nm(r);for(let i=0;i<eE.length;i++){const a=eE[i]+r;if(a in e)return y1[n]=a}return n}const tE="http://www.w3.org/1999/xlink";function nE(e,n,t,r,i,a=Sz(n)){r&&n.startsWith("xlink:")?t==null?e.removeAttributeNS(tE,n.slice(6,n.length)):e.setAttributeNS(tE,n,t):t==null||a&&!rN(t)?e.removeAttribute(n):e.setAttribute(n,a?"":js(t)?String(t):t)}function rE(e,n,t,r,i){if(n==="innerHTML"||n==="textContent"){t!=null&&(e[n]=n==="innerHTML"?mL(t):t);return}const a=e.tagName;if(n==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=t==null?e.type==="checkbox"?"on":"":String(t);(s!==l||!("_value"in e))&&(e.value=l),t==null&&e.removeAttribute(n),e._value=t;return}let o=!1;if(t===""||t==null){const s=typeof e[n];s==="boolean"?t=rN(t):t==null&&s==="string"?(t="",o=!0):s==="number"&&(t=0,o=!0)}try{e[n]=t}catch{}o&&e.removeAttribute(i||n)}function Sc(e,n,t,r){e.addEventListener(n,t,r)}function _G(e,n,t,r){e.removeEventListener(n,t,r)}const iE=Symbol("_vei");function kG(e,n,t,r,i=null){const a=e[iE]||(e[iE]={}),o=a[n];if(r&&o)o.value=r;else{const[s,l]=OG(n);if(r){const u=a[n]=TG(r,i);Sc(e,s,u,l)}else o&&(_G(e,s,o,l),a[n]=void 0)}}const aE=/(?:Once|Passive|Capture)$/;function OG(e){let n;if(aE.test(e)){n={};let r;for(;r=e.match(aE);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Sl(e.slice(2)),n]}let b1=0;const SG=Promise.resolve(),EG=()=>b1||(SG.then(()=>b1=0),b1=Date.now());function TG(e,n){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;lo(MG(r,t.value),n,5,[r])};return t.value=e,t.attached=EG(),t}function MG(e,n){if(ft(n)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map(r=>i=>!i._stopped&&r&&r(i))}else return n}const oE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,AG=(e,n,t,r,i,a)=>{const o=i==="svg";n==="class"?mG(e,r,o):n==="style"?xG(e,t,r):Cm(n)?$2(n)||kG(e,n,t,r,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):PG(e,n,r,o))?(rE(e,n,r),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&nE(e,n,r,o,a,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!Fn(r))?rE(e,$a(n),r,a,n):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),nE(e,n,r,o))};function PG(e,n,t,r){if(r)return!!(n==="innerHTML"||n==="textContent"||n in e&&oE(n)&&yt(t));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return oE(n)&&Fn(t)?!1:n in e}const sE=e=>{const n=e.props["onUpdate:modelValue"]||!1;return ft(n)?t=>Dc(n,t):n};function CG(e){e.target.composing=!0}function lE(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const x1=Symbol("_assign"),mu={created(e,{modifiers:{lazy:n,trim:t,number:r}},i){e[x1]=sE(i);const a=r||i.props&&i.props.type==="number";Sc(e,n?"change":"input",o=>{if(o.target.composing)return;let s=e.value;t&&(s=s.trim()),a&&(s=bx(s)),e[x1](s)}),t&&Sc(e,"change",()=>{e.value=e.value.trim()}),n||(Sc(e,"compositionstart",CG),Sc(e,"compositionend",lE),Sc(e,"change",lE))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:t,modifiers:{lazy:r,trim:i,number:a}},o){if(e[x1]=sE(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?bx(e.value):e.value,l=n??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&n===t||i&&e.value.trim()===l)||(e.value=l))}},RG=["ctrl","shift","alt","meta"],NG={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>RG.some(t=>e[`${t}Key`]&&!n.includes(t))},ra=(e,n)=>{const t=e._withMods||(e._withMods={}),r=n.join(".");return t[r]||(t[r]=(i,...a)=>{for(let o=0;o<n.length;o++){const s=NG[n[o]];if(s&&s(i,n))return}return e(i,...a)})},LG={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zc=(e,n)=>{const t=e._withKeys||(e._withKeys={}),r=n.join(".");return t[r]||(t[r]=i=>{if(!("key"in i))return;const a=Sl(i.key);if(n.some(o=>o===a||LG[o]===a))return e(i)})},$G=Br({patchProp:AG},cG);let uE;function xL(){return uE||(uE=FY($G))}const cE=(...e)=>{xL().render(...e)},IG=(...e)=>{const n=xL().createApp(...e),{mount:t}=n;return n.mount=r=>{const i=FG(r);if(!i)return;const a=n._component;!yt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,DG(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},n};function DG(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function FG(e){return Fn(e)?document.querySelector(e):e}function BG(){return wL().__VUE_DEVTOOLS_GLOBAL_HOOK__}function wL(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const jG=typeof Proxy=="function",zG="devtools-plugin:setup",YG="plugin:settings:set";let uc,Nx;function GG(){var e;return uc!==void 0||(typeof window<"u"&&window.performance?(uc=!0,Nx=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(uc=!0,Nx=globalThis.perf_hooks.performance):uc=!1),uc}function WG(){return GG()?Nx.now():Date.now()}class HG{constructor(n,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=t;const r={};if(n.settings)for(const o in n.settings){const s=n.settings[o];r[o]=s.defaultValue}const i=`__vue-devtools-plugin-settings__${n.id}`;let a=Object.assign({},r);try{const o=localStorage.getItem(i),s=JSON.parse(o);Object.assign(a,s)}catch{}this.fallbacks={getSettings(){return a},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}a=o},now(){return WG()}},t&&t.on(YG,(o,s)=>{o===this.plugin.id&&this.fallbacks.setSettings(s)}),this.proxiedOn=new Proxy({},{get:(o,s)=>this.target?this.target.on[s]:(...l)=>{this.onQueue.push({method:s,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,s)=>this.target?this.target[s]:s==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(s)?(...l)=>(this.targetQueue.push({method:s,args:l,resolve:()=>{}}),this.fallbacks[s](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:s,args:l,resolve:u})})})}async setRealTarget(n){this.target=n;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function UG(e,n){const t=e,r=wL(),i=BG(),a=jG&&t.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(zG,e,n);else{const o=a?new HG(t,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:n,proxy:o}),o&&n(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var _L="store";function Ys(e){return e===void 0&&(e=null),Ra(e!==null?e:_L)}function Uf(e,n){Object.keys(e).forEach(function(t){return n(e[t],t)})}function VG(e){return e!==null&&typeof e=="object"}function XG(e){return e&&typeof e.then=="function"}function qG(e,n){return function(){return e(n)}}function kL(e,n,t){return n.indexOf(e)<0&&(t&&t.prepend?n.unshift(e):n.push(e)),function(){var r=n.indexOf(e);r>-1&&n.splice(r,1)}}function OL(e,n){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var t=e.state;Gm(e,t,[],e._modules.root,!0),K2(e,t,n)}function K2(e,n,t){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,o={},s={},l=Ez(!0);l.run(function(){Uf(a,function(u,c){o[c]=qG(u,e),s[c]=Oe(function(){return o[c]()}),Object.defineProperty(e.getters,c,{get:function(){return s[c].value},enumerable:!0})})}),e._state=ls({data:n}),e._scope=l,e.strict&&eW(e),r&&t&&e._withCommit(function(){r.data=null}),i&&i.stop()}function Gm(e,n,t,r,i){var a=!t.length,o=e._modules.getNamespace(t);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!a&&!i){var s=Z2(n,t.slice(0,-1)),l=t[t.length-1];e._withCommit(function(){s[l]=r.state})}var u=r.context=KG(e,o,t);r.forEachMutation(function(c,f){var d=o+f;ZG(e,d,c,u)}),r.forEachAction(function(c,f){var d=c.root?f:o+f,h=c.handler||c;QG(e,d,h,u)}),r.forEachGetter(function(c,f){var d=o+f;JG(e,d,c,u)}),r.forEachChild(function(c,f){Gm(e,n,t.concat(f),c,i)})}function KG(e,n,t){var r=n==="",i={dispatch:r?e.dispatch:function(a,o,s){var l=ug(a,o,s),u=l.payload,c=l.options,f=l.type;return(!c||!c.root)&&(f=n+f),e.dispatch(f,u)},commit:r?e.commit:function(a,o,s){var l=ug(a,o,s),u=l.payload,c=l.options,f=l.type;(!c||!c.root)&&(f=n+f),e.commit(f,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return SL(e,n)}},state:{get:function(){return Z2(e.state,t)}}}),i}function SL(e,n){if(!e._makeLocalGettersCache[n]){var t={},r=n.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===n){var a=i.slice(r);Object.defineProperty(t,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[n]=t}return e._makeLocalGettersCache[n]}function ZG(e,n,t,r){var i=e._mutations[n]||(e._mutations[n]=[]);i.push(function(o){t.call(e,r.state,o)})}function QG(e,n,t,r){var i=e._actions[n]||(e._actions[n]=[]);i.push(function(o){var s=t.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return XG(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function JG(e,n,t,r){e._wrappedGetters[n]||(e._wrappedGetters[n]=function(a){return t(r.state,r.getters,a.state,a.getters)})}function eW(e){Rt(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Z2(e,n){return n.reduce(function(t,r){return t[r]},e)}function ug(e,n,t){return VG(e)&&e.type&&(t=n,n=e,e=e.type),{type:e,payload:n,options:t}}var tW="vuex bindings",fE="vuex:mutations",w1="vuex:actions",cc="vuex",nW=0;function rW(e,n){UG({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[tW]},function(t){t.addTimelineLayer({id:fE,label:"Vuex Mutations",color:dE}),t.addTimelineLayer({id:w1,label:"Vuex Actions",color:dE}),t.addInspector({id:cc,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),t.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===cc)if(r.filter){var i=[];AL(i,n._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[ML(n._modules.root,"")]}),t.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===cc){var i=r.nodeId;SL(n,i),r.state=oW(lW(n._modules,i),i==="root"?n.getters:n._makeLocalGettersCache,i)}}),t.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===cc){var i=r.nodeId,a=r.path;i!=="root"&&(a=i.split("/").filter(Boolean).concat(a)),n._withCommit(function(){r.set(n._state.data,a,r.state.value)})}}),n.subscribe(function(r,i){var a={};r.payload&&(a.payload=r.payload),a.state=i,t.notifyComponentUpdate(),t.sendInspectorTree(cc),t.sendInspectorState(cc),t.addTimelineEvent({layerId:fE,event:{time:Date.now(),title:r.type,data:a}})}),n.subscribeAction({before:function(r,i){var a={};r.payload&&(a.payload=r.payload),r._id=nW++,r._time=Date.now(),a.state=i,t.addTimelineEvent({layerId:w1,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:a}})},after:function(r,i){var a={},o=Date.now()-r._time;a.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(a.payload=r.payload),a.state=i,t.addTimelineEvent({layerId:w1,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:a}})}})})}var dE=8702998,iW=6710886,aW=16777215,EL={label:"namespaced",textColor:aW,backgroundColor:iW};function TL(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function ML(e,n){return{id:n||"root",label:TL(n),tags:e.namespaced?[EL]:[],children:Object.keys(e._children).map(function(t){return ML(e._children[t],n+t+"/")})}}function AL(e,n,t,r){r.includes(t)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:n.namespaced?[EL]:[]}),Object.keys(n._children).forEach(function(i){AL(e,n._children[i],t,r+i+"/")})}function oW(e,n,t){n=t==="root"?n:n[t];var r=Object.keys(n),i={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var a=sW(n);i.getters=Object.keys(a).map(function(o){return{key:o.endsWith("/")?TL(o):o,editable:!1,value:Lx(function(){return a[o]})}})}return i}function sW(e){var n={};return Object.keys(e).forEach(function(t){var r=t.split("/");if(r.length>1){var i=n,a=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[a]=Lx(function(){return e[t]})}else n[t]=Lx(function(){return e[t]})}),n}function lW(e,n){var t=n.split("/").filter(function(r){return r});return t.reduce(function(r,i,a){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+n+'".');return a===t.length-1?o:o._children},n==="root"?e:e.root._children)}function Lx(e){try{return e()}catch(n){return n}}var go=function(n,t){this.runtime=t,this._children=Object.create(null),this._rawModule=n;var r=n.state;this.state=(typeof r=="function"?r():r)||{}},PL={namespaced:{configurable:!0}};PL.namespaced.get=function(){return!!this._rawModule.namespaced};go.prototype.addChild=function(n,t){this._children[n]=t};go.prototype.removeChild=function(n){delete this._children[n]};go.prototype.getChild=function(n){return this._children[n]};go.prototype.hasChild=function(n){return n in this._children};go.prototype.update=function(n){this._rawModule.namespaced=n.namespaced,n.actions&&(this._rawModule.actions=n.actions),n.mutations&&(this._rawModule.mutations=n.mutations),n.getters&&(this._rawModule.getters=n.getters)};go.prototype.forEachChild=function(n){Uf(this._children,n)};go.prototype.forEachGetter=function(n){this._rawModule.getters&&Uf(this._rawModule.getters,n)};go.prototype.forEachAction=function(n){this._rawModule.actions&&Uf(this._rawModule.actions,n)};go.prototype.forEachMutation=function(n){this._rawModule.mutations&&Uf(this._rawModule.mutations,n)};Object.defineProperties(go.prototype,PL);var qu=function(n){this.register([],n,!1)};qu.prototype.get=function(n){return n.reduce(function(t,r){return t.getChild(r)},this.root)};qu.prototype.getNamespace=function(n){var t=this.root;return n.reduce(function(r,i){return t=t.getChild(i),r+(t.namespaced?i+"/":"")},"")};qu.prototype.update=function(n){CL([],this.root,n)};qu.prototype.register=function(n,t,r){var i=this;r===void 0&&(r=!0);var a=new go(t,r);if(n.length===0)this.root=a;else{var o=this.get(n.slice(0,-1));o.addChild(n[n.length-1],a)}t.modules&&Uf(t.modules,function(s,l){i.register(n.concat(l),s,r)})};qu.prototype.unregister=function(n){var t=this.get(n.slice(0,-1)),r=n[n.length-1],i=t.getChild(r);i&&i.runtime&&t.removeChild(r)};qu.prototype.isRegistered=function(n){var t=this.get(n.slice(0,-1)),r=n[n.length-1];return t?t.hasChild(r):!1};function CL(e,n,t){if(n.update(t),t.modules)for(var r in t.modules){if(!n.getChild(r))return;CL(e.concat(r),n.getChild(r),t.modules[r])}}function uW(e){return new Hi(e)}var Hi=function(n){var t=this;n===void 0&&(n={});var r=n.plugins;r===void 0&&(r=[]);var i=n.strict;i===void 0&&(i=!1);var a=n.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new qu(n),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=a;var o=this,s=this,l=s.dispatch,u=s.commit;this.dispatch=function(d,h){return l.call(o,d,h)},this.commit=function(d,h,p){return u.call(o,d,h,p)},this.strict=i;var c=this._modules.root.state;Gm(this,c,[],this._modules.root),K2(this,c),r.forEach(function(f){return f(t)})},Q2={state:{configurable:!0}};Hi.prototype.install=function(n,t){n.provide(t||_L,this),n.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&rW(n,this)};Q2.state.get=function(){return this._state.data};Q2.state.set=function(e){};Hi.prototype.commit=function(n,t,r){var i=this,a=ug(n,t,r),o=a.type,s=a.payload,l={type:o,payload:s},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(s)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};Hi.prototype.dispatch=function(n,t){var r=this,i=ug(n,t),a=i.type,o=i.payload,s={type:a,payload:o},l=this._actions[a];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(s,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,f){u.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,r.state)})}catch{}c(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,r.state,d)})}catch{}f(d)})})}};Hi.prototype.subscribe=function(n,t){return kL(n,this._subscribers,t)};Hi.prototype.subscribeAction=function(n,t){var r=typeof n=="function"?{before:n}:n;return kL(r,this._actionSubscribers,t)};Hi.prototype.watch=function(n,t,r){var i=this;return Rt(function(){return n(i.state,i.getters)},t,Object.assign({},r))};Hi.prototype.replaceState=function(n){var t=this;this._withCommit(function(){t._state.data=n})};Hi.prototype.registerModule=function(n,t,r){r===void 0&&(r={}),typeof n=="string"&&(n=[n]),this._modules.register(n,t),Gm(this,this.state,n,this._modules.get(n),r.preserveState),K2(this,this.state)};Hi.prototype.unregisterModule=function(n){var t=this;typeof n=="string"&&(n=[n]),this._modules.unregister(n),this._withCommit(function(){var r=Z2(t.state,n.slice(0,-1));delete r[n[n.length-1]]}),OL(this)};Hi.prototype.hasModule=function(n){return typeof n=="string"&&(n=[n]),this._modules.isRegistered(n)};Hi.prototype.hotUpdate=function(n){this._modules.update(n),OL(this,!0)};Hi.prototype._withCommit=function(n){var t=this._committing;this._committing=!0,n(),this._committing=t};Object.defineProperties(Hi.prototype,Q2);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ec=typeof document<"u";function RL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cW(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&RL(e.default)}const Qt=Object.assign;function _1(e,n){const t={};for(const r in n){const i=n[r];t[r]=uo(i)?i.map(e):e(i)}return t}const nh=()=>{},uo=Array.isArray,NL=/#/g,fW=/&/g,dW=/\//g,hW=/=/g,pW=/\?/g,LL=/\+/g,vW=/%5B/g,gW=/%5D/g,$L=/%5E/g,mW=/%60/g,IL=/%7B/g,yW=/%7C/g,DL=/%7D/g,bW=/%20/g;function J2(e){return encodeURI(""+e).replace(yW,"|").replace(vW,"[").replace(gW,"]")}function xW(e){return J2(e).replace(IL,"{").replace(DL,"}").replace($L,"^")}function $x(e){return J2(e).replace(LL,"%2B").replace(bW,"+").replace(NL,"%23").replace(fW,"%26").replace(mW,"`").replace(IL,"{").replace(DL,"}").replace($L,"^")}function wW(e){return $x(e).replace(hW,"%3D")}function _W(e){return J2(e).replace(NL,"%23").replace(pW,"%3F")}function kW(e){return e==null?"":_W(e).replace(dW,"%2F")}function Sh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const OW=/\/$/,SW=e=>e.replace(OW,"");function k1(e,n,t="/"){let r,i={},a="",o="";const s=n.indexOf("#");let l=n.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=n.slice(0,l),a=n.slice(l+1,s>-1?s:n.length),i=e(a)),s>-1&&(r=r||n.slice(0,s),o=n.slice(s,n.length)),r=AW(r??n,t),{fullPath:r+(a&&"?")+a+o,path:r,query:i,hash:Sh(o)}}function EW(e,n){const t=n.query?e(n.query):"";return n.path+(t&&"?")+t+(n.hash||"")}function hE(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function TW(e,n,t){const r=n.matched.length-1,i=t.matched.length-1;return r>-1&&r===i&&of(n.matched[r],t.matched[i])&&FL(n.params,t.params)&&e(n.query)===e(t.query)&&n.hash===t.hash}function of(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function FL(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(!MW(e[t],n[t]))return!1;return!0}function MW(e,n){return uo(e)?pE(e,n):uo(n)?pE(n,e):e===n}function pE(e,n){return uo(n)?e.length===n.length&&e.every((t,r)=>t===n[r]):e.length===1&&e[0]===n}function AW(e,n){if(e.startsWith("/"))return e;if(!e)return n;const t=n.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=t.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")a>1&&a--;else break;return t.slice(0,a).join("/")+"/"+r.slice(o).join("/")}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Eh;(function(e){e.pop="pop",e.push="push"})(Eh||(Eh={}));var rh;(function(e){e.back="back",e.forward="forward",e.unknown=""})(rh||(rh={}));function PW(e){if(!e)if(Ec){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),SW(e)}const CW=/^[^#]+#/;function RW(e,n){return e.replace(CW,"#")+n}function NW(e,n){const t=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:n.behavior,left:r.left-t.left-(n.left||0),top:r.top-t.top-(n.top||0)}}const Wm=()=>({left:window.scrollX,top:window.scrollY});function LW(e){let n;if("el"in e){const t=e.el,r=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;n=NW(i,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function vE(e,n){return(history.state?history.state.position-n:-1)+e}const Ix=new Map;function $W(e,n){Ix.set(e,n)}function IW(e){const n=Ix.get(e);return Ix.delete(e),n}let DW=()=>location.protocol+"//"+location.host;function BL(e,n){const{pathname:t,search:r,hash:i}=n,a=e.indexOf("#");if(a>-1){let s=i.includes(e.slice(a))?e.slice(a).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),hE(l,"")}return hE(t,e)+r+i}function FW(e,n,t,r){let i=[],a=[],o=null;const s=({state:d})=>{const h=BL(e,location),p=t.value,v=n.value;let g=0;if(d){if(t.value=h,n.value=d,o&&o===p){o=null;return}g=v?d.position-v.position:0}else r(h);i.forEach(m=>{m(t.value,p,{delta:g,type:Eh.pop,direction:g?g>0?rh.forward:rh.back:rh.unknown})})};function l(){o=t.value}function u(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return a.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(Qt({},d.state,{scroll:Wm()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function gE(e,n,t,r=!1,i=!1){return{back:e,current:n,forward:t,replaced:r,position:window.history.length,scroll:i?Wm():null}}function BW(e){const{history:n,location:t}=window,r={value:BL(e,t)},i={value:n.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const f=e.indexOf("#"),d=f>-1?(t.host&&document.querySelector("base")?e:e.slice(f))+l:DW()+e+l;try{n[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),t[c?"replace":"assign"](d)}}function o(l,u){const c=Qt({},n.state,gE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});a(l,c,!0),r.value=l}function s(l,u){const c=Qt({},i.value,n.state,{forward:l,scroll:Wm()});a(c.current,c,!0);const f=Qt({},gE(r.value,l,null),{position:c.position+1},u);a(l,f,!1),r.value=l}return{location:r,state:i,push:s,replace:o}}function jW(e){e=PW(e);const n=BW(e),t=FW(e,n.state,n.location,n.replace);function r(a,o=!0){o||t.pauseListeners(),history.go(a)}const i=Qt({location:"",base:e,go:r,createHref:RW.bind(null,e)},n,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>n.state.value}),i}function zW(e){return typeof e=="string"||e&&typeof e=="object"}function jL(e){return typeof e=="string"||typeof e=="symbol"}const zL=Symbol("");var mE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(mE||(mE={}));function sf(e,n){return Qt(new Error,{type:e,[zL]:!0},n)}function hs(e,n){return e instanceof Error&&zL in e&&(n==null||!!(e.type&n))}const yE="[^/]+?",YW={sensitive:!1,strict:!1,start:!0,end:!0},GW=/[.+*?^${}()[\]/\\]/g;function WW(e,n){const t=Qt({},YW,n),r=[];let i=t.start?"^":"";const a=[];for(const u of e){const c=u.length?[]:[90];t.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(t.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(GW,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:v,optional:g,regexp:m}=d;a.push({name:p,repeatable:v,optional:g});const y=m||yE;if(y!==yE){h+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let b=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(b=g&&u.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),i+=b,h+=20,g&&(h+=-8),v&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(t.strict&&t.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=a[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:v,optional:g}=h,m=p in u?u[p]:"";if(uo(m)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=uo(m)?m.join("/"):m;if(!y)if(g)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:a,parse:s,stringify:l}}function HW(e,n){let t=0;for(;t<e.length&&t<n.length;){const r=n[t]-e[t];if(r)return r;t++}return e.length<n.length?e.length===1&&e[0]===80?-1:1:e.length>n.length?n.length===1&&n[0]===80?1:-1:0}function YL(e,n){let t=0;const r=e.score,i=n.score;for(;t<r.length&&t<i.length;){const a=HW(r[t],i[t]);if(a)return a;t++}if(Math.abs(i.length-r.length)===1){if(bE(r))return 1;if(bE(i))return-1}return i.length-r.length}function bE(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const UW={type:0,value:""},VW=/[a-zA-Z0-9_]/;function XW(e){if(!e)return[[]];if(e==="/")return[[UW]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(h){throw new Error(`ERR (${t})/"${u}": ${h}`)}let t=0,r=t;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,l,u="",c="";function f(){u&&(t===0?a.push({type:0,value:u}):t===1||t===2||t===3?(a.length>1&&(l==="*"||l==="+")&&n(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):n("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),t=1):d();break;case 4:d(),t=r;break;case 1:l==="("?t=2:VW.test(l)?d():(f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:t=3:c+=l;break;case 3:f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:n("Unknown state");break}}return t===2&&n(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function qW(e,n,t){const r=WW(XW(e.path),t),i=Qt(r,{record:e,parent:n,children:[],alias:[]});return n&&!i.record.aliasOf==!n.record.aliasOf&&n.children.push(i),i}function KW(e,n){const t=[],r=new Map;n=kE({strict:!1,end:!0,sensitive:!1},n);function i(f){return r.get(f)}function a(f,d,h){const p=!h,v=wE(f);v.aliasOf=h&&h.record;const g=kE(n,f),m=[v];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const _ of x)m.push(wE(Qt({},v,{components:h?h.record.components:v.components,path:_,aliasOf:h?h.record:v})))}let y,b;for(const x of m){const{path:_}=x;if(d&&_[0]!=="/"){const w=d.record.path,k=w[w.length-1]==="/"?"":"/";x.path=d.record.path+(_&&k+_)}if(y=qW(x,d,g),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&f.name&&!_E(y)&&o(f.name)),GL(y)&&l(y),v.children){const w=v.children;for(let k=0;k<w.length;k++)a(w[k],y,h&&h.children[k])}h=h||y}return b?()=>{o(b)}:nh}function o(f){if(jL(f)){const d=r.get(f);d&&(r.delete(f),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(f);d>-1&&(t.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function s(){return t}function l(f){const d=JW(f,t);t.splice(d,0,f),f.record.name&&!_E(f)&&r.set(f.record.name,f)}function u(f,d){let h,p={},v,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw sf(1,{location:f});g=h.record.name,p=Qt(xE(d.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&xE(f.params,h.keys.map(b=>b.name))),v=h.stringify(p)}else if(f.path!=null)v=f.path,h=t.find(b=>b.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=d.name?r.get(d.name):t.find(b=>b.re.test(d.path)),!h)throw sf(1,{location:f,currentLocation:d});g=h.record.name,p=Qt({},d.params,f.params),v=h.stringify(p)}const m=[];let y=h;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:v,params:p,matched:m,meta:QW(m)}}e.forEach(f=>a(f));function c(){t.length=0,r.clear()}return{addRoute:a,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:s,getRecordMatcher:i}}function xE(e,n){const t={};for(const r of n)r in e&&(t[r]=e[r]);return t}function wE(e){const n={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ZW(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function ZW(e){const n={},t=e.props||!1;if("component"in e)n.default=t;else for(const r in e.components)n[r]=typeof t=="object"?t[r]:t;return n}function _E(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function QW(e){return e.reduce((n,t)=>Qt(n,t.meta),{})}function kE(e,n){const t={};for(const r in e)t[r]=r in n?n[r]:e[r];return t}function JW(e,n){let t=0,r=n.length;for(;t!==r;){const a=t+r>>1;YL(e,n[a])<0?r=a:t=a+1}const i=eH(e);return i&&(r=n.lastIndexOf(i,r-1)),r}function eH(e){let n=e;for(;n=n.parent;)if(GL(n)&&YL(e,n)===0)return n}function GL({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tH(e){const n={};if(e===""||e==="?")return n;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const a=r[i].replace(LL," "),o=a.indexOf("="),s=Sh(o<0?a:a.slice(0,o)),l=o<0?null:Sh(a.slice(o+1));if(s in n){let u=n[s];uo(u)||(u=n[s]=[u]),u.push(l)}else n[s]=l}return n}function OE(e){let n="";for(let t in e){const r=e[t];if(t=wW(t),r==null){r!==void 0&&(n+=(n.length?"&":"")+t);continue}(uo(r)?r.map(a=>a&&$x(a)):[r&&$x(r)]).forEach(a=>{a!==void 0&&(n+=(n.length?"&":"")+t,a!=null&&(n+="="+a))})}return n}function nH(e){const n={};for(const t in e){const r=e[t];r!==void 0&&(n[t]=uo(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return n}const rH=Symbol(""),SE=Symbol(""),Hm=Symbol(""),e_=Symbol(""),Dx=Symbol("");function ud(){let e=[];function n(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function t(){e=[]}return{add:n,list:()=>e.slice(),reset:t}}function el(e,n,t,r,i,a=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=d=>{d===!1?l(sf(4,{from:t,to:n})):d instanceof Error?l(d):zW(d)?l(sf(2,{from:n,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),s())},c=a(()=>e.call(r&&r.instances[i],n,t,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function O1(e,n,t,r,i=a=>a()){const a=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(n!=="beforeRouteEnter"&&!o.instances[s]))if(RL(l)){const c=(l.__vccOpts||l)[n];c&&a.push(el(c,t,r,o,s,i))}else{let u=l();a.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const f=cW(c)?c.default:c;o.mods[s]=c,o.components[s]=f;const h=(f.__vccOpts||f)[n];return h&&el(h,t,r,o,s,i)()}))}}return a}function EE(e){const n=Ra(Hm),t=Ra(e_),r=Oe(()=>{const l=V(e.to);return n.resolve(l)}),i=Oe(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=t.matched;if(!c||!f.length)return-1;const d=f.findIndex(of.bind(null,c));if(d>-1)return d;const h=TE(l[u-2]);return u>1&&TE(c)===h&&f[f.length-1].path!==h?f.findIndex(of.bind(null,l[u-2])):d}),a=Oe(()=>i.value>-1&&lH(t.params,r.value.params)),o=Oe(()=>i.value>-1&&i.value===t.matched.length-1&&FL(t.params,r.value.params));function s(l={}){if(sH(l)){const u=n[V(e.replace)?"replace":"push"](V(e.to)).catch(nh);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Oe(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function iH(e){return e.length===1?e[0]:e}const aH=Nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:EE,setup(e,{slots:n}){const t=ls(EE(e)),{options:r}=Ra(Hm),i=Oe(()=>({[ME(e.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[ME(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const a=n.default&&iH(n.default(t));return e.custom?a:Ym("a",{"aria-current":t.isExactActive?e.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},a)}}}),oH=aH;function sH(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function lH(e,n){for(const t in n){const r=n[t],i=e[t];if(typeof r=="string"){if(r!==i)return!1}else if(!uo(i)||i.length!==r.length||r.some((a,o)=>a!==i[o]))return!1}return!0}function TE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ME=(e,n,t)=>e??n??t,uH=Nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:t}){const r=Ra(Dx),i=Oe(()=>e.route||r.value),a=Ra(SE,0),o=Oe(()=>{let u=V(a);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=Oe(()=>i.value.matched[o.value]);R0(SE,Oe(()=>o.value+1)),R0(rH,s),R0(Dx,i);const l=ge();return Rt(()=>[l.value,s.value,e.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!of(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,f=s.value,d=f&&f.components[c];if(!d)return AE(t.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=Ym(d,Qt({},p,n,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return AE(t.default,{Component:g,route:u})||g}}});function AE(e,n){if(!e)return null;const t=e(n);return t.length===1?t[0]:t}const cH=uH;function fH(e){const n=KW(e.routes,e),t=e.parseQuery||tH,r=e.stringifyQuery||OE,i=e.history,a=ud(),o=ud(),s=ud(),l=Xz(Us);let u=Us;Ec&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=_1.bind(null,$=>""+$),f=_1.bind(null,kW),d=_1.bind(null,Sh);function h($,W){let Q,oe;return jL($)?(Q=n.getRecordMatcher($),oe=W):oe=$,n.addRoute(oe,Q)}function p($){const W=n.getRecordMatcher($);W&&n.removeRoute(W)}function v(){return n.getRoutes().map($=>$.record)}function g($){return!!n.getRecordMatcher($)}function m($,W){if(W=Qt({},W||l.value),typeof $=="string"){const X=k1(t,$,W.path),Y=n.resolve({path:X.path},W),re=i.createHref(X.fullPath);return Qt(X,Y,{params:d(Y.params),hash:Sh(X.hash),redirectedFrom:void 0,href:re})}let Q;if($.path!=null)Q=Qt({},$,{path:k1(t,$.path,W.path).path});else{const X=Qt({},$.params);for(const Y in X)X[Y]==null&&delete X[Y];Q=Qt({},$,{params:f(X)}),W.params=f(W.params)}const oe=n.resolve(Q,W),ee=$.hash||"";oe.params=c(d(oe.params));const H=EW(r,Qt({},$,{hash:xW(ee),path:oe.path})),G=i.createHref(H);return Qt({fullPath:H,hash:ee,query:r===OE?nH($.query):$.query||{}},oe,{redirectedFrom:void 0,href:G})}function y($){return typeof $=="string"?k1(t,$,l.value.path):Qt({},$)}function b($,W){if(u!==$)return sf(8,{from:W,to:$})}function x($){return k($)}function _($){return x(Qt(y($),{replace:!0}))}function w($){const W=$.matched[$.matched.length-1];if(W&&W.redirect){const{redirect:Q}=W;let oe=typeof Q=="function"?Q($):Q;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=y(oe):{path:oe},oe.params={}),Qt({query:$.query,hash:$.hash,params:oe.path!=null?{}:$.params},oe)}}function k($,W){const Q=u=m($),oe=l.value,ee=$.state,H=$.force,G=$.replace===!0,X=w(Q);if(X)return k(Qt(y(X),{state:typeof X=="object"?Qt({},ee,X.state):ee,force:H,replace:G}),W||Q);const Y=Q;Y.redirectedFrom=W;let re;return!H&&TW(r,oe,Q)&&(re=sf(16,{to:Y,from:oe}),F(oe,oe,!0,!1)),(re?Promise.resolve(re):E(Y,oe)).catch(te=>hs(te)?hs(te,2)?te:j(te):L(te,Y,oe)).then(te=>{if(te){if(hs(te,2))return k(Qt({replace:G},y(te.to),{state:typeof te.to=="object"?Qt({},ee,te.to.state):ee,force:H}),W||Y)}else te=M(Y,oe,!0,G,ee);return T(Y,oe,te),te})}function O($,W){const Q=b($,W);return Q?Promise.reject(Q):Promise.resolve()}function S($){const W=B.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext($):$()}function E($,W){let Q;const[oe,ee,H]=dH($,W);Q=O1(oe.reverse(),"beforeRouteLeave",$,W);for(const X of oe)X.leaveGuards.forEach(Y=>{Q.push(el(Y,$,W))});const G=O.bind(null,$,W);return Q.push(G),q(Q).then(()=>{Q=[];for(const X of a.list())Q.push(el(X,$,W));return Q.push(G),q(Q)}).then(()=>{Q=O1(ee,"beforeRouteUpdate",$,W);for(const X of ee)X.updateGuards.forEach(Y=>{Q.push(el(Y,$,W))});return Q.push(G),q(Q)}).then(()=>{Q=[];for(const X of H)if(X.beforeEnter)if(uo(X.beforeEnter))for(const Y of X.beforeEnter)Q.push(el(Y,$,W));else Q.push(el(X.beforeEnter,$,W));return Q.push(G),q(Q)}).then(()=>($.matched.forEach(X=>X.enterCallbacks={}),Q=O1(H,"beforeRouteEnter",$,W,S),Q.push(G),q(Q))).then(()=>{Q=[];for(const X of o.list())Q.push(el(X,$,W));return Q.push(G),q(Q)}).catch(X=>hs(X,8)?X:Promise.reject(X))}function T($,W,Q){s.list().forEach(oe=>S(()=>oe($,W,Q)))}function M($,W,Q,oe,ee){const H=b($,W);if(H)return H;const G=W===Us,X=Ec?history.state:{};Q&&(oe||G?i.replace($.fullPath,Qt({scroll:G&&X&&X.scroll},ee)):i.push($.fullPath,ee)),l.value=$,F($,W,Q,G),j()}let P;function A(){P||(P=i.listen(($,W,Q)=>{if(!U.listening)return;const oe=m($),ee=w(oe);if(ee){k(Qt(ee,{replace:!0,force:!0}),oe).catch(nh);return}u=oe;const H=l.value;Ec&&$W(vE(H.fullPath,Q.delta),Wm()),E(oe,H).catch(G=>hs(G,12)?G:hs(G,2)?(k(Qt(y(G.to),{force:!0}),oe).then(X=>{hs(X,20)&&!Q.delta&&Q.type===Eh.pop&&i.go(-1,!1)}).catch(nh),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),L(G,oe,H))).then(G=>{G=G||M(oe,H,!1),G&&(Q.delta&&!hs(G,8)?i.go(-Q.delta,!1):Q.type===Eh.pop&&hs(G,20)&&i.go(-1,!1)),T(oe,H,G)}).catch(nh)}))}let N=ud(),R=ud(),C;function L($,W,Q){j($);const oe=R.list();return oe.length?oe.forEach(ee=>ee($,W,Q)):console.error($),Promise.reject($)}function I(){return C&&l.value!==Us?Promise.resolve():new Promise(($,W)=>{N.add([$,W])})}function j($){return C||(C=!$,A(),N.list().forEach(([W,Q])=>$?Q($):W()),N.reset()),$}function F($,W,Q,oe){const{scrollBehavior:ee}=e;if(!Ec||!ee)return Promise.resolve();const H=!Q&&IW(vE($.fullPath,0))||(oe||!Q)&&history.state&&history.state.scroll||null;return vn().then(()=>ee($,W,H)).then(G=>G&&LW(G)).catch(G=>L(G,$,W))}const z=$=>i.go($);let D;const B=new Set,U={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:n.clearRoutes,hasRoute:g,getRoutes:v,resolve:m,options:e,push:x,replace:_,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:R.add,isReady:I,install($){const W=this;$.component("RouterLink",oH),$.component("RouterView",cH),$.config.globalProperties.$router=W,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>V(l)}),Ec&&!D&&l.value===Us&&(D=!0,x(i.location).catch(ee=>{}));const Q={};for(const ee in Us)Object.defineProperty(Q,ee,{get:()=>l.value[ee],enumerable:!0});$.provide(Hm,W),$.provide(e_,_N(Q)),$.provide(Dx,l);const oe=$.unmount;B.add($),$.unmount=function(){B.delete($),B.size<1&&(u=Us,P&&P(),P=null,l.value=Us,D=!1,C=!1),oe()}}};function q($){return $.reduce((W,Q)=>W.then(()=>S(Q)),Promise.resolve())}return U}function dH(e,n){const t=[],r=[],i=[],a=Math.max(n.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=n.matched[o];s&&(e.matched.find(u=>of(u,s))?r.push(s):t.push(s));const l=e.matched[o];l&&(n.matched.find(u=>of(u,l))||i.push(l))}return[t,r,i]}function WL(){return Ra(Hm)}function hH(e){return Ra(e_)}const Ro=class Ro{constructor(){this.baseUrl="",this.apiUrl="admin/",this.socketUrl="",Ro.mode=="dev"?(this.baseUrl="http://localhost:9000/",this.socketUrl="ws://127.0.0.1:9001"):(this.baseUrl="https://php.webmis.vip/",this.socketUrl="wss://php.webmis.vip/wss"),this.apiUrl=this.baseUrl+this.apiUrl}request(){return{headers:{"Content-Type":"application/json;charset=utf-8"},responseType:"json",timeout:18e4}}socket(){return{start:Ro.isSocket,server:this.socketUrl,channel:"admin",time:3e3,heartbeat:1e4}}static tinymce(){return{key:"dm9pn8sfmiyaalv1r49hvf8ww9x8denshvuhp1tf7z51k6jj"}}static LangList(){return[{label:"English",value:"en_US"},{label:"简体中文",value:"zh_CN"}]}};Ro.mode="",Ro.isSocket=!0,Ro.title="WebMIS",Ro.version="3.0.0",Ro.lang="zh_CN",Ro.copy="©"+new Date().getFullYear()+" webmis.vip";let ro=Ro;function HL(e,n){return function(){return e.apply(n,arguments)}}const{toString:pH}=Object.prototype,{getPrototypeOf:t_}=Object,Um=(e=>n=>{const t=pH.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mo=e=>(e=e.toLowerCase(),n=>Um(n)===e),Vm=e=>n=>typeof n===e,{isArray:Vf}=Array,Th=Vm("undefined");function vH(e){return e!==null&&!Th(e)&&e.constructor!==null&&!Th(e.constructor)&&ia(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const UL=mo("ArrayBuffer");function gH(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&UL(e.buffer),n}const mH=Vm("string"),ia=Vm("function"),VL=Vm("number"),Xm=e=>e!==null&&typeof e=="object",yH=e=>e===!0||e===!1,D0=e=>{if(Um(e)!=="object")return!1;const n=t_(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bH=mo("Date"),xH=mo("File"),wH=mo("Blob"),_H=mo("FileList"),kH=e=>Xm(e)&&ia(e.pipe),OH=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||ia(e.append)&&((n=Um(e))==="formdata"||n==="object"&&ia(e.toString)&&e.toString()==="[object FormData]"))},SH=mo("URLSearchParams"),[EH,TH,MH,AH]=["ReadableStream","Request","Response","Headers"].map(mo),PH=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xp(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Vf(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(r=0;r<o;r++)s=a[r],n.call(null,e[s],s,e)}}function XL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qL=e=>!Th(e)&&e!==lu;function Fx(){const{caseless:e}=qL(this)&&this||{},n={},t=(r,i)=>{const a=e&&XL(n,i)||i;D0(n[a])&&D0(r)?n[a]=Fx(n[a],r):D0(r)?n[a]=Fx({},r):Vf(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xp(arguments[r],t);return n}const CH=(e,n,t,{allOwnKeys:r}={})=>(xp(n,(i,a)=>{t&&ia(i)?e[a]=HL(i,t):e[a]=i},{allOwnKeys:r}),e),RH=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NH=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},LH=(e,n,t,r)=>{let i,a,o;const s={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,n))&&!s[o]&&(n[o]=e[o],s[o]=!0);e=t!==!1&&t_(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},$H=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},IH=e=>{if(!e)return null;if(Vf(e))return e;let n=e.length;if(!VL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},DH=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&t_(Uint8Array)),FH=(e,n)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},BH=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},jH=mo("HTMLFormElement"),zH=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),PE=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),YH=mo("RegExp"),KL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};xp(t,(i,a)=>{let o;(o=n(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},GH=e=>{KL(e,(n,t)=>{if(ia(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(ia(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},WH=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Vf(e)?r(e):r(String(e).split(n)),t},HH=()=>{},UH=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function VH(e){return!!(e&&ia(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const XH=e=>{const n=new Array(10),t=(r,i)=>{if(Xm(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=Vf(r)?[]:{};return xp(r,(o,s)=>{const l=t(o,i+1);!Th(l)&&(a[s]=l)}),n[i]=void 0,a}}return r};return t(e,0)},qH=mo("AsyncFunction"),KH=e=>e&&(Xm(e)||ia(e))&&ia(e.then)&&ia(e.catch),ZL=((e,n)=>e?setImmediate:n?((t,r)=>(lu.addEventListener("message",({source:i,data:a})=>{i===lu&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),lu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ia(lu.postMessage)),ZH=typeof queueMicrotask<"u"?queueMicrotask.bind(lu):typeof process<"u"&&process.nextTick||ZL,me={isArray:Vf,isArrayBuffer:UL,isBuffer:vH,isFormData:OH,isArrayBufferView:gH,isString:mH,isNumber:VL,isBoolean:yH,isObject:Xm,isPlainObject:D0,isReadableStream:EH,isRequest:TH,isResponse:MH,isHeaders:AH,isUndefined:Th,isDate:bH,isFile:xH,isBlob:wH,isRegExp:YH,isFunction:ia,isStream:kH,isURLSearchParams:SH,isTypedArray:DH,isFileList:_H,forEach:xp,merge:Fx,extend:CH,trim:PH,stripBOM:RH,inherits:NH,toFlatObject:LH,kindOf:Um,kindOfTest:mo,endsWith:$H,toArray:IH,forEachEntry:FH,matchAll:BH,isHTMLForm:jH,hasOwnProperty:PE,hasOwnProp:PE,reduceDescriptors:KL,freezeMethods:GH,toObjectSet:WH,toCamelCase:zH,noop:HH,toFiniteNumber:UH,findKey:XL,global:lu,isContextDefined:qL,isSpecCompliantForm:VH,toJSONObject:XH,isAsyncFn:qH,isThenable:KH,setImmediate:ZL,asap:ZH};function _t(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const QL=_t.prototype,JL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{JL[e]={value:e}});Object.defineProperties(_t,JL);Object.defineProperty(QL,"isAxiosError",{value:!0});_t.from=(e,n,t,r,i,a)=>{const o=Object.create(QL);return me.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),_t.call(o,e.message,n,t,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const QH=null;function Bx(e){return me.isPlainObject(e)||me.isArray(e)}function e3(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function CE(e,n,t){return e?e.concat(n).map(function(i,a){return i=e3(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function JH(e){return me.isArray(e)&&!e.some(Bx)}const eU=me.toFlatObject(me,{},null,function(n){return/^is[A-Z]/.test(n)});function qm(e,n,t){if(!me.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!me.isUndefined(g[v])});const r=t.metaTokens,i=t.visitor||c,a=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(n);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(me.isDate(p))return p.toISOString();if(!l&&me.isBlob(p))throw new _t("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(p)||me.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,g){let m=p;if(p&&!g&&typeof p=="object"){if(me.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(me.isArray(p)&&JH(p)||(me.isFileList(p)||me.endsWith(v,"[]"))&&(m=me.toArray(p)))return v=e3(v),m.forEach(function(b,x){!(me.isUndefined(b)||b===null)&&n.append(o===!0?CE([v],x,a):o===null?v:v+"[]",u(b))}),!1}return Bx(p)?!0:(n.append(CE(g,v,a),u(p)),!1)}const f=[],d=Object.assign(eU,{defaultVisitor:c,convertValue:u,isVisitable:Bx});function h(p,v){if(!me.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),me.forEach(p,function(m,y){(!(me.isUndefined(m)||m===null)&&i.call(n,m,me.isString(y)?y.trim():y,v,d))===!0&&h(m,v?v.concat(y):[y])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return h(e),n}function RE(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function n_(e,n){this._pairs=[],e&&qm(e,this,n)}const t3=n_.prototype;t3.append=function(n,t){this._pairs.push([n,t])};t3.toString=function(n){const t=n?function(r){return n.call(this,r,RE)}:RE;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function tU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function n3(e,n,t){if(!n)return e;const r=t&&t.encode||tU;me.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=me.isURLSearchParams(n)?n.toString():new n_(n,t).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class NE{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){me.forEach(this.handlers,function(r){r!==null&&n(r)})}}const r3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nU=typeof URLSearchParams<"u"?URLSearchParams:n_,rU=typeof FormData<"u"?FormData:null,iU=typeof Blob<"u"?Blob:null,aU={isBrowser:!0,classes:{URLSearchParams:nU,FormData:rU,Blob:iU},protocols:["http","https","file","blob","url","data"]},r_=typeof window<"u"&&typeof document<"u",jx=typeof navigator=="object"&&navigator||void 0,oU=r_&&(!jx||["ReactNative","NativeScript","NS"].indexOf(jx.product)<0),sU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lU=r_&&window.location.href||"http://localhost",uU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r_,hasStandardBrowserEnv:oU,hasStandardBrowserWebWorkerEnv:sU,navigator:jx,origin:lU},Symbol.toStringTag,{value:"Module"})),li={...uU,...aU};function cU(e,n){return qm(e,new li.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return li.isNode&&me.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function fU(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function dU(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function i3(e){function n(t,r,i,a){let o=t[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=t.length;return o=!o&&me.isArray(i)?i.length:o,l?(me.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!me.isObject(i[o]))&&(i[o]=[]),n(t,r,i[o],a)&&me.isArray(i[o])&&(i[o]=dU(i[o])),!s)}if(me.isFormData(e)&&me.isFunction(e.entries)){const t={};return me.forEachEntry(e,(r,i)=>{n(fU(r),i,t,0)}),t}return null}function hU(e,n,t){if(me.isString(e))try{return(n||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const wp={transitional:r3,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=me.isObject(n);if(a&&me.isHTMLForm(n)&&(n=new FormData(n)),me.isFormData(n))return i?JSON.stringify(i3(n)):n;if(me.isArrayBuffer(n)||me.isBuffer(n)||me.isStream(n)||me.isFile(n)||me.isBlob(n)||me.isReadableStream(n))return n;if(me.isArrayBufferView(n))return n.buffer;if(me.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cU(n,this.formSerializer).toString();if((s=me.isFileList(n))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qm(s?{"files[]":n}:n,l&&new l,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),hU(n)):n}],transformResponse:[function(n){const t=this.transitional||wp.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(n)||me.isReadableStream(n))return n;if(n&&me.isString(n)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(s){if(o)throw s.name==="SyntaxError"?_t.from(s,_t.ERR_BAD_RESPONSE,this,null,this.response):s}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{wp.headers[e]={}});const pU=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vU=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||n[t]&&pU[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},LE=Symbol("internals");function cd(e){return e&&String(e).trim().toLowerCase()}function F0(e){return e===!1||e==null?e:me.isArray(e)?e.map(F0):String(e)}function gU(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const mU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function S1(e,n,t,r,i){if(me.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!me.isString(n)){if(me.isString(r))return n.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(n)}}function yU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function bU(e,n){const t=me.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,o){return this[r].call(this,n,i,a,o)},configurable:!0})})}let zi=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(s,l,u){const c=cd(l);if(!c)throw new Error("header name must be a non-empty string");const f=me.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=F0(s))}const o=(s,l)=>me.forEach(s,(u,c)=>a(u,c,l));if(me.isPlainObject(n)||n instanceof this.constructor)o(n,t);else if(me.isString(n)&&(n=n.trim())&&!mU(n))o(vU(n),t);else if(me.isHeaders(n))for(const[s,l]of n.entries())a(l,s,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=cd(n),n){const r=me.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return gU(i);if(me.isFunction(t))return t.call(this,i,r);if(me.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=cd(n),n){const r=me.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||S1(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(o){if(o=cd(o),o){const s=me.findKey(r,o);s&&(!t||S1(r,r[s],s,t))&&(delete r[s],i=!0)}}return me.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||S1(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return me.forEach(this,(i,a)=>{const o=me.findKey(r,a);if(o){t[o]=F0(i),delete t[a];return}const s=n?yU(a):String(a).trim();s!==a&&delete t[a],t[s]=F0(i),r[s]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&me.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[LE]=this[LE]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=cd(o);r[s]||(bU(i,o),r[s]=!0)}return me.isArray(n)?n.forEach(a):a(n),this}};zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(zi.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});me.freezeMethods(zi);function E1(e,n){const t=this||wp,r=n||t,i=zi.from(r.headers);let a=r.data;return me.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function a3(e){return!!(e&&e.__CANCEL__)}function Xf(e,n,t){_t.call(this,e??"canceled",_t.ERR_CANCELED,n,t),this.name="CanceledError"}me.inherits(Xf,_t,{__CANCEL__:!0});function o3(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new _t("Request failed with status code "+t.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function xU(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function wU(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,o;return n=n!==void 0?n:1e3,function(l){const u=Date.now(),c=r[a];o||(o=u),t[i]=l,r[i]=u;let f=a,d=0;for(;f!==i;)d+=t[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<n)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function _U(e,n){let t=0,r=1e3/n,i,a;const o=(u,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),f=c-t;f>=r?o(u,c):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const cg=(e,n,t=3)=>{let r=0;const i=wU(50,250);return _U(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,u=i(l),c=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[n?"download":"upload"]:!0};e(f)},t)},$E=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},IE=e=>(...n)=>me.asap(()=>e(...n)),kU=li.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,li.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(li.origin),li.navigator&&/(msie|trident)/i.test(li.navigator.userAgent)):()=>!0,OU=li.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const o=[e+"="+encodeURIComponent(n)];me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),me.isString(r)&&o.push("path="+r),me.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function EU(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function s3(e,n,t){let r=!SU(n);return e&&r||t==!1?EU(e,n):n}const DE=e=>e instanceof zi?{...e}:e;function Tu(e,n){n=n||{};const t={};function r(u,c,f,d){return me.isPlainObject(u)&&me.isPlainObject(c)?me.merge.call({caseless:d},u,c):me.isPlainObject(c)?me.merge({},c):me.isArray(c)?c.slice():c}function i(u,c,f,d){if(me.isUndefined(c)){if(!me.isUndefined(u))return r(void 0,u,f,d)}else return r(u,c,f,d)}function a(u,c){if(!me.isUndefined(c))return r(void 0,c)}function o(u,c){if(me.isUndefined(c)){if(!me.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,f){if(f in n)return r(u,c);if(f in e)return r(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c,f)=>i(DE(u),DE(c),f,!0)};return me.forEach(Object.keys(Object.assign({},e,n)),function(c){const f=l[c]||i,d=f(e[c],n[c],c);me.isUndefined(d)&&f!==s||(t[c]=d)}),t}const l3=e=>{const n=Tu({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=n;n.headers=o=zi.from(o),n.url=n3(s3(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(me.isFormData(t)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(li.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(n)),r||r!==!1&&kU(n.url))){const u=i&&a&&OU.read(a);u&&o.set(i,u)}return n},TU=typeof XMLHttpRequest<"u",MU=TU&&function(e){return new Promise(function(t,r){const i=l3(e);let a=i.data;const o=zi.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,h,p;function v(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function m(){if(!g)return;const b=zi.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};o3(function(k){t(k),v()},function(k){r(k),v()},_),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(r(new _t("Request aborted",_t.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new _t("Network Error",_t.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||r3;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new _t(x,_.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,g)),g=null},a===void 0&&o.setContentType(null),"setRequestHeader"in g&&me.forEach(o.toJSON(),function(x,_){g.setRequestHeader(_,x)}),me.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),s&&s!=="json"&&(g.responseType=i.responseType),u&&([d,p]=cg(u,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=cg(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=b=>{g&&(r(!b||b.type?new Xf(null,e,g):b),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=xU(i.url);if(y&&li.protocols.indexOf(y)===-1){r(new _t("Unsupported protocol "+y+":",_t.ERR_BAD_REQUEST,e));return}g.send(a||null)})},AU=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;r.abort(c instanceof _t?c:new Xf(c instanceof Error?c.message:c))}};let o=n&&setTimeout(()=>{o=null,a(new _t(`timeout ${n} of ms exceeded`,_t.ETIMEDOUT))},n);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>me.asap(s),l}},PU=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},CU=async function*(e,n){for await(const t of RU(e))yield*PU(t,n)},RU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},FE=(e,n,t,r)=>{const i=CU(e,n);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let f=c.byteLength;if(t){let d=a+=f;t(d)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Km=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u3=Km&&typeof ReadableStream=="function",NU=Km&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),c3=(e,...n)=>{try{return!!e(...n)}catch{return!1}},LU=u3&&c3(()=>{let e=!1;const n=new Request(li.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),BE=64*1024,zx=u3&&c3(()=>me.isReadableStream(new Response("").body)),fg={stream:zx&&(e=>e.body)};Km&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!fg[n]&&(fg[n]=me.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new _t(`Response type '${n}' is not supported`,_t.ERR_NOT_SUPPORT,r)})})})(new Response);const $U=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(li.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await NU(e)).byteLength},IU=async(e,n)=>{const t=me.toFiniteNumber(e.getContentLength());return t??$U(n)},DU=Km&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=l3(e);u=u?(u+"").toLowerCase():"text";let h=AU([i,a&&a.toAbortSignal()],o),p;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&LU&&t!=="get"&&t!=="head"&&(g=await IU(c,r))!==0){let _=new Request(n,{method:"POST",body:r,duplex:"half"}),w;if(me.isFormData(r)&&(w=_.headers.get("content-type"))&&c.setContentType(w),_.body){const[k,O]=$E(g,cg(IE(l)));r=FE(_.body,BE,k,O)}}me.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;p=new Request(n,{...d,signal:h,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:m?f:void 0});let y=await fetch(p);const b=zx&&(u==="stream"||u==="response");if(zx&&(s||b&&v)){const _={};["status","statusText","headers"].forEach(S=>{_[S]=y[S]});const w=me.toFiniteNumber(y.headers.get("content-length")),[k,O]=s&&$E(w,cg(IE(s),!0))||[];y=new Response(FE(y.body,BE,k,()=>{O&&O(),v&&v()}),_)}u=u||"text";let x=await fg[me.findKey(fg,u)||"text"](y,e);return!b&&v&&v(),await new Promise((_,w)=>{o3(_,w,{data:x,headers:zi.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:p})})}catch(m){throw v&&v(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,p),{cause:m.cause||m}):_t.from(m,m&&m.code,e,p)}}),Yx={http:QH,xhr:MU,fetch:DU};me.forEach(Yx,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const jE=e=>`- ${e}`,FU=e=>me.isFunction(e)||e===null||e===!1,f3={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let o;if(r=t,!FU(t)&&(r=Yx[(o=String(t)).toLowerCase()],r===void 0))throw new _t(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(jE).join(`
`):" "+jE(a[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Yx};function T1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xf(null,e)}function zE(e){return T1(e),e.headers=zi.from(e.headers),e.data=E1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),f3.getAdapter(e.adapter||wp.adapter)(e).then(function(r){return T1(e),r.data=E1.call(e,e.transformResponse,r),r.headers=zi.from(r.headers),r},function(r){return a3(r)||(T1(e),r&&r.response&&(r.response.data=E1.call(e,e.transformResponse,r.response),r.response.headers=zi.from(r.response.headers))),Promise.reject(r)})}const d3="1.8.3",Zm={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Zm[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const YE={};Zm.transitional=function(n,t,r){function i(a,o){return"[Axios v"+d3+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(n===!1)throw new _t(i(o," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!YE[o]&&(YE[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,o,s):!0}};Zm.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function BU(e,n,t){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=n[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new _t("option "+a+" must be "+l,_t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _t("Unknown option "+a,_t.ERR_BAD_OPTION)}}const B0={assertOptions:BU,validators:Zm},ko=B0.validators;let yu=class{constructor(n){this.defaults=n,this.interceptors={request:new NE,response:new NE}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=Tu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&B0.assertOptions(r,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),i!=null&&(me.isFunction(i)?t.paramsSerializer={serialize:i}:B0.assertOptions(i,{encode:ko.function,serialize:ko.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),B0.assertOptions(t,{baseUrl:ko.spelling("baseURL"),withXsrfToken:ko.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&me.merge(a.common,a[t.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),t.headers=zi.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f=0,d;if(!l){const p=[zE.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,u),d=p.length,c=Promise.resolve(t);f<d;)c=c.then(p[f++],p[f++]);return c}d=s.length;let h=t;for(f=0;f<d;){const p=s[f++],v=s[f++];try{h=p(h)}catch(g){v.call(this,g);break}}try{c=zE.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(n){n=Tu(this.defaults,n);const t=s3(n.baseURL,n.url,n.allowAbsoluteUrls);return n3(t,n.params,n.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(n){yu.prototype[n]=function(t,r){return this.request(Tu(r||{},{method:n,url:t,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(n){function t(r){return function(a,o,s){return this.request(Tu(s||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}yu.prototype[n]=t(),yu.prototype[n+"Form"]=t(!0)});let jU=class h3{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},n(function(a,o,s){r.reason||(r.reason=new Xf(a,o,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new h3(function(i){n=i}),cancel:n}}};function zU(e){return function(t){return e.apply(null,t)}}function YU(e){return me.isObject(e)&&e.isAxiosError===!0}const Gx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gx).forEach(([e,n])=>{Gx[n]=e});function p3(e){const n=new yu(e),t=HL(yu.prototype.request,n);return me.extend(t,yu.prototype,n,{allOwnKeys:!0}),me.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return p3(Tu(e,i))},t}const $n=p3(wp);$n.Axios=yu;$n.CanceledError=Xf;$n.CancelToken=jU;$n.isCancel=a3;$n.VERSION=d3;$n.toFormData=qm;$n.AxiosError=_t;$n.Cancel=$n.CanceledError;$n.all=function(n){return Promise.all(n)};$n.spread=zU;$n.isAxiosError=YU;$n.mergeConfig=Tu;$n.AxiosHeaders=zi;$n.formToJSON=e=>i3(me.isHTMLForm(e)?new FormData(e):e);$n.getAdapter=f3.getAdapter;$n.HttpStatusCode=Gx;$n.default=$n;const{Axios:lCe,AxiosError:uCe,CanceledError:cCe,isCancel:fCe,CancelToken:dCe,VERSION:hCe,all:pCe,Cancel:vCe,isAxiosError:gCe,spread:mCe,toFormData:yCe,AxiosHeaders:bCe,HttpStatusCode:xCe,formToJSON:wCe,getAdapter:_Ce,mergeConfig:kCe}=$n;var fr;let Zi=(fr=class{static Get(n,t={},r,i,a){n=fr.getUrl(n);const o=fr.getConfig(a);o.params=t,$n.get(n,o).then(r).catch(i)}static Post(n,t={},r,i,a){n=fr.getUrl(n);const o=fr.getConfig(a);return a&&a.onUploadProgress&&(o.onUploadProgress=a.onUploadProgress),$n.post(n,t,o).then(r).catch(i)}static Put(n,t={},r,i,a){n=fr.getUrl(n);const o=fr.getConfig(a);o.params=t;let s=new FormData;for(let l in t)s.append(l,t[l]);$n.put(n,s,o).then(r).catch(i)}static Patch(n,t={},r,i,a){n=fr.getUrl(n);const o=fr.getConfig(a);$n.patch(n,t,o).then(r).catch(i)}static Delete(n,t={},r,i,a){n=fr.getUrl(n);const o=fr.getConfig(a);o.params=t,$n.delete(n,o).then(r).catch(i)}static getConfig(n){return{headers:n&&n.headers?n.headers:fr.cfg.request().headers,responseType:n&&n.responseType?n.responseType:fr.cfg.request().responseType,timeout:fr.cfg.request().timeout}}static getUrl(n){return n.substring(0,4)=="http"?n=n:n.substring(0,1)=="/"?n=fr.cfg.baseUrl+n.substring(1):n=fr.cfg.apiUrl+n,n}},fr.cfg=new ro,fr);class On{static setItem(n,t){window.localStorage.setItem(n,t)}static getItem(n){return window.localStorage.getItem(n)}static removeItem(n){window.localStorage.removeItem(n)}static setSessionItem(n,t){window.sessionStorage.setItem(n,t)}static getSessionItem(n){return window.sessionStorage.getItem(n)}static removeSessionItem(n){window.sessionStorage.removeItem(n)}}class zt{static Toast(n="提示",t=5e3,r="primary"){let i=document.createElement("div");i.setAttribute("class","wm-ui_toast"),i.innerHTML='<span class="'+r+'">'+n+"</span>",document.body.appendChild(i),setTimeout(()=>{i.style.opacity="1",i.style.top="30%"},100),setTimeout(()=>{i.style.opacity="0",i.style.top="0%"},t),setTimeout(()=>{document.body.removeChild(i)},t+1e3)}static Loading(n=6e4,t=.2){let r=document.getElementsByClassName("wm-ui_load")[0];r&&document.body.removeChild(r);let i=document.createElement("div");i.setAttribute("class","wm-ui_load"),i.setAttribute("style",`background-color: rgba(0,0,0,${t})`),i.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(i);const a=setTimeout(()=>{r=document.getElementsByClassName("wm-ui_load")[0],r&&document.body.removeChild(r)},n);return{clear:()=>{setTimeout(()=>{try{document.body.removeChild(i)}catch{}clearTimeout(a)},300)}}}}class il{static Select(n,t=()=>{},r=()=>{}){let i={multiple:!1,mimeType:["image/jpeg","image/png","image/gif"],...n};const a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("style","display: none"),i.multiple&&a.setAttribute("multiple","multiple"),document.body.appendChild(a),a.click(),a.onchange=()=>{let o=[];for(let s=0;s<a.files.length;s++)i.mimeType.length>0&&!i.mimeType.includes(a.files[s].type)||o.push(a.files[s]);i.multiple?t(o):o.length>0?t(o[0]):r("只允许文件类型:"+i.mimeType.join(","))}}static FileToBase64(n,t=()=>{},r="base64"){let i=new FileReader;r=="base64"?i.readAsDataURL(n):r=="blob"?i.readAsBinaryString(n):r=="text"&&i.readAsText(n),i.onloadend=function(){return t(this.result)}}static Base64ToFile(n,t,r=()=>{},i=()=>{}){const a=n.split(","),o=a[0].match(/:(.*?);/)[1],s=atob(a[1]);let l=s.length;const u=new Uint8Array(l);for(;l--;)u[l]=s.charCodeAt(l);const c=new File([u],t,{type:o});return c?r(c):i("文件转换失败!")}static GetTypeExt(n){switch(n){case"image/jpeg":return"jpg";case"image/png":return"png";case"image/gif":return"gif";default:return""}}static ImageCompress(n,t,r=()=>{},i=()=>{}){let a={width:0,height:0,cut:!0,quality:.8,type:"image/jpeg",mimeType:["image/jpeg","image/png","image/gif"],...t};if(!a.mimeType.includes(a.type))return i("只允许图片类型:"+a.mimeType.join(","));let o=1,s=1,l=0,u=0,c=1,f=o/s;const d=document.createElement("canvas"),h=d.getContext("2d"),p=new Image;p.src=n,p.onload=function(){const v=this;f=v.width/v.height,a.width>0&&a.height==0?(o=a.width<v.width?a.width:v.width,s=a.width<v.width?Math.round(a.width/f):Math.round(v.width/f),a.width=o,a.height=s):a.width==0&&a.height>0?(o=a.height<v.height?Math.round(a.height*f):Math.round(v.height*f),s=a.height<v.height?a.height:v.height,a.width=o,a.height=s):a.width==0&&a.height==0?(o=v.width,s=v.height,a.width=o,a.height=s):(c=a.width/a.height,f>c?a.width<v.width?(o=a.cut?Math.round(a.height*f):a.width,s=a.cut?a.height:Math.round(a.width/f)):(o=a.cut?Math.round(v.height*f):v.width,s=a.cut?v.height:Math.round(v.width/f)):a.height<v.height?(o=a.cut?a.width:Math.round(a.height*f),s=a.cut?Math.round(a.width/f):a.height):(o=a.cut?v.width:Math.round(v.height*f),s=a.cut?Math.round(v.width/f):v.height)),a.cut&&v.width<=a.width&&v.height<=a.height?(d.width=v.width,d.height=v.height,l=0,u=0):(d.width=a.width,d.height=a.height,l=Math.round(a.width-o)/2,u=Math.round(a.height-s)/2),h.drawImage(this,l,u,o,s);let g=d.toDataURL(a.type,a.quality);return r(g)}}static Down(n,t="down.txt"){let r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}static DownBlob(n,t="down.txt"){const r=new Blob([n],{type:"application/octet-stream"}),i=window.URL.createObjectURL(r),a=document.createElement("a");a.style.display="none",a.href=i,a.setAttribute("download",t),typeof a.download>"u"&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(i)}static async ShareFile(n,t="down.txt",r="",i=""){var o;const a=await fetch(n).then(s=>s.blob()).then(s=>new File([s],t));return(o=navigator.canShare)!=null&&o.call(navigator,{files:[a]})?(navigator.share({files:[a],title:r,text:i}).catch(console.error),!0):!1}}const GU=Nt({__name:"index",props:{show:{type:Boolean,default:!1},position:{type:String,default:"center"},width:{type:String,default:""},height:{type:String,default:""},opacity:{type:Number,default:.4},bgColor:{type:String,default:""},radius:{type:String,default:""},bgClose:{type:Boolean,default:!0},time:{type:Number,default:400}},emits:["update:show","close"],setup(e,{emit:n}){const t=e,{proxy:r}=vo(),i=n;Rt(()=>t.show,f=>{l(t.show)},{deep:!0}),tn(()=>{a()});const a=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.opacity=0,t.position=="left"?(d.style.height="30%",d.style.left=0,d.style.opacity=0,d.style.transform="translate(-30%, 0)"):t.position=="right"?(d.style.height="100%",d.style.right=0,d.style.opacity=0,d.style.transform="translate(30%, 0)"):t.position=="top"?(d.style.width="100%",d.style.top=0,d.style.opacity=1,d.style.transform="translate(0, -30%)"):t.position=="bottom"?(d.style.width="100%",d.style.left=0,d.style.bottom=0,d.style.opacity=0,d.style.transform="translate(0, 30%)"):(d.style.left="50%",d.style.top="50%",d.style.opacity=0,d.style.transform="translate(-50%, -50%)")},o=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=t.time+"ms",d.style.transitionDuration=t.time+"ms",f.style.opacity=1,d.style.opacity=1,t.position=="left"?d.style.transform="translate(-1px, 0)":t.position=="right"?d.style.transform="translate(1px, 0)":t.position=="top"?d.style.transform="translate(0, -1px)":t.position=="bottom"?d.style.transform="translate(0, 1px)":d.style.top="50%",vn(()=>{i("update:show",!0)})},s=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=t.time+"ms",d.style.transitionDuration=t.time+"ms",f.style.opacity=0,d.style.opacity=0,t.position=="left"?d.style.transform="translate(-30%, 0)":t.position=="right"?d.style.transform="translate(30%, 0)":t.position=="top"?d.style.transform="translate(0, -30%)":t.position=="bottom"?d.style.transform="translate(0, 30%)":d.style.top="30%",vn(()=>{i("update:show",!1)})},l=f=>{f?o():s()},u=()=>{t.bgClose&&c()},c=()=>{l(!1),i("close",!1)};return(f,d)=>(J(),ie("div",{style:Be([{position:"relative",width:"100%",height:"100%"},{visibility:e.show?"inherit":"hidden"}])},[K("div",{ref:"PopupBG",class:"wm-popup_bg",style:Be({backgroundColor:"rgba(0,0,0,"+e.opacity+")"}),onClick:u},null,4),K("div",{ref:"PopupBody",class:"wm-popup_body",style:Be({width:e.width,height:e.height,backgroundColor:e.bgColor,borderRadius:e.radius})},[Fe(f.$slots,"default",{},void 0,!0)],4)],4))}}),Ui=(e,n)=>{const t=e.__vccOpts||e;for(const[r,i]of n)t[r]=i;return t},Mh=Ui(GU,[["__scopeId","data-v-5ce7689f"]]);let Ni=class{static Time(n=""){const r=(n?new Date(n):new Date).getTime();return Math.round(r/1e3)}static TimeMicro(n=""){return(n?new Date(n):new Date).getTime()}static Date(n="Y-m-d H:i:s",t=0){let r;typeof t=="number"?r=t>0?new Date(t*1e3):new Date:r=t;const i=""+r.getFullYear(),a=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=r.getHours()<10?"0"+r.getHours():""+r.getHours(),l=r.getMinutes()<10?"0"+r.getMinutes():""+r.getMinutes(),u=r.getSeconds()<10?"0"+r.getSeconds():""+r.getSeconds();let c=n;return c=c.replace("Y",i),c=c.replace("m",a),c=c.replace("d",o),c=c.replace("H",s),c=c.replace("i",l),c=c.replace("s",u),c}static StrToTime(n="",t=""){const r=n.split(" "),i=parseInt(r[0]);let a=new Date(n);switch(a=="Invalid Date"&&(a=t?new Date(t):new Date),r[1]){case"second":a.setSeconds(a.getSeconds()+i);break;case"minute":a.setMinutes(a.getMinutes()+i);break;case"hour":a.setHours(a.getHours()+i);break;case"day":a.setDate(a.getDate()+i);break;case"week":a.setDate(a.getDate()+i*7);break;case"month":a.setMonth(a.getMonth()+i);break;case"year":a.setFullYear(a.getFullYear()+i);break}let o=a.getTime();return o=Math.round(o/1e3),o>0?o:0}static Week(n){const t=new Date(n);return["日","一","二","三","四","五","六"][t.getDay()]}static FormatTime(n){let t=n;const r=new Date,i=""+r.getFullYear(),a=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=n.substr(0,4),l=n.substr(5,2),u=n.substr(8,2),c=n.substr(11,5),f=n.substr(5,11),d=parseInt(n.substr(11,2));if(s==i&&l==a&&u==o){let h="";d<6?h="凌晨":d<9?h="早上":d<12?h="上午":d<14?h="中午":d<17?h="下午":d<20&&(h="晚上"),t=h+" "+c}else s==i&&l==a&&u==""+(Number(o)-1)?t="昨天 "+c:s==i&&l==a&&(t=f);return t}static TimeSize(n,t){const r=new Date(n).getTime();let a=(t?new Date(t).getTime():new Date().getTime())-r;return a!=0?a/1e3:0}static FormatHourEncode(n){let t="00",r="00",i="00",a=0;return n>=3600&&(a=Math.floor(n/3600),t=a>=10?a.toString():"0"+a,n-=a*3600),n>=60&&(a=Math.floor(n/60),r=a>=10?a.toString():"0"+a,n-=a*60),a=n,i=a>=10?a.toString():"0"+a,t+":"+r+":"+i}static FormatHourDecode(n){let t=n.split(":");return parseInt(t[0])*3600+parseInt(t[1])*60+parseInt(t[2])}static daysInMonth(n,t){return new Date(n,t+1,0).getDate()}static daysLimit(n,t){let r=[];const i=n.split("-"),a=t.split("-");if(i.length!==3||a.length!==3)return r;const o=parseInt(i[0]),s=parseInt(i[1]),l=parseInt(i[2]),u=parseInt(a[0]),c=parseInt(a[1]),f=parseInt(a[2]);let d,h,p,v=[],g=[];for(let m=u;m>=o;m--){v=[];for(let y=1;y<=12;y++)if(!(m===o&&y<s)&&!(m===u&&y>c)){g=[],d=this.daysInMonth(m,y);for(let b=1;b<=d;b++)y===s&&b<l||y===c&&b>f||(h=b<10?"0"+b:b.toString(),g.push({label:h+"日",value:h}));h=y<10?"0"+y:y.toString(),p={label:h+"月",value:h},g.length&&(p.children=g),v.push(p)}h=m.toString(),p={label:h+"年",value:h},v.length&&(p.children=v),r.push(p)}return r}};function WU(){return{home:"Home",action:"Action",search:"Search",add:"Add",edit:"Edit",del:"Delete",remove:"Remove",clear:"Clear",export:"Export",copy:"Copy",mkdir:"New Folder",rename:"Rename",upload:"Upload",download:"Download",prev:"Prev",next:"Next",confirm:"Confirm",reset:"Reset",remark:"Remark",keyword:"Search keywords",select:"Please select",select_all:"Select All",select_not:"Not Select",placeholder:"Please enter",folder:"Folder",file:"File",title:"Title",name:"Name",info:"Information",content:"Content",size:"Size",page:"Page",null:"Null",not:"Not",logout:"Log out",status:"Status",enable:"Enable",disable:"Disable",ctime:"Create Time",utime:"Modify Time",date:"Date",network_err:"Network error",del_warn:e=>"Delete <b>"+e+"</b> pieces of data",export_warn:e=>"Export <b>"+e+"</b> pieces of data",page_total:(e,n,t)=>"Total "+e+", Page "+n+" of "+t,page_limit:"Limit",login_uname:"Uname / Phone / Email",login_passwd:"Please input a password",login_vcode:"Code",login_refresh:"Click to refresh",menus_placeholder:"Search menu",menus_recent:"Recently visited",menus_recommend:"Recommended tools",uinfo_title:"User Information",uinfo_img:"Change image",uinfo_type:"Type",uinfo_nickname:"Nickname",uinfo_nickname_placeholder:"User nickname",uinfo_department:"Department",uinfo_position:"Position",uinfo_name:"Name",uinfo_gender:"Gender",uinfo_gender_boy:"Boy",uinfo_gender_girl:"Girl",uinfo_birthday:"Birthday",uinfo_signature:"Signature",passwd_title:"Change Password",passwd_code_placeholder:"Verification code",passwd_code_get:"Send code",passwd_code_resend:"Resend code",passwd_code_time:e=>"Try again in "+e+" second",passwd_new:"New password",passwd_confirm:"Confirm password",passwd_verify_null:"Null account",passwd_verify_code:"Please enter the verification code",passwd_verify_passwd1:"Starting with an English letter, 6-16 characters",passwd_verify_passwd2:"Two passwords are inconsistent",msg_seach:"Search for contacts",msg_null:"No new message",sys_file_total:(e,n,t)=>"Folder: <b>"+(e||0)+"</b>&nbsp;&nbsp;File: <b>"+(n||0)+"</b>&nbsp;&nbsp;Size: <b>"+(t||0)+"</b>&nbsp;&nbsp;",sys_file_rootdir:"RootDir",sys_file_back:"Back Up",sys_file_select_file:"Select File",sys_file_verify_name:"Name 2-32 characters",sys_file_verify_name_exist:"The name already exists",sys_user_total:e=>"There are a total of <b>"+(e||0)+"</b> items",sys_user_image:"Image",sys_user_type:"Type",sys_user_role:"Role",sys_user_perm:"Permissions",sys_user_uname:"UserName",sys_user_passwd:"Password",sys_user_base:"Base Info",sys_user_nickname:"Nickname",sys_user_department:"Department",sys_user_position:"Position",sys_user_name:"Name",sys_user_gender:"Gender",sys_user_birthday:"Birthday",sys_user_uname_placeholder:"Uname \\ PhoneNumber \\ Email",sys_user_passwd_placeholder:"Default password",sys_user_verify_uname:"Please enter Uname, PhoneNumber, OR Email",sys_user_verify_passwd:"Password 6-16 characters",sys_role_total:e=>"There are a total of <b>"+(e||0)+"</b> items",sys_role_perm:"Permissions",sys_role_verify_name:"Role name 2-16 characters",sys_menus_total:e=>"There are a total of <b>"+(e||0)+"</b> items",sys_menus_lang:"Language",sys_menus_en_us:"English",sys_menus_zh_cn:"简体中文",sys_menus_fid:"Class",sys_menus_ico:"Icon",sys_menus_title:"Name",sys_menus_en:"Pinyin",sys_menus_url:"FrontUrl",sys_menus_controller:"ApiUrl",sys_menus_sort:"Sort",sys_menus_perm:"Permission value",sys_menus_sort_placeholder:"Sort, such as: 0, 1, 2",sys_menus_verify_title:"The title must be 2-32 characters long",web_html_total:e=>"There are a total of <b>"+(e||0)+"</b> items",web_html_type:"Type",web_html_title:"Title",web_html_name:"Name",web_html_verify_title:"The title must be 2-32 characters long",web_html_verify_name:"The name must be 2-16 characters long"}}function HU(){return{home:"首页",action:"操作",search:"搜索",add:"添加",edit:"编辑",del:"删除",remove:"移除",clear:"清空",export:"导出",copy:"复制",mkdir:"新建文件夹",rename:"重命名",upload:"上传",download:"下载",prev:"上一步",next:"下一步",confirm:"确认",reset:"重置",remark:"备注",placeholder:"请输入",select:"请选择",select_all:"全选",select_not:"全不选",keyword:"搜索关键字",folder:"文件夹",file:"文件",title:"标题",name:"名称",info:"基本信息",content:"内容",size:"大小",page:"页码",null:"空",not:"无",logout:"退出登录",status:"状态",enable:"正常",disable:"禁用",ctime:"创建时间",utime:"更新时间",date:"日期",network_err:"网络错误",del_warn:e=>"删除 <b>"+e+"</b> 条数据",export_warn:e=>"导出 <b>"+e+"</b> 条数据",page_total:(e,n,t)=>"共 <b>"+e+"</b> 条, 第 <b>"+n+"</b>/<b>"+t+"</b> 页",page_limit:"每页",login_uname:"用户名 / 手机号码 / 邮箱",login_passwd:"请输入密码",login_vcode:"验证码",login_refresh:"点击刷新",menus_placeholder:"搜索菜单",menus_recent:"最近访问",menus_recommend:"推荐功能",uinfo_title:"用户信息",uinfo_img:"更新头像",uinfo_type:"类型",uinfo_nickname:"昵称",uinfo_nickname_placeholder:"用户昵称",uinfo_department:"部门",uinfo_position:"职位",uinfo_name:"姓名",uinfo_gender:"性别",uinfo_gender_boy:"男",uinfo_gender_girl:"女",uinfo_birthday:"生日",uinfo_signature:"个性签名",passwd_title:"修改密码",passwd_code_placeholder:"输入验证码",passwd_code_get:"获取验证码",passwd_code_resend:"重新发送",passwd_code_time:e=>e+"秒后重试",passwd_new:"新密码",passwd_confirm:"确认密码",passwd_verify_null:"无效帐号",passwd_verify_code:"请输入验证码",passwd_verify_passwd1:"英文字母开头，6～16位字符",passwd_verify_passwd2:"两次密码不一致",msg_seach:"搜索联系人",msg_null:"暂无新消息",sys_file_total:(e,n,t)=>"文件夹: <b>"+(e||0)+"</b>&nbsp;&nbsp;文件: <b>"+(n||0)+"</b>&nbsp;&nbsp;大小: <b>"+(t||0)+"</b>&nbsp;&nbsp;",sys_file_rootdir:"根目录",sys_file_back:"返回上级",sys_file_select_file:"选择文件",sys_file_verify_name:"名称2～32字符",sys_file_verify_name_exist:"已存在",sys_user_total:e=>"统计: 共 <b>"+(e||0)+"</b> 条",sys_user_image:"头像",sys_user_type:"类型",sys_user_role:"角色",sys_user_perm:"权限",sys_user_uname:"用户名",sys_user_passwd:"密码",sys_user_base:"基本信息",sys_user_nickname:"昵称",sys_user_department:"部门",sys_user_position:"职位",sys_user_name:"姓名",sys_user_gender:"性别",sys_user_birthday:"生日",sys_user_uname_placeholder:"用户名 \\ 手机号码 \\ 邮箱",sys_user_passwd_placeholder:"默认密码",sys_user_verify_uname:"请输入用户名、手机号码、邮箱",sys_user_verify_passwd:"密码为英文字母开头6～16位",sys_role_total:e=>"统计: 共 <b>"+(e||0)+"</b> 条",sys_role_perm:"权限",sys_role_verify_name:"角色名称2～16字符",sys_menus_total:e=>"统计: 共 <b>"+(e||0)+"</b> 条",sys_menus_lang:"语言包",sys_menus_en_us:"English",sys_menus_zh_cn:"简体中文",sys_menus_fid:"所属",sys_menus_ico:"图标",sys_menus_title:"名称",sys_menus_en:"拼音",sys_menus_url:"前端地址",sys_menus_controller:"后端地址",sys_menus_sort:"排序",sys_menus_perm:"权限值",sys_menus_sort_placeholder:"排序, 如: 0, 1, 2",sys_menus_verify_title:"标题必须2～32字符",web_html_total:e=>"统计: 共 <b>"+(e||0)+"</b> 条",web_html_type:"类型",web_html_title:"标题",web_html_name:"名称",web_html_verify_title:"标题必须2～32字符",web_html_verify_name:"名称必须2～16字符"}}const UU={class:"wm-langs"},VU={class:"wm-langs_body"},XU={class:"wm-langs_list"},qU=["onClick"],KU={class:"wm-login_body"},ZU={class:"wm-login_ct"},QU={key:0,class:"uname"},JU={key:0,class:"wm-login_form"},eV=["placeholder"],tV={key:1,class:"wm-login_form"},nV={onsubmit:"return false"},rV=["placeholder"],iV={key:2,class:"wm-login_form"},aV=["src","alt"],oV=["placeholder"],sV={class:"wm-login_bottom"},lV={key:0},uV={key:1},cV=Nt({__name:"UserLogin",props:{show:{type:Boolean,default:!0}},setup(e,{expose:n}){const t=e,{proxy:r}=vo(),a=Ys().state,o=WL(),s=ro.copy,l=ge(2e4),u=ge(3e4),c=ge({}),f=ro.LangList(),d=ge(!1),h=ge(""),p=ge({is_passwd:!1,is_safety:!1,uname:"",local_uname:"",passwd:"",vcode:"",vcode_url:"",img:""}),v=["bg0","bg1","bg2","bg3","bg4","bg5","bg6","bg7","bg8","bg9"];let g=null,m=null;Rt(()=>a.isLogin,T=>{T?(d.value=!1,clearInterval(m),m=setInterval(()=>{S()},u.value)):(d.value=!0,clearInterval(m),E())},{deep:!0}),Rt(d,T=>{T?(_(),x(),clearInterval(g),g=setInterval(()=>{x()},l.value)):clearInterval(g)}),tn(()=>{let T=On.getItem("langs");if(T)c.value=JSON.parse(T);else for(let P of f)if(ro.lang==P.value){c.value=P;break}y(c.value),a.isLogin=t.show;const M=On.getItem("token");a.token=M||"",M?S(!0):a.isLogin=!1});const y=T=>{a.lang=T.value,T.value=="en_US"?a.langs=WU():T.value=="zh_CN"&&(a.langs=HU())},b=T=>{c.value=T,On.setItem("langs",JSON.stringify(T)),y(T),o.push({path:"/"}),location.reload()},x=()=>{const T=Math.floor(Math.random()*10);h.value=v[T]},_=()=>{const T=On.getItem("uname")||"",M=On.getItem("user_img")||"",P=On.getItem("uinfo")||"";T&&(p.value.uname=T,p.value.local_uname=T,p.value.img=M,p.value.is_passwd=!0,a.uinfo=P?JSON.parse(P):{})},w=()=>{p.value.uname="",p.value.passwd="",p.value.vcode="",p.value.is_passwd=!1,p.value.is_safety=!1,vn(()=>{r.$refs.loginUname.focus()})},k=()=>{let T=p.value.vcode_url.split("?");p.value.vcode_url=T[0]+"?"+Ni.Time(),vn(()=>{r.$refs.loginVcode.focus()})},O=()=>{const T=p.value.uname,M=p.value.passwd;if(T.length>3&&!p.value.is_passwd){p.value.is_passwd=!0,vn(()=>{r.$refs.loginPasswd.focus()});return}if(M.length<6)return zt.Toast(a.langs.login_passwd);if(p.value.vcode.length!=4&&p.value.is_safety){vn(()=>{r.$refs.loginVcode.focus()});return}const P=zt.Loading();Zi.Post("user/login?lang="+a.lang,{uname:T,passwd:M,vcode:p.value.vcode},A=>{P.clear();const{code:N,msg:R,data:C,vcode_url:L}=A.data;if(N==0)p.value.is_passwd=!0,p.value.is_safety=!1,p.value.passwd="",p.value.vcode="",p.value.img=C.uinfo.img,a.isLogin=!0,a.token=C.token,a.uinfo=C.uinfo,On.setItem("token",C.token),On.setItem("uname",C.uinfo.uname),On.setItem("uinfo",JSON.stringify(C.uinfo)),On.setItem("user_img",C.uinfo.img),setTimeout(()=>{location.reload()},1e3);else return p.value.vcode="",L&&N==4001?(p.value.is_safety=!0,p.value.vcode_url=L,vn(()=>{r.$refs.loginVcode.focus()})):L&&N==4002?k():(p.value.passwd="",p.value.vcode="",p.value.is_passwd=!0,p.value.is_safety=!1,vn(()=>{r.$refs.loginPasswd.focus()})),zt.Toast(R)},()=>{P&&P.clear(),zt.Toast(a.langs.network_err)})},S=(T=!1)=>{let M;T&&(M=zt.Loading()),Zi.Post("user/token?lang="+a.lang,{token:a.token,uinfo:T},P=>{M&&M.clear();const{code:A,msg:N,data:R}=P.data;A==0&&R.token_time>0?(a.isLogin=!0,!a.isPasswd&&a.lang&&(a.isPasswd=R.isPasswd),Object.keys(R.uinfo).length!=0&&(a.uinfo=R.uinfo,On.setItem("uname",R.uinfo.uname),On.setItem("uinfo",JSON.stringify(R.uinfo)),On.setItem("user_img",R.uinfo.img))):(zt.Toast(N),E())},()=>{M&&M.clear(),zt.Toast(a.langs.network_err)})},E=()=>{o.push({path:"/"}).then(()=>{a.isLogin=!1,a.token="",On.removeItem("token"),On.removeItem("uinfo"),On.removeItem("MenusTabs"),On.removeItem("MenusTmp"),setTimeout(()=>{r.$refs.loginUname?r.$refs.loginUname.focus():r.$refs.loginPasswd.focus()},3e3)})};return n({logout:E,verifyToken:S}),(T,M)=>(J(),ie("div",{class:"wm-login_popup",style:Be({visibility:d.value?"inherit":"hidden"})},[it(Mh,{show:d.value,"onUpdate:show":M[9]||(M[9]=P=>d.value=P),width:"100%",height:"100%",position:"top",time:600},{default:Je(()=>[K("div",UU,[K("div",null,Me(c.value.label),1),K("div",VU,[M[10]||(M[10]=K("span",{class:"arrow"},null,-1)),K("ul",XU,[(J(!0),ie(De,null,Mt(V(f),(P,A)=>(J(),ie("li",{key:A,class:Ue(P.value==c.value.value?"active":""),onClick:N=>b(P)},Me(P.label),11,qU))),128))])])]),K("div",{class:"wm-login_bg bg0",style:Be({visibility:h.value=="bg0"?"inherit":"hidden",opacity:h.value=="bg0"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg1",style:Be({visibility:h.value=="bg1"?"inherit":"hidden",opacity:h.value=="bg1"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg2",style:Be({visibility:h.value=="bg2"?"inherit":"hidden",opacity:h.value=="bg2"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg3",style:Be({visibility:h.value=="bg3"?"inherit":"hidden",opacity:h.value=="bg3"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg4",style:Be({visibility:h.value=="bg4"?"inherit":"hidden",opacity:h.value=="bg4"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg5",style:Be({visibility:h.value=="bg5"?"inherit":"hidden",opacity:h.value=="bg5"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg6",style:Be({visibility:h.value=="bg6"?"inherit":"hidden",opacity:h.value=="bg6"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg7",style:Be({visibility:h.value=="bg7"?"inherit":"hidden",opacity:h.value=="bg7"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg8",style:Be({visibility:h.value=="bg8"?"inherit":"hidden",opacity:h.value=="bg8"?"1":"0"})},null,4),K("div",{class:"wm-login_bg bg9",style:Be({visibility:h.value=="bg9"?"inherit":"hidden",opacity:h.value=="bg9"?"1":"0"})},null,4),M[14]||(M[14]=K("div",{class:"wm-login_mask"},null,-1)),K("div",KU,[K("div",ZU,[K("div",{class:"wm-login_logo",style:Be({backgroundImage:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"url("+p.value.img+")":"",backgroundSize:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"100%":"60%"})},[p.value.uname&&(p.value.is_passwd||p.value.is_safety)?(J(),ie("h2",QU,Me(p.value.uname),1)):he("",!0)],4),p.value.is_passwd?p.value.is_passwd&&!p.value.is_safety?(J(),ie("div",tV,[M[12]||(M[12]=K("i",{class:"ui ui_safety ico"},null,-1)),K("form",nV,[no(K("input",{ref:"loginPasswd",type:"password",class:"input","onUpdate:modelValue":M[2]||(M[2]=P=>p.value.passwd=P),onKeyup:M[3]||(M[3]=zc(P=>O(),["enter"])),maxlength:"32",placeholder:V(a).langs.login_passwd,autocomplete:"off"},null,40,rV),[[mu,p.value.passwd]])])])):p.value.is_safety?(J(),ie("div",iV,[M[13]||(M[13]=K("i",{class:"ui ui_safety ico"},null,-1)),K("img",{class:"vcode",src:p.value.vcode_url,alt:V(a).langs.login_refresh,onClick:M[4]||(M[4]=P=>k())},null,8,aV),no(K("input",{ref:"loginVcode",type:"text",class:"input","onUpdate:modelValue":M[5]||(M[5]=P=>p.value.vcode=P),onKeyup:M[6]||(M[6]=zc(P=>O(),["enter"])),maxlength:"4",placeholder:V(a).langs.login_vcode},null,40,oV),[[mu,p.value.vcode]])])):he("",!0):(J(),ie("div",JU,[M[11]||(M[11]=K("i",{class:"ui ui_user ico"},null,-1)),no(K("input",{ref:"loginUname",type:"text",class:"input","onUpdate:modelValue":M[0]||(M[0]=P=>p.value.uname=P),onKeyup:M[1]||(M[1]=zc(P=>O(),["enter"])),maxlength:"32",placeholder:V(a).langs.login_uname},null,40,eV),[[mu,p.value.uname]])])),K("div",sV,[p.value.uname?(J(),ie("span",lV,[K("i",{class:"ui ui_arrow_left",onClick:M[7]||(M[7]=P=>w())}),K("i",{class:"ui ui_arrow_right",onClick:M[8]||(M[8]=P=>O())})])):(J(),ie("span",uV,Me(V(s)),1))])])])]),_:1},8,["show"])],4))}}),fV=Ui(cV,[["__scopeId","data-v-589a5acd"]]),dV=Nt({__name:"Socket",setup(e){const t=Ys().state;let r=new ro().socket(),i=null,a=null;tn(()=>{ro.isSocket&&l()});const o=f=>{f.type=="msg"&&s(f),f.type=="online"&&console.log("online",f)},s=f=>{if(f.code!=0)return zt.Toast(f.msg);let d=!1;for(let m of t.msg.list)if(m.loading===f.loading){m.id=f.id,m.loading=0,m.content=f.content,t.msg.readId=-1,d=!0;break}const h=f.id||0,p=f.gid,v=f.fid==t.uinfo.uid?f.uid:f.fid,g={gid:p,fid:v,num:1,time:f.time,format:f.format,title:f.title,img:f.img,content:f.content};for(let m in t.msg.group)if(t.msg.group[m].gid===p&&t.msg.group[m].fid===v){g.title=t.msg.group[m].title,g.img=t.msg.group[m].img,p===t.msg.gid&&v===t.msg.fid?(g.num=0,f.loading=0,d||t.msg.list.push(f),h&&(t.msg.readId=h)):(g.num=t.msg.group[m].num+1,t.msg.num+=1),t.msg.group.splice(m,1);break}t.msg.group.unshift(g)},l=()=>{clearInterval(i),i=setInterval(()=>{t.isLogin&&(!t.socket||t.socket.readyState!=1)&&u()},r.time)},u=()=>{const f=r.server+"?lang="+t.lang+"&channel="+r.channel+"&token="+t.token;t.socket=new WebSocket(f),t.socket.onopen=()=>{clearInterval(a),a=setInterval(()=>{try{t.socket.send(JSON.stringify({type:""}))}catch{c()}},r.heartbeat)},t.socket.onmessage=d=>{const h=JSON.parse(d.data);o(h)},t.socket.onclose=()=>{c()}},c=()=>{t.socket&&(t.socket.close(),t.socket=null)};return(f,d)=>null}}),hV=Nt({__name:"main",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},lineHeight:{type:String,default:""},paddingX:{type:String,default:"16px"},paddingY:{type:String,default:"16px"},bgColor:{type:String,default:"transparent"},overflowX:{type:String,default:""},overflowY:{type:String,default:""},textAlign:{type:String,default:"left"}},setup(e){return(n,t)=>(J(),ie("div",{class:"wm-main_body",style:Be({width:"calc("+e.width+" - "+e.paddingX+" * 2)",height:"calc("+e.height+" - "+e.paddingY+" * 2)",lineHeight:e.lineHeight,backgroundColor:e.bgColor})},[K("div",{class:"wm-main_ct scrollbar",style:Be({width:e.width,height:e.height,padding:e.paddingY+" "+e.paddingX,overflowX:e.overflowX,overflowY:e.overflowY,textAlign:e.textAlign})},[Fe(n.$slots,"default",{},void 0,!0)],4)],4))}}),v3=Ui(hV,[["__scopeId","data-v-7573a2cf"]]),pV={class:"wm-dialog_title"},vV=Nt({__name:"index",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"360px"},maxWidth:{type:String,default:"1920px"},height:{type:String,default:"auto"},overflow:{type:String,default:"inherit"},borderRadius:{type:String,default:"4px"},top:{type:String,default:"0px"},bottom:{type:String,default:""},bgClose:{type:Boolean,default:!0}},emits:["update:show","close"],setup(e,{emit:n}){const t=e,r=n,i=ge({show:!1,width:0,height:0});Rt(()=>t.show,s=>{i.value.show=s,s&&(i.value.width=window.innerWidth,i.value.height=window.innerHeight,document.addEventListener("keydown",a))},{deep:!0});const a=s=>{switch(s.keyCode||s.which){case 27:o(!0);break}},o=s=>{s&&r("update:show",!1),r("close",!1),document.removeEventListener("keydown",a)};return(s,l)=>(J(),ie("div",{class:"wm-dialog_body",style:Be({visibility:i.value.show?"inherit":"hidden"})},[it(Mh,{ref:"Popup",show:i.value.show,"onUpdate:show":l[2]||(l[2]=u=>i.value.show=u),width:"100%",height:"100%",position:"top",time:600},{default:Je(()=>[K("div",{class:"wm-dialog_bg",onClick:l[0]||(l[0]=u=>e.bgClose?o(!0):"")}),K("div",{class:"wm-dialog",style:Be({width:e.width,maxWidth:e.maxWidth,height:e.height,borderRadius:e.borderRadius})},[K("div",pV,[K("span",null,Me(e.title),1),K("div",{class:"wm-dialog_close",onClick:l[1]||(l[1]=u=>o(!!e.bgClose))})]),e.top?(J(),ie("div",{key:0,class:"wm-dialog_top",style:Be({height:e.top+"",lineHeight:e.top+""})},[Fe(s.$slots,"top",{},void 0,!0)],4)):he("",!0),K("div",{class:"wm-dialog_content scrollbar",style:Be({overflow:e.overflow,maxHeight:"calc("+i.value.height+"px - 46px - 40px - "+e.top+" - "+e.bottom+")"})},[Fe(s.$slots,"default",{},void 0,!0)],4),e.bottom?(J(),ie("div",{key:1,class:"wm-dialog_bottom flex_center",style:Be({height:e.bottom+"",lineHeight:e.bottom+""})},[Fe(s.$slots,"bottom",{},void 0,!0)],4)):he("",!0)],4)]),_:3},8,["show"])],4))}}),g3=Ui(vV,[["__scopeId","data-v-1fe03059"]]),gV=["innerHTML"],mV=["value","placeholder","maxlength","disabled","readonly","enterkeyhint"],yV=["value","type","placeholder","maxlength","disabled","readonly","enterkeyhint"],bV=Nt({__name:"index",props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},width:{type:String,default:"100%"},height:{type:String,default:"40px"},lineHeight:{type:String,default:"40px"},placeholder:{type:String,default:""},maxlength:{type:String,default:""},padding:{type:String,default:"0 10px"},margin:{type:String,default:"0"},radius:{type:String,default:"4px"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputAlign:{type:String,default:""},icon:{type:String,default:""},iconSize:{type:String,default:"20px"},iconAlign:{type:String,default:"left"},iconColor:{type:String,default:""},iconBgcolor:{type:String,default:""},iconRadius:{type:String,default:"4px 0 0 4px"},text:{type:String,default:""},textPadding:{type:String,default:"0 10px"},textAlign:{type:String,default:"right"},textColor:{type:String,default:""},textBgcolor:{type:String,default:""},textRadius:{type:String,default:"0 4px 4px 0"},textLen:{type:Boolean,default:!1},enterkeyhint:{type:String,default:"enter"}},emits:["update:value","update:focus","update:blur","iconClick","textClick","clear","close"],setup(e,{expose:n,emit:t}){const r=e,{proxy:i}=vo(),a=t,s=Ys().state,l=ge(0);Rt(()=>r.value,g=>{l.value=g.length},{deep:!0});const u=g=>{a("update:value",g.target.value)},c=g=>{a("update:focus",g.target.value)},f=g=>{a("update:blur",g.target.value)},d=()=>{a("iconClick")},h=()=>{a("textClick")},p=()=>{a("clear"),a("update:value",""),r.type=="textarea"?i.$refs.wmTextarea.focus():i.$refs.wmInput.focus()};return n({focus:()=>{vn(()=>{r.type=="textarea"?i.$refs.wmTextarea.focus():i.$refs.wmInput.focus()})}}),(g,m)=>(J(),ie("div",{class:"wm-input_body",style:Be({width:e.width,height:e.height,margin:e.margin})},[e.value&&e.clearable?(J(),ie("div",{key:0,class:"wm-input_clear_body",style:Be({width:e.lineHeight,height:e.lineHeight}),onClick:m[0]||(m[0]=ra(y=>p(),["stop"]))},[K("div",{class:"wm-input_clear",style:Be({width:"calc("+e.lineHeight+" / 2)",height:"calc("+e.lineHeight+" / 2)"})},null,4)],4)):he("",!0),e.icon?(J(),ie("i",{key:1,class:Ue(["wm-input_text",e.icon]),style:Be({width:e.lineHeight,lineHeight:e.lineHeight,fontSize:e.iconSize,left:e.iconAlign=="left"?"0":"",right:e.iconAlign=="right"?"0":"",color:e.iconColor,backgroundColor:e.iconBgcolor,borderRadius:e.iconRadius}),onClick:m[1]||(m[1]=y=>d())},null,6)):he("",!0),e.text?(J(),ie("div",{key:2,class:"wm-input_text",innerHTML:e.text,style:Be({padding:e.textPadding,lineHeight:e.lineHeight,left:e.textAlign=="left"?"0":"",right:e.textAlign=="right"?"0":"",color:e.textColor,backgroundColor:e.textBgcolor,borderRadius:e.textRadius}),onClick:m[2]||(m[2]=y=>h())},null,12,gV)):he("",!0),e.textLen?(J(),ie("div",{key:3,class:"wm-input_total",style:Be({lineHeight:e.lineHeight})},Me(l.value)+"/"+Me(e.maxlength||"无限制"),5)):he("",!0),e.type=="textarea"?(J(),ie("textarea",{key:4,ref:"wmTextarea",class:"wm-input",value:e.value,placeholder:e.placeholder||V(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:Be({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius}),onInput:u,onFocus:c,onBlur:f},null,44,mV)):(J(),ie("input",{key:5,ref:"wmInput",class:"wm-input",autocomplete:"off",value:e.value,type:e.type,placeholder:e.placeholder||V(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:Be({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius,textAlign:e.inputAlign}),onInput:u,onFocus:c,onBlur:f},null,44,yV))],4))}}),sl=Ui(bV,[["__scopeId","data-v-512c16c8"]]),xV=["disabled"],wV=Nt({__name:"index",props:{effect:{type:String,default:"plain"},type:{type:String,default:"default"},width:{type:String,default:"max-content"},height:{type:String,default:"32px"},padding:{type:String,default:"0 16px"},margin:{type:String,default:"0 4px"},radius:{type:String,default:"4px"},fontSize:{type:String,default:"14px"},icon:{type:String,default:""},iconSize:{type:String,default:"14px"},disabled:{type:Boolean,default:!1}},setup(e){return(n,t)=>(J(),ie("button",{class:Ue(["wm-button flex_center",e.effect+"_"+e.type]),style:Be({width:e.width,height:e.height,lineHeight:e.height,padding:e.padding,margin:e.margin,borderRadius:e.radius,fontSize:e.fontSize}),disabled:e.disabled},[e.icon?(J(),ie("i",{key:0,class:Ue(e.icon),style:Be({fontSize:e.iconSize,lineHeight:"calc("+e.height+" - 2px)"})},null,6)):he("",!0),K("span",null,[Fe(n.$slots,"default",{},void 0,!0)])],14,xV))}}),ih=Ui(wV,[["__scopeId","data-v-a51a3cdb"]]),m3=Nt({__name:"form",props:{width:{type:String,default:"100%"},height:{type:String,default:"auto"}},setup(e){return(n,t)=>(J(),ie("table",{class:"wm-table_form",style:Be({width:e.width,height:e.height})},[Fe(n.$slots,"default")],4))}}),_V={class:"wm-radio"},kV={key:0,class:"wm-radio_label"},OV=["onClick"],SV={key:0,class:"wm-radio_label"},EV=Nt({__name:"index",props:{value:{default:""},options:{type:Array,default:[]},margin:{type:String,default:"4px 4px"},padding:{type:String,default:"4px"}},emits:["update:value","update:options"],setup(e,{emit:n}){const t=e,r=n,i=ge([]);Rt(()=>t.options,o=>{i.value=o},{deep:!0}),tn(()=>{i.value=t.options});const a=o=>{for(let s in i.value)i.value[o].checked=o.toString()==s;r("update:value",i.value[o].value),r("update:options",i)};return(o,s)=>(J(),ie("ul",_V,[(J(!0),ie(De,null,Mt(i.value,(l,u)=>(J(),ie(De,{key:u},[l.disabled?(J(),ie("li",{key:0,class:"flex disabled",style:Be({margin:e.margin,padding:e.padding})},[s[0]||(s[0]=K("span",{class:"wm-radio_checked"},null,-1)),l.label?(J(),ie("span",kV,Me(l.label),1)):Fe(o.$slots,"default",{key:1},void 0,!0)],4)):(J(),ie("li",{key:1,class:"enabled",onClick:ra(c=>a(u),["stop"]),style:Be({margin:e.margin,padding:e.padding})},[K("span",{class:Ue(["wm-radio_checked",l.value==e.value?"active":""])},null,2),l.label?(J(),ie("span",SV,Me(l.label),1)):Fe(o.$slots,"default",{key:1},void 0,!0)],12,OV))],64))),128))]))}}),TV=Ui(EV,[["__scopeId","data-v-c4f5b000"]]),y3=6048e5,MV=864e5,AV=6e4,b3=36e5,PV=1e3,GE=Symbol.for("constructDateFrom");function cn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&GE in e?e[GE](n):e instanceof Date?new e.constructor(n):new Date(n)}function ct(e,n){return cn(n||e,e)}function Ea(e,n,t){const r=ct(e,t==null?void 0:t.in);return isNaN(n)?cn((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function io(e,n,t){const r=ct(e,t==null?void 0:t.in);if(isNaN(n))return cn(e,NaN);if(!n)return r;const i=r.getDate(),a=cn(e,r.getTime());a.setMonth(r.getMonth()+n+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function x3(e,n,t){const{years:r=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=n,c=ct(e,t==null?void 0:t.in),f=i||r?io(c,i+r*12):c,d=o||a?Ea(f,o+a*7):f,h=l+s*60,v=(u+h*60)*1e3;return cn(e,+d+v)}function CV(e,n,t){return cn(e,+ct(e)+n)}function RV(e,n,t){return CV(e,n*b3)}let NV={};function Ku(){return NV}function co(e,n){var s,l,u,c;const t=Ku(),r=(n==null?void 0:n.weekStartsOn)??((l=(s=n==null?void 0:n.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ct(e,n==null?void 0:n.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function lf(e,n){return co(e,{...n,weekStartsOn:1})}function w3(e,n){const t=ct(e,n==null?void 0:n.in),r=t.getFullYear(),i=cn(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=lf(i),o=cn(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=lf(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function dg(e){const n=ct(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function _p(e,...n){const t=cn.bind(null,n.find(r=>typeof r=="object"));return n.map(t)}function WE(e,n){const t=ct(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function _3(e,n,t){const[r,i]=_p(t==null?void 0:t.in,e,n),a=WE(r),o=WE(i),s=+a-dg(a),l=+o-dg(o);return Math.round((s-l)/MV)}function LV(e,n){const t=w3(e,n),r=cn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lf(r)}function $V(e,n,t){return io(e,n*3,t)}function i_(e,n,t){return io(e,n*12,t)}function HE(e,n){const t=+ct(e)-+ct(n);return t<0?-1:t>0?1:t}function k3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ah(e){return!(!k3(e)&&typeof e!="number"||isNaN(+ct(e)))}function UE(e,n){const t=ct(e,n==null?void 0:n.in);return Math.trunc(t.getMonth()/3)+1}function IV(e,n,t){const[r,i]=_p(t==null?void 0:t.in,e,n);return r.getFullYear()-i.getFullYear()}function DV(e,n,t){const[r,i]=_p(t==null?void 0:t.in,e,n),a=HE(r,i),o=Math.abs(IV(r,i));r.setFullYear(1584),i.setFullYear(1584);const s=HE(r,i)===-a,l=a*(o-+s);return l===0?0:l}function O3(e,n){const[t,r]=_p(e,n.start,n.end);return{start:t,end:r}}function S3(e,n){const{start:t,end:r}=O3(n==null?void 0:n.in,e);let i=+t>+r;const a=i?+t:+r,o=i?r:t;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(cn(t,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function uu(e,n){const t=ct(e,n==null?void 0:n.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function FV(e,n){const{start:t,end:r}=O3(n==null?void 0:n.in,e);let i=+t>+r;const a=i?+uu(t):+uu(r);let o=uu(i?r:t),s=1;const l=[];for(;+o<=a;)l.push(cn(t,o)),o=$V(o,s);return i?l.reverse():l}function BV(e,n){const t=ct(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function E3(e,n){const t=ct(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Ah(e,n){const t=ct(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function T3(e,n){var s,l,u,c;const t=Ku(),r=(n==null?void 0:n.weekStartsOn)??((l=(s=n==null?void 0:n.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ct(e,n==null?void 0:n.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function VE(e,n){const t=ct(e,n==null?void 0:n.in),r=t.getMonth(),i=r-r%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}const jV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zV=(e,n,t)=>{let r;const i=jV[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function M1(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const YV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HV={date:M1({formats:YV,defaultWidth:"full"}),time:M1({formats:GV,defaultWidth:"full"}),dateTime:M1({formats:WV,defaultWidth:"full"})},UV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VV=(e,n,t,r)=>UV[e];function fd(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=t!=null&&t.width?String(t.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const XV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eX=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},tX={ordinalNumber:eX,era:fd({values:XV,defaultWidth:"wide"}),quarter:fd({values:qV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fd({values:KV,defaultWidth:"wide"}),day:fd({values:ZV,defaultWidth:"wide"}),dayPeriod:fd({values:QV,defaultWidth:"wide",formattingValues:JV,defaultFormattingWidth:"wide"})};function dd(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?rX(s,f=>f.test(o)):nX(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const c=n.slice(o.length);return{value:u,rest:c}}}function nX(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function rX(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function iX(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;const s=n.slice(i.length);return{value:o,rest:s}}}const aX=/^(\d+)(th|st|nd|rd)?/i,oX=/\d+/i,sX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lX={any:[/^b/i,/^(a|c)/i]},uX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cX={any:[/1/i,/2/i,/3/i,/4/i]},fX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mX={ordinalNumber:iX({matchPattern:aX,parsePattern:oX,valueCallback:e=>parseInt(e,10)}),era:dd({matchPatterns:sX,defaultMatchWidth:"wide",parsePatterns:lX,defaultParseWidth:"any"}),quarter:dd({matchPatterns:uX,defaultMatchWidth:"wide",parsePatterns:cX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dd({matchPatterns:fX,defaultMatchWidth:"wide",parsePatterns:dX,defaultParseWidth:"any"}),day:dd({matchPatterns:hX,defaultMatchWidth:"wide",parsePatterns:pX,defaultParseWidth:"any"}),dayPeriod:dd({matchPatterns:vX,defaultMatchWidth:"any",parsePatterns:gX,defaultParseWidth:"any"})},M3={code:"en-US",formatDistance:zV,formatLong:HV,formatRelative:VV,localize:tX,match:mX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yX(e,n){const t=ct(e,n==null?void 0:n.in);return _3(t,Ah(t))+1}function a_(e,n){const t=ct(e,n==null?void 0:n.in),r=+lf(t)-+LV(t);return Math.round(r/y3)+1}function o_(e,n){var c,f,d,h;const t=ct(e,n==null?void 0:n.in),r=t.getFullYear(),i=Ku(),a=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=cn((n==null?void 0:n.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=co(o,n),l=cn((n==null?void 0:n.in)||e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=co(l,n);return+t>=+s?r+1:+t>=+u?r:r-1}function bX(e,n){var s,l,u,c;const t=Ku(),r=(n==null?void 0:n.firstWeekContainsDate)??((l=(s=n==null?void 0:n.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=o_(e,n),a=cn((n==null?void 0:n.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),co(a,n)}function s_(e,n){const t=ct(e,n==null?void 0:n.in),r=+co(t,n)-+bX(t,n);return Math.round(r/y3)+1}function an(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Vs={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return an(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):an(t+1,2)},d(e,n){return an(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return an(e.getHours()%12||12,n.length)},H(e,n){return an(e.getHours(),n.length)},m(e,n){return an(e.getMinutes(),n.length)},s(e,n){return an(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return an(i,n.length)}},fc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XE={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Vs.y(e,n)},Y:function(e,n,t,r){const i=o_(e,r),a=i>0?i:1-i;if(n==="YY"){const o=a%100;return an(o,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):an(a,n.length)},R:function(e,n){const t=w3(e);return an(t,n.length)},u:function(e,n){const t=e.getFullYear();return an(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return an(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return an(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Vs.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return an(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=s_(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):an(i,n.length)},I:function(e,n,t){const r=a_(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):an(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Vs.d(e,n)},D:function(e,n,t){const r=yX(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):an(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return an(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return an(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return an(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=fc.noon:r===0?i=fc.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=fc.evening:r>=12?i=fc.afternoon:r>=4?i=fc.morning:i=fc.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Vs.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Vs.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):an(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):an(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vs.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Vs.s(e,n)},S:function(e,n){return Vs.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return KE(r);case"XXXX":case"XX":return au(r);case"XXXXX":case"XXX":default:return au(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return KE(r);case"xxxx":case"xx":return au(r);case"xxxxx":case"xxx":default:return au(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+qE(r,":");case"OOOO":default:return"GMT"+au(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+qE(r,":");case"zzzz":default:return"GMT"+au(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return an(r,n.length)},T:function(e,n,t){return an(+e,n.length)}};function qE(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+an(a,2)}function KE(e,n){return e%60===0?(e>0?"-":"+")+an(Math.abs(e)/60,2):au(e,n)}function au(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=an(Math.trunc(r/60),2),a=an(r%60,2);return t+i+n+a}const ZE=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},A3=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xX=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return ZE(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",ZE(r,n)).replace("{{time}}",A3(i,n))},Wx={p:A3,P:xX},wX=/^D+$/,_X=/^Y+$/,kX=["D","DD","YY","YYYY"];function P3(e){return wX.test(e)}function C3(e){return _X.test(e)}function Hx(e,n,t){const r=OX(e,n,t);if(console.warn(r),kX.includes(e))throw new RangeError(r)}function OX(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TX=/^'([^]*?)'?$/,MX=/''/g,AX=/[a-zA-Z]/;function Ho(e,n,t){var c,f,d,h,p,v,g,m;const r=Ku(),i=(t==null?void 0:t.locale)??r.locale??M3,a=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,s=ct(e,t==null?void 0:t.in);if(!ah(s))throw new RangeError("Invalid time value");let l=n.match(EX).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=Wx[b];return x(y,i.formatLong)}return y}).join("").match(SX).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:PX(y)};if(XE[b])return{isToken:!0,value:y};if(b.match(AX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&C3(b)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&P3(b))&&Hx(b,n,String(e));const x=XE[b[0]];return x(s,b,i.localize,u)}).join("")}function PX(e){const n=e.match(TX);return n?n[1].replace(MX,"'"):e}function CX(e,n){return ct(e,n==null?void 0:n.in).getDay()}function RX(e,n){const t=ct(e,n==null?void 0:n.in),r=t.getFullYear(),i=t.getMonth(),a=cn(t,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function NX(){return Object.assign({},Ku())}function Ns(e,n){return ct(e,n==null?void 0:n.in).getHours()}function LX(e,n){const t=ct(e,n==null?void 0:n.in).getDay();return t===0?7:t}function bl(e,n){return ct(e,n==null?void 0:n.in).getMinutes()}function Lt(e,n){return ct(e,n==null?void 0:n.in).getMonth()}function uf(e){return ct(e).getSeconds()}function mt(e,n){return ct(e,n==null?void 0:n.in).getFullYear()}function Mu(e,n){return+ct(e)>+ct(n)}function cf(e,n){return+ct(e)<+ct(n)}function Pc(e,n){return+ct(e)==+ct(n)}function $X(e,n){const t=IX(n)?new n(0):cn(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function IX(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const DX=10;class R3{constructor(){He(this,"subPriority",0)}validate(n,t){return!0}}class FX extends R3{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class BX extends R3{constructor(t,r){super();He(this,"priority",DX);He(this,"subPriority",-1);this.context=t||(i=>cn(r,i))}set(t,r){return r.timestampIsSet?t:cn(t,$X(t,this.context))}}class qt{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new FX(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}}class jX extends qt{constructor(){super(...arguments);He(this,"priority",140);He(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const pr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$o={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vr(e,n){return e&&{value:n(e.value),rest:e.rest}}function er(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Io(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*b3+a*AV+o*PV),rest:n.slice(t[0].length)}}function N3(e){return er(pr.anyDigitsSigned,e)}function ir(e,n){switch(e){case 1:return er(pr.singleDigit,n);case 2:return er(pr.twoDigits,n);case 3:return er(pr.threeDigits,n);case 4:return er(pr.fourDigits,n);default:return er(new RegExp("^\\d{1,"+e+"}"),n)}}function hg(e,n){switch(e){case 1:return er(pr.singleDigitSigned,n);case 2:return er(pr.twoDigitsSigned,n);case 3:return er(pr.threeDigitsSigned,n);case 4:return er(pr.fourDigitsSigned,n);default:return er(new RegExp("^-?\\d{1,"+e+"}"),n)}}function l_(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function L3(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,o=Math.trunc(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return t?i:1-i}function $3(e){return e%400===0||e%4===0&&e%100!==0}class zX extends qt{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return vr(ir(4,t),a);case"yo":return vr(i.ordinalNumber(t,{unit:"year"}),a);default:return vr(ir(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const s=L3(i.year,a);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class YX extends qt{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vr(ir(4,t),a);case"Yo":return vr(i.ordinalNumber(t,{unit:"year"}),a);default:return vr(ir(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const o=o_(t,a);if(i.isTwoDigitYear){const l=L3(i.year,o);return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),co(t,a)}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),co(t,a)}}class GX extends qt{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return hg(r==="R"?4:r.length,t)}set(t,r,i){const a=cn(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),lf(a)}}class WX extends qt{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return hg(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class HX extends qt{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ir(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class UX extends qt{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ir(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class VX extends qt{constructor(){super(...arguments);He(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);He(this,"priority",110)}parse(t,r,i){const a=o=>o-1;switch(r){case"M":return vr(er(pr.month,t),a);case"MM":return vr(ir(2,t),a);case"Mo":return vr(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class XX extends qt{constructor(){super(...arguments);He(this,"priority",110);He(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=o=>o-1;switch(r){case"L":return vr(er(pr.month,t),a);case"LL":return vr(ir(2,t),a);case"Lo":return vr(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function qX(e,n,t){const r=ct(e,t==null?void 0:t.in),i=s_(r,t)-n;return r.setDate(r.getDate()-i*7),ct(r,t==null?void 0:t.in)}class KX extends qt{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return er(pr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ir(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return co(qX(t,i,a),a)}}function ZX(e,n,t){const r=ct(e,t==null?void 0:t.in),i=a_(r,t)-n;return r.setDate(r.getDate()-i*7),r}class QX extends qt{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return er(pr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ir(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return lf(ZX(t,i))}}const JX=[31,28,31,30,31,30,31,31,30,31,30,31],eq=[31,29,31,30,31,30,31,31,30,31,30,31];class tq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"subPriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return er(pr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ir(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=$3(i),o=t.getMonth();return a?r>=1&&r<=eq[o]:r>=1&&r<=JX[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class nq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"subpriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return er(pr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ir(r.length,t)}}validate(t,r){const i=t.getFullYear();return $3(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function u_(e,n,t){var f,d,h,p;const r=Ku(),i=(t==null?void 0:t.weekStartsOn)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=ct(e,t==null?void 0:t.in),o=a.getDay(),l=(n%7+7)%7,u=7-i,c=n<0||n>6?n-(o+u)%7:(l+u)%7-(o+u)%7;return Ea(a,c,t)}class rq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=u_(t,i,a),t.setHours(0,0,0,0),t}}class iq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return vr(ir(r.length,t),o);case"eo":return vr(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=u_(t,i,a),t.setHours(0,0,0,0),t}}class aq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+a.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return vr(ir(r.length,t),o);case"co":return vr(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=u_(t,i,a),t.setHours(0,0,0,0),t}}function oq(e,n,t){const r=ct(e,t==null?void 0:t.in),i=LX(r,t),a=n-i;return Ea(r,a,t)}class sq extends qt{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return ir(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return vr(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return vr(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return vr(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return vr(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=oq(t,i),t.setHours(0,0,0,0),t}}class lq extends qt{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(l_(i),0,0,0),t}}class uq extends qt{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(l_(i),0,0,0),t}}class cq extends qt{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(l_(i),0,0,0),t}}class fq extends qt{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return er(pr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class dq extends qt{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return er(pr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class hq extends qt{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return er(pr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class pq extends qt{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return er(pr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class vq extends qt{constructor(){super(...arguments);He(this,"priority",60);He(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return er(pr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ir(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class gq extends qt{constructor(){super(...arguments);He(this,"priority",50);He(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return er(pr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ir(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class mq extends qt{constructor(){super(...arguments);He(this,"priority",30);He(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return vr(ir(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class yq extends qt{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Io($o.basicOptionalMinutes,t);case"XX":return Io($o.basic,t);case"XXXX":return Io($o.basicOptionalSeconds,t);case"XXXXX":return Io($o.extendedOptionalSeconds,t);case"XXX":default:return Io($o.extended,t)}}set(t,r,i){return r.timestampIsSet?t:cn(t,t.getTime()-dg(t)-i)}}class bq extends qt{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Io($o.basicOptionalMinutes,t);case"xx":return Io($o.basic,t);case"xxxx":return Io($o.basicOptionalSeconds,t);case"xxxxx":return Io($o.extendedOptionalSeconds,t);case"xxx":default:return Io($o.extended,t)}}set(t,r,i){return r.timestampIsSet?t:cn(t,t.getTime()-dg(t)-i)}}class xq extends qt{constructor(){super(...arguments);He(this,"priority",40);He(this,"incompatibleTokens","*")}parse(t){return N3(t)}set(t,r,i){return[cn(t,i*1e3),{timestampIsSet:!0}]}}class wq extends qt{constructor(){super(...arguments);He(this,"priority",20);He(this,"incompatibleTokens","*")}parse(t){return N3(t)}set(t,r,i){return[cn(t,i),{timestampIsSet:!0}]}}const _q={G:new jX,y:new zX,Y:new YX,R:new GX,u:new WX,Q:new HX,q:new UX,M:new VX,L:new XX,w:new KX,I:new QX,d:new tq,D:new nq,E:new rq,e:new iq,c:new aq,i:new sq,a:new lq,b:new uq,B:new cq,h:new fq,H:new dq,K:new hq,k:new pq,m:new vq,s:new gq,S:new mq,X:new yq,x:new bq,t:new xq,T:new wq},kq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sq=/^'([^]*?)'?$/,Eq=/''/g,Tq=/\S/,Mq=/[a-zA-Z]/;function Ux(e,n,t,r){var g,m,y,b,x,_,w,k;const i=()=>cn((r==null?void 0:r.in)||t,NaN),a=NX(),o=(r==null?void 0:r.locale)??a.locale??M3,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(y=a.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((_=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??a.weekStartsOn??((k=(w=a.locale)==null?void 0:w.options)==null?void 0:k.weekStartsOn)??0;if(!n)return e?i():ct(t,r==null?void 0:r.in);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:o},c=[new BX(r==null?void 0:r.in,t)],f=n.match(Oq).map(O=>{const S=O[0];if(S in Wx){const E=Wx[S];return E(O,o.formatLong)}return O}).join("").match(kq),d=[];for(let O of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&C3(O)&&Hx(O,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&P3(O)&&Hx(O,n,e);const S=O[0],E=_q[S];if(E){const{incompatibleTokens:T}=E;if(Array.isArray(T)){const P=d.find(A=>T.includes(A.token)||A.token===S);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${O}\` at the same time`)}else if(E.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);d.push({token:S,fullToken:O});const M=E.run(e,O,o.match,u);if(!M)return i();c.push(M.setter),e=M.rest}else{if(S.match(Mq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(O==="''"?O="'":S==="'"&&(O=Aq(O)),e.indexOf(O)===0)e=e.slice(O.length);else return i()}}if(e.length>0&&Tq.test(e))return i();const h=c.map(O=>O.priority).sort((O,S)=>S-O).filter((O,S,E)=>E.indexOf(O)===S).map(O=>c.filter(S=>S.priority===O).sort((S,E)=>E.subPriority-S.subPriority)).map(O=>O[0]);let p=ct(t,r==null?void 0:r.in);if(isNaN(+p))return i();const v={};for(const O of h){if(!O.validate(p,u))return i();const S=O.set(p,v,u);Array.isArray(S)?(p=S[0],Object.assign(v,S[1])):p=S}return p}function Aq(e){return e.match(Sq)[1].replace(Eq,"'")}function QE(e,n,t){const[r,i]=_p(t==null?void 0:t.in,e,n);return+uu(r)==+uu(i)}function I3(e,n,t){return Ea(e,-n,t)}function D3(e,n,t){const r=ct(e,t==null?void 0:t.in),i=r.getFullYear(),a=r.getDate(),o=cn(e,0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);const s=RX(o);return r.setMonth(n,Math.min(a,s)),r}function mn(e,n,t){let r=ct(e,t==null?void 0:t.in);return isNaN(+r)?cn(e,NaN):(n.year!=null&&r.setFullYear(n.year),n.month!=null&&(r=D3(r,n.month)),n.date!=null&&r.setDate(n.date),n.hours!=null&&r.setHours(n.hours),n.minutes!=null&&r.setMinutes(n.minutes),n.seconds!=null&&r.setSeconds(n.seconds),n.milliseconds!=null&&r.setMilliseconds(n.milliseconds),r)}function Pq(e,n,t){const r=ct(e,t==null?void 0:t.in);return r.setHours(n),r}function F3(e,n,t){const r=ct(e,t==null?void 0:t.in);return r.setMilliseconds(n),r}function Cq(e,n,t){const r=ct(e,t==null?void 0:t.in);return r.setMinutes(n),r}function B3(e,n,t){const r=ct(e,t==null?void 0:t.in);return r.setSeconds(n),r}function zo(e,n,t){const r=ct(e,t==null?void 0:t.in);return isNaN(+r)?cn(e,NaN):(r.setFullYear(n),r)}function ff(e,n,t){return io(e,-n,t)}function Rq(e,n,t){const{years:r=0,months:i=0,weeks:a=0,days:o=0,hours:s=0,minutes:l=0,seconds:u=0}=n,c=ff(e,i+r*12,t),f=I3(c,o+a*7,t),d=l+s*60,p=(u+d*60)*1e3;return cn(e,+f-p)}function j3(e,n,t){return i_(e,-n,t)}function qf(){const e=OY();return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[K("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),K("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}qf.compatConfig={MODE:3};function z3(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),K("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}z3.compatConfig={MODE:3};function c_(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}c_.compatConfig={MODE:3};function f_(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}f_.compatConfig={MODE:3};function d_(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),K("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}d_.compatConfig={MODE:3};function h_(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}h_.compatConfig={MODE:3};function p_(){return J(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[K("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}p_.compatConfig={MODE:3};const Yi=(e,n)=>n?new Date(e.toLocaleString("en-US",{timeZone:n})):new Date(e),v_=(e,n,t)=>Vx(e,n,t)||Ee(),Nq=(e,n,t)=>{const r=n.dateInTz?Yi(new Date(e),n.dateInTz):Ee(e);return t?jr(r,!0):r},Vx=(e,n,t)=>{if(!e)return null;const r=t?jr(Ee(e),!0):Ee(e);return n?n.exactMatch?Nq(e,n,t):Yi(r,n.timezone):r},Lq=e=>{const n=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<n},$q=(e,n)=>{if(!e)return 0;const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(t.toLocaleString("en-US",{timeZone:e})),a=(Lq(n??i)?i:n??i).getTimezoneOffset()/60;return(+r-+i)/(1e3*60*60)-a};var Ha=(e=>(e.month="month",e.year="year",e))(Ha||{}),Ua=(e=>(e.top="top",e.bottom="bottom",e))(Ua||{}),bu=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(bu||{}),ii=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(ii||{});const Iq=["timestamp","date","iso"];var mi=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(mi||{}),Rn=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Rn||{}),Yc=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Yc||{});function JE(e){return n=>{const t=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`));return e==="ar"?t.slice(2,5):t.slice(0,2)}}function Dq(e){return n=>Ho(Yi(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const Fq=(e,n,t)=>{const r=[1,2,3,4,5,6,7];let i;if(e!==null)try{i=r.map(Dq(e))}catch{i=r.map(JE(n))}else i=r.map(JE(n));const a=i.slice(0,t),o=i.slice(t+1,i.length);return[i[t]].concat(...o).concat(...a)},g_=(e,n,t)=>{const r=[];for(let i=+e[0];i<=+e[1];i++)r.push({value:+i,text:H3(i,n)});return t?r.reverse():r},Y3=(e,n,t)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(a=>{const o=a<10?`0${a}`:a;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const a=t==="long"?"LLLL":"LLL";return r.map((o,s)=>{const l=Ho(Yi(o,"UTC"),a,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const i=new Intl.DateTimeFormat(n,{month:t,timeZone:"UTC"});return r.map((a,o)=>{const s=i.format(a);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},Bq=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],kr=e=>{const n=V(e);return n!=null&&n.$el?n==null?void 0:n.$el:n},jq=e=>({type:"dot",...e??{}}),G3=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,m_={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Lr=e=>e,eT=e=>e===0?e:!e||isNaN(+e)?null:+e,tT=e=>e===null,W3=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},zq=e=>{const n=[],t=r=>r.filter(i=>i);for(let r=0;r<e.length;r+=3){const i=[e[r],e[r+1],e[r+2]];n.push(t(i))}return n},Ph=(e,n,t)=>{const r=t!=null,i=n!=null;if(!r&&!i)return!1;const a=+t,o=+n;return r&&i?+e>a||+e<o:r?+e>a:i?+e<o:!1},df=(e,n)=>zq(e).map(t=>t.map(r=>{const{active:i,disabled:a,isBetween:o,highlighted:s}=n(r);return{...r,active:i,disabled:a,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:a,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:a&&i,dp__cell_in_between:o,"dp--highlighted":s}}})),vl=(e,n,t=!1)=>{e&&n.allowStopPropagation&&(t&&e.stopImmediatePropagation(),e.stopPropagation())},Yq=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Gq(e,n){let t=[...document.querySelectorAll(Yq())];t=t.filter(i=>!e.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=t.indexOf(e);if(r>=0&&(n?r-1>=0:r+1<=t.length))return t[r+(n?-1:1)]}const Xx=(e,n)=>e==null?void 0:e.querySelector(`[data-dp-element="${n}"]`),H3=(e,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(e),y_=(e,n)=>Ho(e,n??Yc.DATE),A1=e=>Array.isArray(e),pg=(e,n,t)=>n.get(y_(e,t)),Wq=(e,n)=>e?n?n instanceof Map?!!pg(e,n):n(Ee(e)):!1:!0,Si=(e,n,t=!1,r)=>{if(e.key===Rn.enter||e.key===Rn.space)return t&&e.preventDefault(),n();if(r)return r(e)},Hq=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,U3=(e,n)=>e?Yc.MONTH_AND_YEAR:n?Yc.YEAR:Yc.DATE,V3=e=>e<10?`0${e}`:e,nT=(e,n,t,r,i,a)=>{const o=Ux(e,n.slice(0,e.length),new Date,{locale:a});return ah(o)&&k3(o)?r||i?o:mn(o,{hours:+t.hours,minutes:+(t==null?void 0:t.minutes),seconds:+(t==null?void 0:t.seconds),milliseconds:0}):null},Uq=(e,n,t,r,i,a)=>{const o=Array.isArray(t)?t[0]:t;if(typeof n=="string")return nT(e,n,o,r,i,a);if(Array.isArray(n)){let s=null;for(const l of n)if(s=nT(e,l,o,r,i,a),s)break;return s}return typeof n=="function"?n(e):null},Ee=e=>e?new Date(e):new Date,Vq=(e,n,t)=>{if(n){const i=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=t?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${i}-${a}T${o}:${s}:${l}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},jr=(e,n)=>{const t=Ee(JSON.parse(JSON.stringify(e))),r=mn(t,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?BV(r):r},gl=(e,n,t,r)=>{let i=e?Ee(e):Ee();return(n||n===0)&&(i=Pq(i,+n)),(t||t===0)&&(i=Cq(i,+t)),(r||r===0)&&(i=B3(i,+r)),F3(i,0)},nr=(e,n)=>!e||!n?!1:cf(jr(e),jr(n)),$t=(e,n)=>!e||!n?!1:Pc(jr(e),jr(n)),dr=(e,n)=>!e||!n?!1:Mu(jr(e),jr(n)),Ch=(e,n,t)=>e!=null&&e[0]&&e!=null&&e[1]?dr(t,e[0])&&nr(t,e[1]):e!=null&&e[0]&&n?dr(t,e[0])&&nr(t,n)||nr(t,e[0])&&dr(t,n):!1,Za=e=>{const n=mn(new Date(e),{date:1});return jr(n)},P1=(e,n,t)=>n&&(t||t===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,t]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},xu=e=>({hours:Ns(e),minutes:bl(e),seconds:uf(e)}),X3=(e,n)=>{if(n){const t=mt(Ee(n));if(t>e)return 12;if(t===e)return Lt(Ee(n))}},q3=(e,n)=>{if(n){const t=mt(Ee(n));return t<e?-1:t===e?Lt(Ee(n)):void 0}},hf=e=>{if(e)return mt(Ee(e))},K3=(e,n)=>{const t=dr(e,n)?n:e,r=dr(n,e)?n:e;return S3({start:t,end:r})},Xq=e=>{const n=io(e,1);return{month:Lt(n),year:mt(n)}},bs=(e,n)=>{const t=co(e,{weekStartsOn:+n}),r=T3(e,{weekStartsOn:+n});return[t,r]},Z3=(e,n)=>{const t={hours:Ns(Ee()),minutes:bl(Ee()),seconds:n?uf(Ee()):0};return Object.assign(t,e)},ll=(e,n,t)=>[mn(Ee(e),{date:1}),mn(Ee(),{month:n,year:t,date:1})],Ss=(e,n,t)=>{let r=e?Ee(e):Ee();return(n||n===0)&&(r=D3(r,n)),t&&(r=zo(r,t)),r},Q3=(e,n,t,r,i)=>{if(!r||i&&!n||!i&&!t)return!1;const a=i?io(e,1):ff(e,1),o=[Lt(a),mt(a)];return i?!Kq(...o,n):!qq(...o,t)},qq=(e,n,t)=>nr(...ll(t,e,n))||$t(...ll(t,e,n)),Kq=(e,n,t)=>dr(...ll(t,e,n))||$t(...ll(t,e,n)),J3=(e,n,t,r,i,a,o)=>{if(typeof n=="function"&&!o)return n(e);const s=t?{locale:t}:void 0;return Array.isArray(e)?`${Ho(e[0],a,s)}${i&&!e[1]?"":r}${e[1]?Ho(e[1],a,s):""}`:Ho(e,a,s)},dc=e=>{if(e)return null;throw new Error(m_.prop("partial-range"))},lv=(e,n)=>{if(n)return e();throw new Error(m_.prop("range"))},qx=e=>Array.isArray(e)?ah(e[0])&&(e[1]?ah(e[1]):!0):e?ah(e):!1,Zq=(e,n)=>mn(n??Ee(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),C1=(e,n,t,r)=>{if(!e)return!0;if(r){const i=t==="max"?cf(e,n):Mu(e,n),a={seconds:0,milliseconds:0};return i||Pc(mn(e,a),mn(n,a))}return t==="max"?e.getTime()<=n.getTime():e.getTime()>=n.getTime()},R1=(e,n,t)=>e?Zq(e,n):Ee(t??n),rT=(e,n,t,r,i)=>{if(Array.isArray(r)){const o=R1(e,r[0],n),s=R1(e,r[1],n);return C1(r[0],o,t,!!n)&&C1(r[1],s,t,!!n)&&i}const a=R1(e,r,n);return C1(r,a,t,!!n)&&i},N1=e=>mn(Ee(),xu(e)),Qq=(e,n,t)=>{if(e instanceof Map){const r=`${V3(t+1)}-${n}`;return e.size?e.has(r):!1}return typeof e=="function"?e(jr(mn(Ee(),{month:t,year:n}),!0)):!1},Jq=(e,n,t)=>{if(e instanceof Map){const r=`${V3(t+1)}-${n}`;return e.size?e.has(r):!0}return!0},e$=(e,n,t)=>typeof e=="function"?e({month:n,year:t}):!!e.months.find(r=>r.month===n&&r.year===t),b_=(e,n)=>typeof e=="function"?e(n):e.years.includes(n),Kx=e=>`dp-${Ho(e,"yyyy-MM-dd")}`,iT=(e,n)=>{const t=I3(jr(n),e),r=Ea(jr(n),e);return{before:t,after:r}},hd=ls({menuFocused:!1,shiftKeyInMenu:!1}),t$=()=>{const e=t=>{hd.menuFocused=t},n=t=>{hd.shiftKeyInMenu!==t&&(hd.shiftKeyInMenu=t)};return{control:Oe(()=>({shiftKeyInMenu:hd.shiftKeyInMenu,menuFocused:hd.menuFocused})),setMenuFocused:e,setShiftKey:n}},Pn=ls({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),L1=ge(null),uv=ge(!1),$1=ge(!1),I1=ge(!1),D1=ge(!1),ei=ge(0),sr=ge(0),Al=()=>{const e=Oe(()=>uv.value?[...Pn.selectionGrid,Pn.actionRow].filter(f=>f.length):$1.value?[...Pn.timePicker[0],...Pn.timePicker[1],D1.value?[]:[L1.value],Pn.actionRow].filter(f=>f.length):I1.value?[...Pn.monthPicker,Pn.actionRow]:[Pn.monthYear,...Pn.calendar,Pn.time,Pn.actionRow].filter(f=>f.length)),n=f=>{ei.value=f?ei.value+1:ei.value-1;let d=null;e.value[sr.value]&&(d=e.value[sr.value][ei.value]),!d&&e.value[sr.value+(f?1:-1)]?(sr.value=sr.value+(f?1:-1),ei.value=f?0:e.value[sr.value].length-1):d||(ei.value=f?ei.value-1:ei.value+1)},t=f=>{sr.value===0&&!f||sr.value===e.value.length&&f||(sr.value=f?sr.value+1:sr.value-1,e.value[sr.value]?e.value[sr.value]&&!e.value[sr.value][ei.value]&&ei.value!==0&&(ei.value=e.value[sr.value].length-1):sr.value=f?sr.value-1:sr.value+1)},r=f=>{let d=null;e.value[sr.value]&&(d=e.value[sr.value][ei.value]),d?d.focus({preventScroll:!uv.value}):ei.value=f?ei.value-1:ei.value+1},i=()=>{n(!0),r(!0)},a=()=>{n(!1),r(!1)},o=()=>{t(!1),r(!0)},s=()=>{t(!0),r(!0)},l=(f,d)=>{Pn[d]=f},u=(f,d)=>{Pn[d]=f},c=()=>{ei.value=0,sr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:f=>{L1.value=f},setSelectionGrid:f=>{uv.value=f,c(),f||(Pn.selectionGrid=[])},setTimePicker:(f,d=!1)=>{$1.value=f,D1.value=d,c(),f||(Pn.timePicker[0]=[],Pn.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Pn.timePicker[d]=f},arrowRight:i,arrowLeft:a,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Pn.monthYear=[],Pn.calendar=[],Pn.time=[],Pn.actionRow=[],Pn.selectionGrid=[],Pn.timePicker[0]=[],Pn.timePicker[1]=[],uv.value=!1,$1.value=!1,D1.value=!1,I1.value=!1,c(),L1.value=null},setMonthPicker:f=>{I1.value=f,c()},refSets:Pn}},aT=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),eK=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...e??{}}),oT=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,tK=e=>{const n=typeof e=="object"&&e,t={static:!0,solo:!1};if(!e)return{...t,count:oT(!1)};const r=n?e:{},i=n?r.count??!0:e,a=oT(i);return Object.assign(t,r,{count:a})},nK=(e,n,t)=>e||(typeof t=="string"?t:n),rK=e=>typeof e=="boolean"?e?aT({}):!1:aT(e),iK=e=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...n,...e??{},enabled:!0}:{...n,enabled:e}},aK=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),oK=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),sK=e=>{const n={input:!1};return typeof e=="object"?{...n,...e??{},enabled:!0}:{enabled:e,...n}},lK=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),uK=e=>{const n={dates:Array.isArray(e)?e.map(t=>Ee(t)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...n,...e??{}}},cK=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},fK=e=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...n,...e}:{enabled:e,...n}},dK=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},F1=(e,n,t,r)=>new Map(e.map(i=>{const a=v_(i,n,r);return[y_(a,t),a]})),hK=(e,n)=>e.length?new Map(e.map(t=>{const r=v_(t.date,n);return[y_(r,Yc.DATE),t]})):null,pK=e=>{var n;const t=U3(e.isMonthPicker,e.isYearPicker);return{minDate:Vx(e.minDate,e.timezone,e.isSpecific),maxDate:Vx(e.maxDate,e.timezone,e.isSpecific),disabledDates:A1(e.disabledDates)?F1(e.disabledDates,e.timezone,t,e.isSpecific):e.disabledDates,allowedDates:A1(e.allowedDates)?F1(e.allowedDates,e.timezone,t,e.isSpecific):null,highlight:typeof e.highlight=="object"&&A1((n=e.highlight)==null?void 0:n.dates)?F1(e.highlight.dates,e.timezone,t):e.highlight,markers:hK(e.markers,e.timezone)}},vK=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},gK=e=>({...Object.fromEntries(Object.keys(e).map(n=>{const t=n,r=e[t],i=typeof e[t]=="string"?{[r]:!0}:Object.fromEntries(r.map(a=>[a,!0]));return[n,i]}))}),Wn=e=>{const n=()=>{const w=e.enableSeconds?":ss":"",k=e.enableMinutes?":mm":"";return e.is24?`HH${k}${w}`:`hh${k}${w} aa`},t=()=>{var w;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?n():e.weekPicker?`${((w=g.value)==null?void 0:w.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=w=>Z3(w,e.enableSeconds),i=()=>x.value.enabled?e.startTime&&Array.isArray(e.startTime)?[r(e.startTime[0]),r(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?r(e.startTime):null,a=Oe(()=>tK(e.multiCalendars)),o=Oe(()=>i()),s=Oe(()=>eK(e.ariaLabels)),l=Oe(()=>aK(e.filters)),u=Oe(()=>rK(e.transitions)),c=Oe(()=>oK(e.actionRow)),f=Oe(()=>nK(e.previewFormat,e.format,t())),d=Oe(()=>iK(e.textInput)),h=Oe(()=>sK(e.inline)),p=Oe(()=>lK(e.config)),v=Oe(()=>uK(e.highlight)),g=Oe(()=>cK(e.weekNumbers)),m=Oe(()=>dK(e.timezone)),y=Oe(()=>vK(e.multiDates)),b=Oe(()=>pK({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:m.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),x=Oe(()=>fK(e.range)),_=Oe(()=>gK(e.ui));return{defaultedTransitions:u,defaultedMultiCalendars:a,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:f,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:v,defaultedWeekNumbers:g,defaultedRange:x,propDates:b,defaultedTz:m,defaultedMultiDates:y,defaultedUI:_,getDefaultPattern:t,getDefaultStartTime:i,handleEventPropagation:w=>{p.value.allowStopPropagation&&w.stopPropagation(),p.value.allowPreventDefault&&w.preventDefault()}}},mK=(e,n,t)=>{const r=ge(),{defaultedTextInput:i,defaultedRange:a,defaultedTz:o,defaultedMultiDates:s,getDefaultPattern:l}=Wn(n),u=ge(""),c=xh(n,"format"),f=xh(n,"formatLocale");Rt(r,()=>{typeof n.onInternalModelChange=="function"&&e("internal-model-change",r.value,q(!0))},{deep:!0}),Rt(a,($,W)=>{$.enabled!==W.enabled&&(r.value=null)}),Rt(c,()=>{L()});const d=$=>o.value.timezone&&o.value.convertModel?Yi($,o.value.timezone):$,h=$=>{if(o.value.timezone&&o.value.convertModel){const W=$q(o.value.timezone,$);return RV($,W)}return $},p=($,W,Q=!1)=>J3($,n.format,n.formatLocale,i.value.rangeSeparator,n.modelAuto,W??l(),Q),v=$=>$?n.modelType?j($):{hours:Ns($),minutes:bl($),seconds:n.enableSeconds?uf($):0}:null,g=$=>n.modelType?j($):{month:Lt($),year:mt($)},m=$=>Array.isArray($)?s.value.enabled?$.map(W=>y(W,zo(Ee(),W))):lv(()=>[zo(Ee(),$[0]),$[1]?zo(Ee(),$[1]):dc(a.value.partialRange)],a.value.enabled):zo(Ee(),+$),y=($,W)=>(typeof $=="string"||typeof $=="number")&&n.modelType?I($):W,b=$=>Array.isArray($)?[y($[0],gl(null,+$[0].hours,+$[0].minutes,$[0].seconds)),y($[1],gl(null,+$[1].hours,+$[1].minutes,$[1].seconds))]:y($,gl(null,$.hours,$.minutes,$.seconds)),x=$=>{const W=mn(Ee(),{date:1});return Array.isArray($)?s.value.enabled?$.map(Q=>y(Q,Ss(W,+Q.month,+Q.year))):lv(()=>[y($[0],Ss(W,+$[0].month,+$[0].year)),y($[1],$[1]?Ss(W,+$[1].month,+$[1].year):dc(a.value.partialRange))],a.value.enabled):y($,Ss(W,+$.month,+$.year))},_=$=>{if(Array.isArray($))return $.map(W=>I(W));throw new Error(m_.dateArr("multi-dates"))},w=$=>{if(Array.isArray($)&&a.value.enabled){const W=$[0],Q=$[1];return[Ee(Array.isArray(W)?W[0]:null),Array.isArray(Q)&&Q.length?Ee(Q[0]):null]}return Ee($[0])},k=$=>n.modelAuto?Array.isArray($)?[I($[0]),I($[1])]:n.autoApply?[I($)]:[I($),null]:Array.isArray($)?lv(()=>$[1]?[I($[0]),$[1]?I($[1]):dc(a.value.partialRange)]:[I($[0])],a.value.enabled):I($),O=()=>{Array.isArray(r.value)&&a.value.enabled&&r.value.length===1&&r.value.push(dc(a.value.partialRange))},S=()=>{const $=r.value;return[j($[0]),$[1]?j($[1]):dc(a.value.partialRange)]},E=()=>Array.isArray(r.value)?r.value[1]?S():j(Lr(r.value[0])):[],T=()=>(r.value||[]).map($=>j($)),M=($=!1)=>($||O(),n.modelAuto?E():s.value.enabled?T():Array.isArray(r.value)?lv(()=>S(),a.value.enabled):j(Lr(r.value))),P=$=>!$||Array.isArray($)&&!$.length?null:n.timePicker?b(Lr($)):n.monthPicker?x(Lr($)):n.yearPicker?m(Lr($)):s.value.enabled?_(Lr($)):n.weekPicker?w(Lr($)):k(Lr($)),A=$=>{const W=P($);qx(Lr(W))?(r.value=Lr(W),L()):(r.value=null,u.value="")},N=()=>{const $=W=>Ho(W,i.value.format);return`${$(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?$(r.value[1]):""}`},R=()=>t.value&&r.value?Array.isArray(r.value)?N():Ho(r.value,i.value.format):p(r.value),C=()=>r.value?s.value.enabled?r.value.map($=>p($)).join("; "):i.value.enabled&&typeof i.value.format=="string"?R():p(r.value):"",L=()=>{!n.format||typeof n.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=C():u.value=n.format(r.value)},I=$=>{if(n.utc){const W=new Date($);return n.utc==="preserve"?new Date(W.getTime()+W.getTimezoneOffset()*6e4):W}return n.modelType?Iq.includes(n.modelType)?d(new Date($)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?d(Ux($,l(),new Date,{locale:f.value})):d(Ux($,n.modelType,new Date,{locale:f.value})):d(new Date($))},j=$=>$?n.utc?Vq($,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+h($):n.modelType==="iso"?h($).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?p(h($)):p(h($),n.modelType,!0):h($):"",F=($,W=!1,Q=!1)=>{if(Q)return $;if(e("update:model-value",$),o.value.emitTimezone&&W){const oe=Array.isArray($)?$.map(ee=>Yi(Lr(ee),o.value.emitTimezone)):Yi(Lr($),o.value.emitTimezone);e("update:model-timezone-value",oe)}},z=$=>Array.isArray(r.value)?s.value.enabled?r.value.map(W=>$(W)):[$(r.value[0]),r.value[1]?$(r.value[1]):dc(a.value.partialRange)]:$(Lr(r.value)),D=()=>{if(Array.isArray(r.value)){const $=bs(r.value[0],n.weekStart),W=r.value[1]?bs(r.value[1],n.weekStart):[];return[$.map(Q=>Ee(Q)),W.map(Q=>Ee(Q))]}return bs(r.value,n.weekStart).map($=>Ee($))},B=($,W)=>F(Lr(z($)),!1,W),U=$=>{const W=D();return $?W:e("update:model-value",D())},q=($=!1)=>($||L(),n.monthPicker?B(g,$):n.timePicker?B(v,$):n.yearPicker?B(mt,$):n.weekPicker?U($):F(M($),!0,$));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?a.value.enabled?a.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:A,formatInputValue:L,emitModelValue:q}},yK=(e,n)=>{const{defaultedFilters:t,propDates:r}=Wn(e),{validateMonthYearInRange:i}=Pl(e),a=(c,f)=>{let d=c;return t.value.months.includes(Lt(d))?(d=f?io(c,1):ff(c,1),a(d,f)):d},o=(c,f)=>{let d=c;return t.value.years.includes(mt(d))?(d=f?i_(c,1):j3(c,1),o(d,f)):d},s=(c,f=!1)=>{const d=mn(Ee(),{month:e.month,year:e.year});let h=c?io(d,1):ff(d,1);e.disableYearSelect&&(h=zo(h,e.year));let p=Lt(h),v=mt(h);t.value.months.includes(p)&&(h=a(h,c),p=Lt(h),v=mt(h)),t.value.years.includes(v)&&(h=o(h,c),v=mt(h)),i(p,v,c,e.preventMinMaxNavigation)&&l(p,v,f)},l=(c,f,d)=>{n("update-month-year",{month:c,year:f,fromNav:d})},u=Oe(()=>c=>Q3(mn(Ee(),{month:e.month,year:e.year}),r.value.maxDate,r.value.minDate,e.preventMinMaxNavigation,c));return{handleMonthYearChange:s,isDisabled:u,updateMonthYear:l}},Qm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},yo={...Qm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},bK=["title"],xK=["disabled"],wK=Nt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...yo},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:n}){const t=n,r=e,{defaultedActionRow:i,defaultedPreviewFormat:a,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c}=Wn(r),{isTimeValid:f,isMonthValid:d}=Pl(r),{buildMatrix:h}=Al(),p=ge(null),v=ge(null),g=ge(!1),m=ge({}),y=ge(null),b=ge(null);tn(()=>{r.arrowNavigation&&h([kr(p),kr(v)],"actionRow"),x(),window.addEventListener("resize",x)}),Ml(()=>{window.removeEventListener("resize",x)});const x=()=>{g.value=!1,setTimeout(()=>{var A,N;const R=(A=y.value)==null?void 0:A.getBoundingClientRect(),C=(N=b.value)==null?void 0:N.getBoundingClientRect();R&&C&&(m.value.maxWidth=`${C.width-R.width-20}px`),g.value=!0},0)},_=Oe(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),w=Oe(()=>!f.value(r.internalModelValue)||!d.value(r.internalModelValue)||!_.value),k=()=>{const A=a.value;return r.timePicker||r.monthPicker,A(Lr(r.internalModelValue))},O=()=>{const A=r.internalModelValue;return o.value.count>0?`${S(A[0])} - ${S(A[1])}`:[S(A[0]),S(A[1])]},S=A=>J3(A,a.value,r.formatLocale,s.value.rangeSeparator,r.modelAuto,a.value),E=Oe(()=>!r.internalModelValue||!r.menuMount?"":typeof a.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?O():c.value.enabled?r.internalModelValue.map(A=>`${S(A)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):k()),T=()=>c.value.enabled?"; ":" - ",M=Oe(()=>Array.isArray(E.value)?E.value.join(T()):E.value),P=()=>{f.value(r.internalModelValue)&&d.value(r.internalModelValue)&&_.value?t("select-date"):t("invalid-select")};return(A,N)=>(J(),ie("div",{ref_key:"actionRowRef",ref:b,class:"dp__action_row"},[A.$slots["action-row"]?Fe(A.$slots,"action-row",Dr(Tr({key:0},{internalModelValue:A.internalModelValue,disabled:w.value,selectDate:()=>A.$emit("select-date"),closePicker:()=>A.$emit("close-picker")}))):(J(),ie(De,{key:1},[V(i).showPreview?(J(),ie("div",{key:0,class:"dp__selection_preview",title:M.value,style:Be(m.value)},[A.$slots["action-preview"]&&g.value?Fe(A.$slots,"action-preview",{key:0,value:A.internalModelValue}):he("",!0),!A.$slots["action-preview"]&&g.value?(J(),ie(De,{key:1},[Jn(Me(M.value),1)],64)):he("",!0)],12,bK)):he("",!0),K("div",{ref_key:"actionBtnContainer",ref:y,class:"dp__action_buttons","data-dp-element":"action-row"},[A.$slots["action-buttons"]?Fe(A.$slots,"action-buttons",{key:0,value:A.internalModelValue}):he("",!0),A.$slots["action-buttons"]?he("",!0):(J(),ie(De,{key:1},[!V(l).enabled&&V(i).showCancel?(J(),ie("button",{key:0,ref_key:"cancelButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[0]||(N[0]=R=>A.$emit("close-picker")),onKeydown:N[1]||(N[1]=R=>V(Si)(R,()=>A.$emit("close-picker")))},Me(A.cancelText),545)):he("",!0),V(i).showNow?(J(),ie("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[2]||(N[2]=R=>A.$emit("select-now")),onKeydown:N[3]||(N[3]=R=>V(Si)(R,()=>A.$emit("select-now")))},Me(A.nowButtonLabel),33)):he("",!0),V(i).showSelect?(J(),ie("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:w.value,"data-test-id":"select-button",onKeydown:N[4]||(N[4]=R=>V(Si)(R,()=>P())),onClick:P},Me(A.selectText),41,xK)):he("",!0)],64))],512)],64))],512))}}),_K=["role","aria-label","tabindex"],kK={class:"dp__selection_grid_header"},OK=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],SK=["aria-label"],kp=Nt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:n,emit:t}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:a}=Al(),o=t,s=e,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c,handleEventPropagation:f}=Wn(s),{hideNavigationButtons:d}=ty(),h=ge(!1),p=ge(null),v=ge(null),g=ge([]),m=ge(),y=ge(null),b=ge(0),x=ge(null);GN(()=>{p.value=null}),tn(()=>{vn().then(()=>M()),s.noOverlayFocus||w(),_(!0)}),Ml(()=>_(!1));const _=D=>{var B;s.arrowNavigation&&((B=s.headerRefs)!=null&&B.length?a(D):r(D))},w=()=>{var D;const B=kr(v);B&&(u.value.enabled||(p.value?(D=p.value)==null||D.focus({preventScroll:!0}):B.focus({preventScroll:!0})),h.value=B.clientHeight<B.scrollHeight)},k=Oe(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),O=Oe(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),S=Oe(()=>({dp__overlay_col:!0})),E=Oe(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:s.isLast})),T=Oe(()=>{var D,B;return{dp__overlay_container:!0,dp__container_flex:((D=s.items)==null?void 0:D.length)<=6,dp__container_block:((B=s.items)==null?void 0:B.length)>6}});Rt(()=>s.items,()=>M(!1),{deep:!0});const M=(D=!0)=>{vn().then(()=>{const B=kr(p),U=kr(v),q=kr(y),$=kr(x),W=q?q.getBoundingClientRect().height:0;U&&(U.getBoundingClientRect().height?b.value=U.getBoundingClientRect().height-W:b.value=c.value.modeHeight-W),B&&$&&D&&($.scrollTop=B.offsetTop-$.offsetTop-(b.value/2-B.getBoundingClientRect().height)-W)})},P=D=>{D.disabled||o("selected",D.value)},A=()=>{o("toggle"),o("reset-flow")},N=D=>{s.escClose&&(A(),f(D))},R=(D,B,U,q)=>{D&&((B.active||B.value===s.focusValue)&&(p.value=D),s.arrowNavigation&&(Array.isArray(g.value[U])?g.value[U][q]=D:g.value[U]=[D],C()))},C=()=>{var D,B;const U=(D=s.headerRefs)!=null&&D.length?[s.headerRefs].concat(g.value):g.value.concat([s.skipButtonRef?[]:[y.value]]);i(Lr(U),(B=s.headerRefs)!=null&&B.length?"monthPicker":"selectionGrid")},L=D=>{s.arrowNavigation||vl(D,c.value,!0)},I=D=>{m.value=D,o("hover-value",D)},j=()=>{if(A(),!s.isLast){const D=Xx(s.menuWrapRef??null,"action-row");if(D){const B=W3(D);B==null||B.focus()}}},F=D=>{switch(D.key){case Rn.esc:return N(D);case Rn.arrowLeft:return L(D);case Rn.arrowRight:return L(D);case Rn.arrowUp:return L(D);case Rn.arrowDown:return L(D);default:return}},z=D=>{if(D.key===Rn.enter)return A();if(D.key===Rn.tab)return j()};return n({focusGrid:w}),(D,B)=>{var U;return J(),ie("div",{ref_key:"gridWrapRef",ref:v,class:Ue(k.value),style:Be(O.value),role:D.useRelative?void 0:"dialog","aria-label":D.overlayLabel,tabindex:D.useRelative?void 0:"0",onKeydown:F,onClick:B[0]||(B[0]=ra(()=>{},["prevent"]))},[K("div",{ref_key:"containerRef",ref:x,class:Ue(T.value),style:Be({"--dp-overlay-height":`${b.value}px`}),role:"grid"},[K("div",kK,[Fe(D.$slots,"header")]),D.$slots.overlay?Fe(D.$slots,"overlay",{key:0}):(J(!0),ie(De,{key:1},Mt(D.items,(q,$)=>(J(),ie("div",{key:$,class:Ue(["dp__overlay_row",{dp__flex_row:D.items.length>=3}]),role:"row"},[(J(!0),ie(De,null,Mt(q,(W,Q)=>(J(),ie("div",{key:W.value,ref_for:!0,ref:oe=>R(oe,W,$,Q),role:"gridcell",class:Ue(S.value),"aria-selected":W.active||void 0,"aria-disabled":W.disabled||void 0,tabindex:"0","data-test-id":W.text,onClick:ra(oe=>P(W),["prevent"]),onKeydown:oe=>V(Si)(oe,()=>P(W),!0),onMouseover:oe=>I(W.value)},[K("div",{class:Ue(W.className)},[D.$slots.item?Fe(D.$slots,"item",{key:0,item:W}):he("",!0),D.$slots.item?he("",!0):(J(),ie(De,{key:1},[Jn(Me(W.text),1)],64))],2)],42,OK))),128))],2))),128))],6),D.$slots["button-icon"]?no((J(),ie("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(U=V(l))==null?void 0:U.toggleOverlay,class:Ue(E.value),tabindex:"0",onClick:A,onKeydown:z},[Fe(D.$slots,"button-icon")],42,SK)),[[$0,!V(d)(D.hideNavigation,D.type)]]):he("",!0)],46,_K)}}}),EK=["data-dp-mobile"],Jm=Nt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const n=e,t=Oe(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=Oe(()=>({dp__instance_calendar:n.multiCalendars>0}));return(i,a)=>(J(),ie("div",{class:Ue({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse}),"data-dp-mobile":i.isMobile},[(J(!0),ie(De,null,Mt(t.value,(o,s)=>(J(),ie("div",{key:o,class:Ue(r.value)},[Fe(i.$slots,"default",{instance:o,index:s})],2))),128))],10,EK))}}),TK=["data-dp-element","aria-label","aria-disabled"],oh=Nt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:n}){const t=n,r=ge(null);return tn(()=>t("set-ref",r)),(i,a)=>(J(),ie("button",{ref_key:"elRef",ref:r,type:"button","data-dp-element":i.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:a[0]||(a[0]=o=>i.$emit("activate")),onKeydown:a[1]||(a[1]=o=>V(Si)(o,()=>i.$emit("activate"),!0))},[K("span",{class:Ue(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Fe(i.$slots,"default")],2)],40,TK))}}),MK=["aria-label","data-test-id"],n$=Nt({__name:"YearModePicker",props:{...yo,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:n}){const t=n,r=e,{showRightIcon:i,showLeftIcon:a}=ty(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:c}=Wn(r),{showTransition:f,transitionName:d}=Op(u),h=ge(!1),p=(m=!1,y)=>{h.value=!h.value,t("toggle-year-picker",{flow:m,show:y})},v=m=>{h.value=!1,t("year-select",m)},g=(m=!1)=>{t("handle-year",m)};return(m,y)=>{var b,x,_,w,k;return J(),ie(De,null,[K("div",{class:Ue(["dp--year-mode-picker",{"dp--hidden-el":h.value}])},[V(a)(V(s),e.instance)?(J(),vt(oh,{key:0,ref:"mpPrevIconRef","aria-label":(b=V(l))==null?void 0:b.prevYear,disabled:e.isDisabled(!1),class:Ue((x=V(c))==null?void 0:x.navBtnPrev),onActivate:y[0]||(y[0]=O=>g(!1))},{default:Je(()=>[m.$slots["arrow-left"]?Fe(m.$slots,"arrow-left",{key:0}):he("",!0),m.$slots["arrow-left"]?he("",!0):(J(),vt(V(c_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):he("",!0),K("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(_=V(l))==null?void 0:_.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:y[1]||(y[1]=()=>p(!1)),onKeydown:y[2]||(y[2]=zc(()=>p(!1),["enter"]))},[m.$slots.year?Fe(m.$slots,"year",{key:0,year:e.year}):he("",!0),m.$slots.year?he("",!0):(J(),ie(De,{key:1},[Jn(Me(e.year),1)],64))],40,MK),V(i)(V(s),e.instance)?(J(),vt(oh,{key:1,ref:"mpNextIconRef","aria-label":(w=V(l))==null?void 0:w.nextYear,disabled:e.isDisabled(!0),class:Ue((k=V(c))==null?void 0:k.navBtnNext),onActivate:y[3]||(y[3]=O=>g(!0))},{default:Je(()=>[m.$slots["arrow-right"]?Fe(m.$slots,"arrow-right",{key:0}):he("",!0),m.$slots["arrow-right"]?he("",!0):(J(),vt(V(f_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):he("",!0)],2),it(Hf,{name:V(d)(e.showYearPicker),css:V(f)},{default:Je(()=>{var O,S;return[e.showYearPicker?(J(),vt(kp,{key:0,items:e.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!V(o).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,"overlay-label":(S=(O=V(l))==null?void 0:O.yearPicker)==null?void 0:S.call(O,!0),type:"year",onToggle:p,onSelected:y[4]||(y[4]=E=>v(E))},fi({"button-icon":Je(()=>[m.$slots["calendar-icon"]?Fe(m.$slots,"calendar-icon",{key:0}):he("",!0),m.$slots["calendar-icon"]?he("",!0):(J(),vt(V(qf),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:Je(({item:E})=>[Fe(m.$slots,"year-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):he("",!0)]}),_:3},8,["name","css"])],64)}}}),x_=(e,n,t)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>$t(e,r))){const r=n.value.filter(i=>!$t(i,e));n.value=r.length?r:null}else(t&&+t>n.value.length||!t)&&n.value.push(e);else n.value=[e]},w_=(e,n,t)=>{let r=e.value?e.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?(nr(n,r[0])?r.unshift(n):r[1]=n,t("range-end",n)):(r=[n],t("range-start",n)),r},ey=(e,n,t,r)=>{e&&(e[0]&&e[1]&&t&&n("auto-apply"),e[0]&&!e[1]&&r&&t&&n("auto-apply"))},r$=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(n=>Yi(Ee(n),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Yi(Ee(e.value),e.timezone))},i$=(e,n,t,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(dr(e,n.value[0])||$t(e,n.value[0]))?[n.value[0],e]:r.value.fixedEnd&&(nr(e,n.value[1])||$t(e,n.value[1]))?[e,n.value[1]]:(t("invalid-fixed-range",e),n.value):[],a$=({multiCalendars:e,range:n,highlight:t,propDates:r,calendars:i,modelValue:a,props:o,filters:s,year:l,month:u,emit:c})=>{const f=Oe(()=>g_(o.yearRange,o.locale,o.reverseYears)),d=ge([!1]),h=Oe(()=>(E,T)=>{const M=mn(Za(new Date),{month:u.value(E),year:l.value(E)}),P=T?E3(M):Ah(M);return Q3(P,r.value.maxDate,r.value.minDate,o.preventMinMaxNavigation,T)}),p=()=>Array.isArray(a.value)&&e.value.solo&&a.value[1],v=()=>{for(let E=0;E<e.value.count;E++)if(E===0)i.value[E]=i.value[0];else if(E===e.value.count-1&&p())i.value[E]={month:Lt(a.value[1]),year:mt(a.value[1])};else{const T=mn(Ee(),i.value[E-1]);i.value[E]={month:Lt(T),year:mt(i_(T,1))}}},g=E=>{if(!E)return v();const T=mn(Ee(),i.value[E]);return i.value[0].year=mt(j3(T,e.value.count-1)),v()},m=(E,T)=>{const M=DV(T,E);return n.value.showLastInRange&&M>1?T:E},y=E=>o.focusStartDate||e.value.solo?E[0]:E[1]?m(E[0],E[1]):E[0],b=()=>{if(a.value){const E=Array.isArray(a.value)?y(a.value):a.value;i.value[0]={month:Lt(E),year:mt(E)}}},x=()=>{b(),e.value.count&&v()};Rt(a,(E,T)=>{o.isTextInputDate&&JSON.stringify(E??{})!==JSON.stringify(T??{})&&x()}),tn(()=>{x()});const _=(E,T)=>{i.value[T].year=E,c("update-month-year",{instance:T,year:E,month:i.value[T].month}),e.value.count&&!e.value.solo&&g(T)},w=Oe(()=>E=>df(f.value,T=>{var M;const P=l.value(E)===T.value,A=Ph(T.value,hf(r.value.minDate),hf(r.value.maxDate))||((M=s.value.years)==null?void 0:M.includes(l.value(E))),N=b_(t.value,T.value);return{active:P,disabled:A,highlighted:N}})),k=(E,T)=>{_(E,T),S(T)},O=(E,T=!1)=>{if(!h.value(E,T)){const M=T?l.value(E)+1:l.value(E)-1;_(M,E)}},S=(E,T=!1,M)=>{T||c("reset-flow"),M!==void 0?d.value[E]=M:d.value[E]=!d.value[E],d.value[E]?c("overlay-toggle",{open:!0,overlay:ii.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:ii.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:d,selectYear:_,toggleYearPicker:S,handleYearSelect:k,handleYear:O}},AK=(e,n)=>{const{defaultedMultiCalendars:t,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:a,defaultedRange:o,defaultedHighlight:s,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:f}=Wn(e),d=()=>{e.isTextInputDate&&x(mt(Ee(e.startDate)),0)},{modelValue:h,year:p,month:v,calendars:g}=Sp(e,n,d),m=Oe(()=>Y3(e.formatLocale,e.locale,e.monthNameFormat)),y=ge(null),{checkMinMaxRange:b}=Pl(e),{selectYear:x,groupedYears:_,showYearPicker:w,toggleYearPicker:k,handleYearSelect:O,handleYear:S,isDisabled:E}=a$({modelValue:h,multiCalendars:t,range:o,highlight:s,calendars:g,year:p,propDates:l,month:v,filters:c,props:e,emit:n});tn(()=>{e.startDate&&(h.value&&e.focusStartDate||!h.value)&&x(mt(Ee(e.startDate)),0)});const T=B=>B?{month:Lt(B),year:mt(B)}:{month:null,year:null},M=()=>h.value?Array.isArray(h.value)?h.value.map(B=>T(B)):T(h.value):T(),P=(B,U)=>{const q=g.value[B],$=M();return Array.isArray($)?$.some(W=>W.year===(q==null?void 0:q.year)&&W.month===U):(q==null?void 0:q.year)===$.year&&U===$.month},A=(B,U,q)=>{var $,W;const Q=M();return Array.isArray(Q)?p.value(U)===(($=Q[q])==null?void 0:$.year)&&B===((W=Q[q])==null?void 0:W.month):!1},N=(B,U)=>{if(o.value.enabled){const q=M();if(Array.isArray(h.value)&&Array.isArray(q)){const $=A(B,U,0)||A(B,U,1),W=Ss(Za(Ee()),B,p.value(U));return Ch(h.value,y.value,W)&&!$}return!1}return!1},R=Oe(()=>B=>df(m.value,U=>{var q;const $=P(B,U.value),W=Ph(U.value,X3(p.value(B),l.value.minDate),q3(p.value(B),l.value.maxDate))||Qq(l.value.disabledDates,p.value(B),U.value)||((q=c.value.months)==null?void 0:q.includes(U.value))||!Jq(l.value.allowedDates,p.value(B),U.value),Q=N(U.value,B),oe=e$(s.value,U.value,p.value(B));return{active:$,disabled:W,isBetween:Q,highlighted:oe}})),C=(B,U)=>Ss(Za(Ee()),B,p.value(U)),L=(B,U)=>{const q=h.value?h.value:Za(new Date);h.value=Ss(q,B,p.value(U)),n("auto-apply"),n("update-flow-step")},I=(B,U)=>{const q=C(B,U);o.value.fixedEnd||o.value.fixedStart?h.value=i$(q,h,n,o):h.value?b(q,h.value)&&(h.value=w_(h,C(B,U),n)):h.value=[C(B,U)],vn().then(()=>{ey(h.value,n,e.autoApply,e.modelAuto)})},j=(B,U)=>{x_(C(B,U),h,f.value.limit),n("auto-apply",!0)},F=(B,U)=>(g.value[U].month=B,D(U,g.value[U].year,B),f.value.enabled?j(B,U):o.value.enabled?I(B,U):L(B,U)),z=(B,U)=>{x(B,U),D(U,B,null)},D=(B,U,q)=>{let $=q;if(!$&&$!==0){const W=M();$=Array.isArray(W)?W[B].month:W.month}n("update-month-year",{instance:B,year:U,month:$})};return{groupedMonths:R,groupedYears:_,year:p,isDisabled:E,defaultedMultiCalendars:t,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:a,showYearPicker:w,modelValue:h,presetDate:(B,U)=>{r$({value:B,modelValue:h,range:o.value.enabled,timezone:U?void 0:u.value.timezone}),n("auto-apply")},setHoverDate:(B,U)=>{y.value=C(B,U)},selectMonth:F,selectYear:z,toggleYearPicker:k,handleYearSelect:O,handleYear:S,getModelMonthYear:M}},PK=Nt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...yo},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:n,emit:t}){const r=t,i=Xu(),a=ta(i,"yearMode"),o=e;tn(()=>{o.shadow||r("mount",null)});const{groupedMonths:s,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:f,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:v,setHoverDate:g,selectMonth:m,selectYear:y,toggleYearPicker:b,handleYearSelect:x,handleYear:_,getModelMonthYear:w}=AK(o,r);return n({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:m,selectYear:y,handleYear:_}),presetDate:v,toggleYearPicker:k=>b(0,k)}),(k,O)=>(J(),vt(Jm,{"multi-calendars":V(f).count,collapse:k.collapse,stretch:"","is-mobile":k.isMobile},{default:Je(({instance:S})=>[k.$slots["top-extra"]?Fe(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):he("",!0),k.$slots["month-year"]?Fe(k.$slots,"month-year",Dr(Tr({key:1},{year:V(u),months:V(s)(S),years:V(l)(S),selectMonth:V(m),selectYear:V(y),instance:S}))):(J(),vt(kp,{key:2,items:V(s)(S),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!V(d).keepActionRow,"esc-close":k.escClose,height:V(d).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:E=>V(m)(E,S),onHoverValue:E=>V(g)(E,S)},fi({header:Je(()=>[it(n$,Tr(k.$props,{items:V(l)(S),instance:S,"show-year-picker":V(h)[S],year:V(u)(S),"is-disabled":E=>V(c)(S,E),onHandleYear:E=>V(_)(S,E),onYearSelect:E=>V(x)(E,S),onToggleYearPicker:E=>V(b)(S,E==null?void 0:E.flow,E==null?void 0:E.show)}),fi({_:2},[Mt(V(a),(E,T)=>({name:E,fn:Je(M=>[Fe(k.$slots,E,Dr(Oi(M)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:Je(({item:E})=>[Fe(k.$slots,"month-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),CK=(e,n)=>{const t=()=>{e.isTextInputDate&&(c.value=mt(Ee(e.startDate)))},{modelValue:r}=Sp(e,n,t),i=ge(null),{defaultedHighlight:a,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:l,propDates:u}=Wn(e),c=ge();tn(()=>{e.startDate&&(r.value&&e.focusStartDate||!r.value)&&(c.value=mt(Ee(e.startDate)))});const f=m=>Array.isArray(r.value)?r.value.some(y=>mt(y)===m):r.value?mt(r.value)===m:!1,d=m=>l.value.enabled&&Array.isArray(r.value)?Ch(r.value,i.value,g(m)):!1,h=m=>u.value.allowedDates instanceof Map?u.value.allowedDates.size?u.value.allowedDates.has(`${m}`):!1:!0,p=m=>u.value.disabledDates instanceof Map?u.value.disabledDates.size?u.value.disabledDates.has(`${m}`):!1:!0,v=Oe(()=>df(g_(e.yearRange,e.locale,e.reverseYears),m=>{const y=f(m.value),b=Ph(m.value,hf(u.value.minDate),hf(u.value.maxDate))||s.value.years.includes(m.value)||!h(m.value)||p(m.value),x=d(m.value)&&!y,_=b_(a.value,m.value);return{active:y,disabled:b,isBetween:x,highlighted:_}})),g=m=>zo(Za(Ah(new Date)),m);return{groupedYears:v,modelValue:r,focusYear:c,setHoverValue:m=>{i.value=zo(Za(new Date),m)},selectYear:m=>{var y;if(n("update-month-year",{instance:0,year:m}),o.value.enabled)return r.value?Array.isArray(r.value)&&(((y=r.value)==null?void 0:y.map(b=>mt(b))).includes(m)?r.value=r.value.filter(b=>mt(b)!==m):r.value.push(zo(jr(Ee()),m))):r.value=[zo(jr(Ah(Ee())),m)],n("auto-apply",!0);l.value.enabled?(r.value=w_(r,g(m),n),vn().then(()=>{ey(r.value,n,e.autoApply,e.modelAuto)})):(r.value=g(m),n("auto-apply"))}}},RK=Nt({compatConfig:{MODE:3},__name:"YearPicker",props:{...yo},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:n,emit:t}){const r=t,i=e,{groupedYears:a,modelValue:o,focusYear:s,selectYear:l,setHoverValue:u}=CK(i,r),{defaultedConfig:c}=Wn(i);return n({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(f,d)=>(J(),ie("div",null,[f.$slots["top-extra"]?Fe(f.$slots,"top-extra",{key:0,value:f.internalModelValue}):he("",!0),f.$slots["month-year"]?Fe(f.$slots,"month-year",Dr(Tr({key:1},{years:V(a),selectYear:V(l)}))):(J(),vt(kp,{key:2,items:V(a),"is-last":f.autoApply&&!V(c).keepActionRow,height:V(c).modeHeight,config:f.config,"no-overlay-focus":!!(f.noOverlayFocus||f.textInput),"focus-value":V(s),type:"year","use-relative":"",onSelected:V(l),onHoverValue:V(u)},fi({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:Je(({item:h})=>[Fe(f.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),NK={key:0,class:"dp__time_input"},LK=["data-compact","data-collapsed"],$K=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],IK=["aria-label","disabled","data-test-id","onKeydown","onClick"],DK=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],FK={key:0},BK=["aria-label","data-compact"],jK=Nt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...yo},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:n,emit:t}){const r=t,i=e,{setTimePickerElements:a,setTimePickerBackRef:o}=Al(),{defaultedAriaLabels:s,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:f,defaultedMultiCalendars:d}=Wn(i),{transitionName:h,showTransition:p}=Op(l),v=ls({hours:!1,minutes:!1,seconds:!1}),g=ge("AM"),m=ge(null),y=ge([]),b=ge(),x=ge(!1);tn(()=>{r("mounted")});const _=Y=>mn(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:i.enableSeconds?Y.seconds:0,milliseconds:0}),w=Oe(()=>Y=>I(Y,i[Y])||O(Y,i[Y])),k=Oe(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),O=(Y,re)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!i.validateTime(Y,re):!1,S=(Y,re)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const te=re?+i[`${Y}Increment`]:-+i[`${Y}Increment`],ae=i[Y]+te;return!i.validateTime(Y,ae)}return!1},E=Oe(()=>Y=>!B(+i[Y]+ +i[`${Y}Increment`],Y)||S(Y,!0)),T=Oe(()=>Y=>!B(+i[Y]-+i[`${Y}Increment`],Y)||S(Y,!1)),M=(Y,re)=>x3(mn(Ee(),Y),re),P=(Y,re)=>Rq(mn(Ee(),Y),re),A=Oe(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),N=Oe(()=>i.timePickerInline&&f.value.enabled&&!d.value.count),R=Oe(()=>{const Y=[{type:"hours"}];return i.enableMinutes&&Y.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Y.push({type:"",separator:!0},{type:"seconds"}),Y}),C=Oe(()=>R.value.filter(Y=>!Y.separator)),L=Oe(()=>Y=>{if(Y==="hours"){const re=oe(+i.hours);return{text:re<10?`0${re}`:`${re}`,value:re}}return{text:i[Y]<10?`0${i[Y]}`:`${i[Y]}`,value:i[Y]}}),I=(Y,re)=>{var te;if(!i.disabledTimesConfig)return!1;const ae=i.disabledTimesConfig(i.order,Y==="hours"?re:void 0);return ae[Y]?!!((te=ae[Y])!=null&&te.includes(re)):!0},j=(Y,re)=>re!=="hours"||g.value==="AM"?Y:Y+12,F=Y=>{const re=i.is24?24:12,te=Y==="hours"?re:60,ae=+i[`${Y}GridIncrement`],ue=Y==="hours"&&!i.is24?ae:0,pe=[];for(let ve=ue;ve<te;ve+=ae)pe.push({value:i.is24?ve:j(ve,Y),text:ve<10?`0${ve}`:`${ve}`});return Y==="hours"&&!i.is24&&pe.unshift({value:g.value==="PM"?12:0,text:"12"}),df(pe,ve=>({active:!1,disabled:u.value.times[Y].includes(ve.value)||!B(ve.value,Y)||I(Y,ve.value)||O(Y,ve.value)}))},z=Y=>Y>=0?Y:59,D=Y=>Y>=0?Y:23,B=(Y,re)=>{const te=i.minTime?_(P1(i.minTime)):null,ae=i.maxTime?_(P1(i.maxTime)):null,ue=_(P1(k.value,re,re==="minutes"||re==="seconds"?z(Y):D(Y)));return te&&ae?(cf(ue,ae)||Pc(ue,ae))&&(Mu(ue,te)||Pc(ue,te)):te?Mu(ue,te)||Pc(ue,te):ae?cf(ue,ae)||Pc(ue,ae):!0},U=Y=>i[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],q=Y=>{U(Y)||(v[Y]=!v[Y],v[Y]?(x.value=!0,r("overlay-opened",Y)):(x.value=!1,r("overlay-closed",Y)))},$=Y=>Y==="hours"?Ns:Y==="minutes"?bl:uf,W=()=>{b.value&&clearTimeout(b.value)},Q=(Y,re=!0,te)=>{const ae=re?M:P,ue=re?+i[`${Y}Increment`]:-+i[`${Y}Increment`];B(+i[Y]+ue,Y)&&r(`update:${Y}`,$(Y)(ae({[Y]:+i[Y]},{[Y]:+i[`${Y}Increment`]}))),!(te!=null&&te.keyboard)&&c.value.timeArrowHoldThreshold&&(b.value=setTimeout(()=>{Q(Y,re)},c.value.timeArrowHoldThreshold))},oe=Y=>i.is24?Y:(Y>=12?g.value="PM":g.value="AM",Bq(Y)),ee=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},H=Y=>{v[Y]=!0},G=(Y,re,te)=>{if(Y&&i.arrowNavigation){Array.isArray(y.value[re])?y.value[re][te]=Y:y.value[re]=[Y];const ae=y.value.reduce((ue,pe)=>pe.map((ve,Te)=>[...ue[Te]||[],pe[Te]]),[]);o(i.closeTimePickerBtn),m.value&&(ae[1]=ae[1].concat(m.value)),a(ae,i.order)}},X=(Y,re)=>(q(Y),r(`update:${Y}`,re));return n({openChildCmp:H}),(Y,re)=>{var te;return Y.disabled?he("",!0):(J(),ie("div",NK,[(J(!0),ie(De,null,Mt(R.value,(ae,ue)=>{var pe,ve,Te;return J(),ie("div",{key:ue,class:Ue(A.value),"data-compact":N.value&&!Y.enableSeconds,"data-collapsed":N.value&&Y.enableSeconds},[ae.separator?(J(),ie(De,{key:0},[x.value?he("",!0):(J(),ie(De,{key:0},[Jn(":")],64))],64)):(J(),ie(De,{key:1},[K("button",{ref_for:!0,ref:ne=>G(ne,ue,0),type:"button",class:Ue({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_top:Y.timePickerInline,dp__inc_dec_button_disabled:E.value(ae.type),"dp--hidden-el":x.value}),"data-test-id":`${ae.type}-time-inc-btn-${i.order}`,"aria-label":(pe=V(s))==null?void 0:pe.incrementValue(ae.type),tabindex:"0",onKeydown:ne=>V(Si)(ne,()=>Q(ae.type,!0,{keyboard:!0}),!0),onClick:ne=>V(c).timeArrowHoldThreshold?void 0:Q(ae.type,!0),onMousedown:ne=>V(c).timeArrowHoldThreshold?Q(ae.type,!0):void 0,onMouseup:W},[i.timePickerInline?(J(),ie(De,{key:1},[Y.$slots["tp-inline-arrow-up"]?Fe(Y.$slots,"tp-inline-arrow-up",{key:0}):(J(),ie(De,{key:1},[re[2]||(re[2]=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[3]||(re[3]=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(J(),ie(De,{key:0},[Y.$slots["arrow-up"]?Fe(Y.$slots,"arrow-up",{key:0}):he("",!0),Y.$slots["arrow-up"]?he("",!0):(J(),vt(V(h_),{key:1}))],64))],42,$K),K("button",{ref_for:!0,ref:ne=>G(ne,ue,1),type:"button","aria-label":`${L.value(ae.type).text}-${(ve=V(s))==null?void 0:ve.openTpOverlay(ae.type)}`,class:Ue({dp__time_display:!0,dp__time_display_block:!Y.timePickerInline,dp__time_display_inline:Y.timePickerInline,"dp--time-invalid":w.value(ae.type),"dp--time-overlay-btn":!w.value(ae.type),"dp--hidden-el":x.value}),disabled:U(ae.type),tabindex:"0","data-test-id":`${ae.type}-toggle-overlay-btn-${i.order}`,onKeydown:ne=>V(Si)(ne,()=>q(ae.type),!0),onClick:ne=>q(ae.type)},[Y.$slots[ae.type]?Fe(Y.$slots,ae.type,{key:0,text:L.value(ae.type).text,value:L.value(ae.type).value}):he("",!0),Y.$slots[ae.type]?he("",!0):(J(),ie(De,{key:1},[Jn(Me(L.value(ae.type).text),1)],64))],42,IK),K("button",{ref_for:!0,ref:ne=>G(ne,ue,2),type:"button",class:Ue({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_bottom:Y.timePickerInline,dp__inc_dec_button_disabled:T.value(ae.type),"dp--hidden-el":x.value}),"data-test-id":`${ae.type}-time-dec-btn-${i.order}`,"aria-label":(Te=V(s))==null?void 0:Te.decrementValue(ae.type),tabindex:"0",onKeydown:ne=>V(Si)(ne,()=>Q(ae.type,!1,{keyboard:!0}),!0),onClick:ne=>V(c).timeArrowHoldThreshold?void 0:Q(ae.type,!1),onMousedown:ne=>V(c).timeArrowHoldThreshold?Q(ae.type,!1):void 0,onMouseup:W},[i.timePickerInline?(J(),ie(De,{key:1},[Y.$slots["tp-inline-arrow-down"]?Fe(Y.$slots,"tp-inline-arrow-down",{key:0}):(J(),ie(De,{key:1},[re[4]||(re[4]=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),re[5]||(re[5]=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(J(),ie(De,{key:0},[Y.$slots["arrow-down"]?Fe(Y.$slots,"arrow-down",{key:0}):he("",!0),Y.$slots["arrow-down"]?he("",!0):(J(),vt(V(p_),{key:1}))],64))],42,DK)],64))],10,LK)}),128)),Y.is24?he("",!0):(J(),ie("div",FK,[Y.$slots["am-pm-button"]?Fe(Y.$slots,"am-pm-button",{key:0,toggle:ee,value:g.value}):he("",!0),Y.$slots["am-pm-button"]?he("",!0):(J(),ie("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(te=V(s))==null?void 0:te.amPmButton,tabindex:"0","data-compact":N.value,onClick:ee,onKeydown:re[0]||(re[0]=ae=>V(Si)(ae,()=>ee(),!0))},Me(g.value),41,BK))])),(J(!0),ie(De,null,Mt(C.value,(ae,ue)=>(J(),vt(Hf,{key:ue,name:V(h)(v[ae.type]),css:V(p)},{default:Je(()=>{var pe,ve;return[v[ae.type]?(J(),vt(kp,{key:0,items:F(ae.type),"is-last":Y.autoApply&&!V(c).keepActionRow,"esc-close":Y.escClose,type:ae.type,"text-input":Y.textInput,config:Y.config,"arrow-navigation":Y.arrowNavigation,"aria-labels":Y.ariaLabels,"overlay-label":(ve=(pe=V(s)).timeOverlay)==null?void 0:ve.call(pe,ae.type),onSelected:Te=>X(ae.type,Te),onToggle:Te=>q(ae.type),onResetFlow:re[1]||(re[1]=Te=>Y.$emit("reset-flow"))},fi({"button-icon":Je(()=>[Y.$slots["clock-icon"]?Fe(Y.$slots,"clock-icon",{key:0}):he("",!0),Y.$slots["clock-icon"]?he("",!0):(J(),vt(yp(Y.timePickerInline?V(qf):V(d_)),{key:1}))]),_:2},[Y.$slots[`${ae.type}-overlay-value`]?{name:"item",fn:Je(({item:Te})=>[Fe(Y.$slots,`${ae.type}-overlay-value`,{text:Te.text,value:Te.value})]),key:"0"}:void 0,Y.$slots[`${ae.type}-overlay-header`]?{name:"header",fn:Je(()=>[Fe(Y.$slots,`${ae.type}-overlay-header`,{toggle:()=>q(ae.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):he("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),zK=["data-dp-mobile"],YK=["aria-label","tabindex"],GK=["role","aria-label","tabindex"],WK=["aria-label"],o$=Nt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...yo},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:n,emit:t}){const r=t,i=e,{buildMatrix:a,setTimePicker:o}=Al(),s=Xu(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:f,defaultedRange:d}=Wn(i),{transitionName:h,showTransition:p}=Op(l),{hideNavigationButtons:v}=ty(),g=ge(null),m=ge(null),y=ge([]),b=ge(null),x=ge(!1);tn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?a([kr(g.value)],"time"):o(!0,i.timePicker)});const _=Oe(()=>d.value.enabled&&i.modelAuto?G3(i.internalModelValue):!0),w=ge(!1),k=I=>({hours:Array.isArray(i.hours)?i.hours[I]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[I]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[I]:i.seconds}),O=Oe(()=>{const I=[];if(d.value.enabled)for(let j=0;j<2;j++)I.push(k(j));else I.push(k(0));return I}),S=(I,j=!1,F="")=>{j||r("reset-flow"),w.value=I,r(I?"overlay-opened":"overlay-closed",ii.time),i.arrowNavigation&&o(I),vn(()=>{F!==""&&y.value[0]&&y.value[0].openChildCmp(F)})},E=Oe(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!f.value.keepActionRow})),T=ta(s,"timePicker"),M=(I,j,F)=>d.value.enabled?j===0?[I,O.value[1][F]]:[O.value[0][F],I]:I,P=I=>{r("update:hours",I)},A=I=>{r("update:minutes",I)},N=I=>{r("update:seconds",I)},R=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const I=W3(b.value);I&&I.focus({preventScroll:!0})}},C=I=>{x.value=!1,r("overlay-closed",I)},L=I=>{x.value=!0,r("overlay-opened",I)};return n({toggleTimePicker:S}),(I,j)=>{var F;return J(),ie("div",{class:"dp--tp-wrap","data-dp-mobile":I.isMobile},[!I.timePicker&&!I.timePickerInline?no((J(),ie("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:Ue({...E.value,"dp--hidden-el":w.value}),"aria-label":(F=V(u))==null?void 0:F.openTimePicker,tabindex:I.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:j[0]||(j[0]=z=>V(Si)(z,()=>S(!0))),onClick:j[1]||(j[1]=z=>S(!0))},[I.$slots["clock-icon"]?Fe(I.$slots,"clock-icon",{key:0}):he("",!0),I.$slots["clock-icon"]?he("",!0):(J(),vt(V(d_),{key:1}))],42,YK)),[[$0,!V(v)(I.hideNavigation,"time")]]):he("",!0),it(Hf,{name:V(h)(w.value),css:V(p)&&!I.timePickerInline},{default:Je(()=>{var z,D;return[w.value||I.timePicker||I.timePickerInline?(J(),ie("div",{key:0,ref_key:"overlayRef",ref:b,role:I.timePickerInline?void 0:"dialog",class:Ue({dp__overlay:!I.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!I.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Be(I.timePicker?{height:`${V(f).modeHeight}px`}:void 0),"aria-label":(z=V(u))==null?void 0:z.timePicker,tabindex:I.timePickerInline?void 0:0},[K("div",{class:Ue(I.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[I.$slots["time-picker-overlay"]?Fe(I.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:P,setMinutes:A,setSeconds:N}):he("",!0),I.$slots["time-picker-overlay"]?he("",!0):(J(),ie("div",{key:1,class:Ue(I.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(J(!0),ie(De,null,Mt(O.value,(B,U)=>no((J(),vt(jK,Tr({key:U,ref_for:!0},{...I.$props,order:U,hours:B.hours,minutes:B.minutes,seconds:B.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:e.disabledTimesConfig,disabled:U===0?V(d).fixedStart:V(d).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(q,$)=>e.validateTime(q,M($,U,q)),"onUpdate:hours":q=>P(M(q,U,"hours")),"onUpdate:minutes":q=>A(M(q,U,"minutes")),"onUpdate:seconds":q=>N(M(q,U,"seconds")),onMounted:R,onOverlayClosed:C,onOverlayOpened:L,onAmPmChange:j[2]||(j[2]=q=>I.$emit("am-pm-change",q))}),fi({_:2},[Mt(V(T),(q,$)=>({name:q,fn:Je(W=>[Fe(I.$slots,q,Tr({ref_for:!0},W))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[$0,U===0?!0:_.value]])),128))],2)),!I.timePicker&&!I.timePickerInline?no((J(),ie("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:Ue({...E.value,"dp--hidden-el":x.value}),"aria-label":(D=V(u))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:j[3]||(j[3]=B=>V(Si)(B,()=>S(!1))),onClick:j[4]||(j[4]=B=>S(!1))},[I.$slots["calendar-icon"]?Fe(I.$slots,"calendar-icon",{key:0}):he("",!0),I.$slots["calendar-icon"]?he("",!0):(J(),vt(V(qf),{key:1}))],42,WK)),[[$0,!V(v)(I.hideNavigation,"time")]]):he("",!0)],2)],14,GK)):he("",!0)]}),_:3},8,["name","css"])],8,zK)}}}),s$=(e,n,t,r)=>{const{defaultedRange:i}=Wn(e),a=(b,x)=>Array.isArray(n[b])?n[b][x]:n[b],o=b=>e.enableSeconds?Array.isArray(n.seconds)?n.seconds[b]:n.seconds:0,s=(b,x)=>b?x!==void 0?gl(b,a("hours",x),a("minutes",x),o(x)):gl(b,n.hours,n.minutes,o()):B3(Ee(),o(x)),l=(b,x)=>{n[b]=x},u=Oe(()=>e.modelAuto&&i.value.enabled?Array.isArray(t.value)?t.value.length>1:!1:i.value.enabled),c=(b,x)=>{const _=Object.fromEntries(Object.keys(n).map(w=>w===b?[w,x]:[w,n[w]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const w=O=>t.value?gl(t.value[O],_.hours[O],_.minutes[O],_.seconds[O]):null,k=O=>F3(t.value[O],0);return!($t(w(0),w(1))&&(Mu(w(0),k(1))||cf(w(1),k(0))))}return!0},f=(b,x)=>{c(b,x)&&(l(b,x),r&&r())},d=b=>{f("hours",b)},h=b=>{f("minutes",b)},p=b=>{f("seconds",b)},v=(b,x,_,w)=>{x&&d(b),!x&&!_&&h(b),_&&p(b),t.value&&w(t.value)},g=b=>{if(b){const x=Array.isArray(b),_=x?[+b[0].hours,+b[1].hours]:+b.hours,w=x?[+b[0].minutes,+b[1].minutes]:+b.minutes,k=x?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",_),l("minutes",w),e.enableSeconds&&l("seconds",k)}},m=(b,x)=>{const _={hours:Array.isArray(n.hours)?n.hours[b]:n.hours,disabledArr:[]};return(x||x===0)&&(_.hours=x),Array.isArray(e.disabledTimes)&&(_.disabledArr=i.value.enabled&&Array.isArray(e.disabledTimes[b])?e.disabledTimes[b]:e.disabledTimes),_},y=Oe(()=>(b,x)=>{var _;if(Array.isArray(e.disabledTimes)){const{disabledArr:w,hours:k}=m(b,x),O=w.filter(S=>+S.hours===k);return((_=O[0])==null?void 0:_.minutes)==="*"?{hours:[k],minutes:void 0,seconds:void 0}:{hours:[],minutes:(O==null?void 0:O.map(S=>+S.minutes))??[],seconds:(O==null?void 0:O.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:g,validateTime:c,disabledTimesConfig:y}},HK=(e,n)=>{const t=()=>{e.isTextInputDate&&x()},{modelValue:r,time:i}=Sp(e,n,t),{defaultedStartTime:a,defaultedRange:o,defaultedTz:s}=Wn(e),{updateTimeValues:l,getSetDateTime:u,setTime:c,assignStartTime:f,disabledTimesConfig:d,validateTime:h}=s$(e,i,r,p);function p(){n("update-flow-step")}const v=w=>{const{hours:k,minutes:O,seconds:S}=w;return{hours:+k,minutes:+O,seconds:S?+S:0}},g=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const k=v(e.startTime[0]),O=v(e.startTime[1]);return[mn(Ee(),k),mn(Ee(),O)]}const w=v(e.startTime);return mn(Ee(),w)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[w,k]=g();r.value=[Yi(u(w,0),s.value.timezone),Yi(u(k,1),s.value.timezone)]}else r.value=Yi(u(g()),s.value.timezone)},y=w=>Array.isArray(w)?[xu(Ee(w[0])),xu(Ee(w[1]))]:[xu(w??Ee())],b=(w,k,O)=>{c("hours",w),c("minutes",k),c("seconds",e.enableSeconds?O:0)},x=()=>{const[w,k]=y(r.value);return o.value.enabled?b([w.hours,k.hours],[w.minutes,k.minutes],[w.seconds,k.seconds]):b(w.hours,w.minutes,w.seconds)};tn(()=>{if(!e.shadow)return f(a.value),r.value?x():m()});const _=()=>{Array.isArray(r.value)?r.value=r.value.map((w,k)=>w&&u(w,k)):r.value=u(r.value),n("time-update")};return{modelValue:r,time:i,disabledTimesConfig:d,updateTime:(w,k=!0,O=!1)=>{l(w,k,O,_)},validateTime:h}},UK=Nt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...yo},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:n,emit:t}){const r=t,i=e,a=Xu(),o=ta(a,"timePicker"),s=ge(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:f,validateTime:d}=HK(i,r);return tn(()=>{i.shadow||r("mount",null)}),n({getSidebarProps:()=>({modelValue:u,time:l,updateTime:f}),toggleTimePicker:(h,p=!1,v="")=>{var g;(g=s.value)==null||g.toggleTimePicker(h,p,v)}}),(h,p)=>(J(),vt(Jm,{"multi-calendars":0,stretch:"","is-mobile":h.isMobile},{default:Je(()=>[it(o$,Tr({ref_key:"tpRef",ref:s},h.$props,{hours:V(l).hours,minutes:V(l).minutes,seconds:V(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":V(c),"validate-time":V(d),"onUpdate:hours":p[0]||(p[0]=v=>V(f)(v)),"onUpdate:minutes":p[1]||(p[1]=v=>V(f)(v,!1)),"onUpdate:seconds":p[2]||(p[2]=v=>V(f)(v,!1,!0)),onAmPmChange:p[3]||(p[3]=v=>h.$emit("am-pm-change",v)),onResetFlow:p[4]||(p[4]=v=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=v=>h.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:p[6]||(p[6]=v=>h.$emit("overlay-toggle",{open:!0,overlay:v}))}),fi({_:2},[Mt(V(o),(v,g)=>({name:v,fn:Je(m=>[Fe(h.$slots,v,Dr(Oi(m)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),VK={class:"dp--header-wrap"},XK={key:0,class:"dp__month_year_wrap"},qK={key:0},KK={class:"dp__month_year_wrap"},ZK=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],QK=Nt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...yo},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:n,emit:t}){const r=t,i=e,{defaultedTransitions:a,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:f,defaultedUI:d}=Wn(i),{transitionName:h,showTransition:p}=Op(a),{buildMatrix:v}=Al(),{handleMonthYearChange:g,isDisabled:m,updateMonthYear:y}=yK(i,r),{showLeftIcon:b,showRightIcon:x}=ty(),_=ge(!1),w=ge(!1),k=ge(!1),O=ge([null,null,null,null]);tn(()=>{r("mount")});const S=D=>({get:()=>i[D],set:B=>{const U=D===Ha.month?Ha.year:Ha.month;r("update-month-year",{[D]:B,[U]:i[U]}),D===Ha.month?C(!0):L(!0)}}),E=Oe(S(Ha.month)),T=Oe(S(Ha.year)),M=Oe(()=>D=>({month:i.month,year:i.year,items:D===Ha.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:D===Ha.month?C:L})),P=Oe(()=>i.months.find(B=>B.value===i.month)||{text:"",value:0}),A=Oe(()=>df(i.months,D=>{const B=i.month===D.value,U=Ph(D.value,X3(i.year,f.value.minDate),q3(i.year,f.value.maxDate))||l.value.months.includes(D.value),q=e$(c.value,D.value,i.year);return{active:B,disabled:U,highlighted:q}})),N=Oe(()=>df(i.years,D=>{const B=i.year===D.value,U=Ph(D.value,hf(f.value.minDate),hf(f.value.maxDate))||l.value.years.includes(D.value),q=b_(c.value,D.value);return{active:B,disabled:U,highlighted:q}})),R=(D,B,U)=>{U!==void 0?D.value=U:D.value=!D.value,D.value?(k.value=!0,r("overlay-opened",B)):(k.value=!1,r("overlay-closed",B))},C=(D=!1,B)=>{I(D),R(_,ii.month,B)},L=(D=!1,B)=>{I(D),R(w,ii.year,B)},I=D=>{D||r("reset-flow")},j=(D,B)=>{i.arrowNavigation&&(O.value[B]=kr(D),v(O.value,"monthYear"))},F=Oe(()=>{var D,B,U,q,$,W;return[{type:Ha.month,index:1,toggle:C,modelValue:E.value,updateModelValue:Q=>E.value=Q,text:P.value.text,showSelectionGrid:_.value,items:A.value,ariaLabel:(D=o.value)==null?void 0:D.openMonthsOverlay,overlayLabel:((U=(B=o.value).monthPicker)==null?void 0:U.call(B,!0))??void 0},{type:Ha.year,index:2,toggle:L,modelValue:T.value,updateModelValue:Q=>T.value=Q,text:H3(i.year,i.locale),showSelectionGrid:w.value,items:N.value,ariaLabel:(q=o.value)==null?void 0:q.openYearsOverlay,overlayLabel:((W=($=o.value).yearPicker)==null?void 0:W.call($,!0))??void 0}]}),z=Oe(()=>i.disableYearSelect?[F.value[0]]:i.yearFirst?[...F.value].reverse():F.value);return n({toggleMonthPicker:C,toggleYearPicker:L,handleMonthYearChange:g}),(D,B)=>{var U,q,$,W,Q,oe;return J(),ie("div",VK,[D.$slots["month-year"]?(J(),ie("div",XK,[Fe(D.$slots,"month-year",Dr(Oi({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:V(y),handleMonthYearChange:V(g),instance:e.instance,isDisabled:V(m)})))])):(J(),ie(De,{key:1},[D.$slots["top-extra"]?(J(),ie("div",qK,[Fe(D.$slots,"top-extra",{value:D.internalModelValue})])):he("",!0),K("div",KK,[V(b)(V(s),e.instance)&&!D.vertical?(J(),vt(oh,{key:0,"aria-label":(U=V(o))==null?void 0:U.prevMonth,disabled:V(m)(!1),class:Ue((q=V(d))==null?void 0:q.navBtnPrev),"el-name":"action-prev",onActivate:B[0]||(B[0]=ee=>V(g)(!1,!0)),onSetRef:B[1]||(B[1]=ee=>j(ee,0))},{default:Je(()=>[D.$slots["arrow-left"]?Fe(D.$slots,"arrow-left",{key:0}):he("",!0),D.$slots["arrow-left"]?he("",!0):(J(),vt(V(c_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):he("",!0),K("div",{class:Ue(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(J(!0),ie(De,null,Mt(z.value,(ee,H)=>(J(),ie(De,{key:ee.type},[K("button",{ref_for:!0,ref:G=>j(G,H+1),type:"button","data-dp-element":`overlay-${ee.type}`,class:Ue(["dp__btn dp__month_year_select",{"dp--hidden-el":k.value}]),"aria-label":`${ee.text}-${ee.ariaLabel}`,"data-test-id":`${ee.type}-toggle-overlay-${e.instance}`,onClick:ee.toggle,onKeydown:G=>V(Si)(G,()=>ee.toggle(),!0)},[D.$slots[ee.type]?Fe(D.$slots,ee.type,{key:0,text:ee.text,value:i[ee.type]}):he("",!0),D.$slots[ee.type]?he("",!0):(J(),ie(De,{key:1},[Jn(Me(ee.text),1)],64))],42,ZK),it(Hf,{name:V(h)(ee.showSelectionGrid),css:V(p)},{default:Je(()=>[ee.showSelectionGrid?(J(),vt(kp,{key:0,items:ee.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!V(u).keepActionRow,"skip-button-ref":!1,config:D.config,type:ee.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,"overlay-label":ee.overlayLabel,onSelected:ee.updateModelValue,onToggle:ee.toggle},fi({"button-icon":Je(()=>[D.$slots["calendar-icon"]?Fe(D.$slots,"calendar-icon",{key:0}):he("",!0),D.$slots["calendar-icon"]?he("",!0):(J(),vt(V(qf),{key:1}))]),_:2},[D.$slots[`${ee.type}-overlay-value`]?{name:"item",fn:Je(({item:G})=>[Fe(D.$slots,`${ee.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,D.$slots[`${ee.type}-overlay`]?{name:"overlay",fn:Je(()=>[Fe(D.$slots,`${ee.type}-overlay`,Tr({ref_for:!0},M.value(ee.type)))]),key:"1"}:void 0,D.$slots[`${ee.type}-overlay-header`]?{name:"header",fn:Je(()=>[Fe(D.$slots,`${ee.type}-overlay-header`,{toggle:ee.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):he("",!0)]),_:2},1032,["name","css"])],64))),128))],2),V(b)(V(s),e.instance)&&D.vertical?(J(),vt(oh,{key:1,"aria-label":($=V(o))==null?void 0:$.prevMonth,"el-name":"action-prev",disabled:V(m)(!1),class:Ue((W=V(d))==null?void 0:W.navBtnPrev),onActivate:B[2]||(B[2]=ee=>V(g)(!1,!0))},{default:Je(()=>[D.$slots["arrow-up"]?Fe(D.$slots,"arrow-up",{key:0}):he("",!0),D.$slots["arrow-up"]?he("",!0):(J(),vt(V(h_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):he("",!0),V(x)(V(s),e.instance)?(J(),vt(oh,{key:2,ref:"rightIcon","el-name":"action-next",disabled:V(m)(!0),"aria-label":(Q=V(o))==null?void 0:Q.nextMonth,class:Ue((oe=V(d))==null?void 0:oe.navBtnNext),onActivate:B[3]||(B[3]=ee=>V(g)(!0,!0)),onSetRef:B[4]||(B[4]=ee=>j(ee,D.disableYearSelect?2:3))},{default:Je(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?Fe(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):he("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?he("",!0):(J(),vt(yp(D.vertical?V(p_):V(f_)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):he("",!0)])],64))])}}}),JK={class:"dp__calendar_header",role:"row"},eZ={key:0,class:"dp__calendar_header_item",role:"gridcell"},tZ=["aria-label"],nZ={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},rZ={class:"dp__cell_inner"},iZ=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],aZ=Nt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...yo},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:n,emit:t}){const r=t,i=e,{buildMultiLevelMatrix:a}=Al(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:f,defaultedUI:d}=Wn(i),h=ge(null),p=ge({bottom:"",left:"",transform:""}),v=ge([]),g=ge(null),m=ge(!0),y=ge(""),b=ge({startX:0,endX:0,startY:0,endY:0}),x=ge([]),_=ge({left:"50%"}),w=ge(!1),k=Oe(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),O=Oe(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):Fq(i.formatLocale,i.locale,+i.weekStart));tn(()=>{r("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",j,{passive:!1}),g.value.addEventListener("touchend",F,{passive:!1}),g.value.addEventListener("touchmove",z,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",U,{passive:!1})}),Ml(()=>{s.value.noSwipe||g.value&&(g.value.removeEventListener("touchstart",j),g.value.removeEventListener("touchend",F),g.value.removeEventListener("touchmove",z)),i.monthChangeOnScroll&&g.value&&g.value.removeEventListener("wheel",U)});const S=ee=>ee?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",E=(ee,H)=>{if(i.transitions){const G=jr(Ss(Ee(),i.month,i.year));y.value=dr(jr(Ss(Ee(),ee,H)),G)?o.value[S(!0)]:o.value[S(!1)],m.value=!1,vn(()=>{m.value=!0})}},T=Oe(()=>({...d.value.calendar??{}})),M=Oe(()=>ee=>{const H=jq(ee);return{dp__marker_dot:H.type==="dot",dp__marker_line:H.type==="line"}}),P=Oe(()=>ee=>$t(ee,h.value)),A=Oe(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),N=Oe(()=>ee=>i.hideOffsetDates?ee.current:!0),R=async(ee,H)=>{const{width:G,height:X}=ee.getBoundingClientRect();h.value=H.value;let Y={left:`${G/2}px`},re=-50;if(await vn(),x.value[0]){const{left:te,width:ae}=x.value[0].getBoundingClientRect();te<0&&(Y={left:"0"},re=0,_.value.left=`${G/2}px`),window.innerWidth<te+ae&&(Y={right:"0"},re=0,_.value.left=`${ae-G/2}px`)}p.value={bottom:`${X}px`,...Y,transform:`translateX(${re}%)`}},C=async(ee,H,G)=>{var X,Y,re;const te=kr(v.value[H][G]);te&&((X=ee.marker)!=null&&X.customPosition&&(re=(Y=ee.marker)==null?void 0:Y.tooltip)!=null&&re.length?p.value=ee.marker.customPosition(te):await R(te,ee),r("tooltip-open",ee.marker))},L=async(ee,H,G)=>{var X,Y;if(w.value&&f.value.enabled&&f.value.dragSelect)return r("select-date",ee);if(r("set-hover-date",ee),(Y=(X=ee.marker)==null?void 0:X.tooltip)!=null&&Y.length){if(i.hideOffsetDates&&!ee.current)return;await C(ee,H,G)}},I=ee=>{h.value&&(h.value=null,p.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ee.marker))},j=ee=>{b.value.startX=ee.changedTouches[0].screenX,b.value.startY=ee.changedTouches[0].screenY},F=ee=>{b.value.endX=ee.changedTouches[0].screenX,b.value.endY=ee.changedTouches[0].screenY,D()},z=ee=>{i.vertical&&!i.inline&&ee.preventDefault()},D=()=>{const ee=i.vertical?"Y":"X";Math.abs(b.value[`start${ee}`]-b.value[`end${ee}`])>10&&r("handle-swipe",b.value[`start${ee}`]>b.value[`end${ee}`]?"right":"left")},B=(ee,H,G)=>{ee&&(Array.isArray(v.value[H])?v.value[H][G]=ee:v.value[H]=[ee]),i.arrowNavigation&&a(v.value,"calendar")},U=ee=>{i.monthChangeOnScroll&&(ee.preventDefault(),r("handle-scroll",ee))},q=ee=>c.value.type==="local"?s_(ee.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?a_(ee.value):typeof c.value.type=="function"?c.value.type(ee.value):"",$=ee=>{const H=ee[0];return c.value.hideOnOffsetDates?ee.some(G=>G.current)?q(H):"":q(H)},W=(ee,H,G=!0)=>{!G&&Hq()||(!f.value.enabled||s.value.allowPreventDefault)&&(vl(ee,s.value),r("select-date",H))},Q=ee=>{vl(ee,s.value)},oe=ee=>{f.value.enabled&&f.value.dragSelect?(w.value=!0,r("select-date",ee)):f.value.enabled&&r("select-date",ee)};return n({triggerTransition:E}),(ee,H)=>(J(),ie("div",{class:Ue(A.value)},[K("div",{ref_key:"calendarWrapRef",ref:g,class:Ue(T.value),role:"grid"},[K("div",JK,[ee.weekNumbers?(J(),ie("div",eZ,Me(ee.weekNumName),1)):he("",!0),(J(!0),ie(De,null,Mt(O.value,(G,X)=>{var Y,re;return J(),ie("div",{key:X,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(re=(Y=V(l))==null?void 0:Y.weekDay)==null?void 0:re.call(Y,X)},[ee.$slots["calendar-header"]?Fe(ee.$slots,"calendar-header",{key:0,day:G,index:X}):he("",!0),ee.$slots["calendar-header"]?he("",!0):(J(),ie(De,{key:1},[Jn(Me(G),1)],64))],8,tZ)}),128))]),H[2]||(H[2]=K("div",{class:"dp__calendar_header_separator"},null,-1)),it(Hf,{name:y.value,css:!!ee.transitions},{default:Je(()=>[m.value?(J(),ie("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:H[1]||(H[1]=G=>w.value=!1)},[(J(!0),ie(De,null,Mt(k.value,(G,X)=>(J(),ie("div",{key:X,class:"dp__calendar_row",role:"row"},[ee.weekNumbers?(J(),ie("div",nZ,[K("div",rZ,Me($(G.days)),1)])):he("",!0),(J(!0),ie(De,null,Mt(G.days,(Y,re)=>{var te,ae,ue;return J(),ie("div",{id:V(Kx)(Y.value),ref_for:!0,ref:pe=>B(pe,X,re),key:re+X,role:"gridcell",class:"dp__calendar_item","aria-pressed":(Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start)??void 0,"aria-disabled":Y.classData.dp__cell_disabled||void 0,"aria-label":(ae=(te=V(l))==null?void 0:te.day)==null?void 0:ae.call(te,Y),tabindex:!Y.current&&ee.hideOffsetDates?void 0:0,"data-test-id":V(Kx)(Y.value),onClick:ra(pe=>W(pe,Y),["prevent"]),onTouchend:pe=>W(pe,Y,!1),onKeydown:pe=>V(Si)(pe,()=>ee.$emit("select-date",Y)),onMouseenter:pe=>L(Y,X,re),onMouseleave:pe=>I(Y),onMousedown:pe=>oe(Y),onMouseup:H[0]||(H[0]=pe=>w.value=!1)},[K("div",{class:Ue(["dp__cell_inner",Y.classData])},[ee.$slots.day&&N.value(Y)?Fe(ee.$slots,"day",{key:0,day:+Y.text,date:Y.value}):he("",!0),ee.$slots.day?he("",!0):(J(),ie(De,{key:1},[Jn(Me(Y.text),1)],64)),Y.marker&&N.value(Y)?(J(),ie(De,{key:2},[ee.$slots.marker?Fe(ee.$slots,"marker",{key:0,marker:Y.marker,day:+Y.text,date:Y.value}):(J(),ie("div",{key:1,class:Ue(M.value(Y.marker)),style:Be(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6))],64)):he("",!0),P.value(Y.value)?(J(),ie("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:x,class:"dp__marker_tooltip",style:Be(p.value)},[(ue=Y.marker)!=null&&ue.tooltip?(J(),ie("div",{key:0,class:"dp__tooltip_content",onClick:Q},[(J(!0),ie(De,null,Mt(Y.marker.tooltip,(pe,ve)=>(J(),ie("div",{key:ve,class:"dp__tooltip_text"},[ee.$slots["marker-tooltip"]?Fe(ee.$slots,"marker-tooltip",{key:0,tooltip:pe,day:Y.value}):he("",!0),ee.$slots["marker-tooltip"]?he("",!0):(J(),ie(De,{key:1},[K("div",{class:"dp__tooltip_mark",style:Be(pe.color?{backgroundColor:pe.color}:{})},null,4),K("div",null,Me(pe.text),1)],64))]))),128)),K("div",{class:"dp__arrow_bottom_tp",style:Be(_.value)},null,4)])):he("",!0)],4)):he("",!0)],2)],40,iZ)}),128))]))),128))],32)):he("",!0)]),_:3},8,["name","css"])],2)],2))}}),sT=e=>Array.isArray(e),oZ=(e,n,t,r)=>{const i=ge([]),a=ge(new Date),o=ge(),s=()=>F(e.isTextInputDate),{modelValue:l,calendars:u,time:c,today:f}=Sp(e,n,s),{defaultedMultiCalendars:d,defaultedStartTime:h,defaultedRange:p,defaultedConfig:v,defaultedTz:g,propDates:m,defaultedMultiDates:y}=Wn(e),{validateMonthYearInRange:b,isDisabled:x,isDateRangeAllowed:_,checkMinMaxRange:w}=Pl(e),{updateTimeValues:k,getSetDateTime:O,setTime:S,assignStartTime:E,validateTime:T,disabledTimesConfig:M}=s$(e,c,l,r),P=Oe(()=>fe=>u.value[fe]?u.value[fe].month:0),A=Oe(()=>fe=>u.value[fe]?u.value[fe].year:0),N=fe=>!v.value.keepViewOnOffsetClick||fe?!0:!o.value,R=(fe,Le,st,Tt=!1)=>{var ke,Ye;N(Tt)&&(u.value[fe]||(u.value[fe]={month:0,year:0}),u.value[fe].month=tT(Le)?(ke=u.value[fe])==null?void 0:ke.month:Le,u.value[fe].year=tT(st)?(Ye=u.value[fe])==null?void 0:Ye.year:st)},C=()=>{e.autoApply&&n("select-date")},L=()=>{h.value&&E(h.value)};tn(()=>{e.shadow||(l.value||(H(),L()),F(!0),e.focusStartDate&&e.startDate&&H())});const I=Oe(()=>{var fe;return(fe=e.flow)!=null&&fe.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),j=()=>{e.autoApply&&I.value&&n("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},F=(fe=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,W(fe)):B(l.value,fe);if(d.value.count&&fe&&!e.startDate)return D(Ee(),fe)},z=()=>Array.isArray(l.value)&&p.value.enabled?Lt(l.value[0])===Lt(l.value[1]??l.value[0]):!1,D=(fe=new Date,Le=!1)=>{if((!d.value.count||!d.value.static||Le)&&R(0,Lt(fe),mt(fe)),d.value.count&&(!l.value||z()||!d.value.solo)&&(!d.value.solo||Le))for(let st=1;st<d.value.count;st++){const Tt=mn(Ee(),{month:P.value(st-1),year:A.value(st-1)}),ke=x3(Tt,{months:1});u.value[st]={month:Lt(ke),year:mt(ke)}}},B=(fe,Le)=>{D(fe),S("hours",Ns(fe)),S("minutes",bl(fe)),S("seconds",uf(fe)),d.value.count&&Le&&ee()},U=fe=>{if(d.value.count){if(d.value.solo)return 0;const Le=Lt(fe[0]),st=Lt(fe[1]);return Math.abs(st-Le)<d.value.count?0:1}return 1},q=(fe,Le)=>{fe[1]&&p.value.showLastInRange?D(fe[U(fe)],Le):D(fe[0],Le);const st=(Tt,ke)=>[Tt(fe[0]),fe[1]?Tt(fe[1]):c[ke][1]];S("hours",st(Ns,"hours")),S("minutes",st(bl,"minutes")),S("seconds",st(uf,"seconds"))},$=(fe,Le)=>{if((p.value.enabled||e.weekPicker)&&!y.value.enabled)return q(fe,Le);if(y.value.enabled&&Le){const st=fe[fe.length-1];return B(st,Le)}},W=fe=>{const Le=l.value;$(Le,fe),d.value.count&&d.value.solo&&ee()},Q=(fe,Le)=>{const st=mn(Ee(),{month:P.value(Le),year:A.value(Le)}),Tt=fe<0?io(st,1):ff(st,1);b(Lt(Tt),mt(Tt),fe<0,e.preventMinMaxNavigation)&&(R(Le,Lt(Tt),mt(Tt)),n("update-month-year",{instance:Le,month:Lt(Tt),year:mt(Tt)}),d.value.count&&!d.value.solo&&oe(Le),t())},oe=fe=>{for(let Le=fe-1;Le>=0;Le--){const st=ff(mn(Ee(),{month:P.value(Le+1),year:A.value(Le+1)}),1);R(Le,Lt(st),mt(st))}for(let Le=fe+1;Le<=d.value.count-1;Le++){const st=io(mn(Ee(),{month:P.value(Le-1),year:A.value(Le-1)}),1);R(Le,Lt(st),mt(st))}},ee=()=>{if(Array.isArray(l.value)&&l.value.length===2){const fe=Ee(Ee(l.value[1]?l.value[1]:io(l.value[0],1))),[Le,st]=[Lt(l.value[0]),mt(l.value[0])],[Tt,ke]=[Lt(l.value[1]),mt(l.value[1])];(Le!==Tt||Le===Tt&&st!==ke)&&d.value.solo&&R(1,Lt(fe),mt(fe))}else l.value&&!Array.isArray(l.value)&&(R(0,Lt(l.value),mt(l.value)),D(Ee()))},H=()=>{e.startDate&&(R(0,Lt(Ee(e.startDate)),mt(Ee(e.startDate))),d.value.count&&oe(0))},G=(fe,Le)=>{if(e.monthChangeOnScroll){const st=new Date().getTime()-a.value.getTime(),Tt=Math.abs(fe.deltaY);let ke=500;Tt>1&&(ke=100),Tt>100&&(ke=0),st>ke&&(a.value=new Date,Q(e.monthChangeOnScroll!=="inverse"?-fe.deltaY:fe.deltaY,Le))}},X=(fe,Le,st=!1)=>{e.monthChangeOnArrows&&e.vertical===st&&Y(fe,Le)},Y=(fe,Le)=>{Q(fe==="right"?-1:1,Le)},re=fe=>{if(m.value.markers)return pg(fe.value,m.value.markers)},te=(fe,Le)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||Le>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},ae=(fe,Le,st,Tt)=>{if(e.sixWeeks&&fe.length<6){const ke=6-fe.length,Ye=(Le.getDay()+7-Tt)%7,nt=6-(st.getDay()+7-Tt)%7,[cs,_o]=te(Ye,nt);for(let zl=1;zl<=ke;zl++)if(_o?!!(zl%2)==cs:cs){const Ws=fe[0].days[0],s1=ue(Ea(Ws.value,-7),Lt(Le));fe.unshift({days:s1})}else{const Ws=fe[fe.length-1],s1=Ws.days[Ws.days.length-1],cz=ue(Ea(s1.value,1),Lt(Le));fe.push({days:cz})}}return fe},ue=(fe,Le)=>{const st=Ee(fe),Tt=[];for(let ke=0;ke<7;ke++){const Ye=Ea(st,ke),nt=Lt(Ye)!==Le;Tt.push({text:e.hideOffsetDates&&nt?"":Ye.getDate(),value:Ye,current:!nt,classData:{}})}return Tt},pe=(fe,Le)=>{const st=[],Tt=new Date(Le,fe),ke=new Date(Le,fe+1,0),Ye=e.weekStart,nt=co(Tt,{weekStartsOn:Ye}),cs=_o=>{const zl=ue(_o,fe);if(st.push({days:zl}),!st[st.length-1].days.some(Ws=>$t(jr(Ws.value),jr(ke)))){const Ws=Ea(_o,7);cs(Ws)}};return cs(nt),ae(st,Tt,ke,Ye)},ve=fe=>{const Le=gl(Ee(fe.value),c.hours,c.minutes,xe());n("date-update",Le),y.value.enabled?x_(Le,l,y.value.limit):l.value=Le,r(),vn().then(()=>{j()})},Te=fe=>p.value.noDisabledRange?K3(i.value[0],fe).some(Le=>x(Le)):!1,ne=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(i.value=[])},ce=(fe,Le)=>{const st=[Ee(fe.value),Ea(Ee(fe.value),+p.value.autoRange)];_(st)?(Le&&be(fe.value),i.value=st):n("invalid-date",fe.value)},be=fe=>{const Le=Lt(Ee(fe)),st=mt(Ee(fe));if(R(0,Le,st),d.value.count>0)for(let Tt=1;Tt<d.value.count;Tt++){const ke=Xq(mn(Ee(fe),{year:A.value(Tt-1),month:P.value(Tt-1)}));R(Tt,ke.month,ke.year)}},Ae=fe=>{if(Te(fe.value)||!w(fe.value,l.value,p.value.fixedStart?0:1))return n("invalid-date",fe.value);i.value=i$(Ee(fe.value),l,n,p)},Qe=(fe,Le)=>{if(ne(),p.value.autoRange)return ce(fe,Le);if(p.value.fixedStart||p.value.fixedEnd)return Ae(fe);i.value[0]?w(Ee(fe.value),l.value)&&!Te(fe.value)?nr(Ee(fe.value),Ee(i.value[0]))?(i.value.unshift(Ee(fe.value)),n("range-end",i.value[0])):(i.value[1]=Ee(fe.value),n("range-end",i.value[1])):(e.autoApply&&n("auto-apply-invalid",fe.value),n("invalid-date",fe.value)):(i.value[0]=Ee(fe.value),n("range-start",i.value[0]))},xe=(fe=!0)=>e.enableSeconds?Array.isArray(c.seconds)?fe?c.seconds[0]:c.seconds[1]:c.seconds:0,et=fe=>{i.value[fe]=gl(i.value[fe],c.hours[fe],c.minutes[fe],xe(fe!==1))},at=()=>{var fe,Le;i.value[0]&&i.value[1]&&+((fe=i.value)==null?void 0:fe[0])>+((Le=i.value)==null?void 0:Le[1])&&(i.value.reverse(),n("range-start",i.value[0]),n("range-end",i.value[1]))},Kt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?et(0):(et(0),et(1),r()),at(),l.value=i.value.slice(),ey(i.value,n,e.autoApply,e.modelAuto))},Vt=(fe,Le=!1)=>{if(x(fe.value)||!fe.current&&e.hideOffsetDates)return n("invalid-date",fe.value);if(o.value=JSON.parse(JSON.stringify(fe)),!p.value.enabled)return ve(fe);sT(c.hours)&&sT(c.minutes)&&!y.value.enabled&&(Qe(fe,Le),Kt())},Yr=(fe,Le)=>{var st;R(fe,Le.month,Le.year,!0),d.value.count&&!d.value.solo&&oe(fe),n("update-month-year",{instance:fe,month:Le.month,year:Le.year}),t(d.value.solo?fe:void 0);const Tt=(st=e.flow)!=null&&st.length?e.flow[e.flowStep]:void 0;!Le.fromNav&&(Tt===ii.month||Tt===ii.year)&&r()},fa=(fe,Le)=>{r$({value:fe,modelValue:l,range:p.value.enabled,timezone:Le?void 0:g.value.timezone}),C(),e.multiCalendars&&vn().then(()=>F(!0))},or=()=>{const fe=v_(Ee(),g.value);!p.value.enabled&&!y.value.enabled?l.value=fe:l.value&&Array.isArray(l.value)&&l.value[0]?y.value.enabled?l.value=[...l.value,fe]:l.value=nr(fe,l.value[0])?[fe,l.value[0]]:[l.value[0],fe]:l.value=[fe],C()},Gr=()=>{if(Array.isArray(l.value))if(y.value.enabled){const fe=Gs();l.value[l.value.length-1]=O(fe)}else l.value=l.value.map((fe,Le)=>fe&&O(fe,Le));else l.value=O(l.value);n("time-update")},Gs=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:P,year:A,time:c,disabledTimesConfig:M,today:f,validateTime:T,getCalendarDays:pe,getMarker:re,handleScroll:G,handleSwipe:Y,handleArrow:X,selectDate:Vt,updateMonthYear:Yr,presetDate:fa,selectCurrentDate:or,updateTime:(fe,Le=!0,st=!1)=>{k(fe,Le,st,Gr)},assignMonthAndYear:D,setStartTime:L}},sZ={key:0},lZ=Nt({__name:"DatePicker",props:{...yo},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:n,emit:t}){const r=t,i=e,{calendars:a,month:o,year:s,modelValue:l,time:u,disabledTimesConfig:c,today:f,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:v,handleScroll:g,handleSwipe:m,selectDate:y,updateMonthYear:b,presetDate:x,selectCurrentDate:_,updateTime:w,assignMonthAndYear:k,setStartTime:O}=oZ(i,r,z,D),S=Xu(),{setHoverDate:E,getDayClassData:T,clearHoverDate:M}=SZ(l,i),{defaultedMultiCalendars:P}=Wn(i),A=ge([]),N=ge([]),R=ge(null),C=ta(S,"calendar"),L=ta(S,"monthYear"),I=ta(S,"timePicker"),j=G=>{i.shadow||r("mount",G)};Rt(a,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),Rt(P,(G,X)=>{G.count-X.count>0&&k()},{deep:!0});const F=Oe(()=>G=>h(o.value(G),s.value(G)).map(X=>({...X,days:X.days.map(Y=>(Y.marker=p(Y),Y.classData=T(Y),Y))})));function z(G){var X;G||G===0?(X=N.value[G])==null||X.triggerTransition(o.value(G),s.value(G)):N.value.forEach((Y,re)=>Y.triggerTransition(o.value(re),s.value(re)))}function D(){r("update-flow-step")}const B=(G,X=!1)=>{y(G,X),i.spaceConfirm&&r("select-date")},U=(G,X,Y=0)=>{var re;(re=A.value[Y])==null||re.toggleMonthPicker(G,X)},q=(G,X,Y=0)=>{var re;(re=A.value[Y])==null||re.toggleYearPicker(G,X)},$=(G,X,Y)=>{var re;(re=R.value)==null||re.toggleTimePicker(G,X,Y)},W=(G,X)=>{var Y;if(!i.range){const re=l.value?l.value:f,te=X?new Date(X):re,ae=G?co(te,{weekStartsOn:1}):T3(te,{weekStartsOn:1});y({value:ae,current:Lt(te)===o.value(0),text:"",classData:{}}),(Y=document.getElementById(Kx(ae)))==null||Y.focus()}},Q=G=>{var X;(X=A.value[0])==null||X.handleMonthYearChange(G,!0)},oe=G=>{b(0,{month:o.value(0),year:s.value(0)+(G?1:-1),fromNav:!0})},ee=(G,X)=>{G===ii.time&&r(`time-picker-${X?"open":"close"}`),r("overlay-toggle",{open:X,overlay:G})},H=G=>{r("overlay-toggle",{open:!1,overlay:G}),r("focus-menu")};return n({clearHoverDate:M,presetDate:x,selectCurrentDate:_,toggleMonthPicker:U,toggleYearPicker:q,toggleTimePicker:$,handleArrow:v,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:o,year:s,time:u,updateTime:w,updateMonthYear:b,selectDate:y,presetDate:x}),changeMonth:Q,changeYear:oe,selectWeekDate:W,setStartTime:O}),(G,X)=>(J(),ie(De,null,[it(Jm,{"multi-calendars":V(P).count,collapse:G.collapse,"is-mobile":G.isMobile},{default:Je(({instance:Y,index:re})=>[G.disableMonthYearSelect?he("",!0):(J(),vt(QK,Tr({key:0,ref:te=>{te&&(A.value[re]=te)},months:V(Y3)(G.formatLocale,G.locale,G.monthNameFormat),years:V(g_)(G.yearRange,G.locale,G.reverseYears),month:V(o)(Y),year:V(s)(Y),instance:Y},G.$props,{onMount:X[0]||(X[0]=te=>j(V(bu).header)),onResetFlow:X[1]||(X[1]=te=>G.$emit("reset-flow")),onUpdateMonthYear:te=>V(b)(Y,te),onOverlayClosed:H,onOverlayOpened:X[2]||(X[2]=te=>G.$emit("overlay-toggle",{open:!0,overlay:te}))}),fi({_:2},[Mt(V(L),(te,ae)=>({name:te,fn:Je(ue=>[Fe(G.$slots,te,Dr(Oi(ue)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),it(aZ,Tr({ref:te=>{te&&(N.value[re]=te)},"mapped-dates":F.value(Y),month:V(o)(Y),year:V(s)(Y),instance:Y},G.$props,{onSelectDate:te=>V(y)(te,Y!==1),onHandleSpace:te=>B(te,Y!==1),onSetHoverDate:X[3]||(X[3]=te=>V(E)(te)),onHandleScroll:te=>V(g)(te,Y),onHandleSwipe:te=>V(m)(te,Y),onMount:X[4]||(X[4]=te=>j(V(bu).calendar)),onResetFlow:X[5]||(X[5]=te=>G.$emit("reset-flow")),onTooltipOpen:X[6]||(X[6]=te=>G.$emit("tooltip-open",te)),onTooltipClose:X[7]||(X[7]=te=>G.$emit("tooltip-close",te))}),fi({_:2},[Mt(V(C),(te,ae)=>({name:te,fn:Je(ue=>[Fe(G.$slots,te,Dr(Oi({...ue})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),G.enableTimePicker?(J(),ie("div",sZ,[G.$slots["time-picker"]?Fe(G.$slots,"time-picker",Dr(Tr({key:0},{time:V(u),updateTime:V(w)}))):(J(),vt(o$,Tr({key:1,ref_key:"timePickerRef",ref:R},G.$props,{hours:V(u).hours,minutes:V(u).minutes,seconds:V(u).seconds,"internal-model-value":G.internalModelValue,"disabled-times-config":V(c),"validate-time":V(d),onMount:X[8]||(X[8]=Y=>j(V(bu).timePicker)),"onUpdate:hours":X[9]||(X[9]=Y=>V(w)(Y)),"onUpdate:minutes":X[10]||(X[10]=Y=>V(w)(Y,!1)),"onUpdate:seconds":X[11]||(X[11]=Y=>V(w)(Y,!1,!0)),onResetFlow:X[12]||(X[12]=Y=>G.$emit("reset-flow")),onOverlayClosed:X[13]||(X[13]=Y=>ee(Y,!1)),onOverlayOpened:X[14]||(X[14]=Y=>ee(Y,!0)),onAmPmChange:X[15]||(X[15]=Y=>G.$emit("am-pm-change",Y))}),fi({_:2},[Mt(V(I),(Y,re)=>({name:Y,fn:Je(te=>[Fe(G.$slots,Y,Dr(Oi(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):he("",!0)],64))}}),uZ=(e,n)=>{const t=ge(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:a,defaultedRange:o,propDates:s,defaultedFilters:l,defaultedMultiDates:u}=Wn(e),{modelValue:c,year:f,month:d,calendars:h}=Sp(e,n),{isDisabled:p}=Pl(e),{selectYear:v,groupedYears:g,showYearPicker:m,isDisabled:y,toggleYearPicker:b,handleYearSelect:x,handleYear:_}=a$({modelValue:c,multiCalendars:r,range:o,highlight:a,calendars:h,propDates:s,month:d,year:f,filters:l,props:e,emit:n}),w=(N,R)=>[N,R].map(C=>Ho(C,"MMMM",{locale:e.formatLocale})).join("-"),k=Oe(()=>N=>c.value?Array.isArray(c.value)?c.value.some(R=>QE(N,R)):QE(c.value,N):!1),O=N=>{if(o.value.enabled){if(Array.isArray(c.value)){const R=$t(N,c.value[0])||$t(N,c.value[1]);return Ch(c.value,t.value,N)&&!R}return!1}return!1},S=(N,R)=>N.quarter===UE(R)&&N.year===mt(R),E=N=>typeof a.value=="function"?a.value({quarter:UE(N),year:mt(N)}):!!a.value.quarters.find(R=>S(R,N)),T=Oe(()=>N=>{const R=mn(new Date,{year:f.value(N)});return FV({start:Ah(R),end:E3(R)}).map(C=>{const L=uu(C),I=VE(C),j=p(C),F=O(L),z=E(L);return{text:w(L,I),value:L,active:k.value(L),highlighted:z,disabled:j,isBetween:F}})}),M=N=>{x_(N,c,u.value.limit),n("auto-apply",!0)},P=N=>{c.value=w_(c,N,n),ey(c.value,n,e.autoApply,e.modelAuto)},A=N=>{c.value=N,n("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:g,year:f,isDisabled:y,quarters:T,showYearPicker:m,modelValue:c,setHoverDate:N=>{t.value=N},selectYear:v,selectQuarter:(N,R,C)=>{if(!C)return h.value[R].month=Lt(VE(N)),u.value.enabled?M(N):o.value.enabled?P(N):A(N)},toggleYearPicker:b,handleYearSelect:x,handleYear:_}},cZ={class:"dp--quarter-items"},fZ=["data-test-id","disabled","onClick","onMouseover"],dZ=Nt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...yo},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:n,emit:t}){const r=t,i=e,a=Xu(),o=ta(a,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:l,groupedYears:u,year:c,isDisabled:f,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:v,selectQuarter:g,toggleYearPicker:m,handleYearSelect:y,handleYear:b}=uZ(i,r);return n({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:g,handleYearSelect:y,handleYear:b})}),(x,_)=>(J(),vt(Jm,{"multi-calendars":V(s).count,collapse:x.collapse,stretch:"","is-mobile":x.isMobile},{default:Je(({instance:w})=>[K("div",{class:"dp-quarter-picker-wrap",style:Be({minHeight:`${V(l).modeHeight}px`})},[x.$slots["top-extra"]?Fe(x.$slots,"top-extra",{key:0,value:x.internalModelValue}):he("",!0),K("div",null,[it(n$,Tr(x.$props,{items:V(u)(w),instance:w,"show-year-picker":V(p)[w],year:V(c)(w),"is-disabled":k=>V(f)(w,k),onHandleYear:k=>V(b)(w,k),onYearSelect:k=>V(y)(k,w),onToggleYearPicker:k=>V(m)(w,k==null?void 0:k.flow,k==null?void 0:k.show)}),fi({_:2},[Mt(V(o),(k,O)=>({name:k,fn:Je(S=>[Fe(x.$slots,k,Dr(Oi(S)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),K("div",cZ,[(J(!0),ie(De,null,Mt(V(d)(w),(k,O)=>(J(),ie("div",{key:O},[K("button",{type:"button",class:Ue(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test-id":k.value,disabled:k.disabled,onClick:S=>V(g)(k.value,w,k.disabled),onMouseover:S=>V(v)(k.value)},[x.$slots.quarter?Fe(x.$slots,"quarter",{key:0,value:k.value,text:k.text}):(J(),ie(De,{key:1},[Jn(Me(k.text),1)],64))],42,fZ)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),l$=(e,n)=>{const t=ge(0);tn(()=>{r(),window.addEventListener("resize",r,{passive:!0})}),Ml(()=>{window.removeEventListener("resize",r)});const r=()=>{t.value=window.document.documentElement.clientWidth};return{isMobile:Oe(()=>t.value<=e.value.mobileBreakpoint&&!n?!0:void 0)}},hZ=["id","tabindex","role","aria-label"],pZ={key:0,class:"dp--menu-load-container"},vZ={key:1,class:"dp--menu-header"},gZ=["data-dp-mobile"],mZ={key:0,class:"dp__sidebar_left"},yZ=["data-dp-mobile"],bZ=["data-test-id","data-dp-mobile","onClick","onKeydown"],xZ={key:2,class:"dp__sidebar_right"},wZ={key:3,class:"dp__action_extra"},lT=Nt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Qm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:n,emit:t}){const r=t,i=e,a=ge(null),o=Oe(()=>{const{openOnTop:ne,...ce}=i;return{...ce,isMobile:g.value,flowStep:P.value,menuWrapRef:a.value}}),{setMenuFocused:s,setShiftKey:l,control:u}=t$(),c=Xu(),{defaultedTextInput:f,defaultedInline:d,defaultedConfig:h,defaultedUI:p,handleEventPropagation:v}=Wn(i),{isMobile:g}=l$(h,i.shadow),m=ge(null),y=ge(0),b=ge(null),x=ge(!1),_=ge(null),w=ge(!1),k=ne=>{w.value=!0,h.value.allowPreventDefault&&ne.preventDefault(),vl(ne,h.value,!0)};tn(()=>{if(!i.shadow){x.value=!0,O(),window.addEventListener("resize",O);const ne=kr(a);ne&&!f.value.enabled&&!d.value.enabled&&(s(!0),j()),ne&&(ne.addEventListener("pointerdown",k),ne.addEventListener("mousedown",k))}document.addEventListener("mousedown",Te)}),Ml(()=>{window.removeEventListener("resize",O),document.removeEventListener("mousedown",Te);const ne=kr(a);ne&&(ne.removeEventListener("pointerdown",k),ne.removeEventListener("mousedown",k))});const O=()=>{const ne=kr(b);ne&&(y.value=ne.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:E,arrowDown:T,arrowUp:M}=Al(),{flowStep:P,updateFlowStep:A,childMount:N,resetFlow:R,handleFlow:C}=EZ(i,r,_),L=Oe(()=>i.monthPicker?PK:i.yearPicker?RK:i.timePicker?UK:i.quarterPicker?dZ:lZ),I=Oe(()=>{var ne;if(h.value.arrowLeft)return h.value.arrowLeft;const ce=(ne=a.value)==null?void 0:ne.getBoundingClientRect(),be=i.getInputRect();return(be==null?void 0:be.width)<(y==null?void 0:y.value)&&(be==null?void 0:be.left)<=((ce==null?void 0:ce.left)??0)?`${(be==null?void 0:be.width)/2}px`:(be==null?void 0:be.right)>=((ce==null?void 0:ce.right)??0)&&(be==null?void 0:be.width)<(y==null?void 0:y.value)?`${(y==null?void 0:y.value)-(be==null?void 0:be.width)/2}px`:"50%"}),j=()=>{const ne=kr(a);ne&&ne.focus({preventScroll:!0})},F=Oe(()=>{var ne;return((ne=_.value)==null?void 0:ne.getSidebarProps())||{}}),z=()=>{i.openOnTop&&r("recalculate-position")},D=ta(c,"action"),B=Oe(()=>i.monthPicker||i.yearPicker?ta(c,"monthYear"):i.timePicker?ta(c,"timePicker"):ta(c,"shared")),U=Oe(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),q=Oe(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),$=Oe(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,...p.value.menu??{}})),W=ne=>{vl(ne,h.value,!0)},Q=ne=>{i.escClose&&(r("close-picker"),v(ne))},oe=ne=>{if(i.arrowNavigation){if(ne===mi.up)return M();if(ne===mi.down)return T();if(ne===mi.left)return E();if(ne===mi.right)return S()}else ne===mi.left||ne===mi.up?Y("handleArrow",mi.left,0,ne===mi.up):Y("handleArrow",mi.right,0,ne===mi.down)},ee=ne=>{l(ne.shiftKey),!i.disableMonthYearSelect&&ne.code===Rn.tab&&ne.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(ne.preventDefault(),vl(ne,h.value,!0),r("close-picker"))},H=()=>{j(),r("time-picker-close")},G=ne=>{var ce,be,Ae;(ce=_.value)==null||ce.toggleTimePicker(!1,!1),(be=_.value)==null||be.toggleMonthPicker(!1,!1,ne),(Ae=_.value)==null||Ae.toggleYearPicker(!1,!1,ne)},X=(ne,ce=0)=>{var be,Ae,Qe;return ne==="month"?(be=_.value)==null?void 0:be.toggleMonthPicker(!1,!0,ce):ne==="year"?(Ae=_.value)==null?void 0:Ae.toggleYearPicker(!1,!0,ce):ne==="time"?(Qe=_.value)==null?void 0:Qe.toggleTimePicker(!0,!1):G(ce)},Y=(ne,...ce)=>{var be,Ae;(be=_.value)!=null&&be[ne]&&((Ae=_.value)==null||Ae[ne](...ce))},re=()=>{Y("selectCurrentDate")},te=(ne,ce)=>{Y("presetDate",Kz(ne),ce)},ae=()=>{Y("clearHoverDate")},ue=(ne,ce)=>{Y("updateMonthYear",ne,ce)},pe=(ne,ce)=>{ne.preventDefault(),oe(ce)},ve=ne=>{var ce,be,Ae;if(ee(ne),ne.key===Rn.home||ne.key===Rn.end)return Y("selectWeekDate",ne.key===Rn.home,ne.target.getAttribute("id"));switch((ne.key===Rn.pageUp||ne.key===Rn.pageDown)&&(ne.shiftKey?(Y("changeYear",ne.key===Rn.pageUp),(ce=Xx(a.value,"overlay-year"))==null||ce.focus()):(Y("changeMonth",ne.key===Rn.pageUp),(be=Xx(a.value,ne.key===Rn.pageUp?"action-prev":"action-next"))==null||be.focus()),ne.target.getAttribute("id")&&((Ae=a.value)==null||Ae.focus({preventScroll:!0}))),ne.key){case Rn.esc:return Q(ne);case Rn.arrowLeft:return pe(ne,mi.left);case Rn.arrowRight:return pe(ne,mi.right);case Rn.arrowUp:return pe(ne,mi.up);case Rn.arrowDown:return pe(ne,mi.down);default:return}},Te=ne=>{var ce;d.value.enabled&&!d.value.input&&!((ce=a.value)!=null&&ce.contains(ne.target))&&w.value&&(w.value=!1,r("menu-blur"))};return n({updateMonthYear:ue,switchView:X,handleFlow:C,onValueCleared:()=>{var ne,ce;(ce=(ne=_.value)==null?void 0:ne.setStartTime)==null||ce.call(ne)}}),(ne,ce)=>{var be,Ae,Qe;return J(),ie("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:a,tabindex:V(d).enabled?void 0:"0",role:V(d).enabled?void 0:"dialog","aria-label":(be=ne.ariaLabels)==null?void 0:be.menu,class:Ue($.value),style:Be({"--dp-arrow-left":I.value}),onMouseleave:ae,onClick:W,onKeydown:ve},[(ne.disabled||ne.readonly)&&V(d).enabled||ne.loading?(J(),ie("div",{key:0,class:Ue(q.value)},[ne.loading?(J(),ie("div",pZ,ce[19]||(ce[19]=[K("span",{class:"dp--menu-loader"},null,-1)]))):he("",!0)],2)):he("",!0),ne.$slots["menu-header"]?(J(),ie("div",vZ,[Fe(ne.$slots,"menu-header")])):he("",!0),!V(d).enabled&&!ne.teleportCenter?(J(),ie("div",{key:2,class:Ue(U.value)},null,2)):he("",!0),K("div",{ref_key:"innerMenuRef",ref:b,class:Ue({dp__menu_content_wrapper:((Ae=ne.presetDates)==null?void 0:Ae.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Qe=ne.presetDates)==null?void 0:Qe.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"])}),"data-dp-mobile":V(g),style:Be({"--dp-menu-width":`${y.value}px`})},[ne.$slots["left-sidebar"]?(J(),ie("div",mZ,[Fe(ne.$slots,"left-sidebar",Dr(Oi(F.value)))])):he("",!0),ne.presetDates.length?(J(),ie("div",{key:1,class:Ue({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":V(g)},[(J(!0),ie(De,null,Mt(ne.presetDates,(xe,et)=>(J(),ie(De,{key:et},[xe.slot?Fe(ne.$slots,xe.slot,{key:0,presetDate:te,label:xe.label,value:xe.value}):(J(),ie("button",{key:1,type:"button",style:Be(xe.style||{}),class:Ue(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":xe.testId??void 0,"data-dp-mobile":V(g),onClick:ra(at=>te(xe.value,xe.noTz),["prevent"]),onKeydown:at=>V(Si)(at,()=>te(xe.value,xe.noTz),!0)},Me(xe.label),47,bZ))],64))),128))],10,yZ)):he("",!0),K("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(J(),vt(yp(L.value),Tr({ref_key:"dynCmpRef",ref:_},o.value,{"flow-step":V(P),onMount:V(N),onUpdateFlowStep:V(A),onResetFlow:V(R),onFocusMenu:j,onSelectDate:ce[0]||(ce[0]=xe=>ne.$emit("select-date")),onDateUpdate:ce[1]||(ce[1]=xe=>ne.$emit("date-update",xe)),onTooltipOpen:ce[2]||(ce[2]=xe=>ne.$emit("tooltip-open",xe)),onTooltipClose:ce[3]||(ce[3]=xe=>ne.$emit("tooltip-close",xe)),onAutoApply:ce[4]||(ce[4]=xe=>ne.$emit("auto-apply",xe)),onRangeStart:ce[5]||(ce[5]=xe=>ne.$emit("range-start",xe)),onRangeEnd:ce[6]||(ce[6]=xe=>ne.$emit("range-end",xe)),onInvalidFixedRange:ce[7]||(ce[7]=xe=>ne.$emit("invalid-fixed-range",xe)),onTimeUpdate:ce[8]||(ce[8]=xe=>ne.$emit("time-update")),onAmPmChange:ce[9]||(ce[9]=xe=>ne.$emit("am-pm-change",xe)),onTimePickerOpen:ce[10]||(ce[10]=xe=>ne.$emit("time-picker-open",xe)),onTimePickerClose:H,onRecalculatePosition:z,onUpdateMonthYear:ce[11]||(ce[11]=xe=>ne.$emit("update-month-year",xe)),onAutoApplyInvalid:ce[12]||(ce[12]=xe=>ne.$emit("auto-apply-invalid",xe)),onInvalidDate:ce[13]||(ce[13]=xe=>ne.$emit("invalid-date",xe)),onOverlayToggle:ce[14]||(ce[14]=xe=>ne.$emit("overlay-toggle",xe)),"onUpdate:internalModelValue":ce[15]||(ce[15]=xe=>ne.$emit("update:internal-model-value",xe))}),fi({_:2},[Mt(B.value,(xe,et)=>({name:xe,fn:Je(at=>[Fe(ne.$slots,xe,Dr(Oi({...at})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(J(),ie("div",xZ,[Fe(ne.$slots,"right-sidebar",Dr(Oi(F.value)))])):he("",!0),ne.$slots["action-extra"]?(J(),ie("div",wZ,[ne.$slots["action-extra"]?Fe(ne.$slots,"action-extra",{key:0,selectCurrentDate:re}):he("",!0)])):he("",!0)],14,gZ),!ne.autoApply||V(h).keepActionRow?(J(),vt(wK,Tr({key:3,"menu-mount":x.value},o.value,{"calendar-width":y.value,onClosePicker:ce[16]||(ce[16]=xe=>ne.$emit("close-picker")),onSelectDate:ce[17]||(ce[17]=xe=>ne.$emit("select-date")),onInvalidSelect:ce[18]||(ce[18]=xe=>ne.$emit("invalid-select")),onSelectNow:re}),fi({_:2},[Mt(V(D),(xe,et)=>({name:xe,fn:Je(at=>[Fe(ne.$slots,xe,Dr(Oi({...at})))])}))]),1040,["menu-mount","calendar-width"])):he("",!0)],46,hZ)}}});var Tc=(e=>(e.center="center",e.left="left",e.right="right",e))(Tc||{});const _Z=({menuRef:e,menuRefInner:n,inputRef:t,pickerWrapperRef:r,inline:i,emit:a,props:o,slots:s})=>{const{defaultedConfig:l}=Wn(o),u=ge({}),c=ge(!1),f=ge({top:"0",left:"0"}),d=ge(!1),h=xh(o,"teleportCenter");Rt(h,()=>{f.value=JSON.parse(JSON.stringify({})),_()});const p=R=>{if(o.teleport){const C=R.getBoundingClientRect();return{left:C.left+window.scrollX,top:C.top+window.scrollY}}return{top:0,left:0}},v=(R,C)=>{f.value.left=`${R+C-u.value.width}px`},g=R=>{f.value.left=`${R}px`},m=(R,C)=>{o.position===Tc.left&&g(R),o.position===Tc.right&&v(R,C),o.position===Tc.center&&(f.value.left=`${R+C/2-u.value.width/2}px`)},y=R=>{const{width:C,height:L}=R.getBoundingClientRect(),{top:I,left:j}=p(R);return{top:+I,left:+j,width:C,height:L}},b=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},x=()=>{const R=kr(t);f.value=o.altPosition(R)},_=(R=!0)=>{var C;if(!i.value.enabled){if(h.value)return b();if(o.altPosition!==null)return x();if(R){const L=o.teleport?(C=n.value)==null?void 0:C.$el:e.value;L&&(u.value=L.getBoundingClientRect()),a("recalculate-position")}return M()}},w=({inputEl:R,left:C,width:L})=>{window.screen.width>768&&!c.value&&m(C,L),S(R)},k=R=>{const{top:C,left:L,height:I,width:j}=y(R);f.value.top=`${I+C+ +o.offset}px`,d.value=!1,c.value||(f.value.left=`${L+j/2-u.value.width/2}px`),w({inputEl:R,left:L,width:j})},O=R=>{const{top:C,left:L,width:I}=y(R);f.value.top=`${C-+o.offset-u.value.height}px`,d.value=!0,w({inputEl:R,left:L,width:I})},S=R=>{if(o.autoPosition){const{left:C,width:L}=y(R),{left:I,right:j}=u.value;if(!c.value){if(Math.abs(I)!==Math.abs(j)){if(I<=0)return c.value=!0,g(C);if(j>=document.documentElement.clientWidth)return c.value=!0,v(C,L)}return m(C,L)}}},E=()=>{const R=kr(t);if(R){if(o.autoPosition===Ua.top)return Ua.top;if(o.autoPosition===Ua.bottom)return Ua.bottom;const{height:C}=u.value,{top:L,height:I}=R.getBoundingClientRect(),j=window.innerHeight-L-I,F=L;return C<=j?Ua.bottom:C>j&&C<=F?Ua.top:j>=F?Ua.bottom:Ua.top}return Ua.bottom},T=R=>E()===Ua.bottom?k(R):O(R),M=()=>{const R=kr(t);if(R)return o.autoPosition?T(R):k(R)},P=function(R){if(R){const C=R.scrollHeight>R.clientHeight,L=window.getComputedStyle(R).overflowY.indexOf("hidden")!==-1;return C&&!L}return!0},A=function(R){return!R||R===document.body||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:P(R)?R:A(R.assignedSlot&&l.value.shadowDom?R.assignedSlot.parentNode:R.parentNode)},N=R=>{if(R)switch(o.position){case Tc.left:return{left:0,transform:"translateX(0)"};case Tc.right:return{left:`${R.width}px`,transform:"translateX(-100%)"};default:return{left:`${R.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:f,xCorrect:c,setMenuPosition:_,getScrollableParent:A,shadowRender:(R,C,L)=>{var I,j,F;const z=document.createElement("div"),D=(I=kr(t))==null?void 0:I.getBoundingClientRect();z.setAttribute("id","dp--temp-container");const B=(j=r.value)!=null&&j.clientWidth?r.value:document.body;B.append(z);const U=N(D),q=l.value.shadowDom?Object.keys(s).filter(W=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(W)):Object.keys(s),$=Ym(C,{...L,shadow:!0,style:{opacity:0,position:"absolute",...U}},Object.fromEntries(q.map(W=>[W,s[W]])));R!=null&&($.appContext=R.appContext),cE($,z),u.value=(F=$.el)==null?void 0:F.getBoundingClientRect(),cE(null,z),B.removeChild(z)}}},Xs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],kZ=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],OZ={all:()=>Xs,monthYear:()=>Xs.filter(e=>e.use.includes("month-year")),input:()=>kZ,timePicker:()=>Xs.filter(e=>e.use.includes("time")),action:()=>Xs.filter(e=>e.use.includes("action")),calendar:()=>Xs.filter(e=>e.use.includes("calendar")),menu:()=>Xs.filter(e=>e.use.includes("menu")),shared:()=>Xs.filter(e=>e.use.includes("shared")),yearMode:()=>Xs.filter(e=>e.use.includes("year-mode"))},ta=(e,n,t)=>{const r=[];return OZ[n]().forEach(i=>{e[i.name]&&r.push(i.name)}),t!=null&&t.length&&t.forEach(i=>{i.slot&&r.push(i.slot)}),r},Op=e=>{const n=Oe(()=>r=>e.value?r?e.value.open:e.value.close:""),t=Oe(()=>r=>e.value?r?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!e.value,menuTransition:t}},Sp=(e,n,t)=>{const{defaultedRange:r,defaultedTz:i}=Wn(e),a=Ee(Yi(Ee(),i.value.timezone)),o=ge([{month:Lt(a),year:mt(a)}]),s=d=>{const h={hours:Ns(a),minutes:bl(a),seconds:0};return r.value.enabled?[h[d],h[d]]:h[d]},l=ls({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Rt(r,(d,h)=>{d.enabled!==h.enabled&&(l.hours=s("hours"),l.minutes=s("minutes"),l.seconds=s("seconds"))},{deep:!0});const u=Oe({get:()=>e.internalModelValue,set:d=>{!e.readonly&&!e.disabled&&n("update:internal-model-value",d)}}),c=Oe(()=>d=>o.value[d]?o.value[d].month:0),f=Oe(()=>d=>o.value[d]?o.value[d].year:0);return Rt(u,(d,h)=>{t&&JSON.stringify(d??{})!==JSON.stringify(h??{})&&t()},{deep:!0}),{calendars:o,time:l,modelValue:u,month:c,year:f,today:a}},SZ=(e,n)=>{const{defaultedMultiCalendars:t,defaultedMultiDates:r,defaultedUI:i,defaultedHighlight:a,defaultedTz:o,propDates:s,defaultedRange:l}=Wn(n),{isDisabled:u}=Pl(n),c=ge(null),f=ge(Yi(new Date,o.value.timezone)),d=$=>{!$.current&&n.hideOffsetDates||(c.value=$.value)},h=()=>{c.value=null},p=$=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&c.value?$?dr(c.value,e.value[0]):nr(c.value,e.value[0]):!0,v=($,W)=>{const Q=()=>e.value?W?e.value[0]||null:e.value[1]:null,oe=e.value&&Array.isArray(e.value)?Q():null;return $t(Ee($.value),oe)},g=$=>{const W=Array.isArray(e.value)?e.value[0]:null;return $?!nr(c.value??null,W):!0},m=($,W=!0)=>(l.value.enabled||n.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?n.hideOffsetDates&&!$.current?!1:$t(Ee($.value),e.value[W?0:1]):l.value.enabled?v($,W)&&g(W)||$t($.value,Array.isArray(e.value)?e.value[0]:null)&&p(W):!1,y=($,W)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const Q=$t($.value,c.value);return W?dr(e.value[0],$.value)&&Q:nr(e.value[0],$.value)&&Q}return!1},b=$=>!e.value||n.hideOffsetDates&&!$.current?!1:l.value.enabled?n.modelAuto&&Array.isArray(e.value)?$t($.value,e.value[0]?e.value[0]:f.value):!1:r.value.enabled&&Array.isArray(e.value)?e.value.some(W=>$t(W,$.value)):$t($.value,e.value?e.value:f.value),x=$=>{if(l.value.autoRange||n.weekPicker){if(c.value){if(n.hideOffsetDates&&!$.current)return!1;const W=Ea(c.value,+l.value.autoRange),Q=bs(Ee(c.value),n.weekStart);return n.weekPicker?$t(Q[1],Ee($.value)):$t(W,Ee($.value))}return!1}return!1},_=$=>{if(l.value.autoRange||n.weekPicker){if(c.value){const W=Ea(c.value,+l.value.autoRange);if(n.hideOffsetDates&&!$.current)return!1;const Q=bs(Ee(c.value),n.weekStart);return n.weekPicker?dr($.value,Q[0])&&nr($.value,Q[1]):dr($.value,c.value)&&nr($.value,W)}return!1}return!1},w=$=>{if(l.value.autoRange||n.weekPicker){if(c.value){if(n.hideOffsetDates&&!$.current)return!1;const W=bs(Ee(c.value),n.weekStart);return n.weekPicker?$t(W[0],$.value):$t(c.value,$.value)}return!1}return!1},k=$=>Ch(e.value,c.value,$.value),O=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,S=()=>n.modelAuto?G3(n.internalModelValue):!0,E=$=>{if(n.weekPicker)return!1;const W=l.value.enabled?!m($)&&!m($,!1):!0;return!u($.value)&&!b($)&&!(!$.current&&n.hideOffsetDates)&&W},T=$=>l.value.enabled?n.modelAuto?O()&&b($):!1:b($),M=$=>a.value?Wq($.value,s.value.highlight):!1,P=$=>{const W=u($.value);return W&&(typeof a.value=="function"?!a.value($.value,W):!a.value.options.highlightDisabled)},A=$=>{var W;return typeof a.value=="function"?a.value($.value):(W=a.value.weekdays)==null?void 0:W.includes($.value.getDay())},N=$=>(l.value.enabled||n.weekPicker)&&(!(t.value.count>0)||$.current)&&S()&&!(!$.current&&n.hideOffsetDates)&&!b($)?k($):!1,R=$=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:W,after:Q}=iT(+l.value.maxRange,e.value[0]);return cf($.value,W)||Mu($.value,Q)}return!1},C=$=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:W,after:Q}=iT(+l.value.minRange,e.value[0]);return Ch([W,Q],e.value[0],$.value)}return!1},L=$=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?R($)||C($):l.value.maxRange?R($):C($):!1,I=$=>{const{isRangeStart:W,isRangeEnd:Q}=D($),oe=l.value.enabled?W||Q:!1;return{dp__cell_offset:!$.current,dp__pointer:!n.disabled&&!(!$.current&&n.hideOffsetDates)&&!u($.value)&&!L($),dp__cell_disabled:u($.value)||L($),dp__cell_highlight:!P($)&&(M($)||A($))&&!T($)&&!oe&&!w($)&&!(N($)&&n.weekPicker)&&!Q,dp__cell_highlight_active:!P($)&&(M($)||A($))&&T($),dp__today:!n.noToday&&$t($.value,f.value)&&$.current,"dp--past":nr($.value,f.value),"dp--future":dr($.value,f.value)}},j=$=>({dp__active_date:T($),dp__date_hover:E($)}),F=$=>{if(e.value&&!Array.isArray(e.value)){const W=bs(e.value,n.weekStart);return{...U($),dp__range_start:$t(W[0],$.value),dp__range_end:$t(W[1],$.value),dp__range_between_week:dr($.value,W[0])&&nr($.value,W[1])}}return{...U($)}},z=$=>{if(e.value&&Array.isArray(e.value)){const W=bs(e.value[0],n.weekStart),Q=e.value[1]?bs(e.value[1],n.weekStart):[];return{...U($),dp__range_start:$t(W[0],$.value)||$t(Q[0],$.value),dp__range_end:$t(W[1],$.value)||$t(Q[1],$.value),dp__range_between_week:dr($.value,W[0])&&nr($.value,W[1])||dr($.value,Q[0])&&nr($.value,Q[1]),dp__range_between:dr($.value,W[1])&&nr($.value,Q[0])}}return{...U($)}},D=$=>{const W=t.value.count>0?$.current&&m($)&&S():m($)&&S(),Q=t.value.count>0?$.current&&m($,!1)&&S():m($,!1)&&S();return{isRangeStart:W,isRangeEnd:Q}},B=$=>{const{isRangeStart:W,isRangeEnd:Q}=D($);return{dp__range_start:W,dp__range_end:Q,dp__range_between:N($),dp__date_hover:$t($.value,c.value)&&!W&&!Q&&!n.weekPicker,dp__date_hover_start:y($,!0),dp__date_hover_end:y($,!1)}},U=$=>({...B($),dp__cell_auto_range:_($),dp__cell_auto_range_start:w($),dp__cell_auto_range_end:x($)}),q=$=>l.value.enabled?l.value.autoRange?U($):n.modelAuto?{...j($),...B($)}:n.weekPicker?z($):B($):n.weekPicker?F($):j($);return{setHoverDate:d,clearHoverDate:h,getDayClassData:$=>n.hideOffsetDates&&!$.current?{}:{...I($),...q($),[n.dayClass?n.dayClass($.value,n.internalModelValue):""]:!0,...i.value.calendarCell??{}}}},Pl=e=>{const{defaultedFilters:n,defaultedRange:t,propDates:r,defaultedMultiDates:i}=Wn(e),a=A=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Ee(A)):!!pg(A,r.value.disabledDates):!1,o=A=>r.value.maxDate?e.yearPicker?mt(A)>mt(r.value.maxDate):dr(A,r.value.maxDate):!1,s=A=>r.value.minDate?e.yearPicker?mt(A)<mt(r.value.minDate):nr(A,r.value.minDate):!1,l=A=>{const N=o(A),R=s(A),C=a(A),L=n.value.months.map(D=>+D).includes(Lt(A)),I=e.disabledWeekDays.length?e.disabledWeekDays.some(D=>+D===CX(A)):!1,j=h(A),F=mt(A),z=F<+e.yearRange[0]||F>+e.yearRange[1];return!(N||R||C||L||z||I||j)},u=(A,N)=>nr(...ll(r.value.minDate,A,N))||$t(...ll(r.value.minDate,A,N)),c=(A,N)=>dr(...ll(r.value.maxDate,A,N))||$t(...ll(r.value.maxDate,A,N)),f=(A,N,R)=>{let C=!1;return r.value.maxDate&&R&&c(A,N)&&(C=!0),r.value.minDate&&!R&&u(A,N)&&(C=!0),C},d=(A,N,R,C)=>{let L=!1;return C&&(r.value.minDate||r.value.maxDate)?r.value.minDate&&r.value.maxDate?L=f(A,N,R):(r.value.minDate&&u(A,N)||r.value.maxDate&&c(A,N))&&(L=!0):L=!0,L},h=A=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!pg(A,r.value.allowedDates,U3(e.monthPicker,e.yearPicker)):!1,p=A=>!l(A),v=A=>t.value.noDisabledRange?!S3({start:A[0],end:A[1]}).some(N=>p(N)):!0,g=A=>{if(A){const N=mt(A);return N>=+e.yearRange[0]&&N<=e.yearRange[1]}return!0},m=(A,N)=>!!(Array.isArray(A)&&A[N]&&(t.value.maxRange||t.value.minRange)&&g(A[N])),y=(A,N,R=0)=>{if(m(N,R)&&g(A)){const C=_3(A,N[R]),L=K3(N[R],A),I=L.length===1?0:L.filter(F=>p(F)).length,j=Math.abs(C)-(t.value.minMaxRawRange?0:I);if(t.value.minRange&&t.value.maxRange)return j>=+t.value.minRange&&j<=+t.value.maxRange;if(t.value.minRange)return j>=+t.value.minRange;if(t.value.maxRange)return j<=+t.value.maxRange}return!0},b=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,x=A=>Array.isArray(A)?[A[0]?N1(A[0]):null,A[1]?N1(A[1]):null]:N1(A),_=(A,N,R)=>A.find(C=>+C.hours===Ns(N)&&C.minutes==="*"?!0:+C.minutes===bl(N)&&+C.hours===Ns(N))&&R,w=(A,N,R)=>{const[C,L]=A,[I,j]=N;return!_(C,I,R)&&!_(L,j,R)&&R},k=(A,N)=>{const R=Array.isArray(N)?N:[N];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?w(e.disabledTimes,R,A):!R.some(C=>_(e.disabledTimes,C,A)):A},O=(A,N)=>{const R=Array.isArray(N)?[xu(N[0]),N[1]?xu(N[1]):void 0]:xu(N),C=!e.disabledTimes(R);return A&&C},S=(A,N)=>e.disabledTimes?Array.isArray(e.disabledTimes)?k(N,A):O(N,A):N,E=A=>{let N=!0;if(!A||b())return!0;const R=!r.value.minDate&&!r.value.maxDate?x(A):A;return(e.maxTime||r.value.maxDate)&&(N=rT(e.maxTime,r.value.maxDate,"max",Lr(R),N)),(e.minTime||r.value.minDate)&&(N=rT(e.minTime,r.value.minDate,"min",Lr(R),N)),S(A,N)},T=A=>{if(!e.monthPicker)return!0;let N=!0;const R=Ee(Za(A));if(r.value.minDate&&r.value.maxDate){const C=Ee(Za(r.value.minDate)),L=Ee(Za(r.value.maxDate));return dr(R,C)&&nr(R,L)||$t(R,C)||$t(R,L)}if(r.value.minDate){const C=Ee(Za(r.value.minDate));N=dr(R,C)||$t(R,C)}if(r.value.maxDate){const C=Ee(Za(r.value.maxDate));N=nr(R,C)||$t(R,C)}return N},M=Oe(()=>A=>!e.enableTimePicker||e.ignoreTimeValidation?!0:E(A)),P=Oe(()=>A=>e.monthPicker?Array.isArray(A)&&(t.value.enabled||i.value.enabled)?!A.filter(N=>!T(N)).length:T(A):!0);return{isDisabled:p,validateDate:l,validateMonthYearInRange:d,isDateRangeAllowed:v,checkMinMaxRange:y,isValidTime:E,isTimeValid:M,isMonthValid:P}},ty=()=>{const e=Oe(()=>(r,i)=>r==null?void 0:r.includes(i)),n=Oe(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),t=Oe(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:n,showRightIcon:t}},EZ=(e,n,t)=>{const r=ge(0),i=ls({[bu.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[bu.calendar]:!1,[bu.header]:!1}),a=Oe(()=>e.monthPicker||e.timePicker),o=f=>{var d;if((d=e.flow)!=null&&d.length){if(!f&&a.value)return c();i[f]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},s=()=>{var f,d;(f=e.flow)!=null&&f.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),c()),((d=e.flow)==null?void 0:d.length)===r.value&&vn().then(()=>l())},l=()=>{r.value=-1},u=(f,d,...h)=>{var p,v;e.flow[r.value]===f&&t.value&&((v=(p=t.value)[d])==null||v.call(p,...h))},c=(f=0)=>{f&&(r.value+=f),u(ii.month,"toggleMonthPicker",!0),u(ii.year,"toggleYearPicker",!0),u(ii.calendar,"toggleTimePicker",!1,!0),u(ii.time,"toggleTimePicker",!0,!0);const d=e.flow[r.value];(d===ii.hours||d===ii.minutes||d===ii.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:s,resetFlow:l,handleFlow:c,flowStep:r}},TZ={key:1,class:"dp__input_wrap"},MZ=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],AZ={key:2,class:"dp--clear-btn"},PZ=["aria-label"],CZ=Nt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Qm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:n,emit:t}){const r=t,i=e,{defaultedTextInput:a,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,defaultedUI:f,getDefaultPattern:d,getDefaultStartTime:h}=Wn(i),{checkMinMaxRange:p}=Pl(i),v=ge(),g=ge(null),m=ge(!1),y=ge(!1),b=Oe(()=>({dp__pointer:!i.disabled&&!i.readonly&&!a.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!a.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:typeof i.state=="boolean"?i.state:!1,dp__input_invalid:typeof i.state=="boolean"?!i.state:!1,dp__input_focus:m.value||i.isMenuOpen,dp__input_reg:!a.value.enabled,...f.value.input??{}})),x=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),v.value=null)},_=F=>{const z=h();return Uq(F,a.value.format??d(),z??Z3({},i.enableSeconds),i.inputValue,y.value,i.formatLocale)},w=F=>{const{rangeSeparator:z}=a.value,[D,B]=F.split(`${z}`);if(D){const U=_(D.trim()),q=B?_(B.trim()):void 0;if(Mu(U,q))return;const $=U&&q?[U,q]:[U];p(q,$,0)&&(v.value=U?$:null)}},k=()=>{y.value=!0},O=F=>{if(u.value.enabled)w(F);else if(c.value.enabled){const z=F.split(";");v.value=z.map(D=>_(D.trim())).filter(D=>D)}else v.value=_(F)},S=F=>{var z;const D=typeof F=="string"?F:(z=F.target)==null?void 0:z.value;D!==""?(a.value.openMenu&&!i.isMenuOpen&&r("open"),O(D),r("set-input-date",v.value)):x(),y.value=!1,r("update:input-value",D),r("text-input",F,v.value)},E=F=>{a.value.enabled?(O(F.target.value),a.value.enterSubmit&&qx(v.value)&&i.inputValue!==""?(r("set-input-date",v.value,!0),v.value=null):a.value.enterSubmit&&i.inputValue===""&&(v.value=null,r("clear"))):P(F)},T=(F,z)=>{a.value.enabled&&a.value.tabSubmit&&!z&&O(F.target.value),a.value.tabSubmit&&qx(v.value)&&i.inputValue!==""?(r("set-input-date",v.value,!0,!0),v.value=null):a.value.tabSubmit&&i.inputValue===""&&(v.value=null,r("clear",!0))},M=()=>{m.value=!0,r("focus"),vn().then(()=>{var F;a.value.enabled&&a.value.selectOnFocus&&((F=g.value)==null||F.select())})},P=F=>{if(vl(F,l.value,!0),a.value.enabled&&a.value.openMenu&&!s.value.input){if(a.value.openMenu==="open"&&!i.isMenuOpen)return r("open");if(a.value.openMenu==="toggle")return r("toggle")}else a.value.enabled||r("toggle")},A=()=>{r("real-blur"),m.value=!1,(!i.isMenuOpen||s.value.enabled&&s.value.input)&&r("blur"),i.autoApply&&a.value.enabled&&v.value&&!i.isMenuOpen&&(r("set-input-date",v.value),r("select-date"),v.value=null)},N=F=>{vl(F,l.value,!0),r("clear")},R=()=>{r("close")},C=F=>{if(F.key==="Tab"&&T(F),F.key==="Enter"&&E(F),F.key==="Escape"&&a.value.escClose&&R(),!a.value.enabled){if(F.code==="Tab")return;F.preventDefault()}},L=()=>{var F;(F=g.value)==null||F.focus({preventScroll:!0})},I=F=>{v.value=F},j=F=>{F.key===Rn.tab&&T(F,!0)};return n({focusInput:L,setParsedDate:I}),(F,z)=>{var D,B,U;return J(),ie("div",{onClick:P},[F.$slots.trigger&&!F.$slots["dp-input"]&&!V(s).enabled?Fe(F.$slots,"trigger",{key:0}):he("",!0),!F.$slots.trigger&&(!V(s).enabled||V(s).input)?(J(),ie("div",TZ,[F.$slots["dp-input"]&&!F.$slots.trigger&&(!V(s).enabled||V(s).enabled&&V(s).input)?Fe(F.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:S,onEnter:E,onTab:T,onClear:N,onBlur:A,onKeypress:C,onPaste:k,onFocus:M,openMenu:()=>F.$emit("open"),closeMenu:()=>F.$emit("close"),toggleMenu:()=>F.$emit("toggle")}):he("",!0),F.$slots["dp-input"]?he("",!0):(J(),ie("input",{key:1,id:F.uid?`dp-input-${F.uid}`:void 0,ref_key:"inputRef",ref:g,"data-test-id":"dp-input",name:F.name,class:Ue(b.value),inputmode:V(a).enabled?"text":"none",placeholder:F.placeholder,disabled:F.disabled,readonly:F.readonly,required:F.required,value:e.inputValue,autocomplete:F.autocomplete,"aria-label":(D=V(o))==null?void 0:D.input,"aria-disabled":F.disabled||void 0,"aria-invalid":F.state===!1?!0:void 0,onInput:S,onBlur:A,onFocus:M,onKeypress:C,onKeydown:z[0]||(z[0]=q=>C(q)),onPaste:k},null,42,MZ)),K("div",{onClick:z[3]||(z[3]=q=>r("toggle"))},[F.$slots["input-icon"]&&!F.hideInputIcon?(J(),ie("span",{key:0,class:"dp__input_icon",onClick:z[1]||(z[1]=q=>r("toggle"))},[Fe(F.$slots,"input-icon")])):he("",!0),!F.$slots["input-icon"]&&!F.hideInputIcon&&!F.$slots["dp-input"]?(J(),vt(V(qf),{key:1,"aria-label":(B=V(o))==null?void 0:B.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:z[2]||(z[2]=q=>r("toggle"))},null,8,["aria-label"])):he("",!0)]),F.$slots["clear-icon"]&&(F.alwaysClearable||e.inputValue&&F.clearable&&!F.disabled&&!F.readonly)?(J(),ie("span",AZ,[Fe(F.$slots,"clear-icon",{clear:N})])):he("",!0),!F.$slots["clear-icon"]&&(F.alwaysClearable||F.clearable&&e.inputValue&&!F.disabled&&!F.readonly)?(J(),ie("button",{key:3,"aria-label":(U=V(o))==null?void 0:U.clearInput,class:"dp--clear-btn",type:"button",onKeydown:z[4]||(z[4]=q=>V(Si)(q,()=>N(q),!0,j)),onClick:z[5]||(z[5]=ra(q=>N(q),["prevent"]))},[it(V(z3),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,PZ)):he("",!0)])):he("",!0)])}}}),RZ=typeof window<"u"?window:void 0,B1=()=>{},NZ=e=>sN()?(Tz(e),!0):!1,LZ=(e,n,t,r)=>{if(!e)return B1;let i=B1;const a=Rt(()=>V(e),s=>{i(),s&&(s.removeEventListener(n,t),s.addEventListener(n,t,r),i=()=>{s.removeEventListener(n,t,r),i=B1})},{immediate:!0,flush:"post"}),o=()=>{a(),i()};return NZ(o),o},$Z=(e,n,t,r={})=>{const{window:i=RZ,event:a="pointerdown"}=r;return i?LZ(i,a,o=>{const s=kr(e),l=kr(n);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||t(o)},{passive:!0}):void 0},IZ=["data-dp-mobile"],DZ=Nt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Qm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:n,emit:t}){const r=t,i=e,a=Xu(),o=ge(!1),s=xh(i,"modelValue"),l=xh(i,"timezone"),u=ge(null),c=ge(null),f=ge(null),d=ge(!1),h=ge(null),p=ge(!1),v=ge(!1),g=ge(!1),m=ge(!1),{setMenuFocused:y,setShiftKey:b}=t$(),{clearArrowNav:x}=Al(),{validateDate:_,isValidTime:w}=Pl(i),{defaultedTransitions:k,defaultedTextInput:O,defaultedInline:S,defaultedConfig:E,defaultedRange:T,defaultedMultiDates:M}=Wn(i),{menuTransition:P,showTransition:A}=Op(k),{isMobile:N}=l$(E),R=vo();tn(()=>{$(i.modelValue),vn().then(()=>{if(!S.value.enabled){const ke=D(h.value);ke==null||ke.addEventListener("scroll",te),window==null||window.addEventListener("resize",ae)}}),S.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",ue),window==null||window.addEventListener("keydown",pe)}),Ml(()=>{if(!S.value.enabled){const ke=D(h.value);ke==null||ke.removeEventListener("scroll",te),window==null||window.removeEventListener("resize",ae)}window==null||window.removeEventListener("keyup",ue),window==null||window.removeEventListener("keydown",pe)});const C=ta(a,"all",i.presetDates),L=ta(a,"input");Rt([s,l],()=>{$(s.value)},{deep:!0});const{openOnTop:I,menuStyle:j,xCorrect:F,setMenuPosition:z,getScrollableParent:D,shadowRender:B}=_Z({menuRef:u,menuRefInner:c,inputRef:f,pickerWrapperRef:h,inline:S,emit:r,props:i,slots:a}),{inputValue:U,internalModelValue:q,parseExternalModelValue:$,emitModelValue:W,formatInputValue:Q,checkBeforeEmit:oe}=mK(r,i,d),ee=Oe(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:S.value.enabled,"dp--flex-display-collapsed":g.value,dp__flex_display_with_input:S.value.input})),H=Oe(()=>i.dark?"dp__theme_dark":"dp__theme_light"),G=Oe(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||S.value.enabled}:{}),X=Oe(()=>({class:"dp__outer_menu_wrap"})),Y=Oe(()=>S.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),re=()=>{var ke,Ye;return((Ye=(ke=f.value)==null?void 0:ke.$el)==null?void 0:Ye.getBoundingClientRect())??{width:0,left:0,right:0}},te=()=>{o.value&&(E.value.closeOnScroll?et():z())},ae=()=>{var ke;o.value&&z();const Ye=((ke=c.value)==null?void 0:ke.$el.getBoundingClientRect().width)??0;g.value=document.body.offsetWidth<=Ye},ue=ke=>{ke.key==="Tab"&&!S.value.enabled&&!i.teleport&&E.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||et()),v.value=ke.shiftKey},pe=ke=>{v.value=ke.shiftKey},ve=()=>{!i.disabled&&!i.readonly&&(B(R,lT,i),z(!1),o.value=!0,o.value&&r("open"),o.value||xe(),$(i.modelValue))},Te=()=>{var ke,Ye;U.value="",xe(),(ke=c.value)==null||ke.onValueCleared(),(Ye=f.value)==null||Ye.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),E.value.closeOnClearValue&&et()},ne=()=>{const ke=q.value;return!ke||!Array.isArray(ke)&&_(ke)?!0:Array.isArray(ke)?M.value.enabled||ke.length===2&&_(ke[0])&&_(ke[1])?!0:T.value.partialRange&&!i.timePicker?_(ke[0]):!1:!1},ce=()=>{oe()&&ne()?(W(),et()):r("invalid-select",q.value)},be=ke=>{Ae(),W(),E.value.closeOnAutoApply&&!ke&&et()},Ae=()=>{f.value&&O.value.enabled&&f.value.setParsedDate(q.value)},Qe=(ke=!1)=>{i.autoApply&&w(q.value)&&ne()&&(T.value.enabled&&Array.isArray(q.value)?(T.value.partialRange||q.value.length===2)&&be(ke):be(ke))},xe=()=>{O.value.enabled||(q.value=null)},et=(ke=!1)=>{var Ye,nt;ke&&q.value&&E.value.setDateOnMenuClose&&ce(),S.value.enabled||(o.value&&(o.value=!1,F.value=!1,y(!1),b(!1),x(),r("closed"),U.value&&$(s.value)),xe(),r("blur"),(nt=(Ye=c.value)==null?void 0:Ye.$el)==null||nt.remove())},at=(ke,Ye,nt=!1)=>{if(!ke){q.value=null;return}const cs=Array.isArray(ke)?!ke.some(zl=>!_(zl)):_(ke),_o=w(ke);cs&&_o?(m.value=!0,q.value=ke,Ye?(p.value=nt,ce(),r("text-submit")):i.autoApply&&Qe(),vn().then(()=>{m.value=!1})):r("invalid-date",ke)},Kt=()=>{i.autoApply&&w(q.value)&&W(),Ae()},Vt=()=>o.value?et():ve(),Yr=ke=>{q.value=ke},fa=()=>{O.value.enabled&&(d.value=!0,Q()),r("focus")},or=()=>{if(O.value.enabled&&(d.value=!1,$(i.modelValue),p.value)){const ke=Gq(h.value,v.value);ke==null||ke.focus()}r("blur")},Gr=ke=>{c.value&&c.value.updateMonthYear(0,{month:eT(ke.month),year:eT(ke.year)})},Gs=ke=>{$(ke??i.modelValue)},fe=(ke,Ye)=>{var nt;(nt=c.value)==null||nt.switchView(ke,Ye)},Le=(ke,Ye)=>E.value.onClickOutside?E.value.onClickOutside(ke,Ye):et(!0),st=(ke=0)=>{var Ye;(Ye=c.value)==null||Ye.handleFlow(ke)},Tt=()=>u;return $Z(u,f,ke=>Le(ne,ke)),n({closeMenu:et,selectDate:ce,clearValue:Te,openMenu:ve,onScroll:te,formatInputValue:Q,updateInternalModelValue:Yr,setMonthYear:Gr,parseModel:Gs,switchView:fe,toggleMenu:Vt,handleFlow:st,getDpWrapMenuRef:Tt}),(ke,Ye)=>(J(),ie("div",{ref_key:"pickerWrapperRef",ref:h,class:Ue(ee.value),"data-datepicker-instance":"","data-dp-mobile":V(N)},[it(CZ,Tr({ref_key:"inputRef",ref:f,"input-value":V(U),"onUpdate:inputValue":Ye[0]||(Ye[0]=nt=>gr(U)?U.value=nt:null),"is-menu-open":o.value},ke.$props,{onClear:Te,onOpen:ve,onSetInputDate:at,onSetEmptyDate:V(W),onSelectDate:ce,onToggle:Vt,onClose:et,onFocus:fa,onBlur:or,onRealBlur:Ye[1]||(Ye[1]=nt=>d.value=!1),onTextInput:Ye[2]||(Ye[2]=nt=>ke.$emit("text-input",nt))}),fi({_:2},[Mt(V(L),(nt,cs)=>({name:nt,fn:Je(_o=>[Fe(ke.$slots,nt,Dr(Oi(_o)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(J(),vt(yp(ke.teleport?uY:"div"),Dr(Oi(G.value)),{default:Je(()=>[it(Hf,{name:V(P)(V(I)),css:V(A)&&!V(S).enabled},{default:Je(()=>[o.value?(J(),ie("div",Tr({key:0,ref_key:"dpWrapMenuRef",ref:u},X.value,{class:{"dp--menu-wrapper":!V(S).enabled},style:V(S).enabled?void 0:V(j)}),[it(lT,Tr({ref_key:"dpMenuRef",ref:c},ke.$props,{"internal-model-value":V(q),"onUpdate:internalModelValue":Ye[3]||(Ye[3]=nt=>gr(q)?q.value=nt:null),class:{[H.value]:!0,"dp--menu-wrapper":ke.teleport},"open-on-top":V(I),"no-overlay-focus":Y.value,collapse:g.value,"get-input-rect":re,"is-text-input-date":m.value,onClosePicker:et,onSelectDate:ce,onAutoApply:Qe,onTimeUpdate:Kt,onFlowStep:Ye[4]||(Ye[4]=nt=>ke.$emit("flow-step",nt)),onUpdateMonthYear:Ye[5]||(Ye[5]=nt=>ke.$emit("update-month-year",nt)),onInvalidSelect:Ye[6]||(Ye[6]=nt=>ke.$emit("invalid-select",V(q))),onAutoApplyInvalid:Ye[7]||(Ye[7]=nt=>ke.$emit("invalid-select",nt)),onInvalidFixedRange:Ye[8]||(Ye[8]=nt=>ke.$emit("invalid-fixed-range",nt)),onRecalculatePosition:V(z),onTooltipOpen:Ye[9]||(Ye[9]=nt=>ke.$emit("tooltip-open",nt)),onTooltipClose:Ye[10]||(Ye[10]=nt=>ke.$emit("tooltip-close",nt)),onTimePickerOpen:Ye[11]||(Ye[11]=nt=>ke.$emit("time-picker-open",nt)),onTimePickerClose:Ye[12]||(Ye[12]=nt=>ke.$emit("time-picker-close",nt)),onAmPmChange:Ye[13]||(Ye[13]=nt=>ke.$emit("am-pm-change",nt)),onRangeStart:Ye[14]||(Ye[14]=nt=>ke.$emit("range-start",nt)),onRangeEnd:Ye[15]||(Ye[15]=nt=>ke.$emit("range-end",nt)),onDateUpdate:Ye[16]||(Ye[16]=nt=>ke.$emit("date-update",nt)),onInvalidDate:Ye[17]||(Ye[17]=nt=>ke.$emit("invalid-date",nt)),onOverlayToggle:Ye[18]||(Ye[18]=nt=>ke.$emit("overlay-toggle",nt)),onMenuBlur:Ye[19]||(Ye[19]=nt=>ke.$emit("blur"))}),fi({_:2},[Mt(V(C),(nt,cs)=>({name:nt,fn:Je(_o=>[Fe(ke.$slots,nt,Dr(Oi({..._o})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):he("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,IZ))}}),__=(()=>{const e=DZ;return e.install=n=>{n.component("Vue3DatePicker",e)},e})(),FZ=Object.freeze(Object.defineProperty({__proto__:null,default:__},Symbol.toStringTag,{value:"Module"}));Object.entries(FZ).forEach(([e,n])=>{e!=="default"&&(__[e]=n)});const BZ=Nt({__name:"index",props:{value:{type:[String,Array,Date],default:""},range:{type:Boolean,default:!1},format:{type:String,default:"yyyy/MM/dd"},isTime:{type:Boolean,default:!1},isText:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},minDate:{type:String,default:""},maxDate:{type:String,default:""},autoApply:{type:Boolean,default:!1},width:{type:String,default:"100%"},height:{type:String,default:"40px"},placeholder:{type:String,default:"请选择日期"},language:{type:String,default:"zh-CN"},dayName:{type:Array,default:["一","二","三","四","五","六","日"]}},emits:["update:value"],setup(e,{emit:n}){const t=e,{proxy:r}=vo(),i=n,a=ge();return Rt(()=>t.value,o=>{o&&(a.value=o,i("update:value",o))},{deep:!0}),Rt(a,o=>{i("update:value",o)},{deep:!0}),tn(()=>{a.value=t.value}),(o,s)=>(J(),ie("div",{style:Be({width:e.width,height:e.height})},[it(V(__),{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=l=>a.value=l),mode:"range",format:e.format,range:e.range,placeholder:e.placeholder,locale:e.language,"day-names":e.dayName,"enable-time-picker":e.isTime,"text-input":e.isText,"multi-calendars":e.isMulti,"min-date":e.minDate,"max-date":e.maxDate,"auto-apply":e.autoApply},null,8,["modelValue","format","range","placeholder","locale","day-names","enable-time-picker","text-input","multi-calendars","min-date","max-date","auto-apply"])],4))}}),jZ={class:"label"},zZ={colspan:"2"},YZ={class:"label"},GZ={class:"label"},WZ={colspan:"2"},HZ={class:"label"},UZ={colspan:"2"},VZ={class:"label"},XZ={colspan:"2"},qZ=Nt({__name:"Uinfo",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:n}){const t=e,r=n,a=Ys().state;let o=!1;const s=ge({nickname:"",name:"",gender:"",birthday:"",department:"",position:""});let l=Ni.Date("Y/m/d"),u=[];Rt(()=>t.show,d=>{if(o=d,d){const h=a.uinfo;s.value.nickname=h.nickname||"",s.value.name=h.name||"",s.value.birthday=h.birthday&&h.birthday!="1970-01-01"?h.birthday:Ni.Date("Y/m/d"),s.value.department=h.department||"",s.value.position=h.position||"",s.value.gender=h.gender||"",u=[{label:a.langs.null,value:""},{label:a.langs.uinfo_gender_boy,value:"男"},{label:a.langs.uinfo_gender_girl,value:"女"}]}},{deep:!0});const c=()=>{f();const d=zt.Loading();Zi.Post("user/change_uinfo?lang="+a.lang,{token:a.token,uinfo:s},h=>{d.clear();const{code:p,msg:v}=h.data;p==0&&(a.uinfo.nickname=s.value.nickname,a.uinfo.name=s.value.name,a.uinfo.gender=s.value.gender,a.uinfo.birthday=s.value.birthday,a.uinfo.department=s.value.department,a.uinfo.position=s.value.position),zt.Toast(v)})},f=()=>{r("update:show",!1)};return(d,h)=>(J(),vt(g3,{show:V(o),"onUpdate:show":h[7]||(h[7]=p=>gr(o)?o.value=p:o=p),title:V(a).langs.uinfo_title,width:"560px",bottom:"40px",onClose:h[8]||(h[8]=p=>f())},{bottom:Je(()=>[it(ih,{height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>c())},{default:Je(()=>[Jn(Me(V(a).langs.confirm),1)]),_:1})]),default:Je(()=>[it(v3,null,{default:Je(()=>[it(m3,null,{default:Je(()=>[K("tr",null,[K("td",jZ,Me(V(a).langs.uinfo_nickname),1),K("td",zZ,[it(sl,{value:s.value.nickname,"onUpdate:value":h[0]||(h[0]=p=>s.value.nickname=p),placeholder:V(a).langs.uinfo_nickname_placeholder,maxlength:"16"},null,8,["value","placeholder"])])]),K("tr",null,[K("td",YZ,Me(V(a).langs.uinfo_name),1),K("td",null,[it(sl,{value:s.value.name,"onUpdate:value":h[1]||(h[1]=p=>s.value.name=p),maxlength:"16",disabled:""},null,8,["value"])]),K("td",null,[it(TV,{value:s.value.gender,"onUpdate:value":h[2]||(h[2]=p=>s.value.gender=p),options:V(u)},null,8,["value","options"])])]),K("tr",null,[K("td",GZ,Me(V(a).langs.uinfo_birthday),1),K("td",WZ,[it(BZ,{value:s.value.birthday,"onUpdate:value":h[3]||(h[3]=p=>s.value.birthday=p),maxDate:V(l)},null,8,["value","maxDate"])])]),K("tr",null,[K("td",HZ,Me(V(a).langs.uinfo_department),1),K("td",UZ,[it(sl,{value:s.value.department,"onUpdate:value":h[4]||(h[4]=p=>s.value.department=p),maxlength:"16"},null,8,["value"])])]),K("tr",null,[K("td",VZ,Me(V(a).langs.uinfo_position),1),K("td",XZ,[it(sl,{value:s.value.position,"onUpdate:value":h[5]||(h[5]=p=>s.value.position=p),maxlength:"16"},null,8,["value"])])])]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),KZ=Ui(qZ,[["__scopeId","data-v-738bed82"]]);class j1{static IsRight(n,t){return{uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{3,15}$/,passwd:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{6,16}$/,tel:/^1\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,idcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/}[n].test(t)}static Test(n,t){return n.test(t)}}const ZZ={class:"label"},QZ={onsubmit:"return false"},JZ={class:"label"},eQ={onsubmit:"return false"},tQ=Nt({__name:"Passwd",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:n}){const t=e,r=n,a=Ys().state;let o;const s=ge({show:!1,uname:"",passwd1:"",passwd2:"",is_vcode:!1,vcode:"",text:"",num:60});Rt(()=>t.show,d=>{s.value.show=d,d&&(s.value.text=a.langs.passwd_code_get,a.uinfo.tel?s.value.uname=a.uinfo.tel:a.uinfo.email?s.value.uname=a.uinfo.email:a.uinfo.uname&&(s.value.uname=a.uinfo.uname))},{deep:!0});const l=()=>{if(s.value.num!=60)return;let d="";if(j1.IsRight("tel",s.value.uname))d="tel";else if(j1.IsRight("email",s.value.uname))d="email";else return zt.Toast(a.langs.passwd_verify_null);const h=zt.Loading();Zi.Post("user/get_vcode?lang="+a.lang,{type:d,uname:s.value.uname},p=>{h.clear();const{code:v,msg:g,data:m}=p.data;return v==0?(u(),s.value.vcode=m.toString()):v==4001&&(s.value.num=m,u()),zt.Toast(g)})},u=()=>{clearInterval(o),o=setInterval(()=>{s.value.num--,s.value.text=a.langs.passwd_code_time(s.value.num),s.value.num<=0&&(clearInterval(o),s.value.num=60,s.value.text=a.langs.passwd_code_resend)},1e3)},c=()=>{if(s.value.vcode.length!=4)return zt.Toast(a.langs.passwd_verify_code);if(s.value.is_vcode=!0,!j1.IsRight("passwd",s.value.passwd1)||s.value.passwd1!==s.value.passwd2)return zt.Toast(a.langs.passwd_verify_passwd1);const d=zt.Loading();Zi.Post("user/change_passwd?lang="+a.lang,{uname:s.value.uname,passwd:s.value.passwd1,vcode:s.value.vcode},h=>{d.clear();const{code:p,msg:v}=h.data;if(p==0)a.isLogin=!1,f();else return zt.Toast(v)})},f=()=>{s.value.is_vcode=!1,s.value.vcode="",s.value.passwd1="",s.value.passwd2="",r("update:show",!1)};return(d,h)=>(J(),vt(g3,{show:s.value.show,"onUpdate:show":h[8]||(h[8]=p=>s.value.show=p),title:V(a).langs.passwd_title,width:"420px",bottom:"40px",onClose:h[9]||(h[9]=p=>f())},{bottom:Je(()=>[s.value.is_vcode?he("",!0):(J(),vt(ih,{key:0,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[5]||(h[5]=p=>c())},{default:Je(()=>[Jn(Me(V(a).langs.next),1)]),_:1})),s.value.is_vcode?(J(),vt(ih,{key:1,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>s.value.is_vcode=!1)},{default:Je(()=>[Jn(Me(V(a).langs.prev),1)]),_:1})):he("",!0),s.value.is_vcode?(J(),vt(ih,{key:2,effect:"dark",type:"primary",height:"40px",padding:"0 32px",onClick:h[7]||(h[7]=p=>c())},{default:Je(()=>[Jn(Me(V(a).langs.confirm),1)]),_:1})):he("",!0)]),default:Je(()=>[it(v3,null,{default:Je(()=>[it(m3,null,{default:Je(()=>[s.value.is_vcode?(J(),ie(De,{key:1},[K("tr",null,[K("td",ZZ,Me(V(a).langs.passwd_new),1),K("td",null,[K("form",QZ,[it(sl,{type:"password",value:s.value.passwd1,"onUpdate:value":h[3]||(h[3]=p=>s.value.passwd1=p),maxlength:"16"},null,8,["value"])])])]),K("tr",null,[K("td",JZ,Me(V(a).langs.passwd_confirm),1),K("td",null,[K("form",eQ,[it(sl,{type:"password",value:s.value.passwd2,"onUpdate:value":h[4]||(h[4]=p=>s.value.passwd2=p),maxlength:"16"},null,8,["value"])])])])],64)):(J(),ie(De,{key:0},[K("tr",null,[K("td",null,[it(sl,{value:s.value.uname,"onUpdate:value":h[0]||(h[0]=p=>s.value.uname=p),disabled:"",maxlength:"32",icon:"ui ui_user",padding:"0 10px 0 40px"},null,8,["value"])])]),K("tr",null,[K("td",null,[it(sl,{value:s.value.vcode,"onUpdate:value":h[1]||(h[1]=p=>s.value.vcode=p),placeholder:V(a).langs.passwd_code_placeholder,maxlength:"4",icon:"ui ui_safety",padding:"0 10px 0 40px",text:s.value.text,onTextClick:h[2]||(h[2]=p=>l())},null,8,["value","placeholder","text"])])])],64))]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),nQ=Ui(tQ,[["__scopeId","data-v-6487da48"]]);class uT{static Fixed(n,t=2){let r="";for(let a=0;a<t;a++)r+="0";let i=parseInt("1"+r);return Math.floor(n*i)/i}static FileSize(n){return n/1024<1024?(n/1024).toFixed(2)+"KB":n/1024/1024<1024?(n/1024/1024).toFixed(2)+"MB":n/1024/1024/1024<1024?(n/1024/1024/1024).toFixed(2)+"GB":(n/1024/1024/1024/1024).toFixed(2)+"TB"}static priceEncode(n,t=2){return parseFloat(n).toFixed(t).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static priceDecode(n,t=2){return parseFloat(n.replace(/,/g,"")).toFixed(t)}static PriceQoq(n=0,t=0,r=2){return n-t==0?"0":n==0?"-100":t==0?"100":parseFloat(String((n-t)/t*100)).toFixed(r).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static telEncode(n,t=" "){if(!/^[1]\d{10}$/.test(n))return n;let i="";for(let a=0;a<n.length;a++)(a==3||a==7)&&(i+=t),i+=n.substring(a,a+1);return i}static telDecode(n,t=" "){const r=new RegExp("/"+t+"/g");return n.replace(r,"")}static cardEncode(n,t=" "){if(!/^\d+$/.test(n))return n;let i="";for(let a=0;a<n.length;a++)a%4===0&&(i+=t),i+=n.substring(a,a+1);return i}static cardDecode(n,t=" "){const r=new RegExp("/"+t+"/g");return n.replace(r,"")}}const rQ=["src"],iQ={ref:"wmImageLoading",class:"loading_img"},aQ={key:2,class:"wm-image_view_info"},oQ={key:0},sQ={class:"prev"},lQ={class:"next"},uQ=Nt({__name:"view",props:{show:{type:Boolean,default:!1},index:{type:Number,default:0},options:{type:Array,default:[]},bgColor:{type:String,default:"rgba(0,0,0,.8)"},icoSize:{type:String,default:"32px"}},emits:["update:show"],setup(e,{emit:n}){const t=e,{proxy:r}=vo(),i=n,o=Ys().state,s=ge(!1),l=ge(0),u=ge(""),c=ge(!1),f=ge(""),d=ge(""),h=ge("");Rt(()=>t.show,b=>{b&&(l.value=t.index,g(l.value),window.addEventListener("resize",p),document.addEventListener("keydown",v))},{deep:!0});const p=()=>{t.show&&g(l.value)},v=b=>{switch(b.keyCode||b.which){case 37:g(l.value-1);break;case 39:g(l.value+1);break;case 27:y();break}},g=b=>{b<0&&(b=t.options.length-1),b>=t.options.length&&(b=0),l.value=b;let x=t.options[b]?t.options[b].value:"";if(!x)return y(),zt.Toast("无图片地址");f.value=t.options[b].label,d.value=t.options[b].size||"",h.value=t.options[b].other||"",s.value=!1;const _=r.$refs.wmImageLoading;_.src=x,_.onload=()=>{const w=document.body.clientWidth,k=document.body.clientHeight,O=w/k,S=_.width/_.height;let E="auto",T="auto";(_.width>w||_.height>k)&&(S>O?E="100%":T="100%"),s.value=!0,u.value=x,vn(()=>{const M=r.$refs.wmImageView;M.style.opacity="0",M.style.width="0",M.style.height="0",setTimeout(()=>{M.style.opacity="1",M.style.width=E,M.style.height=T},300)})}},m=()=>{c.value=!c.value;let b=r.$refs.wmImageViewBg;b.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():b.webkitRequestFullScreen():b.mozRequestFullScreen?document.mozFullScreen?document.mozCancelFullScreen():b.mozRequestFullScreen():b.msRequestFullscreen?document.msFullscreenElement?document.msExitFullscreen():b.msRequestFullscreen():b.requestFullscreen&&(document.exitFullscreen?document.exitFullscreen():b.requestFullscreen())},y=()=>{i("update:show",!1),c.value&&m(),window.removeEventListener("resize",p),document.removeEventListener("keydown",v)};return(b,x)=>(J(),ie("div",{ref:"wmImageViewBg",class:"wm-image_view",style:Be({backgroundColor:e.bgColor,visibility:e.show?"inherit":"hidden",opacity:e.show?"1":"0"})},[s.value?(J(),ie("img",{key:1,ref:"wmImageView",src:u.value,style:Be({visibility:s.value?"inherit":"hidden"})},null,12,rQ)):(J(),ie("i",{key:0,class:"ui ui_loading loading",style:Be({fontSize:e.icoSize})},null,4)),K("img",iQ,null,512),f.value?(J(),ie("div",aQ,[K("span",null,Me(V(o).langs.name)+": "+Me(f.value),1),d.value?(J(),ie("span",oQ,Me(V(o).langs.size)+": "+Me(d.value),1)):he("",!0),h.value?(J(!0),ie(De,{key:1},Mt(h.value,(_,w)=>(J(),ie("span",{key:w},Me(w)+": "+Me(_),1))),128)):he("",!0),K("span",null,Me(V(o).langs.page)+": "+Me(l.value+1)+"/"+Me(e.options.length),1)])):he("",!0),K("i",{class:"ui ui_close tools close",onClick:x[0]||(x[0]=_=>y())}),K("i",{class:Ue(["ui tools full",c.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:x[1]||(x[1]=_=>m())},null,2),K("div",sQ,[K("i",{class:"ui ui_arrow_left",onClick:x[2]||(x[2]=ra(_=>g(l.value-1),["stop"])),style:Be({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)]),K("div",lQ,[K("i",{class:"ui ui_arrow_right",onClick:x[3]||(x[3]=ra(_=>g(l.value+1),["stop"])),style:Be({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)])],4))}}),cQ=Ui(uQ,[["__scopeId","data-v-9116caf6"]]),fQ={class:"wm-msg_content flex"},dQ={class:"wm-msg_left"},hQ={class:"wm-msg_uinfo flex"},pQ={key:0,class:"ui ui_image"},vQ={class:"name nowrap"},gQ={key:0,class:"config"},mQ={class:"wm-msg_search"},yQ=["placeholder"],bQ={key:0,class:"user_list_body"},xQ={class:"user_list"},wQ=["onClick"],_Q={key:0,class:"ui ui_image"},kQ={class:"name nowrap"},OQ={key:1,class:"null"},SQ={class:"wm-msg_left_ct scrollbar"},EQ={key:0,class:"wm-msg_list"},TQ=["onClick"],MQ={key:0,class:"redNum"},AQ={key:1,class:"ui ui_image"},PQ={class:"msg_text"},CQ={class:"flex"},RQ={class:"title nowrap"},NQ={class:"time"},LQ={key:0,class:"text nowrap"},$Q={key:1,class:"text nowrap"},IQ={key:2,class:"text nowrap"},DQ={key:1,class:"msg_null"},FQ={class:"wm-msg_title"},BQ={class:"wm-msg_ct scrollbar"},jQ={class:"time"},zQ={key:0,class:"msg_left flex_left"},YQ={key:0,class:"ui ui_image"},GQ={class:"msg_body flex_left"},WQ={key:0,class:"content msg_ct"},HQ={key:0,class:"red"},UQ={key:1,class:"content file_ct"},VQ={key:0,class:"img_ct"},XQ={key:0,class:"wm-ui_load"},qQ=["src","onClick"],KQ={key:1,class:"other_ct"},ZQ={class:"text_body"},QQ={class:"nowrap"},JQ={class:"text"},eJ={key:0},tJ=["onClick"],nJ={key:1,class:"msg_right flex_right"},rJ={class:"msg_body flex_right"},iJ={key:0,class:"content msg_ct"},aJ={key:0,class:"red"},oJ={key:1,class:"content file_ct"},sJ={key:0,class:"img_ct"},lJ={key:0,class:"wm-ui_load"},uJ=["src","onClick"],cJ={key:1,class:"other_ct"},fJ={class:"text_body"},dJ={class:"nowrap"},hJ={class:"text"},pJ={key:0},vJ=["onClick"],gJ={key:0,class:"ui ui_image"},mJ={key:1,class:"msg_null"},yJ={class:"wm-msg_tools flex_flex"},bJ=["onKeydown","disabled"],xJ={class:"wm-msg_action flex_right"},wJ=Nt({__name:"Msg",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:n}){const t=e,r=n,a=Ys().state,o=ge({refreshing:!1,loading:!1,finished:!1}),s=ge(!1),l=ge(!1),u=ge({show:!1,key:"",list:[]}),c=ge({num:1,limit:12}),f=ge({content:""});let d=ge(600);const h=ge({show:!1,index:0,imgs:[]});Rt(()=>t.show,z=>{s.value=z,z&&y()},{deep:!0}),Rt(()=>a.msg.readId,z=>{z>0&&w([z],!1),_(),a.msg.readId=0},{deep:!0}),tn(()=>{y()});const p=()=>{const z=u.value.key.trim();z?(u.value.show=!0,Zi.Post("msg/sea?lang="+a.lang,{token:a.token,key:z},D=>{const B=D.data;B.code==0&&(u.value.list=B.data)})):(u.value.show=!1,u.value.list=[])},v=z=>{u.value.show=!1;for(let B of a.msg.group)if(B.gid==z.gid&&B.fid==z.fid)return x(B);const D={gid:z.gid,fid:z.fid,title:z.title,content:"",img:z.img,time:Ni.Date("Y-m-d H:i:s"),num:0};return a.msg.group.unshift(D),x(D)},g=()=>{c.value.num=1,o.value.finished=!1,a.msg.list=[],b()},m=()=>{if(o.value.finished)return a.msg.list.length>0?zt.Toast("已无历史消息!"):void 0;c.value.num+=1,b()},y=()=>{Zi.Post("msg/list",{token:a.token},z=>{const{code:D,msg:B,data:U}=z.data;D===0&&(a.msg.group=U.list,a.msg.num=U.num)})},b=()=>{Zi.Post("msg/show",{token:a.token,gid:a.msg.gid,fid:a.msg.fid,page:c.value.num,limit:c.value.limit},z=>{const{code:D,msg:B,data:U}=z.data;if(D===0){if(U.length>0){a.msg.list.unshift(...U);let q=[];for(let $ of U)$.is_new&&q.push($.id);w(q)}else o.value.finished=!0,m();c.value.num===1&&_()}else return zt.Toast(B)})},x=z=>{a.msg.gid=z.gid,a.msg.fid=z.fid,a.msg.title=z.title,a.msg.img=z.img,f.value.content=z.sendContent||"",g()},_=()=>{let z=!1;a.msg.isBottom=!1;for(let D of a.msg.list)if(D.format===1&&I(D.content.type)){z=!0;const B=new Image;B.src=D.content.url+D.content.file,B.onload=()=>{setTimeout(()=>{var U;(U=document.querySelector("#msgBottom"))==null||U.scrollIntoView(!0)},100)}}z||vn(()=>{var D;(D=document.querySelector("#msgBottom"))==null||D.scrollIntoView(!0)})},w=(z=[],D=!0)=>{if(z.length!=0){if(D){a.msg.num-=z.length;for(let B of a.msg.group)B.gid===a.msg.gid&&B.fid===a.msg.fid&&(B.num-=z.length,B.num<0&&(B.num=0))}Zi.Post("msg/read?lang="+a.lang,{token:a.token,ids:z},B=>{const{code:U,msg:q}=B.data;U!==0&&zt.Toast(q)})}},k=()=>{for(let z of a.msg.group)z.gid===a.msg.gid&&z.fid===a.msg.fid&&(z.sendContent=f.value.content)},O=()=>{f.value.content+=`
`},S=async z=>{var B;const D=(B=z.clipboardData)==null?void 0:B.items;if(D){for(const U of D)if(U.type.includes("image")){const q=U.getAsFile();M(q)}}},E=z=>{if(z.preventDefault(),!a.msg.title)return;const B=z.dataTransfer.files;for(let U of B)M(U)},T=()=>{a.msg.title&&il.Select({multiple:!0,mimeType:[]},z=>{for(let D of z)M(D)},z=>{zt.Toast(z)})},M=async z=>{const{blob:D,base64:B}=await j(z);Zi.Post("msg/oss_sgin?lang="+a.lang,{token:a.token,filename:z.name},U=>{const{code:q,msg:$,data:W}=U.data;if(q!==0)return zt.Toast($);const Q=Ni.TimeMicro(),oe=Ni.Date("Y-m-d H:i:s"),ee={gid:a.msg.gid,fid:parseInt(a.uinfo.uid),uid:a.msg.fid,is_new:!1,time:oe,format:1,title:a.uinfo.name,img:a.uinfo.img,content:{name:z.name,type:z.type,size:z.size,ext:W.ext,url:W.host,file:W.key},loading:Q,load:0,base64:B};a.msg.list.push(ee);const H=a.msg.list.length-1;_();let G=new FormData;G.append("OSSAccessKeyId",W.accessid),G.append("policy",W.policy),G.append("Signature",W.signature),G.append("key",W.key),G.append("file",D),Zi.Post(W.host,G,X=>{X.data&&zt.Toast(X.data)},X=>{zt.Toast("文件上传失败")},{headers:{"Content-Type":"multipart/form-data;charset=utf-8"},onUploadProgress:X=>{let Y=X.loaded/X.total*100|0;a.msg.list[H].load=Y,Y===100&&(ee.type="msg",ee.base64="",a.socket.send(JSON.stringify(ee)))}})})},P=(z,D)=>{il.Down(z,D)},A=z=>{let D=0,B=[];for(let U of a.msg.list)U.format!==1||!I(U.content.type)||(U.content.url+U.content.file==z&&(h.value.index=D),B.push({label:U.content.name,value:U.content.url+U.content.file}),D++);h.value.show=!0,h.value.imgs=B},N=(z=null)=>{if(z&&z.preventDefault(),!a.msg.title||f.value.content.trim()=="")return;const D=Ni.TimeMicro(),B=Ni.Date("Y-m-d H:i:s"),U={gid:a.msg.gid,fid:parseInt(a.uinfo.uid),uid:a.msg.fid,is_new:!1,time:B,format:0,title:a.uinfo.name,img:a.uinfo.img,content:f.value.content.trim(),loading:D};a.msg.list.push(U),a.socket&&(U.type="msg",a.socket.send(JSON.stringify(U))),a.msg.gid===1&&a.msg.list.push({fid:a.msg.fid,uid:0,format:0,is_new:!1,time:B,title:a.msg.title,img:a.msg.img,content:"...",loading:D+1}),_(),R()},R=()=>{f.value.content="";for(let z of a.msg.group)z.gid===a.msg.gid&&z.fid===a.msg.fid&&(z.sendContent="")},C=z=>{const D=Ni.Date("Y-m-d"),B=Ni.StrToTime(D+" 00:00:00");return Ni.StrToTime(z)>=B?z.substring(11,16):z.substring(5,10)},L=(z,D)=>z===D?"":z?Ni.TimeSize(z,D)>d.value?Ni.FormatTime(D):"":Ni.FormatTime(D),I=z=>["image/jpeg","image/png","image/gif"].includes(z),j=z=>new Promise(D=>{if(!I(z.type))return D({blob:z,base64:""});il.FileToBase64(z,B=>{il.ImageCompress(B,{width:1024,type:z.type},U=>{il.Base64ToFile(U,z.name,q=>D({blob:q,base64:U}),q=>{zt.Toast(q)})},U=>{zt.Toast(U)})})}),F=()=>{r("update:show",!1)};return(z,D)=>(J(),ie(De,null,[K("div",{class:"wm-msg_body",style:Be({visibility:s.value?"inherit":"hidden"})},[it(Mh,{width:"980px",height:"700px",show:s.value,"onUpdate:show":D[13]||(D[13]=B=>s.value=B),onClose:D[14]||(D[14]=B=>F())},{default:Je(()=>[K("div",fQ,[K("div",dQ,[K("div",hQ,[K("div",{class:"img",style:Be({backgroundImage:V(a).uinfo.img?"url("+V(a).uinfo.img+")":""})},[V(a).uinfo.img?he("",!0):(J(),ie("i",pQ))],4),K("div",vQ,Me(V(a).uinfo.nickname),1),K("div",{class:"more",tabindex:"0",onBlur:D[2]||(D[2]=B=>l.value=!1),onFocus:D[3]||(D[3]=B=>l.value=!1)},[D[18]||(D[18]=K("i",{class:"ui ui_more"},null,-1)),l.value?(J(),ie("ul",gQ,[K("li",{class:"flex_left",onClick:D[0]||(D[0]=B=>V(a).isUinfo=!0)},[D[16]||(D[16]=K("i",{class:"ui ui_user"},null,-1)),K("span",null,Me(V(a).langs.uinfo_title),1)]),K("li",{class:"flex_left",onClick:D[1]||(D[1]=B=>V(a).isPasswd=!0)},[D[17]||(D[17]=K("i",{class:"ui ui_safety"},null,-1)),K("span",null,Me(V(a).langs.passwd_title),1)])])):he("",!0)],32)]),K("div",mQ,[D[20]||(D[20]=K("i",{class:"sea ui ui_search"},null,-1)),no(K("input",{type:"text","onUpdate:modelValue":D[4]||(D[4]=B=>u.value.key=B),placeholder:V(a).langs.msg_seach,onInput:D[5]||(D[5]=B=>p())},null,40,yQ),[[mu,u.value.key]]),u.value.show?(J(),ie("div",bQ,[D[19]||(D[19]=K("div",{class:"arrow arrow_up"},null,-1)),K("ul",xQ,[u.value.list.length>0?(J(!0),ie(De,{key:0},Mt(u.value.list,(B,U)=>(J(),ie("li",{class:"flex",key:U,onClick:q=>v(B)},[K("div",{class:"img",style:Be({backgroundImage:B.img?"url("+B.img+")":""})},[B.img?he("",!0):(J(),ie("i",_Q))],4),K("div",kQ,Me(B.title),1)],8,wQ))),128)):(J(),ie("li",OQ))])])):he("",!0)]),K("div",SQ,[V(a).msg.group.length>0?(J(),ie("ul",EQ,[(J(!0),ie(De,null,Mt(V(a).msg.group,B=>(J(),ie("li",{class:Ue(["flex",B.gid===V(a).msg.gid&&B.fid===V(a).msg.fid?"active":""]),onClick:U=>x(B)},[K("div",{class:"img",style:Be({backgroundImage:B.img?"url("+B.img+")":""})},[B.num>0?(J(),ie("span",MQ,Me(B.num),1)):he("",!0),B.img?he("",!0):(J(),ie("i",AQ))],4),K("div",PQ,[K("div",CQ,[K("div",RQ,Me(B.title),1),K("div",NQ,Me(C(B.time)),1)]),B.sendContent?(J(),ie("div",LQ,"[草稿]"+Me(B.sendContent),1)):he("",!0),B.format===1?(J(),ie("div",$Q,"["+Me(I(B.content.type)?"图片":"文件")+"] "+Me(B.content.name),1)):(J(),ie("div",IQ,Me(B.content),1))])],10,TQ))),256))])):(J(),ie("div",DQ,Me(V(a).langs.msg_null),1))])]),K("div",{class:"wm-msg_right",onDragover:D[12]||(D[12]=ra(()=>{},["prevent"])),onDrop:E},[K("div",FQ,Me(V(a).msg.title),1),K("div",BQ,[V(a).msg.list.length>0?(J(),ie(De,{key:0},[o.value.finished?he("",!0):(J(),ie("div",{key:0,class:"history",onClick:D[6]||(D[6]=B=>m())},"历史消息")),(J(!0),ie(De,null,Mt(V(a).msg.list,(B,U)=>(J(),ie(De,{key:U},[K("div",jQ,Me(L(V(a).msg.list[U-1]?V(a).msg.list[U-1].time:B.time,B.time)),1),B.fid!=V(a).uinfo.uid?(J(),ie("div",zQ,[K("div",{class:"img",style:Be({backgroundImage:B.img?"url("+B.img+")":""})},[B.img?he("",!0):(J(),ie("i",YQ))],4),K("div",GQ,[B.format===0?(J(),ie("div",WQ,[D[21]||(D[21]=K("span",{class:"arrow"},null,-1)),B.loading?(J(),ie("span",HQ)):he("",!0),K("pre",null,Me(B.content),1)])):B.format===1?(J(),ie("div",UQ,[D[24]||(D[24]=K("span",{class:"arrow"},null,-1)),I(B.content.type)?(J(),ie("div",VQ,[B.loading?(J(),ie("div",XQ,D[22]||(D[22]=[K("span",null,[K("i",{class:"ui ui_loading"})],-1)]))):he("",!0),K("img",{src:B.base64?B.base64:B.content.url+B.content.file+"?x-oss-process=image/resize,l_360",onClick:q=>A(B.content.url+B.content.file)},null,8,qQ)])):(J(),ie("div",KQ,[D[23]||(D[23]=K("i",{class:"ui ui_file"},null,-1)),K("div",ZQ,[K("h2",QQ,Me(B.content.name),1),K("div",JQ,[Jn(Me(V(uT).FileSize(B.content.size))+"  |   ",1),B.loading?(J(),ie("a",eJ,"取消")):(J(),ie("a",{key:1,onClick:q=>P(B.content.url+B.content.file,B.content.name)},"下载",8,tJ))]),B.loading?(J(),ie("div",{key:0,class:"load",style:Be({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+B.load+"%, #F2F2F2 "+B.load+"%, #F2F2F2 100%)"})},null,4)):he("",!0)])]))])):he("",!0)])])):(J(),ie("div",nJ,[K("div",rJ,[B.format===0?(J(),ie("div",iJ,[D[25]||(D[25]=K("span",{class:"arrow"},null,-1)),B.loading?(J(),ie("span",aJ)):he("",!0),K("pre",null,Me(B.content),1)])):B.format===1?(J(),ie("div",oJ,[D[28]||(D[28]=K("span",{class:"arrow"},null,-1)),I(B.content.type)?(J(),ie("div",sJ,[B.loading?(J(),ie("div",lJ,D[26]||(D[26]=[K("span",null,[K("i",{class:"ui ui_loading"})],-1)]))):he("",!0),K("img",{src:B.base64?B.base64:B.content.url+B.content.file+"?x-oss-process=image/resize,l_360",onClick:q=>A(B.content.url+B.content.file)},null,8,uJ)])):(J(),ie("div",cJ,[D[27]||(D[27]=K("i",{class:"ui ui_file"},null,-1)),K("div",fJ,[K("h2",dJ,Me(B.content.name),1),K("div",hJ,[Jn(Me(V(uT).FileSize(B.content.size))+"  |   ",1),B.loading?(J(),ie("a",pJ,"取消")):(J(),ie("a",{key:1,onClick:q=>P(B.content.url+B.content.file,B.content.name)},"下载",8,vJ))]),B.loading?(J(),ie("div",{key:0,class:"load",style:Be({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+B.load+"%, #F2F2F2 "+B.load+"%, #F2F2F2 100%)"})},null,4)):he("",!0)])]))])):he("",!0)]),K("div",{class:"img",style:Be({backgroundImage:B.img?"url("+B.img+")":""})},[B.img?he("",!0):(J(),ie("i",gJ))],4)]))],64))),128))],64)):(J(),ie("div",mJ,Me(V(a).langs.msg_null),1)),D[29]||(D[29]=K("div",{id:"msgBottom"},null,-1))]),K("ul",yJ,[K("li",{onClick:D[7]||(D[7]=B=>T())},D[30]||(D[30]=[K("i",{class:"ui ui_folder"},null,-1)]))]),no(K("textarea",{class:"wm-msg_area scrollbar","onUpdate:modelValue":D[8]||(D[8]=B=>f.value.content=B),onInput:D[9]||(D[9]=B=>k()),onPaste:S,onKeyup:D[10]||(D[10]=zc(ra(B=>O(),["ctrl"]),["enter"])),onKeydown:zc(ra(N,["exact"]),["enter"]),disabled:!V(a).msg.title,enterkeyhint:"send"},null,40,bJ),[[mu,f.value.content]]),K("div",xJ,[D[32]||(D[32]=K("span",null,"按下Ctrl+Enter换行",-1)),it(ih,{padding:"0 32px",onClick:D[11]||(D[11]=B=>N())},{default:Je(()=>D[31]||(D[31]=[Jn("发送")])),_:1})])],32)])]),_:1},8,["show"])],4),it(cQ,{show:h.value.show,"onUpdate:show":D[15]||(D[15]=B=>h.value.show=B),index:h.value.index,options:h.value.imgs},null,8,["show","index","options"])],64))}}),_J=Ui(wJ,[["__scopeId","data-v-073ec838"]]),kJ={class:"app_main flex"},OJ={class:"menus_body flex"},SJ={class:"menus_left"},EJ={class:"m1"},TJ={key:0,class:"m2"},MJ=["onClick"],AJ={key:1,class:"null"},PJ={class:"m1"},CJ={class:"m2"},RJ={style:{paddingLeft:""}},NJ={style:{paddingLeft:""}},LJ={class:"menus_right"},$J={class:"m_top flex"},IJ={class:"search"},DJ=["placeholder"],FJ={class:"menus_ct scrollbar"},BJ={key:0,class:"null center"},jJ={key:1},zJ={key:0},YJ={class:"title"},GJ=["onClick"],WJ={class:"app_logo flex"},HJ={key:0,class:"logo_text"},UJ={key:0,class:"app_search"},VJ=["placeholder"],XJ={key:0,class:"null center"},qJ={key:1,class:"m2"},KJ=["onClick"],ZJ={key:0,class:"m"},QJ=["title"],JJ=["onClick"],eee={key:0,class:"m2"},tee=["onClick"],nee={class:"app_copy"},ree={class:"app_user_info scrollbar"},iee={class:"img_load"},aee={key:0,class:"ui ui_image"},oee={class:"user"},see={class:"info"},lee={class:"flex"},uee={class:"name"},cee={class:"value"},fee={class:"flex"},dee={class:"name"},hee={class:"value"},pee={class:"flex"},vee={class:"name"},gee={class:"value"},mee={class:"flex"},yee={class:"name"},bee={class:"value"},xee={class:"tools"},wee={class:"app_tabs_body flex"},_ee={class:"app_tabs flex_left"},kee=["onClick"],Oee=["onClick"],See={class:"app_tools flex"},Eee={key:0,class:"redNum"},Tee={key:0,class:"ui ui_user"},Mee={class:"app_body"},Aee=Nt({__name:"App",emits:["update:show","close"],setup(e,{emit:n}){const t=ge(),i=Ys().state,a=hH(),o=WL(),s=ro.title+" "+ro.version,l=ro.copy,u=ge(!1),c=ge(!1),f=ge(!1),d=ge({active:"/",list:[]}),h=ge({key:"",list:[],seaList:[],tmpList:[]}),p=ge(!0);Rt(()=>i.isLogin,w=>{w&&v()},{deep:!0}),Rt(()=>a.path,w=>{i.isLogin&&(d.value.active=w,v())},{deep:!0}),tn(()=>{d.value.active=a.path,p.value=!!On.getItem("IsMenus")});const v=()=>{Zi.Post("sys_menus/get_menus_perm",{token:i.token},w=>{const{code:k,msg:O,data:S}=w.data;if(k==0){h.value.list=S;const E=On.getItem("MenusTabs")||"";d.value.list=E?JSON.parse(E):[];const T=On.getItem("MenusTmp");h.value.tmpList.value=T?JSON.parse(T):[];let M="";for(let P of S)if(P.children){for(let A of P.children)if(A.children){for(let N of A.children)if(N.value.url==d.value.active){M=N.langs[i.lang];break}}}M&&d.value.active&&y(M,d.value.active)}else zt.Toast(O)})},g=()=>{p.value?(p.value=!1,On.setItem("IsMenus","")):(p.value=!0,On.setItem("IsMenus","1"))},m=()=>{const w=h.value.key,k=new RegExp(w.toLowerCase()),O=h.value.list;let S,E,T,M,P=[];h.value.seaList=[];for(const A in O)if(O[A].children){for(const N in O[A].children)if(O[A].children[N].children)for(const R in O[A].children[N].children)w.length>0?(S=O[A].children[N].children[R],E=S.langs[i.lang].toLowerCase(),T=S.en.toLowerCase(),M=k.test(E)||k.test(T),M&&(P.push([A,N]),h.value.seaList.push({label:S.langs[i.lang],icon:S.icon,url:S.value.url}))):M=!0,O[A].children[N].display=!0,O[A].children[N].children[R].display=M}if(w){for(const A in O)if(O[A].children)for(const N in O[A].children){let R=!1;for(const C in P)if(P[C][0]==A&&P[C][1]==N){R=!0;continue}O[A].children[N].display=R}}},y=(w,k,O=!1)=>{if(h.value.list.length==0)return;if(O&&(f.value=!1,u.value=!1),k!="/"){let A=!1;const N=d.value.list;for(const R in N)if(N[R].url==k){A=!0;break}A||d.value.list.push({name:w,url:k}),On.setItem("MenusTabs",JSON.stringify(d.value.list))}const S=h.value.list;let E={},T,M=[];for(const A in S)if(S[A].children){for(const N in S[A].children)if(S[A].children[N].children){for(const R in S[A].children[N].children)if(E=S[A].children[N].children[R],E.value.url==k){T={label:E.langs[i.lang],icon:E.icon,url:E.value.url},M=E.value.action;break}}}if(T){E=On.getItem("MenusTmp"),E=E?JSON.parse(E):[];for(let A in E)(E[A].url==k||parseInt(A)>=9)&&E.splice(A,1);E.unshift(T),h.value.tmpList=E,On.setItem("MenusTmp",JSON.stringify(E))}if(M&&(i.menusAction=M),o.resolve(k).matched.length>0)o.push({path:k});else return zt.Toast("该页面不存在!")},b=w=>{const k=d.value.list;for(const O in k)if(k[O].url==w){if(k.splice(O,1),d.value.active==w){let S=parseInt(O)-1;S<0?y(i.langs.home,"/"):y(k[S.toString()].name,k[S.toString()].url)}break}On.setItem("MenusTabs",JSON.stringify(d.value.list))},x=()=>{il.Select({},w=>{il.FileToBase64(w,k=>{il.ImageCompress(k,{width:200,height:200,type:w.type},O=>{Zi.Post("user/upimg",{token:i.token,base64:O},S=>{const E=S.data;return E.code==0&&t.value.verifyToken(!0),zt.Toast(E.msg)})},O=>{zt.Toast(O)})})},w=>{zt.Toast(w)})},_=()=>{u.value=!1,f.value=!1,d.value.list=[],t.value.logout()};return(w,k)=>{const O=_Y("router-view");return J(),ie(De,null,[it(fV,{ref_key:"userLogin",ref:t,show:!V(i).isLogin},null,8,["show"]),V(i).isLogin?(J(),vt(dV,{key:0})):he("",!0),V(i).isLogin?(J(),vt(KZ,{key:1,show:V(i).isUinfo,"onUpdate:show":k[0]||(k[0]=S=>V(i).isUinfo=S)},null,8,["show"])):he("",!0),V(i).isLogin?(J(),vt(nQ,{key:2,show:V(i).isPasswd,"onUpdate:show":k[1]||(k[1]=S=>V(i).isPasswd=S)},null,8,["show"])):he("",!0),V(i).isLogin?(J(),vt(_J,{key:3,show:c.value,"onUpdate:show":k[2]||(k[2]=S=>c.value=S)},null,8,["show"])):he("",!0),K("div",kJ,[K("div",{class:"app_menus_all",style:Be({visibility:f.value&&V(i).isLogin?"inherit":"hidden"})},[it(Mh,{height:"100%",width:"900px",show:f.value,"onUpdate:show":k[8]||(k[8]=S=>f.value=S),position:"left",bgColor:"#FFF",time:600},{default:Je(()=>[K("div",OJ,[K("div",SJ,[K("div",EJ,Me(V(i).langs.menus_recent),1),h.value.tmpList.length>0?(J(),ie("ul",TJ,[(J(!0),ie(De,null,Mt(h.value.tmpList,(S,E)=>(J(),ie("li",{class:"flex_left",key:E,onClick:T=>y(S.label,S.url,!0)},[S.icon?(J(),ie("i",{key:0,class:Ue(S.icon)},null,2)):he("",!0),K("span",{style:Be({paddingLeft:S.icon?"":"8px"})},Me(S.label),5)],8,MJ))),128))])):(J(),ie("div",AJ)),K("div",PJ,Me(V(i).langs.menus_recommend),1),K("ul",CJ,[K("li",{class:"flex_left",onClick:k[3]||(k[3]=S=>V(i).isUinfo=!0)},[k[22]||(k[22]=K("i",{class:"ui ui_user"},null,-1)),K("span",RJ,Me(V(i).langs.uinfo_title),1)]),K("li",{class:"flex_left",onClick:k[4]||(k[4]=S=>V(i).isPasswd=!0)},[k[23]||(k[23]=K("i",{class:"ui ui_safety"},null,-1)),K("span",NJ,Me(V(i).langs.passwd_title),1)])])]),K("div",LJ,[K("div",$J,[K("div",IJ,[k[24]||(k[24]=K("i",{class:"ui ui_search"},null,-1)),no(K("input",{type:"text",class:"input","onUpdate:modelValue":k[5]||(k[5]=S=>h.value.key=S),onInput:k[6]||(k[6]=S=>m()),placeholder:V(i).langs.menus_placeholder},null,40,DJ),[[mu,h.value.key]])]),K("i",{class:"ui ui_close",onClick:k[7]||(k[7]=S=>f.value=!1)})]),K("div",FJ,[h.value.key&&h.value.seaList.length==0?(J(),ie("div",BJ)):(J(),ie("ul",jJ,[(J(!0),ie(De,null,Mt(h.value.list,(S,E)=>(J(),ie(De,{key:E},[S.children?(J(!0),ie(De,{key:0},Mt(S.children,(T,M)=>(J(),ie(De,{key:M},[T.children&&(T.display||typeof T.display>"u")?(J(),ie("li",zJ,[K("div",YJ,Me(T.langs[V(i).lang]),1),(J(!0),ie(De,null,Mt(T.children,(P,A)=>(J(),ie(De,{key:A},[P.display||typeof P.display>"u"?(J(),ie("div",{key:0,class:Ue(["m flex_left",d.value.active==P.value.url?"active":""]),onClick:N=>y(P.langs[V(i).lang],P.value.url,!0)},[P.icon?(J(),ie("i",{key:0,class:Ue(P.icon)},null,2)):he("",!0),K("span",{style:Be({paddingLeft:P.icon?"":"10px"})},Me(P.langs[V(i).lang]),5)],10,GJ)):he("",!0)],64))),128))])):he("",!0)],64))),128)):he("",!0)],64))),128))]))])])])]),_:1},8,["show"])],4),K("div",{class:"app_left",style:Be({width:p.value?"240px":"56px"})},[K("div",{class:"app_on",onClick:k[9]||(k[9]=S=>g())},[K("i",{class:Ue(["ui",p.value?"ui_arrow_left":"ui_arrow_right"])},null,2)]),K("div",WJ,[K("div",{class:"logo",title:s,onClick:k[10]||(k[10]=S=>{f.value=!f.value,u.value=!1})}),p.value?(J(),ie("div",HJ,Me(s))):he("",!0)]),p.value?(J(),ie("div",UJ,[k[25]||(k[25]=K("i",{class:"ui ui_search"},null,-1)),no(K("input",{type:"text",class:"input","onUpdate:modelValue":k[11]||(k[11]=S=>h.value.key=S),onInput:k[12]||(k[12]=S=>m()),placeholder:V(i).langs.menus_placeholder},null,40,VJ),[[mu,h.value.key]])])):he("",!0),K("div",{class:"app_menus scrollbar",style:Be({height:"calc(100% - "+(p.value?"152px":"98px")+")"})},[h.value.key&&h.value.seaList.length==0?(J(),ie("div",XJ)):h.value.key&&h.value.seaList.length>0&&p.value?(J(),ie("ul",qJ,[(J(!0),ie(De,null,Mt(h.value.seaList,(S,E)=>(J(),ie("li",{class:Ue(["flex_left",d.value.active==S.url?"active":""]),key:E,onClick:T=>y(S.label,S.url)},[S.icon?(J(),ie("i",{key:0,class:Ue(S.icon)},null,2)):he("",!0),K("span",{style:Be({paddingLeft:S.icon?"":"16px"})},Me(S.label),5)],10,KJ))),128))])):(J(!0),ie(De,{key:2},Mt(h.value.list,(S,E)=>(J(),ie(De,{key:E},[p.value?he("",!0):(J(),ie("div",ZJ,[K("i",{class:Ue(S.icon),title:S.langs[V(i).lang],onClick:k[13]||(k[13]=T=>g())},null,10,QJ)])),S.children&&p.value?(J(!0),ie(De,{key:1},Mt(S.children,(T,M)=>(J(),ie(De,{key:M},[K("div",{class:"m1 flex",onClick:P=>T.show=!T.show},[K("span",null,Me(T.langs[V(i).lang]),1),K("i",{class:"ui ui_arrow_up",style:Be({transform:T.show?"rotate(0deg)":"rotate(180deg)"})},null,4)],8,JJ),T.children&&T.show?(J(),ie("ul",eee,[(J(!0),ie(De,null,Mt(T.children,(P,A)=>(J(),ie("li",{class:Ue(["flex_left",d.value.active==P.value.url?"active":""]),key:A,onClick:N=>y(P.langs[V(i).lang],P.value.url)},[P.icon?(J(),ie("i",{key:0,class:Ue(P.icon)},null,2)):he("",!0),K("span",{style:Be({paddingLeft:P.icon?"":"16px"})},Me(P.langs[V(i).lang]),5)],10,tee))),128))])):he("",!0)],64))),128)):he("",!0)],64))),128))],4),K("div",nee,Me(V(l)),1)],4),K("div",{class:"app_right",style:Be({width:p.value?"calc(100% - 240px)":"calc(100% - 56px)"})},[K("div",{class:"app_user_info_body",style:Be({visibility:u.value&&V(i).isLogin?"inherit":"hidden"})},[it(Mh,{height:"100%",width:"360px",show:u.value,"onUpdate:show":k[18]||(k[18]=S=>u.value=S),position:"right",bgColor:"#FFF"},{default:Je(()=>[K("div",ree,[K("div",{class:"img",style:Be({backgroundImage:V(i).uinfo.img?"url("+V(i).uinfo.img+")":"none"}),onClick:k[14]||(k[14]=S=>x())},[K("div",iee,Me(V(i).langs.uinfo_img),1),V(i).uinfo.img?he("",!0):(J(),ie("i",aee))],4),K("div",oee,[K("h2",null,Me(V(i).uinfo.uname||"-"),1),K("p",null,"ID: "+Me(V(i).uinfo.uid||"-"),1)]),K("ul",see,[K("li",lee,[K("span",uee,Me(V(i).langs.uinfo_nickname),1),K("span",cee,Me(V(i).uinfo.nickname||"-"),1)]),K("li",fee,[K("span",dee,Me(V(i).langs.uinfo_department),1),K("span",hee,Me(V(i).uinfo.department||"-"),1)]),K("li",pee,[K("span",vee,Me(V(i).langs.uinfo_position),1),K("span",gee,Me(V(i).uinfo.position||"-"),1)]),K("li",mee,[K("span",yee,Me(V(i).langs.uinfo_name),1),K("span",bee,Me(V(i).uinfo.name||"-"),1)])]),K("ul",xee,[K("li",{onClick:k[15]||(k[15]=S=>V(i).isUinfo=!0)},Me(V(i).langs.uinfo_title),1),K("li",{onClick:k[16]||(k[16]=S=>V(i).isPasswd=!0)},Me(V(i).langs.passwd_title),1)])]),K("div",{class:"app_user_close",onClick:k[17]||(k[17]=S=>_())},Me(V(i).langs.logout),1)]),_:1},8,["show"])],4),K("div",wee,[K("ul",_ee,[K("li",{class:Ue(["home",d.value.active=="/"?"active":""]),onClick:k[19]||(k[19]=S=>y(V(i).langs.home,"/"))},Me(V(i).langs.home),3),(J(!0),ie(De,null,Mt(d.value.list,(S,E)=>(J(),ie("li",{key:E,onClick:T=>y(S.name,S.url),class:Ue(d.value.active==S.url?"active":"")},[Jn(Me(S.name),1),K("span",{class:"close",onClick:ra(T=>b(S.url),["stop"])},k[26]||(k[26]=[K("i",{class:"ui ui_close"},null,-1)]),8,Oee)],10,kee))),128))]),K("ul",See,[K("li",{class:"msg",title:"消息",onClick:k[20]||(k[20]=S=>{c.value=!0,f.value=!1,u.value=!1})},[V(i).msg.num>0?(J(),ie("span",Eee,Me(V(i).msg.num),1)):he("",!0),k[27]||(k[27]=K("i",{class:"ui ui_message"},null,-1))]),K("li",{class:"user",title:"用户信息",onClick:k[21]||(k[21]=S=>{u.value=!u.value,f.value=!1})},[!V(i).uinfo.img||u.value?(J(),ie("i",Tee)):(J(),ie("div",{key:1,class:"img",style:Be({backgroundImage:"url("+V(i).uinfo.img+")"})},null,4))])])]),K("div",Mee,[it(O,null,{default:Je(({Component:S})=>[(J(),vt(pY,null,[(J(),vt(yp(S),{key:w.$route.name}))],1024))]),_:1})])],4)])],64)}}}),Pee=uW({state:{lang:"",langs:{},isLogin:!1,isUinfo:!1,isPasswd:!1,token:"",uinfo:{},menusAction:[],socket:null,msg:{gid:"",fid:"",title:"",img:"",num:0,group:[],list:[],readId:0}},getters:{},mutations:{},actions:{},modules:{}}),Cee="modulepreload",Ree=function(e){return"/"+e},cT={},pi=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=Ree(l),l in cT)return;cT[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Cee,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return n().catch(a)})},u$=()=>[["cartesian"]];u$.props={};function Nee(e,n){return e=e%(2*Math.PI),n=n%(2*Math.PI),e<0&&(e=2*Math.PI+e),n<0&&(n=2*Math.PI+n),e>=n&&(n=n+2*Math.PI),{startAngle:e,endAngle:n}}const c$=(e={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},t=Object.assign(Object.assign({},n),e);return Object.assign(Object.assign({},t),Nee(t.startAngle,t.endAngle))},Ep=e=>{const{startAngle:n,endAngle:t,innerRadius:r,outerRadius:i}=c$(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",n,t,r,i]]};Ep.props={};const f$=({startAngle:e=0,endAngle:n=Math.PI*6,innerRadius:t=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,n,t,r]];f$.props={};const k_=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];k_.props={transform:!0};const Lee=(e={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},n),e)},d$=e=>{const{startAngle:n,endAngle:t,innerRadius:r,outerRadius:i}=Lee(e);return[...k_(),...Ep({startAngle:n,endAngle:t,innerRadius:r,outerRadius:i})]};d$.props={};const h$=(e={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},n),e)},O_=e=>{const{startAngle:n,endAngle:t,innerRadius:r,outerRadius:i}=h$(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Ep({startAngle:n,endAngle:t,innerRadius:r,outerRadius:i})]};O_.props={};const S_=()=>[["parallel",0,1,0,1]];S_.props={};const p$=({focusX:e=0,focusY:n=0,distortionX:t=2,distortionY:r=2,visual:i=!1})=>[["fisheye",e,n,t,r,i]];p$.props={transform:!0};const v$=e=>{const{startAngle:n=-Math.PI/2,endAngle:t=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=e;return[...S_(),...Ep({startAngle:n,endAngle:t,innerRadius:r,outerRadius:i})]};v$.props={};const g$=({value:e})=>n=>n.map(()=>e);g$.props={};const m$=({value:e})=>n=>n.map(e);m$.props={};const y$=({value:e})=>n=>n.map(t=>t[e]);y$.props={};const b$=({value:e})=>()=>e;b$.props={};var pf=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},$ee=function(e,n){if(!pf(e))return e;for(var t=[],r=0;r<e.length;r++){var i=e[r];n(i,r)&&t.push(i)}return t};function tr(e){return typeof e=="function"}function je(e){return e==null}function zr(e){return Array.isArray(e)}const Kf=function(e){var n=typeof e;return e!==null&&n==="object"||n==="function"};function E_(e,n){if(e){var t;if(zr(e))for(var r=0,i=e.length;r<i&&(t=n(e[r],r),t!==!1);r++);else if(Kf(e)){for(var a in e)if(e.hasOwnProperty(a)&&(t=n(e[a],a),t===!1))break}}}var x$=Object.keys?function(e){return Object.keys(e)}:function(e){var n=[];return E_(e,function(t,r){tr(e)&&r==="prototype"||n.push(r)}),n};function Iee(e,n){var t=x$(n),r=t.length;if(je(e))return!r;for(var i=0;i<r;i+=1){var a=t[i];if(n[a]!==e[a]||!(a in e))return!1}return!0}var Zx=function(e){return typeof e=="object"&&e!==null},Dee={}.toString,w$=function(e,n){return Dee.call(e)==="[object "+n+"]"},Ls=function(e){if(!Zx(e)||!w$(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n};function vf(e,n){if(!zr(e))return null;var t;if(tr(n)&&(t=n),Ls(n)&&(t=function(i){return Iee(i,n)}),t){for(var r=0;r<e.length;r+=1)if(t(e[r]))return e[r]}return null}var Fee=function(e){if(!zr(e))return[];for(var n=[],t=0;t<e.length;t++)n=n.concat(e[t]);return n};function gf(e){if(!Array.isArray(e))return-1/0;var n=e.length;if(!n)return-1/0;for(var t=e[0],r=1;r<n;r++)t=Math.max(t,e[r]);return t}const mf=function(e){if(zr(e))return e.reduce(function(n,t){return Math.min(n,t)},e[0])};var Bee=function(e,n,t){if(!zr(e)&&!Ls(e))return e;var r=t;return E_(e,function(i,a){r=n(r,i,a)}),r};function Wt(e){return typeof e=="string"}function Zf(e){if(pf(e)){var n=e;return n[n.length-1]}}var Bt=function(e,n,t){return e<n?n:e>t?t:e};function jt(e){return typeof e=="number"}var jee=1e-5;function Uo(e,n,t){return t===void 0&&(t=jee),e===n||Math.abs(e-n)<t}const zee=function(e,n){if(zr(e)){for(var t,r=-1/0,i=0;i<e.length;i++){var a=e[i],o=tr(n)?n(a):a[n];o>r&&(t=a,r=o)}return t}},Yee=function(e,n){if(zr(e)){for(var t,r=1/0,i=0;i<e.length;i++){var a=e[i],o=tr(n)?n(a):a[n];o<r&&(t=a,r=o)}return t}};var ny=function(e,n){return(e%n+n)%n};const _$=function(e){return je(e)?"":e.toString()};var k$=function(e){var n=_$(e);return n.charAt(0).toLowerCase()+n.substring(1)};function Gee(e,n){return!e||!n?e:e.replace(/\\?\{([^{}]+)\}/g,function(t,r){return t.charAt(0)==="\\"?t.slice(1):n[r]===void 0?"":n[r]})}var Cl=function(e){var n=_$(e);return n.charAt(0).toUpperCase()+n.substring(1)},vg=function(e){return w$(e,"Boolean")};function Wee(e){return e===null}var lt=function(e){return e===void 0};function Hee(e){return e instanceof Element||e instanceof Document}function fT(e,n){for(var t in n)n.hasOwnProperty(t)&&t!=="constructor"&&n[t]!==void 0&&(e[t]=n[t])}function Uee(e,n,t,r){return n&&fT(e,n),t&&fT(e,t),e}var Rh=function(e){if(typeof e!="object"||e===null)return e;var n;if(zr(e)){n=[];for(var t=0,r=e.length;t<r;t++)typeof e[t]=="object"&&e[t]!=null?n[t]=Rh(e[t]):n[t]=e[t]}else{n={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?n[i]=Rh(e[i]):n[i]=e[i]}return n};function O$(e,n,t){var r;return function(){var i=this,a=arguments,o=function(){r=null,e.apply(i,a)};clearTimeout(r),r=setTimeout(o,n)}}function Vee(e){var n,t,r,i=e;function a(s,l){++n>i&&(r=t,o(1),++n),t[s]=l}function o(s){n=0,t=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return t[s]!==void 0||r[s]!==void 0},get:function(s){var l=t[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){t[s]!==void 0?t[s]=l:a(s,l)}}}var z1=new Map;function Xee(e,n,t){var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=n?n.apply(this,i):i[0];z1.has(e)||z1.set(e,Vee(t));var s=z1.get(e);if(s.has(o))return s.get(o);var l=e.apply(this,i);return s.set(o,l),l};return r}var qee=5;function Kee(e,n){if(Object.hasOwn)return Object.hasOwn(e,n);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),n)}function S$(e,n,t,r){t=t||0,r=r||qee;for(var i in n)if(Kee(n,i)){var a=n[i];a!==null&&Ls(a)?(Ls(e[i])||(e[i]={}),t<r?S$(e[i],a,t+1,r):e[i]=n[i]):zr(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var ye=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0;r<n.length;r+=1)S$(e,n[r]);return e},E$=function(e,n){if(!pf(e))return-1;var t=Array.prototype.indexOf;if(t)return t.call(e,n);for(var r=-1,i=0;i<e.length;i++)if(e[i]===n){r=i;break}return r},gg=function(e,n){if(e===n)return!0;if(!e||!n||Wt(e)||Wt(n))return!1;if(pf(e)||pf(n)){if(e.length!==n.length)return!1;for(var t=!0,r=0;r<e.length&&(t=gg(e[r],n[r]),!!t);r++);return t}if(Zx(e)||Zx(n)){var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(var t=!0,r=0;r<i.length&&(t=gg(e[i[r]],n[i[r]]),!!t);r++);return t}return!1},Zee=function(e){return e};const Qee=function(e,n){n===void 0&&(n=Zee);var t={};return Kf(e)&&!je(e)&&Object.keys(e).forEach(function(r){t[r]=n(e[r],r)}),t},Gt=function(e,n,t){for(var r=0,i=Wt(n)?n.split("."):n;e&&r<i.length;)e=e[i[r++]];return e===void 0||r<i.length?t:e},T$=function(e,n,t){var r=e,i=Wt(n)?n.split("."):n;return i.forEach(function(a,o){o<i.length-1?(Kf(r[a])||(r[a]=jt(i[o+1])?[]:{}),r=r[a]):r[a]=t}),e};var Jee=Object.prototype.hasOwnProperty;const ete=function(e,n){if(e===null||!Ls(e))return{};var t={};return E_(n,function(r){Jee.call(e,r)&&(t[r]=e[r])}),t},T_=function(e,n){return Bee(e,function(t,r,i){return n.includes(i)||(t[i]=r),t},{})},Au=function(e,n,t){var r,i,a,o,s=0;t||(t={});var l=function(){s=t.leading===!1?0:Date.now(),r=null,o=e.apply(i,a),r||(i=a=null)},u=function(){var c=Date.now();!s&&t.leading===!1&&(s=c);var f=n-(c-s);return i=this,a=arguments,f<=0||f>n?(r&&(clearTimeout(r),r=null),s=c,o=e.apply(i,a),r||(i=a=null)):!r&&t.trailing!==!1&&(r=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(r),s=0,r=i=a=null},u},Y1=function(){},Pu=function(e){return e};function mg(e){return je(e)?0:pf(e)?e.length:Object.keys(e).length}var Cn=1e-6,mr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function Zu(){var e=new mr(9);return mr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function M$(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],e}function tte(e){var n=new mr(9);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function A$(e,n,t,r,i,a,o,s,l){var u=new mr(9);return u[0]=e,u[1]=n,u[2]=t,u[3]=r,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function nte(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],u=n[7],c=n[8],f=c*o-s*u,d=-c*a+s*l,h=u*a-o*l,p=t*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*o)*p,e[3]=d*p,e[4]=(c*t-i*l)*p,e[5]=(-s*t+i*a)*p,e[6]=h*p,e[7]=(-u*t+r*l)*p,e[8]=(o*t-r*a)*p,e):null}function rte(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=t[0],h=t[1],p=t[2],v=t[3],g=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return e[0]=d*r+h*o+p*u,e[1]=d*i+h*s+p*c,e[2]=d*a+h*l+p*f,e[3]=v*r+g*o+m*u,e[4]=v*i+g*s+m*c,e[5]=v*a+g*l+m*f,e[6]=y*r+b*o+x*u,e[7]=y*i+b*s+x*c,e[8]=y*a+b*l+x*f,e}function ite(e,n){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=n[0],e[7]=n[1],e[8]=1,e}function ate(e,n){var t=Math.sin(n),r=Math.cos(n);return e[0]=r,e[1]=t,e[2]=0,e[3]=-t,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ote(e,n){return e[0]=n[0],e[1]=0,e[2]=0,e[3]=0,e[4]=n[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var ste=rte;function ut(){var e=new mr(16);return mr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function ry(e){var n=new mr(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function $s(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function P$(e,n,t,r,i,a,o,s,l,u,c,f,d,h,p,v){var g=new mr(16);return g[0]=e,g[1]=n,g[2]=t,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=l,g[9]=u,g[10]=c,g[11]=f,g[12]=d,g[13]=h,g[14]=p,g[15]=v,g}function Nh(e,n,t,r,i,a,o,s,l,u,c,f,d,h,p,v,g){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=g,e}function oa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M_(e,n){if(e===n){var t=n[1],r=n[2],i=n[3],a=n[6],o=n[7],s=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=r,e[9]=a,e[11]=n[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}function Mr(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],u=n[7],c=n[8],f=n[9],d=n[10],h=n[11],p=n[12],v=n[13],g=n[14],m=n[15],y=t*s-r*o,b=t*l-i*o,x=t*u-a*o,_=r*l-i*s,w=r*u-a*s,k=i*u-a*l,O=c*v-f*p,S=c*g-d*p,E=c*m-h*p,T=f*g-d*v,M=f*m-h*v,P=d*m-h*g,A=y*P-b*M+x*T+_*E-w*S+k*O;return A?(A=1/A,e[0]=(s*P-l*M+u*T)*A,e[1]=(i*M-r*P-a*T)*A,e[2]=(v*k-g*w+m*_)*A,e[3]=(d*w-f*k-h*_)*A,e[4]=(l*E-o*P-u*S)*A,e[5]=(t*P-i*E+a*S)*A,e[6]=(g*x-p*k-m*b)*A,e[7]=(c*k-d*x+h*b)*A,e[8]=(o*M-s*E+u*O)*A,e[9]=(r*E-t*M-a*O)*A,e[10]=(p*w-v*x+m*y)*A,e[11]=(f*x-c*w-h*y)*A,e[12]=(s*S-o*T-l*O)*A,e[13]=(t*T-r*S+i*O)*A,e[14]=(v*b-p*_-g*y)*A,e[15]=(c*_-f*b+d*y)*A,e):null}function lte(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],u=n[7],c=n[8],f=n[9],d=n[10],h=n[11],p=n[12],v=n[13],g=n[14],m=n[15];return e[0]=s*(d*m-h*g)-f*(l*m-u*g)+v*(l*h-u*d),e[1]=-(r*(d*m-h*g)-f*(i*m-a*g)+v*(i*h-a*d)),e[2]=r*(l*m-u*g)-s*(i*m-a*g)+v*(i*u-a*l),e[3]=-(r*(l*h-u*d)-s*(i*h-a*d)+f*(i*u-a*l)),e[4]=-(o*(d*m-h*g)-c*(l*m-u*g)+p*(l*h-u*d)),e[5]=t*(d*m-h*g)-c*(i*m-a*g)+p*(i*h-a*d),e[6]=-(t*(l*m-u*g)-o*(i*m-a*g)+p*(i*u-a*l)),e[7]=t*(l*h-u*d)-o*(i*h-a*d)+c*(i*u-a*l),e[8]=o*(f*m-h*v)-c*(s*m-u*v)+p*(s*h-u*f),e[9]=-(t*(f*m-h*v)-c*(r*m-a*v)+p*(r*h-a*f)),e[10]=t*(s*m-u*v)-o*(r*m-a*v)+p*(r*u-a*s),e[11]=-(t*(s*h-u*f)-o*(r*h-a*f)+c*(r*u-a*s)),e[12]=-(o*(f*g-d*v)-c*(s*g-l*v)+p*(s*d-l*f)),e[13]=t*(f*g-d*v)-c*(r*g-i*v)+p*(r*d-i*f),e[14]=-(t*(s*g-l*v)-o*(r*g-i*v)+p*(r*l-i*s)),e[15]=t*(s*d-l*f)-o*(r*d-i*f)+c*(r*l-i*s),e}function A_(e){var n=e[0],t=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],g=e[15],m=n*o-t*a,y=n*s-r*a,b=n*l-i*a,x=t*s-r*o,_=t*l-i*o,w=r*l-i*s,k=u*p-c*h,O=u*v-f*h,S=u*g-d*h,E=c*v-f*p,T=c*g-d*p,M=f*g-d*v;return m*M-y*T+b*E+x*S-_*O+w*k}function Gn(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=n[9],h=n[10],p=n[11],v=n[12],g=n[13],m=n[14],y=n[15],b=t[0],x=t[1],_=t[2],w=t[3];return e[0]=b*r+x*s+_*f+w*v,e[1]=b*i+x*l+_*d+w*g,e[2]=b*a+x*u+_*h+w*m,e[3]=b*o+x*c+_*p+w*y,b=t[4],x=t[5],_=t[6],w=t[7],e[4]=b*r+x*s+_*f+w*v,e[5]=b*i+x*l+_*d+w*g,e[6]=b*a+x*u+_*h+w*m,e[7]=b*o+x*c+_*p+w*y,b=t[8],x=t[9],_=t[10],w=t[11],e[8]=b*r+x*s+_*f+w*v,e[9]=b*i+x*l+_*d+w*g,e[10]=b*a+x*u+_*h+w*m,e[11]=b*o+x*c+_*p+w*y,b=t[12],x=t[13],_=t[14],w=t[15],e[12]=b*r+x*s+_*f+w*v,e[13]=b*i+x*l+_*d+w*g,e[14]=b*a+x*u+_*h+w*m,e[15]=b*o+x*c+_*p+w*y,e}function ao(e,n,t){var r=t[0],i=t[1],a=t[2],o,s,l,u,c,f,d,h,p,v,g,m;return n===e?(e[12]=n[0]*r+n[4]*i+n[8]*a+n[12],e[13]=n[1]*r+n[5]*i+n[9]*a+n[13],e[14]=n[2]*r+n[6]*i+n[10]*a+n[14],e[15]=n[3]*r+n[7]*i+n[11]*a+n[15]):(o=n[0],s=n[1],l=n[2],u=n[3],c=n[4],f=n[5],d=n[6],h=n[7],p=n[8],v=n[9],g=n[10],m=n[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=v,e[10]=g,e[11]=m,e[12]=o*r+c*i+p*a+n[12],e[13]=s*r+f*i+v*a+n[13],e[14]=l*r+d*i+g*a+n[14],e[15]=u*r+h*i+m*a+n[15]),e}function C$(e,n,t){var r=t[0],i=t[1],a=t[2];return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=n[7]*i,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=n[11]*a,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function ute(e,n,t,r){var i=r[0],a=r[1],o=r[2],s=Math.hypot(i,a,o),l,u,c,f,d,h,p,v,g,m,y,b,x,_,w,k,O,S,E,T,M,P,A,N;return s<Cn?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(t),u=Math.cos(t),c=1-u,f=n[0],d=n[1],h=n[2],p=n[3],v=n[4],g=n[5],m=n[6],y=n[7],b=n[8],x=n[9],_=n[10],w=n[11],k=i*i*c+u,O=a*i*c+o*l,S=o*i*c-a*l,E=i*a*c-o*l,T=a*a*c+u,M=o*a*c+i*l,P=i*o*c+a*l,A=a*o*c-i*l,N=o*o*c+u,e[0]=f*k+v*O+b*S,e[1]=d*k+g*O+x*S,e[2]=h*k+m*O+_*S,e[3]=p*k+y*O+w*S,e[4]=f*E+v*T+b*M,e[5]=d*E+g*T+x*M,e[6]=h*E+m*T+_*M,e[7]=p*E+y*T+w*M,e[8]=f*P+v*A+b*N,e[9]=d*P+g*A+x*N,e[10]=h*P+m*A+_*N,e[11]=p*P+y*A+w*N,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)}function P_(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[4],o=n[5],s=n[6],l=n[7],u=n[8],c=n[9],f=n[10],d=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=l*i+d*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=d*i-l*r,e}function C_(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[0],o=n[1],s=n[2],l=n[3],u=n[8],c=n[9],f=n[10],d=n[11];return n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=l*i-d*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=l*r+d*i,e}function cte(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[0],o=n[1],s=n[2],l=n[3],u=n[4],c=n[5],f=n[6],d=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=l*i+d*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=d*i-l*r,e}function ui(e,n){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Qi(e,n){return e[0]=n[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=n[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R_(e,n,t){var r=t[0],i=t[1],a=t[2],o=Math.hypot(r,i,a),s,l,u;return o<Cn?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(n),l=Math.cos(n),u=1-l,e[0]=r*r*u+l,e[1]=i*r*u+a*s,e[2]=a*r*u-i*s,e[3]=0,e[4]=r*i*u-a*s,e[5]=i*i*u+l,e[6]=a*i*u+r*s,e[7]=0,e[8]=r*a*u+i*s,e[9]=i*a*u-r*s,e[10]=a*a*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function N_(e,n){var t=Math.sin(n),r=Math.cos(n);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L_(e,n){var t=Math.sin(n),r=Math.cos(n);return e[0]=r,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Lh(e,n){var t=Math.sin(n),r=Math.cos(n);return e[0]=r,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R$(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=r+r,l=i+i,u=a+a,c=r*s,f=r*l,d=r*u,h=i*l,p=i*u,v=a*u,g=o*s,m=o*l,y=o*u;return e[0]=1-(h+v),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(c+v),e[6]=p+g,e[7]=0,e[8]=d+m,e[9]=p-g,e[10]=1-(c+h),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function fte(e,n){var t=new mr(3),r=-n[0],i=-n[1],a=-n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=r*r+i*i+a*a+o*o;return f>0?(t[0]=(s*o+c*r+l*a-u*i)*2/f,t[1]=(l*o+c*i+u*r-s*a)*2/f,t[2]=(u*o+c*a+s*i-l*r)*2/f):(t[0]=(s*o+c*r+l*a-u*i)*2,t[1]=(l*o+c*i+u*r-s*a)*2,t[2]=(u*o+c*a+s*i-l*r)*2),R$(e,n,t),e}function Cu(e,n){return e[0]=n[12],e[1]=n[13],e[2]=n[14],e}function es(e,n){var t=n[0],r=n[1],i=n[2],a=n[4],o=n[5],s=n[6],l=n[8],u=n[9],c=n[10];return e[0]=Math.hypot(t,r,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(l,u,c),e}function Ru(e,n){var t=new mr(3);es(t,n);var r=1/t[0],i=1/t[1],a=1/t[2],o=n[0]*r,s=n[1]*i,l=n[2]*a,u=n[4]*r,c=n[5]*i,f=n[6]*a,d=n[8]*r,h=n[9]*i,p=n[10]*a,v=o+c+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-l)/g,e[2]=(s-u)/g):o>c&&o>p?(g=Math.sqrt(1+o-c-p)*2,e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+u)/g,e[2]=(d+l)/g):c>p?(g=Math.sqrt(1+c-o-p)*2,e[3]=(d-l)/g,e[0]=(s+u)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=Math.sqrt(1+p-o-c)*2,e[3]=(s-u)/g,e[0]=(d+l)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function dte(e,n,t,r){var i=n[0],a=n[1],o=n[2],s=n[3],l=i+i,u=a+a,c=o+o,f=i*l,d=i*u,h=i*c,p=a*u,v=a*c,g=o*c,m=s*l,y=s*u,b=s*c,x=r[0],_=r[1],w=r[2];return e[0]=(1-(p+g))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*_,e[5]=(1-(f+g))*_,e[6]=(v+m)*_,e[7]=0,e[8]=(h+y)*w,e[9]=(v-m)*w,e[10]=(1-(f+p))*w,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Ts(e,n,t,r,i){var a=n[0],o=n[1],s=n[2],l=n[3],u=a+a,c=o+o,f=s+s,d=a*u,h=a*c,p=a*f,v=o*c,g=o*f,m=s*f,y=l*u,b=l*c,x=l*f,_=r[0],w=r[1],k=r[2],O=i[0],S=i[1],E=i[2],T=(1-(v+m))*_,M=(h+x)*_,P=(p-b)*_,A=(h-x)*w,N=(1-(d+m))*w,R=(g+y)*w,C=(p+b)*k,L=(g-y)*k,I=(1-(d+v))*k;return e[0]=T,e[1]=M,e[2]=P,e[3]=0,e[4]=A,e[5]=N,e[6]=R,e[7]=0,e[8]=C,e[9]=L,e[10]=I,e[11]=0,e[12]=t[0]+O-(T*O+A*S+C*E),e[13]=t[1]+S-(M*O+N*S+L*E),e[14]=t[2]+E-(P*O+R*S+I*E),e[15]=1,e}function Tp(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t+t,s=r+r,l=i+i,u=t*o,c=r*o,f=r*s,d=i*o,h=i*s,p=i*l,v=a*o,g=a*s,m=a*l;return e[0]=1-f-p,e[1]=c+m,e[2]=d-g,e[3]=0,e[4]=c-m,e[5]=1-u-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hte(e,n,t,r,i,a,o){var s=1/(t-n),l=1/(i-r),u=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(t+n)*s,e[9]=(i+r)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function N$(e,n,t,r,i){var a=1/Math.tan(n/2),o;return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}var pte=N$;function vte(e,n,t,r,i){var a=1/Math.tan(n/2),o;return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e}function gte(e,n,t,r){var i=Math.tan(n.upDegrees*Math.PI/180),a=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),s=Math.tan(n.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((o-s)*l*.5),e[9]=(i-a)*u*.5,e[10]=r/(t-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*t/(t-r),e[15]=0,e}function L$(e,n,t,r,i,a,o){var s=1/(n-t),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(n+t)*s,e[13]=(i+r)*l,e[14]=(o+a)*u,e[15]=1,e}var $_=L$;function I_(e,n,t,r,i,a,o){var s=1/(n-t),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(n+t)*s,e[13]=(i+r)*l,e[14]=a*u,e[15]=1,e}function D_(e,n,t,r){var i,a,o,s,l,u,c,f,d,h,p=n[0],v=n[1],g=n[2],m=r[0],y=r[1],b=r[2],x=t[0],_=t[1],w=t[2];return Math.abs(p-x)<Cn&&Math.abs(v-_)<Cn&&Math.abs(g-w)<Cn?oa(e):(c=p-x,f=v-_,d=g-w,h=1/Math.hypot(c,f,d),c*=h,f*=h,d*=h,i=y*d-b*f,a=b*c-m*d,o=m*f-y*c,h=Math.hypot(i,a,o),h?(h=1/h,i*=h,a*=h,o*=h):(i=0,a=0,o=0),s=f*o-d*a,l=d*i-c*o,u=c*a-f*i,h=Math.hypot(s,l,u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=u,e[10]=d,e[11]=0,e[12]=-(i*p+a*v+o*g),e[13]=-(s*p+l*v+u*g),e[14]=-(c*p+f*v+d*g),e[15]=1,e)}function mte(e,n,t,r){var i=n[0],a=n[1],o=n[2],s=r[0],l=r[1],u=r[2],c=i-t[0],f=a-t[1],d=o-t[2],h=c*c+f*f+d*d;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,d*=h);var p=l*d-u*f,v=u*c-s*d,g=s*f-l*c;return h=p*p+v*v+g*g,h>0&&(h=1/Math.sqrt(h),p*=h,v*=h,g*=h),e[0]=p,e[1]=v,e[2]=g,e[3]=0,e[4]=f*g-d*v,e[5]=d*p-c*g,e[6]=c*v-f*p,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function yte(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function bte(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function xte(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e[9]=n[9]+t[9],e[10]=n[10]+t[10],e[11]=n[11]+t[11],e[12]=n[12]+t[12],e[13]=n[13]+t[13],e[14]=n[14]+t[14],e[15]=n[15]+t[15],e}function $$(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e[9]=n[9]-t[9],e[10]=n[10]-t[10],e[11]=n[11]-t[11],e[12]=n[12]-t[12],e[13]=n[13]-t[13],e[14]=n[14]-t[14],e[15]=n[15]-t[15],e}function wte(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11]*t,e[12]=n[12]*t,e[13]=n[13]*t,e[14]=n[14]*t,e[15]=n[15]*t,e}function _te(e,n,t,r){return e[0]=n[0]+t[0]*r,e[1]=n[1]+t[1]*r,e[2]=n[2]+t[2]*r,e[3]=n[3]+t[3]*r,e[4]=n[4]+t[4]*r,e[5]=n[5]+t[5]*r,e[6]=n[6]+t[6]*r,e[7]=n[7]+t[7]*r,e[8]=n[8]+t[8]*r,e[9]=n[9]+t[9]*r,e[10]=n[10]+t[10]*r,e[11]=n[11]+t[11]*r,e[12]=n[12]+t[12]*r,e[13]=n[13]+t[13]*r,e[14]=n[14]+t[14]*r,e[15]=n[15]+t[15]*r,e}function Qx(e,n){return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[7]===n[7]&&e[8]===n[8]&&e[9]===n[9]&&e[10]===n[10]&&e[11]===n[11]&&e[12]===n[12]&&e[13]===n[13]&&e[14]===n[14]&&e[15]===n[15]}function kte(e,n){var t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=n[0],b=n[1],x=n[2],_=n[3],w=n[4],k=n[5],O=n[6],S=n[7],E=n[8],T=n[9],M=n[10],P=n[11],A=n[12],N=n[13],R=n[14],C=n[15];return Math.abs(t-y)<=Cn*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(r-b)<=Cn*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=Cn*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-_)<=Cn*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-w)<=Cn*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-k)<=Cn*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-O)<=Cn*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(u-S)<=Cn*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-E)<=Cn*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-T)<=Cn*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-M)<=Cn*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(h-P)<=Cn*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-A)<=Cn*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(v-N)<=Cn*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(g-R)<=Cn*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(m-C)<=Cn*Math.max(1,Math.abs(m),Math.abs(C))}var iy=Gn,Ote=$$;const I$=Object.freeze(Object.defineProperty({__proto__:null,add:xte,adjoint:lte,clone:ry,copy:$s,create:ut,determinant:A_,equals:kte,exactEquals:Qx,frob:bte,fromQuat:Tp,fromQuat2:fte,fromRotation:R_,fromRotationTranslation:R$,fromRotationTranslationScale:dte,fromRotationTranslationScaleOrigin:Ts,fromScaling:Qi,fromTranslation:ui,fromValues:P$,fromXRotation:N_,fromYRotation:L_,fromZRotation:Lh,frustum:hte,getRotation:Ru,getScaling:es,getTranslation:Cu,identity:oa,invert:Mr,lookAt:D_,mul:iy,multiply:Gn,multiplyScalar:wte,multiplyScalarAndAdd:_te,ortho:$_,orthoNO:L$,orthoZO:I_,perspective:pte,perspectiveFromFieldOfView:gte,perspectiveNO:N$,perspectiveZO:vte,rotate:ute,rotateX:P_,rotateY:C_,rotateZ:cte,scale:C$,set:Nh,str:yte,sub:Ote,subtract:$$,targetTo:mte,translate:ao,transpose:M_},Symbol.toStringTag,{value:"Module"}));function Ze(){var e=new mr(3);return mr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function $r(e){var n=new mr(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function qr(e){var n=e[0],t=e[1],r=e[2];return Math.hypot(n,t,r)}function rt(e,n,t){var r=new mr(3);return r[0]=e,r[1]=n,r[2]=t,r}function Or(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function gn(e,n,t,r){return e[0]=n,e[1]=t,e[2]=r,e}function di(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e}function $h(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e}function D$(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e}function F$(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e}function B$(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e}function xl(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e}function Ste(e,n){var t=n[0]-e[0],r=n[1]-e[1],i=n[2]-e[2];return Math.hypot(t,r,i)}function aa(e,n){var t=n[0],r=n[1],i=n[2],a=t*t+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e}function Zr(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function sh(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}function yf(e,n,t,r){var i=n[0],a=n[1],o=n[2];return e[0]=i+r*(t[0]-i),e[1]=a+r*(t[1]-a),e[2]=o+r*(t[2]-o),e}function pn(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[3]*r+t[7]*i+t[11]*a+t[15];return o=o||1,e[0]=(t[0]*r+t[4]*i+t[8]*a+t[12])/o,e[1]=(t[1]*r+t[5]*i+t[9]*a+t[13])/o,e[2]=(t[2]*r+t[6]*i+t[10]*a+t[14])/o,e}function F_(e,n,t){var r=n[0],i=n[1],a=n[2];return e[0]=r*t[0]+i*t[3]+a*t[6],e[1]=r*t[1]+i*t[4]+a*t[7],e[2]=r*t[2]+i*t[5]+a*t[8],e}function j$(e,n,t){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],l=n[1],u=n[2],c=i*u-a*l,f=a*s-r*u,d=r*l-i*s,h=i*d-a*f,p=a*c-r*d,v=r*f-i*c,g=o*2;return c*=g,f*=g,d*=g,h*=2,p*=2,v*=2,e[0]=s+c+h,e[1]=l+f+p,e[2]=u+d+v,e}function Do(e,n){var t=e[0],r=e[1],i=e[2],a=n[0],o=n[1],s=n[2];return Math.abs(t-a)<=Cn*Math.max(1,Math.abs(t),Math.abs(a))&&Math.abs(r-o)<=Cn*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Cn*Math.max(1,Math.abs(i),Math.abs(s))}var z$=$h,yg=Ste,B_=qr;(function(){var e=Ze();return function(n,t,r,i,a,o){var s,l;for(t||(t=3),r||(r=0),i?l=Math.min(i*t+r,n.length):l=n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],e[2]=n[s+2],a(e,e,o),n[s]=e[0],n[s+1]=e[1],n[s+2]=e[2];return n}})();function Ar(){var e=new mr(4);return mr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Es(e,n,t,r){var i=new mr(4);return i[0]=e,i[1]=n,i[2]=t,i[3]=r,i}function Ete(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}function Tte(e,n,t,r,i){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e}function Mte(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=t*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function Pr(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3];return e[0]=t[0]*r+t[4]*i+t[8]*a+t[12]*o,e[1]=t[1]*r+t[5]*i+t[9]*a+t[13]*o,e[2]=t[2]*r+t[6]*i+t[10]*a+t[14]*o,e[3]=t[3]*r+t[7]*i+t[11]*a+t[15]*o,e}(function(){var e=Ar();return function(n,t,r,i,a,o){var s,l;for(t||(t=4),r||(r=0),i?l=Math.min(i*t+r,n.length):l=n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],e[2]=n[s+2],e[3]=n[s+3],a(e,e,o),n[s]=e[0],n[s+1]=e[1],n[s+2]=e[2],n[s+3]=e[3];return n}})();function Ct(){var e=new mr(4);return mr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ei(e,n,t){t=t*.5;var r=Math.sin(t);return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=Math.cos(t),e}function Ti(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],l=t[1],u=t[2],c=t[3];return e[0]=r*c+o*s+i*u-a*l,e[1]=i*c+o*l+a*s-r*u,e[2]=a*c+o*u+r*l-i*s,e[3]=o*c-r*s-i*l-a*u,e}function G1(e,n,t,r){var i=n[0],a=n[1],o=n[2],s=n[3],l=t[0],u=t[1],c=t[2],f=t[3],d,h,p,v,g;return h=i*l+a*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>Cn?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,g=Math.sin(r*d)/p):(v=1-r,g=r),e[0]=v*i+g*l,e[1]=v*a+g*u,e[2]=v*o+g*c,e[3]=v*s+g*f,e}function Gc(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-t*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e}function Ate(e,n){var t=n[0]+n[4]+n[8],r;if(t>0)r=Math.sqrt(t+1),e[3]=.5*r,r=.5/r,e[0]=(n[5]-n[7])*r,e[1]=(n[6]-n[2])*r,e[2]=(n[1]-n[3])*r;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(n[i*3+i]-n[a*3+a]-n[o*3+o]+1),e[i]=.5*r,r=.5/r,e[3]=(n[a*3+o]-n[o*3+a])*r,e[a]=(n[a*3+i]+n[i*3+a])*r,e[o]=(n[o*3+i]+n[i*3+o])*r}return e}function ul(e,n,t,r){var i=.5*Math.PI/180;n*=i,t*=i,r*=i;var a=Math.sin(n),o=Math.cos(n),s=Math.sin(t),l=Math.cos(t),u=Math.sin(r),c=Math.cos(r);return e[0]=a*l*c-o*s*u,e[1]=o*s*c+a*l*u,e[2]=o*l*u-a*s*c,e[3]=o*l*c+a*s*u,e}var Y$=Es,cl=Ete,bg=Tte,xg=Ti,bf=Mte;(function(){var e=Ze(),n=rt(1,0,0),t=rt(0,1,0);return function(r,i,a){var o=Zr(i,a);return o<-.999999?(sh(e,n,i),B_(e)<1e-6&&sh(e,t,i),aa(e,e),Ei(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(sh(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,bf(r,r))}})();(function(){var e=Ct(),n=Ct();return function(t,r,i,a,o,s){return G1(e,r,o,s),G1(n,i,a,s),G1(t,e,n,2*s*(1-s)),t}})();(function(){var e=Zu();return function(n,t,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-t[0],e[5]=-t[1],e[8]=-t[2],bf(n,Ate(n,e))}})();function Mp(){var e=new mr(2);return mr!=Float32Array&&(e[0]=0,e[1]=0),e}function G$(e,n){return e[0]=n[0],e[1]=n[1],e}function W$(e,n,t){return e[0]=n,e[1]=t,e}function Pte(e,n){var t=n[0],r=n[1],i=t*t+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=n[0]*i,e[1]=n[1]*i,e}function Cte(e,n){return e[0]*n[0]+e[1]*n[1]}function Rte(e,n){return e[0]===n[0]&&e[1]===n[1]}(function(){var e=Mp();return function(n,t,r,i,a,o){var s,l;for(t||(t=2),r||(r=0),i?l=Math.min(i*t+r,n.length):l=n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],a(e,e,o),n[s]=e[0],n[s+1]=e[1];return n}})();var Jx=function(e,n){return Jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Jx(e,n)};function Bn(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Jx(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Se=function(){return Se=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Se.apply(this,arguments)};function Sr(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function Ap(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}function Nte(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function Ve(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}function W1(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}var H$={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Lte(e,n,t){if(e[t].length>7){e[t].shift();for(var r=e[t],i=t;r.length;)n[t]="A",e.splice(i+=1,0,["C"].concat(r.splice(0,6)));e.splice(t,1)}}var lh={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function U$(e){return Array.isArray(e)&&e.every(function(n){var t=n[0].toLowerCase();return lh[t]===n.length-1&&"achlmqstvz".includes(t)})}function V$(e){return U$(e)&&e.every(function(n){var t=n[0];return t===t.toUpperCase()})}function X$(e){return V$(e)&&e.every(function(n){var t=n[0];return"ACLMQZ".includes(t)})}function dT(e){for(var n=e.pathValue[e.segmentStart],t=n.toLowerCase(),r=e.data;r.length>=lh[t]&&(t==="m"&&r.length>2?(e.segments.push([n].concat(r.splice(0,2))),t="l",n=n==="m"?"l":"L"):e.segments.push([n].concat(r.splice(0,lh[t]))),!!lh[t]););}function $te(e){var n=e.index,t=e.pathValue,r=t.charCodeAt(n);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(t[n],'", expecting 0 or 1 at index ').concat(n)}function Ite(e){return e>=48&&e<=57||e===43||e===45||e===46}function hc(e){return e>=48&&e<=57}function Dte(e){var n=e.max,t=e.pathValue,r=e.index,i=r,a=!1,o=!1,s=!1,l=!1,u;if(i>=n){e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(u=t.charCodeAt(i),(u===43||u===45)&&(i+=1,u=t.charCodeAt(i)),!hc(u)&&u!==46){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" is not a number');return}if(u!==46){if(a=u===48,i+=1,u=t.charCodeAt(i),a&&i<n&&u&&hc(u)){e.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" illegal number');return}for(;i<n&&hc(t.charCodeAt(i));)i+=1,o=!0;u=t.charCodeAt(i)}if(u===46){for(l=!0,i+=1;hc(t.charCodeAt(i));)i+=1,s=!0;u=t.charCodeAt(i)}if(u===101||u===69){if(l&&!o&&!s){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" invalid float exponent');return}if(i+=1,u=t.charCodeAt(i),(u===43||u===45)&&(i+=1),i<n&&hc(t.charCodeAt(i)))for(;i<n&&hc(t.charCodeAt(i));)i+=1;else{e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" invalid integer exponent');return}}e.index=i,e.param=+e.pathValue.slice(r,i)}function Fte(e){var n=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&n.includes(e)}function j0(e){for(var n=e.pathValue,t=e.max;e.index<t&&Fte(n.charCodeAt(e.index));)e.index+=1}function Bte(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function jte(e){return(e|32)===97}function zte(e){var n=e.max,t=e.pathValue,r=e.index,i=t.charCodeAt(r),a=lh[t[r].toLowerCase()];if(e.segmentStart=r,!Bte(i)){e.err='[path-util]: Invalid path value "'.concat(t[r],'" is not a path command');return}if(e.index+=1,j0(e),e.data=[],!a){dT(e);return}for(;;){for(var o=a;o>0;o-=1){if(jte(i)&&(o===3||o===4)?$te(e):Dte(e),e.err.length)return;e.data.push(e.param),j0(e),e.index<n&&t.charCodeAt(e.index)===44&&(e.index+=1,j0(e))}if(e.index>=e.max||!Ite(t.charCodeAt(e.index)))break}dT(e)}var Yte=function(){function e(n){this.pathValue=n,this.segments=[],this.max=n.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function Gte(e){if(U$(e))return[].concat(e);var n=new Yte(e);for(j0(n);n.index<n.max&&!n.err.length;)zte(n);return n.err?n.err:n.segments}function Wte(e){if(V$(e))return[].concat(e);var n=Gte(e),t=0,r=0,i=0,a=0;return n.map(function(o){var s=o.slice(1).map(Number),l=o[0],u=l.toUpperCase();if(l==="M")return t=s[0],r=s[1],i=t,a=r,["M",t,r];var c;if(l!==u)switch(u){case"A":c=[u,s[0],s[1],s[2],s[3],s[4],s[5]+t,s[6]+r];break;case"V":c=[u,s[0]+r];break;case"H":c=[u,s[0]+t];break;default:{var f=s.map(function(h,p){return h+(p%2?r:t)});c=[u].concat(f)}}else c=[u].concat(s);var d=c.length;switch(u){case"Z":t=i,r=a;break;case"H":t=c[1];break;case"V":r=c[1];break;default:t=c[d-2],r=c[d-1],u==="M"&&(i=t,a=r)}return c})}function Hte(e,n){var t=e[0],r=n.x1,i=n.y1,a=n.x2,o=n.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(t)||(n.qx=null,n.qy=null),t==="H")l=["L",e[1],i];else if(t==="V")l=["L",r,e[1]];else if(t==="S"){var u=r*2-a,c=i*2-o;n.x1=u,n.y1=c,l=["C",u,c].concat(s)}else if(t==="T"){var f=r*2-n.qx,d=i*2-n.qy;n.qx=f,n.qy=d,l=["Q",f,d].concat(s)}else if(t==="Q"){var h=s[0],p=s[1];n.qx=h,n.qy=p}return l}function xf(e){if(X$(e))return[].concat(e);for(var n=Wte(e),t=Se({},H$),r=0;r<n.length;r+=1){n[r]=Hte(n[r],t);var i=n[r],a=i.length;t.x1=+i[a-2],t.y1=+i[a-1],t.x2=+i[a-4]||t.x1,t.y2=+i[a-3]||t.y1}return n}function Ute(e){return X$(e)&&e.every(function(n){var t=n[0];return"MC".includes(t)})}function cv(e,n,t){var r=e*Math.cos(t)-n*Math.sin(t),i=e*Math.sin(t)+n*Math.cos(t);return{x:r,y:i}}function j_(e,n,t,r,i,a,o,s,l,u){var c=e,f=n,d=t,h=r,p=s,v=l,g=Math.PI*120/180,m=Math.PI/180*(+i||0),y=[],b,x,_,w,k;if(u)x=u[0],_=u[1],w=u[2],k=u[3];else{b=cv(c,f,-m),c=b.x,f=b.y,b=cv(p,v,-m),p=b.x,v=b.y;var O=(c-p)/2,S=(f-v)/2,E=O*O/(d*d)+S*S/(h*h);E>1&&(E=Math.sqrt(E),d*=E,h*=E);var T=d*d,M=h*h,P=(a===o?-1:1)*Math.sqrt(Math.abs((T*M-T*S*S-M*O*O)/(T*S*S+M*O*O)));w=P*d*S/h+(c+p)/2,k=P*-h*O/d+(f+v)/2,x=Math.asin(((f-k)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),_=Math.asin(((v-k)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),x=c<w?Math.PI-x:x,_=p<w?Math.PI-_:_,x<0&&(x=Math.PI*2+x),_<0&&(_=Math.PI*2+_),o&&x>_&&(x-=Math.PI*2),!o&&_>x&&(_-=Math.PI*2)}var A=_-x;if(Math.abs(A)>g){var N=_,R=p,C=v;_=x+g*(o&&_>x?1:-1),p=w+d*Math.cos(_),v=k+h*Math.sin(_),y=j_(p,v,d,h,i,0,o,R,C,[_,N,w,k])}A=_-x;var L=Math.cos(x),I=Math.sin(x),j=Math.cos(_),F=Math.sin(_),z=Math.tan(A/4),D=4/3*d*z,B=4/3*h*z,U=[c,f],q=[c+D*I,f-B*L],$=[p+D*F,v-B*j],W=[p,v];if(q[0]=2*U[0]-q[0],q[1]=2*U[1]-q[1],u)return q.concat($,W,y);y=q.concat($,W,y);for(var Q=[],oe=0,ee=y.length;oe<ee;oe+=1)Q[oe]=oe%2?cv(y[oe-1],y[oe],m).y:cv(y[oe],y[oe+1],m).x;return Q}function Vte(e,n,t,r,i,a){var o=.3333333333333333,s=2/3;return[o*e+s*t,o*n+s*r,o*i+s*t,o*a+s*r,i,a]}function tl(e,n,t){var r=e[0],i=e[1],a=n[0],o=n[1];return[r+(a-r)*t,i+(o-i)*t]}var hT=function(e,n,t,r){var i=.5,a=tl([e,n],[t,r],i);return Ve(Ve([],a,!0),[t,r,t,r],!1)};function Xte(e,n){var t=e[0],r=e.slice(1).map(Number),i=r[0],a=r[1],o,s=n.x1,l=n.y1,u=n.x,c=n.y;switch("TQ".includes(t)||(n.qx=null,n.qy=null),t){case"M":return n.x=i,n.y=a,e;case"A":return o=[s,l].concat(r),["C"].concat(j_(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return n.qx=i,n.qy=a,o=[s,l].concat(r),["C"].concat(Vte(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(hT(s,l,i,a));case"Z":return s===u&&l===c?["C",s,l,u,c,u,c]:["C"].concat(hT(s,l,u,c))}return e}function Ih(e,n){if(n===void 0&&(n=!1),Ute(e)){var t=[].concat(e);return n?[t,[]]:t}for(var r=xf(e),i=Se({},H$),a=[],o="",s=r.length,l,u,c=[],f=0;f<s;f+=1){r[f]&&(o=r[f][0]),a[f]=o;var d=Xte(r[f],i);r[f]=d,Lte(r,a,f),s=r.length,o==="Z"&&c.push(f),l=r[f],u=l.length,i.x1=+l[u-2],i.y1=+l[u-1],i.x2=+l[u-4]||i.x1,i.y2=+l[u-3]||i.y1}return n?[r,c]:r}function q$(e){return e.map(function(n){return Array.isArray(n)?[].concat(n):n})}function K$(e){var n=e.slice(1).map(function(t,r,i){return r?i[r-1].slice(-2).concat(t.slice(1)):e[0].slice(1).concat(t.slice(1))}).map(function(t){return t.map(function(r,i){return t[t.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(n[0].slice(0,2))].concat(n.map(function(t){return["C"].concat(t.slice(2))}))}function Ii(e,n){return Math.sqrt((e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1]))}function ew(e,n,t,r,i){var a=Ii([e,n],[t,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:e,y:n};else if(i>=a)o={x:t,y:r};else{var s=tl([e,n],[t,r],i/a),l=s[0],u=s[1];o={x:l,y:u}}return{length:a,point:o,min:{x:Math.min(e,t),y:Math.min(n,r)},max:{x:Math.max(e,t),y:Math.max(n,r)}}}function pT(e,n){var t=e.x,r=e.y,i=n.x,a=n.y,o=t*i+r*a,s=Math.sqrt((Math.pow(t,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),l=t*a-r*i<0?-1:1,u=l*Math.acos(o/s);return u}function qte(e,n,t,r,i,a,o,s,l,u){var c=Math.abs,f=Math.sin,d=Math.cos,h=Math.sqrt,p=Math.PI,v=c(t),g=c(r),m=(i%360+360)%360,y=m*(p/180);if(e===s&&n===l)return{x:e,y:n};if(v===0||g===0)return ew(e,n,s,l,u).point;var b=(e-s)/2,x=(n-l)/2,_={x:d(y)*b+f(y)*x,y:-f(y)*b+d(y)*x},w=Math.pow(_.x,2)/Math.pow(v,2)+Math.pow(_.y,2)/Math.pow(g,2);w>1&&(v*=h(w),g*=h(w));var k=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(_.y,2)-Math.pow(g,2)*Math.pow(_.x,2),O=Math.pow(v,2)*Math.pow(_.y,2)+Math.pow(g,2)*Math.pow(_.x,2),S=k/O;S=S<0?0:S;var E=(a!==o?1:-1)*h(S),T={x:E*(v*_.y/g),y:E*(-(g*_.x)/v)},M={x:d(y)*T.x-f(y)*T.y+(e+s)/2,y:f(y)*T.x+d(y)*T.y+(n+l)/2},P={x:(_.x-T.x)/v,y:(_.y-T.y)/g},A=pT({x:1,y:0},P),N={x:(-_.x-T.x)/v,y:(-_.y-T.y)/g},R=pT(P,N);!o&&R>0?R-=2*p:o&&R<0&&(R+=2*p),R%=2*p;var C=A+R*u,L=v*d(C),I=g*f(C),j={x:d(y)*L-f(y)*I+M.x,y:f(y)*L+d(y)*I+M.y};return j}function Kte(e,n,t,r,i,a,o,s,l,u,c){var f,d=c.bbox,h=d===void 0?!0:d,p=c.length,v=p===void 0?!0:p,g=c.sampleSize,m=g===void 0?30:g,y=typeof u=="number",b=e,x=n,_=0,w=[b,x,_],k=[b,x],O=0,S={x:0,y:0},E=[{x:b,y:x}];y&&u<=0&&(S={x:b,y:x});for(var T=0;T<=m;T+=1){if(O=T/m,f=qte(e,n,t,r,i,a,o,s,l,O),b=f.x,x=f.y,h&&E.push({x:b,y:x}),v&&(_+=Ii(k,[b,x])),k=[b,x],y&&_>=u&&u>w[2]){var M=(_-u)/(_-w[2]);S={x:k[0]*(1-M)+w[0]*M,y:k[1]*(1-M)+w[1]*M}}w=[b,x,_]}return y&&u>=_&&(S={x:s,y:l}),{length:_,point:S,min:{x:Math.min.apply(null,E.map(function(P){return P.x})),y:Math.min.apply(null,E.map(function(P){return P.y}))},max:{x:Math.max.apply(null,E.map(function(P){return P.x})),y:Math.max.apply(null,E.map(function(P){return P.y}))}}}function Zte(e,n,t,r,i,a,o,s,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*t+3*u*Math.pow(l,2)*i+Math.pow(l,3)*o,y:Math.pow(u,3)*n+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*a+Math.pow(l,3)*s}}function Z$(e,n,t,r,i,a,o,s,l,u){var c,f=u.bbox,d=f===void 0?!0:f,h=u.length,p=h===void 0?!0:h,v=u.sampleSize,g=v===void 0?10:v,m=typeof l=="number",y=e,b=n,x=0,_=[y,b,x],w=[y,b],k=0,O={x:0,y:0},S=[{x:y,y:b}];m&&l<=0&&(O={x:y,y:b});for(var E=0;E<=g;E+=1){if(k=E/g,c=Zte(e,n,t,r,i,a,o,s,k),y=c.x,b=c.y,d&&S.push({x:y,y:b}),p&&(x+=Ii(w,[y,b])),w=[y,b],m&&x>=l&&l>_[2]){var T=(x-l)/(x-_[2]);O={x:w[0]*(1-T)+_[0]*T,y:w[1]*(1-T)+_[1]*T}}_=[y,b,x]}return m&&l>=x&&(O={x:o,y:s}),{length:x,point:O,min:{x:Math.min.apply(null,S.map(function(M){return M.x})),y:Math.min.apply(null,S.map(function(M){return M.y}))},max:{x:Math.max.apply(null,S.map(function(M){return M.x})),y:Math.max.apply(null,S.map(function(M){return M.y}))}}}function Qte(e,n,t,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*e+2*s*o*t+Math.pow(o,2)*i,y:Math.pow(s,2)*n+2*s*o*r+Math.pow(o,2)*a}}function Jte(e,n,t,r,i,a,o,s){var l,u=s.bbox,c=u===void 0?!0:u,f=s.length,d=f===void 0?!0:f,h=s.sampleSize,p=h===void 0?10:h,v=typeof o=="number",g=e,m=n,y=0,b=[g,m,y],x=[g,m],_=0,w={x:0,y:0},k=[{x:g,y:m}];v&&o<=0&&(w={x:g,y:m});for(var O=0;O<=p;O+=1){if(_=O/p,l=Qte(e,n,t,r,i,a,_),g=l.x,m=l.y,c&&k.push({x:g,y:m}),d&&(y+=Ii(x,[g,m])),x=[g,m],v&&y>=o&&o>b[2]){var S=(y-o)/(y-b[2]);w={x:x[0]*(1-S)+b[0]*S,y:x[1]*(1-S)+b[1]*S}}b=[g,m,y]}return v&&o>=y&&(w={x:i,y:a}),{length:y,point:w,min:{x:Math.min.apply(null,k.map(function(E){return E.x})),y:Math.min.apply(null,k.map(function(E){return E.y}))},max:{x:Math.max.apply(null,k.map(function(E){return E.x})),y:Math.max.apply(null,k.map(function(E){return E.y}))}}}function Q$(e,n,t){for(var r,i,a,o,s,l,u=xf(e),c=typeof n=="number",f,d=[],h,p=0,v=0,g=0,m=0,y,b=[],x=[],_=0,w={x:0,y:0},k=w,O=w,S=w,E=0,T=0,M=u.length;T<M;T+=1)y=u[T],h=y[0],f=h==="M",d=f?d:[p,v].concat(y.slice(1)),f?(g=y[1],m=y[2],w={x:g,y:m},k=w,_=0,c&&n<.001&&(S=w)):h==="L"?(r=ew(d[0],d[1],d[2],d[3],(n||0)-E),_=r.length,w=r.min,k=r.max,O=r.point):h==="A"?(i=Kte(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],(n||0)-E,t||{}),_=i.length,w=i.min,k=i.max,O=i.point):h==="C"?(a=Z$(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],(n||0)-E,t||{}),_=a.length,w=a.min,k=a.max,O=a.point):h==="Q"?(o=Jte(d[0],d[1],d[2],d[3],d[4],d[5],(n||0)-E,t||{}),_=o.length,w=o.min,k=o.max,O=o.point):h==="Z"&&(d=[p,v,g,m],s=ew(d[0],d[1],d[2],d[3],(n||0)-E),_=s.length,w=s.min,k=s.max,O=s.point),c&&E<n&&E+_>=n&&(S=O),x.push(k),b.push(w),E+=_,l=h!=="Z"?y.slice(-2):[g,m],p=l[0],v=l[1];return c&&n>=E&&(S={x:p,y:v}),{length:E,point:S,min:{x:Math.min.apply(null,b.map(function(P){return P.x})),y:Math.min.apply(null,b.map(function(P){return P.y}))},max:{x:Math.max.apply(null,x.map(function(P){return P.x})),y:Math.max.apply(null,x.map(function(P){return P.y}))}}}function J$(e,n){return Q$(e,void 0,Se(Se({},n),{bbox:!1,length:!0})).length}function ene(e){var n=e.length,t=n-1;return e.map(function(r,i){return e.map(function(a,o){var s=i+o,l;return o===0||e[s]&&e[s][0]==="M"?(l=e[s],["M"].concat(l.slice(-2))):(s>=n&&(s-=t),e[s])})})}function eI(e,n){var t=e.length-1,r=[],i=0,a=0,o=ene(e);return o.forEach(function(s,l){e.slice(1).forEach(function(u,c){a+=Ii(e[(l+c)%t].slice(-2),n[c%t].slice(-2))}),r[l]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}function tne(e,n,t,r,i,a,o,s){return 3*((s-n)*(t+i)-(o-e)*(r+a)+r*(e-i)-t*(n-a)+s*(i+e/3)-o*(a+n/3))/20}function nne(e){var n=0,t=0,r=0;return Ih(e).map(function(i){var a;switch(i[0]){case"M":return n=i[1],t=i[2],0;default:var o=i.slice(1),s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=o[5];return r=tne(n,t,s,l,u,c,f,d),a=i.slice(-2),n=a[0],t=a[1],r}}).reduce(function(i,a){return i+a},0)}function wg(e){return nne(e)>=0}function tI(e,n,t){return Q$(e,n,Se(Se({},t),{bbox:!1,length:!0})).point}function rne(e,n){n===void 0&&(n=.5);var t=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),a=e.slice(6,8),o=tl(t,r,n),s=tl(r,i,n),l=tl(i,a,n),u=tl(o,s,n),c=tl(s,l,n),f=tl(u,c,n);return[["C"].concat(o,u,f),["C"].concat(c,l,a)]}function vT(e){return e.map(function(n,t,r){var i=t&&r[t-1].slice(-2).concat(n.slice(1)),a=t?Z$(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return t?o=a?rne(i):[n,n]:o=[n],{s:n,ss:o,l:a}})}function z_(e,n,t){var r=vT(e),i=vT(n),a=r.length,o=i.length,s=r.filter(function(g){return g.l}).length,l=i.filter(function(g){return g.l}).length,u=r.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/s||0,c=i.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/l||0,f=t||Math.max(a,o),d=[u,c],h=[f-a,f-o],p=0,v=[r,i].map(function(g,m){return g.l===f?g.map(function(y){return y.s}):g.map(function(y,b){return p=b&&h[m]&&y.l>=d[m],h[m]-=p?1:0,p?y.ss:[y.s]}).flat()});return v[0].length===v[1].length?v:z_(v[0],v[1],f)}function gT(e){var n=document.createElement("div");n.innerHTML=e;var t=n.childNodes[0];return t&&n.contains(t)&&n.removeChild(t),t}function un(e,n){if(e!==null)return{type:"column",value:e,field:n}}function Dh(e,n){const t=un(e,n);return Object.assign(Object.assign({},t),{inferred:!0})}function _g(e,n){if(e!==null)return{type:"column",value:e,field:n,visual:!0}}function ine(e,n){const t=un(e,n);return Object.assign(Object.assign({},t),{constant:!1})}function ml(e,n){const t=[];for(const r of e)t[r]=n;return t}function It(e,n){const t=e[n];if(!t)return[null,null];const{value:r,field:i=null}=t;return[r,i]}function kg(e,...n){for(const t of n)if(typeof t=="string"){const[r,i]=It(e,t);if(r!==null)return[r,i]}else return[t,null];return[null,null]}function Pp(e){return e instanceof Date?!1:typeof e=="object"}const Cp=()=>(e,n)=>{const{encode:t}=n,{y1:r}=t;return r!==void 0?[e,n]:[e,ye({},n,{encode:{y1:Dh(ml(e,0))}})]};Cp.props={};function Zn(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function ane(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Ms(e){let n,t,r;e.length!==2?(n=Zn,t=(s,l)=>Zn(e(s),l),r=(s,l)=>e(s)-l):(n=e===Zn||e===ane?e:one,t=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const f=u+c>>>1;t(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const f=u+c>>>1;t(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function one(){return 0}function tw(e){return e===null?NaN:+e}function*sne(e,n){if(n===void 0)for(let t of e)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of e)(r=n(r,++t,e))!=null&&(r=+r)>=r&&(yield r)}}const nI=Ms(Zn),lne=nI.right,une=nI.left,cne=Ms(tw).center;function rI(e,n){let t=0;for(let r of e)r!=null&&(r=+r)>=r&&++t;return t}function fne(e,n){let t=0,r,i=0,a=0;if(n===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++t,a+=r*(o-i));else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++t,a+=r*(s-i))}if(t>1)return a/(t-1)}function iI(e,n){const t=fne(e,n);return t&&Math.sqrt(t)}function As(e,n){let t,r;if(n===void 0)for(const i of e)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(t===void 0?a>=a&&(t=r=a):(t>a&&(t=a),r<a&&(r=a)))}return[t,r]}class Nu{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=t[i],o=n+a,s=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);s&&(t[r++]=s),n=o}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t=this._n,r,i,a,o=0;if(t>0){for(o=n[--t];t>0&&(r=o,i=n[--t],o=r+i,a=i-(o-r),!a););t>0&&(a<0&&n[t-1]<0||a>0&&n[t-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}let dne=class extends Map{constructor(n,t=vne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(mT(this,n))}has(n){return super.has(mT(this,n))}set(n,t){return super.set(hne(this,n),t)}delete(n){return super.delete(pne(this,n))}};function mT({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function hne({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function pne({_intern:e,_key:n},t){const r=n(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function vne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fh(e){return e}function yn(e,...n){return ay(e,Fh,Fh,n)}function Y_(e,...n){return ay(e,Array.from,Fh,n)}function G_(e,n,...t){return ay(e,Fh,n,t)}function W_(e,n,...t){return ay(e,Array.from,n,t)}function ay(e,n,t,r){return function i(a,o){if(o>=r.length)return t(a);const s=new dne,l=r[o++];let u=-1;for(const c of a){const f=l(c,++u,a),d=s.get(f);d?d.push(c):s.set(f,[c])}for(const[c,f]of s)s.set(c,i(f,o));return n(s)}(e,0)}function gne(e,n){return Array.from(n,t=>e[t])}function oo(e,...n){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[t]=n;if(t&&t.length!==2||n.length>1){const r=Uint32Array.from(e,(i,a)=>a);return n.length>1?(n=n.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of n){const s=Bh(o[i],o[a]);if(s)return s}})):(t=e.map(t),r.sort((i,a)=>Bh(t[i],t[a]))),gne(e,r)}return e.sort(aI(t))}function aI(e=Zn){if(e===Zn)return Bh;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,t)=>{const r=e(n,t);return r||r===0?r:(e(t,t)===0)-(e(n,n)===0)}}function Bh(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}function mne(e,n,t){return(n.length!==2?oo(G_(e,n,t),([r,i],[a,o])=>Zn(i,o)||Zn(r,a)):oo(yn(e,t),([r,i],[a,o])=>n(i,o)||Zn(r,a))).map(([r])=>r)}var yne=Array.prototype,bne=yne.slice;function H1(e){return()=>e}const xne=Math.sqrt(50),wne=Math.sqrt(10),_ne=Math.sqrt(2);function Og(e,n,t){const r=(n-e)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=xne?10:a>=wne?5:a>=_ne?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(n*u),s/u<e&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(n/u),s*u<e&&++s,l*u>n&&--l),l<s&&.5<=t&&t<2?Og(e,n,t*2):[s,l,u]}function kne(e,n,t){if(n=+n,e=+e,t=+t,!(t>0))return[];if(e===n)return[e];const r=n<e,[i,a,o]=r?Og(n,e,t):Og(e,n,t);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function nw(e,n,t){return n=+n,e=+e,t=+t,Og(e,n,t)[2]}function One(e,n,t){let r;for(;;){const i=nw(e,n,t);if(i===r||i===0||!isFinite(i))return[e,n];i>0?(e=Math.floor(e/i)*i,n=Math.ceil(n/i)*i):i<0&&(e=Math.ceil(e*i)/i,n=Math.floor(n*i)/i),r=i}}function Sne(e){return Math.max(1,Math.ceil(Math.log(rI(e))/Math.LN2)+1)}function Ene(){var e=Fh,n=As,t=Sne;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,u=new Array(o);for(a=0;a<o;++a)u[a]=e(i[a],a,i);var c=n(u),f=c[0],d=c[1],h=t(u,f,d);if(!Array.isArray(h)){const b=d,x=+h;if(n===As&&([f,d]=One(f,d,x)),h=kne(f,d,x),h[0]<=f&&(l=nw(f,d,x)),h[h.length-1]>=d)if(b>=d&&n===As){const _=nw(f,d,x);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else h.pop()}for(var p=h.length,v=0,g=p;h[v]<=f;)++v;for(;h[g-1]>d;)--g;(v||g<p)&&(h=h.slice(v,g),p=g-v);var m=new Array(p+1),y;for(a=0;a<=p;++a)y=m[a]=[],y.x0=a>0?h[a-1]:f,y.x1=a<p?h[a]:d;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=u[a])!=null&&f<=s&&s<=d&&m[Math.min(p,Math.floor((s-f)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=u[a])!=null&&f<=s&&s<=d){const b=Math.floor((f-s)*l);m[Math.min(p,b+(h[b]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=u[a])!=null&&f<=s&&s<=d&&m[lne(h,s,0,p)].push(i[a]);return m}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:H1(i),r):e},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:H1([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(t=typeof i=="function"?i:H1(Array.isArray(i)?bne.call(i):i),r):t},r}function Xt(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function Qf(e,n){let t,r=-1,i=-1;if(n===void 0)for(const a of e)++i,a!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of e)(a=n(a,++i,e))!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);return r}function sa(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function Rp(e,n){let t,r=-1,i=-1;if(n===void 0)for(const a of e)++i,a!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of e)(a=n(a,++i,e))!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);return r}function H_(e,n,t=0,r=1/0,i){if(n=Math.floor(n),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(e.length-1,r)),!(t<=n&&n<=r))return e;for(i=i===void 0?Bh:aI(i);r>t;){if(r-t>600){const l=r-t+1,u=n-t+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(t,Math.floor(n-u*f/l+d)),p=Math.min(r,Math.floor(n+(l-u)*f/l+d));H_(e,n,h,p,i)}const a=e[n];let o=t,s=r;for(pd(e,t,n),i(e[r],a)>0&&pd(e,t,r);o<s;){for(pd(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[t],a)===0?pd(e,t,s):(++s,pd(e,s,r)),s<=n&&(t=s+1),n<=s&&(r=s-1)}return e}function pd(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function Tne(e,n=Zn){let t,r=!1;if(n.length===1){let i;for(const a of e){const o=n(a);(r?Zn(o,i)>0:Zn(o,o)===0)&&(t=a,i=o,r=!0)}}else for(const i of e)(r?n(i,t)>0:n(i,i)===0)&&(t=i,r=!0);return t}function oy(e,n,t){if(e=Float64Array.from(sne(e,t)),!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return sa(e);if(n>=1)return Xt(e);var r,i=(r-1)*n,a=Math.floor(i),o=Xt(H_(e,a).subarray(0,a+1)),s=sa(e.subarray(a+1));return o+(s-o)*(i-a)}}function Mne(e,n,t=tw){if(!isNaN(n=+n)){if(r=Float64Array.from(e,(s,l)=>tw(t(e[l],l,e))),n<=0)return Rp(r);if(n>=1)return Qf(r);var r,i=Uint32Array.from(e,(s,l)=>l),a=r.length-1,o=Math.floor(a*n);return H_(i,o,0,a,(s,l)=>Bh(r[s],r[l])),o=Tne(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function Ane(e,n,t){const r=rI(e),i=iI(e);return r&&i?Math.ceil((t-n)*Math.cbrt(r)/(3.49*i)):1}function jh(e,n){let t=0,r=0;if(n===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++t,r+=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(a=+a)>=a&&(++t,r+=a)}if(t)return r/t}function U_(e,n){return oy(e,.5,n)}function Pne(e,n){return Mne(e,.5,n)}function*Cne(e){for(const n of e)yield*n}function oI(e){return Array.from(Cne(e))}function Cc(e,n,t){e=+e,n=+n,t=(i=arguments.length)<2?(n=e,e=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((n-e)/t))|0,a=new Array(i);++r<i;)a[r]=e+r*t;return a}function Na(e,n){let t=0;if(n===void 0)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let i of e)(i=+n(i,++r,e))&&(t+=i)}return t}function wf(e,...n){return n.reduce((t,r)=>i=>t(r(i)),e)}function Sg(e,n){return n-e?t=>(t-e)/(n-e):t=>.5}function Rne(e,n){const t=n<e?n:e,r=e>n?e:n;return i=>Math.min(Math.max(t,i),r)}function V_(e,n,t,r,i){let a=t||0,o=r||e.length;const s=i||(l=>l);for(;a<o;){const l=Math.floor((a+o)/2);s(e[l])>n?o=l:a=l+1}return a}const rw=Math.sqrt(50),iw=Math.sqrt(10),aw=Math.sqrt(2);function z0(e,n,t){const r=(n-e)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=rw?10:a>=iw?5:a>=aw?2:1)*10**i:-(10**-i)/(a>=rw?10:a>=iw?5:a>=aw?2:1)}function yT(e,n,t){const r=Math.abs(n-e)/Math.max(0,t);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=rw?i*=10:a>=iw?i*=5:a>=aw&&(i*=2),n<e?-i:i}const sI=(e,n,t=5)=>{const r=[e,n];let i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),l=z0(o,s,t),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=z0(o,s,t)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=z0(o,s,t)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l),r},zh=1e3,Yh=zh*60,Gh=Yh*60,Lu=Gh*24,uh=Lu*7,lI=Lu*30,uI=Lu*365;function hi(e,n,t,r){const i=(u,c)=>{const f=h=>r(h)%c===0;let d=c;for(;d&&!f(u);)t(u,-1),d-=1;return u},a=(u,c)=>{c&&i(u,c),n(u)},o=(u,c)=>{const f=new Date(+u);return a(f,c),f},s=(u,c)=>{const f=new Date(+u-1);return a(f,c),t(f,c),a(f),f};return{ceil:s,floor:o,range:(u,c,f,d)=>{const h=[],p=Math.floor(f),v=d?s(u,f):s(u);for(let g=v;g<c;t(g,p),a(g))h.push(new Date(+g));return h},duration:e}}const Nne=hi(1,e=>e,(e,n=1)=>{e.setTime(+e+n)},e=>e.getTime()),Lne=hi(zh,e=>{e.setMilliseconds(0)},(e,n=1)=>{e.setTime(+e+zh*n)},e=>e.getSeconds()),$ne=hi(Yh,e=>{e.setSeconds(0,0)},(e,n=1)=>{e.setTime(+e+Yh*n)},e=>e.getMinutes()),Ine=hi(Gh,e=>{e.setMinutes(0,0,0)},(e,n=1)=>{e.setTime(+e+Gh*n)},e=>e.getHours()),Dne=hi(Lu,e=>{e.setHours(0,0,0,0)},(e,n=1)=>{e.setTime(+e+Lu*n)},e=>e.getDate()-1),cI=hi(lI,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n=1)=>{const t=e.getMonth();e.setMonth(t+n)},e=>e.getMonth()),Fne=hi(uh,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,n=1)=>{e.setDate(e.getDate()+7*n)},e=>{const n=cI.floor(e),t=new Date(+e);return Math.floor((+t-+n)/uh)}),Bne=hi(uI,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n=1)=>{const t=e.getFullYear();e.setFullYear(t+n)},e=>e.getFullYear()),fI={millisecond:Nne,second:Lne,minute:$ne,hour:Ine,day:Dne,week:Fne,month:cI,year:Bne},jne=hi(1,e=>e,(e,n=1)=>{e.setTime(+e+n)},e=>e.getTime()),zne=hi(zh,e=>{e.setUTCMilliseconds(0)},(e,n=1)=>{e.setTime(+e+zh*n)},e=>e.getUTCSeconds()),Yne=hi(Yh,e=>{e.setUTCSeconds(0,0)},(e,n=1)=>{e.setTime(+e+Yh*n)},e=>e.getUTCMinutes()),Gne=hi(Gh,e=>{e.setUTCMinutes(0,0,0)},(e,n=1)=>{e.setTime(+e+Gh*n)},e=>e.getUTCHours()),Wne=hi(Lu,e=>{e.setUTCHours(0,0,0,0)},(e,n=1)=>{e.setTime(+e+Lu*n)},e=>e.getUTCDate()-1),dI=hi(lI,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n=1)=>{const t=e.getUTCMonth();e.setUTCMonth(t+n)},e=>e.getUTCMonth()),Hne=hi(uh,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,n=1)=>{e.setTime(+e+uh*n)},e=>{const n=dI.floor(e),t=new Date(+e);return Math.floor((+t-+n)/uh)}),Une=hi(uI,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n=1)=>{const t=e.getUTCFullYear();e.setUTCFullYear(t+n)},e=>e.getUTCFullYear()),hI={millisecond:jne,second:zne,minute:Yne,hour:Gne,day:Wne,week:Hne,month:dI,year:Une};function Vne(e){const n=e?hI:fI,{year:t,month:r,week:i,day:a,hour:o,minute:s,second:l,millisecond:u}=n;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[t,1]],year:t,millisecond:u}}function pI(e,n,t,r,i){const a=+e,o=+n,{tickIntervals:s,year:l,millisecond:u}=Vne(i),c=([g,m])=>g.duration*m,f=r?(o-a)/r:t||5,d=r||(o-a)/f,h=s.length,p=V_(s,d,0,h,c);let v;if(p===h){const g=yT(a/l.duration,o/l.duration,f);v=[l,g]}else if(p){const g=d/c(s[p-1])<c(s[p])/d,[m,y]=g?s[p-1]:s[p],b=r?Math.ceil(r/m.duration):y;v=[m,b]}else{const g=Math.max(yT(a,o,f),1);v=[u,g]}return v}const Xne=(e,n,t,r,i)=>{const a=e>n,o=a?n:e,s=a?e:n,[l,u]=pI(o,s,t,r,i),c=[l.floor(o,u),l.ceil(s,u)];return a?c.reverse():c};function Eg(e){return!lt(e)&&!Wee(e)&&!Number.isNaN(e)}const vI=e=>n=>-e(-n),X_=(e,n)=>{const t=Math.log(e),r=e===Math.E?Math.log:e===10?Math.log10:e===2?Math.log2:i=>Math.log(i)/t;return n?vI(r):r},q_=(e,n)=>{const t=e===Math.E?Math.exp:r=>e**r;return n?vI(t):t},qne=(e,n,t,r)=>{const i=e<0,a=X_(r,i),o=q_(r,i),s=e>n,l=s?n:e,u=s?e:n,c=[o(Math.floor(a(l))),o(Math.ceil(a(u)))];return s?c.reverse():c},Kne=e=>n=>{const t=e(n);return jt(t)?Math.round(t):t};function Zne(e,n){return t=>{t.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},t.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=e(r)},t.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),l=n(a.map(r)),u=s?Kne(o):o;this.output=wf(u,l,i,r)},t.prototype.invert=void 0}}function K_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U1={exports:{}},V1,bT;function Qne(){return bT||(bT=1,V1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),V1}var X1={exports:{}},q1,xT;function Jne(){return xT||(xT=1,q1=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")}),q1}var wT;function ere(){if(wT)return X1.exports;wT=1;var e=Jne(),n=Array.prototype.concat,t=Array.prototype.slice,r=X1.exports=function(a){for(var o=[],s=0,l=a.length;s<l;s++){var u=a[s];e(u)?o=n.call(o,t.call(u)):o.push(u)}return o};return r.wrap=function(i){return function(){return i(r(arguments))}},X1.exports}var _T;function tre(){if(_T)return U1.exports;_T=1;var e=Qne(),n=ere(),t=Object.hasOwnProperty,r=Object.create(null);for(var i in e)t.call(e,i)&&(r[e[i]]=i);var a=U1.exports={to:{},get:{}};a.get=function(l){var u=l.substring(0,3).toLowerCase(),c,f;switch(u){case"hsl":c=a.get.hsl(l),f="hsl";break;case"hwb":c=a.get.hwb(l),f="hwb";break;default:c=a.get.rgb(l),f="rgb";break}return c?{model:f,value:c}:null},a.get.rgb=function(l){if(!l)return null;var u=/^#([a-f0-9]{3,4})$/i,c=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^(\w+)$/,p=[0,0,0,1],v,g,m;if(v=l.match(c)){for(m=v[2],v=v[1],g=0;g<3;g++){var y=g*2;p[g]=parseInt(v.slice(y,y+2),16)}m&&(p[3]=parseInt(m,16)/255)}else if(v=l.match(u)){for(v=v[1],m=v[3],g=0;g<3;g++)p[g]=parseInt(v[g]+v[g],16);m&&(p[3]=parseInt(m+m,16)/255)}else if(v=l.match(f)){for(g=0;g<3;g++)p[g]=parseInt(v[g+1],0);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else if(v=l.match(d)){for(g=0;g<3;g++)p[g]=Math.round(parseFloat(v[g+1])*2.55);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else return(v=l.match(h))?v[1]==="transparent"?[0,0,0,0]:t.call(e,v[1])?(p=e[v[1]],p[3]=1,p):null:null;for(g=0;g<3;g++)p[g]=o(p[g],0,255);return p[3]=o(p[3],0,1),p},a.get.hsl=function(l){if(!l)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),d=(parseFloat(c[1])%360+360)%360,h=o(parseFloat(c[2]),0,100),p=o(parseFloat(c[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},a.get.hwb=function(l){if(!l)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),d=(parseFloat(c[1])%360+360)%360,h=o(parseFloat(c[2]),0,100),p=o(parseFloat(c[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},a.to.hex=function(){var l=n(arguments);return"#"+s(l[0])+s(l[1])+s(l[2])+(l[3]<1?s(Math.round(l[3]*255)):"")},a.to.rgb=function(){var l=n(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},a.to.rgb.percent=function(){var l=n(arguments),u=Math.round(l[0]/255*100),c=Math.round(l[1]/255*100),f=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+u+"%, "+c+"%, "+f+"%)":"rgba("+u+"%, "+c+"%, "+f+"%, "+l[3]+")"},a.to.hsl=function(){var l=n(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},a.to.hwb=function(){var l=n(arguments),u="";return l.length>=4&&l[3]!==1&&(u=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+u+")"},a.to.keyword=function(l){return r[l.slice(0,3)]};function o(l,u,c){return Math.min(Math.max(u,l),c)}function s(l){var u=Math.round(l).toString(16).toUpperCase();return u.length<2?"0"+u:u}return U1.exports}var nre=tre();const rre=K_(nre);function K1(e,n,t){let r=t;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(n-e)*6*r:r<1/2?n:r<2/3?e+(n-e)*(2/3-r)*6:e}function ire(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100,i=e[3];if(t===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+t):r+t-r*t,o=2*r-a,s=K1(o,a,n+1/3),l=K1(o,a,n),u=K1(o,a,n-1/3);return[s*255,l*255,u*255,i]}function kT(e){const n=rre.get(e);if(!n)return null;const{model:t,value:r}=n;return t==="rgb"?r:t==="hsl"?ire(r):null}const _f=(e,n)=>t=>e*(1-t)+n*t,are=(e,n)=>{const t=kT(e),r=kT(n);return t===null||r===null?t?()=>e:()=>n:i=>{const a=new Array(4);for(let c=0;c<4;c+=1){const f=t[c],d=r[c];a[c]=f*(1-i)+d*i}const[o,s,l,u]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${u})`}},Np=(e,n)=>typeof e=="number"&&typeof n=="number"?_f(e,n):typeof e=="string"&&typeof n=="string"?are(e,n):()=>e,ore=(e,n)=>{const t=_f(e,n);return r=>Math.round(t(r))};function sre(e,n){const{second:t,minute:r,hour:i,day:a,week:o,month:s,year:l}=n;return t.floor(e)<e?".SSS":r.floor(e)<e?":ss":i.floor(e)<e?"hh:mm":a.floor(e)<e?"hh A":s.floor(e)<e?o.floor(e)<e?"MMM DD":"ddd DD":l.floor(e)<e?"MMMM":"YYYY"}function OT({map:e,initKey:n},t){const r=n(t);return e.has(r)?e.get(r):t}function lre({map:e,initKey:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function ure({map:e,initKey:n},t){const r=n(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function cre(e){return typeof e=="object"?e.valueOf():e}class ST extends Map{constructor(n){if(super(),this.map=new Map,this.initKey=cre,n!==null)for(const[t,r]of n)this.set(t,r)}get(n){return super.get(OT({map:this.map,initKey:this.initKey},n))}has(n){return super.has(OT({map:this.map,initKey:this.initKey},n))}set(n,t){return super.set(lre({map:this.map,initKey:this.initKey},n),t)}delete(n){return super.delete(ure({map:this.map,initKey:this.initKey},n))}}class Lp{constructor(n){this.options=ye({},this.getDefaultOptions()),this.update(n)}getOptions(){return this.options}update(n={}){this.options=ye({},this.options,n),this.rescale(n)}rescale(n){}}const sy=Symbol("defaultUnknown");function ET(e,n,t){for(let r=0;r<n.length;r+=1)e.has(n[r])||e.set(t(n[r]),r)}function TT(e){const{value:n,from:t,to:r,mapper:i,notFoundReturn:a}=e;let o=i.get(n);if(o===void 0){if(a!==sy)return a;o=t.push(n)-1,i.set(n,o)}return r[o%r.length]}function MT(e){return e instanceof Date?n=>`${n}`:typeof e=="object"?n=>JSON.stringify(n):n=>n}let gI=class mI extends Lp{getDefaultOptions(){return{domain:[],range:[],unknown:sy}}constructor(n){super(n)}map(n){return this.domainIndexMap.size===0&&ET(this.domainIndexMap,this.getDomain(),this.domainKey),TT({value:this.domainKey(n),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(n){return this.rangeIndexMap.size===0&&ET(this.rangeIndexMap,this.getRange(),this.rangeKey),TT({value:this.rangeKey(n),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(n){const[t]=this.options.domain,[r]=this.options.range;if(this.domainKey=MT(t),this.rangeKey=MT(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!n||n.range)&&this.rangeIndexMap.clear(),(!n||n.domain||n.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new mI(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:n,compare:t}=this.options;return this.sortedDomain=t?[...n].sort(t):n,this.sortedDomain}};function fre(e){const n=Math.min(...e);return e.map(t=>t/n)}function dre(e,n){const t=e.length,r=n-t;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,n):e}function hre(e){return Math.round(e*1e12)/1e12}function pre(e){const{domain:n,range:t,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=e,l=n.length,u=dre(a,l),[c,f]=t,d=f-c,h=2/l*r+1-1/l*i,p=d/h,v=p*i/l,g=p-l*v,m=fre(u),y=m.reduce((M,P)=>M+P),b=g/y,x=new ST(n.map((M,P)=>{const A=m[P]*b;return[M,o?Math.floor(A):A]})),_=new ST(n.map((M,P)=>{const N=m[P]*b+v;return[M,o?Math.floor(N):N]})),w=Array.from(_.values()).reduce((M,P)=>M+P),O=(d-(w-w/l*i))*s,S=c+O;let E=o?Math.round(S):S;const T=new Array(l);for(let M=0;M<l;M+=1){T[M]=hre(E);const P=n[M];E+=_.get(P)}return{valueBandWidth:x,valueStep:_,adjustedRange:T}}function vre(e){var n;const{domain:t}=e,r=t.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((n=e.flex)===null||n===void 0)&&n.length))return pre(e);const{range:a,paddingOuter:o,paddingInner:s,round:l,align:u}=e;let c,f,d=a[0];const p=a[1]-d,v=o*2,g=r-s;c=p/Math.max(1,v+g),l&&(c=Math.floor(c)),d+=(p-c*(r-s))*u,f=c*(1-s),l&&(d=Math.round(d),f=Math.round(f));const m=new Array(r).fill(0).map((y,b)=>d+b*c);return{valueStep:c,valueBandWidth:f,adjustedRange:m}}let kf=class yI extends gI{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:sy,flex:[]}}constructor(n){super(n)}clone(){return new yI(this.options)}getStep(n){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:n===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(n)}getBandWidth(n){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:n===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(n)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:n,paddingInner:t}=this.options;return n>0?n:t}getPaddingOuter(){const{padding:n,paddingOuter:t}=this.options;return n>0?n:t}rescale(){super.rescale();const{align:n,domain:t,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=vre({align:n,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const $u=(e,n,t)=>{let r,i,a=e,o=n;if(a===o&&t>0)return[a];let s=z0(a,o,t);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)/s}return i};let Z_=class bI extends Lp{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:$u}}map(n){const[t]=this.options.range;return t!==void 0?t:this.options.unknown}invert(n){const[t]=this.options.range;return n===t&&t!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:n,domain:t,tickCount:r}=this.options,[i,a]=t;return!jt(i)||!jt(a)?[]:n(i,a,r)}clone(){return new bI(this.options)}};function vd(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const gre=[1,5,2,2.5,4,3],AT=Number.EPSILON*100;function mre(e,n){return(e%n+n)%n}function yre(e){return Math.round(e*1e12)/1e12}function bre(e,n,t,r,i,a){const o=mg(n),s=E$(n,e);let l=0;const u=mre(r,a);return(u<AT||a-u<AT)&&r<=0&&i>=0&&(l=1),1-s/(o-1)-t+l}function xre(e,n,t){const r=mg(n);return 1-E$(n,e)/(r-1)-t+1}function wre(e,n,t,r,i,a){const o=(e-1)/(a-i),s=(n-1)/(Math.max(a,r)-Math.min(t,i));return 2-Math.max(o/s,s/o)}function _re(e,n){return e>=n?2-(e-1)/(n-1):1}function kre(e,n,t,r){const i=n-e;return 1-.5*((n-r)**2+(e-t)**2)/(.1*i)**2}function Ore(e,n,t){const r=n-e;return t>r?1-((t-r)/2)**2/(.1*r)**2:1}function Sre(){return 1}const Q_=(e,n,t=5,r=!0,i=gre,a=[.25,.2,.5,.05])=>{const o=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(n)||typeof e!="number"||typeof n!="number"||!o)return[];if(n-e<1e-15||o===1)return[e];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let p=0;p<i.length;p+=1){const v=i[p],g=xre(v,i,l);if(a[0]*g+a[1]+a[2]+a[3]<s.score){l=1/0;break}let m=2;for(;m<1/0;){const y=_re(m,o);if(a[0]*g+a[1]+a[2]*y+a[3]<s.score)break;const b=(n-e)/(m+1)/l/v;let x=Math.ceil(Math.log10(b));for(;x<1/0;){const _=l*v*10**x,w=Ore(e,n,_*(m-1));if(a[0]*g+a[1]*w+a[2]*y+a[3]<s.score)break;const k=Math.floor(n/_)*l-(m-1)*l,O=Math.ceil(e/_)*l;if(k<=O){const S=O-k;for(let E=0;E<=S;E+=1){const M=(k+E)*(_/l),P=M+_*(m-1),A=_,N=bre(v,i,l,M,P,A),R=kre(e,n,M,P),C=wre(m,o,e,n,M,P),L=Sre(),I=a[0]*N+a[1]*R+a[2]*C+a[3]*L;I>s.score&&(!r||M<=e&&P>=n)&&(s.lmin=M,s.lmax=P,s.lstep=A,s.score=I)}}x+=1}m+=1}}l+=1}const u=vd(s.lmax),c=vd(s.lmin),f=vd(s.lstep),d=Math.floor(yre((u-c)/f))+1,h=new Array(d);h[0]=vd(c);for(let p=1;p<d;p+=1)h[p]=vd(h[p-1]+f);return h};let xI=class wI extends Lp{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:Q_}}map(n){return Eg(n)?n:this.options.unknown}invert(n){return this.map(n)}clone(){return new wI(this.options)}getTicks(){const{domain:n,tickCount:t,tickMethod:r}=this.options,[i,a]=n;return!jt(i)||!jt(a)?[]:r(i,a,t)}};const Ere=(e,n,t)=>{const[r,i]=e,[a,o]=n;let s,l;return r<i?(s=Sg(r,i),l=t(a,o)):(s=Sg(i,r),l=t(o,a)),wf(l,s)},Tre=(e,n,t)=>{const r=Math.min(e.length,n.length)-1,i=new Array(r),a=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,l=o?[...n].reverse():n;for(let u=0;u<r;u+=1)i[u]=Sg(s[u],s[u+1]),a[u]=t(l[u],l[u+1]);return u=>{const c=V_(e,u,1,r)-1,f=i[c],d=a[c];return wf(d,f)(u)}},PT=(e,n,t,r)=>(Math.min(e.length,n.length)>2?Tre:Ere)(e,n,r?ore:t);let ly=class extends Lp{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:_f,tickCount:5}}map(n){return Eg(n)?this.output(n):this.options.unknown}invert(n){return Eg(n)?this.input(n):this.options.unknown}nice(){if(!this.options.nice)return;const[n,t,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(n,t,r,...i)}getTicks(){const{tickMethod:n}=this.options,[t,r,i,...a]=this.getTickMethodOptions();return n(t,r,i,...a)}getTickMethodOptions(){const{domain:n,tickCount:t}=this.options,r=n[0],i=n[n.length-1];return[r,i,t]}chooseNice(){return sI}rescale(){this.nice();const[n,t]=this.chooseTransforms();this.composeOutput(n,this.chooseClamp(n)),this.composeInput(n,t,this.chooseClamp(t))}chooseClamp(n){const{clamp:t,range:r}=this.options,i=this.options.domain.map(n),a=Math.min(i.length,r.length);return t?Rne(i[0],i[a-1]):Pu}composeOutput(n,t){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=PT(r.map(n),i,o,a);this.output=wf(s,t,n)}composeInput(n,t,r){const{domain:i,range:a}=this.options,o=PT(a,i.map(n),_f);this.input=wf(t,r,o)}},wn=class _I extends ly{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Np,tickMethod:$u,tickCount:5}}chooseTransforms(){return[Pu,Pu]}clone(){return new _I(this.options)}},kI=class OI extends kf{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:sy,paddingInner:1,paddingOuter:0}}constructor(n){super(n)}getPaddingInner(){return 1}clone(){return new OI(this.options)}update(n){super.update(n)}getPaddingOuter(){return this.options.padding}};const Mre=e=>n=>n<0?-((-n)**e):n**e,Are=e=>n=>n<0?-((-n)**(1/e)):n**(1/e),Pre=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let SI=class EI extends ly{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Np,tickMethod:$u,tickCount:5}}constructor(n){super(n)}chooseTransforms(){const{exponent:n}=this.options;if(n===1)return[Pu,Pu];const t=n===.5?Pre:Mre(n),r=Are(n);return[t,r]}clone(){return new EI(this.options)}},Cre=class TI extends SI{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Np,tickMethod:$u,tickCount:5,exponent:.5}}constructor(n){super(n)}update(n){super.update(n)}clone(){return new TI(this.options)}},uy=class MI extends Lp{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(n){super(n)}map(n){if(!Eg(n))return this.options.unknown;const t=V_(this.thresholds,n,0,this.n);return this.options.range[t]}invert(n){const{range:t}=this.options,r=t.indexOf(n),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new MI(this.options)}rescale(){const{domain:n,range:t}=this.options;this.n=Math.min(n.length,t.length-1),this.thresholds=n}};const Rre=(e,n,t,r=10)=>{const i=e<0,a=q_(r,i),o=X_(r,i),s=n<e,l=s?n:e,u=s?e:n;let c=o(l),f=o(u),d=[];if(!(r%1)&&f-c<t){if(c=Math.floor(c),f=Math.ceil(f),i)for(;c<=f;c+=1){const h=a(c);for(let p=r-1;p>=1;p-=1){const v=h*p;if(v>u)break;v>=l&&d.push(v)}}else for(;c<=f;c+=1){const h=a(c);for(let p=1;p<r;p+=1){const v=h*p;if(v>u)break;v>=l&&d.push(v)}}d.length*2<t&&(d=$u(l,u,t))}else{const h=t===-1?f-c:Math.min(f-c,t);d=$u(c,f,h).map(a)}return s?d.reverse():d};let Nre=class AI extends ly{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Np,tickMethod:Rre,tickCount:5}}chooseNice(){return qne}getTickMethodOptions(){const{domain:n,tickCount:t,base:r}=this.options,i=n[0],a=n[n.length-1];return[i,a,t,r]}chooseTransforms(){const{base:n,domain:t}=this.options,r=t[0]<0;return[X_(n,r),q_(n,r)]}clone(){return new AI(this.options)}},PI=class CI extends uy{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:Q_}}constructor(n){super(n)}nice(){const{nice:n}=this.options;if(n){const[t,r,i]=this.getTickMethodOptions();this.options.domain=sI(t,r,i)}}getTicks(){const{tickMethod:n}=this.options,[t,r,i]=this.getTickMethodOptions();return n(t,r,i)}getTickMethodOptions(){const{domain:n,tickCount:t}=this.options,r=n[0],i=n[n.length-1];return[r,i,t]}rescale(){this.nice();const{range:n,domain:t}=this.options,[r,i]=t;this.n=n.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(n){const[t,r]=super.invert(n),[i,a]=this.options.domain;return t===void 0&&r===void 0?[t,r]:[t||i,r||a]}getThresholds(){return this.thresholds}clone(){return new CI(this.options)}};function Lre(e,n){const t=e.length;if(!t)return;if(t<2)return e[t-1];const r=(t-1)*n,i=Math.floor(r),a=e[i],o=e[i+1];return a+(o-a)*(r-i)}function $re(e,n,t=!1){const r=e;t||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<n;a+=1)i.push(Lre(r,a/n));return i}let RI=class NI extends uy{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:Q_}}constructor(n){super(n)}rescale(){const{domain:n,range:t}=this.options;this.n=t.length-1,this.thresholds=$re(n,this.n+1,!1)}invert(n){const[t,r]=super.invert(n),{domain:i}=this.options,a=i[0],o=i[i.length-1];return t===void 0&&r===void 0?[t,r]:[t||a,r||o]}getThresholds(){return this.thresholds}clone(){return new NI(this.options)}getTicks(){const{tickCount:n,domain:t,tickMethod:r}=this.options,i=t.length-1,a=t[0],o=t[i];return r(a,o,n)}};var Ire=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Dre=/\[([^]*?)\]/gm;function LI(e,n){for(var t=[],r=0,i=e.length;r<i;r++)t.push(e[r].substr(0,n));return t}function ow(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0,i=n;r<i.length;r++){var a=i[r];for(var o in a)e[o]=a[o]}return e}var $I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],II=["January","February","March","April","May","June","July","August","September","October","November","December"],Fre=LI(II,3),Bre=LI($I,3),jre={dayNamesShort:Bre,dayNames:$I,monthNamesShort:Fre,monthNames:II,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},zre=ow({},jre),Pi=function(e,n){for(n===void 0&&(n=2),e=String(e);e.length<n;)e="0"+e;return e},Yre={D:function(e){return String(e.getDate())},DD:function(e){return Pi(e.getDate())},Do:function(e,n){return n.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Pi(e.getDay())},ddd:function(e,n){return n.dayNamesShort[e.getDay()]},dddd:function(e,n){return n.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Pi(e.getMonth()+1)},MMM:function(e,n){return n.monthNamesShort[e.getMonth()]},MMMM:function(e,n){return n.monthNames[e.getMonth()]},YY:function(e){return Pi(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Pi(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Pi(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Pi(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Pi(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Pi(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Pi(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Pi(e.getMilliseconds(),3)},a:function(e,n){return e.getHours()<12?n.amPm[0]:n.amPm[1]},A:function(e,n){return e.getHours()<12?n.amPm[0].toUpperCase():n.amPm[1].toUpperCase()},ZZ:function(e){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Pi(Math.floor(Math.abs(n)/60)*100+Math.abs(n)%60,4)},Z:function(e){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Pi(Math.floor(Math.abs(n)/60),2)+":"+Pi(Math.abs(n)%60,2)}},CT={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Gre=function(e,n,t){if(n===void 0&&(n=CT.default),t===void 0&&(t={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");n=CT[n]||n;var r=[];n=n.replace(Dre,function(a,o){return r.push(o),"@@@"});var i=ow(ow({},zre),t);return n=n.replace(Ire,function(a){return Yre[a](e,i)}),n.replace(/@@@/g,function(){return r.shift()})};const Wre=(e,n,t,r,i)=>{const a=e>n,o=a?n:e,s=a?e:n,[l,u]=pI(o,s,t,r,i),c=l.range(o,new Date(+s+1),u,!0);return a?c.reverse():c};function Hre(e){const n=e.getTimezoneOffset(),t=new Date(e);return t.setMinutes(t.getMinutes()+n,t.getSeconds(),t.getMilliseconds()),t}let Ure=class DI extends ly{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:Wre,interpolate:_f,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return Xne}getTickMethodOptions(){const{domain:n,tickCount:t,tickInterval:r,utc:i}=this.options,a=n[0],o=n[n.length-1];return[a,o,t,r,i]}getFormatter(){const{mask:n,utc:t}=this.options,r=t?hI:fI,i=t?Hre:Pu;return a=>Gre(i(a),n||sre(a,r))}clone(){return new DI(this.options)}};var Vre=function(e,n,t,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},sw;function Xre(e){return[e(0),e(1)]}const qre=e=>{const[n,t]=e;return wf(_f(0,1),Sg(n,t))};let lw=sw=class extends wn{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Pu,tickMethod:$u,tickCount:5}}constructor(n){super(n)}clone(){return new sw(this.options)}};lw=sw=Vre([Zne(Xre,qre)],lw);var Kre=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})};function Zre(e){var n;let t=e;for(;t;){if(((n=t.attributes)===null||n===void 0?void 0:n.class)==="view")return t;t=t.parentNode}return null}function cy(e){const{markType:n,nodeName:t}=e;return n==="heatmap"&&t==="image"}function J_(e,n){const t=n??Zre(e).__data__,r=e.__data__,{markKey:i,index:a,seriesIndex:o,normalized:s={x:0}}=r,{markState:l}=t,u=Array.from(l.keys()).find(c=>c.key===i);if(u)return o?o.map(c=>u.data[c]):cy(e)?u.data[Math.round(u.data.length*s.x)]:u.data[a]}function Qre(e,n){const{color:t,series:r,facet:i=!1}=e,{color:a,series:o}=n,s=l=>l&&l.invert&&!(l instanceof kf)&&!(l instanceof Z_);if(s(r))return r.clone().invert(o);if(o&&r instanceof kf&&r.invert(o)!==a&&!i)return r.invert(o);if(s(t)){const l=t.invert(a);return Array.isArray(l)?null:l}return null}function Iu(e){return e}function ek(e){return e.reduce((n,t)=>(r,...i)=>t(n(r,...i),...i),Iu)}function Jre(e){return e.reduce((n,t)=>r=>Kre(this,void 0,void 0,function*(){const i=yield n(r);return t(i)}),Iu)}function tk(e){return e.replace(/( |^)[a-z]/g,n=>n.toUpperCase())}function Of(e=""){throw new Error(e)}function nk(e,n){const{attributes:t}=n,r=new Set(["id","className"]);for(const[i,a]of Object.entries(t))r.has(i)||e.attr(i,a)}function bn(e){return e!=null&&!Number.isNaN(e)}function eie(e){const n=new Map;return t=>{if(n.has(t))return n.get(t);const r=e(t);return n.set(t,r),r}}function tie(e,n){const{transform:t}=e.style,i=(a=>a==="none"||a===void 0)(t)?"":t;e.style.transform=`${i} ${n}`.trimStart()}function Pe(e,n){return FI(e,n)||{}}function FI(e,n){const t=Object.entries(e||{}).filter(([r])=>r.startsWith(n)).map(([r,i])=>[k$(r.replace(n,"").trim()),i]).filter(([r])=>!!r);return t.length===0?null:Object.fromEntries(t)}function nie(e,n){return Object.fromEntries(Object.entries(e).filter(([t])=>n.find(r=>t.startsWith(r))))}function Y0(e,...n){return Object.fromEntries(Object.entries(e).filter(([t])=>n.every(r=>!t.startsWith(r))))}function RT(e,n){if(e===void 0)return null;if(typeof e=="number")return e;const t=+e.replace("%","");return Number.isNaN(t)?null:t/100*n}function Sf(e){return typeof e=="object"&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)}function Is(e){return e===null||e===!1}function BI(e,n,t=5,r=0){if(!(r>=t)){for(const i of Object.keys(n)){const a=n[i];!Ls(a)||!Ls(e[i])?e[i]=a:BI(e[i],a,t,r+1)}return e}}function ts(e,n){return Object.entries(e).reduce((t,[r,i])=>(t[r]=n(i,r,e),t),{})}function Qu(e){return e.map((n,t)=>t)}function rie(e){return e[0]}function jI(e){return e[e.length-1]}function iie(e){return Array.from(new Set(e))}function zI(e,n){const t=[[],[]];return e.forEach(r=>{t[n(r)?0:1].push(r)}),t}function YI(e,n=e.length){if(n===1)return e.map(r=>[r]);const t=[];for(let r=0;r<e.length;r++){const i=e.slice(r+1);YI(i,n-1).forEach(o=>{t.push([e[r],...o])})}return t}function aie(e){if(e.length===1)return[e];const n=[];for(let t=1;t<=e.length;t++)n.push(...YI(e,t));return n}function Rl(e,n,t){const{encode:r}=t;if(e===null)return[n];const i=oie(e).map(o=>{var s;return[o,(s=It(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>bn(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(yn(n,a).values())}function GI(e){return Array.isArray(e)?uie(e):typeof e=="function"?lie(e):e==="series"?sie:e==="value"?cie:e==="sum"?fie:e==="maxIndex"?die:null}function WI(e,n){for(const t of e)t.sort(n)}function HI(e,n){return(n==null?void 0:n.domain)||Array.from(new Set(e))}function oie(e){return Array.isArray(e)?e:[e]}function sie(e,n,t){return $p(r=>t[r])}function lie(e){return(n,t,r)=>$p(i=>e(n[i]))}function uie(e){return(n,t,r)=>(i,a)=>e.reduce((o,s)=>o!==0?o:Zn(n[i][s],n[a][s]),0)}function cie(e,n,t){return $p(r=>n[r])}function fie(e,n,t){const r=Qu(e),i=Array.from(yn(r,o=>t[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((l,u)=>l+ +n[u])]));return $p(o=>a.get(t[o]))}function die(e,n,t){const r=Qu(e),i=Array.from(yn(r,o=>t[+o]).entries()),a=new Map(i.map(([o,s])=>[o,Qf(s,l=>n[l])]));return $p(o=>a.get(t[o]))}function $p(e){return(n,t)=>Zn(e(n),e(t))}const UI=(e={})=>{const{groupBy:n="x",orderBy:t=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=e;return(s,l)=>{var u;const{data:c,encode:f,style:d={}}=l,[h,p]=It(f,"y"),[v,g]=It(f,"y1"),[m]=o?kg(f,"series","color"):It(f,"color"),y=Rl(n,s,l),x=((u=GI(t))!==null&&u!==void 0?u:()=>null)(c,h,m);x&&WI(y,x);const _=new Array(s.length),w=new Array(s.length),k=new Array(s.length),O=[],S=[];for(const N of y){r&&N.reverse();const R=v?+v[N[0]]:0,C=[],L=[];for(const U of N){const q=k[U]=+h[U]-R;q<0?L.push(U):q>=0&&C.push(U)}const I=C.length>0?C:L,j=L.length>0?L:C;let F=C.length-1,z=0;for(;F>0&&h[I[F]]===0;)F--;for(;z<j.length-1&&h[j[z]]===0;)z++;O.push(I[F]),S.push(j[z]);let D=R;for(const U of L.reverse()){const q=k[U];D=_[U]=(w[U]=D)+q}let B=R;for(const U of C){const q=k[U];q>0?B=_[U]=(w[U]=B)+q:_[U]=w[U]=B}}const E=new Set(O),T=new Set(S),M=i==="y"?_:w,P=a==="y"?_:w;let A;return l.type==="point"?A={y0:Dh(h,p),y:un(M,p)}:A={y0:Dh(h,p),y:un(M,p),y1:un(P,g)},[s,ye({},l,{encode:Object.assign({},A),style:Object.assign({first:(N,R)=>E.has(R),last:(N,R)=>T.has(R)},d)})]}};UI.props={};function gd(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function hie(e){const n=e.getFullYear(),t=gd(e.getMonth()+1),r=gd(e.getDate()),i=`${n}-${t}-${r}`,a=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return a||o||s?`${i} ${gd(a)}:${gd(o)}:${gd(s)}`:i}const fy=(e={})=>{const{channel:n="x"}=e;return(t,r)=>{const{encode:i}=r,{tooltip:a}=r;if(Is(a))return[t,r];const{title:o}=a;if(o!==void 0)return[t,r];const s=Object.keys(i).filter(u=>u.startsWith(n)).filter(u=>!i[u].inferred).map(u=>It(i,u)).filter(([u])=>u).map(u=>u[0]);if(s.length===0)return[t,r];const l=[];for(const u of t)l[u]={value:s.map(c=>c[u]instanceof Date?hie(c[u]):c[u]).join(", ")};return[t,ye({},r,{tooltip:{title:l}})]}};fy.props={};const Ju=()=>(e,n)=>{const{encode:t}=n,{x:r}=t;return r!==void 0?[e,n]:[e,ye({},n,{encode:{x:Dh(ml(e,0))},scale:{x:{guide:null}}})]};Ju.props={};const dy=()=>(e,n)=>{const{encode:t}=n,{y:r}=t;return r!==void 0?[e,n]:[e,ye({},n,{encode:{y:Dh(ml(e,0))},scale:{y:{guide:null}}})]};dy.props={};const VI=()=>(e,n)=>{const{encode:t}=n,{size:r}=t;return r!==void 0?[e,n]:[e,ye({},n,{encode:{size:_g(ml(e,3))}})]};VI.props={};var pie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const XI=()=>(e,n)=>{const{encode:t}=n,{key:r}=t,i=pie(t,["key"]);if(r!==void 0)return[e,n];const a=Object.values(i).map(({value:s})=>s),o=e.map(s=>a.filter(Array.isArray).map(l=>l[s]).join("-"));return[e,ye({},n,{encode:{key:un(o)}})]};XI.props={};const rk=()=>(e,n)=>{const{encode:t}=n,{series:r,color:i}=t;if(r!==void 0||i===void 0)return[e,n];const[a,o]=It(t,"color");return[e,ye({},n,{encode:{series:un(a,o)}})]};rk.props={};const qI=()=>(e,n)=>{const{data:t}=n;return!Array.isArray(t)||t.some(Pp)?[e,n]:[e,ye({},n,{encode:{y:un(t)}})]};qI.props={};const KI=()=>(e,n)=>{const{data:t}=n;return!Array.isArray(t)||t.some(Pp)?[e,n]:[e,ye({},n,{encode:{x:un(t)}})]};KI.props={};const ZI=()=>(e,n)=>{const{encode:t}=n,{y1:r}=t;if(r)return[e,n];const[i]=It(t,"y");return[e,ye({},n,{encode:{y1:un([...i])}})]};ZI.props={};const QI=()=>(e,n)=>{const{encode:t}=n,{x1:r}=t;if(r)return[e,n];const[i]=It(t,"x");return[e,ye({},n,{encode:{x1:un([...i])}})]};QI.props={};const JI=()=>(e,n)=>{const{data:t}=n;if(Array.isArray(t)&&(t.every(Array.isArray)||!t.some(Pp))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[e,ye({},n,{encode:{x:un(r(t,0)),x1:un(r(t,1))}})]}return[e,n]};JI.props={};const e5=()=>(e,n)=>{const{data:t}=n;if(Array.isArray(t)&&(t.every(Array.isArray)||!t.some(Pp))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[e,ye({},n,{encode:{y:un(r(t,0)),y1:un(r(t,1))}})]}return[e,n]};e5.props={};const hy=e=>{const{channel:n}=e;return(t,r)=>{const{encode:i,tooltip:a}=r;if(Is(a))return[t,r];const{items:o=[]}=a;if(!o||o.length>0)return[t,r];const l=(Array.isArray(n)?n:[n]).flatMap(u=>Object.keys(i).filter(c=>c.startsWith(u)).map(c=>{const{field:f,value:d,inferred:h=!1,aggregate:p}=i[c];return h?null:p&&d?{channel:c}:f?{field:f}:d?{channel:c}:null}).filter(c=>c!==null));return[t,ye({},r,{tooltip:{items:l}})]}};hy.props={};const ik=()=>(e,n)=>[e,ye({scale:{x:{padding:0},y:{padding:0}}},n)];ik.props={};var NT=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const py=()=>(e,n)=>{const{data:t,style:r={}}=n,i=NT(n,["data","style"]),{x:a,y:o}=r,s=NT(r,["x","y"]);if(a==null||o==null)return[e,n];const l=a||0,u=o||0;return[[0],ye({},i,{data:[0],cartesian:!0,encode:{x:un([l]),y:un([u])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};py.props={};const t5=()=>(e,n)=>{const{style:t={}}=n;return[e,ye({},n,{style:Object.assign(Object.assign({},t),Object.fromEntries(Object.entries(t).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};t5.props={};const vy=()=>(e,n)=>{const{data:t}=n;if(!Array.isArray(t)||t.some(Pp))return[e,n];const r=Array.isArray(t[0])?t:[t],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[e,ye({},n,{encode:{x:un(i),y:un(a)}})]};vy.props={};const n5=()=>(e,n)=>{const{style:t={},encode:r}=n,{series:i}=r,{gradient:a}=t;return!a||i?[e,n]:[e,ye({},n,{encode:{series:_g(ml(e,void 0))}})]};n5.props={};var vie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const r5=(e={})=>{const{groupBy:n="x",reverse:t=!1,orderBy:r,padding:i}=e;return vie(e,["groupBy","reverse","orderBy","padding"]),(a,o)=>{const{data:s,encode:l,scale:u}=o,{series:c}=u,[f]=It(l,"y"),[d]=kg(l,"series","color"),h=HI(d,c),p=ye({},o,{scale:{series:{domain:h,paddingInner:i}}}),v=Rl(n,a,o),g=GI(r);if(!g)return[a,ye(p,{encode:{series:un(d)}})];const m=g(s,f,d);m&&WI(v,m);const y=new Array(a.length);for(const b of v){t&&b.reverse();for(let x=0;x<b.length;x++)y[b[x]]=h[x]}return[a,ye(p,{encode:{series:un(r?y:d)}})]}};r5.props={};const i5=e=>{const{groupBy:n=["x"],reducer:t=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=e;return(o,s)=>{const{encode:l}=s,c=(Array.isArray(n)?n:[n]).map(g=>[g,It(l,g)[0]]);if(c.length===0)return[o,s];let f=[o];for(const[,g]of c){const m=[];for(const y of f){const b=Array.from(yn(y,x=>g[x]).values());m.push(...b)}f=m}if(r){const[g]=It(l,r);g&&f.sort((m,y)=>t(m,g)-t(y,g)),i&&f.reverse()}const d=(a||3e3)/f.length,[h]=a?[ml(o,d)]:kg(l,"enterDuration",ml(o,d)),[p]=kg(l,"enterDelay",ml(o,0)),v=new Array(o.length);for(let g=0,m=0;g<f.length;g++){const y=f[g],b=Xt(y,x=>+h[x]);for(const x of y)v[x]=+p[x]+m;m+=b}return[o,ye({},s,{encode:{enterDuration:_g(h),enterDelay:_g(v)}})]}};i5.props={};var gie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function mie(e){return typeof e=="function"?e:{min:(t,r)=>sa(t,i=>r[+i]),max:(t,r)=>Xt(t,i=>r[+i]),first:(t,r)=>r[t[0]],last:(t,r)=>r[t[t.length-1]],mean:(t,r)=>jh(t,i=>r[+i]),median:(t,r)=>U_(t,i=>r[+i]),sum:(t,r)=>Na(t,i=>r[+i]),deviation:(t,r)=>iI(t,i=>r[+i])}[e]||Xt}const a5=(e={})=>{const{groupBy:n="x",basis:t="max"}=e;return(r,i)=>{const{encode:a,tooltip:o}=i,{x:s}=a,l=gie(a,["x"]),u=Object.entries(l).filter(([v])=>v.startsWith("y")).map(([v])=>[v,It(a,v)[0]]),[,c]=u.find(([v])=>v==="y"),f=u.map(([v])=>[v,new Array(r.length)]),d=Rl(n,r,i),h=mie(t);for(const v of d){const g=h(v,c);for(const m of v)for(let y=0;y<u.length;y++){const[,b]=u[y],[,x]=f[y];x[m]=+b[m]/g}}const p=Is(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,ye({},i,Object.assign({encode:Object.fromEntries(f.map(([v,g])=>[v,un(g,It(a,v)[1])]))},!p&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};a5.props={};function Tg(e,n,t){if(e===null)return[-.5,.5];const r=HI(e,n),a=new kf({domain:r,range:[0,1],padding:t}).getBandWidth();return[-a/2,a/2]}function Mg(e,n,t){return n*(1-e)+t*e}const o5=(e={})=>{const{padding:n=0,paddingX:t=n,paddingY:r=n,random:i=Math.random}=e;return(a,o)=>{const{encode:s,scale:l}=o,{x:u,y:c}=l,[f]=It(s,"x"),[d]=It(s,"y"),h=Tg(f,u,t),p=Tg(d,c,r),v=a.map(()=>Mg(i(),...p)),g=a.map(()=>Mg(i(),...h));return[a,ye({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:un(v),dx:un(g)}})]}};o5.props={};const s5=(e={})=>{const{padding:n=0,random:t=Math.random}=e;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[l]=It(a,"x"),u=Tg(l,s,n),c=r.map(()=>Mg(t(),...u));return[r,ye({scale:{x:{padding:.5}}},i,{encode:{dx:un(c)}})]}};s5.props={};const l5=(e={})=>{const{padding:n=0,random:t=Math.random}=e;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[l]=It(a,"y"),u=Tg(l,s,n),c=r.map(()=>Mg(t(),...u));return[r,ye({scale:{y:{padding:.5}}},i,{encode:{dy:un(c)}})]}};l5.props={};var yie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const u5=(e={})=>{const{groupBy:n="x"}=e;return(t,r)=>{const{encode:i}=r,{x:a}=i,o=yie(i,["x"]),s=Object.entries(o).filter(([d])=>d.startsWith("y")).map(([d])=>[d,It(i,d)[0]]),l=s.map(([d])=>[d,new Array(t.length)]),u=Rl(n,t,r),c=new Array(u.length);for(let d=0;d<u.length;d++){const p=u[d].flatMap(m=>s.map(([,y])=>+y[m])),[v,g]=As(p);c[d]=(v+g)/2}const f=Math.max(...c);for(let d=0;d<u.length;d++){const h=f-c[d],p=u[d];for(const v of p)for(let g=0;g<s.length;g++){const[,m]=s[g],[,y]=l[g];y[v]=+m[v]+h}}return[t,ye({},r,{encode:Object.fromEntries(l.map(([d,h])=>[d,un(h,It(i,d)[1])]))})]}};u5.props={};const c5=(e={})=>{const{groupBy:n="x"}=e;return(t,r)=>{const{encode:i}=r,[a]=It(i,"y"),[o,s]=It(i,"y1"),l=Rl(n,t,r),u=new Array(t.length);for(const c of l){const f=c.map(d=>+a[d]);for(let d=0;d<c.length;d++){const h=c[d],p=Math.max(...f.filter((v,g)=>g!==d));u[h]=+a[h]>p?p:a[h]}}return[t,ye({},r,{encode:{y1:un(u,s)}})]}};c5.props={};function LT(e,n){return[e[0]]}function bie(e,n){const t=e.length-1;return[e[t]]}function xie(e,n){const t=Qf(e,r=>n[r]);return[e[t]]}function wie(e,n){const t=Rp(e,r=>n[r]);return[e[t]]}function _ie(e){return typeof e=="function"?e:{first:LT,last:bie,max:xie,min:wie}[e]||LT}const gy=(e={})=>{const{groupBy:n="series",channel:t,selector:r}=e;return(i,a)=>{const{encode:o}=a,s=Rl(n,i,a),[l]=It(o,t),u=_ie(r);return[s.flatMap(c=>u(c,l)),a]}};gy.props={};var kie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const f5=(e={})=>{const{selector:n}=e,t=kie(e,["selector"]);return gy(Object.assign({channel:"x",selector:n},t))};f5.props={};var Oie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const d5=(e={})=>{const{selector:n}=e,t=Oie(e,["selector"]);return gy(Object.assign({channel:"y",selector:n},t))};d5.props={};var Sie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Nl(e){return n=>n===null?e:`${e} of ${n}`}function Eie(e){if(typeof e=="function")return[e,null];const t={mean:Tie,max:Aie,count:Cie,first:Nie,last:Lie,sum:Rie,min:Pie,median:Mie}[e];if(!t)throw new Error(`Unknown reducer: ${e}.`);return t()}function Tie(){const e=(t,r)=>jh(t,i=>+r[i]),n=Nl("mean");return[e,n]}function Mie(){const e=(t,r)=>U_(t,i=>+r[i]),n=Nl("median");return[e,n]}function Aie(){const e=(t,r)=>Xt(t,i=>+r[i]),n=Nl("max");return[e,n]}function Pie(){const e=(t,r)=>sa(t,i=>+r[i]),n=Nl("min");return[e,n]}function Cie(){const e=(t,r)=>t.length,n=Nl("count");return[e,n]}function Rie(){const e=(t,r)=>Na(t,i=>+r[i]),n=Nl("sum");return[e,n]}function Nie(){const e=(t,r)=>r[t[0]],n=Nl("first");return[e,n]}function Lie(){const e=(t,r)=>r[t[t.length-1]],n=Nl("last");return[e,n]}const ak=(e={})=>{const{groupBy:n}=e,t=Sie(e,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=n(r,i);if(!s)return[r,i];const l=(h,p)=>{if(h)return h;const{from:v}=p;if(!v)return h;const[,g]=It(o,v);return g},u=Object.entries(t).map(([h,p])=>{const[v,g]=Eie(p),[m,y]=It(o,h),b=l(y,p),x=s.map(_=>v(_,m??a));return[h,Object.assign(Object.assign({},ine(x,(g==null?void 0:g(b))||b)),{aggregate:!0})]}),c=Object.keys(o).map(h=>{const[p,v]=It(o,h),g=s.map(m=>p[m[0]]);return[h,un(g,v)]}),f=s.map(h=>a[h[0]]);return[Qu(s),ye({},i,{data:f,encode:Object.fromEntries([...c,...u])})]}};ak.props={};var $ie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Ip=(e={})=>{const{channels:n=["x","y"]}=e,t=$ie(e,["channels"]),r=(i,a)=>Rl(n,i,a);return ak(Object.assign(Object.assign({},t),{groupBy:r}))};Ip.props={};const h5=(e={})=>Ip(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));h5.props={};const p5=(e={})=>Ip(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));p5.props={};const v5=(e={})=>Ip(Object.assign(Object.assign({},e),{channels:["color"]}));v5.props={};function Iie(e,n,t){const{by:r=e,reducer:i="max"}=n,[a]=It(t,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>Xt(o,s=>+a[s]);if(i==="min")return o=>sa(o,s=>+a[s]);if(i==="sum")return o=>Na(o,s=>+a[s]);if(i==="median")return o=>U_(o,s=>+a[s]);if(i==="mean")return o=>jh(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function Die(e,n,t){if(!Array.isArray(t))return e;const r=new Set(t);return e.filter(i=>r.has(n[i]))}const my=(e={})=>(n,t)=>{const{reverse:r,slice:i,channel:a,by:o,ordinal:s=!0,reducer:l}=e,{encode:u,scale:c={}}=t,f=c[a].domain,[d]=It(u,o??a),[h]=It(u,a),p=Iie(a,{by:o,reducer:l},u),v=Die(n,h,f),g=mne(v,p,x=>h[x]),m=s?n:oo(n,x=>d[x]);r&&(!s&&m.reverse(),g.reverse());const y=typeof i=="number"?[0,i]:i,b=i?g.slice(...y):g;return[m,ye(t,{scale:{[a]:{domain:b}}})]};my.props={};const g5=(e={})=>my(Object.assign(Object.assign({},e),{channel:"x"}));g5.props={};const m5=(e={})=>my(Object.assign(Object.assign({},e),{channel:"color"}));m5.props={};const y5=(e={})=>my(Object.assign(Object.assign({},e),{channel:"y"}));y5.props={};function Fie(e,n){return typeof n=="string"?e.map(t=>t[n]):e.map(n)}function Bie(e,n){if(typeof e=="function")return t=>e(t,n);if(e==="sum")return t=>Na(t,r=>+n[r]);throw new Error(`Unknown reducer: ${e}`)}const b5=(e={})=>{const{field:n,channel:t="y",reducer:r="sum"}=e;return(i,a)=>{const{data:o,encode:s}=a,[l]=It(s,"x"),u=n?Fie(o,n):It(s,t)[0],c=Bie(r,u),f=W_(i,c,d=>l[d]).map(d=>d[1]);return[i,ye({},a,{scale:{x:{flex:f}}})]}};b5.props={};function Qn([e,n],[t,r]){return[e-t,n-r]}function fv([e,n],[t,r]){return[e+t,n+r]}function Yn([e,n],[t,r]){return Math.sqrt(Math.pow(e-t,2)+Math.pow(n-r,2))}function Ia([e,n]){return Math.atan2(n,e)}function Ef([e,n]){return Ia([e,n])+Math.PI/2}function x5(e,n){const t=Ia(e),r=Ia(n);return t<r?r-t:Math.PI*2-(t-r)}function ok(e){let n=1/0,t=-1/0,r=1/0,i=-1/0;for(const[s,l]of e)n=Math.min(s,n),t=Math.max(s,t),r=Math.min(l,r),i=Math.max(l,i);const a=t-n,o=i-r;return[n,r,a,o]}function w5([e,n],[t,r]){return[(e+t)/2,(n+r)/2]}function jie(e){const{padding:n=0,direction:t="col"}=e;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:l}=a,u=l/s;let c=Math.ceil(Math.sqrt(i/u)),f=s/c,d=Math.ceil(i/c),h=d*f;for(;h>l;)c=c+1,f=s/c,d=Math.ceil(i/c),h=d*f;const p=l-d*f,v=d<=1?0:p/(d-1),[g,m]=d<=1?[(s-o*f)/(o-1),(l-f)/2]:[0,0];return r.map((y,b)=>{const[x,_,w,k]=ok(y),O=t==="col"?b%c:Math.floor(b/d),S=t==="col"?Math.floor(b/c):b%d,E=O*f,T=(d-S-1)*f+p,M=(f-n)/w,P=(f-n)/k,A=E-x+g*O+1/2*n,N=T-_-v*S-m+1/2*n;return`translate(${A}, ${N}) scale(${M}, ${P})`})}}const _5=e=>(n,t)=>[n,ye({},t,{modifier:jie(e),axis:!1})];_5.props={};var zie=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const $T="thresholds";function Yie(e){const[n,t]=As(e);return Math.min(200,Ane(e,n,t))}const sk=(e={})=>{const{groupChannels:n=["color"],binChannels:t=["x","y"]}=e,r=zie(e,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:l}=s,u=t.map(p=>{const[v]=It(l,p);return v}),c=Pe(r,$T),f=o.filter(p=>u.every(v=>bn(v[p]))),d=[...n.map(p=>{const[v]=It(l,p);return v}).filter(bn).map(p=>v=>p[v]),...t.map((p,v)=>{const g=u[v],m=c[p]||Yie(g),y=Ene().thresholds(m).value(x=>+g[x])(f),b=new Map(y.flatMap(x=>{const{x0:_,x1:w}=x,k=`${_},${w}`;return x.map(O=>[O,k])}));return i[p]=b,x=>b.get(x)})],h=p=>d.map(v=>v(p)).join("-");return Array.from(yn(f,h).values())};return ak(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith($T)))),Object.fromEntries(t.flatMap(o=>{const s=([u])=>+i[o].get(u).split(",")[0],l=([u])=>+i[o].get(u).split(",")[1];return l.from=o,[[o,s],[`${o}1`,l]]}))),{groupBy:a}))};sk.props={};const k5=(e={})=>{const{thresholds:n}=e;return sk(Object.assign(Object.assign({},e),{thresholdsX:n,groupChannels:["color"],binChannels:["x"]}))};k5.props={};function Gie(e,n,t,r){const i=e.length;if(r>=i||r===0)return e;const a=h=>n[e[h]]*1,o=h=>t[e[h]]*1,s=[],l=(i-2)/(r-2);let u=0,c,f,d;s.push(u);for(let h=0;h<r-2;h++){let p=0,v=0,g=Math.floor((h+1)*l)+1,m=Math.floor((h+2)*l)+1;m=Math.min(m,i);const y=m-g;for(;g<m;g++)p+=a(g),v+=o(g);p/=y,v/=y;let b=Math.floor((h+0)*l)+1;const x=Math.floor((h+1)*l)+1,_=[a(u),o(u)];for(c=f=-1;b<x;b++)f=Math.abs((_[0]-p)*(a(b)-_[1])-(_[0]-o(b))*(v-_[0]))*.5,f>c&&(c=f,d=b);s.push(d),u=d}return s.push(i-1),s.map(h=>e[h])}function Wie(e){if(typeof e=="function")return e;if(e==="lttb")return Gie;const n={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[Rp(r,o=>a[o])]],max:(r,i,a)=>[r[Qf(r,o=>a[o])]],median:(r,i,a)=>[r[Pne(r,o=>a[o])]]},t=n[e]||n.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return Hie(r,s).flatMap(u=>t(u,i,a))}}function Hie(e,n){const t=e.length,r=[];let i=0;for(;i<t;)r.push(e.slice(i,i+=n));return r}const O5=(e={})=>{const{strategy:n="median",thresholds:t=2e3,groupBy:r=["series","color"]}=e,i=Wie(n);return(a,o)=>{const{encode:s}=o,l=Rl(r,a,o),[u]=It(s,"x"),[c]=It(s,"y");return[l.flatMap(f=>i(f,u,c,t)),o]}};O5.props={};function Uie(e){return typeof e=="object"?[e.value,e.ordinal]:[e,!0]}function Vie(e){var n;const{encode:t}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),i=(n=t==null?void 0:t.color)===null||n===void 0?void 0:n.field;if(!t||!i)return r;let a;for(const[o,s]of Object.entries(t))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),a)}):r}const S5=(e={})=>(n,t)=>{const{encode:r,data:i}=t,a=Object.entries(e).map(([c,f])=>{const[d]=It(r,c);if(!d)return null;const[h,p=!0]=Uie(f);if(typeof h=="function")return v=>h(d[v]);if(p){const v=Array.isArray(h)?h:[h];return v.length===0?null:g=>v.includes(d[g])}else{const[v,g]=h;return m=>d[m]>=v&&d[m]<=g}}).filter(bn),o=c=>a.every(f=>f(c)),s=n.filter(o),l=s.map((c,f)=>f);if(a.length===0){const c=Vie(t);return[n,c]}const u=Object.entries(r).map(([c,f])=>[c,Object.assign(Object.assign({},f),{value:l.map(d=>f.value[s[d]]).filter(d=>d!==void 0)})]);return[l,ye({},t,{encode:Object.fromEntries(u),data:s.map(c=>i[c])})]};S5.props={};function En(e){return function(){return e}}const IT=Math.abs,ti=Math.atan2,Ul=Math.cos,Xie=Math.max,Z1=Math.min,Oo=Math.sin,Rc=Math.sqrt,ni=1e-12,Wh=Math.PI,Ag=Wh/2,qie=2*Wh;function Kie(e){return e>1?0:e<-1?Wh:Math.acos(e)}function DT(e){return e>=1?Ag:e<=-1?-Ag:Math.asin(e)}const uw=Math.PI,cw=2*uw,ou=1e-6,Zie=cw-ou;function E5(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function Qie(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return E5;const t=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}let lk=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?E5:Qie(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,r,i){this._append`Q${+n},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,t,r,i,a,o){this._append`C${+n},${+t},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,t,r,i,a){if(n=+n,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-n,u=i-t,c=o-n,f=s-t,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=n},${this._y1=t}`;else if(d>ou)if(!(Math.abs(f*l-u*c)>ou)||!a)this._append`L${this._x1=n},${this._y1=t}`;else{let h=r-o,p=i-s,v=l*l+u*u,g=h*h+p*p,m=Math.sqrt(v),y=Math.sqrt(d),b=a*Math.tan((uw-Math.acos((v+d-g)/(2*m*y)))/2),x=b/y,_=b/m;Math.abs(x-1)>ou&&this._append`L${n+x*c},${t+x*f}`,this._append`A${a},${a},0,0,${+(f*h>c*p)},${this._x1=n+_*l},${this._y1=t+_*u}`}}arc(n,t,r,i,a,o){if(n=+n,t=+t,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,c=t+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ou||Math.abs(this._y1-c)>ou)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%cw+cw),d>Zie?this._append`A${r},${r},0,1,${f},${n-s},${t-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>ou&&this._append`A${r},${r},0,${+(d>=uw)},${f},${this._x1=n+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(n,t,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Fa(){return new lk}Fa.prototype=lk.prototype;function uk(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(t==null)n=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);n=r}return e},()=>new lk(n)}function Jie(e){return e.innerRadius}function eae(e){return e.outerRadius}function tae(e){return e.startAngle}function nae(e){return e.endAngle}function rae(e){return e&&e.padAngle}function iae(e,n,t,r,i,a,o,s){var l=t-e,u=r-n,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<ni))return d=(c*(n-a)-f*(e-i))/d,[e+d*l,n+d*u]}function dv(e,n,t,r,i,a,o){var s=e-t,l=n-r,u=(o?a:-a)/Rc(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=n+f,p=t+c,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,_=i-a,w=d*v-p*h,k=(b<0?-1:1)*Rc(Xie(0,_*_*x-w*w)),O=(w*b-y*k)/x,S=(-w*y-b*k)/x,E=(w*b+y*k)/x,T=(-w*y+b*k)/x,M=O-g,P=S-m,A=E-g,N=T-m;return M*M+P*P>A*A+N*N&&(O=E,S=T),{cx:O,cy:S,x01:-c,y01:-f,x11:O*(i/_-1),y11:S*(i/_-1)}}function ck(){var e=Jie,n=eae,t=En(0),r=null,i=tae,a=nae,o=rae,s=null,l=uk(u);function u(){var c,f,d=+e.apply(this,arguments),h=+n.apply(this,arguments),p=i.apply(this,arguments)-Ag,v=a.apply(this,arguments)-Ag,g=IT(v-p),m=v>p;if(s||(s=c=l()),h<d&&(f=h,h=d,d=f),!(h>ni))s.moveTo(0,0);else if(g>qie-ni)s.moveTo(h*Ul(p),h*Oo(p)),s.arc(0,0,h,p,v,!m),d>ni&&(s.moveTo(d*Ul(v),d*Oo(v)),s.arc(0,0,d,v,p,m));else{var y=p,b=v,x=p,_=v,w=g,k=g,O=o.apply(this,arguments)/2,S=O>ni&&(r?+r.apply(this,arguments):Rc(d*d+h*h)),E=Z1(IT(h-d)/2,+t.apply(this,arguments)),T=E,M=E,P,A;if(S>ni){var N=DT(S/d*Oo(O)),R=DT(S/h*Oo(O));(w-=N*2)>ni?(N*=m?1:-1,x+=N,_-=N):(w=0,x=_=(p+v)/2),(k-=R*2)>ni?(R*=m?1:-1,y+=R,b-=R):(k=0,y=b=(p+v)/2)}var C=h*Ul(y),L=h*Oo(y),I=d*Ul(_),j=d*Oo(_);if(E>ni){var F=h*Ul(b),z=h*Oo(b),D=d*Ul(x),B=d*Oo(x),U;if(g<Wh)if(U=iae(C,L,D,B,F,z,I,j)){var q=C-U[0],$=L-U[1],W=F-U[0],Q=z-U[1],oe=1/Oo(Kie((q*W+$*Q)/(Rc(q*q+$*$)*Rc(W*W+Q*Q)))/2),ee=Rc(U[0]*U[0]+U[1]*U[1]);T=Z1(E,(d-ee)/(oe-1)),M=Z1(E,(h-ee)/(oe+1))}else T=M=0}k>ni?M>ni?(P=dv(D,B,C,L,h,M,m),A=dv(F,z,I,j,h,M,m),s.moveTo(P.cx+P.x01,P.cy+P.y01),M<E?s.arc(P.cx,P.cy,M,ti(P.y01,P.x01),ti(A.y01,A.x01),!m):(s.arc(P.cx,P.cy,M,ti(P.y01,P.x01),ti(P.y11,P.x11),!m),s.arc(0,0,h,ti(P.cy+P.y11,P.cx+P.x11),ti(A.cy+A.y11,A.cx+A.x11),!m),s.arc(A.cx,A.cy,M,ti(A.y11,A.x11),ti(A.y01,A.x01),!m))):(s.moveTo(C,L),s.arc(0,0,h,y,b,!m)):s.moveTo(C,L),!(d>ni)||!(w>ni)?s.lineTo(I,j):T>ni?(P=dv(I,j,F,z,d,-T,m),A=dv(C,L,D,B,d,-T,m),s.lineTo(P.cx+P.x01,P.cy+P.y01),T<E?s.arc(P.cx,P.cy,T,ti(P.y01,P.x01),ti(A.y01,A.x01),!m):(s.arc(P.cx,P.cy,T,ti(P.y01,P.x01),ti(P.y11,P.x11),!m),s.arc(0,0,d,ti(P.cy+P.y11,P.cx+P.x11),ti(A.cy+A.y11,A.cx+A.x11),m),s.arc(A.cx,A.cy,T,ti(A.y11,A.x11),ti(A.y01,A.x01),!m))):s.arc(0,0,d,_,x,m)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Wh/2;return[Ul(f)*c,Oo(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:En(+c),u):e},u.outerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:En(+c),u):n},u.cornerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),u):t},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:En(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:En(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:En(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:En(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function T5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M5(e){this._context=e}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function Dp(e){return new M5(e)}function A5(e){return e[0]}function P5(e){return e[1]}function ec(e,n){var t=En(!0),r=null,i=Dp,a=null,o=uk(s);e=typeof e=="function"?e:e===void 0?A5:En(e),n=typeof n=="function"?n:n===void 0?P5:En(n);function s(l){var u,c=(l=T5(l)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&t(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,u,l),+n(f,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:En(+l),s):e},s.y=function(l){return arguments.length?(n=typeof l=="function"?l:En(+l),s):n},s.defined=function(l){return arguments.length?(t=typeof l=="function"?l:En(!!l),s):t},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function fw(e,n,t){var r=null,i=En(!0),a=null,o=Dp,s=null,l=uk(u);e=typeof e=="function"?e:e===void 0?A5:En(+e),n=typeof n=="function"?n:En(n===void 0?0:+n),t=typeof t=="function"?t:t===void 0?P5:En(+t);function u(f){var d,h,p,v=(f=T5(f)).length,g,m=!1,y,b=new Array(v),x=new Array(v);for(a==null&&(s=o(y=l())),d=0;d<=v;++d){if(!(d<v&&i(g=f[d],d,f))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(b[p],x[p]);s.lineEnd(),s.areaEnd()}m&&(b[d]=+e(g,d,f),x[d]=+n(g,d,f),s.point(r?+r(g,d,f):b[d],t?+t(g,d,f):x[d]))}if(y)return s=null,y+""||null}function c(){return ec().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:En(+f),u):r},u.y=function(f){return arguments.length?(n=typeof f=="function"?f:En(+f),t=null,u):n},u.y0=function(f){return arguments.length?(n=typeof f=="function"?f:En(+f),u):n},u.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:En(+f),u):t},u.lineX0=u.lineY0=function(){return c().x(e).y(n)},u.lineY1=function(){return c().x(e).y(t)},u.lineX1=function(){return c().x(r).y(n)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:En(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}var C5=fk(Dp);function R5(e){this._curve=e}R5.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,n){this._curve.point(n*Math.sin(e),n*-Math.cos(e))}};function fk(e){function n(t){return new R5(e(t))}return n._curve=e,n}function Nd(e){var n=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(t){return arguments.length?n(fk(t)):n()._curve},e}function aae(){return Nd(ec().curve(C5))}function oae(){var e=fw().curve(C5),n=e.curve,t=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Nd(t())},delete e.lineX0,e.lineEndAngle=function(){return Nd(r())},delete e.lineX1,e.lineInnerRadius=function(){return Nd(i())},delete e.lineY0,e.lineOuterRadius=function(){return Nd(a())},delete e.lineY1,e.curve=function(o){return arguments.length?n(fk(o)):n()._curve},e}function Tf(){}function dw(e,n,t){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-n),e._y2+e._k*(e._y1-t),e._x2,e._y2)}function dk(e,n){this._context=e,this._k=(1-n)/6}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dw(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2,this._x1=e,this._y1=n;break;case 2:this._point=3;default:dw(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function e(n){function t(r){return new dk(r,n)}return t.tension=function(r){return e(+r)},t})(0);function hk(e,n){this._context=e,this._k=(1-n)/6}hk.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x3=e,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3,this._x5=e,this._y5=n;break;default:dw(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function e(n){function t(r){return new hk(r,n)}return t.tension=function(r){return e(+r)},t})(0);function N5(e,n,t){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>ni){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ni){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-n*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-t*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function L5(e,n){this._context=e,this._alpha=n}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){if(e=+e,n=+n,this._point){var t=this._x2-e,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;default:N5(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function e(n){function t(r){return n?new L5(r,n):new dk(r,0)}return t.alpha=function(r){return e(+r)},t})(.5);function $5(e,n){this._context=e,this._alpha=n}$5.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,n){if(e=+e,n=+n,this._point){var t=this._x2-e,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3,this._x5=e,this._y5=n;break;default:N5(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const I5=function e(n){function t(r){return n?new $5(r,n):new hk(r,0)}return t.alpha=function(r){return e(+r)},t}(.5);function D5(e){this._context=e}D5.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function pk(e){return new D5(e)}function FT(e){return e<0?-1:1}function BT(e,n,t){var r=e._x1-e._x0,i=n-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(t-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(FT(a)+FT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function jT(e,n){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-n)/2:n}function Q1(e,n,t){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*n,a-s,o-s*t,a,o)}function Pg(e){this._context=e}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q1(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var t=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,Q1(this,jT(this,t=BT(this,e,n)),t);break;default:Q1(this,this._t0,t=BT(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=t}}};function F5(e){this._context=new B5(e)}(F5.prototype=Object.create(Pg.prototype)).point=function(e,n){Pg.prototype.point.call(this,n,e)};function B5(e){this._context=e}B5.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,t,r,i,a){this._context.bezierCurveTo(n,e,r,t,a,i)}};function j5(e){return new Pg(e)}function z5(e){return new F5(e)}function yy(e,n){this._context=e,this._t=n}yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,n)}break}}this._x=e,this._y=n}};function Y5(e){return new yy(e,.5)}function G5(e){return new yy(e,0)}function W5(e){return new yy(e,1)}function _n(e){const{transformations:n}=e.getOptions();return n.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function nn(e){const{transformations:n}=e.getOptions();return n.some(([t])=>t==="polar")}function by(e){const{transformations:n}=e.getOptions();return n.some(([t])=>t==="reflect")&&n.some(([t])=>t.startsWith("transpose"))}function H5(e){const{transformations:n}=e.getOptions();return n.some(([t])=>t==="helix")}function xy(e){const{transformations:n}=e.getOptions();return n.some(([t])=>t==="parallel")}function U5(e){const{transformations:n}=e.getOptions();return n.some(([t])=>t==="fisheye")}function sae(e){return xy(e)&&nn(e)}function Jf(e){return H5(e)||nn(e)}function lae(e){return nn(e)&&_n(e)}function uae(e){if(Jf(e)){const[n,t]=e.getSize(),r=e.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(n,t)/2*r[4]}return 0}function wy(e){const{transformations:n}=e.getOptions(),[,,,t,r]=n.find(i=>i[0]==="polar");return[+t,+r]}function vk(e,n=!0){const{transformations:t}=e.getOptions(),[,r,i]=t.find(a=>a[0]==="polar");return n?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function cae(e,n){const{transformations:t}=e.getOptions(),[,...r]=t.find(i=>i[0]===n);return r}function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wl(e)}function fae(e,n){if(wl(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function V5(e){var n=fae(e,"string");return wl(n)=="symbol"?n:n+""}function we(e,n,t){return(n=V5(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function zT(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?zT(Object(t),!0).forEach(function(r){we(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zT(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function se(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V5(r.key),r)}}function le(e,n,t){return n&&YT(e.prototype,n),t&&YT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hw(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function dae(e){if(Array.isArray(e))return hw(e)}function hae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gk(e,n){if(e){if(typeof e=="string")return hw(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hw(e,n):void 0}}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ke(e){return dae(e)||hae(e)||gk(e)||pae()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!e})()}function vae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gae(e,n){if(n&&(wl(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(e)}function Ge(e,n,t){return n=Mf(n),gae(e,X5()?Reflect.construct(n,t||[],Mf(e).constructor):n.apply(e,t))}function pw(e,n){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},pw(e,n)}function We(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&pw(e,n)}function mae(e){if(Array.isArray(e))return e}function yae(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(e,n){return mae(e)||yae(e,n)||gk(e,n)||bae()}var J1={exports:{}},GT;function xae(){return GT||(GT=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=t?t+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)n.call(c,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=t?t+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(u){var c=t?t+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,h,p){var v=t?t+u:u;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,h),!0;case 6:return g.fn.call(g.context,c,f,d,h,p),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var x=g.length,_;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),m){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,f);break;case 4:g[b].fn.call(g[b].context,c,f,d);break;default:if(!y)for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];g[b].fn.apply(g[b].context,y)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var h=t?t+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==c||d&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,e.exports=s}(J1)),J1.exports}var wae=xae();const _y=K_(wae);function _ae(e,n){for(;!{}.hasOwnProperty.call(e,n)&&(e=Mf(e))!==null;);return e}function vw(){return vw=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=_ae(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},vw.apply(null,arguments)}function Cg(e,n,t,r){var i=vw(Mf(e.prototype),n,t);return typeof i=="function"?function(a){return i.apply(t,a)}:i}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Ps(e,n,t,r){var i=e-t,a=n-r;return Math.sqrt(i*i+a*a)}function q5(e,n){var t=Math.min.apply(Math,Ke(e)),r=Math.min.apply(Math,Ke(n)),i=Math.max.apply(Math,Ke(e)),a=Math.max.apply(Math,Ke(n));return{x:t,y:r,width:i-t,height:a-r}}function kae(e,n,t){return Math.atan(-n/e*Math.tan(t))}function Oae(e,n,t){return Math.atan(n/(e*Math.tan(t)))}function Sae(e,n,t,r,i,a){return t*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+e}function Eae(e,n,t,r,i,a){return t*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+n}function Tae(e,n,t,r,i,a,o){for(var s=kae(t,r,i),l=1/0,u=-1/0,c=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;a<o?a<d&&d<o&&c.push(d):o<d&&d<a&&c.push(d)}for(var h=0;h<c.length;h++){var p=Sae(e,n,t,r,i,c[h]);p<l&&(l=p),p>u&&(u=p)}for(var v=Oae(t,r,i),g=1/0,m=-1/0,y=[a,o],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var x=v+b;a<o?a<x&&x<o&&y.push(x):o<x&&x<a&&y.push(x)}for(var _=0;_<y.length;_++){var w=Eae(e,n,t,r,i,y[_]);w<g&&(g=w),w>m&&(m=w)}return{x:l,y:g,width:u-l,height:m-g}}var Mae=1e-4;function K5(e,n,t,r,i,a){var o=-1,s=1/0,l=[t,r],u=20;a&&a>200&&(u=a/10);for(var c=1/u,f=c/10,d=0;d<=u;d++){var h=d*c,p=[i.apply(void 0,Ke(e.concat([h]))),i.apply(void 0,Ke(n.concat([h])))],v=Ps(l[0],l[1],p[0],p[1]);v<s&&(o=h,s=v)}if(o===0)return{x:e[0],y:n[0]};if(o===1){var g=e.length;return{x:e[g-1],y:n[g-1]}}s=1/0;for(var m=0;m<32&&!(f<Mae);m++){var y=o-f,b=o+f,x=[i.apply(void 0,Ke(e.concat([y]))),i.apply(void 0,Ke(n.concat([y])))],_=Ps(l[0],l[1],x[0],x[1]);if(y>=0&&_<s)o=y,s=_;else{var w=[i.apply(void 0,Ke(e.concat([b]))),i.apply(void 0,Ke(n.concat([b])))],k=Ps(l[0],l[1],w[0],w[1]);b<=1&&k<s?(o=b,s=k):f*=.5}}return{x:i.apply(void 0,Ke(e.concat([o]))),y:i.apply(void 0,Ke(n.concat([o])))}}function Z5(e,n,t,r){return Ps(e,n,t,r)}function Q5(e,n,t,r,i){return{x:(1-i)*e+i*t,y:(1-i)*n+i*r}}function Aae(e,n,t,r,i,a){var o=[t-e,r-n];if(Rte(o,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-n)*(a-n));var s=[-o[1],o[0]];Pte(s,s);var l=[i-e,a-n];return Math.abs(Cte(l,s))}function gw(e,n,t,r,i){var a=1-i;return a*a*a*e+3*n*i*a*a+3*t*i*i*a+r*i*i*i}function WT(e,n,t,r){var i=-3*e+9*n-9*t+3*r,a=6*e-12*n+6*t,o=3*n-3*e,s=[],l,u,c;if(Uo(i,0))Uo(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var f=a*a-4*i*o;Uo(f,0)?s.push(-a/(2*i)):f>0&&(c=Math.sqrt(f),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function Pae(e,n,t,r,i,a,o,s){for(var l=[e,o],u=[n,s],c=WT(e,t,i,o),f=WT(n,r,a,s),d=0;d<c.length;d++)l.push(gw(e,t,i,o,c[d]));for(var h=0;h<f.length;h++)u.push(gw(n,r,a,s,f[h]));return q5(l,u)}function Cae(e,n,t,r,i,a,o,s,l,u,c){return K5([e,t,i,o],[n,r,a,s],l,u,gw,c)}function HT(e,n,t,r,i,a,o,s,l,u,c){var f=Cae(e,n,t,r,i,a,o,s,l,u,c);return Ps(f.x,f.y,l,u)}function Rae(e){if(e.length<2)return 0;for(var n=0,t=0;t<e.length-1;t++){var r=e[t],i=e[t+1];n+=Ps(r[0],r[1],i[0],i[1])}return n}function Nae(e){return Rae(e)}function mw(e,n,t,r){var i=1-r;return i*i*e+2*r*i*n+r*r*t}function UT(e,n,t){var r=e+t-2*n;if(Uo(r,0))return[.5];var i=(e-n)/r;return i<=1&&i>=0?[i]:[]}function Lae(e,n,t,r,i,a){var o=UT(e,t,i)[0],s=UT(n,r,a)[0],l=[e,i],u=[n,a];return o!==void 0&&l.push(mw(e,t,i,o)),s!==void 0&&u.push(mw(n,r,a,s)),q5(l,u)}function $ae(e,n,t,r,i,a,o,s){return K5([e,t,i],[n,r,a],o,s,mw)}function Iae(e,n,t,r,i,a,o,s){var l=$ae(e,n,t,r,i,a,o,s);return Ps(l.x,l.y,o,s)}function Qr(){Qr=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(R,C,L){R[C]=L.value},a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(R,C,L){return Object.defineProperty(R,C,{value:L,enumerable:!0,configurable:!0,writable:!0}),R[C]}try{u({},"")}catch{u=function(L,I,j){return L[I]=j}}function c(R,C,L,I){var j=C&&C.prototype instanceof m?C:m,F=Object.create(j.prototype),z=new A(I||[]);return i(F,"_invoke",{value:E(R,L,z)}),F}function f(R,C,L){try{return{type:"normal",arg:R.call(C,L)}}catch(I){return{type:"throw",arg:I}}}n.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var x={};u(x,o,function(){return this});var _=Object.getPrototypeOf,w=_&&_(_(N([])));w&&w!==t&&r.call(w,o)&&(x=w);var k=b.prototype=m.prototype=Object.create(x);function O(R){["next","throw","return"].forEach(function(C){u(R,C,function(L){return this._invoke(C,L)})})}function S(R,C){function L(j,F,z,D){var B=f(R[j],R,F);if(B.type!=="throw"){var U=B.arg,q=U.value;return q&&wl(q)=="object"&&r.call(q,"__await")?C.resolve(q.__await).then(function($){L("next",$,z,D)},function($){L("throw",$,z,D)}):C.resolve(q).then(function($){U.value=$,z(U)},function($){return L("throw",$,z,D)})}D(B.arg)}var I;i(this,"_invoke",{value:function(F,z){function D(){return new C(function(B,U){L(F,z,B,U)})}return I=I?I.then(D,D):D()}})}function E(R,C,L){var I=d;return function(j,F){if(I===p)throw Error("Generator is already running");if(I===v){if(j==="throw")throw F;return{value:e,done:!0}}for(L.method=j,L.arg=F;;){var z=L.delegate;if(z){var D=T(z,L);if(D){if(D===g)continue;return D}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(I===d)throw I=v,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);I=p;var B=f(R,C,L);if(B.type==="normal"){if(I=L.done?v:h,B.arg===g)continue;return{value:B.arg,done:L.done}}B.type==="throw"&&(I=v,L.method="throw",L.arg=B.arg)}}}function T(R,C){var L=C.method,I=R.iterator[L];if(I===e)return C.delegate=null,L==="throw"&&R.iterator.return&&(C.method="return",C.arg=e,T(R,C),C.method==="throw")||L!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+L+"' method")),g;var j=f(I,R.iterator,C.arg);if(j.type==="throw")return C.method="throw",C.arg=j.arg,C.delegate=null,g;var F=j.arg;return F?F.done?(C[R.resultName]=F.value,C.next=R.nextLoc,C.method!=="return"&&(C.method="next",C.arg=e),C.delegate=null,g):F:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,g)}function M(R){var C={tryLoc:R[0]};1 in R&&(C.catchLoc=R[1]),2 in R&&(C.finallyLoc=R[2],C.afterLoc=R[3]),this.tryEntries.push(C)}function P(R){var C=R.completion||{};C.type="normal",delete C.arg,R.completion=C}function A(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(M,this),this.reset(!0)}function N(R){if(R||R===""){var C=R[o];if(C)return C.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var L=-1,I=function j(){for(;++L<R.length;)if(r.call(R,L))return j.value=R[L],j.done=!1,j;return j.value=e,j.done=!0,j};return I.next=I}}throw new TypeError(wl(R)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),n.isGeneratorFunction=function(R){var C=typeof R=="function"&&R.constructor;return!!C&&(C===y||(C.displayName||C.name)==="GeneratorFunction")},n.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,b):(R.__proto__=b,u(R,l,"GeneratorFunction")),R.prototype=Object.create(k),R},n.awrap=function(R){return{__await:R}},O(S.prototype),u(S.prototype,s,function(){return this}),n.AsyncIterator=S,n.async=function(R,C,L,I,j){j===void 0&&(j=Promise);var F=new S(c(R,C,L,I),j);return n.isGeneratorFunction(C)?F:F.next().then(function(z){return z.done?z.value:F.next()})},O(k),u(k,l,"Generator"),u(k,o,function(){return this}),u(k,"toString",function(){return"[object Generator]"}),n.keys=function(R){var C=Object(R),L=[];for(var I in C)L.push(I);return L.reverse(),function j(){for(;L.length;){var F=L.pop();if(F in C)return j.value=F,j.done=!1,j}return j.done=!0,j}},n.values=N,A.prototype={constructor:A,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!C)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=e)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var L=this;function I(U,q){return z.type="throw",z.arg=C,L.next=U,q&&(L.method="next",L.arg=e),!!q}for(var j=this.tryEntries.length-1;j>=0;--j){var F=this.tryEntries[j],z=F.completion;if(F.tryLoc==="root")return I("end");if(F.tryLoc<=this.prev){var D=r.call(F,"catchLoc"),B=r.call(F,"finallyLoc");if(D&&B){if(this.prev<F.catchLoc)return I(F.catchLoc,!0);if(this.prev<F.finallyLoc)return I(F.finallyLoc)}else if(D){if(this.prev<F.catchLoc)return I(F.catchLoc,!0)}else{if(!B)throw Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return I(F.finallyLoc)}}}},abrupt:function(C,L){for(var I=this.tryEntries.length-1;I>=0;--I){var j=this.tryEntries[I];if(j.tryLoc<=this.prev&&r.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var F=j;break}}F&&(C==="break"||C==="continue")&&F.tryLoc<=L&&L<=F.finallyLoc&&(F=null);var z=F?F.completion:{};return z.type=C,z.arg=L,F?(this.method="next",this.next=F.finallyLoc,g):this.complete(z)},complete:function(C,L){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&L&&(this.next=L),g},finish:function(C){for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L];if(I.finallyLoc===C)return this.complete(I.completion,I.afterLoc),P(I),g}},catch:function(C){for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L];if(I.tryLoc===C){var j=I.completion;if(j.type==="throw"){var F=j.arg;P(I)}return F}}throw Error("illegal catch attempt")},delegateYield:function(C,L,I){return this.delegate={iterator:N(C),resultName:L,nextLoc:I},this.method==="next"&&(this.arg=e),g}},n}function VT(e,n,t,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}function _l(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function o(l){VT(a,r,i,o,s,"next",l)}function s(l){VT(a,r,i,o,s,"throw",l)}o(void 0)})}}function Ji(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=gk(e))||n){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{o||t.return==null||t.return()}finally{if(s)throw a}}}}function Dae(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function Vi(e,n){if(e==null)return{};var t,r,i=Dae(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Fae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J5={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(Fae,function(){function t(_,w,k,O,S){r(_,w,k||0,O||_.length-1,S||a)}function r(_,w,k,O,S){for(;O>k;){if(O-k>600){var E=O-k+1,T=w-k+1,M=Math.log(E),P=.5*Math.exp(2*M/3),A=.5*Math.sqrt(M*P*(E-P)/E)*(T-E/2<0?-1:1),N=Math.max(k,Math.floor(w-T*P/E+A)),R=Math.min(O,Math.floor(w+(E-T)*P/E+A));r(_,w,N,R,S)}var C=_[w],L=k,I=O;for(i(_,k,w),S(_[O],C)>0&&i(_,k,O);L<I;){for(i(_,L,I),L++,I--;S(_[L],C)<0;)L++;for(;S(_[I],C)>0;)I--}S(_[k],C)===0?i(_,k,I):(I++,i(_,I,O)),I<=w&&(k=I+1),w<=I&&(O=I-1)}}function i(_,w,k){var O=_[w];_[w]=_[k],_[k]=O}function a(_,w){return _<w?-1:_>w?1:0}var o=function(w){w===void 0&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(w){var k=this.data,O=[];if(!y(w,k))return O;for(var S=this.toBBox,E=[];k;){for(var T=0;T<k.children.length;T++){var M=k.children[T],P=k.leaf?S(M):M;y(w,P)&&(k.leaf?O.push(M):m(w,P)?this._all(M,O):E.push(M))}k=E.pop()}return O},o.prototype.collides=function(w){var k=this.data;if(!y(w,k))return!1;for(var O=[];k;){for(var S=0;S<k.children.length;S++){var E=k.children[S],T=k.leaf?this.toBBox(E):E;if(y(w,T)){if(k.leaf||m(w,T))return!0;O.push(E)}}k=O.pop()}return!1},o.prototype.load=function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var k=0;k<w.length;k++)this.insert(w[k]);return this}var O=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=O;else if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var S=this.data;this.data=O,O=S}this._insert(O,this.data.height-O.height-1,!0)}return this},o.prototype.insert=function(w){return w&&this._insert(w,this.data.height-1),this},o.prototype.clear=function(){return this.data=b([]),this},o.prototype.remove=function(w,k){if(!w)return this;for(var O=this.data,S=this.toBBox(w),E=[],T=[],M,P,A;O||E.length;){if(O||(O=E.pop(),P=E[E.length-1],M=T.pop(),A=!0),O.leaf){var N=s(w,O.children,k);if(N!==-1)return O.children.splice(N,1),E.push(O),this._condense(E),this}!A&&!O.leaf&&m(O,S)?(E.push(O),T.push(M),M=0,P=O,O=O.children[0]):P?(M++,O=P.children[M],A=!1):O=null}return this},o.prototype.toBBox=function(w){return w},o.prototype.compareMinX=function(w,k){return w.minX-k.minX},o.prototype.compareMinY=function(w,k){return w.minY-k.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(w){return this.data=w,this},o.prototype._all=function(w,k){for(var O=[];w;)w.leaf?k.push.apply(k,w.children):O.push.apply(O,w.children),w=O.pop();return k},o.prototype._build=function(w,k,O,S){var E=O-k+1,T=this._maxEntries,M;if(E<=T)return M=b(w.slice(k,O+1)),l(M,this.toBBox),M;S||(S=Math.ceil(Math.log(E)/Math.log(T)),T=Math.ceil(E/Math.pow(T,S-1))),M=b([]),M.leaf=!1,M.height=S;var P=Math.ceil(E/T),A=P*Math.ceil(Math.sqrt(T));x(w,k,O,A,this.compareMinX);for(var N=k;N<=O;N+=A){var R=Math.min(N+A-1,O);x(w,N,R,P,this.compareMinY);for(var C=N;C<=R;C+=P){var L=Math.min(C+P-1,R);M.children.push(this._build(w,C,L,S-1))}}return l(M,this.toBBox),M},o.prototype._chooseSubtree=function(w,k,O,S){for(;S.push(k),!(k.leaf||S.length-1===O);){for(var E=1/0,T=1/0,M=void 0,P=0;P<k.children.length;P++){var A=k.children[P],N=h(A),R=v(w,A)-N;R<T?(T=R,E=N<E?N:E,M=A):R===T&&N<E&&(E=N,M=A)}k=M||k.children[0]}return k},o.prototype._insert=function(w,k,O){var S=O?w:this.toBBox(w),E=[],T=this._chooseSubtree(S,this.data,k,E);for(T.children.push(w),c(T,S);k>=0&&E[k].children.length>this._maxEntries;)this._split(E,k),k--;this._adjustParentBBoxes(S,E,k)},o.prototype._split=function(w,k){var O=w[k],S=O.children.length,E=this._minEntries;this._chooseSplitAxis(O,E,S);var T=this._chooseSplitIndex(O,E,S),M=b(O.children.splice(T,O.children.length-T));M.height=O.height,M.leaf=O.leaf,l(O,this.toBBox),l(M,this.toBBox),k?w[k-1].children.push(M):this._splitRoot(O,M)},o.prototype._splitRoot=function(w,k){this.data=b([w,k]),this.data.height=w.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(w,k,O){for(var S,E=1/0,T=1/0,M=k;M<=O-k;M++){var P=u(w,0,M,this.toBBox),A=u(w,M,O,this.toBBox),N=g(P,A),R=h(P)+h(A);N<E?(E=N,S=M,T=R<T?R:T):N===E&&R<T&&(T=R,S=M)}return S||O-k},o.prototype._chooseSplitAxis=function(w,k,O){var S=w.leaf?this.compareMinX:f,E=w.leaf?this.compareMinY:d,T=this._allDistMargin(w,k,O,S),M=this._allDistMargin(w,k,O,E);T<M&&w.children.sort(S)},o.prototype._allDistMargin=function(w,k,O,S){w.children.sort(S);for(var E=this.toBBox,T=u(w,0,k,E),M=u(w,O-k,O,E),P=p(T)+p(M),A=k;A<O-k;A++){var N=w.children[A];c(T,w.leaf?E(N):N),P+=p(T)}for(var R=O-k-1;R>=k;R--){var C=w.children[R];c(M,w.leaf?E(C):C),P+=p(M)}return P},o.prototype._adjustParentBBoxes=function(w,k,O){for(var S=O;S>=0;S--)c(k[S],w)},o.prototype._condense=function(w){for(var k=w.length-1,O=void 0;k>=0;k--)w[k].children.length===0?k>0?(O=w[k-1].children,O.splice(O.indexOf(w[k]),1)):this.clear():l(w[k],this.toBBox)};function s(_,w,k){if(!k)return w.indexOf(_);for(var O=0;O<w.length;O++)if(k(_,w[O]))return O;return-1}function l(_,w){u(_,0,_.children.length,w,_)}function u(_,w,k,O,S){S||(S=b(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var E=w;E<k;E++){var T=_.children[E];c(S,_.leaf?O(T):T)}return S}function c(_,w){return _.minX=Math.min(_.minX,w.minX),_.minY=Math.min(_.minY,w.minY),_.maxX=Math.max(_.maxX,w.maxX),_.maxY=Math.max(_.maxY,w.maxY),_}function f(_,w){return _.minX-w.minX}function d(_,w){return _.minY-w.minY}function h(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function p(_){return _.maxX-_.minX+(_.maxY-_.minY)}function v(_,w){return(Math.max(w.maxX,_.maxX)-Math.min(w.minX,_.minX))*(Math.max(w.maxY,_.maxY)-Math.min(w.minY,_.minY))}function g(_,w){var k=Math.max(_.minX,w.minX),O=Math.max(_.minY,w.minY),S=Math.min(_.maxX,w.maxX),E=Math.min(_.maxY,w.maxY);return Math.max(0,S-k)*Math.max(0,E-O)}function m(_,w){return _.minX<=w.minX&&_.minY<=w.minY&&w.maxX<=_.maxX&&w.maxY<=_.maxY}function y(_,w){return w.minX<=_.maxX&&w.minY<=_.maxY&&w.maxX>=_.minX&&w.maxY>=_.minY}function b(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(_,w,k,O,S){for(var E=[w,k];E.length;)if(k=E.pop(),w=E.pop(),!(k-w<=O)){var T=w+Math.ceil((k-w)/O/2)*O;t(_,T,w,k,S),E.push(w,T,T,k)}}return o})})(J5);var Bae=J5.exports,de=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),G0=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Ll=function(){function e(){se(this,e),this.plugins=[]}return le(e,[{key:"addRenderingPlugin",value:function(t){this.plugins.push(t),this.context.renderingPlugins.push(t)}},{key:"removeAllRenderingPlugins",value:function(){var t=this;this.plugins.forEach(function(r){var i=t.context.renderingPlugins.indexOf(r);i>=0&&t.context.renderingPlugins.splice(i,1)})}}])}(),jae=function(){function e(n){se(this,e),this.clipSpaceNearZ=G0.NEGATIVE_ONE,this.plugins=[],this.config=Xe({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},n)}return le(e,[{key:"registerPlugin",value:function(t){var r=this.plugins.findIndex(function(i){return i===t});r===-1&&this.plugins.push(t)}},{key:"unregisterPlugin",value:function(t){var r=this.plugins.findIndex(function(i){return i===t});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(t){return this.plugins.find(function(r){return r.name===t})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(t){Object.assign(this.config,t)}}])}(),eb=di,pc=Or,zae=B$,Yae=F$,XT=xl,tb=z$,hr=function(){function e(){se(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return le(e,[{key:"update",value:function(t,r){pc(this.center,t),pc(this.halfExtents,r),tb(this.min,this.center,this.halfExtents),eb(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,r){eb(this.center,r,t),XT(this.center,this.center,.5),tb(this.halfExtents,r,t),XT(this.halfExtents,this.halfExtents,.5),pc(this.min,t),pc(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){if(!e.isEmpty(t)){if(e.isEmpty(this)){this.setMinMax(t.getMin(),t.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,l=s[0],u=s[1],c=s[2],f=i-l,d=i+l,h=a-u,p=a+u,v=o-c,g=o+c,m=t.center,y=m[0],b=m[1],x=m[2],_=t.halfExtents,w=_[0],k=_[1],O=_[2],S=y-w,E=y+w,T=b-k,M=b+k,P=x-O,A=x+O;S<f&&(f=S),E>d&&(d=E),T<h&&(h=T),M>p&&(p=M),P<v&&(v=P),A>g&&(g=A),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(v+g)*.5,s[0]=(d-f)*.5,s[1]=(p-h)*.5,s[2]=(g-v)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=v,this.max[0]=d,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(t,r){var i=this.center,a=this.halfExtents,o=t.center,s=t.halfExtents,l=r[0],u=r[4],c=r[8],f=r[1],d=r[5],h=r[9],p=r[2],v=r[6],g=r[10],m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),x=Math.abs(f),_=Math.abs(d),w=Math.abs(h),k=Math.abs(p),O=Math.abs(v),S=Math.abs(g);i[0]=r[12]+l*o[0]+u*o[1]+c*o[2],i[1]=r[13]+f*o[0]+d*o[1]+h*o[2],i[2]=r[14]+p*o[0]+v*o[1]+g*o[2],a[0]=m*s[0]+y*s[1]+b*s[2],a[1]=x*s[0]+_*s[1]+w*s[2],a[2]=k*s[0]+O*s[1]+S*s[2],tb(this.min,i,a),eb(this.max,i,a)}},{key:"intersects",value:function(t){var r=this.getMax(),i=this.getMin(),a=t.getMax(),o=t.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(t){if(!this.intersects(t))return null;var r=new e,i=zae([0,0,0],this.getMin(),t.getMin()),a=Yae([0,0,0],this.getMax(),t.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(t){return t.pnVertexFlag===273?pc([0,0,0],this.min):t.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:t.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:t.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:t.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:t.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:t.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(t){return t.pnVertexFlag===273?pc([0,0,0],this.max):t.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:t.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:t.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:t.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:t.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:t.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(t){return!t||t.halfExtents[0]===0&&t.halfExtents[1]===0&&t.halfExtents[2]===0}}])}(),Gae=function(){function e(n,t){se(this,e),this.distance=n||0,this.normal=t||rt(0,1,0),this.updatePNVertexFlag()}return le(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(t){return Zr(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/B_(this.normal);xl(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,r,i){var a=this.distanceToPoint(t),o=this.distanceToPoint(r),s=a/(a-o),l=s>=0&&s<=1;return l&&i&&yf(i,t,r,s),l}}])}(),vc=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),Wae=function(){function e(n){if(se(this,e),this.planes=[],n)this.planes=n;else for(var t=0;t<6;t++)this.planes.push(new Gae)}return le(e,[{key:"extractFromVPMatrix",value:function(t){var r=ze(t,16),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],b=r[15];gn(this.planes[0].normal,s-i,f-l,v-d),this.planes[0].distance=b-g,gn(this.planes[1].normal,s+i,f+l,v+d),this.planes[1].distance=b+g,gn(this.planes[2].normal,s+a,f+u,v+h),this.planes[2].distance=b+m,gn(this.planes[3].normal,s-a,f-u,v-h),this.planes[3].distance=b-m,gn(this.planes[4].normal,s-o,f-c,v-p),this.planes[4].distance=b-y,gn(this.planes[5].normal,s+o,f+c,v+p),this.planes[5].distance=b+y,this.planes.forEach(function(x){x.normalize(),x.updatePNVertexFlag()})}}])}(),Kr=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;se(this,e),this.x=0,this.y=0,this.x=n,this.y=t}return le(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}}])}(),Af=function(){function e(n,t,r,i){se(this,e),this.x=n,this.y=t,this.width=r,this.height=i,this.left=n,this.right=n+r,this.top=t,this.bottom=t+i}return le(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}},{key:"applyTransform",value:function(t,r){var i=Es(t.x,t.y,0,1),a=Es(t.x+t.width,t.y,0,1),o=Es(t.x,t.y+t.height,0,1),s=Es(t.x+t.width,t.y+t.height,0,1),l=Ar(),u=Ar(),c=Ar(),f=Ar();Pr(l,i,r),Pr(u,a,r),Pr(c,o,r),Pr(f,s,r);var d=Math.min(l[0],u[0],c[0],f[0]),h=Math.min(l[1],u[1],c[1],f[1]),p=Math.max(l[0],u[0],c[0],f[0]),v=Math.max(l[1],u[1],c[1],f[1]);return e.fromRect({x:d,y:h,width:p-d,height:v-h})}}])}(),on="Method not implemented.",gc="Use document.documentElement instead.",Hae="Cannot append a destroyed element.";function Wc(e){return e===void 0?0:e>360||e<-360?e%360:e}var nb=Ze();function xi(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?$r(e):Or(nb,e):jt(e)?r?rt(e,n,t):gn(nb,e,n,t):r?rt(e[0],e[1]||n,e[2]||t):gn(nb,e[0],e[1]||n,e[2]||t)}var Uae=Math.PI/180;function ln(e){return e*Uae}var Vae=180/Math.PI;function ka(e){return e*Vae}function Xae(e){return 360*e}var Rg=Math.PI/2;function qae(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t,s=r*r,l=i*i,u=a*a,c=o+s+l+u,f=t*a-r*i;return f>.499995*c?(e[0]=Rg,e[1]=2*Math.atan2(r,t),e[2]=0):f<-.499995*c?(e[0]=-Rg,e[1]=2*Math.atan2(r,t),e[2]=0):(e[0]=Math.asin(2*(t*i-a*r)),e[1]=Math.atan2(2*(t*a+r*i),1-2*(l+u)),e[2]=Math.atan2(2*(t*r+i*a),1-2*(s+l))),e}function Kae(e,n){var t,r,i=es(Ze(),n),a=ze(i,3),o=a[0],s=a[1],l=a[2],u=Math.asin(-n[2]/o);return u<Rg?u>-Rg?(t=Math.atan2(n[6]/s,n[10]/l),r=Math.atan2(n[1]/o,n[0]/o)):(r=0,t=-Math.atan2(n[4]/s,n[5]/s)):(r=0,t=Math.atan2(n[4]/s,n[5]/s)),e[0]=t,e[1]=u,e[2]=r,e}function rb(e,n){return n.length===16?Kae(e,n):qae(e,n)}function Zae(e,n,t,r,i){var a=Math.cos(e),o=Math.sin(e);return A$(r*a,i*o,0,-r*o,i*a,0,n,t,1)}function Qae(e,n,t,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,u=t-n,c=r-i,f=l/u,d=l/c,h=(t+n)/u,p=(r+i)/c,v,g,m=o-a,y=o*a;return s?(v=-o/m,g=-y/m):(v=-(o+a)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=h,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function qT(e){var n=e[0],t=e[1],r=e[3],i=e[4],a=Math.sqrt(n*n+t*t),o=Math.sqrt(r*r+i*i),s=n*i-t*r;if(s<0&&(n<i?a=-a:o=-o),a){var l=1/a;n*=l,t*=l}if(o){var u=1/o;r*=u,i*=u}var c=Math.atan2(t,n),f=ka(c);return[e[6],e[7],a,o,f]}var So=ut(),Ya=ut(),md=Ar(),dt=[Ze(),Ze(),Ze()],KT=Ze();function Jae(e,n,t,r,i,a){if(!eoe(So,e)||($s(Ya,So),Ya[3]=0,Ya[7]=0,Ya[11]=0,Ya[15]=1,Math.abs(A_(Ya))<1e-8))return!1;var o=So[3],s=So[7],l=So[11],u=So[12],c=So[13],f=So[14],d=So[15];if(o!==0||s!==0||l!==0){md[0]=o,md[1]=s,md[2]=l,md[3]=d;var h=Mr(Ya,Ya);if(!h)return!1;M_(Ya,Ya),Pr(i,md,Ya)}else i[0]=i[1]=i[2]=0,i[3]=1;if(n[0]=u,n[1]=c,n[2]=f,toe(dt,So),t[0]=qr(dt[0]),aa(dt[0],dt[0]),r[0]=Zr(dt[0],dt[1]),ib(dt[1],dt[1],dt[0],1,-r[0]),t[1]=qr(dt[1]),aa(dt[1],dt[1]),r[0]/=t[1],r[1]=Zr(dt[0],dt[2]),ib(dt[2],dt[2],dt[0],1,-r[1]),r[2]=Zr(dt[1],dt[2]),ib(dt[2],dt[2],dt[1],1,-r[2]),t[2]=qr(dt[2]),aa(dt[2],dt[2]),r[1]/=t[2],r[2]/=t[2],sh(KT,dt[1],dt[2]),Zr(dt[0],KT)<0)for(var p=0;p<3;p++)t[p]*=-1,dt[p][0]*=-1,dt[p][1]*=-1,dt[p][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+dt[0][0]-dt[1][1]-dt[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-dt[0][0]+dt[1][1]-dt[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-dt[0][0]-dt[1][1]+dt[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+dt[0][0]+dt[1][1]+dt[2][2],0)),dt[2][1]>dt[1][2]&&(a[0]=-a[0]),dt[0][2]>dt[2][0]&&(a[1]=-a[1]),dt[1][0]>dt[0][1]&&(a[2]=-a[2]),!0}function eoe(e,n){var t=n[15];if(t===0)return!1;for(var r=1/t,i=0;i<16;i++)e[i]=n[i]*r;return!0}function toe(e,n){e[0][0]=n[0],e[0][1]=n[1],e[0][2]=n[2],e[1][0]=n[4],e[1][1]=n[5],e[1][2]=n[6],e[2][0]=n[8],e[2][1]=n[9],e[2][2]=n[10]}function ib(e,n,t,r,i){e[0]=n[0]*r+t[0]*i,e[1]=n[1]*r+t[1]*i,e[2]=n[2]*r+t[2]*i}var rn=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),yw=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),xa=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),eD={UPDATED:"updated"},ZT=2e-4,tD=function(){function e(){se(this,e),this.clipSpaceNearZ=G0.NEGATIVE_ONE,this.eventEmitter=new _y,this.matrix=ut(),this.right=rt(1,0,0),this.up=rt(0,1,0),this.forward=rt(0,0,1),this.position=rt(0,0,1),this.focalPoint=rt(0,0,0),this.distanceVector=rt(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=ut(),this.projectionMatrixInverse=ut(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=rn.EXPLORING,this.trackingMode=yw.DEFAULT,this.projectionMode=xa.PERSPECTIVE,this.frustum=new Wae,this.orthoMatrix=ut()}return le(e,[{key:"isOrtho",value:function(){return this.projectionMode===xa.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(t){this.enableUpdate=t}},{key:"setType",value:function(t,r){return this.type=t,this.type===rn.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===rn.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==rn.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){return this.rotateWorld=t,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Mr(ut(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(t,r){var i=ui(ut(),[t,r,0]);this.jitteredProjectionMatrix=Gn(ut(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setProjectionMatrix",value:function(t){this.projectionMatrix=t}},{key:"setFov",value:function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setNear",value:function(t){return this.projectionMode===xa.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this}},{key:"setFar",value:function(t){return this.projectionMode===xa.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this}},{key:"setViewOffset",value:function(t,r,i,a,o,s){return this.aspect=t/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===xa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===xa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(t){return this.zoom=t,this.projectionMode===xa.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===xa.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(t,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(t),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),u=l.x,c=l.y,f=rt(u-a,c-o,0),d=Zr(f,this.right)/qr(this.right),h=Zr(f,this.up)/qr(this.up),p=this.getPosition(),v=ze(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),b=ze(y,2),x=b[0],_=b[1];return this.setPosition(g-d,m-h),this.setFocalPoint(x-d,_-h),this}},{key:"setPerspective",value:function(t,r,i,a){var o;this.projectionMode=xa.PERSPECTIVE,this.fov=i,this.near=t,this.far=r,this.aspect=a;var s=this.near*Math.tan(ln(.5*this.fov))/this.zoom,l=2*s,u=this.aspect*l,c=-.5*u;if((o=this.view)!==null&&o!==void 0&&o.enabled){var f=this.view.fullWidth,d=this.view.fullHeight;c+=this.view.offsetX*u/f,s-=this.view.offsetY*l/d,u*=this.view.width/f,l*=this.view.height/d}return Qae(this.projectionMatrix,c,c+u,s-l,s,t,this.far,this.clipSpaceNearZ===G0.ZERO),Mr(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(t,r,i,a,o,s){var l;this.projectionMode=xa.ORTHOGRAPHIC,this.rright=r,this.left=t,this.top=i,this.bottom=a,this.near=o,this.far=s;var u=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,h=f-u,p=f+u,v=d+c,g=d-c;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=m*this.view.offsetX,p=h+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===G0.NEGATIVE_ONE?$_(this.projectionMatrix,h,p,v,g,o,s):I_(this.projectionMatrix,h,p,v,g,o,s),Mr(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=xi(t,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=rt(0,1,0);if(this.focalPoint=xi(t,r,i),this.trackingMode===yw.CINEMATIC){var o=$h(Ze(),this.focalPoint,this.position);t=o[0],r=o[1],i=o[2];var s=qr(o),l=ka(Math.asin(r/s)),u=90+ka(Math.atan2(i,t)),c=ut();C_(c,c,ln(u)),P_(c,c,ln(l)),a=pn(Ze(),[0,1,0],c)}return Mr(this.matrix,D_(ut(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<ZT&&(this.distance=ZT),this.dollyingStep=this.distance/100;var r=Ze();t=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=t*i[0]+a[0],r[1]=t*i[1]+a[1],r[2]=t*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"setAzimuth",value:function(t){return this.azimuth=Wc(t),this.computeMatrix(),this._getAxes(),this.type===rn.ORBITING||this.type===rn.EXPLORING?this._getPosition():this.type===rn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=Wc(t),this.computeMatrix(),this._getAxes(),this.type===rn.ORBITING||this.type===rn.EXPLORING?this._getPosition():this.type===rn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(t){return this.roll=Wc(t),this.computeMatrix(),this._getAxes(),this.type===rn.ORBITING||this.type===rn.EXPLORING?this._getPosition():this.type===rn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var t=Ei(Ct(),[0,0,1],ln(this.roll));oa(this.matrix);var r=Ei(Ct(),[1,0,0],ln((this.rotateWorld&&this.type!==rn.TRACKING||this.type===rn.TRACKING?1:-1)*this.elevation)),i=Ei(Ct(),[0,1,0],ln((this.rotateWorld&&this.type!==rn.TRACKING||this.type===rn.TRACKING?1:-1)*this.azimuth)),a=Ti(Ct(),i,r);a=Ti(Ct(),a,t);var o=Tp(ut(),a);this.type===rn.ORBITING||this.type===rn.EXPLORING?(ao(this.matrix,this.matrix,this.focalPoint),Gn(this.matrix,this.matrix,o),ao(this.matrix,this.matrix,[0,0,this.distance])):this.type===rn.TRACKING&&(ao(this.matrix,this.matrix,this.position),Gn(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(t,r,i){this.position=xi(t,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Or(this.right,xi(Pr(Ar(),[1,0,0,0],this.matrix))),Or(this.up,xi(Pr(Ar(),[0,1,0,0],this.matrix))),Or(this.forward,xi(Pr(Ar(),[0,0,1,0],this.matrix))),aa(this.right,this.right),aa(this.up,this.up),aa(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=qr(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===rn.TRACKING?(this.elevation=ka(Math.asin(r/a)),this.azimuth=ka(Math.atan2(-t,-i))):this.rotateWorld?(this.elevation=ka(Math.asin(r/a)),this.azimuth=ka(Math.atan2(-t,-i))):(this.elevation=-ka(Math.asin(r/a)),this.azimuth=-ka(Math.atan2(-t,-i)))}},{key:"_getPosition",value:function(){Or(this.position,xi(Pr(Ar(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){F_(this.distanceVector,[0,0,-this.distance],M$(Zu(),this.matrix)),di(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=$h(Ze(),this.focalPoint,this.position),this.distance=qr(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===xa.ORTHOGRAPHIC){var t=this.position,r=Ei(Ct(),[0,0,1],-this.roll*Math.PI/180);Ts(this.orthoMatrix,r,rt((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),rt(this.zoom,this.zoom,1),t)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var t=this.getViewTransform(),r=Gn(ut(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(eD.UPDATED)}}},{key:"rotate",value:function(t,r,i){throw new Error(on)}},{key:"pan",value:function(t,r){throw new Error(on)}},{key:"dolly",value:function(t){throw new Error(on)}},{key:"createLandmark",value:function(t,r){throw new Error(on)}},{key:"gotoLandmark",value:function(t,r){throw new Error(on)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(on)}}])}(),noe=function(e){return e[e.Standard=0]="Standard",e}({}),Ng=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),roe=Ze(),yd=ut(),ioe=Ct();function QT(e){if(e.localDirtyFlag){var n=e.localSkew[0]!==0||e.localSkew[1]!==0;if(n){Ts(e.localTransform,e.localRotation,e.localPosition,rt(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(oa(yd),yd[4]=Math.tan(e.localSkew[0]),yd[1]=Math.tan(e.localSkew[1]),Gn(e.localTransform,e.localTransform,yd));var t=Ts(yd,bg(ioe,0,0,0,1),gn(roe,1,1,1),e.localScale,e.origin);Gn(e.localTransform,e.localTransform,t)}else{var r=e.localTransform,i=e.localPosition,a=e.localRotation,o=e.localScale,s=e.origin,l=i[0]!==0||i[1]!==0||i[2]!==0,u=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,c=o[0]!==1||o[1]!==1||o[2]!==1,f=s[0]!==0||s[1]!==0||s[2]!==0;!u&&!c&&!f?l?ui(r,i):oa(r):Ts(r,a,i,o,s)}e.localDirtyFlag=!1}}function aoe(e,n){e.dirtyFlag&&(n?Gn(e.worldTransform,n.worldTransform,e.localTransform):$s(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}var nD={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Af(0,0,0,0)},Ce=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function mk(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function rD(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function Fp(){}var Hh=.7,Lg=1/Hh,Hc="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ooe=/^#([0-9a-f]{3,8})$/,soe=new RegExp(`^rgb\\(${Hc},${Hc},${Hc}\\)$`),loe=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),uoe=new RegExp(`^rgba\\(${Hc},${Hc},${Hc},${Uh}\\)$`),coe=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Uh}\\)$`),foe=new RegExp(`^hsl\\(${Uh},${Vo},${Vo}\\)$`),doe=new RegExp(`^hsla\\(${Uh},${Vo},${Vo},${Uh}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mk(Fp,ky,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eM,formatHex:eM,formatHex8:hoe,formatHsl:poe,formatRgb:tM,toString:tM});function eM(){return this.rgb().formatHex()}function hoe(){return this.rgb().formatHex8()}function poe(){return iD(this).formatHsl()}function tM(){return this.rgb().formatRgb()}function ky(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=ooe.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?nM(n):t===3?new Bi(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?hv(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?hv(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=soe.exec(e))?new Bi(n[1],n[2],n[3],1):(n=loe.exec(e))?new Bi(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=uoe.exec(e))?hv(n[1],n[2],n[3],n[4]):(n=coe.exec(e))?hv(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=foe.exec(e))?aM(n[1],n[2]/100,n[3]/100,1):(n=doe.exec(e))?aM(n[1],n[2]/100,n[3]/100,n[4]):JT.hasOwnProperty(e)?nM(JT[e]):e==="transparent"?new Bi(NaN,NaN,NaN,0):null}function nM(e){return new Bi(e>>16&255,e>>8&255,e&255,1)}function hv(e,n,t,r){return r<=0&&(e=n=t=NaN),new Bi(e,n,t,r)}function voe(e){return e instanceof Fp||(e=ky(e)),e?(e=e.rgb(),new Bi(e.r,e.g,e.b,e.opacity)):new Bi}function goe(e,n,t,r){return arguments.length===1?voe(e):new Bi(e,n,t,r??1)}function Bi(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}mk(Bi,goe,rD(Fp,{brighter(e){return e=e==null?Lg:Math.pow(Lg,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bi(wu(this.r),wu(this.g),wu(this.b),$g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rM,formatHex:rM,formatHex8:moe,formatRgb:iM,toString:iM}));function rM(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function moe(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function iM(){const e=$g(this.opacity);return`${e===1?"rgb(":"rgba("}${wu(this.r)}, ${wu(this.g)}, ${wu(this.b)}${e===1?")":`, ${e})`}`}function $g(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=wu(e),(e<16?"0":"")+e.toString(16)}function aM(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Qa(e,n,t,r)}function iD(e){if(e instanceof Qa)return new Qa(e.h,e.s,e.l,e.opacity);if(e instanceof Fp||(e=ky(e)),!e)return new Qa;if(e instanceof Qa)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-n)/s+2:o=(n-t)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Qa(o,s,l,e.opacity)}function yoe(e,n,t,r){return arguments.length===1?iD(e):new Qa(e,n,t,r??1)}function Qa(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}mk(Qa,yoe,rD(Fp,{brighter(e){return e=e==null?Lg:Math.pow(Lg,e),new Qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new Qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new Bi(ab(e>=240?e-240:e+120,i,r),ab(e,i,r),ab(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Qa(oM(this.h),pv(this.s),pv(this.l),$g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$g(this.opacity);return`${e===1?"hsl(":"hsla("}${oM(this.h)}, ${pv(this.s)*100}%, ${pv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oM(e){return e=(e||0)%360,e<0?e+360:e}function pv(e){return Math.max(0,Math.min(1,e||0))}function ab(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}function yr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var t=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=n?n.apply(this,a):a[0],l=t.cache;if(l.has(s))return l.get(s);var u=e.apply(this,a);return t.cache=l.set(s,u)||l,u};return t.cache=new(yr.Cache||Map),yr.cacheList.push(t.cache),t}yr.Cache=Map;yr.cacheList=[];yr.clearCache=function(){yr.cacheList.forEach(function(e){return e.clear()})};var $e=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),qa=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),boe=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),xoe=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),woe=[{name:"em",unit_type:$e.kEms},{name:"px",unit_type:$e.kPixels},{name:"deg",unit_type:$e.kDegrees},{name:"rad",unit_type:$e.kRadians},{name:"grad",unit_type:$e.kGradians},{name:"ms",unit_type:$e.kMilliseconds},{name:"s",unit_type:$e.kSeconds},{name:"rem",unit_type:$e.kRems},{name:"turn",unit_type:$e.kTurns}],Pf=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),_oe=function(n){return woe.find(function(t){return t.name===n}).unit_type},koe=function(n){return n?n==="number"?$e.kNumber:n==="percent"||n==="%"?$e.kPercentage:_oe(n):$e.kUnknown},Ooe=function(n){switch(n){case $e.kNumber:case $e.kInteger:return qa.kUNumber;case $e.kPercentage:return qa.kUPercent;case $e.kPixels:return qa.kULength;case $e.kMilliseconds:case $e.kSeconds:return qa.kUTime;case $e.kDegrees:case $e.kRadians:case $e.kGradians:case $e.kTurns:return qa.kUAngle;default:return qa.kUOther}},Soe=function(n){switch(n){case qa.kUNumber:return $e.kNumber;case qa.kULength:return $e.kPixels;case qa.kUPercent:return $e.kPercentage;case qa.kUTime:return $e.kSeconds;case qa.kUAngle:return $e.kDegrees;default:return $e.kUnknown}},sM=function(n){var t=1;switch(n){case $e.kPixels:case $e.kDegrees:case $e.kSeconds:break;case $e.kMilliseconds:t=.001;break;case $e.kRadians:t=180/Math.PI;break;case $e.kGradians:t=.9;break;case $e.kTurns:t=360;break}return t},bw=function(n){switch(n){case $e.kNumber:case $e.kInteger:return"";case $e.kPercentage:return"%";case $e.kEms:return"em";case $e.kRems:return"rem";case $e.kPixels:return"px";case $e.kDegrees:return"deg";case $e.kRadians:return"rad";case $e.kGradians:return"grad";case $e.kMilliseconds:return"ms";case $e.kSeconds:return"s";case $e.kTurns:return"turn"}return""},Oy=function(){function e(){se(this,e)}return le(e,[{key:"toString",value:function(){return this.buildCSSText(boe.kNo,xoe.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Pf.kUnitType&&this.getType()<=Pf.kClampType}}],[{key:"isAngle",value:function(t){return t===$e.kDegrees||t===$e.kRadians||t===$e.kGradians||t===$e.kTurns}},{key:"isLength",value:function(t){return t>=$e.kEms&&t<$e.kDegrees}},{key:"isRelativeUnit",value:function(t){return t===$e.kPercentage||t===$e.kEms||t===$e.kRems}},{key:"isTime",value:function(t){return t===$e.kSeconds||t===$e.kMilliseconds}}])}(),Eoe=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.colorSpace=t,r}return We(n,e),le(n,[{key:"getType",value:function(){return Pf.kColorType}},{key:"to",value:function(r){return this}}])}(Oy),fl=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),vv=function(e){function n(t,r){var i;return se(this,n),i=Ge(this,n),i.type=t,i.value=r,i}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return Pf.kColorType}}])}(Oy),Ba=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.value=t,r}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.value)}},{key:"getType",value:function(){return Pf.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])}(Oy),Toe=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(n)?r="NaN":n>0?r="infinity":r="-infinity",r+=t},xw=function(n){return Soe(Ooe(n))},sn=function(e){function n(t){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.kNumber;se(this,n),r=Ge(this,n);var a;return typeof i=="string"?a=koe(i):a=i,r.unit=a,r.value=t,r}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return Pf.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new n(this.value,this.unit);var i=xw(this.unit);if(i!==xw(r)||i===$e.kUnknown)return null;var a=sM(this.unit)/sM(r);return new n(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case $e.kUnknown:break;case $e.kInteger:o=Number(this.value).toFixed(0);break;case $e.kNumber:case $e.kPercentage:case $e.kEms:case $e.kRems:case $e.kPixels:case $e.kDegrees:case $e.kRadians:case $e.kGradians:case $e.kMilliseconds:case $e.kSeconds:case $e.kTurns:{var s=-999999,l=999999,u=this.value,c=bw(this.unit);if(u<s||u>l){var f=bw(this.unit);!Number.isFinite(u)||Number.isNaN(u)?o=Toe(u,f):o=u+(f||"")}else o="".concat(u).concat(c)}}return a+=o,a}}])}(Oy),Va=new sn(0,"px");new sn(1,"px");var Du=new sn(0,"deg"),yk=function(e){function n(t,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return se(this,n),a=Ge(this,n,["rgb"]),a.r=t,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Eoe),lM=new Ba("unset"),Moe=new Ba("initial"),Aoe=new Ba("inherit"),ob={"":lM,unset:lM,initial:Moe,inherit:Aoe},Poe=function(n){return ob[n]||(ob[n]=new Ba(n)),ob[n]},aD=new yk(0,0,0,0,!0),oD=new yk(0,0,0,0),Coe=yr(function(e,n,t,r){return new yk(e,n,t,r)},function(e,n,t,r){return"rgba(".concat(e,",").concat(n,",").concat(t,",").concat(r,")")}),In=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.kNumber;return new sn(n,t)};new sn(50,"%");function Roe(e){var n=e.type,t=e.value;return n==="hex"?"#".concat(t):n==="literal"?t:n==="rgb"?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}var Noe=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function t(C){throw new Error("".concat(n,": ").concat(C))}function r(){var C=i();return n.length>0&&t("Invalid input not EOF"),C}function i(){return b(a)}function a(){return o("linear-gradient",e.linearGradient,l)||o("repeating-linear-gradient",e.repeatingLinearGradient,l)||o("radial-gradient",e.radialGradient,f)||o("repeating-radial-gradient",e.repeatingRadialGradient,f)||o("conic-gradient",e.conicGradient,f)}function o(C,L,I){return s(L,function(j){var F=I();return F&&(N(e.comma)||t("Missing comma before color stops")),{type:C,orientation:F,colorStops:b(x)}})}function s(C,L){var I=N(C);if(I){N(e.startCall)||t("Missing (");var j=L(I);return N(e.endCall)||t("Missing )"),j}}function l(){return u()||c()}function u(){return A("directional",e.sideOrCorner,1)}function c(){return A("angular",e.angleValue,1)}function f(){var C,L=d(),I;return L&&(C=[],C.push(L),I=n,N(e.comma)&&(L=d(),L?C.push(L):n=I)),C}function d(){var C=h()||p();if(C)C.at=g();else{var L=v();if(L){C=L;var I=g();I&&(C.at=I)}else{var j=m();j&&(C={type:"default-radial",at:j})}}return C}function h(){var C=A("shape",/^(circle)/i,0);return C&&(C.style=P()||v()),C}function p(){var C=A("shape",/^(ellipse)/i,0);return C&&(C.style=T()||v()),C}function v(){return A("extent-keyword",e.extentKeywords,1)}function g(){if(A("position",/^at/,0)){var C=m();return C||t("Missing positioning value"),C}}function m(){var C=y();if(C.x||C.y)return{type:"position",value:C}}function y(){return{x:T(),y:T()}}function b(C){var L=C(),I=[];if(L)for(I.push(L);N(e.comma);)L=C(),L?I.push(L):t("One extra comma");return I}function x(){var C=_();return C||t("Expected color definition"),C.length=T(),C}function _(){return k()||S()||O()||w()}function w(){return A("literal",e.literalColor,0)}function k(){return A("hex",e.hexColor,1)}function O(){return s(e.rgbColor,function(){return{type:"rgb",value:b(E)}})}function S(){return s(e.rgbaColor,function(){return{type:"rgba",value:b(E)}})}function E(){return N(e.number)[1]}function T(){return A("%",e.percentageValue,1)||M()||P()}function M(){return A("position-keyword",e.positionKeywords,1)}function P(){return A("px",e.pixelValue,1)||A("em",e.emValue,1)}function A(C,L,I){var j=N(L);if(j)return{type:C,value:j[I]}}function N(C){var L=/^[\n\r\t\s]+/.exec(n);L&&R(L[0].length);var I=C.exec(n);return I&&R(I[0].length),I}function R(C){n=n.substring(C)}return function(C){return n=C,r()}}();function Loe(e,n,t,r){var i=ln(r.value),a=0,o=0,s=a+n/2,l=o+t/2,u=Math.abs(n*Math.cos(i))+Math.abs(t*Math.sin(i)),c=e[0]+s-Math.cos(i)*u/2,f=e[1]+l-Math.sin(i)*u/2,d=e[0]+s+Math.cos(i)*u/2,h=e[1]+l+Math.sin(i)*u/2;return{x1:c,y1:f,x2:d,y2:h}}function $oe(e,n,t,r,i,a){var o=r.value,s=i.value;r.unit===$e.kPercentage&&(o=r.value/100*n),i.unit===$e.kPercentage&&(s=i.value/100*t);var l=Math.max(Ii([0,0],[o,s]),Ii([0,t],[o,s]),Ii([n,t],[o,s]),Ii([n,0],[o,s]));return a&&(a instanceof sn?l=a.value:a instanceof Ba&&(a.value==="closest-side"?l=Math.min(o,n-o,s,t-s):a.value==="farthest-side"?l=Math.max(o,n-o,s,t-s):a.value==="closest-corner"&&(l=Math.min(Ii([0,0],[o,s]),Ii([0,t],[o,s]),Ii([n,t],[o,s]),Ii([n,0],[o,s]))))),{x:o+e[0],y:s+e[1],r:l}}var Ioe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Doe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Foe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,sD=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Boe(e){var n,t=e.length;if(e[t-1].length=(n=e[t-1].length)!==null&&n!==void 0?n:{type:"%",value:"100"},t>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),o=1;o<t;o++){var s,l=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!je(l)&&!je(a)){for(var u=1;u<o-i;u++)e[i+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(o-i))};i=o,a=Number(l)}}}var joe={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},zoe=yr(function(e){var n;return e.type==="angular"?n=Number(e.value):n=joe[e.value]||0,In(n,"deg")}),Yoe=yr(function(e){var n=50,t=50,r="%",i="%";if((e==null?void 0:e.type)==="position"){var a=e.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?n=0:o.value==="center"?n=50:o.value==="right"?n=100:o.value==="top"?t=0:o.value==="bottom"&&(t=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?n=0:s.value==="center"?t=50:s.value==="right"?n=100:s.value==="top"?t=0:s.value==="bottom"&&(t=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,n=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,t=Number(s.value))}return{cx:In(n,r),cy:In(t,i)}}),Goe=yr(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var n=Noe(e);return n.map(function(s){var l=s.type,u=s.orientation,c=s.colorStops;Boe(c);var f=c.map(function(b){return{offset:In(Number(b.length.value),"%"),color:Roe(b)}});if(l==="linear-gradient")return new vv(fl.LinearGradient,{angle:u?zoe(u):Du,steps:f});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var d=Yoe(u[0].at),h=d.cx,p=d.cy,v;if(u[0].style){var g=u[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=Poe(y):v=In(y,m)}return new vv(fl.RadialGradient,{cx:h,cy:p,size:v,steps:f})}})}var t=e[0];if(e[1]==="("||e[2]==="("){if(t==="l"){var r=Ioe.exec(e);if(r){var i,a=((i=r[2].match(sD))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new vv(fl.LinearGradient,{angle:In(parseFloat(r[1]),"deg"),steps:a.map(function(s){var l=ze(s,2),u=l[0],c=l[1];return{offset:In(Number(u)*100,"%"),color:c}})})]}}else if(t==="r"){var o=Woe(e);if(o)if(Wt(o))e=o;else return[new vv(fl.RadialGradient,o)]}else if(t==="p")return Hoe(e)}});function Woe(e){var n=Doe.exec(e);if(n){var t,r=((t=n[4].match(sD))===null||t===void 0?void 0:t.map(function(i){return i.split(":")}))||[];return{cx:In(50,"%"),cy:In(50,"%"),steps:r.map(function(i){var a=ze(i,2),o=a[0],s=a[1];return{offset:In(Number(o)*100,"%"),color:s}})}}return null}function Hoe(e){var n=Foe.exec(e);if(n){var t=n[1],r=n[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;case"n":t="no-repeat";break;default:t="no-repeat"}return{image:r,repetition:t}}return null}function Fu(e){return e&&!!e.image}function Ig(e){return e&&!je(e.r)&&!je(e.g)&&!je(e.b)}var _u=yr(function(e){if(Fu(e))return Xe({repetition:"repeat"},e);if(je(e)&&(e=""),e==="transparent")return oD;if(e==="currentColor")e="black";else if(e==="none")return aD;var n=Goe(e);if(n)return n;var t=ky(e),r=[0,0,0,0];return t!==null&&(r[0]=t.r||0,r[1]=t.g||0,r[2]=t.b||0,r[3]=t.opacity),Coe.apply(void 0,r)});function Uoe(e,n){if(!(!Ig(e)||!Ig(n)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],function(t){var r=t.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(Bt(r[i],0,255));return r[3]=Bt(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Bp(e,n){if(je(n))return In(0,"px");if(n="".concat(n).trim().toLowerCase(),isFinite(Number(n))){if("px".search(e)>=0)return In(Number(n),"px");if("deg".search(e)>=0)return In(Number(n),"deg")}var t=[];n=n.replace(e,function(i){return t.push(i),"U".concat(i)});var r="U(".concat(e.source,")");return t.map(function(i){return In(Number(n.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var lD=function(n){return Bp(new RegExp("px","g"),n)},Voe=yr(lD),Xoe=function(n){return Bp(new RegExp("%","g"),n)};yr(Xoe);var uD=function(n){return jt(n)||isFinite(Number(n))?In(Number(n)||0,"px"):Bp(new RegExp("px|%|em|rem","g"),n)},ww=yr(uD),cD=function(n){return Bp(new RegExp("deg|rad|grad|turn","g"),n)},qoe=yr(cD);function Koe(e,n,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=e.value||0,s=n.value||0,l=xw(e.unit),u=e.convertTo(l),c=n.convertTo(l);return u&&c?(o=u.value,s=c.value,a=bw(e.unit)):(sn.isLength(e.unit)||sn.isLength(n.unit))&&(o=qi(e,i,t),s=qi(n,i,t),a="px"),[o,s,function(f){return f+a}]}function Di(e){var n=0;return e.unit===$e.kDegrees?n=e.value:e.unit===$e.kRadians?n=ka(Number(e.value)):e.unit===$e.kTurns?n=Xae(Number(e.value)):e.value&&(n=e.value),n}function uM(e,n){var t;return Array.isArray(e)?t=e.map(function(r){return Number(r)}):Wt(e)?t=e.split(" ").map(function(r){return Number(r)}):jt(e)&&(t=[e]),n===2?t.length===1?[t[0],t[0]]:[t[0],t[1]]:n===4?t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]:n==="even"&&t.length%2===1?[].concat(Ke(t),Ke(t)):t}function qi(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===$e.kPixels)return Number(e.value);if(e.unit===$e.kPercentage&&t){var i=t.nodeName===de.GROUP?t.getLocalBounds():t.getGeometryBounds();return(r?i.min[n]:0)+e.value/100*i.halfExtents[n]*2}return 0}var Zoe=function(n){return Bp(/deg|rad|grad|turn|px|%/g,n)},Qoe=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Joe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var n=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r,i=0;r=n.exec(e);){if(r.index!==i)return[];if(i=r.index+r[0].length,Qoe.indexOf(r[1])>-1&&t.push({name:r[1],params:r[2].split(" ").map(function(a){return Zoe(a)||_u(a)})}),n.lastIndex===e.length)return t}return[]}function fD(e){return e.toString()}var dD=function(n){return typeof n=="number"?In(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?In(Number(n)):In(0)},_w=yr(dD);yr(function(e){return Wt(e)?e.split(" ").map(_w):e.map(_w)});function bk(e,n){return[e,n,fD]}function xk(e,n){return function(t,r){return[t,r,function(i){return fD(Bt(i,e,n))}]}}function hD(e,n){if(e.length===n.length)return[e,n,function(t){return t}]}function kw(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=J$(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function ese(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=Nae(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function tse(e){for(var n=0;n<e.length;n++){var t=e[n-1],r=e[n],i=r[0];if(i==="M"&&t){var a=t[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[t[1],t[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[t[t.length-2],t[t.length-1]]),s&&Dg(o,s)&&(e.splice(n,1),n--)}}}function nse(e){for(var n=!1,t=e.length,r=0;r<t;r++){var i=e[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){n=!0;break}}return n}function rse(e){for(var n=[],t=[],r=[],i=0;i<e.length;i++){var a=e[i],o=a[0];o==="M"?(r.length&&(t.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&t.push(r),{polygons:n,polylines:t}}function Dg(e,n){return e[0]===n[0]&&e[1]===n[1]}function ise(e,n){for(var t=[],r=[],i=[],a=0;a<e.length;a++){var o=e[a],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=Lae(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=Pae(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;c=Tae(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height))}t=t.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0}),r=r.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0});var d=mf(t),h=mf(r),p=gf(t),v=gf(r);if(i.length===0)return{x:d,y:h,width:p-d,height:v-h};for(var g=0;g<i.length;g++){var m=i[g],y=m.currentPoint,b=void 0;y[0]===d?(b=gv(m,n),d-=b.xExtra):y[0]===p&&(b=gv(m,n),p+=b.xExtra),y[1]===h?(b=gv(m,n),h-=b.yExtra):y[1]===v&&(b=gv(m,n),v+=b.yExtra)}return{x:d,y:h,width:p-d,height:v-h}}function gv(e,n){var t=e.prePoint,r=e.currentPoint,i=e.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Uo(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(n/2*(1/Math.sin(l/2)))-n/2||0,yExtra:Math.cos(c-l/2)*(n/2*(1/Math.sin(l/2)))-n/2||0};return f}function cM(e,n){return[n[0]+(n[0]-e[0]),n[1]+(n[1]-e[1])]}var fM=function(n,t){var r=n.x*t.x+n.y*t.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2))),a=n.x*t.y-n.y*t.x<0?-1:1,o=a*Math.acos(r/i);return o},dM=function(n,t,r,i,a,o,s,l){t=Math.abs(t),r=Math.abs(r),i=ny(i,360);var u=ln(i);if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(t===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(n.x-s.x)/2,f=(n.y-s.y)/2,d={x:Math.cos(u)*c+Math.sin(u)*f,y:-Math.sin(u)*c+Math.cos(u)*f},h=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(r,2);h>1&&(t*=Math.sqrt(h),r*=Math.sqrt(h));var p=Math.pow(t,2)*Math.pow(r,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(r,2)*Math.pow(d.x,2),v=Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(r,2)*Math.pow(d.x,2),g=p/v;g=g<0?0:g;var m=(a!==o?1:-1)*Math.sqrt(g),y={x:m*(t*d.y/r),y:m*(-(r*d.x)/t)},b={x:Math.cos(u)*y.x-Math.sin(u)*y.y+(n.x+s.x)/2,y:Math.sin(u)*y.x+Math.cos(u)*y.y+(n.y+s.y)/2},x={x:(d.x-y.x)/t,y:(d.y-y.y)/r},_=fM({x:1,y:0},x),w={x:(-d.x-y.x)/t,y:(-d.y-y.y)/r},k=fM(x,w);!o&&k>0?k-=2*Math.PI:o&&k<0&&(k+=2*Math.PI),k%=2*Math.PI;var O=_+k*l,S=t*Math.cos(O),E=r*Math.sin(O),T={x:Math.cos(u)*S-Math.sin(u)*E+b.x,y:Math.sin(u)*S+Math.cos(u)*E+b.y,ellipticalArcStartAngle:_,ellipticalArcEndAngle:_+k,ellipticalArcAngle:O,ellipticalArcCenter:b,resultantRx:t,resultantRy:r};return T};function ase(e){for(var n=[],t=null,r=null,i=null,a=0,o=e.length,s=0;s<o;s++){var l=e[s];r=e[s+1];var u=l[0],c={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var f=ose(t,l);c.arcParams=f;break}if(u==="Z")t=i,r=e[a+1];else{var d=l.length;t=[l[d-2],l[d-1]]}r&&r[0]==="Z"&&(r=e[a],n[a]&&(n[a].prePoint=t)),c.currentPoint=t,n[a]&&Dg(t,n[a].currentPoint)&&(n[a].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]];else if(u==="Q"){var v=[l[1],l[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[t[0]-v[0],t[1]-v[1]]}else if(u==="T"){var g=n[s-1],m=cM(g.currentPoint,p);g.command==="Q"?(c.command="Q",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[t[0]-m[0],t[1]-m[1]]):(c.command="TL",c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]])}else if(u==="C"){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[t[0]-b[0],t[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if(u==="S"){var x=n[s-1],_=cM(x.currentPoint,p),w=[l[1],l[2]];x.command==="C"?(c.command="C",c.startTangent=[p[0]-_[0],p[1]-_[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]]):(c.command="SQ",c.startTangent=[p[0]-w[0],p[1]-w[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]])}else if(u==="A"){var k=hM(c,0),O=k.x,S=k.y,E=hM(c,1,!1),T=E.x,M=E.y;c.startTangent=[O,S],c.endTangent=[T,M]}n.push(c)}return n}function hM(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,f=dM({x:e.prePoint[0],y:e.prePoint[1]},a,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},n),d=dM({x:e.prePoint[0],y:e.prePoint[1]},a,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t?n+.005:n-.005),h=d.x-f.x,p=d.y-f.y,v=Math.sqrt(h*h+p*p);return{x:-h/v,y:-p/v}}function mv(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ow(e,n){return mv(e)*mv(n)?(e[0]*n[0]+e[1]*n[1])/(mv(e)*mv(n)):1}function pM(e,n){return(e[0]*n[1]<e[1]*n[0]?-1:1)*Math.acos(Ow(e,n))}function ose(e,n){var t=n[1],r=n[2],i=ny(ln(n[3]),Math.PI*2),a=n[4],o=n[5],s=e[0],l=e[1],u=n[6],c=n[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,h=f*f/(t*t)+d*d/(r*r);h>1&&(t*=Math.sqrt(h),r*=Math.sqrt(h));var p=t*t*(d*d)+r*r*(f*f),v=p?Math.sqrt((t*t*(r*r)-p)/p):1;a===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*t*d/r:0,m=t?v*-r*f/t:0,y=(s+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/t,(d-m)/r],_=[(-1*f-g)/t,(-1*d-m)/r],w=pM([1,0],x),k=pM(x,_);return Ow(x,_)<=-1&&(k=Math.PI),Ow(x,_)>=1&&(k=0),o===0&&k>0&&(k-=2*Math.PI),o===1&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:Dg(e,[u,c])?0:t,ry:Dg(e,[u,c])?0:r,startAngle:w,endAngle:w+k,xRotation:i,arcFlag:a,sweepFlag:o}}function sse(e,n,t){return e.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=rt(i[1],i[2],0);t&&pn(o,o,t),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=rt(i[1],i[2],0),l=rt(i[3],i[4],0),u=rt(i[5],i[6],0);t&&(pn(s,s,t),pn(l,l,t),pn(u,u,t)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(l[0],",").concat(l[1],",").concat(u[0],",").concat(u[1])}else if(i[0]==="A"){var c=rt(i[6],i[7],0);t&&pn(c,c,t),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(c[0],",").concat(c[1])}else if(i[0]==="Q"){var f=rt(i[1],i[2],0),d=rt(i[3],i[4],0);t&&(pn(f,f,t),pn(d,d,t)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function lse(e,n,t,r){return[["M",e,n],["L",t,r]]}function vM(e,n,t,r){var i=(-1+Math.sqrt(2))/3*4,a=e*i,o=n*i,s=t-e,l=t+e,u=r-n,c=r+n;return[["M",s,r],["C",s,r-o,t-a,u,t,u],["C",t+a,u,l,r-o,l,r],["C",l,r+o,t+a,c,t,c],["C",t-a,c,s,r+o,s,r],["Z"]]}function use(e,n){var t=e.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return n&&t.push(["Z"]),t}function cse(e,n,t,r,i){if(i){var a=ze(i,4),o=a[0],s=a[1],l=a[2],u=a[3],c=e>0?1:-1,f=n>0?1:-1,d=c+f!==0?1:0;return[["M",c*o+t,r],["L",e-c*s+t,r],s?["A",s,s,0,0,d,e+t,f*s+r]:null,["L",e+t,n-f*l+r],l?["A",l,l,0,0,d,e+t-c*l,n+r]:null,["L",t+c*u,n+r],u?["A",u,u,0,0,d,t,n+r-f*u]:null,["L",t,f*o+r],o?["A",o,o,0,0,d,c*o+t,r]:null,["Z"]].filter(function(h){return h})}return[["M",t,r],["L",t+e,r],["L",t+e,r+n],["L",t,r+n],["Z"]]}function fse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLocalTransform(),t=[];switch(e.nodeName){case de.LINE:var r=e.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,l=r.x2,u=l===void 0?0:l,c=r.y2,f=c===void 0?0:c;t=lse(a,s,u,f);break;case de.CIRCLE:{var d=e.parsedStyle,h=d.r,p=h===void 0?0:h,v=d.cx,g=v===void 0?0:v,m=d.cy,y=m===void 0?0:m;t=vM(p,p,g,y);break}case de.ELLIPSE:{var b=e.parsedStyle,x=b.rx,_=x===void 0?0:x,w=b.ry,k=w===void 0?0:w,O=b.cx,S=O===void 0?0:O,E=b.cy,T=E===void 0?0:E;t=vM(_,k,S,T);break}case de.POLYLINE:case de.POLYGON:var M=e.parsedStyle.points;t=use(M.points,e.nodeName===de.POLYGON);break;case de.RECT:var P=e.parsedStyle,A=P.width,N=A===void 0?0:A,R=P.height,C=R===void 0?0:R,L=P.x,I=L===void 0?0:L,j=P.y,F=j===void 0?0:j,z=P.radius,D=z&&z.some(function(U){return U!==0});t=cse(N,C,I,F,D&&z.map(function(U){return Bt(U,0,Math.min(Math.abs(N)/2,Math.abs(C)/2))}));break;case de.PATH:var B=e.parsedStyle.d.absolutePath;t=Ke(B);break}if(t.length)return sse(t,e,n)}var pD=function(n){if(n===""||Array.isArray(n)&&n.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var t;try{t=xf(n)}catch{t=xf(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}tse(t);var r=nse(t),i=rse(t),a=i.polygons,o=i.polylines,s=ase(t),l=ise(s,0),u=l.x,c=l.y,f=l.width,d=l.height;return{absolutePath:t,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(d)?d:0}}},dse=yr(pD);function vD(e){return Wt(e)?dse(e):pD(e)}function hse(e,n,t){var r=e.curve,i=n.curve;(!r||r.length===0)&&(r=Ih(e.absolutePath,!1),e.curve=r),(!i||i.length===0)&&(i=Ih(n.absolutePath,!1),n.curve=i);var a=[r,i];r.length!==i.length&&(a=z_(r,i));var o=wg(a[0])!==wg(a[1])?K$(a[0]):q$(a[0]);return[o,eI(a[1],o),function(s){return s}]}function pse(e,n){var t;return Wt(e)?t=e.split(" ").map(function(r){var i=r.split(","),a=ze(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):t=e,{points:t,totalLength:0,segments:[]}}function vse(e,n){return[e.points,n.points,function(t){return t}]}var Vn=null,Uc=/\s*(\w+)\(([^)]*)\)/g;function Ci(e){return function(n){var t=0;return e.map(function(r){return r===Vn?n[t++]:r})}}function Vl(e){return e}var Vh={matrix:["NNNNNN",[Vn,Vn,0,0,Vn,Vn,0,0,0,0,1,0,Vn,Vn,0,1],Vl],matrix3d:["NNNNNNNNNNNNNNNN",Vl],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ci([Vn,Vn,new sn(1)]),Vl],scaleX:["N",Ci([Vn,new sn(1),new sn(1)]),Ci([Vn,new sn(1)])],scaleY:["N",Ci([new sn(1),Vn,new sn(1)]),Ci([new sn(1),Vn])],scaleZ:["N",Ci([new sn(1),new sn(1),Vn])],scale3d:["NNN",Vl],skew:["Aa",null,Vl],skewX:["A",null,Ci([Vn,Du])],skewY:["A",null,Ci([Du,Vn])],translate:["Tt",Ci([Vn,Vn,Va]),Vl],translateX:["T",Ci([Vn,Va,Va]),Ci([Vn,Va])],translateY:["T",Ci([Va,Vn,Va]),Ci([Va,Vn])],translateZ:["L",Ci([Va,Va,Vn])],translate3d:["TTL",Vl]};function gD(e){for(var n=[],t=e.length,r=0;r<t;r++){var i=e[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=Vh[a];if(!s)return[];var l=o.map(function(u){return In(u)});n.push({t:a,d:l})}return n}function mD(e){if(Array.isArray(e))return gD(e);if(e=(e||"none").trim(),e==="none")return[];var n=[],t,r=0;for(Uc.lastIndex=0;t=Uc.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],a=Vh[i];if(!a)return[];var o=t[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u],d=void 0;if(c?d={A:function(p){return p.trim()==="0"?Du:qoe(p)},N:_w,T:ww,L:Voe}[f.toUpperCase()](c):d={a:Du,n:l[0],t:Va}[f],d===void 0)return[];l.push(d)}if(n.push({t:i,d:l}),Uc.lastIndex===e.length)return n}return[]}function gse(e){if(Array.isArray(e))return gD(e);if(e=(e||"none").trim(),e==="none")return[];var n=[],t,r=0;for(Uc.lastIndex=0;t=Uc.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],a=Vh[i];if(!a)return[];var o=t[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u],d=void 0;if(c?d={A:function(p){return p.trim()==="0"?Du:cD(p)},N:dD,T:uD,L:lD}[f.toUpperCase()](c):d={a:Du,n:l[0],t:Va}[f],d===void 0)return[];l.push(d)}if(n.push({t:i,d:l}),Uc.lastIndex===e.length)return n}return[]}function mse(e){var n,t,r,i;switch(e.t){case"rotateX":return i=ln(Di(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=ln(Di(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=ln(Di(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":n=e.d[0].value,t=e.d[1].value,r=e.d[2].value,i=ln(Di(e.d[3]));var a=n*n+t*t+r*r;if(a===0)n=1,t=0,r=0;else if(a!==1){var o=Math.sqrt(a);n/=o,t/=o,r/=o}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(t*t+r*r)*u,2*(n*t*u+r*l),2*(n*r*u-t*l),0,2*(n*t*u-r*l),1-2*(n*n+r*r)*u,2*(t*r*u+n*l),0,2*(n*r*u+t*l),2*(t*r*u-n*l),1-2*(n*n+t*t)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=ln(Di(e.d[0])),f=ln(Di(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=ln(Di(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=ln(Di(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return n=qi(e.d[0],0,null)||0,t=qi(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,t,0,1];case"translateX":return n=qi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,0,0,1];case"translateY":return t=qi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,t,0,1];case"translateZ":return r=qi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return n=qi(e.d[0],0,null)||0,t=qi(e.d[1],0,null)||0,r=qi(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,t,r,1];case"perspective":var d=qi(e.d[0],0,null)||0,h=d?-1/d:0;return[1,0,0,0,0,1,0,0,0,0,1,h,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function yse(e,n){return[e[0]*n[0]+e[4]*n[1]+e[8]*n[2]+e[12]*n[3],e[1]*n[0]+e[5]*n[1]+e[9]*n[2]+e[13]*n[3],e[2]*n[0]+e[6]*n[1]+e[10]*n[2]+e[14]*n[3],e[3]*n[0]+e[7]*n[1]+e[11]*n[2]+e[15]*n[3],e[0]*n[4]+e[4]*n[5]+e[8]*n[6]+e[12]*n[7],e[1]*n[4]+e[5]*n[5]+e[9]*n[6]+e[13]*n[7],e[2]*n[4]+e[6]*n[5]+e[10]*n[6]+e[14]*n[7],e[3]*n[4]+e[7]*n[5]+e[11]*n[6]+e[15]*n[7],e[0]*n[8]+e[4]*n[9]+e[8]*n[10]+e[12]*n[11],e[1]*n[8]+e[5]*n[9]+e[9]*n[10]+e[13]*n[11],e[2]*n[8]+e[6]*n[9]+e[10]*n[10]+e[14]*n[11],e[3]*n[8]+e[7]*n[9]+e[11]*n[10]+e[15]*n[11],e[0]*n[12]+e[4]*n[13]+e[8]*n[14]+e[12]*n[15],e[1]*n[12]+e[5]*n[13]+e[9]*n[14]+e[13]*n[15],e[2]*n[12]+e[6]*n[13]+e[10]*n[14]+e[14]*n[15],e[3]*n[12]+e[7]*n[13]+e[11]*n[14]+e[15]*n[15]]}function bse(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(mse).reduce(yse)}function gM(e){var n=[0,0,0],t=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return Jae(bse(e),n,t,r,i,a),[[n,t,r,a,i]]}var xse=function(){function e(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)a[o][s]+=i[o][l]*r[l][s];return a}function n(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function t(r,i,a,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=s[u];for(var c=0;c<3;c++)for(var f=0;f<3;f++)l[3][c]+=r[f]*l[f][c];var d=o[0],h=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(h*h+p*p),g[0][1]=2*(d*h-p*v),g[0][2]=2*(d*p+h*v),g[1][0]=2*(d*h+p*v),g[1][1]=1-2*(d*d+p*p),g[1][2]=2*(h*p-d*v),g[2][0]=2*(d*p-h*v),g[2][1]=2*(h*p+d*v),g[2][2]=1-2*(d*d+h*h),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],l=e(l,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],l=e(l,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],l=e(l,m));for(var y=0;y<3;y++)for(var b=0;b<3;b++)l[y][b]*=i[y];return n(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return t}();function wse(e){return e.toFixed(6).replace(".000000","")}function sb(e,n){var t,r;return e.decompositionPair!==n&&(e.decompositionPair=n,t=gM(e)),n.decompositionPair!==e&&(n.decompositionPair=e,r=gM(n)),t[0]===null||r[0]===null?[[!1],[!0],function(i){return i?n[0].d:e[0].d}]:(t[0].push(0),r[0].push(1),[t,r,function(i){var a=kse(t[0][3],r[0][3],i[5]),o=xse(i[0],i[1],i[2],a,i[4]),s=o.map(wse).join(",");return s}])}function _se(e,n){for(var t=0,r=0;r<e.length;r++)t+=e[r]*n[r];return t}function kse(e,n,t){var r=_se(e,n);r=Bt(r,-1,1);var i=[];if(r===1)i=e;else for(var a=Math.acos(r),o=Math.sin(t*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(e[s]*(Math.cos(t*a)-r*o)+n[s]*o);return i}function lb(e){return e.replace(/[XY]/,"")}function ub(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var Ose=function(n,t){return n==="perspective"&&t==="perspective"||(n==="matrix"||n==="matrix3d")&&(t==="matrix"||t==="matrix3d")};function Sse(e,n,t){var r=!1;if(!e.length||!n.length){e.length||(r=!0,e=n,n=[]);for(var i=function(){var T=e[a],M=T.t,P=T.d,A=M.substring(0,5)==="scale"?1:0;n.push({t:M,d:P.map(function(N){return typeof N=="number"?In(A):In(A,N.unit)})})},a=0;a<e.length;a++)i()}var o=[],s=[],l=[];if(e.length!==n.length){var u=sb(e,n);o=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var f=e[c].t,d=n[c].t,h=e[c].d,p=n[c].d,v=Vh[f],g=Vh[d],m=void 0;if(Ose(f,d)){var y=sb([e[c]],[n[c]]);o.push(y[0]),s.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===d)m=f;else if(v[2]&&g[2]&&lb(f)===lb(d))m=lb(f),h=v[2](h),p=g[2](p);else if(v[1]&&g[1]&&ub(f)===ub(d))m=ub(f),h=v[1](h),p=g[1](p);else{var b=sb(e,n);o=[b[0]],s=[b[1]],l=[["matrix",[b[2]]]];break}for(var x=[],_=[],w=[],k=0;k<h.length;k++){var O=Koe(h[k],p[k],t,!1,k);x[k]=O[0],_[k]=O[1],w.push(O[2])}o.push(x),s.push(_),l.push([m,w])}if(r){var S=o;o=s,s=S}return[o,s,function(E){return E.map(function(T,M){var P=T.map(function(A,N){return l[M][1][N](A)}).join(",");return l[M][0]==="matrix"&&P.split(",").length===16&&(l[M][0]="matrix3d"),l[M][0]==="matrix3d"&&P.split(",").length===6&&(l[M][0]="matrix"),"".concat(l[M][0],"(").concat(P,")")}).join(" ")}]}var Ese=yr(function(e){if(Wt(e)){if(e==="text-anchor")return[In(0,"px"),In(0,"px")];var n=e.split(" ");return n.length===1&&(n[0]==="top"||n[0]==="bottom"?(n[1]=n[0],n[0]="center"):n[1]="center"),n.length!==2?null:[ww(mM(n[0])),ww(mM(n[1]))]}return[In(e[0]||0,"px"),In(e[1]||0,"px")]});function mM(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var wk=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ce.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ce.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ce.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ce.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ce.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ce.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ce.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ce.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ce.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ce.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ce.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ce.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ce.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ce.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ce.FILTER},{n:"clipPath",syntax:Ce.DEFINED_PATH},{n:"textPath",syntax:Ce.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ce.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ce.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ce.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ce.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ce.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ce.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ce.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ce.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ce.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ce.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ce.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ce.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ce.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ce.NUMBER,d:function(n){return n===de.PATH||n===de.POLYGON||n===de.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ce.MARKER},{n:"markerEnd",syntax:Ce.MARKER},{n:"markerMid",syntax:Ce.MARKER},{n:"markerStartOffset",syntax:Ce.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ce.LENGTH,l:!0,int:!0,d:"0"}],Tse=new Set(wk.filter(function(e){return!!e.l}).map(function(e){return e.n})),yD={},Mse=function(){function e(n){var t=this;se(this,e),this.runtime=n,wk.forEach(function(r){t.registerMetadata(r)})}return le(e,[{key:"registerMetadata",value:function(t){[t.n].concat(Ke(t.a||[])).forEach(function(r){yD[r]=t})}},{key:"getPropertySyntax",value:function(t){return this.runtime.CSSPropertySyntaxFactory[t]}},{key:"processProperties",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(t.attributes,r);var a=t.parsedStyle.clipPath,o=t.parsedStyle.offsetPath;Ase(t,r);var s=!!i.forceUpdateGeometry;if(!s){for(var l in r)if(Tse.has(l)){s=!0;break}}var u=bD(t);u.has("fill")&&r.fill&&(t.parsedStyle.fill=_u(r.fill)),u.has("stroke")&&r.stroke&&(t.parsedStyle.stroke=_u(r.stroke)),u.has("shadowColor")&&r.shadowColor&&(t.parsedStyle.shadowColor=_u(r.shadowColor)),u.has("filter")&&r.filter&&(t.parsedStyle.filter=Joe(r.filter)),u.has("radius")&&!je(r.radius)&&(t.parsedStyle.radius=uM(r.radius,4)),u.has("lineDash")&&!je(r.lineDash)&&(t.parsedStyle.lineDash=uM(r.lineDash,"even")),u.has("points")&&r.points&&(t.parsedStyle.points=pse(r.points)),u.has("d")&&r.d===""&&(t.parsedStyle.d=Xe({},nD)),u.has("d")&&r.d&&(t.parsedStyle.d=vD(r.d)),u.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ce.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},t,null),u.has("clipPath")&&!lt(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ce.DEFINED_PATH].calculator("clipPath",a,r.clipPath,t,this.runtime),u.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ce.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,t,this.runtime),u.has("transform")&&r.transform&&(t.parsedStyle.transform=mD(r.transform)),u.has("transformOrigin")&&r.transformOrigin&&(t.parsedStyle.transformOrigin=Ese(r.transformOrigin)),u.has("markerStart")&&r.markerStart&&(t.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ce.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),u.has("markerEnd")&&r.markerEnd&&(t.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ce.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),u.has("markerMid")&&r.markerMid&&(t.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ce.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),u.has("zIndex")&&!je(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ce.Z_INDEX].postProcessor(t),u.has("offsetDistance")&&!je(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ce.OFFSET_DISTANCE].postProcessor(t),u.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Ce.TRANSFORM].postProcessor(t),u.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ce.TRANSFORM_ORIGIN].postProcessor(t),s&&(t.geometry.dirty=!0,t.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(t))}},{key:"updateGeometry",value:function(t){var r=t.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=t.geometry;a.contentBounds||(a.contentBounds=new hr),a.renderBounds||(a.renderBounds=new hr);var o=t.parsedStyle,s=i.update(o,t),l=s.cx,u=l===void 0?0:l,c=s.cy,f=c===void 0?0:c,d=s.cz,h=d===void 0?0:d,p=s.hwidth,v=p===void 0?0:p,g=s.hheight,m=g===void 0?0:g,y=s.hdepth,b=y===void 0?0:y,x=[Math.abs(v),Math.abs(m),b],_=o.stroke,w=o.lineWidth,k=w===void 0?1:w,O=o.increasedLineWidthForHitTesting,S=O===void 0?0:O,E=o.shadowType,T=E===void 0?"outer":E,M=o.shadowColor,P=o.filter,A=P===void 0?[]:P,N=o.transformOrigin,R=[u,f,h];a.contentBounds.update(R,x);var C=r===de.POLYLINE||r===de.POLYGON||r===de.PATH?Math.SQRT2:.5,L=_&&!_.isNone;if(L){var I=((k||0)+(S||0))*C;x[0]+=I,x[1]+=I}if(a.renderBounds.update(R,x),M&&T&&T!=="inner"){var j=a.renderBounds,F=j.min,z=j.max,D=o.shadowBlur,B=o.shadowOffsetX,U=o.shadowOffsetY,q=D||0,$=B||0,W=U||0,Q=F[0]-q+$,oe=z[0]+q+$,ee=F[1]-q+W,H=z[1]+q+W;F[0]=Math.min(F[0],Q),z[0]=Math.max(z[0],oe),F[1]=Math.min(F[1],ee),z[1]=Math.max(z[1],H),a.renderBounds.setMinMax(F,z)}A.forEach(function(te){var ae=te.name,ue=te.params;if(ae==="blur"){var pe=ue[0].value;a.renderBounds.update(a.renderBounds.center,di(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[pe,pe,0]))}else if(ae==="drop-shadow"){var ve=ue[0].value,Te=ue[1].value,ne=ue[2].value,ce=a.renderBounds,be=ce.min,Ae=ce.max,Qe=be[0]-ne+ve,xe=Ae[0]+ne+ve,et=be[1]-ne+Te,at=Ae[1]+ne+Te;be[0]=Math.min(be[0],Qe),Ae[0]=Math.max(Ae[0],xe),be[1]=Math.min(be[1],et),Ae[1]=Math.max(Ae[1],at),a.renderBounds.setMinMax(be,Ae)}}),t.geometry.dirty=!1;var G=v<0,X=m<0,Y=(G?-1:1)*(N?qi(N[0],0,t,!0):0),re=(X?-1:1)*(N?qi(N[1],1,t,!0):0);(Y||re)&&t.setOrigin(Y,re)}}},{key:"updateSizeAttenuation",value:function(t,r){t.style.isSizeAttenuation?(t.style.rawLineWidth||(t.style.rawLineWidth=t.style.lineWidth),t.style.lineWidth=(t.style.rawLineWidth||1)/r,t.nodeName===de.CIRCLE&&(t.style.rawR||(t.style.rawR=t.style.r),t.style.r=(t.style.rawR||1)/r)):(t.style.rawLineWidth&&(t.style.lineWidth=t.style.rawLineWidth,delete t.style.rawLineWidth),t.nodeName===de.CIRCLE&&t.style.rawR&&(t.style.r=t.style.rawR,delete t.style.rawR))}}])}();function Ase(e,n){var t=bD(e);for(var r in n)t.has(r)&&(e.parsedStyle[r]=n[r])}function bD(e){return e.constructor.PARSED_STYLE_LIST}var Pse=function(){function e(){se(this,e),this.mixer=bk}return le(e,[{key:"calculator",value:function(t,r,i,a){return Di(i)}}])}(),Cse=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a,o){return i instanceof Ba&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(t,r,i,a),t==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),i}}])}(),Rse=function(){function e(){se(this,e),this.parser=_u,this.mixer=Uoe}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof Ba?i.value==="none"?aD:oD:i}}])}(),Nse=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i){return i instanceof Ba?[]:i}}])}();function yM(e){var n=e.parsedStyle,t=n.fontSize;return je(t)?null:t}var Sw=function(){function e(){se(this,e),this.mixer=bk}return le(e,[{key:"calculator",value:function(t,r,i,a,o){if(jt(i))return i;if(sn.isRelativeUnit(i.unit)){if(i.unit===$e.kPercentage)return 0;if(i.unit===$e.kEms){if(a.parentNode){var s=yM(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===$e.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var u=yM(a.ownerDocument.documentElement);if(u)return u*=i.value,u}return 0}}else return i.value}}])}(),Lse=function(){function e(){se(this,e),this.mixer=hD}return le(e,[{key:"calculator",value:function(t,r,i){return i.map(function(a){return a.value})}}])}(),$se=function(){function e(){se(this,e),this.mixer=hD}return le(e,[{key:"calculator",value:function(t,r,i){return i.map(function(a){return a.value})}}])}(),Ise=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){var o;i instanceof Ba&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),Dse=function(){function e(){se(this,e),this.mixer=bk}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}}])}(),Fse=function(){function e(){se(this,e),this.mixer=xk(0,1)}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}},{key:"postProcessor",value:function(t){var r=t.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===de.LINE||o===de.PATH||o===de.POLYLINE){var s=i.getPoint(a);s&&t.setLocalPosition(s.x,s.y)}}}}])}(),Bse=function(){function e(){se(this,e),this.mixer=xk(0,1)}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}}])}(),jse=function(){function e(){se(this,e),this.parser=vD,this.mixer=hse}return le(e,[{key:"calculator",value:function(t,r,i){return i instanceof Ba&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Af(0,0,0,0)}:i}}])}(),zse=le(function e(){se(this,e),this.mixer=vse}),Yse=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.mixer=xk(0,1/0),t}return We(n,e),le(n)}(Sw),Gse=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof Ba?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(t){t.nodeValue="".concat(t.parsedStyle.text)||""}}])}(),Wse=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])}(),cb=new WeakMap;function Hse(e,n,t){if(e){var r=typeof e=="string"?document.getElementById(e):e;cb.has(r)&&cb.get(r).destroy(t),cb.set(r,n)}}var _k=typeof window<"u"&&typeof window.document<"u";function Use(e){return!!e.getAttribute}function Vse(e,n){for(var t=0,r=e.length;t<r;){var i=t+r>>>1;xD(e[i],n)<0?t=i+1:r=i}return t}function xD(e,n){var t=Number(e.parsedStyle.zIndex||0),r=Number(n.parsedStyle.zIndex||0);if(t===r){var i=e.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(e)-a.indexOf(n)}}return t-r}function wD(e){var n=e;do{var t,r=(t=n.parsedStyle)===null||t===void 0?void 0:t.clipPath;if(r)return n;n=n.parentElement}while(n!==null);return null}var bM="px";function Xse(e,n,t){_k&&e.style&&(e.style.width=n+bM,e.style.height=t+bM)}function _D(e,n){if(_k)return document.defaultView.getComputedStyle(e,null).getPropertyValue(n)}function qse(e){var n=_D(e,"width");return n==="auto"?e.offsetWidth:parseFloat(n)}function Kse(e){var n=_D(e,"height");return n==="auto"?e.offsetHeight:parseFloat(n)}var Zse=1,Qse={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ew=typeof performance=="object"&&performance.now?performance:Date;function Fg(e){return e.nodeName===de.FRAGMENT?!0:e.getRootNode().nodeName===de.FRAGMENT}function tc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!n&&!n.isNone,o=!!t&&!t.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(r=a,i=o):e==="visiblefill"||e==="fill"?r=!0:e==="visiblestroke"||e==="stroke"?i=!0:(e==="visible"||e==="all")&&(r=!0,i=!0),[r,i]}var Jse=1,ele=function(){return Jse++},Xo=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},tle=Date.now(),nle=function(){return Xo.performance&&typeof Xo.performance.now=="function"?Xo.performance.now():Date.now()-tle},Ld={},xM=Date.now(),rle=function(n){if(typeof n!="function")throw new TypeError("".concat(n," is not a function"));var t=Date.now(),r=t-xM,i=r>16?0:16-r,a=ele();return Ld[a]=n,Object.keys(Ld).length>1||setTimeout(function(){xM=t;var o=Ld;Ld={},Object.keys(o).forEach(function(s){return o[s](nle())})},i),a},ile=function(n){delete Ld[n]},ale=["","webkit","moz","ms","o"],kD=function(n){return typeof n!="string"?rle:n===""?Xo.requestAnimationFrame:Xo["".concat(n,"RequestAnimationFrame")]},ole=function(n){return typeof n!="string"?ile:n===""?Xo.cancelAnimationFrame:Xo["".concat(n,"CancelAnimationFrame")]||Xo["".concat(n,"CancelRequestAnimationFrame")]},sle=function(n,t){for(var r=0;n[r]!==void 0;){if(t(n[r]))return n[r];r+=1}},OD=sle(ale,function(e){return!!kD(e)}),kk=kD(OD),SD=ole(OD);Xo.requestAnimationFrame=kk;Xo.cancelAnimationFrame=SD;var lle=function(){function e(){se(this,e),this.callbacks=[]}return le(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(t,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])}(),ule=function(){function e(){se(this,e),this.callbacks=[]}return le(e,[{key:"tapPromise",value:function(t,r){this.callbacks.push(r)}},{key:"promise",value:function(){var n=_l(Qr().mark(function r(){var i,a,o,s,l=arguments;return Qr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.callbacks.length){u.next=6;break}return u.next=1,(i=this.callbacks)[0].apply(i,l);case 1:a=u.sent,o=0;case 2:if(!(o<this.callbacks.length-1)){u.next=5;break}return s=this.callbacks[o],u.next=3,s(a);case 3:a=u.sent;case 4:o++,u.next=2;break;case 5:return u.abrupt("return",a);case 6:return u.abrupt("return",null);case 7:case"end":return u.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()}])}(),vi=function(){function e(){se(this,e),this.callbacks=[]}return le(e,[{key:"tap",value:function(t,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(o){o.apply(void 0,a)})}}])}(),fb=function(){function e(){se(this,e),this.callbacks=[]}return le(e,[{key:"tap",value:function(t,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,o=this.callbacks[0].apply(void 0,a),s=0;s<this.callbacks.length-1;s++){var l=this.callbacks[s];o=l(o)}return o}return null}}])}(),cle=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],fle=/([\"\'])[^\'\"]+\1/;function wM(e){var n=e.fontSize,t=n===void 0?16:n,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontStyle,o=a===void 0?"normal":a,s=e.fontVariant,l=s===void 0?"normal":s,u=e.fontWeight,c=u===void 0?"normal":u;return{fontSize:t,fontFamily:i,fontStyle:o,fontVariant:l,fontWeight:c}}var _M=yr(function(n){for(var t=wM(n),r=t.fontSize,i=t.fontFamily,a=t.fontStyle,o=t.fontVariant,s=t.fontWeight,l=jt(r)&&"".concat(r,"px")||"16px",u=i.split(","),c=u.length-1;c>=0;c--){var f=u[c].trim();!fle.test(f)&&cle.indexOf(f)<0&&(f='"'.concat(f,'"')),u[c]=f}return"".concat(a," ").concat(o," ").concat(s," ").concat(l," ").concat(u.join(","))},function(e){var n=wM(e),t=n.fontSize,r=n.fontFamily,i=n.fontStyle,a=n.fontVariant,o=n.fontWeight;return"".concat(i,"_").concat(a,"_").concat(o,"_").concat(t,"_").concat(r)}),dle=1e-6,bd=function(n){return Math.max(n,dle)};function db(e,n,t){return oa(e),e[4]=Math.tan(n),e[1]=Math.tan(t),e}var ur=ut(),hle=ut(),ple={scale:function(n){Qi(ur,[n[0].value,n[1].value,1].map(function(t){return bd(t)}))},scaleX:function(n){Qi(ur,[n[0].value,1,1].map(function(t){return bd(t)}))},scaleY:function(n){Qi(ur,[1,n[0].value,1].map(function(t){return bd(t)}))},scaleZ:function(n){Qi(ur,[1,1,n[0].value].map(function(t){return bd(t)}))},scale3d:function(n){Qi(ur,[n[0].value,n[1].value,n[2].value].map(function(t){return bd(t)}))},translate:function(n){ui(ur,[n[0].value,n[1].value,0])},translateX:function(n){ui(ur,[n[0].value,0,0])},translateY:function(n){ui(ur,[0,n[0].value,0])},translateZ:function(n){ui(ur,[0,0,n[0].value])},translate3d:function(n){ui(ur,[n[0].value,n[1].value,n[2].value])},rotate:function(n){Lh(ur,ln(Di(n[0])))},rotateX:function(n){N_(ur,ln(Di(n[0])))},rotateY:function(n){L_(ur,ln(Di(n[0])))},rotateZ:function(n){Lh(ur,ln(Di(n[0])))},rotate3d:function(n){R_(ur,ln(Di(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){db(ur,ln(n[0].value),ln(n[1].value))},skewX:function(n){db(ur,ln(n[0].value),0)},skewY:function(n){db(ur,0,ln(n[0].value))},matrix:function(n){Nh(ur,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){Nh.apply(I$,[ur].concat(Ke(n.map(function(t){return t.value}))))}},vle=rt(1,1,1),gle=Ze(),kM={translate:function(n,t){_e.sceneGraphService.setLocalScale(n,vle,!1),_e.sceneGraphService.setLocalEulerAngles(n,gle,void 0,void 0,!1),_e.sceneGraphService.setLocalPosition(n,[t[0].value,t[1].value,0],!1),_e.sceneGraphService.dirtyLocalTransform(n,n.transformable)}};function ED(e,n){if(e.length){if(e.length===1&&kM[e[0].t]){kM[e[0].t](n,e[0].d);return}for(var t=oa(hle),r=0;r<e.length;r++){var i=e[r],a=i.t,o=i.d,s=ple[a];s&&(s(o),iy(t,t,ur))}n.setLocalTransform(t)}else n.resetLocalTransform();return n.getLocalTransform()}var mle=function(){function e(){se(this,e),this.parser=gse,this.mixer=Sse}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof Ba?[]:i}},{key:"postProcessor",value:function(t){ED(t.parsedStyle.transform,t)}}])}(),yle=function(){function e(){se(this,e)}return le(e,[{key:"postProcessor",value:function(t){var r=t.parsedStyle.transformOrigin;r[0].unit===$e.kPixels&&r[1].unit===$e.kPixels?t.setOrigin(r[0].value,r[1].value):t.getGeometryBounds()}}])}(),ble=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){return i.value}},{key:"postProcessor",value:function(t){if(t.parentNode){var r=t.parentNode,i=r.renderable,a=r.sortable;i&&r.dirty(),a&&(a.dirty=!0,a.dirtyReason=Ng.Z_INDEX_CHANGED)}}}])}(),xle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.cx,a=i===void 0?0:i,o=t.cy,s=o===void 0?0:o,l=t.r,u=l===void 0?0:l;return{cx:a,cy:s,hwidth:u,hheight:u}}}])}(),wle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.cx,a=i===void 0?0:i,o=t.cy,s=o===void 0?0:o,l=t.rx,u=l===void 0?0:l,c=t.ry,f=c===void 0?0:c;return{cx:a,cy:s,hwidth:u,hheight:f}}}])}(),_le=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=Math.min(r,a),l=Math.max(r,a),u=Math.min(i,o),c=Math.max(i,o),f=l-s,d=c-u,h=f/2,p=d/2;return{cx:s+h,cy:u+p,hwidth:h,hheight:p}}}])}(),kle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){var r=t.d,i=r.rect,a=i.x,o=i.y,s=i.width,l=i.height,u=s/2,c=l/2;return{cx:a+u,cy:o+c,hwidth:u,hheight:c}}}])}(),Ole=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){if(t.points&&zr(t.points.points)){var r=t.points.points,i=Math.min.apply(Math,Ke(r.map(function(d){return d[0]}))),a=Math.max.apply(Math,Ke(r.map(function(d){return d[0]}))),o=Math.min.apply(Math,Ke(r.map(function(d){return d[1]}))),s=Math.max.apply(Math,Ke(r.map(function(d){return d[1]}))),l=a-i,u=s-o,c=l/2,f=u/2;return{cx:i+c,cy:o+f,hwidth:c,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Sle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o,l=t.src,u=t.width,c=u===void 0?0:u,f=t.height,d=f===void 0?0:f,h=c,p=d;return l&&!Wt(l)&&(h||(h=l.width,t.width=h),p||(p=l.height,t.height=p)),{cx:a+h/2,cy:s+p/2,hwidth:h/2,hheight:p/2}}}])}(),Ele=function(){function e(n){se(this,e),this.globalRuntime=n}return le(e,[{key:"isReadyToMeasure",value:function(t,r){var i=t.text;return i}},{key:"update",value:function(t,r){var i,a=t.text,o=t.textAlign,s=o===void 0?"start":o,l=t.lineWidth,u=l===void 0?1:l,c=t.textBaseline,f=c===void 0?"alphabetic":c,d=t.dx,h=d===void 0?0:d,p=t.dy,v=p===void 0?0:p,g=t.x,m=g===void 0?0:g,y=t.y,b=y===void 0?0:y;if(!this.isReadyToMeasure(t,r))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var x=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},_=x.offscreenCanvas,w=this.globalRuntime.textService.measureText(a,t,_);t.metrics=w;var k=w.width,O=w.height,S=k/2,E=O/2,T=m+S;s==="center"||s==="middle"?T+=u/2-S:(s==="right"||s==="end")&&(T+=u-S*2);var M=b-E;return f==="middle"?M+=E:f==="top"||f==="hanging"?M+=E*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(M+=0),h&&(T+=h),v&&(M+=v),{cx:T,cy:M,hwidth:S,hheight:E}}}])}(),Tle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Mle=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o,l=t.width,u=l===void 0?0:l,c=t.height,f=c===void 0?0:c;return{cx:a+u/2,cy:s+f/2,hwidth:u/2,hheight:f/2}}}])}(),Sy=function(){function e(n){se(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Kr,this.page=new Kr,this.canvas=new Kr,this.viewport=new Kr,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=n}return le(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(on)}}])}(),TD=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.client=new Kr,t.movement=new Kr,t.offset=new Kr,t.global=new Kr,t.screen=new Kr,t}return We(n,e),le(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(on)}}])}(Sy),Tw=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.width=0,t.height=0,t.isPrimary=!1,t}return We(n,e),le(n,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(TD),Mw=function(e){function n(){return se(this,n),Ge(this,n,arguments)}return We(n,e),le(n,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(TD),Ir=function(e){function n(t,r){var i;return se(this,n),i=Ge(this,n,[null]),i.type=t,i.detail=r,Object.assign(i,r),i}return We(n,e),le(n)}(Sy),MD=function(){function e(){se(this,e),this.emitter=new _y}return le(e,[{key:"on",value:function(t,r,i){return this.addEventListener(t,r,i),this}},{key:"addEventListener",value:function(t,r,i){var a=!1,o=!1;if(vg(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var l=i.once;o=l===void 0?!1:l}a&&(t+="capture"),r=tr(r)?r:r.handleEvent;var u=tr(r)?void 0:r;return o?this.emitter.once(t,r,u):this.emitter.on(t,r,u),this}},{key:"off",value:function(t,r,i){return t?this.removeEventListener(t,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var t;(t=this.emitter)===null||t===void 0||t.removeAllListeners()}},{key:"removeEventListener",value:function(t,r,i){var a;if(!this.emitter)return this;var o=vg(i)?i:i==null?void 0:i.capture;o&&(t+="capture"),r=tr(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=tr(r)?void 0:r;return this.emitter.off(t,r,s),this}},{key:"emit",value:function(t,r){this.dispatchEvent(new Ir(t,r))}},{key:"dispatchEventToSelf",value:function(t){t.target||(t.target=this),t.currentTarget=this,this.emitter.emit(t.type,t)}},{key:"dispatchEvent",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(t),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){if(t.manager=a.getEventService(),!t.manager)return!1;t.defaultPrevented=!1,t.path?t.path.length=0:t.page=[],r||(t.target=this),t.manager.dispatchEvent(t,t.type,r)}else this.dispatchEventToSelf(t);return!t.defaultPrevented}}])}(),zn=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t.destroyed=!1,t}return We(n,e),le(n,[{key:"textContent",get:function(){var r="";this.nodeName===de.TEXT&&(r+=this.style.text);var i=Ji(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===de.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===de.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(on)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(on)}},{key:"lookupPrefix",value:function(r){throw new Error(on)}},{key:"normalize",value:function(){throw new Error(on)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return n.DOCUMENT_POSITION_DISCONNECTED|n.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|n.DOCUMENT_POSITION_PRECEDING;var u=o.length>s.length?o:s,c=u===o?s:o;if(u[u.length-c.length]===c[0])return u===o?n.DOCUMENT_POSITION_CONTAINED_BY|n.DOCUMENT_POSITION_FOLLOWING:n.DOCUMENT_POSITION_CONTAINS|n.DOCUMENT_POSITION_PRECEDING;for(var f=u.length-c.length,d=c.length-1;d>=0;d--){var h=c[d],p=u[f+d];if(p!==h){var v=h.parentNode.childNodes;return v.indexOf(h)<v.indexOf(p)?c===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING:u===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING}}return n.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(MD);zn.DOCUMENT_POSITION_DISCONNECTED=1;zn.DOCUMENT_POSITION_PRECEDING=2;zn.DOCUMENT_POSITION_FOLLOWING=4;zn.DOCUMENT_POSITION_CONTAINS=8;zn.DOCUMENT_POSITION_CONTAINED_BY=16;zn.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Ale=2048,Ple=function(){function e(n,t){var r=this;se(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=ut(),this.tmpVec3=Ze(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=Ew.now(),o=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var l=r.trackingData(i.pointerId),u=r.findMountedTarget(l.pressTargetsByButton[i.button]),c=u;if(u&&!o.composedPath().includes(u)){for(var f=u;f&&!o.composedPath().includes(f);){if(o.currentTarget=f,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var d=o.button===2;r.notifyTarget(o,d?"rightupoutside":"mouseupoutside")}zn.isNode(f)&&(f=f.parentNode)}delete l.pressTargetsByButton[i.button],c=f}if(c){var h,p=r.clonePointerEvent(o,"click");p.target=c,p.path=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:p.target,timeStamp:a});var v=r.context.renderingContext.root.ownerDocument.defaultView,g=l.clicksByButton[i.button];g.target===p.target&&a-g.timeStamp<v.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=p.target,g.timeStamp=a,p.detail=g.clickCount,(h=o.detail)!==null&&h!==void 0&&h.preventClick||(!r.context.config.useNativeClickEvent&&(p.pointerType==="mouse"||p.pointerType==="touch")&&r.dispatchEvent(p,"click"),r.dispatchEvent(p,"pointertap")),r.freeEvent(p)}r.freeEvent(o)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==a.target){var u=i.type==="mousemove"?"mouseout":"pointerout",c=r.createPointerEvent(i,u,l||void 0);if(r.dispatchEvent(c,"pointerout"),o&&r.dispatchEvent(c,"mouseout"),!a.composedPath().includes(l)){var f=r.createPointerEvent(i,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!a.composedPath().includes(f.target);)f.currentTarget=f.target,r.notifyTarget(f),o&&r.notifyTarget(f,"mouseleave"),zn.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(c)}if(l!==a.target){var d=i.type==="mousemove"?"mouseover":"pointerover",h=r.clonePointerEvent(a,d);r.dispatchEvent(h,"pointerover"),o&&r.dispatchEvent(h,"mouseover");for(var p=l&&zn.isNode(l)&&l.parentNode;p&&p!==(zn.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&p!==a.target;)p=p.parentNode;var v=!p||p===(zn.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(v){var g=r.clonePointerEvent(a,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(zn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)g.currentTarget=g.target,r.notifyTarget(g),o&&r.notifyTarget(g,"mouseenter"),zn.isNode(g.target)&&(g.target=g.target.parentNode);r.freeEvent(g)}r.freeEvent(h)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),l=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var u=r.createPointerEvent(i,"pointerleave",s||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(zn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)u.currentTarget=u.target,r.notifyTarget(u),o&&r.notifyTarget(u,"mouseleave"),zn.isNode(u.target)&&(u.target=u.target.parentNode);a.overTargets=null,r.freeEvent(l),r.freeEvent(u)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(zn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),zn.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),zn.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=n,this.context=t}return le(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var t=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&t){var o=a.offsetWidth,s=a.offsetHeight;o&&s&&(r=t.width/o,i=t.height/s)}return{scaleX:r,scaleY:i,bbox:t}}},{key:"client2Viewport",value:function(t){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Kr((t.x-((o==null?void 0:o.left)||0))/i,(t.y-((o==null?void 0:o.top)||0))/a)}},{key:"viewport2Client",value:function(t){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Kr((t.x+((o==null?void 0:o.left)||0))*i,(t.y+((o==null?void 0:o.top)||0))*a)}},{key:"viewport2Canvas",value:function(t){var r=t.x,i=t.y,a=this.rootTarget.defaultView,o=a.getCamera(),s=this.context.config,l=s.width,u=s.height,c=o.getPerspectiveInverse(),f=o.getWorldTransform(),d=Gn(this.tmpMatrix,f,c),h=gn(this.tmpVec3,r/l*2-1,(1-i/u)*2-1,0);return pn(h,h,d),new Kr(h[0],h[1])}},{key:"canvas2Viewport",value:function(t){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),o=i.getViewTransform(),s=Gn(this.tmpMatrix,a,o),l=gn(this.tmpVec3,t.x,t.y,0);pn(this.tmpVec3,this.tmpVec3,s);var u=this.context.config,c=u.width,f=u.height;return new Kr((l[0]+1)/2*c,(1-(l[1]+1)/2)*f)}},{key:"setPickHandler",value:function(t){this.pickHandler=t}},{key:"addEventMapping",value:function(t,r){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:r,priority:0}),this.mappingTable[t].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(t){if(this.rootTarget){var r=this.mappingTable[t.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(t);else console.warn("[EventService]: Event mapping not defined for ".concat(t.type))}}},{key:"dispatchEvent",value:function(t,r,i){if(!i)t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,r);else{t.eventPhase=t.AT_TARGET;var a=this.rootTarget.defaultView||null;t.currentTarget=a,this.notifyListeners(t,r)}}},{key:"propagate",value:function(t,r){if(t.target){var i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(t.currentTarget=i[a],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,r),!(t.propagationStopped||t.propagationImmediatelyStopped)){var o=i.indexOf(t.currentTarget);t.eventPhase=t.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(t.currentTarget=i[s],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(t){var r=[t],i=this.rootTarget.defaultView||null;if(i&&i===t)return r.unshift(i.document),r;for(var a=0;a<Ale&&t!==this.rootTarget;a++)zn.isNode(t)&&t.parentNode&&(r.push(t.parentNode),t=t.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(t){var r=t.viewportX,i=t.viewportY,a=this.context.config,o=a.width,s=a.height,l=a.disableHitTesting;return r<0||i<0||r>o||i>s?null:!l&&this.pickHandler(t)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(t,r){var i,a=r==null?void 0:r.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===t)return!0;if(t&&t.contains)return t.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(t)>-1:!1}},{key:"getExistedHTML",value:function(t){if(t.nativeEvent.composedPath)for(var r=0,i=t.nativeEvent.composedPath();r<i.length;r++){var a=i[r],o=this.nativeHTMLMap.get(a);if(o)return o}return null}},{key:"pickTarget",value:function(t){return this.hitTest({clientX:t.clientX,clientY:t.clientY,viewportX:t.viewportX,viewportY:t.viewportY,x:t.canvasX,y:t.canvasY})}},{key:"createPointerEvent",value:function(t,r,i,a){var o=this.allocateEvent(Tw);this.copyPointerData(t,o),this.copyMouseData(t,o),this.copyData(t,o),o.nativeEvent=t.nativeEvent,o.originalEvent=t;var s=this.getExistedHTML(o),l=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(l,o.nativeEvent)&&this.pickTarget(o)||a),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(t){var r=this.allocateEvent(Mw);this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}},{key:"cloneWheelEvent",value:function(t){var r=this.allocateEvent(Mw);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=t.type,r}},{key:"clonePointerEvent",value:function(t,r){var i=this.allocateEvent(Tw);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=r??i.type,i}},{key:"copyPointerData",value:function(t,r){r.pointerId=t.pointerId,r.width=t.width,r.height=t.height,r.isPrimary=t.isPrimary,r.pointerType=t.pointerType,r.pressure=t.pressure,r.tangentialPressure=t.tangentialPressure,r.tiltX=t.tiltX,r.tiltY=t.tiltY,r.twist=t.twist}},{key:"copyMouseData",value:function(t,r){r.altKey=t.altKey,r.button=t.button,r.buttons=t.buttons,r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.shiftKey=t.shiftKey,r.client.copyFrom(t.client),r.movement.copyFrom(t.movement),r.canvas.copyFrom(t.canvas),r.screen.copyFrom(t.screen),r.global.copyFrom(t.global),r.offset.copyFrom(t.offset)}},{key:"copyWheelData",value:function(t,r){r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ}},{key:"copyData",value:function(t,r){r.isTrusted=t.isTrusted,r.timeStamp=Ew.now(),r.type=t.type,r.detail=t.detail,r.view=t.view,r.page.copyFrom(t.page),r.viewport.copyFrom(t.viewport)}},{key:"allocateEvent",value:function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var r=this.eventPool.get(t).pop()||new t(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=t.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(t)}},{key:"notifyTarget",value:function(t,r){r=r??t.type;var i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,r)}},{key:"notifyListeners",value:function(t,r){var i=t.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(t.currentTarget||a.context,t);else for(var o=0;o<a.length&&!t.propagationImmediatelyStopped;o++)a[o].once&&i.removeListener(r,a[o].fn,void 0,!0),a[o].fn.call(t.currentTarget||a[o].context,t)}},{key:"findMountedTarget",value:function(t){if(!t)return null;for(var r=t[t.length-1],i=t.length-2;i>=0;i--){var a=t[i];if(a===this.rootTarget||zn.isNode(a)&&a.parentNode===r)r=t[i];else break}return r}},{key:"getCursor",value:function(t){for(var r=t;r;){var i=Use(r)&&r.getAttribute("cursor");if(i)return i;r=zn.isNode(r)&&r.parentNode}}}])}(),Ok=function(){function e(){se(this,e)}return le(e,[{key:"getOrCreateCanvas",value:function(t,r){if(this.canvas)return this.canvas;if(t||_e.offscreenCanvas)this.canvas=t||_e.offscreenCanvas,this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(t,r){return this.context?this.context:(this.getOrCreateCanvas(t,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),Vc=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Cle=function(){function e(n,t){se(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new vi,initAsync:new lle,dirtycheck:new fb,cull:new fb,beginFrame:new vi,beforeRender:new vi,render:new vi,afterRender:new vi,endFrame:new vi,destroy:new vi,pick:new ule,pickSync:new fb,pointerDown:new vi,pointerUp:new vi,pointerMove:new vi,pointerOut:new vi,pointerOver:new vi,pointerWheel:new vi,pointerCancel:new vi,click:new vi},this.globalRuntime=n,this.context=t}return le(e,[{key:"init",value:function(t){var r=this,i=Xe(Xe({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,t()):this.hooks.initAsync.promise().then(function(){r.inited=!0,t()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var t=this.context.config.renderer,r=t.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(Vc.CAMERA_CHANGED)}},{key:"render",value:function(t,r,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=o.renderReasons.size===1&&o.renderReasons.has(Vc.CAMERA_CHANGED),l=!t.disableRenderHooks||!s;l&&this.renderDisplayObject(o.root,t,o),this.hooks.beginFrame.call(r),l&&o.renderListCurrentFrame.forEach(function(u){a.hooks.beforeRender.call(u),a.hooks.render.call(u),a.hooks.afterRender.call(u)}),this.hooks.endFrame.call(r),o.renderListCurrentFrame=[],o.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(t,r,i){var a=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,l=o.enableCulling;function u(v){var g=v.renderable,m=v.sortable,y=s?g.dirty||i.dirtyRectangleRenderingDisabled?v:null:v,b=null;y&&(b=l?a.hooks.cull.call(y,a.context.camera):y,b&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(b))),v.dirty(!1),m.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,m.dirty&&(a.sort(v,m),m.dirty=!1,m.dirtyChildren=[],m.dirtyReason=void 0)}for(var c=[t];c.length>0;){var f,d=c.pop();u(d);for(var h=((f=d.sortable)===null||f===void 0||(f=f.sorted)===null||f===void 0?void 0:f.length)>0?d.sortable.sorted:d.childNodes,p=h.length-1;p>=0;p--)c.push(h[p])}}},{key:"sort",value:function(t,r){var i,a;(r==null||(i=r.sorted)===null||i===void 0?void 0:i.length)>0&&r.dirtyReason!==Ng.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var l=t.childNodes.indexOf(o);if(l>-1)if(r.sorted.length===0)r.sorted.push(o);else{var u=Vse(r.sorted,o);r.sorted.splice(u,0,o)}}):r.sorted=t.childNodes.slice().sort(xD),((a=r.sorted)===null||a===void 0?void 0:a.length)>0&&t.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Vc.DISPLAY_OBJECT_CHANGED)}}])}(),Rle=/\[\s*(.*)=(.*)\s*\]/,Nle=function(){function e(){se(this,e)}return le(e,[{key:"selectOne",value:function(t,r){var i=this;if(t.startsWith("."))return r.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(t))>-1});if(t.startsWith("#"))return r.find(function(l){return l.id===i.getIdOrClassname(t)});if(t.startsWith("[")){var a=this.getAttribute(t),o=a.name,s=a.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===t})}},{key:"selectAll",value:function(t,r){var i=this;if(t.startsWith("."))return r.findAll(function(l){return r!==l&&((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(t))>-1});if(t.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===i.getIdOrClassname(t)});if(t.startsWith("[")){var a=this.getAttribute(t),o=a.name,s=a.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===t})}},{key:"is",value:function(t,r){if(t.startsWith("."))return r.className===this.getIdOrClassname(t);if(t.startsWith("#"))return r.id===this.getIdOrClassname(t);if(t.startsWith("[")){var i=this.getAttribute(t),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===t}},{key:"getIdOrClassname",value:function(t){return t.substring(1)}},{key:"getAttribute",value:function(t){var r=t.match(Rle),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(t,r){if(!t.getAttribute)return"";var i=t.getAttribute(r);return je(i)?"":i.toString?i.toString():""}}])}(),Dt=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),ns=function(e){function n(t,r,i,a,o,s,l,u){var c;return se(this,n),c=Ge(this,n,[null]),c.relatedNode=r,c.prevValue=i,c.newValue=a,c.attrName=o,c.attrChange=s,c.prevParsedValue=l,c.newParsedValue=u,c.type=t,c}return We(n,e),le(n)}(Sy);ns.ADDITION=2;ns.MODIFICATION=1;ns.REMOVAL=3;var Lle=new ns(Dt.REPARENT,null,"","","",0,"",""),$le=Mp(),yv=Ze(),Ile=rt(1,1,1),Dle=ut(),Fle=Mp(),Xl=Ze(),Ble=ut(),ql=Ct(),jle=Ze(),zle=Ct(),Yle=Ze(),xd=Ze(),Kl=Ze(),bv=ut(),OM=Ct(),SM=Ct(),xv=Ct(),wv={affectChildren:!0},Gle=function(){function e(n){se(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Ir(Dt.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=n}return le(e,[{key:"matches",value:function(t,r){return this.runtime.sceneGraphSelector.is(t,r)}},{key:"querySelector",value:function(t,r){return this.runtime.sceneGraphSelector.selectOne(t,r)}},{key:"querySelectorAll",value:function(t,r){return this.runtime.sceneGraphSelector.selectAll(t,r)}},{key:"attach",value:function(t,r,i){var a,o=!1;t.parentNode&&(o=t.parentNode!==r,this.detach(t));var s=t.nodeName===de.FRAGMENT,l=Fg(r);t.parentNode=r;var u=s?t.childNodes:[t];jt(i)?u.forEach(function(v){r.childNodes.splice(i,0,v),v.parentNode=r}):u.forEach(function(v){r.childNodes.push(v),v.parentNode=r});var c=r,f=c.sortable;if((f!=null&&(a=f.sorted)!==null&&a!==void 0&&a.length||f.dirty||t.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(t)===-1&&f.dirtyChildren.push(t),f.dirty=!0,f.dirtyReason=Ng.ADDED),!l){if(s)this.dirtifyFragment(t);else{var d=t.transformable;d&&this.dirtyWorldTransform(t,d)}if(o){var h,p=((h=r.ownerDocument)===null||h===void 0||(h=h.defaultView)===null||h===void 0||(h=h.getConfig())===null||h===void 0||(h=h.future)===null||h===void 0?void 0:h.experimentalCancelEventPropagation)===!0;t.dispatchEvent(Lle,p,p)}}}},{key:"detach",value:function(t){var r,i;if(t.parentNode){var a=t.transformable,o=t.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=t.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(t)===-1&&s.dirtyChildren.push(t),s.dirty=!0,s.dirtyReason=Ng.REMOVED);var l=t.parentNode.childNodes.indexOf(t);l>-1&&t.parentNode.childNodes.splice(l,1),a&&this.dirtyWorldTransform(t,a),t.parentNode=null}}},{key:"getLocalPosition",value:function(t){return t.transformable.localPosition}},{key:"getLocalRotation",value:function(t){return t.transformable.localRotation}},{key:"getLocalScale",value:function(t){return t.transformable.localScale}},{key:"getLocalSkew",value:function(t){return t.transformable.localSkew}},{key:"getLocalTransform",value:function(t){var r=t.transformable;return QT(r),r.localTransform}},{key:"setLocalPosition",value:function(t,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t.transformable;xd[0]=r[0],xd[1]=r[1],xd[2]=(i=r[2])!==null&&i!==void 0?i:0,!Do(o.localPosition,xd)&&(Or(o.localPosition,xd),a&&this.dirtyLocalTransform(t,o))}},{key:"translateLocal",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;Do(r,yv)||(j$(r,r,o.localRotation),di(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(t,o))}},{key:"setLocalRotation",value:function(t,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=bg(ql,r,i,a,o));var l=t.transformable;cl(l.localRotation,r),s&&this.dirtyLocalTransform(t,l)}},{key:"rotateLocal",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;ul(SM,r[0],r[1],r[2]),xg(o.localRotation,o.localRotation,SM),this.dirtyLocalTransform(t,o)}},{key:"setLocalScale",value:function(t,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t.transformable;gn(Xl,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!Do(Xl,o.localScale)&&(Or(o.localScale,Xl),a&&this.dirtyLocalTransform(t,o))}},{key:"scaleLocal",value:function(t,r){var i,a=t.transformable;D$(a.localScale,a.localScale,gn(Xl,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(t,a)}},{key:"setLocalSkew",value:function(t,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=W$(Fle,r,i));var o=t.transformable;G$(o.localSkew,r),a&&this.dirtyLocalTransform(t,o)}},{key:"setLocalEulerAngles",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=rt(r,i,a));var s=t.transformable;ul(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(t,s)}},{key:"setLocalTransform",value:function(t,r){var i=Cu(jle,r),a=Ru(zle,r),o=es(Yle,r);this.setLocalScale(t,o,!1),this.setLocalPosition(t,i,!1),this.setLocalRotation(t,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(t,t.transformable)}},{key:"resetLocalTransform",value:function(t){this.setLocalScale(t,Ile,!1),this.setLocalPosition(t,yv,!1),this.setLocalEulerAngles(t,yv,void 0,void 0,!1),this.setLocalSkew(t,$le,void 0,!1),this.dirtyLocalTransform(t,t.transformable)}},{key:"getPosition",value:function(t){var r=t.transformable;return Cu(r.position,this.getWorldTransform(t,r))}},{key:"getRotation",value:function(t){var r=t.transformable;return Ru(r.rotation,this.getWorldTransform(t,r))}},{key:"getScale",value:function(t){var r=t.transformable;return es(r.scaling,this.getWorldTransform(t,r))}},{key:"getOrigin",value:function(t){return t.getGeometryBounds(),t.transformable.origin}},{key:"getWorldTransform",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.internalUpdateTransform(t)),r.worldTransform}},{key:"setPosition",value:function(t,r){var i,a=t.transformable;if(Kl[0]=r[0],Kl[1]=r[1],Kl[2]=(i=r[2])!==null&&i!==void 0?i:0,!Do(this.getPosition(t),Kl)){if(Or(a.position,Kl),t.parentNode===null||!t.parentNode.transformable)Or(a.localPosition,Kl);else{var o=t.parentNode.transformable;$s(bv,o.worldTransform),Mr(bv,bv),pn(a.localPosition,Kl,bv)}this.dirtyLocalTransform(t,a)}}},{key:"translate",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=gn(Xl,r,i,a)),!Do(r,yv)&&(di(Xl,this.getPosition(t),r),this.setPosition(t,Xl))}},{key:"setRotation",value:function(t,r,i,a,o){var s=t.transformable;if(typeof r=="number"&&(r=Y$(r,i,a,o)),t.parentNode===null||!t.parentNode.transformable)this.setLocalRotation(t,r);else{var l=this.getRotation(t.parentNode);cl(ql,l),Gc(ql,ql),Ti(s.localRotation,ql,r),bf(s.localRotation,s.localRotation),this.dirtyLocalTransform(t,s)}}},{key:"rotate",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;if(t.parentNode===null||!t.parentNode.transformable)this.rotateLocal(t,r);else{var s=ql;ul(s,r[0],r[1],r[2]);var l=this.getRotation(t),u=this.getRotation(t.parentNode);cl(xv,u),Gc(xv,xv),Ti(s,xv,s),Ti(o.localRotation,s,l),bf(o.localRotation,o.localRotation),this.dirtyLocalTransform(t,o)}}},{key:"setOrigin",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=t.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(t,o)}}},{key:"setEulerAngles",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;if(t.parentNode===null||!t.parentNode.transformable)this.setLocalEulerAngles(t,r);else{ul(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(t.parentNode);cl(OM,Gc(ql,s)),xg(o.localRotation,o.localRotation,OM),this.dirtyLocalTransform(t,o)}}},{key:"getTransformedGeometryBounds",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(t,r);if(!hr.isEmpty(a)){var o=i||new hr;return o.setFromTransformedAABB(a,this.getWorldTransform(t)),o}return null}},{key:"getGeometryBounds",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t,a=i.geometry;a.dirty&&_e.styleValueRegistry.updateGeometry(t);var o=r?a.renderBounds:a.contentBounds||null;return o||new hr}},{key:"getBounds",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=t,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(t,i,s),u=t.childNodes;if(u.forEach(function(d){var h=r.getBounds(d,i);h&&(l?l.add(h):(l=s||new hr,l.update(h.center,h.halfExtents)))}),l||(l=new hr),i){var c=wD(t);if(c){var f=c.parsedStyle.clipPath.getBounds(i);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return i?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(t){if(t.parentNode){var r=Dle;t.parentNode.transformable&&(r=Mr(Ble,this.getWorldTransform(t.parentNode)));var i=this.getBounds(t);if(!hr.isEmpty(i)){var a=new hr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(t)}},{key:"getBoundingClientRect",value:function(t){var r,i,a=this.getGeometryBounds(t);hr.isEmpty(a)||(i=new hr,i.setFromTransformedAABB(a,this.getWorldTransform(t)));var o=(r=t.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),l=ze(s,2),u=l[0],c=l[1],f=i.getMax(),d=ze(f,2),h=d[0],p=d[1];return new Af(u+((o==null?void 0:o.left)||0),c+((o==null?void 0:o.top)||0),h-u,p-c)}return new Af((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(t){var r,i=(r=t.parentNode)===null||r===void 0?void 0:r.transformable;QT(t.transformable),aoe(t.transformable,i)}},{key:"internalUpdateElement",value:function(t,r){var i,a,o,s,l=((i=t.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,u=r[r.length-1],c=(u==null?void 0:u.transformDirty)||((a=t.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(t.transformable){var f;(f=t.transformable).dirtyFlag||(f.dirtyFlag=c)}if(this.internalUpdateTransform(t),c){var d;(d=t.dirty)===null||d===void 0||d.call(t,!0,!0)}var h=((o=t.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=t.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((c||h)&&(u==null?void 0:u.shapeUpdated)===!1&&l)for(var p=r.length-1;p>=0;){var v,g,m=r[p];if(m.shapeUpdated)break;(v=(g=m.node).dirty)===null||v===void 0||v.call(g,!0,!0),m.shapeUpdated=!0,p-=1}return c}},{key:"syncHierarchy",value:function(t){for(var r,i,a=[t],o=t.parentNode?[{node:t.parentNode,transformDirty:((r=t.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((i=t.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var s=a.pop(),l=o[o.length-1];o.length>0&&s.parentNode!==l.node;)l=o.pop();var u=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var c=s.childNodes.length-1;c>=0;c--)a.push(s.childNodes[c]);o.push({node:s,transformDirty:u,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(t,r){Fg(t)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(t,r))}},{key:"dirtyWorldTransform",value:function(t,r){this.dirtifyWorldInternal(t,r),this.dirtyToRoot(t,!0)}},{key:"dirtifyWorldInternal",value:function(t,r){var i,a=this,o=((i=t.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,t.dirty(!0,!0),o||t.childNodes.forEach(function(s){var l=s.transformable;a.dirtifyWorldInternal(s,l)}))}},{key:"dirtyToRoot",value:function(t){for(var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=t,o=((r=t.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;a;){var s,l;if((s=(l=a).dirty)===null||s===void 0||s.call(l,!0,!0),o)break;a=a.parentNode}i&&t.forEach(function(u){var c;(c=u.dirty)===null||c===void 0||c.call(u,!0,!0)}),this.informDependentDisplayObjects(t),this.pendingEvents.set(t,i)}},{key:"dirtifyFragment",value:function(t){var r,i,a=t.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(r=(i=t).dirty)===null||r===void 0||r.call(i,!0,!0);for(var o=t.childNodes.length,s=0;s<o;s++)this.dirtifyFragment(t.childNodes[s]);t.nodeName===de.FRAGMENT&&this.pendingEvents.set(t,!1)}},{key:"triggerPendingEvents",value:function(){var t=this,r=new Set,i,a,o=function(l,u){if(!(!l.isConnected||r.has(l)||l.nodeName===de.FRAGMENT)){if(t.boundsChangedEvent.detail=u,t.boundsChangedEvent.target=l,l.isMutationObserved)l.dispatchEvent(t.boundsChangedEvent);else{if(i===void 0){var c;i=((c=l.ownerDocument.defaultView)===null||c===void 0||(c=c.getConfig())===null||c===void 0||(c=c.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0}l.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0,i)}r.add(l)}};this.pendingEvents.forEach(function(s,l){if(l.nodeName!==de.FRAGMENT){if(a===void 0){var u;a=((u=l.ownerDocument)===null||u===void 0||(u=u.defaultView)===null||u===void 0||(u=u.getConfig())===null||u===void 0||(u=u.future)===null||u===void 0?void 0:u.experimentalAttributeUpdateOptimization)===!0}wv.affectChildren=s,a?o(l,wv):s?l.forEach(function(c){o(c,wv)}):o(l,wv)}}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(t,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[t]){var s=o[t].indexOf(a);o[t].splice(s,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[t]||(l[t]=[]),l[t].push(a)}}},{key:"informDependentDisplayObjects",value:function(t){var r,i=this,a=this.displayObjectDependencyMap.get(t);if(a){var o=(r=t.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(a).forEach(function(s){a[s].forEach(function(l){i.dirtyToRoot(l,!0),l.dispatchEvent(new ns(Dt.ATTR_MODIFIED,l,i,i,s,ns.MODIFICATION,i,i),o,o),l.isCustomElement&&l.isConnected&&l.attributeChangedCallback&&l.attributeChangedCallback(s,i,i)})})}}}])}(),EM=function(){function e(n){if(se(this,e),n<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=n,this.cache=new Map}return le(e,[{key:"get",value:function(t){if(this.cache.has(t)){var r=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,r),r}}},{key:"put",value:function(t,r){if(this.cache.has(t)&&this.cache.delete(t),this.cache.set(t,r),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),Zl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},TM=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Wle=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,Hle=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,Ule=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Vle=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Xle=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,qle=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Kle=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Zle=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Qle=new RegExp("".concat(Wle.source,"|").concat(Ule.source,"|").concat(Xle.source,"|").concat(Kle.source)),Jle=new RegExp("".concat(Hle.source,"|").concat(Vle.source,"|").concat(qle.source,"|").concat(Zle.source)),eue=function(){function e(n){var t=this;se(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return t.isBreakingSpace(i)?!1:!!(r&&(Jle.exec(i)||Qle.exec(r)))},this.trimByKinsokuShorui=function(r){var i=Ke(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=n,this.charWidthCache=new EM(100)}return le(e,[{key:"measureFont",value:function(t,r){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=t;var s=Zl.MetricsString+Zl.BaselineSymbol,l=Math.ceil(o.measureText(s).width),u=Math.ceil(o.measureText(Zl.BaselineSymbol).width),c=Zl.HeightMultiplier*u;u=u*Zl.BaselineMultiplier|0,a.width=l,a.height=c,o.fillStyle="#f00",o.fillRect(0,0,l,c),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,u);var f=o.getImageData(0,0,l||1,c||1).data,d=f.length,h=l*4,p=0,v=0,g=!1;for(p=0;p<u;++p){for(var m=0;m<h;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=h;else break}for(i.ascent=u-p,v=d-h,g=!1,p=c;p>u;--p){for(var y=0;y<h;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=h;else break}return i.descent=p-u,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[t]=i,i}},{key:"measureText",value:function(t,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,l=s===void 0?!1:s,u=r.lineHeight,c=r.lineWidth,f=c===void 0?1:c,d=r.textBaseline,h=d===void 0?"alphabetic":d,p=r.textAlign,v=p===void 0?"start":p,g=r.letterSpacing,m=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var b=r.leading,x=b===void 0?0:b,_=_M(r),w=this.measureFont(_,i);w.fontSize===0&&(w.fontSize=o,w.ascent=o);var k=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);k.font=_,r.isOverflowing=!1;var O=l?this.wordWrap(t,r,i):t,S=O.split(/(?:\r\n|\r|\n)/),E=new Array(S.length),T=0;if(y){y.getTotalLength();for(var M=0;M<S.length;M++)k.measureText(S[M]).width+(S[M].length-1)*m}else{for(var P=0;P<S.length;P++){var A=k.measureText(S[P]).width+(S[P].length-1)*m;E[P]=A,T=Math.max(T,A)}var N=T+f,R=u||w.fontSize+f,C=Math.max(R,w.fontSize+f)+(S.length-1)*(R+x);R+=x;var L=0;return h==="middle"?L=-C/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?L=-C:(h==="top"||h==="hanging")&&(L=0),{font:_,width:N,height:C,lines:S,lineWidths:E,lineHeight:R,maxLineWidth:T,fontProperties:w,lineMetrics:E.map(function(I,j){var F=0;return v==="center"||v==="middle"?F-=I/2:(v==="right"||v==="end")&&(F-=I),new Af(F-f/2,L+j*R,I+f,R)})}}}},{key:"wordWrap",value:function(t,r,i){var a=this,o=Array.from(t);if(o.length===0)return"";var s=this,l=r.wordWrapWidth,u=l===void 0?0:l,c=r.letterSpacing,f=c===void 0?0:c,d=r.maxLines,h=d===void 0?1/0:d,p=r.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),g=u+f,m="";p==="ellipsis"?m="...":p&&p!=="clip"&&(m=p);var y=[""],b=0,x=0,_=-1,w=_M(r),k=this.charWidthCache.get(w);k||(k=new EM(500),this.charWidthCache.put(w,k));var O=function(I){return a.getFromCache(I,f,k,v)},S=O(m);function E(L,I,j,F){for(;O(L)<F&&I<o.length-1&&!s.isNewline(o[I+1]);)I+=1,L+=o[I];for(;O(L)>F&&I>=j;)I-=1,L=L.slice(0,-1);return{lineTxt:L,txtLastCharIndex:I}}function T(L,I){if(!(S<=0||S>g)){if(!y[L]){y[L]=m;return}var j=E(y[L],I,_+1,g-S);y[L]=j.lineTxt+m}}for(var M=0;M<o.length;M++){var P=o[M],A=o[M-1],N=o[M+1],R=O(P);if(this.isNewline(P)){if(b+1>=h){M<o.length-1&&T(b,M-1),r.isOverflowing=!0;break}_=M-1,b+=1,x=0,y[b]="";continue}if(R>g){T(b,M-1),r.isOverflowing=!0;break}if(x>0&&x+R>g){var C=E(y[b],M-1,_+1,g);if(C.txtLastCharIndex!==M-1){if(y[b]=C.lineTxt,C.txtLastCharIndex===o.length-1)break;M=C.txtLastCharIndex+1,P=o[M],A=o[M-1],N=o[M+1],R=O(P)}if(b+1>=h){T(b,M-1),r.isOverflowing=!0;break}if(_=M-1,b+=1,x=0,y[b]="",this.isBreakingSpace(P))continue;this.canBreakInLastChar(P)||(y=this.trimToBreakable(y),x=this.sumTextWidthByCache(y[b]||"",O)),this.shouldBreakByKinsokuShorui(P,N)&&(y=this.trimByKinsokuShorui(y),x+=O(A||""))}x+=R,y[b]+=P}return y.join(`
`)}},{key:"isBreakingSpace",value:function(t){return typeof t!="string"?!1:Zl.BreakingSpaces.indexOf(t.charCodeAt(0))>=0}},{key:"isNewline",value:function(t){return typeof t!="string"?!1:Zl.Newlines.indexOf(t.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(t){var r=Ke(t),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),l=a+1,u=a+(s?0:1);return r[r.length-1]+=i.slice(l,i.length),r[r.length-2]=i.slice(0,u),r}},{key:"canBreakInLastChar",value:function(t){return!(t&&TM.test(t))}},{key:"sumTextWidthByCache",value:function(t,r){return t.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(t){for(var r=t.length-1;r>=0;r--)if(!TM.test(t[r]))return r;return-1}},{key:"getFromCache",value:function(t,r,i,a){var o=i.get(t);if(typeof o!="number"){var s=t.length*r,l=a.measureText(t);o=l.width+s,i.put(t,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),_e={},tue=function(e){var n=new Sle,t=new Ole;return e={},we(we(we(we(we(we(we(we(we(we(e,de.FRAGMENT,null),de.CIRCLE,new xle),de.ELLIPSE,new wle),de.RECT,n),de.IMAGE,n),de.GROUP,new Tle),de.LINE,new _le),de.TEXT,new Ele(_e)),de.POLYLINE,t),de.POLYGON,t),we(we(we(e,de.PATH,new kle),de.HTML,new Mle),de.MESH,null)}(),nue=function(e){var n=new Rse,t=new Sw;return e={},we(we(we(we(we(we(we(we(we(we(e,Ce.PERCENTAGE,null),Ce.NUMBER,new Dse),Ce.ANGLE,new Pse),Ce.DEFINED_PATH,new Cse),Ce.PAINT,n),Ce.COLOR,n),Ce.FILTER,new Nse),Ce.LENGTH,t),Ce.LENGTH_PERCENTAGE,t),Ce.LENGTH_PERCENTAGE_12,new Lse),we(we(we(we(we(we(we(we(we(we(e,Ce.LENGTH_PERCENTAGE_14,new $se),Ce.COORDINATE,new Sw),Ce.OFFSET_DISTANCE,new Fse),Ce.OPACITY_VALUE,new Bse),Ce.PATH,new jse),Ce.LIST_OF_POINTS,new zse),Ce.SHADOW_BLUR,new Yse),Ce.TEXT,new Gse),Ce.TEXT_TRANSFORM,new Wse),Ce.TRANSFORM,new mle),we(we(we(e,Ce.TRANSFORM_ORIGIN,new yle),Ce.Z_INDEX,new ble),Ce.MARKER,new Ise)}(),rue=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};_e.CameraContribution=tD;_e.AnimationTimeline=null;_e.EasingFunction=null;_e.offscreenCanvasCreator=new Ok;_e.sceneGraphSelector=new Nle;_e.sceneGraphService=new Gle(_e);_e.textService=new eue(_e);_e.geometryUpdaterFactory=tue;_e.CSSPropertySyntaxFactory=nue;_e.styleValueRegistry=new Mse(_e);_e.layoutRegistry=null;_e.globalThis=rue();_e.enableStyleSyntax=!0;_e.enableSizeAttenuation=!1;var iue=0,Aw=new ns(Dt.INSERTED,null,"","","",0,"",""),Pw=new ns(Dt.REMOVED,null,"","","",0,"",""),AD=new Ir(Dt.DESTROY),aue=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.entity=iue++,t.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.cullable={strategy:noe.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return We(n,e),le(n,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=r,i&&(this.renderable.boundsDirty=r,this.renderable.renderBoundsDirty=r)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(on)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(Hae);return _e.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!Fg(this)&&r.nodeName===de.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(Aw.relatedNode=this,r.dispatchEvent(Aw)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i,a,o=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return Pw.relatedNode=this,r.dispatchEvent(Pw,o,o),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),_e.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return _e.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return _e.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return _e.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return _e.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return _e.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return _e.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return _e.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(_e.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(l,u){var c;return(c=r.parentNode)===null||c===void 0?void 0:c.appendChild(l,i+u+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=o[0],u=o.slice(1);this.parentNode.appendChild(l,i),(r=l).after.apply(r,Ke(u))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,i=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(AD,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return _e.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return _e.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return _e.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return _e.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return _e.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i,a,o){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(on)}},{key:"getAttributeNode",value:function(r){throw new Error(on)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(on)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(on)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(on)}},{key:"removeAttributeNode",value:function(r){throw new Error(on)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(on)}},{key:"setAttributeNode",value:function(r){throw new Error(on)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(on)}},{key:"toggleAttribute",value:function(r,i){throw new Error(on)}}])}(zn);function Ft(e){return!!(e!=null&&e.nodeName)}var oue=_e.globalThis.Proxy?_e.globalThis.Proxy:function(){},Ao=new ns(Dt.ATTR_MODIFIED,null,null,null,null,ns.MODIFICATION,null,null),wd=Ze(),sue=Ct(),jn=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=t,r.id=t.id||"",r.name=t.name||"",(t.className||t.class)&&(r.className=t.className||t.class),r.nodeName=t.type||de.GROUP,t.initialParsedStyle&&Object.assign(r.parsedStyle,t.initialParsedStyle),r.initAttributes(t.style),_e.enableStyleSyntax&&(r.style=new oue({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return We(n,e),le(n,[{key:"destroy",value:function(){Cg(n,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Xe({},this.attributes);for(var o in a){var s=a[o];Ft(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var l=new this.constructor(Xe(Xe({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(u){if(!u.style.isMarker){var c=u.cloneNode(r);l.appendChild(c)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};_e.styleValueRegistry.processProperties(this,r,i),this.dirty()}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;lt(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),Cg(n,"setAttribute",this)([r,i]))}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];_e.styleValueRegistry.processProperties(this,we({},r,i),a),this.dirty();var l=this.parsedStyle[r];if(this.isConnected)if(Ao.relatedNode=this,Ao.prevValue=o,Ao.newValue=i,Ao.attrName=r,Ao.prevParsedValue=s,Ao.newParsedValue=l,this.isMutationObserved)this.dispatchEvent(Ao);else{var u,c=((u=this.ownerDocument.defaultView.getConfig().future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0;Ao.target=this,this.ownerDocument.defaultView.dispatchEvent(Ao,!0,c)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var f,d;(f=(d=this).attributeChangedCallback)===null||f===void 0||f.call(d,r,o,i,s,l)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=ze(i,2),o=a[0],s=a[1],l=r.getMax(),u=ze(l,2),c=u[0],f=u[1];return new Af(o,s,c-o,f-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _e.sceneGraphService.setOrigin(this,xi(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return _e.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _e.sceneGraphService.setPosition(this,xi(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _e.sceneGraphService.setLocalPosition(this,xi(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _e.sceneGraphService.translate(this,xi(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _e.sceneGraphService.translateLocal(this,xi(r,i,a,!1)),this}},{key:"getPosition",value:function(){return _e.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return _e.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=xi(r,i,a,!1)),_e.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=xi(r,i,a,!1)),_e.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return _e.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return _e.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=rb(wd,_e.sceneGraphService.getWorldTransform(this)),i=ze(r,3),a=i[2];return ka(a)}},{key:"getLocalEulerAngles",value:function(){var r=rb(wd,_e.sceneGraphService.getLocalRotation(this)),i=ze(r,3),a=i[2];return ka(a)}},{key:"setEulerAngles",value:function(r){return _e.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return _e.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return je(i)&&je(a)?_e.sceneGraphService.rotateLocal(this,0,0,r):_e.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return je(i)&&je(a)?_e.sceneGraphService.rotate(this,0,0,r):_e.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return _e.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return _e.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return _e.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return _e.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return _e.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return _e.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return _e.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return _e.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return _e.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){_e.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,Ke(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,Ke(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1];return s?Kf(s)?(Object.keys(s).forEach(function(u){r.setAttribute(u,s[u])}),this):a.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=Cu(wd,i),o=ze(a,2),s=o[0],l=o[1],u=es(wd,i),c=ze(u,2),f=c[0],d=c[1],h=Ru(sue,i),p=rb(wd,h),v=ze(p,3),g=v[0],m=v[2];return Zae(g||m,s,l,f,d)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=qT(r),a=ze(i,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4];this.setEulerAngles(c).setPosition(o,s).setLocalScale(l,u)}},{key:"setLocalMatrix",value:function(r){var i=qT(r),a=ze(i,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4];this.setLocalEulerAngles(c).setLocalPosition(o,s).setLocalScale(l,u)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(aue);jn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Bu=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:de.CIRCLE},t)])}return We(n,e),le(n)}(jn);Bu.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var lue=["style"],Sk=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,lue);return se(this,n),t=Ge(this,n,[Xe({style:i},a)]),t.isCustomElement=!0,t}return We(n,e),le(n)}(jn);Sk.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Ek=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:de.ELLIPSE},t)])}return We(n,e),le(n)}(jn);Ek.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var uue=function(e){function n(){return se(this,n),Ge(this,n,[{type:de.FRAGMENT}])}return We(n,e),le(n)}(jn);uue.PARSED_STYLE_LIST=new Set(["class","className"]);var Ds=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:de.GROUP},t)])}return We(n,e),le(n)}(jn);Ds.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var cue=["style"],Ey=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,cue);return se(this,n),t=Ge(this,n,[Xe({type:de.HTML,style:i},a)]),t.cullable.enable=!1,t}return We(n,e),le(n,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Mr(ut(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!hr.isEmpty(i)){var a=new hr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])}(jn);Ey.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Tk=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:de.IMAGE},t)])}return We(n,e),le(n)}(jn);Tk.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var fue=["style"],ed=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,fue);se(this,n),t=Ge(this,n,[Xe({type:de.LINE,style:Xe({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),t.markerStartAngle=0,t.markerEndAngle=0;var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&Ft(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),l&&Ft(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Ft(o)&&(this.markerStartAngle=0,o.remove()),s&&Ft(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&Ft(o)&&(this.markerEndAngle=0,o.remove()),s&&Ft(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=i.x1,c=i.x2,f=i.y1,d=i.y2,h=r?a:o;if(!(!h||!Ft(h))){var p=0,v,g,m,y,b,x;r?(m=u,y=f,v=c-u,g=d-f,b=s||0,x=this.markerStartAngle):(m=c,y=d,v=u-c,g=f-d,b=l||0,x=this.markerEndAngle),p=Math.atan2(g,v),h.setLocalEulerAngles(p*180/Math.PI+x),h.setLocalPosition(m+Math.cos(p)*b,y+Math.sin(p)*b)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,l=a.x2,u=a.y2,c=Q5(o,s,l,u,r),f=c.x,d=c.y,h=pn(Ze(),rt(f,d,0),i?this.getWorldTransform():this.getLocalTransform());return new Kr(h[0],h[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return Z5(i,a,o,s)}}])}(jn);ed.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var due=["style"],ca=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,due);se(this,n),t=Ge(this,n,[Xe({type:de.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Xe({},nD)}},a)]),t.markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&Ft(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),u&&Ft(u)&&t.placeMarkerMid(u),l&&Ft(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Ft(o)&&(this.markerStartAngle=0,o.remove()),s&&Ft(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Ft(o)&&(this.markerEndAngle=0,o.remove()),s&&Ft(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=r?a:o;if(!(!u||!Ft(u))){var c=0,f,d,h,p,v,g;if(r){var m=this.getStartTangent(),y=ze(m,2),b=y[0],x=y[1];h=x[0],p=x[1],f=b[0]-x[0],d=b[1]-x[1],v=s||0,g=this.markerStartAngle}else{var _=this.getEndTangent(),w=ze(_,2),k=w[0],O=w[1];h=O[0],p=O[1],f=k[0]-O[0],d=k[1]-O[1],v=l||0,g=this.markerEndAngle}c=Math.atan2(d,f),u.setLocalEulerAngles(c*180/Math.PI+g),u.setLocalPosition(h+Math.cos(c)*v,p+Math.sin(c)*v)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),r&&Ft(r))for(var a=1;a<i.length-1;a++){var o=ze(i[a].currentPoint,2),s=o[0],l=o[1],u=a===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return kw(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=tI(a,r),s=o.x,l=o.y,u=pn(Ze(),rt(s,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Kr(u[0],u[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*kw(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,l=r[i-1].endTangent;a=[],l?(a.push([s[0]-l[0],s[1]-l[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])}(jn);ca.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var hue=["style"],jp=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,hue);se(this,n),t=Ge(this,n,[Xe({type:de.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),t.markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&Ft(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),u&&Ft(u)&&t.placeMarkerMid(u),l&&Ft(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Ft(o)&&(this.markerStartAngle=0,o.remove()),s&&Ft(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Ft(o)&&(this.markerEndAngle=0,o.remove()),s&&Ft(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=i.points,c=u||{},f=c.points,d=r?a:o;if(!(!d||!Ft(d)||!f)){var h=0,p,v,g,m,y,b;if(g=f[0][0],m=f[0][1],r)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=s||0,b=this.markerStartAngle;else{var x=f.length;this.parsedStyle.isClosed?(p=f[x-1][0]-f[0][0],v=f[x-1][1]-f[0][1]):(g=f[x-1][0],m=f[x-1][1],p=f[x-2][0]-f[x-1][0],v=f[x-2][1]-f[x-1][1]),y=l||0,b=this.markerEndAngle}h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+b),d.setLocalPosition(g+Math.cos(h)*y,m+Math.sin(h)*y)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],r&&Ft(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],u=o[s][1],c=s===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(l,u)}}}])}(jn);jp.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var pue=["style"],Mk=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.style,i=Vi(t,pue);return se(this,n),Ge(this,n,[Xe({type:de.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return We(n,e),le(n,[{key:"getTotalLength",value:function(){return ese(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,u,c=this.getTotalLength();a.forEach(function(m,y){a[y+1]&&(l=[0,0],l[0]=s/c,u=Z5(m[0],m[1],a[y+1][0],a[y+1][1]),s+=u,l[1]=s/c,o.push(l))}),this.parsedStyle.points.segments=o}var f=0,d=0;this.parsedStyle.points.segments.forEach(function(m,y){r>=m[0]&&r<=m[1]&&(f=(r-m[0])/(m[1]-m[0]),d=y)});var h=Q5(a[d][0],a[d][1],a[d+1][0],a[d+1][1],f),p=h.x,v=h.y,g=pn(Ze(),rt(p,v,0),i?this.getWorldTransform():this.getLocalTransform());return new Kr(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])}(jp);Mk.PARSED_STYLE_LIST=new Set([].concat(Ke(jp.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var nc=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:de.RECT},t)])}return We(n,e),le(n)}(jn);nc.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var vue=["style"],rs=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.style,i=Vi(t,vue);return se(this,n),Ge(this,n,[Xe({type:de.TEXT,style:Xe({fill:"black"},r)},i)])}return We(n,e),le(n,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(jn);rs.PARSED_STYLE_LIST=new Set([].concat(Ke(jn.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var gue=function(){function e(){se(this,e),this.registry={},this.define(de.CIRCLE,Bu),this.define(de.ELLIPSE,Ek),this.define(de.RECT,nc),this.define(de.IMAGE,Tk),this.define(de.LINE,ed),this.define(de.GROUP,Ds),this.define(de.PATH,ca),this.define(de.POLYGON,jp),this.define(de.POLYLINE,Mk),this.define(de.TEXT,rs),this.define(de.HTML,Ey)}return le(e,[{key:"define",value:function(t,r){this.registry[t]=r}},{key:"get",value:function(t){return this.registry[t]}}])}(),PD={number:function(n){return new sn(n)},percent:function(n){return new sn(n,"%")},px:function(n){return new sn(n,"px")},em:function(n){return new sn(n,"em")},rem:function(n){return new sn(n,"rem")},deg:function(n){return new sn(n,"deg")},grad:function(n){return new sn(n,"grad")},rad:function(n){return new sn(n,"rad")},turn:function(n){return new sn(n,"turn")},s:function(n){return new sn(n,"s")},ms:function(n){return new sn(n,"ms")},registerProperty:function(n){var t=n.name,r=n.inherits,i=n.interpolable,a=n.initialValue,o=n.syntax;_e.styleValueRegistry.registerMetadata({n:t,inh:r,int:i,d:a,syntax:o})},registerLayout:function(n,t){_e.layoutRegistry.registerLayout(n,t)}},mue=function(e){function n(){var t;se(this,n),t=Ge(this,n),t.defaultView=null,t.ownerDocument=null,t.nodeName="document";try{t.timeline=new _e.AnimationTimeline(t)}catch{}var r={};return wk.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=tr(s)?s(de.GROUP):s)}),t.documentElement=new Ds({id:"g-root",style:r}),t.documentElement.ownerDocument=t,t.documentElement.parentNode=t,t.childNodes=[t.documentElement],t}return We(n,e),le(n,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?rs:Ds);var o=new a(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(on)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,i,a,o){var s=this.defaultView.context.rBushRoot,l=s.search({minX:r,minY:i,maxX:a,maxY:o}),u=[];return l.forEach(function(c){var f=c.displayObject,d=f.parsedStyle.pointerEvents,h=d===void 0?"auto":d,p=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(h);(!p||p&&f.isVisible())&&!f.isCulled()&&f.isInteractive()&&u.push(f)}),u.sort(function(c,f){return f.sortable.renderOrder-c.sortable.renderOrder}),u}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(o<0||s<0||o>u||s>c)return null;var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v&&v[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var t=_l(Qr().mark(function i(a,o){var s,l,u,c,f,d,h,p,v,g,m;return Qr().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),l=s.x,u=s.y,c=this.defaultView.getConfig(),f=c.width,d=c.height,!(l<0||u<0||l>f||u>d)){y.next=1;break}return y.abrupt("return",null);case 1:return h=this.defaultView.viewport2Client({x:l,y:u}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:o,viewportX:l,viewportY:u,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,y.abrupt("return",m&&m[0]||this.documentElement);case 3:case"end":return y.stop()}},i,this)}));function r(i,a){return t.apply(this,arguments)}return r}()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(o<0||s<0||o>u||s>c)return[];var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v[v.length-1]!==this.documentElement&&v.push(this.documentElement),v}},{key:"elementsFromPoint",value:function(){var t=_l(Qr().mark(function i(a,o){var s,l,u,c,f,d,h,p,v,g,m;return Qr().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),l=s.x,u=s.y,c=this.defaultView.getConfig(),f=c.width,d=c.height,!(l<0||u<0||l>f||u>d)){y.next=1;break}return y.abrupt("return",[]);case 1:return h=this.defaultView.viewport2Client({x:l,y:u}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:o,viewportX:l,viewportY:u,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,m[m.length-1]!==this.documentElement&&m.push(this.documentElement),y.abrupt("return",m);case 3:case"end":return y.stop()}},i,this)}));function r(i,a){return t.apply(this,arguments)}return r}()},{key:"appendChild",value:function(r,i){throw new Error(gc)}},{key:"insertBefore",value:function(r,i){throw new Error(gc)}},{key:"removeChild",value:function(r,i){throw new Error(gc)}},{key:"replaceChild",value:function(r,i,a){throw new Error(gc)}},{key:"append",value:function(){throw new Error(gc)}},{key:"prepend",value:function(){throw new Error(gc)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])}(zn),CD=function(){function e(n){se(this,e),this.strategies=n}return le(e,[{key:"apply",value:function(t){var r=t.config,i=t.camera,a=t.renderingService,o=t.renderingContext,s=this.strategies;a.hooks.cull.tap(e.tag,function(l){if(l){var u,c=l.cullable;if(s.length===0?c.visible=o.unculledEntities.indexOf(l.entity)>-1:c.visible=s.every(function(d){return d.isVisible(i,l)}),!l.isCulled()&&l.isVisible())return l;var f=((u=r.future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0;return l.dispatchEvent(new Ir(Dt.CULLED),f,f),null}return l}),a.hooks.afterRender.tap(e.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])}();CD.tag="Culling";var RD=function(){function e(){var n=this;se(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new Tw(null),this.rootWheelEvent=new Mw(null),this.onPointerMove=function(t){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&t.pointerType==="touch")){var a=n.normalizeToPointerEvent(t,i),o=Ji(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(u)}}catch(c){o.e(c)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}},this.onClick=function(t){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=n.normalizeToPointerEvent(t,i),o=Ji(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(u)}}catch(c){o.e(c)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}}return le(e,[{key:"apply",value:function(t){var r=this;this.context=t;var i=t.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var u=Ji(s),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=r.bootstrapEvent(r.rootPointerEvent,f,a,o);r.context.eventService.mapEvent(d)}}catch(h){u.e(h)}finally{u.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),u=l?"":"outside",c=r.normalizeToPointerEvent(o,a),f=Ji(c),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=r.bootstrapEvent(r.rootPointerEvent,h,a,o);p.type+=u,r.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,a),l=Ji(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=r.bootstrapEvent(r.rootPointerEvent,c,a,o);r.context.eventService.mapEvent(f)}}catch(d){l.e(d)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(t,r,i,a){t.view=i,t.originalEvent=null,t.nativeEvent=a,t.pointerId=r.pointerId,t.width=r.width,t.height=r.height,t.isPrimary=r.isPrimary,t.pointerType=r.pointerType,t.pressure=r.pressure,t.tangentialPressure=r.tangentialPressure,t.tiltX=r.tiltX,t.tiltY=r.tiltY,t.twist=r.twist,this.transferMouseData(t,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;t.viewport.x=s,t.viewport.y=l;var u=this.context.eventService.viewport2Canvas(t.viewport),c=u.x,f=u.y;return t.canvas.x=c,t.canvas.y=f,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=a.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Qse[t.type]||t.type),t}},{key:"normalizeWheelEvent",value:function(t){var r=this.rootWheelEvent;this.transferMouseData(r,t),r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ;var i=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,u=s.y;return r.canvas.x=l,r.canvas.y=u,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=t,r.type=t.type,r}},{key:"transferMouseData",value:function(t,r){t.isTrusted=r.isTrusted,t.srcElement=r.srcElement,t.timeStamp=Ew.now(),t.type=r.type,t.altKey=r.altKey,t.metaKey=r.metaKey,t.shiftKey=r.shiftKey,t.ctrlKey=r.ctrlKey,t.button=r.button,t.buttons=r.buttons,t.client.x=r.clientX,t.client.y=r.clientY,t.movement.x=r.movementX,t.movement.y=r.movementY,t.page.x=r.pageX,t.page.y=r.pageY,t.screen.x=r.screenX,t.screen.y=r.screenY,t.relatedTarget=null}},{key:"setCursor",value:function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(t,r){var i=[];if(r.isTouchEvent(t))for(var a=0;a<t.changedTouches.length;a++){var o=t.changedTouches[a];lt(o.button)&&(o.button=0),lt(o.buttons)&&(o.buttons=1),lt(o.isPrimary)&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),lt(o.width)&&(o.width=o.radiusX||1),lt(o.height)&&(o.height=o.radiusY||1),lt(o.tiltX)&&(o.tiltX=0),lt(o.tiltY)&&(o.tiltY=0),lt(o.pointerType)&&(o.pointerType="touch"),lt(o.pointerId)&&(o.pointerId=o.identifier||0),lt(o.pressure)&&(o.pressure=o.force||.5),lt(o.twist)&&(o.twist=0),lt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=t.type,i.push(o)}else if(r.isMouseEvent(t)){var s=t;lt(s.isPrimary)&&(s.isPrimary=!0),lt(s.width)&&(s.width=1),lt(s.height)&&(s.height=1),lt(s.tiltX)&&(s.tiltX=0),lt(s.tiltY)&&(s.tiltY=0),lt(s.pointerType)&&(s.pointerType="mouse"),lt(s.pointerId)&&(s.pointerId=Zse),lt(s.pressure)&&(s.pressure=.5),lt(s.twist)&&(s.twist=0),lt(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(t);return i}}])}();RD.tag="Event";var yue=[de.CIRCLE,de.ELLIPSE,de.IMAGE,de.RECT,de.LINE,de.POLYLINE,de.POLYGON,de.TEXT,de.PATH,de.HTML],bue=function(){function e(){se(this,e)}return le(e,[{key:"isVisible",value:function(t,r){var i,a=r.cullable;if(!a.enable)return!0;var o=r.getRenderBounds();if(hr.isEmpty(o))return!1;var s=t.getFrustum(),l=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,l||vc.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==vc.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(t,r,i,a){if(i===vc.OUTSIDE||i===vc.INSIDE)return i;for(var o=vc.INSIDE,s=yue.indexOf(t.nodeName)>-1,l=0,u=a.length;l<u;++l){var c=1<<l;if((i&c)!==0&&!(s&&(l===4||l===5))){var f=a[l],d=f.normal,h=f.distance;if(Zr(d,r.getPositiveFarPoint(a[l]))+h<0)return vc.OUTSIDE;Zr(d,r.getNegativeFarPoint(a[l]))+h<0&&(o|=c)}}return o}}])}(),ND=function(){function e(){se(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return le(e,[{key:"apply",value:function(t){var r=this,i,a,o=t.config,s=t.renderingService,l=t.renderingContext,u=t.rBushRoot,c=l.root.ownerDocument.defaultView;this.rBush=u;var f=function(y){s.dirtify()},d=function(y){r.syncTasks.set(y.target,y.detail.affectChildren),s.dirtify()},h=function(y){var b=y.target;_e.enableSizeAttenuation&&_e.styleValueRegistry.updateSizeAttenuation(b,c.getCamera().getZoom())},p=function(y){var b=y.target,x=b.rBushNode;x!=null&&x.aabb&&r.rBush.remove(x.aabb),r.syncTasks.delete(b),_e.sceneGraphService.dirtyToRoot(b),s.dirtify()};s.hooks.init.tap(e.tag,function(){c.addEventListener(Dt.MOUNTED,h),c.addEventListener(Dt.UNMOUNTED,p),c.addEventListener(Dt.ATTR_MODIFIED,f),c.addEventListener(Dt.BOUNDS_CHANGED,d)}),s.hooks.destroy.tap(e.tag,function(){c.removeEventListener(Dt.MOUNTED,h),c.removeEventListener(Dt.UNMOUNTED,p),c.removeEventListener(Dt.ATTR_MODIFIED,f),c.removeEventListener(Dt.BOUNDS_CHANGED,d),r.syncTasks.clear()});var v=(i=_e.globalThis.requestIdleCallback)!==null&&i!==void 0?i:kk.bind(_e.globalThis),g=((a=o.future)===null||a===void 0?void 0:a.experimentalRICSyncRTree)===!0;s.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,v(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):g&&_e.globalThis.requestIdleCallback&&_e.globalThis.cancelIdleCallback?(_e.globalThis.cancelIdleCallback(r.ricSyncRTreeId),r.ricSyncRTreeId=_e.globalThis.requestIdleCallback(function(){return r.syncRTree()})):r.syncRTree()})}},{key:"syncNode",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.isConnected){var i=t.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=t.getRenderBounds();if(a){var o=t.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new hr),o.dirtyRenderBounds.update(a.center,a.halfExtents));var s=a.getMin(),l=ze(s,2),u=l[0],c=l[1],f=a.getMax(),d=ze(f,2),h=d[0],p=d[1];i.aabb||(i.aabb={}),i.aabb.displayObject=t,i.aabb.minX=u,i.aabb.minY=c,i.aabb.maxX=h,i.aabb.maxY=p}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,o=function(l){if(!a.has(l)&&l.renderable){var u=t.syncNode(l,r);u&&(i.push(u),a.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var u=l;u;)o(u),u=u.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();ND.tag="Prepare";var Sa=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),MM=500,xue=.1,wue=1e3,_v=new Ir(Dt.MOUNTED),kv=new Ir(Dt.UNMOUNTED),hb=new Ir(Sa.BEFORE_RENDER),AM=new Ir(Sa.RERENDER),pb=new Ir(Sa.AFTER_RENDER),LD=function(e){function n(t){var r;se(this,n),r=Ge(this,n),r.Element=jn,r.inited=!1,r.context={};var i=t.container,a=t.canvas,o=t.renderer,s=t.width,l=t.height,u=t.background,c=t.cursor,f=t.supportsMutipleCanvasesInOneContainer,d=t.cleanUpOnDestroy,h=d===void 0?!0:d,p=t.offscreenCanvas,v=t.devicePixelRatio,g=t.requestAnimationFrame,m=t.cancelAnimationFrame,y=t.createImage,b=t.supportsTouchEvents,x=t.supportsPointerEvents,_=t.isTouchEvent,w=t.isMouseEvent,k=t.dblClickSpeed,O=s,S=l,E=v||_k&&window.devicePixelRatio||1;return E=E>=1?Math.ceil(E):1,a&&(O=s||qse(a)||a.width/E,S=l||Kse(a)||a.height/E),r.customElements=new gue,r.devicePixelRatio=E,r.requestAnimationFrame=g??kk.bind(_e.globalThis),r.cancelAnimationFrame=m??SD.bind(_e.globalThis),r.createImage=y??function(){return new window.Image},r.supportsTouchEvents=b??"ontouchstart"in _e.globalThis,r.supportsPointerEvents=x??!!_e.globalThis.PointerEvent,r.isTouchEvent=_??function(T){return r.supportsTouchEvents&&T instanceof _e.globalThis.TouchEvent},r.isMouseEvent=w??function(T){return!_e.globalThis.MouseEvent||T instanceof _e.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(T instanceof _e.globalThis.PointerEvent))},p&&(_e.offscreenCanvas=p),r.document=new mue,r.document.defaultView=r,f||Hse(i,r,h),r.initRenderingContext(Xe(Xe({},t),{},{width:O,height:S,background:u??"transparent",cursor:c??"default",cleanUpOnDestroy:h,devicePixelRatio:E,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:k??200})),r.initDefaultCamera(O,S,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return We(n,e),le(n,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var o=this,s=new _e.CameraContribution;s.clipSpaceNearZ=a,s.setType(rn.EXPLORING,yw.DEFAULT).setPosition(r/2,i/2,MM).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,xue,wue),s.canvas=this,s.eventEmitter.on(eD.UPDATED,function(){o.context.renderingContext.renderReasons.add(Vc.CAMERA_CHANGED),_e.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){_e.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;yr.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new Ir(Sa.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();i&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),a||this.dispatchEvent(new Ir(Sa.AFTER_DESTROY),o,o);var l=function(c){c.currentTarget=null,c.manager=null,c.target=null,c.relatedNode=null};l(_v),l(kv),l(hb),l(AM),l(pb),l(Ao),l(Aw),l(Pw),l(AD),_e.textService.clearCache()}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a,o=this.context.config;o.width=r,o.height=i,this.getContextService().resize(r,i);var s=this.context.camera,l=s.getProjectionMode();s.setPosition(r/2,i/2,MM).setFocalPoint(r/2,i/2,0),l===xa.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i);var u=((a=o.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new Ir(Sa.RESIZE,{width:r,height:i}),u,u)}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i,a=this;r&&(hb.detail=r,pb.detail=r);var o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(hb,o,o);var s=this.getRenderingService();s.render(this.getConfig(),r,function(){a.dispatchEvent(AM,o,o)}),this.dispatchEvent(pb,o,o)}},{key:"run",value:function(){var r=this,i=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new Bae,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new RD,new ND,new CD([new bue])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(Xe(Xe({},_e),this.context)),this.context.renderingService=new Cle(_e,this.context),this.context.eventService=new Ple(_e,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;i.inited=!0;var l=((s=i.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;a?o?i.requestAnimationFrame(function(){i.dispatchEvent(new Ir(Sa.READY),l,l)}):i.dispatchEvent(new Ir(Sa.READY),l,l):i.dispatchEvent(new Ir(Sa.RENDERER_CHANGED),l,l),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(u){var c,f;(c=(f=u).dirty)===null||c===void 0||c.call(f,!0,!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(o){o.context=i.context,o.init(_e)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),Ke((a==null?void 0:a.getPlugins())||[]).reverse().forEach(function(o){o.destroy(_e)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;if(r.childNodes.forEach(function(s){i.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(kv);else{var a,o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;kv.target=r,this.dispatchEvent(kv,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fg(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!a))if(r.isMutationObserved)r.dispatchEvent(_v);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;_v.target=r,this.dispatchEvent(_v,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(l){i.mountChildren(l,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])}(MD);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var _ue=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.landmarks=[],t}return We(n,e),le(n,[{key:"rotate",value:function(r,i,a){if(this.relElevation=Wc(i),this.relAzimuth=Wc(r),this.relRoll=Wc(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===rn.EXPLORING){var o=Ei(Ct(),[1,0,0],ln((this.rotateWorld?1:-1)*this.relElevation)),s=Ei(Ct(),[0,1,0],ln((this.rotateWorld?1:-1)*this.relAzimuth)),l=Ei(Ct(),[0,0,1],ln(this.relRoll)),u=Ti(Ct(),s,o);u=Ti(Ct(),u,l);var c=Tp(ut(),u);ao(this.matrix,this.matrix,[0,0,-this.distance]),Gn(this.matrix,this.matrix,c),ao(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===rn.ORBITING||this.type===rn.EXPLORING?this._getPosition():this.type===rn.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=xi(r,i,0),o=$r(this.position);return di(o,o,xl(Ze(),this.right,a[0])),di(o,o,xl(Ze(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=$r(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===rn.ORBITING||this.type===rn.EXPLORING?this._getDistance():this.type===rn.TRACKING&&di(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.position,c=u===void 0?this.position:u,f=l.focalPoint,d=f===void 0?this.focalPoint:f,h=l.roll,p=l.zoom,v=new _e.CameraContribution;v.setType(this.type,void 0),v.setPosition(c[0],(i=c[1])!==null&&i!==void 0?i:this.position[1],(a=c[2])!==null&&a!==void 0?a:this.position[2]),v.setFocalPoint(d[0],(o=d[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=d[2])!==null&&s!==void 0?s:this.focalPoint[2]),v.setRoll(h??this.roll),v.setZoom(p??this.zoom);var g={name:r,matrix:ry(v.getWorldTransform()),right:$r(v.right),up:$r(v.up),forward:$r(v.forward),position:$r(v.getPosition()),focalPoint:$r(v.getFocalPoint()),distanceVector:$r(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Wt(r)?this.landmarks.find(function(T){return T.name===r}):r;if(o){var s=jt(a)?{duration:a}:a,l=s.easing,u=l===void 0?"linear":l,c=s.duration,f=c===void 0?100:c,d=s.easingFunction,h=d===void 0?void 0:d,p=s.onfinish,v=p===void 0?void 0:p,g=s.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var b=o.position,x=o.focalPoint,_=o.zoom,w=o.roll,k=h||_e.EasingFunction(u),O,S=function(){i.setFocalPoint(x),i.setPosition(b),i.setRoll(w),i.setZoom(_),i.computeMatrix(),i.triggerUpdate(),v==null||v()};if(f===0)return S();var E=function(M){O===void 0&&(O=M);var P=M-O;if(P>=f){S();return}var A=k(P/f),N=Ze(),R=Ze(),C=1,L=0;yf(N,i.focalPoint,x,A),yf(R,i.position,b,A),L=i.roll*(1-A)+w*A,C=i.zoom*(1-A)+_*A,i.setFocalPoint(N),i.setPosition(R),i.setRoll(L),i.setZoom(C);var I=yg(N,x)+yg(R,b);if(I<=y&&_===void 0&&w===void 0)return S();i.computeMatrix(),i.triggerUpdate(),P<f&&(m==null||m(A),i.landmarkAnimationID=i.canvas.requestAnimationFrame(E))};this.canvas.requestAnimationFrame(E)}}}])}(tD);_e.CameraContribution=_ue;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var vb=function(e){function n(t,r,i,a){var o;return se(this,n),o=Ge(this,n,[t]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return We(n,e),le(n)}(Sy),kue=0,Oue=function(){function e(n,t){var r;se(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=n,n.animation=this,this.timeline=t,this.id="".concat(kue++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return le(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var t=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){t.resolveReadyPromise=function(){r(t)},t.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var t=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){t.resolveFinishedPromise=function(){r(t)},t.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){if(t=Number(t),!isNaN(t)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-t/this.playbackRate}this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(t){if(t!==null){if(this.updatePromises(),t=Number(t),isNaN(t)||this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=t,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var t;if((t=this.effect.target)!==null&&t!==void 0&&t.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==r&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==r&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var t=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new vb(null,this,this.currentTime,null);setTimeout(function(){t.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),t!==null&&(this.currentTime=t),this.updatePromises()}},{key:"updatePlaybackRate",value:function(t){this.playbackRate=t}},{key:"targetAnimations",value:function(){var t,r=(t=this.effect)===null||t===void 0?void 0:t.target;return r.getAnimations()}},{key:"markTarget",value:function(){var t=this.targetAnimations();t.indexOf(this)===-1&&t.push(this)}},{key:"unmarkTarget",value:function(){var t=this.targetAnimations(),r=t.indexOf(this);r!==-1&&t.splice(r,1)}},{key:"tick",value:function(t,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(t))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(on)}},{key:"addEventListener",value:function(t,r,i){throw new Error(on)}},{key:"removeEventListener",value:function(t,r,i){throw new Error(on)}},{key:"dispatchEvent",value:function(t){throw new Error(on)}},{key:"commitStyles",value:function(){throw new Error(on)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var t;this._inEffect=!!((t=this.effect)!==null&&t!==void 0&&t.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(t,r){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(t){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new vb(null,this,this.currentTime,t);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new vb(null,this,this.currentTime,t);this.onframe(a)}this._finishedFlag=!1}}}])}(),Sue=4,Eue=.001,Tue=1e-7,Mue=10,$d=11,Ov=1/($d-1),Aue=typeof Float32Array=="function",$D=function(n,t){return 1-3*t+3*n},ID=function(n,t){return 3*t-6*n},DD=function(n){return 3*n},Bg=function(n,t,r){return(($D(t,r)*n+ID(t,r))*n+DD(t))*n},FD=function(n,t,r){return 3*$D(t,r)*n*n+2*ID(t,r)*n+DD(t)},Pue=function(n,t,r,i,a){var o,s,l=0;do s=t+(r-t)/2,o=Bg(s,i,a)-n,o>0?r=s:t=s;while(Math.abs(o)>Tue&&++l<Mue);return s},Cue=function(n,t,r,i){for(var a=0;a<Sue;++a){var o=FD(t,r,i);if(o===0)return t;var s=Bg(t,r,i)-n;t-=s/o}return t},Ak=function(n,t,r,i){if(!(n>=0&&n<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===t&&r===i)return function(l){return l};for(var a=Aue?new Float32Array($d):new Array($d),o=0;o<$d;++o)a[o]=Bg(o*Ov,n,r);var s=function(u){for(var c=0,f=1,d=$d-1;f!==d&&a[f]<=u;++f)c+=Ov;--f;var h=(u-a[f])/(a[f+1]-a[f]),p=c+h*Ov,v=FD(p,n,r);return v>=Eue?Cue(u,p,n,r):v===0?p:Pue(u,c,c+Ov,n,r)};return function(l){return l===0||l===1?l:Bg(s(l),t,i)}},Rue=function(n){return n=n.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())}),n.charAt(0)==="-"?n.substring(1):n},Sv=function(n){return Math.pow(n,2)},Ev=function(n){return Math.pow(n,3)},Tv=function(n){return Math.pow(n,4)},Mv=function(n){return Math.pow(n,5)},Av=function(n){return Math.pow(n,6)},Pv=function(n){return 1-Math.cos(n*Math.PI/2)},Cv=function(n){return 1-Math.sqrt(1-n*n)},Rv=function(n){return n*n*(3*n-2)},Nv=function(n){for(var t,r=4;n<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((t*3-2)/22-n,2)},Lv=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ze(t,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,l=Bt(Number(a),1,10),u=Bt(Number(s),.1,2);return n===0||n===1?n:-l*Math.pow(2,10*(n-1))*Math.sin((n-1-u/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/u)},_d=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=ze(t,4),a=i[0],o=a===void 0?1:a,s=i[1],l=s===void 0?100:s,u=i[2],c=u===void 0?10:u,f=i[3],d=f===void 0?0:f;o=Bt(o,.1,1e3),l=Bt(l,.1,1e3),c=Bt(c,.1,1e3),d=Bt(d,.1,1e3);var h=Math.sqrt(l/o),p=c/(2*Math.sqrt(l*o)),v=p<1?h*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*h+-d)/v:-d+h,y=r?r*n/1e3:n;return p<1?y=Math.exp(-y*p*h)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*h),n===0||n===1?n:1-y},gb=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t,i=ze(r,2),a=i[0],o=a===void 0?10:a,s=i[1],l=s==="start"?Math.ceil:Math.floor;return l(Bt(n,0,1)*o)/o},PM=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ze(t,4),i=r[0],a=r[1],o=r[2],s=r[3];return Ak(i,a,o,s)(n)},$v=Ak(.42,0,1,1),ha=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-n(1-t,r,i)}},pa=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t<.5?n(t*2,r,i)/2:1-n(t*-2+2,r,i)/2}},va=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t<.5?(1-n(1-t*2,r,i))/2:(n(t*2-1,r,i)+1)/2}},CM={steps:gb,"step-start":function(n){return gb(n,[1,"start"])},"step-end":function(n){return gb(n,[1,"end"])},linear:function(n){return n},"cubic-bezier":PM,ease:function(n){return PM(n,[.25,.1,.25,1])},in:$v,out:ha($v),"in-out":pa($v),"out-in":va($v),"in-quad":Sv,"out-quad":ha(Sv),"in-out-quad":pa(Sv),"out-in-quad":va(Sv),"in-cubic":Ev,"out-cubic":ha(Ev),"in-out-cubic":pa(Ev),"out-in-cubic":va(Ev),"in-quart":Tv,"out-quart":ha(Tv),"in-out-quart":pa(Tv),"out-in-quart":va(Tv),"in-quint":Mv,"out-quint":ha(Mv),"in-out-quint":pa(Mv),"out-in-quint":va(Mv),"in-expo":Av,"out-expo":ha(Av),"in-out-expo":pa(Av),"out-in-expo":va(Av),"in-sine":Pv,"out-sine":ha(Pv),"in-out-sine":pa(Pv),"out-in-sine":va(Pv),"in-circ":Cv,"out-circ":ha(Cv),"in-out-circ":pa(Cv),"out-in-circ":va(Cv),"in-back":Rv,"out-back":ha(Rv),"in-out-back":pa(Rv),"out-in-back":va(Rv),"in-bounce":Nv,"out-bounce":ha(Nv),"in-out-bounce":pa(Nv),"out-in-bounce":va(Nv),"in-elastic":Lv,"out-elastic":ha(Lv),"in-out-elastic":pa(Lv),"out-in-elastic":va(Lv),spring:_d,"spring-in":_d,"spring-out":ha(_d),"spring-in-out":pa(_d),"spring-out-in":va(_d)},Nue=function(n){return Rue(n).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},Lue=function(n){return CM[Nue(n)]||CM.linear},$ue=function(n){return n},Iue=1,Due=.5,RM=0;function NM(e,n){return function(t){if(t>=1)return 1;var r=1/e;return t+=n*r,t-t%r}}var Iv="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",Fue=new RegExp("cubic-bezier\\(".concat(Iv,",").concat(Iv,",").concat(Iv,",").concat(Iv,"\\)")),Bue=/steps\(\s*(\d+)\s*\)/,jue=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Pk(e){var n=Fue.exec(e);if(n)return Ak.apply(void 0,Ke(n.slice(1).map(Number)));var t=Bue.exec(e);if(t)return NM(Number(t[1]),RM);var r=jue.exec(e);return r?NM(Number(r[1]),{start:Iue,middle:Due,end:RM}[r[2]]):Lue(e)}function zue(e){return Math.abs(Yue(e)/(e.playbackRate||1))}function Yue(e){var n;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((n=e.iterations)!==null&&n!==void 0?n:1)}var BD=0,Ck=1,Ty=2,jD=3;function Gue(e,n,t){if(n===null)return BD;var r=t.endTime;return n<Math.min(t.delay,r)?Ck:n>=Math.min(t.delay+e+t.endDelay,r)?Ty:jD}function Wue(e,n,t,r,i){switch(r){case Ck:return n==="backwards"||n==="both"?0:null;case jD:return t-i;case Ty:return n==="forwards"||n==="both"?e:null;case BD:return null}}function Hue(e,n,t,r,i){var a=i;return e===0?n!==Ck&&(a+=t):a+=r/e,a}function Uue(e,n,t,r,i,a){var o=e===1/0?n%1:e%1;return o===0&&t===Ty&&r!==0&&(i!==0||a===0)&&(o=1),o}function Vue(e,n,t,r){return e===Ty&&n===1/0?1/0:t===1?Math.floor(r)-1:Math.floor(r)}function Xue(e,n,t){var r=e;if(e!=="normal"&&e!=="reverse"){var i=n;e==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?t:1-t}function que(e,n,t){var r=Gue(e,n,t),i=Wue(e,t.fill,n,r,t.delay);if(i===null)return null;var a=t.duration==="auto"?0:t.duration,o=Hue(a,r,t.iterations,i,t.iterationStart),s=Uue(o,t.iterationStart,r,t.iterations,i,a),l=Vue(r,t.iterations,s,o),u=Xue(t.direction,l,s);return t.currentIteration=l,t.progress=u,t.easingFunction(u)}function Kue(e,n,t){var r=Zue(e,n),i=Que(r,t);return function(a,o){if(o!==null)i.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var u=o-l.startOffset,c=l.endOffset-l.startOffset,f=c===0?0:u/c;a.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)zD(s)&&a.setAttribute(s,null)}}function zD(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function Zue(e,n){for(var t={},r=0;r<e.length;r++)for(var i in e[r])if(zD(i)){var a={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:Pk(e[r].easing)||n.easingFunction,value:e[r][i]};t[i]=t[i]||[],t[i].push(a)}return t}function Que(e,n){var t=[];for(var r in e)for(var i=e[r],a=0;a<i.length-1;a++){var o=a,s=a+1,l=i[o].computedOffset,u=i[s].computedOffset,c=l,f=u;a===0&&(c=-1/0,u===0&&(s=o)),a===i.length-2&&(f=1/0,l===1&&(o=s)),t.push({applyFrom:c,applyTo:f,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:Jue(r,i[o].value,i[s].value,n)})}return t.sort(function(d,h){return d.startOffset-h.startOffset}),t}var LM=function(n,t,r){return function(i){var a=YD(n,t,i);return jt(a)?a:r(a)}};function Jue(e,n,t,r){var i=yD[e];if(i&&i.syntax&&i.int){var a=_e.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(n,r):n,l=o?o(t,r):t,u=a.mixer(s,l,r);if(u){var c=LM.apply(void 0,Ke(u));return function(f){return f===0?n:f===1?t:c(f)}}}}return LM(!1,!0,function(f){return f?t:n})}function YD(e,n,t){if(typeof e=="number"&&typeof n=="number")return e*(1-t)+n*t;if(typeof e=="boolean"&&typeof n=="boolean"||typeof e=="string"&&typeof n=="string")return t<.5?e:n;if(Array.isArray(e)&&Array.isArray(n)){for(var r=e.length,i=n.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(YD(e[s<r?s:r-1],n[s<i?s:i-1],t));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(n))}var ece=function(){function e(){se(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=$ue,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return le(e,[{key:"easing",get:function(){return this._easing},set:function(t){this.easingFunction=Pk(t),this._easing=t}}])}();function tce(e){var n=[];for(var t in e)if(!(t in["easing","offset","composite"])){var r=e[t];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!n[a]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),n[a]=o}r[a]!==void 0&&r[a]!==null&&(n[a][t]=r[a])}}return n.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),n}function $M(e,n){if(e===null)return[];Array.isArray(e)||(e=tce(e));for(var t=e.map(function(l){var u={};n!=null&&n.composite&&(u.composite="auto");for(var c in l){var f=l[c];if(c==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=f}}else if(c==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));u[c]=f}return u.offset===void 0&&(u.offset=null),u.easing===void 0&&(u.easing=(n==null?void 0:n.easing)||"linear"),u.composite===void 0&&(u.composite="auto"),u}),r=!0,i=-1/0,a=0;a<t.length;a++){var o=t[a].offset;if(je(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}t=t.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,u=t,c=u.length;if(t[c-1].computedOffset=Number((l=t[c-1].offset)!==null&&l!==void 0?l:1),c>1){var f;t[0].computedOffset=Number((f=t[0].offset)!==null&&f!==void 0?f:0)}for(var d=0,h=Number(t[0].computedOffset),p=1;p<c;p++){var v=t[p].computedOffset;if(!je(v)&&!je(h)){for(var g=1;g<p-d;g++)t[d+g].computedOffset=h+(Number(v)-h)*g/(p-d);d=p,h=Number(v)}}}return r||s(),t}var nce="backwards|forwards|both|none".split("|"),rce="reverse|alternate|alternate-reverse".split("|");function ice(e,n){var t=new ece;return typeof e=="number"&&!isNaN(e)?t.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof t[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&nce.indexOf(e[r])===-1||r==="direction"&&rce.indexOf(e[r])===-1)return;t[r]=e[r]}}),t}function ace(e,n){return e=oce(e??{duration:"auto"}),ice(e)}function oce(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var sce=function(){function e(n,t,r){var i=this;se(this,e),this.composite="replace",this.iterationComposite="replace",this.target=n,this.timing=ace(r),this.timing.effect=this,this.timing.activeDuration=zue(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=$M(t,this.timing),this.interpolations=Kue(this.normalizedKeyframes,this.timing,this.target);var a=_e.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return le(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(t){return t===null?!1:(this.timeFraction=que(this.timing.activeDuration,t,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(t){this.normalizedKeyframes=$M(t)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(t){var r=this;Object.keys(t||{}).forEach(function(i){r.timing[i]=t[i]})}}])}();function IM(e,n){return Number(e.id)-Number(n.id)}var lce=function(){function e(n){var t=this;se(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){t.currentTime=r,t.discardAnimations(),t.animations.length===0?t.timelineTicking=!1:t.requestAnimationFrame(t.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=t.rafCallbacks;t.rafCallbacks=[],r<Number(t.currentTime)&&(r=Number(t.currentTime)),t.animations.sort(IM),t.animations=t.tick(r,!0,t.animations)[0],i.forEach(function(a){a[1](r)}),t.applyPendingEffects()},this.document=n}return le(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(t,r,i){var a=new sce(t,r,i),o=new Oue(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(t){var r=this;if(!this.inTick){t.markTarget();var i=t.targetAnimations();i.sort(IM);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(t){t==null||t.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(t){return t.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(t){return t.playState!=="finished"&&t.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(t){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,t]),r}},{key:"requestAnimationFrame",value:function(t){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),t(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(t,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var l=[],u=[],c=[],f=[];return i.forEach(function(d){d.tick(t,r),d._inEffect?(u.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(a.ticking=!0);var h=d._inEffect||d._needsTick;d._inTimeline=h,h?c.push(d):f.push(d)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,u),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[c,f]}}])}();_e.EasingFunction=Pk;_e.AnimationTimeline=lce;function ot(e){return new jg([e],null,e,e.ownerDocument)}let jg=class Wr{constructor(n=null,t=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(n),this._data=t,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(n){const t=typeof n=="string"?this._parent.querySelectorAll(n):n;return new Wr(t,null,this._elements[0],this._document)}selectFacetAll(n){const t=typeof n=="string"?this._parent.querySelectorAll(n):n;return new Wr(this._elements,null,this._parent,this._document,void 0,void 0,t)}select(n){const t=typeof n=="string"?this._parent.querySelectorAll(n)[0]||null:n;return new Wr([t],null,t,this._document)}append(n){const t=typeof n=="function"?n:()=>this.createElement(n),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],l=t(o,i);l.__data__=o,s!==null&&(l.__fromElements__=s),this._parent.appendChild(l),r.push(l)}return new Wr(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=t(o,i);a.appendChild(s),r.push(s)}return new Wr(r,null,r[0],this._document)}}maybeAppend(n,t,r){const i=this._elements[0],a=i.getElementById(n);if(a)return new Wr([a],null,this._parent,this._document);const o=typeof t=="string"?this.createElement(t):t();return o.id=n,r&&(o.className=r),i.appendChild(o),new Wr([o],null,this._parent,this._document)}data(n,t=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],l=new Set,u=new Map(this._elements.map((h,p)=>[t(h.__data__,p),h])),c=new Map(this._facetElements.map((h,p)=>[t(h.__data__,p),h])),f=yn(this._elements,h=>r(h.__data__));for(let h=0;h<n.length;h++){const p=n[h],v=t(p,h),g=r(p,h);if(u.has(v)){const m=u.get(v);m.__data__=p,m.__facet__=!1,a.push(m),o.delete(m),u.delete(v)}else if(c.has(v)){const m=c.get(v);m.__data__=p,m.__facet__=!0,a.push(m),c.delete(v)}else if(f.has(v)){const m=f.get(v);s.push([p,m]);for(const y of m)o.delete(y);f.delete(v)}else if(u.has(g)){const m=u.get(g);m.__toData__?m.__toData__.push(p):m.__toData__=[p],l.add(m),o.delete(m)}else i.push(p)}const d=[new Wr([],i,this._parent,this._document),new Wr(a,null,this._parent,this._document),new Wr(o,null,this._parent,this._document),new Wr([],s,this._parent,this._document),new Wr(l,null,this._parent,this._document)];return new Wr(this._elements,null,this._parent,this._document,d)}merge(n){const t=[...this._elements,...n._elements],r=[...this._transitions,...n._transitions];return new Wr(t,null,this._parent,this._document,void 0,r)}createElement(n){if(this._document)return this._document.createElement(n,{});const t=Wr.registry[n];return t?new t:Of(`Unknown node type: ${n}`)}join(n=o=>o,t=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=n(this._enter),s=t(this._update),l=r(this._exit),u=i(this._merge),c=a(this._split);return s.merge(o).merge(l).merge(u).merge(c)}remove(){for(let n=0;n<this._elements.length;n++){const t=this._transitions[n];if(t){const r=Array.isArray(t)?t:[t];Promise.all(r.map(i=>i.finished)).then(()=>{this._elements[n].remove()})}else this._elements[n].remove()}return new Wr([],null,this._parent,this._document,void 0,this._transitions)}each(n){for(let t=0;t<this._elements.length;t++){const r=this._elements[t],i=r.__data__;n(i,t,r)}return this}attr(n,t){const r=typeof t!="function"?()=>t:t;return this.each(function(i,a,o){t!==void 0&&(o[n]=r(i,a,o))})}style(n,t){const r=typeof t!="function"?()=>t:t;return this.each(function(i,a,o){t!==void 0&&(o.style[n]=r(i,a,o))})}transition(n){const t=typeof n!="function"?()=>n:n,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=t(i,a,o)})}on(n,t){return this.each(function(r,i,a){a.addEventListener(n,t)}),this}call(n,...t){return n(this,...t),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};jg.registry={g:Ds,rect:nc,circle:Bu,path:ca,text:rs,ellipse:Ek,image:Tk,line:ed,polygon:jp,polyline:Mk,html:Ey};function Dv(e,n,t){return Math.max(n,Math.min(e,t))}function zg(e,n=10){return typeof e!="number"||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(n))}function qe(e,n){for(const[t,r]of Object.entries(n))e.style(t,r)}function uce(e,n){return n.forEach((t,r)=>r===0?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])),e.closePath(),e}function cce(e,n,t){const{arrowSize:r}=t,i=typeof r=="string"?+parseFloat(r)/100*Yn(e,n):r,a=Math.PI/6,o=Math.atan2(n[1]-e[1],n[0]-e[0]),s=Math.PI/2-o-a,l=[n[0]-i*Math.sin(s),n[1]-i*Math.cos(s)],u=o-a,c=[n[0]-i*Math.cos(u),n[1]-i*Math.sin(u)];return[l,c]}function Xh(e,n,t,r,i){const a=Ia(Qn(r,n))+Math.PI,o=Ia(Qn(r,t))+Math.PI;return e.arc(r[0],r[1],i,a,o,o-a<0),e}function GD(e,n,t,r="y",i="between",a=!1){const o=(g,m)=>g==="y"||g===!0?m?180:90:m?90:0,s=r==="y"||r===!0?t:n,l=o(r,a),u=Qu(s),[c,f]=As(u,g=>s[g]),d=new wn({domain:[c,f],range:[0,100]}),h=g=>jt(s[g])&&!Number.isNaN(s[g])?d.map(s[g]):0,p={between:g=>`${e[g]} ${h(g)}%`,start:g=>g===0?`${e[g]} ${h(g)}%`:`${e[g-1]} ${h(g)}%, ${e[g]} ${h(g)}%`,end:g=>g===e.length-1?`${e[g]} ${h(g)}%`:`${e[g]} ${h(g)}%, ${e[g+1]} ${h(g)}%`},v=u.sort((g,m)=>h(g)-h(m)).map(p[i]||p.between).join(",");return`linear-gradient(${l}deg, ${v})`}function My(e){const[n,t,r,i]=e;return[i,n,t,r]}function rc(e,n,t){const[r,i,,a]=_n(e)?My(n):n,[o,s]=t,l=e.getCenter(),u=Ef(Qn(r,l)),c=Ef(Qn(i,l)),f=c===u&&o!==s?c+Math.PI*2:c,d=1e-4;return{startAngle:u+d,endAngle:(f-u>=0?f:Math.PI*2+f)-d,innerRadius:Yn(a,l),outerRadius:Yn(r,l)}}function Rk(e){const{colorAttribute:n,opacityAttribute:t=n}=e;return`${t}Opacity`}function WD(e,n){if(!nn(e))return"";const t=e.getCenter(),{transform:r}=n;return`translate(${t[0]}, ${t[1]}) ${r||""}`}function Nk(e){if(e.length===1)return e[0];const[[n,t,r=0],[i,a,o=0]]=e;return[(n+i)/2,(t+a)/2,(r+o)/2]}var W0=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function HD(e,n,t,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:l=a,insetRight:u=a,insetBottom:c=a,radiusBottomLeft:f=o,radiusBottomRight:d=o,radiusTopLeft:h=o,radiusTopRight:p=o,minWidth:v=-1/0,maxWidth:g=1/0,minHeight:m=-1/0}=i,y=W0(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!nn(r)&&!H5(r)){const O=!!_n(r),[S,,E]=O?My(n):n,[T,M]=S,[P,A]=Qn(E,S),N=P>0?T:T+P,R=A>0?M:M+A,C=Math.abs(P),L=Math.abs(A),I=N+s,j=R+l,F=C-(s+u),z=L-(l+c),D=O?Dv(F,m,1/0):Dv(F,v,g),B=O?Dv(z,v,g):Dv(z,m,1/0),U=O?I:I-(D-F)/2,q=O?j-(B-z)/2:j-(B-z);return ot(e.createElement("rect",{})).style("x",U).style("y",q).style("width",D).style("height",B).style("radius",[h,p,d,f]).call(qe,y).node()}const{y:b,y1:x}=t,_=r.getCenter(),w=rc(r,n,[b,x]),k=ck().cornerRadius(o).padAngle(a*Math.PI/180);return ot(e.createElement("path",{})).style("d",k(w)).style("transform",`translate(${_[0]}, ${_[1]})`).style("radius",o).style("inset",a).call(qe,y).node()}const zp=(e,n)=>{const{colorAttribute:t,opacityAttribute:r="fill",first:i=!0,last:a=!0}=e,o=W0(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=n;return(u,c,f)=>{const{color:d,radius:h=0}=f,p=W0(f,["color","radius"]),v=p.lineWidth||1,{stroke:g,radius:m=h,radiusTopLeft:y=m,radiusTopRight:b=m,radiusBottomRight:x=m,radiusBottomLeft:_=m,innerRadius:w=0,innerRadiusTopLeft:k=w,innerRadiusTopRight:O=w,innerRadiusBottomRight:S=w,innerRadiusBottomLeft:E=w,lineWidth:T=t==="stroke"||g?v:0,inset:M=0,insetLeft:P=M,insetRight:A=M,insetBottom:N=M,insetTop:R=M,minWidth:C,maxWidth:L,minHeight:I}=o,j=W0(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:F=d,opacity:z}=c,D=[i?y:k,i?b:O,a?x:S,a?_:E],B=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];_n(s)&&B.push(B.shift());const U=Object.assign(Object.assign({radius:m},Object.fromEntries(B.map((q,$)=>[q,D[$]]))),{inset:M,insetLeft:P,insetRight:A,insetBottom:N,insetTop:R,minWidth:C,maxWidth:L,minHeight:I});return ot(HD(l,u,c,s,U)).call(qe,p).style("fill","transparent").style(t,F).style(Rk(e),z).style("lineWidth",T).style("stroke",g===void 0?F:g).call(qe,j).node()}};zp.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ic=(e,n)=>zp(Object.assign({colorAttribute:"fill"},e),n);ic.props=Object.assign(Object.assign({},zp.props),{defaultMarker:"square"});const Ay=(e,n)=>zp(Object.assign({colorAttribute:"stroke"},e),n);Ay.props=Object.assign(Object.assign({},zp.props),{defaultMarker:"hollowSquare"});var DM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function fce(e,n,t){const[r,i,a,o]=e;if(_n(t)){const u=[n?n[0][0]:i[0],i[1]],c=[n?n[3][0]:a[0],a[1]];return[r,u,c,o]}const s=[i[0],n?n[0][1]:i[1]],l=[a[0],n?n[3][1]:a[1]];return[r,s,l,o]}const Lk=(e,n)=>{const{adjustPoints:t=fce}=e,r=DM(e,["adjustPoints"]),{coordinate:i,document:a}=n;return(o,s,l,u)=>{const{index:c}=s,{color:f}=l,d=DM(l,["color"]),h=u[c+1],p=t(o,h,i),v=!!_n(i),[g,m,y,b]=v?My(p):p,{color:x=f,opacity:_}=s,w=ec().curve(pk)([g,m,y,b]);return ot(a.createElement("path",{})).call(qe,d).style("d",w).style("fill",x).style("fillOpacity",_).call(qe,r).node()}};Lk.props={defaultMarker:"square"};function dce(e,n,t){const[r,i,a,o]=e;if(_n(t)){const u=[n?n[0][0]:(i[0]+a[0])/2,i[1]],c=[n?n[3][0]:(i[0]+a[0])/2,a[1]];return[r,u,c,o]}const s=[i[0],n?n[0][1]:(i[1]+a[1])/2],l=[a[0],n?n[3][1]:(i[1]+a[1])/2];return[r,s,l,o]}const UD=(e,n)=>Lk(Object.assign({adjustPoints:dce},e),n);UD.props={defaultMarker:"square"};function Cf(e){const n=typeof e=="function"?e:e.render;return class extends Sk{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){n(this)}}}var FM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const hce=Cf(e=>{const{d1:n,d2:t,style1:r,style2:i}=e.attributes,a=e.ownerDocument;ot(e).maybeAppend("line",()=>a.createElement("path",{})).style("d",n).call(qe,r),ot(e).maybeAppend("line1",()=>a.createElement("path",{})).style("d",t).call(qe,i)});function pce(e,n){const t=[],r=[];let i=!1,a=null;for(const o of e)!n(o[0])||!n(o[1])?i=!0:(t.push(o),i&&(i=!1,r.push([a,o])),a=o);return[t,r]}const ja=(e,n)=>{const{curve:t,gradient:r=!1,gradientColor:i="between",defined:a=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:o=!1}=e,s=FM(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:u}=n;return(c,f,d)=>{const{color:h,lineWidth:p}=d,v=FM(d,["color","lineWidth"]),{color:g=h,size:m=p,seriesColor:y,seriesX:b,seriesY:x}=f,_=WD(l,f),w=_n(l),k=r&&y?GD(y,b,x,r,i,w):g,O=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),k&&{stroke:k}),m&&{lineWidth:m}),_&&{transform:_}),s);let S;if(nn(l)){const N=l.getCenter();S=R=>aae().angle((C,L)=>Ef(Qn(R[L],N))).radius((C,L)=>Yn(R[L],N)).defined(([C,L])=>a(C)&&a(L)).curve(t)(R)}else S=ec().x(N=>N[0]).y(N=>N[1]).defined(([N,R])=>a(N)&&a(R)).curve(t);const[E,T]=pce(c,a),M=Pe(O,"connect"),P=!!T.length;if(!P||o&&!Object.keys(M).length)return ot(u.createElement("path",{})).style("d",S(E)||[]).call(qe,O).node();if(P&&!o)return ot(u.createElement("path",{})).style("d",S(c)).call(qe,O).node();const A=N=>N.map(S).join(",");return ot(new hce).style("style1",Object.assign(Object.assign({},O),M)).style("style2",O).style("d1",A(T)).style("d2",S(c)).node()}};ja.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const VD=(e,n)=>{const{coordinate:t}=n;return(...r)=>{const i=nn(t)?pk:Dp;return ja(Object.assign({curve:i},e),n)(...r)}};VD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"line"});var vce=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const XD=(e,n)=>{const t=vce(e,[]),{coordinate:r}=n;return(...i)=>{const a=nn(r)?I5:_n(r)?z5:j5;return ja(Object.assign({curve:a},t),n)(...i)}};XD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"smooth"});const qD=(e,n)=>ja(Object.assign({curve:W5},e),n);qD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"hv"});const KD=(e,n)=>ja(Object.assign({curve:G5},e),n);KD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"vh"});const ZD=(e,n)=>ja(Object.assign({curve:Y5},e),n);ZD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"hvh"});var gce=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function mce(e,n,t,r,i){const a=Qn(t,n),o=Ia(a),s=o+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],u=[i/2*Math.cos(s),i/2*Math.sin(s)],c=[i/2*Math.cos(o),i/2*Math.sin(o)],f=[r/2*Math.cos(o),r/2*Math.sin(o)],d=fv(n,l),h=fv(t,u),p=fv(h,c),v=fv(t,c),g=Qn(v,u),m=Qn(t,u),y=Qn(n,l),b=Qn(y,f),x=Qn(n,f),_=Qn(d,f);e.moveTo(...d),e.lineTo(...h),e.arcTo(...p,...v,i/2),e.arcTo(...g,...m,i/2),e.lineTo(...y),e.arcTo(...b,...x,r/2),e.arcTo(..._,...d,r/2),e.closePath()}const QD=(e,n)=>{const{document:t}=n;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:l}=a,u=gce(a,["color"]),c=Fa();for(let f=0;f<r.length-1;f++){const d=r[f],h=r[f+1],p=o[f],v=o[f+1];[...d,...h].every(bn)&&mce(c,d,h,p,v)}return ot(t.createElement("path",{})).call(qe,u).style("fill",s||l).style("d",c.toString()).call(qe,e).node()}};QD.props=Object.assign(Object.assign({},ja.props),{defaultMarker:"line"});var yce=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const $k=(e,n,t)=>[["M",e-t,n],["A",t,t,0,1,0,e+t,n],["A",t,t,0,1,0,e-t,n],["Z"]];$k.style=["fill"];const JD=$k.bind(void 0);JD.style=["stroke","lineWidth"];const Py=(e,n,t)=>[["M",e-t,n-t],["L",e+t,n-t],["L",e+t,n+t],["L",e-t,n+t],["Z"]];Py.style=["fill"];const e4=Py.bind(void 0);e4.style=["fill"];const t4=Py.bind(void 0);t4.style=["stroke","lineWidth"];const Ik=(e,n,t)=>{const r=t*.618;return[["M",e-r,n],["L",e,n-t],["L",e+r,n],["L",e,n+t],["Z"]]};Ik.style=["fill"];const n4=Ik.bind(void 0);n4.style=["stroke","lineWidth"];const Dk=(e,n,t)=>{const r=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,n+r],["L",e,n-r],["L",e+t,n+r],["Z"]]};Dk.style=["fill"];const r4=Dk.bind(void 0);r4.style=["stroke","lineWidth"];const Fk=(e,n,t)=>{const r=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,n-r],["L",e+t,n-r],["L",e,n+r],["Z"]]};Fk.style=["fill"];const i4=Fk.bind(void 0);i4.style=["stroke","lineWidth"];const Bk=(e,n,t)=>{const r=t/2*Math.sqrt(3);return[["M",e,n-t],["L",e+r,n-t/2],["L",e+r,n+t/2],["L",e,n+t],["L",e-r,n+t/2],["L",e-r,n-t/2],["Z"]]};Bk.style=["fill"];const a4=Bk.bind(void 0);a4.style=["stroke","lineWidth"];const jk=(e,n,t)=>{const r=t-1.5;return[["M",e-t,n-r],["L",e+t,n+r],["L",e+t,n-r],["L",e-t,n+r],["Z"]]};jk.style=["fill"];const o4=jk.bind(void 0);o4.style=["stroke","lineWidth"];const s4=(e,n,t)=>[["M",e,n+t],["L",e,n-t]];s4.style=["stroke","lineWidth"];const l4=(e,n,t)=>[["M",e-t,n-t],["L",e+t,n+t],["M",e+t,n-t],["L",e-t,n+t]];l4.style=["stroke","lineWidth"];const u4=(e,n,t)=>[["M",e-t/2,n-t],["L",e+t/2,n-t],["M",e,n-t],["L",e,n+t],["M",e-t/2,n+t],["L",e+t/2,n+t]];u4.style=["stroke","lineWidth"];const c4=(e,n,t)=>[["M",e-t,n],["L",e+t,n],["M",e,n-t],["L",e,n+t]];c4.style=["stroke","lineWidth"];const f4=(e,n,t)=>[["M",e-t,n],["L",e+t,n]];f4.style=["stroke","lineWidth"];const zk=(e,n,t)=>[["M",e-t,n],["L",e+t,n]];zk.style=["stroke","lineWidth"];const d4=zk.bind(void 0);d4.style=["stroke","lineWidth"];const h4=(e,n,t)=>[["M",e-t,n],["A",t/2,t/2,0,1,1,e,n],["A",t/2,t/2,0,1,0,e+t,n]];h4.style=["stroke","lineWidth"];const p4=(e,n,t)=>[["M",e-t-1,n-2.5],["L",e,n-2.5],["L",e,n+2.5],["L",e+t+1,n+2.5]];p4.style=["stroke","lineWidth"];const v4=(e,n,t)=>[["M",e-t-1,n+2.5],["L",e,n+2.5],["L",e,n-2.5],["L",e+t+1,n-2.5]];v4.style=["stroke","lineWidth"];const g4=(e,n,t)=>[["M",e-(t+1),n+2.5],["L",e-t/2,n+2.5],["L",e-t/2,n-2.5],["L",e+t/2,n-2.5],["L",e+t/2,n+2.5],["L",e+t+1,n+2.5]];g4.style=["stroke","lineWidth"];const m4=(e,n,t)=>[["M",e-5,n+2.5],["L",e-5,n],["L",e,n],["L",e,n-3],["L",e,n+3],["L",e+6.5,n+3]];m4.style=["stroke","lineWidth"];const Yg=new Map([["bowtie",jk],["cross",l4],["dash",d4],["diamond",Ik],["dot",zk],["hexagon",Bk],["hollowBowtie",o4],["hollowDiamond",n4],["hollowHexagon",a4],["hollowPoint",JD],["hollowSquare",t4],["hollowTriangle",r4],["hollowTriangleDown",i4],["hv",p4],["hvh",g4],["hyphen",f4],["line",s4],["plus",c4],["point",$k],["rect",e4],["smooth",h4],["square",Py],["tick",u4],["triangleDown",Fk],["triangle",Dk],["vh",v4],["vhv",m4]]);function bce(e,n){var{d:t,fill:r,lineWidth:i,path:a,stroke:o,color:s}=n,l=yce(n,["d","fill","lineWidth","path","stroke","color"]);const u=Yg.get(e)||Yg.get("point");return(...c)=>new ca({style:Object.assign(Object.assign({},l),{d:u(...c),stroke:u.style.includes("stroke")?s||o:"",fill:u.style.includes("fill")?s||r:"",lineWidth:u.style.includes("lineWidth")?i||i||2:0})})}function Yk(e){return e.replace(/-(\w)/g,function(n,t){return t.toUpperCase()})}function xce(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var wce=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function y4(e,n,t,r){if(n.length===1)return;const{size:i}=t;if(e==="fixed")return i;if(e==="normal"||U5(r)){const[[a,o],[s,l]]=n,u=Math.abs((s-a)/2),c=Math.abs((l-o)/2);return Math.max(0,(u+c)/2)}return i}const At=(e,n)=>{const{colorAttribute:t,symbol:r,mode:i="auto"}=e,a=wce(e,["colorAttribute","symbol","mode"]),o=Yg.get(Yk(r))||Yg.get("point"),{coordinate:s,document:l}=n;return(u,c,f)=>{const{lineWidth:d,color:h}=f,p=a.stroke?d||1:d,{color:v=h,transform:g,opacity:m}=c,[y,b]=Nk(u),_=y4(i,u,c,s)||a.r||f.r;return ot(l.createElement("path",{})).call(qe,f).style("fill","transparent").style("d",o(y,b,_)).style("lineWidth",p).style("transform",g).style("transformOrigin",`${y-_} ${b-_}`).style("stroke",v).style(Rk(e),m).style(t,v).call(qe,a).node()}};At.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const b4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),n);b4.props=Object.assign({defaultMarker:"hollowBowtie"},At.props);const x4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),n);x4.props=Object.assign({defaultMarker:"hollowDiamond"},At.props);const w4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),n);w4.props=Object.assign({defaultMarker:"hollowHexagon"},At.props);const _4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"point"},e),n);_4.props=Object.assign({defaultMarker:"hollowPoint"},At.props);const k4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"square"},e),n);k4.props=Object.assign({defaultMarker:"hollowSquare"},At.props);const O4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),n);O4.props=Object.assign({defaultMarker:"hollowTriangle"},At.props);const S4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),n);S4.props=Object.assign({defaultMarker:"hollowTriangleDown"},At.props);var _ce=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const E4=(e,n)=>{const{colorAttribute:t,mode:r="auto"}=e,i=_ce(e,["colorAttribute","mode"]),{coordinate:a,document:o}=n;return(s,l,u)=>{const{lineWidth:c,color:f}=u,d=i.stroke?c||1:c,{color:h=f,transform:p,opacity:v}=l,[g,m]=Nk(s),b=y4(r,s,l,a)||i.r||u.r;return ot(o.createElement("circle",{})).call(qe,u).style("fill","transparent").style("cx",g).style("cy",m).style("r",b).style("lineWidth",d).style("transform",p).style("transformOrigin",`${g} ${m}`).style("stroke",h).style(Rk(e),v).style(t,h).call(qe,i).node()}},Gk=(e,n)=>E4(Object.assign({colorAttribute:"fill"},e),n);Gk.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const T4=(e,n)=>E4(Object.assign({colorAttribute:"stroke"},e),n);T4.props=Object.assign({defaultMarker:"hollowPoint"},Gk.props);const M4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),n);M4.props=Object.assign({defaultMarker:"bowtie"},At.props);const A4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),n);A4.props=Object.assign({defaultMarker:"cross"},At.props);const P4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),n);P4.props=Object.assign({defaultMarker:"diamond"},At.props);const C4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),n);C4.props=Object.assign({defaultMarker:"hexagon"},At.props);const R4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),n);R4.props=Object.assign({defaultMarker:"hyphen"},At.props);const N4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"line"},e),n);N4.props=Object.assign({defaultMarker:"line"},At.props);const L4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),n);L4.props=Object.assign({defaultMarker:"plus"},At.props);const $4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"point"},e),n);$4.props=Object.assign({defaultMarker:"point"},At.props);const I4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"square"},e),n);I4.props=Object.assign({defaultMarker:"square"},At.props);const D4=(e,n)=>At(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),n);D4.props=Object.assign({defaultMarker:"tick"},At.props);const F4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),n);F4.props=Object.assign({defaultMarker:"triangle"},At.props);const B4=(e,n)=>At(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),n);B4.props=Object.assign({defaultMarker:"triangleDown"},At.props);var BM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Wk=(e,n)=>{const{arrow:t=!0,arrowSize:r="40%"}=e,i=BM(e,["arrow","arrowSize"]),{document:a}=n;return(o,s,l)=>{const{defaultColor:u}=l,c=BM(l,["defaultColor"]),{color:f=u,transform:d}=s,[h,p]=o,v=Fa();if(v.moveTo(...h),v.lineTo(...p),t){const[g,m]=cce(h,p,{arrowSize:r});v.moveTo(...g),v.lineTo(...p),v.lineTo(...m)}return ot(a.createElement("path",{})).call(qe,c).style("d",v.toString()).style("stroke",f).style("transform",d).call(qe,i).node()}};Wk.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function j4(e,n,t,r){var i=e-t,a=n-r;return Math.sqrt(i*i+a*a)}function z4(e,n){var t=Math.min.apply(Math,Ve([],Z(e),!1)),r=Math.min.apply(Math,Ve([],Z(n),!1)),i=Math.max.apply(Math,Ve([],Z(e),!1)),a=Math.max.apply(Math,Ve([],Z(n),!1));return{x:t,y:r,width:i-t,height:a-r}}function kce(e,n,t){return Math.atan(-n/e*Math.tan(t))}function Oce(e,n,t){return Math.atan(n/(e*Math.tan(t)))}function Sce(e,n,t,r,i,a){return t*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+e}function Ece(e,n,t,r,i,a){return t*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+n}function Tce(e,n,t,r,i,a,o){for(var s=kce(t,r,i),l=1/0,u=-1/0,c=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;a<o?a<d&&d<o&&c.push(d):o<d&&d<a&&c.push(d)}for(var f=0;f<c.length;f++){var h=Sce(e,n,t,r,i,c[f]);h<l&&(l=h),h>u&&(u=h)}for(var p=Oce(t,r,i),v=1/0,g=-1/0,m=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var y=p+f;a<o?a<y&&y<o&&m.push(y):o<y&&y<a&&m.push(y)}for(var f=0;f<m.length;f++){var b=Ece(e,n,t,r,i,m[f]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:u-l,height:g-v}}function Y4(e,n,t,r){return j4(e,n,t,r)}function G4(e,n,t,r,i){return{x:(1-i)*e+i*t,y:(1-i)*n+i*r}}function jM(e,n,t,r,i){var a=1-i;return a*a*a*e+3*n*i*a*a+3*t*i*i*a+r*i*i*i}function zM(e,n,t,r){var i=-3*e+9*n-9*t+3*r,a=6*e-12*n+6*t,o=3*n-3*e,s=[],l,u,c;if(Uo(i,0))Uo(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var f=a*a-4*i*o;Uo(f,0)?s.push(-a/(2*i)):f>0&&(c=Math.sqrt(f),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function Mce(e,n,t,r,i,a,o,s){for(var l=[e,o],u=[n,s],c=zM(e,t,i,o),f=zM(n,r,a,s),d=0;d<c.length;d++)l.push(jM(e,t,i,o,c[d]));for(var d=0;d<f.length;d++)u.push(jM(n,r,a,s,f[d]));return z4(l,u)}function Ace(e){if(e.length<2)return 0;for(var n=0,t=0;t<e.length-1;t++){var r=e[t],i=e[t+1];n+=j4(r[0],r[1],i[0],i[1])}return n}function Pce(e){return Ace(e)}function YM(e,n,t,r){var i=1-r;return i*i*e+2*r*i*n+r*r*t}function GM(e,n,t){var r=e+t-2*n;if(Uo(r,0))return[.5];var i=(e-n)/r;return i<=1&&i>=0?[i]:[]}function Cce(e,n,t,r,i,a){var o=GM(e,t,i)[0],s=GM(n,r,a)[0],l=[e,i],u=[n,a];return o!==void 0&&l.push(YM(e,t,i,o)),s!==void 0&&u.push(YM(n,r,a,s)),z4(l,u)}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.2.16
 * @date 1/23/2025, 8:31:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Rce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nce={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(Rce,function(){function t(_,w,k,O,S){r(_,w,k||0,O||_.length-1,S||a)}function r(_,w,k,O,S){for(;O>k;){if(O-k>600){var E=O-k+1,T=w-k+1,M=Math.log(E),P=.5*Math.exp(2*M/3),A=.5*Math.sqrt(M*P*(E-P)/E)*(T-E/2<0?-1:1),N=Math.max(k,Math.floor(w-T*P/E+A)),R=Math.min(O,Math.floor(w+(E-T)*P/E+A));r(_,w,N,R,S)}var C=_[w],L=k,I=O;for(i(_,k,w),S(_[O],C)>0&&i(_,k,O);L<I;){for(i(_,L,I),L++,I--;S(_[L],C)<0;)L++;for(;S(_[I],C)>0;)I--}S(_[k],C)===0?i(_,k,I):(I++,i(_,I,O)),I<=w&&(k=I+1),w<=I&&(O=I-1)}}function i(_,w,k){var O=_[w];_[w]=_[k],_[k]=O}function a(_,w){return _<w?-1:_>w?1:0}var o=function(w){w===void 0&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(w){var k=this.data,O=[];if(!y(w,k))return O;for(var S=this.toBBox,E=[];k;){for(var T=0;T<k.children.length;T++){var M=k.children[T],P=k.leaf?S(M):M;y(w,P)&&(k.leaf?O.push(M):m(w,P)?this._all(M,O):E.push(M))}k=E.pop()}return O},o.prototype.collides=function(w){var k=this.data;if(!y(w,k))return!1;for(var O=[];k;){for(var S=0;S<k.children.length;S++){var E=k.children[S],T=k.leaf?this.toBBox(E):E;if(y(w,T)){if(k.leaf||m(w,T))return!0;O.push(E)}}k=O.pop()}return!1},o.prototype.load=function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var k=0;k<w.length;k++)this.insert(w[k]);return this}var O=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=O;else if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var S=this.data;this.data=O,O=S}this._insert(O,this.data.height-O.height-1,!0)}return this},o.prototype.insert=function(w){return w&&this._insert(w,this.data.height-1),this},o.prototype.clear=function(){return this.data=b([]),this},o.prototype.remove=function(w,k){if(!w)return this;for(var O=this.data,S=this.toBBox(w),E=[],T=[],M,P,A;O||E.length;){if(O||(O=E.pop(),P=E[E.length-1],M=T.pop(),A=!0),O.leaf){var N=s(w,O.children,k);if(N!==-1)return O.children.splice(N,1),E.push(O),this._condense(E),this}!A&&!O.leaf&&m(O,S)?(E.push(O),T.push(M),M=0,P=O,O=O.children[0]):P?(M++,O=P.children[M],A=!1):O=null}return this},o.prototype.toBBox=function(w){return w},o.prototype.compareMinX=function(w,k){return w.minX-k.minX},o.prototype.compareMinY=function(w,k){return w.minY-k.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(w){return this.data=w,this},o.prototype._all=function(w,k){for(var O=[];w;)w.leaf?k.push.apply(k,w.children):O.push.apply(O,w.children),w=O.pop();return k},o.prototype._build=function(w,k,O,S){var E=O-k+1,T=this._maxEntries,M;if(E<=T)return M=b(w.slice(k,O+1)),l(M,this.toBBox),M;S||(S=Math.ceil(Math.log(E)/Math.log(T)),T=Math.ceil(E/Math.pow(T,S-1))),M=b([]),M.leaf=!1,M.height=S;var P=Math.ceil(E/T),A=P*Math.ceil(Math.sqrt(T));x(w,k,O,A,this.compareMinX);for(var N=k;N<=O;N+=A){var R=Math.min(N+A-1,O);x(w,N,R,P,this.compareMinY);for(var C=N;C<=R;C+=P){var L=Math.min(C+P-1,R);M.children.push(this._build(w,C,L,S-1))}}return l(M,this.toBBox),M},o.prototype._chooseSubtree=function(w,k,O,S){for(;S.push(k),!(k.leaf||S.length-1===O);){for(var E=1/0,T=1/0,M=void 0,P=0;P<k.children.length;P++){var A=k.children[P],N=h(A),R=v(w,A)-N;R<T?(T=R,E=N<E?N:E,M=A):R===T&&N<E&&(E=N,M=A)}k=M||k.children[0]}return k},o.prototype._insert=function(w,k,O){var S=O?w:this.toBBox(w),E=[],T=this._chooseSubtree(S,this.data,k,E);for(T.children.push(w),c(T,S);k>=0&&E[k].children.length>this._maxEntries;)this._split(E,k),k--;this._adjustParentBBoxes(S,E,k)},o.prototype._split=function(w,k){var O=w[k],S=O.children.length,E=this._minEntries;this._chooseSplitAxis(O,E,S);var T=this._chooseSplitIndex(O,E,S),M=b(O.children.splice(T,O.children.length-T));M.height=O.height,M.leaf=O.leaf,l(O,this.toBBox),l(M,this.toBBox),k?w[k-1].children.push(M):this._splitRoot(O,M)},o.prototype._splitRoot=function(w,k){this.data=b([w,k]),this.data.height=w.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(w,k,O){for(var S,E=1/0,T=1/0,M=k;M<=O-k;M++){var P=u(w,0,M,this.toBBox),A=u(w,M,O,this.toBBox),N=g(P,A),R=h(P)+h(A);N<E?(E=N,S=M,T=R<T?R:T):N===E&&R<T&&(T=R,S=M)}return S||O-k},o.prototype._chooseSplitAxis=function(w,k,O){var S=w.leaf?this.compareMinX:f,E=w.leaf?this.compareMinY:d,T=this._allDistMargin(w,k,O,S),M=this._allDistMargin(w,k,O,E);T<M&&w.children.sort(S)},o.prototype._allDistMargin=function(w,k,O,S){w.children.sort(S);for(var E=this.toBBox,T=u(w,0,k,E),M=u(w,O-k,O,E),P=p(T)+p(M),A=k;A<O-k;A++){var N=w.children[A];c(T,w.leaf?E(N):N),P+=p(T)}for(var R=O-k-1;R>=k;R--){var C=w.children[R];c(M,w.leaf?E(C):C),P+=p(M)}return P},o.prototype._adjustParentBBoxes=function(w,k,O){for(var S=O;S>=0;S--)c(k[S],w)},o.prototype._condense=function(w){for(var k=w.length-1,O=void 0;k>=0;k--)w[k].children.length===0?k>0?(O=w[k-1].children,O.splice(O.indexOf(w[k]),1)):this.clear():l(w[k],this.toBBox)};function s(_,w,k){if(!k)return w.indexOf(_);for(var O=0;O<w.length;O++)if(k(_,w[O]))return O;return-1}function l(_,w){u(_,0,_.children.length,w,_)}function u(_,w,k,O,S){S||(S=b(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var E=w;E<k;E++){var T=_.children[E];c(S,_.leaf?O(T):T)}return S}function c(_,w){return _.minX=Math.min(_.minX,w.minX),_.minY=Math.min(_.minY,w.minY),_.maxX=Math.max(_.maxX,w.maxX),_.maxY=Math.max(_.maxY,w.maxY),_}function f(_,w){return _.minX-w.minX}function d(_,w){return _.minY-w.minY}function h(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function p(_){return _.maxX-_.minX+(_.maxY-_.minY)}function v(_,w){return(Math.max(w.maxX,_.maxX)-Math.min(w.minX,_.minX))*(Math.max(w.maxY,_.maxY)-Math.min(w.minY,_.minY))}function g(_,w){var k=Math.max(_.minX,w.minX),O=Math.max(_.minY,w.minY),S=Math.min(_.maxX,w.maxX),E=Math.min(_.maxY,w.maxY);return Math.max(0,S-k)*Math.max(0,E-O)}function m(_,w){return _.minX<=w.minX&&_.minY<=w.minY&&w.maxX<=_.maxX&&w.maxY<=_.maxY}function y(_,w){return w.minX<=_.maxX&&w.minY<=_.maxY&&w.maxX>=_.minX&&w.maxY>=_.minY}function b(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(_,w,k,O,S){for(var E=[w,k];E.length;)if(k=E.pop(),w=E.pop(),!(k-w<=O)){var T=w+Math.ceil((k-w)/O/2)*O;t(_,T,w,k,S),E.push(w,T,T,k)}}return o})})(Nce);var tt=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),mb=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),yb=di,mc=Or,Lce=B$,$ce=F$,WM=xl,bb=z$,$i=function(){function e(){se(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return le(e,[{key:"update",value:function(t,r){mc(this.center,t),mc(this.halfExtents,r),bb(this.min,this.center,this.halfExtents),yb(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,r){yb(this.center,r,t),WM(this.center,this.center,.5),bb(this.halfExtents,r,t),WM(this.halfExtents,this.halfExtents,.5),mc(this.min,t),mc(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){if(!e.isEmpty(t)){if(e.isEmpty(this)){this.setMinMax(t.getMin(),t.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,l=s[0],u=s[1],c=s[2],f=i-l,d=i+l,h=a-u,p=a+u,v=o-c,g=o+c,m=t.center,y=m[0],b=m[1],x=m[2],_=t.halfExtents,w=_[0],k=_[1],O=_[2],S=y-w,E=y+w,T=b-k,M=b+k,P=x-O,A=x+O;S<f&&(f=S),E>d&&(d=E),T<h&&(h=T),M>p&&(p=M),P<v&&(v=P),A>g&&(g=A),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(v+g)*.5,s[0]=(d-f)*.5,s[1]=(p-h)*.5,s[2]=(g-v)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=v,this.max[0]=d,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(t,r){var i=this.center,a=this.halfExtents,o=t.center,s=t.halfExtents,l=r[0],u=r[4],c=r[8],f=r[1],d=r[5],h=r[9],p=r[2],v=r[6],g=r[10],m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),x=Math.abs(f),_=Math.abs(d),w=Math.abs(h),k=Math.abs(p),O=Math.abs(v),S=Math.abs(g);i[0]=r[12]+l*o[0]+u*o[1]+c*o[2],i[1]=r[13]+f*o[0]+d*o[1]+h*o[2],i[2]=r[14]+p*o[0]+v*o[1]+g*o[2],a[0]=m*s[0]+y*s[1]+b*s[2],a[1]=x*s[0]+_*s[1]+w*s[2],a[2]=k*s[0]+O*s[1]+S*s[2],bb(this.min,i,a),yb(this.max,i,a)}},{key:"intersects",value:function(t){var r=this.getMax(),i=this.getMin(),a=t.getMax(),o=t.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(t){if(!this.intersects(t))return null;var r=new e,i=Lce([0,0,0],this.getMin(),t.getMin()),a=$ce([0,0,0],this.getMax(),t.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(t){return t.pnVertexFlag===273?mc([0,0,0],this.min):t.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:t.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:t.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:t.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:t.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:t.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(t){return t.pnVertexFlag===273?mc([0,0,0],this.max):t.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:t.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:t.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:t.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:t.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:t.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(t){return!t||t.halfExtents[0]===0&&t.halfExtents[1]===0&&t.halfExtents[2]===0}}])}(),Ice=function(){function e(n,t){se(this,e),this.distance=n||0,this.normal=t||rt(0,1,0),this.updatePNVertexFlag()}return le(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(t){return Zr(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/B_(this.normal);xl(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,r,i){var a=this.distanceToPoint(t),o=this.distanceToPoint(r),s=a/(a-o),l=s>=0&&s<=1;return l&&i&&yf(i,t,r,s),l}}])}(),Dce=function(){function e(n){if(se(this,e),this.planes=[],n)this.planes=n;else for(var t=0;t<6;t++)this.planes.push(new Ice)}return le(e,[{key:"extractFromVPMatrix",value:function(t){var r=ze(t,16),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],b=r[15];gn(this.planes[0].normal,s-i,f-l,v-d),this.planes[0].distance=b-g,gn(this.planes[1].normal,s+i,f+l,v+d),this.planes[1].distance=b+g,gn(this.planes[2].normal,s+a,f+u,v+h),this.planes[2].distance=b+m,gn(this.planes[3].normal,s-a,f-u,v-h),this.planes[3].distance=b-m,gn(this.planes[4].normal,s-o,f-c,v-p),this.planes[4].distance=b-y,gn(this.planes[5].normal,s+o,f+c,v+p),this.planes[5].distance=b+y,this.planes.forEach(function(x){x.normalize(),x.updatePNVertexFlag()})}}])}(),Ta=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;se(this,e),this.x=0,this.y=0,this.x=n,this.y=t}return le(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}}])}(),Rf=function(){function e(n,t,r,i){se(this,e),this.x=n,this.y=t,this.width=r,this.height=i,this.left=n,this.right=n+r,this.top=t,this.bottom=t+i}return le(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}},{key:"applyTransform",value:function(t,r){var i=Es(t.x,t.y,0,1),a=Es(t.x+t.width,t.y,0,1),o=Es(t.x,t.y+t.height,0,1),s=Es(t.x+t.width,t.y+t.height,0,1),l=Ar(),u=Ar(),c=Ar(),f=Ar();Pr(l,i,r),Pr(u,a,r),Pr(c,o,r),Pr(f,s,r);var d=Math.min(l[0],u[0],c[0],f[0]),h=Math.min(l[1],u[1],c[1],f[1]),p=Math.max(l[0],u[0],c[0],f[0]),v=Math.max(l[1],u[1],c[1],f[1]);return e.fromRect({x:d,y:h,width:p-d,height:v-h})}}])}(),dn="Method not implemented.",Fce="Cannot append a destroyed element.";function Xc(e){return e===void 0?0:e>360||e<-360?e%360:e}var xb=Ze();function wi(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?$r(e):Or(xb,e):jt(e)?r?rt(e,n,t):gn(xb,e,n,t):r?rt(e[0],e[1]||n,e[2]||t):gn(xb,e[0],e[1]||n,e[2]||t)}var Bce=Math.PI/180;function hn(e){return e*Bce}var jce=180/Math.PI;function Oa(e){return e*jce}function zce(e){return 360*e}var Gg=Math.PI/2;function Yce(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t,s=r*r,l=i*i,u=a*a,c=o+s+l+u,f=t*a-r*i;return f>.499995*c?(e[0]=Gg,e[1]=2*Math.atan2(r,t),e[2]=0):f<-.499995*c?(e[0]=-Gg,e[1]=2*Math.atan2(r,t),e[2]=0):(e[0]=Math.asin(2*(t*i-a*r)),e[1]=Math.atan2(2*(t*a+r*i),1-2*(l+u)),e[2]=Math.atan2(2*(t*r+i*a),1-2*(s+l))),e}function Gce(e,n){var t,r,i=es(Ze(),n),a=ze(i,3),o=a[0],s=a[1],l=a[2],u=Math.asin(-n[2]/o);return u<Gg?u>-Gg?(t=Math.atan2(n[6]/s,n[10]/l),r=Math.atan2(n[1]/o,n[0]/o)):(r=0,t=-Math.atan2(n[4]/s,n[5]/s)):(r=0,t=Math.atan2(n[4]/s,n[5]/s)),e[0]=t,e[1]=u,e[2]=r,e}function wb(e,n){return n.length===16?Gce(e,n):Yce(e,n)}function Wce(e,n,t,r,i){var a=Math.cos(e),o=Math.sin(e);return A$(r*a,i*o,0,-r*o,i*a,0,n,t,1)}function Hce(e,n,t,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,u=t-n,c=r-i,f=l/u,d=l/c,h=(t+n)/u,p=(r+i)/c,v,g,m=o-a,y=o*a;return s?(v=-o/m,g=-y/m):(v=-(o+a)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=h,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function HM(e){var n=e[0],t=e[1],r=e[3],i=e[4],a=Math.sqrt(n*n+t*t),o=Math.sqrt(r*r+i*i),s=n*i-t*r;if(s<0&&(n<i?a=-a:o=-o),a){var l=1/a;n*=l,t*=l}if(o){var u=1/o;r*=u,i*=u}var c=Math.atan2(t,n),f=Oa(c);return[e[6],e[7],a,o,f]}var Eo=ut(),Ga=ut(),kd=Ar(),ht=[Ze(),Ze(),Ze()],UM=Ze();function Uce(e,n,t,r,i,a){if(!Vce(Eo,e)||($s(Ga,Eo),Ga[3]=0,Ga[7]=0,Ga[11]=0,Ga[15]=1,Math.abs(A_(Ga))<1e-8))return!1;var o=Eo[3],s=Eo[7],l=Eo[11],u=Eo[12],c=Eo[13],f=Eo[14],d=Eo[15];if(o!==0||s!==0||l!==0){kd[0]=o,kd[1]=s,kd[2]=l,kd[3]=d;var h=Mr(Ga,Ga);if(!h)return!1;M_(Ga,Ga),Pr(i,kd,Ga)}else i[0]=i[1]=i[2]=0,i[3]=1;if(n[0]=u,n[1]=c,n[2]=f,Xce(ht,Eo),t[0]=qr(ht[0]),aa(ht[0],ht[0]),r[0]=Zr(ht[0],ht[1]),_b(ht[1],ht[1],ht[0],1,-r[0]),t[1]=qr(ht[1]),aa(ht[1],ht[1]),r[0]/=t[1],r[1]=Zr(ht[0],ht[2]),_b(ht[2],ht[2],ht[0],1,-r[1]),r[2]=Zr(ht[1],ht[2]),_b(ht[2],ht[2],ht[1],1,-r[2]),t[2]=qr(ht[2]),aa(ht[2],ht[2]),r[1]/=t[2],r[2]/=t[2],sh(UM,ht[1],ht[2]),Zr(ht[0],UM)<0)for(var p=0;p<3;p++)t[p]*=-1,ht[p][0]*=-1,ht[p][1]*=-1,ht[p][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+ht[0][0]-ht[1][1]-ht[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-ht[0][0]+ht[1][1]-ht[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-ht[0][0]-ht[1][1]+ht[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+ht[0][0]+ht[1][1]+ht[2][2],0)),ht[2][1]>ht[1][2]&&(a[0]=-a[0]),ht[0][2]>ht[2][0]&&(a[1]=-a[1]),ht[1][0]>ht[0][1]&&(a[2]=-a[2]),!0}function Vce(e,n){var t=n[15];if(t===0)return!1;for(var r=1/t,i=0;i<16;i++)e[i]=n[i]*r;return!0}function Xce(e,n){e[0][0]=n[0],e[0][1]=n[1],e[0][2]=n[2],e[1][0]=n[4],e[1][1]=n[5],e[1][2]=n[6],e[2][0]=n[8],e[2][1]=n[9],e[2][2]=n[10]}function _b(e,n,t,r,i){e[0]=n[0]*r+t[0]*i,e[1]=n[1]*r+t[1]*i,e[2]=n[2]*r+t[2]*i}var fn=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),VM=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),Wa=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),qce={UPDATED:"updated"},XM=2e-4,W4=function(){function e(){se(this,e),this.clipSpaceNearZ=mb.NEGATIVE_ONE,this.eventEmitter=new _y,this.matrix=ut(),this.right=rt(1,0,0),this.up=rt(0,1,0),this.forward=rt(0,0,1),this.position=rt(0,0,1),this.focalPoint=rt(0,0,0),this.distanceVector=rt(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=ut(),this.projectionMatrixInverse=ut(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=fn.EXPLORING,this.trackingMode=VM.DEFAULT,this.projectionMode=Wa.PERSPECTIVE,this.frustum=new Dce,this.orthoMatrix=ut()}return le(e,[{key:"isOrtho",value:function(){return this.projectionMode===Wa.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(t){this.enableUpdate=t}},{key:"setType",value:function(t,r){return this.type=t,this.type===fn.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===fn.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==fn.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){return this.rotateWorld=t,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Mr(ut(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(t,r){var i=ui(ut(),[t,r,0]);this.jitteredProjectionMatrix=Gn(ut(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setProjectionMatrix",value:function(t){this.projectionMatrix=t}},{key:"setFov",value:function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setNear",value:function(t){return this.projectionMode===Wa.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this}},{key:"setFar",value:function(t){return this.projectionMode===Wa.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this}},{key:"setViewOffset",value:function(t,r,i,a,o,s){return this.aspect=t/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===Wa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Wa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(t){return this.zoom=t,this.projectionMode===Wa.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Wa.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(t,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(t),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),u=l.x,c=l.y,f=rt(u-a,c-o,0),d=Zr(f,this.right)/qr(this.right),h=Zr(f,this.up)/qr(this.up),p=this.getPosition(),v=ze(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),b=ze(y,2),x=b[0],_=b[1];return this.setPosition(g-d,m-h),this.setFocalPoint(x-d,_-h),this}},{key:"setPerspective",value:function(t,r,i,a){var o;this.projectionMode=Wa.PERSPECTIVE,this.fov=i,this.near=t,this.far=r,this.aspect=a;var s=this.near*Math.tan(hn(.5*this.fov))/this.zoom,l=2*s,u=this.aspect*l,c=-.5*u;if((o=this.view)!==null&&o!==void 0&&o.enabled){var f=this.view.fullWidth,d=this.view.fullHeight;c+=this.view.offsetX*u/f,s-=this.view.offsetY*l/d,u*=this.view.width/f,l*=this.view.height/d}return Hce(this.projectionMatrix,c,c+u,s-l,s,t,this.far,this.clipSpaceNearZ===mb.ZERO),Mr(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(t,r,i,a,o,s){var l;this.projectionMode=Wa.ORTHOGRAPHIC,this.rright=r,this.left=t,this.top=i,this.bottom=a,this.near=o,this.far=s;var u=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,h=f-u,p=f+u,v=d+c,g=d-c;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=m*this.view.offsetX,p=h+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===mb.NEGATIVE_ONE?$_(this.projectionMatrix,h,p,v,g,o,s):I_(this.projectionMatrix,h,p,v,g,o,s),Mr(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=wi(t,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=rt(0,1,0);if(this.focalPoint=wi(t,r,i),this.trackingMode===VM.CINEMATIC){var o=$h(Ze(),this.focalPoint,this.position);t=o[0],r=o[1],i=o[2];var s=qr(o),l=Oa(Math.asin(r/s)),u=90+Oa(Math.atan2(i,t)),c=ut();C_(c,c,hn(u)),P_(c,c,hn(l)),a=pn(Ze(),[0,1,0],c)}return Mr(this.matrix,D_(ut(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<XM&&(this.distance=XM),this.dollyingStep=this.distance/100;var r=Ze();t=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=t*i[0]+a[0],r[1]=t*i[1]+a[1],r[2]=t*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"setAzimuth",value:function(t){return this.azimuth=Xc(t),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=Xc(t),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(t){return this.roll=Xc(t),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var t=Ei(Ct(),[0,0,1],hn(this.roll));oa(this.matrix);var r=Ei(Ct(),[1,0,0],hn((this.rotateWorld&&this.type!==fn.TRACKING||this.type===fn.TRACKING?1:-1)*this.elevation)),i=Ei(Ct(),[0,1,0],hn((this.rotateWorld&&this.type!==fn.TRACKING||this.type===fn.TRACKING?1:-1)*this.azimuth)),a=Ti(Ct(),i,r);a=Ti(Ct(),a,t);var o=Tp(ut(),a);this.type===fn.ORBITING||this.type===fn.EXPLORING?(ao(this.matrix,this.matrix,this.focalPoint),Gn(this.matrix,this.matrix,o),ao(this.matrix,this.matrix,[0,0,this.distance])):this.type===fn.TRACKING&&(ao(this.matrix,this.matrix,this.position),Gn(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(t,r,i){this.position=wi(t,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Or(this.right,wi(Pr(Ar(),[1,0,0,0],this.matrix))),Or(this.up,wi(Pr(Ar(),[0,1,0,0],this.matrix))),Or(this.forward,wi(Pr(Ar(),[0,0,1,0],this.matrix))),aa(this.right,this.right),aa(this.up,this.up),aa(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=qr(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===fn.TRACKING?(this.elevation=Oa(Math.asin(r/a)),this.azimuth=Oa(Math.atan2(-t,-i))):this.rotateWorld?(this.elevation=Oa(Math.asin(r/a)),this.azimuth=Oa(Math.atan2(-t,-i))):(this.elevation=-Oa(Math.asin(r/a)),this.azimuth=-Oa(Math.atan2(-t,-i)))}},{key:"_getPosition",value:function(){Or(this.position,wi(Pr(Ar(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){F_(this.distanceVector,[0,0,-this.distance],M$(Zu(),this.matrix)),di(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=$h(Ze(),this.focalPoint,this.position),this.distance=qr(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Wa.ORTHOGRAPHIC){var t=this.position,r=Ei(Ct(),[0,0,1],-this.roll*Math.PI/180);Ts(this.orthoMatrix,r,rt((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),rt(this.zoom,this.zoom,1),t)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var t=this.getViewTransform(),r=Gn(ut(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(qce.UPDATED)}}},{key:"rotate",value:function(t,r,i){throw new Error(dn)}},{key:"pan",value:function(t,r){throw new Error(dn)}},{key:"dolly",value:function(t){throw new Error(dn)}},{key:"createLandmark",value:function(t,r){throw new Error(dn)}},{key:"gotoLandmark",value:function(t,r){throw new Error(dn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(dn)}}])}(),Kce=function(e){return e[e.Standard=0]="Standard",e}({}),Cw=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),H4={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Rf(0,0,0,0)},Re=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function Hk(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function U4(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function Yp(){}var qh=.7,Wg=1/qh,qc="\\s*([+-]?\\d+)\\s*",Kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zce=/^#([0-9a-f]{3,8})$/,Qce=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),Jce=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),efe=new RegExp(`^rgba\\(${qc},${qc},${qc},${Kh}\\)$`),tfe=new RegExp(`^rgba\\(${qo},${qo},${qo},${Kh}\\)$`),nfe=new RegExp(`^hsl\\(${Kh},${qo},${qo}\\)$`),rfe=new RegExp(`^hsla\\(${Kh},${qo},${qo},${Kh}\\)$`),qM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hk(Yp,Cy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KM,formatHex:KM,formatHex8:ife,formatHsl:afe,formatRgb:ZM,toString:ZM});function KM(){return this.rgb().formatHex()}function ife(){return this.rgb().formatHex8()}function afe(){return V4(this).formatHsl()}function ZM(){return this.rgb().formatRgb()}function Cy(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Zce.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?QM(n):t===3?new ji(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Fv(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Fv(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Qce.exec(e))?new ji(n[1],n[2],n[3],1):(n=Jce.exec(e))?new ji(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=efe.exec(e))?Fv(n[1],n[2],n[3],n[4]):(n=tfe.exec(e))?Fv(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=nfe.exec(e))?tA(n[1],n[2]/100,n[3]/100,1):(n=rfe.exec(e))?tA(n[1],n[2]/100,n[3]/100,n[4]):qM.hasOwnProperty(e)?QM(qM[e]):e==="transparent"?new ji(NaN,NaN,NaN,0):null}function QM(e){return new ji(e>>16&255,e>>8&255,e&255,1)}function Fv(e,n,t,r){return r<=0&&(e=n=t=NaN),new ji(e,n,t,r)}function ofe(e){return e instanceof Yp||(e=Cy(e)),e?(e=e.rgb(),new ji(e.r,e.g,e.b,e.opacity)):new ji}function sfe(e,n,t,r){return arguments.length===1?ofe(e):new ji(e,n,t,r??1)}function ji(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}Hk(ji,sfe,U4(Yp,{brighter(e){return e=e==null?Wg:Math.pow(Wg,e),new ji(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qh:Math.pow(qh,e),new ji(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ji(ku(this.r),ku(this.g),ku(this.b),Hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JM,formatHex:JM,formatHex8:lfe,formatRgb:eA,toString:eA}));function JM(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}`}function lfe(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}${fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function eA(){const e=Hg(this.opacity);return`${e===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${e===1?")":`, ${e})`}`}function Hg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ku(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fu(e){return e=ku(e),(e<16?"0":"")+e.toString(16)}function tA(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Ja(e,n,t,r)}function V4(e){if(e instanceof Ja)return new Ja(e.h,e.s,e.l,e.opacity);if(e instanceof Yp||(e=Cy(e)),!e)return new Ja;if(e instanceof Ja)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-n)/s+2:o=(n-t)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ja(o,s,l,e.opacity)}function ufe(e,n,t,r){return arguments.length===1?V4(e):new Ja(e,n,t,r??1)}function Ja(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}Hk(Ja,ufe,U4(Yp,{brighter(e){return e=e==null?Wg:Math.pow(Wg,e),new Ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qh:Math.pow(qh,e),new Ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new ji(kb(e>=240?e-240:e+120,i,r),kb(e,i,r),kb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ja(nA(this.h),Bv(this.s),Bv(this.l),Hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hg(this.opacity);return`${e===1?"hsl(":"hsla("}${nA(this.h)}, ${Bv(this.s)*100}%, ${Bv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nA(e){return e=(e||0)%360,e<0?e+360:e}function Bv(e){return Math.max(0,Math.min(1,e||0))}function kb(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}function Cr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var t=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=n?n.apply(this,a):a[0],l=t.cache;if(l.has(s))return l.get(s);var u=e.apply(this,a);return t.cache=l.set(s,u)||l,u};return t.cache=new(Cr.Cache||Map),Cr.cacheList.push(t.cache),t}Cr.Cache=Map;Cr.cacheList=[];Cr.clearCache=function(){Cr.cacheList.forEach(function(e){return e.clear()})};var Ie=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),Ka=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),cfe=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),ffe=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),dfe=[{name:"em",unit_type:Ie.kEms},{name:"px",unit_type:Ie.kPixels},{name:"deg",unit_type:Ie.kDegrees},{name:"rad",unit_type:Ie.kRadians},{name:"grad",unit_type:Ie.kGradians},{name:"ms",unit_type:Ie.kMilliseconds},{name:"s",unit_type:Ie.kSeconds},{name:"rem",unit_type:Ie.kRems},{name:"turn",unit_type:Ie.kTurns}],Nf=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),hfe=function(n){return dfe.find(function(t){return t.name===n}).unit_type},pfe=function(n){return n?n==="number"?Ie.kNumber:n==="percent"||n==="%"?Ie.kPercentage:hfe(n):Ie.kUnknown},vfe=function(n){switch(n){case Ie.kNumber:case Ie.kInteger:return Ka.kUNumber;case Ie.kPercentage:return Ka.kUPercent;case Ie.kPixels:return Ka.kULength;case Ie.kMilliseconds:case Ie.kSeconds:return Ka.kUTime;case Ie.kDegrees:case Ie.kRadians:case Ie.kGradians:case Ie.kTurns:return Ka.kUAngle;default:return Ka.kUOther}},gfe=function(n){switch(n){case Ka.kUNumber:return Ie.kNumber;case Ka.kULength:return Ie.kPixels;case Ka.kUPercent:return Ie.kPercentage;case Ka.kUTime:return Ie.kSeconds;case Ka.kUAngle:return Ie.kDegrees;default:return Ie.kUnknown}},rA=function(n){var t=1;switch(n){case Ie.kPixels:case Ie.kDegrees:case Ie.kSeconds:break;case Ie.kMilliseconds:t=.001;break;case Ie.kRadians:t=180/Math.PI;break;case Ie.kGradians:t=.9;break;case Ie.kTurns:t=360;break}return t},Rw=function(n){switch(n){case Ie.kNumber:case Ie.kInteger:return"";case Ie.kPercentage:return"%";case Ie.kEms:return"em";case Ie.kRems:return"rem";case Ie.kPixels:return"px";case Ie.kDegrees:return"deg";case Ie.kRadians:return"rad";case Ie.kGradians:return"grad";case Ie.kMilliseconds:return"ms";case Ie.kSeconds:return"s";case Ie.kTurns:return"turn"}return""},Ry=function(){function e(){se(this,e)}return le(e,[{key:"toString",value:function(){return this.buildCSSText(cfe.kNo,ffe.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Nf.kUnitType&&this.getType()<=Nf.kClampType}}],[{key:"isAngle",value:function(t){return t===Ie.kDegrees||t===Ie.kRadians||t===Ie.kGradians||t===Ie.kTurns}},{key:"isLength",value:function(t){return t>=Ie.kEms&&t<Ie.kDegrees}},{key:"isRelativeUnit",value:function(t){return t===Ie.kPercentage||t===Ie.kEms||t===Ie.kRems}},{key:"isTime",value:function(t){return t===Ie.kSeconds||t===Ie.kMilliseconds}}])}(),mfe=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.colorSpace=t,r}return We(n,e),le(n,[{key:"getType",value:function(){return Nf.kColorType}},{key:"to",value:function(r){return this}}])}(Ry),jv=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),zv=function(e){function n(t,r){var i;return se(this,n),i=Ge(this,n),i.type=t,i.value=r,i}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return Nf.kColorType}}])}(Ry),bo=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.value=t,r}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.value)}},{key:"getType",value:function(){return Nf.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])}(Ry),yfe=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(n)?r="NaN":n>0?r="infinity":r="-infinity",r+=t},Nw=function(n){return gfe(vfe(n))},Vr=function(e){function n(t){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ie.kNumber;se(this,n),r=Ge(this,n);var a;return typeof i=="string"?a=pfe(i):a=i,r.unit=a,r.value=t,r}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return Nf.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new n(this.value,this.unit);var i=Nw(this.unit);if(i!==Nw(r)||i===Ie.kUnknown)return null;var a=rA(this.unit)/rA(r);return new n(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case Ie.kUnknown:break;case Ie.kInteger:o=Number(this.value).toFixed(0);break;case Ie.kNumber:case Ie.kPercentage:case Ie.kEms:case Ie.kRems:case Ie.kPixels:case Ie.kDegrees:case Ie.kRadians:case Ie.kGradians:case Ie.kMilliseconds:case Ie.kSeconds:case Ie.kTurns:{var s=-999999,l=999999,u=this.value,c=Rw(this.unit);if(u<s||u>l){var f=Rw(this.unit);!Number.isFinite(u)||Number.isNaN(u)?o=yfe(u,f):o=u+(f||"")}else o="".concat(u).concat(c)}}return a+=o,a}}])}(Ry),Xa=new Vr(0,"px");new Vr(1,"px");var ju=new Vr(0,"deg"),Uk=function(e){function n(t,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return se(this,n),a=Ge(this,n,["rgb"]),a.r=t,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return We(n,e),le(n,[{key:"clone",value:function(){return new n(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(mfe),iA=new bo("unset"),bfe=new bo("initial"),xfe=new bo("inherit"),Ob={"":iA,unset:iA,initial:bfe,inherit:xfe},wfe=function(n){return Ob[n]||(Ob[n]=new bo(n)),Ob[n]},X4=new Uk(0,0,0,0,!0),q4=new Uk(0,0,0,0),_fe=Cr(function(e,n,t,r){return new Uk(e,n,t,r)},function(e,n,t,r){return"rgba(".concat(e,",").concat(n,",").concat(t,",").concat(r,")")}),Dn=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ie.kNumber;return new Vr(n,t)};new Vr(50,"%");function kfe(e){var n=e.type,t=e.value;return n==="hex"?"#".concat(t):n==="literal"?t:n==="rgb"?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}var Ofe=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function t(C){throw new Error("".concat(n,": ").concat(C))}function r(){var C=i();return n.length>0&&t("Invalid input not EOF"),C}function i(){return b(a)}function a(){return o("linear-gradient",e.linearGradient,l)||o("repeating-linear-gradient",e.repeatingLinearGradient,l)||o("radial-gradient",e.radialGradient,f)||o("repeating-radial-gradient",e.repeatingRadialGradient,f)||o("conic-gradient",e.conicGradient,f)}function o(C,L,I){return s(L,function(j){var F=I();return F&&(N(e.comma)||t("Missing comma before color stops")),{type:C,orientation:F,colorStops:b(x)}})}function s(C,L){var I=N(C);if(I){N(e.startCall)||t("Missing (");var j=L(I);return N(e.endCall)||t("Missing )"),j}}function l(){return u()||c()}function u(){return A("directional",e.sideOrCorner,1)}function c(){return A("angular",e.angleValue,1)}function f(){var C,L=d(),I;return L&&(C=[],C.push(L),I=n,N(e.comma)&&(L=d(),L?C.push(L):n=I)),C}function d(){var C=h()||p();if(C)C.at=g();else{var L=v();if(L){C=L;var I=g();I&&(C.at=I)}else{var j=m();j&&(C={type:"default-radial",at:j})}}return C}function h(){var C=A("shape",/^(circle)/i,0);return C&&(C.style=P()||v()),C}function p(){var C=A("shape",/^(ellipse)/i,0);return C&&(C.style=T()||v()),C}function v(){return A("extent-keyword",e.extentKeywords,1)}function g(){if(A("position",/^at/,0)){var C=m();return C||t("Missing positioning value"),C}}function m(){var C=y();if(C.x||C.y)return{type:"position",value:C}}function y(){return{x:T(),y:T()}}function b(C){var L=C(),I=[];if(L)for(I.push(L);N(e.comma);)L=C(),L?I.push(L):t("One extra comma");return I}function x(){var C=_();return C||t("Expected color definition"),C.length=T(),C}function _(){return k()||S()||O()||w()}function w(){return A("literal",e.literalColor,0)}function k(){return A("hex",e.hexColor,1)}function O(){return s(e.rgbColor,function(){return{type:"rgb",value:b(E)}})}function S(){return s(e.rgbaColor,function(){return{type:"rgba",value:b(E)}})}function E(){return N(e.number)[1]}function T(){return A("%",e.percentageValue,1)||M()||P()}function M(){return A("position-keyword",e.positionKeywords,1)}function P(){return A("px",e.pixelValue,1)||A("em",e.emValue,1)}function A(C,L,I){var j=N(L);if(j)return{type:C,value:j[I]}}function N(C){var L=/^[\n\r\t\s]+/.exec(n);L&&R(L[0].length);var I=C.exec(n);return I&&R(I[0].length),I}function R(C){n=n.substring(C)}return function(C){return n=C,r()}}(),Sfe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Efe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Tfe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,K4=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Mfe(e){var n,t=e.length;if(e[t-1].length=(n=e[t-1].length)!==null&&n!==void 0?n:{type:"%",value:"100"},t>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),o=1;o<t;o++){var s,l=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!je(l)&&!je(a)){for(var u=1;u<o-i;u++)e[i+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(o-i))};i=o,a=Number(l)}}}var Afe={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Pfe=Cr(function(e){var n;return e.type==="angular"?n=Number(e.value):n=Afe[e.value]||0,Dn(n,"deg")}),Cfe=Cr(function(e){var n=50,t=50,r="%",i="%";if((e==null?void 0:e.type)==="position"){var a=e.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?n=0:o.value==="center"?n=50:o.value==="right"?n=100:o.value==="top"?t=0:o.value==="bottom"&&(t=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?n=0:s.value==="center"?t=50:s.value==="right"?n=100:s.value==="top"?t=0:s.value==="bottom"&&(t=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,n=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,t=Number(s.value))}return{cx:Dn(n,r),cy:Dn(t,i)}}),Rfe=Cr(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var n=Ofe(e);return n.map(function(s){var l=s.type,u=s.orientation,c=s.colorStops;Mfe(c);var f=c.map(function(b){return{offset:Dn(Number(b.length.value),"%"),color:kfe(b)}});if(l==="linear-gradient")return new zv(jv.LinearGradient,{angle:u?Pfe(u):ju,steps:f});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var d=Cfe(u[0].at),h=d.cx,p=d.cy,v;if(u[0].style){var g=u[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=wfe(y):v=Dn(y,m)}return new zv(jv.RadialGradient,{cx:h,cy:p,size:v,steps:f})}})}var t=e[0];if(e[1]==="("||e[2]==="("){if(t==="l"){var r=Sfe.exec(e);if(r){var i,a=((i=r[2].match(K4))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new zv(jv.LinearGradient,{angle:Dn(parseFloat(r[1]),"deg"),steps:a.map(function(s){var l=ze(s,2),u=l[0],c=l[1];return{offset:Dn(Number(u)*100,"%"),color:c}})})]}}else if(t==="r"){var o=Nfe(e);if(o)if(Wt(o))e=o;else return[new zv(jv.RadialGradient,o)]}else if(t==="p")return Lfe(e)}});function Nfe(e){var n=Efe.exec(e);if(n){var t,r=((t=n[4].match(K4))===null||t===void 0?void 0:t.map(function(i){return i.split(":")}))||[];return{cx:Dn(50,"%"),cy:Dn(50,"%"),steps:r.map(function(i){var a=ze(i,2),o=a[0],s=a[1];return{offset:Dn(Number(o)*100,"%"),color:s}})}}return null}function Lfe(e){var n=Tfe.exec(e);if(n){var t=n[1],r=n[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;case"n":t="no-repeat";break;default:t="no-repeat"}return{image:r,repetition:t}}return null}function $fe(e){return e&&!!e.image}function aA(e){return e&&!je(e.r)&&!je(e.g)&&!je(e.b)}var Kc=Cr(function(e){if($fe(e))return Xe({repetition:"repeat"},e);if(je(e)&&(e=""),e==="transparent")return q4;if(e==="currentColor")e="black";else if(e==="none")return X4;var n=Rfe(e);if(n)return n;var t=Cy(e),r=[0,0,0,0];return t!==null&&(r[0]=t.r||0,r[1]=t.g||0,r[2]=t.b||0,r[3]=t.opacity),_fe.apply(void 0,r)});function Ife(e,n){if(!(!aA(e)||!aA(n)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],function(t){var r=t.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(Bt(r[i],0,255));return r[3]=Bt(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Gp(e,n){if(je(n))return Dn(0,"px");if(n="".concat(n).trim().toLowerCase(),isFinite(Number(n))){if("px".search(e)>=0)return Dn(Number(n),"px");if("deg".search(e)>=0)return Dn(Number(n),"deg")}var t=[];n=n.replace(e,function(i){return t.push(i),"U".concat(i)});var r="U(".concat(e.source,")");return t.map(function(i){return Dn(Number(n.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var Z4=function(n){return Gp(new RegExp("px","g"),n)},Dfe=Cr(Z4),Ffe=function(n){return Gp(new RegExp("%","g"),n)};Cr(Ffe);var Q4=function(n){return jt(n)||isFinite(Number(n))?Dn(Number(n)||0,"px"):Gp(new RegExp("px|%|em|rem","g"),n)},Lw=Cr(Q4),J4=function(n){return Gp(new RegExp("deg|rad|grad|turn","g"),n)},Bfe=Cr(J4);function jfe(e,n,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=e.value||0,s=n.value||0,l=Nw(e.unit),u=e.convertTo(l),c=n.convertTo(l);return u&&c?(o=u.value,s=c.value,a=Rw(e.unit)):(Vr.isLength(e.unit)||Vr.isLength(n.unit))&&(o=Ki(e,i,t),s=Ki(n,i,t),a="px"),[o,s,function(f){return f+a}]}function Fi(e){var n=0;return e.unit===Ie.kDegrees?n=e.value:e.unit===Ie.kRadians?n=Oa(Number(e.value)):e.unit===Ie.kTurns?n=zce(Number(e.value)):e.value&&(n=e.value),n}function oA(e,n){var t;return Array.isArray(e)?t=e.map(function(r){return Number(r)}):Wt(e)?t=e.split(" ").map(function(r){return Number(r)}):jt(e)&&(t=[e]),n===2?t.length===1?[t[0],t[0]]:[t[0],t[1]]:n===4?t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]:n==="even"&&t.length%2===1?[].concat(Ke(t),Ke(t)):t}function Ki(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===Ie.kPixels)return Number(e.value);if(e.unit===Ie.kPercentage&&t){var i=t.nodeName===tt.GROUP?t.getLocalBounds():t.getGeometryBounds();return(r?i.min[n]:0)+e.value/100*i.halfExtents[n]*2}return 0}var zfe=function(n){return Gp(/deg|rad|grad|turn|px|%/g,n)},Yfe=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Gfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var n=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r,i=0;r=n.exec(e);){if(r.index!==i)return[];if(i=r.index+r[0].length,Yfe.indexOf(r[1])>-1&&t.push({name:r[1],params:r[2].split(" ").map(function(a){return zfe(a)||Kc(a)})}),n.lastIndex===e.length)return t}return[]}function e6(e){return e.toString()}var t6=function(n){return typeof n=="number"?Dn(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?Dn(Number(n)):Dn(0)},$w=Cr(t6);Cr(function(e){return Wt(e)?e.split(" ").map($w):e.map($w)});function Vk(e,n){return[e,n,e6]}function Xk(e,n){return function(t,r){return[t,r,function(i){return e6(Bt(i,e,n))}]}}function n6(e,n){if(e.length===n.length)return[e,n,function(t){return t}]}function sA(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=J$(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function Wfe(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=Pce(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function Hfe(e){for(var n=0;n<e.length;n++){var t=e[n-1],r=e[n],i=r[0];if(i==="M"&&t){var a=t[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[t[1],t[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[t[t.length-2],t[t.length-1]]),s&&Ug(o,s)&&(e.splice(n,1),n--)}}}function Ufe(e){for(var n=!1,t=e.length,r=0;r<t;r++){var i=e[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){n=!0;break}}return n}function Vfe(e){for(var n=[],t=[],r=[],i=0;i<e.length;i++){var a=e[i],o=a[0];o==="M"?(r.length&&(t.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&t.push(r),{polygons:n,polylines:t}}function Ug(e,n){return e[0]===n[0]&&e[1]===n[1]}function Xfe(e,n){for(var t=[],r=[],i=[],a=0;a<e.length;a++){var o=e[a],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=Cce(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=Mce(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;c=Tce(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height))}t=t.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0}),r=r.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0});var d=mf(t),h=mf(r),p=gf(t),v=gf(r);if(i.length===0)return{x:d,y:h,width:p-d,height:v-h};for(var g=0;g<i.length;g++){var m=i[g],y=m.currentPoint,b=void 0;y[0]===d?(b=Yv(m,n),d-=b.xExtra):y[0]===p&&(b=Yv(m,n),p+=b.xExtra),y[1]===h?(b=Yv(m,n),h-=b.yExtra):y[1]===v&&(b=Yv(m,n),v+=b.yExtra)}return{x:d,y:h,width:p-d,height:v-h}}function Yv(e,n){var t=e.prePoint,r=e.currentPoint,i=e.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Uo(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(n/2*(1/Math.sin(l/2)))-n/2||0,yExtra:Math.cos(c-l/2)*(n/2*(1/Math.sin(l/2)))-n/2||0};return f}function lA(e,n){return[n[0]+(n[0]-e[0]),n[1]+(n[1]-e[1])]}var uA=function(n,t){var r=n.x*t.x+n.y*t.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2))),a=n.x*t.y-n.y*t.x<0?-1:1,o=a*Math.acos(r/i);return o},cA=function(n,t,r,i,a,o,s,l){t=Math.abs(t),r=Math.abs(r),i=ny(i,360);var u=hn(i);if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(t===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(n.x-s.x)/2,f=(n.y-s.y)/2,d={x:Math.cos(u)*c+Math.sin(u)*f,y:-Math.sin(u)*c+Math.cos(u)*f},h=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(r,2);h>1&&(t*=Math.sqrt(h),r*=Math.sqrt(h));var p=Math.pow(t,2)*Math.pow(r,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(r,2)*Math.pow(d.x,2),v=Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(r,2)*Math.pow(d.x,2),g=p/v;g=g<0?0:g;var m=(a!==o?1:-1)*Math.sqrt(g),y={x:m*(t*d.y/r),y:m*(-(r*d.x)/t)},b={x:Math.cos(u)*y.x-Math.sin(u)*y.y+(n.x+s.x)/2,y:Math.sin(u)*y.x+Math.cos(u)*y.y+(n.y+s.y)/2},x={x:(d.x-y.x)/t,y:(d.y-y.y)/r},_=uA({x:1,y:0},x),w={x:(-d.x-y.x)/t,y:(-d.y-y.y)/r},k=uA(x,w);!o&&k>0?k-=2*Math.PI:o&&k<0&&(k+=2*Math.PI),k%=2*Math.PI;var O=_+k*l,S=t*Math.cos(O),E=r*Math.sin(O),T={x:Math.cos(u)*S-Math.sin(u)*E+b.x,y:Math.sin(u)*S+Math.cos(u)*E+b.y,ellipticalArcStartAngle:_,ellipticalArcEndAngle:_+k,ellipticalArcAngle:O,ellipticalArcCenter:b,resultantRx:t,resultantRy:r};return T};function qfe(e){for(var n=[],t=null,r=null,i=null,a=0,o=e.length,s=0;s<o;s++){var l=e[s];r=e[s+1];var u=l[0],c={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var f=Kfe(t,l);c.arcParams=f;break}if(u==="Z")t=i,r=e[a+1];else{var d=l.length;t=[l[d-2],l[d-1]]}r&&r[0]==="Z"&&(r=e[a],n[a]&&(n[a].prePoint=t)),c.currentPoint=t,n[a]&&Ug(t,n[a].currentPoint)&&(n[a].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]];else if(u==="Q"){var v=[l[1],l[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[t[0]-v[0],t[1]-v[1]]}else if(u==="T"){var g=n[s-1],m=lA(g.currentPoint,p);g.command==="Q"?(c.command="Q",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[t[0]-m[0],t[1]-m[1]]):(c.command="TL",c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]])}else if(u==="C"){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[t[0]-b[0],t[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if(u==="S"){var x=n[s-1],_=lA(x.currentPoint,p),w=[l[1],l[2]];x.command==="C"?(c.command="C",c.startTangent=[p[0]-_[0],p[1]-_[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]]):(c.command="SQ",c.startTangent=[p[0]-w[0],p[1]-w[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]])}else if(u==="A"){var k=fA(c,0),O=k.x,S=k.y,E=fA(c,1,!1),T=E.x,M=E.y;c.startTangent=[O,S],c.endTangent=[T,M]}n.push(c)}return n}function fA(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,f=cA({x:e.prePoint[0],y:e.prePoint[1]},a,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},n),d=cA({x:e.prePoint[0],y:e.prePoint[1]},a,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t?n+.005:n-.005),h=d.x-f.x,p=d.y-f.y,v=Math.sqrt(h*h+p*p);return{x:-h/v,y:-p/v}}function Gv(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Iw(e,n){return Gv(e)*Gv(n)?(e[0]*n[0]+e[1]*n[1])/(Gv(e)*Gv(n)):1}function dA(e,n){return(e[0]*n[1]<e[1]*n[0]?-1:1)*Math.acos(Iw(e,n))}function Kfe(e,n){var t=n[1],r=n[2],i=ny(hn(n[3]),Math.PI*2),a=n[4],o=n[5],s=e[0],l=e[1],u=n[6],c=n[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,h=f*f/(t*t)+d*d/(r*r);h>1&&(t*=Math.sqrt(h),r*=Math.sqrt(h));var p=t*t*(d*d)+r*r*(f*f),v=p?Math.sqrt((t*t*(r*r)-p)/p):1;a===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*t*d/r:0,m=t?v*-r*f/t:0,y=(s+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/t,(d-m)/r],_=[(-1*f-g)/t,(-1*d-m)/r],w=dA([1,0],x),k=dA(x,_);return Iw(x,_)<=-1&&(k=Math.PI),Iw(x,_)>=1&&(k=0),o===0&&k>0&&(k-=2*Math.PI),o===1&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:Ug(e,[u,c])?0:t,ry:Ug(e,[u,c])?0:r,startAngle:w,endAngle:w+k,xRotation:i,arcFlag:a,sweepFlag:o}}var r6=function(n){if(n===""||Array.isArray(n)&&n.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var t;try{t=xf(n)}catch{t=xf(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}Hfe(t);var r=Ufe(t),i=Vfe(t),a=i.polygons,o=i.polylines,s=qfe(t),l=Xfe(s,0),u=l.x,c=l.y,f=l.width,d=l.height;return{absolutePath:t,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(d)?d:0}}},Zfe=Cr(r6);function i6(e){return Wt(e)?Zfe(e):r6(e)}function Qfe(e,n,t){var r=e.curve,i=n.curve;(!r||r.length===0)&&(r=Ih(e.absolutePath,!1),e.curve=r),(!i||i.length===0)&&(i=Ih(n.absolutePath,!1),n.curve=i);var a=[r,i];r.length!==i.length&&(a=z_(r,i));var o=wg(a[0])!==wg(a[1])?K$(a[0]):q$(a[0]);return[o,eI(a[1],o),function(s){return s}]}function Jfe(e,n){var t;return Wt(e)?t=e.split(" ").map(function(r){var i=r.split(","),a=ze(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):t=e,{points:t,totalLength:0,segments:[]}}function ede(e,n){return[e.points,n.points,function(t){return t}]}var Xn=null,Zc=/\s*(\w+)\(([^)]*)\)/g;function Ri(e){return function(n){var t=0;return e.map(function(r){return r===Xn?n[t++]:r})}}function Ql(e){return e}var Zh={matrix:["NNNNNN",[Xn,Xn,0,0,Xn,Xn,0,0,0,0,1,0,Xn,Xn,0,1],Ql],matrix3d:["NNNNNNNNNNNNNNNN",Ql],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ri([Xn,Xn,new Vr(1)]),Ql],scaleX:["N",Ri([Xn,new Vr(1),new Vr(1)]),Ri([Xn,new Vr(1)])],scaleY:["N",Ri([new Vr(1),Xn,new Vr(1)]),Ri([new Vr(1),Xn])],scaleZ:["N",Ri([new Vr(1),new Vr(1),Xn])],scale3d:["NNN",Ql],skew:["Aa",null,Ql],skewX:["A",null,Ri([Xn,ju])],skewY:["A",null,Ri([ju,Xn])],translate:["Tt",Ri([Xn,Xn,Xa]),Ql],translateX:["T",Ri([Xn,Xa,Xa]),Ri([Xn,Xa])],translateY:["T",Ri([Xa,Xn,Xa]),Ri([Xa,Xn])],translateZ:["L",Ri([Xa,Xa,Xn])],translate3d:["TTL",Ql]};function a6(e){for(var n=[],t=e.length,r=0;r<t;r++){var i=e[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=Zh[a];if(!s)return[];var l=o.map(function(u){return Dn(u)});n.push({t:a,d:l})}return n}function tde(e){if(Array.isArray(e))return a6(e);if(e=(e||"none").trim(),e==="none")return[];var n=[],t,r=0;for(Zc.lastIndex=0;t=Zc.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],a=Zh[i];if(!a)return[];var o=t[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u],d=void 0;if(c?d={A:function(p){return p.trim()==="0"?ju:Bfe(p)},N:$w,T:Lw,L:Dfe}[f.toUpperCase()](c):d={a:ju,n:l[0],t:Xa}[f],d===void 0)return[];l.push(d)}if(n.push({t:i,d:l}),Zc.lastIndex===e.length)return n}return[]}function nde(e){if(Array.isArray(e))return a6(e);if(e=(e||"none").trim(),e==="none")return[];var n=[],t,r=0;for(Zc.lastIndex=0;t=Zc.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],a=Zh[i];if(!a)return[];var o=t[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u],d=void 0;if(c?d={A:function(p){return p.trim()==="0"?ju:J4(p)},N:t6,T:Q4,L:Z4}[f.toUpperCase()](c):d={a:ju,n:l[0],t:Xa}[f],d===void 0)return[];l.push(d)}if(n.push({t:i,d:l}),Zc.lastIndex===e.length)return n}return[]}function rde(e){var n,t,r,i;switch(e.t){case"rotateX":return i=hn(Fi(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=hn(Fi(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=hn(Fi(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":n=e.d[0].value,t=e.d[1].value,r=e.d[2].value,i=hn(Fi(e.d[3]));var a=n*n+t*t+r*r;if(a===0)n=1,t=0,r=0;else if(a!==1){var o=Math.sqrt(a);n/=o,t/=o,r/=o}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(t*t+r*r)*u,2*(n*t*u+r*l),2*(n*r*u-t*l),0,2*(n*t*u-r*l),1-2*(n*n+r*r)*u,2*(t*r*u+n*l),0,2*(n*r*u+t*l),2*(t*r*u-n*l),1-2*(n*n+t*t)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=hn(Fi(e.d[0])),f=hn(Fi(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=hn(Fi(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=hn(Fi(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return n=Ki(e.d[0],0,null)||0,t=Ki(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,t,0,1];case"translateX":return n=Ki(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,0,0,1];case"translateY":return t=Ki(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,t,0,1];case"translateZ":return r=Ki(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return n=Ki(e.d[0],0,null)||0,t=Ki(e.d[1],0,null)||0,r=Ki(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,t,r,1];case"perspective":var d=Ki(e.d[0],0,null)||0,h=d?-1/d:0;return[1,0,0,0,0,1,0,0,0,0,1,h,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function ide(e,n){return[e[0]*n[0]+e[4]*n[1]+e[8]*n[2]+e[12]*n[3],e[1]*n[0]+e[5]*n[1]+e[9]*n[2]+e[13]*n[3],e[2]*n[0]+e[6]*n[1]+e[10]*n[2]+e[14]*n[3],e[3]*n[0]+e[7]*n[1]+e[11]*n[2]+e[15]*n[3],e[0]*n[4]+e[4]*n[5]+e[8]*n[6]+e[12]*n[7],e[1]*n[4]+e[5]*n[5]+e[9]*n[6]+e[13]*n[7],e[2]*n[4]+e[6]*n[5]+e[10]*n[6]+e[14]*n[7],e[3]*n[4]+e[7]*n[5]+e[11]*n[6]+e[15]*n[7],e[0]*n[8]+e[4]*n[9]+e[8]*n[10]+e[12]*n[11],e[1]*n[8]+e[5]*n[9]+e[9]*n[10]+e[13]*n[11],e[2]*n[8]+e[6]*n[9]+e[10]*n[10]+e[14]*n[11],e[3]*n[8]+e[7]*n[9]+e[11]*n[10]+e[15]*n[11],e[0]*n[12]+e[4]*n[13]+e[8]*n[14]+e[12]*n[15],e[1]*n[12]+e[5]*n[13]+e[9]*n[14]+e[13]*n[15],e[2]*n[12]+e[6]*n[13]+e[10]*n[14]+e[14]*n[15],e[3]*n[12]+e[7]*n[13]+e[11]*n[14]+e[15]*n[15]]}function ade(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(rde).reduce(ide)}function hA(e){var n=[0,0,0],t=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return Uce(ade(e),n,t,r,i,a),[[n,t,r,a,i]]}var ode=function(){function e(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)a[o][s]+=i[o][l]*r[l][s];return a}function n(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function t(r,i,a,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=s[u];for(var c=0;c<3;c++)for(var f=0;f<3;f++)l[3][c]+=r[f]*l[f][c];var d=o[0],h=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(h*h+p*p),g[0][1]=2*(d*h-p*v),g[0][2]=2*(d*p+h*v),g[1][0]=2*(d*h+p*v),g[1][1]=1-2*(d*d+p*p),g[1][2]=2*(h*p-d*v),g[2][0]=2*(d*p-h*v),g[2][1]=2*(h*p+d*v),g[2][2]=1-2*(d*d+h*h),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],l=e(l,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],l=e(l,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],l=e(l,m));for(var y=0;y<3;y++)for(var b=0;b<3;b++)l[y][b]*=i[y];return n(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return t}();function sde(e){return e.toFixed(6).replace(".000000","")}function Sb(e,n){var t,r;return e.decompositionPair!==n&&(e.decompositionPair=n,t=hA(e)),n.decompositionPair!==e&&(n.decompositionPair=e,r=hA(n)),t[0]===null||r[0]===null?[[!1],[!0],function(i){return i?n[0].d:e[0].d}]:(t[0].push(0),r[0].push(1),[t,r,function(i){var a=ude(t[0][3],r[0][3],i[5]),o=ode(i[0],i[1],i[2],a,i[4]),s=o.map(sde).join(",");return s}])}function lde(e,n){for(var t=0,r=0;r<e.length;r++)t+=e[r]*n[r];return t}function ude(e,n,t){var r=lde(e,n);r=Bt(r,-1,1);var i=[];if(r===1)i=e;else for(var a=Math.acos(r),o=Math.sin(t*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(e[s]*(Math.cos(t*a)-r*o)+n[s]*o);return i}function Eb(e){return e.replace(/[XY]/,"")}function Tb(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var cde=function(n,t){return n==="perspective"&&t==="perspective"||(n==="matrix"||n==="matrix3d")&&(t==="matrix"||t==="matrix3d")};function fde(e,n,t){var r=!1;if(!e.length||!n.length){e.length||(r=!0,e=n,n=[]);for(var i=function(){var T=e[a],M=T.t,P=T.d,A=M.substring(0,5)==="scale"?1:0;n.push({t:M,d:P.map(function(N){return typeof N=="number"?Dn(A):Dn(A,N.unit)})})},a=0;a<e.length;a++)i()}var o=[],s=[],l=[];if(e.length!==n.length){var u=Sb(e,n);o=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var f=e[c].t,d=n[c].t,h=e[c].d,p=n[c].d,v=Zh[f],g=Zh[d],m=void 0;if(cde(f,d)){var y=Sb([e[c]],[n[c]]);o.push(y[0]),s.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===d)m=f;else if(v[2]&&g[2]&&Eb(f)===Eb(d))m=Eb(f),h=v[2](h),p=g[2](p);else if(v[1]&&g[1]&&Tb(f)===Tb(d))m=Tb(f),h=v[1](h),p=g[1](p);else{var b=Sb(e,n);o=[b[0]],s=[b[1]],l=[["matrix",[b[2]]]];break}for(var x=[],_=[],w=[],k=0;k<h.length;k++){var O=jfe(h[k],p[k],t,!1,k);x[k]=O[0],_[k]=O[1],w.push(O[2])}o.push(x),s.push(_),l.push([m,w])}if(r){var S=o;o=s,s=S}return[o,s,function(E){return E.map(function(T,M){var P=T.map(function(A,N){return l[M][1][N](A)}).join(",");return l[M][0]==="matrix"&&P.split(",").length===16&&(l[M][0]="matrix3d"),l[M][0]==="matrix3d"&&P.split(",").length===6&&(l[M][0]="matrix"),"".concat(l[M][0],"(").concat(P,")")}).join(" ")}]}var dde=Cr(function(e){if(Wt(e)){if(e==="text-anchor")return[Dn(0,"px"),Dn(0,"px")];var n=e.split(" ");return n.length===1&&(n[0]==="top"||n[0]==="bottom"?(n[1]=n[0],n[0]="center"):n[1]="center"),n.length!==2?null:[Lw(pA(n[0])),Lw(pA(n[1]))]}return[Dn(e[0]||0,"px"),Dn(e[1]||0,"px")]});function pA(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var o6=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Re.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Re.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Re.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Re.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Re.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Re.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Re.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Re.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Re.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Re.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Re.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Re.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Re.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Re.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Re.FILTER},{n:"clipPath",syntax:Re.DEFINED_PATH},{n:"textPath",syntax:Re.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Re.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Re.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Re.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Re.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Re.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Re.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Re.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Re.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Re.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Re.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Re.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Re.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Re.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Re.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Re.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Re.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Re.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Re.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Re.NUMBER,d:function(n){return n===tt.PATH||n===tt.POLYGON||n===tt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Re.MARKER},{n:"markerEnd",syntax:Re.MARKER},{n:"markerMid",syntax:Re.MARKER},{n:"markerStartOffset",syntax:Re.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Re.LENGTH,l:!0,int:!0,d:"0"}],hde=new Set(o6.filter(function(e){return!!e.l}).map(function(e){return e.n})),s6={},pde=function(){function e(n){var t=this;se(this,e),this.runtime=n,o6.forEach(function(r){t.registerMetadata(r)})}return le(e,[{key:"registerMetadata",value:function(t){[t.n].concat(Ke(t.a||[])).forEach(function(r){s6[r]=t})}},{key:"getPropertySyntax",value:function(t){return this.runtime.CSSPropertySyntaxFactory[t]}},{key:"processProperties",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(t.attributes,r);var a=t.parsedStyle.clipPath,o=t.parsedStyle.offsetPath;vde(t,r);var s=!!i.forceUpdateGeometry;if(!s){for(var l in r)if(hde.has(l)){s=!0;break}}var u=l6(t);u.has("fill")&&r.fill&&(t.parsedStyle.fill=Kc(r.fill)),u.has("stroke")&&r.stroke&&(t.parsedStyle.stroke=Kc(r.stroke)),u.has("shadowColor")&&r.shadowColor&&(t.parsedStyle.shadowColor=Kc(r.shadowColor)),u.has("filter")&&r.filter&&(t.parsedStyle.filter=Gfe(r.filter)),u.has("radius")&&!je(r.radius)&&(t.parsedStyle.radius=oA(r.radius,4)),u.has("lineDash")&&!je(r.lineDash)&&(t.parsedStyle.lineDash=oA(r.lineDash,"even")),u.has("points")&&r.points&&(t.parsedStyle.points=Jfe(r.points)),u.has("d")&&r.d===""&&(t.parsedStyle.d=Xe({},H4)),u.has("d")&&r.d&&(t.parsedStyle.d=i6(r.d)),u.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Re.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},t,null),u.has("clipPath")&&!lt(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Re.DEFINED_PATH].calculator("clipPath",a,r.clipPath,t,this.runtime),u.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Re.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,t,this.runtime),u.has("transform")&&r.transform&&(t.parsedStyle.transform=tde(r.transform)),u.has("transformOrigin")&&r.transformOrigin&&(t.parsedStyle.transformOrigin=dde(r.transformOrigin)),u.has("markerStart")&&r.markerStart&&(t.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Re.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),u.has("markerEnd")&&r.markerEnd&&(t.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Re.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),u.has("markerMid")&&r.markerMid&&(t.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Re.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),u.has("zIndex")&&!je(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Re.Z_INDEX].postProcessor(t),u.has("offsetDistance")&&!je(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Re.OFFSET_DISTANCE].postProcessor(t),u.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Re.TRANSFORM].postProcessor(t),u.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Re.TRANSFORM_ORIGIN].postProcessor(t),s&&(t.geometry.dirty=!0,t.renderable.boundsDirty=!0,t.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(t))}},{key:"updateGeometry",value:function(t){var r=t.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=t.geometry;a.contentBounds||(a.contentBounds=new $i),a.renderBounds||(a.renderBounds=new $i);var o=t.parsedStyle,s=i.update(o,t),l=s.cx,u=l===void 0?0:l,c=s.cy,f=c===void 0?0:c,d=s.cz,h=d===void 0?0:d,p=s.hwidth,v=p===void 0?0:p,g=s.hheight,m=g===void 0?0:g,y=s.hdepth,b=y===void 0?0:y,x=[Math.abs(v),Math.abs(m),b],_=o.stroke,w=o.lineWidth,k=w===void 0?1:w,O=o.increasedLineWidthForHitTesting,S=O===void 0?0:O,E=o.shadowType,T=E===void 0?"outer":E,M=o.shadowColor,P=o.filter,A=P===void 0?[]:P,N=o.transformOrigin,R=[u,f,h];a.contentBounds.update(R,x);var C=r===tt.POLYLINE||r===tt.POLYGON||r===tt.PATH?Math.SQRT2:.5,L=_&&!_.isNone;if(L){var I=((k||0)+(S||0))*C;x[0]+=I,x[1]+=I}if(a.renderBounds.update(R,x),M&&T&&T!=="inner"){var j=a.renderBounds,F=j.min,z=j.max,D=o.shadowBlur,B=o.shadowOffsetX,U=o.shadowOffsetY,q=D||0,$=B||0,W=U||0,Q=F[0]-q+$,oe=z[0]+q+$,ee=F[1]-q+W,H=z[1]+q+W;F[0]=Math.min(F[0],Q),z[0]=Math.max(z[0],oe),F[1]=Math.min(F[1],ee),z[1]=Math.max(z[1],H),a.renderBounds.setMinMax(F,z)}A.forEach(function(te){var ae=te.name,ue=te.params;if(ae==="blur"){var pe=ue[0].value;a.renderBounds.update(a.renderBounds.center,di(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[pe,pe,0]))}else if(ae==="drop-shadow"){var ve=ue[0].value,Te=ue[1].value,ne=ue[2].value,ce=a.renderBounds,be=ce.min,Ae=ce.max,Qe=be[0]-ne+ve,xe=Ae[0]+ne+ve,et=be[1]-ne+Te,at=Ae[1]+ne+Te;be[0]=Math.min(be[0],Qe),Ae[0]=Math.max(Ae[0],xe),be[1]=Math.min(be[1],et),Ae[1]=Math.max(Ae[1],at),a.renderBounds.setMinMax(be,Ae)}}),t.geometry.dirty=!1;var G=v<0,X=m<0,Y=(G?-1:1)*(N?Ki(N[0],0,t,!0):0),re=(X?-1:1)*(N?Ki(N[1],1,t,!0):0);(Y||re)&&t.setOrigin(Y,re)}}},{key:"updateSizeAttenuation",value:function(t,r){t.style.isSizeAttenuation?(t.style.rawLineWidth||(t.style.rawLineWidth=t.style.lineWidth),t.style.lineWidth=(t.style.rawLineWidth||1)/r,t.nodeName===tt.CIRCLE&&(t.style.rawR||(t.style.rawR=t.style.r),t.style.r=(t.style.rawR||1)/r)):(t.style.rawLineWidth&&(t.style.lineWidth=t.style.rawLineWidth,delete t.style.rawLineWidth),t.nodeName===tt.CIRCLE&&t.style.rawR&&(t.style.r=t.style.rawR,delete t.style.rawR))}}])}();function vde(e,n){var t=l6(e);for(var r in n)t.has(r)&&(e.parsedStyle[r]=n[r])}function l6(e){return e.constructor.PARSED_STYLE_LIST}var gde=function(){function e(){se(this,e),this.mixer=Vk}return le(e,[{key:"calculator",value:function(t,r,i,a){return Fi(i)}}])}(),mde=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a,o){return i instanceof bo&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(t,r,i,a),t==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtifyToRoot(s)}),i}}])}(),yde=function(){function e(){se(this,e),this.parser=Kc,this.mixer=Ife}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof bo?i.value==="none"?X4:q4:i}}])}(),bde=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i){return i instanceof bo?[]:i}}])}();function vA(e){var n=e.parsedStyle,t=n.fontSize;return je(t)?null:t}var Dw=function(){function e(){se(this,e),this.mixer=Vk}return le(e,[{key:"calculator",value:function(t,r,i,a,o){if(jt(i))return i;if(Vr.isRelativeUnit(i.unit)){if(i.unit===Ie.kPercentage)return 0;if(i.unit===Ie.kEms){if(a.parentNode){var s=vA(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===Ie.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var u=vA(a.ownerDocument.documentElement);if(u)return u*=i.value,u}return 0}}else return i.value}}])}(),xde=function(){function e(){se(this,e),this.mixer=n6}return le(e,[{key:"calculator",value:function(t,r,i){return i.map(function(a){return a.value})}}])}(),wde=function(){function e(){se(this,e),this.mixer=n6}return le(e,[{key:"calculator",value:function(t,r,i){return i.map(function(a){return a.value})}}])}(),_de=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){var o;i instanceof bo&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),kde=function(){function e(){se(this,e),this.mixer=Vk}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}}])}(),Ode=function(){function e(){se(this,e),this.mixer=Xk(0,1)}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}},{key:"postProcessor",value:function(t){var r=t.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===tt.LINE||o===tt.PATH||o===tt.POLYLINE){var s=i.getPoint(a);s&&t.setLocalPosition(s.x,s.y)}}}}])}(),Sde=function(){function e(){se(this,e),this.mixer=Xk(0,1)}return le(e,[{key:"calculator",value:function(t,r,i){return i.value}}])}(),Ede=function(){function e(){se(this,e),this.parser=i6,this.mixer=Qfe}return le(e,[{key:"calculator",value:function(t,r,i){return i instanceof bo&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Rf(0,0,0,0)}:i}}])}(),Tde=le(function e(){se(this,e),this.mixer=ede}),Mde=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.mixer=Xk(0,1/0),t}return We(n,e),le(n)}(Dw),Ade=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof bo?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(t){t.nodeValue="".concat(t.parsedStyle.text)||""}}])}(),Pde=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])}();function Cde(e){var n=e;do{var t,r=(t=n.parsedStyle)===null||t===void 0?void 0:t.clipPath;if(r)return n;n=n.parentElement}while(n!==null);return null}var Rde=1,Nde={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Lde=typeof performance=="object"&&performance.now?performance:Date;function Fw(e){return e.nodeName===tt.FRAGMENT?!0:e.getRootNode().nodeName===tt.FRAGMENT}var $de=1,Ide=function(){return $de++},Ko=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},Dde=Date.now(),Fde=function(){return Ko.performance&&typeof Ko.performance.now=="function"?Ko.performance.now():Date.now()-Dde},Id={},gA=Date.now(),Bde=function(n){if(typeof n!="function")throw new TypeError("".concat(n," is not a function"));var t=Date.now(),r=t-gA,i=r>16?0:16-r,a=Ide();return Id[a]=n,Object.keys(Id).length>1||setTimeout(function(){gA=t;var o=Id;Id={},Object.keys(o).forEach(function(s){return o[s](Fde())})},i),a},jde=function(n){delete Id[n]},zde=["","webkit","moz","ms","o"],u6=function(n){return typeof n!="string"?Bde:n===""?Ko.requestAnimationFrame:Ko["".concat(n,"RequestAnimationFrame")]},Yde=function(n){return typeof n!="string"?jde:n===""?Ko.cancelAnimationFrame:Ko["".concat(n,"CancelAnimationFrame")]||Ko["".concat(n,"CancelRequestAnimationFrame")]},Gde=function(n,t){for(var r=0;n[r]!==void 0;){if(t(n[r]))return n[r];r+=1}},c6=Gde(zde,function(e){return!!u6(e)}),f6=u6(c6),Wde=Yde(c6);Ko.requestAnimationFrame=f6;Ko.cancelAnimationFrame=Wde;var Hde=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ude=/([\"\'])[^\'\"]+\1/;function Vde(e){for(var n=e.fontSize,t=n===void 0?16:n,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontStyle,o=a===void 0?"normal":a,s=e.fontVariant,l=s===void 0?"normal":s,u=e.fontWeight,c=u===void 0?"normal":u,f=jt(t)&&"".concat(t,"px")||"16px",d=i.split(","),h=d.length-1;h>=0;h--){var p=d[h].trim();!Ude.test(p)&&Hde.indexOf(p)<0&&(p='"'.concat(p,'"')),d[h]=p}return"".concat(o," ").concat(l," ").concat(c," ").concat(f," ").concat(d.join(","))}function Mb(e,n,t){return oa(e),e[4]=Math.tan(n),e[1]=Math.tan(t),e}var cr=ut(),Xde=ut(),qde={scale:function(n){Qi(cr,[n[0].value,n[1].value,1])},scaleX:function(n){Qi(cr,[n[0].value,1,1])},scaleY:function(n){Qi(cr,[1,n[0].value,1])},scaleZ:function(n){Qi(cr,[1,1,n[0].value])},scale3d:function(n){Qi(cr,[n[0].value,n[1].value,n[2].value])},translate:function(n){ui(cr,[n[0].value,n[1].value,0])},translateX:function(n){ui(cr,[n[0].value,0,0])},translateY:function(n){ui(cr,[0,n[0].value,0])},translateZ:function(n){ui(cr,[0,0,n[0].value])},translate3d:function(n){ui(cr,[n[0].value,n[1].value,n[2].value])},rotate:function(n){Lh(cr,hn(Fi(n[0])))},rotateX:function(n){N_(cr,hn(Fi(n[0])))},rotateY:function(n){L_(cr,hn(Fi(n[0])))},rotateZ:function(n){Lh(cr,hn(Fi(n[0])))},rotate3d:function(n){R_(cr,hn(Fi(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){Mb(cr,hn(n[0].value),hn(n[1].value))},skewX:function(n){Mb(cr,hn(n[0].value),0)},skewY:function(n){Mb(cr,0,hn(n[0].value))},matrix:function(n){Nh(cr,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){Nh.apply(I$,[cr].concat(Ke(n.map(function(t){return t.value}))))}},Kde=rt(1,1,1),Zde=Ze(),mA={translate:function(n,t){Ne.sceneGraphService.setLocalScale(n,Kde,!1),Ne.sceneGraphService.setLocalEulerAngles(n,Zde,void 0,void 0,!1),Ne.sceneGraphService.setLocalPosition(n,[t[0].value,t[1].value,0],!1),Ne.sceneGraphService.dirtifyLocal(n,n.transformable)}};function Qde(e,n){if(e.length){if(e.length===1&&mA[e[0].t]){mA[e[0].t](n,e[0].d);return}for(var t=oa(Xde),r=0;r<e.length;r++){var i=e[r],a=i.t,o=i.d,s=qde[a];s&&(s(o),iy(t,t,cr))}n.setLocalTransform(t)}else n.resetLocalTransform();return n.getLocalTransform()}var Jde=function(){function e(){se(this,e),this.parser=nde,this.mixer=fde}return le(e,[{key:"calculator",value:function(t,r,i,a){return i instanceof bo?[]:i}},{key:"postProcessor",value:function(t){Qde(t.parsedStyle.transform,t)}}])}(),ehe=function(){function e(){se(this,e)}return le(e,[{key:"postProcessor",value:function(t){var r=t.parsedStyle.transformOrigin;r[0].unit===Ie.kPixels&&r[1].unit===Ie.kPixels?t.setOrigin(r[0].value,r[1].value):t.getGeometryBounds()}}])}(),the=function(){function e(){se(this,e)}return le(e,[{key:"calculator",value:function(t,r,i,a){return i.value}},{key:"postProcessor",value:function(t){if(t.parentNode){var r=t.parentNode,i=r.renderable,a=r.sortable;i&&(i.dirty=!0),a&&(a.dirty=!0,a.dirtyReason=Cw.Z_INDEX_CHANGED)}}}])}(),nhe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.cx,a=i===void 0?0:i,o=t.cy,s=o===void 0?0:o,l=t.r,u=l===void 0?0:l;return{cx:a,cy:s,hwidth:u,hheight:u}}}])}(),rhe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.cx,a=i===void 0?0:i,o=t.cy,s=o===void 0?0:o,l=t.rx,u=l===void 0?0:l,c=t.ry,f=c===void 0?0:c;return{cx:a,cy:s,hwidth:u,hheight:f}}}])}(),ihe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=Math.min(r,a),l=Math.max(r,a),u=Math.min(i,o),c=Math.max(i,o),f=l-s,d=c-u,h=f/2,p=d/2;return{cx:s+h,cy:u+p,hwidth:h,hheight:p}}}])}(),ahe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){var r=t.d,i=r.rect,a=i.x,o=i.y,s=i.width,l=i.height,u=s/2,c=l/2;return{cx:a+u,cy:o+c,hwidth:u,hheight:c}}}])}(),ohe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t){if(t.points&&zr(t.points.points)){var r=t.points.points,i=Math.min.apply(Math,Ke(r.map(function(d){return d[0]}))),a=Math.max.apply(Math,Ke(r.map(function(d){return d[0]}))),o=Math.min.apply(Math,Ke(r.map(function(d){return d[1]}))),s=Math.max.apply(Math,Ke(r.map(function(d){return d[1]}))),l=a-i,u=s-o,c=l/2,f=u/2;return{cx:i+c,cy:o+f,hwidth:c,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),she=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o,l=t.src,u=t.width,c=u===void 0?0:u,f=t.height,d=f===void 0?0:f,h=c,p=d;return l&&!Wt(l)&&(h||(h=l.width,t.width=h),p||(p=l.height,t.height=p)),{cx:a+h/2,cy:s+p/2,hwidth:h/2,hheight:p/2}}}])}(),lhe=function(){function e(n){se(this,e),this.globalRuntime=n}return le(e,[{key:"isReadyToMeasure",value:function(t,r){var i=t.text;return i}},{key:"update",value:function(t,r){var i,a=t.text,o=t.textAlign,s=o===void 0?"start":o,l=t.lineWidth,u=l===void 0?1:l,c=t.textBaseline,f=c===void 0?"alphabetic":c,d=t.dx,h=d===void 0?0:d,p=t.dy,v=p===void 0?0:p,g=t.x,m=g===void 0?0:g,y=t.y,b=y===void 0?0:y;if(!this.isReadyToMeasure(t,r))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var x=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},_=x.offscreenCanvas,w=this.globalRuntime.textService.measureText(a,t,_);t.metrics=w;var k=w.width,O=w.height,S=k/2,E=O/2,T=m+S;s==="center"||s==="middle"?T+=u/2-S:(s==="right"||s==="end")&&(T+=u-S*2);var M=b-E;return f==="middle"?M+=E:f==="top"||f==="hanging"?M+=E*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(M+=0),h&&(T+=h),v&&(M+=v),{cx:T,cy:M,hwidth:S,hheight:E}}}])}(),uhe=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),che=function(){function e(){se(this,e)}return le(e,[{key:"update",value:function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o,l=t.width,u=l===void 0?0:l,c=t.height,f=c===void 0?0:c;return{cx:a+u/2,cy:s+f/2,hwidth:u/2,hheight:f/2}}}])}(),Ny=function(){function e(n){se(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ta,this.page=new Ta,this.canvas=new Ta,this.viewport=new Ta,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=n}return le(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(dn)}}])}(),d6=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.client=new Ta,t.movement=new Ta,t.offset=new Ta,t.global=new Ta,t.screen=new Ta,t}return We(n,e),le(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(dn)}}])}(Ny),fhe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.width=0,t.height=0,t.isPrimary=!1,t}return We(n,e),le(n,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(d6),dhe=function(e){function n(){return se(this,n),Ge(this,n,arguments)}return We(n,e),le(n,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(d6),_r=function(e){function n(t,r){var i;return se(this,n),i=Ge(this,n,[null]),i.type=t,i.detail=r,Object.assign(i,r),i}return We(n,e),le(n)}(Ny),yA=new WeakMap,hhe=function(){function e(){se(this,e),this.emitter=new _y}return le(e,[{key:"on",value:function(t,r,i){return this.addEventListener(t,r,i),this}},{key:"addEventListener",value:function(t,r,i){var a=!1,o=!1;if(vg(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var l=i.once;o=l===void 0?!1:l}a&&(t+="capture"),r=tr(r)?r:r.handleEvent;var u=tr(r)?void 0:r;return o?this.emitter.once(t,r,u):this.emitter.on(t,r,u),this}},{key:"off",value:function(t,r,i){return t?this.removeEventListener(t,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var t;(t=this.emitter)===null||t===void 0||t.removeAllListeners()}},{key:"removeEventListener",value:function(t,r,i){var a;if(!this.emitter)return this;var o=vg(i)?i:i==null?void 0:i.capture;o&&(t+="capture"),r=tr(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=tr(r)?void 0:r;return this.emitter.off(t,r,s),this}},{key:"emit",value:function(t,r){this.dispatchEvent(new _r(t,r))}},{key:"dispatchEvent",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=yA.get(this);if(!i){var a;this.document?i=this:this.defaultView?i=this.defaultView:i=(a=this.ownerDocument)===null||a===void 0?void 0:a.defaultView,i&&yA.set(this,i)}if(i){if(t.manager=i.getEventService(),!t.manager)return!1;t.defaultPrevented=!1,t.path?t.path.length=0:t.page=[],r||(t.target=this),t.manager.dispatchEvent(t,t.type,r)}else this.emitter.emit(t.type,t);return!t.defaultPrevented}}])}(),ac=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t}return We(n,e),le(n,[{key:"textContent",get:function(){var r="";this.nodeName===tt.TEXT&&(r+=this.style.text);var i=Ji(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===tt.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===tt.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(dn)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(dn)}},{key:"lookupPrefix",value:function(r){throw new Error(dn)}},{key:"normalize",value:function(){throw new Error(dn)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return n.DOCUMENT_POSITION_DISCONNECTED|n.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|n.DOCUMENT_POSITION_PRECEDING;var u=o.length>s.length?o:s,c=u===o?s:o;if(u[u.length-c.length]===c[0])return u===o?n.DOCUMENT_POSITION_CONTAINED_BY|n.DOCUMENT_POSITION_FOLLOWING:n.DOCUMENT_POSITION_CONTAINS|n.DOCUMENT_POSITION_PRECEDING;for(var f=u.length-c.length,d=c.length-1;d>=0;d--){var h=c[d],p=u[f+d];if(p!==h){var v=h.parentNode.childNodes;return v.indexOf(h)<v.indexOf(p)?c===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING:u===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING}}return n.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(hhe);ac.DOCUMENT_POSITION_DISCONNECTED=1;ac.DOCUMENT_POSITION_PRECEDING=2;ac.DOCUMENT_POSITION_FOLLOWING=4;ac.DOCUMENT_POSITION_CONTAINS=8;ac.DOCUMENT_POSITION_CONTAINED_BY=16;ac.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var phe=function(){function e(){se(this,e)}return le(e,[{key:"getOrCreateCanvas",value:function(t,r){if(this.canvas)return this.canvas;if(t||Ne.offscreenCanvas)this.canvas=t||Ne.offscreenCanvas,this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Xe({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(t,r){return this.context?this.context:(this.getOrCreateCanvas(t,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),vhe=/\[\s*(.*)=(.*)\s*\]/,ghe=function(){function e(){se(this,e)}return le(e,[{key:"selectOne",value:function(t,r){var i=this;if(t.startsWith("."))return r.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(t))>-1});if(t.startsWith("#"))return r.find(function(l){return l.id===i.getIdOrClassname(t)});if(t.startsWith("[")){var a=this.getAttribute(t),o=a.name,s=a.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===t})}},{key:"selectAll",value:function(t,r){var i=this;if(t.startsWith("."))return r.findAll(function(l){return r!==l&&((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(t))>-1});if(t.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===i.getIdOrClassname(t)});if(t.startsWith("[")){var a=this.getAttribute(t),o=a.name,s=a.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===t})}},{key:"is",value:function(t,r){if(t.startsWith("."))return r.className===this.getIdOrClassname(t);if(t.startsWith("#"))return r.id===this.getIdOrClassname(t);if(t.startsWith("[")){var i=this.getAttribute(t),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===t}},{key:"getIdOrClassname",value:function(t){return t.substring(1)}},{key:"getAttribute",value:function(t){var r=t.match(vhe),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(t,r){if(!t.getAttribute)return"";var i=t.getAttribute(r);return je(i)?"":i.toString?i.toString():""}}])}(),Nn=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),is=function(e){function n(t,r,i,a,o,s,l,u){var c;return se(this,n),c=Ge(this,n,[null]),c.relatedNode=r,c.prevValue=i,c.newValue=a,c.attrName=o,c.attrChange=s,c.prevParsedValue=l,c.newParsedValue=u,c.type=t,c}return We(n,e),le(n)}(Ny);is.ADDITION=2;is.MODIFICATION=1;is.REMOVAL=3;function bA(e){var n=e.renderable;n&&(n.renderBoundsDirty=!0,n.boundsDirty=!0)}var mhe=new is(Nn.REPARENT,null,"","","",0,"",""),yhe=Mp(),Wv=Ze(),bhe=rt(1,1,1),xhe=ut(),whe=Mp(),qs=Ze(),yc=ut(),Ks=Ct(),_he=Ze(),khe=Ct(),Ohe=Ze(),Od=Ze(),Jl=Ze(),Hv=ut(),xA=Ct(),wA=Ct(),Uv=Ct(),Ab={affectChildren:!0},She=function(){function e(n){se(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new _r(Nn.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=n}return le(e,[{key:"matches",value:function(t,r){return this.runtime.sceneGraphSelector.is(t,r)}},{key:"querySelector",value:function(t,r){return this.runtime.sceneGraphSelector.selectOne(t,r)}},{key:"querySelectorAll",value:function(t,r){return this.runtime.sceneGraphSelector.selectAll(t,r)}},{key:"attach",value:function(t,r,i){var a,o=!1;t.parentNode&&(o=t.parentNode!==r,this.detach(t));var s=t.nodeName===tt.FRAGMENT,l=Fw(r);t.parentNode=r;var u=s?t.childNodes:[t];jt(i)?u.forEach(function(h){r.childNodes.splice(i,0,h),h.parentNode=r}):u.forEach(function(h){r.childNodes.push(h),h.parentNode=r});var c=r,f=c.sortable;if((f!=null&&(a=f.sorted)!==null&&a!==void 0&&a.length||t.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(t)===-1&&f.dirtyChildren.push(t),f.dirty=!0,f.dirtyReason=Cw.ADDED),!l){if(s)this.dirtifyFragment(t);else{var d=t.transformable;d&&this.dirtifyWorld(t,d)}o&&t.dispatchEvent(mhe)}}},{key:"detach",value:function(t){if(t.parentNode){var r,i,a=t.transformable,o=t.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=t.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(t)===-1&&s.dirtyChildren.push(t),s.dirty=!0,s.dirtyReason=Cw.REMOVED);var l=t.parentNode.childNodes.indexOf(t);l>-1&&t.parentNode.childNodes.splice(l,1),a&&this.dirtifyWorld(t,a),t.parentNode=null}}},{key:"getOrigin",value:function(t){return t.getGeometryBounds(),t.transformable.origin}},{key:"setOrigin",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=t.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtifyLocal(t,o)}}},{key:"rotate",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;if(t.parentNode===null||!t.parentNode.transformable)this.rotateLocal(t,r);else{var s=Ks;ul(s,r[0],r[1],r[2]);var l=this.getRotation(t),u=this.getRotation(t.parentNode);cl(Uv,u),Gc(Uv,Uv),Ti(s,Uv,s),Ti(o.localRotation,s,l),bf(o.localRotation,o.localRotation),this.dirtifyLocal(t,o)}}},{key:"rotateLocal",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;ul(wA,r[0],r[1],r[2]),xg(o.localRotation,o.localRotation,wA),this.dirtifyLocal(t,o)}},{key:"setEulerAngles",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;if(t.parentNode===null||!t.parentNode.transformable)this.setLocalEulerAngles(t,r);else{ul(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(t.parentNode);cl(xA,Gc(Ks,s)),xg(o.localRotation,o.localRotation,xA),this.dirtifyLocal(t,o)}}},{key:"setLocalEulerAngles",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=rt(r,i,a));var s=t.transformable;ul(s.localRotation,r[0],r[1],r[2]),o&&this.dirtifyLocal(t,s)}},{key:"translateLocal",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=rt(r,i,a));var o=t.transformable;Do(r,Wv)||(j$(r,r,o.localRotation),di(o.localPosition,o.localPosition,r),this.dirtifyLocal(t,o))}},{key:"setPosition",value:function(t,r){var i,a=t.transformable;if(Jl[0]=r[0],Jl[1]=r[1],Jl[2]=(i=r[2])!==null&&i!==void 0?i:0,!Do(this.getPosition(t),Jl)){if(Or(a.position,Jl),t.parentNode===null||!t.parentNode.transformable)Or(a.localPosition,Jl);else{var o=t.parentNode.transformable;$s(Hv,o.worldTransform),Mr(Hv,Hv),pn(a.localPosition,Jl,Hv)}this.dirtifyLocal(t,a)}}},{key:"setLocalPosition",value:function(t,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t.transformable;Od[0]=r[0],Od[1]=r[1],Od[2]=(i=r[2])!==null&&i!==void 0?i:0,!Do(o.localPosition,Od)&&(Or(o.localPosition,Od),a&&this.dirtifyLocal(t,o))}},{key:"scaleLocal",value:function(t,r){var i,a=t.transformable;D$(a.localScale,a.localScale,gn(qs,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtifyLocal(t,a)}},{key:"setLocalScale",value:function(t,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t.transformable;gn(qs,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!Do(qs,o.localScale)&&(Or(o.localScale,qs),a&&this.dirtifyLocal(t,o))}},{key:"translate",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=gn(qs,r,i,a)),!Do(r,Wv)&&(di(qs,this.getPosition(t),r),this.setPosition(t,qs))}},{key:"setRotation",value:function(t,r,i,a,o){var s=t.transformable;if(typeof r=="number"&&(r=Y$(r,i,a,o)),t.parentNode===null||!t.parentNode.transformable)this.setLocalRotation(t,r);else{var l=this.getRotation(t.parentNode);cl(Ks,l),Gc(Ks,Ks),Ti(s.localRotation,Ks,r),bf(s.localRotation,s.localRotation),this.dirtifyLocal(t,s)}}},{key:"setLocalRotation",value:function(t,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=bg(Ks,r,i,a,o));var l=t.transformable;cl(l.localRotation,r),s&&this.dirtifyLocal(t,l)}},{key:"setLocalSkew",value:function(t,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=W$(whe,r,i));var o=t.transformable;G$(o.localSkew,r),a&&this.dirtifyLocal(t,o)}},{key:"dirtifyLocal",value:function(t,r){Fw(t)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtifyWorld(t,r))}},{key:"dirtifyWorld",value:function(t,r){r.dirtyFlag||this.unfreezeParentToRoot(t),this.dirtifyWorldInternal(t,r),this.dirtifyToRoot(t,!0)}},{key:"dirtifyFragment",value:function(t){var r=t.transformable;r&&(r.frozen=!1,r.dirtyFlag=!0,r.localDirtyFlag=!0);var i=t.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var a=t.childNodes.length,o=0;o<a;o++)this.dirtifyFragment(t.childNodes[o]);t.nodeName===tt.FRAGMENT&&this.pendingEvents.set(t,!1)}},{key:"triggerPendingEvents",value:function(){var t=this,r=new Set,i=function(o,s){!o.isConnected||r.has(o)||o.nodeName===tt.FRAGMENT||(t.boundsChangedEvent.detail=s,t.boundsChangedEvent.target=o,o.isMutationObserved?o.dispatchEvent(t.boundsChangedEvent):o.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0),r.add(o))};this.pendingEvents.forEach(function(a,o){o.nodeName!==tt.FRAGMENT&&(Ab.affectChildren=a,a?o.forEach(function(s){i(s,Ab)}):i(o,Ab))}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t;for(i.renderable&&(i.renderable.dirty=!0);i;)bA(i),i=i.parentNode;r&&t.forEach(function(a){bA(a)}),this.informDependentDisplayObjects(t),this.pendingEvents.set(t,r)}},{key:"updateDisplayObjectDependency",value:function(t,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[t]){var s=o[t].indexOf(a);o[t].splice(s,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[t]||(l[t]=[]),l[t].push(a)}}},{key:"informDependentDisplayObjects",value:function(t){var r=this,i=this.displayObjectDependencyMap.get(t);i&&Object.keys(i).forEach(function(a){i[a].forEach(function(o){r.dirtifyToRoot(o,!0),o.dispatchEvent(new is(Nn.ATTR_MODIFIED,o,r,r,a,is.MODIFICATION,r,r)),o.isCustomElement&&o.isConnected&&o.attributeChangedCallback&&o.attributeChangedCallback(a,r,r)})})}},{key:"getPosition",value:function(t){var r=t.transformable;return Cu(r.position,this.getWorldTransform(t,r))}},{key:"getRotation",value:function(t){var r=t.transformable;return Ru(r.rotation,this.getWorldTransform(t,r))}},{key:"getScale",value:function(t){var r=t.transformable;return es(r.scaling,this.getWorldTransform(t,r))}},{key:"getWorldTransform",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.sync(t,r)),r.worldTransform}},{key:"getLocalPosition",value:function(t){return t.transformable.localPosition}},{key:"getLocalRotation",value:function(t){return t.transformable.localRotation}},{key:"getLocalScale",value:function(t){return t.transformable.localScale}},{key:"getLocalSkew",value:function(t){return t.transformable.localSkew}},{key:"calcLocalTransform",value:function(t){var r=t.localSkew[0]!==0||t.localSkew[1]!==0;if(r){Ts(t.localTransform,t.localRotation,t.localPosition,rt(1,1,1),t.origin),(t.localSkew[0]!==0||t.localSkew[1]!==0)&&(oa(yc),yc[4]=Math.tan(t.localSkew[0]),yc[1]=Math.tan(t.localSkew[1]),Gn(t.localTransform,t.localTransform,yc));var i=Ts(yc,bg(Ks,0,0,0,1),gn(qs,1,1,1),t.localScale,t.origin);Gn(t.localTransform,t.localTransform,i)}else{var a=t.localTransform,o=t.localPosition,s=t.localRotation,l=t.localScale,u=t.origin,c=o[0]!==0||o[1]!==0||o[2]!==0,f=s[3]!==1||s[0]!==0||s[1]!==0||s[2]!==0,d=l[0]!==1||l[1]!==1||l[2]!==1,h=u[0]!==0||u[1]!==0||u[2]!==0;!f&&!d&&!h?c?ui(a,o):oa(a):Ts(a,s,o,l,u)}}},{key:"getLocalTransform",value:function(t){var r=t.transformable;return r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.localTransform}},{key:"setLocalTransform",value:function(t,r){var i=Cu(_he,r),a=Ru(khe,r),o=es(Ohe,r);this.setLocalScale(t,o,!1),this.setLocalPosition(t,i,!1),this.setLocalRotation(t,a,void 0,void 0,void 0,!1),this.dirtifyLocal(t,t.transformable)}},{key:"resetLocalTransform",value:function(t){this.setLocalScale(t,bhe,!1),this.setLocalPosition(t,Wv,!1),this.setLocalEulerAngles(t,Wv,void 0,void 0,!1),this.setLocalSkew(t,yhe,void 0,!1),this.dirtifyLocal(t,t.transformable)}},{key:"getTransformedGeometryBounds",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(t,r);if(!$i.isEmpty(a)){var o=i||new $i;return o.setFromTransformedAABB(a,this.getWorldTransform(t)),o}return null}},{key:"getGeometryBounds",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t,a=i.geometry;a.dirty&&Ne.styleValueRegistry.updateGeometry(t);var o=r?a.renderBounds:a.contentBounds||null;return o||new $i}},{key:"getBounds",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=t,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(t,i,s),u=t.childNodes;if(u.forEach(function(d){var h=r.getBounds(d,i);h&&(l?l.add(h):(l=s||new $i,l.update(h.center,h.halfExtents)))}),l||(l=new $i),i){var c=Cde(t);if(c){var f=c.parsedStyle.clipPath.getBounds(i);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return i?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(t){if(t.parentNode){var r=xhe;t.parentNode.transformable&&(r=Mr(yc,this.getWorldTransform(t.parentNode)));var i=this.getBounds(t);if(!$i.isEmpty(i)){var a=new $i;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(t)}},{key:"getBoundingClientRect",value:function(t){var r,i,a=this.getGeometryBounds(t);$i.isEmpty(a)||(i=new $i,i.setFromTransformedAABB(a,this.getWorldTransform(t)));var o=(r=t.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),l=ze(s,2),u=l[0],c=l[1],f=i.getMax(),d=ze(f,2),h=d[0],p=d[1];return new Rf(u+((o==null?void 0:o.left)||0),c+((o==null?void 0:o.top)||0),h-u,p-c)}return new Rf((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(t,r){var i=this;if(!r.dirtyFlag){r.dirtyFlag=!0,r.frozen=!1,t.childNodes.forEach(function(s){var l=s.transformable;l.dirtyFlag||i.dirtifyWorldInternal(s,l)});var a=t,o=a.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}}},{key:"syncHierarchy",value:function(t){var r=t.transformable;if(!r.frozen){r.frozen=!0,(r.localDirtyFlag||r.dirtyFlag)&&this.sync(t,r);for(var i=t.childNodes,a=0;a<i.length;a++)this.syncHierarchy(i[a])}}},{key:"sync",value:function(t,r){if(r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.dirtyFlag){var i=t.parentNode,a=i&&i.transformable;i===null||!a?$s(r.worldTransform,r.localTransform):Gn(r.worldTransform,a.worldTransform,r.localTransform),r.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(t){for(var r=t.parentNode;r;){var i=r.transformable;i&&(i.frozen=!1),r=r.parentNode}}}])}(),eu={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},_A=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Ehe=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,The=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,Mhe=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Ahe=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Phe=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Che=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Rhe=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Nhe=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Lhe=new RegExp("".concat(Ehe.source,"|").concat(Mhe.source,"|").concat(Phe.source,"|").concat(Rhe.source)),$he=new RegExp("".concat(The.source,"|").concat(Ahe.source,"|").concat(Che.source,"|").concat(Nhe.source)),Ihe=function(){function e(n){var t=this;se(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return t.isBreakingSpace(i)?!1:!!(r&&($he.exec(i)||Lhe.exec(r)))},this.trimByKinsokuShorui=function(r){var i=Ke(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=n}return le(e,[{key:"measureFont",value:function(t,r){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=t;var s=eu.MetricsString+eu.BaselineSymbol,l=Math.ceil(o.measureText(s).width),u=Math.ceil(o.measureText(eu.BaselineSymbol).width),c=eu.HeightMultiplier*u;u=u*eu.BaselineMultiplier|0,a.width=l,a.height=c,o.fillStyle="#f00",o.fillRect(0,0,l,c),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,u);var f=o.getImageData(0,0,l||1,c||1).data,d=f.length,h=l*4,p=0,v=0,g=!1;for(p=0;p<u;++p){for(var m=0;m<h;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=h;else break}for(i.ascent=u-p,v=d-h,g=!1,p=c;p>u;--p){for(var y=0;y<h;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=h;else break}return i.descent=p-u,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[t]=i,i}},{key:"measureText",value:function(t,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,l=s===void 0?!1:s,u=r.lineHeight,c=r.lineWidth,f=c===void 0?1:c,d=r.textBaseline,h=d===void 0?"alphabetic":d,p=r.textAlign,v=p===void 0?"start":p,g=r.letterSpacing,m=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var b=r.leading,x=b===void 0?0:b,_=Vde(r),w=this.measureFont(_,i);w.fontSize===0&&(w.fontSize=o,w.ascent=o);var k=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);k.font=_,r.isOverflowing=!1;var O=l?this.wordWrap(t,r,i):t,S=O.split(/(?:\r\n|\r|\n)/),E=new Array(S.length),T=0;if(y){y.getTotalLength();for(var M=0;M<S.length;M++)k.measureText(S[M]).width+(S[M].length-1)*m}else{for(var P=0;P<S.length;P++){var A=k.measureText(S[P]).width+(S[P].length-1)*m;E[P]=A,T=Math.max(T,A)}var N=T+f,R=u||w.fontSize+f,C=Math.max(R,w.fontSize+f)+(S.length-1)*(R+x);R+=x;var L=0;return h==="middle"?L=-C/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?L=-C:(h==="top"||h==="hanging")&&(L=0),{font:_,width:N,height:C,lines:S,lineWidths:E,lineHeight:R,maxLineWidth:T,fontProperties:w,lineMetrics:E.map(function(I,j){var F=0;return v==="center"||v==="middle"?F-=I/2:(v==="right"||v==="end")&&(F-=I),new Rf(F-f/2,L+j*R,I+f,R)})}}}},{key:"wordWrap",value:function(t,r,i){var a=this,o=this,s=r.wordWrapWidth,l=s===void 0?0:s,u=r.letterSpacing,c=u===void 0?0:u,f=r.maxLines,d=f===void 0?1/0:f,h=r.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),v=l+c,g="";h==="ellipsis"?g="...":h&&h!=="clip"&&(g=h);var m=Array.from(t),y=[],b=0,x=0,_=0,w={},k=function(L){return a.getFromCache(L,c,w,p)},O=k(g);function S(C,L,I,j){for(;k(C)<j&&L<m.length-1&&!o.isNewline(m[L+1]);)L+=1,C+=m[L];for(;k(C)>j&&L>I;)L-=1,C=C.slice(0,-1);return{lineTxt:C,txtLastCharIndex:L}}function E(C,L){if(!(O<=0||O>v)){if(!y[C]){y[C]=g;return}var I=S(y[C],L,_+1,v-O);y[C]=I.lineTxt+g}}for(var T=0;T<m.length;T++){var M=m[T],P=m[T-1],A=m[T+1],N=k(M);if(this.isNewline(M)){if(b+1>=d){r.isOverflowing=!0,T<m.length-1&&E(b,T-1);break}_=T-1,b+=1,x=0,y[b]="";continue}if(x>0&&x+N>v){var R=S(y[b],T-1,_+1,v);if(R.txtLastCharIndex!==T-1){if(y[b]=R.lineTxt,R.txtLastCharIndex===m.length-1)break;T=R.txtLastCharIndex+1,M=m[T],P=m[T-1],A=m[T+1],N=k(M)}if(b+1>=d){r.isOverflowing=!0,E(b,T-1);break}if(_=T-1,b+=1,x=0,y[b]="",this.isBreakingSpace(M))continue;this.canBreakInLastChar(M)||(y=this.trimToBreakable(y),x=this.sumTextWidthByCache(y[b]||"",k)),this.shouldBreakByKinsokuShorui(M,A)&&(y=this.trimByKinsokuShorui(y),x+=k(P||""))}x+=N,y[b]=(y[b]||"")+M}return y.join(`
`)}},{key:"isBreakingSpace",value:function(t){return typeof t!="string"?!1:eu.BreakingSpaces.indexOf(t.charCodeAt(0))>=0}},{key:"isNewline",value:function(t){return typeof t!="string"?!1:eu.Newlines.indexOf(t.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(t){var r=Ke(t),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),l=a+1,u=a+(s?0:1);return r[r.length-1]+=i.slice(l,i.length),r[r.length-2]=i.slice(0,u),r}},{key:"canBreakInLastChar",value:function(t){return!(t&&_A.test(t))}},{key:"sumTextWidthByCache",value:function(t,r){return t.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(t){for(var r=t.length-1;r>=0;r--)if(!_A.test(t[r]))return r;return-1}},{key:"getFromCache",value:function(t,r,i,a){var o=i[t];if(typeof o!="number"){var s=t.length*r,l=a.measureText(t);o=l.width+s,i[t]=o}return o}}])}(),Ne={},Dhe=function(e){var n=new she,t=new ohe;return e={},we(we(we(we(we(we(we(we(we(we(e,tt.FRAGMENT,null),tt.CIRCLE,new nhe),tt.ELLIPSE,new rhe),tt.RECT,n),tt.IMAGE,n),tt.GROUP,new uhe),tt.LINE,new ihe),tt.TEXT,new lhe(Ne)),tt.POLYLINE,t),tt.POLYGON,t),we(we(we(e,tt.PATH,new ahe),tt.HTML,new che),tt.MESH,null)}(),Fhe=function(e){var n=new yde,t=new Dw;return e={},we(we(we(we(we(we(we(we(we(we(e,Re.PERCENTAGE,null),Re.NUMBER,new kde),Re.ANGLE,new gde),Re.DEFINED_PATH,new mde),Re.PAINT,n),Re.COLOR,n),Re.FILTER,new bde),Re.LENGTH,t),Re.LENGTH_PERCENTAGE,t),Re.LENGTH_PERCENTAGE_12,new xde),we(we(we(we(we(we(we(we(we(we(e,Re.LENGTH_PERCENTAGE_14,new wde),Re.COORDINATE,new Dw),Re.OFFSET_DISTANCE,new Ode),Re.OPACITY_VALUE,new Sde),Re.PATH,new Ede),Re.LIST_OF_POINTS,new Tde),Re.SHADOW_BLUR,new Mde),Re.TEXT,new Ade),Re.TEXT_TRANSFORM,new Pde),Re.TRANSFORM,new Jde),we(we(we(e,Re.TRANSFORM_ORIGIN,new ehe),Re.Z_INDEX,new the),Re.MARKER,new _de)}(),Bhe=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Ne.CameraContribution=W4;Ne.AnimationTimeline=null;Ne.EasingFunction=null;Ne.offscreenCanvasCreator=new phe;Ne.sceneGraphSelector=new ghe;Ne.sceneGraphService=new She(Ne);Ne.textService=new Ihe(Ne);Ne.geometryUpdaterFactory=Dhe;Ne.CSSPropertySyntaxFactory=Fhe;Ne.styleValueRegistry=new pde(Ne);Ne.layoutRegistry=null;Ne.globalThis=Bhe();Ne.enableStyleSyntax=!0;Ne.enableSizeAttenuation=!1;var jhe=0,kA=new is(Nn.INSERTED,null,"","","",0,"",""),OA=new is(Nn.REMOVED,null,"","","",0,"",""),zhe=new _r(Nn.DESTROY),Yhe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.entity=jhe++,t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.cullable={strategy:Kce.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.destroyed=!1,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return We(n,e),le(n,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(dn)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(Fce);return Ne.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!Fw(this)&&r.nodeName===tt.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(kA.relatedNode=this,r.dispatchEvent(kA)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i;return OA.relatedNode=this,r.dispatchEvent(OA),(i=r.ownerDocument)!==null&&i!==void 0&&i.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),Ne.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return Ne.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return Ne.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return Ne.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return Ne.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return Ne.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return Ne.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return Ne.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(Ne.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(l,u){var c;return(c=r.parentNode)===null||c===void 0?void 0:c.appendChild(l,i+u+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=o[0],u=o.slice(1);this.parentNode.appendChild(l,i),(r=l).after.apply(r,Ke(u))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(zhe),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ne.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ne.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ne.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ne.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ne.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i,a,o){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(dn)}},{key:"getAttributeNode",value:function(r){throw new Error(dn)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(dn)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(dn)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(dn)}},{key:"removeAttributeNode",value:function(r){throw new Error(dn)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(dn)}},{key:"setAttributeNode",value:function(r){throw new Error(dn)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(dn)}},{key:"toggleAttribute",value:function(r,i){throw new Error(dn)}}])}(ac);function Tn(e){return!!(e!=null&&e.nodeName)}var Ghe=Ne.globalThis.Proxy?Ne.globalThis.Proxy:function(){},ps=new is(Nn.ATTR_MODIFIED,null,null,null,null,is.MODIFICATION,null,null),Sd=Ze(),Whe=Ct(),Hn=function(e){function n(t){var r;return se(this,n),r=Ge(this,n),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=t,r.id=t.id||"",r.name=t.name||"",(t.className||t.class)&&(r.className=t.className||t.class),r.nodeName=t.type||tt.GROUP,t.initialParsedStyle&&Object.assign(r.parsedStyle,t.initialParsedStyle),r.initAttributes(t.style),Ne.enableStyleSyntax&&(r.style=new Ghe({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return We(n,e),le(n,[{key:"destroy",value:function(){Cg(n,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Xe({},this.attributes);for(var o in a){var s=a[o];Tn(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var l=new this.constructor(Xe(Xe({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(u){if(!u.style.isMarker){var c=u.cloneNode(r);l.appendChild(c)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Ne.styleValueRegistry.processProperties(this,r,i),this.renderable.dirty=!0}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;lt(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),Cg(n,"setAttribute",this)([r,i]))}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.renderable,s=this.attributes[r],l=this.parsedStyle[r];Ne.styleValueRegistry.processProperties(this,we({},r,i),a),o.dirty=!0;var u=this.parsedStyle[r];if(this.isConnected&&(ps.relatedNode=this,ps.prevValue=s,ps.newValue=i,ps.attrName=r,ps.prevParsedValue=l,ps.newParsedValue=u,this.isMutationObserved?this.dispatchEvent(ps):(ps.target=this,this.ownerDocument.defaultView.dispatchEvent(ps,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var c,f;(c=(f=this).attributeChangedCallback)===null||c===void 0||c.call(f,r,s,i,l,u)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=ze(i,2),o=a[0],s=a[1],l=r.getMax(),u=ze(l,2),c=u[0],f=u[1];return new Rf(o,s,c-o,f-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setOrigin(this,wi(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return Ne.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setPosition(this,wi(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setLocalPosition(this,wi(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translate(this,wi(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translateLocal(this,wi(r,i,a,!1)),this}},{key:"getPosition",value:function(){return Ne.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ne.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=wi(r,i,a,!1)),Ne.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=wi(r,i,a,!1)),Ne.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return Ne.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ne.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=wb(Sd,Ne.sceneGraphService.getWorldTransform(this)),i=ze(r,3),a=i[2];return Oa(a)}},{key:"getLocalEulerAngles",value:function(){var r=wb(Sd,Ne.sceneGraphService.getLocalRotation(this)),i=ze(r,3),a=i[2];return Oa(a)}},{key:"setEulerAngles",value:function(r){return Ne.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return Ne.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return je(i)&&je(a)?Ne.sceneGraphService.rotateLocal(this,0,0,r):Ne.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return je(i)&&je(a)?Ne.sceneGraphService.rotate(this,0,0,r):Ne.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return Ne.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return Ne.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return Ne.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return Ne.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ne.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ne.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ne.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ne.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return Ne.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){Ne.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,Ke(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,Ke(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1];return s?Kf(s)?(Object.keys(s).forEach(function(u){r.setAttribute(u,s[u])}),this):a.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=Cu(Sd,i),o=ze(a,2),s=o[0],l=o[1],u=es(Sd,i),c=ze(u,2),f=c[0],d=c[1],h=Ru(Whe,i),p=wb(Sd,h),v=ze(p,3),g=v[0],m=v[2];return Wce(g||m,s,l,f,d)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=HM(r),a=ze(i,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4];this.setEulerAngles(c).setPosition(o,s).setLocalScale(l,u)}},{key:"setLocalMatrix",value:function(r){var i=HM(r),a=ze(i,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4];this.setLocalEulerAngles(c).setLocalPosition(o,s).setLocalScale(l,u)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(Yhe);Hn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var qk=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:tt.CIRCLE},t)])}return We(n,e),le(n)}(Hn);qk.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Hhe=["style"],h6=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,Hhe);return se(this,n),t=Ge(this,n,[Xe({style:i},a)]),t.isCustomElement=!0,t}return We(n,e),le(n)}(Hn);h6.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var p6=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:tt.ELLIPSE},t)])}return We(n,e),le(n)}(Hn);p6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Uhe=function(e){function n(){return se(this,n),Ge(this,n,[{type:tt.FRAGMENT}])}return We(n,e),le(n)}(Hn);Uhe.PARSED_STYLE_LIST=new Set(["class","className"]);var fo=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:tt.GROUP},t)])}return We(n,e),le(n)}(Hn);fo.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Vhe=["style"],v6=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,Vhe);return se(this,n),t=Ge(this,n,[Xe({type:tt.HTML,style:i},a)]),t.cullable.enable=!1,t}return We(n,e),le(n,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Mr(ut(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!$i.isEmpty(i)){var a=new $i;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])}(Hn);v6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var g6=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:tt.IMAGE},t)])}return We(n,e),le(n)}(Hn);g6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Xhe=["style"],m6=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,Xhe);se(this,n),t=Ge(this,n,[Xe({type:tt.LINE,style:Xe({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),t.markerStartAngle=0,t.markerEndAngle=0;var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&Tn(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),l&&Tn(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Tn(o)&&(this.markerStartAngle=0,o.remove()),s&&Tn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&Tn(o)&&(this.markerEndAngle=0,o.remove()),s&&Tn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=i.x1,c=i.x2,f=i.y1,d=i.y2,h=r?a:o;if(!(!h||!Tn(h))){var p=0,v,g,m,y,b,x;r?(m=u,y=f,v=c-u,g=d-f,b=s||0,x=this.markerStartAngle):(m=c,y=d,v=u-c,g=f-d,b=l||0,x=this.markerEndAngle),p=Math.atan2(g,v),h.setLocalEulerAngles(p*180/Math.PI+x),h.setLocalPosition(m+Math.cos(p)*b,y+Math.sin(p)*b)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,l=a.x2,u=a.y2,c=G4(o,s,l,u,r),f=c.x,d=c.y,h=pn(Ze(),rt(f,d,0),i?this.getWorldTransform():this.getLocalTransform());return new Ta(h[0],h[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return Y4(i,a,o,s)}}])}(Hn);m6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var qhe=["style"],Kk=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,qhe);se(this,n),t=Ge(this,n,[Xe({type:tt.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Xe({},H4)}},a)]),t.markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&Tn(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),u&&Tn(u)&&t.placeMarkerMid(u),l&&Tn(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Tn(o)&&(this.markerStartAngle=0,o.remove()),s&&Tn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Tn(o)&&(this.markerEndAngle=0,o.remove()),s&&Tn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=r?a:o;if(!(!u||!Tn(u))){var c=0,f,d,h,p,v,g;if(r){var m=this.getStartTangent(),y=ze(m,2),b=y[0],x=y[1];h=x[0],p=x[1],f=b[0]-x[0],d=b[1]-x[1],v=s||0,g=this.markerStartAngle}else{var _=this.getEndTangent(),w=ze(_,2),k=w[0],O=w[1];h=O[0],p=O[1],f=k[0]-O[0],d=k[1]-O[1],v=l||0,g=this.markerEndAngle}c=Math.atan2(d,f),u.setLocalEulerAngles(c*180/Math.PI+g),u.setLocalPosition(h+Math.cos(c)*v,p+Math.sin(c)*v)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),r&&Tn(r))for(var a=1;a<i.length-1;a++){var o=ze(i[a].currentPoint,2),s=o[0],l=o[1],u=a===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return sA(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=tI(a,r),s=o.x,l=o.y,u=pn(Ze(),rt(s,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Ta(u[0],u[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*sA(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,l=r[i-1].endTangent;a=[],l?(a.push([s[0]-l[0],s[1]-l[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])}(Hn);Kk.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var Khe=["style"],Ly=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=Vi(r,Khe);se(this,n),t=Ge(this,n,[Xe({type:tt.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),t.markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var o=t.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&Tn(s)&&(t.markerStartAngle=s.getLocalEulerAngles(),t.appendChild(s)),u&&Tn(u)&&t.placeMarkerMid(u),l&&Tn(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return We(n,e),le(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Tn(o)&&(this.markerStartAngle=0,o.remove()),s&&Tn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Tn(o)&&(this.markerEndAngle=0,o.remove()),s&&Tn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,u=i.points,c=u||{},f=c.points,d=r?a:o;if(!(!d||!Tn(d)||!f)){var h=0,p,v,g,m,y,b;if(g=f[0][0],m=f[0][1],r)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=s||0,b=this.markerStartAngle;else{var x=f.length;this.parsedStyle.isClosed?(p=f[x-1][0]-f[0][0],v=f[x-1][1]-f[0][1]):(g=f[x-1][0],m=f[x-1][1],p=f[x-2][0]-f[x-1][0],v=f[x-2][1]-f[x-1][1]),y=l||0,b=this.markerEndAngle}h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+b),d.setLocalPosition(g+Math.cos(h)*y,m+Math.sin(h)*y)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],r&&Tn(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],u=o[s][1],c=s===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(l,u)}}}])}(Hn);Ly.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Zhe=["style"],y6=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.style,i=Vi(t,Zhe);return se(this,n),Ge(this,n,[Xe({type:tt.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return We(n,e),le(n,[{key:"getTotalLength",value:function(){return Wfe(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,u,c=this.getTotalLength();a.forEach(function(m,y){a[y+1]&&(l=[0,0],l[0]=s/c,u=Y4(m[0],m[1],a[y+1][0],a[y+1][1]),s+=u,l[1]=s/c,o.push(l))}),this.parsedStyle.points.segments=o}var f=0,d=0;this.parsedStyle.points.segments.forEach(function(m,y){r>=m[0]&&r<=m[1]&&(f=(r-m[0])/(m[1]-m[0]),d=y)});var h=G4(a[d][0],a[d][1],a[d+1][0],a[d+1][1],f),p=h.x,v=h.y,g=pn(Ze(),rt(p,v,0),i?this.getWorldTransform():this.getLocalTransform());return new Ta(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])}(Ly);y6.PARSED_STYLE_LIST=new Set([].concat(Ke(Ly.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var b6=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),Ge(this,n,[Xe({type:tt.RECT},t)])}return We(n,e),le(n)}(Hn);b6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Qhe=["style"],x6=function(e){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.style,i=Vi(t,Qhe);return se(this,n),Ge(this,n,[Xe({type:tt.TEXT,style:Xe({fill:"black"},r)},i)])}return We(n,e),le(n,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Hn);x6.PARSED_STYLE_LIST=new Set([].concat(Ke(Hn.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Jhe=function(){function e(n){se(this,e),this.strategies=n}return le(e,[{key:"apply",value:function(t){var r=t.camera,i=t.renderingService,a=t.renderingContext,o=this.strategies;i.hooks.cull.tap(e.tag,function(s){if(s){var l=s.cullable;return o.length===0?l.visible=a.unculledEntities.indexOf(s.entity)>-1:l.visible=o.every(function(u){return u.isVisible(r,s)}),!s.isCulled()&&s.isVisible()?s:(s.dispatchEvent(new _r(Nn.CULLED)),null)}return s}),i.hooks.afterRender.tap(e.tag,function(s){s.cullable.visibilityPlaneMask=-1})}}])}();Jhe.tag="Culling";var epe=function(){function e(){var n=this;se(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new fhe(null),this.rootWheelEvent=new dhe(null),this.onPointerMove=function(t){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&t.pointerType==="touch")){var a=n.normalizeToPointerEvent(t,i),o=Ji(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(u)}}catch(c){o.e(c)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}},this.onClick=function(t){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=n.normalizeToPointerEvent(t,i),o=Ji(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(u)}}catch(c){o.e(c)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}}return le(e,[{key:"apply",value:function(t){var r=this;this.context=t;var i=t.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var u=Ji(s),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=r.bootstrapEvent(r.rootPointerEvent,f,a,o);r.context.eventService.mapEvent(d)}}catch(h){u.e(h)}finally{u.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),u=l?"":"outside",c=r.normalizeToPointerEvent(o,a),f=Ji(c),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=r.bootstrapEvent(r.rootPointerEvent,h,a,o);p.type+=u,r.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,a),l=Ji(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=r.bootstrapEvent(r.rootPointerEvent,c,a,o);r.context.eventService.mapEvent(f)}}catch(d){l.e(d)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(t,r,i,a){t.view=i,t.originalEvent=null,t.nativeEvent=a,t.pointerId=r.pointerId,t.width=r.width,t.height=r.height,t.isPrimary=r.isPrimary,t.pointerType=r.pointerType,t.pressure=r.pressure,t.tangentialPressure=r.tangentialPressure,t.tiltX=r.tiltX,t.tiltY=r.tiltY,t.twist=r.twist,this.transferMouseData(t,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;t.viewport.x=s,t.viewport.y=l;var u=this.context.eventService.viewport2Canvas(t.viewport),c=u.x,f=u.y;return t.canvas.x=c,t.canvas.y=f,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=a.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Nde[t.type]||t.type),t}},{key:"normalizeWheelEvent",value:function(t){var r=this.rootWheelEvent;this.transferMouseData(r,t),r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ;var i=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,u=s.y;return r.canvas.x=l,r.canvas.y=u,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=t,r.type=t.type,r}},{key:"transferMouseData",value:function(t,r){t.isTrusted=r.isTrusted,t.srcElement=r.srcElement,t.timeStamp=Lde.now(),t.type=r.type,t.altKey=r.altKey,t.metaKey=r.metaKey,t.shiftKey=r.shiftKey,t.ctrlKey=r.ctrlKey,t.button=r.button,t.buttons=r.buttons,t.client.x=r.clientX,t.client.y=r.clientY,t.movement.x=r.movementX,t.movement.y=r.movementY,t.page.x=r.pageX,t.page.y=r.pageY,t.screen.x=r.screenX,t.screen.y=r.screenY,t.relatedTarget=null}},{key:"setCursor",value:function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(t,r){var i=[];if(r.isTouchEvent(t))for(var a=0;a<t.changedTouches.length;a++){var o=t.changedTouches[a];lt(o.button)&&(o.button=0),lt(o.buttons)&&(o.buttons=1),lt(o.isPrimary)&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),lt(o.width)&&(o.width=o.radiusX||1),lt(o.height)&&(o.height=o.radiusY||1),lt(o.tiltX)&&(o.tiltX=0),lt(o.tiltY)&&(o.tiltY=0),lt(o.pointerType)&&(o.pointerType="touch"),lt(o.pointerId)&&(o.pointerId=o.identifier||0),lt(o.pressure)&&(o.pressure=o.force||.5),lt(o.twist)&&(o.twist=0),lt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=t.type,i.push(o)}else if(r.isMouseEvent(t)){var s=t;lt(s.isPrimary)&&(s.isPrimary=!0),lt(s.width)&&(s.width=1),lt(s.height)&&(s.height=1),lt(s.tiltX)&&(s.tiltX=0),lt(s.tiltY)&&(s.tiltY=0),lt(s.pointerType)&&(s.pointerType="mouse"),lt(s.pointerId)&&(s.pointerId=Rde),lt(s.pressure)&&(s.pressure=.5),lt(s.twist)&&(s.twist=0),lt(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(t);return i}}])}();epe.tag="Event";tt.CIRCLE,tt.ELLIPSE,tt.IMAGE,tt.RECT,tt.LINE,tt.POLYLINE,tt.POLYGON,tt.TEXT,tt.PATH,tt.HTML;var tpe=function(){function e(){se(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return le(e,[{key:"apply",value:function(t){var r=this,i,a=t.renderingService,o=t.renderingContext,s=t.rBushRoot,l=o.root.ownerDocument.defaultView;this.rBush=s;var u=function(v){var g=v.target;g.renderable.dirty=!0,a.dirtify()},c=function(v){r.syncTasks.set(v.target,v.detail.affectChildren),a.dirtify()},f=function(v){var g=v.target;Ne.enableSizeAttenuation&&Ne.styleValueRegistry.updateSizeAttenuation(g,l.getCamera().getZoom())},d=function(v){var g=v.target,m=g.rBushNode;m.aabb&&r.rBush.remove(m.aabb),r.syncTasks.delete(g),Ne.sceneGraphService.dirtifyToRoot(g),a.dirtify()};a.hooks.init.tap(e.tag,function(){l.addEventListener(Nn.MOUNTED,f),l.addEventListener(Nn.UNMOUNTED,d),l.addEventListener(Nn.ATTR_MODIFIED,u),l.addEventListener(Nn.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(e.tag,function(){l.removeEventListener(Nn.MOUNTED,f),l.removeEventListener(Nn.UNMOUNTED,d),l.removeEventListener(Nn.ATTR_MODIFIED,u),l.removeEventListener(Nn.BOUNDS_CHANGED,c),r.syncTasks.clear()});var h=(i=Ne.globalThis.requestIdleCallback)!==null&&i!==void 0?i:f6.bind(Ne.globalThis);a.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,h(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):r.syncRTree()})}},{key:"syncNode",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.isConnected){var i=t.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=t.getRenderBounds();if(a){var o=t.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new $i),o.dirtyRenderBounds.update(a.center,a.halfExtents));var s=a.getMin(),l=ze(s,2),u=l[0],c=l[1],f=a.getMax(),d=ze(f,2),h=d[0],p=d[1];i.aabb||(i.aabb={}),i.aabb.displayObject=t,i.aabb.minX=u,i.aabb.minY=c,i.aabb.maxX=h,i.aabb.maxY=p}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,o=function(l){if(!a.has(l)&&l.renderable){var u=t.syncNode(l,r);u&&(i.push(u),a.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var u=l;u;)o(u),u=u.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();tpe.tag="Prepare";var Zk=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({});new _r(Nn.MOUNTED);new _r(Nn.UNMOUNTED);new _r(Zk.BEFORE_RENDER);new _r(Zk.RERENDER);new _r(Zk.AFTER_RENDER);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.35
 * @date 1/23/2025, 8:32:08 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var npe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.landmarks=[],t}return We(n,e),le(n,[{key:"rotate",value:function(r,i,a){if(this.relElevation=Xc(i),this.relAzimuth=Xc(r),this.relRoll=Xc(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===fn.EXPLORING){var o=Ei(Ct(),[1,0,0],hn((this.rotateWorld?1:-1)*this.relElevation)),s=Ei(Ct(),[0,1,0],hn((this.rotateWorld?1:-1)*this.relAzimuth)),l=Ei(Ct(),[0,0,1],hn(this.relRoll)),u=Ti(Ct(),s,o);u=Ti(Ct(),u,l);var c=Tp(ut(),u);ao(this.matrix,this.matrix,[0,0,-this.distance]),Gn(this.matrix,this.matrix,c),ao(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=wi(r,i,0),o=$r(this.position);return di(o,o,xl(Ze(),this.right,a[0])),di(o,o,xl(Ze(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=$r(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getDistance():this.type===fn.TRACKING&&di(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.position,c=u===void 0?this.position:u,f=l.focalPoint,d=f===void 0?this.focalPoint:f,h=l.roll,p=l.zoom,v=new Ne.CameraContribution;v.setType(this.type,void 0),v.setPosition(c[0],(i=c[1])!==null&&i!==void 0?i:this.position[1],(a=c[2])!==null&&a!==void 0?a:this.position[2]),v.setFocalPoint(d[0],(o=d[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=d[2])!==null&&s!==void 0?s:this.focalPoint[2]),v.setRoll(h??this.roll),v.setZoom(p??this.zoom);var g={name:r,matrix:ry(v.getWorldTransform()),right:$r(v.right),up:$r(v.up),forward:$r(v.forward),position:$r(v.getPosition()),focalPoint:$r(v.getFocalPoint()),distanceVector:$r(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Wt(r)?this.landmarks.find(function(T){return T.name===r}):r;if(o){var s=jt(a)?{duration:a}:a,l=s.easing,u=l===void 0?"linear":l,c=s.duration,f=c===void 0?100:c,d=s.easingFunction,h=d===void 0?void 0:d,p=s.onfinish,v=p===void 0?void 0:p,g=s.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var b=o.position,x=o.focalPoint,_=o.zoom,w=o.roll,k=h||Ne.EasingFunction(u),O,S=function(){i.setFocalPoint(x),i.setPosition(b),i.setRoll(w),i.setZoom(_),i.computeMatrix(),i.triggerUpdate(),v==null||v()};if(f===0)return S();var E=function(M){O===void 0&&(O=M);var P=M-O;if(P>=f){S();return}var A=k(P/f),N=Ze(),R=Ze(),C=1,L=0;yf(N,i.focalPoint,x,A),yf(R,i.position,b,A),L=i.roll*(1-A)+w*A,C=i.zoom*(1-A)+_*A,i.setFocalPoint(N),i.setPosition(R),i.setRoll(L),i.setZoom(C);var I=yg(N,x)+yg(R,b);if(I<=y&&_===void 0&&w===void 0)return S();i.computeMatrix(),i.triggerUpdate(),P<f&&(m==null||m(A),i.landmarkAnimationID=i.canvas.requestAnimationFrame(E))};this.canvas.requestAnimationFrame(E)}}}])}(W4);Ne.CameraContribution=npe;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.21
 * @date 1/23/2025, 8:33:55 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Pb=function(e){function n(t,r,i,a){var o;return se(this,n),o=Ge(this,n,[t]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return We(n,e),le(n)}(Ny),rpe=0,ipe=function(){function e(n,t){var r;se(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=n,n.animation=this,this.timeline=t,this.id="".concat(rpe++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return le(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var t=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){t.resolveReadyPromise=function(){r(t)},t.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var t=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){t.resolveFinishedPromise=function(){r(t)},t.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){if(t=Number(t),!isNaN(t)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-t/this.playbackRate}this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(t){if(t!==null){if(this.updatePromises(),t=Number(t),isNaN(t)||this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=t,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var t=this.oldPlayState,r=this.pending?"pending":this.playState;return this.readyPromise&&r!==t&&(r==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):t==="pending"?this.resolveReadyPromise():r==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&r!==t&&(r==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):r==="finished"?this.resolveFinishedPromise():t==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=r,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var t=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new Pb(null,this,this.currentTime,null);setTimeout(function(){t.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),t!==null&&(this.currentTime=t),this.updatePromises()}},{key:"updatePlaybackRate",value:function(t){this.playbackRate=t}},{key:"targetAnimations",value:function(){var t,r=(t=this.effect)===null||t===void 0?void 0:t.target;return r.getAnimations()}},{key:"markTarget",value:function(){var t=this.targetAnimations();t.indexOf(this)===-1&&t.push(this)}},{key:"unmarkTarget",value:function(){var t=this.targetAnimations(),r=t.indexOf(this);r!==-1&&t.splice(r,1)}},{key:"tick",value:function(t,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(t))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(dn)}},{key:"addEventListener",value:function(t,r,i){throw new Error(dn)}},{key:"removeEventListener",value:function(t,r,i){throw new Error(dn)}},{key:"dispatchEvent",value:function(t){throw new Error(dn)}},{key:"commitStyles",value:function(){throw new Error(dn)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var t;this._inEffect=!!((t=this.effect)!==null&&t!==void 0&&t.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(t,r){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(t){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new Pb(null,this,this.currentTime,t);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new Pb(null,this,this.currentTime,t);this.onframe(a)}this._finishedFlag=!1}}}])}(),ape=4,ope=.001,spe=1e-7,lpe=10,Dd=11,Vv=1/(Dd-1),upe=typeof Float32Array=="function",w6=function(n,t){return 1-3*t+3*n},_6=function(n,t){return 3*t-6*n},k6=function(n){return 3*n},Vg=function(n,t,r){return((w6(t,r)*n+_6(t,r))*n+k6(t))*n},O6=function(n,t,r){return 3*w6(t,r)*n*n+2*_6(t,r)*n+k6(t)},cpe=function(n,t,r,i,a){var o,s,l=0;do s=t+(r-t)/2,o=Vg(s,i,a)-n,o>0?r=s:t=s;while(Math.abs(o)>spe&&++l<lpe);return s},fpe=function(n,t,r,i){for(var a=0;a<ape;++a){var o=O6(t,r,i);if(o===0)return t;var s=Vg(t,r,i)-n;t-=s/o}return t},Qk=function(n,t,r,i){if(!(n>=0&&n<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===t&&r===i)return function(l){return l};for(var a=upe?new Float32Array(Dd):new Array(Dd),o=0;o<Dd;++o)a[o]=Vg(o*Vv,n,r);var s=function(u){for(var c=0,f=1,d=Dd-1;f!==d&&a[f]<=u;++f)c+=Vv;--f;var h=(u-a[f])/(a[f+1]-a[f]),p=c+h*Vv,v=O6(p,n,r);return v>=ope?fpe(u,p,n,r):v===0?p:cpe(u,c,c+Vv,n,r)};return function(l){return l===0||l===1?l:Vg(s(l),t,i)}},dpe=function(n){return n=n.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())}),n.charAt(0)==="-"?n.substring(1):n},Xv=function(n){return Math.pow(n,2)},qv=function(n){return Math.pow(n,3)},Kv=function(n){return Math.pow(n,4)},Zv=function(n){return Math.pow(n,5)},Qv=function(n){return Math.pow(n,6)},Jv=function(n){return 1-Math.cos(n*Math.PI/2)},e0=function(n){return 1-Math.sqrt(1-n*n)},t0=function(n){return n*n*(3*n-2)},n0=function(n){for(var t,r=4;n<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((t*3-2)/22-n,2)},r0=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ze(t,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,l=Bt(Number(a),1,10),u=Bt(Number(s),.1,2);return n===0||n===1?n:-l*Math.pow(2,10*(n-1))*Math.sin((n-1-u/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/u)},Ed=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=ze(t,4),a=i[0],o=a===void 0?1:a,s=i[1],l=s===void 0?100:s,u=i[2],c=u===void 0?10:u,f=i[3],d=f===void 0?0:f;o=Bt(o,.1,1e3),l=Bt(l,.1,1e3),c=Bt(c,.1,1e3),d=Bt(d,.1,1e3);var h=Math.sqrt(l/o),p=c/(2*Math.sqrt(l*o)),v=p<1?h*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*h+-d)/v:-d+h,y=r?r*n/1e3:n;return p<1?y=Math.exp(-y*p*h)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*h),n===0||n===1?n:1-y},Cb=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t,i=ze(r,2),a=i[0],o=a===void 0?10:a,s=i[1],l=s==="start"?Math.ceil:Math.floor;return l(Bt(n,0,1)*o)/o},SA=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=ze(t,4),i=r[0],a=r[1],o=r[2],s=r[3];return Qk(i,a,o,s)(n)},i0=Qk(.42,0,1,1),ga=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-n(1-t,r,i)}},ma=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t<.5?n(t*2,r,i)/2:1-n(t*-2+2,r,i)/2}},ya=function(n){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return t<.5?(1-n(1-t*2,r,i))/2:(n(t*2-1,r,i)+1)/2}},EA={steps:Cb,"step-start":function(n){return Cb(n,[1,"start"])},"step-end":function(n){return Cb(n,[1,"end"])},linear:function(n){return n},"cubic-bezier":SA,ease:function(n){return SA(n,[.25,.1,.25,1])},in:i0,out:ga(i0),"in-out":ma(i0),"out-in":ya(i0),"in-quad":Xv,"out-quad":ga(Xv),"in-out-quad":ma(Xv),"out-in-quad":ya(Xv),"in-cubic":qv,"out-cubic":ga(qv),"in-out-cubic":ma(qv),"out-in-cubic":ya(qv),"in-quart":Kv,"out-quart":ga(Kv),"in-out-quart":ma(Kv),"out-in-quart":ya(Kv),"in-quint":Zv,"out-quint":ga(Zv),"in-out-quint":ma(Zv),"out-in-quint":ya(Zv),"in-expo":Qv,"out-expo":ga(Qv),"in-out-expo":ma(Qv),"out-in-expo":ya(Qv),"in-sine":Jv,"out-sine":ga(Jv),"in-out-sine":ma(Jv),"out-in-sine":ya(Jv),"in-circ":e0,"out-circ":ga(e0),"in-out-circ":ma(e0),"out-in-circ":ya(e0),"in-back":t0,"out-back":ga(t0),"in-out-back":ma(t0),"out-in-back":ya(t0),"in-bounce":n0,"out-bounce":ga(n0),"in-out-bounce":ma(n0),"out-in-bounce":ya(n0),"in-elastic":r0,"out-elastic":ga(r0),"in-out-elastic":ma(r0),"out-in-elastic":ya(r0),spring:Ed,"spring-in":Ed,"spring-out":ga(Ed),"spring-in-out":ma(Ed),"spring-out-in":ya(Ed)},hpe=function(n){return dpe(n).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},ppe=function(n){return EA[hpe(n)]||EA.linear},vpe=function(n){return n},gpe=1,mpe=.5,TA=0;function MA(e,n){return function(t){if(t>=1)return 1;var r=1/e;return t+=n*r,t-t%r}}var a0="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",ype=new RegExp("cubic-bezier\\(".concat(a0,",").concat(a0,",").concat(a0,",").concat(a0,"\\)")),bpe=/steps\(\s*(\d+)\s*\)/,xpe=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Jk(e){var n=ype.exec(e);if(n)return Qk.apply(void 0,Ke(n.slice(1).map(Number)));var t=bpe.exec(e);if(t)return MA(Number(t[1]),TA);var r=xpe.exec(e);return r?MA(Number(r[1]),{start:gpe,middle:mpe,end:TA}[r[2]]):ppe(e)}function wpe(e){return Math.abs(_pe(e)/(e.playbackRate||1))}function _pe(e){var n;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((n=e.iterations)!==null&&n!==void 0?n:1)}var S6=0,eO=1,$y=2,E6=3;function kpe(e,n,t){if(n===null)return S6;var r=t.endTime;return n<Math.min(t.delay,r)?eO:n>=Math.min(t.delay+e+t.endDelay,r)?$y:E6}function Ope(e,n,t,r,i){switch(r){case eO:return n==="backwards"||n==="both"?0:null;case E6:return t-i;case $y:return n==="forwards"||n==="both"?e:null;case S6:return null}}function Spe(e,n,t,r,i){var a=i;return e===0?n!==eO&&(a+=t):a+=r/e,a}function Epe(e,n,t,r,i,a){var o=e===1/0?n%1:e%1;return o===0&&t===$y&&r!==0&&(i!==0||a===0)&&(o=1),o}function Tpe(e,n,t,r){return e===$y&&n===1/0?1/0:t===1?Math.floor(r)-1:Math.floor(r)}function Mpe(e,n,t){var r=e;if(e!=="normal"&&e!=="reverse"){var i=n;e==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?t:1-t}function Ape(e,n,t){var r=kpe(e,n,t),i=Ope(e,t.fill,n,r,t.delay);if(i===null)return null;var a=t.duration==="auto"?0:t.duration,o=Spe(a,r,t.iterations,i,t.iterationStart),s=Epe(o,t.iterationStart,r,t.iterations,i,a),l=Tpe(r,t.iterations,s,o),u=Mpe(t.direction,l,s);return t.currentIteration=l,t.progress=u,t.easingFunction(u)}function Ppe(e,n,t){var r=Cpe(e,n),i=Rpe(r,t);return function(a,o){if(o!==null)i.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var u=o-l.startOffset,c=l.endOffset-l.startOffset,f=c===0?0:u/c;a.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)T6(s)&&a.setAttribute(s,null)}}function T6(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function Cpe(e,n){for(var t={},r=0;r<e.length;r++)for(var i in e[r])if(T6(i)){var a={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:Jk(e[r].easing)||n.easingFunction,value:e[r][i]};t[i]=t[i]||[],t[i].push(a)}return t}function Rpe(e,n){var t=[];for(var r in e)for(var i=e[r],a=0;a<i.length-1;a++){var o=a,s=a+1,l=i[o].computedOffset,u=i[s].computedOffset,c=l,f=u;a===0&&(c=-1/0,u===0&&(s=o)),a===i.length-2&&(f=1/0,l===1&&(o=s)),t.push({applyFrom:c,applyTo:f,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:Npe(r,i[o].value,i[s].value,n)})}return t.sort(function(d,h){return d.startOffset-h.startOffset}),t}var AA=function(n,t,r){return function(i){var a=M6(n,t,i);return jt(a)?a:r(a)}};function Npe(e,n,t,r){var i=s6[e];if(i&&i.syntax&&i.int){var a=Ne.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(n,r):n,l=o?o(t,r):t,u=a.mixer(s,l,r);if(u){var c=AA.apply(void 0,Ke(u));return function(f){return f===0?n:f===1?t:c(f)}}}}return AA(!1,!0,function(f){return f?t:n})}function M6(e,n,t){if(typeof e=="number"&&typeof n=="number")return e*(1-t)+n*t;if(typeof e=="boolean"&&typeof n=="boolean"||typeof e=="string"&&typeof n=="string")return t<.5?e:n;if(Array.isArray(e)&&Array.isArray(n)){for(var r=e.length,i=n.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(M6(e[s<r?s:r-1],n[s<i?s:i-1],t));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(n))}var Lpe=function(){function e(){se(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=vpe,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return le(e,[{key:"easing",get:function(){return this._easing},set:function(t){this.easingFunction=Jk(t),this._easing=t}}])}();function $pe(e){var n=[];for(var t in e)if(!(t in["easing","offset","composite"])){var r=e[t];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!n[a]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),n[a]=o}r[a]!==void 0&&r[a]!==null&&(n[a][t]=r[a])}}return n.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),n}function PA(e,n){if(e===null)return[];Array.isArray(e)||(e=$pe(e));for(var t=e.map(function(l){var u={};n!=null&&n.composite&&(u.composite="auto");for(var c in l){var f=l[c];if(c==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=f}}else if(c==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));u[c]=f}return u.offset===void 0&&(u.offset=null),u.easing===void 0&&(u.easing=(n==null?void 0:n.easing)||"linear"),u.composite===void 0&&(u.composite="auto"),u}),r=!0,i=-1/0,a=0;a<t.length;a++){var o=t[a].offset;if(je(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}t=t.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,u=t,c=u.length;if(t[c-1].computedOffset=Number((l=t[c-1].offset)!==null&&l!==void 0?l:1),c>1){var f;t[0].computedOffset=Number((f=t[0].offset)!==null&&f!==void 0?f:0)}for(var d=0,h=Number(t[0].computedOffset),p=1;p<c;p++){var v=t[p].computedOffset;if(!je(v)&&!je(h)){for(var g=1;g<p-d;g++)t[d+g].computedOffset=h+(Number(v)-h)*g/(p-d);d=p,h=Number(v)}}}return r||s(),t}var Ipe="backwards|forwards|both|none".split("|"),Dpe="reverse|alternate|alternate-reverse".split("|");function Fpe(e,n){var t=new Lpe;return typeof e=="number"&&!isNaN(e)?t.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof t[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&Ipe.indexOf(e[r])===-1||r==="direction"&&Dpe.indexOf(e[r])===-1)return;t[r]=e[r]}}),t}function Bpe(e,n){return e=jpe(e??{duration:"auto"}),Fpe(e)}function jpe(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var zpe=function(){function e(n,t,r){var i=this;se(this,e),this.composite="replace",this.iterationComposite="replace",this.target=n,this.timing=Bpe(r),this.timing.effect=this,this.timing.activeDuration=wpe(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=PA(t,this.timing),this.interpolations=Ppe(this.normalizedKeyframes,this.timing,this.target);var a=Ne.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return le(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(t){return t===null?!1:(this.timeFraction=Ape(this.timing.activeDuration,t,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(t){this.normalizedKeyframes=PA(t)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(t){var r=this;Object.keys(t||{}).forEach(function(i){r.timing[i]=t[i]})}}])}();function CA(e,n){return Number(e.id)-Number(n.id)}var Ype=function(){function e(n){var t=this;se(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){t.currentTime=r,t.discardAnimations(),t.animations.length===0?t.timelineTicking=!1:t.requestAnimationFrame(t.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=t.rafCallbacks;t.rafCallbacks=[],r<Number(t.currentTime)&&(r=Number(t.currentTime)),t.animations.sort(CA),t.animations=t.tick(r,!0,t.animations)[0],i.forEach(function(a){a[1](r)}),t.applyPendingEffects()},this.document=n}return le(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(t,r,i){var a=new zpe(t,r,i),o=new ipe(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(t){var r=this;if(!this.inTick){t.markTarget();var i=t.targetAnimations();i.sort(CA);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(t){t==null||t.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(t){return t.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(t){return t.playState!=="finished"&&t.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(t){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,t]),r}},{key:"requestAnimationFrame",value:function(t){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),t(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(t,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var l=[],u=[],c=[],f=[];return i.forEach(function(d){d.tick(t,r),d._inEffect?(u.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(a.ticking=!0);var h=d._inEffect||d._needsTick;d._inTimeline=h,h?c.push(d):f.push(d)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,u),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[c,f]}}])}();Ne.EasingFunction=Jk;Ne.AnimationTimeline=Ype;function A6(e,n){n(e),e.children&&e.children.forEach(function(t){t&&A6(t,n)})}function Wp(e){Iy(e,!0)}function $l(e){Iy(e,!1)}function Iy(e,n){var t=n?"visible":"hidden";A6(e,function(r){r.attr("visibility",t)})}var Gpe=function(e){Bn(n,e);function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,Ve([],Z(t),!1))||this;return i.isMutationObserved=!0,i.addEventListener(Nn.INSERTED,function(){$l(i)}),i}return n}(fo);function P6(e){var n=e.appendChild(new Gpe({class:"offscreen"}));return $l(n),n}function Wpe(e){for(var n=e;n;){if(n.className==="offscreen")return!0;n=n.parent}return!1}var tO=function(e){Bn(n,e);function n(t){t===void 0&&(t={});var r=t.style,i=Sr(t,["style"]);return e.call(this,Se({style:Se({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(n.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=P6(this)),this._offscreen},enumerable:!1,configurable:!0}),n.prototype.disconnectedCallback=function(){var t;(t=this._offscreen)===null||t===void 0||t.destroy()},n}(x6);function Lf(e){return e*Math.PI/180}function C6(e){return Number((e*180/Math.PI).toPrecision(5))}var Ln=function(){function e(n,t,r,i){n===void 0&&(n=0),t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=n,this.y=t,this.width=r,this.height=i}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(n){return new e(n.x,n.y,n.width,n.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(n,t){return n>=this.left&&n<=this.right&&t>=this.top&&t<=this.bottom},e}();function la(e,n){return tr(e)?e.apply(void 0,Ve([],Z(n),!1)):e}var za=function(e,n){var t=function(i){return"".concat(n,"-").concat(i)},r=Object.fromEntries(Object.entries(e).map(function(i){var a=Z(i,2),o=a[0],s=a[1],l=t(s);return[o,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:t}),r},Hpe=5,R6=function(e,n,t,r){t===void 0&&(t=0),r===void 0&&(r=Hpe),Object.entries(n).forEach(function(i){var a=Z(i,2),o=a[0],s=a[1],l=e;Object.prototype.hasOwnProperty.call(n,o)&&(s?Ls(s)?(Ls(e[o])||(l[o]={}),t<r?R6(e[o],s,t+1,r):l[o]=n[o]):zr(s)?(l[o]=[],l[o]=l[o].concat(s)):l[o]=s:l[o]=s)})},ho=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0;r<n.length;r+=1)R6(e,n[r]);return e},Upe=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},o0,Vpe=Xee(function(e,n){var t=n.fontSize,r=n.fontFamily,i=n.fontWeight,a=n.fontStyle,o=n.fontVariant;return o0||(o0=Ne.offscreenCanvasCreator.getOrCreateContext(void 0)),o0.font=[a,o,i,"".concat(t,"px"),r].join(" "),o0.measureText(e).width},function(e,n){return[e,Object.values(n||N6(e)).join()].join("")},4096),N6=function(e){var n=e.style.fontFamily||"sans-serif",t=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",i=e.style.fontVariant,a=e.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:n,fontWeight:t,fontStyle:r,fontVariant:i}};function L6(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function $6(e,n){var t=L6(e);t&&t.attr(n)}function Bw(e,n,t){t===void 0&&(t="..."),$6(e,{wordWrap:!0,wordWrapWidth:n,maxLines:1,textOverflow:t})}function Xpe(e,n,t,r){t===void 0&&(t=2),r===void 0&&(r="top"),$6(e,{wordWrap:!0,wordWrapWidth:n,maxLines:t,textBaseline:r})}function Xg(e){var n=e.canvas,t=e.touches,r=e.offsetX,i=e.offsetY;if(n){var a=n.x,o=n.y;return[a,o]}if(t){var s=t[0],l=s.clientX,u=s.clientY;return[l,u]}return r&&i?[r,i]:[0,0]}function zu(e){return typeof e=="function"?e():Wt(e)||jt(e)?new tO({style:{text:String(e)}}):e}function qpe(e,n){return e.reduce(function(t,r){return(t[r[n]]=t[r[n]]||[]).push(r),t},{})}function Gi(e,n,t,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),e?t(n):(r&&i(n),null)}function Hr(e,n,t,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&e===n||i&&e===t?!0:e>n&&e<t}var Kpe=function(e,n){return function(t){return e*(1-t)+n*t}};function Zpe(e,n){var t=n?n.length:0,r=e?Math.min(t,e.length):0;return function(i){var a=new Array(r),o=new Array(t),s=0;for(s=0;s<r;++s)a[s]=nO(e[s],n[s]);for(;s<t;++s)o[s]=n[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function Qpe(e,n){e===void 0&&(e={}),n===void 0&&(n={});var t={},r={};return Object.entries(n).forEach(function(i){var a=Z(i,2),o=a[0],s=a[1];o in e?t[o]=nO(e[o],s):r[o]=s}),function(i){return Object.entries(t).forEach(function(a){var o=Z(a,2),s=o[0],l=o[1];return r[s]=l(i)}),r}}function nO(e,n){return typeof e=="number"&&typeof n=="number"?Kpe(e,n):Array.isArray(e)&&Array.isArray(n)?Zpe(e,n):typeof e=="object"&&typeof n=="object"?Qpe(e,n):function(t){return e}}function Jpe(e,n,t,r){if(!r)return e.attr("__keyframe_data__",t),null;var i=r.duration,a=i===void 0?0:i,o=nO(n,t),s=Math.ceil(+a/16),l=new Array(s).fill(0).map(function(u,c,f){return{__keyframe_data__:o(c/(f.length-1))}});return e.animate(l,Se({fill:"both"},r))}function RA(e){for(var n=1/0,t=1/0,r=-1/0,i=-1/0,a=0;a<e.length;a++){var o=e[a],s=o.x,l=o.y,u=o.width,c=o.height,f=Z([s+u,l+c],2),d=f[0],h=f[1];s<n&&(n=s),l<t&&(t=l),d>r&&(r=d),h>i&&(i=h)}return new Ln(n,t,r-n,i-t)}var eve=function(e,n,t){var r=e.width,i=e.height,a=t.flexDirection,o=a===void 0?"row":a;t.flexWrap;var s=t.justifyContent,l=s===void 0?"flex-start":s;t.alignContent;var u=t.alignItems,c=u===void 0?"flex-start":u,f=o==="row",d=o==="row"||o==="column",h=f?d?[1,0]:[-1,0]:d?[0,1]:[0,-1],p=Z([0,0],2),v=p[0],g=p[1],m=n.map(function(O){var S,E=O.width,T=O.height,M=Z([v,g],2),P=M[0],A=M[1];return S=Z([v+E*h[0],g+T*h[1]],2),v=S[0],g=S[1],new Ln(P,A,E,T)}),y=RA(m),b={"flex-start":0,"flex-end":f?r-y.width:i-y.height,center:f?(r-y.width)/2:(i-y.height)/2},x=m.map(function(O){var S=O.x,E=O.y,T=Ln.fromRect(O);return T.x=f?S+b[l]:S,T.y=f?E:E+b[l],T});RA(x);var _=function(O){var S=Z(f?["height",i]:["width",r],2),E=S[0],T=S[1];switch(c){case"flex-start":return 0;case"flex-end":return T-O[E];case"center":return T/2-O[E]/2;default:return 0}},w=x.map(function(O){var S=O.x,E=O.y,T=Ln.fromRect(O);return T.x=f?S:S+_(T),T.y=f?E+_(T):E,T}),k=w.map(function(O){var S,E,T=Ln.fromRect(O);return T.x+=(S=e.x)!==null&&S!==void 0?S:0,T.y+=(E=e.y)!==null&&E!==void 0?E:0,T});return k},tve=function(e,n,t){return[]};const nve=function(e,n,t){if(n.length===0)return[];var r={flex:eve,grid:tve},i=t.display in r?r[t.display]:null;return(i==null?void 0:i.call(null,e,n,t))||[]};function _s(e,n){return[e[0]*n,e[1]*n]}function Fd(e,n){return[e[0]+n[0],e[1]+n[1]]}function Rb(e,n){return[e[0]-n[0],e[1]-n[1]]}function tu(e,n){return[Math.min(e[0],n[0]),Math.min(e[1],n[1])]}function nu(e,n){return[Math.max(e[0],n[0]),Math.max(e[1],n[1])]}function Qh(e,n){return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function I6(e){if(e[0]===0&&e[1]===0)return[0,0];var n=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/n,e[1]/n]}function rve(e,n){return n?[e[1],-e[0]]:[-e[1],e[0]]}function jw(e,n){return+e.toPrecision(n)}function NA(e,n){var t={},r=Array.isArray(n)?n:[n];for(var i in e)r.includes(i)||(t[i]=e[i]);return t}function ive(e,n,t,r){var i,a=[],o=!!r,s,l,u=[1/0,1/0],c=[-1/0,-1/0],f,d,h;if(o){i=Z(r,2),u=i[0],c=i[1];for(var p=0,v=e.length;p<v;p+=1){var g=e[p];u=tu(u,g),c=nu(c,g)}}for(var p=0,m=e.length;p<m;p+=1){var g=e[p];if(p===0)h=g;else if(p===m-1)d=g,a.push(h),a.push(d);else{var y=[p?p-1:m-1,p-1][1];s=e[y],l=e[p+1];var b=[0,0];b=Rb(l,s),b=_s(b,n);var x=Qh(g,s),_=Qh(g,l),w=x+_;w!==0&&(x/=w,_/=w);var k=_s(b,-x),O=_s(b,_);d=Fd(g,k),f=Fd(g,O),f=tu(f,nu(l,g)),f=nu(f,tu(l,g)),k=Rb(f,g),k=_s(k,-x/_),d=Fd(g,k),d=tu(d,nu(s,g)),d=nu(d,tu(s,g)),O=Rb(g,d),O=_s(O,_/x),f=Fd(g,O),o&&(d=nu(d,u),d=tu(d,c),f=nu(f,u),f=tu(f,c)),a.push(h),a.push(d),h=f}}return a}function ave(e,n,t){t===void 0&&(t=[[0,0],[1,1]]);for(var r=!1,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=ive(i,.4,r,t),l=i.length,u=[],c,f,d,a=0;a<l-1;a+=1)c=s[a*2],f=s[a*2+1],d=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]]);return u}var ove=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function sve(e){return ove.includes(e)}function LA(e){var n={};for(var t in e)sve(t)&&(n[t]=e[t]);return n}function lve(e,n){if(e.length<=n)return e;for(var t=Math.floor(e.length/n),r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function rO(e,n,t){var r=e.getBBox(),i=r.width,a=r.height,o=n/Math.max(i,a);return e.style.transform="scale(".concat(o,")"),o}function uve(e,n){var t=new Map;return e.forEach(function(r){var i=n(r);t.has(i)||t.set(i,[]),t.get(i).push(r)}),t}function cve(e){throw new Error(e)}var fve=function(){function e(i,a,o,s,l,u,c){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),l===void 0&&(l=[null,null,null,null,null]),u===void 0&&(u=[]),c===void 0&&(c=[]),n.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=u,this._facetElements=c}e.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new t(a,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new t(this._elements,null,this._parent,this._document,void 0,void 0,a)},e.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new t([a],null,a,this._document)},e.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var u=this._data[l],c=Z(Array.isArray(u)?u:[u,null],2),f=c[0],d=c[1],h=o(f,l);h.__data__=f,d!==null&&(h.__fromElements__=d),this._parent.appendChild(h),s.push(h)}return new t(s,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var p=this._elements[l],f=p.__data__,h=o(f,l);p.appendChild(h),s.push(h)}return new t(s,null,s[0],this._document)},e.prototype.maybeAppend=function(i,a){var o=W1(this,n,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},e.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=W1(this,n,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},e.prototype.maybeAppendByName=function(i,a){var o=W1(this,n,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},e.prototype.data=function(i,a,o){var s,l;a===void 0&&(a=function(E){return E}),o===void 0&&(o=function(){return null});for(var u=[],c=[],f=new Set(this._elements),d=[],h=new Set,p=new Map(this._elements.map(function(E,T){return[a(E.__data__,T),E]})),v=new Map(this._facetElements.map(function(E,T){return[a(E.__data__,T),E]})),g=uve(this._elements,function(E){return o(E.__data__)}),m=0;m<i.length;m++){var y=i[m],b=a(y,m),x=o(y,m);if(p.has(b)){var _=p.get(b);_.__data__=y,_.__facet__=!1,c.push(_),f.delete(_),p.delete(b)}else if(v.has(b)){var _=v.get(b);_.__data__=y,_.__facet__=!0,c.push(_),v.delete(b)}else if(g.has(b)){var w=g.get(b);d.push([y,w]);try{for(var k=(s=void 0,Ap(w)),O=k.next();!O.done;O=k.next()){var _=O.value;f.delete(_)}}catch(E){s={error:E}}finally{try{O&&!O.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}g.delete(b)}else if(p.has(x)){var _=p.get(x);_.__toData__?_.__toData__.push(y):_.__toData__=[y],h.add(_),f.delete(_)}else u.push(y)}var S=[new t([],u,this._parent,this._document),new t(c,null,this._parent,this._document),new t(f,null,this._parent,this._document),new t([],d,this._parent,this._document),new t(h,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,S)},e.prototype.merge=function(i){var a=Ve(Ve([],Z(this._elements),!1),Z(i._elements),!1),o=Ve(Ve([],Z(this._transitions),!1),Z(i._transitions),!1);return new t(a,null,this._parent,this._document,void 0,o)},e.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=t.registry[i];return a?new a:cve("Unknown node type: ".concat(i))},e.prototype.join=function(i,a,o,s,l){i===void 0&&(i=function(p){return p}),a===void 0&&(a=function(p){return p}),o===void 0&&(o=function(p){return p.remove()}),s===void 0&&(s=function(p){return p}),l===void 0&&(l=function(p){return p.remove()});var u=i(this._enter),c=a(this._update),f=o(this._exit),d=s(this._merge),h=l(this._split);return c.merge(u).merge(f).merge(d).merge(h)},e.prototype.remove=function(){for(var i=function(s){var l=a._elements[s],u=a._transitions[s];u?u.then(function(){return l.remove()}):l.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new t([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},e.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,l){a!==void 0&&(this[i]=o.call(this,s,l))})},e.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(l,u){a!==void 0&&(this.style[i]=s.call(this,l,u))})},e.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var l=this;Object.entries(i).forEach(function(u){var c=Z(u,2),f=c[0],d=c[1],h=typeof d!="function"||!a?function(){return d}:d;d!==void 0&&l.attr(f,h.call(l,o,s))})})},e.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},e.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},e.prototype.transition=function(i){this._transitions;var a=new Array(this._elements.length);return this.each(function(o,s){a[s]=i.call(this,o,s)}),this._transitions=Fee(a),this},e.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},e.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,Ve([this._parent,this],Z(a),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},e.prototype.parent=function(){return this._parent};var n,t,r;return t=e,n=new WeakSet,r=function(a,o){var s=this._elements[0],l=s.querySelector(a);if(l)return new t([l],null,this._parent,this._document);var u=typeof o=="string"?this.createElement(o):o();return s.appendChild(u),new t([u],null,this._parent,this._document)},e.registry={g:fo,rect:b6,circle:qk,path:Kk,text:tO,ellipse:p6,image:g6,line:m6,polygon:Ly,polyline:y6,html:v6},e}();function gt(e){return new fve([e],null,e,e.ownerDocument)}function dve(e,n,t){return e.querySelector(n)?gt(e).select(n):gt(e).append(t)}function Jr(e){if(jt(e))return[e,e,e,e];if(zr(e)){var n=e.length;if(n===1)return[e[0],e[0],e[0],e[0]];if(n===2)return[e[0],e[1],e[0],e[1]];if(n===3)return[e[0],e[1],e[2],e[1]];if(n===4)return e}return[0,0,0,0]}function $A(e){var n=e.getLocalBounds(),t=n.min,r=n.max,i=Z([t,r],2),a=Z(i[0],2),o=a[0],s=a[1],l=Z(i[1],2),u=l[0],c=l[1];return{x:o,y:s,width:u-o,height:c-s,left:o,bottom:c,top:s,right:u}}function hve(e,n){var t=Z(e,2),r=t[0],i=t[1],a=Z(n,2),o=a[0],s=a[1];return r!==o&&i===s}function pve(e,n){var t,r,i=n.attributes;try{for(var a=Ap(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=Z(o.value,2),l=s[0],u=s[1];l!=="id"&&l!=="className"&&e.attr(l,u)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}function iO(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function vve(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function gve(e,n){return"".concat(n).concat(iO(e))}function IA(e,n,t){var r;t===void 0&&(t=!0);var i=n||((r=e.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=e.replace(new RegExp("^(".concat(i,")")),"");return t?vve(a):a}function mve(e,n){Object.entries(n).forEach(function(t){var r=Z(t,2),i=r[0],a=r[1];Ve([e],Z(e.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(l,u){return"".concat(l).concat(u.join(":"),";")},"")}})})}var s0=function(e,n){if(!(e!=null&&e.startsWith(n)))return!1;var t=e[n.length];return t>="A"&&t<="Z"};function St(e,n,t){t===void 0&&(t=!1);var r={};return Object.entries(e).forEach(function(i){var a=Z(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(s0(o,"show")&&s0(IA(o,"show"),n)!==t)o===gve(n,"show")?r[o]=s:r[o.replace(new RegExp(iO(n)),"")]=s;else if(!s0(o,"show")&&s0(o,n)!==t){var l=IA(o,n);l==="filter"&&typeof s=="function"||(r[l]=s)}}}),r}function Fo(e,n){return Object.entries(e).reduce(function(t,r){var i=Z(r,2),a=i[0],o=i[1];return a.startsWith("show")?t["show".concat(n).concat(a.slice(4))]=o:t["".concat(n).concat(iO(a))]=o,t},{})}function Fs(e,n){n===void 0&&(n=["x","y","class","className"]);var t=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(e).forEach(function(a){var o=Z(a,2),s=o[0],l=o[1];n.includes(s)||(t.indexOf(s)!==-1?i[s]=l:r[s]=l)}),[r,i]}function yve(e,n,t){var r=e.getBBox(),i=r.width,a=r.height,o=Z([n,t].map(function(u,c){var f;return u.includes("%")?parseFloat(((f=u.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(c===0?i:a):u}),2),s=o[0],l=o[1];return[s,l]}function D6(e,n){if(n)try{var t=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=n.replace(t,function(i,a,o){return"translate(".concat(yve(e,a,o),")")});e.attr("transform",r)}catch{}}function bve(e){var n;return((n=e[0])===null||n===void 0?void 0:n.map(function(t,r){return e.map(function(i){return i[r]})}))||[]}var DA=function(e,n){if(n==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(n)?e.replaceChildren.apply(e,Ve([],Z(n),!1)):e.replaceChildren(n):(e.innerHTML="",Array.isArray(n)?n.forEach(function(t){return e.appendChild(t)}):e.appendChild(n))};function xve(){Iy(this,this.attributes.visibility!=="hidden")}var Rr=function(e){Bn(n,e);function n(t,r){r===void 0&&(r={});var i=e.call(this,ho({},{style:r},t))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(n.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=P6(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),n.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},n.prototype.disconnectedCallback=function(){var t;(t=this._offscreen)===null||t===void 0||t.destroy()},n.prototype.attributeChangedCallback=function(t){t==="visibility"&&xve.call(this)},n.prototype.update=function(t,r){var i;return this.attr(ho({},this.attributes,t||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},n.prototype.clear=function(){this.removeChildren()},n.prototype.bindEvents=function(t,r){},n.prototype.getSubShapeStyle=function(t){t.x,t.y,t.transform,t.transformOrigin,t.class,t.className,t.zIndex;var r=Sr(t,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},n}(h6),F6=function(e,n,t){return[["M",e-t,n],["A",t,t,0,1,0,e+t,n],["A",t,t,0,1,0,e-t,n],["Z"]]},wve=F6,_ve=function(e,n,t){return[["M",e-t,n-t],["L",e+t,n-t],["L",e+t,n+t],["L",e-t,n+t],["Z"]]},kve=function(e,n,t){return[["M",e-t,n],["L",e,n-t],["L",e+t,n],["L",e,n+t],["Z"]]},Ove=function(e,n,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,n+r],["L",e,n-r],["L",e+t,n+r],["Z"]]},Sve=function(e,n,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,n-r],["L",e+t,n-r],["L",e,n+r],["Z"]]},Eve=function(e,n,t){var r=t/2*Math.sqrt(3);return[["M",e,n-t],["L",e+r,n-t/2],["L",e+r,n+t/2],["L",e,n+t],["L",e-r,n+t/2],["L",e-r,n-t/2],["Z"]]},Tve=function(e,n,t){var r=t-1.5;return[["M",e-t,n-r],["L",e+t,n+r],["L",e+t,n-r],["L",e-t,n+r],["Z"]]},B6=function(e,n,t){return[["M",e,n+t],["L",e,n-t]]},Mve=function(e,n,t){return[["M",e-t,n-t],["L",e+t,n+t],["M",e+t,n-t],["L",e-t,n+t]]},Ave=function(e,n,t){return[["M",e-t/2,n-t],["L",e+t/2,n-t],["M",e,n-t],["L",e,n+t],["M",e-t/2,n+t],["L",e+t/2,n+t]]},Pve=function(e,n,t){return[["M",e-t,n],["L",e+t,n],["M",e,n-t],["L",e,n+t]]},Cve=function(e,n,t){return[["M",e-t,n],["L",e+t,n]]},j6=function(e,n,t){return[["M",e-t,n],["L",e+t,n]]},Rve=j6,Nve=function(e,n,t){return[["M",e-t,n],["A",t/2,t/2,0,1,1,e,n],["A",t/2,t/2,0,1,0,e+t,n]]},Lve=function(e,n,t){return[["M",e-t-1,n-2.5],["L",e,n-2.5],["L",e,n+2.5],["L",e+t+1,n+2.5]]},$ve=function(e,n,t){return[["M",e-t-1,n+2.5],["L",e,n+2.5],["L",e,n-2.5],["L",e+t+1,n-2.5]]},Ive=function(e,n,t){return[["M",e-(t+1),n+2.5],["L",e-t/2,n+2.5],["L",e-t/2,n-2.5],["L",e+t/2,n-2.5],["L",e+t/2,n+2.5],["L",e+t+1,n+2.5]]};function Dve(e,n){return[["M",e-5,n+2.5],["L",e-5,n],["L",e,n],["L",e,n-3],["L",e,n+3],["L",e+6.5,n+3]]}var Fve=function(e,n,t){return[["M",e-t,n-t],["L",e+t,n],["L",e-t,n+t],["Z"]]};function Bve(e){var n="default";if(Kf(e)&&e instanceof Image)n="image";else if(tr(e))n="symbol";else if(Wt(e)){var t=new RegExp("data:(image|text)");e.match(t)?n="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?n="url":n="symbol"}return n}function jve(e){var n=Bve(e);return["base64","url","image"].includes(n)?"image":e&&n==="symbol"?"path":null}var Ut=function(e){Bn(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.render=function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o,l=this.getSubShapeStyle(t),u=l.symbol,c=l.size,f=c===void 0?16:c,d=Sr(l,["symbol","size"]),h=jve(u);Gi(!!h,gt(r),function(p){p.maybeAppendByClassName("marker",h).attr("className","marker ".concat(h,"-marker")).call(function(v){if(h==="image"){var g=f*2;v.styles({img:u,width:g,height:g,x:a-f,y:s-f})}else{var g=f/2,m=tr(u)?u:n.getSymbol(u);v.styles(Se({d:m==null?void 0:m(a,s,g)},d))}})})},n.MARKER_SYMBOL_MAP=new Map,n.registerSymbol=function(t,r){n.MARKER_SYMBOL_MAP.set(t,r)},n.getSymbol=function(t){return n.MARKER_SYMBOL_MAP.get(t)},n.getSymbols=function(){return Array.from(n.MARKER_SYMBOL_MAP.keys())},n}(Rr);Ut.registerSymbol("cross",Mve);Ut.registerSymbol("hyphen",Cve);Ut.registerSymbol("line",B6);Ut.registerSymbol("plus",Pve);Ut.registerSymbol("tick",Ave);Ut.registerSymbol("circle",F6);Ut.registerSymbol("point",wve);Ut.registerSymbol("bowtie",Tve);Ut.registerSymbol("hexagon",Eve);Ut.registerSymbol("square",_ve);Ut.registerSymbol("diamond",kve);Ut.registerSymbol("triangle",Ove);Ut.registerSymbol("triangle-down",Sve);Ut.registerSymbol("line",B6);Ut.registerSymbol("dot",j6);Ut.registerSymbol("dash",Rve);Ut.registerSymbol("smooth",Nve);Ut.registerSymbol("hv",Lve);Ut.registerSymbol("vh",$ve);Ut.registerSymbol("hvh",Ive);Ut.registerSymbol("vhv",Dve);var zve=function(e){Bn(n,e);function n(t){var r=this,i=t.style,a=Sr(t,["style"]);return r=e.call(this,ye({},{type:"column"},Se({style:i},a)))||this,r.columnsGroup=new fo({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return n.prototype.render=function(){var t=this.attributes,r=t.columns,i=t.x,a=t.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),gt(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},n.prototype.update=function(t){this.attr(ho({},this.attributes,t)),this.render()},n.prototype.clear=function(){this.removeChildren()},n}(Hn),Yve=function(e){Bn(n,e);function n(t){var r=this,i=t.style,a=Sr(t,["style"]);return r=e.call(this,ye({},{type:"lines"},Se({style:i},a)))||this,r.linesGroup=r.appendChild(new fo),r.areasGroup=r.appendChild(new fo),r.render(),r}return n.prototype.render=function(){var t=this.attributes,r=t.lines,i=t.areas,a=t.x,o=t.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},n.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},n.prototype.update=function(t){this.attr(ho({},this.attributes,t)),this.render()},n.prototype.renderLines=function(t){gt(this.linesGroup).selectAll(".line").data(t).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},n.prototype.renderAreas=function(t){gt(this.linesGroup).selectAll(".area").data(t).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},n}(Hn);function Gve(e,n){var t,r=n.x,i=n.y,a=Z(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(t=Z([o,s],2),s=t[0],o=t[1]),e.map(function(l){var u=l.map(function(c,f){return[r.map(f),Bt(i.map(c),s,o)]});return u})}function Jh(e,n){n===void 0&&(n=!1);var t=n?e.length-1:0,r=e.map(function(i,a){return Ve([a===t?"M":"L"],Z(i),!1)});return n?r.reverse():r}function qg(e,n){if(n===void 0&&(n=!1),e.length<=2)return Jh(e);for(var t=[],r=e.length,i=0;i<r;i+=1){var a=n?e[r-i-1]:e[i];gg(a,t.slice(-2))||t.push.apply(t,Ve([],Z(a),!1))}var o=ave(t);return n?o.unshift(Ve(["M"],Z(e[r-1]),!1)):o.unshift(Ve(["M"],Z(e[0]),!1)),o}function aO(e,n,t){var r=Rh(e);return r.push(["L",n,t],["L",0,t],["Z"]),r}function Wve(e,n,t,r){return e.map(function(i){return aO(n?qg(i):Jh(i),t,r)})}function Hve(e,n,t){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],o=Jh(a),s=void 0;if(i===0)s=aO(o,n,t);else{var l=e[i-1],u=Jh(l,!0);u[0][0]="L",s=Ve(Ve(Ve([],Z(o),!1),Z(u),!1),[["Z"]],!1)}r.push(s)}return r}function Uve(e,n,t){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],o=qg(a),s=void 0;if(i===0)s=aO(o,n,t);else{var l=e[i-1],u=qg(l,!0),c=a[0];u[0][0]="L",s=Ve(Ve(Ve([],Z(o),!1),Z(u),!1),[Ve(["M"],Z(c),!1),["Z"]],!1)}r.push(s)}return r}function FA(e){return e.length===0?[0,0]:[mf(Yee(e,function(n){return mf(n)||0})),gf(zee(e,function(n){return gf(n)||0}))]}function BA(e){for(var n=Rh(e),t=n[0].length,r=Z([Array(t).fill(0),Array(t).fill(0)],2),i=r[0],a=r[1],o=0;o<n.length;o+=1)for(var s=n[o],l=0;l<t;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=a[l],a[l]=s[l]);return n}var Vve=function(e){Bn(n,e);function n(t){return e.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(n.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||(t==null?void 0:t.length)===0)return[[]];var r=Rh(t);return jt(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this.attributes.isStack?BA(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"baseline",{get:function(){var t=this.scales.y,r=Z(t.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?t.map(a):t.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerShape",{get:function(){var t=this.attributes,r=t.width,i=t.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linesStyle",{get:function(){var t=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=St(this.attributes,"area"),l=St(this.attributes,"line"),u=this.containerShape.width,c=this.data;if(c[0].length===0)return{lines:[],areas:[]};var f=this.scales,d=f.x,h=f.y,p=Gve(c,{x:d,y:h}),v=[];if(s){var g=this.baseline;a?v=o?Uve(p,u,g):Hve(p,u,g):v=Wve(p,o,u,g)}return{lines:p.map(function(m,y){return Se({stroke:t.getColor(y),d:o?qg(m):Jh(m)},l)}),areas:v.map(function(m,y){return Se({d:m,fill:t.getColor(y)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columnsStyle",{get:function(){var t=this,r=St(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,u=this.rawData;if(!u)return{columns:[]};a&&(u=BA(u));var c=this.createScales(u),f=c.x,d=c.y,h=Z(FA(u),2),p=h[0],v=h[1],g=new wn({domain:[0,v-(p>0?0:p)],range:[0,l*s]}),m=f.getBandWidth(),y=this.rawData;return{columns:u.map(function(b,x){return b.map(function(_,w){var k=m/u.length,O=function(){return{x:f.map(w)+k*x,y:_>=0?d.map(_):d.map(0),width:k,height:g.map(Math.abs(_))}},S=function(){return{x:f.map(w),y:d.map(_),width:m,height:g.map(y[x][w])}};return Se(Se({fill:t.getColor(x)},r),a?S():O())})})}},enumerable:!1,configurable:!0}),n.prototype.render=function(t,r){dve(r,".container","rect").attr("className","container").node();var i=t.type,a=t.x,o=t.y,s="spark".concat(i),l=Se({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);gt(r).selectAll(".spark").data([i]).join(function(u){return u.append(function(c){return c==="line"?new Yve({className:s,style:l}):new zve({className:s,style:l})}).attr("className","spark ".concat(s))},function(u){return u.update(l)},function(u){return u.remove()})},n.prototype.getColor=function(t){var r=this.attributes.color;return zr(r)?r[t%r.length]:tr(r)?r.call(null,t):r},n.prototype.createScales=function(t){var r,i,a=this.attributes,o=a.type,s=a.scale,l=a.range,u=l===void 0?[]:l,c=a.spacing,f=this.containerShape,d=f.width,h=f.height,p=Z(FA(t),2),v=p[0],g=p[1],m=new wn({domain:[(r=u[0])!==null&&r!==void 0?r:v,(i=u[1])!==null&&i!==void 0?i:g],range:[h,h*(1-s)]});return o==="line"?{type:o,x:new wn({domain:[0,t[0].length-1],range:[0,d]}),y:m}:{type:o,x:new kf({domain:t[0].map(function(y,b){return b}),range:[0,d],paddingInner:c,paddingOuter:c/2,align:.5}),y:m}},n.tag="sparkline",n}(Rr);function Xve(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function jA(e){if(!e)return{enter:!1,update:!1,exit:!1};var n=["enter","update","exit"],t=Object.fromEntries(Object.entries(e).filter(function(r){var i=Z(r,1),a=i[0];return!n.includes(a)}));return Object.fromEntries(n.map(function(r){return Xve(e)?e[r]===!1?[r,!1]:[r,Se(Se({},e[r]),t)]:[r,t]}))}function td(e,n){e?e.finished.then(n):n()}function qve(e,n){e.length===0?n():Promise.all(e.map(function(t){return t==null?void 0:t.finished})).then(n)}function z6(e,n){"update"in e?e.update(n):e.attr(n)}function Y6(e,n,t){if(n.length===0)return null;if(!t){var r=n.slice(-1)[0];return z6(e,{style:r}),null}return e.animate(n,t)}function Kve(e,n){return!(e.nodeName!=="text"||n.nodeName!=="text"||e.attributes.text!==n.attributes.text)}function Zve(e,n,t,r){if(r===void 0&&(r="destroy"),Kve(e,n))return e.remove(),[null];var i=function(){r==="destroy"?e.destroy():r==="hide"&&$l(e),n.isVisible()&&Wp(n)};if(!t)return i(),[null];var a=t.duration,o=a===void 0?0:a,s=t.delay,l=s===void 0?0:s,u=Math.ceil(+o/2),c=+o/4,f=Z(e.getGeometryBounds().center,2),d=f[0],h=f[1],p=Z(n.getGeometryBounds().center,2),v=p[0],g=p[1],m=Z([(d+v)/2-d,(h+g)/2-h],2),y=m[0],b=m[1],x=e.style.opacity,_=x===void 0?1:x,w=n.style.opacity,k=w===void 0?1:w,O=e.style.transform||"",S=n.style.transform||"",E=e.animate([{opacity:_,transform:"translate(0, 0) ".concat(O)},{opacity:0,transform:"translate(".concat(y,", ").concat(b,") ").concat(O)}],Se(Se({fill:"both"},t),{duration:l+u+c})),T=n.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-b,") ").concat(S),offset:.01},{opacity:k,transform:"translate(0, 0) ".concat(S)}],Se(Se({fill:"both"},t),{duration:u+c,delay:l+u-c}));return td(T,i),[E,T]}function so(e,n,t){var r={},i={};return Object.entries(n).forEach(function(a){var o=Z(a,2),s=o[0],l=o[1];if(!je(l)){var u=e.style[s]||e.parsedStyle[s]||0;u!==l&&(r[s]=u,i[s]=l)}}),t?Y6(e,[r,i],Se({fill:"both"},t)):(z6(e,i),null)}function Dy(e,n){return e.style.opacity||(e.style.opacity=1),so(e,{opacity:0},n)}var G6={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},W6={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},H6={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},To=za({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),al=za({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Qve=function(e){Bn(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.render=function(t,r){var i=t.x,a=t.y,o=t.size,s=o===void 0?10:o,l=t.radius,u=l===void 0?s/4:l,c=t.orientation,f=Sr(t,["x","y","size","radius","orientation"]),d=s,h=d*2.4,p=gt(r).maybeAppendByClassName(al.iconRect,"rect").styles(Se(Se({},f),{width:d,height:h,radius:u,x:i-d/2,y:a-h/2,transformOrigin:"center"})),v=i+1/3*d-d/2,g=i+2/3*d-d/2,m=a+1/4*h-h/2,y=a+3/4*h-h/2;p.maybeAppendByClassName("".concat(al.iconLine,"-1"),"line").styles(Se({x1:v,x2:v,y1:m,y2:y},f)),p.maybeAppendByClassName("".concat(al.iconLine,"-2"),"line").styles(Se({x1:g,x2:g,y1:m,y2:y},f)),c==="vertical"&&(p.node().style.transform="rotate(90)")},n}(Rr),U6=function(e){Bn(n,e);function n(t){return e.call(this,t,H6)||this}return n.prototype.renderLabel=function(t){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,l=St(this.attributes,"label"),u=l.x,c=u===void 0?0:u,f=l.y,d=f===void 0?0:f,h=l.transform,p=l.transformOrigin,v=Sr(l,["x","y","transform","transformOrigin"]),g=Z(Fs(v,[]),2),m=g[0],y=g[1],b=gt(t).maybeAppendByClassName(al.labelGroup,"g").styles(y),x=Se(Se({},W6),m),_=x.text,w=Sr(x,["text"]);Gi(!!s,b,function(k){r.label=k.maybeAppendByClassName(al.label,"text").styles(Se(Se({},w),{x:a+c,y:o+d,transform:h,transformOrigin:p,text:"".concat(_)})),r.label.on("mousedown",function(O){O.stopPropagation()}),r.label.on("touchstart",function(O){O.stopPropagation()})})},n.prototype.renderIcon=function(t){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,l=Se(Se({x:i,y:a,orientation:o},G6),St(this.attributes,"icon")),u=this.attributes.iconShape,c=u===void 0?function(){return new Qve({style:l})}:u,f=gt(t).maybeAppendByClassName(al.iconGroup,"g");f.selectAll(al.icon.class).data([c]).join(function(d){return d.append(typeof c=="string"?c:function(){return c(s)}).attr("className",al.icon.name)},function(d){return d.update(l)},function(d){return d.remove()})},n.prototype.render=function(t,r){this.renderIcon(r),this.renderLabel(r)},n}(Rr),V6=function(e){Bn(n,e);function n(t){var r=e.call(this,t,Se(Se(Se({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},Fo(H6,"handle")),Fo(G6,"handleIcon")),Fo(W6,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(Xg(a));var o=r.availableSpace,s=o.x,l=o.y,u=r.getBBox(),c=u.x,f=u.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,l])-r.getOrientVal([+c,+f])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,l=a.type;i.stopPropagation();var u=r.getOrientVal(Xg(i)),c=u-r.prevPos;if(c){var f=r.getRatio(c);switch(r.target){case"start":o&&r.setValuesOffset(f);break;case"end":o&&r.setValuesOffset(0,f);break;case"selection":o&&r.setValuesOffset(f,f);break;case"track":if(!s)return;r.selectionWidth+=f,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=u}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,l=s==="range"?i:i[1],u=s==="range"?r.getValues():r.getValues()[1],c=new _r("valuechange",{detail:{oldValue:l,value:u}});r.dispatchEvent(c),o==null||o(u)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(n.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sparklineStyle",{get:function(){var t=this.attributes.orientation;if(t!=="horizontal")return null;var r=St(this.attributes,"sparkline");return Se(Se({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){var t=this.attributes,r=t.trackLength,i=t.trackSize,a=Z(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"availableSpace",{get:function(){var t=this.attributes;t.x,t.y;var r=t.padding,i=Z(Jr(r),4),a=i[0],o=i[1],s=i[2],l=i[3],u=this.shape,c=u.width,f=u.height;return{x:l,y:a,width:c-(l+o),height:f-(a+s)}},enumerable:!1,configurable:!0}),n.prototype.getValues=function(){return this.values},n.prototype.setValues=function(t,r){t===void 0&&(t=[0,0]),r===void 0&&(r=!1),this.attributes.values=t;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},n.prototype.updateSelectionArea=function(t){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(To.selection.class).each(function(i,a){so(this,r[a],t)})},n.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(this.startHandle&&so(this.startHandle,this.getHandleStyle("start"),t),this.endHandle&&so(this.endHandle,this.getHandleStyle("end"),t))},n.prototype.innerSetValues=function(t,r){t===void 0&&(t=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(t);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},n.prototype.renderTrack=function(t){var r=this.attributes,i=r.x,a=r.y,o=St(this.attributes,"track");this.trackShape=gt(t).maybeAppendByClassName(To.track,"rect").styles(Se(Se({x:i,y:a},this.shape),o))},n.prototype.renderBrushArea=function(t){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=gt(t).maybeAppendByClassName(To.brushArea,"rect").styles(Se({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},n.prototype.renderSparkline=function(t){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,l=gt(t).maybeAppendByClassName(To.sparklineGroup,"g");Gi(s==="horizontal",l,function(u){var c=Se(Se({},r.sparklineStyle),{x:a,y:o});u.maybeAppendByClassName(To.sparkline,function(){return new Vve({style:c})}).update(c)})},n.prototype.renderHandles=function(){var t=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],l=a?s:[],u=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(To.handle.class).data(l.map(function(c){return{type:c}}),function(c){return c.type}).join(function(c){return c.append(function(f){var d=f.type;return new U6({style:t.getHandleStyle(d)})}).each(function(f){var d=f.type;this.attr("class","".concat(To.handle.name," ").concat(d,"-handle"));var h="".concat(d,"Handle");u[h]=this,this.addEventListener("pointerdown",u.onDragStart(d))})},function(c){return c.each(function(f){var d=f.type;this.update(u.getHandleStyle(d))})},function(c){return c.each(function(f){var d=f.type,h="".concat(d,"Handle");u[h]=void 0}).remove()})},n.prototype.renderSelection=function(t){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=gt(t).maybeAppendByClassName(To.foreground,"g");var l=St(this.attributes,"selection"),u=function(f){return f.style("visibility",function(d){return d.show?"visible":"hidden"}).style("cursor",function(d){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(Se(Se({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},c=this;this.foregroundGroup.selectAll(To.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(f,d){return{style:Se({},f),index:d,show:s==="select"?d===1:d!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",To.selection.name).call(u).each(function(d,h){var p=this;h===1?(c.selectionShape=gt(this),this.on("pointerdown",function(v){p.attr("cursor","grabbing"),c.onDragStart("selection")(v)}),c.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),c.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),c.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){p.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){p.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){p.attr("cursor","pointer")})):this.on("pointerdown",c.onDragStart("track"))})},function(f){return f.call(u)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},n.prototype.render=function(t,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},n.prototype.clampValues=function(t,r){var i;r===void 0&&(r=4);var a=Z(this.range,2),o=a[0],s=a[1],l=Z(this.getValues().map(function(g){return jw(g,r)}),2),u=l[0],c=l[1],f=Array.isArray(t)?t:[u,t??c],d=Z((f||[u,c]).map(function(g){return jw(g,r)}),2),h=d[0],p=d[1];if(this.attributes.type==="value")return[0,Bt(p,o,s)];h>p&&(i=Z([p,h],2),h=i[0],p=i[1]);var v=p-h;return v>s-o?[o,s]:h<o?u===o&&c===p?[o,p]:[o,v+o]:p>s?c===s&&u===h?[h,s]:[s-v,s]:[h,p]},n.prototype.calcSelectionArea=function(t){var r=Z(this.clampValues(t),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,l=o.y,u=o.width,c=o.height;return this.getOrientVal([[{y:l,height:c,x:s,width:i*u},{y:l,height:c,x:i*u+s,width:(a-i)*u},{y:l,height:c,x:a*u,width:(1-a)*u}],[{x:s,width:u,y:l,height:i*c},{x:s,width:u,y:i*c+l,height:(a-i)*c},{x:s,width:u,y:a*c,height:(1-a)*c}]])},n.prototype.calcHandlePosition=function(t){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,l=i.height,u=Z(this.clampValues(),2),c=u[0],f=u[1],d=t==="start"?-r:r,h=(t==="start"?c:f)*this.getOrientVal([s,l])+d;return{x:a+this.getOrientVal([h,s/2]),y:o+this.getOrientVal([l/2,h])}},n.prototype.inferTextStyle=function(t){var r=this.attributes.orientation;return r==="horizontal"?{}:t==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:t==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},n.prototype.calcHandleText=function(t){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,l=i.autoFitLabel,u=St(this.attributes,"handle"),c=St(u,"label"),f=u.spacing,d=this.getHandleSize(),h=this.clampValues(),p=t==="start"?h[0]:h[1],v=s(p),g=new tO({style:Se(Se(Se({},c),this.inferTextStyle(t)),{text:v})}),m=g.getBBox(),y=m.width,b=m.height;if(g.destroy(),!l){if(a==="value")return{text:v,x:0,y:-b-f};var x=f+d+(o==="horizontal"?y/2:0);return r={text:v},r[o==="horizontal"?"x":"y"]=t==="start"?-x:x,r}var _=0,w=0,k=this.availableSpace,O=k.width,S=k.height,E=this.calcSelectionArea()[1],T=E.x,M=E.y,P=E.width,A=E.height,N=f+d;if(o==="horizontal"){var R=N+y/2;if(t==="start"){var C=T-N-y;_=C>0?-R:R}else{var L=O-T-P-N>y;_=L?R:-R}}else{var I=N,j=b+N;t==="start"?w=M-d>b?-j:I:w=S-(M+A)-d>b?j:-I}return{x:_,y:w,text:v}},n.prototype.getHandleLabelStyle=function(t){var r=St(this.attributes,"handleLabel");return Se(Se(Se({},r),this.calcHandleText(t)),this.inferTextStyle(t))},n.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,r=St(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Se({cursor:i,shape:t,size:a},r)},n.prototype.getHandleStyle=function(t){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,l=r.orientation,u=this.calcHandlePosition(t),c=u.x,f=u.y,d=this.calcHandleText(t),h=o;return!o&&s&&(this.target?h=!0:h=!1),Se(Se(Se({},Fo(this.getHandleIconStyle(),"icon")),Fo(Se(Se({},this.getHandleLabelStyle(t)),d),"label")),{transform:"translate(".concat(c+i,", ").concat(f+a,")"),orientation:l,showLabel:h,type:t,zIndex:3})},n.prototype.getHandleSize=function(){var t=this.attributes,r=t.handleIconSize,i=t.width,a=t.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},n.prototype.getOrientVal=function(t){var r=Z(t,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},n.prototype.setValuesOffset=function(t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=this.attributes.type,o=Z(this.getValues(),2),s=o[0],l=o[1],u=a==="range"?t:0,c=[s+u,l+r].sort();i?this.setValues(c):this.innerSetValues(c,!0)},n.prototype.getRatio=function(t){var r=this.availableSpace,i=r.width,a=r.height;return t/this.getOrientVal([i,a])},n.prototype.dispatchCustomEvent=function(t,r,i){var a=this;t.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new _r(i,{detail:o}))})},n.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var t=this.brushArea;this.dispatchCustomEvent(t,"click","trackClick"),this.dispatchCustomEvent(t,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(t,"pointerleave","trackMouseleave"),t.on("pointerdown",this.onDragStart("track"))},n.prototype.onScroll=function(t){var r=this.attributes.scrollable;if(r){var i=t.deltaX,a=t.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s,!0)}},n.tag="slider",n}(Rr),Jve=function(e){Bn(n,e);function n(t){var r=e.call(this,t,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new _r("scroll",o)),r.dispatchEvent(new _r("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=Z(r.getLocalPosition(),2),s=o[0],l=o[1],u=Z(r.padding,4),c=u[0],f=u[3],d=r.getOrientVal([s+f,l+c]),h=r.getOrientVal(Xg(i)),p=(h-d)/r.trackLength;r.setValue(p,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new _r("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new _r("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new _r("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new _r("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(n.prototype,"padding",{get:function(){var t=this.attributes.padding;return Jr(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){var t=this.attributes.value,r=Z(this.range,2),i=r[0],a=r[1];return Bt(t,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trackLength",{get:function(){var t=this.attributes,r=t.viewportLength,i=t.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"availableSpace",{get:function(){var t=this.attributes.trackSize,r=this.trackLength,i=Z(this.padding,4),a=i[0],o=i[1],s=i[2],l=i[3],u=Z(this.getOrientVal([[r,t],[t,r]]),2),c=u[0],f=u[1];return{x:l,y:a,width:+c-(l+o),height:+f-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trackRadius",{get:function(){var t=this.attributes,r=t.isRound,i=t.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"thumbRadius",{get:function(){var t=this.attributes,r=t.isRound,i=t.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),n.prototype.getValues=function(t){t===void 0&&(t=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=Z(this.range,2),l=s[0],u=s[1],c=t*(u-l-o);return[c,c+o]},n.prototype.getValue=function(){return this.value},n.prototype.renderSlider=function(t){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,l=r.padding,u=r.slidable,c=St(this.attributes,"track"),f=St(this.attributes,"thumb"),d=Se(Se({x:i,y:a,brushable:!1,orientation:o,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:u,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},Fo(c,"track")),Fo(f,"selection"));this.slider=gt(t).maybeAppendByClassName("scrollbar",function(){return new V6({style:d})}).update(d).node()},n.prototype.render=function(t,r){this.renderSlider(r)},n.prototype.setValue=function(t,r){r===void 0&&(r=!1);var i=this.attributes.value,a=Z(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(Bt(t,o,s)),r),this.onValueChange(i)},n.prototype.bindEvents=function(){var t=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),t.onTrackClick(r.detail)}),this.onHover()},n.prototype.getOrientVal=function(t){var r=this.attributes.orientation;return r==="horizontal"?t[0]:t[1]},n.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},n.tag="scrollbar",n}(Rr),oO={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Kk({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};ye({},oO,{style:{type:"arc"}});ye({},oO,{style:{}});var en=za({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),$f=za({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function X6(e){return e.reduce(function(n,t,r){return n.push(Ve([r===0?"M":"L"],Z(t),!1)),n},[])}function e0e(e,n,t){var r=n.connect,i=r===void 0?"line":r,a=n.center;if(i==="line")return X6(e);if(!a)return[];var o=Qh(e[0],a),s=t?0:1;return e.reduce(function(l,u,c){return c===0?l.push(Ve(["M"],Z(u),!1)):l.push(Ve(["A",o,o,0,0,s],Z(u),!1)),l},[])}function zw(e,n,t){return n.type==="surround"?e0e(e,n,t):X6(e)}function t0e(e,n,t){var r=t.type,i=t.connect,a=t.center,o=t.closed,s=o?[["Z"]]:[],l=Z([zw(e,t),zw(n.slice().reverse(),t,!0)],2),u=l[0],c=l[1],f=Z([e[0],n.slice(-1)[0]],2),d=f[0],h=f[1],p=function(y,b){return[u,y,c,b,s].flat()};if(i==="line"||r==="surround")return p([Ve(["L"],Z(h),!1)],[Ve(["L"],Z(d),!1)]);if(!a)throw new Error("Arc grid need to specified center");var v=Z([Qh(h,a),Qh(d,a)],2),g=v[0],m=v[1];return p([Ve(["A",g,g,0,0,1],Z(h),!1),Ve(["L"],Z(h),!1)],[Ve(["A",m,m,0,0,0],Z(d),!1),Ve(["L"],Z(d),!1)])}function n0e(e,n,t,r){var i=t.animate,a=t.isBillboard,o=n.map(function(s,l){return{id:s.id||"grid-line-".concat(l),d:zw(s.points,t)}});return e.selectAll($f.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(l,u){var c=la(LA(Se({d:l.d},r)),[l,u,o]);this.attr(Se({class:$f.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},c))})},function(s){return s.transition(function(l,u){var c=la(LA(Se({d:l.d},r)),[l,u,o]);return so(this,c,i.update)})},function(s){return s.transition(function(){var l=this,u=Dy(this,i.exit);return td(u,function(){return l.remove()}),u})}).transitions()}function r0e(e,n,t){var r=t.animate,i=t.connect,a=t.areaFill;if(n.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(p){return o[p%o.length]},l=[],u=0;u<n.length-1;u++){var c=Z([n[u].points,n[u+1].points],2),f=c[0],d=c[1],h=t0e(f,d,t);l.push({d:h,fill:s(u)})}return e.selectAll($f.region.class).data(l,function(p,v){return v}).join(function(p){return p.append("path").each(function(v,g){var m=la(v,[v,g,l]);this.attr(m)}).attr("className",$f.region.name)},function(p){return p.transition(function(v,g){var m=la(v,[v,g,l]);return so(this,m,r.update)})},function(p){return p.transition(function(){var v=this,g=Dy(this,r.exit);return td(g,function(){return v.remove()}),g})}).transitions()}function i0e(e){var n=e.data,t=n===void 0?[]:n,r=e.closed;return r?t.map(function(i){var a=i.points,o=Z(a,1),s=o[0];return Se(Se({},i),{points:Ve(Ve([],Z(a),!1),[s],!1)})}):t}var a0e=function(e){Bn(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.render=function(t,r){t.type,t.center,t.areaFill,t.closed;var i=Sr(t,["type","center","areaFill","closed"]),a=i0e(t),o=gt(r).maybeAppendByClassName($f.lineGroup,"g"),s=gt(r).maybeAppendByClassName($f.regionGroup,"g"),l=n0e(o,a,t,i),u=r0e(s,a,t);return Ve(Ve([],Z(l),!1),Z(u),!1)},n}(Rr);function q6(e,n){return Object.fromEntries(Object.entries(e).map(function(t){var r=Z(t,2),i=r[0],a=r[1];return[i,la(a,n)]}))}function sO(e,n){return n&&tr(n)?e.filter(n):e}function K6(e,n){var t=n.startAngle,r=n.endAngle;return(r-t)*e+t}function Fy(e,n){if(n.type==="linear"){var t=Z(n.startPos,2),r=t[0],i=t[1],a=Z(n.endPos,2),o=a[0],s=a[1],l=Z([o-r,s-i],2),u=l[0],c=l[1];return I6([u,c])}var f=Lf(K6(e,n));return[-Math.sin(f),Math.cos(f)]}function lO(e,n,t){var r=Fy(e,t);return rve(r,n!=="positive")}function Hp(e,n){return lO(e,n.labelDirection,n)}function o0e(e,n){var t=Z(n.startPos,2),r=t[0],i=t[1],a=Z(n.endPos,2),o=a[0],s=a[1],l=Z([o-r,s-i],2),u=l[0],c=l[1];return[r+u*e,i+c*e]}function s0e(e,n){var t=n.radius,r=Z(n.center,2),i=r[0],a=r[1],o=Lf(K6(e,n));return[i+t*Math.cos(o),a+t*Math.sin(o)]}function By(e,n){return n.type==="linear"?o0e(e,n):s0e(e,n)}function uO(e){return Fy(0,e)[1]===0}function Z6(e){return Fy(0,e)[0]===0}function Q6(e,n){return n-e===360}function zA(e,n,t,r,i){var a=n-e,o=Z([i,i],2),s=o[0],l=o[1],u=Z([Lf(e),Lf(n)],2),c=u[0],f=u[1],d=function(S){return[t+i*Math.cos(S),r+i*Math.sin(S)]},h=Z(d(c),2),p=h[0],v=h[1],g=Z(d(f),2),m=g[0],y=g[1];if(Q6(e,n)){var b=(f+c)/2,x=Z(d(b),2),_=x[0],w=x[1];return[["M",p,v],["A",s,l,0,1,0,_,w],["A",s,l,0,1,0,m,y]]}var k=a>180?1:0,O=e>n?0:1;return"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(k,",").concat(O,",").concat(m,",").concat(y)}function l0e(e){var n=e.attributes,t=n.startAngle,r=n.endAngle,i=n.center,a=n.radius;return Ve(Ve([t,r],Z(i),!1),[a],!1)}function u0e(e,n,t,r){var i=n.startAngle,a=n.endAngle,o=n.center,s=n.radius;return e.selectAll(en.line.class).data([{d:zA.apply(void 0,Ve(Ve([i,a],Z(o),!1),[s],!1))}],function(l,u){return u}).join(function(l){return l.append("path").attr("className",en.line.name).styles(n).styles({d:function(u){return u.d}})},function(l){return l.transition(function(){var u=this,c=Jpe(this,l0e(this),Ve(Ve([i,a],Z(o),!1),[s],!1),r.update);if(c){var f=function(){var d=Gt(u.attributes,"__keyframe_data__");u.style.d=zA.apply(void 0,Ve([],Z(d),!1))};c.onframe=f,c.onfinish=f}return c}).styles(n)},function(l){return l.remove()}).styles(t).transitions()}function c0e(e,n){n.truncRange,n.truncShape,n.lineExtension}function f0e(e,n,t){t===void 0&&(t=[0,0]);var r=Z([e,n,t],3),i=Z(r[0],2),a=i[0],o=i[1],s=Z(r[1],2),l=s[0],u=s[1],c=Z(r[2],2),f=c[0],d=c[1],h=Z([l-a,u-o],2),p=h[0],v=h[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),m=Z([-f/g,d/g],2),y=m[0],b=m[1];return[y*p,y*v,b*p,b*v]}function YA(e){var n=Z(e,2),t=Z(n[0],2),r=t[0],i=t[1],a=Z(n[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function d0e(e,n,t,r){var i=n.showTrunc,a=n.startPos,o=n.endPos,s=n.truncRange,l=n.lineExtension,u=Z([a,o],2),c=Z(u[0],2),f=c[0],d=c[1],h=Z(u[1],2),p=h[0],v=h[1],g=Z(l?f0e(a,o,l):new Array(4).fill(0),4),m=g[0],y=g[1],b=g[2],x=g[3],_=function(L){return e.selectAll(en.line.class).data(L,function(I,j){return j}).join(function(I){return I.append("line").attr("className",function(j){return"".concat(en.line.name," ").concat(j.className)}).styles(t).transition(function(j){return so(this,YA(j.line),!1)})},function(I){return I.styles(t).transition(function(j){var F=j.line;return so(this,YA(F),r.update)})},function(I){return I.remove()}).transitions()};if(!i||!s)return _([{line:[[f+m,d+y],[p+b,v+x]],className:en.line.name}]);var w=Z(s,2),k=w[0],O=w[1],S=p-f,E=v-d,T=Z([f+S*k,d+E*k],2),M=T[0],P=T[1],A=Z([f+S*O,d+E*O],2),N=A[0],R=A[1],C=_([{line:[[f+m,d+y],[M,P]],className:en.lineFirst.name},{line:[[N,R],[p+b,v+x]],className:en.lineSecond.name}]);return c0e(e,n),C}function h0e(e,n,t,r){var i=t.showArrow,a=t.showTrunc,o=t.lineArrow,s=t.lineArrowOffset,l=t.lineArrowSize,u;if(n==="arc"?u=e.select(en.line.class):a?u=e.select(en.lineSecond.class):u=e.select(en.line.class),!i||!o||t.type==="arc"&&Q6(t.startAngle,t.endAngle)){var c=u.node();c&&(c.style.markerEnd=void 0);return}var f=zu(o);f.attr(r),rO(f,l),u.style("markerEnd",f).style("markerEndOffset",-s)}function p0e(e,n,t){var r=n.type,i,a=St(n,"line");return r==="linear"?i=d0e(e,n,NA(a,"arrow"),t):i=u0e(e,n,NA(a,"arrow"),t),h0e(e,r,n,a),i}function v0e(e,n){return lO(e,n.gridDirection,n)}function J6(e){var n=e.type,t=e.gridCenter;return n==="linear"?t:t||e.center}function g0e(e,n){var t=n.gridLength;return e.map(function(r,i){var a=r.value,o=Z(By(a,n),2),s=o[0],l=o[1],u=Z(_s(v0e(a,n),t),2),c=u[0],f=u[1];return{id:i,points:[[s,l],[s+c,l+f]]}})}function m0e(e,n){var t=n.gridControlAngles,r=J6(n);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!t||t.length===0)throw new Error("Invalid gridControlAngles");var i=Z(r,2),a=i[0],o=i[1];return e.map(function(s,l){var u=s.value,c=Z(By(u,n),2),f=c[0],d=c[1],h=Z([f-a,d-o],2),p=h[0],v=h[1],g=[];return t.forEach(function(m){var y=Lf(m),b=Z([Math.cos(y),Math.sin(y)],2),x=b[0],_=b[1],w=p*x-v*_+a,k=p*_+v*x+o;g.push([w,k])}),{points:g,id:l}})}function y0e(e,n,t,r){var i=St(t,"grid"),a=i.type,o=i.areaFill,s=J6(t),l=sO(n,t.gridFilter),u=a==="segment"?g0e(l,t):m0e(l,t),c=Se(Se({},i),{center:s,areaFill:tr(o)?l.map(function(f,d){return la(o,[f,d,l])}):o,animate:r,data:u});return e.selectAll(en.grid.class).data([1]).join(function(f){return f.append(function(){return new a0e({style:c})}).attr("className",en.grid.name)},function(f){return f.transition(function(){return this.update(c)})},function(f){return f.remove()}).transitions()}var Yw=function(){function e(n,t,r,i){this.set(n,t,r,i)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(n,t,r){var i=this,a=i.x1,o=i.y1,s=i.x2,l=i.y2,u=Math.cos(n),c=Math.sin(n),f=t-t*u+r*c,d=r-t*c-r*u,h=[[u*a-c*l+f,c*a+u*l+d],[u*s-c*l+f,c*s+u*l+d],[u*a-c*o+f,c*a+u*o+d],[u*s-c*o+f,c*s+u*o+d]];return h},e.prototype.set=function(n,t,r,i){return r<n?(this.x2=n,this.x1=r):(this.x1=n,this.x2=r),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},e.prototype.defined=function(n){return this[n]!==Number.MAX_VALUE&&this[n]!==-Number.MAX_VALUE},e}();function Gw(e,n){var t=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),i=Z(r.min,2),a=i[0],o=i[1],s=Z(r.max,2),l=s[0],u=s[1],c=e.getBBox(),f=c.width,d=c.height,h=d,p=0,v=0,g=a,m=o,y=L6(e);if(y){h-=1.5;var b=y.style.textAlign,x=y.style.textBaseline;b==="center"?g=(a+l)/2:(b==="right"||b==="end")&&(g=l),x==="middle"?m=(o+u)/2:x==="bottom"&&(m=u)}var _=Z(Jr(n),4),w=_[0],k=w===void 0?0:w,O=_[1],S=O===void 0?0:O,E=_[2],T=E===void 0?k:E,M=_[3],P=M===void 0?S:M,A=new Yw((p+=a)-P,(v+=o)-k,p+f+S,v+h+T);return e.setEulerAngles(t),A.rotatedPoints(Lf(t),g,m)}function Bd(e,n){return n[0]<=Math.max(e[0][0],e[1][0])&&n[0]<=Math.min(e[0][0],e[1][0])&&n[1]<=Math.max(e[0][1],e[1][1])&&n[1]<=Math.min(e[0][1],e[1][1])}function jd(e,n,t){var r=(n[1]-e[1])*(t[0]-n[0])-(n[0]-e[0])*(t[1]-n[1]);return r===0?0:r<0?2:1}function b0e(e,n){var t=jd(e[0],e[1],n[0]),r=jd(e[0],e[1],n[1]),i=jd(n[0],n[1],e[0]),a=jd(n[0],n[1],e[1]);return!!(t!==r&&i!==a||t===0&&Bd(e,n[0])||r===0&&Bd(e,n[1])||i===0&&Bd(n,e[0])||a===0&&Bd(n,e[1]))}function x0e(e,n){var t=e.length;if(t<3)return!1;var r=[n,[9999,n[1]]],i=0,a=0;do{var o=[e[a],e[(a+1)%t]];if(b0e(o,r)){if(jd(o[0],n,o[1])===0)return Bd(o,n);i++}a=(a+1)%t}while(a!==0);return!!(i&1)}function w0e(e,n){return n.every(function(t){return x0e(e,t)})}function _0e(e,n,t){var r=e.x1,i=e.x2,a=e.y1,o=e.y2,s=[[r,a],[i,a],[i,o],[r,o]],l=Gw(n,t);return w0e(s,l)}function k0e(e,n){var t=Z(e,4),r=t[0],i=t[1],a=t[2],o=t[3],s=Z(n,4),l=s[0],u=s[1],c=s[2],f=s[3],d=a-r,h=o-i,p=c-l,v=f-u,g=d*v-p*h;if(g===0)return!1;var m=g>0,y=r-l,b=i-u,x=d*b-h*y;if(x<0===m)return!1;var _=p*b-v*y;return!(_<0===m||x>g===m||_>g===m)}function O0e(e,n){var t=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return t.some(function(r){return k0e(n,r)})}function S0e(e,n,t){var r,i,a=Gw(e,t).flat(1),o=Gw(n,t).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=Ap(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(O0e(o,c))return!0}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function E0e(e,n){var t=e.type,r=e.labelDirection,i=e.crossSize;if(!i)return!1;if(t==="arc"){var a=e.center,o=e.radius,s=Z(a,2),l=s[0],u=s[1],c=r==="negative"?0:i,f=-o-c,d=o+c,h=Z(Jr(n),4),p=h[0],v=h[1],g=h[2],m=h[3];return new Yw(l+f-m,u+f-p,l+d+v,u+d+g)}var y=Z(e.startPos,2),b=y[0],x=y[1],_=Z(e.endPos,2),w=_[0],k=_[1],O=Z(Z6(e)?[-n,0,n,0]:[0,n,0,-n],4),S=O[0],E=O[1],T=O[2],M=O[3],P=Hp(0,e),A=_s(P,i),N=new Yw(b,x,w,k);return N.x1+=M,N.y1+=S,N.x2+=E+A[0],N.y2+=T+A[1],N}function jy(e,n,t){var r,i,a=n.crossPadding,o=new Set,s=null,l=E0e(n,a),u=function(p){return l?_0e(l,p):!0},c=function(p,v){return!p||!p.firstChild?!0:!S0e(p.firstChild,v.firstChild,Jr(t))};try{for(var f=Ap(e),d=f.next();!d.done;d=f.next()){var h=d.value;u(h)?!s||c(s,h)?s=h:(o.add(s),o.add(h)):o.add(h)}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return Array.from(o)}function Nb(e,n){return n===void 0&&(n={}),je(e)?0:typeof e=="number"?e:Math.floor(Vpe(e,n))}function T0e(e,n,t,r){if(!(e.length<=0)){var i=n.suffix,a=i===void 0?"...":i,o=n.minLength,s=n.maxLength,l=s===void 0?1/0:s,u=n.step,c=u===void 0?" ":u,f=n.margin,d=f===void 0?[0,0,0,0]:f,h=N6(r.getTextShape(e[0])),p=Nb(c,h),v=o?Nb(o,h):p,g=Nb(l,h);(je(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(w){return w.getBBox().width})));var m=e.slice(),y=Z(d,4);y[0],y[1],y[2],y[3];for(var b=function(w){if(m.forEach(function(k){r.ellipsis(r.getTextShape(k),w,a)}),m=jy(e,t,d),m.length<1)return{value:void 0}},x=g;x>v+p;x-=p){var _=b(x);if(typeof _=="object")return _.value}}}var M0e={parity:function(e,n){var t=n.seq,r=t===void 0?2:t;return e.filter(function(i,a){return a%r?($l(i),!1):!0})}},A0e=function(e){return e.filter(Upe)};function P0e(e,n,t,r){var i=e.length,a=n.keepHeader,o=n.keepTail;if(!(i<=1||i===2&&a&&o)){var s=M0e.parity,l=function(b){return b.forEach(r.show),b},u=2,c=e.slice(),f=e.slice(),d=Math.min.apply(Math,Ve([1],Z(e.map(function(b){return b.getBBox().width})),!1));if(t.type==="linear"&&(uO(t)||Z6(t))){var h=$A(e[0]).left,p=$A(e[i-1]).right,v=Math.abs(p-h)||1;u=Math.max(Math.floor(i*d/v),u)}var g,m;for(a&&(g=c.splice(0,1)[0]),o&&(m=c.splice(-1,1)[0],c.reverse()),l(c);u<e.length&&jy(A0e(m?Ve(Ve([m],Z(f),!1),[g],!1):Ve([g],Z(f),!1)),t,n==null?void 0:n.margin).length;){if(m&&!g&&u%2===0){var y=c.splice(0,1);y.forEach(r.hide)}else if(m&&g){var y=c.splice(0,1);y.forEach(r.hide)}f=s(l(c),{seq:u}),u++}}}function C0e(e,n,t,r){var i,a,o=n.optionalAngles,s=o===void 0?[0,45,90]:o,l=n.margin,u=n.recoverWhenFailed,c=u===void 0?!0:u,f=e.map(function(m){return m.getLocalEulerAngles()}),d=function(){return jy(e,t,l).length<1},h=function(m){return e.forEach(function(y,b){var x=Array.isArray(m)?m[b]:m;r.rotate(y,+x)})};try{for(var p=Ap(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(h(g),d())return}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c&&h(f)}function R0e(e){var n=e.type,t=e.labelDirection;return n==="linear"&&uO(e)?t==="negative"?"bottom":"top":"middle"}function N0e(e,n,t,r,i){var a,o=n.maxLines,s=o===void 0?3:o,l=n.recoverWhenFailed,u=l===void 0?!0:l,c=n.margin,f=c===void 0?[0,0,0,0]:c,d=la((a=n.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),h=e.map(function(b){return b.attr("maxLines")||1}),p=Math.min.apply(Math,Ve([],Z(h),!1)),v=function(){return jy(e,t,f).length<1},g=R0e(t),m=function(b){return e.forEach(function(x,_){var w=Array.isArray(b)?b[_]:b;r.wrap(x,d,w,g)})};if(!(p>s)){if(t.type==="linear"&&uO(t)){if(m(s),v())return}else for(var y=p;y<=s;y++)if(m(y),v())return;u&&m(h)}}var L0e=new Map([["hide",P0e],["rotate",C0e],["ellipsis",T0e],["wrap",N0e]]);function $0e(e,n,t){return n.labelOverlap.length<1?!1:t==="hide"?!Wpe(e[0]):t==="rotate"?!e.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):t==="ellipsis"||t==="wrap"?e.filter(function(r){return r.querySelector("text")}).length>=1:!0}function I0e(e,n,t,r){var i=n.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(o){var s=o.type,l=L0e.get(s);$0e(e,n,s)&&(l==null||l(e,o,n,r,t))})}function D0e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=function(r){return r==="positive"?-1:1};return e.reduce(function(r,i){return r*t(i)},1)}function GA(e){for(var n=e;n<0;)n+=360;return Math.round(n%360)}function Ww(e,n){var t=Z(e,2),r=t[0],i=t[1],a=Z(n,2),o=a[0],s=a[1],l=Z([r*o+i*s,r*s-i*o],2),u=l[0],c=l[1];return Math.atan2(c,u)}function F0e(e){var n=(e+360)%180;return Hr(n,-90,90)||(n+=180),n}function B0e(e,n,t){var r,i=t.labelAlign,a=(r=n.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return n.getLocalEulerAngles();var o=0,s=Hp(e.value,t),l=Fy(e.value,t);return i==="horizontal"?0:(i==="perpendicular"?o=Ww([1,0],s):o=Ww([l[0]<0?-1:1,0],l),F0e(C6(o)))}function eF(e,n,t){var r=t.type,i=t.labelAlign,a=Hp(e,t),o=GA(n),s=GA(C6(Ww([1,0],a))),l="center",u="middle";return r==="linear"?[90,270].includes(s)&&o===0?(l="center",u=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?l="center":s===0?(Hr(o,0,90,!1,!0)||Hr(o,0,90)||Hr(o,270,360))&&(l="start"):s===90?Hr(o,0,90,!1,!0)?l="start":(Hr(o,90,180)||Hr(o,270,360))&&(l="end"):s===270?Hr(o,0,90,!1,!0)?l="end":(Hr(o,90,180)||Hr(o,270,360))&&(l="start"):s===180&&(o===90?l="start":(Hr(o,0,90)||Hr(o,270,360))&&(l="end")):i==="parallel"?Hr(s,0,180,!0)?u="top":u="bottom":i==="horizontal"?Hr(s,90,270,!1)?l="end":(Hr(s,270,360,!1)||Hr(s,0,90))&&(l="start"):i==="perpendicular"&&(Hr(s,90,270)?l="end":l="start"),{textAlign:l,textBaseline:u}}function j0e(e,n,t){n.setLocalEulerAngles(e);var r=n.__data__.value,i=eF(r,e,t),a=n.querySelector(en.labelItem.class);a&&tF(a,i)}function WA(e,n,t){var r=t.showTick,i=t.tickLength,a=t.tickDirection,o=t.labelDirection,s=t.labelSpacing,l=n.indexOf(e),u=la(s,[e,l,n]),c=Z([Hp(e.value,t),D0e(o,a)],2),f=c[0],d=c[1],h=d===1?la(r?i:0,[e,l,n]):0,p=Z(Fd(_s(f,u+h),By(e.value,t)),2),v=p[0],g=p[1];return{x:v,y:g}}function z0e(e,n,t,r){var i=r.labelFormatter,a=tr(i)?function(){return zu(la(i,[e,n,t,Hp(e.value,r)]))}:function(){return zu(e.label||"")};return a}function tF(e,n){e.nodeName==="text"&&e.attr(n)}function Y0e(e,n){I0e(this.node().childNodes,e,n,{hide:$l,show:Wp,rotate:function(t,r){j0e(+r,t,e)},ellipsis:function(t,r,i){t&&Bw(t,r||1/0,i)},wrap:function(t,r,i){t&&Xpe(t,r,i)},getTextShape:function(t){return t.querySelector("text")}})}function HA(e,n,t,r,i){var a=t.indexOf(n),o=gt(e).append(z0e(n,a,t,i)).attr("className",en.labelItem.name).node(),s=Z(Fs(q6(r,[n,a,t])),2),l=s[0],u=s[1],c=u.transform,f=Sr(u,["transform"]);D6(o,c);var d=B0e(n,o,i);return o.getLocalEulerAngles()||o.setLocalEulerAngles(d),tF(o,Se(Se({},eF(n.value,d,i)),l)),e.attr(f),o}function G0e(e,n,t,r,i){var a=sO(n,t.labelFilter),o=St(t,"label"),s,l=e.selectAll(en.label.class).data(a,function(u,c){return c}).join(function(u){return u.append("g").attr("className",en.label.name).transition(function(c){HA(this,c,n,o,t);var f=WA(c,n,t),d=f.x,h=f.y;return this.style.transform="translate(".concat(d,", ").concat(h,")"),null})},function(u){return u.transition(function(c){var f=this.querySelector(en.labelItem.class),d=HA(this,c,n,o,t),h=Zve(f,d,r.update),p=WA(c,n,t),v=p.x,g=p.y,m=so(this,{transform:"translate(".concat(v,", ").concat(g,")")},r.update);return Ve(Ve([],Z(h),!1),[m],!1)})},function(u){return s=u,u.transition(function(){var c=this,f=Dy(this.childNodes[0],r.exit);return td(f,function(){return gt(c).remove()}),f}),s}).transitions();return qve(l,function(){Y0e.call(e,t,i)}),l}function nF(e,n){return lO(e,n.tickDirection,n)}function W0e(e,n){var t=Z(e,2),r=t[0],i=t[1];return[[0,0],[r*n,i*n]]}function H0e(e,n,t,r,i){var a=i.tickLength,o=Z(W0e(r,la(a,[e,n,t])),2),s=Z(o[0],2),l=s[0],u=s[1],c=Z(o[1],2),f=c[0],d=c[1];return{x1:l,x2:f,y1:u,y2:d}}function U0e(e,n,t,r,i){var a=i.tickFormatter,o=nF(n.value,i),s="line";return tr(a)&&(s=function(){return la(a,[n,t,r,o])}),e.append(s).attr("className",en.tickItem.name)}function V0e(e,n,t,r,i,a,o){var s=nF(e.value,a),l=H0e(e,n,t,s,a),u=l.x1,c=l.x2,f=l.y1,d=l.y2,h=Z(Fs(q6(o,[e,n,t,s])),2),p=h[0],v=h[1];r.node().nodeName==="line"&&r.styles(Se({x1:u,x2:c,y1:f,y2:d},p)),i.attr(v),r.styles(p)}function UA(e,n,t,r,i,a){var o=U0e(gt(this),e,n,t,r);V0e(e,n,t,o,this,r,i);var s=Z(By(e.value,r),2),l=s[0],u=s[1];return so(this,{transform:"translate(".concat(l,", ").concat(u,")")},a)}function X0e(e,n,t,r){var i=sO(n,t.tickFilter),a=St(t,"tick");return e.selectAll(en.tick.class).data(i,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",en.tick.name).transition(function(s,l){return UA.call(this,s,l,i,t,a,!1)})},function(o){return o.transition(function(s,l){return this.removeChildren(),UA.call(this,s,l,i,t,a,r.update)})},function(o){return o.transition(function(){var s=this,l=Dy(this.childNodes[0],r.exit);return td(l,function(){return s.remove()}),l})}).transitions()}var VA=za({text:"text"},"title");function zy(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(n){return n[0]}):e.length>2?[e[0]]:e.split("")}function q0e(e,n){var t=e.attributes,r=t.position,i=t.spacing,a=t.inset,o=t.text,s=e.getBBox(),l=n.getBBox(),u=zy(r),c=Z(Jr(o?i:0),4),f=c[0],d=c[1],h=c[2],p=c[3],v=Z(Jr(a),4),g=v[0],m=v[1],y=v[2],b=v[3],x=Z([p+d,f+h],2),_=x[0],w=x[1],k=Z([b+m,g+y],2),O=k[0],S=k[1];if(u[0]==="l")return new Ln(s.x,s.y,l.width+s.width+_+O,Math.max(l.height+S,s.height));if(u[0]==="t")return new Ln(s.x,s.y,Math.max(l.width+O,s.width),l.height+s.height+w+S);var E=Z([n.attributes.width||l.width,n.attributes.height||l.height],2),T=E[0],M=E[1];return new Ln(l.x,l.y,T+s.width+_+O,M+s.height+w+S)}function K0e(e,n){var t=Object.entries(n).reduce(function(r,i){var a=Z(i,2),o=a[0],s=a[1],l=e.node().attr(o);return l||(r[o]=s),r},{});e.styles(t)}function Z0e(e){var n,t,r,i,a=e,o=a.width,s=a.height,l=a.position,u=Z([+o/2,+s/2],2),c=u[0],f=u[1],d=Z([+c,+f,"center","middle"],4),h=d[0],p=d[1],v=d[2],g=d[3],m=zy(l);return m.includes("l")&&(n=Z([0,"start"],2),h=n[0],v=n[1]),m.includes("r")&&(t=Z([+o,"end"],2),h=t[0],v=t[1]),m.includes("t")&&(r=Z([0,"top"],2),p=r[0],g=r[1]),m.includes("b")&&(i=Z([+s,"bottom"],2),p=i[0],g=i[1]),{x:h,y:p,textAlign:v,textBaseline:g}}var rF=function(e){Bn(n,e);function n(t){return e.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return n.prototype.getAvailableSpace=function(){var t=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,l=r.inset,u=t.querySelector(VA.text.class);if(!u)return new Ln(0,0,+i,+a);var c=u.getBBox(),f=c.width,d=c.height,h=Z(Jr(s),4),p=h[0],v=h[1],g=h[2],m=h[3],y=Z([0,0,+i,+a],4),b=y[0],x=y[1],_=y[2],w=y[3],k=zy(o);if(k.includes("i"))return new Ln(b,x,_,w);k.forEach(function(R,C){var L,I,j,F;R==="t"&&(L=Z(C===0?[d+g,+a-d-g]:[0,+a],2),x=L[0],w=L[1]),R==="r"&&(I=Z([+i-f-m],1),_=I[0]),R==="b"&&(j=Z([+a-d-p],1),w=j[0]),R==="l"&&(F=Z(C===0?[f+v,+i-f-v]:[0,+i],2),b=F[0],_=F[1])});var O=Z(Jr(l),4),S=O[0],E=O[1],T=O[2],M=O[3],P=Z([M+E,S+T],2),A=P[0],N=P[1];return new Ln(b+M,x+S,_-A,w-N)},n.prototype.getBBox=function(){return this.title?this.title.getBBox():new Ln(0,0,0,0)},n.prototype.render=function(t,r){var i=this;t.width,t.height,t.position,t.spacing;var a=Sr(t,["width","height","position","spacing"]),o=Z(Fs(a),1),s=o[0],l=Z0e(t),u=l.x,c=l.y,f=l.textAlign,d=l.textBaseline;Gi(!!a.text,gt(r),function(h){i.title=h.maybeAppendByClassName(VA.text,"text").styles(s).call(K0e,{x:u,y:c,textAlign:f,textBaseline:d}).node()})},n}(Rr);function Q0e(e,n,t){var r=t.titlePosition,i=r===void 0?"lb":r,a=t.titleSpacing,o=zy(i),s=e.node().getLocalBounds(),l=Z(s.min,2),u=l[0],c=l[1],f=Z(s.halfExtents,2),d=f[0],h=f[1],p=Z(n.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],m=Z([u+d,c+h],2),y=m[0],b=m[1],x=Z(Jr(a),4),_=x[0],w=x[1],k=x[2],O=x[3];if(["start","end"].includes(i)&&t.type==="linear"){var S=t.startPos,E=t.endPos,T=Z(i==="start"?[S,E]:[E,S],2),M=T[0],P=T[1],A=I6([-P[0]+M[0],-P[1]+M[1]]),N=Z(_s(A,_),2),R=N[0],C=N[1];return{x:M[0]+R,y:M[1]+C}}return o.includes("t")&&(b-=h+g+_),o.includes("r")&&(y+=d+v+w),o.includes("l")&&(y-=d+v+O),o.includes("b")&&(b+=h+g+k),{x:y,y:b}}function J0e(e,n,t){var r=e.getGeometryBounds().halfExtents,i=r[1]*2;if(n==="vertical"){if(t==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(t==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function XA(e,n,t,r,i){var a=St(r,"title"),o=Z(Fs(a),2),s=o[0],l=o[1],u=l.transform,c=l.transformOrigin,f=Sr(l,["transform","transformOrigin"]);n.styles(f);var d=u||J0e(e.node(),s.direction,s.position);e.styles(Se(Se({},s),{transformOrigin:c})),D6(e.node(),d);var h=Q0e(gt(t._offscreen||t.querySelector(en.mainGroup.class)),n,r),p=h.x,v=h.y,g=so(n.node(),{transform:"translate(".concat(p,", ").concat(v,")")},i);return g}function ege(e,n,t,r){var i=t.titleText;return e.selectAll(en.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,o){return a.title}).join(function(a){return a.append(function(){return zu(i)}).attr("className",en.title.name).transition(function(){return XA(gt(this),e,n,t,r.enter)})},function(a){return a.transition(function(){return XA(gt(this),e,n,t,r.update)})},function(a){return a.remove()}).transitions()}function qA(e,n,t,r){var i=e.showLine,a=e.showTick,o=e.showLabel,s=n.maybeAppendByClassName(en.lineGroup,"g"),l=Gi(i,s,function(h){return p0e(h,e,r)})||[],u=n.maybeAppendByClassName(en.tickGroup,"g"),c=Gi(a,u,function(h){return X0e(h,t,e,r)})||[],f=n.maybeAppendByClassName(en.labelGroup,"g"),d=Gi(o,f,function(h){return G0e(h,t,e,r,n.node())})||[];return Ve(Ve(Ve([],Z(l),!1),Z(c),!1),Z(d),!1).filter(function(h){return!!h})}var cO=function(e){Bn(n,e);function n(t){return e.call(this,t,oO)||this}return n.prototype.render=function(t,r,i){var a=this,o=t.titleText,s=t.data,l=t.animate,u=t.showTitle,c=t.showGrid,f=t.dataThreshold,d=t.truncRange,h=lve(s,f).filter(function(_){var w=_.value;return!(d&&w>d[0]&&w<d[1])}),p=jA(i===void 0?l:i),v=gt(r).maybeAppendByClassName(en.gridGroup,"g"),g=Gi(c,v,function(_){return y0e(_,h,t,p)})||[],m=gt(r).maybeAppendByClassName(en.mainGroup,"g");o&&(!this.initialized&&p.enter||this.initialized&&p.update)&&qA(t,gt(this.offscreenGroup),h,jA(!1));var y=qA(t,gt(m.node()),h,p),b=gt(r).maybeAppendByClassName(en.titleGroup,"g"),x=Gi(u,b,function(_){return ege(_,a,t,p)})||[];return Ve(Ve(Ve([],Z(g),!1),Z(y),!1),Z(x),!1).flat().filter(function(_){return!!_})},n}(Rr),ba=za({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),tge=function(e){Bn(n,e);function n(t){var r=e.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Fve(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new fo({class:ba.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new fo({class:ba.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(n.prototype,"defaultPage",{get:function(){var t=this.attributes.defaultPage;return Bt(t,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageShape",{get:function(){var t=this.pageViews,r=Z(bve(t.map(function(f){var d=f.getBBox(),h=d.width,p=d.height;return[h,p]})).map(function(f){return Math.max.apply(Math,Ve([],Z(f),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,l=s===void 0?i:s,u=o.pageHeight,c=u===void 0?a:u;return{pageWidth:l,pageHeight:c}},enumerable:!1,configurable:!0}),n.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(n.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var t=e.prototype.getBBox.call(this),r=t.x,i=t.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,l=o.pageHeight;return new Ln(r,i,s+a.width,l)},n.prototype.goTo=function(t){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,l=a.playWindow,u=a.pageViews;if(s!=="idle"||t<0||u.length<=0||t>=u.length)return null;u[o].setLocalPosition(0,0),this.prepareFollowingPage(t);var c=Z(this.getFollowingPageDiff(t),2),f=c[0],d=c[1];this.playState="running";var h=Y6(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-d,")")}],i);return td(h,function(){r.innerCurrPage=t,r.playState="idle",r.setVisiblePages([t]),r.updatePageInfo()}),h},n.prototype.prev=function(){var t=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!t&&i<=0)return null;var a=t?(i-1+r)%r:Bt(i-1,0,r);return this.goTo(a)},n.prototype.next=function(){var t=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!t&&i>=r-1)return null;var a=t?(i+1)%r:Bt(i+1,0,r);return this.goTo(a)},n.prototype.renderClipPath=function(t){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=t.maybeAppendByClassName(ba.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},n.prototype.setVisiblePages=function(t){this.playWindow.children.forEach(function(r,i){t.includes(i)?Wp(r):$l(r)})},n.prototype.adjustControllerLayout=function(){var t=this,r=t.prevBtnGroup,i=t.nextBtnGroup,a=t.pageInfoGroup,o=this.attributes,s=o.orientation,l=o.controllerPadding,u=a.getBBox(),c=u.width;u.height;var f=Z(s==="horizontal"?[-180,0]:[-90,90],2),d=f[0],h=f[1];r.setLocalEulerAngles(d),i.setLocalEulerAngles(h);var p=r.getBBox(),v=p.width,g=p.height,m=i.getBBox(),y=m.width,b=m.height,x=Math.max(v,c,y),_=s==="horizontal"?{offset:[[0,0],[v/2+l,0],[v+c+l*2,0]],textAlign:"start"}:{offset:[[x/2,-g-l],[x/2,0],[x/2,b+l]],textAlign:"center"},w=Z(_.offset,3),k=Z(w[0],2),O=k[0],S=k[1],E=Z(w[1],2),T=E[0],M=E[1],P=Z(w[2],2),A=P[0],N=P[1],R=_.textAlign,C=a.querySelector("text");C&&(C.style.textAlign=R),r.setLocalPosition(O,S),a.setLocalPosition(T,M),i.setLocalPosition(A,N)},n.prototype.updatePageInfo=function(){var t,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((t=this.pageInfoGroup.querySelector(ba.pageInfo.class))===null||t===void 0||t.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},n.prototype.getFollowingPageDiff=function(t){var r=this.currPage;if(r===t)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=t<r?-1:1;return i==="horizontal"?[l*o,0]:[0,l*s]},n.prototype.prepareFollowingPage=function(t){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([t,i]),t!==i){var o=Z(this.getFollowingPageDiff(t),2),s=o[0],l=o[1];a[t].setLocalPosition(s,l)}},n.prototype.renderController=function(t){var r=this,i=this.attributes.controllerSpacing,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=this.pageViews.length>=2,u=t.maybeAppendByClassName(ba.controller,"g");if(Iy(u.node(),l),!!l){var c=St(this.attributes,"button"),f=St(this.attributes,"pageNum"),d=Z(Fs(c),2),h=d[0],p=d[1],v=h.size,g=Sr(h,["size"]),m=!u.select(ba.prevBtnGroup.class).node(),y=u.maybeAppendByClassName(ba.prevBtnGroup,"g").styles(p);this.prevBtnGroup=y.node();var b=y.maybeAppendByClassName(ba.prevBtn,"path"),x=u.maybeAppendByClassName(ba.nextBtnGroup,"g").styles(p);this.nextBtnGroup=x.node();var _=x.maybeAppendByClassName(ba.nextBtn,"path");[b,_].forEach(function(k){k.styles(Se(Se({},g),{transformOrigin:"center"})),rO(k.node(),v)});var w=u.maybeAppendByClassName(ba.pageInfoGroup,"g");this.pageInfoGroup=w.node(),w.maybeAppendByClassName(ba.pageInfo,"text").styles(f),this.updatePageInfo(),u.node().setLocalPosition(o+i,s/2),m&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},n.prototype.render=function(t,r){var i=t.x,a=i===void 0?0:i,o=t.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var l=gt(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},n.prototype.bindEvents=function(){var t=this,r=O$(function(){return t.render(t.attributes,t)},50);this.playWindow.addEventListener(Nn.INSERTED,r),this.playWindow.addEventListener(Nn.REMOVED,r)},n}(Rr);function nge(e,n,t){var r=Math.round((e-t)/n);return t+r*n}function rge(e,n,t){var r=1.4,i=r*t;return[["M",e-t,n-i],["L",e+t,n-i],["L",e+t,n+i],["L",e-t,n+i],["Z"]]}var iF=1.4,aF=.4;function ige(e,n,t){var r=t,i=r*iF,a=r/2,o=r/6,s=e+i*aF;return[["M",e,n],["L",s,n+a],["L",e+i,n+a],["L",e+i,n-a],["L",s,n-a],["Z"],["M",s,n+o],["L",e+i-2,n+o],["M",s,n-o],["L",e+i-2,n-o]]}function age(e,n,t){var r=t,i=r*iF,a=r/2,o=r/6,s=n+i*aF;return[["M",e,n],["L",e-a,s],["L",e-a,n+i],["L",e+a,n+i],["L",e+a,s],["Z"],["M",e-o,s],["L",e-o,n+i-2],["M",e+o,s],["L",e+o,n+i-2]]}Ut.registerSymbol("hiddenHandle",rge);Ut.registerSymbol("verticalHandle",ige);Ut.registerSymbol("horizontalHandle",age);function oge(e,n,t,r){var i,a=Z(e,2),o=a[0],s=a[1],l=Z(n,2),u=l[0],c=l[1],f=Z(t,2),d=f[0],h=f[1],p=Z([u,c],2),v=p[0],g=p[1],m=g-v;return v>g&&(i=Z([g,v],2),v=i[0],g=i[1]),m>s-o?[o,s]:v<o?d===o&&h===g?[o,g]:[o,m+o]:g>s?h===s&&d===v?[v,s]:[s-m,s]:[v,g]}function Yo(e,n,t){return e===void 0&&(e="horizontal"),e==="horizontal"?n:t}var Ot,sge="component-poptip",xt={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},KA=(Ot={},Ot[".".concat(xt.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Ot[".".concat(xt.TEXT)]={"text-align":"center"},Ot[".".concat(xt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Ot[".".concat(xt.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Ot[".".concat(xt.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Ot[".".concat(xt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Ot[".".concat(xt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Ot[".".concat(xt.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Ot[".".concat(xt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Ot[".".concat(xt.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},Ot[".".concat(xt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Ot[".".concat(xt.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Ot[".".concat(xt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Ot["[data-position='top'] .".concat(xt.ARROW)]={bottom:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Ot["[data-position='left'] .".concat(xt.ARROW)]={right:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},Ot["[data-position='right'] .".concat(xt.ARROW)]={left:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Ot["[data-position='bottom'] .".concat(xt.ARROW)]={top:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Ot["[data-position='top-left'] .".concat(xt.ARROW)]={left:"10px",bottom:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Ot["[data-position='top-right'] .".concat(xt.ARROW)]={right:"10px",bottom:"-2px"},Ot[".".concat(xt.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Ot["[data-position='left-top'] .".concat(xt.ARROW)]={right:"-2px",top:"8px"},Ot[".".concat(xt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Ot["[data-position='left-bottom'] .".concat(xt.ARROW)]={right:"-2px",bottom:"8px"},Ot[".".concat(xt.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Ot["[data-position='right-top'] .".concat(xt.ARROW)]={left:"-2px",top:"8px"},Ot[".".concat(xt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Ot["[data-position='right-bottom'] .".concat(xt.ARROW)]={left:"-2px",bottom:"8px"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Ot["[data-position='bottom-left'] .".concat(xt.ARROW)]={top:"-2px",left:"8px"},Ot[".".concat(xt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Ot["[data-position='bottom-right'] .".concat(xt.ARROW)]={top:"-2px",right:"8px"},Ot),lge=void 0;function uge(e,n,t,r,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[e,n];var o=t.getBoundingClientRect(),s=o.x,l=o.y,u=o.width,c=o.height;switch(r){case"top":return i?[s+u/2,l]:[e,l];case"left":return i?[s,l+c/2]:[s,n];case"bottom":return i?[s+u/2,l+c]:[e,l+c];case"right":return i?[s+u,l+c/2]:[s+u,n];case"top-right":case"right-top":return[s+u,l];case"left-bottom":case"bottom-left":return[s,l+c];case"right-bottom":case"bottom-right":return[s+u,l+c];case"top-left":case"left-top":default:return[s,l]}}var cge=function(e){var n;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n||(n=e.apply(lge,t)),n}};function fge(e){var n=e&&document.getElementById(e);return n||(n=document.createElement("div"),n.setAttribute("id",e),document.body.appendChild(n)),n}function dge(e){var n=cge(fge)(e);return n}var hge=function(e){Bn(n,e);function n(t){var r=e.call(this,ye({style:{id:sge}},n.defaultOptions,t))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(n.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),n.prototype.render=function(t,r){this.visibility=this.style.visibility,this.updatePoptipElement()},n.prototype.update=function(t){this.attr(ye({},this.style,t)),this.render(this.attributes,this)},n.prototype.bind=function(t,r){var i=this;if(t){var a=this.style.text,o=function(l){var u=t,c=i.style,f=a;if(r){var d=typeof r=="function"?r.call(null,l):r,h=d.html,p=d.target,v=Sr(d,["html","target"]);c=Uee({},i.style,v),(p||p===!1)&&(u=p),typeof h=="string"&&(f=h)}var g=c.position,m=c.arrowPointAtCenter,y=c.follow,b=c.offset;if(u){var x=l,_=x.clientX,w=x.clientY,k=Z(uge(_,w,u,g,m,y),2),O=k[0],S=k[1];i.showTip(O,S,{text:f,position:g,offset:b})}else i.hideTip()},s=function(){i.hideTip()};t.addEventListener("mousemove",o),t.addEventListener("mouseleave",s),this.map.set(t,[o,s])}},n.prototype.unbind=function(t){if(this.map.has(t)){var r=Z(this.map.get(t)||[],2),i=r[0],a=r[1];i&&t.removeEventListener("mousemove",i),a&&t.removeEventListener("mouseleave",a),this.map.delete(t)}},n.prototype.clear=function(){this.container.innerHTML=""},n.prototype.destroy=function(){var t=this,r;Ve([],Z(this.map.keys()),!1).forEach(function(i){return t.unbind(i)}),(r=this.container)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},n.prototype.showTip=function(t,r,i){var a=Gt(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),t&&r&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(t,r,o),typeof a=="string"){var l=this.container.querySelector(".".concat(xt.TEXT));l&&(l.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},n.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},n.prototype.getContainer=function(){return this.container},n.prototype.getClassName=function(){var t=this.style.containerClassName;return"".concat(xt.CONTAINER).concat(t?" ".concat(t):"")},n.prototype.initShape=function(){var t=this,r=this.style.id;this.container=dge(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return t.showTip()}),this.container.addEventListener("mouseleave",function(){return t.hideTip()})},n.prototype.updatePoptipElement=function(){var t=this.container;this.clear();var r=this.style,i=r.id,a=r.template,o=r.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var s='<span class="'.concat(xt.ARROW,'"></span>');t.innerHTML=s,Wt(a)?t.innerHTML+=a:a&&Hee(a)&&t.appendChild(a),o&&(t.getElementsByClassName(xt.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},n.prototype.applyStyles=function(){var t=ho({},KA,this.style.domStyles),r=Object.entries(t).reduce(function(a,o){var s=Z(o,2),l=s[0],u=s[1],c=Object.entries(u).reduce(function(f,d){var h=Z(d,2),p=h[0],v=h[1];return"".concat(f).concat(p,": ").concat(v,";")},"");return"".concat(a).concat(l,"{").concat(c,"}")},"");if(this.domStyles!==r){this.domStyles=r;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=r,this.container.appendChild(i)}},n.prototype.setOffsetPosition=function(t,r,i){i===void 0&&(i=this.style.offset);var a=Z(i,2),o=a[0],s=o===void 0?0:o,l=a[1],u=l===void 0?0:l;this.container.style.left="".concat(t+s,"px"),this.container.style.top="".concat(r+u,"px")},n.tag="poptip",n.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:KA,template:'<div class="'.concat(xt.TEXT,'"></div>')}},n}(Rr),yi=za({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),pge={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function vge(e){var n=e.querySelector(yi.marker.class);return n?n.style:{}}var gge=function(e){Bn(n,e);function n(t){return e.call(this,t,{span:[1,1],marker:function(){return new qk({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(n.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return t?typeof t=="string"||typeof t=="number"?t!=="":typeof t=="function"?!0:t.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"actualSpace",{get:function(){var t=this.labelGroup,r=this.valueGroup,i=this.attributes.markerSize,a=t.node().getBBox(),o=a.width,s=a.height,l=r.node().getBBox(),u=l.width,c=l.height;return{markerWidth:i,labelWidth:o,valueWidth:u,height:Math.max(i,s,c)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var r=Z(Jr(t),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){var t,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,l=o.height,u=this.actualSpace,c=u.labelWidth,f=u.valueWidth,d=Z(this.spacing,2),h=d[0],p=d[1];if(a){var v=a-i-h-p,g=Z(this.span,2),m=g[0],y=g[1];t=Z([m*v,y*v],2),c=t[0],f=t[1]}var b=s+c+f+h+p;return{width:b,height:l,markerWidth:s,labelWidth:c,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var r=Z(Jr(t),2),i=r[0],a=r[1];return this.showValue?[i,a]:[i,0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"layout",{get:function(){var t=this.shape,r=t.markerWidth,i=t.labelWidth,a=t.valueWidth,o=t.width,s=t.height,l=Z(this.spacing,2),u=l[0],c=l[1];return{height:s,width:o,markerWidth:r,labelWidth:i,valueWidth:a,position:[r/2,r+u,r+i+u+c]}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleSize",{get:function(){var t=vge(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?t.strokeWidth:a,s=r.markerLineWidth,l=s===void 0?t.lineWidth:s,u=r.markerStroke,c=u===void 0?t.stroke:u,f=+(o||l||(c?1:0))*Math.sqrt(2),d=this.markerGroup.node().getBBox(),h=d.width,p=d.height;return(1-f/Math.max(h,p))*i},enumerable:!1,configurable:!0}),n.prototype.renderMarker=function(t){var r=this,i=this.attributes.marker,a=St(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(yi.markerGroup,"g").style("zIndex",0),Gi(!!i,this.markerGroup,function(){var o,s=r.markerGroup.node(),l=(o=s.childNodes)===null||o===void 0?void 0:o[0],u=typeof i=="string"?new Ut({style:{symbol:i},className:yi.marker.name}):i();l?u.nodeName===l.nodeName?l instanceof Ut?l.update(Se(Se({},a),{symbol:i})):(pve(l,u),gt(l).styles(a)):(l.remove(),gt(u).attr("className",yi.marker.name).styles(a),s.appendChild(u)):(u instanceof Ut||gt(u).attr("className",yi.marker.name).styles(a),s.appendChild(u)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var c=rO(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(c,")")})},n.prototype.renderLabel=function(t){var r=St(this.attributes,"label"),i=r.text,a=Sr(r,["text"]);this.labelGroup=t.maybeAppendByClassName(yi.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(yi.label,function(){return zu(i)}).styles(a)},n.prototype.renderValue=function(t){var r=this,i=St(this.attributes,"value"),a=i.text,o=Sr(i,["text"]);this.valueGroup=t.maybeAppendByClassName(yi.valueGroup,"g").style("zIndex",0),Gi(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(yi.value,function(){return zu(a)}).styles(o)})},n.prototype.createPoptip=function(){var t=this.attributes.poptip,r=t||{};r.render;var i=Sr(r,["render"]),a=new hge({style:ho(pge,i)});return this.poptipGroup=a,a},n.prototype.bindPoptip=function(t){var r=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(t,function(){var o=r.attributes,s=o.labelText,l=o.valueText,u=o.markerFill,c=typeof s=="string"?s:s==null?void 0:s.attr("text"),f=typeof l=="string"?l:l==null?void 0:l.attr("text");if(typeof i.render=="function")return{html:i.render({label:c,value:f,color:u})};var d="";return(typeof c=="string"||typeof c=="number")&&(d+='<div class="component-poptip-label">'.concat(c,"</div>")),(typeof f=="string"||typeof f=="number")&&(d+='<div class="component-poptip-value">'.concat(f,"</div>")),{html:d}})}},n.prototype.renderPoptip=function(t){var r=this,i=this.attributes.poptip;if(i){var a=t.maybeAppendByClassName(yi.value,"g").node(),o=t.maybeAppendByClassName(yi.label,"g").node();[a,o].forEach(function(s){s&&r.bindPoptip(s)})}},n.prototype.renderBackground=function(t){var r=this.shape,i=r.width,a=r.height,o=St(this.attributes,"background");this.background=t.maybeAppendByClassName(yi.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(yi.background,"rect").styles(Se({width:i,height:a},o))},n.prototype.adjustLayout=function(){var t=this.layout,r=t.labelWidth,i=t.valueWidth,a=t.height,o=Z(t.position,3),s=o[0],l=o[1],u=o[2],c=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(c,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(c,")")}),Bw(this.labelGroup.select(yi.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(u,", ").concat(c,")")}),Bw(this.valueGroup.select(yi.value.class).node(),Math.ceil(i)))},n.prototype.render=function(t,r){var i=gt(r),a=t.x,o=a===void 0?0:a,s=t.y,l=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.adjustLayout()},n}(Rr),ru=za({page:"item-page",navigator:"navigator",item:"item"},"items"),ZA=function(e,n,t){return t===void 0&&(t=!0),e?n(e):t},mge=function(e){Bn(n,e);function n(t){var r=e.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Y1,mouseenter:Y1,mouseleave:Y1})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){var t=this.attributes,r=t.gridRow,i=t.gridCol,a=t.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderData",{get:function(){var t=this.attributes,r=t.data,i=t.layout,a=t.poptip,o=St(this.attributes,"item"),s=r.map(function(l,u){var c=l.id,f=c===void 0?u:c,d=l.label,h=l.value;return{id:"".concat(f),index:u,style:Se({layout:i,labelText:d,valueText:h,poptip:a},Object.fromEntries(Object.entries(o).map(function(p){var v=Z(p,2),g=v[0],m=v[1];return[g,la(m,[l,u,r])]})))}});return s},enumerable:!1,configurable:!0}),n.prototype.getGridLayout=function(){var t=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,l=Z(this.navigatorShape,1),u=l[0],c=Z(this.grid,2),f=c[0],d=c[1],h=d*f,p=0;return this.pageViews.children.map(function(v,g){var m,y,b=Math.floor(g/h),x=g%h,_=t.ifHorizontal(d,f),w=[Math.floor(x/_),x%_];i==="vertical"&&w.reverse();var k=Z(w,2),O=k[0],S=k[1],E=(a-u-(d-1)*s)/d,T=v.getBBox().height,M=Z([0,0],2),P=M[0],A=M[1];return i==="horizontal"?(m=Z([p,O*(T+o)],2),P=m[0],A=m[1],p=S===d-1?0:p+E+s):(y=Z([S*(E+s),p],2),P=y[0],A=y[1],p=O===f-1?0:p+T+o),{page:b,index:g,row:O,col:S,pageIndex:x,width:E,height:T,x:P,y:A}})},n.prototype.getFlexLayout=function(){var t=this.attributes,r=t.width,i=t.height,a=t.rowPadding,o=t.colPadding,s=Z(this.navigatorShape,1),l=s[0],u=Z(this.grid,2),c=u[0],f=u[1],d=Z([r-l,i],2),h=d[0],p=d[1],v=Z([0,0,0,0,0,0,0,0],8),g=v[0],m=v[1],y=v[2],b=v[3],x=v[4],_=v[5],w=v[6],k=v[7];return this.pageViews.children.map(function(O,S){var E,T,M,P,A=O.getBBox(),N=A.width,R=A.height,C=w===0?0:o,L=w+C+N;if(L<=h&&ZA(x,function(j){return j<f}))return E=Z([w+C,k,L],3),g=E[0],m=E[1],w=E[2],{width:N,height:R,x:g,y:m,page:y,index:S,pageIndex:b++,row:_,col:x++};T=Z([_+1,0,0,k+R+a],4),_=T[0],x=T[1],w=T[2],k=T[3];var I=k+R;return I<=p&&ZA(_,function(j){return j<c})?(M=Z([w,k,N],3),g=M[0],m=M[1],w=M[2],{width:N,height:R,x:g,y:m,page:y,index:S,pageIndex:b++,row:_,col:x++}):(P=Z([0,0,N,0,y+1,0,0,0],8),g=P[0],m=P[1],w=P[2],k=P[3],y=P[4],b=P[5],_=P[6],x=P[7],{width:N,height:R,x:g,y:m,page:y,index:S,pageIndex:b++,row:_,col:x++})})},Object.defineProperty(n.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=t.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):r},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(t,r){var i=this.attributes.orientation;return Yo(i,t,r)},n.prototype.flattenPage=function(t){t.querySelectorAll(ru.item.class).forEach(function(r){t.appendChild(r)}),t.querySelectorAll(ru.page.class).forEach(function(r){var i=t.removeChild(r);i.destroy()})},n.prototype.renderItems=function(t){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave;this.flattenPage(t);var s=this.dispatchCustomEvent.bind(this);gt(t).selectAll(ru.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var c=u.style;return new gge({style:c})}).attr("className",ru.item.name).on("click",function(){i==null||i(this),s("itemClick",{item:this})}).on("pointerenter",function(){a==null||a(this),s("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),s("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var c=u.style;this.update(c)})},function(l){return l.remove()})},n.prototype.relayoutNavigator=function(){var t,r=this.attributes,i=r.layout,a=r.width,o=((t=this.pageViews.children[0])===null||t===void 0?void 0:t.getBBox().height)||0,s=Z(this.navigatorShape,2),l=s[0],u=s[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:o-u}:{})},n.prototype.adjustLayout=function(){var t=this,r=Object.entries(qpe(this.itemsLayout,"page")).map(function(a){var o=Z(a,2),s=o[0],l=o[1];return{page:s,layouts:l}}),i=Ve([],Z(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=t.pageViews.appendChild(new fo({className:ru.page.name}));o.forEach(function(l){var u=l.x,c=l.y,f=l.index,d=l.width,h=l.height,p=i[f];s.appendChild(p),T$(p,"__layout__",l),p.update({x:u,y:c,width:d,height:h})})}),this.relayoutNavigator()},n.prototype.renderNavigator=function(t){var r=this.attributes.orientation,i=St(this.attributes,"nav"),a=ho({orientation:r},i),o=this;return t.selectAll(ru.navigator.class).data(["nav"]).join(function(s){return s.append(function(){return new tge({style:a})}).attr("className",ru.navigator.name).each(function(){o.navigator=this})},function(s){return s.each(function(){this.update(a)})},function(s){return s.remove()}),this.navigator},n.prototype.getBBox=function(){return this.navigator.getBBox()},n.prototype.render=function(t,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(gt(r));this.renderItems(a.getContainer()),this.adjustLayout()}},n.prototype.dispatchCustomEvent=function(t,r){var i=new _r(t,{detail:r});this.dispatchEvent(i)},n}(Rr),Td=za({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),oF={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},yge=function(e){Bn(n,e);function n(t){return e.call(this,t,oF)||this}return n.prototype.render=function(t,r){var i=gt(r).maybeAppendByClassName(Td.markerGroup,"g");this.renderMarker(i);var a=gt(r).maybeAppendByClassName(Td.labelGroup,"g");this.renderLabel(a)},n.prototype.renderMarker=function(t){var r=this,i=this.attributes,a=i.orientation,o=i.markerSymbol,s=o===void 0?Yo(a,"horizontalHandle","verticalHandle"):o;Gi(!!s,t,function(l){var u=St(r.attributes,"marker"),c=Se({symbol:s},u);r.marker=l.maybeAppendByClassName(Td.marker,function(){return new Ut({style:c})}).update(c)})},n.prototype.renderLabel=function(t){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,l=s===void 0?0:s,u=i.formatter;Gi(a,t,function(c){var f,d=St(r.attributes,"label"),h=d.text,p=Sr(d,["text"]),v=((f=c.select(Td.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,m=g===void 0?0:g,y=v.height,b=y===void 0?0:y,x=Z(Yo(o,[0,b+l,"center","top"],[m+l,0,"start","middle"]),4),_=x[0],w=x[1],k=x[2],O=x[3];c.maybeAppendByClassName(Td.label,"text").styles(Se(Se({},p),{x:_,y:w,text:u(h).toString(),textAlign:k,textBaseline:O}))})},n}(Rr),sF={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},bge=ho({},sF,{}),xge=ho({},sF,Fo(oF,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),wge=.01,Ur=za({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),_ge=function(e){Bn(n,e);function n(t){return e.call(this,t,bge)||this}return n.prototype.renderTitle=function(t,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,l=St(this.attributes,"title"),u=Z(Fs(l),2),c=u[0],f=u[1];this.titleGroup=t.maybeAppendByClassName(Ur.titleGroup,"g").styles(f);var d=Se(Se({width:r,height:i},c),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(Ur.title,function(){return new rF({style:d})}).update(d)},n.prototype.renderItems=function(t,r){var i=r.x,a=r.y,o=r.width,s=r.height,l=St(this.attributes,"title",!0),u=Z(Fs(l),2),c=u[0],f=u[1],d=Se(Se({},c),{width:o,height:s,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(Ur.itemsGroup,"g").styles(Se(Se({},f),{transform:"translate(".concat(i,", ").concat(a,")")}));var h=this;this.itemsGroup.selectAll(Ur.items.class).data(["items"]).join(function(p){return p.append(function(){return new mge({style:d})}).attr("className",Ur.items.name).each(function(){h.items=gt(this)})},function(p){return p.update(d)},function(p){return p.remove()})},n.prototype.adjustLayout=function(){var t=this.attributes.showTitle;if(t){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(n.prototype,"availableSpace",{get:function(){var t=this.attributes,r=t.showTitle,i=t.width,a=t.height;return r?this.title.node().getAvailableSpace():new Ln(0,0,i,a)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var t,r,i=(t=this.title)===null||t===void 0?void 0:t.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?e.prototype.getBBox.call(this):q0e(i,a)},n.prototype.render=function(t,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,l=s===void 0?0:s,u=i.y,c=u===void 0?0:u,f=gt(r);r.style.transform="translate(".concat(l,", ").concat(c,")"),this.renderTitle(f,a,o),this.renderItems(f,this.availableSpace),this.adjustLayout()},n}(Rr),kge={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},Lb=za({background:"background",labelGroup:"label-group",label:"label"},"indicator"),Oge=function(e){Bn(n,e);function n(t){var r=e.call(this,t,kge)||this;return r.point=[0,0],r.group=r.appendChild(new fo({})),r.isMutationObserved=!0,r}return n.prototype.renderBackground=function(){if(this.label){var t=this.attributes,r=t.position,i=t.padding,a=Z(Jr(i),4),o=a[0],s=a[1],l=a[2],u=a[3],c=this.label.node().getLocalBounds(),f=c.min,d=c.max,h=new Ln(f[0]-u,f[1]-o,d[0]+s-f[0]+u,d[1]+l-f[1]+o),p=this.getPath(r,h),v=St(this.attributes,"background");this.background=gt(this.group).maybeAppendByClassName(Lb.background,"path").styles(Se(Se({},v),{d:p})),this.group.appendChild(this.label.node())}},n.prototype.renderLabel=function(){var t=this.attributes,r=t.formatter,i=t.labelText,a=St(this.attributes,"label"),o=Z(Fs(a),2),s=o[0],l=o[1];s.text;var u=Sr(s,["text"]);if(this.label=gt(this.group).maybeAppendByClassName(Lb.labelGroup,"g").styles(l),!!i){var c=this.label.maybeAppendByClassName(Lb.label,function(){return zu(r(i))}).style("text",r(i).toString());c.selectAll("text").styles(u)}},n.prototype.adjustLayout=function(){var t=Z(this.point,2),r=t[0],i=t[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},n.prototype.getPath=function(t,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,l=r.height,u=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+l-i],["A",i,i,0,0,1,a+s-i,o+l],["L",a+i,o+l],["A",i,i,0,0,1,a,o+l-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],c={top:4,right:6,bottom:0,left:2},f=c[t],d=this.createCorner([u[f].slice(-2),u[f+1].slice(-2)]);return u.splice.apply(u,Ve([f+1,1],Z(d),!1)),u[0][0]="M",u},n.prototype.createCorner=function(t,r){r===void 0&&(r=10);var i=.8,a=hve.apply(void 0,Ve([],Z(t),!1)),o=Z(t,2),s=Z(o[0],2),l=s[0],u=s[1],c=Z(o[1],2),f=c[0],d=c[1],h=Z(a?[f-l,[l,f]]:[d-u,[u,d]],2),p=h[0],v=Z(h[1],2),g=v[0],m=v[1],y=p/2,b=p/Math.abs(p),x=r*b,_=x/2,w=x*Math.sqrt(3)/2*i,k=Z([g,g+y-_,g+y,g+y+_,m],5),O=k[0],S=k[1],E=k[2],T=k[3],M=k[4];return a?(this.point=[E,u-w],[["L",O,u],["L",S,u],["L",E,u-w],["L",T,u],["L",M,u]]):(this.point=[l+w,E],[["L",l,O],["L",l,S],["L",l+w,E],["L",l,T],["L",l,M]])},n.prototype.applyVisibility=function(){var t=this.attributes.visibility;t==="hidden"?$l(this):Wp(this)},n.prototype.bindEvents=function(){this.label.on(Nn.BOUNDS_CHANGED,this.renderBackground)},n.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},n}(Rr);function Sge(e,n){for(var t=1;t<e.length;t+=1){var r=e[t-1],i=e[t];if(n>=r&&n<=i)return[r,i]}return[n,n]}function Ege(e,n,t){var r=Array.from(n),i=e.length;return new Array(i).fill(0).reduce(function(a,o,s){var l=r[s%r.length];return a+=" ".concat(e[s],":").concat(l).concat(s<i-1?" ".concat(e[s+1],":").concat(l):"")},"l(".concat(t==="horizontal"?"0":"270",")"))}function QA(e,n){var t=Z(Sge(e,n),2),r=t[0],i=t[1];return{tick:n>(r+i)/2?i:r,range:[r,i]}}var ep=za({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function lF(e){var n=e.orientation,t=e.size,r=e.length;return Yo(n,[r,t],[t,r])}function uF(e){var n=e.type,t=Z(lF(e),2),r=t[0],i=t[1];return n==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function Tge(e){return uF(e)}function Mge(e){var n=e.orientation,t=e.color,r=e.block,i=e.partition,a;if(tr(t)){var o=20;a=new Array(o).fill(0).map(function(u,c,f){return t(c/(f.length-1))})}else a=t;var s=a.length,l=a.map(function(u){return Kc(u).toString()});return s?s===1?l[0]:r?Ege(i,l,n):l.reduce(function(u,c,f){return u+=" ".concat(f/(s-1),":").concat(c)},"l(".concat(Yo(n,"0","270"),")")):""}function Age(e){var n=e.orientation,t=e.range;if(!t)return[];var r=Z(lF(e),2),i=r[0],a=r[1],o=Z(t,2),s=o[0],l=o[1],u=Yo(n,s*i,0),c=Yo(n,0,s*a),f=Yo(n,l*i,i),d=Yo(n,a,l*a);return[["M",u,c],["L",u,d],["L",f,d],["L",f,c],["Z"]]}function Pge(e,n){var t=St(n,"track");e.maybeAppendByClassName(ep.track,"path").styles(Se({d:uF(n)},t))}function Cge(e,n){var t=St(n,"selection"),r=Mge(n),i=e.maybeAppendByClassName(ep.selection,"path").styles(Se({d:Tge(n),fill:r},t)),a=i.maybeAppendByClassName(ep.clipPath,"path").styles({d:Age(n)}).node();i.style("clipPath",a)}var Rge=function(e){Bn(n,e);function n(t){return e.call(this,t,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return n.prototype.render=function(t,r){var i=gt(r).maybeAppendByClassName(ep.trackGroup,"g");Pge(i,t);var a=gt(r).maybeAppendByClassName(ep.selectionGroup,"g");Cge(a,t)},n}(Rr);function Nge(e){return{min:Math.min.apply(Math,Ve([],Z(e.map(function(n){return n.value})),!1)),max:Math.max.apply(Math,Ve([],Z(e.map(function(n){return n.value})),!1))}}var Lge=function(e){Bn(n,e);function n(t){var r=e.call(this,t,xge)||this;return r.eventToOffsetScale=new wn({}),r.innerRibbonScale=new wn({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var l=r.getValueByCanvasPoint(i);if(s){var u=QA(o.map(function(d){var h=d.value;return h}),l).range,c=r.getRealSelection(u);r.showIndicator((u[0]+u[1])/2,"".concat(c[0],"-").concat(c[1])),r.dispatchIndicated(l,u)}else{var f=r.getTickValue(l);r.showIndicator(f,"".concat(r.getRealValue(f))),r.dispatchIndicated(f)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=Z(r.selection,2),s=o[0],l=o[1],u=r.getTickValue(r.getValueByCanvasPoint(i)),c=u-r.prevValue;a==="start"?s!==u&&r.updateSelection(u,l):a==="end"?l!==u&&r.updateSelection(s,u):a==="ribbon"&&c!==0&&(r.prevValue=u,r.updateSelection(c,c,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(n.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var t=this.attributes,r=t.width,i=t.height;return new Ln(0,0,r,i)},n.prototype.render=function(t,r){var i=this,a=t.showLabel;this.renderTitle(gt(r));var o=this.availableSpace,s=o.x,l=o.y,u=gt(r).maybeAppendByClassName(Ur.contentGroup,"g").styles({transform:"translate(".concat(s,", ").concat(l,")")}),c=u.maybeAppendByClassName(Ur.labelGroup,"g").styles({zIndex:1});Gi(!!a,c,function(d){i.renderLabel(d)});var f=u.maybeAppendByClassName(Ur.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=u.maybeAppendByClassName(Ur.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(f),this.renderIndicator(u),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(n.prototype,"range",{get:function(){var t=this.attributes,r=t.data,i=t.domain;return i?{min:i[0],max:i[1]}:Nge(r)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonScale",{get:function(){var t=this.range,r=t.min,i=t.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonRange",{get:function(){var t=Z(this.selection,2),r=t[0],i=t[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){var t=this.range,r=t.min,i=t.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=Z(o,2),l=s[0],u=s[1];return[l,u]},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(t,r){return Yo(this.attributes.orientation,typeof t=="function"?t():t,typeof r=="function"?r():r)},n.prototype.renderTitle=function(t){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,l=St(this.attributes,"title"),u=Se(Se({},l),{width:o,height:s,text:a}),c=this;t.selectAll(Ur.title.class).data(i?[a]:[]).join(function(f){return f.append(function(){return new rF({style:u})}).attr("className",Ur.title.name).each(function(){c.title=this})},function(f){return f.update(u)},function(f){return f.each(function(){c.title=void 0}).remove()})},Object.defineProperty(n.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var t=this.attributes,r=t.width,i=t.height;return new Ln(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelFixedSpacing",{get:function(){var t=this.attributes.showTick;return t?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelPosition",{get:function(){var t=this.attributes,r=t.orientation,i=t.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelBBox",{get:function(){var t,r=this.attributes.showLabel;if(!r)return new Ln(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((t=this.label.querySelector(en.labelGroup.class))===null||t===void 0?void 0:t.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new Ln(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelShape",{get:function(){var t=this.attributes,r=t.showLabel,i=t.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,l=o.height,u=this.ifHorizontal(l,s)+a+this.labelFixedSpacing,c=this.ifHorizontal(s,l);return{width:s,height:l,size:u,length:c}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonBBox",{get:function(){var t=this.attributes,r=t.showHandle,i=t.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,l=this.labelShape,u=l.size,c=l.length,f=Z(this.ifHorizontal([s,o],[o,s]),2),d=f[0],h=f[1],p=r?this.handleShape:{size:0,length:0},v=p.size,g=p.length,m=this.handleOffsetRatio,y=0,b=this.labelPosition;i?y=i:["bottom","right"].includes(b)?y=Math.min(d-u,(d-v)/m):d*(1-m)>v?y=Math.max(d-u,0):y=Math.max((d-u-v)/m,0);var x=Math.max(g,c),_=h-x,w=Z(this.ifHorizontal([_,y],[y,_]),2),k=w[0],O=w[1],S=["top","left"].includes(b)?u:0,E=Z(this.ifHorizontal([x/2,S],[S,x/2]),2),T=E[0],M=E[1];return new Ln(T,M,k,O)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonShape",{get:function(){var t=this.ribbonBBox,r=t.width,i=t.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),n.prototype.renderRibbon=function(t){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,l=r.block,u=St(this.attributes,"ribbon"),c=this.range,f=c.min,d=c.max,h=this.ribbonBBox,p=h.x,v=h.y,g=this.ribbonShape,m=g.length,y=g.size,b=ho({transform:"translate(".concat(p,", ").concat(v,")"),length:m,size:y,type:a,orientation:o,color:s,block:l,partition:i.map(function(x){return(x.value-f)/(d-f)}),range:this.ribbonRange},u);this.ribbon=t.maybeAppendByClassName(Ur.ribbon,function(){return new Rge({style:b})}).update(b)},n.prototype.getHandleClassName=function(t){return"".concat(Ur.prefix("".concat(t,"-handle")))},n.prototype.renderHandles=function(){var t=this.attributes,r=t.showHandle,i=t.orientation,a=St(this.attributes,"handle"),o=Z(this.selection,2),s=o[0],l=o[1],u=Se(Se({},a),{orientation:i}),c=a.shape,f=c===void 0?"slider":c,d=f==="basic"?yge:U6,h=this;this.handlesGroup.selectAll(Ur.handle.class).data(r?[{value:s,type:"start"},{value:l,type:"end"}]:[],function(p){return p.type}).join(function(p){return p.append(function(){return new d({style:u})}).attr("className",function(v){var g=v.type;return"".concat(Ur.handle," ").concat(h.getHandleClassName(g))}).each(function(v){var g=v.type,m=v.value;this.update({labelText:m});var y="".concat(g,"Handle");h[y]=this,this.addEventListener("pointerdown",h.onDragStart(g))})},function(p){return p.update(u).each(function(v){var g=v.value;this.update({labelText:g})})},function(p){return p.each(function(v){var g=v.type,m="".concat(g,"Handle");h[m]=void 0}).remove()})},n.prototype.adjustHandles=function(){var t=Z(this.selection,2),r=t[0],i=t[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i)},Object.defineProperty(n.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Ln(0,0,0,0);var t=this.startHandle.getBBox(),r=t.width,i=t.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,l=Z([Math.max(r,o),Math.max(i,s)],2),u=l[0],c=l[1];return this.cacheHandleBBox=new Ln(0,0,u,c),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"handleShape",{get:function(){var t=this.handleBBox,r=t.width,i=t.height,a=Z(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),n.prototype.setHandlePosition=function(t,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,l=this.ribbonShape.size,u=this.getOffset(r),c=Z(this.ifHorizontal([o+u,s+l*this.handleOffsetRatio],[o+l*this.handleOffsetRatio,s+u]),2),f=c[0],d=c[1],h=this.handlesGroup.select(".".concat(this.getHandleClassName(t))).node();h==null||h.update({transform:"translate(".concat(f,", ").concat(d,")"),formatter:i})},n.prototype.renderIndicator=function(t){var r=St(this.attributes,"indicator");this.indicator=t.maybeAppendByClassName(Ur.indicator,function(){return new Oge({})}).update(r)},Object.defineProperty(n.prototype,"labelData",{get:function(){var t=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var l,u,c=(l=a==null?void 0:a.id)!==null&&l!==void 0?l:o.toString();if(i.push(Se(Se({},a),{id:c,index:o,type:"value",label:(u=a==null?void 0:a.label)!==null&&u!==void 0?u:a.value.toString(),value:t.ribbonScale.map(a.value)})),o<s.length-1){var f=s[o+1],d=Z([a.value,f.value],2),h=d[0],p=d[1],v=(h+p)/2;i.push(Se(Se({},a),{id:c,index:o,type:"range",range:[h,p],label:[h,p].join("~"),value:t.ribbonScale.map(v)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelStyle",{get:function(){var t=Z(["center","middle"],2),r=t[0],i=t[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),n.prototype.renderLabel=function(t){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,l=St(this.attributes,"tick"),u=St(this.attributes,"label"),c=u.align,f=ho(Se({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),Fo(l,"tick"),Fo(u,"label"),{data:this.labelData}),d={tickFilter:function(p,v,g){return(p==null?void 0:p.type)!=="value"?!1:o?o(p,p.index,g.filter(function(m){return m.type!=="value"})):!0},labelFilter:function(p,v,g){return(p==null?void 0:p.type)!==c?!1:o?o(p,p.index,g.filter(function(m){return m.type===c})):!0},labelFormatter:s},h=Se(Se(Se({},f),d),{labelOverlap:[{type:"hide"}]});this.label=t.maybeAppendByClassName(Ur.label,function(){return new cO({style:h})}).node(),this.label.update(h,!1)},Object.defineProperty(n.prototype,"labelAxisStyle",{get:function(){var t=this.attributes,r=t.showTick,i=t.labelDirection,a=t.labelSpacing,o=t.tickLength,s=this.ribbonShape.size,l=this.labelPosition,u=this.labelFixedSpacing,c=Z([0,0,0],3),f=c[0],d=c[1],h=c[2],p=o??s;return r?(h=p,d=u,i==="positive"?l==="right"?(f=p,h=p):l==="bottom"&&(f=h):i==="negative"&&(l==="top"||l==="left")&&(f=s)):i==="positive"?l==="right"?d=p:l==="bottom"&&(f=s+u,d=a):i==="negative"&&(l==="left"||l==="top")&&(d=a),{offset:f,spacing:d,tickLength:h}},enumerable:!1,configurable:!0}),n.prototype.adjustLabel=function(){var t=this.attributes.showLabel;if(t){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,l=this.labelAxisStyle,u=l.offset,c=l.spacing,f=l.tickLength,d=Z(this.ifHorizontal([[i,a+u],[i+o,a+u]],[[i+u,a+s],[i+u,a]]),2),h=d[0],p=d[1];this.label.update({startPos:h,endPos:p,tickLength:f,labelSpacing:c},!1)}},n.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},n.prototype.showIndicator=function(t,r){r===void 0&&(r="".concat(t));var i=this.attributes.showIndicator;if(!i||typeof t!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,l=this.ribbonBBox,u=l.x,c=l.y,f=Bt(t,o,s),d=this.getOffset(f),h=this.ifHorizontal([d+u,c],[u,d+c]);this.indicator.update({x:h[0],y:h[1],position:this.ifHorizontal("top","left"),labelText:r}),Wp(this.indicator.node())},n.prototype.hideIndicator=function(){$l(this.indicator.node())},n.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},n.prototype.setSelection=function(t,r){this.updateSelection(t,r)},n.prototype.updateSelection=function(t,r,i){var a;i===void 0&&(i=!1);var o=Z(this.selection,2),s=o[0],l=o[1],u=Z([t,r],2),c=u[0],f=u[1];i&&(c+=s,f+=l);var d=this.range,h=d.min,p=d.max;a=Z(oge([h,p],[c,f],this.selection),2),c=a[0],f=a[1],this.update({defaultValue:[c,f]}),this.dispatchSelection()},Object.defineProperty(n.prototype,"step",{get:function(){var t=this.attributes.step,r=t===void 0?1:t,i=this.range,a=i.min,o=i.max;return lt(r)?jw((o-a)*wge,0):r},enumerable:!1,configurable:!0}),n.prototype.getTickValue=function(t){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?QA(i.map(function(s){var l=s.value;return l}),t).tick:nge(t,this.step,o)},n.prototype.getValueByCanvasPoint=function(t){var r=this.range,i=r.min,a=r.max,o=Z(this.ribbon.node().getPosition(),2),s=o[0],l=o[1],u=this.ifHorizontal(s,l),c=this.ifHorizontal.apply(this,Ve([],Z(Xg(t)),!1)),f=c-u,d=Bt(this.getOffset(f,!0),i,a);return d},n.prototype.getOffset=function(t,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[a,o],range:[0,s]}),r?l.invert(t):l.map(t)},n.prototype.getRealSelection=function(t){var r=this.range.max,i=Z(t,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},n.prototype.getRealValue=function(t){var r=this.range.max;return this.ifHorizontal(t,r-t)},n.prototype.dispatchSelection=function(){var t=this.getRealSelection(this.selection),r=new _r("valuechange",{detail:{value:t}});this.dispatchEvent(r)},n.prototype.dispatchIndicated=function(t,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:t,range:r}},function(){return{value:a-t,range:r?i.getRealSelection(r):void 0}}),s=new _r("indicate",{detail:o});this.dispatchEvent(s)},n}(Rr);function Hw(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var JA={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function $ge(e){var n;e===void 0&&(e="");var t=Hw(e);return n={},n[".".concat(t.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},n[".".concat(t.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},n[".".concat(t.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},n[".".concat(t.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},n[".".concat(t.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},n[".".concat(t.NAME)]={display:"flex","align-items":"center","max-width":"216px"},n[".".concat(t.NAME_LABEL)]=Se({flex:1},JA),n[".".concat(t.VALUE)]=Se({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},JA),n[".".concat(t.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n[".".concat(t.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n}var Ige=function(e){Bn(n,e);function n(t){var r=this,i,a,o=(a=(i=t.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=Hw(o);return r=e.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:$ge(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(n.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),n.prototype.getContainer=function(){return this.element},Object.defineProperty(n.prototype,"elementSize",{get:function(){var t=this.element.offsetWidth,r=this.element.offsetHeight;return{width:t,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,r=t.data,i=t.template;return r.map(function(a,o){var s=a.name,l=s===void 0?"":s,u=a.color,c=u===void 0?"black":u,f=a.index,d=Sr(a,["name","color","index"]),h=Se({name:l,color:c,index:f??o},d);return gT(Gee(i.item,h))})},enumerable:!1,configurable:!0}),n.prototype.render=function(t,r){this.renderHTMLTooltipElement(),this.updatePosition()},n.prototype.destroy=function(){var t;(t=this.element)===null||t===void 0||t.remove(),e.prototype.destroy.call(this)},n.prototype.show=function(t,r){var i=this;if(t!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=t??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},n.prototype.hide=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(t,r)||(this.element.style.visibility="hidden")},n.prototype.initShape=function(){var t=this.attributes.template;this.element=gT(t.container),this.id&&this.element.setAttribute("id",this.id)},n.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&(typeof t=="string"?this.element.innerHTML=t:DA(this.element,t))}},n.prototype.renderHTMLTooltipElement=function(){var t,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,l=i.style,u=i.content,c=Hw(a.prefixCls),f=this.element;if(this.element.style.pointerEvents=s?"auto":"none",u)this.renderCustomContent();else{o?(f.innerHTML=a.title,f.getElementsByClassName(c.TITLE)[0].innerHTML=o):(r=(t=f.getElementsByClassName(c.TITLE))===null||t===void 0?void 0:t[0])===null||r===void 0||r.remove();var d=this.HTMLTooltipItemsElements,h=document.createElement("ul");h.className=c.LIST,DA(h,d);var p=this.element.querySelector(".".concat(c.LIST));p?p.replaceWith(h):f.appendChild(h)}mve(f,l)},n.prototype.getRelativeOffsetFromCursor=function(t){var r=this.attributes,i=r.position,a=r.offset,o=t||i,s=o.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},u=this.elementSize,c=u.width,f=u.height,d=[-c/2,-f/2];return s.forEach(function(h){var p=Z(d,2),v=p[0],g=p[1],m=Z(l[h],2),y=m[0],b=m[1];d=[v+(c/2+a[0])*y,g+(f/2+a[1])*b]}),d},n.prototype.setOffsetPosition=function(t){var r=Z(t,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=s===void 0?0:s,u=o.y,c=u===void 0?0:u,f=o.container,d=f.x,h=f.y;this.element.style.left="".concat(+l+d+i,"px"),this.element.style.top="".concat(+c+h+a,"px")},n.prototype.updatePosition=function(){var t=this.attributes.showDelay,r=t===void 0?60:t,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},n.prototype.autoPosition=function(t){var r=Z(t,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=o.y,u=o.bounding,c=o.position;if(!u)return[i,a];var f=this.element,d=f.offsetWidth,h=f.offsetHeight,p=Z([+s+i,+l+a],2),v=p[0],g=p[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},y=u.x,b=u.y,x=u.width,_=u.height,w={left:v<y,right:v+d>y+x,top:g<b,bottom:g+h>b+_},k=[];c.split("-").forEach(function(S){w[S]?k.push(m[S]):k.push(S)});var O=k.join("-");return this.getRelativeOffsetFromCursor(O)},n.prototype.isCursorEntered=function(t,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,l=i.height;return new Ln(a,o,s,l).isPointIn(t,r)}return!1},n.prototype.closeTransition=function(t){var r=this,i=this.element.style.transition;this.element.style.transition="none",t(),setTimeout(function(){r.element.style.transition=i},10)},n.tag="tooltip",n}(Rr),Dge=function(e){Bn(n,e);function n(t){var r=e.call(this,t)||this;r.layoutEvents=[Nn.BOUNDS_CHANGED,Nn.INSERTED,Nn.REMOVED],r.$margin=Jr(0),r.$padding=Jr(0);var i=t.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,l=s===void 0?0:s;return r.margin=o,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(n.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=Jr(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=Jr(t)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var t=this.attributes,r=t.x,i=r===void 0?0:r,a=t.y,o=a===void 0?0:a,s=t.width,l=t.height,u=Z(this.$margin,4),c=u[0],f=u[1],d=u[2],h=u[3];return new Ln(i-h,o-c,s+h+f,l+c+d)},n.prototype.appendChild=function(t,r){return t.isMutationObserved=!0,e.prototype.appendChild.call(this,t,r),t},n.prototype.getAvailableSpace=function(){var t=this.attributes,r=t.width,i=t.height,a=Z(this.$padding,4),o=a[0],s=a[1],l=a[2],u=a[3],c=Z(this.$margin,4),f=c[0],d=c[3];return new Ln(u+d,o+f,r-u-s,i-o-l)},n.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var t=this.attributes,r=t.x,i=t.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=nve(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var l=a[s],u=l.x,c=l.y;o.style.transform="translate(".concat(u,", ").concat(c,")")})}catch{}},n.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach(function(r){t.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,t.layout())})})},n.prototype.attributeChangedCallback=function(t,r,i){t==="margin"?this.margin=i:t==="padding"&&(this.padding=i),this.layout()},n}(fo),$b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Fge(e){const{min:[n,t],max:[r,i]}=e.getLocalBounds();let a=0,o=0;return n>0&&(a=n),r<0&&(a=r),t>0&&(o=t),i<0&&(o=i),[a,o]}function Bge(e,n=[]){const[t=0,r=0,i=t,a=r]=n,o=e.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:l,halfExtents:u}=e.getLocalBounds(),[c,f]=l,[d,h]=u;return o.setEulerAngles(s),{x:c-a,y:f-t,width:d*2+a+r,height:h*2+t+i}}function jge(e,n,t,r,i=!0,a=!0){const o=f=>ec()(f);if(!n[0]&&!n[1])return o([Fge(e),n]);if(!t.length)return o([[0,0],n]);const[s,l]=t,u=[...l],c=[...s];if(l[0]!==s[0]){const f=i?-4:4;u[1]=l[1],a&&!i&&(u[0]=Math.max(s[0],l[0]-f),l[1]<s[1]?c[1]=u[1]:(c[1]=s[1],c[0]=Math.max(c[0],u[0]-f))),!a&&!i&&(u[0]=Math.max(s[0],l[0]-f),l[1]>s[1]?c[1]=u[1]:(c[1]=s[1],c[0]=Math.max(c[0],u[0]-f))),!a&&i&&(u[0]=Math.min(s[0],l[0]-f),l[1]>s[1]?c[1]=u[1]:(c[1]=s[1],c[0]=Math.min(c[0],u[0]-f))),a&&i&&(u[0]=Math.min(s[0],l[0]-f),l[1]<s[1]?c[1]=u[1]:(c[1]=s[1],c[0]=Math.min(c[0],u[0]-f)))}return o([l,u,c,s,n])}const cF=Cf(e=>{const n=e.attributes,{className:t,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:l,y:u,x0:c=l,y0:f=u,text:d,background:h,connector:p,startMarker:v,endMarker:g,coordCenter:m,innerHTML:y}=n,b=$b(n,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${l}, ${u})`,[l,u,c,f].some(L=>!jt(L))){e.children.forEach(L=>L.remove());return}const x=Pe(b,"background"),{padding:_}=x,w=$b(x,["padding"]),k=Pe(b,"connector"),{points:O=[]}=k,S=$b(k,["points"]);let E;y?E=ot(e).maybeAppend("html","html",t).style("zIndex",0).style("innerHTML",y).call(qe,Object.assign({transform:o,transformOrigin:s},b)).node():E=ot(e).maybeAppend("text","text").style("zIndex",0).style("text",d).call(qe,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},b)).node();const T=ot(e).maybeAppend("background","rect").style("zIndex",-1).call(qe,Bge(E,_)).call(qe,h?w:{}).node(),M=+c<m[0],P=+f<m[1],A=[+c-+l,+f-+u],N=jge(T,A,O,m,M,P),R=v&&new Ut({id:"startMarker",style:Object.assign({x:0,y:0},Pe(b,"startMarker"))}),C=g&&new Ut({id:"endMarker",style:Object.assign({x:0,y:0},Pe(b,"endMarker"))});ot(e).maybeAppend("connector","path").style("zIndex",0).style("d",N).style("markerStart",R).style("markerEnd",C).call(qe,p?S:{})}),fF=(e,n)=>{const{coordinate:t}=n;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:u=0,transform:c=""}=i,f={text:String(s),stroke:o,fill:o,fontSize:l},[[d,h]]=r;return ot(new cF).style("x",d).style("y",h).call(qe,a).style("transform",`${c}rotate(${+u})`).style("coordCenter",t.getCenter()).call(qe,f).call(qe,e).node()}};fF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Uw=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function zge(e){const n=e/Math.sqrt(2),t=e*Math.sqrt(2),[r,i]=[-n,n-t],[a,o]=[0,0],[s,l]=[n,n-t];return[["M",r,i],["A",e,e,0,1,1,s,l],["L",a,o],["Z"]]}function Yge(e){const{min:n,max:t}=e.getLocalBounds();return[(n[0]+t[0])*.5,(n[1]+t[1])*.5]}const Gge=Cf(e=>{const n=e.attributes,{class:t,x:r,y:i,transform:a}=n,o=Uw(n,["class","x","y","transform"]),s=Pe(o,"marker"),{size:l=24}=s,u=()=>zge(l/2),c=ot(e).maybeAppend("marker",()=>new Ut({})).call(h=>h.node().update(Object.assign({symbol:u},s))).node(),[f,d]=Yge(c);ot(e).maybeAppend("text","text").style("x",f).style("y",d).call(qe,o)}),dF=(e,n)=>{const t=Uw(e,[]);return(r,i,a)=>{const{color:o}=a,s=Uw(a,["color"]),{color:l=o,text:u=""}=i,c={text:String(u),stroke:l,fill:l},[[f,d]]=r;return ot(new Gge).call(qe,s).style("transform",`translate(${f},${d})`).call(qe,c).call(qe,t).node()}};dF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const hF=(e,n)=>{const{coordinate:t}=n;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:u=0,transform:c=""}=i,f={text:String(s),stroke:o,fill:o,fontSize:l,textAlign:"center",textBaseline:"middle"},[[d,h]]=r;return ot(new rs).style("x",d).style("y",h).call(qe,a).style("transformOrigin","center center").style("transform",`${c}rotate(${u}deg)`).style("coordCenter",t.getCenter()).call(qe,f).call(qe,e).node()}};hF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Wge=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Hge(e,n){const t=[],r=[],i=[];let a=!1,o=null;const s=e.length/2;for(let l=0;l<s;l++){const u=e[l],c=e[l+s];if([...u,...c].some(f=>!n(f)))a=!0;else{if(t.push(u),r.push(c),a&&o){a=!1;const[f,d]=o;i.push([f,u,d,c])}o=[u,c]}}return[t.concat(r),i]}const eP=Cf(e=>{const{areaPath:n,connectPath:t,areaStyle:r,connectStyle:i}=e.attributes,a=e.ownerDocument;ot(e).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",t).call(qe,i),ot(e).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",n).call(qe,r)}),xo=(e,n)=>{const{curve:t,gradient:r=!1,defined:i=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:a=!1}=e,o=Wge(e,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=n;return(u,c,f)=>{const{color:d}=f,{color:h=d,seriesColor:p,seriesX:v,seriesY:g}=c,m=_n(s),y=WD(s,c),b=r&&p?GD(p,v,g,r,void 0,m):h,x=Object.assign(Object.assign(Object.assign(Object.assign({},f),{stroke:b,fill:b}),y&&{transform:y}),o),[_,w]=Hge(u,i),k=Pe(x,"connect"),O=!!w.length,S=E=>ot(l.createElement("path",{})).style("d",E||"").call(qe,x).node();if(nn(s)){const E=T=>{const M=s.getCenter(),P=T.slice(0,T.length/2),A=T.slice(T.length/2);return oae().angle((N,R)=>Ef(Qn(P[R],M))).outerRadius((N,R)=>Yn(P[R],M)).innerRadius((N,R)=>Yn(A[R],M)).defined((N,R)=>[...P[R],...A[R]].every(i)).curve(t)(A)};return!O||a&&!Object.keys(k).length?S(E(_)):O&&!a?S(E(u)):ot(new eP).style("areaStyle",x).style("connectStyle",Object.assign(Object.assign({},k),o)).style("areaPath",E(u)).style("connectPath",w.map(E).join("")).node()}else{const E=T=>{const M=T.slice(0,T.length/2),P=T.slice(T.length/2);return m?fw().y((A,N)=>M[N][1]).x1((A,N)=>M[N][0]).x0((A,N)=>P[N][0]).defined((A,N)=>[...M[N],...P[N]].every(i)).curve(t)(M):fw().x((A,N)=>M[N][0]).y1((A,N)=>M[N][1]).y0((A,N)=>P[N][1]).defined((A,N)=>[...M[N],...P[N]].every(i)).curve(t)(M)};return!O||a&&!Object.keys(k).length?S(E(_)):O&&!a?S(E(u)):ot(new eP).style("areaStyle",x).style("connectStyle",Object.assign(Object.assign({},k),o)).style("areaPath",E(u)).style("connectPath",w.map(E).join("")).node()}}};xo.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const pF=(e,n)=>{const{coordinate:t}=n;return(...r)=>{const i=nn(t)?pk:Dp;return xo(Object.assign({curve:i},e),n)(...r)}};pF.props=Object.assign(Object.assign({},xo.props),{defaultMarker:"square"});var Uge=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const vF=(e,n)=>{const t=Uge(e,[]),{coordinate:r}=n;return(...i)=>{const a=nn(r)?I5:_n(r)?z5:j5;return xo(Object.assign({curve:a},t),n)(...i)}};vF.props=Object.assign(Object.assign({},xo.props),{defaultMarker:"smooth"});const gF=(e,n)=>(...t)=>xo(Object.assign({curve:Y5},e),n)(...t);gF.props=Object.assign(Object.assign({},xo.props),{defaultMarker:"hvh"});const mF=(e,n)=>(...t)=>xo(Object.assign({curve:G5},e),n)(...t);mF.props=Object.assign(Object.assign({},xo.props),{defaultMarker:"vh"});const yF=(e,n)=>(...t)=>xo(Object.assign({curve:W5},e),n)(...t);yF.props=Object.assign(Object.assign({},xo.props),{defaultMarker:"hv"});const bF=(e,n)=>{const{arrow:t=!1}=e;return(...r)=>Wk(Object.assign(Object.assign({},e),{arrow:t}),n)(...r)};bF.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var tP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const xF=(e,n)=>{const t=tP(e,[]),{document:r}=n;return(i,a,o)=>{const{color:s}=o,l=tP(o,["color"]),{color:u=s,transform:c}=a,[f,d]=i,h=Fa();return h.moveTo(f[0],f[1]),h.bezierCurveTo(f[0]/2+d[0]/2,f[1],f[0]/2+d[0]/2,d[1],d[0],d[1]),ot(r.createElement("path",{})).call(qe,l).style("d",h.toString()).style("stroke",u).style("transform",c).call(qe,t).node()}};xF.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var nP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Vge(e,n,t,r){const i=Fa();if(nn(t)){const a=t.getCenter(),o=Yn(e,a),l=(Yn(n,a)-o)*r+o;return i.moveTo(e[0],e[1]),Xh(i,e,n,a,l),i.lineTo(n[0],n[1]),i}return _n(t)?(i.moveTo(e[0],e[1]),i.lineTo(e[0]+(n[0]-e[0])*r,e[1]),i.lineTo(e[0]+(n[0]-e[0])*r,n[1]),i.lineTo(n[0],n[1]),i):(i.moveTo(e[0],e[1]),i.lineTo(e[0],e[1]+(n[1]-e[1])*r),i.lineTo(n[0],e[1]+(n[1]-e[1])*r),i.lineTo(n[0],n[1]),i)}const wF=(e,n)=>{const{cornerRatio:t=1/3}=e,r=nP(e,["cornerRatio"]),{coordinate:i,document:a}=n;return(o,s,l)=>{const{defaultColor:u}=l,c=nP(l,["defaultColor"]),{color:f=u,transform:d}=s,[h,p]=o,v=Vge(h,p,i,t);return ot(a.createElement("path",{})).call(qe,c).style("d",v.toString()).style("stroke",f).style("transform",d).call(qe,r).node()}};wF.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var rP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const _F=(e,n)=>{const t=rP(e,[]),{coordinate:r,document:i}=n;return(a,o,s)=>{const{color:l}=s,u=rP(s,["color"]),{color:c=l,transform:f}=o,[d,h]=a,p=Fa();if(p.moveTo(d[0],d[1]),nn(r)){const v=r.getCenter();p.quadraticCurveTo(v[0],v[1],h[0],h[1])}else{const v=w5(d,h),g=Yn(d,h)/2;Xh(p,d,h,v,g)}return ot(i.createElement("path",{})).call(qe,u).style("d",p.toString()).style("stroke",c).style("transform",f).call(qe,t).node()}};_F.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function kF(e={}){const{shapes:n}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:n},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Mi(e={}){return[...kF(e),{name:"title",scale:"identity"}]}function Il(){return[{type:fy,channel:"color"},{type:hy,channel:["x","y"]}]}function nd(){return[{type:fy,channel:"x"},{type:hy,channel:["y"]}]}function Xge(){return[{type:fy,channel:"color"},{type:hy,channel:["position"]}]}function rd(e={}){return kF(e)}function ar(){return[{type:XI}]}function br(){return[]}function Ib(e,n){return e.getBandWidth(e.invert(n))}function oc(e,n,t={}){const{x:r,y:i,series:a}=n,{x:o,y:s,series:l}=e,{style:{bandOffset:u=l?0:.5,bandOffsetX:c=u,bandOffsetY:f=u}={}}=t,d=!!(o!=null&&o.getBandWidth),h=!!(s!=null&&s.getBandWidth),p=!!(l!=null&&l.getBandWidth);return!d&&!h?v=>v:(v,g)=>{const m=d?Ib(o,r[g]):0,y=h?Ib(s,i[g]):0,x=p&&a?(Ib(l,a[g])/2+ +a[g])*m:0,[_,w]=v;return[_+c*m+x,w+f*y]}}function Kg(e){return parseFloat(e)/100}function fO(e,n,t,r){const{x:i,y:a}=t,{innerWidth:o,innerHeight:s}=r.getOptions(),l=Array.from(e,u=>{const c=i[u],f=a[u],d=typeof c=="string"?Kg(c)*o:+c,h=typeof f=="string"?Kg(f)*s:+f;return[[d,h]]});return[e,l]}function Zo(e){return typeof e=="function"?e:n=>n[e]}function Db(e,n){return Array.from(e,Zo(n))}function dO(e,n){const{source:t=c=>c.source,target:r=c=>c.target,value:i=c=>c.value}=n,{links:a,nodes:o}=e,s=Db(a,t),l=Db(a,r),u=Db(a,i);return{links:a.map((c,f)=>({target:l[f],source:s[f],value:u[f]})),nodes:o||Array.from(new Set([...s,...l]),c=>({key:c}))}}var qge=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const OF=(e,n)=>{const{coordinate:t,document:r}=n;return(i,a,o)=>{const{color:s}=o,l=qge(o,["color"]),{color:u=s,src:c="",size:f=32,transform:d=""}=a;let{width:h=f,height:p=f}=e;const[[v,g]]=i,[m,y]=t.getSize();h=typeof h=="string"?Kg(h)*m:h,p=typeof p=="string"?Kg(p)*y:p;const b=v-Number(h)/2,x=g-Number(p)/2;return ot(r.createElement("image",{})).call(qe,l).style("x",b).style("y",x).style("src",c).style("stroke",u).style("transform",d).call(qe,e).style("width",h).style("height",p).node()}};OF.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Kge=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Zge(e,n){const t=Fa();if(nn(n)){const r=n.getCenter(),i=[...e,e[0]],a=i.map(o=>Yn(o,r));return i.forEach((o,s)=>{if(s===0){t.moveTo(o[0],o[1]);return}const l=a[s],u=e[s-1],c=a[s-1];c!==void 0&&Math.abs(l-c)<1e-10?Xh(t,u,o,r,l):t.lineTo(o[0],o[1])}),t.closePath(),t}return uce(t,e)}const SF=(e,n)=>{const{coordinate:t,document:r}=n;return(i,a,o)=>{const{color:s}=o,l=Kge(o,["color"]),{color:u=s,transform:c}=a,f=Zge(i,t);return ot(r.createElement("path",{})).call(qe,l).style("d",f.toString()).style("stroke",u).style("fill",u).style("transform",c).call(qe,e).node()}};SF.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Qge(e,n){const[t,r,i,a]=e,o=Fa();if(nn(n)){const s=n.getCenter(),l=Yn(s,t);return o.moveTo(t[0],t[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),Xh(o,i,a,s,l),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),Xh(o,r,t,s,l),o.closePath(),o}return o.moveTo(t[0],t[1]),o.bezierCurveTo(t[0]/2+i[0]/2,t[1],t[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(t[0],t[1]),o.closePath(),o}const EF=(e,n)=>{const t=iP(e,[]),{coordinate:r,document:i}=n;return(a,o,s)=>{const{color:l}=s,u=iP(s,["color"]),{color:c=l,transform:f}=o,d=Qge(a,r);return ot(i.createElement("path",{})).call(qe,u).style("d",d.toString()).style("fill",c||l).style("stroke",c||l).style("transform",f).call(qe,t).node()}};EF.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Jge=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function eme(e,n){const t=Fa();if(!nn(n))t.moveTo(...e[0]),t.lineTo(...e[1]),t.moveTo(...e[2]),t.lineTo(...e[3]),t.moveTo(...e[4]),t.lineTo(...e[5]),t.lineTo(...e[6]),t.lineTo(...e[7]),t.closePath(),t.moveTo(...e[8]),t.lineTo(...e[9]),t.moveTo(...e[10]),t.lineTo(...e[11]),t.moveTo(...e[12]),t.lineTo(...e[13]);else{const r=n.getCenter(),[i,a]=r,o=Ia(Qn(e[0],r)),s=Ia(Qn(e[1],r)),l=Yn(r,e[2]),u=Yn(r,e[3]),c=Yn(r,e[8]),f=Yn(r,e[10]),d=Yn(r,e[11]);t.moveTo(...e[0]),t.arc(i,a,l,o,s),t.arc(i,a,l,s,o,!0),t.moveTo(...e[2]),t.lineTo(...e[3]),t.moveTo(...e[4]),t.arc(i,a,u,o,s),t.lineTo(...e[6]),t.arc(i,a,f,s,o,!0),t.closePath(),t.moveTo(...e[8]),t.arc(i,a,c,o,s),t.arc(i,a,c,s,o,!0),t.moveTo(...e[10]),t.lineTo(...e[11]),t.moveTo(...e[12]),t.arc(i,a,d,o,s),t.arc(i,a,d,s,o,!0)}return t}const TF=(e,n)=>{const{coordinate:t,document:r}=n;return(i,a,o)=>{const{color:s,transform:l}=a,{color:u,fill:c=u,stroke:f=u}=o,d=Jge(o,["color","fill","stroke"]),h=eme(i,t);return ot(r.createElement("path",{})).call(qe,d).style("d",h.toString()).style("stroke",f).style("fill",s||c).style("transform",l).call(qe,e).node()}};TF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var tme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function nme(e,n,t=4){const r=Fa();if(!nn(n))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-t,e[3][1]),r.lineTo(e[10][0]-t,e[10][1]),r.lineTo(e[10][0]+t,e[10][1]),r.lineTo(e[3][0]+t,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+t/2,e[8][1]),r.arc(e[3][0],e[8][1],t/2,0,Math.PI*2),r.closePath(),r;const i=n.getCenter(),[a,o]=i,s=Yn(i,e[3]),l=Yn(i,e[8]),u=Yn(i,e[10]),c=Ia(Qn(e[2],i)),f=Math.asin(t/l),d=c-f,h=c+f;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(d)*s+a,Math.sin(d)*s+o),r.arc(a,o,s,d,h),r.lineTo(Math.cos(h)*u+a,Math.sin(h)*u+o),r.arc(a,o,u,h,d,!0),r.lineTo(Math.cos(d)*s+a,Math.sin(d)*s+o),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const p=(d+h)/2;return r.moveTo(Math.cos(p)*(l+t/2)+a,Math.sin(p)*(l+t/2)+o),r.arc(Math.cos(p)*l+a,Math.sin(p)*l+o,t/2,p,Math.PI*2+p),r.closePath(),r}const MF=(e,n)=>{const{coordinate:t,document:r}=n;return(i,a,o)=>{const{color:s,transform:l}=a,u=4,{color:c,fill:f=c,stroke:d=c}=o,h=tme(o,["color","fill","stroke"]),p=nme(i,t,u);return ot(r.createElement("path",{})).call(qe,h).style("d",p.toString()).style("stroke",d).style("fill",s||f).style("transform",l).call(qe,e).node()}};MF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var aP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function rme(e,n,t){return e.createElement("path",{style:Object.assign({d:`M ${n},${n} L -${n},0 L ${n},-${n} L 0,0 Z`,transformOrigin:"center"},t)})}function ime(e,n){if(!nn(n))return ec().x(r=>r[0]).y(r=>r[1])(e);const t=n.getCenter();return ck()({startAngle:0,endAngle:Math.PI*2,outerRadius:Yn(e[0],t),innerRadius:Yn(e[1],t)})}function ame(e,n){if(!nn(e))return n;const[t,r]=e.getCenter();return`translate(${t}, ${r}) ${n||""}`}const hO=(e,n)=>{const{arrow:t,arrowSize:r=4}=e,i=aP(e,["arrow","arrowSize"]),{coordinate:a,document:o}=n;return(s,l,u)=>{const{color:c,lineWidth:f}=u,d=aP(u,["color","lineWidth"]),{color:h=c,size:p=f}=l,v=t?rme(o,r,Object.assign({fill:i.stroke||h,stroke:i.stroke||h},Pe(i,"arrow"))):null,g=ime(s,a),m=ame(a,l.transform);return ot(o.createElement("path",{})).call(qe,d).style("d",g).style("stroke",h).style("lineWidth",p).style("transform",m).style("markerEnd",v).call(qe,i).node()}};hO.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var oP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function ome(e,n,t){return[["M",e,n],["L",e+2*t,n-t],["L",e+2*t,n+t],["Z"]]}function sme(e){return ec().x(n=>n[0]).y(n=>n[1])(e)}function lme(e,n,t,r,i,a,o=0){const[[s,l],[u,c]]=n;if(_n(e)){const g=s+t,m=u+r,y=g+o,b=l+i,x=c+a;return[[g,b],[y,b],[y,x],[m,x]]}const f=l-t,d=c-r,h=f-o,p=s-i,v=u-a;return[[p,f],[p,h],[v,h],[v,d]]}const AF=(e,n)=>{const{offsetX:t=0,sourceOffsetX:r=t,targetOffsetX:i=t,offsetY:a=0,sourceOffsetY:o=a,targetOffsetY:s=a,connectLength1:l,endMarker:u=!0}=e,c=oP(e,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:f}=n;return(d,h,p)=>{const{color:v,connectLength1:g}=p,m=oP(p,["color","connectLength1"]),{color:y,transform:b}=h,x=lme(f,d,o,s,r,i,l??g),_=Pe(Object.assign(Object.assign({},c),p),"endMarker");return ot(new ca).call(qe,m).style("d",sme(x)).style("stroke",y||v).style("transform",b).style("markerEnd",u?new Ut({className:"marker",style:Object.assign(Object.assign({},_),{symbol:ome})}):null).call(qe,c).node()}};AF.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function ume(e,n,t,r){const i=n.length/2,a=n.slice(0,i),o=n.slice(i);let s=Qf(a,(h,p)=>Math.abs(h[1]-o[p][1]));s=Math.max(Math.min(s,i-2),1);const l=h=>[a[h][0],(a[h][1]+o[h][1])/2],u=l(s),c=l(s-1),f=l(s+1),d=Ia(Qn(f,c))/Math.PI*180;return{x:u[0],y:u[1],transform:`rotate(${d})`,textAlign:"center",textBaseline:"middle"}}function PF(e,n,t,r){const{bounds:i}=t,[[a,o],[s,l]]=i,u=s-a,c=l-o,f=d=>{const{x:h,y:p}=d,v=RT(t.x,u),g=RT(t.y,c);return Object.assign(Object.assign({},d),{x:(v||h)+a,y:(g||p)+o})};return f(e==="left"?{x:0,y:c/2,textAlign:"start",textBaseline:"middle"}:e==="right"?{x:u,y:c/2,textAlign:"end",textBaseline:"middle"}:e==="top"?{x:u/2,y:0,textAlign:"center",textBaseline:"top"}:e==="bottom"?{x:u/2,y:c,textAlign:"center",textBaseline:"bottom"}:e==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:e==="top-right"?{x:u,y:0,textAlign:"end",textBaseline:"top"}:e==="bottom-left"?{x:0,y:c,textAlign:"start",textBaseline:"bottom"}:e==="bottom-right"?{x:u,y:c,textAlign:"end",textBaseline:"bottom"}:{x:u/2,y:c/2,textAlign:"center",textBaseline:"middle"})}function CF(e,n,t,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=t,l=r.getCenter(),u=rc(r,n,[i,a]),{innerRadius:c,outerRadius:f,startAngle:d,endAngle:h}=u,p=e==="inside"?(d+h)/2:h,v=pO(p,o,s),g=(()=>{const[m,y]=n,b=c+(f-c)*.5,[x,_]=e==="inside"?tp(l,p,b):w5(m,y);return{x,y:_}})();return Object.assign(Object.assign({},g),{textAlign:e==="inside"?"center":"start",textBaseline:"middle",rotate:v})}function tp(e,n,t){return[e[0]+Math.sin(n)*t,e[1]-Math.cos(n)*t]}function pO(e,n,t){if(!n)return 0;const r=t?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function cme(e,n,t,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:l=.5,offset:u=0}=t,c=rc(r,n,[i,a]),{startAngle:f,endAngle:d}=c,h=r.getCenter(),p=(f+d)/2,g={textAlign:"center",textBaseline:"middle",rotate:pO(p,o,s)},{innerRadius:m,outerRadius:y}=c,x=m+(y-m)*l+u,[_,w]=tp(h,p,x);return Object.assign({x:_,y:w},g)}function sP(e){return e===void 0?null:e}function RF(e,n,t,r){const{bounds:i}=t,[a]=i;return{x:sP(a[0]),y:sP(a[1])}}function vs(e,n,t,r){const{bounds:i}=t;return i.length===1?RF(e,n,t):(by(r)?CF:Jf(r)?cme:PF)(e,n,t,r)}function fme(e,n,t,r,i){const[a,o]=tp(e,n,t),[s,l]=tp(e,n,r),u=Math.sin(n)>0?1:-1;return[[a,o],[s,l],[s+u*i,l]]}function NF(e,n,t){const r=rc(t,e,[n.y,n.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function LF(e,n,t){const r=rc(t,e,[n.y,n.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function vO(e,n,t,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:l=o,connectorLength2:u=0,connectorDistance:c=0}=t,f=r.getCenter(),d=LF(n,t,r),h=Math.sin(d)>0?1:-1,p=pO(d,i,a),v={textAlign:h>0||by(r)?"start":"end",textBaseline:"middle",rotate:p},g=NF(n,t,r),m=g+(s?l:o),[[y,b],[x,_],[w,k]]=fme(f,d,g,m,s?u:0),O=s?+c*h:0,S=w+O,E=k,T={connector:s,connectorPoints:[[x-S,_-E],[w-S,k-E]]};return Object.assign(Object.assign({x0:y,y0:b,x:w+O,y:k},v),T)}function dme(e,n,t,r){const{bounds:i}=t;return i.length===1?RF(e,n,t):(by(r)?CF:Jf(r)?vO:PF)(e,n,t,r)}function lP(e,n={}){const{labelHeight:t=14,height:r}=n,i=oo(e,u=>u.y),a=i.length,o=new Array(a);for(let u=0;u<a;u++){const c=i[u],{y:f}=c;o[u]={y:f,y1:f+t,labels:[f]}}let s=!0;for(;s;){s=!1;for(let u=o.length-1;u>0;u--){const c=o[u],f=o[u-1];if(f.y1>c.y){s=!0,f.labels.push(...c.labels),o.splice(u,1),f.y1+=c.y1-c.y;const d=f.y1-f.y;f.y1=Math.max(Math.min(f.y1,r),d),f.y=f.y1-d}}}let l=0;for(const u of o){const{y:c,labels:f}=u;let d=c-t;for(const h of f){const p=i[l++],g=d+t-h;p.connectorPoints[0][1]-=g,p.y=d+t,d+=t}}}function uP(e,n){const t=oo(e,s=>s.y),{height:r,labelHeight:i=14}=n,a=Math.ceil(r/i);if(t.length<=a)return lP(t,n);const o=[];for(let s=0;s<t.length;s++)s<t.length-a?(t[s].opacity=0,t[s].connector=!1):o.push(t[s]);lP(o,n)}var hme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const l0=new WeakMap;function pme(e,n,t){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=n,o=hme(vO("outside",e,n,t),[]),s=t.getCenter(),l=NF(e,n,t),u=LF(e,n,t),c=l+r+i,f=Math.sin(u)>0?1:-1,d=s[0]+(c+ +a)*f,{x:h}=o,p=d-h;return o.x+=p,o.connectorPoints[0][0]-=p,o}function vme(e,n,t,r,i,a){if(!Jf(r))return{};if(l0.has(n))return l0.get(n);const o=a.map(d=>pme(d,t,r)),{width:s,height:l}=r.getOptions(),u=o.filter(d=>d.x<s/2),c=o.filter(d=>d.x>=s/2),f=Object.assign(Object.assign({},i),{height:l});return uP(u,f),uP(c,f),o.forEach((d,h)=>l0.set(a[h],d)),l0.get(n)}var gme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function mme(e,n,t,r){if(!Jf(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=t,s=gme(vO("outside",n,t,r),[]),{x0:l,y0:u}=s,c=r.getCenter(),d=uae(r)+i,h=Ef([l-c[0],u-c[1]]),p=Math.sin(h)>0?1:-1,[v,g]=tp(c,h,d);return s.x=v+(a+o)*p,s.y=g,s}const yme=Object.freeze(Object.defineProperty({__proto__:null,area:ume,bottom:vs,bottomLeft:vs,bottomRight:vs,inside:vs,left:vs,outside:dme,right:vs,spider:vme,surround:mme,top:vs,topLeft:vs,topRight:vs},Symbol.toStringTag,{value:"Module"}));var cP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function bme(e,n){return e!==void 0?e:Jf(n)?"inside":_n(n)?"right":"top"}function xme(e,n,t,r,i,a){const{position:o}=n,{render:s}=i,l=bme(o,t),c=r[s?"htmlLabel":l==="inside"?"innerLabel":"label"],f=Object.assign({},c,n),d=yme[Yk(l)];if(!d)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},c),d(l,e,f,t,i,a))}const $F=(e,n)=>{const{coordinate:t,theme:r}=n,{render:i}=e;return(a,o,s,l)=>{const{text:u,x:c,y:f,transform:d="",transformOrigin:h,className:p=""}=o,v=cP(o,["text","x","y","transform","transformOrigin","className"]),g=xme(a,o,t,r,e,l),{rotate:m=0,transform:y=""}=g,b=cP(g,["rotate","transform"]);return ot(new cF).call(qe,b).style("text",`${u}`).style("className",`${p} g2-label`).style("innerHTML",i?i(u,o.datum,o.index):void 0).style("labelTransform",`${y} rotate(${+m}) ${d}`.trim()).style("labelTransformOrigin",h).style("coordCenter",t.getCenter()).call(qe,v).node()}};$F.props={defaultMarker:"point"};var fP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const gO=(e,n)=>{const{arrow:t,colorAttribute:r}=e,i=fP(e,["arrow","colorAttribute"]),{coordinate:a,document:o}=n;return(s,l,u)=>{const{color:c,stroke:f}=u,d=fP(u,["color","stroke"]),{d:h,color:p=c}=l,[v,g]=a.getSize();return ot(o.createElement("path",{})).call(qe,d).style("d",typeof h=="function"?h({width:v,height:g}):h).style(r,p).call(qe,i).node()}};gO.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const IF=(e,n)=>gO(Object.assign({colorAttribute:"fill"},e),n);IF.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const DF=(e,n)=>gO(Object.assign({fill:"none",colorAttribute:"stroke"},e),n);DF.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var wme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const FF=(e,n)=>{const{document:t}=n;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,l=wme(a,["color"]),{color:u=s}=i,[c,...f]=r,d=Fa();return d.moveTo(...c),f.forEach(([h,p])=>{d.lineTo(h,p)}),d.closePath(),ot(t.createElement("path",{})).call(qe,l).style("d",d.toString()).style("stroke",u||s).style("fill",u||s).style("fillOpacity",.4).style("transform",o).call(qe,e).node()}};FF.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function BF(e){var n,t,r,i=e||1;function a(s,l){++n>i&&(r=t,o(1),++n),t[s]=l}function o(s){n=0,t=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return t[s]!==void 0||r[s]!==void 0},get:function(s){var l=t[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){t[s]!==void 0?t[s]=l:a(s,l)}}}BF(3);function jF(e,n=(...r)=>`${r[0]}`,t=16){const r=BF(t);return(...i)=>{const a=n(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=e(...i),r.set(a,o),o)}}function _me(e){return typeof e=="string"?e.split(" ").map(n=>{const[t,r]=n.split(":");return[+t,r]}):e}function Zg(e,n,t){const r=e?e():document.createElement("canvas");return r.width=n,r.height=t,r}const kme=jF((e,n,t)=>{const r=Zg(t,e*2,e*2),i=r.getContext("2d"),a=e,o=e;if(n===1)i.beginPath(),i.arc(a,o,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,e*n,a,o,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function Ome(e,n){const r=Zg(n,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return _me(e).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function Sme(e,n,t,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:l,y:u,value:c,radius:f}=r[s],d=Math.min(c,t),h=l-f,p=u-f,v=kme(f,1-o,a),g=(d-n)/(t-n);e.globalAlpha=Math.max(g,.001),e.drawImage(v,h,p)}return e}function Eme(e,n,t,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:l}=i,u=0,c=0,f=n,d=t,h=e.getImageData(u,c,f,d),p=h.data,v=p.length;for(let g=3;g<v;g+=4){const m=p[g],y=m*4;if(!y)continue;const b=o||Math.max(0,Math.min(s,Math.max(a,m)));p[g-3]=r[y],p[g-2]=r[y+1],p[g-1]=r[y+2],p[g]=l?r[y+3]:b}return h}function Tme(e,n,t,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const u=Zg(o,e,n).getContext("2d"),c=Ome(s.gradient,o);u.clearRect(0,0,e,n),Sme(u,t,r,i,s,o);const f=Eme(u,e,n,c,s),h=Zg(o,e,n).getContext("2d");return h.putImageData(f,0,0),h}var Mme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Ame(e,n){return Object.keys(e).reduce((t,r)=>{const i=e[r];return n(i,r)||(t[r]=i),t},{})}const zF=(e,n)=>{const{gradient:t,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=e,l=Mme(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:u,createCanvas:c,document:f}=n;return(d,h,p)=>{const{transform:v}=h,[g,m]=u.getSize(),y=d.map(k=>({x:k[0],y:k[1],value:k[2],radius:k[3]})),b=sa(d,k=>k[2]),x=Xt(d,k=>k[2]),w=g&&m?Tme(g,m,b,x,y,Ame({gradient:t,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},k=>k===void 0),c):{canvas:null};return ot(f.createElement("image",{})).call(qe,p).style("x",0).style("y",0).style("width",g).style("height",m).style("src",w.canvas.toDataURL()).style("transform",v).call(qe,l).node()}};zF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Pme=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const YF=(e,n)=>{const{render:t}=e,r=Pme(e,["render"]);return i=>{const[[a,o]]=i;return t(Object.assign(Object.assign({},r),{x:a,y:o}),n)}};YF.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const dP=5e3;function hP(e,n,t){return e+(n-e)*t}function Cme(e,n,t,r){return n===0?[[e+1/2*t/Math.PI/2,r/2],[e+1/2*t/Math.PI,r],[e+t/4,r]]:n===1?[[e+1/2*t/Math.PI/2*(Math.PI-2),r],[e+1/2*t/Math.PI/2*(Math.PI-1),r/2],[e+t/4,0]]:n===2?[[e+1/2*t/Math.PI/2,-r/2],[e+1/2*t/Math.PI,-r],[e+t/4,-r]]:[[e+1/2*t/Math.PI/2*(Math.PI-2),-r],[e+1/2*t/Math.PI/2*(Math.PI-1),-r/2],[e+t/4,0]]}function Rme(e,n,t,r,i,a,o){const s=Math.ceil(2*e/t*4)*4,l=[];let u=r;for(;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;const c=a-e+u-e*2;l.push(["M",c,n]);let f=0;for(let d=0;d<s;++d){const h=d%4,p=Cme(d*t/4,h,t,i);l.push(["C",p[0][0]+c,-p[0][1]+n,p[1][0]+c,-p[1][1]+n,p[2][0]+c,-p[2][1]+n]),d===s-1&&(f=p[2][0])}return l.push(["L",f+c,o+e]),l.push(["L",c,o+e]),l.push(["Z"]),l}function Nme(e,n,t,r,i,a,o,s,l,u,c){const{fill:f,fillOpacity:d,opacity:h}=i;for(let p=0;p<r;p++){const v=r<=1?1:p/(r-1),g=Rme(s,o+s*t,l,0,s/40,e,n),m=c.createElement("path",{style:{d:g,fill:f,opacity:hP(.2,.9,v)*Number(h||d)}});a.appendChild(m);try{const y=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];m.animate(y,{duration:hP(.5*dP,dP,v)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function Lme(e,n,t){return`
      M ${e} ${n-t} 
      a ${t} ${t} 0 1 0 0 ${t*2}
      a ${t} ${t} 0 1 0 0 ${-t*2}
      Z
    `}function $me(e,n,t){const i=t*.618;return`
      M ${e-i} ${n-t}
      L ${e+i} ${n-t}
      L ${e+i} ${n+t}
      L ${e-i} ${n+t}
      Z
    `}function Ime(e,n,t){return`
      M ${e} ${n-t}
      L ${e+t} ${n}
      L ${e} ${n+t}
      L ${e-t} ${n}
      Z
    `}function Dme(e,n,t){return`
      M ${e} ${n-t}
      L ${e+t} ${n+t}
      L ${e-t} ${n+t}
      Z
    `}function Fme(e,n,t){const r=t*4/3,i=Math.max(r,t*2),a=r/2,o=e,s=a+n-i/2,l=Math.asin(a/((i-a)*.85)),u=Math.sin(l)*a,c=Math.cos(l)*a,f=o-c,d=s+u,h=e,p=s+a/Math.sin(l);return`
      M ${f} ${d}
      A ${a} ${a} 0 1 1 ${f+c*2} ${d}
      Q ${h} ${p} ${e} ${n+i/2}
      Q ${h} ${p} ${f} ${d}
      Z 
    `}const pP={pin:Fme,rect:$me,circle:Lme,diamond:Ime,triangle:Dme};var vP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Bme=(e="circle")=>pP[e]||pP.circle,GF=(e,n)=>{if(!n)return;const{coordinate:t}=n,{liquidOptions:r,styleOptions:i}=e,{liquidShape:a,percent:o}=r,{background:s,outline:l={},wave:u={}}=i,c=vP(i,["background","outline","wave"]),{border:f=2,distance:d=0}=l,h=vP(l,["border","distance"]),{length:p=192,count:v=3}=u;return(g,m,y)=>{const{document:b}=n.canvas,{color:x,fillOpacity:_}=y,w=Object.assign(Object.assign({fill:x},y),c),k=b.createElement("g",{}),[O,S]=t.getCenter(),E=t.getSize(),T=Math.min(...E)/2,M=tr(a)?a:Bme(a),P=M(O,S,T,...E),A=M(O,S,T+f/2,...E);if(Object.keys(s).length){const C=b.createElement("path",{style:Object.assign({d:P,fill:"#fff"},s)});k.appendChild(C)}if(o>0){const C=b.createElement("path",{style:{d:A}});k.appendChild(C),k.style.clipPath=C,Nme(O,S,1-o,v,w,k,C.getBBox().y,T*2,p,!0,b)}const N=b.createElement("path",{style:{d:P,fill:"transparent",lineWidth:f+2*d,stroke:"#fff"}}),R=b.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:P,stroke:x,strokeOpacity:_,lineWidth:f},w),h),{fill:"transparent"})});return k.appendChild(N),k.appendChild(R),k}};GF.props={};const gP=(e,n)=>Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))/2,jme=(e,n,t)=>{const r=Math.atan2(e[1]-t[1],e[0]-t[0]);let a=Math.atan2(n[1]-t[1],n[0]-t[0])-r;return a<0&&(a+=Math.PI*2),a},zme=(e,n)=>{if(!n)return;const{coordinate:t}=n;if(!(t!=null&&t.getCenter))return;const r=t.getCenter();return(i,a,o)=>{const{document:s}=n.canvas,{color:l,index:u}=a,c=s.createElement("g",{}),f=gP(i[0],i[1]),d=gP(i[0],r)*2,h=jme(i[3],i[0],r)>Math.PI,p=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",f,f,0,1,0,...i[1]],["A",d+f*2,d+f*2,0,h?1:0,0,...i[2]],["A",f,f,0,1,u===0?0:1,...i[3]],["A",d,d,0,h?1:0,1,...i[0]],["Z"]]},o),T_(e,["shape","last","first"])),{fill:l||o.color})});return c.appendChild(p),c}};function mP(e,n){return e.getBandWidth(e.invert(n))}const yP={rect:ic,hollow:Ay,funnel:Lk,pyramid:UD},WF=()=>(e,n,t,r)=>{const{x:i,y:a,y1:o,series:s,size:l}=t,u=n.x,c=n.series,[f]=r.getSize(),d=l?l.map(v=>+v/f):null,h=l?(v,g,m)=>{const y=v+g/2,b=d[m];return[y-b/2,y+b/2]}:(v,g,m)=>[v,v+g],p=Array.from(e,v=>{const g=mP(u,i[v]),m=c?mP(c,s==null?void 0:s[v]):1,y=g*m,b=(+(s==null?void 0:s[v])||0)*g,x=+i[v]+b,[_,w]=h(x,y,v),k=+a[v],O=+o[v];return[[_,k],[w,k],[w,O],[_,O]].map(P=>r.map(P))});return[e,p]};WF.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:yP,channels:[...Mi({shapes:Object.keys(yP)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...ar(),{type:Cp},{type:Ju}],postInference:[...br(),...nd()],interaction:{shareTooltip:!0}};const bP={rect:ic,hollow:Ay},HF=()=>(e,n,t,r)=>{const{x:i,x1:a,y:o,y1:s}=t,l=Array.from(e,u=>{const c=[+i[u],+o[u]],f=[+a[u],+o[u]],d=[+a[u],+s[u]],h=[+i[u],+s[u]];return[c,f,d,h].map(p=>r.map(p))});return[e,l]};HF.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:bP,channels:[...Mi({shapes:Object.keys(bP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar(),{type:Cp}],postInference:[...br(),...nd()],interaction:{shareTooltip:!0}};const xP={line:VD,smooth:XD,hv:qD,vh:KD,hvh:ZD,trail:QD},Yme=(e,n,t,r)=>{var i,a;const{series:o,x:s,y:l}=t,{x:u,y:c}=n;if(s===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const f=o?Array.from(yn(e,g=>o[g]).values()):[e],d=f.map(g=>g[0]).filter(g=>g!==void 0),h=(((i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,p=(((a=c==null?void 0:c.getBandWidth)===null||a===void 0?void 0:a.call(c))||0)/2,v=Array.from(f,g=>g.map(m=>r.map([+s[m]+h,+l[m]+p])));return[d,v,f]},Gme=(e,n,t,r)=>{const i=Object.entries(t).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");nn(r)&&i.push(i[0]);const a=Array.from(e,o=>{const s=i.map(c=>+c[o]),l=r.map(s),u=[];for(let c=0;c<l.length;c+=2)u.push([l[c],l[c+1]]);return u});return[e,a]},UF=()=>(e,n,t,r)=>(xy(r)?Gme:Yme)(e,n,t,r);UF.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:xP,channels:[...Mi({shapes:Object.keys(xP)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ar(),{type:n5},{type:rk}],postInference:[...br(),...nd(),...Xge()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const wP={hollow:_4,hollowDiamond:x4,hollowHexagon:w4,hollowSquare:k4,hollowTriangleDown:S4,hollowTriangle:O4,hollowBowtie:b4,hollowCircle:T4,point:$4,plus:L4,diamond:P4,square:I4,triangle:F4,hexagon:C4,cross:A4,bowtie:M4,hyphen:R4,line:N4,tick:D4,triangleDown:B4,circle:Gk},VF=e=>(n,t,r,i)=>{const{x:a,y:o,x1:s,y1:l,size:u,dx:c,dy:f}=r,[d,h]=i.getSize(),p=oc(t,r,e),v=m=>{const y=+((c==null?void 0:c[m])||0),b=+((f==null?void 0:f[m])||0),x=s?(+a[m]+ +s[m])/2:+a[m],_=l?(+o[m]+ +l[m])/2:+o[m],w=x+y,k=_+b;return[w,k]},g=u?Array.from(n,m=>{const[y,b]=v(m),x=+u[m],_=x/d,w=x/h,k=[y-_,b-w],O=[y+_,b+w];return[i.map(p(k,m)),i.map(p(O,m))]}):Array.from(n,m=>[i.map(p(v(m),m))]);return[n,g]};VF.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:wP,channels:[...Mi({shapes:Object.keys(wP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...ar(),{type:Ju},{type:dy}],postInference:[...br(),{type:VI},...Il()]};const _P={text:fF,badge:dF,tag:hF},XF=e=>{const{cartesian:n=!1}=e;return n?fO:(t,r,i,a)=>{const{x:o,y:s}=i,l=oc(r,i,e),u=Array.from(t,c=>{const f=[+o[c],+s[c]];return[a.map(l(f,c))]});return[t,u]}};XF.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:_P,channels:[...Mi({shapes:Object.keys(_P)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...ar(),{type:vy},{type:py}],postInference:[...br(),...Il()]};const kP={cell:ic,hollow:Ay},qF=()=>(e,n,t,r)=>{const{x:i,y:a}=t,o=n.x,s=n.y,l=Array.from(e,u=>{const c=o.getBandWidth(o.invert(+i[u])),f=s.getBandWidth(s.invert(+a[u])),d=+i[u],h=+a[u],p=[d,h],v=[d+c,h],g=[d+c,h+f],m=[d,h+f];return[p,v,g,m].map(y=>r.map(y))});return[e,l]};qF.props={defaultShape:"cell",defaultLabelShape:"label",shape:kP,composite:!1,channels:[...Mi({shapes:Object.keys(kP)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...ar(),{type:Ju},{type:dy},{type:ik}],postInference:[...br(),...Il()]};const OP={area:pF,smooth:vF,hvh:gF,vh:mF,hv:yF},KF=()=>(e,n,t,r)=>{var i,a;const{x:o,y:s,y1:l,series:u}=t,{x:c,y:f}=n,d=u?Array.from(yn(e,m=>u[m]).values()):[e],h=d.map(m=>m[0]).filter(m=>m!==void 0),p=(((i=c==null?void 0:c.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,v=(((a=f==null?void 0:f.getBandWidth)===null||a===void 0?void 0:a.call(f))||0)/2,g=Array.from(d,m=>{const y=m.length,b=new Array(y*2);for(let x=0;x<m.length;x++){const _=m[x];b[x]=r.map([+o[_]+p,+s[_]+v]),b[y+x]=r.map([+o[_]+p,+l[_]+v])}return b});return[h,g,d]};KF.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:OP,channels:[...Mi({shapes:Object.keys(OP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ar(),{type:rk},{type:Cp},{type:ik}],postInference:[...br(),...nd()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const SP={link:bF,arc:_F,smooth:xF,vhv:wF},mO=e=>(n,t,r,i)=>{const{x:a,y:o,x1:s=a,y1:l=o}=r,u=oc(t,r,e),c=n.map(f=>[i.map(u([+a[f],+o[f]],f)),i.map(u([+s[f],+l[f]],f))]);return[n,c]};mO.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:SP,channels:[...Mi({shapes:Object.keys(SP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar(),{type:ZI},{type:QI}],postInference:[...br(),...Il()]};const EP={image:OF},ZF=e=>{const{cartesian:n}=e;return n?fO:(t,r,i,a)=>{const{x:o,y:s}=i,l=oc(r,i,e),u=Array.from(t,c=>{const f=[+o[c],+s[c]];return[a.map(l(f,c))]});return[t,u]}};ZF.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:EP,channels:[...Mi({shapes:Object.keys(EP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...ar(),{type:vy},{type:py}],postInference:[...br(),...Il()]};const TP={polygon:SF,ribbon:EF},QF=()=>(e,n,t,r)=>{const i=Object.entries(t).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(t).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=e.map(s=>{const l=[];for(let u=0;u<i.length;u++){const c=i[u][s];if(c===void 0)break;const f=a[u][s];l.push(r.map([+c,+f]))}return l});return[e,o]};QF.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:TP,channels:[...Mi({shapes:Object.keys(TP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar()],postInference:[...br(),...Il()]};const MP={box:TF,violin:MF},JF=()=>(e,n,t,r)=>{const{x:i,y:a,y1:o,y2:s,y3:l,y4:u,series:c}=t,f=n.x,d=n.series,h=Array.from(e,p=>{const v=f.getBandWidth(f.invert(+i[p])),g=d?d.getBandWidth(d.invert(+(c==null?void 0:c[p]))):1,m=v*g,y=(+(c==null?void 0:c[p])||0)*v,b=+i[p]+y+m/2,[x,_,w,k,O]=[+a[p],+o[p],+s[p],+l[p],+u[p]];return[[b-m/2,O],[b+m/2,O],[b,O],[b,k],[b-m/2,k],[b+m/2,k],[b+m/2,_],[b-m/2,_],[b-m/2,w],[b+m/2,w],[b,_],[b,x],[b-m/2,x],[b+m/2,x]].map(E=>r.map(E))});return[e,h]};JF.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:MP,channels:[...Mi({shapes:Object.keys(MP)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...ar(),{type:Ju}],postInference:[...br(),...nd()],interaction:{shareTooltip:!0}};const AP={vector:Wk},eB=()=>(e,n,t,r)=>{const{x:i,y:a,size:o,rotate:s}=t,[l,u]=r.getSize(),c=e.map(f=>{const d=+s[f]/180*Math.PI,h=+o[f],p=h/l,v=h/u,g=p*Math.cos(d),m=-v*Math.sin(d);return[r.map([+i[f]-g/2,+a[f]-m/2]),r.map([+i[f]+g/2,+a[f]+m/2])]});return[e,c]};eB.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:AP,channels:[...Mi({shapes:Object.keys(AP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...ar()],postInference:[...br(),...Il()]};const PP={line:hO},tB=e=>(n,t,r,i)=>{const{y:a}=r,o=oc(t,r,ye({style:{bandOffset:0}},e)),s=Array.from(n,l=>{const u=[0,a[l]],c=[1,a[l]];return[u,c].map(f=>i.map(o(f,l)))});return[n,s]};tB.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:PP,channels:[...rd({shapes:Object.keys(PP)}),{name:"y",required:!0}],preInference:[...ar(),{type:qI}],postInference:[...br()]};const CP={line:hO},nB=e=>(n,t,r,i)=>{const{x:a}=r,o=oc(t,r,ye({style:{bandOffset:0}},e)),s=Array.from(n,l=>{const u=[a[l],1],c=[a[l],0];return[u,c].map(f=>i.map(o(f,l)))});return[n,s]};nB.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:CP,channels:[...rd({shapes:Object.keys(CP)}),{name:"x",required:!0}],preInference:[...ar(),{type:KI}],postInference:[...br()]};const RP={connector:AF},rB=(...e)=>mO(...e);rB.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:RP,channels:[...rd({shapes:Object.keys(RP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar()],postInference:[...br()]};function NP(e,n,t,r){if(n)return()=>[0,1];const{[e]:i,[`${e}1`]:a}=t;return o=>{var s;const l=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+l]}}function yO(e={}){const{extendX:n=!1,extendY:t=!1}=e;return(r,i,a,o)=>{const s=NP("x",n,a,i.x),l=NP("y",t,a,i.y),u=Array.from(r,c=>{const[f,d]=s(c),[h,p]=l(c);return[[f,h],[d,h],[d,p],[f,p]].map(b=>o.map(b))});return[r,u]}}const LP={range:ic},iB=()=>yO();iB.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:LP,channels:[...rd({shapes:Object.keys(LP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar()],postInference:[...br()]};const $P={range:ic},aB=()=>yO({extendY:!0});aB.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:$P,channels:[...rd({shapes:Object.keys($P)}),{name:"x",required:!0}],preInference:[...ar(),{type:JI}],postInference:[...br()]};const IP={range:ic},oB=()=>yO({extendX:!0});oB.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:IP,channels:[...rd({shapes:Object.keys(IP)}),{name:"y",required:!0}],preInference:[...ar(),{type:e5}],postInference:[...br()]};function Wme(e){return e.target.depth}function Hme(e){return e.depth}function Ume(e,n){return n-1-e.height}function Qg(e,n){return e.sourceLinks.length?e.depth:n-1}function Vme(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?sa(e.sourceLinks,Wme)-1:0}function u0(e){return function(){return e}}function DP(e,n){return Jg(e.source,n.source)||e.index-n.index}function FP(e,n){return Jg(e.target,n.target)||e.index-n.index}function Jg(e,n){return e.y0-n.y0}function Fb(e){return e.value}function Xme(e){return e.index}function qme(e){return e.nodes}function Kme(e){return e.links}function BP(e,n){const t=e.get(n);if(!t)throw new Error("missing: "+n);return t}function jP({nodes:e}){for(const n of e){let t=n.y0,r=t;for(const i of n.sourceLinks)i.y0=t+i.width/2,t+=i.width;for(const i of n.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Zme(){let e=0,n=0,t=1,r=1,i=24,a=8,o,s=Xme,l=Qg,u,c,f,d=qme,h=Kme,p=6;function v(R){const C={nodes:d(R),links:h(R)};return g(C),m(C),y(C),b(C),w(C),jP(C),C}v.update=function(R){return jP(R),R},v.nodeId=function(R){return arguments.length?(s=typeof R=="function"?R:u0(R),v):s},v.nodeAlign=function(R){return arguments.length?(l=typeof R=="function"?R:u0(R),v):l},v.nodeDepth=function(R){return arguments.length?(u=R,v):u},v.nodeSort=function(R){return arguments.length?(c=R,v):c},v.nodeWidth=function(R){return arguments.length?(i=+R,v):i},v.nodePadding=function(R){return arguments.length?(a=o=+R,v):a},v.nodes=function(R){return arguments.length?(d=typeof R=="function"?R:u0(R),v):d},v.links=function(R){return arguments.length?(h=typeof R=="function"?R:u0(R),v):h},v.linkSort=function(R){return arguments.length?(f=R,v):f},v.size=function(R){return arguments.length?(e=n=0,t=+R[0],r=+R[1],v):[t-e,r-n]},v.extent=function(R){return arguments.length?(e=+R[0][0],t=+R[1][0],n=+R[0][1],r=+R[1][1],v):[[e,n],[t,r]]},v.iterations=function(R){return arguments.length?(p=+R,v):p};function g({nodes:R,links:C}){R.forEach((I,j)=>{I.index=j,I.sourceLinks=[],I.targetLinks=[]});const L=new Map(R.map(I=>[s(I),I]));if(C.forEach((I,j)=>{I.index=j;let{source:F,target:z}=I;typeof F!="object"&&(F=I.source=BP(L,F)),typeof z!="object"&&(z=I.target=BP(L,z)),F.sourceLinks.push(I),z.targetLinks.push(I)}),f!=null)for(const{sourceLinks:I,targetLinks:j}of R)I.sort(f),j.sort(f)}function m({nodes:R}){for(const C of R)C.value=C.fixedValue===void 0?Math.max(Na(C.sourceLinks,Fb),Na(C.targetLinks,Fb)):C.fixedValue}function y({nodes:R}){const C=R.length;let L=new Set(R),I=new Set,j=0;for(;L.size;){if(L.forEach(F=>{F.depth=j;for(const{target:z}of F.sourceLinks)I.add(z)}),++j>C)throw new Error("circular link");L=I,I=new Set}if(u){const F=Math.max(Xt(R,D=>D.depth)+1,0);let z;for(let D=0;D<R.length;D++)z=R[D],z.depth=u.call(null,z,F)}}function b({nodes:R}){const C=R.length;let L=new Set(R),I=new Set,j=0;for(;L.size;){if(L.forEach(F=>{F.height=j;for(const{source:z}of F.targetLinks)I.add(z)}),++j>C)throw new Error("circular link");L=I,I=new Set}}function x({nodes:R}){const C=Math.max(Xt(R,j=>j.depth)+1,0),L=(t-e-i)/(C-1),I=new Array(C).fill(0).map(()=>[]);for(const j of R){const F=Math.max(0,Math.min(C-1,Math.floor(l.call(null,j,C))));j.layer=F,j.x0=e+F*L,j.x1=j.x0+i,I[F]?I[F].push(j):I[F]=[j]}if(c)for(const j of I)j.sort(c);return I}function _(R){const C=sa(R,L=>(r-n-(L.length-1)*o)/Na(L,Fb));for(const L of R){let I=n;for(const j of L){j.y0=I,j.y1=I+j.value*C,I=j.y1+o;for(const F of j.sourceLinks)F.width=F.value*C}I=(r-I+o)/(L.length+1);for(let j=0;j<L.length;++j){const F=L[j];F.y0+=I*(j+1),F.y1+=I*(j+1)}P(L)}}function w(R){const C=x(R);o=Math.min(a,(r-n)/(Xt(C,L=>L.length)-1)),_(C);for(let L=0;L<p;++L){const I=Math.pow(.99,L),j=Math.max(1-I,(L+1)/p);O(C,I,j),k(C,I,j)}}function k(R,C,L){for(let I=1,j=R.length;I<j;++I){const F=R[I];for(const z of F){let D=0,B=0;for(const{source:q,value:$}of z.targetLinks){const W=$*(z.layer-q.layer);D+=A(q,z)*W,B+=W}if(!(B>0))continue;const U=(D/B-z.y0)*C;z.y0+=U,z.y1+=U,M(z)}c===void 0&&F.sort(Jg),F.length&&S(F,L)}}function O(R,C,L){for(let I=R.length,j=I-2;j>=0;--j){const F=R[j];for(const z of F){let D=0,B=0;for(const{target:q,value:$}of z.sourceLinks){const W=$*(q.layer-z.layer);D+=N(z,q)*W,B+=W}if(!(B>0))continue;const U=(D/B-z.y0)*C;z.y0+=U,z.y1+=U,M(z)}c===void 0&&F.sort(Jg),F.length&&S(F,L)}}function S(R,C){const L=R.length>>1,I=R[L];T(R,I.y0-o,L-1,C),E(R,I.y1+o,L+1,C),T(R,r,R.length-1,C),E(R,n,0,C)}function E(R,C,L,I){for(;L<R.length;++L){const j=R[L],F=(C-j.y0)*I;F>1e-6&&(j.y0+=F,j.y1+=F),C=j.y1+o}}function T(R,C,L,I){for(;L>=0;--L){const j=R[L],F=(j.y1-C)*I;F>1e-6&&(j.y0-=F,j.y1-=F),C=j.y0-o}}function M({sourceLinks:R,targetLinks:C}){if(f===void 0){for(const{source:{sourceLinks:L}}of C)L.sort(FP);for(const{target:{targetLinks:L}}of R)L.sort(DP)}}function P(R){if(f===void 0)for(const{sourceLinks:C,targetLinks:L}of R)C.sort(FP),L.sort(DP)}function A(R,C){let L=R.y0-(R.sourceLinks.length-1)*o/2;for(const{target:I,width:j}of R.sourceLinks){if(I===C)break;L+=j+o}for(const{source:I,width:j}of C.targetLinks){if(I===R)break;L-=j}return L}function N(R,C){let L=C.y0-(C.targetLinks.length-1)*o/2;for(const{source:I,width:j}of C.targetLinks){if(I===R)break;L+=j+o}for(const{target:I,width:j}of R.sourceLinks){if(I===C)break;L-=j}return L}return v}const Qme={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},Jme={left:Hme,right:Ume,center:Vme,justify:Qg};function eye(e){const n=typeof e;return n==="string"?Jme[e]||Qg:n==="function"?e:Qg}const sB=e=>n=>{const{nodeId:t,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:l,links:u,linkSort:c,iterations:f}=Object.assign({},Qme,e),d=Zme().nodeSort(r).linkSort(c).links(u).nodes(l).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(eye(i)).iterations(f).extent([[0,0],[1,1]]);typeof t=="function"&&d.nodeId(t);const h=d(n),{nodes:p,links:v}=h,g=p.map(y=>{const{x0:b,x1:x,y0:_,y1:w}=y;return Object.assign(Object.assign({},y),{x:[b,x,x,b],y:[_,_,w,w]})}),m=v.map(y=>{const{source:b,target:x}=y,_=b.x1,w=x.x0,k=y.width/2;return Object.assign(Object.assign({},y),{x:[_,_,w,w],y:[y.y0+k,y.y0-k,y.y1+k,y.y1-k]})});return{nodes:g,links:m}};sB.props={};function as(e,n,t={},r=!1){if(Is(e)||Array.isArray(e)&&r)return e;const i=Pe(e,n);return ye(t,i)}function em(e,n={}){return Is(e)||Array.isArray(e)||!lB(e)?e:ye(n,e)}function lB(e){if(Object.keys(e).length===0)return!0;const{title:n,items:t}=e;return n!==void 0||t!==void 0}function os(e,n){return typeof e=="object"?Pe(e,n):e}var tye=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const nye={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},rye={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},iye={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},aye={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},uB=e=>{const{data:n,encode:t={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:u={},interaction:c,state:f={}}=e,{links:d,nodes:h}=dO(n,t),p=Pe(t,"node"),v=Pe(t,"link"),{key:g=P=>P.key,color:m=g}=p,{links:y,nodes:b}=sB(Object.assign(Object.assign(Object.assign({},nye),{nodeId:Zo(g)}),a))({links:d,nodes:h}),x=Pe(i,"label"),{text:_=g,spacing:w=5}=x,k=tye(x,["text","spacing"]),O=Zo(g),S=as(u,"node",{title:O,items:[{field:"value"}]},!0),E=as(u,"link",{title:"",items:[P=>({name:"source",value:O(P.source)}),P=>({name:"target",value:O(P.target)})]}),[T,M]=Object.entries(f).reduce((P,[A,N])=>{const R=Y0(N,"node","link"),C=Pe(N,"node");P[0][A]=Object.assign(Object.assign({},R),C);const L=Pe(N,"link");return P[1][A]=Object.assign(Object.assign({},R),L),P},[{},{}]);return[ye({},rye,{data:b,encode:Object.assign(Object.assign({},p),{color:m}),scale:r,style:Pe(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},aye),{text:_,dx:P=>P.x[0]<.5?w:-w}),k),...o],tooltip:S,animate:os(l,"node"),axis:!1,interaction:c,state:T}),ye({},iye,{data:y,encode:v,labels:s,style:Object.assign({fill:v.color?void 0:"#aaa",lineWidth:0},Pe(i,"link")),tooltip:E,animate:os(l,"link"),interaction:c,state:M})]};uB.props={};function oye(e,n){return n.value-e.value}function sye(e,n){return n.frequency-e.frequency}function lye(e,n){return`${e.id}`.localeCompare(`${n.id}`)}function uye(e,n){return`${e.name}`.localeCompare(`${n.name}`)}const cye=Object.freeze(Object.defineProperty({__proto__:null,frequency:sye,id:lye,name:uye,weight:oye},Symbol.toStringTag,{value:"Module"})),fye={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function dye(e){const{y:n,thickness:t,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:l,targetWeight:u,sortBy:c}=Object.assign(Object.assign({},fye),e);function f(g){const m=g.nodes.map(b=>Object.assign({},b)),y=g.edges.map(b=>Object.assign({},b));return d(m,y),h(m),p(m,y),v(m,y),{nodes:m,edges:y}}function d(g,m){m.forEach(x=>{x.source=o(x),x.target=s(x),x.sourceWeight=l(x),x.targetWeight=u(x)});const y=yn(m,x=>x.source),b=yn(m,x=>x.target);return g.forEach(x=>{x.id=a(x);const _=y.has(x.id)?y.get(x.id):[],w=b.has(x.id)?b.get(x.id):[];x.frequency=_.length+w.length,x.value=Na(_,k=>k.sourceWeight)+Na(w,k=>k.targetWeight)}),{nodes:g,edges:m}}function h(g,m){const y=typeof c=="function"?c:cye[c];y&&g.sort(y)}function p(g,m){const y=g.length;if(!y)throw Of("Invalid nodes: it's empty!");if(!r){const _=1/y;return g.forEach((w,k)=>{w.x=(k+.5)*_,w.y=n}),{nodes:g,edges:m}}const b=i/(2*y),x=g.reduce((_,w)=>_+=w.value,0);return g.reduce((_,w)=>{w.weight=w.value/x,w.width=w.weight*(1-i),w.height=t;const k=b+_,O=k+w.width,S=n-t/2,E=S+t;return w.x=[k,O,O,k],w.y=[S,S,E,E],_+w.width+2*b},0),{nodes:g,edges:m}}function v(g,m){const y=new Map(g.map(_=>[_.id,_]));if(!r)return m.forEach(_=>{const w=o(_),k=s(_),O=y.get(w),S=y.get(k);O&&S&&(_.x=[O.x,S.x],_.y=[O.y,S.y])}),{nodes:g,edges:m};m.forEach(_=>{_.x=[0,0,0,0],_.y=[n,n,n,n]});const b=yn(m,_=>_.source),x=yn(m,_=>_.target);g.forEach(_=>{const{edges:w,width:k,x:O,y:S,value:E,id:T}=_,M=b.get(T)||[],P=x.get(T)||[];let A=0;M.map(N=>{const R=N.sourceWeight/E*k;N.x[0]=O[0]+A,N.x[1]=O[0]+A+R,A+=R}),P.forEach(N=>{const R=N.targetWeight/E*k;N.x[3]=O[0]+A,N.x[2]=O[0]+A+R,A+=R})})}return f}const bO=e=>n=>dye(e)(n);bO.props={};var zP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Bb={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},hye={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},pye={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},vye={position:"outside",fontSize:10},cB=(e,n)=>{const{data:t,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:l=[],animate:u={},tooltip:c={}}=e,{nodes:f,links:d}=dO(t,r),h=Pe(r,"node"),p=Pe(r,"link"),{key:v=N=>N.key,color:g=v}=h,{linkEncodeColor:m=N=>N.source}=p,{nodeWidthRatio:y=Bb.thickness,nodePaddingRatio:b=Bb.marginRatio}=o,x=zP(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:_,edges:w}=bO(Object.assign(Object.assign(Object.assign(Object.assign({},Bb),{id:Zo(v),thickness:y,marginRatio:b}),x),{weight:!0}))({nodes:f,edges:d}),k=Pe(a,"label"),{text:O=v}=k,S=zP(k,["text"]),E=as(c,"node",{title:"",items:[N=>({name:N.key,value:N.value})]},!0),T=as(c,"link",{title:"",items:[N=>({name:`${N.source} -> ${N.target}`,value:N.value})]}),{height:M,width:P}=n,A=Math.min(M,P);return[ye({},pye,{data:w,encode:Object.assign(Object.assign({},p),{color:m}),labels:l,style:Object.assign({fill:m?void 0:"#aaa"},Pe(a,"link")),tooltip:T,animate:os(u,"link")}),ye({},hye,{data:_,encode:Object.assign(Object.assign({},h),{color:g}),scale:i,style:Pe(a,"node"),coordinate:{type:"polar",outerRadius:(A-20)/A,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},vye),{text:O}),S),...s],tooltip:E,animate:os(u,"node"),axis:!1})]};cB.props={};const YP={path:IF,hollow:DF},fB=e=>(n,t,r,i)=>[n,n.map(()=>[[0,0]])];fB.props={defaultShape:"path",defaultLabelShape:"label",shape:YP,composite:!1,channels:[...Mi({shapes:Object.keys(YP)}),{name:"d",scale:"identity"}],preInference:[...ar()],postInference:[...br()]};function gye(e,n){return e.parent===n.parent?1:2}function mye(e){return e.reduce(yye,0)/e.length}function yye(e,n){return e+n.x}function bye(e){return 1+e.reduce(xye,0)}function xye(e,n){return Math.max(e,n.y)}function wye(e){for(var n;n=e.children;)e=n[0];return e}function _ye(e){for(var n;n=e.children;)e=n[n.length-1];return e}function kye(){var e=gye,n=1,t=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(d){var h=d.children;h?(d.x=mye(h),d.y=bye(h)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=wye(a),u=_ye(a),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return a.eachAfter(r?function(d){d.x=(d.x-a.x)*n,d.y=(a.y-d.y)*t}:function(d){d.x=(d.x-c)/(f-c)*n,d.y=(1-(a.y?d.y/a.y:1))*t})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,n=+a[0],t=+a[1],i):r?null:[n,t]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],t=+a[1],i):r?[n,t]:null},i}function Oye(e){var n=0,t=e.children,r=t&&t.length;if(!r)n=1;else for(;--r>=0;)n+=t[r].value;e.value=n}function Sye(){return this.eachAfter(Oye)}function Eye(e,n){let t=-1;for(const r of this)e.call(n,r,++t,this);return this}function Tye(e,n){for(var t=this,r=[t],i,a,o=-1;t=r.pop();)if(e.call(n,t,++o,this),i=t.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Mye(e,n){for(var t=this,r=[t],i=[],a,o,s,l=-1;t=r.pop();)if(i.push(t),a=t.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;t=i.pop();)e.call(n,t,++l,this);return this}function Aye(e,n){let t=-1;for(const r of this)if(e.call(n,r,++t,this))return r}function Pye(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)t+=r[i].value;n.value=t})}function Cye(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function Rye(e){for(var n=this,t=Nye(n,e),r=[n];n!==t;)n=n.parent,r.push(n);for(var i=r.length;e!==t;)r.splice(i,0,e),e=e.parent;return r}function Nye(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),i=null;for(e=t.pop(),n=r.pop();e===n;)i=e,e=t.pop(),n=r.pop();return i}function Lye(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function $ye(){return Array.from(this)}function Iye(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function Dye(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function*Fye(){var e=this,n,t=[e],r,i,a;do for(n=t.reverse(),t=[];e=n.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)t.push(r[i]);while(t.length)}function Up(e,n){e instanceof Map?(e=[void 0,e],n===void 0&&(n=zye)):n===void 0&&(n=jye);for(var t=new If(e),r,i=[t],a,o,s,l;r=i.pop();)if((o=n(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new If(o[s])),a.parent=r,a.depth=r.depth+1;return t.eachBefore(dB)}function Bye(){return Up(this).eachBefore(Yye)}function jye(e){return e.children}function zye(e){return Array.isArray(e)?e[1]:null}function Yye(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function dB(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function If(e){this.data=e,this.depth=this.height=0,this.parent=null}If.prototype=Up.prototype={constructor:If,count:Sye,each:Eye,eachAfter:Mye,eachBefore:Tye,find:Aye,sum:Pye,sort:Cye,path:Rye,ancestors:Lye,descendants:$ye,leaves:Iye,links:Dye,copy:Bye,[Symbol.iterator]:Fye};function H0(e){return e==null?null:hB(e)}function hB(e){if(typeof e!="function")throw new Error;return e}function su(){return 0}function Mc(e){return function(){return e}}const Gye=1664525,Wye=1013904223,GP=4294967296;function Hye(){let e=1;return()=>(e=(Gye*e+Wye)%GP)/GP}function Uye(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vye(e,n){let t=e.length,r,i;for(;t;)i=n()*t--|0,r=e[t],e[t]=e[i],e[i]=r;return e}function Xye(e,n){for(var t=0,r=(e=Vye(Array.from(e),n)).length,i=[],a,o;t<r;)a=e[t],o&&pB(o,a)?++t:(o=Kye(i=qye(i,a)),t=0);return o}function qye(e,n){var t,r;if(jb(n,e))return[n];for(t=0;t<e.length;++t)if(c0(n,e[t])&&jb(zd(e[t],n),e))return[e[t],n];for(t=0;t<e.length-1;++t)for(r=t+1;r<e.length;++r)if(c0(zd(e[t],e[r]),n)&&c0(zd(e[t],n),e[r])&&c0(zd(e[r],n),e[t])&&jb(vB(e[t],e[r],n),e))return[e[t],e[r],n];throw new Error}function c0(e,n){var t=e.r-n.r,r=n.x-e.x,i=n.y-e.y;return t<0||t*t<r*r+i*i}function pB(e,n){var t=e.r-n.r+Math.max(e.r,n.r,1)*1e-9,r=n.x-e.x,i=n.y-e.y;return t>0&&t*t>r*r+i*i}function jb(e,n){for(var t=0;t<n.length;++t)if(!pB(e,n[t]))return!1;return!0}function Kye(e){switch(e.length){case 1:return Zye(e[0]);case 2:return zd(e[0],e[1]);case 3:return vB(e[0],e[1],e[2])}}function Zye(e){return{x:e.x,y:e.y,r:e.r}}function zd(e,n){var t=e.x,r=e.y,i=e.r,a=n.x,o=n.y,s=n.r,l=a-t,u=o-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(t+a+l/f*c)/2,y:(r+o+u/f*c)/2,r:(f+i+s)/2}}function vB(e,n,t){var r=e.x,i=e.y,a=e.r,o=n.x,s=n.y,l=n.r,u=t.x,c=t.y,f=t.r,d=r-o,h=r-u,p=i-s,v=i-c,g=l-a,m=f-a,y=r*r+i*i-a*a,b=y-o*o-s*s+l*l,x=y-u*u-c*c+f*f,_=h*p-d*v,w=(p*x-v*b)/(_*2)-r,k=(v*g-p*m)/_,O=(h*b-d*x)/(_*2)-i,S=(d*m-h*g)/_,E=k*k+S*S-1,T=2*(a+w*k+O*S),M=w*w+O*O-a*a,P=-(Math.abs(E)>1e-6?(T+Math.sqrt(T*T-4*E*M))/(2*E):M/T);return{x:r+w+k*P,y:i+O+S*P,r:P}}function WP(e,n,t){var r=e.x-n.x,i,a,o=e.y-n.y,s,l,u=r*r+o*o;u?(a=n.r+t.r,a*=a,l=e.r+t.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),t.x=e.x-i*r-s*o,t.y=e.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),t.x=n.x+i*r-s*o,t.y=n.y+i*o+s*r)):(t.x=n.x+t.r,t.y=n.y)}function HP(e,n){var t=e.r+n.r-1e-6,r=n.x-e.x,i=n.y-e.y;return t>0&&t*t>r*r+i*i}function UP(e){var n=e._,t=e.next._,r=n.r+t.r,i=(n.x*t.r+t.x*n.r)/r,a=(n.y*t.r+t.y*n.r)/r;return i*i+a*a}function f0(e){this._=e,this.next=null,this.previous=null}function Qye(e,n){if(!(a=(e=Uye(e)).length))return 0;var t,r,i,a,o,s,l,u,c,f,d;if(t=e[0],t.x=0,t.y=0,!(a>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(a>2))return t.r+r.r;WP(r,t,i=e[2]),t=new f0(t),r=new f0(r),i=new f0(i),t.next=i.previous=r,r.next=t.previous=i,i.next=r.previous=t;e:for(l=3;l<a;++l){WP(t._,r._,i=e[l]),i=new f0(i),u=r.next,c=t.previous,f=r._.r,d=t._.r;do if(f<=d){if(HP(u._,i._)){r=u,t.next=r,r.previous=t,--l;continue e}f+=u._.r,u=u.next}else{if(HP(c._,i._)){t=c,t.next=r,r.previous=t,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=t,i.next=r,t.next=r.previous=r=i,o=UP(t);(i=i.next)!==r;)(s=UP(i))<o&&(t=i,o=s);r=t.next}for(t=[r._],i=r;(i=i.next)!==r;)t.push(i._);for(i=Xye(t,n),l=0;l<a;++l)t=e[l],t.x-=i.x,t.y-=i.y;return i.r}function Jye(e){return Math.sqrt(e.value)}function e1e(){var e=null,n=1,t=1,r=su;function i(a){const o=Hye();return a.x=n/2,a.y=t/2,e?a.eachBefore(VP(e)).eachAfter(zb(r,.5,o)).eachBefore(XP(1)):a.eachBefore(VP(Jye)).eachAfter(zb(su,1,o)).eachAfter(zb(r,a.r/Math.min(n,t),o)).eachBefore(XP(Math.min(n,t)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=H0(a),i):e},i.size=function(a){return arguments.length?(n=+a[0],t=+a[1],i):[n,t]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Mc(+a),i):r},i}function VP(e){return function(n){n.children||(n.r=Math.max(0,+e(n)||0))}}function zb(e,n,t){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*n||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=Qye(i,t),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function XP(e){return function(n){var t=n.parent;n.r*=e,t&&(n.x=t.x+e*n.x,n.y=t.y+e*n.y)}}function t1e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Yy(e,n,t,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(r-n)/e.value;++s<l;)o=a[s],o.y0=t,o.y1=i,o.x0=n,o.x1=n+=o.value*u}var n1e={depth:-1},qP={},Yb={};function r1e(e){return e.id}function i1e(e){return e.parentId}function Vw(){var e=r1e,n=i1e,t;function r(i){var a=Array.from(i),o=e,s=n,l,u,c,f,d,h,p,v,g=new Map;if(t!=null){const m=a.map((x,_)=>a1e(t(x,_,i))),y=m.map(KP),b=new Set(m).add("");for(const x of y)b.has(x)||(b.add(x),m.push(x),y.push(KP(x)),a.push(Yb));o=(x,_)=>m[_],s=(x,_)=>y[_]}for(c=0,l=a.length;c<l;++c)u=a[c],h=a[c]=new If(u),(p=o(u,c,i))!=null&&(p+="")&&(v=h.id=p,g.set(v,g.has(v)?qP:h)),(p=s(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=a[c],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===qP)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(t!=null){for(;f.data===Yb&&f.children.length===1;)f=f.children[0],--l;for(let m=a.length-1;m>=0&&(h=a[m],h.data===Yb);--m)h.data=null}if(f.parent=n1e,f.eachBefore(function(m){m.depth=m.parent.depth+1,--l}).eachBefore(dB),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=H0(i),r):e},r.parentId=function(i){return arguments.length?(n=H0(i),r):n},r.path=function(i){return arguments.length?(t=H0(i),r):t},r}function a1e(e){e=`${e}`;let n=e.length;return Xw(e,n-1)&&!Xw(e,n-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function KP(e){let n=e.length;if(n<2)return"";for(;--n>1&&!Xw(e,n););return e.slice(0,n)}function Xw(e,n){if(e[n]==="/"){let t=0;for(;n>0&&e[--n]==="\\";)++t;if((t&1)===0)return!0}return!1}function o1e(e,n){return e.parent===n.parent?1:2}function Gb(e){var n=e.children;return n?n[0]:e.t}function Wb(e){var n=e.children;return n?n[n.length-1]:e.t}function s1e(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function l1e(e){for(var n=0,t=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=n,a.m+=n,n+=a.s+(t+=a.c)}function u1e(e,n,t){return e.a.parent===n.parent?e.a:t}function U0(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}U0.prototype=Object.create(If.prototype);function c1e(e){for(var n=new U0(e,0),t,r=[n],i,a,o,s;t=r.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=t.children[o]=new U0(a[o],o)),i.parent=t;return(n.parent=new U0(null,0)).children=[n],n}function f1e(){var e=o1e,n=1,t=1,r=null;function i(u){var c=c1e(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var p=f===d?1:e(f,d)/2,v=p-f.x,g=n/(d.x+p+v),m=t/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+v)*g,y.y=y.depth*m})}return u}function a(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){l1e(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=s(u,d,u.parent.A||f[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,f){if(c){for(var d=u,h=u,p=c,v=d.parent.children[0],g=d.m,m=h.m,y=p.m,b=v.m,x;p=Wb(p),d=Gb(d),p&&d;)v=Gb(v),h=Wb(h),h.a=u,x=p.z+y-d.z-g+e(p._,d._),x>0&&(s1e(u1e(p,u,f),u,x),g+=x,m+=x),y+=p.m,g+=d.m,b+=v.m,m+=h.m;p&&!Wb(h)&&(h.t=p,h.m+=y-m),d&&!Gb(v)&&(v.t=d,v.m+=g-b,f=u)}return f}function l(u){u.x*=n,u.y=u.depth*t}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,n=+u[0],t=+u[1],i):r?null:[n,t]},i.nodeSize=function(u){return arguments.length?(r=!0,n=+u[0],t=+u[1],i):r?[n,t]:null},i}function Gy(e,n,t,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-t)/e.value;++s<l;)o=a[s],o.x0=n,o.x1=r,o.y0=t,o.y1=t+=o.value*u}var gB=(1+Math.sqrt(5))/2;function mB(e,n,t,r,i,a){for(var o=[],s=n.children,l,u,c=0,f=0,d=s.length,h,p,v=n.value,g,m,y,b,x,_,w;c<d;){h=i-t,p=a-r;do g=s[f++].value;while(!g&&f<d);for(m=y=g,_=Math.max(p/h,h/p)/(v*e),w=g*g*_,x=Math.max(y/w,w/m);f<d;++f){if(g+=u=s[f].value,u<m&&(m=u),u>y&&(y=u),w=g*g*_,b=Math.max(y/w,w/m),b>x){g-=u;break}x=b}o.push(l={value:g,dice:h<p,children:s.slice(c,f)}),l.dice?Yy(l,t,r,i,v?r+=p*g/v:a):Gy(l,t,r,v?t+=h*g/v:i,a),v-=g,c=f}return o}const yB=function e(n){function t(r,i,a,o,s){mB(n,r,i,a,o,s)}return t.ratio=function(r){return e((r=+r)>1?r:1)},t}(gB);function d1e(){var e=yB,n=!1,t=1,r=1,i=[0],a=su,o=su,s=su,l=su,u=su;function c(d){return d.x0=d.y0=0,d.x1=t,d.y1=r,d.eachBefore(f),i=[0],n&&d.eachBefore(t1e),d}function f(d){var h=i[d.depth],p=d.x0+h,v=d.y0+h,g=d.x1-h,m=d.y1-h;g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),d.x0=p,d.y0=v,d.x1=g,d.y1=m,d.children&&(h=i[d.depth+1]=a(d)/2,p+=u(d)-h,v+=o(d)-h,g-=s(d)-h,m-=l(d)-h,g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),e(d,p,v,g,m))}return c.round=function(d){return arguments.length?(n=!!d,c):n},c.size=function(d){return arguments.length?(t=+d[0],r=+d[1],c):[t,r]},c.tile=function(d){return arguments.length?(e=hB(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:Mc(+d),c):a},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Mc(+d),c):o},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Mc(+d),c):s},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Mc(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Mc(+d),c):u},c}function h1e(e,n,t,r,i){var a=e.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,e.value,n,t,r,i);function c(f,d,h,p,v,g,m){if(f>=d-1){var y=a[f];y.x0=p,y.y0=v,y.x1=g,y.y1=m;return}for(var b=u[f],x=h/2+b,_=f+1,w=d-1;_<w;){var k=_+w>>>1;u[k]<x?_=k+1:w=k}x-u[_-1]<u[_]-x&&f+1<_&&--_;var O=u[_]-b,S=h-O;if(g-p>m-v){var E=h?(p*S+g*O)/h:g;c(f,_,O,p,v,E,m),c(_,d,S,E,v,g,m)}else{var T=h?(v*S+m*O)/h:m;c(f,_,O,p,v,g,T),c(_,d,S,p,T,g,m)}}}function p1e(e,n,t,r,i){(e.depth&1?Gy:Yy)(e,n,t,r,i)}const v1e=function e(n){function t(r,i,a,o,s){if((l=r._squarify)&&l.ratio===n)for(var l,u,c,f,d=-1,h,p=l.length,v=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?Yy(u,i,a,o,v?a+=(s-a)*u.value/v:s):Gy(u,i,a,v?i+=(o-i)*u.value/v:o,s),v-=u.value}else r._squarify=l=mB(n,r,i,a,o,s),l.ratio=n}return t.ratio=function(r){return e((r=+r)>1?r:1)},t}(gB);function g1e(e,n){return Array.isArray(e)?typeof n=="function"?Vw().path(n)(e):Vw()(e):Up(e)}function bB(e,n=[e.data.name]){e.id=e.id||e.data.name,e.path=n,e.children&&e.children.forEach(t=>{t.id=`${e.id}/${t.data.name}`,t.path=[...n,t.data.name],bB(t,t.path)})}function xB(e){const n=Gt(e,["data","name"]);n.replaceAll&&(e.path=n.replaceAll(".","/").split("/")),e.children&&e.children.forEach(t=>{xB(t)})}function m1e(e,n){const t={treemapBinary:h1e,treemapDice:Yy,treemapSlice:Gy,treemapSliceDice:p1e,treemapSquarify:yB,treemapResquarify:v1e},r=e==="treemapSquarify"?t[e].ratio(n):t[e];if(!r)throw new TypeError("Invalid tile method!");return r}function wB(e,n,t){const{value:r}=t,i=m1e(n.tile,n.ratio),a=g1e(e,n.path);zr(e)?xB(a):bB(a),r?a.sum(l=>n.ignoreParentValue&&l.children?0:Zo(r)(l)).sort(n.sort):a.count(),d1e().tile(i).size(n.size).round(n.round).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft)(a);const o=a.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[o.filter(typeof n.layer=="function"?n.layer:l=>l.height===n.layer),o]}var y1e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const b1e=(e,n)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,n],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(t,r)=>r.value-t.value,layer:0}),x1e=(e,n)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:t=>t.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,n],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),w1e={fontSize:10,text:e=>Zf(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0,isTreemapLabel:!0},_1e={title:e=>{var n,t;return(t=(n=e.path)===null||n===void 0?void 0:n.join)===null||t===void 0?void 0:t.call(n,".")},items:[{field:"value"}]},k1e={title:e=>Zf(e.path),items:[{field:"value"}]},_B=(e,n)=>{const{width:t,height:r,options:i}=n,{data:a,encode:o={},scale:s,style:l={},layout:u={},labels:c=[],tooltip:f={}}=e,d=y1e(e,["data","encode","scale","style","layout","labels","tooltip"]),h=Gt(i,["interaction","treemapDrillDown"])||Gt(i,["marks",0,"interaction","treemapDrillDown"]),p=ye({},b1e(t,r),u,{layer:h?y=>y.depth===1:u.layer}),[v,g]=wB(a,p,o),m=Pe(l,"label");return ye({},x1e(t,r),Object.assign(Object.assign({data:v,scale:s,style:l,labels:[Object.assign(Object.assign(Object.assign({},w1e),m),h&&{cursor:"pointer"}),...c]},d),{encode:o,tooltip:em(f,_1e),axis:!1}),h?{interaction:Object.assign(Object.assign({},d.interaction),{treemapDrillDown:h?Object.assign(Object.assign({},h),{originData:g,layout:p}):void 0}),encode:Object.assign({color:y=>Zf(y.path)},o),tooltip:em(f,k1e)}:{})};_B.props={};var O1e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const S1e=(e,n)=>({size:[e,n],padding:0,sort:(t,r)=>r.value-t.value}),E1e=(e,n,t)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,n]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:t.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:t.color?void 0:r=>r.height===0?"":"#000"}}),T1e={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.r*2},M1e={title:e=>e.data.name,items:[{field:"value"}]},A1e=(e,n,t)=>{const{value:r}=t,i=zr(e)?Vw().path(n.path)(e):Up(e);return r?i.sum(a=>Zo(r)(a)).sort(n.sort):i.count(),e1e().size(n.size).padding(n.padding)(i),i.descendants()},kB=(e,n)=>{const{width:t,height:r}=n,{data:i,encode:a={},scale:o={},style:s={},layout:l={},labels:u=[],tooltip:c={}}=e,f=O1e(e,["data","encode","scale","style","layout","labels","tooltip"]),d=E1e(t,r,a),h=A1e(i,ye({},S1e(t,r),l),ye({},d.encode,a)),p=Pe(s,"label");return ye({},d,Object.assign(Object.assign({data:h,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},T1e),p),...u]},f),{tooltip:em(c,M1e),axis:!1}))};kB.props={};var ZP=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function P1e(e,n){return sa(e,t=>n[t])}function C1e(e,n){return Xt(e,t=>n[t])}function OB(e,n){const t=xO(e,n)*2.5-wO(e,n)*1.5;return sa(e,r=>n[r]>=t?n[r]:NaN)}function xO(e,n){return oy(e,.25,t=>n[t])}function R1e(e,n){return oy(e,.5,t=>n[t])}function wO(e,n){return oy(e,.75,t=>n[t])}function SB(e,n){const t=wO(e,n)*2.5-xO(e,n)*1.5;return Xt(e,r=>n[r]<=t?n[r]:NaN)}function N1e(){return(e,n)=>{const{encode:t}=n,{y:r,x:i}=t,{value:a}=r,{value:o}=i;return[Array.from(yn(e,u=>o[+u]).values()).flatMap(u=>{const c=OB(u,a),f=SB(u,a);return u.filter(d=>a[d]<c||a[d]>f)}),n]}}const EB=e=>{const{data:n,encode:t,style:r={},tooltip:i={},transform:a,animate:o}=e,s=ZP(e,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,u=ZP(r,["point"]),{y:c}=t,f={y:c,y1:c,y2:c,y3:c,y4:c},d={y1:xO,y2:R1e,y3:wO},h=as(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=as(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:n,transform:[Object.assign(Object.assign({type:"groupX",y:P1e},d),{y4:C1e})],encode:Object.assign(Object.assign({},t),f),style:u,tooltip:h},s);const v=Pe(u,"box"),g=Pe(u,"point");return[Object.assign({type:"box",data:n,transform:[Object.assign(Object.assign({type:"groupX",y:OB},d),{y4:SB})],encode:Object.assign(Object.assign({},t),f),style:v,tooltip:h,animate:os(o,"box")},s),{type:"point",data:n,transform:[{type:N1e}],encode:t,style:Object.assign({},g),tooltip:p,animate:os(o,"point")}]};EB.props={};const L1e={shape:YF},TB=e=>{const{cartesian:n}=e;return n?fO:(t,r,i,a)=>{const{x:o,y:s}=i,l=oc(r,i,e),u=Array.from(t,c=>{const f=[+o[c],+s[c]];return[a.map(l(f,c))]});return[t,u]}};TB.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:L1e,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ar(),{type:vy},{type:py},{type:t5}]};function $1e(e,n){var t,r=1;e==null&&(e=0),n==null&&(n=0);function i(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-e)*r,u=(u/o-n)*r,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return i.initialize=function(a){t=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(n=+a,i):n},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function I1e(e){const n=+this._x.call(null,e),t=+this._y.call(null,e);return MB(this.cover(n,t),n,t,e)}function MB(e,n,t,r){if(isNaN(n)||isNaN(t))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,v,g,m,y;if(!a)return e._root=o,e;for(;a.length;)if((v=n>=(f=(s+u)/2))?s=f:u=f,(g=t>=(d=(l+c)/2))?l=d:c=d,i=a,!(a=a[m=g<<1|v]))return i[m]=o,e;if(h=+e._x.call(null,a.data),p=+e._y.call(null,a.data),n===h&&t===p)return o.next=a,i?i[m]=o:e._root=o,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(v=n>=(f=(s+u)/2))?s=f:u=f,(g=t>=(d=(l+c)/2))?l=d:c=d;while((m=g<<1|v)===(y=(p>=d)<<1|h>=f));return i[y]=a,i[m]=o,e}function D1e(e){var n,t,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(t=0;t<r;++t)isNaN(i=+this._x.call(null,n=e[t]))||isNaN(a=+this._y.call(null,n))||(o[t]=i,s[t]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),t=0;t<r;++t)MB(this,o[t],s[t],e[t]);return this}function F1e(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(t))i=(t=Math.floor(e))+1,a=(r=Math.floor(n))+1;else{for(var o=i-t||1,s=this._root,l,u;t>e||e>=i||r>n||n>=a;)switch(u=(n<r)<<1|e<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=t+o,a=r+o;break;case 1:t=i-o,a=r+o;break;case 2:i=t+o,r=a-o;break;case 3:t=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=r,this._x1=i,this._y1=a,this}function B1e(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function j1e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ki(e,n,t,r,i){this.node=e,this.x0=n,this.y0=t,this.x1=r,this.y1=i}function z1e(e,n,t){var r,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,v;for(h&&d.push(new ki(h,i,a,c,f)),t==null?t=1/0:(i=e-t,a=n-t,c=e+t,f=n+t,t*=t);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(s=p.y0)>f||(l=p.x1)<i||(u=p.y1)<a))if(h.length){var g=(o+l)/2,m=(s+u)/2;d.push(new ki(h[3],g,m,l,u),new ki(h[2],o,m,g,u),new ki(h[1],g,s,l,m),new ki(h[0],o,s,g,m)),(v=(n>=m)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=p)}else{var y=e-+this._x.call(null,h.data),b=n-+this._y.call(null,h.data),x=y*y+b*b;if(x<t){var _=Math.sqrt(t=x);i=e-_,a=n-_,c=e+_,f=n+_,r=h.data}}return r}function Y1e(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var n,t=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,v,g,m;if(!t)return this;if(t.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(v=f>=(h=(s+u)/2))?s=h:u=h,n=t,!(t=t[g=v<<1|p]))return this;if(!t.length)break;(n[g+1&3]||n[g+2&3]||n[g+3&3])&&(r=n,m=g)}for(;t.data!==e;)if(i=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,i?(a?i.next=a:delete i.next,this):n?(a?n[g]=a:delete n[g],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(r?r[m]=t:this._root=t),this):(this._root=a,this)}function G1e(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this}function W1e(){return this._root}function H1e(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function U1e(e){var n=[],t,r=this._root,i,a,o,s,l;for(r&&n.push(new ki(r,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(r=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&r.length){var u=(a+s)/2,c=(o+l)/2;(i=r[3])&&n.push(new ki(i,u,c,s,l)),(i=r[2])&&n.push(new ki(i,a,c,u,l)),(i=r[1])&&n.push(new ki(i,u,o,s,c)),(i=r[0])&&n.push(new ki(i,a,o,u,c))}return this}function V1e(e){var n=[],t=[],r;for(this._root&&n.push(new ki(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&n.push(new ki(a,o,s,c,f)),(a=i[1])&&n.push(new ki(a,c,s,l,f)),(a=i[2])&&n.push(new ki(a,o,f,c,u)),(a=i[3])&&n.push(new ki(a,c,f,l,u))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function X1e(e){return e[0]}function q1e(e){return arguments.length?(this._x=e,this):this._x}function K1e(e){return e[1]}function Z1e(e){return arguments.length?(this._y=e,this):this._y}function AB(e,n,t){var r=new _O(n??X1e,t??K1e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function _O(e,n,t,r,i,a){this._x=e,this._y=n,this._x0=t,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function QP(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var Ai=AB.prototype=_O.prototype;Ai.copy=function(){var e=new _O(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,r;if(!n)return e;if(!n.length)return e._root=QP(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?t.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=QP(r));return e};Ai.add=I1e;Ai.addAll=D1e;Ai.cover=F1e;Ai.data=B1e;Ai.extent=j1e;Ai.find=z1e;Ai.remove=Y1e;Ai.removeAll=G1e;Ai.root=W1e;Ai.size=H1e;Ai.visit=U1e;Ai.visitAfter=V1e;Ai.x=q1e;Ai.y=Z1e;function na(e){return function(){return e}}function Nc(e){return(e()-.5)*1e-6}function Q1e(e){return e.index}function JP(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function J1e(e){var n=Q1e,t=f,r,i=na(30),a,o,s,l,u,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function d(g){for(var m=0,y=e.length;m<c;++m)for(var b=0,x,_,w,k,O,S,E;b<y;++b)x=e[b],_=x.source,w=x.target,k=w.x+w.vx-_.x-_.vx||Nc(u),O=w.y+w.vy-_.y-_.vy||Nc(u),S=Math.sqrt(k*k+O*O),S=(S-a[b])/S*g*r[b],k*=S,O*=S,w.vx-=k*(E=l[b]),w.vy-=O*E,_.vx+=k*(E=1-E),_.vy+=O*E}function h(){if(o){var g,m=o.length,y=e.length,b=new Map(o.map((_,w)=>[n(_,w,o),_])),x;for(g=0,s=new Array(m);g<y;++g)x=e[g],x.index=g,typeof x.source!="object"&&(x.source=JP(b,x.source)),typeof x.target!="object"&&(x.target=JP(b,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)x=e[g],l[g]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(y),p(),a=new Array(y),v()}}function p(){if(o)for(var g=0,m=e.length;g<m;++g)r[g]=+t(e[g],g,e)}function v(){if(o)for(var g=0,m=e.length;g<m;++g)a[g]=+i(e[g],g,e)}return d.initialize=function(g,m){o=g,u=m,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(n=g,d):n},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(t=typeof g=="function"?g:na(+g),p(),d):t},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:na(+g),v(),d):i},d}var ebe={value:()=>{}};function PB(){for(var e=0,n=arguments.length,t={},r;e<n;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new V0(t)}function V0(e){this._=e}function tbe(e,n){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}V0.prototype=PB.prototype={constructor:V0,on:function(e,n){var t=this._,r=tbe(e+"",t),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=nbe(t[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(e=r[a]).type)t[i]=eC(t[i],e.name,n);else if(n==null)for(i in t)t[i]=eC(t[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new V0(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,a;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(n,t)}};function nbe(e,n){for(var t=0,r=e.length,i;t<r;++t)if((i=e[t]).name===n)return i.value}function eC(e,n,t){for(var r=0,i=e.length;r<i;++r)if(e[r].name===n){e[r]=ebe,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:n,value:t}),e}var Df=0,Yd=0,Md=0,CB=1e3,tm,Gd,nm=0,Yu=0,Wy=0,np=typeof performance=="object"&&performance.now?performance:Date,RB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function NB(){return Yu||(RB(rbe),Yu=np.now()+Wy)}function rbe(){Yu=0}function qw(){this._call=this._time=this._next=null}qw.prototype=LB.prototype={constructor:qw,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?NB():+t)+(n==null?0:+n),!this._next&&Gd!==this&&(Gd?Gd._next=this:tm=this,Gd=this),this._call=e,this._time=t,Kw()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kw())}};function LB(e,n,t){var r=new qw;return r.restart(e,n,t),r}function ibe(){NB(),++Df;for(var e=tm,n;e;)(n=Yu-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Df}function tC(){Yu=(nm=np.now())+Wy,Df=Yd=0;try{ibe()}finally{Df=0,obe(),Yu=0}}function abe(){var e=np.now(),n=e-nm;n>CB&&(Wy-=n,nm=e)}function obe(){for(var e,n=tm,t,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:tm=t);Gd=e,Kw(r)}function Kw(e){if(!Df){Yd&&(Yd=clearTimeout(Yd));var n=e-Yu;n>24?(e<1/0&&(Yd=setTimeout(tC,e-np.now()-Wy)),Md&&(Md=clearInterval(Md))):(Md||(nm=np.now(),Md=setInterval(abe,CB)),Df=1,RB(tC))}}const sbe=1664525,lbe=1013904223,nC=4294967296;function ube(){let e=1;return()=>(e=(sbe*e+lbe)%nC)/nC}function cbe(e){return e.x}function fbe(e){return e.y}var dbe=10,hbe=Math.PI*(3-Math.sqrt(5));function pbe(e){var n,t=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=LB(f),u=PB("tick","end"),c=ube();e==null&&(e=[]);function f(){d(),u.call("tick",n),t<r&&(l.stop(),u.call("end",n))}function d(v){var g,m=e.length,y;v===void 0&&(v=1);for(var b=0;b<v;++b)for(t+=(a-t)*i,s.forEach(function(x){x(t)}),g=0;g<m;++g)y=e[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return n}function h(){for(var v=0,g=e.length,m;v<g;++v){if(m=e[v],m.index=v,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=dbe*Math.sqrt(.5+v),b=v*hbe;m.x=y*Math.cos(b),m.y=y*Math.sin(b)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(v){return v.initialize&&v.initialize(e,c),v}return h(),n={tick:d,restart:function(){return l.restart(f),n},stop:function(){return l.stop(),n},nodes:function(v){return arguments.length?(e=v,h(),s.forEach(p),n):e},alpha:function(v){return arguments.length?(t=+v,n):t},alphaMin:function(v){return arguments.length?(r=+v,n):r},alphaDecay:function(v){return arguments.length?(i=+v,n):+i},alphaTarget:function(v){return arguments.length?(a=+v,n):a},velocityDecay:function(v){return arguments.length?(o=1-v,n):1-o},randomSource:function(v){return arguments.length?(c=v,s.forEach(p),n):c},force:function(v,g){return arguments.length>1?(g==null?s.delete(v):s.set(v,p(g)),n):s.get(v)},find:function(v,g,m){var y=0,b=e.length,x,_,w,k,O;for(m==null?m=1/0:m*=m,y=0;y<b;++y)k=e[y],x=v-k.x,_=g-k.y,w=x*x+_*_,w<m&&(O=k,m=w);return O},on:function(v,g){return arguments.length>1?(u.on(v,g),n):u.on(v)}}}function vbe(){var e,n,t,r,i=na(-30),a,o=1,s=1/0,l=.81;function u(h){var p,v=e.length,g=AB(e,cbe,fbe).visitAfter(f);for(r=h,p=0;p<v;++p)n=e[p],g.visit(d)}function c(){if(e){var h,p=e.length,v;for(a=new Array(p),h=0;h<p;++h)v=e[h],a[v.index]=+i(v,h,e)}}function f(h){var p=0,v,g,m=0,y,b,x;if(h.length){for(y=b=x=0;x<4;++x)(v=h[x])&&(g=Math.abs(v.value))&&(p+=v.value,m+=g,y+=g*v.x,b+=g*v.y);h.x=y/m,h.y=b/m}else{v=h,v.x=v.data.x,v.y=v.data.y;do p+=a[v.data.index];while(v=v.next)}h.value=p}function d(h,p,v,g){if(!h.value)return!0;var m=h.x-n.x,y=h.y-n.y,b=g-p,x=m*m+y*y;if(b*b/l<x)return x<s&&(m===0&&(m=Nc(t),x+=m*m),y===0&&(y=Nc(t),x+=y*y),x<o&&(x=Math.sqrt(o*x)),n.vx+=m*h.value*r/x,n.vy+=y*h.value*r/x),!0;if(h.length||x>=s)return;(h.data!==n||h.next)&&(m===0&&(m=Nc(t),x+=m*m),y===0&&(y=Nc(t),x+=y*y),x<o&&(x=Math.sqrt(o*x)));do h.data!==n&&(b=a[h.data.index]*r/x,n.vx+=m*b,n.vy+=y*b);while(h=h.next)}return u.initialize=function(h,p){e=h,t=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:na(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function gbe(e){var n=na(.1),t,r,i;typeof e!="function"&&(e=na(e==null?0:+e));function a(s){for(var l=0,u=t.length,c;l<u;++l)c=t[l],c.vx+=(i[l]-c.x)*r[l]*s}function o(){if(t){var s,l=t.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(t[s],s,t))?0:+n(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(n=typeof s=="function"?s:na(+s),o(),a):n},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:na(+s),o(),a):e},a}function mbe(e){var n=na(.1),t,r,i;typeof e!="function"&&(e=na(e==null?0:+e));function a(s){for(var l=0,u=t.length,c;l<u;++l)c=t[l],c.vy+=(i[l]-c.y)*r[l]*s}function o(){if(t){var s,l=t.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(t[s],s,t))?0:+n(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(n=typeof s=="function"?s:na(+s),o(),a):n},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:na(+s),o(),a):e},a}var ybe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const bbe={joint:!0},xbe={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},wbe={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},_be={text:""};function kbe(e,n,t){const{nodes:r,links:i}=e,{joint:a,nodeStrength:o,linkStrength:s}=n,{nodeKey:l=p=>p.id,linkKey:u=p=>p.id}=t,c=vbe(),f=J1e(i).id(Zo(u));typeof o=="function"&&c.strength(o),typeof s=="function"&&f.strength(s);const d=pbe(r).force("link",f).force("charge",c);a?d.force("center",$1e()):d.force("x",gbe()).force("y",mbe()),d.stop();const h=Math.ceil(Math.log(d.alphaMin())/Math.log(1-d.alphaDecay()));for(let p=0;p<h;p++)d.tick();return{nodesData:r,linksData:i}}const $B=e=>{const{data:n,encode:t={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:u={}}=e,{nodeKey:c=w=>w.id,linkKey:f=w=>w.id}=t,d=ybe(t,["nodeKey","linkKey"]),h=Object.assign({nodeKey:c,linkKey:f},d),p=Pe(h,"node"),v=Pe(h,"link"),{links:g,nodes:m}=dO(n,h),{nodesData:y,linksData:b}=kbe({links:g,nodes:m},ye({},bbe,a),h),x=as(u,"link",{items:[w=>({name:"source",value:Zo(f)(w.source)}),w=>({name:"target",value:Zo(f)(w.target)})]}),_=as(u,"node",{items:[w=>({name:"key",value:Zo(c)(w)})]},!0);return[ye({},xbe,{data:b,encode:v,labels:s,style:Pe(i,"link"),tooltip:x,animate:os(l,"link")}),ye({},wbe,{data:y,encode:Object.assign({},p),scale:r,style:Pe(i,"node"),tooltip:_,labels:[Object.assign(Object.assign({},_be),Pe(i,"label")),...o],animate:os(l,"link")})]};$B.props={};const IB=e=>n=>t=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=n,[l,u]=s,c=Up(t,p=>p.children).sum(p=>p[r]).sort(o),f=e();f.size([1,1]),i&&f.nodeSize(i),a&&f.separation(a),f(c);const d=[];c.each(p=>{p[l]=p.x,p[u]=p.y,p.name=p.data.name,d.push(p)});const h=c.links();return h.forEach(p=>{p[l]=[p.source[l],p.target[l]],p[u]=[p.source[u],p.target[u]]}),{nodes:d,edges:h}},DB=e=>IB(kye)(e);DB.props={};const FB=e=>IB(f1e)(e);FB.props={};const Obe={sortBy:(e,n)=>n.value-e.value},Sbe={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},Ebe={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},Tbe={text:"",fontSize:10},BB=e=>{const{data:n,encode:t={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:u={}}=e,c=t==null?void 0:t.value,{nodes:f,edges:d}=FB(Object.assign(Object.assign(Object.assign({},Obe),a),{field:c}))(n),h=as(u,"node",{title:"name",items:["value"]},!0),p=as(u,"link",{title:"",items:[v=>({name:"source",value:v.source.name}),v=>({name:"target",value:v.target.name})]});return[ye({},Ebe,{data:d,encode:Pe(t,"link"),scale:Pe(r,"link"),labels:s,style:Object.assign({stroke:"#999"},Pe(i,"link")),tooltip:p,animate:os(l,"link")}),ye({},Sbe,{data:f,scale:Pe(r,"node"),encode:Pe(t,"node"),labels:[Object.assign(Object.assign({},Tbe),Pe(i,"label")),...o],style:Object.assign({},Pe(i,"node")),tooltip:h,animate:os(l,"node")})]};BB.props={};var Mbe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},Abe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Pbe(e,n){const{text:t="text",value:r="value"}=n;return e.map(i=>Object.assign(Object.assign({},i),{text:i[t],value:i[r]}))}const Cbe=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily},tooltip:{items:[e=>({name:e.text,value:e.value})]}}),kO=(e,n)=>Mbe(void 0,void 0,void 0,function*(){const{width:t,height:r}=n,{data:i,encode:a={},scale:o,style:s={},layout:l={}}=e,u=Abe(e,["data","encode","scale","style","layout"]),c=Pbe(i,a);return ye({},Cbe(),Object.assign(Object.assign({data:{value:c,transform:[Object.assign({type:"wordCloud",size:[t,r]},l)]},encode:a,scale:o,style:s},u),{axis:!1}))});kO.props={};var ch=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Rbe=(e,n)=>{const{shape:t,radius:r}=e,i=ch(e,["shape","radius"]),a=Pe(i,"pointer"),o=Pe(i,"pin"),{shape:s}=a,l=ch(a,["shape"]),{shape:u}=o,c=ch(o,["shape"]),{coordinate:f,theme:d}=n;return(h,p)=>{const v=h.map(A=>f.invert(A)),[g,m,y]=cae(f,"polar"),b=f.clone(),{color:x}=p,_=O_({startAngle:g,endAngle:m,innerRadius:y,outerRadius:r});_.push(["cartesian"]),b.update({transformations:_});const w=v.map(A=>b.map(A)),[k,O]=Nk(w),[S,E]=f.getCenter(),T=Object.assign(Object.assign({x1:k,y1:O,x2:S,y2:E,stroke:x},l),i),M=Object.assign(Object.assign({cx:S,cy:E,stroke:x},c),i),P=ot(new Ds);return Is(s)||(typeof s=="function"?P.append(()=>s(w,p,b,d)):P.append("line").call(qe,T).node()),Is(u)||(typeof u=="function"?P.append(()=>u(w,p,b,d)):P.append("circle").call(qe,M).node()),P.node()}},rC={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Nbe={style:{shape:Rbe,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},Lbe={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function $be(e){if(jt(e)){const n=Math.max(0,Math.min(e,1));return{percent:n,target:n,total:1}}return e}function Ibe(e,n){const{name:t="score",target:r,total:i,percent:a,thresholds:o=[]}=$be(e),s=a||r,l=a?1:i,u=Object.assign({y:{domain:[0,l]}},n);return o.length?{targetData:[{x:t,y:s,color:"target"}],totalData:o.map((c,f)=>({x:t,y:f>=1?c-o[f-1]:c,color:f})),target:s,total:l,scale:u}:{targetData:[{x:t,y:s,color:"target"}],totalData:[{x:t,y:s,color:"target"},{x:t,y:l-s,color:"total"}],target:s,total:l,scale:u}}function Dbe(e,{target:n,total:t}){const{content:r}=e;return r?r(n,t):n.toString()}const jB=e=>{const{data:n={},scale:t={},style:r={},animate:i={},transform:a=[]}=e,o=ch(e,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:u,total:c,scale:f}=Ibe(n,t),d=Pe(r,"text"),{tooltip:h}=d,p=ch(d,["tooltip"]),v=nie(r,["pointer","pin"]),g=Pe(r,"arc"),m=g.shape;return[ye({},rC,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:f,style:m==="round"?Object.assign(Object.assign({},g),{shape:zme}):g,animate:typeof i=="object"?Pe(i,"arc"):i},o)),ye({},rC,Nbe,Object.assign({type:"point",data:s,scale:f,style:v,animate:typeof i=="object"?Pe(i,"indicator"):i},o)),ye({},Lbe,{style:Object.assign({text:Dbe(p,{target:u,total:c})},p),tooltip:h,animate:typeof i=="object"?Pe(i,"text"):i})]};jB.props={};const iC={density:FF},zB=()=>(e,n,t,r)=>{const{x:i,series:a}=t,o=Object.entries(t).filter(([f])=>f.startsWith("y")).map(([,f])=>f),s=Object.entries(t).filter(([f])=>f.startsWith("size")).map(([,f])=>f);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const l=n.x,u=n.series,c=Array.from(e,f=>{const d=l.getBandWidth(l.invert(+i[f])),h=u?u.getBandWidth(u.invert(+(a==null?void 0:a[f]))):1,p=d*h,v=(+(a==null?void 0:a[f])||0)*d,g=+i[f]+v+p/2;return[...o.map((y,b)=>[g+ +s[b][f]/e.length,+o[b][f]]),...o.map((y,b)=>[g-+s[b][f]/e.length,+o[b][f]]).reverse()].map(y=>r.map(y))});return[e,c]};zB.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:iC,channels:[...Mi({shapes:Object.keys(iC)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...ar(),{type:Cp},{type:Ju}],postInference:[...br(),...nd()],interaction:{shareTooltip:!0}};const aC={heatmap:zF},YB=e=>(n,t,r,i)=>{const{x:a,y:o,size:s,color:l}=r,u=Array.from(n,c=>{const f=s?+s[c]:40;return[...i.map([+a[c],+o[c]]),l[c],f]});return[[0],[u]]};YB.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:aC,channels:[...Mi({shapes:Object.keys(aC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...ar(),{type:Ju},{type:dy}],postInference:[...br(),...Il()]};var Fbe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Bbe={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:GF},animate:{enter:{type:"fadeIn"}}},jbe={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},GB=e=>{const{data:n={},style:t={},animate:r}=e,i=Fbe(e,["data","style","animate"]),a=Math.max(0,jt(n)?n:n==null?void 0:n.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},Pe(t,"text")),Pe(t,"content")),l=Pe(t,"outline"),u=Pe(t,"wave"),c=Pe(t,"background");return[ye({},Bbe,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:t==null?void 0:t.shape},styleOptions:Object.assign(Object.assign({},t),{outline:l,wave:u,background:c})},animate:r},i)),ye({},jbe,{style:Object.assign({text:`${zg(a*100)} %`},s),animate:r})]};GB.props={};const WB=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];WB.props={};const HB=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];HB.props={};const UB=e=>new kf(e);UB.props={};const VB=e=>new wn(e);VB.props={};const XB=e=>new gI(e);XB.props={};const qB=e=>new xI(e);qB.props={};const KB=e=>new kI(e);KB.props={};const ZB=e=>new Ure(e);ZB.props={};const QB=e=>new Nre(e);QB.props={};const JB=e=>new SI(e);JB.props={};const e8=e=>new uy(e);e8.props={};const t8=e=>new RI(e);t8.props={};const n8=e=>new PI(e);n8.props={};const r8=e=>new Cre(e);r8.props={};const i8=e=>new lw(e);i8.props={};const a8=e=>new Z_(e);a8.props={};function OO({colorDefault:e,colorBlack:n,colorWhite:t,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:l,alpha65:u,alpha45:c,alpha25:f,alpha10:d,category10:h,category20:p,sizeDefault:v=1,padding:g="auto",margin:m=16}){return{padding:g,margin:m,size:v,color:e,category10:h,category20:p,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:n,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:n,gridStrokeOpacity:d,labelAlign:"horizontal",labelFill:n,labelOpacity:c,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:n,lineStrokeOpacity:c,tickLength:4,tickLineWidth:1,tickStroke:n,tickOpacity:c,titleFill:n,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:n,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[a,a],itemValueFill:n,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:n,navButtonFillOpacity:.65,navPageNumFill:n,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:n,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:n,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:n,handleLabelFillOpacity:c,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:n,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:n,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:n,labelFillOpacity:c,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:n,tickStrokeOpacity:c},label:{fill:n,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:n,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:t,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:n,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:n,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:n,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:n,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:n,subtitleFillOpacity:u,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const zbe={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Ybe=OO(zbe),SO=e=>ye({},Ybe,e);SO.props={};const o8=e=>ye({},SO(),{category10:"category10",category20:"category20"},e);o8.props={};const Gbe={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},Wbe=OO(Gbe),s8=e=>ye({},Wbe,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),l8=e=>Object.assign({},s8(),{category10:"category10",category20:"category20"},e);l8.props={};const Hbe={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Ube=OO(Hbe),u8=e=>ye({},Ube,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(n,t)=>t!==0},axisRight:{gridFilter:(n,t)=>t!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);u8.props={};function Vbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rm(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function Xbe(e){return e=rm(Math.abs(e)),e?e[1]:NaN}function qbe(e,n){return function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}}function Kbe(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var Zbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zw(e){if(!(n=Zbe.exec(e)))throw new Error("invalid format: "+e);var n;return new EO({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Zw.prototype=EO.prototype;function EO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qbe(e){e:for(var n=e.length,t=1,r=-1,i;t<n;++t)switch(e[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+e[t])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var c8;function Jbe(e,n){var t=rm(e,n);if(!t)return e+"";var r=t[0],i=t[1],a=i-(c8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rm(e,Math.max(0,n+a-1))[0]}function oC(e,n){var t=rm(e,n);if(!t)return e+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sC={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vbe,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>oC(e*100,n),r:oC,s:Jbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lC(e){return e}var uC=Array.prototype.map,cC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function exe(e){var n=e.grouping===void 0||e.thousands===void 0?lC:qbe(uC.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lC:Kbe(uC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Zw(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,g=f.zero,m=f.width,y=f.comma,b=f.precision,x=f.trim,_=f.type;_==="n"?(y=!0,_="g"):sC[_]||(b===void 0&&(b=12),x=!0,_="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var w=v==="$"?t:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=v==="$"?r:/[%p]/.test(_)?o:"",O=sC[_],S=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(T){var M=w,P=k,A,N,R;if(_==="c")P=O(T)+P,T="";else{T=+T;var C=T<0||1/T<0;if(T=isNaN(T)?l:O(Math.abs(T),b),x&&(T=Qbe(T)),C&&+T==0&&p!=="+"&&(C=!1),M=(C?p==="("?p:s:p==="-"||p==="("?"":p)+M,P=(_==="s"?cC[8+c8/3]:"")+P+(C&&p==="("?")":""),S){for(A=-1,N=T.length;++A<N;)if(R=T.charCodeAt(A),48>R||R>57){P=(R===46?i+T.slice(A+1):T.slice(A))+P,T=T.slice(0,A);break}}}y&&!g&&(T=n(T,1/0));var L=M.length+T.length+P.length,I=L<m?new Array(m-L+1).join(d):"";switch(y&&g&&(T=n(I+T,I.length?m-P.length:1/0),I=""),h){case"<":T=M+T+P+I;break;case"=":T=M+I+T+P;break;case"^":T=I.slice(0,L=I.length>>1)+M+T+P+I.slice(L);break;default:T=I+M+T+P;break}return a(T)}return E.toString=function(){return f+""},E}function c(f,d){var h=u((f=Zw(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Xbe(d)/3)))*3,v=Math.pow(10,-p),g=cC[8+p/3];return function(m){return h(v*m)+g}}return{format:u,formatPrefix:c}}var d0,Dl;txe({thousands:",",grouping:[3],currency:["$",""]});function txe(e){return d0=exe(e),Dl=d0.format,d0.formatPrefix,d0}var nxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function rxe(e){return class extends Sk{constructor(n){super(n),this.descriptor=e}connectedCallback(){var n,t;(t=(n=this.descriptor).render)===null||t===void 0||t.call(n,this.attributes,this)}update(n={}){var t,r;this.attr(ye({},this.attributes,n)),(r=(t=this.descriptor).render)===null||r===void 0||r.call(t,this.attributes,this)}}}function fC(e,n,t){return e.querySelector(n)?ot(e).select(n):ot(e).append(t)}function Hy(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function f8(e,n){const t={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=t;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in o&&([r,i,a]=o[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},n)}class d8 extends Dge{get child(){var n;return(n=this.children)===null||n===void 0?void 0:n[0]}update(n){var t;this.attr(n);const{subOptions:r}=n;(t=this.child)===null||t===void 0||t.update(r)}}class ixe extends d8{update(n){var t;const{subOptions:r}=n;this.attr(n),(t=this.child)===null||t===void 0||t.update(r)}}function Qo(e,n){var t;return(t=e.filter(r=>r.getOptions().name===n))===null||t===void 0?void 0:t[0]}function axe(e){return e==="horizontal"||e===0}function oxe(e){return e==="vertical"||e===-Math.PI/2}function h8(e,n,t){const{bbox:r}=e,{position:i="top",size:a,length:o}=n,s=["top","bottom","center"].includes(i),[l,u]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:c,defaultLength:f}=t.props,d=a||c||l,h=o||f||u,p=s?"horizontal":"vertical",[v,g]=s?[h,d]:[d,h];return{orientation:p,width:v,height:g,size:d,length:h}}function sxe(e){return e.find(n=>n.getOptions().domain.length>0).getOptions().domain}function Uy(e){const n=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:t}=e,r=nxe(e,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{n.includes(a)?i[`show${Cl(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),t)}var p8=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function v8(e,n){const{eulerAngles:t,origin:r}=n;r&&e.setOrigin(r),t&&e.rotate(t[0],t[1],t[2])}function g8(e){const{innerWidth:n,innerHeight:t,depth:r}=e.getOptions();return[n,t,r]}function lxe(e,n){const{width:t,height:r}=n.getOptions();return i=>{if(!U5(n))return i;const a=e==="bottom"?[i,1]:[0,i],o=n.map(a);if(e==="bottom"){const s=o[0];return new wn({domain:[0,t],range:[0,1]}).map(s)}else if(e==="left"){const s=o[1];return new wn({domain:[0,r],range:[0,1]}).map(s)}return i}}function uxe(e,n,t){if(e.getTicks)return e.getTicks();if(!t)return n;const[r,i]=As(n,o=>+o),{tickCount:a}=e.getOptions();return t(r,i,a)}function cxe(e,n){if(nn(n))return h=>h;const t=n.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:l}=t,[u,c,f]=e==="left"||e==="right"?[a,o,i]:[s,l,r],d=new wn({domain:[0,1],range:[u/f,1-c/f]});return h=>d.map(h)}function m8(e,n,t,r,i,a,o,s){var l;(t!==void 0||a!==void 0)&&e.update(Object.assign(Object.assign({},t&&{tickCount:t}),a&&{tickMethod:a}));const u=uxe(e,n,a),c=i?u.filter(i):u,f=m=>m instanceof Date?String(m):typeof m=="object"&&m?m:String(m),d=r||((l=e.getFormatter)===null||l===void 0?void 0:l.call(e))||f,h=cxe(o,s),p=lxe(o,s),v=m=>["top","bottom","center","outer"].includes(m),g=m=>["left","right"].includes(m);return nn(s)||_n(s)?c.map((m,y,b)=>{var x,_;const w=((x=e.getBandWidth)===null||x===void 0?void 0:x.call(e,m))/2||0,k=h(e.map(m)+w);return{value:by(s)&&o==="center"||_n(s)&&((_=e.getTicks)===null||_===void 0?void 0:_.call(e))&&v(o)||_n(s)&&g(o)?1-k:k,label:f(d(zg(m),y,b)),id:String(y)}}):c.map((m,y,b)=>{var x;const _=((x=e.getBandWidth)===null||x===void 0?void 0:x.call(e,m))/2||0,w=p(h(e.map(m)+_));return{value:g(o)?1-w:w,label:f(d(zg(m),y,b)),id:String(y)}})}function fxe(e,n,t="xy"){const[r,i,a]=g8(n);return t==="xy"?e.includes("bottom")||e.includes("top")?i:r:t==="xz"?e.includes("bottom")||e.includes("top")?a:r:e.includes("bottom")||e.includes("top")?i:a}function dxe(e=[],n){if(e.length>0)return e;const{labelAutoRotate:t,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=n,o=[],s=(l,u)=>{u&&o.push(Object.assign(Object.assign({},l),u))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},t),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function hxe(e,n,t,r,i){const{x:a,y:o,width:s,height:l}=n,u=[a+s/2,o+l/2],c=Math.min(s,l)/2,[f,d]=vk(i),[h,p]=g8(i),v=Math.min(h,p)/2,g={center:u,radius:c,startAngle:f,endAngle:d,gridLength:(r-t)*v};if(e==="inner"){const{insetLeft:m,insetTop:y}=i.getOptions();return Object.assign(Object.assign({},g),{center:[u[0]-m,u[1]-y],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function pxe(e,n,t){return lae(n)||xy(n)?!1:e===void 0?!!t.getTicks:e}function vxe(e){const{depth:n}=e.getOptions();return n?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function gxe(e,n,t,r,i){const{x:a,y:o,width:s,height:l}=t;if(e==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(e==="left")return{startPos:[a+s,o+l],endPos:[a+s,o]};if(e==="right")return{startPos:[a,o+l],endPos:[a,o]};if(e==="top")return{startPos:[a,o+l],endPos:[a+s,o+l]};if(e==="center"){if(n==="vertical")return{startPos:[a,o],endPos:[a,o+l]};if(n==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof n=="number"){const[u,c]=r.getCenter(),[f,d]=wy(r),[h,p]=vk(r),v=Math.min(s,l)/2,{insetLeft:g,insetTop:m}=r.getOptions(),y=f*v,b=d*v,[x,_]=[u+a-g,c+o-m],[w,k]=[Math.cos(n),Math.sin(n)],O=[x+b*w,_+b*k],S=[x+y*w,_+y*k],E=()=>{const{domain:M}=i.getOptions();return M.length},T=nn(r)&&i?E():3;return{startPos:O,endPos:S,gridClosed:Math.abs(p-h-360)<1e-6,gridCenter:[x,_],gridControlAngles:new Array(T).fill(0).map((M,P,A)=>(p-h)/T*P)}}}return{}}const mxe=e=>{const{order:n,size:t,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:l,important:u={},style:c={},indexBBox:f,title:d,grid:h=!1}=e,p=p8(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[v],value:g,coordinate:m,theme:y})=>{const{bbox:b}=g,{domain:x}=v.getOptions(),_=m8(v,x,s,a,o,l,r,m),w=f?_.map((P,A)=>{const N=f.get(A);return!N||N[0]!==P.label?P:Object.assign(Object.assign({},P),{bbox:N[1]})}):_,[k,O]=wy(m),S=hxe(r,b,k,O,m),{axis:E,axisArc:T={}}=y,M=Uy(ye({},E,T,S,Object.assign(Object.assign({type:"arc",data:w,titleText:Hy(d),grid:h},p),u)));return new cO({style:T_(M,["transform"])})}};function yxe(e,n,t,r,i,a){const o=t.axis,s=["top","right","bottom","left"].includes(i)?t[`axis${tk(i)}`]:t.axisLinear,l=e.getOptions().name,u=t[`axis${Cl(l)}`]||{};return Object.assign({},o,s,u)}function bxe(e,n,t,r,i,a){const o=yxe(e,n,t,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:oxe(a)?10:0,tick:r==="center"?!1:void 0}):o}const xxe=e=>{const{direction:n="left",important:t={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:l,style:u={},title:c,tickCount:f,tickFilter:d,tickMethod:h,transform:p,indexBBox:v}=e,g=p8(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:m,value:y,coordinate:b,theme:x})=>{const{bbox:_}=y,[w]=m,{domain:k,xScale:O}=w.getOptions(),S=bxe(w,b,x,n,s,a),E=Object.assign(Object.assign(Object.assign({},S),u),g),T=fxe(o||s,b,e.plane),M=gxe(s,a,_,b,O),P=vxe(b),A=m8(w,k,f,r,d,h,s,b),N=v?A.map((L,I)=>{const j=v.get(I);return!j||j[0]!==L.label?L:Object.assign(Object.assign({},L),{bbox:j[1]})}):A,R=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),{type:"linear",data:N,crossSize:l,titleText:Hy(c),labelOverlap:dxe(p,E),grid:pxe(E.grid,b,w),gridLength:T,line:!0,indexBBox:v}),E.line?null:{lineOpacity:0}),M),P),t);return R.labelOverlap.find(L=>L.type==="hide")&&(R.crossSize=!1),new cO({className:"axis",style:Uy(R)})}},y8=e=>n=>{const{labelFormatter:t,labelFilter:r=()=>!0}=n;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,l=typeof t=="string"?Dl(t):t,u=(f,d,h)=>r(s[d],d,s),c=Object.assign(Object.assign({},n),{labelFormatter:l,labelFilter:u,scale:o});return e(c)(i)}},Fl=y8(xxe),b8=y8(mxe);Fl.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};b8.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const x8=e=>(...n)=>{const t=Fl(Object.assign({},{crossPadding:50},e))(...n);return v8(t,e),t};x8.props=Object.assign(Object.assign({},Fl.props),{defaultPosition:"bottom"});const w8=e=>(...n)=>{const t=Fl(Object.assign({},{crossPadding:10},e))(...n);return v8(t,e),t};w8.props=Object.assign(Object.assign({},Fl.props),{defaultPosition:"left"});var wxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function _xe(e){const n=e%(Math.PI*2);return n===Math.PI/2?{titleTransform:"translate(0, 50%)"}:n>-Math.PI/2&&n<Math.PI/2?{titleTransform:"translate(50%, 0)"}:n>Math.PI/2&&n<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function kxe(e,n,t,r){const{radar:i}=e,[a]=r,o=a.getOptions().name,[s,l]=vk(t),{axisRadar:u={}}=n;return Object.assign(Object.assign({},u),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((c,f)=>(l-s)/i.count*f)})}const _8=e=>{const{important:n={}}=e,t=wxe(e,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return Fl(Object.assign(Object.assign(Object.assign({},t),_xe(e.orientation)),{important:Object.assign(Object.assign({},kxe(e,i,a,o)),n)}))(r)}};_8.props=Object.assign(Object.assign({},Fl.props),{defaultPosition:"center"});var Oxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function k8(e,n){const t=Qo(e,"shape"),r=Qo(e,"color"),i=t?t.clone():null,a=[];for(const[s,l]of n){const u=s.type,f=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:l.data).map((d,h)=>{var p;return i?i.map(d||"point"):((p=s==null?void 0:s.style)===null||p===void 0?void 0:p.shape)||l.defaultShape||"point"});typeof u=="string"&&a.push([u,f])}if(a.length===0)return["point",["point"]];if(a.length===1||!t)return a[0];const{range:o}=t.getOptions();return a.map(([s,l])=>{let u=0;for(let c=0;c<a.length;c++){const f=o[c%o.length];l[c]===f&&u++}return[u/l.length,[s,l]]}).sort((s,l)=>l[0]-s[0])[0][1]}function Sxe(e,n){const{scales:t,library:r,markState:i}=n,[a,o]=k8(t,i),{itemMarker:s,itemMarkerSize:l}=e,u=(d,h)=>{var p,v,g;const m=((g=(v=(p=r[`mark.${a}`])===null||p===void 0?void 0:p.props)===null||v===void 0?void 0:v.shape[d])===null||g===void 0?void 0:g.props.defaultMarker)||Zf(d.split(".")),y=typeof l=="function"?l(h):l;return()=>bce(m,{color:h.color})(0,0,y)},c=d=>`${o[d]}`;return Qo(t,"shape")&&!s?(d,h)=>u(c(h),d):typeof s=="function"?(d,h)=>{const p=s(d.id,h);return typeof p=="string"?u(p,d):p}:(d,h)=>u(s||c(h),d)}function Exe(e){const n=Qo(e,"opacity");if(n){const{range:t}=n.getOptions();return(r,i)=>t[i]}}function Txe(e,n){const t=Qo(e,"size");return t instanceof xI?t.map(NaN)*2:n}function Mxe(e,n){const{scales:t,markState:r}=n,[i,a]=k8(t,r),{itemMarker:o,itemMarkerLineWidth:s}=e;if(s!==void 0)return s;const l=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&l.includes(o))return 4;if(typeof o=="function")return(f,d)=>{const h=o(f.id,d);if(typeof h=="string"&&l.includes(h))return 4};if((Array.isArray(a)?a:[a]).some(f=>l.includes(f)))return 4}function Axe(e,n){const{labelFormatter:t=d=>`${d}`}=e,{scales:r,theme:i}=n,a=i.legendCategory.itemMarkerSize,o=Txe(r,a),s={itemMarker:Sxe(Object.assign(Object.assign({},e),{itemMarkerSize:o}),n),itemMarkerSize:o,itemMarkerOpacity:Exe(r),itemMarkerLineWidth:Mxe(e,n)},l=typeof t=="string"?Dl(t):t,u=Qo(r,"color"),c=sxe(r),f=u?d=>u.map(d):()=>n.theme.color;return Object.assign(Object.assign({},s),{data:c.map(d=>({id:d,label:l(d),color:f(d)}))})}function Pxe(e,n,t){const{position:r}=n;if(r==="center"){const{bbox:o}=e,{width:s,height:l}=o;return{width:s,height:l}}const{width:i,height:a}=h8(e,n,t);return{width:i,height:a}}function Cxe(e){return Object.assign(Object.assign({},e),{data:(e==null?void 0:e.data.filter(n=>n.id!==""))||[]})}const TO=e=>{const{labelFormatter:n,layout:t,order:r,orientation:i,position:a,size:o,title:s,cols:l,itemMarker:u}=e,c=Oxe(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=c;return d=>{const{value:h,theme:p}=d,{bbox:v}=h,{width:g,height:m}=Pxe(h,e,TO),y=f8(a,t),b=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:g,height:m,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),f!==void 0&&{gridRow:f}),{titleText:Hy(s)}),Axe(e,d)),{legendCategory:x={}}=p,_=Uy(Object.assign({},x,Cxe(b),c)),w=new ixe({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},y),{subOptions:_})});return w.appendChild(new _ge({className:"legend-category",style:_})),w}};TO.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var Rxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Nxe(e,n,t){return e.size=n,axe(t)?e.height=n:e.width=n,e}function Lxe(e,n,t){const{size:r}=n,i=h8(e,n,t);return Nxe(i,r,i.orientation)}function $xe(e){return n=>({value:n/e,label:String(n)})}function Ixe(e,n,t,r,i){const a=n.thresholds,o=$xe(r);return Object.assign(Object.assign({},e),{color:i,data:[t,...a,r].map(o)})}function Dxe(e,n,t){const i=[-1/0,...n.thresholds,1/0].map((a,o)=>({value:o,label:a}));return Object.assign(Object.assign({},e),{data:i,color:t,labelFilter:(a,o)=>o>0&&o<i.length-1})}function Qw(e){const{domain:n}=e.getOptions(),[t,r]=[n[0],jI(n)];return[t,r]}function Fxe(e,n){const t=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},t),{range:[_u(n).toString()]})),r}function Bxe(e,n,t,r,i,a){const{length:o}=e,s=t||r,l=i.color?a.legendContinuous.ribbonFill||"black":a.color,u=n||Fxe(s,l),[c,f]=Qw(u),[d,h]=Qw([n,t,r].filter(p=>p!==void 0).find(p=>!(p instanceof Z_)));return Object.assign(Object.assign({},e),{domain:[d,h],data:u.getTicks().map(p=>({value:p})),color:new Array(Math.floor(o)).fill(0).map((p,v)=>{const g=(f-c)/(o-1)*v+c,m=u.map(g)||l,y=r?r.map(g):1;return m.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(b,x,_,w)=>`rgba(${x}, ${_}, ${w}, ${y})`)})})}function jxe(e,n,t,r,i,a){const o=Qo(e,"color"),s=Lxe(t,r,i);if(o instanceof uy){const{range:c}=o.getOptions(),[f,d]=Qw(o);return o instanceof PI||o instanceof RI?Ixe(s,o,f,d,c):Dxe(s,o,c)}const l=Qo(e,"size"),u=Qo(e,"opacity");return Bxe(s,o,l,u,n,a)}const Bl=e=>{const{labelFormatter:n,layout:t,order:r,orientation:i,position:a,size:o,title:s,style:l,crossPadding:u,padding:c}=e,f=Rxe(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:d,value:h,theme:p,scale:v})=>{const{bbox:g}=h,{x:m,y,width:b,height:x}=g,_=f8(a,t),{legendContinuous:w={}}=p,k=Uy(Object.assign({},w,Object.assign(Object.assign({titleText:Hy(s),labelAlign:"value",labelFormatter:typeof n=="string"?S=>Dl(n)(S.label):n},jxe(d,v,h,e,Bl,p)),l),f)),O=new d8({style:Object.assign(Object.assign({x:m,y,width:b,height:x},_),{subOptions:k})});return O.appendChild(new Lge({className:"legend-continuous",style:k})),O}};Bl.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const O8=e=>(...n)=>Bl(Object.assign({},{block:!0},e))(...n);O8.props=Object.assign(Object.assign({},Bl.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const MO=e=>n=>{const{scales:t}=n,r=Qo(t,"size");return Bl(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},e))(n)};MO.props=Object.assign(Object.assign({},Bl.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const S8=e=>MO(Object.assign({},{block:!0},e));S8.props=Object.assign(Object.assign({},Bl.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var zxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function dC(e,n,t,r){switch(r){case"center":return{x:e+t/2,y:n,textAlign:"middle"};case"right":return{x:e+t,y:n,textAlign:"right"};default:return{x:e,y:n,textAlign:"left"}}}const Yxe=rxe({render(e,n){const{width:t,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:l}=e,u=zxe(e,["width","title","subtitle","spacing","align","x","y"]);n.style.transform=`translate(${s}, ${l})`;const c=Pe(u,"title"),f=Pe(u,"subtitle"),h=fC(n,".title","text").attr("className","title").call(qe,Object.assign(Object.assign(Object.assign({},dC(0,0,t,o)),{fontSize:14,textBaseline:"top",text:r}),c)).node().getLocalBounds();fC(n,".sub-title","text").attr("className","sub-title").call(p=>{if(!i)return p.node().remove();p.node().attr(Object.assign(Object.assign(Object.assign({},dC(0,h.max[1]+a,t,o)),{fontSize:12,textBaseline:"top",text:i}),f))})}}),E8=e=>({value:n,theme:t})=>{const{x:r,y:i,width:a,height:o}=n.bbox;return new Yxe({style:ye({},t.title,Object.assign({x:r,y:i,width:a,height:o},e))})};E8.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function Gxe(e,n,t){return Math.min(t,Math.max(n,e))}function fh(e){return!!e.getBandWidth}function Ff(e,n,t){if(!fh(e))return e.invert(n);const{adjustedRange:r}=e,{domain:i}=e.getOptions(),a=t?-1:0,o=e.getStep(),s=t?r:r.map(c=>c+o),l=une(s,n),u=Gxe(l+a,0,i.length-1);return i[u]}function dl(e,n,t){if(!n)return e.getOptions().domain;if(!fh(e)){const l=oo(n);if(!t)return l;const[u]=l,{range:c}=e.getOptions(),[f,d]=c,h=f>d?-1:1,p=e.invert(e.map(u)+h*t);return[u,p]}const{domain:r}=e.getOptions(),i=n[0],a=r.indexOf(i);if(t){const l=a+Math.round(r.length*t);return r.slice(a,l)}const o=n[n.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function X0(e,n,t,r,i,a){const{x:o,y:s}=i,l=(h,p)=>{const[v,g]=a.invert(h);return[Ff(o,v,p),Ff(s,g,p)]},u=l([e,n],!0),c=l([t,r],!1),f=dl(o,[u[0],c[0]]),d=dl(s,[u[1],c[1]]);return[f,d]}function im(e,n){const[t,r]=e,i=a=>a.getStep?a.getStep():0;return[n.map(t),n.map(r)+i(n)]}function Wxe(e,n,t){const{x:r,y:i}=n,[a,o]=e,s=im(a,r),l=im(o,i),u=[s[0],l[0]],c=[s[1],l[1]],[f,d]=t.map(u),[h,p]=t.map(c);return[f,d,h,p]}var Hxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Uxe(e,n,t){const{x:r,y:i,width:a,height:o}=e;if(n==="left")return[r+a-t,i];if(n==="right")return[r,i];if(n==="bottom")return[r,i];if(n==="top")return[r,i+o-t]}const Vp=e=>{const{orientation:n,labelFormatter:t,size:r,style:i={},position:a}=e,o=Hxe(e,["orientation","labelFormatter","size","style","position"]);return s=>{var l;const{scales:[u],value:c,theme:f,coordinate:d}=s,{bbox:h}=c,{width:p,height:v}=h,{slider:g={}}=f,m=((l=u.getFormatter)===null||l===void 0?void 0:l.call(u))||(O=>O+""),y=typeof t=="string"?Dl(t):t,b=n==="horizontal",x=_n(d)&&b,{trackSize:_=g.trackSize}=i,[w,k]=Uxe(h,a,_);return new V6({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:w,y:k,trackLength:b?p:v,orientation:n,formatter:O=>{const S=y||m,E=x?1-O:O,T=Ff(u,E,!0);return S(T)},sparklineData:Xxe(e,s)},i),o))})}};function Vxe(e,n){const[t]=Array.from(e.entries()).filter(([i])=>i.type==="line"||i.type==="area").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o!=null&&o.x){const s=l=>{const u=a[l];return[l,u?u.value:void 0]};return Object.fromEntries(n.map(s))}});if(!(t!=null&&t.series))return t==null?void 0:t.y;const r=t.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(t.y[o]),i),{});return Object.values(r)}function Xxe(e,n){const{markState:t}=n;return zr(e.sparklineData)?e.sparklineData:Vxe(t,["y","series"])}Vp.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const T8=e=>Vp(Object.assign(Object.assign({},e),{orientation:"horizontal"}));T8.props=Object.assign(Object.assign({},Vp.props),{defaultPosition:"bottom"});const M8=e=>Vp(Object.assign(Object.assign({},e),{orientation:"vertical"}));M8.props=Object.assign(Object.assign({},Vp.props),{defaultPosition:"left"});var qxe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Xp=e=>{const{orientation:n,labelFormatter:t,style:r}=e,i=qxe(e,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:l}=o,{x:u,y:c,width:f,height:d}=l,{scrollbar:h={}}=s,{ratio:p,range:v}=a.getOptions(),g=n==="horizontal"?f:d,m=g/p,[y,b]=v,x=b>y?0:1;return new Jve({className:"g2-scrollbar",style:Object.assign({},h,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:u,y:c,trackLength:g,value:x}),i),{orientation:n,contentLength:m,viewportLength:g}))})}};Xp.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const A8=e=>Xp(Object.assign(Object.assign({},e),{orientation:"horizontal"}));A8.props=Object.assign(Object.assign({},Xp.props),{defaultPosition:"bottom"});const P8=e=>Xp(Object.assign(Object.assign({},e),{orientation:"vertical"}));P8.props=Object.assign(Object.assign({},Xp.props),{defaultPosition:"left"});const C8=e=>()=>new Ds;C8.props={};const AO=(e,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=s.style,[d,h]=_n(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:u,strokeOpacity:c,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d,fillOpacity:u,strokeOpacity:c,opacity:f}];return s.animate(p,Object.assign(Object.assign({},o),e))}},Kxe=(e,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=s.style,[d,h]=_n(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:u,strokeOpacity:c,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},R8=(e,n)=>{const{coordinate:r}=n;return PD.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Ce.NUMBER}),(i,a,o)=>{const[s]=i,l=c=>{const{__data__:f,style:d}=c,{fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=d,{points:g,y:m,y1:y}=f,b=rc(r,g,[m,y]),{innerRadius:x,outerRadius:_}=b,w=[{scaleInYRadius:x+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:x+1e-4,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{scaleInYRadius:_,fillOpacity:h,strokeOpacity:p,opacity:v}];return c.animate(w,Object.assign(Object.assign({},o),e))},u=c=>{const{style:f}=c,{transform:d="",fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=f,[g,m]=_n(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],y=[{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{transform:`${d} scale(1, 1)`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v}];return c.animate(y,Object.assign(Object.assign({},o),e))};return nn(r)?l(s):u(s)}},Zxe=(e,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=s.style,[d,h]=_n(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:u,strokeOpacity:c,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},N8=e=>(n,t,r)=>{const[i]=n,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(l,Object.assign(Object.assign({},r),e))};N8.props={};const L8=e=>(n,t,r)=>{const[i]=n,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),e))};L8.props={};const Qxe={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},Jxe={[de.CIRCLE]:["cx","cy","r"],[de.ELLIPSE]:["cx","cy","rx","ry"],[de.RECT]:["x","y","width","height"],[de.IMAGE]:["x","y","width","height"],[de.LINE]:["x1","y1","x2","y2"],[de.POLYLINE]:["points"],[de.POLYGON]:["points"]};function Bf(e,n,t=!1){const r={};for(const i of n){const a=e.style[i];a?r[i]=a:t&&(r[i]=Qxe[i])}return r}const rp=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function Jw(e){const{min:n,max:t}=e.getLocalBounds(),[r,i]=n,[a,o]=t,s=o-i,l=a-r;return[r,i,l,s]}function ewe(e){const[n,t,r,i]=e;return`
    M ${n} ${t}
    L ${n+r} ${t}
    L ${n+r} ${t+i}
    L ${n} ${t+i}
    Z
  `}function twe(e,n){const[t,r,i,a]=Jw(e),o=a/i,s=Math.ceil(Math.sqrt(n/o)),l=Math.ceil(n/s),u=[],c=a/l;let f=0,d=n;for(;d>0;){const h=Math.min(d,s),p=i/h;for(let v=0;v<h;v++){const g=t+v*p,m=r+f*c;u.push(ewe([g,m,p,c]))}d-=h,f+=1}return u}function nwe(e="pack"){return typeof e=="function"?e:twe}function rwe(e,n,t){let{transform:r}=e.style;const{transform:i}=n.style;$8(n,e);let a=rp;if(e.nodeName===de.GROUP){const[l,u,c,f]=Jw(e),[d,h,p,v]=Jw(n),g=l-d,m=u-h,y=c/p,b=f/v;r=`translate(${g}, ${m}) scale(${y}, ${b})`}else a=a.concat(Jxe[e.nodeName]||[]);const o=[Object.assign({transform:r??"none"},Bf(e,a,!0)),Object.assign({transform:i??"none"},Bf(n,a,!0))];return n.animate(o,t)}function $8(e,n){e.__data__=n.__data__,e.className=n.className,e.markType=n.markType,n.parentNode.replaceChild(e,n)}function iwe(e,n){const{nodeName:t}=e;if(t==="path")return e;const r=new ca({style:Object.assign(Object.assign({},Bf(e,rp)),{d:n})});return $8(r,e),r}function hC(e,n){const t=e.indexOf(n),r=e.lastIndexOf(n);return t===r}function awe(e){return!hC(e,"m")||!hC(e,"M")}function pC(e){const n=fse(e);if(n&&!awe(n))return n}function vC(e){const{nodeName:n}=e;if(n==="path"){const t=Gt(e,"attributes");return t.markerEnd||t.markerStart}return!1}function PO(e,n,t,r){const{nodeName:i}=n,{nodeName:a}=t,o=pC(n),s=pC(t),l=i===a&&i!=="path",u=o===void 0||s===void 0,c=vC(n)||vC(t);if(l||u||c)return rwe(n,t,r);const f=iwe(e,o),d=[Object.assign({},Bf(n,rp)),Object.assign({},Bf(t,rp))];if(o!==s){d[0].d=o,d[1].d=s;const h=f.animate(d,r);return h.onfinish=()=>{nk(f,t),f.style.d=s,f.style.transform="none"},f.style.transform="none",h}return null}function owe(e,n,t,r){e.style.visibility="hidden";const i=r(e,n.length);return n.map((a,o)=>{const s=new ca({style:Object.assign({d:i[o]},Bf(e,rp))});return PO(a,s,a,t)})}function swe(e,n,t,r){const i=r(n,e.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=n.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],u=n.animate(l,t);return[...e.map((f,d)=>{const h=new ca({style:{d:i[d],fill:n.style.fill}});return PO(f,f,h,t)}),u]}const I8=e=>(n,t,r)=>{const i=nwe(e.split),a=Object.assign(Object.assign({},r),e),{length:o}=n,{length:s}=t;if(o===1&&s===1||o>1&&s>1){const[l]=n,[u]=t;return PO(l,l,u,a)}if(o===1&&s>1){const[l]=n;return owe(l,t,a,i)}if(o>1&&s===1){const[l]=t;return swe(n,l,a,i)}return null};I8.props={};const D8=(e,n)=>{PD.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Ce.NUMBER});const{coordinate:r}=n;return(i,a,o)=>{const[s]=i;if(!nn(r))return AO(e,n)(i,a,o);const{__data__:l,style:u}=s,{radius:c=0,inset:f=0,fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=u,{points:v,y:g,y1:m}=l,y=ck().cornerRadius(c).padAngle(f*Math.PI/180),b=rc(r,v,[g,m]),{startAngle:x,endAngle:_}=b,w=[{waveInArcAngle:x+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:x+1e-4,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{waveInArcAngle:_,fillOpacity:d,strokeOpacity:h,opacity:p}],k=s.animate(w,Object.assign(Object.assign({},o),e));return k.onframe=function(){s.style.d=y(Object.assign(Object.assign({},b),{endAngle:Number(s.style.waveInArcAngle)}))},k.onfinish=function(){s.style.d=y(Object.assign(Object.assign({},b),{endAngle:_}))},k}};D8.props={};const lwe=e=>(t,r,i)=>{const[a]=t,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=a.style,c="center center",f=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u}];return a.animate(f,Object.assign(Object.assign({},i),e))},uwe=e=>(t,r,i)=>{const[a]=t,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=a.style,c="center center",f=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:c},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(f,Object.assign(Object.assign({},i),e))},F8=e=>(n,t,r)=>{var i,a;const[o]=n,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(l,Object.assign(Object.assign({},r),e))};F8.props={};const B8=(e,n)=>(t,r,i)=>{const[a]=t,{min:[o,s],halfExtents:l}=a.getLocalBounds(),u=l[0]*2,c=l[1]*2,f=new ca({style:{d:`M${o},${s}L${o+u},${s}L${o+u},${s+c}L${o},${s+c}Z`}});return a.appendChild(f),a.style.clipPath=f,AO(e,n)([f],r,i)};B8.props={};const j8=(e,n)=>(t,r,i)=>{const[a]=t,{min:[o,s],halfExtents:l}=a.getLocalBounds(),u=l[0]*2,c=l[1]*2,f=new ca({style:{d:`M${o},${s}L${o+u},${s}L${o+u},${s+c}L${o},${s+c}Z`}});return a.appendChild(f),a.style.clipPath=f,R8(e,n)([f],r,i)};j8.props={};const gC="main-layer",e2="label-layer",Lo="element",am="view",om="plot",mC="component",t2="label",yC="area";/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function cwe(e,n){var t=n.cx,r=t===void 0?0:t,i=n.cy,a=i===void 0?0:i,o=n.r;e.arc(r,a,o,0,Math.PI*2,!1)}function fwe(e,n){var t=n.cx,r=t===void 0?0:t,i=n.cy,a=i===void 0?0:i,o=n.rx,s=n.ry;if(e.ellipse)e.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;e.save(),e.scale(u,c),e.arc(r,a,l,0,Math.PI*2)}}function dwe(e,n){var t=n.x1,r=n.y1,i=n.x2,a=n.y2,o=n.markerStart,s=n.markerEnd,l=n.markerStartOffset,u=n.markerEndOffset,c=0,f=0,d=0,h=0,p=0,v,g;o&&Ft(o)&&l&&(v=i-t,g=a-r,p=Math.atan2(g,v),c=Math.cos(p)*(l||0),f=Math.sin(p)*(l||0)),s&&Ft(s)&&u&&(v=t-i,g=r-a,p=Math.atan2(g,v),d=Math.cos(p)*(u||0),h=Math.sin(p)*(u||0)),e.moveTo(t+c,r+f),e.lineTo(i+d,a+h)}function hwe(e,n){var t=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.d,s=o.absolutePath,l=o.segments,u=0,c=0,f=0,d=0,h=0,p,v;if(t&&Ft(t)&&i){var g=t.parentNode.getStartTangent(),m=ze(g,2),y=m[0],b=m[1];p=y[0]-b[0],v=y[1]-b[1],h=Math.atan2(v,p),u=Math.cos(h)*(i||0),c=Math.sin(h)*(i||0)}if(r&&Ft(r)&&a){var x=r.parentNode.getEndTangent(),_=ze(x,2),w=_[0],k=_[1];p=w[0]-k[0],v=w[1]-k[1],h=Math.atan2(v,p),f=Math.cos(h)*(a||0),d=Math.sin(h)*(a||0)}for(var O=0;O<s.length;O++){var S=s[O],E=S[0],T=s[O+1],M=O===0&&(u!==0||c!==0),P=(O===s.length-1||T&&(T[0]==="M"||T[0]==="Z"))&&f!==0&&d!==0,A=M?[u,c]:[0,0],N=ze(A,2),R=N[0],C=N[1],L=P?[f,d]:[0,0],I=ze(L,2),j=I[0],F=I[1];switch(E){case"M":e.moveTo(S[1]+R,S[2]+C);break;case"L":e.lineTo(S[1]+j,S[2]+F);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+j,S[4]+F);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+j,S[6]+F);break;case"A":{var z=l[O].arcParams,D=z.cx,B=z.cy,U=z.rx,q=z.ry,$=z.startAngle,W=z.endAngle,Q=z.xRotation,oe=z.sweepFlag;if(e.ellipse)e.ellipse(D,B,U,q,Q,$,W,!!(1-oe));else{var ee=U>q?U:q,H=U>q?1:U/q,G=U>q?q/U:1;e.translate(D,B),e.rotate(Q),e.scale(H,G),e.arc(0,0,ee,$,W,!!(1-oe)),e.scale(1/H,1/G),e.rotate(-Q),e.translate(-D,-B)}P&&e.lineTo(S[6]+f,S[7]+d);break}case"Z":e.closePath();break}}}function pwe(e,n){var t=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.points.points,s=o.length,l=o[0][0],u=o[0][1],c=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;t&&Ft(t)&&i&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(i||0),h=Math.sin(g)*(i||0)),r&&Ft(r)&&a&&(m=o[s-1][0]-o[0][0],y=o[s-1][1]-o[0][1],g=Math.atan2(y,m),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),e.moveTo(l+(d||p),u+(h||v));for(var b=1;b<s-1;b++){var x=o[b];e.lineTo(x[0],x[1])}e.lineTo(c,f)}function vwe(e,n){var t=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.points.points,s=o.length,l=o[0][0],u=o[0][1],c=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;t&&Ft(t)&&i&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(i||0),h=Math.sin(g)*(i||0)),r&&Ft(r)&&a&&(m=o[s-2][0]-o[s-1][0],y=o[s-2][1]-o[s-1][1],g=Math.atan2(y,m),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),e.moveTo(l+d,u+h);for(var b=1;b<s-1;b++){var x=o[b];e.lineTo(x[0],x[1])}e.lineTo(c+p,f+v)}function gwe(e,n){var t=n.x,r=t===void 0?0:t,i=n.y,a=i===void 0?0:i,o=n.radius,s=n.width,l=n.height,u=s,c=l,f=o&&o.some(function(_){return _!==0});if(!f)e.rect(r,a,u,c);else{var d=s>0?1:-1,h=l>0?1:-1,p=d+h===0,v=o.map(function(_){return Bt(_,0,Math.min(Math.abs(u)/2,Math.abs(c)/2))}),g=ze(v,4),m=g[0],y=g[1],b=g[2],x=g[3];e.moveTo(d*m+r,a),e.lineTo(u-d*y+r,a),y!==0&&e.arc(u-d*y+r,h*y+a,y,-h*Math.PI/2,d>0?0:Math.PI,p),e.lineTo(u+r,c-h*b+a),b!==0&&e.arc(u-d*b+r,c-h*b+a,b,d>0?0:Math.PI,h>0?Math.PI/2:1.5*Math.PI,p),e.lineTo(d*x+r,c+a),x!==0&&e.arc(d*x+r,c-h*x+a,x,h>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,p),e.lineTo(r,h*m+a),m!==0&&e.arc(d*m+r,h*m+a,m,d>0?Math.PI:0,h>0?Math.PI*1.5:Math.PI/2,p)}}var mwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="canvas-path-generator",t}return We(n,e),le(n,[{key:"init",value:function(){var r,i=(r={},we(we(we(we(we(we(we(we(we(we(r,de.CIRCLE,cwe),de.ELLIPSE,fwe),de.RECT,gwe),de.LINE,dwe),de.POLYLINE,vwe),de.POLYGON,pwe),de.PATH,hwe),de.TEXT,void 0),de.GROUP,void 0),de.IMAGE,void 0),we(we(we(r,de.HTML,void 0),de.MESH,void 0),de.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Ll);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var ywe=Ze(),bwe=Ze(),xwe=Ze(),wwe=ut(),z8=function(){function e(){var n=this;se(this,e),this.isHit=function(t,r,i,a){var o=n.context.pointInPathPickerFactory[t.nodeName];if(o){var s=Mr(wwe,i),l=pn(bwe,gn(xwe,r[0],r[1],0),s);if(o(t,new Kr(l[0],l[1]),a,n.isPointInPath,n.context,n.runtime))return!0}return!1},this.isPointInPath=function(t,r){var i=n.runtime.offscreenCanvasCreator.getOrCreateContext(n.context.config.offscreenCanvas),a=n.context.pathGeneratorFactory[t.nodeName];return a&&(i.beginPath(),a(i,t.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return le(e,[{key:"apply",value:function(t,r){var i,a=this,o=t.renderingService,s=t.renderingContext;this.context=t,this.runtime=r;var l=(i=s.root)===null||i===void 0?void 0:i.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(){var u=_l(Qr().mark(function c(f){return Qr().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",a.pick(l,f));case 1:case"end":return d.stop()}},c)}));return function(c){return u.apply(this,arguments)}}()),o.hooks.pickSync.tap(e.tag,function(u){return a.pick(l,u)})}},{key:"pick",value:function(t,r){var i=r.topmost,a=r.position,o=a.x,s=a.y,l=gn(ywe,o,s,0),u=t.elementsFromBBox(l[0],l[1],l[0],l[1]),c=[],f=Ji(u),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=h.getWorldTransform(),v=this.isHit(h,l,p,!1);if(v){var g=wD(h);if(g){var m=g.parsedStyle.clipPath,y=this.isHit(m,l,m.getWorldTransform(),!0);if(y){if(i)return r.picked=[h],r;c.push(h)}}else{if(i)return r.picked=[h],r;c.push(h)}}}}catch(b){f.e(b)}finally{f.f()}return r.picked=c,r}}])}();z8.tag="CanvasPicker";function _we(e,n,t){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.r,u=r.fill,c=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,p=h===void 0?0:h,v=r.pointerEvents,g=v===void 0?"auto":v,m=(d+p)/2,y=Ps(a,s,n.x,n.y),b=tc(g,u,c),x=ze(b,2),_=x[0],w=x[1];return _&&w||t?y<=l+m:_?y<=l:w?y>=l-m&&y<=l+m:!1}function h0(e,n,t,r){return e/(t*t)+n/(r*r)}function kwe(e,n,t){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.rx,u=r.ry,c=r.fill,f=r.stroke,d=r.lineWidth,h=d===void 0?1:d,p=r.increasedLineWidthForHitTesting,v=p===void 0?0:p,g=r.pointerEvents,m=g===void 0?"auto":g,y=n.x,b=n.y,x=tc(m,c,f),_=ze(x,2),w=_[0],k=_[1],O=(h+v)/2,S=(y-a)*(y-a),E=(b-s)*(b-s);return w&&k||t?h0(S,E,l+O,u+O)<=1:w?h0(S,E,l,u)<=1:k?h0(S,E,l-O,u-O)>=1&&h0(S,E,l+O,u+O)<=1:!1}function du(e,n,t,r,i,a){return i>=e&&i<=e+t&&a>=n&&a<=n+r}function Owe(e,n,t,r,i,a,o){var s=i/2;return du(e-s,n-s,t,i,a,o)||du(e+t-s,n-s,i,r,a,o)||du(e+s,n+r-s,t,i,a,o)||du(e-s,n+s,i,r,a,o)}function p0(e,n,t,r,i,a,o,s){var l=(Math.atan2(s-n,o-e)+Math.PI*2)%(Math.PI*2),u={x:e+t*Math.cos(l),y:n+t*Math.sin(l)};return Ps(u.x,u.y,o,s)<=a/2}function hl(e,n,t,r,i,a,o){var s=Math.min(e,t),l=Math.max(e,t),u=Math.min(n,r),c=Math.max(n,r),f=i/2;return a>=s-f&&a<=l+f&&o>=u-f&&o<=c+f?Aae(e,n,t,r,a,o)<=i/2:!1}function Y8(e,n,t,r,i){var a=e.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(hl(s,l,u,c,n,t,r))return!0}if(i){var f=e[0],d=e[a-1];if(hl(f[0],f[1],d[0],d[1],n,t,r))return!0}return!1}var Swe=1e-6;function Hb(e){return Math.abs(e)<Swe?0:e<0?-1:1}function Ewe(e,n,t){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],n[0])<=t[0]&&t[0]<=Math.max(e[0],n[0])&&Math.min(e[1],n[1])<=t[1]&&t[1]<=Math.max(e[1],n[1])}function G8(e,n,t){var r=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=e[a],s=e[(a+1)%i];if(Ewe(o,s,[n,t]))return!0;Hb(o[1]-t)>0!=Hb(s[1]-t)>0&&Hb(n-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function bC(e,n,t){for(var r=!1,i=0;i<e.length;i++){var a=e[i];if(r=G8(a,n,t),r)break}return r}function Twe(e,n,t){var r=e.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.lineWidth,u=l===void 0?1:l,c=r.increasedLineWidthForHitTesting,f=c===void 0?0:c,d=r.pointerEvents,h=d===void 0?"auto":d,p=r.fill,v=r.stroke,g=tc(h,p,v),m=ze(g,2),y=m[1];return!y&&!t||!u?!1:hl(i,a,o,s,u+f,n.x,n.y)}function Mwe(e,n,t,r,i){for(var a=!1,o=n/2,s=0;s<e.length;s++){var l=e[s],u=l.currentPoint,c=l.params,f=l.prePoint,d=l.box;if(!(d&&!du(d.x-o,d.y-o,d.width+n,d.height+n,t,r)))switch(l.command){case"L":case"Z":if(a=hl(f[0],f[1],u[0],u[1],n,t,r),a)return!0;break;case"Q":var h=Iae(f[0],f[1],c[1],c[2],c[3],c[4],t,r);if(a=h<=n/2,a)return!0;break;case"C":var p=HT(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],t,r,i);if(a=p<=n/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=j_(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var v=l.cubicParams,g=f,m=0;m<v.length;m+=6){var y=HT(g[0],g[1],v[m],v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],t,r,i);if(g=[v[m+4],v[m+5]],a=y<=n/2,a)return!0}break}}return a}function Awe(e,n,t,r,i,a){var o=e.parsedStyle,s=o.lineWidth,l=s===void 0?1:s,u=o.increasedLineWidthForHitTesting,c=u===void 0?0:u,f=o.stroke,d=o.fill,h=o.d,p=o.pointerEvents,v=p===void 0?"auto":p,g=h.segments,m=h.hasArc,y=h.polylines,b=h.polygons,x=tc(v,(b==null?void 0:b.length)&&d,f),_=ze(x,2),w=_[0],k=_[1],O=kw(e),S=!1;return w||t?(m?S=r(e,n):S=bC(b,n.x,n.y)||bC(y,n.x,n.y),S):((k||t)&&(S=Mwe(g,l+c,n.x,n.y,O)),S)}function Pwe(e,n,t){var r=e.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,l=r.increasedLineWidthForHitTesting,u=l===void 0?0:l,c=r.points,f=r.pointerEvents,d=f===void 0?"auto":f,h=tc(d,a,i),p=ze(h,2),v=p[0],g=p[1],m=!1;return(g||t)&&(m=Y8(c.points,s+u,n.x,n.y,!0)),!m&&(v||t)&&(m=G8(c.points,n.x,n.y)),m}function Cwe(e,n,t){var r=e.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,l=r.points,u=r.pointerEvents,c=u===void 0?"auto":u,f=r.fill,d=r.stroke,h=tc(c,f,d),p=ze(h,2),v=p[1];return!v&&!t||!a?!1:Y8(l.points,a+s,n.x,n.y,!1)}function Rwe(e,n,t,r,i){var a=e.parsedStyle,o=a.radius,s=a.fill,l=a.stroke,u=a.lineWidth,c=u===void 0?1:u,f=a.increasedLineWidthForHitTesting,d=f===void 0?0:f,h=a.x,p=h===void 0?0:h,v=a.y,g=v===void 0?0:v,m=a.width,y=a.height,b=a.pointerEvents,x=b===void 0?"auto":b,_=tc(x,s,l),w=ze(_,2),k=w[0],O=w[1],S=o&&o.some(function(P){return P!==0}),E=c+d;if(S){var M=!1;return(O||t)&&(M=Nwe(p,g,m,y,o.map(function(P){return Bt(P,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))}),E,n.x,n.y)),!M&&(k||t)&&(M=r(e,n)),M}else{var T=E/2;if(k&&O||t)return du(p-T,g-T,m+T,y+T,n.x,n.y);if(k)return du(p,g,m,y,n.x,n.y);if(O)return Owe(p,g,m,y,E,n.x,n.y)}return!1}function Nwe(e,n,t,r,i,a,o,s){var l=ze(i,4),u=l[0],c=l[1],f=l[2],d=l[3];return hl(e+u,n,e+t-c,n,a,o,s)||hl(e+t,n+c,e+t,n+r-f,a,o,s)||hl(e+t-f,n+r,e+d,n+r,a,o,s)||hl(e,n+r-d,e,n+u,a,o,s)||p0(e+t-c,n+c,c,1.5*Math.PI,2*Math.PI,a,o,s)||p0(e+t-f,n+r-f,f,0,.5*Math.PI,a,o,s)||p0(e+d,n+r-d,d,.5*Math.PI,Math.PI,a,o,s)||p0(e+u,n+u,u,Math.PI,1.5*Math.PI,a,o,s)}function Lwe(e,n,t,r,i,a){var o=e.parsedStyle,s=o.pointerEvents,l=s===void 0?"auto":s,u=o.x,c=u===void 0?0:u,f=o.y,d=f===void 0?0:f,h=o.width,p=o.height;if(l==="non-transparent-pixel"){var v=i.config.offscreenCanvas,g=a.offscreenCanvasCreator.getOrCreateCanvas(v),m=a.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});g.width=h,g.height=p,i.defaultStyleRendererFactory[de.IMAGE].render(m,Xe(Xe({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=m.getImageData(n.x-c,n.y-d,1,1).data;return y.every(function(b){return b!==0})}return!0}function $we(e,n,t,r){var i=e.getGeometryBounds();return n.x>=i.min[0]&&n.y>=i.min[1]&&n.x<=i.max[0]&&n.y<=i.max[1]}var Iwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="canvas-picker",t}return We(n,e),le(n,[{key:"init",value:function(){var r,i=(r={},we(we(we(we(we(we(we(we(we(we(r,de.CIRCLE,_we),de.ELLIPSE,kwe),de.RECT,Rwe),de.LINE,Twe),de.POLYLINE,Cwe),de.POLYGON,Pwe),de.PATH,Awe),de.TEXT,$we),de.GROUP,null),de.IMAGE,Lwe),we(we(r,de.HTML,null),de.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new z8)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Ll);function Mo(e,n){if(!{}.hasOwnProperty.call(e,n))throw new TypeError("attempted to use private field on non-instance");return e}var Dwe=0;function Fwe(e){return"__private_"+Dwe+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Bwe=function(){function e(){se(this,e),this.cacheStore=new Map}return le(e,[{key:"onRefAdded",value:function(t){}},{key:"has",value:function(t){return this.cacheStore.has(t)}},{key:"put",value:function(t,r,i){return this.cacheStore.has(t)?!1:(this.cacheStore.set(t,{value:r,counter:new Set([i.entity])}),this.onRefAdded(i),!0)}},{key:"get",value:function(t,r){var i=this.cacheStore.get(t);return i?(i.counter.has(r.entity)||(i.counter.add(r.entity),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(t,r,i){var a=this.cacheStore.get(t);return a?(a.value=Xe(Xe({},a.value),r),a.counter.has(i.entity)||(a.counter.add(i.entity),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(t,r){var i=this.cacheStore.get(t);return i?(i.counter.delete(r.entity),i.counter.size<=0&&this.cacheStore.delete(t),!0):!1}},{key:"releaseRef",value:function(t){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,t)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),Ub=[],Vb=[],n2=function(){function e(){se(this,e)}return le(e,null,[{key:"stop",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(t.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;Ub.length<=0&&Vb.length<=0||(Vb.forEach(function(r){return r()}),Vb=Ub.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=t.requestAnimationFrame(function(){e.executeTask(t)}))}},{key:"sliceImage",value:function(t,r,i,a){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=t.naturalWidth||t.width,u=t.naturalHeight||t.height,c=r-o,f=i-o,d=Math.ceil(l/c),h=Math.ceil(u/f),p={tileSize:[r,i],gridSize:[h,d],tiles:Array(h).fill(null).map(function(){return Array(d).fill(null)})},v=function(y){for(var b=function(w){Ub.push(function(){var k=w*c,O=y*f,S=[Math.min(r,l-k),Math.min(i,u-O)],E=S[0],T=S[1],M=s.createCanvas();M.width=r,M.height=i;var P=M.getContext("2d");P.drawImage(t,k,O,E,T,0,0,E,T),p.tiles[y][w]={x:k,y:O,tileX:w,tileY:y,data:M},a()})},x=0;x<d;x++)b(x)},g=0;g<h;g++)v(g);return e.stop(),e.executeTask(),p}}])}();n2.TASK_NUM_PER_FRAME=10;var Xi=new Bwe;Xi.onRefAdded=function(n){var t=this;n.addEventListener(Dt.DESTROY,function(){t.releaseRef(n)},{once:!0})};var CO=function(){function e(n,t){se(this,e),this.gradientCache={},this.patternCache={},this.context=n,this.runtime=t}return le(e,[{key:"getImageSync",value:function(t,r,i){var a=Wt(t)?t:t.src;if(Xi.has(a)){var o=Xi.get(a,r);if(o.img.complete)return i==null||i(o),o}return this.getOrCreateImage(t,r).then(function(s){i==null||i(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(t,r){var i=this,a=Wt(t)?t:t.src;if(!Wt(t)&&!Xi.has(a)){var o={img:t,size:[t.naturalWidth||t.width,t.naturalHeight||t.height],tileSize:v0(t)};Xi.put(a,o,r)}if(Xi.has(a)){var s=Xi.get(a,r);return s.img.complete?Promise.resolve(s):new Promise(function(l,u){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=v0(s.img),l(s)}),s.img.addEventListener("error",function(c){u(c)})})}return new Promise(function(l,u){var c=i.context.config.createImage();if(c){var f={img:c,size:[0,0],tileSize:v0(c)};Xi.put(a,f,r),c.onload=function(){f.size=[c.naturalWidth||c.width,c.naturalHeight||c.height],f.tileSize=v0(f.img),l(f)},c.onerror=function(d){u(d)},c.crossOrigin="Anonymous",c.src=a}})}},{key:"createDownSampledImage",value:function(){var n=_l(Qr().mark(function r(i,a){var o,s,l,u,c,f,d,h,p,v,g,m,y,b;return Qr().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=1,this.getOrCreateImage(i,a);case 1:if(o=x.sent,!(typeof o.downSamplingRate<"u")){x.next=2;break}return x.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,l=typeof s=="boolean"?{}:s,u=l.maxDownSampledImageSize,c=u===void 0?2048:u,f=l.downSamplingRateThreshold,d=f===void 0?.5:f,h=this.runtime.globalThis.createImageBitmap,p=ze(o.size,2),v=p[0],g=p[1],m=o.img,y=Math.min((c+c)/(v+g),Math.max(.01,Math.min(d,.5))),b=Xe(Xe({},o),{},{downSamplingRate:y}),Xi.update(o.img.src,b,a),!h){x.next=7;break}return x.prev=3,x.next=4,h(o.img,{resizeWidth:v*y,resizeHeight:g*y});case 4:m=x.sent,x.next=6;break;case 5:x.prev=5,x.catch(3),y=1;case 6:x.next=8;break;case 7:y=1;case 8:return b=Xe(Xe({},this.getImageSync(i,a)),{},{downSampled:m,downSamplingRate:y}),Xi.update(o.img.src,b,a),x.abrupt("return",b);case 9:case"end":return x.stop()}},r,this,[[3,5]])}));function t(r,i){return n.apply(this,arguments)}return t}()},{key:"createImageTiles",value:function(){var n=_l(Qr().mark(function r(i,a,o,s){var l,u,c,f,d;return Qr().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=1,this.getOrCreateImage(i,s);case 1:return l=h.sent,u=s.ownerDocument.defaultView,c=u.requestAnimationFrame,f=u.cancelAnimationFrame,n2.api={requestAnimationFrame:c,cancelAnimationFrame:f,createCanvas:function(){return Ok.createCanvas()}},d=Xe(Xe({},l),n2.sliceImage(l.img,l.tileSize[0],l.tileSize[0],o)),Xi.update(l.img.src,d,s),h.abrupt("return",d);case 2:case"end":return h.stop()}},r,this)}));function t(r,i,a,o){return n.apply(this,arguments)}return t}()},{key:"releaseImage",value:function(t,r){Xi.release(Wt(t)?t:t.src,r)}},{key:"releaseImageRef",value:function(t){Xi.releaseRef(t)}},{key:"getOrCreatePatternSync",value:function(t,r,i,a,o,s,l){var u=this.generatePatternKey(r);if(u&&this.patternCache[u])return this.patternCache[u];var c=r.image,f=r.repetition,d=r.transform,h,p=!1;if(Wt(c)){var v=this.getImageSync(c,t,l);h=v==null?void 0:v.img}else a?(h=a,p=!0):h=c;var g=h&&i.createPattern(h,f);if(g){var m;d?m=ED(mD(d),new jn({})):m=oa(ut()),p&&C$(m,m,[1/o,1/o,1]),g.setTransform({a:m[0],b:m[1],c:m[4],d:m[5],e:m[12]+s[0],f:m[13]+s[1]})}return u&&g&&(this.patternCache[u]=g),g}},{key:"getOrCreateGradient",value:function(t,r){var i=this.generateGradientKey(t),a=t.type,o=t.steps,s=t.min,l=t.width,u=t.height,c=t.angle,f=t.cx,d=t.cy,h=t.size;if(this.gradientCache[i])return this.gradientCache[i];var p=null;if(a===fl.LinearGradient){var v=Loe(s,l,u,c),g=v.x1,m=v.y1,y=v.x2,b=v.y2;p=r.createLinearGradient(g,m,y,b)}else if(a===fl.RadialGradient){var x=$oe(s,l,u,f,d,h),_=x.x,w=x.y,k=x.r;p=r.createRadialGradient(_,w,0,_,w,k)}return p&&(o.forEach(function(O){var S=O.offset,E=O.color;if(S.unit===$e.kPercentage){var T;(T=p)===null||T===void 0||T.addColorStop(S.value/100,E.toString())}}),this.gradientCache[i]=p),this.gradientCache[i]}},{key:"generateGradientKey",value:function(t){var r=t.type,i=t.min,a=t.width,o=t.height,s=t.steps,l=t.angle,u=t.cx,c=t.cy,f=t.size;return"gradient-".concat(r,"-").concat((l==null?void 0:l.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((f==null?void 0:f.toString())||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(o,"-").concat(s.map(function(d){var h=d.offset,p=d.color;return"".concat(h).concat(p)}).join("-"))}},{key:"generatePatternKey",value:function(t){var r=t.image,i=t.repetition;if(Wt(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])}();CO.isSupportTile=!!Ok.createCanvas();function v0(e){if(!e.complete)return[0,0];var n=e.naturalWidth||e.width,t=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(t/i),o=Math.ceil(n/i);a*o<1e3&&(r=i)}),[r,r]}var W8=function(){function e(){se(this,e)}return le(e,[{key:"apply",value:function(t){var r=t.renderingService,i=t.renderingContext,a=t.imagePool,o=i.root.ownerDocument.defaultView,s=function(f,d,h){var p=f.parsedStyle,v=p.width,g=p.height;v&&!g?f.setAttribute("height",h/d*v):!v&&g&&f.setAttribute("width",d/h*g)},l=function(f){var d=f.target,h=d.nodeName,p=d.attributes;if(h===de.IMAGE){var v=p.src,g=p.keepAspectRatio;a.getImageSync(v,d,function(m){var y=m.img,b=y.width,x=y.height;g&&s(d,b,x),d.renderable.dirty=!0,r.dirtify()})}},u=function(f){var d=f.target,h=f.attrName,p=f.prevValue,v=f.newValue;d.nodeName!==de.IMAGE||h!=="src"||(p!==v&&a.releaseImage(p,d),Wt(v)&&a.getOrCreateImage(v,d).then(function(g){var m=g.img,y=m.width,b=m.height;d.attributes.keepAspectRatio&&s(d,y,b),d.renderable.dirty=!0,r.dirtify()}).catch(function(){}))};r.hooks.init.tap(e.tag,function(){o.addEventListener(Dt.MOUNTED,l),o.addEventListener(Dt.ATTR_MODIFIED,u)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener(Dt.MOUNTED,l),o.removeEventListener(Dt.ATTR_MODIFIED,u)})}}])}();W8.tag="LoadImage";var jwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="image-loader",t}return We(n,e),le(n,[{key:"init",value:function(r){this.context.imagePool=new CO(this.context,r),this.addRenderingPlugin(new W8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ll);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var lr=Fwe("renderState"),H8=function(){function e(n){se(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,lr,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=ut(),this.dprMatrix=ut(),this.tmpMat4=ut(),this.vec3a=Ze(),this.vec3b=Ze(),this.vec3c=Ze(),this.vec3d=Ze(),this.canvasRendererPluginOptions=n}return le(e,[{key:"apply",value:function(t,r){var i=this;this.context=t;var a=this.context,o=a.config,s=a.camera,l=a.renderingService,u=a.renderingContext,c=a.rBushRoot,f=a.pathGeneratorFactory,d=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=c,this.pathGeneratorFactory=f;var h=t.contextService,p=u.root.ownerDocument.defaultView,v=function(x){var _=x.target,w=_.rBushNode;w!=null&&w.aabb&&i.removedRBushNodeAABBs.push(w.aabb)},g=function(x){var _=x.target,w=_.rBushNode;w.aabb&&i.removedRBushNodeAABBs.push(w.aabb)};l.hooks.init.tap(e.tag,function(){p.addEventListener(Dt.UNMOUNTED,v),p.addEventListener(Dt.CULLED,g);var b=h.getDPR(),x=o.width,_=o.height,w=h.getContext();i.clearRect(w,0,0,x*b,_*b,o.background)}),l.hooks.destroy.tap(e.tag,function(){p.removeEventListener(Dt.UNMOUNTED,v),p.removeEventListener(Dt.CULLED,g),i.renderQueue=[],i.removedRBushNodeAABBs=[],Mo(i,lr)[lr]={restoreStack:[],prevObject:null,currentContext:null}});var m=function(){var x,_=h.getContext(),w=h.getDPR(),k=o.width,O=o.height,S=i.canvasRendererPluginOptions,E=S.dirtyObjectNumThreshold,T=S.dirtyObjectRatioThreshold,M=l.getStats(),P=M.total,A=M.rendered,N=A/P;i.clearFullScreen=i.clearFullScreenLastFrame||!((x=p.context.renderingPlugins[1])!==null&&x!==void 0&&x.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||A>E&&N>T,_&&(typeof _.resetTransform=="function"?_.resetTransform():_.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(_,0,0,k*w,O*w,o.background))},y=function(x,_){for(var w=[x];w.length>0;){var k,O=w.pop();O.isVisible()&&!O.isCulled()&&(d?i.renderDisplayObjectOptimized(O,_,i.context,Mo(i,lr)[lr],r):i.renderDisplayObject(O,_,i.context,Mo(i,lr)[lr],r));for(var S=((k=O.sortable)===null||k===void 0||(k=k.sorted)===null||k===void 0?void 0:k.length)>0?O.sortable.sorted:O.childNodes,E=S.length-1;E>=0;E--)w.push(S[E])}};l.hooks.endFrame.tap(e.tag,function(){if(m(),u.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}d=o.renderer.getConfig().enableRenderingOptimization,Mo(i,lr)[lr]={restoreStack:[],prevObject:null,currentContext:Mo(i,lr)[lr].currentContext},Mo(i,lr)[lr].currentContext.clear(),i.clearFullScreenLastFrame=!1;var b=h.getContext(),x=h.getDPR();if(Qi(i.dprMatrix,[x,x,1]),Gn(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)d?(b.save(),y(u.root,b),b.restore()):y(u.root,b),i.removedRBushNodeAABBs=[];else{var _=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(Ke(i.removedRBushNodeAABBs.map(function(q){var $=q.minX,W=q.minY,Q=q.maxX,oe=q.maxY,ee=new hr;return ee.setMinMax([$,W,0],[Q,oe,0]),ee}))));if(i.removedRBushNodeAABBs=[],hr.isEmpty(_)){i.renderQueue=[];return}var w=i.convertAABB2Rect(_),k=w.x,O=w.y,S=w.width,E=w.height,T=pn(i.vec3a,[k,O,0],i.vpMatrix),M=pn(i.vec3b,[k+S,O,0],i.vpMatrix),P=pn(i.vec3c,[k,O+E,0],i.vpMatrix),A=pn(i.vec3d,[k+S,O+E,0],i.vpMatrix),N=Math.min(T[0],M[0],A[0],P[0]),R=Math.min(T[1],M[1],A[1],P[1]),C=Math.max(T[0],M[0],A[0],P[0]),L=Math.max(T[1],M[1],A[1],P[1]),I=Math.floor(N),j=Math.floor(R),F=Math.ceil(C-N),z=Math.ceil(L-R);b.save(),i.clearRect(b,I,j,F,z,o.background),b.beginPath(),b.rect(I,j,F,z),b.clip(),b.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var D=o.renderer.getConfig(),B=D.enableDirtyRectangleRenderingDebug;B&&p.dispatchEvent(new Ir(Sa.DIRTY_RECTANGLE,{dirtyRect:{x:I,y:j,width:F,height:z}}));var U=i.searchDirtyObjects(_);U.sort(function(q,$){return q.sortable.renderOrder-$.sortable.renderOrder}).forEach(function(q){q&&q.isVisible()&&!q.isCulled()&&i.renderDisplayObject(q,b,i.context,Mo(i,lr)[lr],r)}),b.restore(),i.renderQueue.forEach(function(q){i.saveDirtyAABB(q)}),i.renderQueue=[]}Mo(i,lr)[lr].restoreStack.forEach(function(){b.restore()}),Mo(i,lr)[lr].restoreStack=[]}),l.hooks.render.tap(e.tag,function(b){i.clearFullScreen||i.renderQueue.push(b)})}},{key:"clearRect",value:function(t,r,i,a,o,s){t.clearRect(r,i,a,o),s&&(t.fillStyle=s,t.fillRect(r,i,a,o))}},{key:"renderDisplayObjectOptimized",value:function(t,r,i,a,o){var s=t.nodeName,l=!1,u=!1,c=this.context.styleRendererFactory[s],f=this.pathGeneratorFactory[s],d=t.parsedStyle.clipPath;if(d){l=!a.prevObject||!Qx(d.getWorldTransform(),a.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(r,d),a.prevObject=null);var h=this.pathGeneratorFactory[d.nodeName];h&&(r.save(),u=!0,r.beginPath(),h(r,d.parsedStyle),r.closePath(),r.clip())}if(c){l=!a.prevObject||!Qx(t.getWorldTransform(),a.prevObject.getWorldTransform()),l&&this.applyWorldTransform(r,t);var p=!a.prevObject;if(!p){var v=a.prevObject.nodeName;s===de.TEXT?p=v!==de.TEXT:s===de.IMAGE?p=v!==de.IMAGE:p=v===de.TEXT||v===de.IMAGE}c.applyStyleToContext(r,t,p,a),a.prevObject=t}f&&(r.beginPath(),f(r,t.parsedStyle),s!==de.LINE&&s!==de.PATH&&s!==de.POLYLINE&&r.closePath()),c&&c.drawToContext(r,t,Mo(this,lr)[lr],this,o),u&&r.restore(),t.dirty(!1)}},{key:"renderDisplayObject",value:function(t,r,i,a,o){var s=t.nodeName,l=a.restoreStack[a.restoreStack.length-1];l&&!(t.compareDocumentPosition(l)&zn.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var u=this.context.styleRendererFactory[s],c=this.pathGeneratorFactory[s],f=t.parsedStyle.clipPath;if(f){this.applyWorldTransform(r,f);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),a.restoreStack.push(t),r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}u&&(this.applyWorldTransform(r,t),r.save(),this.applyAttributesToContext(r,t)),c&&(r.beginPath(),c(r,t.parsedStyle),s!==de.LINE&&s!==de.PATH&&s!==de.POLYLINE&&r.closePath()),u&&(u.render(r,t.parsedStyle,t,i,this,o),r.restore()),t.dirty(!1)}},{key:"applyAttributesToContext",value:function(t,r){var i=r.parsedStyle,a=i.stroke,o=i.fill,s=i.opacity,l=i.lineDash,u=i.lineDashOffset;l&&t.setLineDash(l),je(u)||(t.lineDashOffset=u),je(s)||(t.globalAlpha*=s),!je(a)&&!Array.isArray(a)&&!a.isNone&&(t.strokeStyle=r.attributes.stroke),!je(o)&&!Array.isArray(o)&&!o.isNone&&(t.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(t){var r=t.getMin(),i=t.getMax(),a=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(i[0]),l=Math.ceil(i[1]),u=s-a,c=l-o;return{x:a,y:o,width:u,height:c}}},{key:"mergeDirtyAABBs",value:function(t){var r=new hr;return t.forEach(function(i){var a=i.getRenderBounds();r.add(a);var o=i.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"searchDirtyObjects",value:function(t){var r=t.getMin(),i=ze(r,2),a=i[0],o=i[1],s=t.getMax(),l=ze(s,2),u=l[0],c=l[1],f=this.rBush.search({minX:a,minY:o,maxX:u,maxY:c});return f.map(function(d){var h=d.displayObject;return h})}},{key:"saveDirtyAABB",value:function(t){var r=t.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new hr);var i=t.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(t,r,i){i?($s(this.tmpMat4,r.getLocalTransform()),Gn(this.tmpMat4,i,this.tmpMat4),Gn(this.tmpMat4,this.vpMatrix,this.tmpMat4)):($s(this.tmpMat4,r.getWorldTransform()),Gn(this.tmpMat4,this.vpMatrix,this.tmpMat4)),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var t=new hr,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(o){t.add(o)}),t}}])}();H8.tag="CanvasRenderer";function sm(e,n,t,r,i,a,o){var s,l;if(e.image.nodeName==="rect"){var u=e.image.parsedStyle,c=u.width,f=u.height;l=r.contextService.getDPR();var d=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(d),s.width=c*l,s.height=f*l;var h=a.offscreenCanvasCreator.getOrCreateContext(d),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){i.renderDisplayObject(g,h,r,p,a)}),p.restoreStack.forEach(function(){h.restore()})}var v=o.getOrCreatePatternSync(n,e,t,s,l,n.getGeometryBounds().min,function(){n.dirty(),r.renderingService.dirtify()});return v}function lm(e,n,t,r){var i;if(e.type===fl.LinearGradient||e.type===fl.RadialGradient){var a=n.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=r.getOrCreateGradient(Xe(Xe({type:e.type},e.value),{},{min:l,width:o,height:s}),t)}return i}var g0=["shadowBlur","shadowOffsetX","shadowOffsetY"],xC=["lineCap","lineJoin","miterLimit"],xr={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},wC={};function Un(e,n,t,r){var i=r.has(n)?r.get(n):xr[n];return i!==t&&(n==="lineDash"?e.setLineDash(t):e[n]=t,r.set(n,t)),i}var zwe=function(){function e(n){se(this,e),this.imagePool=n}return le(e,[{key:"applyAttributesToContext",value:function(t,r){}},{key:"render",value:function(t,r,i,a,o,s){}},{key:"applyCommonStyleToContext",value:function(t,r,i,a){var o=i?wC:a.prevObject.parsedStyle,s=r.parsedStyle;(i||s.opacity!==o.opacity)&&Un(t,"globalAlpha",je(s.opacity)?xr.globalAlpha:s.opacity,a.currentContext),(i||s.blend!==o.blend)&&Un(t,"globalCompositeOperation",je(s.blend)?xr.globalCompositeOperation:s.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(t,r,i,a){var o=i?wC:a.prevObject.parsedStyle,s=r.parsedStyle,l=s.lineWidth,u=l===void 0?xr.lineWidth:l,c=s.fill&&!s.fill.isNone,f=s.stroke&&!s.stroke.isNone&&u>0;if(f){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var d=!je(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:xr.strokeStyle;Un(t,"strokeStyle",d,a.currentContext)}(i||s.lineWidth!==o.lineWidth)&&Un(t,"lineWidth",je(s.lineWidth)?xr.lineWidth:s.lineWidth,a.currentContext),(i||s.lineDash!==o.lineDash)&&Un(t,"lineDash",s.lineDash||xr.lineDash,a.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&Un(t,"lineDashOffset",je(s.lineDashOffset)?xr.lineDashOffset:s.lineDashOffset,a.currentContext);for(var h=0;h<xC.length;h++){var p=xC[h];(i||s[p]!==o[p])&&Un(t,p,je(s[p])?xr[p]:s[p],a.currentContext)}}if(c&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var v=!je(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:xr.fillStyle;Un(t,"fillStyle",v,a.currentContext)}}},{key:"applyStyleToContext",value:function(t,r,i,a){var o=r.nodeName;this.applyCommonStyleToContext(t,r,i,a),o===de.IMAGE||this.applyStrokeFillStyleToContext(t,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(t,r,i,a){var o=r.parsedStyle;if(i){Un(t,"shadowColor",o.shadowColor.toString(),a.currentContext);for(var s=0;s<g0.length;s++){var l=g0[s];Un(t,l,o[l]||xr[l],a.currentContext)}}o.filter&&o.filter.length&&Un(t,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(t,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Un(t,"shadowColor",xr.shadowColor,a.currentContext);for(var s=0;s<g0.length;s++){var l=g0[s];Un(t,l,xr[l],a.currentContext)}}if(i)if(r&&o){var u=t.filter;!je(u)&&u.indexOf("drop-shadow")>-1&&Un(t,"filter",u.replace(/drop-shadow\([^)]*\)/,"").trim()||xr.filter,a.currentContext)}else Un(t,"filter",xr.filter,a.currentContext)}},{key:"fillToContext",value:function(t,r,i,a,o){var s=this,l=r.parsedStyle,u=l.fill,c=l.fillRule,f=null;if(Array.isArray(u)&&u.length>0)u.forEach(function(h){var p=Un(t,"fillStyle",lm(h,r,t,s.imagePool),i.currentContext);f=f??p,c?t.fill(c):t.fill()});else{if(Fu(u)){var d=sm(u,r,t,r.ownerDocument.defaultView.context,a,o,this.imagePool);d&&(t.fillStyle=d,f=!0)}c?t.fill(c):t.fill()}f!==null&&Un(t,"fillStyle",f,i.currentContext)}},{key:"strokeToContext",value:function(t,r,i,a,o){var s=this,l=r.parsedStyle.stroke,u=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(d){var h=Un(t,"strokeStyle",lm(d,r,t,s.imagePool),i.currentContext);u=u??h,t.stroke()});else{if(Fu(l)){var c=sm(l,r,t,r.ownerDocument.defaultView.context,a,o,this.imagePool);if(c){var f=Un(t,"strokeStyle",c,i.currentContext);u=u??f}}t.stroke()}u!==null&&Un(t,"strokeStyle",u,i.currentContext)}},{key:"drawToContext",value:function(t,r,i,a,o){var s,l=r.nodeName,u=r.parsedStyle,c=u.opacity,f=c===void 0?xr.globalAlpha:c,d=u.fillOpacity,h=d===void 0?xr.fillOpacity:d,p=u.strokeOpacity,v=p===void 0?xr.strokeOpacity:p,g=u.lineWidth,m=g===void 0?xr.lineWidth:g,y=u.fill&&!u.fill.isNone,b=u.stroke&&!u.stroke.isNone&&m>0;if(!(!y&&!b)){var x=!je(u.shadowColor)&&u.shadowBlur>0,_=u.shadowType==="inner",w=((s=u.fill)===null||s===void 0?void 0:s.alpha)===0,k=!!(u.filter&&u.filter.length),O=x&&b&&(l===de.PATH||l===de.LINE||l===de.POLYLINE||w||_),S=null;if(y){O||this.applyShadowAndFilterStyleToContext(t,r,x,i);var E=f*h;S=Un(t,"globalAlpha",E,i.currentContext),this.fillToContext(t,r,i,a,o),O||this.clearShadowAndFilterStyleForContext(t,x,k,i)}if(b){var T=!1,M=f*v,P=Un(t,"globalAlpha",M,i.currentContext);if(S=y?S:P,O&&(this.applyShadowAndFilterStyleToContext(t,r,x,i),T=!0,_)){var A=t.globalCompositeOperation;t.globalCompositeOperation="source-atop",this.strokeToContext(t,r,i,a,o),t.globalCompositeOperation=A,this.clearShadowAndFilterStyleForContext(t,x,k,i,!0)}this.strokeToContext(t,r,i,a,o),T&&this.clearShadowAndFilterStyleForContext(t,x,k,i)}S!==null&&Un(t,"globalAlpha",S,i.currentContext)}}}])}(),RO=function(e){function n(){return se(this,n),Ge(this,n,arguments)}return We(n,e),le(n,[{key:"render",value:function(r,i,a,o,s,l){var u=i.fill,c=i.fillRule,f=i.opacity,d=f===void 0?1:f,h=i.fillOpacity,p=h===void 0?1:h,v=i.stroke,g=i.strokeOpacity,m=g===void 0?1:g,y=i.lineWidth,b=y===void 0?1:y,x=i.lineCap,_=i.lineJoin,w=i.shadowType,k=i.shadowColor,O=i.shadowBlur,S=i.filter,E=i.miterLimit,T=u&&!u.isNone,M=v&&!v.isNone&&b>0,P=(u==null?void 0:u.alpha)===0,A=!!(S&&S.length),N=!je(k)&&O>0,R=a.nodeName,C=w==="inner",L=M&&N&&(R===de.PATH||R===de.LINE||R===de.POLYLINE||P||C);T&&(r.globalAlpha=d*p,L||um(a,r,N),U8(r,a,u,c,o,s,l,this.imagePool),L||this.clearShadowAndFilter(r,A,N)),M&&(r.globalAlpha=d*m,r.lineWidth=b,je(E)||(r.miterLimit=E),je(x)||(r.lineCap=x),je(_)||(r.lineJoin=_),L&&(C&&(r.globalCompositeOperation="source-atop"),um(a,r,!0),C&&(r2(r,a,v,o,s,l,this.imagePool),r.globalCompositeOperation=xr.globalCompositeOperation,this.clearShadowAndFilter(r,A,!0))),r2(r,a,v,o,s,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var o=r.filter;!je(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(zwe);function um(e,n,t){var r=e.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(n.filter=e.style.filter),t&&(n.shadowColor=a.toString(),n.shadowBlur=o||0,n.shadowOffsetX=s||0,n.shadowOffsetY=l||0)}function U8(e,n,t,r,i,a,o,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(t)?t.forEach(function(u){e.fillStyle=lm(u,n,e,s),l||(r?e.fill(r):e.fill())}):(Fu(t)&&(e.fillStyle=sm(t,n,e,i,a,o,s)),l||(r?e.fill(r):e.fill()))}function r2(e,n,t,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(t)?t.forEach(function(l){e.strokeStyle=lm(l,n,e,o),s||e.stroke()}):(Fu(t)&&(e.strokeStyle=sm(t,n,e,r,i,a,o)),s||e.stroke())}function Ywe(e,n){var t=ze(e,4),r=t[0],i=t[1],a=t[2],o=t[3],s=ze(n,4),l=s[0],u=s[1],c=s[2],f=s[3],d=Math.max(r,l),h=Math.max(i,u),p=Math.min(r+a,l+c),v=Math.min(i+o,u+f);return p<=d||v<=h?null:[d,h,p-d,v-h]}function Gwe(e,n){var t=pn(Ze(),[e[0],e[1],0],n),r=pn(Ze(),[e[0]+e[2],e[1],0],n),i=pn(Ze(),[e[0],e[1]+e[3],0],n),a=pn(Ze(),[e[0]+e[2],e[1]+e[3],0],n);return[Math.min(t[0],r[0],i[0],a[0]),Math.min(t[1],r[1],i[1],a[1]),Math.max(t[0],r[0],i[0],a[0])-Math.min(t[0],r[0],i[0],a[0]),Math.max(t[1],r[1],i[1],a[1])-Math.min(t[1],r[1],i[1],a[1])]}var Wwe=function(e){function n(){return se(this,n),Ge(this,n,arguments)}return We(n,e),le(n,[{key:"renderDownSampled",value:function(r,i,a,o){var s=o.src,l=o.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(s,a).then(function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(u){console.error(u)});return}r.drawImage(l.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,o){var s=o.src,l=o.imageCache,u=o.imageRect,c=o.drawRect,f=l.size,d=r.getTransform(),h=d.a,p=d.b,v=d.c,g=d.d,m=d.e,y=d.f;if(r.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(s,[],function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirtify())},a).catch(function(N){console.error(N)});return}for(var b=[f[0]/u[2],f[1]/u[3]],x=[l.tileSize[0]/b[0],l.tileSize[1]/b[1]],_=[Math.floor((c[0]-u[0])/x[0]),Math.ceil((c[0]+c[2]-u[0])/x[0])],w=_[0],k=_[1],O=[Math.floor((c[1]-u[1])/x[1]),Math.ceil((c[1]+c[3]-u[1])/x[1])],S=O[0],E=O[1],T=S;T<=E;T++)for(var M=w;M<=k;M++){var P=l.tiles[T][M];if(P){var A=[Math.floor(u[0]+P.tileX*x[0]),Math.floor(u[1]+P.tileY*x[1]),Math.ceil(x[0]),Math.ceil(x[1])];r.drawImage(P.data,A[0],A[1],A[2],A[3])}}r.setTransform(h,p,v,g,m,y)}},{key:"render",value:function(r,i,a){var o=i.x,s=o===void 0?0:o,l=i.y,u=l===void 0?0:l,c=i.width,f=i.height,d=i.src,h=i.shadowColor,p=i.shadowBlur,v=this.imagePool.getImageSync(d,a),g=v==null?void 0:v.img,m=c,y=f;if(g){m||(m=g.width),y||(y=g.height);var b=!je(h)&&p>0;um(a,r,b);try{var x=a.ownerDocument.defaultView.getContextService().getDomElement(),_=x.width,w=x.height,k=r.getTransform(),O=k.a,S=k.b,E=k.c,T=k.d,M=k.e,P=k.f,A=P$(O,E,0,0,S,T,0,0,0,0,1,0,M,P,0,1),N=Gwe([s,u,m,y],A),R=Ywe([0,0,_,w],N);if(!R)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){n.renderFull(r,i,a,{image:g,drawRect:[s,u,m,y]});return}var C=N[2]/v.size[0];if(C<(v.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:d,imageCache:v,drawRect:[s,u,m,y]});return}if(!CO.isSupportTile){n.renderFull(r,i,a,{image:g,drawRect:[s,u,m,y]});return}this.renderTile(r,i,a,{src:d,imageCache:v,imageRect:N,drawRect:R})}catch{}}}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])}(RO),Hwe=function(e){function n(){return se(this,n),Ge(this,n,arguments)}return We(n,e),le(n,[{key:"render",value:function(r,i,a,o,s,l){a.getBounds();var u=i.lineWidth,c=u===void 0?1:u,f=i.textAlign,d=f===void 0?"start":f,h=i.textBaseline,p=h===void 0?"alphabetic":h,v=i.lineJoin,g=v===void 0?"miter":v,m=i.miterLimit,y=m===void 0?10:m,b=i.letterSpacing,x=b===void 0?0:b,_=i.stroke,w=i.fill,k=i.fillRule,O=i.fillOpacity,S=O===void 0?1:O,E=i.strokeOpacity,T=E===void 0?1:E,M=i.opacity,P=M===void 0?1:M,A=i.metrics,N=i.x,R=N===void 0?0:N,C=i.y,L=C===void 0?0:C,I=i.dx,j=i.dy,F=i.shadowColor,z=i.shadowBlur,D=A.font,B=A.lines,U=A.height,q=A.lineHeight,$=A.lineMetrics;r.font=D,r.lineWidth=c,r.textAlign=d==="middle"?"center":d;var W=p;W==="alphabetic"&&(W="bottom"),r.lineJoin=g,je(y)||(r.miterLimit=y);var Q=L;p==="middle"?Q+=-U/2-q/2:p==="bottom"||p==="alphabetic"||p==="ideographic"?Q+=-U:(p==="top"||p==="hanging")&&(Q+=-q);var oe=R+(I||0);Q+=j||0,B.length===1&&(W==="bottom"?(W="middle",Q-=.5*U):W==="top"&&(W="middle",Q+=.5*U)),r.textBaseline=W;var ee=!je(F)&&z>0;um(a,r,ee);for(var H=0;H<B.length;H++){var G=c/2+oe;Q+=q,!je(_)&&!_.isNone&&c&&this.drawLetterSpacing(r,a,B[H],$[H],d,G,Q,x,w,k,S,_,T,P,!0,o,s,l),je(w)||this.drawLetterSpacing(r,a,B[H],$[H],d,G,Q,x,w,k,S,_,T,P,!1,o,s,l)}}},{key:"drawLetterSpacing",value:function(r,i,a,o,s,l,u,c,f,d,h,p,v,g,m,y,b,x){if(c===0){m?this.strokeText(r,i,a,l,u,p,v,y,b,x):this.fillText(r,i,a,l,u,f,d,h,g,y,b,x);return}var _=r.textAlign;r.textAlign="left";var w=l;s==="center"||s==="middle"?w=l-o.width/2:(s==="right"||s==="end")&&(w=l-o.width);for(var k=Array.from(a),O=r.measureText(a).width,S=0,E=0;E<k.length;++E){var T=k[E];m?this.strokeText(r,i,T,w,u,p,v,y,b,x):this.fillText(r,i,T,w,u,f,d,h,g,y,b,x),S=r.measureText(a.substring(E+1)).width,w+=O-S+c,O=S}r.textAlign=_}},{key:"fillText",value:function(r,i,a,o,s,l,u,c,f,d,h,p){U8(r,i,l,u,d,h,p,this.imagePool,!0);var v,g=!je(c)&&c!==1;g&&(v=r.globalAlpha,r.globalAlpha=c*f),r.fillText(a,o,s),g&&(r.globalAlpha=v)}},{key:"strokeText",value:function(r,i,a,o,s,l,u,c,f,d){r2(r,i,l,c,f,d,this.imagePool,!0);var h,p=!je(u)&&u!==1;p&&(h=r.globalAlpha,r.globalAlpha=u),r.strokeText(a,o,s),p&&(r.globalAlpha=h)}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])}(RO),Uwe=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),t=Ge(this,n),t.name="canvas-renderer",t.options=r,t}return We(n,e),le(n,[{key:"init",value:function(){var r,i=Xe({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,o=new RO(a),s=(r={},we(we(we(we(we(we(we(we(we(we(r,de.CIRCLE,o),de.ELLIPSE,o),de.RECT,o),de.IMAGE,new Wwe(a)),de.TEXT,new Hwe(a)),de.LINE,o),de.POLYLINE,o),de.POLYGON,o),de.PATH,o),de.GROUP,void 0),we(we(we(r,de.HTML,void 0),de.MESH,void 0),de.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new H8(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Ll);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.27
 * @date 7/30/2025, 1:35:38 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var V8=function(){function e(){se(this,e)}return le(e,[{key:"apply",value:function(t,r){var i=this,a=t.renderingService,o=t.renderingContext,s=t.config;this.context=t;var l=o.root.ownerDocument.defaultView,u=function(O){a.hooks.pointerMove.call(O)},c=function(O){a.hooks.pointerUp.call(O)},f=function(O){a.hooks.pointerDown.call(O)},d=function(O){a.hooks.pointerOver.call(O)},h=function(O){a.hooks.pointerOut.call(O)},p=function(O){a.hooks.pointerCancel.call(O)},v=function(O){a.hooks.pointerWheel.call(O)},g=function(O){a.hooks.click.call(O)},m=function(O){r.globalThis.document.addEventListener("pointermove",u,!0),O.addEventListener("pointerdown",f,!0),O.addEventListener("pointerleave",h,!0),O.addEventListener("pointerover",d,!0),r.globalThis.addEventListener("pointerup",c,!0),r.globalThis.addEventListener("pointercancel",p,!0)},y=function(O){O.addEventListener("touchstart",f,!0),O.addEventListener("touchend",c,!0),O.addEventListener("touchmove",u,!0),O.addEventListener("touchcancel",p,!0)},b=function(O){r.globalThis.document.addEventListener("mousemove",u,!0),O.addEventListener("mousedown",f,!0),O.addEventListener("mouseout",h,!0),O.addEventListener("mouseover",d,!0),r.globalThis.addEventListener("mouseup",c,!0)},x=function(O){r.globalThis.document.removeEventListener("pointermove",u,!0),O.removeEventListener("pointerdown",f,!0),O.removeEventListener("pointerleave",h,!0),O.removeEventListener("pointerover",d,!0),r.globalThis.removeEventListener("pointerup",c,!0),r.globalThis.removeEventListener("pointercancel",p,!0)},_=function(O){O.removeEventListener("touchstart",f,!0),O.removeEventListener("touchend",c,!0),O.removeEventListener("touchmove",u,!0),O.removeEventListener("touchcancel",p,!0)},w=function(O){r.globalThis.document.removeEventListener("mousemove",u,!0),O.removeEventListener("mousedown",f,!0),O.removeEventListener("mouseout",h,!0),O.removeEventListener("mouseover",d,!0),r.globalThis.removeEventListener("mouseup",c,!0)};a.hooks.init.tap(e.tag,function(){var k=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(k.style.msContentZooming="none",k.style.msTouchAction="none"):l.supportsPointerEvents&&(k.style.touchAction="none"),l.supportsPointerEvents?m(k):b(k),l.supportsTouchEvents&&y(k),s.useNativeClickEvent&&k.addEventListener("click",g,!0),k.addEventListener("wheel",v,{passive:!0,capture:!0})}),a.hooks.destroy.tap(e.tag,function(){var k=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(k.style.msContentZooming="",k.style.msTouchAction=""):l.supportsPointerEvents&&(k.style.touchAction=""),l.supportsPointerEvents?x(k):w(k),l.supportsTouchEvents&&_(k),s.useNativeClickEvent&&k.removeEventListener("click",g,!0),k.removeEventListener("wheel",v,!0)})}}])}();V8.tag="DOMInteraction";var Vwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="dom-interaction",t}return We(n,e),le(n,[{key:"init",value:function(){this.addRenderingPlugin(new V8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ll);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Xwe="g-canvas-camera",X8=function(){function e(){se(this,e),this.displayObjectHTMLElementMap=new WeakMap}return le(e,[{key:"joinTransformMatrix",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([t[0],t[1],t[4],t[5],t[12]+r[0],t[13]+r[1]].join(","),")")}},{key:"apply",value:function(t,r){var i=this,a=t.camera,o=t.renderingContext,s=t.renderingService;this.context=t;var l=o.root.ownerDocument.defaultView,u=l.context.eventService.nativeHTMLMap,c=function(m,y){y.style.transform=i.joinTransformMatrix(m.getWorldTransform(),m.getOrigin())},f=function(m){var y=m.target;if(y.nodeName===de.HTML){i.$camera||(i.$camera=i.createCamera(a));var b=i.getOrCreateEl(y);i.$camera.appendChild(b),Object.keys(y.attributes).forEach(function(x){i.updateAttribute(x,y)}),c(y,b),u.set(b,y)}},d=function(m){var y=m.target;if(y.nodeName===de.HTML&&i.$camera){var b=i.getOrCreateEl(y);b&&(b.remove(),u.delete(b))}},h=function(m){var y=m.target;if(y.nodeName===de.HTML){var b=m.attrName;i.updateAttribute(b,y)}},p=function(m){var y=m.target,b=y.nodeName===de.FRAGMENT?y.childNodes:[y];b.forEach(function(x){if(x.nodeName===de.HTML){var _=i.getOrCreateEl(x);c(x,_)}})},v=function(){if(i.$camera){var m=i.context.config,y=m.width,b=m.height;i.$camera.parentElement.style.width="".concat(y||0,"px"),i.$camera.parentElement.style.height="".concat(b||0,"px")}};s.hooks.init.tap(e.tag,function(){l.addEventListener(Sa.RESIZE,v),l.addEventListener(Dt.MOUNTED,f),l.addEventListener(Dt.UNMOUNTED,d),l.addEventListener(Dt.ATTR_MODIFIED,h),l.addEventListener(Dt.BOUNDS_CHANGED,p)}),s.hooks.endFrame.tap(e.tag,function(){i.$camera&&o.renderReasons.has(Vc.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(e.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(Sa.RESIZE,v),l.removeEventListener(Dt.MOUNTED,f),l.removeEventListener(Dt.UNMOUNTED,d),l.removeEventListener(Dt.ATTR_MODIFIED,h),l.removeEventListener(Dt.BOUNDS_CHANGED,p)})}},{key:"createCamera",value:function(t){var r=this.context.config,i=r.document,a=r.width,o=r.height,s=this.context.contextService.getDomElement(),l=s.parentNode;if(l){var u=Xwe,c=l.querySelector("#".concat(u));if(!c){var f=(i||document).createElement("div");f.style.overflow="hidden",f.style.pointerEvents="none",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="".concat(a||0,"px"),f.style.height="".concat(o||0,"px");var d=(i||document).createElement("div");c=d,d.id=u,d.style.position="absolute",d.style.left="".concat(s.offsetLeft||0,"px"),d.style.top="".concat(s.offsetTop||0,"px"),d.style.transformOrigin="left top",d.style.transform=this.joinTransformMatrix(t.getOrthoMatrix()),d.style.pointerEvents="none",d.style.width="100%",d.style.height="100%",f.appendChild(d),l.appendChild(f)}return c}return null}},{key:"getOrCreateEl",value:function(t){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(t);return i||(i=(r||document).createElement("div"),t.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(t,i),t.id&&(i.id=t.id),t.name&&i.setAttribute("name",t.name),t.className&&(i.className=t.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(t.getWorldTransform(),t.getOrigin())),i}},{key:"updateAttribute",value:function(t,r){var i=this.getOrCreateEl(r);switch(t){case"innerHTML":var a=r.parsedStyle.innerHTML;Wt(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;i.style.width=jt(s)?"".concat(s,"px"):s.toString();break;case"height":var l=r.parsedStyle.height;i.style.height=jt(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var u=r.parsedStyle.zIndex;i.style["z-index"]="".concat(u);break;case"visibility":var c=r.parsedStyle.visibility;i.style.visibility=c;break;case"pointerEvents":var f=r.parsedStyle.pointerEvents,d=f===void 0?"auto":f;i.style.pointerEvents=d;break;case"opacity":var h=r.parsedStyle.opacity;i.style.opacity="".concat(h);break;case"fill":var p=r.parsedStyle.fill,v="";Ig(p)?p.isNone?v="transparent":v=r.getAttribute("fill"):Array.isArray(p)?v=r.getAttribute("fill"):Fu(p),i.style.background=v;break;case"stroke":var g=r.parsedStyle.stroke,m="";Ig(g)?g.isNone?m="transparent":m=r.getAttribute("stroke"):Array.isArray(g)?m=r.getAttribute("stroke"):Fu(g),i.style["border-color"]=m,i.style["border-style"]="solid";break;case"lineWidth":var y=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(y||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var b=r.style.filter;i.style.filter=b;break;default:!je(r.style[t])&&r.style[t]!==""&&(i.style[t]=r.style[t])}}}])}();X8.tag="HTMLRendering";var qwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="html-renderer",t}return We(n,e),le(n,[{key:"init",value:function(){this.addRenderingPlugin(new X8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Ll);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Kwe=function(){function e(n){se(this,e),this.renderingContext=n.renderingContext,this.canvasConfig=n.config}return le(e,[{key:"init",value:function(){var t=this.canvasConfig,r=t.container,i=t.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=Wt(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(t,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*r,Xse(this.$canvas,t,r)),this.renderingContext.renderReasons.add(Vc.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)}},{key:"toDataURL",value:function(){var n=_l(Qr().mark(function r(){var i,a,o,s=arguments;return Qr().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=s.length>0&&s[0]!==void 0?s[0]:{},a=i.type,o=i.encoderOptions,l.abrupt("return",this.context.canvas.toDataURL(a,o));case 1:case"end":return l.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()}])}(),Zwe=function(e){function n(){var t;se(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Ge(this,n,[].concat(i)),t.name="canvas-context-register",t}return We(n,e),le(n,[{key:"init",value:function(){this.context.ContextService=Kwe}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Ll),q8=function(e){function n(t){var r;return se(this,n),r=Ge(this,n,[t]),r.registerPlugin(new Zwe),r.registerPlugin(new jwe),r.registerPlugin(new mwe),r.registerPlugin(new Uwe),r.registerPlugin(new Vwe),r.registerPlugin(new Iwe),r.registerPlugin(new qwe),r}return We(n,e),le(n)}(jae);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var K8=function(){function e(n){se(this,e),this.dragndropPluginOptions=n}return le(e,[{key:"apply",value:function(t){var r=this,i=t.renderingService,a=t.renderingContext,o=a.root.ownerDocument,s=o.defaultView,l=function(c){var f=c.target,d=f===o,h=d&&r.dragndropPluginOptions.isDocumentDraggable?o:f.closest&&f.closest("[draggable=true]");if(h){var p=!1,v=c.timeStamp,g=[c.clientX,c.clientY],m=null,y=[c.clientX,c.clientY],b=function(){var _=_l(Qr().mark(function w(k){var O,S,E,T,M,P;return Qr().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(p){A.next=2;break}if(O=k.timeStamp-v,S=Ii([k.clientX,k.clientY],g),!(O<=r.dragndropPluginOptions.dragstartTimeThreshold||S<=r.dragndropPluginOptions.dragstartDistanceThreshold)){A.next=1;break}return A.abrupt("return");case 1:k.type="dragstart",h.dispatchEvent(k),p=!0;case 2:if(k.type="drag",k.dx=k.clientX-y[0],k.dy=k.clientY-y[1],h.dispatchEvent(k),y=[k.clientX,k.clientY],d){A.next=4;break}return E=r.dragndropPluginOptions.overlap==="pointer"?[k.canvasX,k.canvasY]:f.getBounds().center,A.next=3,o.elementsFromPoint(E[0],E[1]);case 3:T=A.sent,M=T[T.indexOf(f)+1],P=(M==null?void 0:M.closest("[droppable=true]"))||(r.dragndropPluginOptions.isDocumentDroppable?o:null),m!==P&&(m&&(k.type="dragleave",k.target=m,m.dispatchEvent(k)),P&&(k.type="dragenter",k.target=P,P.dispatchEvent(k)),m=P,m&&(k.type="dragover",k.target=m,m.dispatchEvent(k)));case 4:case"end":return A.stop()}},w)}));return function(k){return _.apply(this,arguments)}}();s.addEventListener("pointermove",b);var x=function(w){if(p){w.detail={preventClick:!0};var k=w.clone();m&&(k.type="drop",k.target=m,m.dispatchEvent(k)),k.type="dragend",h.dispatchEvent(k),p=!1}s.removeEventListener("pointermove",b)};f.addEventListener("pointerup",x,{once:!0}),f.addEventListener("pointerupoutside",x,{once:!0})}};i.hooks.init.tap(e.tag,function(){s.addEventListener("pointerdown",l)}),i.hooks.destroy.tap(e.tag,function(){s.removeEventListener("pointerdown",l)})}}])}();K8.tag="Dragndrop";var Z8=function(e){function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return se(this,n),t=Ge(this,n),t.name="dragndrop",t.options=r,t}return We(n,e),le(n,[{key:"init",value:function(){this.addRenderingPlugin(new K8(Xe({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])}(Ll),Qwe="*",Q8=function(){function e(){this._events={}}return e.prototype.on=function(n,t,r){return this._events[n]||(this._events[n]=[]),this._events[n].push({callback:t,once:!!r}),this},e.prototype.once=function(n,t){return this.on(n,t,!0)},e.prototype.emit=function(n){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[n]||[],o=this._events[Qwe]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var f=l[c],d=f.callback,h=f.once;h&&(l.splice(c,1),l.length===0&&delete t._events[n],u--,c--),d.apply(t,r)}};s(a),s(o)},e.prototype.off=function(n,t){if(!n)this._events={};else if(!t)delete this._events[n];else{for(var r=this._events[n]||[],i=r.length,a=0;a<i;a++)r[a].callback===t&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[n]}return this},e.prototype.getEvents=function(){return this._events},e}();const Zt={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},Jwe={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class wr extends Error{constructor(n,t,r){super(n),this.position=t,this.token=r,this.name="ExpressionError"}}var bt;(function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.NULL=3]="NULL",e[e.IDENTIFIER=4]="IDENTIFIER",e[e.OPERATOR=5]="OPERATOR",e[e.FUNCTION=6]="FUNCTION",e[e.DOT=7]="DOT",e[e.BRACKET_LEFT=8]="BRACKET_LEFT",e[e.BRACKET_RIGHT=9]="BRACKET_RIGHT",e[e.PAREN_LEFT=10]="PAREN_LEFT",e[e.PAREN_RIGHT=11]="PAREN_RIGHT",e[e.COMMA=12]="COMMA",e[e.QUESTION=13]="QUESTION",e[e.COLON=14]="COLON",e[e.DOLLAR=15]="DOLLAR"})(bt||(bt={}));const e2e=new Set([32,9,10,13]),t2e=new Set([43,45,42,47,37,33,38,124,61,60,62]),n2e=new Map([["true",bt.BOOLEAN],["false",bt.BOOLEAN],["null",bt.NULL]]),Xb=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),r2e=new Map([[46,bt.DOT],[91,bt.BRACKET_LEFT],[93,bt.BRACKET_RIGHT],[40,bt.PAREN_LEFT],[41,bt.PAREN_RIGHT],[44,bt.COMMA],[63,bt.QUESTION],[58,bt.COLON],[36,bt.DOLLAR]]),J8=new Map;for(const[e,n]of r2e.entries())J8.set(e,{type:n,value:String.fromCharCode(e)});function Wd(e){return e>=48&&e<=57}function i2(e){return e>=97&&e<=122||e>=65&&e<=90||e===95}function _C(e){return i2(e)||Wd(e)}function i2e(e){return t2e.has(e)}var qn;(function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"})(qn||(qn={}));const a2e=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),o2e={type:qn.Literal,value:null},s2e={type:qn.Literal,value:!0},l2e={type:qn.Literal,value:!1},u2e=e=>{let n=0;const t=e.length,r=()=>n>=t?null:e[n],i=()=>e[n++],a=f=>{const d=r();return d!==null&&d.type===f},o=f=>f.type===bt.OPERATOR?a2e.get(f.value)||-1:f.type===bt.DOT||f.type===bt.BRACKET_LEFT?9:f.type===bt.QUESTION?1:-1,s=f=>{let d,h;if(i().type===bt.DOT){if(!a(bt.IDENTIFIER)){const v=r();throw new wr("Expected property name",n,v?v.value:"<end of input>")}const p=i();d={type:qn.Identifier,name:p.value},h=!1}else{if(d=u(0),!a(bt.BRACKET_RIGHT)){const p=r();throw new wr("Expected closing bracket",n,p?p.value:"<end of input>")}i(),h=!0}return{type:qn.MemberExpression,object:f,property:d,computed:h}},l=()=>{const f=r();if(!f)throw new wr("Unexpected end of input",n,"<end of input>");if(f.type===bt.OPERATOR&&(f.value==="!"||f.value==="-")){i();const d=l();return{type:qn.UnaryExpression,operator:f.value,argument:d,prefix:!0}}switch(f.type){case bt.NUMBER:return i(),{type:qn.Literal,value:Number(f.value)};case bt.STRING:return i(),{type:qn.Literal,value:f.value};case bt.BOOLEAN:return i(),f.value==="true"?s2e:l2e;case bt.NULL:return i(),o2e;case bt.IDENTIFIER:return i(),{type:qn.Identifier,name:f.value};case bt.FUNCTION:return(()=>{const d=i(),h=[];if(!a(bt.PAREN_LEFT)){const p=r();throw new wr("Expected opening parenthesis after function name",n,p?p.value:"<end of input>")}for(i();;){if(a(bt.PAREN_RIGHT)){i();break}if(!r()){const v=r();throw new wr("Expected closing parenthesis",n,v?v.value:"<end of input>")}if(h.length>0){if(!a(bt.COMMA)){const v=r();throw new wr("Expected comma between function arguments",n,v?v.value:"<end of input>")}i()}const p=u(0);h.push(p)}return{type:qn.CallExpression,callee:{type:qn.Identifier,name:d.value},arguments:h}})();case bt.PAREN_LEFT:{i();const d=u(0);if(!a(bt.PAREN_RIGHT)){const h=r();throw new wr("Expected closing parenthesis",n,h?h.value:"<end of input>")}return i(),d}default:throw new wr(`Unexpected token: ${f.type}`,n,f.value)}},u=(f=0)=>{let d=l();for(;n<t;){const h=e[n],p=o(h);if(p<=f)break;if(h.type!==bt.QUESTION)if(h.type!==bt.OPERATOR){if(h.type!==bt.DOT&&h.type!==bt.BRACKET_LEFT)break;d=s(d)}else{i();const v=u(p);d={type:qn.BinaryExpression,operator:h.value,left:d,right:v}}else{i();const v=u(0);if(!a(bt.COLON)){const m=r();throw new wr("Expected : in conditional expression",n,m?m.value:"<end of input>")}i();const g=u(0);d={type:qn.ConditionalExpression,test:d,consequent:v,alternate:g}}}return d},c=u();return{type:qn.Program,body:c}},c2e=(e,n,t)=>{let r=n;t&&(r={...n,context:{...n.context,...t}});const i=a=>{switch(a.type){case qn.Literal:return(o=>o.value)(a);case qn.Identifier:return(o=>{if(!(o.name in r.context))throw new wr(`Undefined variable: ${o.name}`);return r.context[o.name]})(a);case qn.MemberExpression:return(o=>{const s=i(o.object);if(s==null)throw new wr("Cannot access property of null or undefined");return s[o.computed?i(o.property):o.property.name]})(a);case qn.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new wr(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map(l=>i(l)))})(a);case qn.BinaryExpression:return(o=>{if(o.operator==="&&"){const u=i(o.left);return u&&i(o.right)}if(o.operator==="||")return i(o.left)||i(o.right);const s=i(o.left),l=i(o.right);switch(o.operator){case"+":return s+l;case"-":return s-l;case"*":return s*l;case"/":return s/l;case"%":return s%l;case"===":return s===l;case"!==":return s!==l;case">":return s>l;case">=":return s>=l;case"<":return s<l;case"<=":return s<=l;default:throw new wr(`Unknown operator: ${o.operator}`)}})(a);case qn.UnaryExpression:return(o=>{const s=i(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new wr(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new wr(`Unknown operator: ${o.operator}`)}throw new wr(`Postfix operators are not supported: ${o.operator}`)})(a);case qn.ConditionalExpression:return(o=>{const s=i(o.test);return i(s?o.consequent:o.alternate)})(a);default:throw new wr(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(e.body)};function f2e(e){const n=(i=>{const a=i,o=a.length,s=new Array(Math.ceil(o/3));let l=0,u=0;function c(g){const m=u+1;u++;let y="",b=!1;for(;u<o;){const x=a.charCodeAt(u);if(x===g)return b||(y=a.substring(m,u)),u++,{type:bt.STRING,value:y};x===92?(b||(y=a.substring(m,u),b=!0),u++,y+=a[u]):b&&(y+=a[u]),u++}throw new wr(`Unterminated string starting with ${String.fromCharCode(g)}`,u,a.substring(Math.max(0,u-10),u))}function f(){const g=u;for(a.charCodeAt(u)===45&&u++;u<o&&Wd(a.charCodeAt(u));)u++;if(u<o&&a.charCodeAt(u)===46)for(u++;u<o&&Wd(a.charCodeAt(u));)u++;const m=a.slice(g,u);return{type:bt.NUMBER,value:m}}function d(){u++;const g=u;if(u<o&&i2(a.charCodeAt(u)))for(u++;u<o&&_C(a.charCodeAt(u));)u++;const m=a.slice(g,u);return{type:bt.FUNCTION,value:m}}function h(){const g=u++;for(;u<o&&_C(a.charCodeAt(u));)u++;const m=a.slice(g,u),y=n2e.get(m);return y?{type:y,value:m}:{type:bt.IDENTIFIER,value:m}}function p(){if(u+2<o){const m=a.substring(u,u+3);if(Xb.has(m))return u+=3,{type:bt.OPERATOR,value:m}}if(u+1<o){const m=a.substring(u,u+2);if(Xb.has(m))return u+=2,{type:bt.OPERATOR,value:m}}const g=a[u];if(Xb.has(g))return u++,{type:bt.OPERATOR,value:g};throw new wr(`Unknown operator at position ${u}: ${a.substring(u,u+1)}`,u,a.substring(Math.max(0,u-10),u))}for(;u<o;){const g=a.charCodeAt(u);if(v=g,e2e.has(v)){u++;continue}const m=J8.get(g);if(m)s[l++]=m,u++;else if(g!==34&&g!==39)if(Wd(g)||g===45&&u+1<o&&Wd(a.charCodeAt(u+1)))s[l++]=f();else if(g!==64)if(i2(g))s[l++]=h();else{if(!i2e(g))throw new wr(`Unexpected character: ${a[u]}`,u,a.substring(Math.max(0,u-10),u));s[l++]=p()}else s[l++]=d();else s[l++]=c(g)}var v;return l===s.length?s:s.slice(0,l)})(e),t=u2e(n),r=((i={},a={})=>({context:i,functions:a}))({},Jwe);return(i={})=>c2e(t,r,i)}const d2e=["style","encode","labels","children"],h2e=jF(e=>{const n=f2e(e);return(...t)=>{const r=Array.from({length:t.length},(a,o)=>String.fromCharCode(97+o)),i=Object.fromEntries(t.map((a,o)=>[r[o],a]));return n(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},e=>e,128);function q0(e,n=!0){if(Array.isArray(e))return e.map((t,r)=>q0(e[r],n));if(typeof e=="object"&&e)return Qee(e,(t,r)=>n&&d2e.includes(r)?q0(t,r==="children"):n?t:q0(t,!1));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}"))return h2e(t.slice(1,-1))}return e}const p2e=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var v2e={}.toString,Vy=function(e,n){return v2e.call(e)==="[object "+n+"]"};const ej=function(e){return Vy(e,"Function")},tj=function(e){return Array.isArray?Array.isArray(e):Vy(e,"Array")},g2e=function(e){var n=typeof e;return e!==null&&n==="object"||n==="function"};function m2e(e,n){if(e){var t;if(tj(e))for(var r=0,i=e.length;r<i&&(t=n(e[r],r),t!==!1);r++);else if(g2e(e)){for(var a in e)if(e.hasOwnProperty(a)&&(t=n(e[a],a),t===!1))break}}}var y2e=function(e){return typeof e=="object"&&e!==null},kC=function(e){if(!y2e(e)||!Vy(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n};const b2e=function(e){return Vy(e,"String")};var x2e=Object.values?function(e){return Object.values(e)}:function(e){var n=[];return m2e(e,function(t,r){ej(e)&&r==="prototype"||n.push(t)}),n};const w2e=function(e,n){if(!ej(e))throw new TypeError("Expected a function");var t=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=n?n.apply(this,r):r[0],o=t.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return o.set(a,s),s};return t.cache=new Map,t};var _2e=5;function nj(e,n,t,r){t=t||0,r=r||_2e;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a!==null&&kC(a)?(kC(e[i])||(e[i]={}),t<r?nj(e[i],a,t+1,r):e[i]=n[i]):tj(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var rj=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0;r<n.length;r+=1)nj(e,n[r]);return e};const NO=function(e){return e};var m0;w2e(function(e,n){n===void 0&&(n={});var t=n.fontSize,r=n.fontFamily,i=n.fontWeight,a=n.fontStyle,o=n.fontVariant;return m0||(m0=document.createElement("canvas").getContext("2d")),m0.font=[a,o,i,t+"px",r].join(" "),m0.measureText(b2e(e)?e:"").width},function(e,n){return n===void 0&&(n={}),Nte([e],x2e(n)).join("")});function ij(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return e?n.reduce(function(r,i){return function(a){return i(r(a))}},e):NO}function aj(e){return e instanceof Float32Array||e instanceof Array}var oj=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},sj=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))};function k2e(e){return function(n){for(var t=[],r=0;r<n.length-1;r+=2){var i=[n[r],n[r+1]],a=e(i);t.push.apply(t,sj([],oj(a),!1))}return t}}function O2e(e){return function(n){for(var t=[],r=0;r<n.length-1;r+=3){var i=[n[r],n[r+1],n[r+2]],a=e(i);t.push.apply(t,sj([],oj(a),!1))}return t}}function lj(e,n,t){for(;e<n;)e+=Math.PI*2;for(;e>t;)e-=Math.PI*2;return e}var S2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},E2e=function(e,n,t,r,i){var a=S2e(e,2),o=a[0],s=a[1],l=Zu();return ite(l,[o,s])},OC=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},T2e=function(e,n,t,r,i){var a=new wn({range:[n,n+r]}),o=new wn({range:[t,t+i]});return{transform:function(s){var l=OC(s,2),u=l[0],c=l[1];return[a.map(u),o.map(c)]},untransform:function(s){var l=OC(s,2),u=l[0],c=l[1];return[a.invert(u),o.invert(c)]}}},M2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},A2e=function(e,n,t,r,i){var a=M2e(e,1),o=a[0];return o(n,t,r,i)},P2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},C2e=function(e,n,t,r,i){var a=P2e(e,1),o=a[0];return o},qb=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},R2e=function(e,n,t,r,i){var a=qb(e,4),o=a[0],s=a[1],l=a[2],u=a[3],c=new wn({range:[l,u]}),f=new wn({range:[o,s]}),d=i/r,h=d>1?1:d,p=d>1?1/d:1;return{transform:function(v){var g=qb(v,2),m=g[0],y=g[1],b=f.map(m),x=c.map(y),_=x*Math.cos(b)*h,w=x*Math.sin(b)*p,k=_*.5+.5,O=w*.5+.5;return[k,O]},untransform:function(v){var g=qb(v,2),m=g[0],y=g[1],b=(m-.5)*2/h,x=(y-.5)*2/p,_=Math.sqrt(Math.pow(b,2)+Math.pow(x,2)),w=Math.atan2(x,b),k=lj(w,o,s),O=f.invert(k),S=c.invert(_);return[O,S]}}},SC=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},N2e=function(e,n,t,r,i){return{transform:function(a){var o=SC(a,2),s=o[0],l=o[1];return[l,s]},untransform:function(a){var o=SC(a,2),s=o[0],l=o[1];return[l,s]}}},L2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},Xy=function(e,n,t,r,i){var a=L2e(e,2),o=a[0],s=a[1],l=Zu();return ote(l,[o,s])},LO=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},$O=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))},$2e=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return Xy.apply(void 0,$O([[-1,-1]],LO(n),!1))},I2e=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return Xy.apply(void 0,$O([[-1,1]],LO(n),!1))},D2e=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return Xy.apply(void 0,$O([[1,-1]],LO(n),!1))},F2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},B2e=function(e,n,t,r,i){var a=F2e(e,1),o=a[0],s=Zu();return ate(s,o)},Kb=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},j2e=function(e,n,t,r,i){var a=Kb(e,4),o=a[0],s=a[1],l=a[2],u=a[3],c=(s-0)/(2*Math.PI)+1,f=(u-l)/c,d=f/(Math.PI*2),h=new wn({range:[l,l+f*.99]}),p=new wn({range:[o,s]}),v=i/r,g=v>1?1:v,m=v>1?1/v:1;return{transform:function(y){var b=Kb(y,2),x=b[0],_=b[1],w=p.map(x),k=h.map(_),O=Math.cos(w)*(d*w+k)*g,S=Math.sin(w)*(d*w+k)*m,E=O*.5+.5,T=S*.5+.5;return[E,T]},untransform:function(y){var b=Kb(y,2),x=b[0],_=b[1],w=(x-.5)*2/g,k=(_-.5)*2/m,O=Math.sqrt(Math.pow(w,2)+Math.pow(k,2)),S=Math.atan2(k,w)+Math.floor(O/f)*Math.PI*2,E=lj(S,o,s),T=O-d*E,M=p.invert(E),P=h.invert(T);return[M,P]}}},z2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},Y2e=function(e,n,t,r,i){var a=z2e(e,4),o=a[0],s=a[1],l=a[2],u=a[3],c=new wn({range:[l,u]});return{transform:function(f){for(var d=[],h=f.length,p=new kI({domain:new Array(h).fill(0).map(function(b,x){return x}),range:[o,s]}),v=0;v<h;v++){var g=f[v],m=p.map(v),y=c.map(g);d.push(m,y)}return d},untransform:function(f){for(var d=[],h=0;h<f.length;h+=2){var p=f[h+1];d.push(c.invert(p))}return d}}},Qc=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a};function uj(e){return 1/Math.tan(e)}var G2e=function(e,n,t,r,i){var a=Qc(e,1),o=a[0],s=uj(o);return{transform:function(l){var u=Qc(l,2),c=u[0],f=u[1],d=c+f*s;return[d,f]},untransform:function(l){var u=Qc(l,2),c=u[0],f=u[1],d=c-f*s;return[d,f]}}},W2e=function(e,n,t,r,i){var a=Qc(e,1),o=a[0],s=uj(o);return{transform:function(l){var u=Qc(l,2),c=u[0],f=u[1],d=f+c*s;return[c,d]},untransform:function(l){var u=Qc(l,2),c=u[0],f=u[1],d=f-c*s;return[c,d]}}},La=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a};function ip(e,n,t,r,i){var a=e<n,o=(a?n-r:i-n)||i-r,s=a?-1:1;return s*o*(t+1)/(t+o/((e-n)*s))+n}function ap(e,n,t,r,i){var a=e<n,o=(a?n-r:i-n)||i-r,s=a?-1:1;return o/(o*(t+1)/(e-n)-t*s)+n}function cm(e,n,t){if(!t)return e;var r=new wn({range:[0,1],domain:[0,n]});return r.map(e)}var H2e=function(e,n,t,r,i){var a=La(e,3),o=a[0],s=a[1],l=a[2],u=l===void 0?!1:l,c=cm(o,r,u);return{transform:function(f){var d=La(f,2),h=d[0],p=d[1],v=ip(h,c,s,0,1);return[v,p]},untransform:function(f){var d=La(f,2),h=d[0],p=d[1],v=ap(h,c,s,0,1);return[v,p]}}},U2e=function(e,n,t,r,i){var a=La(e,3),o=a[0],s=a[1],l=a[2],u=l===void 0?!1:l,c=cm(o,i,u);return{transform:function(f){var d=La(f,2),h=d[0],p=d[1],v=ip(p,c,s,0,1);return[h,v]},untransform:function(f){var d=La(f,2),h=d[0],p=d[1],v=ap(p,c,s,0,1);return[h,v]}}},V2e=function(e,n,t,r,i){var a=La(e,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=c===void 0?!1:c,d=cm(o,r,f),h=cm(s,i,f);return{transform:function(p){var v=La(p,2),g=v[0],m=v[1],y=ip(g,d,l,0,1),b=ip(m,h,u,0,1);return[y,b]},untransform:function(p){var v=La(p,2),g=v[0],m=v[1],y=ap(g,d,l,0,1),b=ap(m,h,u,0,1);return[y,b]}}},X2e=function(e,n,t,r,i){var a=La(e,5),o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=c===void 0?!1:c,d=new wn({range:[0,r]}),h=new wn({range:[0,i]}),p=f?o:d.map(o),v=f?s:h.map(s);return{transform:function(g){var m=La(g,2),y=m[0],b=m[1],x=d.map(y)-p,_=h.map(b)-v,w=Math.sqrt(x*x+_*_);if(w>l)return[y,b];var k=ip(w,0,u,0,l),O=Math.atan2(_,x),S=p+k*Math.cos(O),E=v+k*Math.sin(O);return[d.invert(S),h.invert(E)]},untransform:function(g){var m=La(g,2),y=m[0],b=m[1],x=d.map(y)-p,_=h.map(b)-v,w=Math.sqrt(x*x+_*_);if(w>l)return[y,b];var k=ap(w,0,u,0,l),O=Math.atan2(_,x),S=p+k*Math.cos(O),E=v+k*Math.sin(O);return[d.invert(S),h.invert(E)]}}},EC=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},q2e=function(e,n,t,r,i,a,o){var s=new wn({range:[n,n+i]}),l=new wn({range:[t,t+a]}),u=new wn({range:[r,r+o]});return{transform:function(c){var f=EC(c,3),d=f[0],h=f[1],p=f[2];return[s.map(d),l.map(h),u.map(p)]},untransform:function(c){var f=EC(c,3),d=f[0],h=f[1],p=f[2];return[s.invert(d),l.invert(h),u.invert(p)]}}},K2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},Z2e=function(e,n,t,r,i,a,o){var s=K2e(e,3),l=s[0],u=s[1],c=s[2];return ui(ut(),[l,u,c])},TC=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},Q2e=function(e,n,t,r,i,a,o){return{transform:function(s){var l=TC(s,3),u=l[0],c=l[1],f=l[2];return[c,u,f]},untransform:function(s){var l=TC(s,3),u=l[0],c=l[1],f=l[2];return[c,u,f]}}},J2e=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},e_e=function(e,n,t,r,i,a,o){var s=J2e(e,3),l=s[0],u=s[1],c=s[2];return Qi(ut(),[l,u,c])},bc=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},xc=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))},t_e=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},n_e=function(){function e(n){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:T2e,translate:E2e,custom:A2e,matrix:C2e,polar:R2e,transpose:N2e,scale:Xy,"shear.x":G2e,"shear.y":W2e,reflect:$2e,"reflect.x":I2e,"reflect.y":D2e,rotate:B2e,helix:j2e,parallel:Y2e,fisheye:V2e,"fisheye.x":H2e,"fisheye.y":U2e,"fisheye.circular":X2e},this.update(n)}return e.prototype.update=function(n){this.options=rj({},this.options,n),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var n=this.options,t=n.width,r=n.height;return[t,r]},e.prototype.getCenter=function(){var n=this.options,t=n.x,r=n.y,i=n.width,a=n.height;return[(t*2+i)/2,(r*2+a)/2]},e.prototype.transform=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=this.options.transformations;return this.update({transformations:xc(xc([],bc(r),!1),[xc([],bc(n),!1)],!1)}),this},e.prototype.map=function(n){return this.output(n)},e.prototype.invert=function(n){return this.input(n)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(n){var t,r;n===void 0&&(n=!1);var i=n?xc([],bc(this.options.transformations),!1).reverse():this.options.transformations,a=n?function(k){return k.untransform}:function(k){return k.transform},o=[],s=[],l=function(k,O){return O===void 0&&(O=!0),s.push(O?k2e(k):k)};try{for(var u=t_e(i),c=u.next();!c.done;c=u.next()){var f=bc(c.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.width,b=v.height,x=p(xc([],bc(h),!1),g,m,y,b);if(aj(x))o.push(x);else{if(o.length){var _=this.createMatrixTransform(o,n);l(_),o.splice(0,o.length)}var w=a(x)||NO;l(w,d!=="parallel")}}}}catch(k){t={error:k}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}if(o.length){var w=this.createMatrixTransform(o,n);l(w)}return ij.apply(void 0,xc([],bc(s),!1))},e.prototype.createMatrixTransform=function(n,t){var r=Zu();return t&&n.reverse(),n.forEach(function(i){return ste(r,r,i)}),t&&nte(r,tte(r)),function(i){var a=[i[0],i[1],1];return F_(a,a,r),[a[0],a[1]]}},e}(),wc=function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},_c=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))},r_e=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},i_e=function(){function e(n){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:q2e,translate3D:Z2e,scale3D:e_e,transpose3D:Q2e},this.update(n)}return e.prototype.update=function(n){this.options=rj({},this.options,n),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var n=this.options,t=n.width,r=n.height,i=n.depth;return[t,r,i]},e.prototype.getCenter=function(){var n=this.options,t=n.x,r=n.y,i=n.z,a=n.width,o=n.height,s=n.depth;return[(t*2+a)/2,(r*2+o)/2,(i*2+s)/2]},e.prototype.transform=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=this.options.transformations;return this.update({transformations:_c(_c([],wc(r),!1),[_c([],wc(n),!1)],!1)}),this},e.prototype.map=function(n){return this.output(n)},e.prototype.invert=function(n){return this.input(n)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(n){var t,r;n===void 0&&(n=!1);var i=n?_c([],wc(this.options.transformations),!1).reverse():this.options.transformations,a=n?function(S){return S.untransform}:function(S){return S.transform},o=[],s=[],l=function(S,E){return E===void 0&&(E=!0),s.push(E?O2e(S):S)};try{for(var u=r_e(i),c=u.next();!c.done;c=u.next()){var f=wc(c.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.z,b=v.width,x=v.height,_=v.depth,w=p(_c([],wc(h),!1),g,m,y,b,x,_);if(aj(w))o.push(w);else{if(o.length){var k=this.createMatrixTransform(o,n);l(k),o.splice(0,o.length)}var O=a(w)||NO;l(O,!0)}}}}catch(S){t={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}if(o.length){var O=this.createMatrixTransform(o,n);l(O)}return ij.apply(void 0,_c([],wc(s),!1))},e.prototype.createMatrixTransform=function(n,t){var r=ut();return t&&n.reverse(),n.forEach(function(i){return iy(r,r,i)}),t&&Mr(r,ry(r)),function(i){var a=[i[0],i[1],i[2],1];return Pr(a,a,r),[a[0],a[1],a[2]]}},e}(),a_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function qp(e){return(n,...t)=>ye({},e(n,...t),n)}function sc(e){return(n,...t)=>ye({},n,e(n,...t))}function o_e(e){return e instanceof Date?!1:typeof e=="object"}function IO(e,n){if(!e)return n;if(Array.isArray(e))return e;if(o_e(e)){const{value:t=n}=e,r=a_e(e,["value"]);return Object.assign(Object.assign({},r),{value:t})}return e}var s_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const cj=()=>e=>{const{children:n}=e;if(!Array.isArray(n))return[];const{x:t=0,y:r=0,width:i,height:a,data:o}=e;return n.map(s=>{var{data:l,x:u,y:c,width:f,height:d}=s,h=s_e(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},h),{data:IO(l,o),x:u??t,y:c??r,width:f??i,height:d??a})})};cj.props={};var l_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const fj=()=>e=>{const{children:n}=e;if(!Array.isArray(n))return[];const{direction:t="row",ratio:r=n.map(()=>1),padding:i=0,data:a}=e,[o,s,l,u]=t==="col"?["y","height","width","x"]:["x","width","height","y"],c=r.reduce((v,g)=>v+g),f=e[s]-i*(n.length-1),d=r.map(v=>f*(v/c)),h=[];let p=e[o]||0;for(let v=0;v<d.length;v+=1){const g=n[v],{data:m}=g,y=l_e(g,["data"]),b=IO(m,a);h.push(Object.assign({[o]:p,[s]:d[v],[u]:e[u]||0,[l]:e[l],data:b},y)),p+=d[v]+i}return h};fj.props={};var Zb=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const dj=()=>e=>{const{children:n}=e,t=Zb(e,["children"]);if(!Array.isArray(n))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:l=[]}=t,u=Zb(t,["data","scale","axis","legend","encode","transform"]),c=n.map(f=>{var{data:d,scale:h={},axis:p={},legend:v={},encode:g={},transform:m=[]}=f,y=Zb(f,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:IO(d,r),scale:ye({},i,h),encode:ye({},s,g),transform:[...l,...m],axis:p&&a?ye({},a,p):!1,legend:v&&o?ye({},o,v):!1},y)});return[Object.assign(Object.assign({},u),{marks:c,type:"standardView"})]};dj.props={};var u_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const hj=({static:e=!1}={})=>n=>{const{width:t,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:l,padding:u,inset:c,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:b,data:x,coordinate:_,theme:w,component:k,interaction:O,x:S,y:E,z:T,key:M,frame:P,labelTransform:A,parentKey:N,clip:R,viewStyle:C,title:L}=n,I=u_e(n,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:S,y:E,z:T,key:M,width:t,height:r,depth:i,padding:u,paddingLeft:a,paddingRight:o,paddingTop:s,inset:c,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,paddingBottom:l,theme:w,coordinate:_,component:k,interaction:O,frame:P,labelTransform:A,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:b,parentKey:N,clip:R,style:C},!e&&{title:L}),{marks:[Object.assign(Object.assign(Object.assign({},I),{key:`${M}-0`,data:x}),e&&{title:L})]})]};hj.props={};class Kp{constructor(n){this.$value=n}static of(n){return new Kp(n)}call(n,...t){return this.$value=n(this.$value,...t),this}value(){return this.$value}}var c_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const f_e=qp(e=>{const{encode:n,data:t,scale:r,shareSize:i=!1}=e,{x:a,y:o}=n,s=(l,u)=>{var c;if(l===void 0||!i)return{};const f=yn(t,p=>p[l]),d=((c=r==null?void 0:r[u])===null||c===void 0?void 0:c.domain)||Array.from(f.keys()),h=d.map(p=>f.has(p)?f.get(p).length:1);return{domain:d,flex:h}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),DO=sc(e=>{const{data:n,scale:t,legend:r}=e,i=[e];let a,o,s;for(;i.length;){const d=i.shift(),{children:h,encode:p={},scale:v={},legend:g={}}=d,{color:m}=p,{color:y}=v,{color:b}=g;m!==void 0&&(a=m),y!==void 0&&(o=y),b!==void 0&&(s=b),Array.isArray(h)&&i.push(...h)}const l=()=>{var d;const h=(d=t==null?void 0:t.color)===null||d===void 0?void 0:d.domain;if(h!==void 0)return[h];if(a===void 0)return[void 0];const p=typeof a=="function"?a:g=>g[a],v=n.map(p);return v.some(g=>typeof g=="number")?[As(v)]:[Array.from(new Set(v)),"ordinal"]},u=typeof a=="string"?a:"",[c,f]=l();return Object.assign({encode:{color:{type:"column",value:c??[]}},scale:{color:ye({},o,{domain:c,type:f})}},r===void 0&&{legend:{color:ye({title:u},s)}})}),FO=qp(()=>({animate:{enterType:"fadeIn"}})),BO=sc(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),jO=sc(()=>({type:"cell"})),pj=sc(e=>{const{data:n}=e;return{data:{type:"inline",value:n,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=e,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(c=>c[a]))):[],l=o?Array.from(new Set(r.map(c=>c[o]))):[];return(()=>{if(s.length&&l.length){const c=[];for(const f of s)for(const d of l)c.push({[a]:f,[o]:d});return c}if(s.length)return s.map(c=>({[a]:c}));if(l.length)return l.map(c=>({[o]:c}))})()}}]}}}),vj=sc((e,n=d_e,t=h_e,r=p_e,i={})=>{const{data:a,encode:o,children:s,scale:l,x:u=0,y:c=0,shareData:f=!1,key:d}=e,{value:h}=a,{x:p,y:v}=o,{color:g}=l,{domain:m}=g;return{children:(b,x,_)=>{const{x:w,y:k}=x,{paddingLeft:O,paddingTop:S,marginLeft:E,marginTop:T}=_,{domain:M}=w.getOptions(),{domain:P}=k.getOptions(),A=Qu(b),N=b.map(n),R=b.map(({x:z,y:D})=>[w.invert(z),k.invert(D)]),L=R.map(([z,D])=>B=>{const{[p]:U,[v]:q}=B;return(p!==void 0?U===z:!0)&&(v!==void 0?q===D:!0)}).map(z=>h.filter(z)),I=f?Xt(L,z=>z.length):void 0,j=R.map(([z,D])=>({columnField:p,columnIndex:M.indexOf(z),columnValue:z,columnValuesLength:M.length,rowField:v,rowIndex:P.indexOf(D),rowValue:D,rowValuesLength:P.length})),F=j.map(z=>Array.isArray(s)?s:[s(z)].flat(1));return A.flatMap(z=>{const[D,B,U,q]=N[z],$=j[z],W=L[z];return F[z].map(oe=>{var ee,H,{scale:G,key:X,facet:Y=!0,axis:re={},legend:te={}}=oe,ae=c_e(oe,["scale","key","facet","axis","legend"]);const ue=((ee=G==null?void 0:G.y)===null||ee===void 0?void 0:ee.guide)||re.y,pe=((H=G==null?void 0:G.x)===null||H===void 0?void 0:H.guide)||re.x,ve={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},Te=Y?W:W.length===0?[]:h,ne={color:{domain:m}},ce={x:MC(pe,t)($,Te),y:MC(ue,r)($,Te)};return Object.assign(Object.assign({key:`${X}-${z}`,data:Te,margin:0,x:D+O+u+E,y:B+S+c+T,parentKey:d,width:U,height:q,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Te.length,dataDomain:I,scale:ye(ve,G,ne),axis:ye({},re,ce),legend:!1},ae),i)})})}}});function d_e(e){const{points:n}=e;return ok(n)}function qy(e,n){return n.length?ye({title:!1,tick:null,label:null},e):ye({title:!1,tick:null,label:null,grid:null},e)}function h_e(e){return(n,t)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=n;if(r!==i-1)return qy(e,t);const s=a!==o-1?!1:void 0,l=t.length?void 0:null;return ye({title:s,grid:l},e)}}function p_e(e){return(n,t)=>{const{rowIndex:r,columnIndex:i}=n;if(i!==0)return qy(e,t);const a=r!==0?!1:void 0,o=t.length?void 0:null;return ye({title:a,grid:o},e)}}function MC(e,n){return typeof e=="function"?e:e===null||e===!1?()=>null:n(e)}const gj=()=>e=>[Kp.of(e).call(jO).call(DO).call(FO).call(f_e).call(BO).call(pj).call(vj).value()];gj.props={};var a2=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const v_e=qp(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),g_e=sc(e=>{const{data:n,children:t,x:r=0,y:i=0,key:a}=e;return{children:(s,l,u)=>{const{x:c,y:f}=l,{paddingLeft:d,paddingTop:h,marginLeft:p,marginTop:v}=u,{domain:g}=c.getOptions(),{domain:m}=f.getOptions(),y=Qu(s),b=s.map(({points:k})=>ok(k)),x=s.map(({x:k,y:O})=>[c.invert(k),f.invert(O)]),_=x.map(([k,O])=>({columnField:k,columnIndex:g.indexOf(k),columnValue:k,columnValuesLength:g.length,rowField:O,rowIndex:m.indexOf(O),rowValue:O,rowValuesLength:m.length})),w=_.map(k=>Array.isArray(t)?t:[t(k)].flat(1));return y.flatMap(k=>{const[O,S,E,T]=b[k],[M,P]=x[k],A=_[k];return w[k].map(R=>{var C,L;const{scale:I,key:j,encode:F,axis:z,interaction:D}=R,B=a2(R,["scale","key","encode","axis","interaction"]),U=(C=I==null?void 0:I.y)===null||C===void 0?void 0:C.guide,q=(L=I==null?void 0:I.x)===null||L===void 0?void 0:L.guide,$={x:{facet:!1},y:{facet:!1}},W={x:y_e(q)(A,n),y:b_e(U)(A,n)},Q={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:n,parentKey:a,key:`${j}-${k}`,x:O+d+r+p,y:S+h+i+v,width:E,height:T,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:ye($,I),axis:ye(Q,z,W),legend:!1,encode:ye({},F,{x:M,y:P}),interaction:ye({},D,{legendFilter:!1})},B)})})}}}),m_e=sc(e=>{const{encode:n}=e,t=a2(e,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=n,o=a2(n,["position","x","y"]),s=[];for(const l of[i].flat(1))for(const u of[a].flat(1))s.push({$x:l,$y:u});return Object.assign(Object.assign({},t),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function y_e(e){return typeof e=="function"?e:e===null?()=>null:(n,t)=>{const{rowIndex:r,rowValuesLength:i}=n;if(r!==i-1)return qy(e,t)}}function b_e(e){return typeof e=="function"?e:e===null?()=>null:(n,t)=>{const{columnIndex:r}=n;if(r!==0)return qy(e,t)}}const x_e=()=>e=>[Kp.of(e).call(jO).call(DO).call(g_e).call(m_e).call(FO).call(BO).call(v_e).value()];var w_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const __e=qp(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),k_e=qp(e=>({coordinate:{type:"polar"}})),O_e=e=>{const{encode:n}=e,t=w_e(e,["encode"]),{position:r}=n;return Object.assign(Object.assign({},t),{encode:{x:r}})};function AC(e){return n=>null}function S_e(e){const{points:n}=e,[t,r,i,a]=n,o=Yn(t,a),s=Qn(t,a),l=Qn(r,i),u=x5(s,l),c=1/Math.sin(u/2),f=o/(1+c),d=f*Math.sqrt(2),[h,p]=i,g=Ef(s)+u/2,m=f*c,y=h+m*Math.sin(g),b=p-m*Math.cos(g);return[y-d/2,b-d/2,d,d]}const E_e=()=>e=>[Kp.of(e).call(jO).call(O_e).call(DO).call(k_e).call(pj).call(vj,S_e,AC,AC,{frame:!1}).call(FO).call(BO).call(__e).value()];function T_e(e,n,t){const i=t,a=[0,i],o=[-i+1,1];if(e==="normal")return a;if(e==="reverse")return o;if(e==="alternate")return n%2===0?a:o;if(e==="reverse-alternate")return n%2===0?o:a}function M_e(e,n,t){const r=[e];for(;r.length;){const i=r.pop();i.animate=ye({enter:{duration:n},update:{duration:n,easing:t,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:n}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return e}const mj=()=>e=>{const{children:n=[],duration:t=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=e,o=n.length;if(!Array.isArray(n)||o===0)return[];const{key:s}=n[0],l=n.map(u=>Object.assign(Object.assign({},u),{key:s})).map(u=>M_e(u,t,a));return function*(){let u=0,c;for(;r==="infinite"||u<r;){const[f,d]=T_e(i,u,o);for(let h=f;h<d;h+=1){const p=Math.abs(h);c!==p&&(yield l[p]),c=p}u++}}};mj.props={};var A_e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const yj=()=>e=>{const{type:n,data:t,scale:r,encode:i,style:a,animate:o,key:s,state:l,tooltip:u}=e,c=A_e(e,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},c),{children:[{type:"geoPath",key:`${s}-0`,data:{value:t},scale:r,encode:i,style:a,animate:o,state:l,tooltip:u}]})]};yj.props={};var pt=1e-6,P_e=1e-12,Pt=Math.PI,rr=Pt/2,PC=Pt/4,ua=Pt*2,ri=180/Pt,Kn=Pt/180,Ht=Math.abs,id=Math.atan,Bs=Math.atan2,Et=Math.cos,y0=Math.ceil,bj=Math.exp,fm=Math.log,Qb=Math.pow,wt=Math.sin,Aa=Math.sign||function(e){return e>0?1:e<0?-1:0},Wi=Math.sqrt,zO=Math.tan;function xj(e){return e>1?0:e<-1?Pt:Math.acos(e)}function Da(e){return e>1?rr:e<-1?-rr:Math.asin(e)}function Pa(){}function dm(e,n){e&&RC.hasOwnProperty(e.type)&&RC[e.type](e,n)}var CC={Feature:function(e,n){dm(e.geometry,n)},FeatureCollection:function(e,n){for(var t=e.features,r=-1,i=t.length;++r<i;)dm(t[r].geometry,n)}},RC={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)e=t[r],n.point(e[0],e[1],e[2])},LineString:function(e,n){o2(e.coordinates,n,0)},MultiLineString:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)o2(t[r],n,0)},Polygon:function(e,n){NC(e.coordinates,n)},MultiPolygon:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)NC(t[r],n)},GeometryCollection:function(e,n){for(var t=e.geometries,r=-1,i=t.length;++r<i;)dm(t[r],n)}};function o2(e,n,t){var r=-1,i=e.length-t,a;for(n.lineStart();++r<i;)a=e[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function NC(e,n){var t=-1,r=e.length;for(n.polygonStart();++t<r;)o2(e[t],n,1);n.polygonEnd()}function Ac(e,n){e&&CC.hasOwnProperty(e.type)?CC[e.type](e,n):dm(e,n)}function s2(e){return[Bs(e[1],e[0]),Da(e[2])]}function jf(e){var n=e[0],t=e[1],r=Et(t);return[r*Et(n),r*wt(n),wt(t)]}function b0(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function hm(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function Jb(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function x0(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function l2(e){var n=Wi(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function u2(e,n){function t(r,i){return r=e(r,i),n(r[0],r[1])}return e.invert&&n.invert&&(t.invert=function(r,i){return r=n.invert(r,i),r&&e.invert(r[0],r[1])}),t}function c2(e,n){return Ht(e)>Pt&&(e-=Math.round(e/ua)*ua),[e,n]}c2.invert=c2;function wj(e,n,t){return(e%=ua)?n||t?u2($C(e),IC(n,t)):$C(e):n||t?IC(n,t):c2}function LC(e){return function(n,t){return n+=e,Ht(n)>Pt&&(n-=Math.round(n/ua)*ua),[n,t]}}function $C(e){var n=LC(e);return n.invert=LC(-e),n}function IC(e,n){var t=Et(e),r=wt(e),i=Et(n),a=wt(n);function o(s,l){var u=Et(l),c=Et(s)*u,f=wt(s)*u,d=wt(l),h=d*t+c*r;return[Bs(f*i-h*a,c*t-d*r),Da(h*i+f*a)]}return o.invert=function(s,l){var u=Et(l),c=Et(s)*u,f=wt(s)*u,d=wt(l),h=d*i-f*a;return[Bs(f*i+d*a,c*t+h*r),Da(h*t-c*r)]},o}function C_e(e){e=wj(e[0]*Kn,e[1]*Kn,e.length>2?e[2]*Kn:0);function n(t){return t=e(t[0]*Kn,t[1]*Kn),t[0]*=ri,t[1]*=ri,t}return n.invert=function(t){return t=e.invert(t[0]*Kn,t[1]*Kn),t[0]*=ri,t[1]*=ri,t},n}function R_e(e,n,t,r,i,a){if(t){var o=Et(n),s=wt(n),l=r*t;i==null?(i=n+r*ua,a=n-l/2):(i=DC(o,i),a=DC(o,a),(r>0?i<a:i>a)&&(i+=r*ua));for(var u,c=i;r>0?c>a:c<a;c-=l)u=s2([o,-s*Et(c),-s*wt(c)]),e.point(u[0],u[1])}}function DC(e,n){n=jf(n),n[0]-=e,l2(n);var t=xj(-n[1]);return((-n[2]<0?-t:t)+ua-pt)%ua}function _j(){var e=[],n;return{point:function(t,r,i){n.push([t,r,i])},lineStart:function(){e.push(n=[])},lineEnd:Pa,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function K0(e,n){return Ht(e[0]-n[0])<pt&&Ht(e[1]-n[1])<pt}function w0(e,n,t,r){this.x=e,this.z=n,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function kj(e,n,t,r,i){var a=[],o=[],s,l;if(e.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],m=p[v],y;if(K0(g,m)){if(!g[2]&&!m[2]){for(i.lineStart(),s=0;s<v;++s)i.point((g=p[s])[0],g[1]);i.lineEnd();return}m[0]+=2*pt}a.push(y=new w0(g,p,null,!0)),o.push(y.o=new w0(g,null,y,!1)),a.push(y=new w0(m,p,null,!1)),o.push(y.o=new w0(m,null,y,!0))}}),!!a.length){for(o.sort(n),FC(a),FC(o),s=0,l=o.length;s<l;++s)o[s].e=t=!t;for(var u=a[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function FC(e){if(n=e.length){for(var n,t=0,r=e[0],i;++t<n;)r.n=i=e[t],i.p=r,r=i;r.n=i=e[0],i.p=r}}function ex(e){return Ht(e[0])<=Pt?e[0]:Aa(e[0])*((Ht(e[0])+Pt)%ua-Pt)}function N_e(e,n){var t=ex(n),r=n[1],i=wt(r),a=[wt(t),-Et(t),0],o=0,s=0,l=new Nu;i===1?r=rr+pt:i===-1&&(r=-rr-pt);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=ex(h),v=h[1]/2+PC,g=wt(v),m=Et(v),y=0;y<d;++y,p=x,g=w,m=k,h=b){var b=f[y],x=ex(b),_=b[1]/2+PC,w=wt(_),k=Et(_),O=x-p,S=O>=0?1:-1,E=S*O,T=E>Pt,M=g*w;if(l.add(Bs(M*S*wt(E),m*k+M*Et(E))),o+=T?O+S*ua:O,T^p>=t^x>=t){var P=hm(jf(h),jf(b));l2(P);var A=hm(a,P);l2(A);var N=(T^O>=0?-1:1)*Da(A[2]);(r>N||r===N&&(P[0]||P[1]))&&(s+=T^O>=0?1:-1)}}return(o<-1e-6||o<pt&&l<-1e-12)^s&1}function Oj(e,n,t,r){return function(i){var a=n(i),o=_j(),s=n(o),l=!1,u,c,f,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,c=oI(c);var x=N_e(u,r);c.length?(l||(i.polygonStart(),l=!0),kj(c,$_e,x,t,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,_){e(x,_)&&i.point(x,_)}function p(x,_){a.point(x,_)}function v(){d.point=p,a.lineStart()}function g(){d.point=h,a.lineEnd()}function m(x,_){f.push([x,_]),s.point(x,_)}function y(){s.lineStart(),f=[]}function b(){m(f[0][0],f[0][1]),s.lineEnd();var x=s.clean(),_=o.result(),w,k=_.length,O,S,E;if(f.pop(),u.push(f),f=null,!!k){if(x&1){if(S=_[0],(O=S.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),w=0;w<O;++w)i.point((E=S[w])[0],E[1]);i.lineEnd()}return}k>1&&x&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(L_e))}}return d}}function L_e(e){return e.length>1}function $_e(e,n){return((e=e.x)[0]<0?e[1]-rr-pt:rr-e[1])-((n=n.x)[0]<0?n[1]-rr-pt:rr-n[1])}const BC=Oj(function(){return!0},I_e,F_e,[-Pt,-rr]);function I_e(e){var n=NaN,t=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?Pt:-Pt,l=Ht(a-n);Ht(l-Pt)<pt?(e.point(n,t=(t+o)/2>0?rr:-rr),e.point(r,t),e.lineEnd(),e.lineStart(),e.point(s,t),e.point(a,t),i=0):r!==s&&l>=Pt&&(Ht(n-r)<pt&&(n-=r*pt),Ht(a-s)<pt&&(a-=s*pt),t=D_e(n,t,a,o),e.point(r,t),e.lineEnd(),e.lineStart(),e.point(s,t),i=0),e.point(n=a,t=o),r=s},lineEnd:function(){e.lineEnd(),n=t=NaN},clean:function(){return 2-i}}}function D_e(e,n,t,r){var i,a,o=wt(e-t);return Ht(o)>pt?id((wt(n)*(a=Et(r))*wt(t)-wt(r)*(i=Et(n))*wt(e))/(i*a*o)):(n+r)/2}function F_e(e,n,t,r){var i;if(e==null)i=t*rr,r.point(-Pt,i),r.point(0,i),r.point(Pt,i),r.point(Pt,0),r.point(Pt,-i),r.point(0,-i),r.point(-Pt,-i),r.point(-Pt,0),r.point(-Pt,i);else if(Ht(e[0]-n[0])>pt){var a=e[0]<n[0]?Pt:-Pt;i=t*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function B_e(e){var n=Et(e),t=2*Kn,r=n>0,i=Ht(n)>pt;function a(c,f,d,h){R_e(h,e,t,d,c,f)}function o(c,f){return Et(c)*Et(f)>n}function s(c){var f,d,h,p,v;return{lineStart:function(){p=h=!1,v=1},point:function(g,m){var y=[g,m],b,x=o(g,m),_=r?x?0:u(g,m):x?u(g+(g<0?Pt:-Pt),m):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,y),(!b||K0(f,b)||K0(y,b))&&(y[2]=1)),x!==h)v=0,x?(c.lineStart(),b=l(y,f),c.point(b[0],b[1])):(b=l(f,y),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var w;!(_&d)&&(w=l(y,f,!0))&&(v=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}x&&(!f||!K0(f,y))&&c.point(y[0],y[1]),f=y,h=x,d=_},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return v|(p&&h)<<1}}}function l(c,f,d){var h=jf(c),p=jf(f),v=[1,0,0],g=hm(h,p),m=b0(g,g),y=g[0],b=m-y*y;if(!b)return!d&&c;var x=n*m/b,_=-n*y/b,w=hm(v,g),k=x0(v,x),O=x0(g,_);Jb(k,O);var S=w,E=b0(k,S),T=b0(S,S),M=E*E-T*(b0(k,k)-1);if(!(M<0)){var P=Wi(M),A=x0(S,(-E-P)/T);if(Jb(A,k),A=s2(A),!d)return A;var N=c[0],R=f[0],C=c[1],L=f[1],I;R<N&&(I=N,N=R,R=I);var j=R-N,F=Ht(j-Pt)<pt,z=F||j<pt;if(!F&&L<C&&(I=C,C=L,L=I),z?F?C+L>0^A[1]<(Ht(A[0]-N)<pt?C:L):C<=A[1]&&A[1]<=L:j>Pt^(N<=A[0]&&A[0]<=R)){var D=x0(S,(-E+P)/T);return Jb(D,k),[A,s2(D)]}}}function u(c,f){var d=r?e:Pt-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Oj(o,s,a,r?[0,-e]:[-Pt,e-Pt])}function j_e(e,n,t,r,i,a){var o=e[0],s=e[1],l=n[0],u=n[1],c=0,f=1,d=l-o,h=u-s,p;if(p=t-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=a-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=o+c*d,e[1]=s+c*h),f<1&&(n[0]=o+f*d,n[1]=s+f*h),!0}}}}}var _0=1e9,k0=-1e9;function Sj(e,n,t,r){function i(u,c){return e<=u&&u<=t&&n<=c&&c<=r}function a(u,c,f,d){var h=0,p=0;if(u==null||(h=o(u,f))!==(p=o(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:t,h>1?r:n);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function o(u,c){return Ht(u[0]-e)<pt?c>0?0:3:Ht(u[0]-t)<pt?c>0?2:1:Ht(u[1]-n)<pt?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=_j(),d,h,p,v,g,m,y,b,x,_,w,k={point:O,lineStart:M,lineEnd:P,polygonStart:E,polygonEnd:T};function O(N,R){i(N,R)&&c.point(N,R)}function S(){for(var N=0,R=0,C=h.length;R<C;++R)for(var L=h[R],I=1,j=L.length,F=L[0],z,D,B=F[0],U=F[1];I<j;++I)z=B,D=U,F=L[I],B=F[0],U=F[1],D<=r?U>r&&(B-z)*(r-D)>(U-D)*(e-z)&&++N:U<=r&&(B-z)*(r-D)<(U-D)*(e-z)&&--N;return N}function E(){c=f,d=[],h=[],w=!0}function T(){var N=S(),R=w&&N,C=(d=oI(d)).length;(R||C)&&(u.polygonStart(),R&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),C&&kj(d,s,N,a,u),u.polygonEnd()),c=u,d=h=p=null}function M(){k.point=A,h&&h.push(p=[]),_=!0,x=!1,y=b=NaN}function P(){d&&(A(v,g),m&&x&&f.rejoin(),d.push(f.result())),k.point=O,x&&c.lineEnd()}function A(N,R){var C=i(N,R);if(h&&p.push([N,R]),_)v=N,g=R,m=C,_=!1,C&&(c.lineStart(),c.point(N,R));else if(C&&x)c.point(N,R);else{var L=[y=Math.max(k0,Math.min(_0,y)),b=Math.max(k0,Math.min(_0,b))],I=[N=Math.max(k0,Math.min(_0,N)),R=Math.max(k0,Math.min(_0,R))];j_e(L,I,e,n,t,r)?(x||(c.lineStart(),c.point(L[0],L[1])),c.point(I[0],I[1]),C||c.lineEnd(),w=!1):C&&(c.lineStart(),c.point(N,R),w=!1)}y=N,b=R,x=C}return k}}function jC(e,n,t){var r=Cc(e,n-pt,t).concat(n);return function(i){return r.map(function(a){return[i,a]})}}function zC(e,n,t){var r=Cc(e,n-pt,t).concat(n);return function(i){return r.map(function(a){return[a,i]})}}function z_e(){var e,n,t,r,i,a,o,s,l=10,u=l,c=90,f=360,d,h,p,v,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Cc(y0(r/c)*c,t,c).map(p).concat(Cc(y0(s/f)*f,o,f).map(v)).concat(Cc(y0(n/l)*l,e,l).filter(function(b){return Ht(b%c)>pt}).map(d)).concat(Cc(y0(a/u)*u,i,u).filter(function(b){return Ht(b%f)>pt}).map(h))}return m.lines=function(){return y().map(function(b){return{type:"LineString",coordinates:b}})},m.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(v(o).slice(1),p(t).reverse().slice(1),v(s).reverse().slice(1))]}},m.extent=function(b){return arguments.length?m.extentMajor(b).extentMinor(b):m.extentMinor()},m.extentMajor=function(b){return arguments.length?(r=+b[0][0],t=+b[1][0],s=+b[0][1],o=+b[1][1],r>t&&(b=r,r=t,t=b),s>o&&(b=s,s=o,o=b),m.precision(g)):[[r,s],[t,o]]},m.extentMinor=function(b){return arguments.length?(n=+b[0][0],e=+b[1][0],a=+b[0][1],i=+b[1][1],n>e&&(b=n,n=e,e=b),a>i&&(b=a,a=i,i=b),m.precision(g)):[[n,a],[e,i]]},m.step=function(b){return arguments.length?m.stepMajor(b).stepMinor(b):m.stepMinor()},m.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],m):[c,f]},m.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],m):[l,u]},m.precision=function(b){return arguments.length?(g=+b,d=jC(a,i,90),h=zC(n,e,g),p=jC(s,o,90),v=zC(r,t,g),m):g},m.extentMajor([[-180,-90+pt],[180,90-pt]]).extentMinor([[-180,-80-pt],[180,80+pt]])}function Y_e(){return z_e()()}const op=e=>e;var tx=new Nu,f2=new Nu,Ej,Tj,d2,h2,ks={point:Pa,lineStart:Pa,lineEnd:Pa,polygonStart:function(){ks.lineStart=G_e,ks.lineEnd=H_e},polygonEnd:function(){ks.lineStart=ks.lineEnd=ks.point=Pa,tx.add(Ht(f2)),f2=new Nu},result:function(){var e=tx/2;return tx=new Nu,e}};function G_e(){ks.point=W_e}function W_e(e,n){ks.point=Mj,Ej=d2=e,Tj=h2=n}function Mj(e,n){f2.add(h2*e-d2*n),d2=e,h2=n}function H_e(){Mj(Ej,Tj)}var zf=1/0,pm=zf,sp=-zf,vm=sp,gm={point:U_e,lineStart:Pa,lineEnd:Pa,polygonStart:Pa,polygonEnd:Pa,result:function(){var e=[[zf,pm],[sp,vm]];return sp=vm=-(pm=zf=1/0),e}};function U_e(e,n){e<zf&&(zf=e),e>sp&&(sp=e),n<pm&&(pm=n),n>vm&&(vm=n)}var p2=0,v2=0,Hd=0,mm=0,ym=0,Lc=0,g2=0,m2=0,Ud=0,Aj,Pj,Bo,jo,Ma={point:Gu,lineStart:YC,lineEnd:GC,polygonStart:function(){Ma.lineStart=q_e,Ma.lineEnd=K_e},polygonEnd:function(){Ma.point=Gu,Ma.lineStart=YC,Ma.lineEnd=GC},result:function(){var e=Ud?[g2/Ud,m2/Ud]:Lc?[mm/Lc,ym/Lc]:Hd?[p2/Hd,v2/Hd]:[NaN,NaN];return p2=v2=Hd=mm=ym=Lc=g2=m2=Ud=0,e}};function Gu(e,n){p2+=e,v2+=n,++Hd}function YC(){Ma.point=V_e}function V_e(e,n){Ma.point=X_e,Gu(Bo=e,jo=n)}function X_e(e,n){var t=e-Bo,r=n-jo,i=Wi(t*t+r*r);mm+=i*(Bo+e)/2,ym+=i*(jo+n)/2,Lc+=i,Gu(Bo=e,jo=n)}function GC(){Ma.point=Gu}function q_e(){Ma.point=Z_e}function K_e(){Cj(Aj,Pj)}function Z_e(e,n){Ma.point=Cj,Gu(Aj=Bo=e,Pj=jo=n)}function Cj(e,n){var t=e-Bo,r=n-jo,i=Wi(t*t+r*r);mm+=i*(Bo+e)/2,ym+=i*(jo+n)/2,Lc+=i,i=jo*e-Bo*n,g2+=i*(Bo+e),m2+=i*(jo+n),Ud+=i*3,Gu(Bo=e,jo=n)}function Rj(e){this._context=e}Rj.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,n){switch(this._point){case 0:{this._context.moveTo(e,n),this._point=1;break}case 1:{this._context.lineTo(e,n);break}default:{this._context.moveTo(e+this._radius,n),this._context.arc(e,n,this._radius,0,ua);break}}},result:Pa};var y2=new Nu,nx,Nj,Lj,Vd,Xd,lp={point:Pa,lineStart:function(){lp.point=Q_e},lineEnd:function(){nx&&$j(Nj,Lj),lp.point=Pa},polygonStart:function(){nx=!0},polygonEnd:function(){nx=null},result:function(){var e=+y2;return y2=new Nu,e}};function Q_e(e,n){lp.point=$j,Nj=Vd=e,Lj=Xd=n}function $j(e,n){Vd-=e,Xd-=n,y2.add(Wi(Vd*Vd+Xd*Xd)),Vd=e,Xd=n}let WC,bm,HC,UC;class VC{constructor(n){this._append=n==null?Ij:J_e(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:{this._append`M${n},${t}`,this._point=1;break}case 1:{this._append`L${n},${t}`;break}default:{if(this._append`M${n},${t}`,this._radius!==HC||this._append!==bm){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,HC=r,bm=this._append,UC=this._,this._=i}this._+=UC;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ij(e){let n=1;this._+=e[0];for(const t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function J_e(e){const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);if(n>15)return Ij;if(n!==WC){const t=10**n;WC=n,bm=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}return bm}function Dj(e,n){let t=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ac(s,i(a))),a.result()}return o.area=function(s){return Ac(s,i(ks)),ks.result()},o.measure=function(s){return Ac(s,i(lp)),lp.result()},o.bounds=function(s){return Ac(s,i(gm)),gm.result()},o.centroid=function(s){return Ac(s,i(Ma)),Ma.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,op):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(n=null,new VC(t)):new Rj(n=s),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);t=l}return n===null&&(a=new VC(t)),o},o.projection(e).digits(t).context(n)}function Ky(e){return function(n){var t=new b2;for(var r in e)t[r]=e[r];return t.stream=n,t}}function b2(){}b2.prototype={constructor:b2,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function YO(e,n,t){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ac(t,e.stream(gm)),n(gm.result()),r!=null&&e.clipExtent(r),e}function Zy(e,n,t){return YO(e,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},t)}function GO(e,n,t){return Zy(e,[[0,0],n],t)}function WO(e,n,t){return YO(e,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},t)}function HO(e,n,t){return YO(e,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},t)}var XC=16,eke=Et(30*Kn);function qC(e,n){return+n?nke(e,n):tke(e)}function tke(e){return Ky({point:function(n,t){n=e(n,t),this.stream.point(n[0],n[1])}})}function nke(e,n){function t(r,i,a,o,s,l,u,c,f,d,h,p,v,g){var m=u-r,y=c-i,b=m*m+y*y;if(b>4*n&&v--){var x=o+d,_=s+h,w=l+p,k=Wi(x*x+_*_+w*w),O=Da(w/=k),S=Ht(Ht(w)-1)<pt||Ht(a-f)<pt?(a+f)/2:Bs(_,x),E=e(S,O),T=E[0],M=E[1],P=T-r,A=M-i,N=y*P-m*A;(N*N/b>n||Ht((m*P+y*A)/b-.5)>.3||o*d+s*h+l*p<eke)&&(t(r,i,a,o,s,l,T,M,S,x/=k,_/=k,w,v,g),g.point(T,M),t(T,M,S,x,_,w,u,c,f,d,h,p,v,g))}}return function(r){var i,a,o,s,l,u,c,f,d,h,p,v,g={point:m,lineStart:y,lineEnd:x,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function m(O,S){O=e(O,S),r.point(O[0],O[1])}function y(){f=NaN,g.point=b,r.lineStart()}function b(O,S){var E=jf([O,S]),T=e(O,S);t(f,d,c,h,p,v,f=T[0],d=T[1],c=O,h=E[0],p=E[1],v=E[2],XC,r),r.point(f,d)}function x(){g.point=m,r.lineEnd()}function _(){y(),g.point=w,g.lineEnd=k}function w(O,S){b(i=O,S),a=f,o=d,s=h,l=p,u=v,g.point=b}function k(){t(f,d,c,h,p,v,a,o,i,s,l,u,XC,r),g.lineEnd=x,x()}return g}}var rke=Ky({point:function(e,n){this.stream.point(e*Kn,n*Kn)}});function ike(e){return Ky({point:function(n,t){var r=e(n,t);return this.stream.point(r[0],r[1])}})}function ake(e,n,t,r,i){function a(o,s){return o*=r,s*=i,[n+e*o,t-e*s]}return a.invert=function(o,s){return[(o-n)/e*r,(t-s)/e*i]},a}function KC(e,n,t,r,i,a){if(!a)return ake(e,n,t,r,i);var o=Et(a),s=wt(a),l=o*e,u=s*e,c=o/e,f=s/e,d=(s*t-o*n)/e,h=(s*n+o*t)/e;function p(v,g){return v*=r,g*=i,[l*v-u*g+n,t-u*v-l*g]}return p.invert=function(v,g){return[r*(c*v-f*g+d),i*(h-f*v-c*g)]},p}function us(e){return UO(function(){return e})()}function UO(e){var n,t=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,f=0,d=1,h=1,p=null,v=BC,g=null,m,y,b,x=op,_=.5,w,k,O,S,E;function T(N){return O(N[0]*Kn,N[1]*Kn)}function M(N){return N=O.invert(N[0],N[1]),N&&[N[0]*ri,N[1]*ri]}T.stream=function(N){return S&&E===N?S:S=rke(ike(c)(v(w(x(E=N)))))},T.preclip=function(N){return arguments.length?(v=N,p=void 0,A()):v},T.postclip=function(N){return arguments.length?(x=N,g=m=y=b=null,A()):x},T.clipAngle=function(N){return arguments.length?(v=+N?B_e(p=N*Kn):(p=null,BC),A()):p*ri},T.clipExtent=function(N){return arguments.length?(x=N==null?(g=m=y=b=null,op):Sj(g=+N[0][0],m=+N[0][1],y=+N[1][0],b=+N[1][1]),A()):g==null?null:[[g,m],[y,b]]},T.scale=function(N){return arguments.length?(t=+N,P()):t},T.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],P()):[r,i]},T.center=function(N){return arguments.length?(a=N[0]%360*Kn,o=N[1]%360*Kn,P()):[a*ri,o*ri]},T.rotate=function(N){return arguments.length?(s=N[0]%360*Kn,l=N[1]%360*Kn,u=N.length>2?N[2]%360*Kn:0,P()):[s*ri,l*ri,u*ri]},T.angle=function(N){return arguments.length?(f=N%360*Kn,P()):f*ri},T.reflectX=function(N){return arguments.length?(d=N?-1:1,P()):d<0},T.reflectY=function(N){return arguments.length?(h=N?-1:1,P()):h<0},T.precision=function(N){return arguments.length?(w=qC(k,_=N*N),A()):Wi(_)},T.fitExtent=function(N,R){return Zy(T,N,R)},T.fitSize=function(N,R){return GO(T,N,R)},T.fitWidth=function(N,R){return WO(T,N,R)},T.fitHeight=function(N,R){return HO(T,N,R)};function P(){var N=KC(t,0,0,d,h,f).apply(null,n(a,o)),R=KC(t,r-N[0],i-N[1],d,h,f);return c=wj(s,l,u),k=u2(n,R),O=u2(c,k),w=qC(k,_),A()}function A(){return S=E=null,T}return function(){return n=e.apply(this,arguments),T.invert=n.invert&&M,P()}}function VO(e){var n=0,t=Pt/3,r=UO(e),i=r(n,t);return i.parallels=function(a){return arguments.length?r(n=a[0]*Kn,t=a[1]*Kn):[n*ri,t*ri]},i}function oke(e){var n=Et(e);function t(r,i){return[r*n,wt(i)/n]}return t.invert=function(r,i){return[r/n,Da(i*n)]},t}function Fj(e,n){var t=wt(e),r=(t+wt(n))/2;if(Ht(r)<pt)return oke(e);var i=1+t*(2*r-t),a=Wi(i)/r;function o(s,l){var u=Wi(i-2*r*wt(l))/r;return[u*wt(s*=r),a-u*Et(s)]}return o.invert=function(s,l){var u=a-l,c=Bs(s,Ht(u))*Aa(u);return u*r<0&&(c-=Pt*Aa(s)*Aa(u)),[c/r,Da((i-(s*s+u*u)*r*r)/(2*r))]},o}function xm(){return VO(Fj).scale(155.424).center([0,33.6442])}function Bj(){return xm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ske(e){var n=e.length;return{point:function(t,r){for(var i=-1;++i<n;)e[i].point(t,r)},sphere:function(){for(var t=-1;++t<n;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<n;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<n;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<n;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<n;)e[t].polygonEnd()}}}function lke(){var e,n,t=Bj(),r,i=xm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=xm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(a.point(h,p),l)||(s.point(h,p),l)}c.invert=function(d){var h=t.scale(),p=t.translate(),v=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?i:g>=.166&&g<.234&&v>=-.214&&v<-.115?o:t).invert(d)},c.stream=function(d){return e&&n===d?e:e=ske([t.stream(n=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(t.precision(d),i.precision(d),o.precision(d),f()):t.precision()},c.scale=function(d){return arguments.length?(t.scale(d),i.scale(d*.35),o.scale(d),c.translate(t.translate())):t.scale()},c.translate=function(d){if(!arguments.length)return t.translate();var h=t.scale(),p=+d[0],v=+d[1];return r=t.translate(d).clipExtent([[p-.455*h,v-.238*h],[p+.455*h,v+.238*h]]).stream(u),a=i.translate([p-.307*h,v+.201*h]).clipExtent([[p-.425*h+pt,v+.12*h+pt],[p-.214*h-pt,v+.234*h-pt]]).stream(u),s=o.translate([p-.205*h,v+.212*h]).clipExtent([[p-.214*h+pt,v+.166*h+pt],[p-.115*h-pt,v+.234*h-pt]]).stream(u),f()},c.fitExtent=function(d,h){return Zy(c,d,h)},c.fitSize=function(d,h){return GO(c,d,h)},c.fitWidth=function(d,h){return WO(c,d,h)},c.fitHeight=function(d,h){return HO(c,d,h)};function f(){return e=n=null,c}return c.scale(1070)}function jj(e){return function(n,t){var r=Et(n),i=Et(t),a=e(r*i);return a===1/0?[2,0]:[a*i*wt(n),a*wt(t)]}}function Zp(e){return function(n,t){var r=Wi(n*n+t*t),i=e(r),a=wt(i),o=Et(i);return[Bs(n*a,r*o),Da(r&&t*a/r)]}}var XO=jj(function(e){return Wi(2/(1+e))});XO.invert=Zp(function(e){return 2*Da(e/2)});function uke(){return us(XO).scale(124.75).clipAngle(180-.001)}var qO=jj(function(e){return(e=xj(e))&&e/wt(e)});qO.invert=Zp(function(e){return e});function cke(){return us(qO).scale(79.4188).clipAngle(180-.001)}function Qp(e,n){return[e,fm(zO((rr+n)/2))]}Qp.invert=function(e,n){return[e,2*id(bj(n))-rr]};function fke(){return zj(Qp).scale(961/ua)}function zj(e){var n=us(e),t=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,s,l,u;n.scale=function(f){return arguments.length?(r(f),c()):r()},n.translate=function(f){return arguments.length?(i(f),c()):i()},n.center=function(f){return arguments.length?(t(f),c()):t()},n.clipExtent=function(f){return arguments.length?(f==null?o=s=l=u=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var f=Pt*r(),d=n(C_e(n.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Qp?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,u)]])}return c()}function O0(e){return zO((rr+e)/2)}function Yj(e,n){var t=Et(e),r=e===n?wt(e):fm(t/Et(n))/fm(O0(n)/O0(e)),i=t*Qb(O0(e),r)/r;if(!r)return Qp;function a(o,s){i>0?s<-rr+pt&&(s=-rr+pt):s>rr-pt&&(s=rr-pt);var l=i/Qb(O0(s),r);return[l*wt(r*o),i-l*Et(r*o)]}return a.invert=function(o,s){var l=i-s,u=Aa(r)*Wi(o*o+l*l),c=Bs(o,Ht(l))*Aa(l);return l*r<0&&(c-=Pt*Aa(o)*Aa(l)),[c/r,2*id(Qb(i/u,1/r))-rr]},a}function dke(){return VO(Yj).scale(109.5).parallels([30,30])}function up(e,n){return[e,n]}up.invert=up;function hke(){return us(up).scale(152.63)}function Gj(e,n){var t=Et(e),r=e===n?wt(e):(t-Et(n))/(n-e),i=t/r+e;if(Ht(r)<pt)return up;function a(o,s){var l=i-s,u=r*o;return[l*wt(u),i-l*Et(u)]}return a.invert=function(o,s){var l=i-s,u=Bs(o,Ht(l))*Aa(l);return l*r<0&&(u-=Pt*Aa(o)*Aa(l)),[u/r,i-Aa(r)*Wi(o*o+l*l)]},a}function pke(){return VO(Gj).scale(131.154).center([0,13.9389])}var dh=1.340264,hh=-.081106,ph=893e-6,vh=.003796,wm=Wi(3)/2,vke=12;function KO(e,n){var t=Da(wm*wt(n)),r=t*t,i=r*r*r;return[e*Et(t)/(wm*(dh+3*hh*r+i*(7*ph+9*vh*r))),t*(dh+hh*r+i*(ph+vh*r))]}KO.invert=function(e,n){for(var t=n,r=t*t,i=r*r*r,a=0,o,s,l;a<vke&&(s=t*(dh+hh*r+i*(ph+vh*r))-n,l=dh+3*hh*r+i*(7*ph+9*vh*r),t-=o=s/l,r=t*t,i=r*r*r,!(Ht(o)<P_e));++a);return[wm*e*(dh+3*hh*r+i*(7*ph+9*vh*r))/Et(t),Da(wt(t)/wm)]};function gke(){return us(KO).scale(177.158)}function ZO(e,n){var t=Et(n),r=Et(e)*t;return[t*wt(e)/r,wt(n)/r]}ZO.invert=Zp(id);function mke(){return us(ZO).scale(144.049).clipAngle(60)}function yke(){var e=1,n=0,t=0,r=1,i=1,a=0,o,s,l=null,u,c,f,d=1,h=1,p=Ky({point:function(x,_){var w=b([x,_]);this.stream.point(w[0],w[1])}}),v=op,g,m;function y(){return d=e*r,h=e*i,g=m=null,b}function b(x){var _=x[0]*d,w=x[1]*h;if(a){var k=w*o-_*s;_=_*o+w*s,w=k}return[_+n,w+t]}return b.invert=function(x){var _=x[0]-n,w=x[1]-t;if(a){var k=w*o+_*s;_=_*o-w*s,w=k}return[_/d,w/h]},b.stream=function(x){return g&&m===x?g:g=p(v(m=x))},b.postclip=function(x){return arguments.length?(v=x,l=u=c=f=null,y()):v},b.clipExtent=function(x){return arguments.length?(v=x==null?(l=u=c=f=null,op):Sj(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),y()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,y()):e},b.translate=function(x){return arguments.length?(n=+x[0],t=+x[1],y()):[n,t]},b.angle=function(x){return arguments.length?(a=x%360*Kn,s=wt(a),o=Et(a),y()):a*ri},b.reflectX=function(x){return arguments.length?(r=x?-1:1,y()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,y()):i<0},b.fitExtent=function(x,_){return Zy(b,x,_)},b.fitSize=function(x,_){return GO(b,x,_)},b.fitWidth=function(x,_){return WO(b,x,_)},b.fitHeight=function(x,_){return HO(b,x,_)},b}function QO(e,n){var t=n*n,r=t*t;return[e*(.8707-.131979*t+r*(-.013791+r*(.003971*t-.001529*r))),n*(1.007226+t*(.015085+r*(-.044475+.028874*t-.005916*r)))]}QO.invert=function(e,n){var t=n,r=25,i;do{var a=t*t,o=a*a;t-=i=(t*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-n)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Ht(i)>pt&&--r>0);return[e/(.8707+(a=t*t)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),t]};function bke(){return us(QO).scale(175.295)}function JO(e,n){return[Et(n)*wt(e),wt(n)]}JO.invert=Zp(Da);function xke(){return us(JO).scale(249.5).clipAngle(90+pt)}function eS(e,n){var t=Et(n),r=1+Et(e)*t;return[t*wt(e)/r,wt(n)/r]}eS.invert=Zp(function(e){return 2*id(e)});function wke(){return us(eS).scale(250).clipAngle(142)}function tS(e,n){return[fm(zO((rr+n)/2)),-e]}tS.invert=function(e,n){return[-n,2*id(bj(e))-rr]};function _ke(){var e=zj(tS),n=e.center,t=e.rotate;return e.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?t([r[0],r[1],r.length>2?r[2]+90:90]):(r=t(),[r[0],r[1],r[2]-90])},t([0,0,90]).scale(159.155)}const kke=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:Bj,geoAlbersUsa:lke,geoAzimuthalEqualArea:uke,geoAzimuthalEqualAreaRaw:XO,geoAzimuthalEquidistant:cke,geoAzimuthalEquidistantRaw:qO,geoConicConformal:dke,geoConicConformalRaw:Yj,geoConicEqualArea:xm,geoConicEqualAreaRaw:Fj,geoConicEquidistant:pke,geoConicEquidistantRaw:Gj,geoEqualEarth:gke,geoEqualEarthRaw:KO,geoEquirectangular:hke,geoEquirectangularRaw:up,geoGnomonic:mke,geoGnomonicRaw:ZO,geoIdentity:yke,geoMercator:fke,geoMercatorRaw:Qp,geoNaturalEarth1:bke,geoNaturalEarth1Raw:QO,geoOrthographic:xke,geoOrthographicRaw:JO,geoProjection:us,geoProjectionMutator:UO,geoStereographic:wke,geoStereographicRaw:eS,geoTransverseMercator:_ke,geoTransverseMercatorRaw:tS},Symbol.toStringTag,{value:"Module"}));var Oke=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Ske(e){if(typeof e=="function")return e;const n=`geo${Cl(e)}`,t=kke[n];if(!t)throw new Error(`Unknown coordinate: ${e}`);return t}function Eke(e){return{type:"FeatureCollection",features:e.flatMap(n=>Tke(n).features)}}function Tke(e){const n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const t=n[e.type];if(!t)return null;if(t==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(t==="feature")return{type:"FeatureCollection",features:[e]};if(t==="featureCollection")return e}function Mke(e,n){var t;for(const[r,i]of Object.entries(n))(t=e[r])===null||t===void 0||t.call(e,i)}function Ake(e,n,t,r){const i=()=>{const s=n.filter(Wj);return s.find(u=>u.sphere)?{type:"Sphere"}:Eke(s.filter(u=>!u.sphere).flatMap(u=>u.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return Pke(e,a,t);if(o==="fitWidth")return Cke(e,a,t)}function Pke(e,n,t){const{x:r,y:i,width:a,height:o}=t;e.fitExtent([[r,i],[a,o]],n)}function Cke(e,n,t){const{width:r,height:i}=t,[[a,o],[s,l]]=Dj(e.fitWidth(r,n)).bounds(n),u=Math.ceil(l-o),c=Math.min(Math.ceil(s-a),u),f=e.scale()*(c-1)/c,[d,h]=e.translate(),p=h+(i-u)/2;e.scale(f).translate([d,p]).precision(.2)}function Rke(e){const{data:n}=e;if(Array.isArray(n))return Object.assign(Object.assign({},e),{data:{value:n}});const{type:t}=n;return t==="graticule10"?Object.assign(Object.assign({},e),{data:{value:[Y_e()]}}):t==="sphere"?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function Wj(e){return e.type==="geoPath"}const Hj=()=>e=>{const{children:n,coordinate:t={}}=e;if(!Array.isArray(n))return[];const{type:r="equalEarth"}=t,i=Oke(t,["type"]),a=Ske(r),o=n.map(Rke);let s;function l(){return[["custom",(f,d,h,p)=>{const v=a();Ake(v,o,{x:f,y:d,width:h,height:p},i),Mke(v,i),s=Dj(v);const m=new wn({domain:[f,f+h]}),y=new wn({domain:[d,d+p]}),b=_=>{const w=v(_);if(!w)return[null,null];const[k,O]=w;return[m.map(k),y.map(O)]},x=_=>{if(!_)return null;const[w,k]=_,O=[m.invert(w),y.invert(k)];return v.invert(O)};return{transform:_=>b(_),untransform:_=>x(_)}}]]}function u(f){const{style:d,tooltip:h={}}=f;return Object.assign(Object.assign({},f),{type:"path",tooltip:em(h,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},d),{d:p=>s(p)||[]})})}const c=f=>Wj(f)?u(f):f;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:o.flatMap(c)})]};Hj.props={};function Nke(e){return tv(e,n=>n.className==="component")}function Lke(e){return tv(e,n=>n.className==="element")}function $ke(e){return tv(e,n=>n.className==="label")}function Nr(e,n,t,r=i=>!0){return i=>{if(!r(i))return;t.emit(`plot:${e}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=Lke(a),l=Nke(a),u=$ke(a),c=s||l||u;if(!c)return;const{className:f,markType:d}=c,h=Object.assign(Object.assign({},i),{nativeEvent:!0});f==="element"?(h.data={data:J_(c,n)},t.emit(`element:${e}`,h),t.emit(`${d}:${e}`,h)):f==="label"?(h.data={data:c.attributes.datum},t.emit(`label:${e}`,h),t.emit(`${o}:${e}`,h)):(t.emit(`component:${e}`,h),t.emit(`${o}:${e}`,h))}}function Uj(){return(e,n,t)=>{const{container:r,view:i}=e,a=Nr(Zt.CLICK,i,t,k=>k.detail===1),o=Nr(Zt.DBLCLICK,i,t,k=>k.detail===2),s=Nr(Zt.POINTER_TAP,i,t),l=Nr(Zt.POINTER_DOWN,i,t),u=Nr(Zt.POINTER_UP,i,t),c=Nr(Zt.POINTER_OVER,i,t),f=Nr(Zt.POINTER_OUT,i,t),d=Nr(Zt.POINTER_MOVE,i,t),h=Nr(Zt.POINTER_ENTER,i,t),p=Nr(Zt.POINTER_LEAVE,i,t),v=Nr(Zt.POINTER_UPOUTSIDE,i,t),g=Nr(Zt.DRAG_START,i,t),m=Nr(Zt.DRAG,i,t),y=Nr(Zt.DRAG_END,i,t),b=Nr(Zt.DRAG_ENTER,i,t),x=Nr(Zt.DRAG_LEAVE,i,t),_=Nr(Zt.DRAG_OVER,i,t),w=Nr(Zt.DROP,i,t);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",u),r.addEventListener("pointerover",c),r.addEventListener("pointerout",f),r.addEventListener("pointermove",d),r.addEventListener("pointerenter",h),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",m),r.addEventListener("dragend",y),r.addEventListener("dragenter",b),r.addEventListener("dragleave",x),r.addEventListener("dragover",_),r.addEventListener("drop",w),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",u),r.removeEventListener("pointerover",c),r.removeEventListener("pointerout",f),r.removeEventListener("pointermove",d),r.removeEventListener("pointerenter",h),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",m),r.removeEventListener("dragend",y),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",x),r.removeEventListener("dragover",_),r.removeEventListener("drop",w)}}}Uj.props={reapplyWhenUpdate:!0};function Ike(){return{"component.axisRadar":_8,"component.axisLinear":Fl,"component.axisArc":b8,"component.legendContinuousBlock":O8,"component.legendContinuousBlockSize":S8,"component.legendContinuousSize":MO,"interaction.event":Uj,"composition.mark":hj,"composition.view":dj,"shape.label.label":$F}}var Dke=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Mn(e,n){const t=Object.assign(Object.assign({},Ike()),n),r=a=>{if(typeof a!="string")return a;const o=`${e}.${a}`;return t[o]||Of(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,l=Dke(a,["type"]);s||Of("Plot type is required!");const u=r(s);return u==null?void 0:u(l,o)},r]}function Vj(e){const{canvas:n,group:t}=e;return(n==null?void 0:n.document)||(t==null?void 0:t.ownerDocument)||Of("Cannot find library document")}var ZC=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Fke(e,n,t){const[r]=Mn("coordinate",t),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:l,insetBottom:u}=e,{coordinates:c=[]}=n,f=Gke(c),d=f[0].type==="cartesian3D",h=Object.assign(Object.assign({},e),{x:o,y:s,width:a-o-l,height:i-u-s,transformations:f.flatMap(r)});return d?new i_e(h):new n_e(h)}function Xj(e,n){const{coordinate:t={},coordinates:r}=e,i=ZC(e,["coordinate","coordinates"]);if(r)return e;const{type:a,transform:o=[]}=t,s=ZC(t,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,l]=Mn("coordinate",n),{transform:u=!1}=l(a).props||{};if(u)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function po(e,n){return e.filter(t=>t.type===n)}function hu(e){return po(e,"polar").length>0}function Bke(e){return po(e,"helix").length>0}function Jc(e){return po(e,"transpose").length%2===1}function jke(e){return po(e,"parallel").length>0}function qj(e){return po(e,"theta").length>0}function zke(e){return po(e,"reflect").length>0}function gh(e){return po(e,"radial").length>0}function Kj(e){return po(e,"radar").length>0}function Yke(e){return po(e,"reflectY").length>0}function Gke(e){return e.find(n=>n.type==="cartesian"||n.type==="cartesian3D")?e:[...e,{type:"cartesian"}]}function kt(e){for(var n=e.length/6|0,t=new Array(n),r=0;r<n;)t[r]="#"+e.slice(r*6,++r*6);return t}const Wke=kt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Hke=kt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Uke=kt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Vke=kt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Xke=kt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qke=kt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Kke=kt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Zke=kt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Qke=kt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Jke=kt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),eOe=kt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Qy(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function nS(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function ad(){}var Wu=.7,Yf=1/Wu,ef="\\s*([+-]?\\d+)\\s*",cp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tOe=/^#([0-9a-f]{3,8})$/,nOe=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),rOe=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),iOe=new RegExp(`^rgba\\(${ef},${ef},${ef},${cp}\\)$`),aOe=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${cp}\\)$`),oOe=new RegExp(`^hsl\\(${cp},${Jo},${Jo}\\)$`),sOe=new RegExp(`^hsla\\(${cp},${Jo},${Jo},${cp}\\)$`),QC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qy(ad,rS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JC,formatHex:JC,formatHex8:lOe,formatHsl:uOe,formatRgb:eR,toString:eR});function JC(){return this.rgb().formatHex()}function lOe(){return this.rgb().formatHex8()}function uOe(){return Qj(this).formatHsl()}function eR(){return this.rgb().formatRgb()}function rS(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=tOe.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?tR(n):t===3?new ci(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?S0(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?S0(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=nOe.exec(e))?new ci(n[1],n[2],n[3],1):(n=rOe.exec(e))?new ci(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=iOe.exec(e))?S0(n[1],n[2],n[3],n[4]):(n=aOe.exec(e))?S0(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=oOe.exec(e))?iR(n[1],n[2]/100,n[3]/100,1):(n=sOe.exec(e))?iR(n[1],n[2]/100,n[3]/100,n[4]):QC.hasOwnProperty(e)?tR(QC[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function tR(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function S0(e,n,t,r){return r<=0&&(e=n=t=NaN),new ci(e,n,t,r)}function Zj(e){return e instanceof ad||(e=rS(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function fp(e,n,t,r){return arguments.length===1?Zj(e):new ci(e,n,t,r??1)}function ci(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}Qy(ci,fp,nS(ad,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wu:Math.pow(Wu,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(Ou(this.r),Ou(this.g),Ou(this.b),_m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nR,formatHex:nR,formatHex8:cOe,formatRgb:rR,toString:rR}));function nR(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}`}function cOe(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}${pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function rR(){const e=_m(this.opacity);return`${e===1?"rgb(":"rgba("}${Ou(this.r)}, ${Ou(this.g)}, ${Ou(this.b)}${e===1?")":`, ${e})`}`}function _m(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ou(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pu(e){return e=Ou(e),(e<16?"0":"")+e.toString(16)}function iR(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new eo(e,n,t,r)}function Qj(e){if(e instanceof eo)return new eo(e.h,e.s,e.l,e.opacity);if(e instanceof ad||(e=rS(e)),!e)return new eo;if(e instanceof eo)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-n)/s+2:o=(n-t)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new eo(o,s,l,e.opacity)}function fOe(e,n,t,r){return arguments.length===1?Qj(e):new eo(e,n,t,r??1)}function eo(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}Qy(eo,fOe,nS(ad,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new eo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wu:Math.pow(Wu,e),new eo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new ci(rx(e>=240?e-240:e+120,i,r),rx(e,i,r),rx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new eo(aR(this.h),E0(this.s),E0(this.l),_m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_m(this.opacity);return`${e===1?"hsl(":"hsla("}${aR(this.h)}, ${E0(this.s)*100}%, ${E0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aR(e){return e=(e||0)%360,e<0?e+360:e}function E0(e){return Math.max(0,Math.min(1,e||0))}function rx(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const dOe=Math.PI/180,hOe=180/Math.PI;var Jj=-.14861,iS=1.78277,aS=-.29227,Jy=-.90649,dp=1.97294,oR=dp*Jy,sR=dp*iS,lR=iS*aS-Jy*Jj;function pOe(e){if(e instanceof Su)return new Su(e.h,e.s,e.l,e.opacity);e instanceof ci||(e=Zj(e));var n=e.r/255,t=e.g/255,r=e.b/255,i=(lR*r+oR*n-sR*t)/(lR+oR-sR),a=r-i,o=(dp*(t-i)-aS*a)/Jy,s=Math.sqrt(o*o+a*a)/(dp*i*(1-i)),l=s?Math.atan2(o,a)*hOe-120:NaN;return new Su(l<0?l+360:l,s,i,e.opacity)}function ss(e,n,t,r){return arguments.length===1?pOe(e):new Su(e,n,t,r??1)}function Su(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}Qy(Su,ss,nS(ad,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new Su(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wu:Math.pow(Wu,e),new Su(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*dOe,n=+this.l,t=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(e),i=Math.sin(e);return new ci(255*(n+t*(Jj*r+iS*i)),255*(n+t*(aS*r+Jy*i)),255*(n+t*(dp*r)),this.opacity)}}));function vOe(e,n,t,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*n+(4-6*a+3*o)*t+(1+3*e+3*a-3*o)*r+o*i)/6}function gOe(e){var n=e.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<n-1?e[r+2]:2*a-i;return vOe((t-r/n)*n,o,i,a,s)}}const oS=e=>()=>e;function e9(e,n){return function(t){return e+t*n}}function mOe(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}function yOe(e,n){var t=n-e;return t?e9(e,t>180||t<-180?t-360*Math.round(t/360):t):oS(isNaN(e)?n:e)}function bOe(e){return(e=+e)==1?tf:function(n,t){return t-n?mOe(n,t,e):oS(isNaN(n)?t:n)}}function tf(e,n){var t=n-e;return t?e9(e,t):oS(isNaN(e)?n:e)}(function e(n){var t=bOe(n);function r(i,a){var o=t((i=fp(i)).r,(a=fp(a)).r),s=t(i.g,a.g),l=t(i.b,a.b),u=tf(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function xOe(e){return function(n){var t=n.length,r=new Array(t),i=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=fp(n[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var wOe=xOe(gOe);function t9(e){return function n(t){t=+t;function r(i,a){var o=e((i=ss(i)).h,(a=ss(a)).h),s=tf(i.s,a.s),l=tf(i.l,a.l),u=tf(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=l(Math.pow(c,t)),i.opacity=u(c),i+""}}return r.gamma=n,r}(1)}t9(yOe);var sS=t9(tf);const kn=e=>wOe(e[e.length-1]);var n9=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(kt);const _Oe=kn(n9);var r9=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(kt);const kOe=kn(r9);var i9=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(kt);const OOe=kn(i9);var a9=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(kt);const SOe=kn(a9);var o9=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(kt);const EOe=kn(o9);var s9=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(kt);const TOe=kn(s9);var l9=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(kt);const MOe=kn(l9);var u9=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(kt);const AOe=kn(u9);var c9=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(kt);const POe=kn(c9);var f9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(kt);const COe=kn(f9);var d9=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(kt);const ROe=kn(d9);var h9=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(kt);const NOe=kn(h9);var p9=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(kt);const LOe=kn(p9);var v9=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(kt);const $Oe=kn(v9);var g9=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(kt);const IOe=kn(g9);var m9=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(kt);const DOe=kn(m9);var y9=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(kt);const FOe=kn(y9);var b9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(kt);const BOe=kn(b9);var x9=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(kt);const jOe=kn(x9);var w9=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(kt);const zOe=kn(w9);var _9=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(kt);const YOe=kn(_9);var k9=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(kt);const GOe=kn(k9);var O9=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(kt);const WOe=kn(O9);var S9=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(kt);const HOe=kn(S9);var E9=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(kt);const UOe=kn(E9);var T9=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(kt);const VOe=kn(T9);var M9=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(kt);const XOe=kn(M9);function qOe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const KOe=sS(ss(300,.5,0),ss(-240,.5,1));var ZOe=sS(ss(-100,.75,.35),ss(80,1.5,.8)),QOe=sS(ss(260,.75,.35),ss(80,1.5,.8)),T0=ss();function JOe(e){(e<0||e>1)&&(e-=Math.floor(e));var n=Math.abs(e-.5);return T0.h=360*e-100,T0.s=1.5-1.5*n,T0.l=.8-.9*n,T0+""}var M0=fp(),eSe=Math.PI/3,tSe=Math.PI*2/3;function nSe(e){var n;return e=(.5-e)*Math.PI,M0.r=255*(n=Math.sin(e))*n,M0.g=255*(n=Math.sin(e+eSe))*n,M0.b=255*(n=Math.sin(e+tSe))*n,M0+""}function rSe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function e1(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}const iSe=e1(kt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var aSe=e1(kt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),oSe=e1(kt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sSe=e1(kt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const x2=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:GOe,interpolateBrBG:_Oe,interpolateBuGn:COe,interpolateBuPu:ROe,interpolateCividis:qOe,interpolateCool:QOe,interpolateCubehelixDefault:KOe,interpolateGnBu:NOe,interpolateGreens:WOe,interpolateGreys:HOe,interpolateInferno:oSe,interpolateMagma:aSe,interpolateOrRd:LOe,interpolateOranges:XOe,interpolatePRGn:kOe,interpolatePiYG:OOe,interpolatePlasma:sSe,interpolatePuBu:IOe,interpolatePuBuGn:$Oe,interpolatePuOr:SOe,interpolatePuRd:DOe,interpolatePurples:UOe,interpolateRainbow:JOe,interpolateRdBu:EOe,interpolateRdGy:TOe,interpolateRdPu:FOe,interpolateRdYlBu:MOe,interpolateRdYlGn:AOe,interpolateReds:VOe,interpolateSinebow:nSe,interpolateSpectral:POe,interpolateTurbo:rSe,interpolateViridis:iSe,interpolateWarm:ZOe,interpolateYlGn:jOe,interpolateYlGnBu:BOe,interpolateYlOrBr:zOe,interpolateYlOrRd:YOe,schemeAccent:Hke,schemeBlues:k9,schemeBrBG:n9,schemeBuGn:f9,schemeBuPu:d9,schemeCategory10:Wke,schemeDark2:Uke,schemeGnBu:h9,schemeGreens:O9,schemeGreys:S9,schemeObservable10:Vke,schemeOrRd:p9,schemeOranges:M9,schemePRGn:r9,schemePaired:Xke,schemePastel1:qke,schemePastel2:Kke,schemePiYG:i9,schemePuBu:g9,schemePuBuGn:v9,schemePuOr:a9,schemePuRd:m9,schemePurples:E9,schemeRdBu:o9,schemeRdGy:s9,schemeRdPu:y9,schemeRdYlBu:l9,schemeRdYlGn:u9,schemeReds:T9,schemeSet1:Zke,schemeSet2:Qke,schemeSet3:Jke,schemeSpectral:c9,schemeTableau10:eOe,schemeYlGn:x9,schemeYlGnBu:b9,schemeYlOrBr:w9,schemeYlOrRd:_9},Symbol.toStringTag,{value:"Module"}));function lSe(e,n,t,r,i,a){const{guide:o={}}=t,s=ySe(e,n,t);if(typeof s!="string")return t;const l=bSe(s,e,n,t),u=vSe(s,l,t);return Object.assign(Object.assign(Object.assign({},t),wSe(s,e,n,t,r)),{domain:u,range:xSe(s,e,n,t,u,i,a),expectedDomain:l,guide:o,name:e,type:s})}function uSe(e,n){const t={};for(const r of e){const{values:i,name:a}=r,o=n[a];for(const s of i){const{name:l,value:u}=s;t[l]=u.map(c=>o.map(c))}}return t}function cSe(e,n){const t=Array.from(e.values()).flatMap(i=>i.channels);W_(t,i=>i.map(a=>n.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function fSe(e,n){var t;const{components:r=[]}=n,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(e.flatMap(s=>s.channels.map(l=>l.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const l=pSe(s);for(const u of l){const c=o.get(u),f=((t=s.scale)===null||t===void 0?void 0:t[u])||{},{independent:d=!1}=f;if(c&&!d){const{guide:h}=c,p=typeof h=="boolean"?{}:h;c.guide=ye({},p,s),Object.assign(c,f)}else{const h=Object.assign(Object.assign({},f),{expectedDomain:f.domain,name:u,guide:T_(s,i)});a.push(h)}}}return a}function dSe(e){if(!e||!Array.isArray(e))return[Iu,Iu];let n,t;return[a=>{var o;n=a.map.bind(a),t=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=e.filter(([d])=>typeof d=="function"),l=e.filter(([d])=>typeof d!="function"),u=new Map(l);if(a.map=d=>{for(const[h,p]of s)if(h(d))return p;return u.has(d)?u.get(d):n(d)},!t)return a;const c=new Map(l.map(([d,h])=>[h,d])),f=new Map(s.map(([d,h])=>[h,d]));return a.invert=d=>f.has(d)?d:c.has(d)?c.get(d):t(d),a},a=>(n!==null&&(a.map=n),t!==null&&(a.invert=t),a)]}function uR(e,n){const t=Object.keys(e);for(const r of Object.values(n)){const{name:i}=r.getOptions();if(!(i in e))e[i]=r;else{const a=t.filter(l=>l.startsWith(i)).map(l=>+(l.replace(i,"")||0)),o=Xt(a)+1,s=`${i}${o}`;e[s]=r,r.getOptions().key=s}}return e}function cR(e,n){const[t]=Mn("scale",n),{relations:r}=e,[i]=dSe(r),a=t(e);return i(a)}function hSe(e){const n=e.flatMap(t=>Array.from(t.values())).flatMap(t=>t.channels.map(r=>r.scale));fR(n,"x"),fR(n,"y")}function pSe(e){const{channels:n=[],type:t,scale:r={}}=e,i=["shape","color","opacity","size"];return n.length!==0?n:t==="axisX"?["x"]:t==="axisY"?["y"]:t==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function fR(e,n){const t=e.filter(({name:a,facet:o=!0})=>o&&a===n),r=t.flatMap(a=>a.domain),i=t.every(A9)?As(r):t.every(P9)?Array.from(new Set(r)):null;if(i!==null)for(const a of t)a.domain=i}function vSe(e,n,t){const{ratio:r}=t;return r==null?n:A9({type:e})?gSe(n,r,e):P9({type:e})?mSe(n,r):n}function gSe(e,n,t){const r=e.map(Number),i=new wn({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*n]});return t==="time"?e.map(a=>new Date(i.map(a))):e.map(a=>i.map(a))}function mSe(e,n){const t=Math.round(e.length*n);return e.slice(0,t)}function A9(e){const{type:n}=e;return typeof n!="string"?!1:["linear","log","pow","time"].includes(n)}function P9(e){const{type:n}=e;return typeof n!="string"?!1:["band","point","ordinal"].includes(n)}function ySe(e,n,t){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=t;return r!==void 0?r:NSe(n)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?ix(e,s):i!==void 0?vR([i])?ix(e,s):gR(n)?"time":hR(e,a,o):vR(n)?ix(e,s):gR(n)?"time":hR(e,a,o)}function bSe(e,n,t,r){const{domain:i}=r;if(i!==void 0)return i;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return pR(MSe(t,r),r);case"band":case"ordinal":case"point":return ASe(t);case"quantile":return PSe(t);case"sequential":return pR(CSe(t),r);default:return[]}}function xSe(e,n,t,r,i,a,o){const{range:s}=r;if(typeof s=="string")return _Se(s);if(s!==void 0)return s;const{rangeMin:l,rangeMax:u}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const c=dR(t,r,i,a,o),[f,d]=RSe(n,c);return[l??f,u??d]}case"band":case"point":return[l??(n==="size"?5:0),u??(n==="size"?10:1)];case"ordinal":return dR(t,r,i,a,o);case"sequential":return;case"constant":return[t[0][0]];default:return[]}}function wSe(e,n,t,r,i){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return SSe(i,r);case"band":case"point":return ESe(e,n,i,r);case"sequential":return OSe(r);default:return r}}function dR(e,n,t,r,i){const[a]=Mn("palette",i),{category10:o,category20:s}=r,l=iie(t).length<=o.length?o:s,{palette:u=l,offset:c}=n;if(Array.isArray(u))return u;try{return a({type:u})}catch{const d=kSe(u,t,c);if(d)return d;throw new Error(`Unknown Component: ${u} `)}}function _Se(e){return e.split("-")}function kSe(e,n,t=r=>r){if(!e)return null;const r=Cl(e),i=x2[`scheme${r}`],a=x2[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[n.length];if(o)return o}return n.map((o,s)=>a(t(s/n.length)))}function OSe(e){const{palette:n="ylGnBu",offset:t}=e,r=Cl(n),i=x2[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:t?a=>i(t(a)):i}}function SSe(e,n){const{interpolate:t=Np,nice:r=!1,tickCount:i=5}=n;return Object.assign(Object.assign({},n),{interpolate:t,nice:r,tickCount:i})}function ESe(e,n,t,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=TSe(e,n,t),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function TSe(e,n,t){return n==="enterDelay"||n==="enterDuration"||n==="size"?0:e==="band"?qj(t)?0:.1:e==="point"?.5:0}function ix(e,n){return n||(LSe(e)?"point":"ordinal")}function hR(e,n,t){return t||(e!=="color"||n?"linear":"sequential")}function pR(e,n){if(e.length===0)return e;const{domainMin:t,domainMax:r}=n,[i,a]=e;return[t??i,r??a]}function MSe(e,n){const{zero:t=!1}=n;let r=1/0,i=-1/0;for(const a of e)for(const o of a)bn(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:t?[Math.min(0,r),i]:[r,i]}function ASe(e){return Array.from(new Set(e.flat()))}function PSe(e){return e.flat().sort()}function CSe(e){let n=1/0,t=-1/0;for(const r of e)for(const i of r)bn(i)&&(n=Math.min(n,+i),t=Math.max(t,+i));return n===1/0?[]:[n<0?-t:n,t]}function RSe(e,n){return e==="enterDelay"?[0,1e3]:e=="enterDuration"?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:e==="color"?[rie(n),jI(n)]:e==="opacity"?[0,1]:e==="size"?[1,10]:[0,1]}function vR(e){return lS(e,n=>{const t=typeof n;return t==="string"||t==="boolean"})}function gR(e){return lS(e,n=>n instanceof Date)}function NSe(e){return lS(e,Sf)}function lS(e,n){for(const t of e)if(t.some(n))return!0;return!1}function LSe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}function $Se(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e==="enterDelay"||e==="enterDuration"||e==="updateDelay"||e==="updateDuration"||e==="exitDelay"||e==="exitDuration"}function ISe(e){if(!e||!e.type)return!1;if(typeof e.type=="function")return!0;const{type:n,domain:t,range:r,interpolator:i}=e,a=t&&t.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(n)&&a&&o||["sequential"].includes(n)&&a&&(o||i)||["constant","identity"].includes(n)&&o)}const DSe={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},FSe={threshold:"threshold",quantize:"quantize",quantile:"quantile"},BSe={ordinal:"ordinal",band:"band",point:"point"},jSe={constant:"constant"};var jl=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function zSe(e,n,t){const{coordinates:r=[],title:i}=n,[,a]=Mn("component",t),o=e.filter(({guide:c})=>c!==null),s=[],l=ZSe(n,e,t);if(s.push(...l),i){const{props:c}=a("title"),{defaultPosition:f,defaultOrientation:d,defaultOrder:h,defaultSize:p,defaultCrossPadding:v}=c,g=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:f,orientation:d,order:h,crossPadding:v[0],defaultSize:p},g))}return USe(o,r).forEach(([c,f])=>{const{props:d}=a(c),{defaultPosition:h,defaultPlane:p="xy",defaultOrientation:v,defaultSize:g,defaultOrder:m,defaultLength:y,defaultPadding:b=[0,0],defaultCrossPadding:x=[0,0]}=d,_=ye({},...f),{guide:w,field:k}=_,O=Array.isArray(w)?w:[w];for(const S of O){const[E,T]=qSe(c,h,v,S,f,o,r);if(!E&&!T)continue;const M=E==="left"||E==="right",P=M?b[1]:b[0],A=M?x[1]:x[0],{size:N,order:R=m,length:C=y,padding:L=P,crossPadding:I=A}=S;s.push(Object.assign(Object.assign({title:k},S),{defaultSize:g,length:C,position:E,plane:p,orientation:T,padding:L,order:R,crossPadding:I,size:N,type:c,scales:f}))}}),s}function mR(e,n,t,r,i){const[a]=Mn("component",r),{scaleInstances:o,scale:s,bbox:l}=e,u=jl(e,["scaleInstances","scale","bbox"]),c={bbox:l,library:r};return a(u)({coordinate:n,library:r,markState:i,scales:o,theme:t,value:c,scale:s})}function YSe(e){return e.map(n=>{const t=ye(n,n.style);return delete t.style,t})}function C9(e,n){const t=["left","right","bottom","top"];return Y_(e,({type:a,position:o,group:s})=>t.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(n!==void 0){const c=a.filter(v=>v.length!==void 0).map(v=>v.length),f=Na(c);if(f>n)return a.forEach(v=>v.group=Symbol("independent")),a;const d=n-f,h=a.length-c.length,p=d/h;a.forEach(v=>{v.length===void 0&&(v.length=p)})}const o=Xt(a,c=>c.size),s=Xt(a,c=>c.order),l=Xt(a,c=>c.crossPadding),u=a[0].position;return{type:"group",size:o,order:s,position:u,children:a,crossPadding:l}})}function GSe(e,n){const t=["shape","size","color","opacity"],r=(d,h)=>d==="constant"&&h==="size",i=e.filter(({type:d,name:h})=>typeof d=="string"&&t.includes(h)&&!r(d,h)),a=i.filter(({type:d})=>d==="constant"),o=i.filter(({type:d})=>d!=="constant"),l=Y_(o,d=>d.field?d.field:Symbol("independent")).map(([d,h])=>[d,[...h,...a]]).filter(([,d])=>d.some(h=>h.type!=="constant")),u=new Map(l);if(u.size===0)return[];const c=d=>d.sort(([h],[p])=>h.localeCompare(p));return Array.from(u).map(([,d])=>{const p=aie(d).sort((v,g)=>g.length-v.length).map(v=>({combination:v,option:v.map(g=>[g.name,WSe(g)])}));for(const{option:v,combination:g}of p)if(!v.every(m=>m[1]==="constant")&&v.every(m=>m[1]==="discrete"||m[1]==="constant"))return["legendCategory",g];for(const[v,g]of p2e)for(const{option:m,combination:y}of p)if(g.some(b=>gg(c(b),c(m))))return[v,y];return null}).filter(bn)}function WSe(e){const{type:n}=e;return typeof n!="string"?null:n in DSe?"continuous":n in BSe?"discrete":n in FSe?"distribution":n in jSe?"constant":null}function HSe(e,n){return e.map(t=>{const{name:r}=t;if(Bke(n)||qj(n)||Jc(n)&&(hu(n)||gh(n)))return null;if(r.startsWith("x"))return hu(n)?["axisArc",[t]]:gh(n)?["axisLinear",[t]]:[Jc(n)?"axisY":"axisX",[t]];if(r.startsWith("y"))return hu(n)?["axisLinear",[t]]:gh(n)?["axisArc",[t]]:[Jc(n)?"axisX":"axisY",[t]];if(r.startsWith("z"))return["axisZ",[t]];if(r.startsWith("position")){if(Kj(n))return["axisRadar",[t]];if(!hu(n))return["axisY",[t]]}return null}).filter(bn)}function USe(e,n){const t=e.filter(r=>ISe(r));return[...GSe(t),...HSe(t,n)]}function w2(e){const n=po(e,"polar");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=c$(r);return[i,a]}const t=po(e,"radial");if(t.length){const r=t[t.length-1],{startAngle:i,endAngle:a}=h$(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function VSe(e){const n=/position(\d*)/g.exec(e);return n?+n[1]:null}function XSe(e,n,t,r,i){const{name:a}=t[0];if(e==="axisRadar"){const o=r.filter(d=>d.name.startsWith("position")),s=VSe(a);if(s===null)return[null,null];const[l,u]=w2(i),c=Kj(i)?o.length:o.length-1;return["center",(u-l)/c*s+l]}if(e==="axisY"&&jke(i))return Jc(i)?["center","horizontal"]:["center","vertical"];if(e==="axisLinear"){const[o]=w2(i);return["center",o]}return e==="axisArc"?n[0]==="inner"?["inner",null]:["outer",null]:hu(i)?["center",null]:gh(i)?["center",null]:e==="axisX"&&zke(i)||e==="axisX"&&Yke(i)?["top",null]:n}function qSe(e,n,t,r,i,a,o){const[s]=w2(o),l=[r.position||n,s??t];return typeof e=="string"&&e.startsWith("axis")?XSe(e,l,i,a,o):typeof e=="string"&&e.startsWith("legend")&&hu(o)&&r.position==="center"?["center","vertical"]:l}function KSe(e,n,t=[]){return e==="x"?Jc(t)?`${n}Y`:`${n}X`:e==="y"?Jc(t)?`${n}X`:`${n}Y`:null}function ZSe(e,n,t){const[,r]=Mn("component",t),{coordinates:i}=e;function a(o,s,l,u){const c=KSe(s,o,i);if(!u||!c)return;const{props:f}=r(c),{defaultPosition:d,defaultSize:h,defaultOrder:p,defaultCrossPadding:[v]}=f;return Object.assign(Object.assign({position:d,defaultSize:h,order:p,type:c,crossPadding:v},u),{scales:[l]})}return n.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:l,name:u}=o;return[a("slider",u,o,s),a("scrollbar",u,o,l)]}).filter(o=>!!o)}function R9(e,n,t,r,i,a){const{type:o}=e;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const l=o;return(l.startsWith("axis")?nEe:l.startsWith("group")?QSe:l.startsWith("legendContinuous")?rEe:l==="legendCategory"?iEe:l.startsWith("slider")?tEe:l==="title"?eEe:l.startsWith("scrollbar")?JSe:()=>{})(e,n,t,r,i,a)}function QSe(e,n,t,r,i,a){const{children:o}=e,s=Xt(o,u=>u.crossPadding);o.forEach(u=>u.crossPadding=s),o.forEach(u=>R9(u,n,t,r,i,a));const l=Xt(o,u=>u.size);e.size=l,o.forEach(u=>u.size=l)}function JSe(e,n,t,r,i,a){const{trackSize:o=6}=ye({},i.scrollbar,e);e.size=o}function eEe(e,n,t,r,i,a){const o=ye({},i.title,e),{title:s,subtitle:l,spacing:u=0}=o,c=jl(o,["title","subtitle","spacing"]);if(s){const f=Pe(c,"title"),d=km(s,f);e.size=d.height}if(l){const f=Pe(c,"subtitle"),d=km(l,f);e.size+=u+d.height}}function tEe(e,n,t,r,i,a){const o=()=>{const{slider:c}=i;return ye({},c,e)},{trackSize:s,handleIconSize:l}=o(),u=Math.max(s,l*2.4);e.size=u}function nEe(e,n,t,r,i,a){var o;e.transform=e.transform||[{type:"hide"}];const s=r==="left"||r==="right",l=N9(e,r,i),{tickLength:u=0,labelSpacing:c=0,titleSpacing:f=0,labelAutoRotate:d}=l,h=jl(l,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=t1(e,a),v=n1(h,p),g=u+c;if(v&&v.length){const y=Xt(v,x=>x.width),b=Xt(v,x=>x.height);if(s)e.size=y+g;else{const{tickFilter:x,labelTransform:_}=e;sEe(p,v,n,t,x)&&!_&&d!==!1&&d!==null?(e.labelTransform="rotate(90)",e.size=y+g):(e.labelTransform=(o=e.labelTransform)!==null&&o!==void 0?o:"rotate(0)",e.size=b+g)}}else e.size=u;const m=r1(h);m&&(s?e.size+=f+m.width:e.size+=f+m.height)}function rEe(e,n,t,r,i,a){const s=(()=>{const{legendContinuous:x}=i;return ye({},x,e)})(),{labelSpacing:l=0,titleSpacing:u=0}=s,c=jl(s,["labelSpacing","titleSpacing"]),f=r==="left"||r==="right",d=Pe(c,"ribbon"),{size:h}=d,p=Pe(c,"handleIcon"),{size:v}=p,g=Math.max(h,v*2.4);e.size=g;const m=t1(e,a),y=n1(c,m);if(y){const x=f?"width":"height",_=Xt(y,w=>w[x]);e.size+=_+l}const b=r1(c);b&&(f?e.size=Math.max(e.size,b.width):e.size+=u+b.height)}function iEe(e,n,t,r,i,a){const s=(()=>{const{legendCategory:A}=i,{title:N}=e,[R,C]=Array.isArray(N)?[N,void 0]:[void 0,N];return ye({title:R},A,Object.assign(Object.assign({},e),{title:C}))})(),{itemSpacing:l,itemMarkerSize:u,titleSpacing:c,rowPadding:f,colPadding:d,maxCols:h=1/0,maxRows:p=1/0}=s,v=jl(s,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:g,length:m}=e,y=A=>Math.min(A,p),b=A=>Math.min(A,h),x=r==="left"||r==="right",_=m===void 0?n+(x?0:t[0]+t[1]):m,w=r1(v),k=t1(e,a),O=n1(v,k,"itemLabel"),S=Math.max(O[0].height,u)+f,E=(A,N=0)=>u+A+l[0]+N;x?(()=>{let A=-1/0,N=0,R=1,C=0,L=-1/0,I=-1/0;const j=w?w.height:0,F=_-j;for(const{width:z}of O){const D=E(z,d);A=Math.max(A,D),N+S>F?(R++,L=Math.max(L,C),I=Math.max(I,N),C=1,N=S):(N+=S,C++)}R<=1&&(L=C,I=N),e.size=A*b(R),e.length=I+j,ye(e,{cols:b(R),gridRow:L})})():typeof g=="number"?(()=>{const A=Math.ceil(O.length/g),N=Xt(O,R=>E(R.width))*g;e.size=S*y(A)-f,e.length=Math.min(N,_)})():(()=>{let A=1,N=0,R=-1/0;for(const{width:C}of O){const L=E(C,d);N+L>_?(R=Math.max(R,N),N=L,A++):N+=L}A===1&&(R=N),e.size=S*y(A)-f,e.length=R})(),w&&(x?e.size=Math.max(e.size,w.width):e.size+=c+w.height)}function t1(e,n){const[t]=Mn("scale",n),{scales:r,tickCount:i,tickMethod:a}=e,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),t(o)}function n1(e,n,t="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=e,o=jl(e,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=aEe(n,r,i),l=Pe(o,t),u=s.map((d,h)=>Object.fromEntries(Object.entries(l).map(([p,v])=>[p,typeof v=="function"?v(d,h):v]))),c=s.map((d,h)=>{const p=u[h];return km(d,p)});if(!u.some(d=>d.transform)){const d=s.map((h,p)=>p);e.indexBBox=new Map(d.map(h=>[h,[s[h],c[h]]]))}return c}function r1(e){const n=u=>u===!1||u===null,{title:t}=e,r=jl(e,["title"]);if(n(t)||t===void 0)return null;const i=Pe(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(t)?t.join(","):t;return typeof s!="string"?null:km(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function N9(e,n,t){const{title:r}=e,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${tk(n)}`]:s}=t;return ye({title:i},o,s,Object.assign(Object.assign({},e),{title:a}))}function L9(e,n){const t=e.getTicks?e.getTicks():e.getOptions().domain;return n?t.filter(n):t}function aEe(e,n,t){const i=L9(e,t).map(o=>typeof o=="number"?zg(o):o),a=n?typeof n=="string"?Dl(n):n:e.getFormatter?e.getFormatter():o=>`${o}`;return i.map(a)}function oEe(e,n){return e.getBandWidth?e.getBandWidth(n)/2:0}function sEe(e,n,t,r,i){if(Na(n,h=>h.width)>t)return!0;const o=e.clone();o.update({range:[0,t]});const s=L9(e,i),l=s.map(h=>o.map(h)+oEe(o,h)),u=s.map((h,p)=>p),c=-r[0],f=t+r[1],d=(h,p)=>{const{width:v}=p;return[h-v/2,h+v/2]};for(let h=0;h<u.length;h++){const p=l[h],[v,g]=d(p,n[h]);if(v<c||g>f)return!0;const m=l[h+1];if(m){const[y]=d(m,n[h+1]);if(g>y)return!0}}return!1}function km(e,n){const t=lEe(e),{filter:r}=n,i=jl(n,["filter"]);return t.attr(Object.assign(Object.assign({},i),{visibility:"none"})),t.getBBox()}function lEe(e){return e instanceof jn?e:new rs({style:{text:`${e}`}})}function uEe(e){const n=e.find(({type:i})=>i==="axisX"),t=e.find(({type:i})=>i==="axisY"),r=e.find(({type:i})=>i==="axisZ");n&&t&&r&&(n.plane="xy",t.plane="xy",r.plane="yz",r.origin=[n.bbox.x,n.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=n.bbox.x,r.bbox.y=n.bbox.y,e.push(Object.assign(Object.assign({},n),{plane:"xz",showLabel:!1,showTitle:!1,origin:[n.bbox.x,n.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},t),{plane:"yz",showLabel:!1,showTitle:!1,origin:[t.bbox.x+t.bbox.width,t.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function cEe(e,n,t,r){var i,a;const{width:o,height:s,depth:l,x:u=0,y:c=0,z:f=0,inset:d=(i=t.inset)!==null&&i!==void 0?i:0,insetLeft:h=d,insetTop:p=d,insetBottom:v=d,insetRight:g=d,margin:m=(a=t.margin)!==null&&a!==void 0?a:0,marginLeft:y=m,marginBottom:b=m,marginTop:x=m,marginRight:_=m,padding:w=t.padding,paddingBottom:k=w,paddingLeft:O=w,paddingRight:S=w,paddingTop:E=w}=dEe(e,n,t,r),T=1/4,M=(oe,ee,H,G,X)=>{const{marks:Y}=n;if(Y.length===0)return[G,X];if(oe-G-X-oe*T>0)return[G,X];const ae=oe*(1-T);return[ee==="auto"?ae*G/(G+X):G,H==="auto"?ae*X/(G+X):X]},P=oe=>oe==="auto"?20:oe??20,A=P(E),N=P(k),R=yR(e,s-A-N,[A+x,N+b],["left","right"],n,t,r),{paddingLeft:C,paddingRight:L}=R,I=o-y-_,[j,F]=M(I,O,S,C,L),z=I-j-F,D=yR(e,z,[j+y,F+_],["bottom","top"],n,t,r),{paddingTop:B,paddingBottom:U}=D,q=s-b-x,[$,W]=M(q,k,E,U,B),Q=q-$-W;return{width:o,height:s,depth:l,insetLeft:h,insetTop:p,insetBottom:v,insetRight:g,innerWidth:z,innerHeight:Q,paddingLeft:j,paddingRight:F,paddingTop:W,paddingBottom:$,marginLeft:y,marginBottom:b,marginTop:x,marginRight:_,x:u,y:c,z:f}}function fEe(e){const{height:n,width:t,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:l=16,marginLeft:u=l,marginRight:c=l,marginTop:f=l,marginBottom:d=l,inset:h=0,insetLeft:p=h,insetRight:v=h,insetTop:g=h,insetBottom:m=h}=e,y=_=>_==="auto"?20:_,b=t-y(i)-y(a)-u-c-p-v,x=n-y(o)-y(s)-f-d-g-m;return{width:b,height:x}}function dEe(e,n,t,r){const{coordinates:i}=n;if(!hu(i)&&!gh(i))return n;const a=e.filter(m=>typeof m.type=="string"&&m.type.startsWith("axis"));if(a.length===0)return n;const o=a.map(m=>{const y=m.type==="axisArc"?"arc":"linear";return N9(m,y,t)}),s=Xt(o,m=>{var y;return(y=m.labelSpacing)!==null&&y!==void 0?y:0}),l=a.flatMap((m,y)=>{const b=o[y],x=t1(m,r);return n1(b,x)}).filter(bn),u=Xt(l,m=>m.height)+s,c=a.flatMap((m,y)=>{const b=o[y];return r1(b)}).filter(m=>m!==null),f=c.length===0?0:Xt(c,m=>m.height),{inset:d=u,insetLeft:h=d,insetBottom:p=d,insetTop:v=d+f,insetRight:g=d}=n;return Object.assign(Object.assign({},n),{insetLeft:h,insetBottom:p,insetTop:v,insetRight:g})}function yR(e,n,t,r,i,a,o){const s=yn(e,p=>p.position),{padding:l=a.padding,paddingLeft:u=l,paddingRight:c=l,paddingBottom:f=l,paddingTop:d=l}=i,h={paddingBottom:f,paddingLeft:u,paddingTop:d,paddingRight:c};for(const p of r){const v=`padding${tk(Yk(p))}`,g=s.get(p)||[],m=h[v],y=S=>{S.size===void 0&&(S.size=S.defaultSize)},b=S=>{S.type==="group"?(S.children.forEach(y),S.size=Xt(S.children,E=>E.size)):S.size=S.defaultSize},x=S=>{S.size||(m!=="auto"?b(S):(R9(S,n,t,p,a,o),y(S)))},_=S=>{S.type.startsWith("axis")&&S.labelAutoHide===void 0&&(S.labelAutoHide=!0)},w=p==="bottom"||p==="top",k=sa(g,S=>S.order),O=g.filter(S=>S.type.startsWith("axis")&&S.order==k);if(O.length&&(O[0].crossPadding=0),typeof m=="number")g.forEach(y),g.forEach(_);else if(g.length===0)h[v]=0;else{const S=w?n+t[0]+t[1]:n,E=C9(g,S);E.forEach(x);const T=E.reduce((M,{size:P,crossPadding:A=12})=>M+P+A,0);h[v]=T}}return h}function hEe(e,n,t){const r=yn(e,w=>`${w.plane||"xy"}-${w.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:u,marginBottom:c,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m,height:y,width:b,depth:x}=t,_={xy:ax({width:b,height:y,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:u,marginBottom:c,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m}),yz:ax({width:x,height:y,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:x,innerHeight:y,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:ax({width:b,height:x,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:x,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[w,k]of r.entries()){const[O,S]=w.split("-"),E=_[O][S],[T,M]=zI(k,P=>typeof P.type!="string"?!1:!!(S==="center"||P.type.startsWith("axis")&&["inner","outer"].includes(S)));T.length&&pEe(T,n,E,S),M.length&&kEe(k,n,E)}}function ax({width:e,height:n,paddingLeft:t,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:l,marginRight:u,innerHeight:c,innerWidth:f,insetBottom:d,insetLeft:h,insetRight:p,insetTop:v}){const g=t+o,m=i+s,y=r+u,b=a+l,x=e-o-u,_=[g+h,m+v,f-h-p,c-v-d,"center",null,null];return{top:[g,0,f,m,"vertical",!0,Zn,o,x],right:[e-y,m,y,c,"horizontal",!1,Zn],bottom:[g,n-b,f,b,"vertical",!1,Zn,o,x],left:[0,m,g,c,"horizontal",!0,Zn],"top-left":[g,0,f,m,"vertical",!0,Zn],"top-right":[g,0,f,m,"vertical",!0,Zn],"bottom-left":[g,n-b,f,b,"vertical",!1,Zn],"bottom-right":[g,n-b,f,b,"vertical",!1,Zn],center:_,inner:_,outer:_}}function pEe(e,n,t,r){const[i,a]=zI(e,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));vEe(i,n,t,r),OEe(a,n,t)}function vEe(e,n,t,r){r==="center"?sae(n)?_Ee(e,n,t):nn(n)?yEe(e,n,t):xy(n)&&bEe(e,n,t,e[0].orientation):r==="inner"?gEe(e,n,t):r==="outer"&&mEe(e,n,t)}function gEe(e,n,t){const[r,i,,a]=t,[o,s]=n.getCenter(),[l]=wy(n),u=a/2,c=l*u,f=o-c,d=s-c;for(let h=0;h<e.length;h++){const p=e[h];p.bbox={x:r+f,y:i+d,width:c*2,height:c*2}}}function mEe(e,n,t){const[r,i,a,o]=t;for(const s of e)s.bbox={x:r,y:i,width:a,height:o}}function yEe(e,n,t){const[r,i,a,o]=t;for(const s of e)s.bbox={x:r,y:i,width:a,height:o}}function bEe(e,n,t,r){r==="horizontal"?wEe(e,n,t):r==="vertical"&&xEe(e,n,t)}function xEe(e,n,t){const[r,i,,a]=t,o=new Array(e.length).fill(0),l=n.map(o).filter((u,c)=>c%2===0).map(u=>u+r);for(let u=0;u<e.length;u++){const c=e[u],f=l[u],d=l[u+1]-f;c.bbox={x:f,y:i,width:d,height:a}}}function wEe(e,n,t){const[r,i,a]=t,o=new Array(e.length).fill(0),l=n.map(o).filter((u,c)=>c%2===1).map(u=>u+i);for(let u=0;u<e.length;u++){const c=e[u],f=l[u],d=l[u+1]-f;c.bbox={x:r,y:f,width:a,height:d}}}function _Ee(e,n,t,r){const[i,a,o,s]=t;for(const l of e)l.bbox={x:i,y:a,width:o,height:s},l.radar={index:e.indexOf(l),count:e.length}}function kEe(e,n,t){const[r,i,a,o,s,l,u,c,f]=t,[d,h,p,v,g,m,y,b]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];e.sort((S,E)=>u==null?void 0:u(S.order,E.order));const x=S=>S==="title"||S==="group"||S.startsWith("legend"),_=(S,E,T)=>T===void 0?E:x(S)?T:E,w=(S,E,T)=>T===void 0?E:x(S)?T:E,k=l?h+m:h;for(let S=0,E=k;S<e.length;S++){const T=e[S],{crossPadding:M=0,type:P}=T,{size:A}=T;T.bbox={[d]:l?E-A-M:E+M,[p]:w(P,v,c),[g]:A,[y]:_(P,b,f)},E+=(A+M)*(l?-1:1)}const O=e.filter(S=>S.type==="group");for(const S of O){const{bbox:E,children:T}=S,M=E[y],P=M/T.length,A=T.reduce((I,j)=>{var F;const z=(F=j.layout)===null||F===void 0?void 0:F.justifyContent;return z||I},"flex-start"),N=T.map((I,j)=>{const{length:F=P,padding:z=0}=I;return F+(j===T.length-1?0:z)}),R=Na(N),C=M-R,L=A==="flex-start"?0:A==="center"?C/2:C;for(let I=0,j=E[p]+L;I<T.length;I++){const F=T[I],{padding:z=0}=F,D=I===T.length-1?0:z;F.bbox={[g]:E[g],[d]:E[d],[p]:j,[y]:N[I]-D},ye(F,{layout:{justifyContent:A}}),j+=N[I]}}}function OEe(e,n,t){if(e.length===0)return;const[r,i,a,o]=t,[s]=wy(n),l=o/2*s/Math.sqrt(2),u=r+a/2,c=i+o/2;for(let f=0;f<e.length;f++){const d=e[f];d.bbox={x:u-l,y:c-l,width:l*2,height:l*2}}}var SEe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},Gf=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const $9=Symbol("CALLBACK_ITEM");function EEe(e,n,t){const{encode:r={},scale:i={},transform:a=[]}=n,o=Gf(n,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function I9(e,n,t){return SEe(this,void 0,void 0,function*(){const{library:r}=t,{data:i}=n,[a]=Mn("data",r),o=BEe(i),{transform:s=[]}=o,c=[Gf(o,["transform"]),...s].map(h=>a(h,t)),f=yield Jre(c)(i),d=i&&!Array.isArray(i)&&!Array.isArray(f)?{value:f}:f;return[Array.isArray(f)?Qu(f):[],Object.assign(Object.assign({},n),{data:d})]})}function TEe(e,n,t){const{encode:r}=n;if(!r)return[e,n];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=`${a}${s===0?"":s}`;i[l]=o[s]}else i[a]=o;return[e,Object.assign(Object.assign({},n),{encode:i})]}function MEe(e,n,t){const{encode:r,data:i}=n;if(!r)return[e,n];const a=ts(r,o=>IEe(o)?o:{type:DEe(i,o),value:o});return[e,Object.assign(Object.assign({},n),{encode:a})]}function AEe(e,n,t){const{encode:r}=n;if(!r)return[e,n];const i=ts(r,(a,o)=>{const{type:s}=a;return s!=="constant"||$Se(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[e,Object.assign(Object.assign({},n),{encode:i})]}function PEe(e,n,t){const{encode:r,data:i}=n;if(!r)return[e,n];const{library:a}=t,o=YEe(a),s=ts(r,l=>o(i,l));return[e,Object.assign(Object.assign({},n),{encode:s})]}function CEe(e,n,t){const{tooltip:r={}}=n;return Is(r)?[e,n]:Array.isArray(r)?[e,Object.assign(Object.assign({},n),{tooltip:{items:r}})]:Sf(r)&&lB(r)?[e,Object.assign(Object.assign({},n),{tooltip:r})]:[e,Object.assign(Object.assign({},n),{tooltip:{items:[r]}})]}function REe(e,n,t){const{data:r,encode:i,tooltip:a={}}=n;if(Is(a))return[e,n];const o=f=>{if(!f)return f;if(typeof f=="string")return e.map(d=>({name:f,value:r[d][f]}));if(Sf(f)){const{field:d,channel:h,color:p,name:v=d,valueFormatter:g=w=>w}=f,m=typeof g=="string"?Dl(g):g,y=h&&i[h],b=y&&i[h].field,x=v||b||h,_=[];for(const w of e){const k=d?r[w][d]:y?i[h].value[w]:null;_[w]={name:x,color:p,value:m(k)}}return _}if(typeof f=="function"){const d=[];for(const h of e){const p=f(r[h],h,r,i);Sf(p)?d[h]=Object.assign(Object.assign({},p),{[$9]:!0}):d[h]={value:p}}return d}return f},{title:s,items:l=[]}=a,u=Gf(a,["title","items"]),c=Object.assign({title:o(s),items:Array.isArray(l)?l.map(o):[]},u);return[e,Object.assign(Object.assign({},n),{tooltip:c})]}function NEe(e,n,t){const{encode:r}=n,i=Gf(n,["encode"]);if(!r)return[e,n];const a=Object.entries(r),o=a.filter(([,l])=>{const{value:u}=l;return Array.isArray(u[0])}).flatMap(([l,u])=>{const c=[[l,new Array(e.length).fill(void 0)]],{value:f}=u,d=Gf(u,["value"]);for(let h=0;h<f.length;h++){const p=f[h];if(Array.isArray(p))for(let v=0;v<p.length;v++){const g=c[v]||[`${l}${v}`,new Array(e).fill(void 0)];g[1][h]=p[v],c[v]=g}}return c.map(([h,p])=>[h,Object.assign({type:"column",value:p},d)])}),s=Object.fromEntries([...a,...o]);return[e,Object.assign(Object.assign({},i),{encode:s})]}function LEe(e,n,t){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=n,s=(u,c)=>{if(typeof u=="boolean")return u?{}:null;const f=u[c];return f===void 0||f?f:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return ye(n,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(u=>{const c=s(o,u);return[u,Object.assign({guide:s(r,u),slider:s(a,u),scrollbar:c},c&&{ratio:c.ratio===void 0?.5:c.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[e,n]}function $Ee(e,n,t){const{animate:r}=n;return r||r===void 0?[e,n]:(ye(n,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,n])}function IEe(e){if(typeof e!="object"||e instanceof Date||e===null)return!1;const{type:n}=e;return bn(n)}function DEe(e,n){return typeof n=="function"?"transform":typeof n=="string"&&FEe(e,n)?"field":"constant"}function FEe(e,n){return Array.isArray(e)?e.some(t=>t[n]!==void 0):!1}function BEe(e){if(jt(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:n="inline"}=e,t=Gf(e,["type"]);return Object.assign(Object.assign({},t),{type:n})}var D9=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},jEe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function zEe(e,n,t){return D9(this,void 0,void 0,function*(){const[r,i]=yield GEe(e,n,t),{encode:a,scale:o,data:s,tooltip:l}=i;if(Array.isArray(s)===!1)return null;const{channels:u}=n,c=W_(Object.entries(a).filter(([,d])=>bn(d)),d=>d.map(([h,p])=>Object.assign({name:h},p)),([d])=>{var h;const p=(h=/([^\d]+)\d*$/.exec(d))===null||h===void 0?void 0:h[1],v=u.find(g=>g.name===p);return v!=null&&v.independent?d:p}),f=u.filter(d=>{const{name:h,required:p}=d;if(c.find(([v])=>v===h))return!0;if(p)throw new Error(`Missing encoding for channel: ${h}.`);return!1}).flatMap(d=>{const{name:h,scale:p,scaleKey:v,range:g,quantitative:m,ordinal:y}=d;return c.filter(([x])=>x.startsWith(h)).map(([x,_],w)=>{const k=_.some(R=>R.visual),O=_.some(R=>R.constant),S=o[x]||{},{independent:E=!1,key:T=v||x,type:M=O?"constant":k?"identity":p}=S,P=jEe(S,["independent","key","type"]),A=M==="constant",N=A?void 0:g;return{name:x,values:_,scaleKey:E||A?Symbol("independent"):T,scale:Object.assign(Object.assign({type:M,range:N},P),{quantitative:m,ordinal:y})}})});return[i,Object.assign(Object.assign({},n),{index:r,channels:f,tooltip:l})]})}function YEe(e){const[n]=Mn("encode",e);return(t,r)=>r===void 0||t===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:n(r)(t),field:WEe(r)})}function GEe(e,n,t){return D9(this,void 0,void 0,function*(){const{library:r}=t,[i]=Mn("transform",r),{preInference:a=[],postInference:o=[]}=n,{transform:s=[]}=e,l=[EEe,I9,TEe,MEe,AEe,PEe,NEe,$Ee,LEe,CEe,...a.map(i),...s.map(i),...o.map(i),REe];let u=[],c=e;for(const f of l)[u,c]=yield f(u,c,t);return[u,c]})}function WEe(e){const{type:n,value:t}=e;return n==="field"&&typeof t=="string"?t:null}var Cs=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},kl=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function uS(e,n,t){var r;return Cs(this,void 0,void 0,function*(){const{library:i}=t,[a]=Mn("composition",i),[o]=Mn("interaction",i),s=new Set(Object.keys(i).map(P=>{var A;return(A=/mark\.(.*)/.exec(P))===null||A===void 0?void 0:A[1]}).filter(bn)),l=new Set(Object.keys(i).map(P=>{var A;return(A=/component\.(.*)/.exec(P))===null||A===void 0?void 0:A[1]}).filter(bn)),u=P=>{const{type:A}=P;if(typeof A=="function"){const{props:N={}}=A,{composite:R=!0}=N;if(R)return"mark"}return typeof A!="string"?A:s.has(A)||l.has(A)?"mark":A},c=P=>u(P)==="mark",f=P=>u(P)==="standardView",d=P=>{const{type:A}=P;return typeof A!="string"?!1:!!l.has(A)},h=P=>{if(f(P))return[P];const A=u(P);return a({type:A,static:d(P)})(P)},p=[],v=new Map,g=new Map,m=[e],y=[];for(;m.length;){const P=m.shift();if(f(P)){const A=g.get(P),[N,R]=A?j9(A,P,i):yield F9(P,t);v.set(N,P),p.push(N);const C=R.flatMap(h).map(L=>Xj(L,i));if(m.push(...C),C.every(f)){const L=yield Promise.all(C.map(I=>B9(I,t)));hSe(L);for(let I=0;I<C.length;I++){const j=C[I],F=L[I];g.set(j,F)}}}else{const A=c(P)?P:yield W9(P,t),N=h(A);Array.isArray(N)?m.push(...N):typeof N=="function"&&y.push(N())}}t.emitter.emit(Zt.BEFORE_PAINT);const b=new Map,x=new Map,_=[];n.selectAll(Go(am)).data(p,P=>P.key).join(P=>P.append("g").attr("className",am).attr("id",A=>A.key).call(bR).each(function(A,N,R){k2(A,ot(R),_,t),b.set(A,R)}),P=>P.call(bR).each(function(A,N,R){k2(A,ot(R),_,t),x.set(A,R)}),P=>P.each(function(A,N,R){const C=R.nameInteraction.values();for(const L of C)L.destroy()}).remove());const w=(P,A,N)=>Array.from(P.entries()).map(([R,C])=>{const L=N||new Map,I=(z,D=B=>B)=>L.set(z,D),j=v.get(R),F=UEe(ot(C),j,t);return{view:R,container:C,options:j,setState:I,update:(z,D)=>Cs(this,void 0,void 0,function*(){const U=ek(Array.from(L.values()))(j);return yield F(U,z,()=>{zr(D)&&A(P,D,L)})})}}),k=(P=x,A,N)=>{var R;const C=w(P,k,N);for(const L of C){const{options:I,container:j}=L,F=j.nameInteraction;let z=Om(I);A&&(z=z.filter(D=>A.includes(D[0])));for(const D of z){const[B,U]=D,q=F.get(B);if(q&&((R=q.destroy)===null||R===void 0||R.call(q)),U){const W=_2(L.view,B,U,o)(L,C,t.emitter);F.set(B,{destroy:W})}}}},O=w(b,k);for(const P of O){const{options:A}=P,N=new Map;P.container.nameInteraction=N;for(const R of Om(A)){const[C,L]=R;if(L){const j=_2(P.view,C,L,o)(P,O,t.emitter);N.set(C,{destroy:j})}}}k();const{width:S,height:E}=e,T=[];for(const P of y){const A=new Promise(N=>Cs(this,void 0,void 0,function*(){for(const R of P){const C=Object.assign({width:S,height:E},R);yield uS(C,n,t)}N()}));T.push(A)}t.views=p,(r=t.animations)===null||r===void 0||r.forEach(P=>P==null?void 0:P.cancel()),t.animations=_,t.emitter.emit(Zt.AFTER_PAINT);const M=_.filter(bn).map(sTe).map(P=>P.finished);return Promise.all([...M,...T])})}function bR(e){e.style("transform",n=>`translate(${n.layout.x}, ${n.layout.y})`)}function HEe(e){const[,n]=Mn("interaction",e);return t=>{const[r,i]=t;try{return[r,n(r)]}catch{return[r,i.type]}}}function UEe(e,n,t){const{library:r}=t,i=HEe(r),a=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,s=Om(n).map(i).filter(a).map(l=>l[0]);return(l,u,c)=>Cs(this,void 0,void 0,function*(){const f=[],[d,h]=yield F9(l,t);k2(d,e,f,t);for(const p of s.filter(v=>v!==u))VEe(p,e,l,d,t);for(const p of h)uS(p,e,t);return c(),{options:l,view:d}})}function VEe(e,n,t,r,i){var a;const{library:o}=i,[s]=Mn("interaction",o),u=n.node().nameInteraction,c=Om(t).find(([v])=>v===e),f=u.get(e);if(!f||((a=f.destroy)===null||a===void 0||a.call(f),!c[1]))return;const d=_2(r,e,c[1],s),h={options:t,view:r,container:n.node(),update:v=>Promise.resolve(v)},p=d(h,[],i.emitter);u.set(e,{destroy:p})}function F9(e,n){return Cs(this,void 0,void 0,function*(){const{library:t}=n,r=yield qEe(e,n),i=XEe(r);e.interaction=i.interaction,e.coordinate=i.coordinate,e.marks=[...i.marks,...i.components];const a=Xj(i,t),o=yield B9(a,n);return j9(o,a,t)})}function XEe(e){const{coordinate:n={},interaction:t={},style:r={},marks:i}=e,a=kl(e,["coordinate","interaction","style","marks"]),o=i.map(d=>d.coordinate||{}),s=i.map(d=>d.interaction||{}),l=i.map(d=>d.viewStyle||{}),u=[...o,n].reduceRight((d,h)=>ye(d,h),{}),c=[t,...s].reduce((d,h)=>ye(d,h),{}),f=[...l,r].reduce((d,h)=>ye(d,h),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:u,interaction:c,style:f})}function qEe(e,n){return Cs(this,void 0,void 0,function*(){const{library:t}=n,[r,i]=Mn("mark",t),a=new Set(Object.keys(t).map(h=>{var p;return(p=/component\.(.*)/.exec(h))===null||p===void 0?void 0:p[1]}).filter(bn)),{marks:o}=e,s=[],l=[],u=[...o],{width:c,height:f}=fEe(e),d={options:e,width:c,height:f};for(;u.length;){const[h]=u.splice(0,1),p=yield W9(h,n),{type:v=Of("G2Mark type is required."),key:g}=p;if(a.has(v))l.push(p);else{const{props:m={}}=i(v),{composite:y=!0}=m;if(!y)s.push(p);else{const{data:b}=p,x=Object.assign(Object.assign({},p),{data:b&&(Array.isArray(b)?b:b.value)}),_=yield r(x,d),w=Array.isArray(_)?_:[_];u.unshift(...w.map((k,O)=>Object.assign(Object.assign({},k),{key:`${g}-${O}`})))}}}return Object.assign(Object.assign({},e),{marks:s,components:l})})}function B9(e,n){return Cs(this,void 0,void 0,function*(){const{library:t}=n,[r]=Mn("theme",t),[,i]=Mn("mark",t),{theme:a,marks:o,coordinates:s=[]}=e,l=r(G9(a)),u=new Map;for(const f of o){const{type:d}=f,{props:h={}}=i(d),p=yield zEe(f,h,n);if(p){const[v,g]=p;u.set(v,g)}}const c=yn(Array.from(u.values()).flatMap(f=>f.channels),({scaleKey:f})=>f);for(const f of c.values()){const d=f.reduce((x,{scale:_})=>ye(x,_),{}),{scaleKey:h}=f[0],{values:p}=f[0],v=Array.from(new Set(p.map(x=>x.field).filter(bn))),g=ye({guide:{title:v.length===0?void 0:v},field:v[0]},d),{name:m}=f[0],y=f.flatMap(({values:x})=>x.map(_=>_.value)),b=Object.assign(Object.assign({},lSe(m,y,g,s,l,t)),{uid:Symbol("scale"),key:h});f.forEach(x=>x.scale=b)}return u})}function _2(e,n,t,r){const i=e.theme,a=typeof n=="string"?i[n]||{}:{};return r(ye(a,Object.assign({type:n},t)))}function j9(e,n,t){var r;const[i]=Mn("mark",t),[a]=Mn("theme",t),[o]=Mn("labelTransform",t),{key:s,frame:l=!1,theme:u,clip:c,style:f={},labelTransform:d=[]}=n,h=a(G9(u)),p=Array.from(e.values()),v=fSe(p,n),g=YSe(zSe(fTe(Array.from(v),p,e),n,t)),m=cEe(g,n,h,t),y=Fke(m,n,t),b=l?ye({mainLineWidth:1,mainStroke:"#000"},f):f;hEe(C9(g),y,m),uEe(g);const x=new Map(Array.from(e.values()).flatMap(S=>{const{channels:E}=S;return E.map(({scale:T})=>[T.uid,cR(T,t)])}));cSe(e,x);const _={};for(const S of g){const{scales:E=[]}=S,T=[];for(const M of E){const{name:P,uid:A}=M,N=(r=x.get(A))!==null&&r!==void 0?r:cR(M,t);T.push(N),P==="y"&&N.update(Object.assign(Object.assign({},N.getOptions()),{xScale:_.x})),uR(_,{[P]:N})}S.scaleInstances=T}const w=[],k=new Map;for(const[S,E]of e.entries()){const{children:T,dataDomain:M,modifier:P,key:A,data:N}=S;k.set(A,N);const{index:R,channels:C,tooltip:L}=E,I=Object.fromEntries(C.map(({name:H,scale:G})=>[H,G])),j=ts(I,({uid:H})=>x.get(H));uR(_,j);const F=uSe(C,j),z=i(S),[D,B,U]=QEe(z(R,j,F,y)),q=M||D.length,$=P?P(B,q,m):[],W=H=>{var G,X;return(X=(G=L.title)===null||G===void 0?void 0:G[H])===null||X===void 0?void 0:X.value},Q=H=>L.items.map(G=>G[H]),oe=D.map((H,G)=>{const X=Object.assign({points:B[G],transform:$[G],index:H,markKey:A,viewKey:s,data:N[H]},L&&{title:W(H),items:Q(H)});for(const[Y,re]of Object.entries(F))X[Y]=re[H],U&&(X[`series${Cl(Y)}`]=U[G].map(te=>re[te]));return U&&(X.seriesIndex=U[G]),U&&L&&(X.seriesItems=U[G].map(Y=>Q(Y)),X.seriesTitle=U[G].map(Y=>W(Y))),X});E.data=oe,E.index=D;const ee=T==null?void 0:T(oe,j,m);w.push(...ee||[])}return[{layout:m,theme:h,coordinate:y,markState:e,key:s,clip:c,scale:_,style:b,components:g,data:k,labelTransform:ek(d.map(o))},w]}function k2(e,n,t,r){return Cs(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:l,coordinate:u,key:c,style:f,clip:d,scale:h}=e,{x:p,y:v,width:g,height:m}=s,y=kl(s,["x","y","width","height"]),b=["view","plot","main","content"],x=b.map((L,I)=>I),_=["a","margin","padding","inset"],w=b.map(L=>FI(Object.assign({},o.view,f),L)),k=_.map(L=>Pe(y,L)),O=L=>L.style("x",I=>P[I].x).style("y",I=>P[I].y).style("width",I=>P[I].width).style("height",I=>P[I].height).each(function(I,j,F){dTe(ot(F),w[I])});let S=0,E=0,T=g,M=m;const P=x.map(L=>{const I=k[L],{left:j=0,top:F=0,bottom:z=0,right:D=0}=I;return S+=j,E+=F,T-=j+D,M-=F+z,{x:S,y:E,width:T,height:M}});n.selectAll(Go(yC)).data(x.filter(L=>bn(w[L])),L=>b[L]).join(L=>L.append("rect").attr("className",yC).style("zIndex",-2).call(O),L=>L.call(O),L=>L.remove());const A=nTe(l),N=A?{duration:A[1]}:!1;for(const[,L]of Y_(a,I=>`${I.type}-${I.position}`))L.forEach((I,j)=>I.index=j);const R=n.selectAll(Go(mC)).data(a,L=>`${L.type}-${L.position}-${L.index}`).join(L=>L.append("g").style("zIndex",({zIndex:I})=>I||-1).attr("className",mC).append(I=>mR(ye({animate:N,scale:h},I),u,o,i,l)),L=>L.transition(function(I,j,F){const{preserve:z=!1}=I;if(z)return;const D=mR(ye({animate:N,scale:h},I),u,o,i,l),{attributes:B}=D,[U]=F.childNodes;return U.update(B,!1)})).transitions();t.push(...R.flat().filter(bn));const C=n.selectAll(Go(om)).data([s],()=>c).join(L=>L.append("rect").style("zIndex",0).style("fill","transparent").attr("className",om).call(xR).call(wR,Array.from(l.keys())).call(_R,d),L=>L.call(wR,Array.from(l.keys())).call(I=>A?cTe(I,A):xR(I)).call(_R,d)).transitions();t.push(...C.flat());for(const[L,I]of l.entries()){const{data:j}=I,{key:F,class:z,type:D}=L,B=n.select(`#${F}`),U=aTe(L,I,e,r),q=oTe(L,I,e,i),$=lTe(L,I,e,i),W=uTe(L,I,e,i),Q=rTe(n,B,z,"element"),oe=B.selectAll(Go(Lo)).selectFacetAll(Q).data(j,ee=>ee.key,ee=>ee.groupKey).join(ee=>ee.append(U).attr("className",Lo).attr("markType",D).transition(function(H,G,X){return q(H,[X])}),ee=>ee.call(H=>{const G=H.parent(),X=eie(Y=>{const[re,te]=Y.getBounds().min;return[re,te]});H.transition(function(Y,re,te){iTe(te,G,X);const ae=U(Y,re),ue=$(Y,[te],[ae]);return ue!=null&&ue.length||(te.nodeName===ae.nodeName&&ae.nodeName!=="g"?nk(te,ae):(te.parentNode.replaceChild(ae,te),ae.className=Lo,ae.markType=D,ae.__data__=te.__data__)),ue}).attr("markType",D).attr("className",Lo)}),ee=>ee.each(function(H,G,X){X.__removed__=!0}).transition(function(H,G,X){return W(H,[X])}).remove(),ee=>ee.append(U).attr("className",Lo).attr("markType",D).transition(function(H,G,X){const{__fromElements__:Y}=X,re=$(H,Y,[X]);return new jg(Y,null,X.parentNode).transition(re).remove(),re}),ee=>ee.transition(function(H,G,X){const re=new jg([],X.__toData__,X.parentNode).append(U).attr("className",Lo).attr("markType",D).nodes();return $(H,[X],re)}).remove()).transitions();t.push(...oe.flat())}KEe(e,n,t,i,r)})}function KEe(e,n,t,r,i){const[a]=Mn("labelTransform",r),{markState:o,labelTransform:s}=e,l=n.select(Go(e2)).node(),u=new Map,c=new Map,f=Array.from(o.entries()).flatMap(([m,y])=>{const{labels:b=[],key:x}=m,_=tTe(m,y,e,r,i),w=n.select(`#${x}`).selectAll(Go(Lo)).nodes().filter(k=>!k.__removed__);return b.flatMap((k,O)=>{const{transform:S=[]}=k,E=kl(k,["transform"]);return w.flatMap(T=>{const M=ZEe(E,O,T);return M.forEach(P=>{u.set(P,A=>_(Object.assign(Object.assign({},A),{element:T}))),c.set(P,k)}),M})})}),d=ot(l).selectAll(Go(t2)).data(f,m=>m.key).join(m=>m.append(y=>u.get(y)(y)).attr("className",t2),m=>m.each(function(y,b,x){const w=u.get(y)(y);nk(x,w)}),m=>m.remove()).nodes(),h=yn(d,m=>c.get(m.__data__)),{coordinate:p,layout:v}=e,g={canvas:i.canvas,coordinate:p,layout:v};for(const[m,y]of h){const{transform:b=[]}=m;ek(b.map(a))(y,g)}s&&s(d,g)}function ZEe(e,n,t){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=t.__data__,l=eTe(t);if(!r)return[Object.assign(Object.assign({},e),{key:`${o}-${n}`,bounds:l,index:s,points:a,dependentElement:t})];const u=JEe(e),c=r.map((f,d)=>Object.assign(Object.assign({},e),{key:`${i[d]}-${n}`,bounds:[a[d]],index:f,points:a,dependentElement:t}));return u?u(c):c}function QEe([e,n,t]){if(t)return[e,n,t];const r=[],i=[];for(let a=0;a<e.length;a++){const o=e[a],s=n[a];s.every(([l,u])=>bn(l)&&bn(u))&&(r.push(o),i.push(s))}return[r,i]}function JEe(e){const{selector:n}=e;if(!n)return null;if(typeof n=="function")return n;if(n==="first")return t=>[t[0]];if(n==="last")return t=>[t[t.length-1]];throw new Error(`Unknown selector: ${n}`)}function eTe(e){const n=e.cloneNode(!0),t=e.getAnimations();n.style.visibility="hidden",t.forEach(o=>{const s=o.effect.getKeyframes();n.attr(s[s.length-1])}),e.parentNode.appendChild(n);const r=n.getLocalBounds();n.destroy();const{min:i,max:a}=r;return[i,a]}function tTe(e,n,t,r,i){const[a]=Mn("shape",r),{data:o,encode:s}=e,{data:l,defaultLabelShape:u}=n,c=l.map(v=>v.points),f=ts(s,v=>v.value),{theme:d,coordinate:h}=t,p=Object.assign(Object.assign({},i),{document:Vj(i),theme:d,coordinate:h});return v=>{const{index:g,points:m}=v,y=o[g],{formatter:b=I=>`${I}`,transform:x,style:_,render:w,selector:k,element:O}=v,S=kl(v,["formatter","transform","style","render","selector","element"]),E=ts(Object.assign(Object.assign({},S),_),I=>z9(I,y,g,o,{channel:f,element:O})),{shape:T=u,text:M}=E,P=kl(E,["shape","text"]),A=typeof b=="string"?Dl(b):b,N=Object.assign(Object.assign({},P),{text:A(M,y,g,o),datum:y}),R=Object.assign({type:`label.${T}`,render:w},P),C=a(R,p),L=Y9(d,"label",T,"label");return C(m,N,L,c)}}function z9(e,n,t,r,i){return typeof e=="function"?e(n,t,r,i):typeof e!="string"?e:Sf(n)&&n[e]!==void 0?n[e]:e}function nTe(e){let n=-1/0,t=1/0;for(const[r,i]of e){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:l={},exit:u={}}=a,{type:c,duration:f=300,delay:d=0}=l,{type:h,duration:p=300,delay:v=0}=s,{type:g,duration:m=300,delay:y=0}=u;for(const b of o){const{updateType:x=c,updateDuration:_=f,updateDelay:w=d,enterType:k=h,enterDuration:O=p,enterDelay:S=v,exitDuration:E=m,exitDelay:T=y,exitType:M=g}=b;(x===void 0||x)&&(n=Math.max(n,_+w),t=Math.min(t,w)),(M===void 0||M)&&(n=Math.max(n,E+T),t=Math.min(t,T)),(k===void 0||k)&&(n=Math.max(n,O+S),t=Math.min(t,S))}}return n===-1/0?null:[t,n-t]}function rTe(e,n,t,r){const i=e.node().parentElement;return!i||typeof i.findAll!="function"?[]:i.findAll(a=>a.style.facet!==void 0&&a.style.facet===t&&a!==n.node()).flatMap(a=>a.getElementsByClassName(r))}function iTe(e,n,t){if(!e.__facet__)return;const r=e.parentNode.parentNode,i=n.parentNode,[a,o]=t(r),[s,l]=t(i),u=`translate(${a-s}, ${o-l})`;tie(e,u),n.append(e)}function aTe(e,n,t,r){const{library:i}=r,[a]=Mn("shape",i),{data:o,encode:s}=e,{defaultShape:l,data:u,shape:c}=n,f=ts(s,y=>y.value),d=u.map(y=>y.points),{theme:h,coordinate:p}=t,{type:v,style:g={}}=e,m=Object.assign(Object.assign({},r),{document:Vj(r),coordinate:p,theme:h});return y=>{const{shape:b=l}=g,{shape:x=b,points:_,seriesIndex:w,index:k}=y,O=kl(y,["shape","points","seriesIndex","index"]),S=Object.assign(Object.assign({},O),{index:k}),E=w?w.map(N=>o[N]):o[k],T=w||k,M=ts(g,N=>z9(N,E,T,o,{channel:f})),P=c[x]?c[x](M,m):a(Object.assign(Object.assign({},M),{type:H9(e,x)}),m),A=Y9(h,v,x,l);return P(_,S,A,d)}}function Y9(e,n,t,r){if(typeof n!="string")return;const{color:i}=e,a=e[n]||{},o=a[t]||a[r];return Object.assign({color:i},o)}function cS(e,n,t,r,i){var a,o;const[,s]=Mn("shape",i),[l]=Mn("animation",i),{defaultShape:u,shape:c}=t,{theme:f,coordinate:d}=r,p=`default${Cl(e)}Animation`,{[p]:v}=((a=c[u])===null||a===void 0?void 0:a.props)||s(H9(n,u)).props,{[e]:g={}}=f,m=((o=n.animate)===null||o===void 0?void 0:o[e])||{},y={coordinate:d};return(b,x,_)=>{const{[`${e}Type`]:w,[`${e}Delay`]:k,[`${e}Duration`]:O,[`${e}Easing`]:S}=b,E=Object.assign({type:w||v},m);if(!E.type)return null;const P=l(E,y)(x,_,ye(g,{delay:k,duration:O,easing:S}));let A=[];return Array.isArray(P)?A=P:A=[P],A.filter(Boolean)}}function oTe(e,n,t,r){return cS("enter",e,n,t,r)}function sTe(e){return e.finished.then(()=>{e.cancel()}),e}function lTe(e,n,t,r){return cS("update",e,n,t,r)}function uTe(e,n,t,r){return cS("exit",e,n,t,r)}function G9(e={}){if(typeof e=="string")return{type:e};const{type:n="light"}=e,t=kl(e,["type"]);return Object.assign(Object.assign({},t),{type:n})}function Om(e){const n={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:t={}}=e;return Object.entries(ye(n,t)).reverse()}function W9(e,n){return Cs(this,void 0,void 0,function*(){const{data:t}=e,r=kl(e,["data"]);if(t==null)return e;const[,{data:i}]=yield I9([],{data:t},n);return Object.assign({data:i},r)})}function xR(e){e.style("transform",n=>`translate(${n.paddingLeft+n.marginLeft}, ${n.paddingTop+n.marginTop})`).style("width",n=>n.innerWidth).style("height",n=>n.innerHeight)}function cTe(e,n){const[t,r]=n;e.transition(function(i,a,o){const{transform:s,width:l,height:u}=o.style,{paddingLeft:c,paddingTop:f,innerWidth:d,innerHeight:h,marginLeft:p,marginTop:v}=i,g=[{transform:s,width:l,height:u},{transform:`translate(${c+p}, ${f+v})`,width:d,height:h}];return o.animate(g,{delay:t,duration:r,fill:"both"})})}function H9(e,n){const{type:t}=e;return typeof n=="string"?`${t}.${n}`:n}function wR(e,n){const t=a=>a.class!==void 0?`${a.class}`:"";e.nodes().length===0||(e.selectAll(Go(gC)).data(n,a=>a.key).join(a=>a.append("g").attr("className",gC).attr("id",o=>o.key).style("facet",t).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",t).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),e.select(Go(e2)).node())||e.append("g").attr("className",e2).style("zIndex",0)}function Go(...e){return e.map(n=>`.${n}`).join("")}function _R(e,n){e.node()&&e.style("clipPath",t=>{if(!n)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:l}=t;return new nc({style:{x:i+a,y:r+o,width:s,height:l}})})}function fTe(e,n,t){var r;for(const[u]of t.entries())if(u.type==="cell")return e.filter(c=>c.name!=="shape");if(n.length!==1||e.some(u=>u.name==="shape"))return e;const{defaultShape:i}=n[0];if(!["point","line","rect","hollow"].includes(i))return e;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=e.find(u=>u.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...e,l]}function dTe(e,n){for(const[t,r]of Object.entries(n))e.style(t,r)}function hTe(...e){return n=>e.reduce((t,r)=>r(t),n)}function pTe(e){const{style:n,scale:t,type:r}=e,i={},a=Gt(n,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},t==null?void 0:t.x),{padding:1-a})),Object.assign(Object.assign({},e),{scale:Object.assign(Object.assign({},t),i)})}function U9(e){const n=vTe(e);return n.children&&Array.isArray(n.children)&&(n.children=n.children.map(t=>U9(t))),n}function vTe(e){return hTe(pTe)(e)}function gTe(e){const n=ye({},e),t=new Map([[n,null]]),r=new Map([[null,-1]]),i=[n];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=t.get(a),l=r.get(a),u=s===null?"0":`${s.key}-${l}`;a.key=u}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=ye({},o[s]);o[s]=l,t.set(l,a),r.set(l,s),i.push(l)}}return n}function mTe(e,n){const t=new q8;return t.registerPlugin(new Z8),new LD({width:e,height:n,container:document.createElement("div"),renderer:t})}function yTe(e,n={},t=()=>{},r=i=>{throw i}){const i=q0(e),{width:a=640,height:o=480,depth:s=0}=i,l=U9(i),u=gTe(l),{canvas:c=mTe(a,o),emitter:f=new Q8,library:d}=n;n.canvas=c,n.emitter=f;const{width:h,height:p}=c.getConfig();(h!==a||p!==o)&&c.resize(a,o),f.emit(Zt.BEFORE_RENDER);const v=ot(c.document.documentElement);return c.ready.then(()=>uS(Object.assign(Object.assign({},u),{width:a,height:o,depth:s}),v,n)).then(()=>{if(s){const[g,m]=c.document.documentElement.getPosition();c.document.documentElement.setPosition(g,m,-s/2)}c.requestAnimationFrame(()=>{c.requestAnimationFrame(()=>{f.emit(Zt.AFTER_RENDER),t==null||t()})})}).catch(g=>{r==null||r(g)}),xTe(c.getConfig().container)}function kR(e,n={},t=!1,r=!0){const{canvas:i,emitter:a}=n;i&&(bTe(i),t?i.destroy():i.destroyChildren()),r&&a.off()}function bTe(e){const n=e.getRoot().querySelectorAll(`.${am}`);n==null||n.forEach(t=>{const{nameInteraction:r=new Map}=t;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(i=>{i==null||i.destroy()})})}function xTe(e){return typeof e=="string"?document.getElementById(e):e}function hp(e,n){if(n(e))return!0;if(e.tagName==="g"){const{childNodes:t=[]}=e;for(const r of t)if(hp(r,n))return!0}return!1}const wTe={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function _Te(e,n){let t;return hp(e,r=>{var i;return r.tagName!=="g"&&((i=r.style)===null||i===void 0?void 0:i[n])!==void 0?(t=r.style[n],!0):!1}),t??wTe[n]}function fS(e,n,t,r){e.style[n]=t,e.children.forEach(i=>fS(i,n,t))}function dS(e){fS(e,"visibility","hidden")}function i1(e){fS(e,"visibility","visible")}var mh=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Ol(e){return ot(e).selectAll(`.${Lo}`).nodes().filter(n=>!n.__removed__)}function V9(e,n){return O2(e,n).flatMap(({container:t})=>Ol(t))}function O2(e,n){return n.filter(t=>t!==e&&t.options.parentKey===e.options.key)}function wo(e){return ot(e).select(`.${om}`).node()}function Sm(e){if(e.tagName==="g")return e.getRenderBounds();const n=e.getGeometryBounds(),t=new hr;return t.setFromTransformedAABB(n,e.getWorldTransform()),t}function Hu(e,n){const{offsetX:t,offsetY:r}=n,i=Sm(e),{min:[a,o],max:[s,l]}=i,u=t<a||t>s,c=r<o||r>l;return u||c?null:[t-a,r-o]}function ox(e,n){const{offsetX:t,offsetY:r}=n,[i,a,o,s]=kTe(e);return[Math.min(o,Math.max(i,t))-i,Math.min(s,Math.max(a,r))-a]}function kTe(e){const n=e.getRenderBounds(),{min:[t,r],max:[i,a]}=n;return[t,r,i,a]}function X9(e){return n=>n.__data__.color}function Jp(e){return n=>n.__data__.x}function Uu(e){const n=Array.isArray(e)?e:[e],t=new Map(n.flatMap(r=>Array.from(r.markState.keys()).map(a=>[Em(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return t.get(Em(o,a))[i]}}const OR={selected:3,unselected:3,active:2,inactive:2,default:1},OTe={selection:["selected","unselected"],highlight:["active","inactive"]},q9=(e,n,t)=>{hp(e,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(n,t)})};function K9(e,n){return n.forEach(t=>{const r=t.__interactionStyle__;r?t.__interactionStyle__=Object.assign(Object.assign({},r),e):t.__interactionStyle__=e}),(t=(i,a)=>i,r=q9)=>yl(void 0,t,r)}function yl(e,n=(r,i)=>r,t=q9){const r="__states__",i="__ordinal__",a=h=>OR[h]||OR.default,o=h=>{var p;return(p=Object.entries(OTe).find(([v,g])=>g.includes(h)))===null||p===void 0?void 0:p[0]},s=h=>{var p;const{[r]:v=[],[i]:g={}}=h,m=[...v].sort((x,_)=>a(_)-a(x)),y=new Map;for(const x of m){const _=((p=e??h.__interactionStyle__)===null||p===void 0?void 0:p[x])||{};for(const[w,k]of Object.entries(_))y.has(w)||y.set(w,k)}const b=Object.assign({},g);for(const[x,_]of y.entries())b[x]=_;if(Object.keys(b).length!==0){for(const[x,_]of Object.entries(b)){const w=_Te(h,x),k=n(_,h);t(h,x,k),x in g||(g[x]=w)}h[i]=g}},l=h=>{h[r]||(h[r]=[])};return{setState:(h,...p)=>{l(h),h[r]=[...p],s(h)},updateState:(h,...p)=>{l(h);const v=h[r],g=new Set(p.map(y=>o(y)).filter(y=>y!==void 0)),m=v.filter(y=>!g.has(o(y)));h[r]=[...m,...p],s(h)},removeState:(h,...p)=>{l(h);for(const v of p){const g=h[r].indexOf(v);g!==-1&&h[r].splice(g,1)}s(h)},hasState:(h,p)=>(l(h),h[r].indexOf(p)!==-1)}}function STe(e){return e===void 0?!0:typeof e!="object"?!1:Object.keys(e).length===0}function Em(e,n){return`${e},${n}`}function Wf(e,n){const r=(Array.isArray(e)?e:[e]).flatMap(a=>a.marks.map(o=>[Em(a.key,o.key),o.state])),i={};for(const a of n){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((l,u)=>{const[c,f={}]=u,d=STe(f[o])?s:f[o];for(const[h,p]of Object.entries(d)){const v=l[h],g=(m,y,b,x)=>{const _=Em(x.__data__.viewKey,x.__data__.markKey);return c!==_?v==null?void 0:v(m,y,b,x):typeof p!="function"?p:p(m,y,b,x)};l[h]=g}return l},{})}return i}function ev(e,n){const t=new Map(e.map((i,a)=>[i,a])),r=n?e.map(n):e;return(i,a)=>{if(typeof i!="function")return i;const o=t.get(a),s=n?n(a):a;return i(s,o,r,a)}}function Z9(e){var{link:n=!1,valueof:t=(c,f)=>c,coordinate:r}=e,i=mh(e,["link","valueof","coordinate"]);const a="element-link";if(!n)return[()=>{},()=>{}];const o=c=>c.__data__.points,s=(c,f)=>{const[,d,h]=c,[p,,,v]=f;return[d,p,v,h]};return[c=>{var f;if(c.length<=1)return;const d=oo(c,(h,p)=>{const{x:v}=h.__data__,{x:g}=p.__data__;return v-g});for(let h=1;h<d.length;h++){const p=Fa(),v=d[h-1],g=d[h],[m,y,b,x]=s(o(v),o(g));p.moveTo(...m),p.lineTo(...y),p.lineTo(...b),p.lineTo(...x),p.closePath();const _=ts(i,S=>t(S,v)),{fill:w=v.getAttribute("fill")}=_,k=mh(_,["fill"]),O=new ca({className:a,style:Object.assign({d:p.toString(),fill:w,zIndex:-2},k)});(f=v.link)===null||f===void 0||f.remove(),v.parentNode.appendChild(O),v.link=O}},c=>{var f;(f=c.link)===null||f===void 0||f.remove(),c.link=null}]}function Q9(e,n,t){const r=i=>{const{transform:a}=e.style;return a?`${a} ${i}`:i};if(nn(t)){const{points:i}=e.__data__,[a,o]=_n(t)?My(i):i,s=t.getCenter(),l=Qn(a,s),u=Qn(o,s),c=Ia(l),f=x5(l,u),d=c+f/2,h=n*Math.cos(d),p=n*Math.sin(d);return r(`translate(${h}, ${p})`)}return _n(t)?r(`translate(${n}, 0)`):r(`translate(0, ${-n})`)}function J9(e){var{document:n,background:t,scale:r,coordinate:i,valueof:a}=e,o=mh(e,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!t)return[()=>{},()=>{}];const l=(m,y,b)=>{const x=m.invert(y),_=y+m.getBandWidth(x)/2,w=m.getStep(x)/2,k=w*b;return[_-w+k,_+w-k]},u=(m,y)=>{const{x:b}=r;if(!fh(b))return[0,1];const{__data__:x}=m,{x:_}=x,[w,k]=l(b,_,y);return[w,k]},c=(m,y)=>{const{y:b}=r;if(!fh(b))return[0,1];const{__data__:x}=m,{y:_}=x,[w,k]=l(b,_,y);return[w,k]},f=(m,y)=>{const{padding:b}=y,[x,_]=u(m,b),[w,k]=c(m,b),O=[[x,w],[_,w],[_,k],[x,k]].map(M=>i.map(M)),{__data__:S}=m,{y:E,y1:T}=S;return HD(n,O,{y:E,y1:T},i,y)},d=(m,y)=>{const{transform:b="scale(1.2, 1.2)",transformOrigin:x="center center",stroke:_=""}=y,w=mh(y,["transform","transformOrigin","stroke"]),k=Object.assign({transform:b,transformOrigin:x,stroke:_},w),O=m.cloneNode(!0);for(const[S,E]of Object.entries(k))O.style[S]=E;return O},h=()=>{const{x:m,y}=r;return[m,y].some(fh)};return[m=>{m.background&&m.background.remove();const y=ts(o,M=>a(M,m)),{fill:b="#CCD6EC",fillOpacity:x=.3,zIndex:_=-2,padding:w=.001,lineWidth:k=0}=y,O=mh(y,["fill","fillOpacity","zIndex","padding","lineWidth"]),S=Object.assign(Object.assign({},O),{fill:b,fillOpacity:x,zIndex:_,padding:w,lineWidth:k}),T=(h()?f:d)(m,S);T.className=s,m.parentNode.parentNode.appendChild(T),m.background=T},m=>{var y;(y=m.background)===null||y===void 0||y.remove(),m.background=null},m=>m.className===s]}function nl(e,n){const r=e.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(e.cursor=r.style.cursor,r.style.cursor=n)}function ETe(e){nl(e,e.cursor)}function hS(e,n,t){return e.find(r=>Object.entries(n).every(([i,a])=>t(r)[i]===a))}function Tm(e,n){return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function Ad(e,n=!1){const t=$ee(e,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return n&&t.push(["Z"]),t}function e7(e){return e.querySelectorAll(".element")}function TTe(e,n,t=0){const r=[["M",...n[1]]],i=Tm(e,n[1]),a=Tm(e,n[0]);return i===0?r.push(["L",...n[3]],["A",a,a,0,t,1,...n[0]],["Z"]):r.push(["A",i,i,0,t,0,...n[2]],["L",...n[3]],["A",a,a,0,t,1,...n[0]],["Z"]),r}function tv(e,n){if(n(e))return e;let t=e.parent;for(;t&&!n(t);)t=t.parent;return t}const pS=["interval","point","density"];function t7({elementsof:e,root:n,coordinate:t,scale:r,validFindByXMarks:i=pS}){var a,o;let s=e(n);const l=c=>i.includes(c.markType);if(s.find(l)){s=s.filter(l);const c=r.x,f=r.series,d=(o=(a=c==null?void 0:c.getBandWidth)===null||a===void 0?void 0:a.call(c))!==null&&o!==void 0?o:0,h=f?p=>{var v,g;const m=Math.round(1/((v=f.valueBandWidth)!==null&&v!==void 0?v:1));return p.__data__.x+((g=p.__data__.series)!==null&&g!==void 0?g:0)*d+d/(m*2)}:p=>p.__data__.x+d/2;return s.sort((p,v)=>h(p)-h(v)),p=>{const v=Hu(n,p);if(!v)return;const[g]=t.invert(v),m=Ms(h).center,y=m(s,g);return s[y]}}return c=>{const{target:f}=c;return tv(f,d=>d.classList?d.classList.includes("element"):!1)}}var MTe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function ATe(e,{elements:n,datum:t,groupKey:r=p=>p,regionGroupKey:i=p=>p,link:a=!1,background:o=!1,delay:s=60,scale:l,coordinate:u,emitter:c,state:f={},region:d=!1,regionEleFilter:h=p=>pS.includes(p.markType)}){var p,v;const g=(p=n(e))!==null&&p!==void 0?p:[],m=d?g.filter(h):g,y=new Set(m),b=d?i:r,x=yn(m,b),_=t7({elementsof:n,root:e,coordinate:u,scale:l}),w=ev(m,t),[k,O]=Z9(Object.assign({elements:m,valueof:w,link:a,coordinate:u},Pe(f.active,"link"))),[S,E,T]=J9(Object.assign({document:e.ownerDocument,scale:l,coordinate:u,background:o,valueof:w},Pe(f.active,"background"))),M=ye(f,{active:Object.assign({},((v=f.active)===null||v===void 0?void 0:v.offset)&&{transform:(...U)=>{const q=f.active.offset(...U),[,$]=U;return Q9(m[$],q,u)}})}),P=K9(M,m),{updateState:A,removeState:N,hasState:R}=P(w);let C;const L=U=>{const{nativeEvent:q=!0}=U;let $=U.target;if(d&&($=_(U)),!y.has($))return;C&&clearTimeout(C);const W=b($),Q=x.get(W),oe=new Set(Q);for(const ee of m)oe.has(ee)?R(ee,"active")||A(ee,"active"):(A(ee,"inactive"),O(ee)),ee!==$&&E(ee);S($),k(Q),q&&c.emit("element:highlight",{nativeEvent:q,data:{data:t($),group:Q.map(t)}})},I=()=>{C&&clearTimeout(C),C=setTimeout(()=>{j(),C=null},s)},j=(U=!0)=>{for(const q of m)N(q,"active","inactive"),E(q),O(q);U&&c.emit("element:unhighlight",{nativeEvent:U})},F=U=>{let q=U.target;if(d&&(q=_(U)),!q){s>0?I():j();return}o&&!T(q)||!o&&!y.has(q)||(s>0?I():j())},z=()=>{j()};e.addEventListener("pointerover",L),e.addEventListener("pointermove",L),e.addEventListener("pointerout",F),e.addEventListener("pointerleave",z);const D=U=>{const{nativeEvent:q}=U;q||j(!1)},B=U=>{const{nativeEvent:q}=U;if(q)return;const{data:$}=U.data,W=hS(m,$,t);W&&L({target:W,nativeEvent:!1})};return c.on("element:highlight",B),c.on("element:unhighlight",D),()=>{e.removeEventListener("pointerover",L),e.removeEventListener("pointermove",L),e.removeEventListener("pointerout",F),e.removeEventListener("pointerleave",z),c.off("element:highlight",B),c.off("element:unhighlight",D);for(const U of m)E(U),O(U)}}function a1(e){var{delay:n,createGroup:t,createRegionGroup:r,background:i=!1,link:a=!1}=e,o=MTe(e,["delay","createGroup","createRegionGroup","background","link"]);return(s,l,u)=>{const{container:c,view:f,options:d}=s,{scale:h,coordinate:p}=f,v=wo(c);return ATe(v,Object.assign({elements:Ol,datum:Uu(f),groupKey:t?t(f):void 0,regionGroupKey:r?r(f):Jp(),coordinate:p,scale:h,state:Wf(d,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:a,delay:n,emitter:u},o))}}a1.props={reapplyWhenUpdate:!0};function n7(e){return a1(Object.assign(Object.assign({},e),{createGroup:Jp}))}n7.props={reapplyWhenUpdate:!0};function r7(e){return a1(Object.assign(Object.assign({},e),{createGroup:X9}))}r7.props={reapplyWhenUpdate:!0};var PTe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function CTe(e,{elements:n,datum:t,groupKey:r=v=>v,regionGroupKey:i=v=>v,link:a=!1,single:o=!1,multipleSelectHotkey:s,coordinate:l,background:u=!1,scale:c,emitter:f,state:d={},region:h=!1,regionEleFilter:p=v=>pS.includes(v.markType)}){var v;const g=n(e),m=new Set(g),y=t7({elementsof:n,root:e,coordinate:l,scale:c}),b=yn(g,r),x=yn(g,i),_=ev(g,t),[w,k]=Z9(Object.assign({link:a,elements:g,valueof:_,coordinate:l},Pe(d.selected,"link"))),[O,S]=J9(Object.assign({document:e.ownerDocument,background:u,coordinate:l,scale:c,valueof:_},Pe(d.selected,"background"))),E=ye(d,{selected:Object.assign({},((v=d.selected)===null||v===void 0?void 0:v.offset)&&{transform:(...W)=>{const Q=d.selected.offset(...W),[,oe]=W;return Q9(g[oe],Q,l)}})}),T=K9(E,g),{updateState:M,removeState:P,hasState:A}=T(_);let N=!o,R=null;const C=(W=!0)=>{for(const Q of g)P(Q,"selected","unselected"),k(Q),S(Q);W&&f.emit("element:unselect",{nativeEvent:!0})},L=({event:W,element:Q,nativeEvent:oe=!0,filter:ee=X=>!0,groupBy:H=r,groupMap:G=b})=>{const X=g.filter(ee);if(A(Q,"selected"))C();else{const Y=H(Q),re=G.get(Y),te=new Set(re);for(const ae of X)te.has(ae)?M(ae,"selected"):(M(ae,"unselected"),k(ae)),ae!==Q&&S(ae);if(w(re),O(Q),!oe)return;f.emit("element:select",Object.assign(Object.assign({},W),{nativeEvent:oe,data:{data:[t(Q),...re.map(t)]}}))}},I=({event:W,element:Q,nativeEvent:oe=!0,filter:ee=X=>!0,groupBy:H=r,groupMap:G=b})=>{const X=H(Q),Y=G.get(X),re=new Set(Y),te=g.filter(ee);if(A(Q,"selected")){if(!g.some(ue=>!re.has(ue)&&A(ue,"selected")))return C();for(const ue of Y)M(ue,"unselected"),k(ue),S(ue)}else{const ae=Y.some(ue=>A(ue,"selected"));for(const ue of te)re.has(ue)?M(ue,"selected"):A(ue,"selected")||M(ue,"unselected");!ae&&a&&w(Y),O(Q)}oe&&f.emit("element:select",Object.assign(Object.assign({},W),{nativeEvent:oe,data:{data:g.filter(ae=>A(ae,"selected")).map(t)}}))},j=W=>{if(m.has(W))return!0;for(const Q of m)if(hp(Q,ee=>ee===W))return!0;return!1},F=W=>{if(m.has(W))return W;for(const Q of m){let oe=null;if(hp(Q,ee=>{ee===W&&(oe=Q)}),oe)return oe}return W},z=W=>{const{target:Q,nativeEvent:oe=!0}=W,ee=N?I:L;let H=Q;const G=j(Q);return!h||G?G?ee({event:W,element:F(H),nativeEvent:oe,groupBy:r}):C():(H=y(W),m.has(H)?ee({event:W,element:H,nativeEvent:oe,filter:p,groupBy:i,groupMap:x}):C())},D=Array.isArray(s)?s:[s],B=W=>{D.includes(W.code)&&!R&&(R=W.code,N=!0)},U=W=>{W.code===R&&(R=null,N=!1)};e.addEventListener("click",z),s&&(N=!1,document.addEventListener("keydown",B),document.addEventListener("keyup",U));const q=W=>{const{nativeEvent:Q,data:oe}=W;if(Q)return;const ee=N?oe.data:oe.data.slice(0,1);for(const H of ee){const G=hS(g,H,t);z({target:G,nativeEvent:!1})}},$=()=>{C(!1)};return f.on("element:select",q),f.on("element:unselect",$),()=>{for(const W of g)k(W);e.removeEventListener("click",z),s&&(document.removeEventListener("keydown",B),document.removeEventListener("keyup",U)),f.off("element:select",q),f.off("element:unselect",$)}}function o1(e){var{createGroup:n,createRegionGroup:t,background:r=!1,link:i=!1}=e,a=PTe(e,["createGroup","createRegionGroup","background","link"]);return(o,s,l)=>{const{container:u,view:c,options:f}=o,{coordinate:d,scale:h}=c,p=wo(u);return CTe(p,Object.assign({elements:Ol,datum:Uu(c),groupKey:n?n(c):void 0,regionGroupKey:t?t(c):Jp(),coordinate:d,scale:h,state:Wf(f,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:l},a))}}o1.props={reapplyWhenUpdate:!0};function i7(e){return o1(Object.assign(Object.assign({},e),{createGroup:Jp}))}i7.props={reapplyWhenUpdate:!0};function a7(e){return o1(Object.assign(Object.assign({},e),{createGroup:X9}))}a7.props={reapplyWhenUpdate:!0};var RTe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},NTe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function LTe(e){const{transform:n=[]}=e,t=n.find(i=>i.type==="normalizeY");if(t)return t;const r={type:"normalizeY"};return n.push(r),e.transform=n,r}function $Te(e,n,t){const[r]=Array.from(e.entries()).filter(([i])=>i.type===n).map(([i])=>{const{encode:a}=i,o=s=>{const l=a[s];return[s,l?l.value:void 0]};return Object.fromEntries(t.map(o))});return r}function o7(e){var{wait:n=20,leading:t,trailing:r=!1,labelFormatter:i=o=>`${o}`}=e,a=NTe(e,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:l,update:u,setState:c}=o,{markState:f,scale:d,coordinate:h}=s,p=$Te(f,"line",["x","y","series"]);if(!p)return;const{y:v,x:g,series:m=[]}=p,y=v.map((C,L)=>L),b=oo(y.map(C=>g[C])),x=wo(l),_=l.getElementsByClassName(Lo),w=l.getElementsByClassName(t2),O=yn(w,C=>C.__data__.key.split("-")[0]),S=new ed({style:Object.assign({x1:0,y1:0,x2:0,y2:x.getAttribute("height"),stroke:"black",lineWidth:1},Pe(a,"rule"))}),E=new rs({style:Object.assign({x:0,y:x.getAttribute("height"),text:"",fontSize:10},Pe(a,"label"))});S.append(E),x.appendChild(S);const T=(C,L,I)=>{const[j]=C.invert(I),F=L.invert(j);return b[cne(b,F)]},M=(C,L)=>{S.setAttribute("x1",C[0]),S.setAttribute("x2",C[0]),E.setAttribute("text",i(L))};let P;const A=C=>RTe(this,void 0,void 0,function*(){const{x:L}=d,I=T(h,L,C);M(C,I),c("chartIndex",F=>{const z=ye({},F),D=z.marks.find(W=>W.type==="line"),U=Xt(G_(y,W=>Xt(W,Q=>+v[Q])/sa(W,Q=>+v[Q]),W=>m[W]).values()),q=[1/U,U];ye(D,{scale:{y:{domain:q}}});const $=LTe(D);$.groupBy="color",$.basis=(W,Q)=>{const oe=W[Ms(ee=>g[+ee]).center(W,I)];return Q[oe]};for(const W of z.marks)W.animate=!1;return z}),P=(yield u("chartIndex")).view}),N=C=>{const{scale:L,coordinate:I}=P,{x:j,y:F}=L,z=T(I,j,C);M(C,z);for(const D of _){const{seriesIndex:B,key:U}=D.__data__,q=B[Ms(G=>g[+G]).center(B,z)],$=[0,F.map(1)],W=[0,F.map(v[q]/v[B[0]])],[,Q]=I.map($),[,oe]=I.map(W),ee=Q-oe;D.setAttribute("transform",`translate(0, ${ee})`);const H=O.get(U)||[];for(const G of H)G.setAttribute("dy",ee)}},R=Au(C=>{const L=Hu(x,C);L&&N(L)},n,{leading:t,trailing:r});return A([0,0]),x.addEventListener("pointerenter",R),x.addEventListener("pointermove",R),x.addEventListener("pointerleave",R),()=>{S.remove(),x.removeEventListener("pointerenter",R),x.removeEventListener("pointermove",R),x.removeEventListener("pointerleave",R)}}}o7.props={reapplyWhenUpdate:!0};function ITe(e){const{coordinate:n={}}=e,{transform:t=[]}=n,r=t.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return t.push(i),n.transform=t,e.coordinate=n,i}function DTe({wait:e=30,leading:n,trailing:t=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,l=wo(s),u=Au(c=>{const f=Hu(l,c);if(!f){o("fisheye"),a();return}o("fisheye",d=>{const h=ye({},d,{interaction:{tooltip:{preserve:!0}}});for(const m of h.marks)m.animate=!1;const[p,v]=f,g=ITe(h);return g.focusX=p,g.focusY=v,g.visual=!0,h}),a()},e,{leading:n,trailing:t});return l.addEventListener("pointerenter",u),l.addEventListener("pointermove",u),l.addEventListener("pointerleave",u),()=>{l.removeEventListener("pointerenter",u),l.removeEventListener("pointermove",u),l.removeEventListener("pointerleave",u)}}}var Vu=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function Mm(e,n){var t;if(n)return typeof n=="string"?document.querySelector(n):n;const r=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function FTe(e){const n=e.getRenderBounds(),{min:[t,r],max:[i,a]}=n;return{x:t,y:r,width:i-t,height:a-r}}function BTe(e,n){const t=e.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:t.x-r.x,y:t.y-r.y}}function jTe(e,n,t,r,i,a,o,s={},l=[10,10]){const u={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},c=new Ige({className:"tooltip",style:{x:n,y:t,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:l,template:{prefixCls:"g2-"},style:ye(u,s)}});return e.appendChild(c.HTMLTooltipElement),c}function s7({root:e,data:n,x:t,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:l=!1,css:u,mount:c,bounding:f,offset:d}){const h=Mm(e,c),p=Mm(e),v=o?p:e,g=f||FTe(e),m=BTe(p,h),{tooltipElement:y=jTe(h,t,r,s,l,g,m,u,d)}=v,{items:b,title:x=""}=n;y.update(Object.assign({x:t,y:r,data:b,title:x,position:s,enterable:l,container:m},i!==void 0&&{content:i(a,{items:b,title:x})})),v.tooltipElement=y}function ol({root:e,single:n,emitter:t,nativeEvent:r=!0,event:i=null}){r&&t.emit("tooltip:hide",{nativeEvent:r});const a=Mm(e),o=n?a:e,{tooltipElement:s}=o;s&&s.hide(i==null?void 0:i.clientX,i==null?void 0:i.clientY),f7(e),d7(e),h7(e)}function S2({root:e,single:n}){const t=Mm(e),r=n?t:e;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),f7(e),d7(e),h7(e)}function l7(e){const{value:n}=e;return Object.assign(Object.assign({},e),{value:n===void 0?"undefined":n})}function zTe(e){var n,t,r,i,a,o,s;const l=e.__data__,u=(t=(n=l==null?void 0:l.normalized)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,c=(r=e.parentNode)===null||r===void 0?void 0:r.__data__,f=(i=c==null?void 0:c.encode)!==null&&i!==void 0?i:{},{x:d={},y:h={},color:p={}}=f,{value:v=[]}=d,{value:g=[]}=h,{value:m=[]}=p,y=Math.min(Math.round(v.length*u),v.length-1);return{title:`${v[y]}, ${g[y]}`,items:[{name:(a=p.field)!==null&&a!==void 0?a:"value",value:m[y],color:((o=e.style)===null||o===void 0?void 0:o.fill)||((s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"color"))||"#000"}]}}function YTe(e){const{__data__:n}=e;if(cy(e))return zTe(e);const{title:t,items:r=[]}=n,i=r.filter(bn).map(a=>{var{color:o=u7(e)}=a,s=Vu(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(l7);return Object.assign(Object.assign({},t&&{title:t}),{items:i})}function u7(e){const n=e.getAttribute("fill"),t=e.getAttribute("stroke"),{__data__:r}=e,{color:i=n&&n!=="transparent"?n:t}=r;return i}function SR(e,n=t=>t){const t=new Map(e.map(r=>[n(r),r]));return Array.from(t.values())}function c7(e,n,t,r=e.map(a=>a.__data__),i={}){const a=l=>l instanceof Date?+l:l,o=SR(r.map(l=>l.title),a).filter(bn),s=r.flatMap((l,u)=>{const c=l.element||e[u],{items:f=[],title:d}=l,h=f.filter(bn),p=t!==void 0?t:f.length<=1;return h.map(v=>{var{color:g=u7(c)||i.color,name:m}=v,y=Vu(v,["color","name"]);const b=Qre(n,l),x=p&&!($9 in y)?b||m:m||b;return Object.assign(Object.assign({},y),{color:g,name:x||d})})}).map(l7);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:SR(s,l=>`(${a(l.name)}, ${a(l.value)}, ${a(l.color)})`)})}function GTe(e,n,t,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:l,startY:u,transposed:c,polar:f,insetLeft:d,insetTop:h}=r,p=Vu(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const v=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},p),g=(w,k,O)=>{const S=new Bu({style:Object.assign({cx:w,cy:k,r:O},v)});return e.appendChild(S),S},m=(w,k,O,S)=>{const E=new ed({style:Object.assign({x1:w,x2:k,y1:O,y2:S},v)});return e.appendChild(E),E},b=((w,k)=>{if(k.length===1)return k[0];const O=k.map(E=>Yn(E,w)),S=Rp(O,E=>E);return k[S]})(t,n),x=()=>c?[l+b[0],l+b[0],u,u+a]:[l,l+i,b[1]+u,b[1]+u],_=()=>{const w=l+d+o/2,k=u+h+s/2,O=Yn([w,k],b);return[w,k,O]};if(f){const[w,k,O]=_(),S=e.ruleX||g(w,k,O);S.style.cx=w,S.style.cy=k,S.style.r=O,e.ruleX=S}else{const[w,k,O,S]=x(),E=e.ruleX||m(w,k,O,S);E.style.x1=w,E.style.x2=k,E.style.y1=O,E.style.y2=S,e.ruleX=E}}function WTe(e,n,t){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:l,transposed:u,polar:c,insetLeft:f,insetTop:d}=t,h=Vu(t,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),v=n.map(S=>S[1]),g=n.map(S=>S[0]),m=jh(v),y=jh(g),b=()=>{if(c){const S=Math.min(a,o)/2,E=s+f+a/2,T=l+d+o/2,M=Ia(Qn([y,m],[E,T])),P=E+S*Math.cos(M),A=T+S*Math.sin(M);return[E,P,T,A]}return u?[s,s+r,m+l,m+l]:[y+s,y+s,l,l+i]},[x,_,w,k]=b(),O=()=>{const S=new ed({style:Object.assign({x1:x,x2:_,y1:w,y2:k},p)});return e.appendChild(S),S};if(g.length>0){const S=e.ruleY||O();S.style.x1=x,S.style.x2=_,S.style.y1=w,S.style.y2=k,e.ruleY=S}}function f7(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function d7(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function HTe(e,{data:n,style:t,theme:r}){e.markers&&e.markers.forEach(o=>o.remove());const{type:i=""}=t,a=n.filter(o=>{const[{x:s,y:l}]=o;return bn(s)&&bn(l)}).map(o=>{const[{color:s,element:l},u]=o,c=s||l.style.fill||l.style.stroke||r.color,f=i==="hollow"?"transparent":c,d=i==="hollow"?c:"#fff";return new Bu({className:"g2-tooltip-marker",style:Object.assign({cx:u[0],cy:u[1],fill:f,r:4,stroke:d,lineWidth:2,pointerEvents:"none"},t)})});for(const o of a)e.appendChild(o);e.markers=a}function h7(e){e.markers&&(e.markers.forEach(n=>n.remove()),e.markers=[])}function ER(e,n){return Array.from(e.values()).some(t=>{var r;return(r=t.interaction)===null||r===void 0?void 0:r[n]})}function Po(e,n){return e===void 0?n:e}function p7(e){const{title:n,items:t}=e;return t.length===0&&n===void 0}function UTe(e){return Array.from(e.values()).some(n=>{var t;return((t=n.interaction)===null||t===void 0?void 0:t.seriesTooltip)&&n.tooltip})}function VTe(e,n){const{innerWidth:t,innerHeight:r,marginLeft:i,paddingLeft:a,insetLeft:o,marginTop:s,paddingTop:l,insetTop:u}=e.getOptions();return{x:(n.x-i-a-o)/t,y:(n.y-s-l-u)/r}}function v7({root:e,event:n,elements:t=[],coordinate:r,scale:i,shared:a}){var o,s;const l=g=>g.markType==="interval",u=t.every(l)&&!nn(r),c=i.x,f=i.series,d=(s=(o=c==null?void 0:c.getBandWidth)===null||o===void 0?void 0:o.call(c))!==null&&s!==void 0?s:0,h=f?g=>{const m=Math.round(1/f.valueBandWidth);return g.__data__.x+g.__data__.series*d+d/(m*2)}:g=>g.__data__.x+d/2;u&&t.sort((g,m)=>h(g)-h(m));const p=g=>{const{target:m=Zf(t)}=g;return tv(m,y=>y.classList?(cy(y)&&T$(y,"__data__.normalized",VTe(r,{x:g.offsetX,y:g.offsetY})),y.classList.includes("element")):!1)};return(u?g=>{const m=Hu(e,g);if(!m)return;const[y]=r.invert(m),b=Ms(h).center,x=b(t,y),_=t[x];return!a&&t.find(k=>k!==_&&h(k)===h(_))?p(g):_}:p)(n)}function g7({root:e,event:n,elements:t,coordinate:r,scale:i,startX:a,startY:o}){const s=_n(r),l=[],u=[];for(const C of t){const{__data__:L}=C,{seriesX:I,title:j,items:F}=L;I?l.push(C):(j||F)&&u.push(C)}const c=C=>C.markType==="interval",f=u.length&&u.every(c)&&!nn(r),d=C=>C.__data__.x,p=!!i.x.getBandWidth&&u.length>0;l.sort((C,L)=>{const I=s?0:1,j=F=>F.getBounds().min[I];return s?j(L)-j(C):j(C)-j(L)});const v=C=>{const L=s?1:0,{min:I,max:j}=C.getLocalBounds();return oo([I[L],j[L]])};f?t.sort((C,L)=>d(C)-d(L)):u.sort((C,L)=>{const[I,j]=v(C),[F,z]=v(L),D=(I+j)/2,B=(F+z)/2;return s?B-D:D-B});const g=new Map(l.map(C=>{const{__data__:L}=C,{seriesX:I}=L,j=I.map((z,D)=>D),F=oo(j,z=>I[+z]);return[C,[F,I]]})),{x:m}=i,y=m!=null&&m.getBandWidth?m.getBandWidth()/2:0,b=C=>{const[L]=r.invert(C);return L-y},x=(C,L,I,j)=>{const{_x:F}=C,z=F!==void 0?m.map(F):b(L),D=j.filter(bn),[B,U]=oo([D[0],D[D.length-1]]),q=B===U;if(!p&&(z<B||z>U)&&!q)return null;const $=Ms(Q=>j[+Q]).center,W=$(I,z);return I[W]},_=f?(C,L)=>{const I=Ms(d).center,j=I(L,b(C)),F=L[j];return yn(L,d).get(d(F))}:(C,L)=>{const j=C[s?1:0],F=L.filter(B=>{const[U,q]=v(B);return j>=U&&j<=q});if(!p||F.length>0)return F;const z=Ms(B=>{const[U,q]=v(B);return(U+q)/2}).center,D=z(L,j);return[L[D]].filter(bn)},w=(C,L)=>{const{__data__:I}=C;return Object.fromEntries(Object.entries(I).filter(([j])=>j.startsWith("series")&&j!=="series").map(([j,F])=>{const z=F[L];return[k$(j.replace("series","")),z]}))},k=Hu(e,n);if(!k)return;const O=[k[0]-a,k[1]-o];if(!O)return;const S=_(O,u),E=[],T=[];for(const C of l){const[L,I]=g.get(C),j=x(n,O,L,I);if(j!==null){E.push(C);const F=w(C,j),{x:z,y:D}=F,B=r.map([(z||0)+y,D||0]);T.push([Object.assign(Object.assign({},F),{element:C}),B])}}const M=Array.from(new Set(T.map(C=>C[0].x))),P=M[Rp(M,C=>Math.abs(C-b(O)))],A=T.filter(C=>C[0].x===P),N=[...A.map(C=>C[0]),...S.map(C=>C.__data__)];return{selectedElements:[...E,...S],selectedData:N,filteredSeriesData:A,abstractX:b}}function TR(e,n){var{elements:t,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:l,crosshairsY:u,render:c,groupName:f,emitter:d,wait:h=50,leading:p=!0,trailing:v=!1,startX:g=0,startY:m=0,body:y=!0,single:b=!0,position:x,enterable:_,mount:w,bounding:k,theme:O,offset:S,disableNative:E=!1,marker:T=!0,preserve:M=!1,style:P={},css:A={}}=n,N=Vu(n,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const R=t(e),C=ye(P,N),L=nn(o),I=_n(o),{innerWidth:j,innerHeight:F,width:z,height:D,insetLeft:B,insetTop:U}=o.getOptions(),q=Au(Y=>{var re;const te=Hu(e,Y);if(!te)return;const ae=Sm(e),ue=ae.min[0],pe=ae.min[1],{selectedElements:ve,selectedData:Te,filteredSeriesData:ne,abstractX:ce}=g7({root:e,event:Y,elements:R,coordinate:o,scale:a,startX:g,startY:m}),be=c7(ve,a,f,Te,O);if(r&&be.items.sort((xe,et)=>r(xe)-r(et)),i&&(be.items=be.items.filter(i)),ve.length===0||p7(be)){$(Y);return}if(y&&s7({root:e,data:be,x:te[0]+ue,y:te[1]+pe,render:c,event:Y,single:b,position:x,enterable:_,mount:w,bounding:k,css:A,offset:S}),s||l||u){const xe=Pe(C,"crosshairs"),et=Object.assign(Object.assign({},xe),Pe(C,"crosshairsX")),at=Object.assign(Object.assign({},xe),Pe(C,"crosshairsY")),Kt=ne.map(Vt=>Vt[1]);l&&GTe(e,Kt,te,Object.assign(Object.assign({},et),{plotWidth:j,plotHeight:F,mainWidth:z,mainHeight:D,insetLeft:B,insetTop:U,startX:g,startY:m,transposed:I,polar:L})),u&&WTe(e,Kt,Object.assign(Object.assign({},at),{plotWidth:j,plotHeight:F,mainWidth:z,mainHeight:D,insetLeft:B,insetTop:U,startX:g,startY:m,transposed:I,polar:L}))}if(T){const xe=Pe(C,"marker");HTe(e,{data:ne,style:xe,theme:O})}const Ae=(re=ne[0])===null||re===void 0?void 0:re[0].x,Qe=Ae??ce(focus);d.emit("tooltip:show",Object.assign(Object.assign({},Y),{nativeEvent:!0,data:Object.assign(Object.assign({},be),{data:{x:Ff(a.x,Qe,!0)}})}))},h,{leading:p,trailing:v}),$=Y=>{ol({root:e,single:b,emitter:d,event:Y})},W=()=>{S2({root:e,single:b})},Q=Y=>{var re,{nativeEvent:te,data:ae,offsetX:ue,offsetY:pe}=Y,ve=Vu(Y,["nativeEvent","data","offsetX","offsetY"]);if(te)return;const Te=(re=ae==null?void 0:ae.data)===null||re===void 0?void 0:re.x,ce=a.x.map(Te),[be,Ae]=o.map([ce,.5]),Qe=e.getRenderBounds(),xe=Qe.min[0],et=Qe.min[1];q(Object.assign(Object.assign({},ve),{offsetX:ue!==void 0?ue:xe+be,offsetY:pe!==void 0?pe:et+Ae,_x:Te}))},oe=()=>{ol({root:e,single:b,emitter:d,nativeEvent:!1})},ee=()=>{X(),W()},H=()=>{G()},G=()=>{E||(e.addEventListener("pointerdown",q),e.addEventListener("pointerenter",q),e.addEventListener("pointermove",q),e.addEventListener("pointerleave",Y=>{Hu(e,Y)||$(Y)}),e.addEventListener("pointerup",$))},X=()=>{E||(e.removeEventListener("pointerdown",q),e.removeEventListener("pointerenter",q),e.removeEventListener("pointermove",q),e.removeEventListener("pointerleave",$),e.removeEventListener("pointerup",$))};return G(),d.on("tooltip:show",Q),d.on("tooltip:hide",oe),d.on("tooltip:disable",ee),d.on("tooltip:enable",H),()=>{X(),d.off("tooltip:show",Q),d.off("tooltip:hide",oe),d.off("tooltip:disable",ee),d.off("tooltip:enable",H),M?ol({root:e,single:b,emitter:d,nativeEvent:!1}):W()}}function XTe(e,{elements:n,coordinate:t,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:l,wait:u=50,leading:c=!0,trailing:f=!1,groupKey:d=T=>T,single:h=!0,position:p,enterable:v,datum:g,view:m,mount:y,bounding:b,theme:x,offset:_,shared:w=!1,body:k=!0,disableNative:O=!1,preserve:S=!1,css:E={}}){const T=n(e),M=yn(T,d),P=Au(F=>{const z=v7({root:e,event:F,elements:T,coordinate:t,scale:r,shared:w});if(!z){ol({root:e,single:h,emitter:l,event:F});return}const D=d(z),B=M.get(D);if(!B)return;const U=B.length===1&&!w?YTe(B[0]):c7(B,r,a,void 0,x);if(o&&U.items.sort((W,Q)=>o(W)-o(Q)),s&&(U.items=U.items.filter(s)),p7(U)){ol({root:e,single:h,emitter:l,event:F});return}const{offsetX:q,offsetY:$}=F;k&&s7({root:e,data:U,x:q,y:$,render:i,event:F,single:h,position:p,enterable:v,mount:y,bounding:b,css:E,offset:_}),l.emit("tooltip:show",Object.assign(Object.assign({},F),{nativeEvent:!0,data:Object.assign(Object.assign({},U),{data:J_(z,m)})}))},u,{leading:c,trailing:f}),A=F=>{ol({root:e,single:h,emitter:l,event:F})},N=()=>{O||(e.addEventListener("pointerdown",P),e.addEventListener("pointermove",P),e.addEventListener("pointerleave",A),e.addEventListener("pointerup",A))},R=()=>{O||(e.removeEventListener("pointerdown",P),e.removeEventListener("pointermove",P),e.removeEventListener("pointerleave",A),e.removeEventListener("pointerup",A))},C=({nativeEvent:F,offsetX:z,offsetY:D,data:B})=>{if(F)return;const{data:U}=B,q=hS(T,U,g);if(!q)return;const $=q.getBBox(),{x:W,y:Q,width:oe,height:ee}=$,H=e.getBBox();P({target:q,offsetX:z!==void 0?z+H.x:W+oe/2,offsetY:D!==void 0?D+H.y:Q+ee/2})},L=({nativeEvent:F}={})=>{F||ol({root:e,single:h,emitter:l,nativeEvent:!1})},I=()=>{R(),S2({root:e,single:h})},j=()=>{N()};return l.on("tooltip:show",C),l.on("tooltip:hide",L),l.on("tooltip:enable",j),l.on("tooltip:disable",I),N(),()=>{R(),l.off("tooltip:show",C),l.off("tooltip:hide",L),l.off("tooltip:enable",j),l.off("tooltip:disable",I),S?ol({root:e,single:h,emitter:l,nativeEvent:!1}):S2({root:e,single:h})}}function m7(e){const{shared:n,crosshairs:t,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:l=!1}=e,u=Vu(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(c,f,d)=>{const{container:h,view:p}=c,{scale:v,markState:g,coordinate:m,theme:y}=p,b=ER(g,"seriesTooltip"),x=ER(g,"crosshairs"),_=wo(h),w=Po(a,b),k=Po(t,x);if(w&&UTe(g)&&!l)return TR(_,Object.assign(Object.assign({},u),{theme:y,elements:Ol,scale:v,coordinate:m,crosshairs:k,crosshairsX:Po(Po(r,t),!1),crosshairsY:Po(i,k),item:s,emitter:d}));if(w&&l){const O=f.filter(A=>A!==c&&A.options.parentKey===c.options.key),S=V9(c,f),E=O[0].view.scale,T=_.getBounds(),M=T.min[0],P=T.min[1];return Object.assign(E,{facet:!0}),TR(_.parentNode.parentNode,Object.assign(Object.assign({},u),{theme:y,elements:()=>S,scale:E,coordinate:m,crosshairs:Po(t,x),crosshairsX:Po(Po(r,t),!1),crosshairsY:Po(i,k),item:s,startX:M,startY:P,emitter:d}))}return XTe(_,Object.assign(Object.assign({},u),{datum:Uu(p),elements:Ol,scale:v,coordinate:m,groupKey:n?Jp():void 0,item:s,emitter:d,view:p,theme:y,shared:n}))}}m7.props={reapplyWhenUpdate:!0};var Z0=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})};const y7="legend-category",qTe="legend-continuous",KTe="items-item",ZTe="legend-category-item-marker",QTe="legend-category-item-label";function b7(e){return e.getElementsByClassName(ZTe)[0]}function x7(e){return e.getElementsByClassName(QTe)[0]}function w7(e){return e.getElementsByClassName(KTe)}function vS(e){return e.getElementsByClassName(y7)}function _7(e){return e.getElementsByClassName(qTe)}function JTe(e,n){[...vS(e),..._7(e)].forEach(r=>{n(r,i=>i)})}function E2(e){let n=e.parentNode;for(;n&&!n.__data__;)n=n.parentNode;return n.__data__}function eMe(e,{legends:n,marker:t,label:r,datum:i,filter:a,emitter:o,channel:s,state:l={}}){const u=new Map,c=new Map,f=new Map,{unselected:d={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,h={unselected:Pe(d,"marker")},p={unselected:Pe(d,"label")},{setState:v,removeState:g}=yl(h,void 0),{setState:m,removeState:y}=yl(p,void 0),b=Array.from(n(e));let x=b.map(i);const _=()=>{for(const O of b){const S=i(O),E=t(O),T=r(O);x.includes(S)?(g(E,"unselected"),y(T,"unselected")):(v(E,"unselected"),m(T,"unselected"))}};for(const O of b){const S=()=>{nl(e,"pointer")},E=()=>{ETe(e)},T=M=>Z0(this,void 0,void 0,function*(){const P=i(O),A=x.indexOf(P);A===-1?x.push(P):x.splice(A,1),yield a(x),_();const{nativeEvent:N=!0}=M;N&&(x.length===b.length?o.emit("legend:reset",{nativeEvent:N}):o.emit("legend:filter",Object.assign(Object.assign({},M),{nativeEvent:N,data:{channel:s,values:x}})))});O.addEventListener("click",T),O.addEventListener("pointerenter",S),O.addEventListener("pointerout",E),u.set(O,T),c.set(O,S),f.set(O,E)}const w=O=>Z0(this,void 0,void 0,function*(){const{nativeEvent:S}=O;if(S)return;const{data:E}=O,{channel:T,values:M}=E;T===s&&(x=M,yield a(x),_())}),k=O=>Z0(this,void 0,void 0,function*(){const{nativeEvent:S}=O;S||(x=b.map(i),yield a(x),_())});return o.on("legend:filter",w),o.on("legend:reset",k),()=>{for(const O of b)O.removeEventListener("click",u.get(O)),O.removeEventListener("pointerenter",c.get(O)),O.removeEventListener("pointerout",f.get(O)),o.off("legend:filter",w),o.off("legend:reset",k)}}function tMe(e,{legend:n,filter:t,emitter:r,channel:i}){const a=({detail:{value:o}})=>{t(o),r.emit({nativeEvent:!0,data:{channel:i,values:o}})};return n.addEventListener("valuechange",a),()=>{n.removeEventListener("valuechange",a)}}function k7(e,{legend:n,channel:t,value:r,ordinal:i,channels:a,allChannels:o,facet:s=!1}){return Z0(this,void 0,void 0,function*(){const{view:l,update:u,setState:c}=e;c(n,f=>{const{marks:d}=f,h=d.map(p=>{if(p.type==="legends")return p;const{transform:v=[],data:g=[]}=p,m=v.findIndex(({type:x})=>x.startsWith("group")||x.startsWith("bin")),y=[...v];g.length&&y.splice(m+1,0,{type:"filter",[t]:{value:r,ordinal:i}});const b=Object.fromEntries(a.map(x=>[x,{domain:l.scale[x].getOptions().domain}]));return ye({},p,Object.assign(Object.assign({transform:y,scale:b},!i&&{animate:!1}),{legend:s?!1:Object.fromEntries(o.map(x=>[x,{preserve:!0}]))}))});return Object.assign(Object.assign({},f),{marks:h})}),yield u()})}function nMe(e,n){for(const t of e)k7(t,Object.assign(Object.assign({},n),{facet:!0}))}function rMe(){return(e,n,t)=>{const{container:r}=e,i=n.filter(f=>f!==e),a=i.length>0,o=f=>E2(f).scales.map(d=>d.name),s=[...vS(r),..._7(r)],l=s.flatMap(o),u=a?Au(nMe,50,{trailing:!0}):Au(k7,50,{trailing:!0}),c=s.map(f=>{const{name:d,domain:h}=E2(f).scales[0],p=o(f),v={legend:f,channel:d,channels:p,allChannels:l};return f.className===y7?eMe(r,{legends:w7,marker:b7,label:x7,datum:g=>{const{__data__:m}=g,{index:y}=m;return h[y]},filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!0});u(a?i:e,m)},state:f.attributes.state,channel:d,emitter:t}):tMe(r,{legend:f,filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!1});u(a?i:e,m)},emitter:t,channel:d})});return()=>{c.forEach(f=>f())}}}function iMe(){return(e,n,t)=>{const{container:r,view:i,options:a}=e,o=vS(r),s=Ol(r),l=h=>E2(h).scales[0].name,u=h=>{const{scale:{[h]:p}}=i;return p},c=Wf(a,["active","inactive"]),f=ev(s,Uu(i)),d=[];for(const h of o){const p=j=>{const{data:F}=h.attributes,{__data__:z}=j,{index:D}=z;return F[D].label},v=l(h),g=w7(h),m=u(v),y=yn(s,j=>m.invert(j.__data__[v])),{state:b={}}=h.attributes,{inactive:x={}}=b,{setState:_,removeState:w}=yl(c,f),k={inactive:Pe(x,"marker")},O={inactive:Pe(x,"label")},{setState:S,removeState:E}=yl(k),{setState:T,removeState:M}=yl(O),P=j=>{for(const F of g){const z=b7(F),D=x7(F);F===j||j===null?(E(z,"inactive"),M(D,"inactive")):(S(z,"inactive"),T(D,"inactive"))}},A=(j,F)=>{const z=p(F),D=new Set(y.get(z));for(const U of s)D.has(U)?_(U,"active"):_(U,"inactive");P(F);const{nativeEvent:B=!0}=j;B&&t.emit("legend:highlight",Object.assign(Object.assign({},j),{nativeEvent:B,data:{channel:v,value:z}}))},N=new Map;for(const j of g){const F=z=>{A(z,j)};j.addEventListener("pointerover",F),N.set(j,F)}const R=j=>{for(const z of s)w(z,"inactive","active");P(null);const{nativeEvent:F=!0}=j;F&&t.emit("legend:unhighlight",{nativeEvent:F})},C=j=>{const{nativeEvent:F,data:z}=j;if(F)return;const{channel:D,value:B}=z;if(D!==v)return;const U=g.find(q=>p(q)===B);U&&A({nativeEvent:!1},U)},L=j=>{const{nativeEvent:F}=j;F||R({nativeEvent:!1})};h.addEventListener("pointerleave",R),t.on("legend:highlight",C),t.on("legend:unhighlight",L);const I=()=>{h.removeEventListener(R),t.off("legend:highlight",C),t.off("legend:unhighlight",L);for(const[j,F]of N)j.removeEventListener(F)};d.push(I)}return()=>d.forEach(h=>h())}}var _a=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function aMe(e,n){const[t,r,i,a]=e,[o,s,l,u]=n;return!(o>i||l<t||s>a||u<r)}function oMe(e,n,t,r,i){const[a,o,s,l]=i;return[Math.max(a,Math.min(e,t)),Math.max(o,Math.min(n,r)),Math.min(s,Math.max(e,t)),Math.min(l,Math.max(n,r))]}function sMe(e){const{width:n,height:t}=e.getBBox();return[0,0,n,t]}function gs(e,n){for(const[t,r]of Object.entries(n))e.style(t,r)}const MR=Cf(e=>{const n=e.attributes,{x:t,y:r,width:i,height:a,class:o,renders:s={},handleSize:l=10,document:u}=n,c=_a(n,["x","y","width","height","class","renders","handleSize","document"]);if(!u||i===void 0||a===void 0||t===void 0||r===void 0)return;const f=l/2,d=(B,U,q)=>{B.handle||(B.handle=q.createElement("rect"),B.append(B.handle));const{handle:$}=B;return $.attr(U),$},h=Pe(Y0(c,"handleNW","handleNE"),"handleN"),{render:p=d}=h,v=_a(h,["render"]),g=Pe(c,"handleE"),{render:m=d}=g,y=_a(g,["render"]),b=Pe(Y0(c,"handleSE","handleSW"),"handleS"),{render:x=d}=b,_=_a(b,["render"]),w=Pe(c,"handleW"),{render:k=d}=w,O=_a(w,["render"]),S=Pe(c,"handleNW"),{render:E=d}=S,T=_a(S,["render"]),M=Pe(c,"handleNE"),{render:P=d}=M,A=_a(M,["render"]),N=Pe(c,"handleSE"),{render:R=d}=N,C=_a(N,["render"]),L=Pe(c,"handleSW"),{render:I=d}=L,j=_a(L,["render"]),F=(B,U)=>{const{id:q}=B,$=U(B,B.attributes,u);$.id=q,$.style.draggable=!0},z=B=>()=>{const U=Cf(q=>F(q,B));return new U({})},D=ot(e).attr("className",o).style("transform",`translate(${t}, ${r})`).style("draggable",!0);D.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(gs,Object.assign(Object.assign({width:i,height:a},Y0(c,"handle")),{transform:void 0})),D.maybeAppend("handle-n",z(p)).style("x",f).style("y",-f).style("width",i-l).style("height",l).style("fill","transparent").call(gs,v),D.maybeAppend("handle-e",z(m)).style("x",i-f).style("y",f).style("width",l).style("height",a-l).style("fill","transparent").call(gs,y),D.maybeAppend("handle-s",z(x)).style("x",f).style("y",a-f).style("width",i-l).style("height",l).style("fill","transparent").call(gs,_),D.maybeAppend("handle-w",z(k)).style("x",-f).style("y",f).style("width",l).style("height",a-l).style("fill","transparent").call(gs,O),D.maybeAppend("handle-nw",z(E)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(gs,T),D.maybeAppend("handle-ne",z(P)).style("x",i-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(gs,A),D.maybeAppend("handle-se",z(R)).style("x",i-f).style("y",a-f).style("width",l).style("height",l).style("fill","transparent").call(gs,C),D.maybeAppend("handle-sw",z(I)).style("x",-f).style("y",a-f).style("width",l).style("height",l).style("fill","transparent").call(gs,j)});function gS(e,n){var{brushed:t=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=sMe(e),brushRegion:l=($,W,Q,oe,ee)=>[$,W,Q,oe],reverse:u=!1,fill:c="#777",fillOpacity:f="0.3",stroke:d="#fff",selectedHandles:h=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=n,p=_a(n,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let v=null,g=null,m=null,y=null,b=null,x=!1;const[_,w,k,O]=s;nl(e,"crosshair"),e.style.draggable=!0;const S=($,W,Q)=>{if(a(Q),y&&y.remove(),b&&b.remove(),v=[$,W],u)return E();T()},E=()=>{b=new ca({style:Object.assign(Object.assign({},p),{fill:c,fillOpacity:f,stroke:d,pointerEvents:"none"})}),y=new MR({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(b),e.appendChild(y)},T=()=>{y=new MR({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},p),{fill:c,fillOpacity:f,stroke:d,draggable:!0}),className:"mask"}),e.appendChild(y)},M=($=!0)=>{y&&y.remove(),b&&b.remove(),v=null,g=null,m=null,x=!1,y=null,b=null,r($)},P=($,W,Q=!0)=>{const[oe,ee,H,G]=oMe($[0],$[1],W[0],W[1],s),[X,Y,re,te]=l(oe,ee,H,G,s);return u?N(X,Y,re,te):A(X,Y,re,te),t(X,Y,re,te,Q),[X,Y,re,te]},A=($,W,Q,oe)=>{y.style.x=$,y.style.y=W,y.style.width=Q-$,y.style.height=oe-W},N=($,W,Q,oe)=>{b.style.d=`
      M${_},${w}L${k},${w}L${k},${O}L${_},${O}Z
      M${$},${W}L${$},${oe}L${Q},${oe}L${Q},${W}Z
    `,y.style.x=$,y.style.y=W,y.style.width=Q-$,y.style.height=oe-W},R=$=>{const W=(Y,re,te,ae,ue)=>Y+re<ae?ae-re:Y+te>ue?ue-te:Y,Q=$[0]-m[0],oe=$[1]-m[1],ee=W(Q,v[0],g[0],_,k),H=W(oe,v[1],g[1],w,O),G=[v[0]+ee,v[1]+H],X=[g[0]+ee,g[1]+H];P(G,X)},C={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},L=$=>j($)||I($),I=$=>{const{id:W}=$;return h.indexOf(W)===-1?!1:new Set(Object.keys(C)).has(W)},j=$=>$===y.getElementById("selection"),F=$=>{const{target:W}=$,[Q,oe]=ox(e,$);if(!y||!L(W)){S(Q,oe,$),x=!0;return}L(W)&&(m=[Q,oe])},z=$=>{const{target:W}=$,Q=ox(e,$);if(!v)return;if(!m)return P(v,Q);if(j(W))return R(Q);const[oe,ee]=[Q[0]-m[0],Q[1]-m[1]],{id:H}=W;if(C[H]){const[G,X,Y,re]=C[H].vector;return P([v[0]+oe*G,v[1]+ee*X],[g[0]+oe*Y,g[1]+ee*re])}},D=$=>{if(m){m=null;const{x:H,y:G,width:X,height:Y}=y.style;v=[H,G],g=[H+X,G+Y],o(H,G,H+X,G+Y,$);return}g=ox(e,$);const[W,Q,oe,ee]=P(v,g);x=!1,i(W,Q,oe,ee,$)},B=$=>{const{target:W}=$;y&&!L(W)&&M()},U=$=>{const{target:W}=$;!y||!L(W)||x?nl(e,"crosshair"):j(W)?nl(e,"move"):I(W)&&nl(e,C[W.id].cursor)},q=()=>{nl(e,"default")};return e.addEventListener("dragstart",F),e.addEventListener("drag",z),e.addEventListener("dragend",D),e.addEventListener("click",B),e.addEventListener("pointermove",U),e.addEventListener("pointerleave",q),{mask:y,move($,W,Q,oe,ee=!0){y||S($,W,{}),v=[$,W],g=[Q,oe],P([$,W],[Q,oe],ee)},remove($=!0){y&&M($)},destroy(){y&&M(!1),nl(e,"default"),e.removeEventListener("dragstart",F),e.removeEventListener("drag",z),e.removeEventListener("dragend",D),e.removeEventListener("click",B),e.removeEventListener("pointermove",U),e.removeEventListener("pointerleave",q)}}}function mS(e,n,t){return n.filter(r=>{if(r===e)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===t)})}function lMe(e,n,t){return mS(e,n,t).map(r=>wo(r.container))}function uMe(e,n,t){return mS(e,n,t).map(r=>r.options)}function AR(e,n){var{elements:t,selectedHandles:r,siblings:i=z=>[],datum:a,brushRegion:o,extent:s,reverse:l,scale:u,coordinate:c,series:f=!1,key:d=z=>z,bboxOf:h=z=>{const{x:D,y:B,width:U,height:q}=z.style;return{x:D,y:B,width:U,height:q}},state:p={},emitter:v}=n,g=_a(n,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const m=t(e),y=i(e),b=y.flatMap(t),x=ev(m,a),_=Pe(g,"mask"),{setState:w,removeState:k}=yl(p,x),O=new Map,{width:S,height:E,x:T=0,y:M=0}=h(e),P=s||[0,0,S,E],A=()=>{for(const z of[...m,...b])k(z,"active","inactive")},N=(z,D,B,U)=>{var q;for(const W of y)(q=W.brush)===null||q===void 0||q.remove();const $=new Set;for(const W of m){const{min:Q,max:oe}=W.getLocalBounds(),[ee,H]=Q,[G,X]=oe;aMe([ee,H,G,X],[z,D,B,U])?(w(W,"active"),$.add(d(W))):w(W,"inactive")}for(const W of b)$.has(d(W))?w(W,"active"):w(W,"inactive")},R=()=>{for(const z of m)k(z,"inactive");for(const z of O.values())z.remove();O.clear()},C=(z,D,B,U)=>{const q=W=>{const Q=W.cloneNode();return Q.__data__=W.__data__,W.parentNode.appendChild(Q),O.set(W,Q),Q},$=new nc({style:{x:z+T,y:D+M,width:B-z,height:U-D}});e.appendChild($);for(const W of m){const Q=O.get(W)||q(W);Q.style.clipPath=$,w(W,"inactive"),w(Q,"active")}},L=gS(e,Object.assign(Object.assign({},_),{extent:P,brushRegion:o,reverse:l,selectedHandles:r,brushended:z=>{const D=f?R:A;z&&v.emit("brush:remove",{nativeEvent:!0}),D()},brushed:(z,D,B,U,q)=>{const $=X0(z,D,B,U,u,c);q&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:$}}),(f?C:N)(z,D,B,U)},brushcreated:(z,D,B,U,q)=>{const $=X0(z,D,B,U,u,c);v.emit("brush:end",Object.assign(Object.assign({},q),{nativeEvent:!0,data:{selection:$}}))},brushupdated:(z,D,B,U,q)=>{const $=X0(z,D,B,U,u,c);v.emit("brush:end",Object.assign(Object.assign({},q),{nativeEvent:!0,data:{selection:$}}))},brushstarted:z=>{v.emit("brush:start",z)}})),I=({nativeEvent:z,data:D})=>{if(z)return;const{selection:B}=D,[U,q,$,W]=Wxe(B,u,c);L.move(U,q,$,W,!1)};v.on("brush:highlight",I);const j=({nativeEvent:z}={})=>{z||L.remove(!1)};v.on("brush:remove",j);const F=L.destroy.bind(L);return L.destroy=()=>{v.off("brush:highlight",I),v.off("brush:remove",j),F()},L}function yS(e){var{facet:n,brushKey:t}=e,r=_a(e,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:l,options:u}=i,c=wo(s),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},d=["active",["inactive",{opacity:.5}]],{scale:h,coordinate:p}=l;if(n){const g=c.getBounds(),m=g.min[0],y=g.min[1],b=g.max[0],x=g.max[1];return AR(c.parentNode.parentNode,Object.assign(Object.assign({elements:()=>V9(i,a),datum:Uu(O2(i,a).map(_=>_.view)),brushRegion:(_,w,k,O)=>[_,w,k,O],extent:[m,y,b,x],state:Wf(O2(i,a).map(_=>_.options),d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r))}const v=AR(c,Object.assign(Object.assign({elements:Ol,key:g=>g.__data__.key,siblings:()=>lMe(i,a,t),datum:Uu([l,...mS(i,a,t).map(g=>g.view)]),brushRegion:(g,m,y,b)=>[g,m,y,b],extent:void 0,state:Wf([u,...uMe(i,a,t)],d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r));return c.brush=v,()=>v.destroy()}}function bS(e,n,t,r,i){const[,a,,o]=i;return[e,a,t,o]}function cMe(e){return yS(Object.assign(Object.assign({},e),{brushRegion:bS,selectedHandles:["handle-e","handle-w"]}))}function xS(e,n,t,r,i){const[a,,o]=i;return[a,n,o,r]}function fMe(e){return yS(Object.assign(Object.assign({},e),{brushRegion:xS,selectedHandles:["handle-n","handle-s"]}))}var wS=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const dMe="axis",hMe="axis-line",pMe="axis-main-group",O7="axis-hot-area";function vMe(e){return e.getElementsByClassName(dMe)}function S7(e){return e.getElementsByClassName(hMe)[0]}function gMe(e){return e.getElementsByClassName(pMe)[0]}function E7(e){return gMe(e).getLocalBounds()}function mMe(e,n){var{cross:t,offsetX:r,offsetY:i}=n,a=wS(n,["cross","offsetX","offsetY"]);const o=E7(e),s=S7(e),[l]=s.getLocalBounds().min,[u,c]=o.min,[f,d]=o.max,h=(f-u)*2;return{brushRegion:xS,hotZone:new nc({className:O7,style:Object.assign({width:t?h/2:h,transform:`translate(${(t?u:l-h/2).toFixed(2)}, ${c})`,height:d-c},a)}),extent:t?(p,v,g,m)=>[-1/0,v,1/0,m]:(p,v,g,m)=>[Math.floor(u-r),v,Math.ceil(f-r),m]}}function yMe(e,n){var{offsetY:t,offsetX:r,cross:i=!1}=n,a=wS(n,["offsetY","offsetX","cross"]);const o=E7(e),s=S7(e),[,l]=s.getLocalBounds().min,[u,c]=o.min,[f,d]=o.max,h=d-c;return{brushRegion:bS,hotZone:new nc({className:O7,style:Object.assign({width:f-u,height:i?h:h*2,transform:`translate(${u}, ${i?c:l-h})`},a)}),extent:i?(p,v,g,m)=>[p,-1/0,g,1/0]:(p,v,g,m)=>[p,Math.floor(c-t),g,Math.ceil(d-t)]}}function bMe(e,n){var{axes:t,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:l,reverse:u=!1,state:c={},emitter:f,coordinate:d}=n,h=wS(n,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(e),v=t(e),g=ev(p,o),{setState:m,removeState:y}=yl(c,g),b=new Map,x=Pe(h,"mask"),_=I=>Array.from(b.values()).every(([j,F,z,D])=>I.some(([B,U])=>B>=j&&B<=z&&U>=F&&U<=D)),w=v.map(I=>I.attributes.scale),k=I=>I.length>2?[I[0],I[I.length-1]]:I,O=new Map,S=()=>{O.clear();for(let I=0;I<v.length;I++){const j=w[I],{domain:F}=j.getOptions();O.set(I,k(F))}};S();const E=(I,j)=>{const F=[];for(const D of p){const B=i(D);_(B)?(m(D,"active"),F.push(D)):m(D,"inactive")}if(O.set(I,M(F,I)),!j)return;const z=()=>{if(!P)return Array.from(O.values());const D=[];for(const[B,U]of O){const q=w[B],{name:$}=q.getOptions();$==="x"?D[0]=U:D[1]=U}return D};f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:z()}})},T=I=>{for(const j of p)y(j,"active","inactive");S(),I&&f.emit("brushAxis:remove",{nativeEvent:!0})},M=(I,j)=>{const F=w[j],{name:z}=F.getOptions(),D=I.map(B=>{const U=B.__data__;return F.invert(U[z])});return k(dl(F,D))},P=v.some(a)&&v.some(I=>!a(I)),A=[];for(let I=0;I<v.length;I++){const j=v[I],F=a(j)?yMe:mMe,{hotZone:z,brushRegion:D,extent:B}=F(j,{offsetY:s,offsetX:l,cross:P,zIndex:999,fill:"transparent"});j.parentNode.appendChild(z);const U=gS(z,Object.assign(Object.assign({},x),{reverse:u,brushRegion:D,brushended(q){b.delete(j),Array.from(b.entries()).length===0?T(q):E(I,q)},brushed(q,$,W,Q,oe){b.set(j,B(q,$,W,Q)),E(I,oe)}}));A.push(U)}const N=(I={})=>{const{nativeEvent:j}=I;j||A.forEach(F=>F.remove(!1))},R=(I,j,F)=>{const[z,D]=I,B=$=>$.getStep?$.getStep():0,U=C(z,j,F),q=C(D,j,F)+B(j);return a(F)?[U,-1/0,q,1/0]:[-1/0,U,1/0,q]},C=(I,j,F)=>{const{height:z,width:D}=d.getOptions(),B=j.clone();return a(F)?B.update({range:[0,D]}):B.update({range:[z,0]}),B.map(I)},L=I=>{const{nativeEvent:j}=I;if(j)return;const{selection:F}=I.data;for(let z=0;z<A.length;z++){const D=F[z],B=A[z],U=v[z];if(D){const q=w[z];B.move(...R(D,q,U),!1)}else B.remove(!1)}};return f.on("brushAxis:remove",N),f.on("brushAxis:highlight",L),()=>{A.forEach(I=>I.destroy()),f.off("brushAxis:remove",N),f.off("brushAxis:highlight",L)}}function xMe(e){return(n,t,r)=>{const{container:i,view:a,options:o}=n,s=wo(i),{x:l,y:u}=s.getBBox(),{coordinate:c}=a;return bMe(i,Object.assign({elements:Ol,axes:vMe,offsetY:u,offsetX:l,points:f=>f.__data__.points,horizontal:f=>{const{startPos:[d,h],endPos:[p,v]}=f.attributes;return d!==p&&h===v},datum:Uu(a),state:Wf(o,["active",["inactive",{opacity:.5}]]),coordinate:c,emitter:r},e))}}var wMe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},T7=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function _Me(e=300){let n=null;return t=>{const{timeStamp:r}=t;return n!==null&&r-n<e?(n=r,!0):(n=r,!1)}}function kMe(e,n){var{filter:t,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:l,coordinate:u,selection:c,series:f=!1}=n,d=T7(n,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const h=Pe(d,"mask"),{width:p,height:v}=e.getBBox(),g=a||[0,0,p,v],m=_Me(),y=gS(e,Object.assign(Object.assign({},h),{extent:g,brushRegion:i,reverse:o,brushcreated:b}));e.addEventListener("click",x);function b(w,k,O,S,E){w===O&&k===S||(E.nativeEvent=!0,t(c(w,k,O,S),E),y.remove())}function x(w){m(w)&&(w.nativeEvent=!0,r(w))}const _=({nativeEvent:w,data:k})=>{if(w)return;const{selection:O}=k;t(O,{nativeEvent:!1})};return s.on("brush:filter",_),()=>{y.destroy(),s.off("brush:filter",_),e.removeEventListener("click",x)}}function _S(e){var{hideX:n=!0,hideY:t=!0}=e,r=T7(e,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:l,options:u,update:c,setState:f}=i,d=wo(s),h={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let p=!1,v=!1,g=l;const{scale:m,coordinate:y}=l;return kMe(d,Object.assign(Object.assign({brushRegion:(b,x,_,w)=>[b,x,_,w],selection:(b,x,_,w)=>{const{scale:k,coordinate:O}=g;return X0(b,x,_,w,k,O)},filter:(b,x)=>wMe(this,void 0,void 0,function*(){if(v)return;v=!0;const[_,w]=b;f("brushFilter",O=>{const{marks:S}=O,E=S.map(T=>ye({axis:Object.assign(Object.assign({},n&&{x:{transform:[{type:"hide"}]}}),t&&{y:{transform:[{type:"hide"}]}})},T,{scale:{x:{domain:_,nice:!1},y:{domain:w,nice:!1}}}));return Object.assign(Object.assign({},u),{marks:E,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},x),{data:{selection:[_,w]}})),g=(yield c()).view,v=!1,p=!0}),reset:b=>{if(v||!p)return;const{scale:x}=l,{x:_,y:w}=x,k=_.getOptions().domain,O=w.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[k,O]}})),p=!1,g=l,f("brushFilter"),c()},extent:void 0,emitter:o,scale:m,coordinate:y},h),r))}}function OMe(e){return _S(Object.assign(Object.assign({hideX:!0},e),{brushRegion:bS}))}function SMe(e){return _S(Object.assign(Object.assign({hideY:!0},e),{brushRegion:xS}))}var EMe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})};const TMe="slider";function MMe(e,n,t,r=!1,i="x",a="y"){const{marks:o}=e,s=o.map(l=>{var u,c;return ye({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:n,[t]:Object.assign(Object.assign({},((u=l[t])===null||u===void 0?void 0:u[i])&&{[i]:Object.assign({preserve:!0},r&&{ratio:null})}),((c=l[t])===null||c===void 0?void 0:c[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:s,clip:!0,animate:!1})}function AMe(e,n,t){const[r,i]=e,a=t?l=>1-l:l=>l,o=Ff(n,a(r),!0),s=Ff(n,a(i),!1);return dl(n,[o,s])}function A0(e){return[e[0],e[e.length-1]]}function M7({initDomain:e={},className:n=TMe,prefix:t="slider",setValue:r=(u,c)=>u.setValues(c),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,getInitValues:l=u=>{var c;const f=(c=u==null?void 0:u.attributes)===null||c===void 0?void 0:c.values;if(f[0]!==0||f[1]!==1)return f}}){return(u,c,f)=>{const{container:d,view:h,update:p,setState:v}=u,g=d.getElementsByClassName(n);if(!g.length)return()=>{};let m=!1;const{scale:y,coordinate:b,layout:x}=h,{paddingLeft:_,paddingTop:w,paddingBottom:k,paddingRight:O}=x,{x:S,y:E}=y,T=_n(b),M=R=>{const C=R==="vertical"?"y":"x",L=R==="vertical"?"x":"y";return T?[L,C]:[C,L]},P=new Map,A=new Set,N={x:e.x||S.getOptions().domain,y:e.y||E.getOptions().domain};for(const R of g){const{orientation:C}=R.attributes,[L,I]=M(C),j=`${t}${Cl(L)}:filter`,F=L==="x",{ratio:z}=S.getOptions(),{ratio:D}=E.getOptions(),B=W=>{if(W.data){const{selection:G}=W.data,[X=A0(N.x),Y=A0(N.y)]=G;return F?[dl(S,X,z),dl(E,Y,D)]:[dl(E,Y,D),dl(S,X,z)]}const{value:Q}=W.detail,oe=y[L],ee=AMe(Q,oe,T&&C==="horizontal"),H=N[I];return[ee,H]},U=Au(W=>EMe(this,void 0,void 0,function*(){const{initValue:Q=!1}=W;if(m&&!Q)return;m=!0;const{nativeEvent:oe=!0}=W,ee=S.getOptions();Gt(ee,"domain.length")!==Gt(ee,"expectedDomain.length")&&S.update({domain:ee.expectedDomain});const H=E.getOptions();Gt(H,"domain.length")!==Gt(H,"expectedDomain.length")&&E.update({domain:H.expectedDomain});const[G,X]=B(W);if(N[L]=G,N[I]=X,oe){const Y=F?G:X,re=F?X:G;f.emit(j,Object.assign(Object.assign({},W),{nativeEvent:oe,data:{selection:[A0(Y),A0(re)]}}))}v(R,Y=>Object.assign(Object.assign({},MMe(Y,{[L]:{domain:G,nice:!1}},t,i,L,I)),{paddingLeft:_,paddingTop:w,paddingBottom:k,paddingRight:O})),yield p(),m=!1}),a,{leading:o,trailing:s}),q=W=>{const{nativeEvent:Q}=W;if(Q)return;const{data:oe}=W,{selection:ee}=oe,[H,G]=ee;R.dispatchEvent(new Ir("valuechange",{data:oe,nativeEvent:!1}));const X=F?im(H,S):im(G,E);r(R,X)};f.on(j,q),R.addEventListener("valuechange",U),P.set(R,U),A.add([j,q]);const $=l(R);$&&R.dispatchEvent(new Ir("valuechange",{detail:{value:$},nativeEvent:!1,initValue:!0}))}return()=>{for(const[R,C]of P)R.removeEventListener("valuechange",C);for(const[R,C]of A)f.off(R,C)}}}const PR="g2-scrollbar";function PMe(e={}){return(n,t,r)=>{const{view:i,container:a}=n;if(!a.getElementsByClassName(PR).length)return()=>{};const{scale:s}=i,{x:l,y:u}=s,c={x:[...l.getOptions().domain],y:[...u.getOptions().domain]};return M7(Object.assign({initDomain:c,className:PR,prefix:"scrollbar",hasState:!0,setValue:(d,h)=>d.setValue(h[0]),getInitValues:d=>{const h=d.slider.attributes.values;if(h[0]!==0)return h}},e))(n,t,r)}}var CMe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function RMe(e,n,t){return`<${e} style="${Object.entries(t).map(([r,i])=>`${xce(r)}:${i}`).join(";")}">${n}</${e}>`}const NMe={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function CR(e){return e.nodeName!=="text"?!1:!!e.isOverflowing()}function A7(e){var{offsetX:n=8,offsetY:t=8}=e,r=CMe(e,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,l=Pe(r,"tip"),u=new Set,c=d=>{const{target:h}=d;if(!CR(h)){d.stopPropagation();return}const{offsetX:p,offsetY:v}=d,g=p+n-o,m=v+t-s;if(h.tip){h.tip.style.x=g,h.tip.style.y=m;return}const{text:y}=h.style,b=new Ey({className:"poptip",style:{innerHTML:RMe("div",y,Object.assign(Object.assign({},NMe),l)),x:g,y:m}});a.appendChild(b),h.tip=b,u.add(b)},f=d=>{const{target:h}=d;if(!CR(h)){d.stopPropagation();return}h.tip&&(h.tip.remove(),h.tip=null,u.delete(h.tip))};return a.addEventListener("pointerover",c),a.addEventListener("pointerout",f),()=>{a.removeEventListener("pointerover",c),a.removeEventListener("pointerout",f),u.forEach(d=>d.remove())}}}A7.props={reapplyWhenUpdate:!0};var LMe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},$Me=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function IMe(e){return ot(e).select(`.${om}`).node()}const DMe={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function FMe(e={}){const{originData:n=[],layout:t}=e,r=$Me(e,["originData","layout"]),i=ye({},DMe,r),a=Pe(i,"breadCrumb"),o=Pe(i,"active");return s=>{const{update:l,setState:u,container:c,options:f}=s,d=IMe(c),h=f.marks[0],{state:p}=h,v=new Ds;d.appendChild(v);const g=(w,k)=>LMe(this,void 0,void 0,function*(){if(v.removeChildren(),k){let O="",S=a.y,E=0;const T=[],M=d.getBBox().width,P=w.map((A,N)=>{O=`${O}${A}/`,T.push(A);const R=new rs({name:O.replace(/\/$/,""),style:Object.assign(Object.assign({text:A,x:E,path:[...T],depth:N},a),{y:S})});v.appendChild(R),E+=R.getBBox().width;const C=new rs({style:Object.assign(Object.assign({x:E,text:" / "},a),{y:S})});return v.appendChild(C),E+=C.getBBox().width,E>M&&(S=v.getBBox().height+a.y,E=0,R.attr({x:E,y:S}),E+=R.getBBox().width,C.attr({x:E,y:S}),E+=C.getBBox().width),N===mg(w)-1&&C.remove(),R});P.forEach((A,N)=>{if(N===mg(P)-1)return;const R=Object.assign({},A.attributes);A.attr("cursor","pointer"),A.addEventListener("mouseenter",()=>{A.attr(o)}),A.addEventListener("mouseleave",()=>{A.attr(R)}),A.addEventListener("click",()=>{g(Gt(A,["style","path"]),Gt(A,["style","depth"]))})})}JTe(c,u),u("treemapDrillDown",O=>{const{marks:S}=O,E=w.join("/"),T=S.map(M=>{if(M.type!=="rect")return M;let P=n;if(k){const N=n.filter(j=>{const F=Gt(j,["id"]);return F&&(F.match(`${E}/`)||E.match(F))}).map(j=>({value:j.height===0?Gt(j,["value"]):void 0,name:Gt(j,["id"])})),{paddingLeft:R,paddingBottom:C,paddingRight:L}=t,I=Object.assign(Object.assign({},t),{paddingTop:(t.paddingTop||v.getBBox().height+10)/(k+1),paddingLeft:R/(k+1),paddingBottom:C/(k+1),paddingRight:L/(k+1),path:j=>j.name,layer:j=>j.depth===k+1});P=wB(N,I,{value:"value"})[0]}else P=n.filter(N=>N.depth===1);const A=[];return P.forEach(({path:N})=>{A.push(Zf(N))}),ye({},M,{data:P,scale:{color:{domain:A}}})});return Object.assign(Object.assign({},O),{marks:T})}),yield l(void 0,["legendFilter"])}),m=w=>w.attributes.key.split("-")[0],y=w=>Gt(w,["__data__","key"]),b=w=>{const k=w.target,{markType:O,nodeName:S,attributes:E}=k||{};if(O!=="rect"&&S!==de.TEXT)return;const T=S===de.TEXT&&Gt(E,"isTreemapLabel")===!0?m(k):y(k),M=vf(n,P=>P.id===T);Gt(M,"height")&&g(Gt(M,"path"),Gt(M,"depth"))};d.addEventListener("click",b);const x=x$(Object.assign(Object.assign({},p.active),p.inactive)),_=()=>{e7(d).forEach(k=>{const O=Gt(k,["style","cursor"]),S=vf(n,E=>E.id===Gt(k,["__data__","key"]));if(O!=="pointer"&&(S!=null&&S.height)){k.style.cursor="pointer";const E=ete(k.attributes,x);k.addEventListener("mouseenter",()=>{k.attr(p.active)}),k.addEventListener("mouseleave",()=>{k.attr(ye(E,p.inactive))})}})};return _(),d.addEventListener("mousemove",_),()=>{v.remove(),d.removeEventListener("click",b),d.removeEventListener("mousemove",_)}}}var sx=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},BMe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const jMe={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},lx="movePoint",RR=e=>{const n=e.target,{markType:t}=n;t==="line"&&(n.attr("_lineWidth",n.attr("lineWidth")||1),n.attr("lineWidth",n.attr("_lineWidth")+3)),t==="interval"&&(n.attr("_opacity",n.attr("opacity")||1),n.attr("opacity",.7*n.attr("_opacity")))},NR=e=>{const n=e.target,{markType:t}=n;t==="line"&&n.attr("lineWidth",n.attr("_lineWidth")),t==="interval"&&n.attr("opacity",n.attr("_opacity"))},zMe=(e,n,t)=>n.map(r=>["x","color"].reduce((a,o)=>{const s=t[o];return s&&r[s]!==e[s]?!1:a},!0)?Object.assign(Object.assign({},r),e):r),YMe=e=>{const n=Gt(e,["__data__","y"]),r=Gt(e,["__data__","y1"])-n,{__data__:{data:i,encode:a,transform:o},childNodes:s}=e.parentNode,l=vf(o,({type:f})=>f==="normalizeY"),u=Gt(a,["y","field"]),c=i[s.indexOf(e)][u];return(f,d=!1)=>l||d?f/(1-f)/(r/(1-r))*c:f},GMe=(e,n)=>{const t=Gt(e,["__data__","seriesItems",n,"0","value"]),r=Gt(e,["__data__","seriesIndex",n]),{__data__:{data:i,encode:a,transform:o}}=e.parentNode,s=vf(o,({type:c})=>c==="normalizeY"),l=Gt(a,["y","field"]),u=i[r][l];return c=>s?t===1?c:c/(1-c)/(t/(1-t))*u:c},LR=(e,n,t)=>{e.forEach((r,i)=>{r.attr("stroke",n[1]===i?t.activeStroke:t.stroke)})},$R=(e,n,t,r)=>{const i=new ca({style:t}),a=new rs({style:r});return n.appendChild(a),e.appendChild(i),[i,a]},IR=(e,n)=>{if(!Gt(e,["options","range","indexOf"]))return;const r=e.options.range.indexOf(n);return e.sortedDomain[r]},ux=(e,n,t)=>{const r=Tm(e,n),a=Tm(e,t)/r,o=e[0]+(n[0]-e[0])*a,s=e[1]+(n[1]-e[1])*a;return[o,s]};function WMe(e={}){const{selection:n=[],precision:t=2}=e,r=BMe(e,["selection","precision"]),i=Object.assign(Object.assign({},jMe),r||{}),a=Pe(i,"path"),o=Pe(i,"label"),s=Pe(i,"point");return(l,u,c)=>{const{update:f,setState:d,container:h,view:p,options:{marks:v,coordinate:g}}=l,m=wo(h);let y=e7(m),b,x=n;const{transform:_=[],type:w}=g,k=!!vf(_,({type:L})=>L==="transpose"),O=w==="polar",S=w==="theta",E=!!vf(y,({markType:L})=>L==="area");E&&(y=y.filter(({markType:L})=>L==="area"));const T=new Ds({style:{zIndex:2}});m.appendChild(T);const M=()=>{c.emit("element-point:select",{nativeEvent:!0,data:{selection:x}})},P=(L,I)=>{c.emit("element-point:moved",{nativeEvent:!0,data:{changeData:L,data:I}})},A=L=>{const I=L.target;x=[I.parentNode.childNodes.indexOf(I)],M(),R(I)},N=L=>{const{data:{selection:I},nativeEvent:j}=L;if(j)return;x=I;const F=Gt(y,[x==null?void 0:x[0]]);F&&R(F)},R=L=>{const{attributes:I,markType:j,__data__:F}=L,{stroke:z}=I,{points:D,seriesTitle:B,color:U,title:q,seriesX:$,y1:W}=F;if(k&&j!=="interval")return;const{scale:Q,coordinate:oe}=(b==null?void 0:b.view)||p,{color:ee,y:H,x:G}=Q,X=oe.getCenter();T.removeChildren();let Y;const re=(te,ae,ue,pe)=>sx(this,void 0,void 0,function*(){return d("elementPointMove",ve=>{var Te;const ne=(((Te=b==null?void 0:b.options)===null||Te===void 0?void 0:Te.marks)||v).map(ce=>{if(!pe.includes(ce.type))return ce;const{data:be,encode:Ae}=ce,xe=Object.keys(Ae).reduce((at,Kt)=>{const Vt=Ae[Kt];return Kt==="x"&&(at[Vt]=te),Kt==="y"&&(at[Vt]=ae),Kt==="color"&&(at[Vt]=ue),at},{}),et=zMe(xe,be,Ae);return P(xe,et),ye({},ce,{data:et,animate:!1})});return Object.assign(Object.assign({},ve),{marks:ne})}),yield f("elementPointMove")});if(["line","area"].includes(j))D.forEach((te,ae)=>{const ue=G.invert($[ae]);if(!ue)return;const pe=new Bu({name:lx,style:Object.assign({cx:te[0],cy:te[1],fill:z},s)}),ve=GMe(L,ae);pe.addEventListener("mousedown",Te=>{const ne=oe.output([$[ae],0]),ce=B==null?void 0:B.length;h.attr("cursor","move"),x[1]!==ae&&(x[1]=ae,M()),LR(T.childNodes,x,s);const[be,Ae]=$R(T,pe,a,o),Qe=et=>{const at=te[1]+et.clientY-Y[1];if(E)if(O){const Kt=te[0]+et.clientX-Y[0],[Vt,Yr]=ux(X,ne,[Kt,at]),[,fa]=oe.output([1,H.output(0)]),[,or]=oe.invert([Vt,fa-(D[ae+ce][1]-Yr)]),Gr=(ae+1)%ce,Gs=(ae-1+ce)%ce,fe=Ad([D[Gs],[Vt,Yr],B[Gr]&&D[Gr]]);Ae.attr("text",ve(H.invert(or)).toFixed(t)),be.attr("d",fe),pe.attr("cx",Vt),pe.attr("cy",Yr)}else{const[,Kt]=oe.output([1,H.output(0)]),[,Vt]=oe.invert([te[0],Kt-(D[ae+ce][1]-at)]),Yr=Ad([D[ae-1],[te[0],at],B[ae+1]&&D[ae+1]]);Ae.attr("text",ve(H.invert(Vt)).toFixed(t)),be.attr("d",Yr),pe.attr("cy",at)}else{const[,Kt]=oe.invert([te[0],at]),Vt=Ad([D[ae-1],[te[0],at],D[ae+1]]);Ae.attr("text",H.invert(Kt).toFixed(t)),be.attr("d",Vt),pe.attr("cy",at)}};Y=[Te.clientX,Te.clientY],window.addEventListener("mousemove",Qe);const xe=()=>sx(this,void 0,void 0,function*(){if(h.attr("cursor","default"),window.removeEventListener("mousemove",Qe),h.removeEventListener("mouseup",xe),lt(Ae.attr("text")))return;const et=Number(Ae.attr("text")),at=IR(ee,U);b=yield re(ue,et,at,["line","area"]),Ae.remove(),be.remove(),R(L)});h.addEventListener("mouseup",xe)}),T.appendChild(pe)}),LR(T.childNodes,x,s);else if(j==="interval"){let te=[(D[0][0]+D[1][0])/2,D[0][1]];k?te=[D[0][0],(D[0][1]+D[1][1])/2]:S&&(te=D[0]);const ae=YMe(L),ue=new Bu({name:lx,style:Object.assign(Object.assign({cx:te[0],cy:te[1],fill:z},s),{stroke:s.activeStroke})});ue.addEventListener("mousedown",pe=>{h.attr("cursor","move");const ve=IR(ee,U),[Te,ne]=$R(T,ue,a,o),ce=Ae=>{if(k){const Qe=te[0]+Ae.clientX-Y[0],[xe]=oe.output([H.output(0),H.output(0)]),[,et]=oe.invert([xe+(Qe-D[2][0]),te[1]]),at=Ad([[Qe,D[0][1]],[Qe,D[1][1]],D[2],D[3]],!0);ne.attr("text",ae(H.invert(et)).toFixed(t)),Te.attr("d",at),ue.attr("cx",Qe)}else if(S){const Qe=te[1]+Ae.clientY-Y[1],xe=te[0]+Ae.clientX-Y[0],[et,at]=ux(X,[xe,Qe],te),[Kt,Vt]=ux(X,[xe,Qe],D[1]),Yr=oe.invert([et,at])[1],fa=W-Yr;if(fa<0)return;const or=TTe(X,[[et,at],[Kt,Vt],D[2],D[3]],fa>.5?1:0);ne.attr("text",ae(fa,!0).toFixed(t)),Te.attr("d",or),ue.attr("cx",et),ue.attr("cy",at)}else{const Qe=te[1]+Ae.clientY-Y[1],[,xe]=oe.output([1,H.output(0)]),[,et]=oe.invert([te[0],xe-(D[2][1]-Qe)]),at=Ad([[D[0][0],Qe],[D[1][0],Qe],D[2],D[3]],!0);ne.attr("text",ae(H.invert(et)).toFixed(t)),Te.attr("d",at),ue.attr("cy",Qe)}};Y=[pe.clientX,pe.clientY],window.addEventListener("mousemove",ce);const be=()=>sx(this,void 0,void 0,function*(){if(h.attr("cursor","default"),h.removeEventListener("mouseup",be),window.removeEventListener("mousemove",ce),lt(ne.attr("text")))return;const Ae=Number(ne.attr("text"));b=yield re(q,Ae,ve,[j]),ne.remove(),Te.remove(),R(L)});h.addEventListener("mouseup",be)}),T.appendChild(ue)}};y.forEach((L,I)=>{x[0]===I&&R(L),L.addEventListener("click",A),L.addEventListener("mouseenter",RR),L.addEventListener("mouseleave",NR)});const C=L=>{const I=L==null?void 0:L.target;(!I||I.name!==lx&&!y.includes(I))&&(x=[],M(),T.removeChildren())};return c.on("element-point:select",N),c.on("element-point:unselect",C),h.addEventListener("mousedown",C),()=>{T.remove(),c.off("element-point:select",N),c.off("element-point:unselect",C),h.removeEventListener("mousedown",C),y.forEach(L=>{L.removeEventListener("click",A),L.removeEventListener("mouseenter",RR),L.removeEventListener("mouseleave",NR)})}}}var DR={},cx={},fx=34,Pd=10,dx=13;function P7(e){return new Function("d","return {"+e.map(function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'}).join(",")+"}")}function HMe(e,n){var t=P7(e);return function(r,i){return n(t(r),i,e)}}function FR(e){var n=Object.create(null),t=[];return e.forEach(function(r){for(var i in r)i in n||t.push(n[i]=i)}),t}function Li(e,n){var t=e+"",r=t.length;return r<n?new Array(n-r+1).join(0)+t:t}function UMe(e){return e<0?"-"+Li(-e,6):e>9999?"+"+Li(e,6):Li(e,4)}function VMe(e){var n=e.getUTCHours(),t=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":UMe(e.getUTCFullYear())+"-"+Li(e.getUTCMonth()+1,2)+"-"+Li(e.getUTCDate(),2)+(i?"T"+Li(n,2)+":"+Li(t,2)+":"+Li(r,2)+"."+Li(i,3)+"Z":r?"T"+Li(n,2)+":"+Li(t,2)+":"+Li(r,2)+"Z":t||n?"T"+Li(n,2)+":"+Li(t,2)+"Z":"")}function XMe(e){var n=new RegExp('["'+e+`
\r]`),t=e.charCodeAt(0);function r(f,d){var h,p,v=i(f,function(g,m){if(h)return h(g,m-1);p=g,h=d?HMe(g,d):P7(g)});return v.columns=p||[],v}function i(f,d){var h=[],p=f.length,v=0,g=0,m,y=p<=0,b=!1;f.charCodeAt(p-1)===Pd&&--p,f.charCodeAt(p-1)===dx&&--p;function x(){if(y)return cx;if(b)return b=!1,DR;var w,k=v,O;if(f.charCodeAt(k)===fx){for(;v++<p&&f.charCodeAt(v)!==fx||f.charCodeAt(++v)===fx;);return(w=v)>=p?y=!0:(O=f.charCodeAt(v++))===Pd?b=!0:O===dx&&(b=!0,f.charCodeAt(v)===Pd&&++v),f.slice(k+1,w-1).replace(/""/g,'"')}for(;v<p;){if((O=f.charCodeAt(w=v++))===Pd)b=!0;else if(O===dx)b=!0,f.charCodeAt(v)===Pd&&++v;else if(O!==t)continue;return f.slice(k,w)}return y=!0,f.slice(k,p)}for(;(m=x())!==cx;){for(var _=[];m!==DR&&m!==cx;)_.push(m),m=x();d&&(_=d(_,g++))==null||h.push(_)}return h}function a(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=FR(f)),[d.map(c).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=FR(f)),a(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?VMe(f):n.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}function qMe(e){for(var n in e){var t=e[n].trim(),r,i;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(r=+t))t=r;else if(i=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))KMe&&i[4]&&!i[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;e[n]=t}return e}const KMe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var ZMe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})};const C7=e=>{const{value:n,format:t=n.split(".").pop(),delimiter:r=",",autoType:i=!0}=e;return()=>ZMe(void 0,void 0,void 0,function*(){const a=yield fetch(n);if(t==="csv"){const o=yield a.text();return XMe(r).parse(o,i?qMe:Iu)}if(t==="json")return yield a.json();throw new Error(`Unknown format: ${t}.`)})};C7.props={};function QMe(e){return!e||Object.keys(e).length===0}const R7=e=>{const{fields:n,key:t="key",value:r="value"}=e;return i=>QMe(n)?i:i.flatMap(a=>n.map(o=>Object.assign(Object.assign({},a),{[t]:o,[r]:a[o]})))};R7.props={};function JMe(e){return e!=null&&!Number.isNaN(e)}const N7=e=>{const{callback:n=JMe}=e;return t=>t.filter(n)};N7.props={};const L7=e=>{const{callback:n}=e;return t=>Array.isArray(t)?[...t].sort(n):t};L7.props={};function eAe(e,n=[]){return n.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{})}const $7=e=>{const{fields:n}=e;return t=>t.map(r=>eAe(r,n))};$7.props={};function tAe(e){return Object.keys(e).length===0}const I7=e=>n=>{if(!e||tAe(e))return n;const t=r=>Object.entries(r).reduce((i,[a,o])=>(i[e[a]||a]=o,i),{});return n.map(t)};I7.props={};function nAe(e,n){return e.map(t=>{if(Array.isArray(t)){const[r,i=n]=t;return[r,i]}return[t,n]})}const D7=e=>{const{fields:n=[]}=e,t=nAe(n,!0);return r=>{const i=(a,o)=>t.reduce((s,[l,u=!0])=>s!==0?s:u?a[l]<o[l]?-1:+(a[l]!==o[l]):a[l]>o[l]?-1:+(a[l]!==o[l]),0);return[...r].sort(i)}};D7.props={};const F7=e=>{const{value:n}=e;return()=>n};F7.props={};const B7=e=>{const{callback:n=Iu}=e;return t=>n(t)};B7.props={};const j7=e=>{const{callback:n=Iu}=e;return t=>Array.isArray(t)?t.map(n):t};j7.props={};var rAe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})};function iAe(e,n){return{set(t,r,i){if(n[t]===void 0)return this;const a=r?r.call(null,n[t]):n[t];return i?i.call(null,a):typeof e[t]=="function"?e[t](a):e[t]=a,this},setAsync(t,r,i){return rAe(this,void 0,void 0,function*(){if(n[t]===void 0)return this;const a=r?yield r.call(null,n[t]):n[t];return i?i.call(null,a):typeof e[t]=="function"?e[t](a):e[t]=a,this})}}}const hx=Math.PI/180,qd=64,Q0=2048;function aAe(e){return e.text}function oAe(){return"serif"}function BR(){return"normal"}function sAe(e){return e.value}function lAe(){return~~(Math.random()*2)*90}function uAe(){return 1}function cAe(){}function fAe(e,n,t,r){if(n.sprite)return;const i=e.context,a=e.ratio;i.clearRect(0,0,(qd<<5)/a,Q0/a);let o=0,s=0,l=0;const u=t.length;for(--r;++r<u;){n=t[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;let d=i.measureText(n.text+"m").width*a,h=n.size<<1;if(n.rotate){const p=Math.sin(n.rotate*hx),v=Math.cos(n.rotate*hx),g=d*v,m=d*p,y=h*v,b=h*p;d=Math.max(Math.abs(g+b),Math.abs(g-b))+31>>5<<5,h=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else d=d+31>>5<<5;if(h>l&&(l=h),o+d>=qd<<5&&(o=0,s+=l,l=0),s+h>=Q0)break;i.translate((o+(d>>1))/a,(s+(h>>1))/a),n.rotate&&i.rotate(n.rotate*hx),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=d,n.height=h,n.xoff=o,n.yoff=s,n.x1=d>>1,n.y1=h>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=d}const c=i.getImageData(0,0,(qd<<5)/a,Q0/a).data,f=[];for(;--r>=0;){if(n=t[r],!n.hasText)continue;const d=n.width,h=d>>5;let p=n.y1-n.y0;for(let m=0;m<p*h;m++)f[m]=0;if(o=n.xoff,o==null)return;s=n.yoff;let v=0,g=-1;for(let m=0;m<p;m++){for(let y=0;y<d;y++){const b=h*m+(y>>5),x=c[(s+m)*(qd<<5)+(o+y)<<2]?1<<31-y%32:0;f[b]|=x,v|=x}v?g=m:(n.y0++,p--,m--,s++)}n.y1=n.y0+g,n.sprite=f.slice(0,(n.y1-n.y0)*h)}}function dAe(e,n,t){t>>=5;const r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0;let u=(e.y+e.y0)*t+(a>>5),c;for(let f=0;f<l;f++){c=0;for(let d=0;d<=i;d++)if((c<<s|(d<i?(c=r[f*i+d])>>>o:0))&n[u+d])return!0;u+=t}return!1}function hAe(e,n){const t=e[0],r=e[1];n.x+n.x0<t.x&&(t.x=n.x+n.x0),n.y+n.y0<t.y&&(t.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function pAe(e,n){return e.x+e.x1>n[0].x&&e.x+e.x0<n[1].x&&e.y+e.y1>n[0].y&&e.y+e.y0<n[1].y}function z7(e){const n=e[0]/e[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function vAe(e){const t=4*e[0]/e[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=t;break;case 1:i+=4;break;case 2:r-=t;break;default:i-=4;break}return[r,i]}}function jR(e){const n=[];let t=-1;for(;++t<e;)n[t]=0;return n}function gAe(){return document.createElement("canvas")}function ms(e){return typeof e=="function"?e:function(){return e}}const mAe={archimedean:z7,rectangular:vAe};function yAe(){let e=[256,256],n=aAe,t=oAe,r=sAe,i=BR,a=lAe,o=uAe,s=z7,l=Math.random,u=cAe,c=[],f=null,d=1/0,h=gAe;const p=BR,v={};v.start=function(){const[y,b]=e,x=g(h()),_=v.board?v.board:jR((e[0]>>5)*e[1]),w=c.length,k=[],O=c.map(function(M,P,A){return M.text=n.call(this,M,P,A),M.font=t.call(this,M,P,A),M.style=p.call(this,M,P,A),M.weight=i.call(this,M,P,A),M.rotate=a.call(this,M,P,A),M.size=~~r.call(this,M,P,A),M.padding=o.call(this,M,P,A),M}).sort(function(M,P){return P.size-M.size});let S=-1,E=v.board?[{x:0,y:0},{x:y,y:b}]:void 0;f&&clearInterval(f),f=setInterval(T,0),T();function T(){const M=Date.now();for(;Date.now()-M<d&&++S<w;){const P=O[S];P.x=y*(l()+.5)>>1,P.y=b*(l()+.5)>>1,fAe(x,P,O,S),P.hasText&&m(_,P,E)&&(u.call(null,"word",{cloud:v,word:P}),k.push(P),E?v.hasImage||hAe(E,P):E=[{x:P.x+P.x0,y:P.y+P.y0},{x:P.x+P.x1,y:P.y+P.y1}],P.x-=e[0]>>1,P.y-=e[1]>>1)}v._tags=k,v._bounds=E,S>=w&&(v.stop(),u.call(null,"end",{cloud:v,words:k,bounds:E}))}return v},v.stop=function(){return f&&(clearInterval(f),f=null),v};function g(y){y.width=y.height=1;const b=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(qd<<5)/b,y.height=Q0/b;const x=y.getContext("2d");return x.fillStyle=x.strokeStyle="red",x.textAlign="center",x.textBaseline="middle",{context:x,ratio:b}}function m(y,b,x){const _=b.x,w=b.y,k=Math.sqrt(e[0]*e[0]+e[1]*e[1]),O=s(e),S=l()<.5?1:-1;let E,T=-S,M,P;for(;(E=O(T+=S))&&(M=~~E[0],P=~~E[1],!(Math.min(Math.abs(M),Math.abs(P))>=k));)if(b.x=_+M,b.y=w+P,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>e[0]||b.y+b.y1>e[1])&&(!x||!dAe(b,y,e[0]))&&(!x||pAe(b,x))){const A=b.sprite,N=b.width>>5,R=e[0]>>5,C=b.x-(N<<4),L=C&127,I=32-L,j=b.y1-b.y0;let F,z=(b.y+b.y0)*R+(C>>5);for(let D=0;D<j;D++){F=0;for(let B=0;B<=N;B++)y[z+B]|=F<<I|(B<N?(F=A[D*N+B])>>>L:0);z+=R}return delete b.sprite,!0}return!1}return v.createMask=y=>{const b=document.createElement("canvas"),[x,_]=e;if(!x||!_)return;const w=x>>5,k=jR((x>>5)*_);b.width=x,b.height=_;const O=b.getContext("2d");O.drawImage(y,0,0,y.width,y.height,0,0,x,_);const S=O.getImageData(0,0,x,_).data;for(let E=0;E<_;E++)for(let T=0;T<x;T++){const M=w*E+(T>>5),P=E*x+T<<2,N=S[P]>=250&&S[P+1]>=250&&S[P+2]>=250?1<<31-T%32:0;k[M]|=N}v.board=k,v.hasImage=!0},v.timeInterval=function(y){d=y??1/0},v.words=function(y){c=y},v.size=function(y=[]){e=[+y[0],+y[1]]},v.text=function(y){n=ms(y)},v.font=function(y){t=ms(y)},v.fontWeight=function(y){i=ms(y)},v.rotate=function(y){a=ms(y)},v.canvas=function(y){h=ms(y)},v.spiral=function(y){s=mAe[y]||y},v.fontSize=function(y){r=ms(y)},v.padding=function(y){o=ms(y)},v.random=function(y){l=ms(y)},v.on=function(y){u=ms(y)},v}var bAe=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,n||[])).next())})},xAe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const wAe={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function _Ae(e){return new Promise((n,t)=>{if(e instanceof HTMLImageElement){n(e);return}if(typeof e=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=()=>n(r),r.onerror=()=>{console.error(`'image ${e} load failed !!!'`),t()};return}t()})}function kAe(e,n){if(typeof e=="function")return e;if(Array.isArray(e)){const[t,r]=e;if(!n)return()=>(r+t)/2;const[i,a]=n;return a===i?()=>(r+t)/2:({value:o})=>(r-t)/(a-i)*(o-i)+t}return()=>e}const Y7=(e,n)=>t=>bAe(void 0,void 0,void 0,function*(){const r=Object.assign({},wAe,e,{canvas:n.createCanvas}),i=yAe();yield iAe(i,r).set("fontSize",y=>{const b=t.map(x=>x.value);return kAe(y,[sa(b),Xt(b)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",_Ae,i.createMask),i.words([...t]);const a=i.start(),[o,s]=r.size,l=[{x:0,y:0},{x:o,y:s}],{_bounds:u=l,_tags:c,hasImage:f}=a,d=c.map(y=>{var{x:b,y:x,font:_}=y,w=xAe(y,["x","y","font"]);return Object.assign(Object.assign({},w),{x:b+o/2,y:x+s/2,fontFamily:_})}),[{x:h,y:p},{x:v,y:g}]=u,m={text:"",value:0,opacity:0,fontSize:0};return d.push(Object.assign(Object.assign({},m),{x:f?0:h,y:f?0:p}),Object.assign(Object.assign({},m),{x:f?o:v,y:f?s:g})),d});Y7.props={};function zR(e){return typeof e=="string"?n=>n[e]:e}const G7=e=>{const{join:n,on:t,select:r=[],as:i=r,unknown:a=NaN}=e,[o,s]=t,l=zR(s),u=zR(o),c=G_(n,([f])=>f,f=>l(f));return f=>f.map(d=>{const h=c.get(u(d));return Object.assign(Object.assign({},d),r.reduce((p,v,g)=>(p[i[g]]=h?h[v]:a,p),{}))})};G7.props={};const W7=e=>{const{start:n,end:t}=e;return r=>r.slice(n,t)};W7.props={};var px={exports:{}},vx={exports:{}},YR;function OAe(){return YR||(YR=1,function(e){var n=e.exports;e.exports.isNumber=function(t){return typeof t=="number"},e.exports.findMin=function(t){if(t.length===0)return 1/0;for(var r=t[0],i=1;i<t.length;i++)r=Math.min(r,t[i]);return r},e.exports.findMax=function(t){if(t.length===0)return-1/0;for(var r=t[0],i=1;i<t.length;i++)r=Math.max(r,t[i]);return r},e.exports.findMinMulti=function(t){for(var r=n.findMin(t[0]),i=1;i<t.length;i++)r=Math.min(r,n.findMin(t[i]));return r},e.exports.findMaxMulti=function(t){for(var r=n.findMax(t[0]),i=1;i<t.length;i++)r=Math.max(r,n.findMax(t[i]));return r},e.exports.inside=function(t,r,i){return t<=i&&i<=r}}(vx)),vx.exports}var GR;function SAe(){return GR||(GR=1,function(e){var n=50,t=2,r=Math.log(2),i=e.exports,a=OAe();function o(l){return 1-Math.abs(l)}e.exports.getUnifiedMinMax=function(l,u){return i.getUnifiedMinMaxMulti([l],u)},e.exports.getUnifiedMinMaxMulti=function(l,u){u=u||{};var c=!1,f=!1,d=a.isNumber(u.width)?u.width:t,h=a.isNumber(u.size)?u.size:n,p=a.isNumber(u.min)?u.min:(c=!0,a.findMinMulti(l)),v=a.isNumber(u.max)?u.max:(f=!0,a.findMaxMulti(l)),g=v-p,m=g/(h-1);return c&&(p=p-2*d*m),f&&(v=v+2*d*m),{min:p,max:v}},e.exports.create=function(l,u){if(u=u||{},!l||l.length===0)return[];var c=a.isNumber(u.size)?u.size:n,f=a.isNumber(u.width)?u.width:t,d=i.getUnifiedMinMax(l,{size:c,width:f,min:u.min,max:u.max}),h=d.min,p=d.max,v=p-h,g=v/(c-1);if(v===0)return[{x:h,y:1}];for(var m=[],y=0;y<c;y++)m.push({x:h+y*g,y:0});var b=function(T){return Math.floor((T-h)/g)},x=s(o,f),_=x[f],w=x[f-1]-x[f-2],k=0;l.forEach(function(T){var M=b(T);if(!(M+f<0||M-f>=m.length)){var P=Math.max(M-f,0),A=M,N=Math.min(M+f,m.length-1),R=P-(M-f),C=M+f-N,L=x[-f-1+R]||0,I=x[-f-1+C]||0,j=_/(_-L-I);R>0&&(k+=j*(R-1)*w);var F=Math.max(0,M-f+1);a.inside(0,m.length-1,F)&&(m[F].y+=j*1*w),a.inside(0,m.length-1,A+1)&&(m[A+1].y-=j*2*w),a.inside(0,m.length-1,N+1)&&(m[N+1].y+=j*1*w)}});var O=k,S=0,E=0;return m.forEach(function(T){S+=T.y,O+=S,T.y=O,E+=O}),E>0&&m.forEach(function(T){T.y/=E}),m};function s(l,u){for(var c={},f=0,d=-u;d<=u;d++)f+=l(d/u),c[d]=f;return c}e.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var u=0;return l.forEach(function(c){u+=c.x*c.y}),u}},e.exports.getXWithLeftTailArea=function(l,u){if(!(!l||l.length===0)){for(var c=0,f=0,d=0;d<l.length&&(f=d,c+=l[d].y,!(c>=u));d++);return l[f].x}},e.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var u=0;return l.forEach(function(c){var f=Math.log(c.y);isFinite(f)&&(u+=c.y*f)}),u=-u/r,Math.pow(2,u)}}}(px)),px.exports}var EAe=SAe();const TAe=K_(EAe),H7=e=>{const{field:n,groupBy:t,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=e,[l,u]=r;return c=>Array.from(yn(c,d=>t.map(h=>d[h]).join("-")).values()).map(d=>{const h=TAe.create(d.map(g=>g[n]),{min:i,max:a,size:o,width:s}),p=h.map(g=>g.x),v=h.map(g=>g.y);return Object.assign(Object.assign({},d[0]),{[l]:p,[u]:v})})};H7.props={};function MAe(e,n,t,r){r=r||{};const i=r.maxIterations||100,a=r.tolerance||1e-10,o=e(n),s=e(t);let l=t-n;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return n;if(s===0)return t;for(let u=0;u<i;++u){l/=2;const c=n+l,f=e(c);if(f*o>=0&&(n=c),Math.abs(l)<a||f===0)return c}return n+l}function T2(e){const n=new Array(e);for(let t=0;t<e;++t)n[t]=0;return n}function WR(e,n){return T2(e).map(()=>T2(n))}function nf(e,n){let t=0;for(let r=0;r<e.length;++r)t+=e[r]*n[r];return t}function M2(e){return Math.sqrt(nf(e,e))}function A2(e,n,t){for(let r=0;r<n.length;++r)e[r]=n[r]*t}function Os(e,n,t,r,i){for(let a=0;a<e.length;++a)e[a]=n*t[a]+r*i[a]}function AAe(e,n,t){t=t||{};const r=t.maxIterations||n.length*200,i=t.nonZeroDelta||1.05,a=t.zeroDelta||.001,o=t.minErrorDelta||1e-6,s=t.minErrorDelta||1e-5,l=t.rho!==void 0?t.rho:1,u=t.chi!==void 0?t.chi:2,c=t.psi!==void 0?t.psi:-.5,f=t.sigma!==void 0?t.sigma:.5;let d;const h=n.length,p=new Array(h+1);p[0]=n,p[0].fx=e(n),p[0].id=0;for(let _=0;_<h;++_){const w=n.slice();w[_]=w[_]?w[_]*i:a,p[_+1]=w,p[_+1].fx=e(w),p[_+1].id=_+1}function v(_){for(let w=0;w<_.length;w++)p[h][w]=_[w];p[h].fx=_.fx}const g=(_,w)=>_.fx-w.fx,m=n.slice(),y=n.slice(),b=n.slice(),x=n.slice();for(let _=0;_<r;++_){if(p.sort(g),t.history){const k=p.map(O=>{const S=O.slice();return S.fx=O.fx,S.id=O.id,S});k.sort((O,S)=>O.id-S.id),t.history.push({x:p[0].slice(),fx:p[0].fx,simplex:k})}d=0;for(let k=0;k<h;++k)d=Math.max(d,Math.abs(p[0][k]-p[1][k]));if(Math.abs(p[0].fx-p[h].fx)<o&&d<s)break;for(let k=0;k<h;++k){m[k]=0;for(let O=0;O<h;++O)m[k]+=p[O][k];m[k]/=h}const w=p[h];if(Os(y,1+l,m,-l,w),y.fx=e(y),y.fx<p[0].fx)Os(x,1+u,m,-u,w),x.fx=e(x),x.fx<y.fx?v(x):v(y);else if(y.fx>=p[h-1].fx){let k=!1;if(y.fx>w.fx?(Os(b,1+c,m,-c,w),b.fx=e(b),b.fx<w.fx?v(b):k=!0):(Os(b,1-c*l,m,c*l,w),b.fx=e(b),b.fx<y.fx?v(b):k=!0),k){if(f>=1)break;for(let O=1;O<p.length;++O)Os(p[O],1-f,p[0],f,p[O]),p[O].fx=e(p[O])}}else v(y)}return p.sort(g),{fx:p[0].fx,x:p[0]}}function PAe(e,n,t,r,i,a,o){const s=t.fx,l=nf(t.fxprime,n);let u=s,c=s,f=l,d=0;i=i||1,a=a||1e-6,o=o||.1;function h(p,v,g){for(let m=0;m<16;++m)if(i=(p+v)/2,Os(r.x,1,t.x,i,n),u=r.fx=e(r.x,r.fxprime),f=nf(r.fxprime,n),u>s+a*i*l||u>=g)v=i;else{if(Math.abs(f)<=-o*l)return i;f*(v-p)>=0&&(v=p),p=i,g=u}return 0}for(let p=0;p<10;++p){if(Os(r.x,1,t.x,i,n),u=r.fx=e(r.x,r.fxprime),f=nf(r.fxprime,n),u>s+a*i*l||p&&u>=c)return h(d,i,c);if(Math.abs(f)<=-o*l)return i;if(f>=0)return h(i,d,u);c=u,d=i,i*=2}return i}function CAe(e,n,t){let r={x:n.slice(),fx:0,fxprime:n.slice()},i={x:n.slice(),fx:0,fxprime:n.slice()};const a=n.slice();let o,s=1;t=t||{};const l=t.maxIterations||n.length*20;r.fx=e(r.x,r.fxprime);const u=r.fxprime.slice();A2(u,r.fxprime,-1);for(let c=0;c<l;++c){if(s=PAe(e,u,r,i,s),t.history&&t.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)A2(u,r.fxprime,-1);else{Os(a,1,i.fxprime,-1,r.fxprime);const f=nf(r.fxprime,r.fxprime),d=Math.max(0,nf(a,i.fxprime)/f);Os(u,d,u,-1,i.fxprime),o=r,r=i,i=o}if(M2(r.fxprime)<=1e-5)break}return t.history&&t.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const U7=1e-10;function V7(e,n){const t=NAe(e),r=t.filter(function(l){return RAe(l,e)});let i=0,a=0,o;const s=[];if(r.length>1){const l=LAe(r);for(o=0;o<r.length;++o){const c=r[o];c.angle=Math.atan2(c.x-l.x,c.y-l.y)}r.sort(function(c,f){return f.angle-c.angle});let u=r[r.length-1];for(o=0;o<r.length;++o){const c=r[o];a+=(u.x+c.x)*(c.y-u.y);const f={x:(c.x+u.x)/2,y:(c.y+u.y)/2};let d=null;for(let h=0;h<c.parentIndex.length;++h)if(u.parentIndex.indexOf(c.parentIndex[h])>-1){const p=e[c.parentIndex[h]],v=Math.atan2(c.x-p.x,c.y-p.y),g=Math.atan2(u.x-p.x,u.y-p.y);let m=g-v;m<0&&(m+=2*Math.PI);const y=g-m/2;let b=pp(f,{x:p.x+p.radius*Math.sin(y),y:p.y+p.radius*Math.cos(y)});b>p.radius*2&&(b=p.radius*2),(d===null||d.width>b)&&(d={circle:p,width:b,p1:c,p2:u})}d!==null&&(s.push(d),i+=P2(d.circle.radius,d.width),u=c)}}else{let l=e[0];for(o=1;o<e.length;++o)e[o].radius<l.radius&&(l=e[o]);let u=!1;for(o=0;o<e.length;++o)if(pp(e[o],l)>Math.abs(l.radius-e[o].radius)){u=!0;break}u?i=a=0:(i=l.radius*l.radius*Math.PI,s.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-U7,y:l.y+l.radius},width:l.radius*2}))}return a/=2,n&&(n.area=i+a,n.arcArea=i,n.polygonArea=a,n.arcs=s,n.innerPoints=r,n.intersectionPoints=t),i+a}function RAe(e,n){for(let t=0;t<n.length;++t)if(pp(e,n[t])>n[t].radius+U7)return!1;return!0}function NAe(e){const n=[];for(let t=0;t<e.length;++t)for(let r=t+1;r<e.length;++r){const i=q7(e[t],e[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[t,r],n.push(o)}}return n}function P2(e,n){return e*e*Math.acos(1-n/e)-(e-n)*Math.sqrt(n*(2*e-n))}function pp(e,n){return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))}function X7(e,n,t){if(t>=e+n)return 0;if(t<=Math.abs(e-n))return Math.PI*Math.min(e,n)*Math.min(e,n);const r=e-(t*t-n*n+e*e)/(2*t),i=n-(t*t-e*e+n*n)/(2*t);return P2(e,r)+P2(n,i)}function q7(e,n){const t=pp(e,n),r=e.radius,i=n.radius;if(t>=r+i||t<=Math.abs(r-i))return[];const a=(r*r-i*i+t*t)/(2*t),o=Math.sqrt(r*r-a*a),s=e.x+a*(n.x-e.x)/t,l=e.y+a*(n.y-e.y)/t,u=-(n.y-e.y)*(o/t),c=-(n.x-e.x)*(o/t);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function LAe(e){const n={x:0,y:0};for(let t=0;t<e.length;++t)n.x+=e[t].x,n.y+=e[t].y;return n.x/=e.length,n.y/=e.length,n}function $Ae(e,n){n=n||{},n.maxIterations=n.maxIterations||500;const t=n.initialLayout||BAe,r=n.lossFunction||kS;e=IAe(e);const i=t(e,n),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const u=AAe(function(c){const f={};for(let d=0;d<o.length;++d){const h=o[d];f[h]={x:c[2*d],y:c[2*d+1],radius:i[h].radius}}return r(f,e)},a,n).x;for(let c=0;c<o.length;++c)s=o[c],i[s].x=u[2*c],i[s].y=u[2*c+1];return i}const K7=1e-10;function C2(e,n,t){return Math.min(e,n)*Math.min(e,n)*Math.PI<=t+K7?Math.abs(e-n):MAe(function(r){return X7(e,n,r)-t},0,e+n)}function IAe(e){e=e.slice();const n=[],t={};let r,i,a,o;for(r=0;r<e.length;++r){const s=e[r];s.sets.length==1?n.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],t[[a,o]]=!0,t[[o,a]]=!0)}for(n.sort((s,l)=>s>l?1:-1),r=0;r<n.length;++r)for(a=n[r],i=r+1;i<n.length;++i)o=n[i],[a,o]in t||e.push({sets:[a,o],size:0});return e}function DAe(e,n,t){const r=WR(n.length,n.length),i=WR(n.length,n.length);return e.filter(function(a){return a.sets.length==2}).map(function(a){const o=t[a.sets[0]],s=t[a.sets[1]],l=Math.sqrt(n[o].size/Math.PI),u=Math.sqrt(n[s].size/Math.PI),c=C2(l,u,a.size);r[o][s]=r[s][o]=c;let f=0;a.size+1e-10>=Math.min(n[o].size,n[s].size)?f=1:a.size<=1e-10&&(f=-1),i[o][s]=i[s][o]=f}),{distances:r,constraints:i}}function FAe(e,n,t,r){let i=0,a;for(a=0;a<n.length;++a)n[a]=0;for(a=0;a<t.length;++a){const o=e[2*a],s=e[2*a+1];for(let l=a+1;l<t.length;++l){const u=e[2*l],c=e[2*l+1],f=t[a][l],d=r[a][l],h=(u-o)*(u-o)+(c-s)*(c-s),p=Math.sqrt(h),v=h-f*f;d>0&&p<=f||d<0&&p>=f||(i+=2*v*v,n[2*a]+=4*v*(o-u),n[2*a+1]+=4*v*(s-c),n[2*l]+=4*v*(u-o),n[2*l+1]+=4*v*(c-s))}}return i}function BAe(e,n){let t=zAe(e,n);const r=n.lossFunction||kS;if(e.length>=8){const i=jAe(e,n),a=r(i,e),o=r(t,e);a+1e-8<o&&(t=i)}return t}function jAe(e,n){n=n||{};const t=n.restarts||10,r=[],i={};let a;for(a=0;a<e.length;++a){const v=e[a];v.sets.length==1&&(i[v.sets[0]]=r.length,r.push(v))}const o=DAe(e,r,i);let s=o.distances;const l=o.constraints,u=M2(s.map(M2))/s.length;s=s.map(function(v){return v.map(function(g){return g/u})});const c=function(v,g){return FAe(v,g,s,l)};let f,d;for(a=0;a<t;++a){const v=T2(s.length*2).map(Math.random);d=CAe(c,v,n),(!f||d.fx<f.fx)&&(f=d)}const h=f.x,p={};for(a=0;a<r.length;++a){const v=r[a];p[v.sets[0]]={x:h[2*a]*u,y:h[2*a+1]*u,radius:Math.sqrt(v.size/Math.PI)}}if(n.history)for(a=0;a<n.history.length;++a)A2(n.history[a].x,u);return p}function zAe(e,n){const t=n&&n.lossFunction?n.lossFunction:kS,r={},i={};let a;for(let f=0;f<e.length;++f){const d=e[f];d.sets.length==1&&(a=d.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:d.size,radius:Math.sqrt(d.size/Math.PI)},i[a]=[])}e=e.filter(function(f){return f.sets.length==2});for(let f=0;f<e.length;++f){const d=e[f];let h=d.hasOwnProperty("weight")?d.weight:1;const p=d.sets[0],v=d.sets[1];d.size+K7>=Math.min(r[p].size,r[v].size)&&(h=0),i[p].push({set:v,size:d.size,weight:h}),i[v].push({set:p,size:d.size,weight:h})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let f=0;for(let d=0;d<i[a].length;++d)f+=i[a][d].size*i[a][d].weight;o.push({set:a,size:f})}function s(f,d){return d.size-f.size}o.sort(s);const l={};function u(f){return f.set in l}function c(f,d){r[d].x=f.x,r[d].y=f.y,l[d]=!0}c({x:0,y:0},o[0].set);for(let f=1;f<o.length;++f){const d=o[f].set,h=i[d].filter(u);if(a=r[d],h.sort(s),h.length===0)throw"ERROR: missing pairwise overlap information";const p=[];for(let m=0;m<h.length;++m){const y=r[h[m].set],b=C2(a.radius,y.radius,h[m].size);p.push({x:y.x+b,y:y.y}),p.push({x:y.x-b,y:y.y}),p.push({y:y.y+b,x:y.x}),p.push({y:y.y-b,x:y.x});for(let x=m+1;x<h.length;++x){const _=r[h[x].set],w=C2(a.radius,_.radius,h[x].size),k=q7({x:y.x,y:y.y,radius:b},{x:_.x,y:_.y,radius:w});for(let O=0;O<k.length;++O)p.push(k[O])}}let v=1e50,g=p[0];for(let m=0;m<p.length;++m){r[d].x=p[m].x,r[d].y=p[m].y;const y=t(r,e);y<v&&(v=y,g=p[m])}c(g,d)}return r}function kS(e,n){let t=0;function r(i){return i.map(function(a){return e[a]})}for(let i=0;i<n.length;++i){const a=n[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const l=e[a.sets[0]],u=e[a.sets[1]];o=X7(l.radius,u.radius,pp(l,u))}else o=V7(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;t+=s*(o-a.size)*(o-a.size)}return t}function YAe(e){const n=function(t){const r=Math.max.apply(null,e.map(function(a){return a[t]+a.radius})),i=Math.min.apply(null,e.map(function(a){return a[t]-a.radius}));return{max:r,min:i}};return{xRange:n("x"),yRange:n("y")}}function GAe(e,n,t,r){const i=[],a=[];for(const v in e)e.hasOwnProperty(v)&&(a.push(v),i.push(e[v]));n-=2*r,t-=2*r;const o=YAe(i),s=o.xRange,l=o.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;const u=n/(s.max-s.min),c=t/(l.max-l.min),f=Math.min(c,u),d=(n-(s.max-s.min)*f)/2,h=(t-(l.max-l.min)*f)/2,p={};for(let v=0;v<i.length;++v){const g=i[v];p[a[v]]={radius:f*g.radius,x:r+d+(g.x-s.min)*f,y:r+h+(g.y-l.min)*f}}return p}function WAe(e,n,t){const r=[],i=e-t,a=n;return r.push("M",i,a),r.push("A",t,t,0,1,0,i+2*t,a),r.push("A",t,t,0,1,0,i,a),r.join(" ")}function HAe(e){const n={};V7(e,n);const t=n.arcs;if(t.length===0)return"M 0 0";if(t.length==1){const r=t[0].circle;return WAe(r.x,r.y,r.radius)}else{const r=[`
M`,t[0].p2.x,t[0].p2.y];for(let i=0;i<t.length;++i){const a=t[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const Z7=e=>{const{sets:n="sets",size:t="size",as:r=["key","path"],padding:i=0}=e,[a,o]=r;return s=>{const l=s.map(f=>Object.assign(Object.assign({},f),{sets:f[n],size:f[t],[a]:f.sets.join("&")}));l.sort((f,d)=>f.sets.length-d.sets.length);const u=$Ae(l);let c;return l.map(f=>{const d=f[n],h=({width:p,height:v})=>{c=c||GAe(u,p,v,i);const g=d.map(y=>c[y]);let m=HAe(g);return/[zZ]$/.test(m)||(m+=" Z"),m};return Object.assign(Object.assign({},f),{[o]:h})})}};Z7.props={};const Q7=()=>e=>(console.log("G2 data section:",e),e);Q7.props={};function UAe(e,n){if(n<0||n>1)throw new Error("alpha must be between 0 and 1.");if(e.length===0)return[];let t=e[0];const r=[];for(const i of e){if(i==null){r.push(i),console.warn("EMA：The value is null or undefined",e);continue}t==null&&(t=i);const a=t*n+(1-n)*i;r.push(a),t=a}return r}const J7=e=>{const{field:n="y",alpha:t=.6,as:r=n}=e;return i=>{const a=i.map(s=>s[n]),o=UAe(a,t);return i.map((s,l)=>Object.assign(Object.assign({},s),{[r]:o[l]}))}};J7.props={};const ez=.01;function vp(e){const{min:n,max:t}=e;return[[n[0],n[1]],[t[0],t[1]]]}function HR(e,n,t=ez){const[r,i]=e,[a,o]=n;return r>=a[0]-t&&r<=o[0]+t&&i>=a[1]-t&&i<=o[1]+t}function tz(e,n,t=ez){const[r,i]=e;return!(HR(r,n,t)&&HR(i,n,t))}function VAe(e,n){const[t,r]=e,[i,a]=n;return t[0]<a[0]&&r[0]>i[0]&&t[1]<a[1]&&r[1]>i[1]}const XAe=e=>{const{priority:n}=e;return t=>{const r=[];return n&&t.sort(n),t.forEach(i=>{i1(i);const a=i.getLocalBounds();r.some(s=>VAe(vp(a),vp(s.getLocalBounds())))?dS(i):r.push(i)}),t}};function qAe([e,n],[t,r]){return r>e&&n>t}function P0(){const e=new Map;return[r=>e.get(r),(r,i)=>e.set(r,i)]}function KAe(e){const n=e.cloneNode(!0),t=n.getElementById("connector");t&&n.removeChild(t);const{min:r,max:i}=n.getRenderBounds();return n.destroy(),{min:r,max:i}}const ZAe=e=>{const{maxIterations:n=10,maxError:t=.1,padding:r=1}=e;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=P0(),[l,u]=P0(),[c,f]=P0(),[d,h]=P0();for(const p of i){const{min:v,max:g}=KAe(p),[m,y]=v,[b,x]=g;s(p,y),u(p,y),f(p,x-y),h(p,[m,b])}for(let p=0;p<n;p++){i.sort((g,m)=>Zn(l(g),l(m)));let v=0;for(let g=0;g<a-1;g++){const m=i[g];let y=g+1,b;for(;(b=i[y])&&!qAe(d(m),d(b));)y+=1;if(b){const x=l(m),_=c(m),w=l(b),k=w-(x+_);if(k<r){const O=(r-k)/2;v=Math.max(v,O),u(m,x-O),u(b,w+O)}}}if(v<t)break}for(const p of i)p.style.y+=l(p)-o(p);return i}};function nz(e){return typeof e=="object"?e:_u(e)}function gx(e){let n=e/255;return n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),n}function UR(e,n,t){return .2126*gx(e)+.7152*gx(n)+.0722*gx(t)}function rz(e,n){if(!e||!n||e===n)return 1;const{r:t,g:r,b:i}=e,{r:a,g:o,b:s}=n,l=UR(t,r,i),u=UR(a,o,s);return(Math.max(l,u)+.05)/(Math.min(l,u)+.05)}function iz(e,n){const t=Qf(n,r=>rz(e,nz(r)));return n[t]}const QAe=e=>{const{threshold:n=4.5,palette:t=["#000","#fff"]}=e;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;rz(o,a)<n&&i.attr("fill",iz(a,t))}),r)},JAe=()=>e=>(e.forEach(n=>{i1(n);const t=n.attr("bounds"),r=n.getLocalBounds();tz(vp(r),t)&&dS(n)}),e),ePe=(e,n)=>{const[[t,r],[i,a]]=n,[[o,s],[l,u]]=e;let c=0,f=0;return o<t?c=t-o:l>i&&(c=i-l),s<r?f=r-s:u>a&&(f=a-u),[c,f]},tPe=(e={})=>(n,{canvas:t,layout:r})=>{const{bounds:i="view",offsetX:a=0,offsetY:o=0}=e,l=(()=>{if(i==="main"){const{x:u=0,y:c=0,width:f=0,height:d=0,marginLeft:h=0,marginRight:p=0,marginTop:v=0,marginBottom:g=0,paddingLeft:m=0,paddingRight:y=0,paddingTop:b=0,paddingBottom:x=0}=r;return[[u+h+m+a,c+v+b+o],[u+f-p-y-a,c+d-g-x-o]]}else{const{x:u=0,y:c=0,width:f=0,height:d=0}=r;return[[u+a,c+o],[u+f-a,c+d-o]]}})();return n.forEach(u=>{i1(u);const{max:c,min:f}=u.getRenderBounds(),[d,h]=c,[p,v]=f,g=ePe([[p,v],[d,h]],l);u.style.connector&&u.style.connectorPoints&&(u.style.connectorPoints[0][0]-=g[0],u.style.connectorPoints[0][1]-=g[1]),u.style.x+=g[0],u.style.y+=g[1]}),n};function VR(e){var n;const t=e.getAnimations();if(!t||t.length===0)return Sm(e);const r=e.cloneNode(!0);r.style.visibility="hidden",t.forEach(a=>{const o=a.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(n=e.parentNode)===null||n===void 0||n.appendChild(r);const i=Sm(r);return r.destroy(),i}const nPe=e=>{const{palette:n=["#000","#fff"],threshold:t=2}=e;return r=>(r.forEach(i=>{var a,o;const s=i.attr("dependentElement"),l=(o=(a=i.attributes.fill)!==null&&a!==void 0?a:i.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",u=vp(VR(i)),c=vp(VR(s));if(tz(u,c,t)){const f=iz(nz(l),n);i.attr("stroke",f)}else i.removeAttribute("stroke")}),r)};function rPe(){return{"data.fetch":C7,"data.inline":F7,"data.sortBy":D7,"data.sort":L7,"data.filter":N7,"data.pick":$7,"data.rename":I7,"data.fold":R7,"data.slice":W7,"data.custom":B7,"data.map":j7,"data.join":G7,"data.kde":H7,"data.log":Q7,"data.wordCloud":Y7,"data.ema":J7,"transform.stackY":UI,"transform.binX":k5,"transform.bin":sk,"transform.dodgeX":r5,"transform.jitter":o5,"transform.jitterX":s5,"transform.jitterY":l5,"transform.symmetryY":u5,"transform.diffY":c5,"transform.stackEnter":i5,"transform.normalizeY":a5,"transform.select":gy,"transform.selectX":f5,"transform.selectY":d5,"transform.groupX":h5,"transform.groupY":p5,"transform.groupColor":v5,"transform.group":Ip,"transform.sortX":g5,"transform.sortY":y5,"transform.sortColor":m5,"transform.flexX":b5,"transform.pack":_5,"transform.sample":O5,"transform.filter":S5,"coordinate.cartesian":u$,"coordinate.polar":Ep,"coordinate.transpose":k_,"coordinate.theta":d$,"coordinate.parallel":S_,"coordinate.fisheye":p$,"coordinate.radial":O_,"coordinate.radar":v$,"coordinate.helix":f$,"encode.constant":g$,"encode.field":y$,"encode.transform":m$,"encode.column":b$,"mark.interval":WF,"mark.rect":HF,"mark.line":UF,"mark.point":VF,"mark.text":XF,"mark.cell":qF,"mark.area":KF,"mark.link":mO,"mark.image":ZF,"mark.polygon":QF,"mark.box":JF,"mark.vector":eB,"mark.lineX":nB,"mark.lineY":tB,"mark.connector":rB,"mark.range":iB,"mark.rangeX":aB,"mark.rangeY":oB,"mark.path":fB,"mark.shape":TB,"mark.density":zB,"mark.heatmap":YB,"mark.wordCloud":kO,"palette.category10":WB,"palette.category20":HB,"scale.linear":VB,"scale.ordinal":XB,"scale.band":UB,"scale.identity":qB,"scale.point":KB,"scale.time":ZB,"scale.log":QB,"scale.pow":JB,"scale.sqrt":r8,"scale.threshold":e8,"scale.quantile":t8,"scale.quantize":n8,"scale.sequential":i8,"scale.constant":a8,"theme.classic":o8,"theme.classicDark":l8,"theme.academy":u8,"theme.light":SO,"theme.dark":s8,"component.axisX":x8,"component.axisY":w8,"component.legendCategory":TO,"component.legendContinuous":Bl,"component.legends":C8,"component.title":E8,"component.sliderX":T8,"component.sliderY":M8,"component.scrollbarX":A8,"component.scrollbarY":P8,"animation.scaleInX":AO,"animation.scaleOutX":Kxe,"animation.scaleInY":R8,"animation.scaleOutY":Zxe,"animation.waveIn":D8,"animation.fadeIn":N8,"animation.fadeOut":L8,"animation.zoomIn":lwe,"animation.zoomOut":uwe,"animation.pathIn":F8,"animation.morphing":I8,"animation.growInX":B8,"animation.growInY":j8,"interaction.elementHighlight":a1,"interaction.elementHighlightByX":n7,"interaction.elementHighlightByColor":r7,"interaction.elementSelect":o1,"interaction.elementSelectByX":i7,"interaction.elementSelectByColor":a7,"interaction.fisheye":DTe,"interaction.chartIndex":o7,"interaction.tooltip":m7,"interaction.legendFilter":rMe,"interaction.legendHighlight":iMe,"interaction.brushHighlight":yS,"interaction.brushXHighlight":cMe,"interaction.brushYHighlight":fMe,"interaction.brushAxisHighlight":xMe,"interaction.brushFilter":_S,"interaction.brushXFilter":OMe,"interaction.brushYFilter":SMe,"interaction.sliderFilter":M7,"interaction.scrollbarFilter":PMe,"interaction.poptip":A7,"interaction.treemapDrillDown":FMe,"interaction.elementPointMove":WMe,"composition.spaceLayer":cj,"composition.spaceFlex":fj,"composition.facetRect":gj,"composition.repeatMatrix":x_e,"composition.facetCircle":E_e,"composition.timingKeyframe":mj,"labelTransform.overlapHide":XAe,"labelTransform.overlapDodgeY":ZAe,"labelTransform.overflowHide":JAe,"labelTransform.contrastReverse":QAe,"labelTransform.overflowStroke":nPe,"labelTransform.exceedAdjust":tPe}}function iPe(){return{"composition.geoView":Hj,"composition.geoPath":yj}}function aPe(){return{"data.arc":bO,"data.cluster":DB,"mark.forceGraph":$B,"mark.tree":BB,"mark.pack":kB,"mark.sankey":uB,"mark.chord":cB,"mark.treemap":_B}}function oPe(){return{"data.venn":Z7,"mark.boxplot":EB,"mark.gauge":jB,"mark.wordCloud":kO,"mark.liquid":GB}}function sPe(){return Object.assign(Object.assign(Object.assign(Object.assign({},iPe()),aPe()),oPe()),rPe())}function lPe(e,n){class t extends e{constructor(i){super(Object.assign(Object.assign({},i),{lib:n}))}}return t}const uPe={},kc=e=>e?parseInt(e):0;function cPe(e){const n=getComputedStyle(e),t=e.clientWidth||kc(n.width),r=e.clientHeight||kc(n.height),i=kc(n.paddingLeft)+kc(n.paddingRight),a=kc(n.paddingTop)+kc(n.paddingBottom);return{width:t-i,height:r-a}}function mx(e,n){const t=[e];for(;t.length;){const r=t.shift();n&&n(r);const i=r.children||[];for(const a of i)t.push(a)}}let OS=class{constructor(n={},t){this.parentNode=null,this.children=[],this.index=0,this.type=t,this.value=n}map(n=t=>t){const t=n(this.value);return this.value=t,this}attr(n,t){return arguments.length===1?this.value[n]:this.map(r=>(r[n]=t,r))}append(n){const t=new n({});return t.children=[],this.push(t),t}push(n){return n.parentNode=this,n.index=this.children.length,this.children.push(n),this}remove(){const n=this.parentNode;if(n){const{children:t}=n,r=t.findIndex(i=>i===this);t.splice(r,1)}return this}getNodeByKey(n){let t=null;return mx(this,i=>{n===i.attr("key")&&(t=i)}),t}getNodesByType(n){const t=[];return mx(this,i=>{n===i.type&&t.push(i)}),t}getNodeByType(n){let t=null;return mx(this,r=>{t||n===r.type&&(t=r)}),t}call(n,...t){return n(this.map(),...t),this}getRoot(){let n=this;for(;n&&n.parentNode;)n=n.parentNode;return n}};var az=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const R2=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],oz="__remove__",sz="__callback__",XR=1,qR=1;function fPe(e){if(e===void 0){const n=document.createElement("div");return n[oz]=!0,n}return typeof e=="string"?document.getElementById(e):e}function dPe(e){const n=e.parentNode;n&&n.removeChild(e)}function hPe(e){if(e.type!==null)return e;const n=e.children[e.children.length-1];for(const t of R2)n.attr(t,e.attr(t));return n}function KR(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function yx(e,n){const{width:t,height:r,autoFit:i,depth:a=0}=e;let o=640,s=480;if(i){const{width:l,height:u}=cPe(n);o=l||o,s=u||s}return o=t||o,s=r||s,{width:Math.max(jt(o)?o:XR,XR),height:Math.max(jt(s)?s:qR,qR),depth:a}}function pPe(e){const n=hPe(e),t=[n],r=new Map;for(r.set(n,KR(n));t.length;){const i=t.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===sz)a.children=s.value;else{const l=KR(s),{children:u=[]}=a;u.push(l),t.push(s),r.set(s,l),a.children=u}}return r.get(n)}function vPe(e,n){return typeof e=="function"?!0:new Set(Object.keys(n)).has(e)}function gPe(e,n){return typeof e!="function"&&new Set(Object.keys(n)).has(e)}function mPe(e,n,t,r,i){const{type:a}=e,{type:o=t||a}=n;if(gPe(o,i)){for(const s of R2)e.attr(s)!==void 0&&n[s]===void 0&&(n[s]=e.attr(s));return n}if(vPe(o,r)){const s={type:"view"},l=Object.assign({},n);for(const u of R2)l[u]!==void 0&&(s[u]=l[u],delete l[u]);return Object.assign(Object.assign({},s),{children:[l]})}return n}function yPe(e,n,t){if(typeof e=="function")return n.mark;const i=Object.assign(Object.assign({},n),t)[e];if(!i)throw new Error(`Unknown mark: ${e}.`);return i}function bPe(e,n,t){if(typeof e=="function"){const l=new OS;return l.value=e,l.type=sz,l}const{type:r,children:i}=e,a=az(e,["type","children"]),o=yPe(r,n,t),s=new o;return s.value=a,s.type=r,s}function xPe(e,n){const{type:t,children:r}=n,i=az(n,["type","children"]);e.type===t||t===void 0?BI(e.value,i):typeof t=="string"&&(e.type=t,e.value=i)}function wPe(e,n,t,r){if(!e)return;const i=[[e,n]];for(;i.length;){const[a,o]=i.shift(),s=bPe(o,t,r);Array.isArray(a.children)&&a.push(s);const{children:l}=o;if(Array.isArray(l))for(const u of l)i.push([s,u]);else typeof l=="function"&&i.push([s,l])}}function _Pe(e,n,t,r,i){const a=mPe(e,n,t,r,i),o=[[null,e,a]];for(;o.length;){const[s,l,u]=o.shift();if(!l)wPe(s,u,r,i);else if(!u)l.remove();else{xPe(l,u);const{children:c}=u,{children:f}=l;if(Array.isArray(c)&&Array.isArray(f)){const d=Math.max(c.length,f.length);for(let h=0;h<d;h++){const p=c[h],v=f[h];o.push([l,v,p])}}else typeof c=="function"&&o.push([l,null,c])}}}function kPe(){let e,n;return[new Promise((r,i)=>{n=r,e=i}),n,e]}function OPe(e,n,{key:t=n}){e.prototype[n]=function(r){return arguments.length===0?this.attr(t):this.attr(t,r)}}function SPe(e,n,{key:t=n}){e.prototype[n]=function(r){if(arguments.length===0)return this.attr(t);if(Array.isArray(r))return this.attr(t,r);const i=[...this.attr(t)||[],r];return this.attr(t,i)}}function EPe(e,n,{key:t=n}){e.prototype[n]=function(r,i){if(arguments.length===0)return this.attr(t);if(arguments.length===1&&typeof r!="string")return this.attr(t,r);const a=this.attr(t)||{};return a[r]=arguments.length===1?!0:i,this.attr(t,a)}}function TPe(e,n,t){e.prototype[n]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,{items:r});if(Sf(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(n,r);if(r===null||r===!1)return this.attr(n,r);const i=this.attr(n)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(n,i)}}function MPe(e,n,{ctor:t}){e.prototype[n]=function(r){const i=this.append(t);return n==="mark"&&(i.type=r),i}}function APe(e,n,{ctor:t}){e.prototype[n]=function(){return this.type=null,this.append(t)}}function Am(e){return n=>{for(const[t,r]of Object.entries(e)){const{type:i}=r;i==="value"?OPe(n,t,r):i==="array"?SPe(n,t,r):i==="object"?EPe(n,t,r):i==="node"?MPe(n,t,r):i==="container"?APe(n,t,r):i==="mix"&&TPe(n,t)}return n}}function ZR(e){return Object.fromEntries(Object.entries(e).map(([n,t])=>[n,{type:"node",ctor:t}]))}const lz={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},PPe=Object.assign(Object.assign({},lz),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),CPe=Object.assign(Object.assign({},lz),{labelTransform:{type:"array"}});var RPe=function(e,n,t,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a};let Pm=class extends OS{changeData(n){var t;const r=this.getRoot();if(r)return this.attr("data",n),!((t=this.children)===null||t===void 0)&&t.length&&this.children.forEach(i=>{i.attr("data",n)}),r==null?void 0:r.render()}getView(){const n=this.getRoot(),{views:t}=n.getContext();if(t!=null&&t.length)return t.find(r=>r.key===this._key)}getScale(){var n;return(n=this.getView())===null||n===void 0?void 0:n.scale}getScaleByChannel(n){const t=this.getScale();if(t)return t[n]}getCoordinate(){var n;return(n=this.getView())===null||n===void 0?void 0:n.coordinate}getTheme(){var n;return(n=this.getView())===null||n===void 0?void 0:n.theme}getGroup(){const n=this._key;return n?this.getRoot().getContext().canvas.getRoot().getElementById(n):void 0}show(){const n=this.getGroup();n&&!n.isVisible()&&i1(n)}hide(){const n=this.getGroup();n&&n.isVisible()&&dS(n)}};Pm=RPe([Am(CPe)],Pm);var NPe=function(e,n,t,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a};let N2=class extends OS{changeData(n){const t=this.getRoot();if(t)return this.attr("data",n),t==null?void 0:t.render()}getMark(){var n;const t=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(!t)return;const{markState:r}=t,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var n;const t=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(t)return t==null?void 0:t.scale}getScaleByChannel(n){var t,r;const i=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(i)return(r=i==null?void 0:i.scale)===null||r===void 0?void 0:r[n]}getGroup(){const n=this.attr("key");return n?this.getRoot().getContext().canvas.getRoot().getElementById(n):void 0}};N2=NPe([Am(PPe)],N2);var LPe=function(e,n,t,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},$Pe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const IPe="G2_CHART_KEY";class DPe extends Pm{constructor(n){const{container:t,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=n,l=$Pe(n,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=O$(()=>{this.forceFit()},300),this._renderer=i||new q8,this._plugins=a||[],this._container=fPe(t),this._emitter=new Q8,this._context={library:Object.assign(Object.assign({},o),uPe),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const n=new Promise((a,o)=>yTe(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[t,r,i]=kPe();return n.then(r).then(()=>{if(this._trailingClear){const a=this.options();this._trailingClear(),this._trailing&&this.options(a)}}).catch(i).then(()=>{this._trailingClear=null,this._renderTrailing()}),t}options(n){if(arguments.length===0)return pPe(this);const{type:t}=n;return t&&(this._previousDefinedType=t),_Pe(this,n,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(n,t,r){return this._emitter.on(n,t,r),this}once(n,t){return this._emitter.once(n,t),this}emit(n,...t){return this._emitter.emit(n,...t),this}off(n,t){return this._emitter.off(n,t),this}clear(n=!0){if(this._rendering){this._trailingClear=()=>{this.clear(n)},this._reset();return}const t=this.options();this.emit(Zt.BEFORE_CLEAR),this._reset(),kR(t,this._context,!1,n),this.emit(Zt.AFTER_CLEAR)}destroy(){const n=this.options();this.emit(Zt.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),kR(n,this._context,!0),this._container[oz]&&dPe(this._container),this.emit(Zt.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:n,height:t}=yx(this.options(),this._container);if(n===this._width&&t===this._height)return Promise.resolve(this);this.emit(Zt.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(Zt.AFTER_CHANGE_SIZE)}),r}changeSize(n,t){if(n===this._width&&t===this._height)return Promise.resolve(this);this.emit(Zt.BEFORE_CHANGE_SIZE),this.attr("width",n),this.attr("height",t);const r=this.render();return r.then(()=>{this.emit(Zt.AFTER_CHANGE_SIZE)}),r}getDataByXY(n,t={}){const{shared:r=!1,series:i,facet:a=!1,startX:o=0,startY:s=0}=t,{canvas:l,views:u}=this._context,{document:c}=l,{x:f,y:d}=n,{coordinate:h,scale:p,markState:v,data:g,key:m}=u[0],y=c.getElementsByClassName(Lo),b=r?T=>T.__data__.x:T=>T,x=yn(y,b),_=c.getElementsByClassName(am)[0],w=wo(_),k=T=>Array.from(T.values()).some(M=>{var P,A;return((P=M.interaction)===null||P===void 0?void 0:P.seriesTooltip)||((A=M.channels)===null||A===void 0?void 0:A.some(N=>N.name==="series"&&N.values!==void 0))}),O=Po(i,k(v)),S=T=>Gt(T,"__data__.data",null),E=T=>T.map(S);try{if(O&&k(v)&&!a){const{selectedData:A}=g7({root:w,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,startX:o,startY:s}),N=g.get(`${m}-0`);return A.map(({index:R})=>N[R])}const T=v7({root:w,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,shared:r});if(cy(T))return J_(T,g.get(m));const M=b(T),P=x.get(M);return P?E(P):[]}catch{const M=l.document.elementFromPointSync(f,d);return M?S(M):[]}}_create(){const{library:n}=this._context,t=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(n).filter(t)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends N2{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(l){const u=this.append(s);return o==="mark"&&(u.type=l),u}}const i=["composition.view",...Object.keys(n).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends Pm{constructor(){super({},o)}};return s=LPe([Am(ZR(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))Am(ZR(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const n=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([t])=>t.startsWith("margin")||t.startsWith("padding")||t.startsWith("inset")||n.includes(t))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const n=this._trailingResolve.bind(this);this._trailingResolve=null,n(this)}).catch(n=>{const t=this._trailingReject.bind(this);this._trailingReject=null,t(n)}))}_createResolve(n){return()=>{this._rendering=!1,n(this)}}_createReject(n){return t=>{this._rendering=!1,n(t)}}_computedOptions(){const n=this.options(),{key:t=IPe}=n,{width:r,height:i,depth:a}=yx(n,this._container);return this._width=r,this._height=i,this._key=t,Object.assign(Object.assign({key:this._key},n),{width:r,height:i,depth:a})}_createCanvas(){const{width:n,height:t}=yx(this.options(),this._container);this._plugins.push(new Z8),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new LD({container:this._container,width:n,height:t,renderer:this._renderer})}_addToTrailing(){var n;return(n=this._trailingResolve)===null||n===void 0||n.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const n=this.options(),{autoFit:t}=n;if(this._hasBindAutoFit){t||this._unbindAutoFit();return}t&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const FPe=Object.assign({},sPe()),uz=lPe(DPe,FPe),BPe={ref:"chart",class:"wm-chart_pie"},jPe=["innerHTML"],zPe=Nt({__name:"pie",props:{type:String,value:Array,theme:{type:String,default:"classic"},height:{type:Number,default:0},html:{type:String,default:""}},setup(e){const n=e,{proxy:t}=vo();Rt(()=>n,i=>{r()},{deep:!0}),tn(()=>{r()});const r=()=>{vn(()=>{const a={container:t.$refs.chart,autoFit:!0,forceFit:!0,theme:n.theme};n.height&&(a.height=n.height);const o=new uz(a);o.interval().data(n.value).coordinate({type:"theta",radius:.75,innerRadius:.45}).encode("y","value").encode("color","label").transform({type:"stackY"}).style("radius",4).style("inset",1).animate("enter",{type:"waveIn",duration:600}).tooltip({title:"label",items:[{field:"value",name:"数量"}]}).legend(!1),o.render()})};return(i,a)=>(J(),ie("div",BPe,[e.html?(J(),ie("div",{key:0,class:"wm-chart_pie_html",innerHTML:e.html},null,8,jPe)):he("",!0)],512))}}),YPe=Ui(zPe,[["__scopeId","data-v-4d456890"]]),GPe={ref:"chart",class:"wm-interval_body"},WPe=Nt({__name:"interval",props:{value:Array,theme:{type:String,default:"classic"},color:{type:String,default:"label"},height:{type:Number,default:0},unit:{type:String,default:""}},setup(e){const n=e,{proxy:t}=vo(),r=ge(0);Rt(()=>n,a=>{i()},{deep:!0}),tn(()=>{i()});const i=()=>{vn(()=>{let a=t.$refs.chart;r.value||(r.value=a.offsetHeight);const o={container:a,autoFit:!0,forceFit:!0,theme:n.theme};n.height&&(o.height=n.height);const s=new uz(o);s.interval().data(n.value).encode("color",n.color).encode("x",l=>l.label).encode("y",l=>l.value).style("radiusTopLeft",4).style("radiusTopRight",4).style("maxWidth",80),s.render()})};return(a,o)=>(J(),ie("div",GPe,null,512))}}),HPe=Ui(WPe,[["__scopeId","data-v-734ca6fe"]]),UPe={class:"index_title"},VPe={class:"index_ct flex"},XPe={class:"index_left"},qPe={class:"index_chart bg line_top c1"},KPe={class:"index_right"},ZPe={class:"index_chart bg line_top line_bottom c3"},QPe={class:"c3_list"},JPe={class:"index_chart bg line_top line_bottom c4"},eCe=Nt({__name:"Homes",setup(e){const n=ge(!1),r=Ys().state,i=ge(!1),a=ge("c1"),o=ge([{}]),s=ge([]);Rt(()=>r.isLogin,c=>{c&&l()},{deep:!0}),tn(()=>{r.token&&(n.value=!0)}),zN(()=>{n&&r.isLogin&&l()});const l=()=>{o.value=[{label:"n1",value:90},{label:"n2",value:200},{label:"n3",value:120}],u(a.value)},u=c=>{const f={c1:[{label:"n1",value:100},{label:"n2",value:50},{label:"n3",value:110},{label:"n4",value:360},{label:"n5",value:240},{label:"n6",value:120}],c2:[{label:"n1",value:300},{label:"n2",value:200},{label:"n3",value:450}],c3:[{label:"n1",value:100},{label:"n2",value:200},{label:"n3",value:150},{label:"n4",value:280},{label:"n5",value:120},{label:"n6",value:80}],c4:[{label:"n1",value:60},{label:"n2",value:30},{label:"n3",value:180},{label:"n4",value:260},{label:"n5",value:210}],c5:[{label:"n1",value:80},{label:"n2",value:210},{label:"n3",value:110}]};a.value=c,s.value=f[c]};return(c,f)=>(J(),ie("div",{class:Ue(["index_body",i.value?"full_screen":""])},[K("div",UPe,[f[6]||(f[6]=K("h1",null,"实时数据大屏",-1)),K("i",{class:Ue(["ui",i.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:f[0]||(f[0]=d=>{i.value=!i.value,l()})},null,2)]),f[13]||(f[13]=YS('<div class="index_tools bg line_top flex" data-v-fc329856><div class="city flex" data-v-fc329856><span data-v-fc329856>区域: <b data-v-fc329856>全部</b></span><span class="time" data-v-fc329856>时段: <b data-v-fc329856>2024/07/29</b> 至 <b data-v-fc329856>2024/07/29</b></span></div><ul class="day" data-v-fc329856><li class="active" data-v-fc329856>今日</li><li data-v-fc329856>昨日</li><li data-v-fc329856>近7天</li><li data-v-fc329856>近1月</li><li data-v-fc329856>自定义</li><li class="line" data-v-fc329856>|</li><li data-v-fc329856>导出</li></ul></div>',1)),K("div",VPe,[K("div",XPe,[K("div",qPe,[it(YPe,{type:"stack",theme:"classicDark",html:"<span style='font-size: 18px;'>库存</span>",value:o.value},null,8,["value"])]),f[7]||(f[7]=YS('<div class="index_chart bg line_top c2 scrollbar" data-v-fc329856><ul class="c2_list" data-v-fc329856><li class="flex" data-v-fc329856><div class="title" data-v-fc329856>瑞丽库房</div><div class="num" data-v-fc329856>7890</div></li><li class="flex" data-v-fc329856><div class="title" data-v-fc329856>平洲库房</div><div class="num" data-v-fc329856>3495</div></li><li class="flex" data-v-fc329856><div class="title" data-v-fc329856>缅甸库房</div><div class="num" data-v-fc329856>4056</div></li></ul></div>',1))]),K("div",KPe,[K("div",ZPe,[K("ul",QPe,[K("li",null,[K("div",{class:Ue(a.value=="c1"?"active":""),onClick:f[1]||(f[1]=d=>u("c1"))},f[8]||(f[8]=[K("span",{class:"title line_bottom"},"采购入库",-1),K("h2",null,"8920",-1),K("span",{class:"ratio"},[Jn("同比上期  "),K("b",{class:"up"},"12%")],-1)]),2)]),K("li",null,[K("div",{class:Ue(a.value=="c2"?"active":""),onClick:f[2]||(f[2]=d=>u("c2"))},f[9]||(f[9]=[K("span",{class:"title"},"采购退货",-1),K("h2",null,"720",-1),K("span",{class:"ratio"},[Jn("同比上期  "),K("b",{class:"down"},"32%")],-1)]),2)]),K("li",null,[K("div",{class:Ue(a.value=="c3"?"active":""),onClick:f[3]||(f[3]=d=>u("c3"))},f[10]||(f[10]=[K("span",{class:"title"},"调拨出",-1),K("h2",null,"5960",-1),K("span",{class:"ratio"},[Jn("同比上期  "),K("b",{class:"up"},"8%")],-1)]),2)]),K("li",null,[K("div",{class:Ue(a.value=="c4"?"active":""),onClick:f[4]||(f[4]=d=>u("c4"))},f[11]||(f[11]=[K("span",{class:"title"},"调拨入",-1),K("h2",null,"5810",-1),K("span",{class:"ratio"},[Jn("同比上期  "),K("b",{class:"down"},"8%")],-1)]),2)]),K("li",null,[K("div",{class:Ue(a.value=="c5"?"active":""),onClick:f[5]||(f[5]=d=>u("c5"))},f[12]||(f[12]=[K("span",{class:"title"},"销售出仓",-1),K("h2",null,"2343",-1),K("span",{class:"ratio"},[Jn("同比上期  "),K("b",{class:"up"},"5%")],-1)]),2)])])]),K("div",JPe,[it(HPe,{type:"dodge",theme:"classicDark",value:s.value},null,8,["value"])])])])],2))}}),tCe=Ui(eCe,[["__scopeId","data-v-fc329856"]]),nCe=[{path:"/",name:"Home",component:tCe},{path:"/refresh",name:"Refresh",component:()=>pi(()=>import("./Refresh-xIgBAGHX.js"),[])},{path:"/SysFileManage",name:"SysFileManage",component:()=>pi(()=>import("./index-BdnBWSkm.js"),__vite__mapDeps([0,1,2,3]))},{path:"/SysMenus",name:"SysMenus",component:()=>pi(()=>import("./index-XsoW7gub.js"),__vite__mapDeps([4,5,6,7,8,1,2,9,10,11,12,13]))},{path:"/SysUser",name:"SysUser",component:()=>pi(()=>import("./index-BSrpXK_b.js"),__vite__mapDeps([14,5,6,7,8,15,16,1,2,9,10,11,12,17,18,19]))},{path:"/SysRole",name:"SysRole",component:()=>pi(()=>import("./index-CldvQ-9g.js"),__vite__mapDeps([20,5,6,7,8,1,2,9,10,11,12,17,18,21]))},{path:"/WebHtml",name:"WebHtml",component:()=>pi(()=>import("./index-CsXorXoy.js"),__vite__mapDeps([22,5,6,1,2,9,10,11,12,23]))},{path:"/BaseOrganization",name:"BaseOrganization",component:()=>pi(()=>import("./index-D-aZifL6.js"),__vite__mapDeps([24,5,6,7,8,1,2,25,26,9,10,27]))},{path:"/BaseShop",name:"BaseShop",meta:{keepAlive:!0},component:()=>pi(()=>import("./index-BZft0WRB.js"),__vite__mapDeps([28,5,6,7,8,1,2,25,26,9,10,29]))},{path:"/BasePartner",name:"BasePartner",component:()=>pi(()=>import("./index-CBriBVJV.js"),__vite__mapDeps([30,5,6,7,8,1,2,25,26,9,10,31]))},{path:"/BaseBrand",name:"BaseBrand",component:()=>pi(()=>import("./index-CFDcOoJD.js"),__vite__mapDeps([32,5,6,7,8,1,2,25,26,9,10,33]))},{path:"/BaseCategory",name:"BaseCategory",component:()=>pi(()=>import("./index-BBB5Gek8.js"),__vite__mapDeps([34,5,6,7,8,1,2,25,26,9,10,35]))},{path:"/BaseSupplier",name:"BaseSupplier",component:()=>pi(()=>import("./index-COT-csyd.js"),__vite__mapDeps([36,5,6,7,8,1,2,9,10]))},{path:"/GoodsInfo",name:"GoodsInfo",component:()=>pi(()=>import("./index-B0DHfgJx.js"),__vite__mapDeps([37,38,5,6,7,8,15,16,1,2,25,26]))},{path:"/GoodsLog",name:"GoodsLog",component:()=>pi(()=>import("./index-CqP8exIr.js"),__vite__mapDeps([39,38,5,6,7,8,1,2]))},{path:"/GoodsStock",name:"GoodsStock",component:()=>pi(()=>import("./index-JWbtx1N1.js"),__vite__mapDeps([40,38,5,6,7,8,1,2]))}],rCe=fH({history:jW(),routes:nCe});IG(Aee).use(Pee).use(rCe).mount("#app");export{cQ as A,he as B,ra as C,zc as D,vn as E,il as F,BZ as G,TV as H,no as I,$0 as J,Fe as K,Tr as L,uT as M,Zi as R,j1 as S,Ni as T,zt as U,Ui as _,Je as a,V as b,vt as c,Nt as d,g3 as e,it as f,vo as g,m3 as h,K as i,sl as j,v3 as k,Jn as l,ih as m,ie as n,J as o,Be as p,Mh as q,ge as r,De as s,Me as t,Ys as u,Mt as v,Rt as w,Ue as x,tn as y,zN as z};
