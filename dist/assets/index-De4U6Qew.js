const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DQnfgdch.js","assets/Total-DFmTiaob.js","assets/Total-y6GAO7vw.css","assets/index-XNXLJVe8.css","assets/index-C0KWdjee.js","assets/Search-BRk08DvK.js","assets/Search-voz0JsXL.css","assets/index-yMd_J0k7.js","assets/index-BS1niaVh.css","assets/index-BSUatmH-.js","assets/index-bHSuAcZO.css","assets/index-DhmTQpDW.css","assets/index-B52WajVL.js","assets/index-DCH2wagm.js","assets/index-BRBWJtY9.css","assets/index-DQJL0JHY.js","assets/index-biU_zlF0.css","assets/index-DPhwP3FX.css","assets/index-DzNHxuWN.js","assets/index--sosMiRp.css","assets/index-D2YHWXTL.js","assets/index-DE4ja0oc.css","assets/index-sb9WLJnf.js","assets/index-DtELT80z.js","assets/index-DLMFU-KE.css","assets/index-eKYqrLwl.css","assets/index-CM0gqRKy.js","assets/index-C_aA8IJg.css","assets/index-DM5gutow.js","assets/index-CCk16Vjx.css","assets/index-CE00tDwJ.js","assets/index-CQIlRCz_.css","assets/index-B-8-kcjD.js","assets/index-wfDvRcz_.css","assets/index-AKetsHT8.js","assets/index-G45S6zvb.js","assets/index-9aVzUE4P.js","assets/index-CJbHP8ux.js","assets/index-FRPQr1mP.js","assets/PrintGoods-mR7h0T7F.js","assets/PrintGoods-B1LVXcju.css","assets/index-CqclZ-vq.css","assets/index-B3wYUlk2.js","assets/index-BNg_l6ld.css","assets/index-TA8z7VLu.js","assets/index-C0dBp9ka.css","assets/index-B5seSguH.js","assets/index-DGHcTMgA.css","assets/index-DyBwMlqC.js","assets/index-DWdRPtkA.css","assets/index-DfKq0iLC.js","assets/index-BFf3db0Z.css","assets/index-Cq3N825G.js","assets/index-Bj1hx3xP.css"])))=>i.map(i=>d[i]);
var uX=Object.defineProperty;var fX=(e,t,n)=>t in e?uX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ut=(e,t,n)=>fX(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ES(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const rr={},Qd=[],Al=()=>{},XR=()=>!1,Px=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),AS=e=>e.startsWith("onUpdate:"),Xa=Object.assign,SS=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},dX=Object.prototype.hasOwnProperty,Ln=(e,t)=>dX.call(e,t),kt=Array.isArray,Jd=e=>nv(e)==="[object Map]",qR=e=>nv(e)==="[object Set]",hX=e=>nv(e)==="[object RegExp]",Nt=e=>typeof e=="function",_r=e=>typeof e=="string",Pc=e=>typeof e=="symbol",ir=e=>e!==null&&typeof e=="object",KR=e=>(ir(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),ZR=Object.prototype.toString,nv=e=>ZR.call(e),pX=e=>nv(e).slice(8,-1),QR=e=>nv(e)==="[object Object]",OS=e=>_r(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kp=ES(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ix=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},vX=/-\w/g,as=Ix(e=>e.replace(vX,t=>t.slice(1).toUpperCase())),gX=/\B([A-Z])/g,Tu=Ix(e=>e.replace(gX,"-$1").toLowerCase()),Rx=Ix(e=>e.charAt(0).toUpperCase()+e.slice(1)),gb=Ix(e=>e?`on${Rx(e)}`:""),su=(e,t)=>!Object.is(e,t),e0=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},JR=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},B_=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mX=e=>{const t=_r(e)?Number(e):NaN;return isNaN(t)?e:t};let tC;const Dx=()=>tC||(tC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ue(e){if(kt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=_r(r)?wX(r):Ue(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(_r(e)||ir(e))return e}const yX=/;(?![^(]*\))/g,xX=/:([^]+)/,bX=/\/\*[^]*?\*\//g;function wX(e){const t={};return e.replace(bX,"").split(yX).forEach(n=>{if(n){const r=n.split(xX);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ve(e){let t="";if(_r(e))t=e;else if(kt(e))for(let n=0;n<e.length;n++){const r=Ve(e[n]);r&&(t+=r+" ")}else if(ir(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ha(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_r(t)&&(e.class=Ve(t)),n&&(e.style=Ue(n)),e}const _X="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EX=ES(_X);function eD(e){return!!e||e===""}const tD=e=>!!(e&&e.__v_isRef===!0),ge=e=>_r(e)?e:e==null?"":kt(e)||ir(e)&&(e.toString===ZR||!Nt(e.toString))?tD(e)?ge(e.value):JSON.stringify(e,nD,2):String(e),nD=(e,t)=>tD(t)?nD(e,t.value):Jd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[mb(r,i)+" =>"]=a,n),{})}:qR(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>mb(n))}:Pc(t)?mb(t):ir(t)&&!kt(t)&&!QR(t)?String(t):t,mb=(e,t="")=>{var n;return Pc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mi;class rD{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mi,!t&&mi&&(this.index=(mi.scopes||(mi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=mi;try{return mi=this,t()}finally{mi=n}}}on(){++this._on===1&&(this.prevScope=mi,mi=this)}off(){this._on>0&&--this._on===0&&(mi=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function AX(e){return new rD(e)}function aD(){return mi}function SX(e,t=!1){mi&&mi.cleanups.push(e)}let cr;const yb=new WeakSet;class iD{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mi&&mi.active&&mi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yb.has(this)&&(yb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sD(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nC(this),lD(this);const t=cr,n=Ds;cr=this,Ds=!0;try{return this.fn()}finally{cD(this),cr=t,Ds=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)CS(t);this.deps=this.depsTail=void 0,nC(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$_(this)&&this.run()}get dirty(){return $_(this)}}let oD=0,Tp,Cp;function sD(e,t=!1){if(e.flags|=8,t){e.next=Cp,Cp=e;return}e.next=Tp,Tp=e}function kS(){oD++}function TS(){if(--oD>0)return;if(Cp){let t=Cp;for(Cp=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Tp;){let t=Tp;for(Tp=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function lD(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cD(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),CS(r),OX(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function $_(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(uD(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function uD(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===r1)||(e.globalVersion=r1,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$_(e))))return;e.flags|=2;const t=e.dep,n=cr,r=Ds;cr=e,Ds=!0;try{lD(e);const a=e.fn(e._value);(t.version===0||su(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{cr=n,Ds=r,cD(e),e.flags&=-3}}function CS(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)CS(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function OX(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ds=!0;const fD=[];function wc(){fD.push(Ds),Ds=!1}function _c(){const e=fD.pop();Ds=e===void 0?!0:e}function nC(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=cr;cr=void 0;try{t()}finally{cr=n}}}let r1=0,kX=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class MS{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!cr||!Ds||cr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==cr)n=this.activeLink=new kX(cr,this),cr.deps?(n.prevDep=cr.depsTail,cr.depsTail.nextDep=n,cr.depsTail=n):cr.deps=cr.depsTail=n,dD(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=cr.depsTail,n.nextDep=void 0,cr.depsTail.nextDep=n,cr.depsTail=n,cr.deps===n&&(cr.deps=r)}return n}trigger(t){this.version++,r1++,this.notify(t)}notify(t){kS();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{TS()}}}function dD(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)dD(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Um=new WeakMap,Sf=Symbol(""),j_=Symbol(""),a1=Symbol("");function _i(e,t,n){if(Ds&&cr){let r=Um.get(e);r||Um.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new MS),a.map=r,a.key=n),a.track()}}function nc(e,t,n,r,a,i){const o=Um.get(e);if(!o){r1++;return}const s=l=>{l&&l.trigger()};if(kS(),t==="clear")o.forEach(s);else{const l=kt(e),c=l&&OS(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===a1||!Pc(d)&&d>=u)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(a1)),t){case"add":l?c&&s(o.get("length")):(s(o.get(Sf)),Jd(e)&&s(o.get(j_)));break;case"delete":l||(s(o.get(Sf)),Jd(e)&&s(o.get(j_)));break;case"set":Jd(e)&&s(o.get(Sf));break}}TS()}function TX(e,t){const n=Um.get(e);return n&&n.get(t)}function wd(e){const t=_n(e);return t===e?t:(_i(t,"iterate",a1),Jo(e)?t:t.map(ti))}function Nx(e){return _i(e=_n(e),"iterate",a1),e}const CX={__proto__:null,[Symbol.iterator](){return xb(this,Symbol.iterator,ti)},concat(...e){return wd(this).concat(...e.map(t=>kt(t)?wd(t):t))},entries(){return xb(this,"entries",e=>(e[1]=ti(e[1]),e))},every(e,t){return Gl(this,"every",e,t,void 0,arguments)},filter(e,t){return Gl(this,"filter",e,t,n=>n.map(ti),arguments)},find(e,t){return Gl(this,"find",e,t,ti,arguments)},findIndex(e,t){return Gl(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gl(this,"findLast",e,t,ti,arguments)},findLastIndex(e,t){return Gl(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gl(this,"forEach",e,t,void 0,arguments)},includes(...e){return bb(this,"includes",e)},indexOf(...e){return bb(this,"indexOf",e)},join(e){return wd(this).join(e)},lastIndexOf(...e){return bb(this,"lastIndexOf",e)},map(e,t){return Gl(this,"map",e,t,void 0,arguments)},pop(){return Th(this,"pop")},push(...e){return Th(this,"push",e)},reduce(e,...t){return rC(this,"reduce",e,t)},reduceRight(e,...t){return rC(this,"reduceRight",e,t)},shift(){return Th(this,"shift")},some(e,t){return Gl(this,"some",e,t,void 0,arguments)},splice(...e){return Th(this,"splice",e)},toReversed(){return wd(this).toReversed()},toSorted(e){return wd(this).toSorted(e)},toSpliced(...e){return wd(this).toSpliced(...e)},unshift(...e){return Th(this,"unshift",e)},values(){return xb(this,"values",ti)}};function xb(e,t,n){const r=Nx(e),a=r[t]();return r!==e&&!Jo(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.done||(i.value=n(i.value)),i}),a}const MX=Array.prototype;function Gl(e,t,n,r,a,i){const o=Nx(e),s=o!==e&&!Jo(e),l=o[t];if(l!==MX[t]){const f=l.apply(e,i);return s?ti(f):f}let c=n;o!==e&&(s?c=function(f,d){return n.call(this,ti(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return s&&a?a(u):u}function rC(e,t,n,r){const a=Nx(e);let i=n;return a!==e&&(Jo(e)?n.length>3&&(i=function(o,s,l){return n.call(this,o,s,l,e)}):i=function(o,s,l){return n.call(this,o,ti(s),l,e)}),a[t](i,...r)}function bb(e,t,n){const r=_n(e);_i(r,"iterate",a1);const a=r[t](...n);return(a===-1||a===!1)&&RS(n[0])?(n[0]=_n(n[0]),r[t](...n)):a}function Th(e,t,n=[]){wc(),kS();const r=_n(e)[t].apply(e,n);return TS(),_c(),r}const PX=ES("__proto__,__v_isRef,__isVue"),hD=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pc));function IX(e){Pc(e)||(e=String(e));const t=_n(this);return _i(t,"has",e),t.hasOwnProperty(e)}class pD{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?UX:yD:i?mD:gD).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=kt(t);if(!a){let l;if(o&&(l=CX[n]))return l;if(n==="hasOwnProperty")return IX}const s=Reflect.get(t,n,ia(t)?t:r);if((Pc(n)?hD.has(n):PX(n))||(a||_i(t,"get",n),i))return s;if(ia(s)){const l=o&&OS(n)?s:s.value;return a&&ir(l)?U_(l):l}return ir(s)?a?U_(s):jl(s):s}}class vD extends pD{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=yu(i);if(!Jo(r)&&!yu(r)&&(i=_n(i),r=_n(r)),!kt(t)&&ia(i)&&!ia(r))return l||(i.value=r),!0}const o=kt(t)&&OS(n)?Number(n)<t.length:Ln(t,n),s=Reflect.set(t,n,r,ia(t)?t:a);return t===_n(a)&&(o?su(r,i)&&nc(t,"set",n,r):nc(t,"add",n,r)),s}deleteProperty(t,n){const r=Ln(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&nc(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Pc(n)||!hD.has(n))&&_i(t,"has",n),r}ownKeys(t){return _i(t,"iterate",kt(t)?"length":Sf),Reflect.ownKeys(t)}}class RX extends pD{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const DX=new vD,NX=new RX,LX=new vD(!0);const z_=e=>e,Yv=e=>Reflect.getPrototypeOf(e);function FX(e,t,n){return function(...r){const a=this.__v_raw,i=_n(a),o=Jd(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=a[e](...r),u=n?z_:t?Hm:ti;return!t&&_i(i,"iterate",l?j_:Sf),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:s?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Xv(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function BX(e,t){const n={get(a){const i=this.__v_raw,o=_n(i),s=_n(a);e||(su(a,s)&&_i(o,"get",a),_i(o,"get",s));const{has:l}=Yv(o),c=t?z_:e?Hm:ti;if(l.call(o,a))return c(i.get(a));if(l.call(o,s))return c(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&_i(_n(a),"iterate",Sf),a.size},has(a){const i=this.__v_raw,o=_n(i),s=_n(a);return e||(su(a,s)&&_i(o,"has",a),_i(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,l=_n(s),c=t?z_:e?Hm:ti;return!e&&_i(l,"iterate",Sf),s.forEach((u,f)=>a.call(i,c(u),c(f),o))}};return Xa(n,e?{add:Xv("add"),set:Xv("set"),delete:Xv("delete"),clear:Xv("clear")}:{add(a){!t&&!Jo(a)&&!yu(a)&&(a=_n(a));const i=_n(this);return Yv(i).has.call(i,a)||(i.add(a),nc(i,"add",a,a)),this},set(a,i){!t&&!Jo(i)&&!yu(i)&&(i=_n(i));const o=_n(this),{has:s,get:l}=Yv(o);let c=s.call(o,a);c||(a=_n(a),c=s.call(o,a));const u=l.call(o,a);return o.set(a,i),c?su(i,u)&&nc(o,"set",a,i):nc(o,"add",a,i),this},delete(a){const i=_n(this),{has:o,get:s}=Yv(i);let l=o.call(i,a);l||(a=_n(a),l=o.call(i,a)),s&&s.call(i,a);const c=i.delete(a);return l&&nc(i,"delete",a,void 0),c},clear(){const a=_n(this),i=a.size!==0,o=a.clear();return i&&nc(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=FX(a,e,t)}),n}function PS(e,t){const n=BX(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Ln(n,a)&&a in r?n:r,a,i)}const $X={get:PS(!1,!1)},jX={get:PS(!1,!0)},zX={get:PS(!0,!1)};const gD=new WeakMap,mD=new WeakMap,yD=new WeakMap,UX=new WeakMap;function HX(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VX(e){return e.__v_skip||!Object.isExtensible(e)?0:HX(pX(e))}function jl(e){return yu(e)?e:IS(e,!1,DX,$X,gD)}function xD(e){return IS(e,!1,LX,jX,mD)}function U_(e){return IS(e,!0,NX,zX,yD)}function IS(e,t,n,r,a){if(!ir(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=VX(e);if(i===0)return e;const o=a.get(e);if(o)return o;const s=new Proxy(e,i===2?r:n);return a.set(e,s),s}function t0(e){return yu(e)?t0(e.__v_raw):!!(e&&e.__v_isReactive)}function yu(e){return!!(e&&e.__v_isReadonly)}function Jo(e){return!!(e&&e.__v_isShallow)}function RS(e){return e?!!e.__v_raw:!1}function _n(e){const t=e&&e.__v_raw;return t?_n(t):e}function WX(e){return!Ln(e,"__v_skip")&&Object.isExtensible(e)&&JR(e,"__v_skip",!0),e}const ti=e=>ir(e)?jl(e):e,Hm=e=>ir(e)?U_(e):e;function ia(e){return e?e.__v_isRef===!0:!1}function Ee(e){return bD(e,!1)}function GX(e){return bD(e,!0)}function bD(e,t){return ia(e)?e:new YX(e,t)}class YX{constructor(t,n){this.dep=new MS,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_n(t),this._value=n?t:ti(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Jo(t)||yu(t);t=r?t:_n(t),su(t,n)&&(this._rawValue=t,this._value=r?t:ti(t),this.dep.trigger())}}function Q(e){return ia(e)?e.value:e}function XX(e){return Nt(e)?e():Q(e)}const qX={get:(e,t,n)=>t==="__v_raw"?e:Q(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return ia(a)&&!ia(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function wD(e){return t0(e)?e:new Proxy(e,qX)}class KX{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return TX(_n(this._object),this._key)}}class ZX{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function i1(e,t,n){return ia(e)?e:Nt(e)?new ZX(e):ir(e)&&arguments.length>1?QX(e,t,n):Ee(e)}function QX(e,t,n){const r=e[t];return ia(r)?r:new KX(e,t,n)}class JX{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new MS(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=r1-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&cr!==this)return sD(this,!0),!0}get value(){const t=this.dep.track();return uD(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function eq(e,t,n=!1){let r,a;return Nt(e)?r=e:(r=e.get,a=e.set),new JX(r,a,n)}const qv={},Vm=new WeakMap;let cf;function tq(e,t=!1,n=cf){if(n){let r=Vm.get(n);r||Vm.set(n,r=[]),r.push(e)}}function nq(e,t,n=rr){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:s,call:l}=n,c=b=>a?b:Jo(b)||a===!1||a===0?rc(b,1):rc(b);let u,f,d,h,p=!1,v=!1;if(ia(e)?(f=()=>e.value,p=Jo(e)):t0(e)?(f=()=>c(e),p=!0):kt(e)?(v=!0,p=e.some(b=>t0(b)||Jo(b)),f=()=>e.map(b=>{if(ia(b))return b.value;if(t0(b))return c(b);if(Nt(b))return l?l(b,2):b()})):Nt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){wc();try{d()}finally{_c()}}const b=cf;cf=u;try{return l?l(e,3,[h]):e(h)}finally{cf=b}}:f=Al,t&&a){const b=f,_=a===!0?1/0:a;f=()=>rc(b(),_)}const g=aD(),m=()=>{u.stop(),g&&g.active&&SS(g.effects,u)};if(i&&t){const b=t;t=(..._)=>{b(..._),m()}}let y=v?new Array(e.length).fill(qv):qv;const x=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(t){const _=u.run();if(a||p||(v?_.some((E,w)=>su(E,y[w])):su(_,y))){d&&d();const E=cf;cf=u;try{const w=[_,y===qv?void 0:v&&y[0]===qv?[]:y,h];y=_,l?l(t,3,w):t(...w)}finally{cf=E}}}else u.run()};return s&&s(x),u=new iD(f),u.scheduler=o?()=>o(x,!1):x,h=b=>tq(b,!1,u),d=u.onStop=()=>{const b=Vm.get(u);if(b){if(l)l(b,4);else for(const _ of b)_();Vm.delete(u)}},t?r?x(!0):y=u.run():o?o(x.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function rc(e,t=1/0,n){if(t<=0||!ir(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,ia(e))rc(e.value,t,n);else if(kt(e))for(let r=0;r<e.length;r++)rc(e[r],t,n);else if(qR(e)||Jd(e))e.forEach(r=>{rc(r,t,n)});else if(QR(e)){for(const r in e)rc(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&rc(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rv(e,t,n,r){try{return r?e(...r):e()}catch(a){Lx(a,t,n)}}function zs(e,t,n,r){if(Nt(e)){const a=rv(e,t,n,r);return a&&KR(a)&&a.catch(i=>{Lx(i,t,n)}),a}if(kt(e)){const a=[];for(let i=0;i<e.length;i++)a.push(zs(e[i],t,n,r));return a}}function Lx(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||rr;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}s=s.parent}if(i){wc(),rv(i,null,10,[e,l,c]),_c();return}}rq(e,n,a,r,o)}function rq(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Gi=[];let cl=-1;const n0=[];let Uc=null,Fd=0;const _D=Promise.resolve();let Wm=null;function An(e){const t=Wm||_D;return e?t.then(this?e.bind(this):e):t}function aq(e){let t=cl+1,n=Gi.length;for(;t<n;){const r=t+n>>>1,a=Gi[r],i=o1(a);i<e||i===e&&a.flags&2?t=r+1:n=r}return t}function DS(e){if(!(e.flags&1)){const t=o1(e),n=Gi[Gi.length-1];!n||!(e.flags&2)&&t>=o1(n)?Gi.push(e):Gi.splice(aq(t),0,e),e.flags|=1,ED()}}function ED(){Wm||(Wm=_D.then(SD))}function iq(e){kt(e)?n0.push(...e):Uc&&e.id===-1?Uc.splice(Fd+1,0,e):e.flags&1||(n0.push(e),e.flags|=1),ED()}function aC(e,t,n=cl+1){for(;n<Gi.length;n++){const r=Gi[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Gi.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function AD(e){if(n0.length){const t=[...new Set(n0)].sort((n,r)=>o1(n)-o1(r));if(n0.length=0,Uc){Uc.push(...t);return}for(Uc=t,Fd=0;Fd<Uc.length;Fd++){const n=Uc[Fd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Uc=null,Fd=0}}const o1=e=>e.id==null?e.flags&2?-1:1/0:e.id;function SD(e){try{for(cl=0;cl<Gi.length;cl++){const t=Gi[cl];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rv(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;cl<Gi.length;cl++){const t=Gi[cl];t&&(t.flags&=-2)}cl=-1,Gi.length=0,AD(),Wm=null,(Gi.length||n0.length)&&SD()}}let ai=null,OD=null;function Gm(e){const t=ai;return ai=e,OD=e&&e.type.__scopeId||null,t}function it(e,t=ai,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&Zm(-1);const i=Gm(t);let o;try{o=e(...a)}finally{Gm(i),r._d&&Zm(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ns(e,t){if(ai===null)return e;const n=zx(ai),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=rr]=t[a];i&&(Nt(i)&&(i={mounted:i,updated:i}),i.deep&&rc(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Gu(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(wc(),zs(l,n,8,[e.el,s,e,t]),_c())}}const kD=Symbol("_vte"),TD=e=>e.__isTeleport,Mp=e=>e&&(e.disabled||e.disabled===""),iC=e=>e&&(e.defer||e.defer===""),oC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sC=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,H_=(e,t)=>{const n=e&&e.to;return _r(n)?t?t(n):null:n},CD={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=c,m=Mp(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(e==null){const _=t.el=v(""),E=t.anchor=v("");h(_,n,r),h(E,n,r);const w=(S,O)=>{y&16&&u(x,S,O,a,i,o,s,l)},A=()=>{const S=t.target=H_(t.props,p),O=MD(S,t,v,h);S&&(o!=="svg"&&oC(S)?o="svg":o!=="mathml"&&sC(S)&&(o="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(S),m||(w(S,O),mm(t,!1)))};m&&(w(n,E),mm(t,!0)),iC(t.props)?(t.el.__isMounted=!1,_a(()=>{A(),delete t.el.__isMounted},i)):A()}else{if(iC(t.props)&&e.el.__isMounted===!1){_a(()=>{CD.process(e,t,n,r,a,i,o,s,l,c)},i);return}t.el=e.el,t.targetStart=e.targetStart;const _=t.anchor=e.anchor,E=t.target=e.target,w=t.targetAnchor=e.targetAnchor,A=Mp(e.props),S=A?n:E,O=A?_:w;if(o==="svg"||oC(E)?o="svg":(o==="mathml"||sC(E))&&(o="mathml"),b?(d(e.dynamicChildren,b,S,a,i,o,s),BS(e,t,!0)):l||f(e,t,S,O,a,i,o,s,!1),m)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Kv(t,n,_,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const k=t.target=H_(t.props,p);k&&Kv(t,k,null,c,0)}else A&&Kv(t,E,w,c,1);mm(t,m)}},remove(e,t,n,{um:r,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:l,targetStart:c,targetAnchor:u,target:f,props:d}=e;if(f&&(a(c),a(u)),i&&a(l),o&16){const h=i||!Mp(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,n,h,!!v.dynamicChildren)}}},move:Kv,hydrate:oq};function Kv(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:c,props:u}=e,f=i===2;if(f&&r(o,t,n),(!f||Mp(u))&&l&16)for(let d=0;d<c.length;d++)a(c[d],t,n,2);f&&r(s,t,n)}function oq(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:c,createText:u}},f){function d(v,g,m,y){g.anchor=f(o(v),g,s(v),n,r,a,i),g.targetStart=m,g.targetAnchor=y}const h=t.target=H_(t.props,l),p=Mp(t.props);if(h){const v=h._lpa||h.firstChild;if(t.shapeFlag&16)if(p)d(e,t,v,v&&o(v));else{t.anchor=o(e);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||MD(h,t,u,c),f(v&&o(v),t,h,n,r,a,i)}mm(t,p)}else p&&t.shapeFlag&16&&d(e,t,e,o(e));return t.anchor&&o(t.anchor)}const sq=CD;function mm(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function MD(e,t,n,r){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[kD]=i,e&&(r(a,e),r(i,e)),i}const ec=Symbol("_leaveCb"),Zv=Symbol("_enterCb");function lq(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{e.isMounted=!0}),NS(()=>{e.isUnmounting=!0}),e}const Ro=[Function,Array],PD={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ro,onEnter:Ro,onAfterEnter:Ro,onEnterCancelled:Ro,onBeforeLeave:Ro,onLeave:Ro,onAfterLeave:Ro,onLeaveCancelled:Ro,onBeforeAppear:Ro,onAppear:Ro,onAfterAppear:Ro,onAppearCancelled:Ro},ID=e=>{const t=e.subTree;return t.component?ID(t.component):t},cq={name:"BaseTransition",props:PD,setup(e,{slots:t}){const n=no(),r=lq();return()=>{const a=t.default&&ND(t.default(),!0);if(!a||!a.length)return;const i=RD(a),o=_n(e),{mode:s}=o;if(r.isLeaving)return wb(i);const l=lC(i);if(!l)return wb(i);let c=V_(l,o,r,n,f=>c=f);l.type!==ni&&x0(l,c);let u=n.subTree&&lC(n.subTree);if(u&&u.type!==ni&&!Xc(u,l)&&ID(n).type!==ni){let f=V_(u,o,r,n);if(x0(u,f),s==="out-in"&&l.type!==ni)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},wb(i);s==="in-out"&&l.type!==ni?f.delayLeave=(d,h,p)=>{const v=DD(r,u);v[String(u.key)]=u,d[ec]=()=>{h(),d[ec]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function RD(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ni){t=n;break}}return t}const uq=cq;function DD(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function V_(e,t,n,r,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:x}=t,b=String(e.key),_=DD(n,e),E=(S,O)=>{S&&zs(S,r,9,O)},w=(S,O)=>{const k=O[1];E(S,O),kt(S)?S.every(T=>T.length<=1)&&k():S.length<=1&&k()},A={mode:o,persisted:s,beforeEnter(S){let O=l;if(!n.isMounted)if(i)O=g||l;else return;S[ec]&&S[ec](!0);const k=_[b];k&&Xc(e,k)&&k.el[ec]&&k.el[ec](),E(O,[S])},enter(S){let O=c,k=u,T=f;if(!n.isMounted)if(i)O=m||c,k=y||u,T=x||f;else return;let C=!1;const M=S[Zv]=P=>{C||(C=!0,P?E(T,[S]):E(k,[S]),A.delayedLeave&&A.delayedLeave(),S[Zv]=void 0)};O?w(O,[S,M]):M()},leave(S,O){const k=String(e.key);if(S[Zv]&&S[Zv](!0),n.isUnmounting)return O();E(d,[S]);let T=!1;const C=S[ec]=M=>{T||(T=!0,O(),M?E(v,[S]):E(p,[S]),S[ec]=void 0,_[k]===e&&delete _[k])};_[k]=e,h?w(h,[S,C]):C()},clone(S){const O=V_(S,t,n,r,a);return a&&a(O),O}};return A}function wb(e){if(Fx(e))return e=Ec(e),e.children=null,e}function lC(e){if(!Fx(e))return TD(e.type)&&e.children?RD(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Nt(n.default))return n.default()}}function x0(e,t){e.shapeFlag&6&&e.component?(e.transition=t,x0(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ND(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ge?(o.patchFlag&128&&a++,r=r.concat(ND(o.children,t,s))):(t||o.type!==ni)&&r.push(s!=null?Ec(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Ht(e,t){return Nt(e)?Xa({name:e.name},t,{setup:e}):e}function LD(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ym=new WeakMap;function Pp(e,t,n,r,a=!1){if(kt(e)){e.forEach((p,v)=>Pp(p,t&&(kt(t)?t[v]:t),n,r,a));return}if(Of(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Pp(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?zx(r.component):r.el,o=a?null:i,{i:s,r:l}=e,c=t&&t.r,u=s.refs===rr?s.refs={}:s.refs,f=s.setupState,d=_n(f),h=f===rr?XR:p=>Ln(d,p);if(c!=null&&c!==l){if(cC(t),_r(c))u[c]=null,h(c)&&(f[c]=null);else if(ia(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(Nt(l))rv(l,s,12,[o,u]);else{const p=_r(l),v=ia(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:u[l]:l.value;if(a)kt(m)&&SS(m,i);else if(kt(m))m.includes(i)||m.push(i);else if(p)u[l]=[i],h(l)&&(f[l]=u[l]);else{const y=[i];l.value=y,e.k&&(u[e.k]=y)}}else p?(u[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const m=()=>{g(),Ym.delete(e)};m.id=-1,Ym.set(e,m),_a(m,n)}else cC(e),g()}}}function cC(e){const t=Ym.get(e);t&&(t.flags|=8,Ym.delete(e))}Dx().requestIdleCallback;Dx().cancelIdleCallback;const Of=e=>!!e.type.__asyncLoader,Fx=e=>e.type.__isKeepAlive,fq={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=no(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const a=new Map,i=new Set;let o=null;const s=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,d=f("div");r.activate=(y,x,b,_,E)=>{const w=y.component;c(y,x,b,0,s),l(w.vnode,y,x,b,w,s,_,y.slotScopeIds,E),_a(()=>{w.isDeactivated=!1,w.a&&e0(w.a);const A=y.props&&y.props.onVnodeMounted;A&&zo(A,w.parent,y)},s)},r.deactivate=y=>{const x=y.component;qm(x.m),qm(x.a),c(y,d,null,1,s),_a(()=>{x.da&&e0(x.da);const b=y.props&&y.props.onVnodeUnmounted;b&&zo(b,x.parent,y),x.isDeactivated=!0},s)};function h(y){_b(y),u(y,n,s,!0)}function p(y){a.forEach((x,b)=>{const _=K_(x.type);_&&!y(_)&&v(b)})}function v(y){const x=a.get(y);x&&(!o||!Xc(x,o))?h(x):o&&_b(o),a.delete(y),i.delete(y)}Ut(()=>[e.include,e.exclude],([y,x])=>{y&&p(b=>ep(y,b)),x&&p(b=>!ep(x,b))},{flush:"post",deep:!0});let g=null;const m=()=>{g!=null&&(Km(n.subTree.type)?_a(()=>{a.set(g,Qv(n.subTree))},n.subTree.suspense):a.set(g,Qv(n.subTree)))};return On(m),jD(m),NS(()=>{a.forEach(y=>{const{subTree:x,suspense:b}=n,_=Qv(x);if(y.type===_.type&&y.key===_.key){_b(_);const E=_.component.da;E&&_a(E,b);return}h(y)})}),()=>{if(g=null,!t.default)return o=null;const y=t.default(),x=y[0];if(y.length>1)return o=null,y;if(!b0(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let b=Qv(x);if(b.type===ni)return o=null,b;const _=b.type,E=K_(Of(b)?b.type.__asyncResolved||{}:_),{include:w,exclude:A,max:S}=e;if(w&&(!E||!ep(w,E))||A&&E&&ep(A,E))return b.shapeFlag&=-257,o=b,x;const O=b.key==null?_:b.key,k=a.get(O);return b.el&&(b=Ec(b),x.shapeFlag&128&&(x.ssContent=b)),g=O,k?(b.el=k.el,b.component=k.component,b.transition&&x0(b,b.transition),b.shapeFlag|=512,i.delete(O),i.add(O)):(i.add(O),S&&i.size>parseInt(S,10)&&v(i.values().next().value)),b.shapeFlag|=256,o=b,Km(x.type)?x:b}}},dq=fq;function ep(e,t){return kt(e)?e.some(n=>ep(n,t)):_r(e)?e.split(",").includes(t):hX(e)?(e.lastIndex=0,e.test(t)):!1}function FD(e,t){BD(e,"a",t)}function hq(e,t){BD(e,"da",t)}function BD(e,t,n=Ai){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Bx(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Fx(a.parent.vnode)&&pq(r,t,n,a),a=a.parent}}function pq(e,t,n,r){const a=Bx(t,e,r,!0);Cu(()=>{SS(r[t],a)},n)}function _b(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Qv(e){return e.shapeFlag&128?e.ssContent:e}function Bx(e,t,n=Ai,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{wc();const s=iv(n),l=zs(t,n,e,o);return s(),_c(),l});return r?a.unshift(i):a.push(i),i}}const Ic=e=>(t,n=Ai)=>{(!l1||e==="sp")&&Bx(e,(...r)=>t(...r),n)},vq=Ic("bm"),On=Ic("m"),$D=Ic("bu"),jD=Ic("u"),NS=Ic("bum"),Cu=Ic("um"),gq=Ic("sp"),mq=Ic("rtg"),yq=Ic("rtc");function xq(e,t=Ai){Bx("ec",e,t)}const zD="components";function bq(e,t){return HD(zD,e,!0,t)||e}const UD=Symbol.for("v-ndc");function av(e){return _r(e)?HD(zD,e,!1)||e:e||UD}function HD(e,t,n=!0,r=!1){const a=ai||Ai;if(a){const i=a.type;{const s=K_(i,!1);if(s&&(s===t||s===as(t)||s===Rx(as(t))))return i}const o=uC(a[e]||i[e],t)||uC(a.appContext[e],t);return!o&&r?i:o}}function uC(e,t){return e&&(e[t]||e[as(t)]||e[Rx(as(t))])}function _t(e,t,n,r){let a;const i=n,o=kt(e);if(o||_r(e)){const s=o&&t0(e);let l=!1,c=!1;s&&(l=!Jo(e),c=yu(e),e=Nx(e)),a=new Array(e.length);for(let u=0,f=e.length;u<f;u++)a[u]=t(l?c?Hm(ti(e[u])):ti(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i)}else if(ir(e))if(e[Symbol.iterator])a=Array.from(e,(s,l)=>t(s,l,void 0,i));else{const s=Object.keys(e);a=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];a[l]=t(e[u],u,l,i)}}else a=[];return a}function Mi(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(kt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function et(e,t,n={},r,a){if(ai.ce||ai.parent&&Of(ai.parent)&&ai.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),Z(),St(Ge,null,[ot("slot",n,r)],c?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),Z();const o=i&&VD(i(n)),s=n.key||o&&o.key,l=St(Ge,{key:(s&&!Pc(s)?s:`_${t}`)+(!o&&r?"_fb":"")},o||[],o&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function VD(e){return e.some(t=>b0(t)?!(t.type===ni||t.type===Ge&&!VD(t.children)):!0)?e:null}const W_=e=>e?cN(e)?zx(e):W_(e.parent):null,Ip=Xa(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>W_(e.parent),$root:e=>W_(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>YD(e),$forceUpdate:e=>e.f||(e.f=()=>{DS(e.update)}),$nextTick:e=>e.n||(e.n=An.bind(e.proxy)),$watch:e=>Uq.bind(e)}),Eb=(e,t)=>e!==rr&&!e.__isScriptSetup&&Ln(e,t),wq={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(Eb(r,t))return o[t]=1,r[t];if(a!==rr&&Ln(a,t))return o[t]=2,a[t];if((c=e.propsOptions[0])&&Ln(c,t))return o[t]=3,i[t];if(n!==rr&&Ln(n,t))return o[t]=4,n[t];G_&&(o[t]=0)}}const u=Ip[t];let f,d;if(u)return t==="$attrs"&&_i(e.attrs,"get",""),u(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==rr&&Ln(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Ln(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return Eb(a,t)?(a[t]=n,!0):r!==rr&&Ln(r,t)?(r[t]=n,!0):Ln(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i,type:o}},s){let l,c;return!!(n[s]||e!==rr&&s[0]!=="$"&&Ln(e,s)||Eb(t,s)||(l=i[0])&&Ln(l,s)||Ln(r,s)||Ln(Ip,s)||Ln(a.config.globalProperties,s)||(c=o.__cssModules)&&c[s])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ln(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ad(){return WD().slots}function _q(){return WD().attrs}function WD(e){const t=no();return t.setupContext||(t.setupContext=fN(t))}function fC(e){return kt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let G_=!0;function Eq(e){const t=YD(e),n=e.proxy,r=e.ctx;G_=!1,t.beforeCreate&&dC(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:x,unmounted:b,render:_,renderTracked:E,renderTriggered:w,errorCaptured:A,serverPrefetch:S,expose:O,inheritAttrs:k,components:T,directives:C,filters:M}=t;if(c&&Aq(c,r,null),o)for(const L in o){const z=o[L];Nt(z)&&(r[L]=z.bind(n))}if(a){const L=a.call(n,n);ir(L)&&(e.data=jl(L))}if(G_=!0,i)for(const L in i){const z=i[L],N=Nt(z)?z.bind(n,n):Nt(z.get)?z.get.bind(n,n):Al,G=!Nt(z)&&Nt(z.set)?z.set.bind(n):Al,Y=je({get:N,set:G});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>Y.value,set:B=>Y.value=B})}if(s)for(const L in s)GD(s[L],r,n,L);if(l){const L=Nt(l)?l.call(n):l;Reflect.ownKeys(L).forEach(z=>{ym(z,L[z])})}u&&dC(u,e,"c");function I(L,z){kt(z)?z.forEach(N=>L(N.bind(n))):z&&L(z.bind(n))}if(I(vq,f),I(On,d),I($D,h),I(jD,p),I(FD,v),I(hq,g),I(xq,A),I(yq,E),I(mq,w),I(NS,y),I(Cu,b),I(gq,S),kt(O))if(O.length){const L=e.exposed||(e.exposed={});O.forEach(z=>{Object.defineProperty(L,z,{get:()=>n[z],set:N=>n[z]=N,enumerable:!0})})}else e.exposed||(e.exposed={});_&&e.render===Al&&(e.render=_),k!=null&&(e.inheritAttrs=k),T&&(e.components=T),C&&(e.directives=C),S&&LD(e)}function Aq(e,t,n=Al){kt(e)&&(e=Y_(e));for(const r in e){const a=e[r];let i;ir(a)?"default"in a?i=es(a.from||r,a.default,!0):i=es(a.from||r):i=es(a),ia(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function dC(e,t,n){zs(kt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function GD(e,t,n,r){let a=r.includes(".")?iN(n,r):()=>n[r];if(_r(e)){const i=t[e];Nt(i)&&Ut(a,i)}else if(Nt(e))Ut(a,e.bind(n));else if(ir(e))if(kt(e))e.forEach(i=>GD(i,t,n,r));else{const i=Nt(e.handler)?e.handler.bind(n):t[e.handler];Nt(i)&&Ut(a,i,e)}}function YD(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(c=>Xm(l,c,o,!0)),Xm(l,t,o)),ir(t)&&i.set(t,l),l}function Xm(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Xm(e,i,n,!0),a&&a.forEach(o=>Xm(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=Sq[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Sq={data:hC,props:pC,emits:pC,methods:tp,computed:tp,beforeCreate:ji,created:ji,beforeMount:ji,mounted:ji,beforeUpdate:ji,updated:ji,beforeDestroy:ji,beforeUnmount:ji,destroyed:ji,unmounted:ji,activated:ji,deactivated:ji,errorCaptured:ji,serverPrefetch:ji,components:tp,directives:tp,watch:kq,provide:hC,inject:Oq};function hC(e,t){return t?e?function(){return Xa(Nt(e)?e.call(this,this):e,Nt(t)?t.call(this,this):t)}:t:e}function Oq(e,t){return tp(Y_(e),Y_(t))}function Y_(e){if(kt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ji(e,t){return e?[...new Set([].concat(e,t))]:t}function tp(e,t){return e?Xa(Object.create(null),e,t):t}function pC(e,t){return e?kt(e)&&kt(t)?[...new Set([...e,...t])]:Xa(Object.create(null),fC(e),fC(t??{})):t}function kq(e,t){if(!e)return t;if(!t)return e;const n=Xa(Object.create(null),e);for(const r in t)n[r]=ji(e[r],t[r]);return n}function XD(){return{app:null,config:{isNativeTag:XR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tq=0;function Cq(e,t){return function(r,a=null){Nt(r)||(r=Xa({},r)),a!=null&&!ir(a)&&(a=null);const i=XD(),o=new WeakSet,s=[];let l=!1;const c=i.app={_uid:Tq++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:oK,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&Nt(u.install)?(o.add(u),u.install(c,...f)):Nt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||ot(r,a);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,zx(h.component)}},onUnmount(u){s.push(u)},unmount(){l&&(zs(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=r0;r0=c;try{return u()}finally{r0=f}}};return c}}let r0=null;function ym(e,t){if(Ai){let n=Ai.provides;const r=Ai.parent&&Ai.parent.provides;r===n&&(n=Ai.provides=Object.create(r)),n[e]=t}}function es(e,t,n=!1){const r=no();if(r||r0){let a=r0?r0._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Nt(t)?t.call(r&&r.proxy):t}}const qD={},KD=()=>Object.create(qD),ZD=e=>Object.getPrototypeOf(e)===qD;function Mq(e,t,n,r=!1){const a={},i=KD();e.propsDefaults=Object.create(null),QD(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:xD(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Pq(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=_n(a),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if($x(e.emitsOptions,d))continue;const h=t[d];if(l)if(Ln(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const p=as(d);a[p]=X_(l,s,p,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{QD(e,t,a,i)&&(c=!0);let u;for(const f in s)(!t||!Ln(t,f)&&((u=Tu(f))===f||!Ln(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(a[f]=X_(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Ln(t,f))&&(delete i[f],c=!0)}c&&nc(e.attrs,"set","")}function QD(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(kp(l))continue;const c=t[l];let u;a&&Ln(a,u=as(l))?!i||!i.includes(u)?n[u]=c:(s||(s={}))[u]=c:$x(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=_n(n),c=s||rr;for(let u=0;u<i.length;u++){const f=i[u];n[f]=X_(a,l,f,c[f],e,!Ln(c,f))}}return o}function X_(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=Ln(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Nt(l)){const{propsDefaults:c}=a;if(n in c)r=c[n];else{const u=iv(a);r=c[n]=l.call(null,t),u()}}else r=l;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===Tu(n))&&(r=!0))}return r}const Iq=new WeakMap;function JD(e,t,n=!1){const r=n?Iq:t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!Nt(e)){const u=f=>{l=!0;const[d,h]=JD(f,t,!0);Xa(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ir(e)&&r.set(e,Qd),Qd;if(kt(i))for(let u=0;u<i.length;u++){const f=as(i[u]);vC(f)&&(o[f]=rr)}else if(i)for(const u in i){const f=as(u);if(vC(f)){const d=i[u],h=o[f]=kt(d)||Nt(d)?{type:d}:Xa({},d),p=h.type;let v=!1,g=!0;if(kt(p))for(let m=0;m<p.length;++m){const y=p[m],x=Nt(y)&&y.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(g=!1)}else v=Nt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Ln(h,"default"))&&s.push(f)}}const c=[o,s];return ir(e)&&r.set(e,c),c}function vC(e){return e[0]!=="$"&&!kp(e)}const LS=e=>e==="_"||e==="_ctx"||e==="$stable",FS=e=>kt(e)?e.map(fl):[fl(e)],Rq=(e,t,n)=>{if(t._n)return t;const r=it((...a)=>FS(t(...a)),n);return r._c=!1,r},eN=(e,t,n)=>{const r=e._ctx;for(const a in e){if(LS(a))continue;const i=e[a];if(Nt(i))t[a]=Rq(a,i,r);else if(i!=null){const o=FS(i);t[a]=()=>o}}},tN=(e,t)=>{const n=FS(t);e.slots.default=()=>n},nN=(e,t,n)=>{for(const r in t)(n||!LS(r))&&(e[r]=t[r])},Dq=(e,t,n)=>{const r=e.slots=KD();if(e.vnode.shapeFlag&32){const a=t._;a?(nN(r,t,n),n&&JR(r,"_",a,!0)):eN(t,r)}else t&&tN(e,t)},Nq=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=rr;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:nN(a,t,n):(i=!t.$stable,eN(t,a)),o=t}else t&&(tN(e,t),o={default:1});if(i)for(const s in a)!LS(s)&&o[s]==null&&delete a[s]},_a=Kq;function Lq(e){return Fq(e)}function Fq(e,t){const n=Dx();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Al,insertStaticContent:p}=e,v=(U,q,J,X=null,ce=null,te=null,he=void 0,me=null,xe=!!q.dynamicChildren)=>{if(U===q)return;U&&!Xc(U,q)&&(X=H(U),B(U,ce,te,!0),U=null),q.patchFlag===-2&&(xe=!1,q.dynamicChildren=null);const{type:be,ref:De,shapeFlag:ue}=q;switch(be){case jx:g(U,q,J,X);break;case ni:m(U,q,J,X);break;case Sb:U==null&&y(q,J,X,he);break;case Ge:T(U,q,J,X,ce,te,he,me,xe);break;default:ue&1?_(U,q,J,X,ce,te,he,me,xe):ue&6?C(U,q,J,X,ce,te,he,me,xe):(ue&64||ue&128)&&be.process(U,q,J,X,ce,te,he,me,xe,re)}De!=null&&ce?Pp(De,U&&U.ref,te,q||U,!q):De==null&&U&&U.ref!=null&&Pp(U.ref,null,te,U,!0)},g=(U,q,J,X)=>{if(U==null)r(q.el=s(q.children),J,X);else{const ce=q.el=U.el;q.children!==U.children&&c(ce,q.children)}},m=(U,q,J,X)=>{U==null?r(q.el=l(q.children||""),J,X):q.el=U.el},y=(U,q,J,X)=>{[U.el,U.anchor]=p(U.children,q,J,X,U.el,U.anchor)},x=({el:U,anchor:q},J,X)=>{let ce;for(;U&&U!==q;)ce=d(U),r(U,J,X),U=ce;r(q,J,X)},b=({el:U,anchor:q})=>{let J;for(;U&&U!==q;)J=d(U),a(U),U=J;a(q)},_=(U,q,J,X,ce,te,he,me,xe)=>{q.type==="svg"?he="svg":q.type==="math"&&(he="mathml"),U==null?E(q,J,X,ce,te,he,me,xe):S(U,q,ce,te,he,me,xe)},E=(U,q,J,X,ce,te,he,me)=>{let xe,be;const{props:De,shapeFlag:ue,transition:ve,dirs:ze}=U;if(xe=U.el=o(U.type,te,De&&De.is,De),ue&8?u(xe,U.children):ue&16&&A(U.children,xe,null,X,ce,Ab(U,te),he,me),ze&&Gu(U,null,X,"created"),w(xe,U,U.scopeId,he,X),De){for(const lt in De)lt!=="value"&&!kp(lt)&&i(xe,lt,null,De[lt],te,X);"value"in De&&i(xe,"value",null,De.value,te),(be=De.onVnodeBeforeMount)&&zo(be,X,U)}ze&&Gu(U,null,X,"beforeMount");const We=Bq(ce,ve);We&&ve.beforeEnter(xe),r(xe,q,J),((be=De&&De.onVnodeMounted)||We||ze)&&_a(()=>{be&&zo(be,X,U),We&&ve.enter(xe),ze&&Gu(U,null,X,"mounted")},ce)},w=(U,q,J,X,ce)=>{if(J&&h(U,J),X)for(let te=0;te<X.length;te++)h(U,X[te]);if(ce){let te=ce.subTree;if(q===te||Km(te.type)&&(te.ssContent===q||te.ssFallback===q)){const he=ce.vnode;w(U,he,he.scopeId,he.slotScopeIds,ce.parent)}}},A=(U,q,J,X,ce,te,he,me,xe=0)=>{for(let be=xe;be<U.length;be++){const De=U[be]=me?Hc(U[be]):fl(U[be]);v(null,De,q,J,X,ce,te,he,me)}},S=(U,q,J,X,ce,te,he)=>{const me=q.el=U.el;let{patchFlag:xe,dynamicChildren:be,dirs:De}=q;xe|=U.patchFlag&16;const ue=U.props||rr,ve=q.props||rr;let ze;if(J&&Yu(J,!1),(ze=ve.onVnodeBeforeUpdate)&&zo(ze,J,q,U),De&&Gu(q,U,J,"beforeUpdate"),J&&Yu(J,!0),(ue.innerHTML&&ve.innerHTML==null||ue.textContent&&ve.textContent==null)&&u(me,""),be?O(U.dynamicChildren,be,me,J,X,Ab(q,ce),te):he||z(U,q,me,null,J,X,Ab(q,ce),te,!1),xe>0){if(xe&16)k(me,ue,ve,J,ce);else if(xe&2&&ue.class!==ve.class&&i(me,"class",null,ve.class,ce),xe&4&&i(me,"style",ue.style,ve.style,ce),xe&8){const We=q.dynamicProps;for(let lt=0;lt<We.length;lt++){const Pe=We[lt],ct=ue[Pe],Ye=ve[Pe];(Ye!==ct||Pe==="value")&&i(me,Pe,ct,Ye,ce,J)}}xe&1&&U.children!==q.children&&u(me,q.children)}else!he&&be==null&&k(me,ue,ve,J,ce);((ze=ve.onVnodeUpdated)||De)&&_a(()=>{ze&&zo(ze,J,q,U),De&&Gu(q,U,J,"updated")},X)},O=(U,q,J,X,ce,te,he)=>{for(let me=0;me<q.length;me++){const xe=U[me],be=q[me],De=xe.el&&(xe.type===Ge||!Xc(xe,be)||xe.shapeFlag&198)?f(xe.el):J;v(xe,be,De,null,X,ce,te,he,!0)}},k=(U,q,J,X,ce)=>{if(q!==J){if(q!==rr)for(const te in q)!kp(te)&&!(te in J)&&i(U,te,q[te],null,ce,X);for(const te in J){if(kp(te))continue;const he=J[te],me=q[te];he!==me&&te!=="value"&&i(U,te,me,he,ce,X)}"value"in J&&i(U,"value",q.value,J.value,ce)}},T=(U,q,J,X,ce,te,he,me,xe)=>{const be=q.el=U?U.el:s(""),De=q.anchor=U?U.anchor:s("");let{patchFlag:ue,dynamicChildren:ve,slotScopeIds:ze}=q;ze&&(me=me?me.concat(ze):ze),U==null?(r(be,J,X),r(De,J,X),A(q.children||[],J,De,ce,te,he,me,xe)):ue>0&&ue&64&&ve&&U.dynamicChildren?(O(U.dynamicChildren,ve,J,ce,te,he,me),(q.key!=null||ce&&q===ce.subTree)&&BS(U,q,!0)):z(U,q,J,De,ce,te,he,me,xe)},C=(U,q,J,X,ce,te,he,me,xe)=>{q.slotScopeIds=me,U==null?q.shapeFlag&512?ce.ctx.activate(q,J,X,he,xe):M(q,J,X,ce,te,he,xe):P(U,q,xe)},M=(U,q,J,X,ce,te,he)=>{const me=U.component=tK(U,X,ce);if(Fx(U)&&(me.ctx.renderer=re),nK(me,!1,he),me.asyncDep){if(ce&&ce.registerDep(me,I,he),!U.el){const xe=me.subTree=ot(ni);m(null,xe,q,J),U.placeholder=xe.el}}else I(me,U,q,J,ce,te,he)},P=(U,q,J)=>{const X=q.component=U.component;if(Xq(U,q,J))if(X.asyncDep&&!X.asyncResolved){L(X,q,J);return}else X.next=q,X.update();else q.el=U.el,X.vnode=q},I=(U,q,J,X,ce,te,he)=>{const me=()=>{if(U.isMounted){let{next:ue,bu:ve,u:ze,parent:We,vnode:lt}=U;{const Ct=rN(U);if(Ct){ue&&(ue.el=lt.el,L(U,ue,he)),Ct.asyncDep.then(()=>{U.isUnmounted||me()});return}}let Pe=ue,ct;Yu(U,!1),ue?(ue.el=lt.el,L(U,ue,he)):ue=lt,ve&&e0(ve),(ct=ue.props&&ue.props.onVnodeBeforeUpdate)&&zo(ct,We,ue,lt),Yu(U,!0);const Ye=gC(U),mt=U.subTree;U.subTree=Ye,v(mt,Ye,f(mt.el),H(mt),U,ce,te),ue.el=Ye.el,Pe===null&&qq(U,Ye.el),ze&&_a(ze,ce),(ct=ue.props&&ue.props.onVnodeUpdated)&&_a(()=>zo(ct,We,ue,lt),ce)}else{let ue;const{el:ve,props:ze}=q,{bm:We,m:lt,parent:Pe,root:ct,type:Ye}=U,mt=Of(q);Yu(U,!1),We&&e0(We),!mt&&(ue=ze&&ze.onVnodeBeforeMount)&&zo(ue,Pe,q),Yu(U,!0);{ct.ce&&ct.ce._def.shadowRoot!==!1&&ct.ce._injectChildStyle(Ye);const Ct=U.subTree=gC(U);v(null,Ct,J,X,U,ce,te),q.el=Ct.el}if(lt&&_a(lt,ce),!mt&&(ue=ze&&ze.onVnodeMounted)){const Ct=q;_a(()=>zo(ue,Pe,Ct),ce)}(q.shapeFlag&256||Pe&&Of(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&U.a&&_a(U.a,ce),U.isMounted=!0,q=J=X=null}};U.scope.on();const xe=U.effect=new iD(me);U.scope.off();const be=U.update=xe.run.bind(xe),De=U.job=xe.runIfDirty.bind(xe);De.i=U,De.id=U.uid,xe.scheduler=()=>DS(De),Yu(U,!0),be()},L=(U,q,J)=>{q.component=U;const X=U.vnode.props;U.vnode=q,U.next=null,Pq(U,q.props,X,J),Nq(U,q.children,J),wc(),aC(U),_c()},z=(U,q,J,X,ce,te,he,me,xe=!1)=>{const be=U&&U.children,De=U?U.shapeFlag:0,ue=q.children,{patchFlag:ve,shapeFlag:ze}=q;if(ve>0){if(ve&128){G(be,ue,J,X,ce,te,he,me,xe);return}else if(ve&256){N(be,ue,J,X,ce,te,he,me,xe);return}}ze&8?(De&16&&V(be,ce,te),ue!==be&&u(J,ue)):De&16?ze&16?G(be,ue,J,X,ce,te,he,me,xe):V(be,ce,te,!0):(De&8&&u(J,""),ze&16&&A(ue,J,X,ce,te,he,me,xe))},N=(U,q,J,X,ce,te,he,me,xe)=>{U=U||Qd,q=q||Qd;const be=U.length,De=q.length,ue=Math.min(be,De);let ve;for(ve=0;ve<ue;ve++){const ze=q[ve]=xe?Hc(q[ve]):fl(q[ve]);v(U[ve],ze,J,null,ce,te,he,me,xe)}be>De?V(U,ce,te,!0,!1,ue):A(q,J,X,ce,te,he,me,xe,ue)},G=(U,q,J,X,ce,te,he,me,xe)=>{let be=0;const De=q.length;let ue=U.length-1,ve=De-1;for(;be<=ue&&be<=ve;){const ze=U[be],We=q[be]=xe?Hc(q[be]):fl(q[be]);if(Xc(ze,We))v(ze,We,J,null,ce,te,he,me,xe);else break;be++}for(;be<=ue&&be<=ve;){const ze=U[ue],We=q[ve]=xe?Hc(q[ve]):fl(q[ve]);if(Xc(ze,We))v(ze,We,J,null,ce,te,he,me,xe);else break;ue--,ve--}if(be>ue){if(be<=ve){const ze=ve+1,We=ze<De?q[ze].el:X;for(;be<=ve;)v(null,q[be]=xe?Hc(q[be]):fl(q[be]),J,We,ce,te,he,me,xe),be++}}else if(be>ve)for(;be<=ue;)B(U[be],ce,te,!0),be++;else{const ze=be,We=be,lt=new Map;for(be=We;be<=ve;be++){const lr=q[be]=xe?Hc(q[be]):fl(q[be]);lr.key!=null&&lt.set(lr.key,be)}let Pe,ct=0;const Ye=ve-We+1;let mt=!1,Ct=0;const nn=new Array(Ye);for(be=0;be<Ye;be++)nn[be]=0;for(be=ze;be<=ue;be++){const lr=U[be];if(ct>=Ye){B(lr,ce,te,!0);continue}let ya;if(lr.key!=null)ya=lt.get(lr.key);else for(Pe=We;Pe<=ve;Pe++)if(nn[Pe-We]===0&&Xc(lr,q[Pe])){ya=Pe;break}ya===void 0?B(lr,ce,te,!0):(nn[ya-We]=be+1,ya>=Ct?Ct=ya:mt=!0,v(lr,q[ya],J,null,ce,te,he,me,xe),ct++)}const Cr=mt?$q(nn):Qd;for(Pe=Cr.length-1,be=Ye-1;be>=0;be--){const lr=We+be,ya=q[lr],Qs=q[lr+1],we=lr+1<De?Qs.el||Qs.placeholder:X;nn[be]===0?v(null,ya,J,we,ce,te,he,me,xe):mt&&(Pe<0||be!==Cr[Pe]?Y(ya,J,we,2):Pe--)}}},Y=(U,q,J,X,ce=null)=>{const{el:te,type:he,transition:me,children:xe,shapeFlag:be}=U;if(be&6){Y(U.component.subTree,q,J,X);return}if(be&128){U.suspense.move(q,J,X);return}if(be&64){he.move(U,q,J,re);return}if(he===Ge){r(te,q,J);for(let ue=0;ue<xe.length;ue++)Y(xe[ue],q,J,X);r(U.anchor,q,J);return}if(he===Sb){x(U,q,J);return}if(X!==2&&be&1&&me)if(X===0)me.beforeEnter(te),r(te,q,J),_a(()=>me.enter(te),ce);else{const{leave:ue,delayLeave:ve,afterLeave:ze}=me,We=()=>{U.ctx.isUnmounted?a(te):r(te,q,J)},lt=()=>{te._isLeaving&&te[ec](!0),ue(te,()=>{We(),ze&&ze()})};ve?ve(te,We,lt):lt()}else r(te,q,J)},B=(U,q,J,X=!1,ce=!1)=>{const{type:te,props:he,ref:me,children:xe,dynamicChildren:be,shapeFlag:De,patchFlag:ue,dirs:ve,cacheIndex:ze}=U;if(ue===-2&&(ce=!1),me!=null&&(wc(),Pp(me,null,J,U,!0),_c()),ze!=null&&(q.renderCache[ze]=void 0),De&256){q.ctx.deactivate(U);return}const We=De&1&&ve,lt=!Of(U);let Pe;if(lt&&(Pe=he&&he.onVnodeBeforeUnmount)&&zo(Pe,q,U),De&6)R(U.component,J,X);else{if(De&128){U.suspense.unmount(J,X);return}We&&Gu(U,null,q,"beforeUnmount"),De&64?U.type.remove(U,q,J,re,X):be&&!be.hasOnce&&(te!==Ge||ue>0&&ue&64)?V(be,q,J,!1,!0):(te===Ge&&ue&384||!ce&&De&16)&&V(xe,q,J),X&&F(U)}(lt&&(Pe=he&&he.onVnodeUnmounted)||We)&&_a(()=>{Pe&&zo(Pe,q,U),We&&Gu(U,null,q,"unmounted")},J)},F=U=>{const{type:q,el:J,anchor:X,transition:ce}=U;if(q===Ge){D(J,X);return}if(q===Sb){b(U);return}const te=()=>{a(J),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(U.shapeFlag&1&&ce&&!ce.persisted){const{leave:he,delayLeave:me}=ce,xe=()=>he(J,te);me?me(U.el,te,xe):xe()}else te()},D=(U,q)=>{let J;for(;U!==q;)J=d(U),a(U),U=J;a(q)},R=(U,q,J)=>{const{bum:X,scope:ce,job:te,subTree:he,um:me,m:xe,a:be}=U;qm(xe),qm(be),X&&e0(X),ce.stop(),te&&(te.flags|=8,B(he,U,q,J)),me&&_a(me,q),_a(()=>{U.isUnmounted=!0},q)},V=(U,q,J,X=!1,ce=!1,te=0)=>{for(let he=te;he<U.length;he++)B(U[he],q,J,X,ce)},H=U=>{if(U.shapeFlag&6)return H(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const q=d(U.anchor||U.el),J=q&&q[kD];return J?d(J):q};let j=!1;const K=(U,q,J)=>{U==null?q._vnode&&B(q._vnode,null,null,!0):v(q._vnode||null,U,q,null,null,null,J),q._vnode=U,j||(j=!0,aC(),AD(),j=!1)},re={p:v,um:B,m:Y,r:F,mt:M,mc:A,pc:z,pbc:O,n:H,o:e};return{render:K,hydrate:void 0,createApp:Cq(K)}}function Ab({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Yu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bq(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function BS(e,t,n=!1){const r=e.children,a=t.children;if(kt(r)&&kt(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Hc(a[i]),s.el=o.el),!n&&s.patchFlag!==-2&&BS(o,s)),s.type===jx&&s.patchFlag!==-1&&(s.el=o.el),s.type===ni&&!s.el&&(s.el=o.el)}}function $q(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(a=n[n.length-1],e[a]<c){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<c?i=s+1:o=s;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function rN(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:rN(t)}function qm(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const jq=Symbol.for("v-scx"),zq=()=>es(jq);function Ut(e,t,n){return aN(e,t,n)}function aN(e,t,n=rr){const{immediate:r,deep:a,flush:i,once:o}=n,s=Xa({},n),l=t&&r||!t&&i!=="post";let c;if(l1){if(i==="sync"){const h=zq();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Al,h.resume=Al,h.pause=Al,h}}const u=Ai;s.call=(h,p,v)=>zs(h,u,p,v);let f=!1;i==="post"?s.scheduler=h=>{_a(h,u&&u.suspense)}:i!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():DS(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=nq(e,t,s);return l1&&(c?c.push(d):l&&d()),d}function Uq(e,t,n){const r=this.proxy,a=_r(e)?e.includes(".")?iN(r,e):()=>r[e]:e.bind(r,r);let i;Nt(t)?i=t:(i=t.handler,n=t);const o=iv(this),s=aN(a,i.bind(r),n);return o(),s}function iN(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const Hq=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${as(t)}Modifiers`]||e[`${Tu(t)}Modifiers`];function Vq(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||rr;let a=n;const i=t.startsWith("update:"),o=i&&Hq(r,t.slice(7));o&&(o.trim&&(a=n.map(u=>_r(u)?u.trim():u)),o.number&&(a=n.map(B_)));let s,l=r[s=gb(t)]||r[s=gb(as(t))];!l&&i&&(l=r[s=gb(Tu(t))]),l&&zs(l,e,6,a);const c=r[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,zs(c,e,6,a)}}const Wq=new WeakMap;function oN(e,t,n=!1){const r=n?Wq:t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!Nt(e)){const l=c=>{const u=oN(c,t,!0);u&&(s=!0,Xa(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(ir(e)&&r.set(e,null),null):(kt(i)?i.forEach(l=>o[l]=null):Xa(o,i),ir(e)&&r.set(e,o),o)}function $x(e,t){return!e||!Px(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ln(e,t[0].toLowerCase()+t.slice(1))||Ln(e,Tu(t))||Ln(e,t))}function gC(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=Gm(e);let m,y;try{if(n.shapeFlag&4){const b=a||r,_=b;m=fl(c.call(_,b,u,f,h,d,p)),y=s}else{const b=t;m=fl(b.length>1?b(f,{attrs:s,slots:o,emit:l}):b(f,null)),y=t.props?s:Gq(s)}}catch(b){Rp.length=0,Lx(b,e,1),m=ot(ni)}let x=m;if(y&&v!==!1){const b=Object.keys(y),{shapeFlag:_}=x;b.length&&_&7&&(i&&b.some(AS)&&(y=Yq(y,i)),x=Ec(x,y,!1,!0))}return n.dirs&&(x=Ec(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&x0(x,n.transition),m=x,Gm(g),m}const Gq=e=>{let t;for(const n in e)(n==="class"||n==="style"||Px(n))&&((t||(t={}))[n]=e[n]);return t},Yq=(e,t)=>{const n={};for(const r in e)(!AS(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Xq(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mC(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!$x(c,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?mC(r,o,c):!0:!!o;return!1}function mC(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!$x(n,i))return!0}return!1}function qq({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Km=e=>e.__isSuspense;function Kq(e,t){t&&t.pendingBranch?kt(e)?t.effects.push(...e):t.effects.push(e):iq(e)}const Ge=Symbol.for("v-fgt"),jx=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),Sb=Symbol.for("v-stc"),Rp=[];let Oo=null;function Z(e=!1){Rp.push(Oo=e?null:[])}function Zq(){Rp.pop(),Oo=Rp[Rp.length-1]||null}let s1=1;function Zm(e,t=!1){s1+=e,e<0&&Oo&&t&&(Oo.hasOnce=!0)}function sN(e){return e.dynamicChildren=s1>0?Oo||Qd:null,Zq(),s1>0&&Oo&&Oo.push(e),e}function ne(e,t,n,r,a,i){return sN(W(e,t,n,r,a,i,!0))}function St(e,t,n,r,a){return sN(ot(e,t,n,r,a,!0))}function b0(e){return e?e.__v_isVNode===!0:!1}function Xc(e,t){return e.type===t.type&&e.key===t.key}const lN=({key:e})=>e??null,xm=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_r(e)||ia(e)||Nt(e)?{i:ai,r:e,k:t,f:!!n}:e:null);function W(e,t=null,n=null,r=0,a=null,i=e===Ge?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lN(t),ref:t&&xm(t),scopeId:OD,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:ai};return s?($S(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=_r(n)?8:16),s1>0&&!o&&Oo&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Oo.push(l),l}const ot=Qq;function Qq(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===UD)&&(e=ni),b0(e)){const s=Ec(e,t,!0);return n&&$S(s,n),s1>0&&!i&&Oo&&(s.shapeFlag&6?Oo[Oo.indexOf(e)]=s:Oo.push(s)),s.patchFlag=-2,s}if(iK(e)&&(e=e.__vccOpts),t){t=qi(t);let{class:s,style:l}=t;s&&!_r(s)&&(t.class=Ve(s)),ir(l)&&(RS(l)&&!kt(l)&&(l=Xa({},l)),t.style=Ue(l))}const o=_r(e)?1:Km(e)?128:TD(e)?64:ir(e)?4:Nt(e)?2:0;return W(e,t,n,r,a,o,i,!0)}function qi(e){return e?RS(e)||ZD(e)?Xa({},e):e:null}function Ec(e,t,n=!1,r=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:l}=e,c=t?Yr(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&lN(c),ref:t&&t.ref?n&&i?kt(i)?i.concat(xm(t)):[i,xm(t)]:xm(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ec(e.ssContent),ssFallback:e.ssFallback&&Ec(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&x0(u,l.clone(u)),u}function Pt(e=" ",t=0){return ot(jx,null,e,t)}function ye(e="",t=!1){return t?(Z(),St(ni,null,e)):ot(ni,null,e)}function fl(e){return e==null||typeof e=="boolean"?ot(ni):kt(e)?ot(Ge,null,e.slice()):b0(e)?Hc(e):ot(jx,null,String(e))}function Hc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ec(e)}function $S(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(kt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),$S(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!ZD(t)?t._ctx=ai:a===3&&ai&&(ai.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Nt(t)?(t={default:t,_ctx:ai},n=32):(t=String(t),r&64?(n=16,t=[Pt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Ve([t.class,r.class]));else if(a==="style")t.style=Ue([t.style,r.style]);else if(Px(a)){const i=t[a],o=r[a];o&&i!==o&&!(kt(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function zo(e,t,n,r=null){zs(e,t,7,[n,r])}const Jq=XD();let eK=0;function tK(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||Jq,i={uid:eK++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rD(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:JD(r,a),emitsOptions:oN(r,a),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:r.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Vq.bind(null,i),e.ce&&e.ce(i),i}let Ai=null;const no=()=>Ai||ai;let Qm,q_;{const e=Dx(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Qm=t("__VUE_INSTANCE_SETTERS__",n=>Ai=n),q_=t("__VUE_SSR_SETTERS__",n=>l1=n)}const iv=e=>{const t=Ai;return Qm(e),e.scope.on(),()=>{e.scope.off(),Qm(t)}},yC=()=>{Ai&&Ai.scope.off(),Qm(null)};function cN(e){return e.vnode.shapeFlag&4}let l1=!1;function nK(e,t=!1,n=!1){t&&q_(t);const{props:r,children:a}=e.vnode,i=cN(e);Mq(e,r,i,t),Dq(e,a,n||t);const o=i?rK(e,t):void 0;return t&&q_(!1),o}function rK(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wq);const{setup:r}=n;if(r){wc();const a=e.setupContext=r.length>1?fN(e):null,i=iv(e),o=rv(r,e,0,[e.props,a]),s=KR(o);if(_c(),i(),(s||e.sp)&&!Of(e)&&LD(e),s){if(o.then(yC,yC),t)return o.then(l=>{xC(e,l)}).catch(l=>{Lx(l,e,0)});e.asyncDep=o}else xC(e,o)}else uN(e)}function xC(e,t,n){Nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ir(t)&&(e.setupState=wD(t)),uN(e)}function uN(e,t,n){const r=e.type;e.render||(e.render=r.render||Al);{const a=iv(e);wc();try{Eq(e)}finally{_c(),a()}}}const aK={get(e,t){return _i(e,"get",""),e[t]}};function fN(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,aK),slots:e.slots,emit:e.emit,expose:t}}function zx(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(wD(WX(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ip)return Ip[n](e)},has(t,n){return n in t||n in Ip}})):e.proxy}function K_(e,t=!0){return Nt(e)?e.displayName||e.name:e.name||t&&e.__name}function iK(e){return Nt(e)&&"__vccOpts"in e}const je=(e,t)=>eq(e,t,l1);function Ux(e,t,n){try{Zm(-1);const r=arguments.length;return r===2?ir(t)&&!kt(t)?b0(t)?ot(e,null,[t]):ot(e,t):ot(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&b0(n)&&(n=[n]),ot(e,t,n))}finally{Zm(1)}}const oK="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Z_;const bC=typeof window<"u"&&window.trustedTypes;if(bC)try{Z_=bC.createPolicy("vue",{createHTML:e=>e})}catch{}const dN=Z_?e=>Z_.createHTML(e):e=>e,sK="http://www.w3.org/2000/svg",lK="http://www.w3.org/1998/Math/MathML",Jl=typeof document<"u"?document:null,wC=Jl&&Jl.createElement("template"),cK={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?Jl.createElementNS(sK,e):t==="mathml"?Jl.createElementNS(lK,e):n?Jl.createElement(e,{is:n}):Jl.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>Jl.createTextNode(e),createComment:e=>Jl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{wC.innerHTML=dN(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=wC.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Nc="transition",Ch="animation",c1=Symbol("_vtc"),hN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uK=Xa({},PD,hN),fK=e=>(e.displayName="Transition",e.props=uK,e),ah=fK((e,{slots:t})=>Ux(uq,dK(e),t)),Xu=(e,t=[])=>{kt(e)?e.forEach(n=>n(...t)):e&&e(...t)},_C=e=>e?kt(e)?e.some(t=>t.length>1):e.length>1:!1;function dK(e){const t={};for(const T in e)T in hN||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=hK(a),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:_,onBeforeAppear:E=m,onAppear:w=y,onAppearCancelled:A=x}=t,S=(T,C,M,P)=>{T._enterCancelled=P,qu(T,C?u:s),qu(T,C?c:o),M&&M()},O=(T,C)=>{T._isLeaving=!1,qu(T,f),qu(T,h),qu(T,d),C&&C()},k=T=>(C,M)=>{const P=T?w:y,I=()=>S(C,T,M);Xu(P,[C,I]),EC(()=>{qu(C,T?l:i),Yl(C,T?u:s),_C(P)||AC(C,r,v,I)})};return Xa(t,{onBeforeEnter(T){Xu(m,[T]),Yl(T,i),Yl(T,o)},onBeforeAppear(T){Xu(E,[T]),Yl(T,l),Yl(T,c)},onEnter:k(!1),onAppear:k(!0),onLeave(T,C){T._isLeaving=!0;const M=()=>O(T,C);Yl(T,f),T._enterCancelled?(Yl(T,d),kC(T)):(kC(T),Yl(T,d)),EC(()=>{T._isLeaving&&(qu(T,f),Yl(T,h),_C(b)||AC(T,r,g,M))}),Xu(b,[T,M])},onEnterCancelled(T){S(T,!1,void 0,!0),Xu(x,[T])},onAppearCancelled(T){S(T,!0,void 0,!0),Xu(A,[T])},onLeaveCancelled(T){O(T),Xu(_,[T])}})}function hK(e){if(e==null)return null;if(ir(e))return[Ob(e.enter),Ob(e.leave)];{const t=Ob(e);return[t,t]}}function Ob(e){return mX(e)}function Yl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[c1]||(e[c1]=new Set)).add(t)}function qu(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[c1];n&&(n.delete(t),n.size||(e[c1]=void 0))}function EC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pK=0;function AC(e,t,n,r){const a=e._endId=++pK,i=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=vK(e,t);if(!o)return r();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),i()},d=h=>{h.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},s+1),e.addEventListener(c,d)}function vK(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),a=r(`${Nc}Delay`),i=r(`${Nc}Duration`),o=SC(a,i),s=r(`${Ch}Delay`),l=r(`${Ch}Duration`),c=SC(s,l);let u=null,f=0,d=0;t===Nc?o>0&&(u=Nc,f=o,d=i.length):t===Ch?c>0&&(u=Ch,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?Nc:Ch:null,d=u?u===Nc?i.length:l.length:0);const h=u===Nc&&/\b(?:transform|all)(?:,|$)/.test(r(`${Nc}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function SC(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>OC(n)+OC(e[r])))}function OC(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function kC(e){return(e?e.ownerDocument:document).body.offsetHeight}function gK(e,t,n){const r=e[c1];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Jm=Symbol("_vod"),pN=Symbol("_vsh"),bm={name:"show",beforeMount(e,{value:t},{transition:n}){e[Jm]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Mh(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Mh(e,!0),r.enter(e)):r.leave(e,()=>{Mh(e,!1)}):Mh(e,t))},beforeUnmount(e,{value:t}){Mh(e,t)}};function Mh(e,t){e.style.display=t?e[Jm]:"none",e[pN]=!t}const mK=Symbol(""),yK=/(?:^|;)\s*display\s*:/;function xK(e,t,n){const r=e.style,a=_r(n);let i=!1;if(n&&!a){if(t)if(_r(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&wm(r,s,"")}else for(const o in t)n[o]==null&&wm(r,o,"");for(const o in n)o==="display"&&(i=!0),wm(r,o,n[o])}else if(a){if(t!==n){const o=r[mK];o&&(n+=";"+o),r.cssText=n,i=yK.test(n)}}else t&&e.removeAttribute("style");Jm in e&&(e[Jm]=i?r.display:"",e[pN]&&(r.display="none"))}const TC=/\s*!important$/;function wm(e,t,n){if(kt(n))n.forEach(r=>wm(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=bK(e,t);TC.test(n)?e.setProperty(Tu(r),n.replace(TC,""),"important"):e[r]=n}}const CC=["Webkit","Moz","ms"],kb={};function bK(e,t){const n=kb[t];if(n)return n;let r=as(t);if(r!=="filter"&&r in e)return kb[t]=r;r=Rx(r);for(let a=0;a<CC.length;a++){const i=CC[a]+r;if(i in e)return kb[t]=i}return t}const MC="http://www.w3.org/1999/xlink";function PC(e,t,n,r,a,i=EX(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(MC,t.slice(6,t.length)):e.setAttributeNS(MC,t,n):n==null||i&&!eD(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Pc(n)?String(n):n)}function IC(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?dN(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=eD(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function Bd(e,t,n,r){e.addEventListener(t,n,r)}function wK(e,t,n,r){e.removeEventListener(t,n,r)}const RC=Symbol("_vei");function _K(e,t,n,r,a=null){const i=e[RC]||(e[RC]={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=EK(t);if(r){const c=i[t]=OK(r,a);Bd(e,s,c,l)}else o&&(wK(e,s,o,l),i[t]=void 0)}}const DC=/(?:Once|Passive|Capture)$/;function EK(e){let t;if(DC.test(e)){t={};let r;for(;r=e.match(DC);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tu(e.slice(2)),t]}let Tb=0;const AK=Promise.resolve(),SK=()=>Tb||(AK.then(()=>Tb=0),Tb=Date.now());function OK(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;zs(kK(r,n.value),t,5,[r])};return n.value=e,n.attached=SK(),n}function kK(e,t){if(kt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const NC=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,TK=(e,t,n,r,a,i)=>{const o=a==="svg";t==="class"?gK(e,r,o):t==="style"?xK(e,n,r):Px(t)?AS(t)||_K(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CK(e,t,r,o))?(IC(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&PC(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_r(r))?IC(e,as(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),PC(e,t,r,o))};function CK(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&NC(t)&&Nt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return NC(t)&&_r(n)?!1:t in e}const LC=e=>{const t=e.props["onUpdate:modelValue"]||!1;return kt(t)?n=>e0(t,n):t};function MK(e){e.target.composing=!0}function FC(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Cb=Symbol("_assign"),kf={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Cb]=LC(a);const i=r||a.props&&a.props.type==="number";Bd(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=B_(s)),e[Cb](s)}),n&&Bd(e,"change",()=>{e.value=e.value.trim()}),t||(Bd(e,"compositionstart",MK),Bd(e,"compositionend",FC),Bd(e,"change",FC))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[Cb]=LC(o),e.composing)return;const s=(i||e.type==="number")&&!/^0\d/.test(e.value)?B_(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===l)||(e.value=l))}},PK=["ctrl","shift","alt","meta"],IK={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>PK.some(n=>e[`${n}Key`]&&!t.includes(n))},Ca=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((a,...i)=>{for(let o=0;o<t.length;o++){const s=IK[t[o]];if(s&&s(a,t))return}return e(a,...i)}))},RK={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hc=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(a=>{if(!("key"in a))return;const i=Tu(a.key);if(t.some(o=>o===i||RK[o]===i))return e(a)}))},DK=Xa({patchProp:TK},cK);let BC;function vN(){return BC||(BC=Lq(DK))}const $C=((...e)=>{vN().render(...e)}),NK=((...e)=>{const t=vN().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=FK(r);if(!a)return;const i=t._component;!Nt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,LK(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t});function LK(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function FK(e){return _r(e)?document.querySelector(e):e}function BK(){return gN().__VUE_DEVTOOLS_GLOBAL_HOOK__}function gN(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const $K=typeof Proxy=="function",jK="devtools-plugin:setup",zK="plugin:settings:set";let _d,Q_;function UK(){var e;return _d!==void 0||(typeof window<"u"&&window.performance?(_d=!0,Q_=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(_d=!0,Q_=globalThis.perf_hooks.performance):_d=!1),_d}function HK(){return UK()?Q_.now():Date.now()}class VK{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const s=t.settings[o];r[o]=s.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),s=JSON.parse(o);Object.assign(i,s)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return HK()}},n&&n.on(zK,(o,s)=>{o===this.plugin.id&&this.fallbacks.setSettings(s)}),this.proxiedOn=new Proxy({},{get:(o,s)=>this.target?this.target.on[s]:(...l)=>{this.onQueue.push({method:s,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,s)=>this.target?this.target[s]:s==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(s)?(...l)=>(this.targetQueue.push({method:s,args:l,resolve:()=>{}}),this.fallbacks[s](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:s,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function WK(e,t){const n=e,r=gN(),a=BK(),i=$K&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(jK,e,t);else{const o=i?new VK(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var mN="store";function ls(e){return e===void 0&&(e=null),es(e!==null?e:mN)}function ih(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function GK(e){return e!==null&&typeof e=="object"}function YK(e){return e&&typeof e.then=="function"}function XK(e,t){return function(){return e(t)}}function yN(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function xN(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Hx(e,n,[],e._modules.root,!0),jS(e,n,t)}function jS(e,t,n){var r=e._state,a=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={},s={},l=AX(!0);l.run(function(){ih(i,function(c,u){o[u]=XK(c,e),s[u]=je(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return s[u].value},enumerable:!0})})}),e._state=jl({data:t}),e._scope=l,e.strict&&JK(e),r&&n&&e._withCommit(function(){r.data=null}),a&&a.stop()}function Hx(e,t,n,r,a){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!a){var s=zS(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=r.state})}var c=r.context=qK(e,o,n);r.forEachMutation(function(u,f){var d=o+f;KK(e,d,u,c)}),r.forEachAction(function(u,f){var d=u.root?f:o+f,h=u.handler||u;ZK(e,d,h,c)}),r.forEachGetter(function(u,f){var d=o+f;QK(e,d,u,c)}),r.forEachChild(function(u,f){Hx(e,t,n.concat(f),u,a)})}function qK(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(i,o,s){var l=ey(i,o,s),c=l.payload,u=l.options,f=l.type;return(!u||!u.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(i,o,s){var l=ey(i,o,s),c=l.payload,u=l.options,f=l.type;(!u||!u.root)&&(f=t+f),e.commit(f,c,u)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return bN(e,t)}},state:{get:function(){return zS(e.state,n)}}}),a}function bN(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var i=a.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function KK(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function ZK(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var s=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return YK(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function QK(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function JK(e){Ut(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function zS(e,t){return t.reduce(function(n,r){return n[r]},e)}function ey(e,t,n){return GK(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var eZ="vuex bindings",jC="vuex:mutations",Mb="vuex:actions",Ed="vuex",tZ=0;function nZ(e,t){WK({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[eZ]},function(n){n.addTimelineLayer({id:jC,label:"Vuex Mutations",color:zC}),n.addTimelineLayer({id:Mb,label:"Vuex Actions",color:zC}),n.addInspector({id:Ed,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Ed)if(r.filter){var a=[];AN(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[EN(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Ed){var a=r.nodeId;bN(t,a),r.state=iZ(sZ(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Ed){var a=r.nodeId,i=r.path;a!=="root"&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,a){var i={};r.payload&&(i.payload=r.payload),i.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(Ed),n.sendInspectorState(Ed),n.addTimelineEvent({layerId:jC,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,a){var i={};r.payload&&(i.payload=r.payload),r._id=tZ++,r._time=Date.now(),i.state=a,n.addTimelineEvent({layerId:Mb,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,a){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=a,n.addTimelineEvent({layerId:Mb,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var zC=8702998,rZ=6710886,aZ=16777215,wN={label:"namespaced",textColor:aZ,backgroundColor:rZ};function _N(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function EN(e,t){return{id:t||"root",label:_N(t),tags:e.namespaced?[wN]:[],children:Object.keys(e._children).map(function(n){return EN(e._children[n],t+n+"/")})}}function AN(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[wN]:[]}),Object.keys(t._children).forEach(function(a){AN(e,t._children[a],n,r+a+"/")})}function iZ(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=oZ(t);a.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?_N(o):o,editable:!1,value:J_(function(){return i[o]})}})}return a}function oZ(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,i=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[i]=J_(function(){return e[n]})}else t[n]=J_(function(){return e[n]})}),t}function sZ(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,i){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function J_(e){try{return e()}catch(t){return t}}var Ys=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},SN={namespaced:{configurable:!0}};SN.namespaced.get=function(){return!!this._rawModule.namespaced};Ys.prototype.addChild=function(t,n){this._children[t]=n};Ys.prototype.removeChild=function(t){delete this._children[t]};Ys.prototype.getChild=function(t){return this._children[t]};Ys.prototype.hasChild=function(t){return t in this._children};Ys.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ys.prototype.forEachChild=function(t){ih(this._children,t)};Ys.prototype.forEachGetter=function(t){this._rawModule.getters&&ih(this._rawModule.getters,t)};Ys.prototype.forEachAction=function(t){this._rawModule.actions&&ih(this._rawModule.actions,t)};Ys.prototype.forEachMutation=function(t){this._rawModule.mutations&&ih(this._rawModule.mutations,t)};Object.defineProperties(Ys.prototype,SN);var id=function(t){this.register([],t,!1)};id.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};id.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};id.prototype.update=function(t){ON([],this.root,t)};id.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var i=new Ys(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&ih(n.modules,function(s,l){a.register(t.concat(l),s,r)})};id.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);a&&a.runtime&&n.removeChild(r)};id.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function ON(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;ON(e.concat(r),t.getChild(r),n.modules[r])}}function lZ(e){return new xo(e)}var xo=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new id(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(d,h){return l.call(o,d,h)},this.commit=function(d,h,p){return c.call(o,d,h,p)},this.strict=a;var u=this._modules.root.state;Hx(this,u,[],this._modules.root),jS(this,u),r.forEach(function(f){return f(n)})},US={state:{configurable:!0}};xo.prototype.install=function(t,n){t.provide(n||mN,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&nZ(t,this)};US.state.get=function(){return this._state.data};US.state.set=function(e){};xo.prototype.commit=function(t,n,r){var a=this,i=ey(t,n,r),o=i.type,s=i.payload,l={type:o,payload:s},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(f){f(s)})}),this._subscribers.slice().forEach(function(u){return u(l,a.state)}))};xo.prototype.dispatch=function(t,n){var r=this,a=ey(t,n),i=a.type,o=a.payload,s={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(s,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,f){c.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,r.state,d)})}catch{}f(d)})})}};xo.prototype.subscribe=function(t,n){return yN(t,this._subscribers,n)};xo.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return yN(r,this._actionSubscribers,n)};xo.prototype.watch=function(t,n,r){var a=this;return Ut(function(){return t(a.state,a.getters)},n,Object.assign({},r))};xo.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};xo.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Hx(this,this.state,t,this._modules.get(t),r.preserveState),jS(this,this.state)};xo.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=zS(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),xN(this)};xo.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};xo.prototype.hotUpdate=function(t){this._modules.update(t),xN(this,!0)};xo.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(xo.prototype,US);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const $d=typeof document<"u";function kN(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cZ(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&kN(e.default)}const Nn=Object.assign;function Pb(e,t){const n={};for(const r in t){const a=t[r];n[r]=Us(a)?a.map(e):e(a)}return n}const Dp=()=>{},Us=Array.isArray;function UC(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const TN=/#/g,uZ=/&/g,fZ=/\//g,dZ=/=/g,hZ=/\?/g,CN=/\+/g,pZ=/%5B/g,vZ=/%5D/g,MN=/%5E/g,gZ=/%60/g,PN=/%7B/g,mZ=/%7C/g,IN=/%7D/g,yZ=/%20/g;function HS(e){return e==null?"":encodeURI(""+e).replace(mZ,"|").replace(pZ,"[").replace(vZ,"]")}function xZ(e){return HS(e).replace(PN,"{").replace(IN,"}").replace(MN,"^")}function eE(e){return HS(e).replace(CN,"%2B").replace(yZ,"+").replace(TN,"%23").replace(uZ,"%26").replace(gZ,"`").replace(PN,"{").replace(IN,"}").replace(MN,"^")}function bZ(e){return eE(e).replace(dZ,"%3D")}function wZ(e){return HS(e).replace(TN,"%23").replace(hZ,"%3F")}function _Z(e){return wZ(e).replace(fZ,"%2F")}function u1(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const EZ=/\/$/,AZ=e=>e.replace(EZ,"");function Ib(e,t,n="/"){let r,a={},i="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(r=t.slice(0,l),i=t.slice(l,s>0?s:t.length),a=e(i.slice(1))),s>=0&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=TZ(r??t,n),{fullPath:r+i+o,path:r,query:a,hash:u1(o)}}function SZ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function HC(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function OZ(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&w0(t.matched[r],n.matched[a])&&RN(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function w0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function RN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!kZ(e[n],t[n]))return!1;return!0}function kZ(e,t){return Us(e)?VC(e,t):Us(t)?VC(t,e):e===t}function VC(e,t){return Us(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function TZ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Lc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let tE=(function(e){return e.pop="pop",e.push="push",e})({}),Rb=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function CZ(e){if(!e)if($d){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),AZ(e)}const MZ=/^[^#]+#/;function PZ(e,t){return e.replace(MZ,"#")+t}function IZ(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Vx=()=>({left:window.scrollX,top:window.scrollY});function RZ(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=IZ(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function WC(e,t){return(history.state?history.state.position-t:-1)+e}const nE=new Map;function DZ(e,t){nE.set(e,t)}function NZ(e){const t=nE.get(e);return nE.delete(e),t}function LZ(e){return typeof e=="string"||e&&typeof e=="object"}function DN(e){return typeof e=="string"||typeof e=="symbol"}let Hr=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const NN=Symbol("");Hr.MATCHER_NOT_FOUND+"",Hr.NAVIGATION_GUARD_REDIRECT+"",Hr.NAVIGATION_ABORTED+"",Hr.NAVIGATION_CANCELLED+"",Hr.NAVIGATION_DUPLICATED+"";function _0(e,t){return Nn(new Error,{type:e,[NN]:!0},t)}function Xl(e,t){return e instanceof Error&&NN in e&&(t==null||!!(e.type&t))}const FZ=["params","query","hash"];function BZ(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of FZ)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function $Z(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const a=n[r].replace(CN," "),i=a.indexOf("="),o=u1(i<0?a:a.slice(0,i)),s=i<0?null:u1(a.slice(i+1));if(o in t){let l=t[o];Us(l)||(l=t[o]=[l]),l.push(s)}else t[o]=s}return t}function GC(e){let t="";for(let n in e){const r=e[n];if(n=bZ(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Us(r)?r.map(a=>a&&eE(a)):[r&&eE(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function jZ(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Us(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const zZ=Symbol(""),YC=Symbol(""),Wx=Symbol(""),VS=Symbol(""),rE=Symbol("");function Ph(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Vc(e,t,n,r,a,i=o=>o()){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((s,l)=>{const c=d=>{d===!1?l(_0(Hr.NAVIGATION_ABORTED,{from:n,to:t})):d instanceof Error?l(d):LZ(d)?l(_0(Hr.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&r.enterCallbacks[a]===o&&typeof d=="function"&&o.push(d),s())},u=i(()=>e.call(r&&r.instances[a],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Db(e,t,n,r,a=i=>i()){const i=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(kN(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Vc(c,n,r,o,s,a))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const f=cZ(u)?u.default:u;o.mods[s]=u,o.components[s]=f;const d=(f.__vccOpts||f)[t];return d&&Vc(d,n,r,o,s,a)()}))}}return i}function UZ(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(c=>w0(c,s))?r.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(c=>w0(c,l))||a.push(l))}return[n,r,a]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let HZ=()=>location.protocol+"//"+location.host;function LN(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let o=a.includes(e.slice(i))?e.slice(i).length:1,s=a.slice(o);return s[0]!=="/"&&(s="/"+s),HC(s,"")}return HC(n,e)+r+a}function VZ(e,t,n,r){let a=[],i=[],o=null;const s=({state:d})=>{const h=LN(e,location),p=n.value,v=t.value;let g=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}g=v?d.position-v.position:0}else r(h);a.forEach(m=>{m(n.value,p,{delta:g,type:tE.pop,direction:g?g>0?Rb.forward:Rb.back:Rb.unknown})})};function l(){o=n.value}function c(d){a.push(d);const h=()=>{const p=a.indexOf(d);p>-1&&a.splice(p,1)};return i.push(h),h}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(Nn({},d.state,{scroll:Vx()}),"")}}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",s),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:f}}function XC(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Vx():null}}function WZ(e){const{history:t,location:n}=window,r={value:LN(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:HZ()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),a.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){i(l,Nn({},t.state,XC(a.value.back,l,a.value.forward,!0),c,{position:a.value.position}),!0),r.value=l}function s(l,c){const u=Nn({},a.value,t.state,{forward:l,scroll:Vx()});i(u.current,u,!0),i(l,Nn({},XC(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:a,push:s,replace:o}}function GZ(e){e=CZ(e);const t=WZ(e),n=VZ(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=Nn({location:"",base:e,go:r,createHref:PZ.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}let gf=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var xa=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(xa||{});const YZ={type:gf.Static,value:""},XZ=/[a-zA-Z0-9_]/;function qZ(e){if(!e)return[[]];if(e==="/")return[[YZ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=xa.Static,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,l,c="",u="";function f(){c&&(n===xa.Static?i.push({type:gf.Static,value:c}):n===xa.Param||n===xa.ParamRegExp||n===xa.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:gf.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==xa.ParamRegExp){r=n,n=xa.EscapeNext;continue}switch(n){case xa.Static:l==="/"?(c&&f(),o()):l===":"?(f(),n=xa.Param):d();break;case xa.EscapeNext:d(),n=r;break;case xa.Param:l==="("?n=xa.ParamRegExp:XZ.test(l)?d():(f(),n=xa.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case xa.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=xa.ParamRegExpEnd:u+=l;break;case xa.ParamRegExpEnd:f(),n=xa.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--,u="";break;default:t("Unknown state");break}}return n===xa.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),a}const qC="[^/]+?",KZ={sensitive:!1,strict:!1,start:!0,end:!0};var Hi=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Hi||{});const ZZ=/[.+*?^${}()[\]/\\]/g;function QZ(e,t){const n=Nn({},KZ,t),r=[];let a=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[Hi.Root];n.strict&&!c.length&&(a+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=Hi.Segment+(n.sensitive?Hi.BonusCaseSensitive:0);if(d.type===gf.Static)f||(a+="/"),a+=d.value.replace(ZZ,"\\$&"),h+=Hi.Static;else if(d.type===gf.Param){const{value:p,repeatable:v,optional:g,regexp:m}=d;i.push({name:p,repeatable:v,optional:g});const y=m||qC;if(y!==qC){h+=Hi.BonusCustomRegExp;try{`${y}`}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+b.message)}}let x=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=g&&c.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),a+=x,h+=Hi.Dynamic,g&&(h+=Hi.BonusOptional),v&&(h+=Hi.BonusRepeatable),y===".*"&&(h+=Hi.BonusWildcard)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=Hi.BonusStrict}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function s(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=i[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===gf.Static)u+=h.value;else if(h.type===gf.Param){const{value:p,repeatable:v,optional:g}=h,m=p in c?c[p]:"";if(Us(m)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Us(m)?m.join("/"):m;if(!y)if(g)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:i,parse:s,stringify:l}}function JZ(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Hi.Static+Hi.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Hi.Static+Hi.Segment?1:-1:0}function FN(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=JZ(r[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-r.length)===1){if(KC(r))return 1;if(KC(a))return-1}return a.length-r.length}function KC(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const eQ={strict:!1,end:!0,sensitive:!1};function tQ(e,t,n){const r=QZ(qZ(e.path),n),a=Nn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function nQ(e,t){const n=[],r=new Map;t=UC(eQ,t);function a(f){return r.get(f)}function i(f,d,h){const p=!h,v=QC(f);v.aliasOf=h&&h.record;const g=UC(t,f),m=[v];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const _ of b)m.push(QC(Nn({},v,{components:h?h.record.components:v.components,path:_,aliasOf:h?h.record:v})))}let y,x;for(const b of m){const{path:_}=b;if(d&&_[0]!=="/"){const E=d.record.path,w=E[E.length-1]==="/"?"":"/";b.path=d.record.path+(_&&w+_)}if(y=tQ(b,d,g),h?h.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),p&&f.name&&!JC(y)&&o(f.name)),BN(y)&&l(y),v.children){const E=v.children;for(let w=0;w<E.length;w++)i(E[w],y,h&&h.children[w])}h=h||y}return x?()=>{o(x)}:Dp}function o(f){if(DN(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function s(){return n}function l(f){const d=iQ(f,n);n.splice(d,0,f),f.record.name&&!JC(f)&&r.set(f.record.name,f)}function c(f,d){let h,p={},v,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw _0(Hr.MATCHER_NOT_FOUND,{location:f});g=h.record.name,p=Nn(ZC(d.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&ZC(f.params,h.keys.map(x=>x.name))),v=h.stringify(p)}else if(f.path!=null)v=f.path,h=n.find(x=>x.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(x=>x.re.test(d.path)),!h)throw _0(Hr.MATCHER_NOT_FOUND,{location:f,currentLocation:d});g=h.record.name,p=Nn({},d.params,f.params),v=h.stringify(p)}const m=[];let y=h;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:v,params:p,matched:m,meta:aQ(m)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:a}}function ZC(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function QC(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:rQ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function rQ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function JC(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function aQ(e){return e.reduce((t,n)=>Nn(t,n.meta),{})}function iQ(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;FN(e,t[i])<0?r=i:n=i+1}const a=oQ(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function oQ(e){let t=e;for(;t=t.parent;)if(BN(t)&&FN(e,t)===0)return t}function BN({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function e4(e){const t=es(Wx),n=es(VS),r=je(()=>{const l=Q(e.to);return t.resolve(l)}),a=je(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(w0.bind(null,u));if(d>-1)return d;const h=t4(l[c-2]);return c>1&&t4(u)===h&&f[f.length-1].path!==h?f.findIndex(w0.bind(null,l[c-2])):d}),i=je(()=>a.value>-1&&fQ(n.params,r.value.params)),o=je(()=>a.value>-1&&a.value===n.matched.length-1&&RN(n.params,r.value.params));function s(l={}){if(uQ(l)){const c=t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(Dp);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:je(()=>r.value.href),isActive:i,isExactActive:o,navigate:s}}function sQ(e){return e.length===1?e[0]:e}const lQ=Ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:e4,setup(e,{slots:t}){const n=jl(e4(e)),{options:r}=es(Wx),a=je(()=>({[n4(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[n4(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&sQ(t.default(n));return e.custom?i:Ux("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),cQ=lQ;function uQ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fQ(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Us(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function t4(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const n4=(e,t,n)=>e??t??n,dQ=Ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=es(rE),a=je(()=>e.route||r.value),i=es(YC,0),o=je(()=>{let c=Q(i);const{matched:u}=a.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),s=je(()=>a.value.matched[o.value]);ym(YC,je(()=>o.value+1)),ym(zZ,s),ym(rE,a);const l=Ee();return Ut(()=>[l.value,s.value,e.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!w0(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=a.value,u=e.name,f=s.value,d=f&&f.components[u];if(!d)return r4(n.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,g=Ux(d,Nn({},p,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return r4(n.default,{Component:g,route:c})||g}}});function r4(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hQ=dQ;function pQ(e){const t=nQ(e.routes,e),n=e.parseQuery||$Z,r=e.stringifyQuery||GC,a=e.history,i=Ph(),o=Ph(),s=Ph(),l=GX(Lc);let c=Lc;$d&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Pb.bind(null,H=>""+H),f=Pb.bind(null,_Z),d=Pb.bind(null,u1);function h(H,j){let K,re;return DN(H)?(K=t.getRecordMatcher(H),re=j):re=H,t.addRoute(re,K)}function p(H){const j=t.getRecordMatcher(H);j&&t.removeRoute(j)}function v(){return t.getRoutes().map(H=>H.record)}function g(H){return!!t.getRecordMatcher(H)}function m(H,j){if(j=Nn({},j||l.value),typeof H=="string"){const J=Ib(n,H,j.path),X=t.resolve({path:J.path},j),ce=a.createHref(J.fullPath);return Nn(J,X,{params:d(X.params),hash:u1(J.hash),redirectedFrom:void 0,href:ce})}let K;if(H.path!=null)K=Nn({},H,{path:Ib(n,H.path,j.path).path});else{const J=Nn({},H.params);for(const X in J)J[X]==null&&delete J[X];K=Nn({},H,{params:f(J)}),j.params=f(j.params)}const re=t.resolve(K,j),ae=H.hash||"";re.params=u(d(re.params));const U=SZ(r,Nn({},H,{hash:xZ(ae),path:re.path})),q=a.createHref(U);return Nn({fullPath:U,hash:ae,query:r===GC?jZ(H.query):H.query||{}},re,{redirectedFrom:void 0,href:q})}function y(H){return typeof H=="string"?Ib(n,H,l.value.path):Nn({},H)}function x(H,j){if(c!==H)return _0(Hr.NAVIGATION_CANCELLED,{from:j,to:H})}function b(H){return w(H)}function _(H){return b(Nn(y(H),{replace:!0}))}function E(H,j){const K=H.matched[H.matched.length-1];if(K&&K.redirect){const{redirect:re}=K;let ae=typeof re=="function"?re(H,j):re;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=y(ae):{path:ae},ae.params={}),Nn({query:H.query,hash:H.hash,params:ae.path!=null?{}:H.params},ae)}}function w(H,j){const K=c=m(H),re=l.value,ae=H.state,U=H.force,q=H.replace===!0,J=E(K,re);if(J)return w(Nn(y(J),{state:typeof J=="object"?Nn({},ae,J.state):ae,force:U,replace:q}),j||K);const X=K;X.redirectedFrom=j;let ce;return!U&&OZ(r,re,K)&&(ce=_0(Hr.NAVIGATION_DUPLICATED,{to:X,from:re}),Y(re,re,!0,!1)),(ce?Promise.resolve(ce):O(X,re)).catch(te=>Xl(te)?Xl(te,Hr.NAVIGATION_GUARD_REDIRECT)?te:G(te):z(te,X,re)).then(te=>{if(te){if(Xl(te,Hr.NAVIGATION_GUARD_REDIRECT))return w(Nn({replace:q},y(te.to),{state:typeof te.to=="object"?Nn({},ae,te.to.state):ae,force:U}),j||X)}else te=T(X,re,!0,q,ae);return k(X,re,te),te})}function A(H,j){const K=x(H,j);return K?Promise.reject(K):Promise.resolve()}function S(H){const j=D.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(H):H()}function O(H,j){let K;const[re,ae,U]=UZ(H,j);K=Db(re.reverse(),"beforeRouteLeave",H,j);for(const J of re)J.leaveGuards.forEach(X=>{K.push(Vc(X,H,j))});const q=A.bind(null,H,j);return K.push(q),V(K).then(()=>{K=[];for(const J of i.list())K.push(Vc(J,H,j));return K.push(q),V(K)}).then(()=>{K=Db(ae,"beforeRouteUpdate",H,j);for(const J of ae)J.updateGuards.forEach(X=>{K.push(Vc(X,H,j))});return K.push(q),V(K)}).then(()=>{K=[];for(const J of U)if(J.beforeEnter)if(Us(J.beforeEnter))for(const X of J.beforeEnter)K.push(Vc(X,H,j));else K.push(Vc(J.beforeEnter,H,j));return K.push(q),V(K)}).then(()=>(H.matched.forEach(J=>J.enterCallbacks={}),K=Db(U,"beforeRouteEnter",H,j,S),K.push(q),V(K))).then(()=>{K=[];for(const J of o.list())K.push(Vc(J,H,j));return K.push(q),V(K)}).catch(J=>Xl(J,Hr.NAVIGATION_CANCELLED)?J:Promise.reject(J))}function k(H,j,K){s.list().forEach(re=>S(()=>re(H,j,K)))}function T(H,j,K,re,ae){const U=x(H,j);if(U)return U;const q=j===Lc,J=$d?history.state:{};K&&(re||q?a.replace(H.fullPath,Nn({scroll:q&&J&&J.scroll},ae)):a.push(H.fullPath,ae)),l.value=H,Y(H,j,K,q),G()}let C;function M(){C||(C=a.listen((H,j,K)=>{if(!R.listening)return;const re=m(H),ae=E(re,R.currentRoute.value);if(ae){w(Nn(ae,{replace:!0,force:!0}),re).catch(Dp);return}c=re;const U=l.value;$d&&DZ(WC(U.fullPath,K.delta),Vx()),O(re,U).catch(q=>Xl(q,Hr.NAVIGATION_ABORTED|Hr.NAVIGATION_CANCELLED)?q:Xl(q,Hr.NAVIGATION_GUARD_REDIRECT)?(w(Nn(y(q.to),{force:!0}),re).then(J=>{Xl(J,Hr.NAVIGATION_ABORTED|Hr.NAVIGATION_DUPLICATED)&&!K.delta&&K.type===tE.pop&&a.go(-1,!1)}).catch(Dp),Promise.reject()):(K.delta&&a.go(-K.delta,!1),z(q,re,U))).then(q=>{q=q||T(re,U,!1),q&&(K.delta&&!Xl(q,Hr.NAVIGATION_CANCELLED)?a.go(-K.delta,!1):K.type===tE.pop&&Xl(q,Hr.NAVIGATION_ABORTED|Hr.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),k(re,U,q)}).catch(Dp)}))}let P=Ph(),I=Ph(),L;function z(H,j,K){G(H);const re=I.list();return re.length?re.forEach(ae=>ae(H,j,K)):console.error(H),Promise.reject(H)}function N(){return L&&l.value!==Lc?Promise.resolve():new Promise((H,j)=>{P.add([H,j])})}function G(H){return L||(L=!H,M(),P.list().forEach(([j,K])=>H?K(H):j()),P.reset()),H}function Y(H,j,K,re){const{scrollBehavior:ae}=e;if(!$d||!ae)return Promise.resolve();const U=!K&&NZ(WC(H.fullPath,0))||(re||!K)&&history.state&&history.state.scroll||null;return An().then(()=>ae(H,j,U)).then(q=>q&&RZ(q)).catch(q=>z(q,H,j))}const B=H=>a.go(H);let F;const D=new Set,R={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:m,options:e,push:b,replace:_,go:B,back:()=>B(-1),forward:()=>B(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:I.add,isReady:N,install(H){H.component("RouterLink",cQ),H.component("RouterView",hQ),H.config.globalProperties.$router=R,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(l)}),$d&&!F&&l.value===Lc&&(F=!0,b(a.location).catch(re=>{}));const j={};for(const re in Lc)Object.defineProperty(j,re,{get:()=>l.value[re],enumerable:!0});H.provide(Wx,R),H.provide(VS,xD(j)),H.provide(rE,l);const K=H.unmount;D.add(H),H.unmount=function(){D.delete(H),D.size<1&&(c=Lc,C&&C(),C=null,l.value=Lc,F=!1,L=!1),K()}}};function V(H){return H.reduce((j,K)=>j.then(()=>S(K)),Promise.resolve())}return R}function $N(){return es(Wx)}function vQ(e){return es(VS)}const ul=class ul{constructor(){this.baseUrl="",this.apiUrl="admin/",this.socketUrl="",ul.mode=="dev"?(this.baseUrl="http://localhost:9000/",this.socketUrl="ws://127.0.0.1:9001"):(this.baseUrl="https://php.webmis.vip/",this.socketUrl="wss://php.webmis.vip/wss"),this.apiUrl=this.baseUrl+this.apiUrl}request(){return{headers:{"Content-Type":"application/json;charset=utf-8"},responseType:"json",timeout:18e4}}socket(){return{start:ul.isSocket,server:this.socketUrl,channel:"admin",time:3e3,heartbeat:1e4}}static tinymce(){return{key:"dm9pn8sfmiyaalv1r49hvf8ww9x8denshvuhp1tf7z51k6jj"}}static LangList(){return[{label:"English",value:"en_US"},{label:"",value:"zh_CN"}]}};ul.mode="",ul.isSocket=!0,ul.title="WebMIS",ul.version="3.0.0",ul.lang="zh_CN",ul.copy=""+new Date().getFullYear()+" webmis.vip";let Ls=ul;function jN(e,t){return function(){return e.apply(t,arguments)}}const{toString:gQ}=Object.prototype,{getPrototypeOf:WS}=Object,{iterator:Gx,toStringTag:zN}=Symbol,Yx=(e=>t=>{const n=gQ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=e=>(e=e.toLowerCase(),t=>Yx(t)===e),Xx=e=>t=>typeof t===e,{isArray:oh}=Array,E0=Xx("undefined");function ov(e){return e!==null&&!E0(e)&&e.constructor!==null&&!E0(e.constructor)&&po(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const UN=Xs("ArrayBuffer");function mQ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&UN(e.buffer),t}const yQ=Xx("string"),po=Xx("function"),HN=Xx("number"),sv=e=>e!==null&&typeof e=="object",xQ=e=>e===!0||e===!1,_m=e=>{if(Yx(e)!=="object")return!1;const t=WS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zN in e)&&!(Gx in e)},bQ=e=>{if(!sv(e)||ov(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},wQ=Xs("Date"),_Q=Xs("File"),EQ=Xs("Blob"),AQ=Xs("FileList"),SQ=e=>sv(e)&&po(e.pipe),OQ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||po(e.append)&&((t=Yx(e))==="formdata"||t==="object"&&po(e.toString)&&e.toString()==="[object FormData]"))},kQ=Xs("URLSearchParams"),[TQ,CQ,MQ,PQ]=["ReadableStream","Request","Response","Headers"].map(Xs),IQ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),oh(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(ov(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function VN(e,t){if(ov(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const mf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WN=e=>!E0(e)&&e!==mf;function aE(){const{caseless:e,skipUndefined:t}=WN(this)&&this||{},n={},r=(a,i)=>{const o=e&&VN(n,i)||i;_m(n[o])&&_m(a)?n[o]=aE(n[o],a):_m(a)?n[o]=aE({},a):oh(a)?n[o]=a.slice():(!t||!E0(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&lv(arguments[a],r);return n}const RQ=(e,t,n,{allOwnKeys:r}={})=>(lv(t,(a,i)=>{n&&po(a)?e[i]=jN(a,n):e[i]=a},{allOwnKeys:r}),e),DQ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NQ=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},LQ=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&WS(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},FQ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},BQ=e=>{if(!e)return null;if(oh(e))return e;let t=e.length;if(!HN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},$Q=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&WS(Uint8Array)),jQ=(e,t)=>{const r=(e&&e[Gx]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},zQ=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},UQ=Xs("HTMLFormElement"),HQ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),a4=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),VQ=Xs("RegExp"),GN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};lv(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},WQ=e=>{GN(e,(t,n)=>{if(po(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(po(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GQ=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return oh(e)?r(e):r(String(e).split(t)),n},YQ=()=>{},XQ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function qQ(e){return!!(e&&po(e.append)&&e[zN]==="FormData"&&e[Gx])}const KQ=e=>{const t=new Array(10),n=(r,a)=>{if(sv(r)){if(t.indexOf(r)>=0)return;if(ov(r))return r;if(!("toJSON"in r)){t[a]=r;const i=oh(r)?[]:{};return lv(r,(o,s)=>{const l=n(o,a+1);!E0(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},ZQ=Xs("AsyncFunction"),QQ=e=>e&&(sv(e)||po(e))&&po(e.then)&&po(e.catch),YN=((e,t)=>e?setImmediate:t?((n,r)=>(mf.addEventListener("message",({source:a,data:i})=>{a===mf&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),mf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",po(mf.postMessage)),JQ=typeof queueMicrotask<"u"?queueMicrotask.bind(mf):typeof process<"u"&&process.nextTick||YN,eJ=e=>e!=null&&po(e[Gx]),Ce={isArray:oh,isArrayBuffer:UN,isBuffer:ov,isFormData:OQ,isArrayBufferView:mQ,isString:yQ,isNumber:HN,isBoolean:xQ,isObject:sv,isPlainObject:_m,isEmptyObject:bQ,isReadableStream:TQ,isRequest:CQ,isResponse:MQ,isHeaders:PQ,isUndefined:E0,isDate:wQ,isFile:_Q,isBlob:EQ,isRegExp:VQ,isFunction:po,isStream:SQ,isURLSearchParams:kQ,isTypedArray:$Q,isFileList:AQ,forEach:lv,merge:aE,extend:RQ,trim:IQ,stripBOM:DQ,inherits:NQ,toFlatObject:LQ,kindOf:Yx,kindOfTest:Xs,endsWith:FQ,toArray:BQ,forEachEntry:jQ,matchAll:zQ,isHTMLForm:UQ,hasOwnProperty:a4,hasOwnProp:a4,reduceDescriptors:GN,freezeMethods:WQ,toObjectSet:GQ,toCamelCase:HQ,noop:YQ,toFiniteNumber:XQ,findKey:VN,global:mf,isContextDefined:WN,isSpecCompliantForm:qQ,toJSONObject:KQ,isAsyncFn:ZQ,isThenable:QQ,setImmediate:YN,asap:JQ,isIterable:eJ};function Yt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Ce.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const XN=Yt.prototype,qN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qN[e]={value:e}});Object.defineProperties(Yt,qN);Object.defineProperty(XN,"isAxiosError",{value:!0});Yt.from=(e,t,n,r,a,i)=>{const o=Object.create(XN);Ce.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Yt.call(o,s,l,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const tJ=null;function iE(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function KN(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function i4(e,t,n){return e?e.concat(t).map(function(a,i){return a=KN(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function nJ(e){return Ce.isArray(e)&&!e.some(iE)}const rJ=Ce.toFlatObject(Ce,{},null,function(t){return/^is[A-Z]/.test(t)});function qx(e,t,n){if(!Ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Ce.isUndefined(g[v])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(t);if(!Ce.isFunction(a))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Ce.isDate(p))return p.toISOString();if(Ce.isBoolean(p))return p.toString();if(!l&&Ce.isBlob(p))throw new Yt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(p)||Ce.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,g){let m=p;if(p&&!g&&typeof p=="object"){if(Ce.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(Ce.isArray(p)&&nJ(p)||(Ce.isFileList(p)||Ce.endsWith(v,"[]"))&&(m=Ce.toArray(p)))return v=KN(v),m.forEach(function(x,b){!(Ce.isUndefined(x)||x===null)&&t.append(o===!0?i4([v],b,i):o===null?v:v+"[]",c(x))}),!1}return iE(p)?!0:(t.append(i4(g,v,i),c(p)),!1)}const f=[],d=Object.assign(rJ,{defaultVisitor:u,convertValue:c,isVisitable:iE});function h(p,v){if(!Ce.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),Ce.forEach(p,function(m,y){(!(Ce.isUndefined(m)||m===null)&&a.call(t,m,Ce.isString(y)?y.trim():y,v,d))===!0&&h(m,v?v.concat(y):[y])}),f.pop()}}if(!Ce.isObject(e))throw new TypeError("data must be an object");return h(e),t}function o4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function GS(e,t){this._pairs=[],e&&qx(e,this,t)}const ZN=GS.prototype;ZN.append=function(t,n){this._pairs.push([t,n])};ZN.toString=function(t){const n=t?function(r){return t.call(this,r,o4)}:o4;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function aJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function QN(e,t,n){if(!t)return e;const r=n&&n.encode||aJ;Ce.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Ce.isURLSearchParams(t)?t.toString():new GS(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class s4{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ce.forEach(this.handlers,function(r){r!==null&&t(r)})}}const JN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iJ=typeof URLSearchParams<"u"?URLSearchParams:GS,oJ=typeof FormData<"u"?FormData:null,sJ=typeof Blob<"u"?Blob:null,lJ={isBrowser:!0,classes:{URLSearchParams:iJ,FormData:oJ,Blob:sJ},protocols:["http","https","file","blob","url","data"]},YS=typeof window<"u"&&typeof document<"u",oE=typeof navigator=="object"&&navigator||void 0,cJ=YS&&(!oE||["ReactNative","NativeScript","NS"].indexOf(oE.product)<0),uJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fJ=YS&&window.location.href||"http://localhost",dJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YS,hasStandardBrowserEnv:cJ,hasStandardBrowserWebWorkerEnv:uJ,navigator:oE,origin:fJ},Symbol.toStringTag,{value:"Module"})),Si={...dJ,...lJ};function hJ(e,t){return qx(e,new Si.classes.URLSearchParams,{visitor:function(n,r,a,i){return Si.isNode&&Ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function pJ(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vJ(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function eL(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&Ce.isArray(a)?a.length:o,l?(Ce.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!Ce.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&Ce.isArray(a[o])&&(a[o]=vJ(a[o])),!s)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const n={};return Ce.forEachEntry(e,(r,a)=>{t(pJ(r),a,n,0)}),n}return null}function gJ(e,t,n){if(Ce.isString(e))try{return(t||JSON.parse)(e),Ce.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const cv={transitional:JN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Ce.isObject(t);if(i&&Ce.isHTMLForm(t)&&(t=new FormData(t)),Ce.isFormData(t))return a?JSON.stringify(eL(t)):t;if(Ce.isArrayBuffer(t)||Ce.isBuffer(t)||Ce.isStream(t)||Ce.isFile(t)||Ce.isBlob(t)||Ce.isReadableStream(t))return t;if(Ce.isArrayBufferView(t))return t.buffer;if(Ce.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hJ(t,this.formSerializer).toString();if((s=Ce.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qx(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),gJ(t)):t}],transformResponse:[function(t){const n=this.transitional||cv.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Ce.isResponse(t)||Ce.isReadableStream(t))return t;if(t&&Ce.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?Yt.from(s,Yt.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Si.classes.FormData,Blob:Si.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],e=>{cv.headers[e]={}});const mJ=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yJ=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&mJ[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},l4=Symbol("internals");function Ih(e){return e&&String(e).trim().toLowerCase()}function Em(e){return e===!1||e==null?e:Ce.isArray(e)?e.map(Em):String(e)}function xJ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const bJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nb(e,t,n,r,a){if(Ce.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Ce.isString(t)){if(Ce.isString(r))return t.indexOf(r)!==-1;if(Ce.isRegExp(r))return r.test(t)}}function wJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _J(e,t){const n=Ce.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let vo=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,c){const u=Ih(l);if(!u)throw new Error("header name must be a non-empty string");const f=Ce.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||l]=Em(s))}const o=(s,l)=>Ce.forEach(s,(c,u)=>i(c,u,l));if(Ce.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ce.isString(t)&&(t=t.trim())&&!bJ(t))o(yJ(t),n);else if(Ce.isObject(t)&&Ce.isIterable(t)){let s={},l,c;for(const u of t){if(!Ce.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?Ce.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ih(t),t){const r=Ce.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return xJ(a);if(Ce.isFunction(n))return n.call(this,a,r);if(Ce.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ih(t),t){const r=Ce.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Nb(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Ih(o),o){const s=Ce.findKey(r,o);s&&(!n||Nb(r,r[s],s,n))&&(delete r[s],a=!0)}}return Ce.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Nb(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Ce.forEach(this,(a,i)=>{const o=Ce.findKey(r,i);if(o){n[o]=Em(a),delete n[i];return}const s=t?wJ(i):String(i).trim();s!==i&&delete n[i],n[s]=Em(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ce.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[l4]=this[l4]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=Ih(o);r[s]||(_J(a,o),r[s]=!0)}return Ce.isArray(t)?t.forEach(i):i(t),this}};vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(vo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ce.freezeMethods(vo);function Lb(e,t){const n=this||cv,r=t||n,a=vo.from(r.headers);let i=r.data;return Ce.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function tL(e){return!!(e&&e.__CANCEL__)}function sh(e,t,n){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,n),this.name="CanceledError"}Ce.inherits(sh,Yt,{__CANCEL__:!0});function nL(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Yt("Request failed with status code "+n.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function EJ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function AJ(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[a]=l,r[a]=c;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(d*1e3/h):void 0}}function SJ(e,t){let n=0,r=1e3/t,a,i;const o=(c,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(a=c,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const ty=(e,t,n=3)=>{let r=0;const a=AJ(50,250);return SJ(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-r,c=a(l),u=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},c4=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},u4=e=>(...t)=>Ce.asap(()=>e(...t)),OJ=Si.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Si.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Si.origin),Si.navigator&&/(msie|trident)/i.test(Si.navigator.userAgent)):()=>!0,kJ=Si.hasStandardBrowserEnv?{write(e,t,n,r,a,i,o){if(typeof document>"u")return;const s=[`${e}=${encodeURIComponent(t)}`];Ce.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),Ce.isString(r)&&s.push(`path=${r}`),Ce.isString(a)&&s.push(`domain=${a}`),i===!0&&s.push("secure"),Ce.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function TJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function CJ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rL(e,t,n){let r=!TJ(t);return e&&(r||n==!1)?CJ(e,t):t}const f4=e=>e instanceof vo?{...e}:e;function $f(e,t){t=t||{};const n={};function r(c,u,f,d){return Ce.isPlainObject(c)&&Ce.isPlainObject(u)?Ce.merge.call({caseless:d},c,u):Ce.isPlainObject(u)?Ce.merge({},u):Ce.isArray(u)?u.slice():u}function a(c,u,f,d){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function i(c,u){if(!Ce.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,f)=>a(f4(c),f4(u),f,!0)};return Ce.forEach(Object.keys({...e,...t}),function(u){const f=l[u]||a,d=f(e[u],t[u],u);Ce.isUndefined(d)&&f!==s||(n[u]=d)}),n}const aL=e=>{const t=$f({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;if(t.headers=o=vo.from(o),t.url=QN(rL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ce.isFormData(n)){if(Si.hasStandardBrowserEnv||Si.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ce.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Si.hasStandardBrowserEnv&&(r&&Ce.isFunction(r)&&(r=r(t)),r||r!==!1&&OJ(t.url))){const l=a&&i&&kJ.read(i);l&&o.set(a,l)}return t},MJ=typeof XMLHttpRequest<"u",PJ=MJ&&function(e){return new Promise(function(n,r){const a=aL(e);let i=a.data;const o=vo.from(a.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=a,u,f,d,h,p;function v(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function m(){if(!g)return;const x=vo.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:e,request:g};nL(function(w){n(w),v()},function(w){r(w),v()},_),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(r(new Yt("Request aborted",Yt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Yt(_,Yt.ERR_NETWORK,e,g);E.event=b||null,r(E),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||JN;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),r(new Yt(b,_.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Ce.forEach(o.toJSON(),function(b,_){g.setRequestHeader(_,b)}),Ce.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),s&&s!=="json"&&(g.responseType=a.responseType),c&&([d,p]=ty(c,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=ty(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=x=>{g&&(r(!x||x.type?new sh(null,e,g):x),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=EJ(a.url);if(y&&Si.protocols.indexOf(y)===-1){r(new Yt("Unsupported protocol "+y+":",Yt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},IJ=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(c){if(!a){a=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Yt?u:new sh(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>Ce.asap(s),l}},RJ=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},DJ=async function*(e,t){for await(const n of NJ(e))yield*RJ(n,t)},NJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},d4=(e,t,n,r)=>{const a=DJ(e,t);let i=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await a.next();if(c){s(),l.close();return}let f=u.byteLength;if(n){let d=i+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),a.return()}},{highWaterMark:2})},h4=64*1024,{isFunction:Jv}=Ce,LJ=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ce.global),{ReadableStream:p4,TextEncoder:v4}=Ce.global,g4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},FJ=e=>{e=Ce.merge.call({skipUndefined:!0},LJ,e);const{fetch:t,Request:n,Response:r}=e,a=t?Jv(t):typeof fetch=="function",i=Jv(n),o=Jv(r);if(!a)return!1;const s=a&&Jv(p4),l=a&&(typeof v4=="function"?(p=>v=>p.encode(v))(new v4):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=i&&s&&g4(()=>{let p=!1;const v=new n(Si.origin,{body:new p4,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),u=o&&s&&g4(()=>Ce.isReadableStream(new r("").body)),f={stream:u&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(v,g)=>{let m=v&&v[p];if(m)return m.call(v);throw new Yt(`Response type '${p}' is not supported`,Yt.ERR_NOT_SUPPORT,g)})});const d=async p=>{if(p==null)return 0;if(Ce.isBlob(p))return p.size;if(Ce.isSpecCompliantForm(p))return(await new n(Si.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(p)||Ce.isArrayBuffer(p))return p.byteLength;if(Ce.isURLSearchParams(p)&&(p=p+""),Ce.isString(p))return(await l(p)).byteLength},h=async(p,v)=>{const g=Ce.toFiniteNumber(p.getContentLength());return g??d(v)};return async p=>{let{url:v,method:g,data:m,signal:y,cancelToken:x,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:w,headers:A,withCredentials:S="same-origin",fetchOptions:O}=aL(p),k=t||fetch;w=w?(w+"").toLowerCase():"text";let T=IJ([y,x&&x.toAbortSignal()],b),C=null;const M=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(E&&c&&g!=="get"&&g!=="head"&&(P=await h(A,m))!==0){let Y=new n(v,{method:"POST",body:m,duplex:"half"}),B;if(Ce.isFormData(m)&&(B=Y.headers.get("content-type"))&&A.setContentType(B),Y.body){const[F,D]=c4(P,ty(u4(E)));m=d4(Y.body,h4,F,D)}}Ce.isString(S)||(S=S?"include":"omit");const I=i&&"credentials"in n.prototype,L={...O,signal:T,method:g.toUpperCase(),headers:A.normalize().toJSON(),body:m,duplex:"half",credentials:I?S:void 0};C=i&&new n(v,L);let z=await(i?k(C,O):k(v,L));const N=u&&(w==="stream"||w==="response");if(u&&(_||N&&M)){const Y={};["status","statusText","headers"].forEach(R=>{Y[R]=z[R]});const B=Ce.toFiniteNumber(z.headers.get("content-length")),[F,D]=_&&c4(B,ty(u4(_),!0))||[];z=new r(d4(z.body,h4,F,()=>{D&&D(),M&&M()}),Y)}w=w||"text";let G=await f[Ce.findKey(f,w)||"text"](z,p);return!N&&M&&M(),await new Promise((Y,B)=>{nL(Y,B,{data:G,headers:vo.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:C})})}catch(I){throw M&&M(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,p,C),{cause:I.cause||I}):Yt.from(I,I&&I.code,p,C)}}},BJ=new Map,iL=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o=i.length,s=o,l,c,u=BJ;for(;s--;)l=i[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:FJ(t)),u=c;return c};iL();const XS={http:tJ,xhr:PJ,fetch:{get:iL}};Ce.forEach(XS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const m4=e=>`- ${e}`,$J=e=>Ce.isFunction(e)||e===null||e===!1;function jJ(e,t){e=Ce.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){r=e[o];let s;if(a=r,!$J(r)&&(a=XS[(s=String(r)).toLowerCase()],a===void 0))throw new Yt(`Unknown adapter '${s}'`);if(a&&(Ce.isFunction(a)||(a=a.get(t))))break;i[s||"#"+o]=a}if(!a){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(m4).join(`
`):" "+m4(o[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return a}const oL={getAdapter:jJ,adapters:XS};function Fb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sh(null,e)}function y4(e){return Fb(e),e.headers=vo.from(e.headers),e.data=Lb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),oL.getAdapter(e.adapter||cv.adapter,e)(e).then(function(r){return Fb(e),r.data=Lb.call(e,e.transformResponse,r),r.headers=vo.from(r.headers),r},function(r){return tL(r)||(Fb(e),r&&r.response&&(r.response.data=Lb.call(e,e.transformResponse,r.response),r.response.headers=vo.from(r.response.headers))),Promise.reject(r)})}const sL="1.13.1",Kx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const x4={};Kx.transitional=function(t,n,r){function a(i,o){return"[Axios v"+sL+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new Yt(a(o," has been removed"+(n?" in "+n:"")),Yt.ERR_DEPRECATED);return n&&!x4[o]&&(x4[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};Kx.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function zJ(e,t,n){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new Yt("option "+i+" must be "+l,Yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Yt("Unknown option "+i,Yt.ERR_BAD_OPTION)}}const Am={assertOptions:zJ,validators:Kx},el=Am.validators;let Tf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new s4,response:new s4}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=$f(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Am.assertOptions(r,{silentJSONParsing:el.transitional(el.boolean),forcedJSONParsing:el.transitional(el.boolean),clarifyTimeoutError:el.transitional(el.boolean)},!1),a!=null&&(Ce.isFunction(a)?n.paramsSerializer={serialize:a}:Am.assertOptions(a,{encode:el.function,serialize:el.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Am.assertOptions(n,{baseUrl:el.spelling("baseURL"),withXsrfToken:el.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ce.merge(i.common,i[n.method]);i&&Ce.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=vo.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,d;if(!l){const p=[y4.bind(this),void 0];for(p.unshift(...s),p.push(...c),d=p.length,u=Promise.resolve(n);f<d;)u=u.then(p[f++],p[f++]);return u}d=s.length;let h=n;for(;f<d;){const p=s[f++],v=s[f++];try{h=p(h)}catch(g){v.call(this,g);break}}try{u=y4.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=$f(this.defaults,t);const n=rL(t.baseURL,t.url,t.allowAbsoluteUrls);return QN(n,t.params,t.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(t){Tf.prototype[t]=function(n,r){return this.request($f(r||{},{method:t,url:n,data:(r||{}).data}))}});Ce.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request($f(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Tf.prototype[t]=n(),Tf.prototype[t+"Form"]=n(!0)});let UJ=class lL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new sh(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new lL(function(a){t=a}),cancel:t}}};function HJ(e){return function(n){return e.apply(null,n)}}function VJ(e){return Ce.isObject(e)&&e.isAxiosError===!0}const sE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sE).forEach(([e,t])=>{sE[t]=e});function cL(e){const t=new Tf(e),n=jN(Tf.prototype.request,t);return Ce.extend(n,Tf.prototype,t,{allOwnKeys:!0}),Ce.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return cL($f(e,a))},n}const br=cL(cv);br.Axios=Tf;br.CanceledError=sh;br.CancelToken=UJ;br.isCancel=tL;br.VERSION=sL;br.toFormData=qx;br.AxiosError=Yt;br.Cancel=br.CanceledError;br.all=function(t){return Promise.all(t)};br.spread=HJ;br.isAxiosError=VJ;br.mergeConfig=$f;br.AxiosHeaders=vo;br.formToJSON=e=>eL(Ce.isHTMLForm(e)?new FormData(e):e);br.getAdapter=oL.getAdapter;br.HttpStatusCode=sE;br.default=br;const{Axios:DVe,AxiosError:NVe,CanceledError:LVe,isCancel:FVe,CancelToken:BVe,VERSION:$Ve,all:jVe,Cancel:zVe,isAxiosError:UVe,spread:HVe,toFormData:VVe,AxiosHeaders:WVe,HttpStatusCode:GVe,formToJSON:YVe,getAdapter:XVe,mergeConfig:qVe}=br,Fa=class Fa{static Get(t,n={},r,a,i){t=Fa.getUrl(t);const o=Fa.getConfig(i);o.params=n,br.get(t,o).then(r).catch(a)}static Post(t,n={},r,a,i){t=Fa.getUrl(t);const o=Fa.getConfig(i);return i&&i.onUploadProgress&&(o.onUploadProgress=i.onUploadProgress),br.post(t,n,o).then(r).catch(a)}static Put(t,n={},r,a,i){t=Fa.getUrl(t);const o=Fa.getConfig(i);o.params=n;let s=new FormData;for(let l in n)s.append(l,n[l]);br.put(t,s,o).then(r).catch(a)}static Patch(t,n={},r,a,i){t=Fa.getUrl(t);const o=Fa.getConfig(i);br.patch(t,n,o).then(r).catch(a)}static Delete(t,n={},r,a,i){t=Fa.getUrl(t);const o=Fa.getConfig(i);o.params=n,br.delete(t,o).then(r).catch(a)}static getConfig(t){return{headers:t&&t.headers?t.headers:Fa.cfg.request().headers,responseType:t&&t.responseType?t.responseType:Fa.cfg.request().responseType,timeout:Fa.cfg.request().timeout}}static getUrl(t){return t.substring(0,4)=="http"?t=t:t.substring(0,1)=="/"?t=Fa.cfg.baseUrl+t.substring(1):t=Fa.cfg.apiUrl+t,t}};Fa.cfg=new Ls;let Yn=Fa;class Hn{static setItem(t,n){window.localStorage.setItem(t,n)}static getItem(t){return window.localStorage.getItem(t)}static removeItem(t){window.localStorage.removeItem(t)}static setSessionItem(t,n){window.sessionStorage.setItem(t,n)}static getSessionItem(t){return window.sessionStorage.getItem(t)}static removeSessionItem(t){window.sessionStorage.removeItem(t)}}class dt{static Toast(t="",n=5e3,r="primary"){let a=document.createElement("div");a.setAttribute("class","wm-ui_toast"),a.innerHTML='<span class="'+r+'">'+t+"</span>",document.body.appendChild(a),setTimeout(()=>{a.style.opacity="1",a.style.top="30%"},100),setTimeout(()=>{a.style.opacity="0",a.style.top="0%"},n),setTimeout(()=>{document.body.removeChild(a)},n+1e3)}static Loading(t=6e4,n=.2){let r=document.getElementsByClassName("wm-ui_load")[0];r&&document.body.removeChild(r);let a=document.createElement("div");a.setAttribute("class","wm-ui_load"),a.setAttribute("style",`background-color: rgba(0,0,0,${n})`),a.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(a);const i=setTimeout(()=>{r=document.getElementsByClassName("wm-ui_load")[0],r&&document.body.removeChild(r)},t);return{clear:()=>{setTimeout(()=>{try{document.body.removeChild(a)}catch{}clearTimeout(i)},300)}}}}class za{static Select(t,n=()=>{},r=()=>{}){let a={multiple:!1,mimeType:["image/jpeg","image/png","image/gif"],...t};const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("style","display: none"),a.multiple&&i.setAttribute("multiple","multiple"),document.body.appendChild(i),i.click(),i.onchange=()=>{let o=[];for(let s=0;s<i.files.length;s++)a.mimeType.length>0&&!a.mimeType.includes(i.files[s].type)||o.push(i.files[s]);a.multiple?n(o):o.length>0?n(o[0]):r(":"+a.mimeType.join(","))}}static FileToBase64(t,n=()=>{},r="base64"){let a=new FileReader;r=="base64"?a.readAsDataURL(t):r=="blob"?a.readAsBinaryString(t):r=="text"&&a.readAsText(t),a.onloadend=function(){return n(this.result)}}static Base64ToFile(t,n,r=()=>{},a=()=>{}){const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=atob(i[1]);let l=s.length;const c=new Uint8Array(l);for(;l--;)c[l]=s.charCodeAt(l);const u=new File([c],n,{type:o});return u?r(u):a("!")}static GetTypeExt(t){switch(t){case"image/jpeg":return"jpg";case"image/png":return"png";case"image/gif":return"gif";default:return""}}static ImageCompress(t,n,r=()=>{},a=()=>{}){let i={width:0,height:0,cut:!0,quality:.8,type:"image/jpeg",mimeType:["image/jpeg","image/png","image/gif"],...n};if(!i.mimeType.includes(i.type))return a(":"+i.mimeType.join(","));let o=1,s=1,l=0,c=0,u=1,f=o/s;const d=document.createElement("canvas"),h=d.getContext("2d"),p=new Image;p.src=t,p.onload=function(){const v=this;f=v.width/v.height,i.width>0&&i.height==0?(o=i.width<v.width?i.width:v.width,s=i.width<v.width?Math.round(i.width/f):Math.round(v.width/f),i.width=o,i.height=s):i.width==0&&i.height>0?(o=i.height<v.height?Math.round(i.height*f):Math.round(v.height*f),s=i.height<v.height?i.height:v.height,i.width=o,i.height=s):i.width==0&&i.height==0?(o=v.width,s=v.height,i.width=o,i.height=s):(u=i.width/i.height,f>u?i.width<v.width?(o=i.cut?Math.round(i.height*f):i.width,s=i.cut?i.height:Math.round(i.width/f)):(o=i.cut?Math.round(v.height*f):v.width,s=i.cut?v.height:Math.round(v.width/f)):i.height<v.height?(o=i.cut?i.width:Math.round(i.height*f),s=i.cut?Math.round(i.width/f):i.height):(o=i.cut?v.width:Math.round(v.height*f),s=i.cut?Math.round(v.width/f):v.height)),i.cut&&v.width<=i.width&&v.height<=i.height?(d.width=v.width,d.height=v.height,l=0,c=0):(d.width=i.width,d.height=i.height,l=Math.round(i.width-o)/2,c=Math.round(i.height-s)/2),h.drawImage(this,l,c,o,s);let g=d.toDataURL(i.type,i.quality);return r(g)}}static Down(t,n="down.txt"){let r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}static DownBlob(t,n="down.txt"){const r=new Blob([t],{type:"application/octet-stream"}),a=window.URL.createObjectURL(r),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",n),typeof i.download>"u"&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}static async ShareFile(t,n="down.txt",r="",a=""){var o;const i=await fetch(t).then(s=>s.blob()).then(s=>new File([s],n));return(o=navigator.canShare)!=null&&o.call(navigator,{files:[i]})?(navigator.share({files:[i],title:r,text:a}).catch(console.error),!0):!1}static ExportExcel(t,n){const r={filename:"down.xlsx",borderColor:"#E2E4E8",titleColor:"#020408",titleBgColor:"#F2F4F8",...n};let a="<html>";a+='<style type="text/css">',a+="table{font-family:Microsoft YaHei,,SimHei,helvetica,arial,verdana,tahoma,sans-serif;}",a+="table td{height: 32px; padding: 10px; text-align: center; border: "+r.borderColor+" 1px solid;}",a+=".title{background-color: "+r.titleBgColor+"; color: "+r.titleColor+"; font-weight: bold;}",a+="</style>",a+=t,a+="</html>",this.DownBlob(a,r.filename)}}const WJ=Ht({__name:"index",props:{show:{type:Boolean,default:!1},position:{type:String,default:"center"},width:{type:String,default:""},height:{type:String,default:""},opacity:{type:Number,default:.4},bgColor:{type:String,default:""},radius:{type:String,default:""},bgClose:{type:Boolean,default:!0},time:{type:Number,default:400}},emits:["update:show","close"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t;Ut(()=>n.show,f=>{l(n.show)},{deep:!0}),On(()=>{i()});const i=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.opacity=0,n.position=="left"?(d.style.height="30%",d.style.left=0,d.style.opacity=0,d.style.transform="translate(-30%, 0)"):n.position=="right"?(d.style.height="100%",d.style.right=0,d.style.opacity=0,d.style.transform="translate(30%, 0)"):n.position=="top"?(d.style.width="100%",d.style.top=0,d.style.opacity=1,d.style.transform="translate(0, -30%)"):n.position=="bottom"?(d.style.width="100%",d.style.left=0,d.style.bottom=0,d.style.opacity=0,d.style.transform="translate(0, 30%)"):(d.style.left="50%",d.style.top="50%",d.style.opacity=0,d.style.transform="translate(-50%, -50%)")},o=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=n.time+"ms",d.style.transitionDuration=n.time+"ms",f.style.opacity=1,d.style.opacity=1,n.position=="left"?d.style.transform="translate(-1px, 0)":n.position=="right"?d.style.transform="translate(1px, 0)":n.position=="top"?d.style.transform="translate(0, -1px)":n.position=="bottom"?d.style.transform="translate(0, 1px)":d.style.top="50%",An(()=>{a("update:show",!0)})},s=()=>{const f=r.$refs.PopupBG,d=r.$refs.PopupBody;f.style.transitionDuration=n.time+"ms",d.style.transitionDuration=n.time+"ms",f.style.opacity=0,d.style.opacity=0,n.position=="left"?d.style.transform="translate(-30%, 0)":n.position=="right"?d.style.transform="translate(30%, 0)":n.position=="top"?d.style.transform="translate(0, -30%)":n.position=="bottom"?d.style.transform="translate(0, 30%)":d.style.top="30%",An(()=>{a("update:show",!1)})},l=f=>{f?o():s()},c=()=>{n.bgClose&&u()},u=()=>{l(!1),a("close",!1)};return(f,d)=>(Z(),ne("div",{style:Ue([{position:"relative",width:"100%",height:"100%"},{visibility:e.show?"inherit":"hidden"}])},[W("div",{ref:"PopupBG",class:"wm-popup_bg",style:Ue({backgroundColor:"rgba(0,0,0,"+e.opacity+")"}),onClick:c},null,4),W("div",{ref:"PopupBody",class:"wm-popup_body",style:Ue({width:e.width,height:e.height,backgroundColor:e.bgColor,borderRadius:e.radius})},[et(f.$slots,"default",{},void 0,!0)],4)],4))}}),ma=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},f1=ma(WJ,[["__scopeId","data-v-5ce7689f"]]);let yn=class{static Time(t=""){const r=(t?new Date(t):new Date).getTime();return Math.round(r/1e3)}static TimeMicro(t=""){return(t?new Date(t):new Date).getTime()}static Date(t="Y-m-d H:i:s",n=0){let r;typeof n=="number"?r=n>0?new Date(n*1e3):new Date:r=n;const a=""+r.getFullYear(),i=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=r.getHours()<10?"0"+r.getHours():""+r.getHours(),l=r.getMinutes()<10?"0"+r.getMinutes():""+r.getMinutes(),c=r.getSeconds()<10?"0"+r.getSeconds():""+r.getSeconds();let u=t;return u=u.replace("Y",a),u=u.replace("m",i),u=u.replace("d",o),u=u.replace("H",s),u=u.replace("i",l),u=u.replace("s",c),u}static StrToTime(t="",n=""){const r=t.split(" "),a=parseInt(r[0]);let i=new Date(t);switch(i=="Invalid Date"&&(i=n?new Date(n):new Date),r[1]){case"second":i.setSeconds(i.getSeconds()+a);break;case"minute":i.setMinutes(i.getMinutes()+a);break;case"hour":i.setHours(i.getHours()+a);break;case"day":i.setDate(i.getDate()+a);break;case"week":i.setDate(i.getDate()+a*7);break;case"month":i.setMonth(i.getMonth()+a);break;case"year":i.setFullYear(i.getFullYear()+a);break}let o=i.getTime();return o=Math.round(o/1e3),o>0?o:0}static Week(t){const n=new Date(t);return["","","","","","",""][n.getDay()]}static FormatTime(t){let n=t;const r=new Date,a=""+r.getFullYear(),i=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),o=r.getDate()<10?"0"+r.getDate():""+r.getDate(),s=t.substr(0,4),l=t.substr(5,2),c=t.substr(8,2),u=t.substr(11,5),f=t.substr(5,11),d=parseInt(t.substr(11,2));if(s==a&&l==i&&c==o){let h="";d<6?h="":d<9?h="":d<12?h="":d<14?h="":d<17?h="":d<20&&(h=""),n=h+" "+u}else s==a&&l==i&&c==""+(Number(o)-1)?n=" "+u:s==a&&l==i&&(n=f);return n}static TimeSize(t,n){const r=new Date(t).getTime();let i=(n?new Date(n).getTime():new Date().getTime())-r;return i!=0?i/1e3:0}static FormatHourEncode(t){let n="00",r="00",a="00",i=0;return t>=3600&&(i=Math.floor(t/3600),n=i>=10?i.toString():"0"+i,t-=i*3600),t>=60&&(i=Math.floor(t/60),r=i>=10?i.toString():"0"+i,t-=i*60),i=t,a=i>=10?i.toString():"0"+i,n+":"+r+":"+a}static FormatHourDecode(t){let n=t.split(":");return parseInt(n[0])*3600+parseInt(n[1])*60+parseInt(n[2])}static daysInMonth(t,n){return new Date(t,n+1,0).getDate()}static daysLimit(t,n){let r=[];const a=t.split("-"),i=n.split("-");if(a.length!==3||i.length!==3)return r;const o=parseInt(a[0]),s=parseInt(a[1]),l=parseInt(a[2]),c=parseInt(i[0]),u=parseInt(i[1]),f=parseInt(i[2]);let d,h,p,v=[],g=[];for(let m=c;m>=o;m--){v=[];for(let y=1;y<=12;y++)if(!(m===o&&y<s)&&!(m===c&&y>u)){g=[],d=this.daysInMonth(m,y);for(let x=1;x<=d;x++)y===s&&x<l||y===u&&x>f||(h=x<10?"0"+x:x.toString(),g.push({label:h+"",value:h}));h=y<10?"0"+y:y.toString(),p={label:h+"",value:h},g.length&&(p.children=g),v.push(p)}h=m.toString(),p={label:h+"",value:h},v.length&&(p.children=v),r.push(p)}return r}};function GJ(){return{home:"Home",action:"Action",search:"Search",add:"Add",edit:"Edit",edits:"Batch Edit",del:"Delete",remove:"Remove",remove_all:"Remove All",clear:"Clear",export:"Export",copy:"Copy",print:"Print",view:"View",flow:"Flow",mkdir:"New Folder",rename:"Rename",upload:"Upload",download:"Download",prev:"Prev",next:"Next",confirm:"Confirm",reset:"Reset",remark:"Remark",keyword:"Search keywords",key:"Keywords",sku_id:"Please enter the product code",print_template:"Search for printing templates",select:"Please select",select_all:"Select All",select_not:"Not Select",placeholder:"Please enter",folder:"Folder",file:"File",title:"Title",name:"Name",info:"Information",content:"Content",size:"Size",page:"Page",null:"Null",not:"Not",logout:"Log out",status:"Status",enable:"Enable",disable:"Disable",ctime:"Create Time",utime:"Modify Time",date:"Date",network_err:"Network error",total_info:e=>"There are a total of <b>"+(e||0)+"</b> items",del_warn:e=>"Delete <b>"+e+"</b> pieces of data",del_part_warn:(e,t)=>"<b>"+e+"</b> items in total <b>"+t+"</b> items can be deleted",export_warn:e=>"Export <b>"+e+"</b> pieces of data",page_total:(e,t,n)=>"Total "+e+", Page "+t+" of "+n,page_limit:"Limit",login_uname:"Uname / Phone / Email",login_passwd:"Please input a password",login_vcode:"Code",login_refresh:"Click to refresh",menus_placeholder:"Search menu",menus_recent:"Recently visited",menus_recommend:"Recommended tools",uinfo_title:"User Information",uinfo_img:"Change image",uinfo_type:"Type",uinfo_nickname:"Nickname",uinfo_nickname_placeholder:"User nickname",uinfo_department:"Department",uinfo_position:"Position",uinfo_name:"Name",uinfo_gender:"Gender",uinfo_gender_boy:"Boy",uinfo_gender_girl:"Girl",uinfo_birthday:"Birthday",uinfo_signature:"Signature",passwd_title:"Change Password",passwd_code_placeholder:"Verification code",passwd_code_get:"Send code",passwd_code_resend:"Resend code",passwd_code_time:e=>"Try again in "+e+" second",passwd_new:"New password",passwd_confirm:"Confirm password",passwd_verify_null:"Null account",passwd_verify_code:"Please enter the verification code",passwd_verify_passwd1:"Starting with an English letter, 6-16 characters",passwd_verify_passwd2:"Two passwords are inconsistent",msg_seach:"Search for contacts",msg_null:"No new message",sys_file_total:(e,t,n)=>"Folder: <b>"+(e||0)+"</b>&nbsp;&nbsp;File: <b>"+(t||0)+"</b>&nbsp;&nbsp;Size: <b>"+(n||0)+"</b>&nbsp;&nbsp;",sys_file_rootdir:"RootDir",sys_file_back:"Back Up",sys_file_select_file:"Select File",sys_file_verify_name:"Name 2-32 characters",sys_file_verify_name_exist:"The name already exists",sys_user_total:e=>`There are a total of <b>${e||0}</b> items`,sys_user_image:"Image",sys_user_type:"Type",sys_user_role:"Role",sys_user_perm:"Permissions",sys_user_uname:"UserName",sys_user_passwd:"Password",sys_user_base:"Base Info",sys_user_nickname:"Nickname",sys_user_department:"Department",sys_user_position:"Position",sys_user_name:"Name",sys_user_gender:"Gender",sys_user_birthday:"Birthday",sys_user_uname_placeholder:"Uname \\ PhoneNumber \\ Email",sys_user_passwd_placeholder:"Default password",sys_user_verify_uname:"Please enter Uname, PhoneNumber, OR Email",sys_user_verify_passwd:"Password 6-16 characters",sys_role_total:e=>`There are a total of <b>${e||0}</b> items`,sys_role_perm:"Permissions",sys_role_verify_name:"Role name 2-16 characters",sys_menus_total:e=>`There are a total of <b>${e||0}</b> items`,sys_menus_lang:"Language",sys_menus_en_us:"English",sys_menus_zh_cn:"",sys_menus_fid:"Class",sys_menus_ico:"Icon",sys_menus_title:"Name",sys_menus_en:"Pinyin",sys_menus_url:"FrontUrl",sys_menus_controller:"ApiUrl",sys_menus_sort:"Sort",sys_menus_perm:"Permission value",sys_menus_sort_placeholder:"Sort, such as: 0, 1, 2",sys_menus_verify_title:"The title must be 2-32 characters long",web_html_total:e=>`There are a total of <b>${e||0}</b> items`,web_html_type:"Type",web_html_title:"Title",web_html_name:"Name",web_html_verify_title:"The title must be 2-32 characters long",web_html_verify_name:"The name must be 2-16 characters long",goods_stock_total:e=>`<b>${e}</b> pieces in stock`}}function YJ(){return{home:"",action:"",search:"",add:"",edit:"",edits:"",del:"",remove:"",remove_all:"",clear:"",export:"",copy:"",print:"",view:"",flow:"",mkdir:"",rename:"",upload:"",download:"",prev:"",next:"",confirm:"",reset:"",remark:"",placeholder:"",select:"",select_all:"",select_not:"",keyword:"",key:"",sku_id:"",print_template:"",folder:"",file:"",title:"",name:"",info:"",content:"",size:"",page:"",null:"",not:"",logout:"",status:"",enable:"",disable:"",ctime:"",utime:"",date:"",network_err:"",total_info:e=>":  <b>"+(e||0)+"</b> ",del_warn:e=>" <b>"+e+"</b> ",del_part_warn:(e,t)=>" <b>"+e+"</b>  <b>"+t+"</b> ",export_warn:e=>" <b>"+e+"</b> ",page_total:(e,t,n)=>" <b>"+e+"</b> ,  <b>"+t+"</b>/<b>"+n+"</b> ",page_limit:"",login_uname:" /  / ",login_passwd:"",login_vcode:"",login_refresh:"",menus_placeholder:"",menus_recent:"",menus_recommend:"",uinfo_title:"",uinfo_img:"",uinfo_type:"",uinfo_nickname:"",uinfo_nickname_placeholder:"",uinfo_department:"",uinfo_position:"",uinfo_name:"",uinfo_gender:"",uinfo_gender_boy:"",uinfo_gender_girl:"",uinfo_birthday:"",uinfo_signature:"",passwd_title:"",passwd_code_placeholder:"",passwd_code_get:"",passwd_code_resend:"",passwd_code_time:e=>e+"",passwd_new:"",passwd_confirm:"",passwd_verify_null:"",passwd_verify_code:"",passwd_verify_passwd1:"616",passwd_verify_passwd2:"",msg_seach:"",msg_null:"",sys_file_total:(e,t,n)=>`: <b>${e||0}</b>&nbsp;&nbsp;: <b>${t||0}</b>&nbsp;&nbsp;: <b>${n||0}</b>&nbsp;&nbsp;`,sys_file_rootdir:"",sys_file_back:"",sys_file_select_file:"",sys_file_verify_name:"232",sys_file_verify_name_exist:"",sys_user_total:e=>`:  <b>${e||0}</b> `,sys_user_image:"",sys_user_type:"",sys_user_role:"",sys_user_perm:"",sys_user_uname:"",sys_user_passwd:"",sys_user_base:"",sys_user_nickname:"",sys_user_department:"",sys_user_position:"",sys_user_name:"",sys_user_gender:"",sys_user_birthday:"",sys_user_uname_placeholder:" \\  \\ ",sys_user_passwd_placeholder:"",sys_user_verify_uname:"",sys_user_verify_passwd:"616",sys_role_total:e=>`:  <b>${e||0}</b> `,sys_role_perm:"",sys_role_verify_name:"216",sys_menus_total:e=>`:  <b>${e||0}</b> `,sys_menus_lang:"",sys_menus_en_us:"English",sys_menus_zh_cn:"",sys_menus_fid:"",sys_menus_ico:"",sys_menus_title:"",sys_menus_en:"",sys_menus_url:"",sys_menus_controller:"",sys_menus_sort:"",sys_menus_perm:"",sys_menus_sort_placeholder:", : 0, 1, 2",sys_menus_verify_title:"232",web_html_total:e=>`:  <b>${e||0}</b> `,web_html_type:"",web_html_title:"",web_html_name:"",web_html_verify_title:"232",web_html_verify_name:"216",goods_stock_total:e=>` <b>${e}</b> `}}const XJ={class:"wm-langs"},qJ={class:"wm-langs_body"},KJ={class:"wm-langs_list"},ZJ=["onClick"],QJ={class:"wm-login_body"},JJ={class:"wm-login_ct"},eee={key:0,class:"uname"},tee={key:0,class:"wm-login_form"},nee=["placeholder"],ree={key:1,class:"wm-login_form"},aee={onsubmit:"return false"},iee=["placeholder"],oee={key:2,class:"wm-login_form"},see=["src","alt"],lee=["placeholder"],cee={class:"wm-login_bottom"},uee={key:0},fee={key:1},dee=Ht({__name:"UserLogin",props:{show:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=e,{proxy:r}=no(),i=ls().state,o=$N(),s=Ls.copy,l=Ee(2e4),c=Ee(3e4),u=Ee({}),f=Ls.LangList(),d=Ee(!1),h=Ee(""),p=Ee({is_passwd:!1,is_safety:!1,uname:"",local_uname:"",passwd:"",vcode:"",vcode_url:"",img:""}),v=["bg0","bg1","bg2","bg3","bg4","bg5","bg6","bg7","bg8","bg9"];let g=null,m=null;Ut(()=>i.isLogin,k=>{k?(d.value=!1,clearInterval(m),m=setInterval(()=>{S()},c.value)):(d.value=!0,clearInterval(m),O())},{deep:!0}),Ut(d,k=>{k?(_(),b(),clearInterval(g),g=setInterval(()=>{b()},l.value)):clearInterval(g)}),On(()=>{let k=Hn.getItem("langs");if(k)u.value=JSON.parse(k);else for(let C of f)if(Ls.lang==C.value){u.value=C;break}y(u.value),i.isLogin=n.show;const T=Hn.getItem("token");i.token=T||"",T?S(!0):i.isLogin=!1});const y=k=>{i.lang=k.value,k.value=="en_US"?i.langs=GJ():k.value=="zh_CN"&&(i.langs=YJ())},x=k=>{u.value=k,Hn.setItem("langs",JSON.stringify(k)),y(k),o.push({path:"/"}),location.reload()},b=()=>{const k=Math.floor(Math.random()*10);h.value=v[k]},_=()=>{const k=Hn.getItem("uname")||"",T=Hn.getItem("user_img")||"",C=Hn.getItem("uinfo")||"";k&&(p.value.uname=k,p.value.local_uname=k,p.value.img=T,p.value.is_passwd=!0,i.uinfo=C?JSON.parse(C):{})},E=()=>{p.value.uname="",p.value.passwd="",p.value.vcode="",p.value.is_passwd=!1,p.value.is_safety=!1,An(()=>{r.$refs.loginUname.focus()})},w=()=>{let k=p.value.vcode_url.split("?");p.value.vcode_url=k[0]+"?"+yn.Time(),An(()=>{r.$refs.loginVcode.focus()})},A=()=>{const k=p.value.uname,T=p.value.passwd;if(k.length>3&&!p.value.is_passwd){p.value.is_passwd=!0,An(()=>{r.$refs.loginPasswd.focus()});return}if(T.length<6)return dt.Toast(i.langs.login_passwd);if(p.value.vcode.length!=4&&p.value.is_safety){An(()=>{r.$refs.loginVcode.focus()});return}const C=dt.Loading();Yn.Post("user/login?lang="+i.lang,{uname:k,passwd:T,vcode:p.value.vcode},M=>{C.clear();const{code:P,msg:I,data:L,vcode_url:z}=M.data;if(P==0)p.value.is_passwd=!0,p.value.is_safety=!1,p.value.passwd="",p.value.vcode="",p.value.img=L.uinfo.img,i.isLogin=!0,i.token=L.token,i.uinfo=L.uinfo,Hn.setItem("token",L.token),Hn.setItem("uname",L.uinfo.uname),Hn.setItem("uinfo",JSON.stringify(L.uinfo)),Hn.setItem("user_img",L.uinfo.img),setTimeout(()=>{Hn.setItem("IsMenus",""),location.reload()},1e3);else return p.value.vcode="",z&&P==4001?(p.value.is_safety=!0,p.value.vcode_url=z,An(()=>{r.$refs.loginVcode.focus()})):z&&P==4002?w():(p.value.passwd="",p.value.vcode="",p.value.is_passwd=!0,p.value.is_safety=!1,An(()=>{r.$refs.loginPasswd.focus()})),dt.Toast(I)},()=>{C&&C.clear(),dt.Toast(i.langs.network_err)})},S=(k=!1)=>{let T;k&&(T=dt.Loading()),Yn.Post("user/token?lang="+i.lang,{token:i.token,uinfo:k},C=>{T&&T.clear();const{code:M,msg:P,data:I}=C.data;M==0&&I.token_time>0?(i.isLogin=!0,!i.isPasswd&&i.lang&&(i.isPasswd=I.isPasswd),Object.keys(I.uinfo).length!=0&&(i.uinfo=I.uinfo,Hn.setItem("uname",I.uinfo.uname),Hn.setItem("uinfo",JSON.stringify(I.uinfo)),Hn.setItem("user_img",I.uinfo.img))):(dt.Toast(P),O())},()=>{T&&T.clear(),dt.Toast(i.langs.network_err)})},O=()=>{o.push({path:"/"}).then(()=>{i.isLogin=!1,i.token="",Hn.removeItem("token"),Hn.removeItem("uinfo"),Hn.removeItem("MenusTabs"),Hn.removeItem("MenusTmp"),setTimeout(()=>{r.$refs.loginUname?r.$refs.loginUname.focus():r.$refs.loginPasswd.focus()},3e3)})};return t({logout:O,verifyToken:S}),(k,T)=>(Z(),ne("div",{class:"wm-login_popup",style:Ue({visibility:d.value?"inherit":"hidden"})},[ot(f1,{show:d.value,"onUpdate:show":T[9]||(T[9]=C=>d.value=C),width:"100%",height:"100%",position:"top",time:600},{default:it(()=>[W("div",XJ,[W("div",null,ge(u.value.label),1),W("div",qJ,[T[10]||(T[10]=W("span",{class:"arrow"},null,-1)),W("ul",KJ,[(Z(!0),ne(Ge,null,_t(Q(f),(C,M)=>(Z(),ne("li",{key:M,class:Ve(C.value==u.value.value?"active":""),onClick:P=>x(C)},ge(C.label),11,ZJ))),128))])])]),W("div",{class:"wm-login_bg bg0",style:Ue({visibility:h.value=="bg0"?"inherit":"hidden",opacity:h.value=="bg0"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg1",style:Ue({visibility:h.value=="bg1"?"inherit":"hidden",opacity:h.value=="bg1"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg2",style:Ue({visibility:h.value=="bg2"?"inherit":"hidden",opacity:h.value=="bg2"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg3",style:Ue({visibility:h.value=="bg3"?"inherit":"hidden",opacity:h.value=="bg3"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg4",style:Ue({visibility:h.value=="bg4"?"inherit":"hidden",opacity:h.value=="bg4"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg5",style:Ue({visibility:h.value=="bg5"?"inherit":"hidden",opacity:h.value=="bg5"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg6",style:Ue({visibility:h.value=="bg6"?"inherit":"hidden",opacity:h.value=="bg6"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg7",style:Ue({visibility:h.value=="bg7"?"inherit":"hidden",opacity:h.value=="bg7"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg8",style:Ue({visibility:h.value=="bg8"?"inherit":"hidden",opacity:h.value=="bg8"?"1":"0"})},null,4),W("div",{class:"wm-login_bg bg9",style:Ue({visibility:h.value=="bg9"?"inherit":"hidden",opacity:h.value=="bg9"?"1":"0"})},null,4),T[14]||(T[14]=W("div",{class:"wm-login_mask"},null,-1)),W("div",QJ,[W("div",JJ,[W("div",{class:"wm-login_logo",style:Ue({backgroundImage:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"url("+p.value.img+")":"",backgroundSize:p.value.uname&&p.value.uname==p.value.local_uname&&p.value.img?"100%":"60%"})},[p.value.uname&&(p.value.is_passwd||p.value.is_safety)?(Z(),ne("h2",eee,ge(p.value.uname),1)):ye("",!0)],4),p.value.is_passwd?p.value.is_passwd&&!p.value.is_safety?(Z(),ne("div",ree,[T[12]||(T[12]=W("i",{class:"ui ui_safety ico"},null,-1)),W("form",aee,[Ns(W("input",{ref:"loginPasswd",type:"password",class:"input","onUpdate:modelValue":T[2]||(T[2]=C=>p.value.passwd=C),onKeyup:T[3]||(T[3]=hc(C=>A(),["enter"])),maxlength:"32",placeholder:Q(i).langs.login_passwd,autocomplete:"off"},null,40,iee),[[kf,p.value.passwd]])])])):p.value.is_safety?(Z(),ne("div",oee,[T[13]||(T[13]=W("i",{class:"ui ui_safety ico"},null,-1)),W("img",{class:"vcode",src:p.value.vcode_url,alt:Q(i).langs.login_refresh,onClick:T[4]||(T[4]=C=>w())},null,8,see),Ns(W("input",{ref:"loginVcode",type:"text",class:"input","onUpdate:modelValue":T[5]||(T[5]=C=>p.value.vcode=C),onKeyup:T[6]||(T[6]=hc(C=>A(),["enter"])),maxlength:"4",placeholder:Q(i).langs.login_vcode},null,40,lee),[[kf,p.value.vcode]])])):ye("",!0):(Z(),ne("div",tee,[T[11]||(T[11]=W("i",{class:"ui ui_user ico"},null,-1)),Ns(W("input",{ref:"loginUname",type:"text",class:"input","onUpdate:modelValue":T[0]||(T[0]=C=>p.value.uname=C),onKeyup:T[1]||(T[1]=hc(C=>A(),["enter"])),maxlength:"32",placeholder:Q(i).langs.login_uname},null,40,nee),[[kf,p.value.uname]])])),W("div",cee,[p.value.uname?(Z(),ne("span",uee,[W("i",{class:"ui ui_arrow_left",onClick:T[7]||(T[7]=C=>E())}),W("i",{class:"ui ui_arrow_right",onClick:T[8]||(T[8]=C=>A())})])):(Z(),ne("span",fee,ge(Q(s)),1))])])])]),_:1},8,["show"])],4))}}),hee=ma(dee,[["__scopeId","data-v-25a217db"]]),pee=Ht({__name:"Socket",setup(e){const n=ls().state;let r=new Ls().socket(),a=null,i=null;On(()=>{Ls.isSocket&&l()});const o=f=>{f.type=="msg"&&s(f),f.type=="online"&&console.log("online",f)},s=f=>{if(f.code!=0)return dt.Toast(f.msg);let d=!1;for(let m of n.msg.list)if(m.loading===f.loading){m.id=f.id,m.loading=0,m.content=f.content,n.msg.readId=-1,d=!0;break}const h=f.id||0,p=f.gid,v=f.fid==n.uinfo.uid?f.uid:f.fid,g={gid:p,fid:v,num:1,time:f.time,format:f.format,title:f.title,img:f.img,content:f.content};for(let m in n.msg.group)if(n.msg.group[m].gid===p&&n.msg.group[m].fid===v){g.title=n.msg.group[m].title,g.img=n.msg.group[m].img,p===n.msg.gid&&v===n.msg.fid?(g.num=0,f.loading=0,d||n.msg.list.push(f),h&&(n.msg.readId=h)):(g.num=n.msg.group[m].num+1,n.msg.num+=1),n.msg.group.splice(m,1);break}n.msg.group.unshift(g)},l=()=>{clearInterval(a),a=setInterval(()=>{n.isLogin&&(!n.socket||n.socket.readyState!=1)&&c()},r.time)},c=()=>{const f=r.server+"?lang="+n.lang+"&channel="+r.channel+"&token="+n.token;n.socket=new WebSocket(f),n.socket.onopen=()=>{clearInterval(i),i=setInterval(()=>{try{n.socket.send(JSON.stringify({type:""}))}catch{u()}},r.heartbeat)},n.socket.onmessage=d=>{const h=JSON.parse(d.data);o(h)},n.socket.onclose=()=>{u()}},u=()=>{n.socket&&(n.socket.close(),n.socket=null)};return(f,d)=>null}}),vee=Ht({__name:"main",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},lineHeight:{type:String,default:""},paddingX:{type:String,default:"16px"},paddingY:{type:String,default:"16px"},bgColor:{type:String,default:"transparent"},overflowX:{type:String,default:""},overflowY:{type:String,default:""},textAlign:{type:String,default:"left"}},setup(e){return(t,n)=>(Z(),ne("div",{class:"wm-main_body",style:Ue({width:"calc("+e.width+" - "+e.paddingX+" * 2)",height:"calc("+e.height+" - "+e.paddingY+" * 2)",lineHeight:e.lineHeight,backgroundColor:e.bgColor})},[W("div",{class:"wm-main_ct scrollbar",style:Ue({width:e.width,height:e.height,padding:e.paddingY+" "+e.paddingX,overflowX:e.overflowX,overflowY:e.overflowY,textAlign:e.textAlign})},[et(t.$slots,"default",{},void 0,!0)],4)],4))}}),qS=ma(vee,[["__scopeId","data-v-7573a2cf"]]),gee={class:"wm-dialog_title"},mee=Ht({__name:"index",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"360px"},maxWidth:{type:String,default:"1920px"},height:{type:String,default:"auto"},overflow:{type:String,default:"inherit"},borderRadius:{type:String,default:"4px"},top:{type:String,default:"0px"},bottom:{type:String,default:""},bgClose:{type:Boolean,default:!0}},emits:["update:show","close"],setup(e,{emit:t}){const n=e,r=t,a=Ee({show:!1,width:0,height:0});Ut(()=>n.show,s=>{a.value.show=s,s&&(a.value.width=window.innerWidth,a.value.height=window.innerHeight,document.addEventListener("keydown",i))},{deep:!0});const i=s=>{switch(s.keyCode||s.which){case 27:o(!0);break}},o=s=>{s&&r("update:show",!1),r("close",!1),document.removeEventListener("keydown",i)};return(s,l)=>(Z(),ne("div",{class:"wm-dialog_body",style:Ue({visibility:a.value.show?"inherit":"hidden"})},[ot(f1,{ref:"Popup",show:a.value.show,"onUpdate:show":l[2]||(l[2]=c=>a.value.show=c),width:"100%",height:"100%",position:"top",time:600},{default:it(()=>[W("div",{class:"wm-dialog_bg",onClick:l[0]||(l[0]=c=>e.bgClose?o(!0):"")}),W("div",{class:"wm-dialog",style:Ue({width:e.width,maxWidth:e.maxWidth,height:e.height,borderRadius:e.borderRadius})},[W("div",gee,[W("span",null,ge(e.title),1),W("div",{class:"wm-dialog_close",onClick:l[1]||(l[1]=c=>o(!!e.bgClose))})]),e.top?(Z(),ne("div",{key:0,class:"wm-dialog_top",style:Ue({height:e.top+"",lineHeight:e.top+""})},[et(s.$slots,"top",{},void 0,!0)],4)):ye("",!0),W("div",{class:"wm-dialog_content scrollbar",style:Ue({overflow:e.overflow,maxHeight:"calc("+a.value.height+"px - 46px - 40px - "+e.top+" - "+e.bottom+")"})},[et(s.$slots,"default",{},void 0,!0)],4),e.bottom?(Z(),ne("div",{key:1,class:"wm-dialog_bottom flex_center",style:Ue({height:e.bottom+"",lineHeight:e.bottom+""})},[et(s.$slots,"bottom",{},void 0,!0)],4)):ye("",!0)],4)]),_:3},8,["show"])],4))}}),KS=ma(mee,[["__scopeId","data-v-1fe03059"]]),yee=["innerHTML"],xee=["value","placeholder","maxlength","disabled","readonly","enterkeyhint"],bee=["value","type","placeholder","maxlength","disabled","readonly","enterkeyhint"],wee=Ht({__name:"index",props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},width:{type:String,default:"100%"},height:{type:String,default:"40px"},lineHeight:{type:String,default:"40px"},placeholder:{type:String,default:""},maxlength:{type:String,default:""},padding:{type:String,default:"0 10px"},margin:{type:String,default:"0"},radius:{type:String,default:"4px"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputAlign:{type:String,default:""},icon:{type:String,default:""},iconSize:{type:String,default:"20px"},iconAlign:{type:String,default:"left"},iconColor:{type:String,default:""},iconBgcolor:{type:String,default:""},iconRadius:{type:String,default:"4px 0 0 4px"},text:{type:String,default:""},textPadding:{type:String,default:"0 10px"},textAlign:{type:String,default:"right"},textColor:{type:String,default:""},textBgcolor:{type:String,default:""},textRadius:{type:String,default:"0 4px 4px 0"},textLen:{type:Boolean,default:!1},enterkeyhint:{type:String,default:"enter"}},emits:["update:value","update:focus","update:blur","iconClick","textClick","clear","close"],setup(e,{expose:t,emit:n}){const r=e,{proxy:a}=no(),i=n,s=ls().state,l=Ee(0);Ut(()=>r.value,g=>{l.value=g.length},{deep:!0});const c=g=>{i("update:value",g.target.value)},u=g=>{i("update:focus",g.target.value)},f=g=>{i("update:blur",g.target.value)},d=()=>{i("iconClick")},h=()=>{i("textClick")},p=()=>{i("clear"),i("update:value",""),r.type=="textarea"?a.$refs.wmTextarea.focus():a.$refs.wmInput.focus()};return t({focus:()=>{An(()=>{r.type=="textarea"?a.$refs.wmTextarea.focus():a.$refs.wmInput.focus()})}}),(g,m)=>(Z(),ne("div",{class:"wm-input_body",style:Ue({width:e.width,height:e.height,margin:e.margin})},[e.value&&e.clearable?(Z(),ne("div",{key:0,class:"wm-input_clear_body",style:Ue({width:e.lineHeight,height:e.lineHeight}),onClick:m[0]||(m[0]=Ca(y=>p(),["stop"]))},[W("div",{class:"wm-input_clear",style:Ue({width:"calc("+e.lineHeight+" / 2)",height:"calc("+e.lineHeight+" / 2)"})},null,4)],4)):ye("",!0),e.icon?(Z(),ne("i",{key:1,class:Ve(["wm-input_text",e.icon]),style:Ue({width:e.lineHeight,lineHeight:e.lineHeight,fontSize:e.iconSize,left:e.iconAlign=="left"?"0":"",right:e.iconAlign=="right"?"0":"",color:e.iconColor,backgroundColor:e.iconBgcolor,borderRadius:e.iconRadius}),onClick:m[1]||(m[1]=y=>d())},null,6)):ye("",!0),e.text?(Z(),ne("div",{key:2,class:"wm-input_text",innerHTML:e.text,style:Ue({padding:e.textPadding,lineHeight:e.lineHeight,left:e.textAlign=="left"?"0":"",right:e.textAlign=="right"?"0":"",color:e.textColor,backgroundColor:e.textBgcolor,borderRadius:e.textRadius}),onClick:m[2]||(m[2]=y=>h())},null,12,yee)):ye("",!0),e.textLen?(Z(),ne("div",{key:3,class:"wm-input_total",style:Ue({lineHeight:e.lineHeight})},ge(l.value)+"/"+ge(e.maxlength||""),5)):ye("",!0),e.type=="textarea"?(Z(),ne("textarea",{key:4,ref:"wmTextarea",class:"wm-input",value:e.value,placeholder:e.placeholder||Q(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:Ue({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius}),onInput:c,onFocus:u,onBlur:f},null,44,xee)):(Z(),ne("input",{key:5,ref:"wmInput",class:"wm-input",autocomplete:"off",value:e.value,type:e.type,placeholder:e.placeholder||Q(s).langs.placeholder,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,enterkeyhint:e.enterkeyhint,style:Ue({height:e.height,padding:e.padding,lineHeight:e.lineHeight,borderRadius:e.radius,textAlign:e.inputAlign}),onInput:c,onFocus:u,onBlur:f},null,44,bee))],4))}}),ko=ma(wee,[["__scopeId","data-v-512c16c8"]]),_ee=["disabled"],Eee=Ht({__name:"index",props:{effect:{type:String,default:"plain"},type:{type:String,default:"default"},width:{type:String,default:"max-content"},height:{type:String,default:"32px"},padding:{type:String,default:"0 16px"},margin:{type:String,default:"0 4px"},radius:{type:String,default:"4px"},fontSize:{type:String,default:"14px"},icon:{type:String,default:""},iconSize:{type:String,default:"14px"},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>(Z(),ne("button",{class:Ve(["wm-button flex_center",e.effect+"_"+e.type]),style:Ue({width:e.width,height:e.height,lineHeight:e.height,padding:e.padding,margin:e.margin,borderRadius:e.radius,fontSize:e.fontSize}),disabled:e.disabled},[e.icon?(Z(),ne("i",{key:0,class:Ve(e.icon),style:Ue({fontSize:e.iconSize,lineHeight:"calc("+e.height+" - 2px)"})},null,6)):ye("",!0),W("span",null,[et(t.$slots,"default",{},void 0,!0)])],14,_ee))}}),Cf=ma(Eee,[["__scopeId","data-v-a51a3cdb"]]),ZS=Ht({__name:"form",props:{width:{type:String,default:"100%"},height:{type:String,default:"auto"}},setup(e){return(t,n)=>(Z(),ne("table",{class:"wm-table_form",style:Ue({width:e.width,height:e.height})},[et(t.$slots,"default")],4))}}),Aee={class:"wm-radio"},See={key:0,class:"wm-radio_label"},Oee=["onClick"],kee={key:0,class:"wm-radio_label"},Tee=Ht({__name:"index",props:{value:{default:""},options:{type:Array,default:[]},margin:{type:String,default:"4px 4px"},padding:{type:String,default:"4px"}},emits:["update:value","update:options"],setup(e,{emit:t}){const n=e,r=t,a=Ee([]);Ut(()=>n.options,o=>{a.value=o},{deep:!0}),On(()=>{a.value=n.options});const i=o=>{for(let s in a.value)a.value[o].checked=o.toString()==s;r("update:value",a.value[o].value),r("update:options",a)};return(o,s)=>(Z(),ne("ul",Aee,[(Z(!0),ne(Ge,null,_t(a.value,(l,c)=>(Z(),ne(Ge,{key:c},[l.disabled?(Z(),ne("li",{key:0,class:"flex disabled",style:Ue({margin:e.margin,padding:e.padding})},[s[0]||(s[0]=W("span",{class:"wm-radio_checked"},null,-1)),l.label?(Z(),ne("span",See,ge(l.label),1)):et(o.$slots,"default",{key:1},void 0,!0)],4)):(Z(),ne("li",{key:1,class:"enabled",onClick:Ca(u=>i(c),["stop"]),style:Ue({margin:e.margin,padding:e.padding})},[W("span",{class:Ve(["wm-radio_checked",l.value==e.value?"active":""])},null,2),l.label?(Z(),ne("span",kee,ge(l.label),1)):et(o.$slots,"default",{key:1},void 0,!0)],12,Oee))],64))),128))]))}}),Cee=ma(Tee,[["__scopeId","data-v-c4f5b000"]]),uL=6048e5,Mee=864e5,Pee=6e4,fL=36e5,Iee=1e3,b4=Symbol.for("constructDateFrom");function Zn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&b4 in e?e[b4](t):e instanceof Date?new e.constructor(t):new Date(t)}function At(e,t){return Zn(t||e,e)}function Yo(e,t,n){const r=At(e,n==null?void 0:n.in);return isNaN(t)?Zn((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Fs(e,t,n){const r=At(e,n==null?void 0:n.in);if(isNaN(t))return Zn(e,NaN);if(!t)return r;const a=r.getDate(),i=Zn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function dL(e,t,n){const{years:r=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=At(e,n==null?void 0:n.in),f=a||r?Fs(u,a+r*12):u,d=o||i?Yo(f,o+i*7):f,h=l+s*60,v=(c+h*60)*1e3;return Zn(e,+d+v)}function Ree(e,t,n){return Zn(e,+At(e)+t)}function Dee(e,t,n){return Ree(e,t*fL)}let Nee={};function od(){return Nee}function Hs(e,t){var s,l,c,u;const n=od(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=At(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function A0(e,t){return Hs(e,{...t,weekStartsOn:1})}function hL(e,t){const n=At(e,t==null?void 0:t.in),r=n.getFullYear(),a=Zn(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=A0(a),o=Zn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=A0(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function ny(e){const t=At(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uv(e,...t){const n=Zn.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function w4(e,t){const n=At(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function pL(e,t,n){const[r,a]=uv(n==null?void 0:n.in,e,t),i=w4(r),o=w4(a),s=+i-ny(i),l=+o-ny(o);return Math.round((s-l)/Mee)}function Lee(e,t){const n=hL(e,t),r=Zn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),A0(r)}function Fee(e,t,n){return Fs(e,t*3,n)}function QS(e,t,n){return Fs(e,t*12,n)}function _4(e,t){const n=+At(e)-+At(t);return n<0?-1:n>0?1:n}function vL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Np(e){return!(!vL(e)&&typeof e!="number"||isNaN(+At(e)))}function E4(e,t){const n=At(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Bee(e,t,n){const[r,a]=uv(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function $ee(e,t,n){const[r,a]=uv(n==null?void 0:n.in,e,t),i=_4(r,a),o=Math.abs(Bee(r,a));r.setFullYear(1584),a.setFullYear(1584);const s=_4(r,a)===-i,l=i*(o-+s);return l===0?0:l}function gL(e,t){const[n,r]=uv(e,t.start,t.end);return{start:n,end:r}}function mL(e,t){const{start:n,end:r}=gL(t==null?void 0:t.in,e);let a=+n>+r;const i=a?+n:+r,o=a?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(Zn(n,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?l.reverse():l}function yf(e,t){const n=At(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function jee(e,t){const{start:n,end:r}=gL(t==null?void 0:t.in,e);let a=+n>+r;const i=a?+yf(n):+yf(r);let o=yf(a?r:n),s=1;const l=[];for(;+o<=i;)l.push(Zn(n,o)),o=Fee(o,s);return a?l.reverse():l}function zee(e,t){const n=At(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function yL(e,t){const n=At(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function a0(e,t){const n=At(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xL(e,t){var s,l,c,u;const n=od(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=At(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function A4(e,t){const n=At(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3+3;return n.setMonth(a,0),n.setHours(23,59,59,999),n}const Uee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hee=(e,t,n)=>{let r;const a=Uee[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Vee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yee={date:Bb({formats:Vee,defaultWidth:"full"}),time:Bb({formats:Wee,defaultWidth:"full"}),dateTime:Bb({formats:Gee,defaultWidth:"full"})},Xee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qee=(e,t,n,r)=>Xee[e];function Rh(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Kee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ete={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nte=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rte={ordinalNumber:nte,era:Rh({values:Kee,defaultWidth:"wide"}),quarter:Rh({values:Zee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rh({values:Qee,defaultWidth:"wide"}),day:Rh({values:Jee,defaultWidth:"wide"}),dayPeriod:Rh({values:ete,defaultWidth:"wide",formattingValues:tte,defaultFormattingWidth:"wide"})};function Dh(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?ite(s,f=>f.test(o)):ate(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function ate(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ite(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ote(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const ste=/^(\d+)(th|st|nd|rd)?/i,lte=/\d+/i,cte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ute={any:[/^b/i,/^(a|c)/i]},fte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dte={any:[/1/i,/2/i,/3/i,/4/i]},hte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xte={ordinalNumber:ote({matchPattern:ste,parsePattern:lte,valueCallback:e=>parseInt(e,10)}),era:Dh({matchPatterns:cte,defaultMatchWidth:"wide",parsePatterns:ute,defaultParseWidth:"any"}),quarter:Dh({matchPatterns:fte,defaultMatchWidth:"wide",parsePatterns:dte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Dh({matchPatterns:hte,defaultMatchWidth:"wide",parsePatterns:pte,defaultParseWidth:"any"}),day:Dh({matchPatterns:vte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any"}),dayPeriod:Dh({matchPatterns:mte,defaultMatchWidth:"any",parsePatterns:yte,defaultParseWidth:"any"})},bL={code:"en-US",formatDistance:Hee,formatLong:Yee,formatRelative:qee,localize:rte,match:xte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bte(e,t){const n=At(e,t==null?void 0:t.in);return pL(n,a0(n))+1}function JS(e,t){const n=At(e,t==null?void 0:t.in),r=+A0(n)-+Lee(n);return Math.round(r/uL)+1}function e3(e,t){var u,f,d,h;const n=At(e,t==null?void 0:t.in),r=n.getFullYear(),a=od(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(d=a.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=Zn((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const s=Hs(o,t),l=Zn((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Hs(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function wte(e,t){var s,l,c,u;const n=od(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=e3(e,t),i=Zn((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Hs(i,t)}function t3(e,t){const n=At(e,t==null?void 0:t.in),r=+Hs(n,t)-+wte(n,t);return Math.round(r/uL)+1}function Vn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Fc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Vn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Vn(n+1,2)},d(e,t){return Vn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Vn(e.getHours()%12||12,t.length)},H(e,t){return Vn(e.getHours(),t.length)},m(e,t){return Vn(e.getMinutes(),t.length)},s(e,t){return Vn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Vn(a,t.length)}},Ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S4={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Fc.y(e,t)},Y:function(e,t,n,r){const a=e3(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Vn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Vn(i,t.length)},R:function(e,t){const n=hL(e);return Vn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Vn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Vn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Vn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Fc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Vn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=t3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Vn(a,t.length)},I:function(e,t,n){const r=JS(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Vn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fc.d(e,t)},D:function(e,t,n){const r=bte(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Vn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Vn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Vn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Vn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Ad.noon:r===0?a=Ad.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Ad.evening:r>=12?a=Ad.afternoon:r>=4?a=Ad.morning:a=Ad.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Vn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Vn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fc.s(e,t)},S:function(e,t){return Fc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return k4(r);case"XXXX":case"XX":return uf(r);case"XXXXX":case"XXX":default:return uf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return k4(r);case"xxxx":case"xx":return uf(r);case"xxxxx":case"xxx":default:return uf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+O4(r,":");case"OOOO":default:return"GMT"+uf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+O4(r,":");case"zzzz":default:return"GMT"+uf(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Vn(r,t.length)},T:function(e,t,n){return Vn(+e,t.length)}};function O4(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Vn(i,2)}function k4(e,t){return e%60===0?(e>0?"-":"+")+Vn(Math.abs(e)/60,2):uf(e,t)}function uf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Vn(Math.trunc(r/60),2),i=Vn(r%60,2);return n+a+t+i}const T4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_te=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return T4(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",T4(r,t)).replace("{{time}}",wL(a,t))},lE={p:wL,P:_te},Ete=/^D+$/,Ate=/^Y+$/,Ste=["D","DD","YY","YYYY"];function _L(e){return Ete.test(e)}function EL(e){return Ate.test(e)}function cE(e,t,n){const r=Ote(e,t,n);if(console.warn(r),Ste.includes(e))throw new RangeError(r)}function Ote(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cte=/^'([^]*?)'?$/,Mte=/''/g,Pte=/[a-zA-Z]/;function Sl(e,t,n){var u,f,d,h,p,v,g,m;const r=od(),a=(n==null?void 0:n.locale)??r.locale??bL,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,s=At(e,n==null?void 0:n.in);if(!Np(s))throw new RangeError("Invalid time value");let l=t.match(Tte).map(y=>{const x=y[0];if(x==="p"||x==="P"){const b=lE[x];return b(y,a.formatLong)}return y}).join("").match(kte).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Ite(y)};if(S4[x])return{isToken:!0,value:y};if(x.match(Pte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&EL(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_L(x))&&cE(x,t,String(e));const b=S4[x[0]];return b(s,x,a.localize,c)}).join("")}function Ite(e){const t=e.match(Cte);return t?t[1].replace(Mte,"'"):e}function Rte(e,t){return At(e,t==null?void 0:t.in).getDay()}function Dte(e,t){const n=At(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),i=Zn(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Nte(){return Object.assign({},od())}function Ac(e,t){return At(e,t==null?void 0:t.in).getHours()}function Lte(e,t){const n=At(e,t==null?void 0:t.in).getDay();return n===0?7:n}function xu(e,t){return At(e,t==null?void 0:t.in).getMinutes()}function cn(e,t){return At(e,t==null?void 0:t.in).getMonth()}function S0(e){return At(e).getSeconds()}function Rt(e,t){return At(e,t==null?void 0:t.in).getFullYear()}function jf(e,t){return+At(e)>+At(t)}function O0(e,t){return+At(e)<+At(t)}function Wd(e,t){return+At(e)==+At(t)}function Fte(e,t){const n=Bte(t)?new t(0):Zn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Bte(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const $te=10;class AL{constructor(){ut(this,"subPriority",0)}validate(t,n){return!0}}class jte extends AL{constructor(t,n,r,a,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class zte extends AL{constructor(n,r){super();ut(this,"priority",$te);ut(this,"subPriority",-1);this.context=n||(a=>Zn(r,a))}set(n,r){return r.timestampIsSet?n:Zn(n,Fte(n,this.context))}}class Pn{run(t,n,r,a){const i=this.parse(t,n,r,a);return i?{setter:new jte(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class Ute extends Pn{constructor(){super(...arguments);ut(this,"priority",140);ut(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const ra={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function aa(e,t){return e&&{value:t(e.value),rest:e.rest}}function $r(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function pl(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*fL+i*Pee+o*Iee),rest:t.slice(n[0].length)}}function SL(e){return $r(ra.anyDigitsSigned,e)}function Xr(e,t){switch(e){case 1:return $r(ra.singleDigit,t);case 2:return $r(ra.twoDigits,t);case 3:return $r(ra.threeDigits,t);case 4:return $r(ra.fourDigits,t);default:return $r(new RegExp("^\\d{1,"+e+"}"),t)}}function ry(e,t){switch(e){case 1:return $r(ra.singleDigitSigned,t);case 2:return $r(ra.twoDigitsSigned,t);case 3:return $r(ra.threeDigitsSigned,t);case 4:return $r(ra.fourDigitsSigned,t);default:return $r(new RegExp("^-?\\d{1,"+e+"}"),t)}}function n3(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OL(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const i=r+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return n?a:1-a}function kL(e){return e%400===0||e%4===0&&e%100!==0}class Hte extends Pn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return aa(Xr(4,n),i);case"yo":return aa(a.ordinalNumber(n,{unit:"year"}),i);default:return aa(Xr(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const i=n.getFullYear();if(a.isTwoDigitYear){const s=OL(a.year,i);return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Vte extends Pn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return aa(Xr(4,n),i);case"Yo":return aa(a.ordinalNumber(n,{unit:"year"}),i);default:return aa(Xr(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,i){const o=e3(n,i);if(a.isTwoDigitYear){const l=OL(a.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Hs(n,i)}const s=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(s,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Hs(n,i)}}class Wte extends Pn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return ry(r==="R"?4:r.length,n)}set(n,r,a){const i=Zn(n,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),A0(i)}}class Gte extends Pn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return ry(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class Yte extends Pn{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return Xr(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class Xte extends Pn{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return Xr(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class qte extends Pn{constructor(){super(...arguments);ut(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ut(this,"priority",110)}parse(n,r,a){const i=o=>o-1;switch(r){case"M":return aa($r(ra.month,n),i);case"MM":return aa(Xr(2,n),i);case"Mo":return aa(a.ordinalNumber(n,{unit:"month"}),i);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class Kte extends Pn{constructor(){super(...arguments);ut(this,"priority",110);ut(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const i=o=>o-1;switch(r){case"L":return aa($r(ra.month,n),i);case"LL":return aa(Xr(2,n),i);case"Lo":return aa(a.ordinalNumber(n,{unit:"month"}),i);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function Zte(e,t,n){const r=At(e,n==null?void 0:n.in),a=t3(r,n)-t;return r.setDate(r.getDate()-a*7),At(r,n==null?void 0:n.in)}class Qte extends Pn{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return $r(ra.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return Xr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,i){return Hs(Zte(n,a,i),i)}}function Jte(e,t,n){const r=At(e,n==null?void 0:n.in),a=JS(r,n)-t;return r.setDate(r.getDate()-a*7),r}class ene extends Pn{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return $r(ra.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return Xr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return A0(Jte(n,a))}}const tne=[31,28,31,30,31,30,31,31,30,31,30,31],nne=[31,29,31,30,31,30,31,31,30,31,30,31];class rne extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subPriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return $r(ra.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return Xr(r.length,n)}}validate(n,r){const a=n.getFullYear(),i=kL(a),o=n.getMonth();return i?r>=1&&r<=nne[o]:r>=1&&r<=tne[o]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class ane extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subpriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return $r(ra.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return Xr(r.length,n)}}validate(n,r){const a=n.getFullYear();return kL(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function r3(e,t,n){var f,d,h,p;const r=od(),a=(n==null?void 0:n.weekStartsOn)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=At(e,n==null?void 0:n.in),o=i.getDay(),l=(t%7+7)%7,c=7-a,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Yo(i,u,n)}class ine extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=r3(n,a,i),n.setHours(0,0,0,0),n}}class one extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return aa(Xr(r.length,n),o);case"eo":return aa(a.ordinalNumber(n,{unit:"day"}),o);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=r3(n,a,i),n.setHours(0,0,0,0),n}}class sne extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return aa(Xr(r.length,n),o);case"co":return aa(a.ordinalNumber(n,{unit:"day"}),o);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=r3(n,a,i),n.setHours(0,0,0,0),n}}function lne(e,t,n){const r=At(e,n==null?void 0:n.in),a=Lte(r,n),i=t-a;return Yo(r,i,n)}class cne extends Pn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return Xr(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return aa(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return aa(a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return aa(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return aa(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=lne(n,a),n.setHours(0,0,0,0),n}}class une extends Pn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(n3(a),0,0,0),n}}class fne extends Pn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(n3(a),0,0,0),n}}class dne extends Pn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(n3(a),0,0,0),n}}class hne extends Pn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return $r(ra.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return Xr(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const i=n.getHours()>=12;return i&&a<12?n.setHours(a+12,0,0,0):!i&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class pne extends Pn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return $r(ra.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return Xr(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class vne extends Pn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return $r(ra.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return Xr(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class gne extends Pn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return $r(ra.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return Xr(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const i=a<=24?a%24:a;return n.setHours(i,0,0,0),n}}class mne extends Pn{constructor(){super(...arguments);ut(this,"priority",60);ut(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return $r(ra.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return Xr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class yne extends Pn{constructor(){super(...arguments);ut(this,"priority",50);ut(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return $r(ra.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return Xr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class xne extends Pn{constructor(){super(...arguments);ut(this,"priority",30);ut(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=i=>Math.trunc(i*Math.pow(10,-r.length+3));return aa(Xr(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class bne extends Pn{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return pl(hl.basicOptionalMinutes,n);case"XX":return pl(hl.basic,n);case"XXXX":return pl(hl.basicOptionalSeconds,n);case"XXXXX":return pl(hl.extendedOptionalSeconds,n);case"XXX":default:return pl(hl.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Zn(n,n.getTime()-ny(n)-a)}}class wne extends Pn{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return pl(hl.basicOptionalMinutes,n);case"xx":return pl(hl.basic,n);case"xxxx":return pl(hl.basicOptionalSeconds,n);case"xxxxx":return pl(hl.extendedOptionalSeconds,n);case"xxx":default:return pl(hl.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Zn(n,n.getTime()-ny(n)-a)}}class _ne extends Pn{constructor(){super(...arguments);ut(this,"priority",40);ut(this,"incompatibleTokens","*")}parse(n){return SL(n)}set(n,r,a){return[Zn(n,a*1e3),{timestampIsSet:!0}]}}class Ene extends Pn{constructor(){super(...arguments);ut(this,"priority",20);ut(this,"incompatibleTokens","*")}parse(n){return SL(n)}set(n,r,a){return[Zn(n,a),{timestampIsSet:!0}]}}const Ane={G:new Ute,y:new Hte,Y:new Vte,R:new Wte,u:new Gte,Q:new Yte,q:new Xte,M:new qte,L:new Kte,w:new Qte,I:new ene,d:new rne,D:new ane,E:new ine,e:new one,c:new sne,i:new cne,a:new une,b:new fne,B:new dne,h:new hne,H:new pne,K:new vne,k:new gne,m:new mne,s:new yne,S:new xne,X:new bne,x:new wne,t:new _ne,T:new Ene},Sne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,One=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kne=/^'([^]*?)'?$/,Tne=/''/g,Cne=/\S/,Mne=/[a-zA-Z]/;function uE(e,t,n,r){var g,m,y,x,b,_,E,w;const a=()=>Zn((r==null?void 0:r.in)||n,NaN),i=Nte(),o=(r==null?void 0:r.locale)??i.locale??bL,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(y=i.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((_=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((w=(E=i.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??0;if(!t)return e?a():At(n,r==null?void 0:r.in);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:o},u=[new zte(r==null?void 0:r.in,n)],f=t.match(One).map(A=>{const S=A[0];if(S in lE){const O=lE[S];return O(A,o.formatLong)}return A}).join("").match(Sne),d=[];for(let A of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&EL(A)&&cE(A,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&_L(A)&&cE(A,t,e);const S=A[0],O=Ane[S];if(O){const{incompatibleTokens:k}=O;if(Array.isArray(k)){const C=d.find(M=>k.includes(M.token)||M.token===S);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${A}\` at the same time`)}else if(O.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);d.push({token:S,fullToken:A});const T=O.run(e,A,o.match,c);if(!T)return a();u.push(T.setter),e=T.rest}else{if(S.match(Mne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(A==="''"?A="'":S==="'"&&(A=Pne(A)),e.indexOf(A)===0)e=e.slice(A.length);else return a()}}if(e.length>0&&Cne.test(e))return a();const h=u.map(A=>A.priority).sort((A,S)=>S-A).filter((A,S,O)=>O.indexOf(A)===S).map(A=>u.filter(S=>S.priority===A).sort((S,O)=>O.subPriority-S.subPriority)).map(A=>A[0]);let p=At(n,r==null?void 0:r.in);if(isNaN(+p))return a();const v={};for(const A of h){if(!A.validate(p,c))return a();const S=A.set(p,v,c);Array.isArray(S)?(p=S[0],Object.assign(v,S[1])):p=S}return p}function Pne(e){return e.match(kne)[1].replace(Tne,"'")}function C4(e,t,n){const[r,a]=uv(n==null?void 0:n.in,e,t);return+yf(r)==+yf(a)}function TL(e,t,n){return Yo(e,-t,n)}function CL(e,t,n){const r=At(e,n==null?void 0:n.in),a=r.getFullYear(),i=r.getDate(),o=Zn(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const s=Dte(o);return r.setMonth(t,Math.min(i,s)),r}function Jn(e,t,n){let r=At(e,n==null?void 0:n.in);return isNaN(+r)?Zn(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=CL(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function Ine(e,t,n){const r=At(e,n==null?void 0:n.in);return r.setHours(t),r}function ML(e,t,n){const r=At(e,n==null?void 0:n.in);return r.setMilliseconds(t),r}function Rne(e,t,n){const r=At(e,n==null?void 0:n.in);return r.setMinutes(t),r}function PL(e,t,n){const r=At(e,n==null?void 0:n.in);return r.setSeconds(t),r}function As(e,t,n){const r=At(e,n==null?void 0:n.in);return isNaN(+r)?Zn(e,NaN):(r.setFullYear(t),r)}function k0(e,t,n){return Fs(e,-t,n)}function Dne(e,t,n){const{years:r=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=k0(e,a+r*12,n),f=TL(u,o+i*7,n),d=l+s*60,p=(c+d*60)*1e3;return Zn(e,+f-p)}function IL(e,t,n){return QS(e,-t,n)}function lh(){const e=_q();return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[W("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),W("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),W("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),W("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}lh.compatConfig={MODE:3};function RL(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),W("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}RL.compatConfig={MODE:3};function a3(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}a3.compatConfig={MODE:3};function i3(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}i3.compatConfig={MODE:3};function o3(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),W("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}o3.compatConfig={MODE:3};function s3(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}s3.compatConfig={MODE:3};function l3(){return Z(),ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[W("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}l3.compatConfig={MODE:3};const go=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),c3=(e,t,n)=>fE(e,t,n)||He(),Nne=(e,t,n)=>{const r=t.dateInTz?go(new Date(e),t.dateInTz):He(e);return n?Ma(r,!0):r},fE=(e,t,n)=>{if(!e)return null;const r=n?Ma(He(e),!0):He(e);return t?t.exactMatch?Nne(e,t,n):go(r,t.timezone):r},Lne=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},Fne=(e,t)=>{if(!e)return 0;const n=new Date,r=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:e})),i=(Lne(t??a)?a:t??a).getTimezoneOffset()/60;return(+r-+a)/(1e3*60*60)-i};var xs=(e=>(e.month="month",e.year="year",e))(xs||{}),bs=(e=>(e.top="top",e.bottom="bottom",e))(bs||{}),Mf=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Mf||{}),bi=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(bi||{});const Bne=["timestamp","date","iso"];var zi=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(zi||{}),gr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(gr||{}),i0=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(i0||{});function M4(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function $ne(e){return t=>Sl(go(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const jne=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=r.map($ne(e))}catch{a=r.map(M4(t))}else a=r.map(M4(t));const i=a.slice(0,n),o=a.slice(n+1,a.length);return[a[n]].concat(...o).concat(...i)},u3=(e,t,n)=>{const r=[];for(let a=+e[0];a<=+e[1];a++)r.push({value:+a,text:d3(a,t)});return n?r.reverse():r},DL=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=n==="long"?"LLLL":"LLL";return r.map((o,s)=>{const l=Sl(go(o,"UTC"),i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((i,o)=>{const s=a.format(i);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},zne=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],pa=e=>{const t=Q(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},Une=e=>({type:"dot",...e??{}}),NL=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,f3={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},$a=e=>e,P4=e=>e===0?e:!e||isNaN(+e)?null:+e,I4=e=>e===null,LL=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Hne=e=>{const t=[],n=r=>r.filter(a=>a);for(let r=0;r<e.length;r+=3){const a=[e[r],e[r+1],e[r+2]];t.push(n(a))}return t},d1=(e,t,n)=>{const r=n!=null,a=t!=null;if(!r&&!a)return!1;const i=+n,o=+t;return r&&a?+e>i||+e<o:r?+e>i:a?+e<o:!1},T0=(e,t)=>Hne(e).map(n=>n.map(r=>{const{active:a,disabled:i,isBetween:o,highlighted:s}=t(r);return{...r,active:a,disabled:i,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&a,dp__cell_in_between:o,"dp--highlighted":s}}})),lu=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},Vne=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Wne(e,t){let n=[...document.querySelectorAll(Vne())];n=n.filter(a=>!e.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=n.indexOf(e);if(r>=0&&(t?r-1>=0:r+1<=n.length))return n[r+(t?-1:1)]}const dE=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),d3=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),h3=(e,t)=>Sl(e,t??i0.DATE),$b=e=>Array.isArray(e),ay=(e,t,n)=>t.get(h3(e,n)),Gne=(e,t)=>e?t?t instanceof Map?!!ay(e,t):t(He(e)):!1:!0,Ki=(e,t,n=!1,r)=>{if(e.key===gr.enter||e.key===gr.space)return n&&e.preventDefault(),t();if(r)return r(e)},Yne=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,FL=(e,t)=>e?i0.MONTH_AND_YEAR:t?i0.YEAR:i0.DATE,BL=e=>e<10?`0${e}`:e,R4=(e,t,n,r,a,i)=>{const o=uE(e,t.slice(0,e.length),new Date,{locale:i});return Np(o)&&vL(o)?r||a?o:Jn(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Xne=(e,t,n,r,a,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof t=="string")return R4(e,t,o,r,a,i);if(Array.isArray(t)){let s=null;for(const l of t)if(s=R4(e,l,o,r,a,i),s)break;return s}return typeof t=="function"?t(e):null},He=e=>e?new Date(e):new Date,qne=(e,t,n)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${o}:${s}:${l}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},Ma=(e,t)=>{const n=He(JSON.parse(JSON.stringify(e))),r=Jn(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?zee(r):r},cu=(e,t,n,r)=>{let a=e?He(e):He();return(t||t===0)&&(a=Ine(a,+t)),(n||n===0)&&(a=Rne(a,+n)),(r||r===0)&&(a=PL(a,+r)),ML(a,0)},Vr=(e,t)=>!e||!t?!1:O0(Ma(e),Ma(t)),un=(e,t)=>!e||!t?!1:Wd(Ma(e),Ma(t)),ta=(e,t)=>!e||!t?!1:jf(Ma(e),Ma(t)),h1=(e,t,n)=>e!=null&&e[0]&&(e!=null&&e[1])?ta(n,e[0])&&Vr(n,e[1]):e!=null&&e[0]&&t?ta(n,e[0])&&Vr(n,t)||Vr(n,e[0])&&ta(n,t):!1,Ss=e=>{const t=Jn(new Date(e),{date:1});return Ma(t)},jb=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Pf=e=>({hours:Ac(e),minutes:xu(e),seconds:S0(e)}),$L=(e,t)=>{if(t){const n=Rt(He(t));if(n>e)return 12;if(n===e)return cn(He(t))}},jL=(e,t)=>{if(t){const n=Rt(He(t));return n<e?-1:n===e?cn(He(t)):void 0}},C0=e=>{if(e)return Rt(He(e))},zL=(e,t)=>{const n=ta(e,t)?t:e,r=ta(t,e)?t:e;return mL({start:n,end:r})},Kne=e=>{const t=Fs(e,1);return{month:cn(t),year:Rt(t)}},tc=(e,t)=>{const n=Hs(e,{weekStartsOn:+t}),r=xL(e,{weekStartsOn:+t});return[n,r]},UL=(e,t)=>{const n={hours:Ac(He()),minutes:xu(He()),seconds:t?S0(He()):0};return Object.assign(n,e)},Jc=(e,t,n)=>[Jn(He(e),{date:1}),Jn(He(),{month:t,year:n,date:1})],uc=(e,t,n)=>{let r=e?He(e):He();return(t||t===0)&&(r=CL(r,t)),n&&(r=As(r,n)),r},HL=(e,t,n,r,a)=>{if(!r||a&&!t||!a&&!n)return!1;const i=a?Fs(e,1):k0(e,1),o=[cn(i),Rt(i)];return a?!Qne(...o,t):!Zne(...o,n)},Zne=(e,t,n)=>Vr(...Jc(n,e,t))||un(...Jc(n,e,t)),Qne=(e,t,n)=>ta(...Jc(n,e,t))||un(...Jc(n,e,t)),VL=(e,t,n,r,a,i,o)=>{if(typeof t=="function"&&!o)return t(e);const s=n?{locale:n}:void 0;return Array.isArray(e)?`${Sl(e[0],i,s)}${a&&!e[1]?"":r}${e[1]?Sl(e[1],i,s):""}`:Sl(e,i,s)},Sd=e=>{if(e)return null;throw new Error(f3.prop("partial-range"))},eg=(e,t)=>{if(t)return e();throw new Error(f3.prop("range"))},hE=e=>Array.isArray(e)?Np(e[0])&&(e[1]?Np(e[1]):!0):e?Np(e):!1,Jne=(e,t)=>Jn(t??He(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),zb=(e,t,n,r)=>{if(!e)return!0;if(r){const a=n==="max"?O0(e,t):jf(e,t),i={seconds:0,milliseconds:0};return a||Wd(Jn(e,i),Jn(t,i))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},Ub=(e,t,n)=>e?Jne(e,t):He(n??t),D4=(e,t,n,r,a)=>{if(Array.isArray(r)){const o=Ub(e,r[0],t),s=Ub(e,r[1],t);return zb(r[0],o,n,!!t)&&zb(r[1],s,n,!!t)&&a}const i=Ub(e,r,t);return zb(r,i,n,!!t)&&a},Hb=e=>Jn(He(),Pf(e)),ere=(e,t,n)=>{if(e instanceof Map){const r=`${BL(n+1)}-${t}`;return e.size?e.has(r):!1}return typeof e=="function"?e(Ma(Jn(He(),{month:n,year:t}),!0)):!1},tre=(e,t,n)=>{if(e instanceof Map){const r=`${BL(n+1)}-${t}`;return e.size?e.has(r):!0}return!0},WL=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(r=>r.month===t&&r.year===n),p3=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),pE=e=>`dp-${Sl(e,"yyyy-MM-dd")}`,N4=(e,t)=>{const n=TL(Ma(t),e),r=Yo(Ma(t),e);return{before:n,after:r}},GL=(e,t)=>t<+e[0]||t>+e[1],Nh=jl({menuFocused:!1,shiftKeyInMenu:!1}),YL=()=>{const e=n=>{Nh.menuFocused=n},t=n=>{Nh.shiftKeyInMenu!==n&&(Nh.shiftKeyInMenu=n)};return{control:je(()=>({shiftKeyInMenu:Nh.shiftKeyInMenu,menuFocused:Nh.menuFocused})),setMenuFocused:e,setShiftKey:t}},hr=jl({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Vb=Ee(null),tg=Ee(!1),Wb=Ee(!1),Gb=Ee(!1),Yb=Ee(!1),fi=Ee(0),Zr=Ee(0),Mu=()=>{const e=je(()=>tg.value?[...hr.selectionGrid,hr.actionRow].filter(f=>f.length):Wb.value?[...hr.timePicker[0],...hr.timePicker[1],Yb.value?[]:[Vb.value],hr.actionRow].filter(f=>f.length):Gb.value?[...hr.monthPicker,hr.actionRow]:[hr.monthYear,...hr.calendar,hr.time,hr.actionRow].filter(f=>f.length)),t=f=>{fi.value=f?fi.value+1:fi.value-1;let d=null;e.value[Zr.value]&&(d=e.value[Zr.value][fi.value]),!d&&e.value[Zr.value+(f?1:-1)]?(Zr.value=Zr.value+(f?1:-1),fi.value=f?0:e.value[Zr.value].length-1):d||(fi.value=f?fi.value-1:fi.value+1)},n=f=>{Zr.value===0&&!f||Zr.value===e.value.length&&f||(Zr.value=f?Zr.value+1:Zr.value-1,e.value[Zr.value]?e.value[Zr.value]&&!e.value[Zr.value][fi.value]&&fi.value!==0&&(fi.value=e.value[Zr.value].length-1):Zr.value=f?Zr.value-1:Zr.value+1)},r=f=>{let d=null;e.value[Zr.value]&&(d=e.value[Zr.value][fi.value]),d?d.focus({preventScroll:!tg.value}):fi.value=f?fi.value-1:fi.value+1},a=()=>{t(!0),r(!0)},i=()=>{t(!1),r(!1)},o=()=>{n(!1),r(!0)},s=()=>{n(!0),r(!0)},l=(f,d)=>{hr[d]=f},c=(f,d)=>{hr[d]=f},u=()=>{fi.value=0,Zr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:f=>{Vb.value=f},setSelectionGrid:f=>{tg.value=f,u(),f||(hr.selectionGrid=[])},setTimePicker:(f,d=!1)=>{Wb.value=f,Yb.value=d,u(),f||(hr.timePicker[0]=[],hr.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{hr.timePicker[d]=f},arrowRight:a,arrowLeft:i,arrowUp:o,arrowDown:s,clearArrowNav:()=>{hr.monthYear=[],hr.calendar=[],hr.time=[],hr.actionRow=[],hr.selectionGrid=[],hr.timePicker[0]=[],hr.timePicker[1]=[],tg.value=!1,Wb.value=!1,Yb.value=!1,Gb.value=!1,u(),Vb.value=null},setMonthPicker:f=>{Gb.value=f,u()},refSets:hr}},L4=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),nre=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),F4=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,rre=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:F4(!1)};const r=t?e:{},a=t?r.count??!0:e,i=F4(a);return Object.assign(n,r,{count:i})},are=(e,t,n)=>e||(typeof n=="string"?n:t),ire=e=>typeof e=="boolean"?e?L4({}):!1:L4(e),ore=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},sre=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),lre=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),cre=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},ure=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),fre=e=>{const t={dates:Array.isArray(e)?e.map(n=>He(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},dre=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},hre=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},pre=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Xb=(e,t,n,r)=>new Map(e.map(a=>{const i=c3(a,t,r);return[h3(i,n),i]})),vre=(e,t)=>e.length?new Map(e.map(n=>{const r=c3(n.date,t);return[h3(r,i0.DATE),n]})):null,gre=e=>{var n;const t=FL(e.isMonthPicker,e.isYearPicker);return{minDate:fE(e.minDate,e.timezone,e.isSpecific),maxDate:fE(e.maxDate,e.timezone,e.isSpecific),disabledDates:$b(e.disabledDates)?Xb(e.disabledDates,e.timezone,t,e.isSpecific):e.disabledDates,allowedDates:$b(e.allowedDates)?Xb(e.allowedDates,e.timezone,t,e.isSpecific):null,highlight:typeof e.highlight=="object"&&$b((n=e.highlight)==null?void 0:n.dates)?Xb(e.highlight.dates,e.timezone,t):e.highlight,markers:vre(e.markers,e.timezone)}},mre=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},yre=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,r=e[n],a=typeof e[n]=="string"?{[r]:!0}:Object.fromEntries(r.map(i=>[i,!0]));return[t,a]}))}),Tr=e=>{const t=()=>{const E=e.enableSeconds?":ss":"",w=e.enableMinutes?":mm":"";return e.is24?`HH${w}${E}`:`hh${w}${E} aa`},n=()=>{var E;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((E=g.value)==null?void 0:E.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},r=E=>UL(E,e.enableSeconds),a=()=>b.value.enabled?e.startTime&&Array.isArray(e.startTime)?[r(e.startTime[0]),r(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?r(e.startTime):null,i=je(()=>rre(e.multiCalendars)),o=je(()=>a()),s=je(()=>nre(e.ariaLabels)),l=je(()=>sre(e.filters)),c=je(()=>ire(e.transitions)),u=je(()=>lre(e.actionRow)),f=je(()=>are(e.previewFormat,e.format,n())),d=je(()=>ore(e.textInput)),h=je(()=>cre(e.inline)),p=je(()=>ure(e.config)),v=je(()=>fre(e.highlight)),g=je(()=>dre(e.weekNumbers)),m=je(()=>pre(e.timezone)),y=je(()=>mre(e.multiDates)),x=je(()=>gre({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:v.value,markers:e.markers,timezone:m.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),b=je(()=>hre(e.range)),_=je(()=>yre(e.ui));return{defaultedTransitions:c,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:s,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:f,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:v,defaultedWeekNumbers:g,defaultedRange:b,propDates:x,defaultedTz:m,defaultedMultiDates:y,defaultedUI:_,getDefaultPattern:n,getDefaultStartTime:a,handleEventPropagation:E=>{p.value.allowStopPropagation&&E.stopPropagation(),p.value.allowPreventDefault&&E.preventDefault()}}},xre=(e,t,{isInputFocused:n,isTextInputDate:r})=>{const a=Ee(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:l,getDefaultPattern:c}=Tr(t),u=Ee(""),f=i1(t,"format"),d=i1(t,"formatLocale");Ut(a,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",a.value,H(!0))},{deep:!0}),Ut(o,(j,K)=>{j.enabled!==K.enabled&&(a.value=null)}),Ut(f,()=>{N()});const h=j=>s.value.timezone&&s.value.convertModel?go(j,s.value.timezone):j,p=j=>{if(s.value.timezone&&s.value.convertModel){const K=Fne(s.value.timezone,j);return Dee(j,K)}return j},v=(j,K,re=!1)=>VL(j,t.format,t.formatLocale,i.value.rangeSeparator,t.modelAuto,K??c(),re),g=j=>j?t.modelType?Y(j):{hours:Ac(j),minutes:xu(j),seconds:t.enableSeconds?S0(j):0}:null,m=j=>t.modelType?Y(j):{month:cn(j),year:Rt(j)},y=j=>Array.isArray(j)?l.value.enabled?j.map(K=>x(K,As(He(),K))):eg(()=>[As(He(),j[0]),j[1]?As(He(),j[1]):Sd(o.value.partialRange)],o.value.enabled):As(He(),+j),x=(j,K)=>(typeof j=="string"||typeof j=="number")&&t.modelType?G(j):K,b=j=>Array.isArray(j)?[x(j[0],cu(null,+j[0].hours,+j[0].minutes,j[0].seconds)),x(j[1],cu(null,+j[1].hours,+j[1].minutes,j[1].seconds))]:x(j,cu(null,j.hours,j.minutes,j.seconds)),_=j=>{const K=Jn(He(),{date:1});return Array.isArray(j)?l.value.enabled?j.map(re=>x(re,uc(K,+re.month,+re.year))):eg(()=>[x(j[0],uc(K,+j[0].month,+j[0].year)),x(j[1],j[1]?uc(K,+j[1].month,+j[1].year):Sd(o.value.partialRange))],o.value.enabled):x(j,uc(K,+j.month,+j.year))},E=j=>{if(Array.isArray(j))return j.map(K=>G(K));throw new Error(f3.dateArr("multi-dates"))},w=j=>{if(Array.isArray(j)&&o.value.enabled){const K=j[0],re=j[1];return[He(Array.isArray(K)?K[0]:null),Array.isArray(re)&&re.length?He(re[0]):null]}return He(j[0])},A=j=>t.modelAuto?Array.isArray(j)?[G(j[0]),G(j[1])]:t.autoApply?[G(j)]:[G(j),null]:Array.isArray(j)?eg(()=>j[1]?[G(j[0]),j[1]?G(j[1]):Sd(o.value.partialRange)]:[G(j[0])],o.value.enabled):G(j),S=()=>{Array.isArray(a.value)&&o.value.enabled&&a.value.length===1&&a.value.push(Sd(o.value.partialRange))},O=()=>{const j=a.value;return[Y(j[0]),j[1]?Y(j[1]):Sd(o.value.partialRange)]},k=()=>Array.isArray(a.value)?a.value[1]?O():Y($a(a.value[0])):[],T=()=>(a.value||[]).map(j=>Y(j)),C=(j=!1)=>(j||S(),t.modelAuto?k():l.value.enabled?T():Array.isArray(a.value)?eg(()=>O(),o.value.enabled):Y($a(a.value))),M=j=>!j||Array.isArray(j)&&!j.length?null:t.timePicker?b($a(j)):t.monthPicker?_($a(j)):t.yearPicker?y($a(j)):l.value.enabled?E($a(j)):t.weekPicker?w($a(j)):A($a(j)),P=j=>{if(r.value)return;const K=M(j);hE($a(K))?(a.value=$a(K),N()):(a.value=null,u.value="")},I=()=>{const j=K=>Sl(K,i.value.format);return`${j(a.value[0])} ${i.value.rangeSeparator} ${a.value[1]?j(a.value[1]):""}`},L=()=>n.value&&a.value?Array.isArray(a.value)?I():Sl(a.value,i.value.format):v(a.value),z=()=>a.value?l.value.enabled?a.value.map(j=>v(j)).join("; "):i.value.enabled&&typeof i.value.format=="string"?L():v(a.value):"",N=()=>{!t.format||typeof t.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=z():u.value=t.format(a.value)},G=j=>{if(t.utc){const K=new Date(j);return t.utc==="preserve"?new Date(K.getTime()+K.getTimezoneOffset()*6e4):K}return t.modelType?Bne.includes(t.modelType)?h(new Date(j)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?h(uE(j,c(),new Date,{locale:d.value})):h(uE(j,t.modelType,new Date,{locale:d.value})):h(new Date(j))},Y=j=>j?t.utc?qne(j,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+p(j):t.modelType==="iso"?p(j).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?v(p(j)):v(p(j),t.modelType,!0):p(j):"",B=(j,K=!1,re=!1)=>{if(re)return j;if(e("update:model-value",j),s.value.emitTimezone&&K){const ae=Array.isArray(j)?j.map(U=>go($a(U),s.value.emitTimezone)):go($a(j),s.value.emitTimezone);e("update:model-timezone-value",ae)}},F=j=>Array.isArray(a.value)?l.value.enabled?a.value.map(K=>j(K)):[j(a.value[0]),a.value[1]?j(a.value[1]):Sd(o.value.partialRange)]:j($a(a.value)),D=()=>{if(Array.isArray(a.value)){const j=tc(a.value[0],t.weekStart),K=a.value[1]?tc(a.value[1],t.weekStart):[];return[j.map(re=>He(re)),K.map(re=>He(re))]}return tc(a.value,t.weekStart).map(j=>He(j))},R=(j,K)=>B($a(F(j)),!1,K),V=j=>{const K=D();return j?K:e("update:model-value",D())},H=(j=!1)=>(j||N(),t.monthPicker?R(m,j):t.timePicker?R(g,j):t.yearPicker?R(Rt,j):t.weekPicker?V(j):B(C(j),!0,j));return{inputValue:u,internalModelValue:a,checkBeforeEmit:()=>a.value?o.value.enabled?o.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:P,formatInputValue:N,emitModelValue:H}},bre=(e,t)=>{const{defaultedFilters:n,propDates:r}=Tr(e),{validateMonthYearInRange:a}=Pu(e),i=(u,f)=>{let d=u;return n.value.months.includes(cn(d))?(d=f?Fs(u,1):k0(u,1),i(d,f)):d},o=(u,f)=>{let d=u;return n.value.years.includes(Rt(d))?(d=f?QS(u,1):IL(u,1),o(d,f)):d},s=(u,f=!1)=>{const d=Jn(He(),{month:e.month,year:e.year});let h=u?Fs(d,1):k0(d,1);e.disableYearSelect&&(h=As(h,e.year));let p=cn(h),v=Rt(h);n.value.months.includes(p)&&(h=i(h,u),p=cn(h),v=Rt(h)),n.value.years.includes(v)&&(h=o(h,u),v=Rt(h)),a(p,v,u,e.preventMinMaxNavigation)&&l(p,v,f)},l=(u,f,d)=>{t("update-month-year",{month:u,year:f,fromNav:d})},c=je(()=>u=>HL(Jn(He(),{month:e.month,year:e.year}),r.value.maxDate,r.value.minDate,e.preventMinMaxNavigation,u));return{handleMonthYearChange:s,isDisabled:c,updateMonthYear:l}},Zx={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},qs={...Zx,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},wre=["title"],_re=["disabled"],Ere=Ht({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...qs},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,r=e,{defaultedActionRow:a,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:s,defaultedInline:l,defaultedRange:c,defaultedMultiDates:u}=Tr(r),{isTimeValid:f,isMonthValid:d}=Pu(r),{buildMatrix:h}=Mu(),p=Ee(null),v=Ee(null),g=Ee(!1),m=Ee({}),y=Ee(null),x=Ee(null);On(()=>{r.arrowNavigation&&h([pa(p),pa(v)],"actionRow"),b(),window.addEventListener("resize",b)}),Cu(()=>{window.removeEventListener("resize",b)});const b=()=>{g.value=!1,setTimeout(()=>{var I,L;const M=(I=y.value)==null?void 0:I.getBoundingClientRect(),P=(L=x.value)==null?void 0:L.getBoundingClientRect();M&&P&&(m.value.maxWidth=`${P.width-M.width-20}px`),g.value=!0},0)},_=je(()=>c.value.enabled&&!c.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),E=je(()=>!f.value(r.internalModelValue)||!d.value(r.internalModelValue)||!_.value),w=()=>{const M=i.value;return r.timePicker||r.monthPicker,M($a(r.internalModelValue))},A=()=>{const M=r.internalModelValue;return o.value.count>0?`${S(M[0])} - ${S(M[1])}`:[S(M[0]),S(M[1])]},S=M=>VL(M,i.value,r.formatLocale,s.value.rangeSeparator,r.modelAuto,i.value),O=je(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?A():u.value.enabled?r.internalModelValue.map(M=>`${S(M)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):w()),k=()=>u.value.enabled?"; ":" - ",T=je(()=>Array.isArray(O.value)?O.value.join(k()):O.value),C=()=>{f.value(r.internalModelValue)&&d.value(r.internalModelValue)&&_.value?n("select-date"):n("invalid-select")};return(M,P)=>(Z(),ne("div",{ref_key:"actionRowRef",ref:x,class:"dp__action_row"},[M.$slots["action-row"]?et(M.$slots,"action-row",Ha(Yr({key:0},{internalModelValue:M.internalModelValue,disabled:E.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(Z(),ne(Ge,{key:1},[Q(a).showPreview?(Z(),ne("div",{key:0,class:"dp__selection_preview",title:T.value,style:Ue(m.value)},[M.$slots["action-preview"]&&g.value?et(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):ye("",!0),!M.$slots["action-preview"]&&g.value?(Z(),ne(Ge,{key:1},[Pt(ge(T.value),1)],64)):ye("",!0)],12,wre)):ye("",!0),W("div",{ref_key:"actionBtnContainer",ref:y,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?et(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):ye("",!0),M.$slots["action-buttons"]?ye("",!0):(Z(),ne(Ge,{key:1},[!Q(l).enabled&&Q(a).showCancel?(Z(),ne("button",{key:0,ref_key:"cancelButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[0]||(P[0]=I=>M.$emit("close-picker")),onKeydown:P[1]||(P[1]=I=>Q(Ki)(I,()=>M.$emit("close-picker")))},ge(M.cancelText),545)):ye("",!0),Q(a).showNow?(Z(),ne("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[2]||(P[2]=I=>M.$emit("select-now")),onKeydown:P[3]||(P[3]=I=>Q(Ki)(I,()=>M.$emit("select-now")))},ge(M.nowButtonLabel),33)):ye("",!0),Q(a).showSelect?(Z(),ne("button",{key:2,ref_key:"selectButtonRef",ref:v,type:"button",class:"dp__action_button dp__action_select",disabled:E.value,"data-test-id":"select-button",onKeydown:P[4]||(P[4]=I=>Q(Ki)(I,()=>C())),onClick:C},ge(M.selectText),41,_re)):ye("",!0)],64))],512)],64))],512))}}),Are=["role","aria-label","tabindex"],Sre={class:"dp__selection_grid_header"},Ore=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],kre=["aria-label"],fv=Ht({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:i}=Mu(),o=n,s=e,{defaultedAriaLabels:l,defaultedTextInput:c,defaultedConfig:u,handleEventPropagation:f}=Tr(s),{hideNavigationButtons:d}=e2(),h=Ee(!1),p=Ee(null),v=Ee(null),g=Ee([]),m=Ee(),y=Ee(null),x=Ee(0),b=Ee(null);$D(()=>{p.value=null}),On(()=>{An().then(()=>T()),s.noOverlayFocus||E(),_(!0)}),Cu(()=>_(!1));const _=F=>{var D;s.arrowNavigation&&((D=s.headerRefs)!=null&&D.length?i(F):r(F))},E=()=>{var D;const F=pa(v);F&&(c.value.enabled||(p.value?(D=p.value)==null||D.focus({preventScroll:!0}):F.focus({preventScroll:!0})),h.value=F.clientHeight<F.scrollHeight)},w=je(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),A=je(()=>s.useRelative?{height:`${s.height}px`,width:"var(--dp-menu-min-width)"}:void 0),S=je(()=>({dp__overlay_col:!0})),O=je(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:s.isLast})),k=je(()=>{var F,D;return{dp__overlay_container:!0,dp__container_flex:((F=s.items)==null?void 0:F.length)<=6,dp__container_block:((D=s.items)==null?void 0:D.length)>6}});Ut(()=>s.items,()=>T(!1),{deep:!0});const T=(F=!0)=>{An().then(()=>{const D=pa(p),R=pa(v),V=pa(y),H=pa(b),j=V?V.getBoundingClientRect().height:0;R&&(R.getBoundingClientRect().height?x.value=R.getBoundingClientRect().height-j:x.value=u.value.modeHeight-j),D&&H&&F&&(H.scrollTop=D.offsetTop-H.offsetTop-(x.value/2-D.getBoundingClientRect().height)-j)})},C=F=>{F.disabled||o("selected",F.value)},M=()=>{o("toggle"),o("reset-flow")},P=F=>{s.escClose&&(M(),f(F))},I=(F,D,R,V)=>{F&&((D.active||D.value===s.focusValue)&&(p.value=F),s.arrowNavigation&&(Array.isArray(g.value[R])?g.value[R][V]=F:g.value[R]=[F],L()))},L=()=>{var D,R;const F=(D=s.headerRefs)!=null&&D.length?[s.headerRefs].concat(g.value):g.value.concat([s.skipButtonRef?[]:[y.value]]);a($a(F),(R=s.headerRefs)!=null&&R.length?"monthPicker":"selectionGrid")},z=F=>{s.arrowNavigation||lu(F,u.value,!0)},N=F=>{m.value=F,o("hover-value",F)},G=()=>{var F;if(M(),!s.isLast){const D=dE(s.menuWrapRef??null,"action-row");D&&((F=LL(D))==null||F.focus())}},Y=F=>{switch(F.key){case gr.esc:return P(F);case gr.arrowLeft:return z(F);case gr.arrowRight:return z(F);case gr.arrowUp:return z(F);case gr.arrowDown:return z(F);default:return}},B=F=>{if(F.key===gr.enter)return M();if(F.key===gr.tab)return G()};return t({focusGrid:E}),(F,D)=>{var R;return Z(),ne("div",{ref_key:"gridWrapRef",ref:v,class:Ve(w.value),style:Ue(A.value),role:e.useRelative?void 0:"dialog","aria-label":e.overlayLabel,tabindex:e.useRelative?void 0:"0",onKeydown:Y,onClick:D[0]||(D[0]=Ca(()=>{},["prevent"]))},[W("div",{ref_key:"containerRef",ref:b,class:Ve(k.value),style:Ue({"--dp-overlay-height":`${x.value}px`}),role:"grid"},[W("div",Sre,[et(F.$slots,"header")]),F.$slots.overlay?et(F.$slots,"overlay",{key:0}):(Z(!0),ne(Ge,{key:1},_t(e.items,(V,H)=>(Z(),ne("div",{key:H,class:Ve(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(Z(!0),ne(Ge,null,_t(V,(j,K)=>(Z(),ne("div",{key:j.value,ref_for:!0,ref:re=>I(re,j,H,K),role:"gridcell",class:Ve(S.value),"aria-selected":j.active||void 0,"aria-disabled":j.disabled||void 0,tabindex:"0","data-test-id":j.text,onClick:Ca(re=>C(j),["prevent"]),onKeydown:re=>Q(Ki)(re,()=>C(j),!0),onMouseover:re=>N(j.value)},[W("div",{class:Ve(j.className)},[F.$slots.item?et(F.$slots,"item",{key:0,item:j}):ye("",!0),F.$slots.item?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(j.text),1)],64))],2)],42,Ore))),128))],2))),128))],6),F.$slots["button-icon"]?Ns((Z(),ne("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(R=Q(l))==null?void 0:R.toggleOverlay,class:Ve(O.value),tabindex:"0",onClick:M,onKeydown:B},[et(F.$slots,"button-icon")],42,kre)),[[bm,!Q(d)(e.hideNavigation,e.type)]]):ye("",!0)],46,Are)}}}),Tre=["data-dp-mobile"],Qx=Ht({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=je(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),r=je(()=>({dp__instance_calendar:t.multiCalendars>0}));return(a,i)=>(Z(),ne("div",{class:Ve({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:e.multiCalendars>0,"dp--flex-display-collapsed":e.collapse}),"data-dp-mobile":e.isMobile},[(Z(!0),ne(Ge,null,_t(n.value,(o,s)=>(Z(),ne("div",{key:o,class:Ve(r.value)},[et(a.$slots,"default",{instance:o,index:s})],2))),128))],10,Tre))}}),Cre=["data-dp-element","aria-label","aria-disabled"],Lp=Ht({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,r=Ee(null);return On(()=>n("set-ref",r)),(a,i)=>(Z(),ne("button",{ref_key:"elRef",ref:r,type:"button","data-dp-element":e.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:i[0]||(i[0]=o=>n("activate")),onKeydown:i[1]||(i[1]=o=>Q(Ki)(o,()=>n("activate"),!0))},[W("span",{class:Ve(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[et(a.$slots,"default")],2)],40,Cre))}}),Mre=["aria-label","data-test-id"],XL=Ht({__name:"YearModePicker",props:{...qs,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,r=e,{showRightIcon:a,showLeftIcon:i}=e2(),{defaultedConfig:o,defaultedMultiCalendars:s,defaultedAriaLabels:l,defaultedTransitions:c,defaultedUI:u}=Tr(r),{showTransition:f,transitionName:d}=dv(c),h=Ee(!1),p=je(()=>d3(r.year,r.locale)),v=(y=!1,x)=>{h.value=!h.value,n("toggle-year-picker",{flow:y,show:x})},g=y=>{h.value=!1,n("year-select",y)},m=(y=!1)=>{n("handle-year",y)};return(y,x)=>{var b,_,E,w,A;return Z(),ne(Ge,null,[W("div",{class:Ve(["dp--year-mode-picker",{"dp--hidden-el":h.value}])},[Q(i)(Q(s),e.instance)?(Z(),St(Lp,{key:0,ref:"mpPrevIconRef","aria-label":(b=Q(l))==null?void 0:b.prevYear,disabled:e.isDisabled(!1),class:Ve((_=Q(u))==null?void 0:_.navBtnPrev),onActivate:x[0]||(x[0]=S=>m(!1))},{default:it(()=>[y.$slots["arrow-left"]?et(y.$slots,"arrow-left",{key:0}):ye("",!0),y.$slots["arrow-left"]?ye("",!0):(Z(),St(Q(a3),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),W("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(E=Q(l))==null?void 0:E.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:x[1]||(x[1]=()=>v(!1)),onKeydown:x[2]||(x[2]=hc(()=>v(!1),["enter"]))},[y.$slots.year?et(y.$slots,"year",{key:0,year:e.year,text:p.value,value:e.year}):ye("",!0),y.$slots.year?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(p.value),1)],64))],40,Mre),Q(a)(Q(s),e.instance)?(Z(),St(Lp,{key:1,ref:"mpNextIconRef","aria-label":(w=Q(l))==null?void 0:w.nextYear,disabled:e.isDisabled(!0),class:Ve((A=Q(u))==null?void 0:A.navBtnNext),onActivate:x[3]||(x[3]=S=>m(!0))},{default:it(()=>[y.$slots["arrow-right"]?et(y.$slots,"arrow-right",{key:0}):ye("",!0),y.$slots["arrow-right"]?ye("",!0):(Z(),St(Q(i3),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0)],2),ot(ah,{name:Q(d)(e.showYearPicker),css:Q(f)},{default:it(()=>{var S,O;return[e.showYearPicker?(Z(),St(fv,{key:0,items:e.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!Q(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,"overlay-label":(O=(S=Q(l))==null?void 0:S.yearPicker)==null?void 0:O.call(S,!0),type:"year",onToggle:v,onSelected:x[4]||(x[4]=k=>g(k))},Mi({"button-icon":it(()=>[y.$slots["calendar-icon"]?et(y.$slots,"calendar-icon",{key:0}):ye("",!0),y.$slots["calendar-icon"]?ye("",!0):(Z(),St(Q(lh),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:it(({item:k})=>[et(y.$slots,"year-overlay-value",{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):ye("",!0)]}),_:3},8,["name","css"])],64)}}}),v3=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(r=>un(e,r))){const r=t.value.filter(a=>!un(a,e));t.value=r.length?r:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},g3=(e,t,n)=>{let r=e.value?e.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?(Vr(t,r[0])?r.unshift(t):r[1]=t,n("range-end",t)):(r=[t],n("range-start",t)),r},Jx=(e,t,n,r)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&r&&n&&t("auto-apply"))},qL=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>go(He(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=go(He(e.value),e.timezone))},KL=(e,t,n,r)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(ta(e,t.value[0])||un(e,t.value[0]))?[t.value[0],e]:r.value.fixedEnd&&(Vr(e,t.value[1])||un(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],ZL=({multiCalendars:e,range:t,highlight:n,propDates:r,calendars:a,modelValue:i,props:o,filters:s,year:l,month:c,emit:u})=>{const f=je(()=>u3(o.yearRange,o.locale,o.reverseYears)),d=Ee([!1]),h=je(()=>(O,k)=>{const T=Jn(Ss(new Date),{month:c.value(O),year:l.value(O)}),C=k?yL(T):a0(T);return HL(C,r.value.maxDate,r.value.minDate,o.preventMinMaxNavigation,k)}),p=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],v=()=>{for(let O=0;O<e.value.count;O++)if(O===0)a.value[O]=a.value[0];else if(O===e.value.count-1&&p())a.value[O]={month:cn(i.value[1]),year:Rt(i.value[1])};else{const k=Jn(He(),a.value[O-1]);a.value[O]={month:cn(k),year:Rt(QS(k,1))}}},g=O=>{if(!O)return v();const k=Jn(He(),a.value[O]);return a.value[0].year=Rt(IL(k,e.value.count-1)),v()},m=(O,k)=>{const T=$ee(k,O);return t.value.showLastInRange&&T>1?k:O},y=O=>o.focusStartDate||e.value.solo?O[0]:O[1]?m(O[0],O[1]):O[0],x=()=>{if(i.value){const O=Array.isArray(i.value)?y(i.value):i.value;a.value[0]={month:cn(O),year:Rt(O)}}},b=()=>{x(),e.value.count&&v()};Ut(i,(O,k)=>{o.isTextInputDate&&JSON.stringify(O??{})!==JSON.stringify(k??{})&&b()}),On(()=>{b()});const _=(O,k)=>{a.value[k].year=O,u("update-month-year",{instance:k,year:O,month:a.value[k].month}),e.value.count&&!e.value.solo&&g(k)},E=je(()=>O=>T0(f.value,k=>{var P;const T=l.value(O)===k.value,C=d1(k.value,C0(r.value.minDate),C0(r.value.maxDate))||((P=s.value.years)==null?void 0:P.includes(l.value(O))),M=p3(n.value,k.value);return{active:T,disabled:C,highlighted:M}})),w=(O,k)=>{_(O,k),S(k)},A=(O,k=!1)=>{if(!h.value(O,k)){const T=k?l.value(O)+1:l.value(O)-1;_(T,O)}},S=(O,k=!1,T)=>{k||u("reset-flow"),T!==void 0?d.value[O]=T:d.value[O]=!d.value[O],d.value[O]?u("overlay-toggle",{open:!0,overlay:bi.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:bi.year}))};return{isDisabled:h,groupedYears:E,showYearPicker:d,selectYear:_,toggleYearPicker:S,handleYearSelect:w,handleYear:A}},Pre=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:i,defaultedRange:o,defaultedHighlight:s,propDates:l,defaultedTz:c,defaultedFilters:u,defaultedMultiDates:f}=Tr(e),d=()=>{e.isTextInputDate&&b(Rt(He(e.startDate)),0)},{modelValue:h,year:p,month:v,calendars:g}=hv(e,t,d),m=je(()=>DL(e.formatLocale,e.locale,e.monthNameFormat)),y=Ee(null),{checkMinMaxRange:x}=Pu(e),{selectYear:b,groupedYears:_,showYearPicker:E,toggleYearPicker:w,handleYearSelect:A,handleYear:S,isDisabled:O}=ZL({modelValue:h,multiCalendars:n,range:o,highlight:s,calendars:g,year:p,propDates:l,month:v,filters:u,props:e,emit:t});On(()=>{e.startDate&&(h.value&&e.focusStartDate||!h.value)&&b(Rt(He(e.startDate)),0)});const k=D=>D?{month:cn(D),year:Rt(D)}:{month:null,year:null},T=()=>h.value?Array.isArray(h.value)?h.value.map(D=>k(D)):k(h.value):k(),C=(D,R)=>{const V=g.value[D],H=T();return Array.isArray(H)?H.some(j=>j.year===(V==null?void 0:V.year)&&j.month===R):(V==null?void 0:V.year)===H.year&&R===H.month},M=(D,R,V)=>{var j,K;const H=T();return Array.isArray(H)?p.value(R)===((j=H[V])==null?void 0:j.year)&&D===((K=H[V])==null?void 0:K.month):!1},P=(D,R)=>{if(o.value.enabled){const V=T();if(Array.isArray(h.value)&&Array.isArray(V)){const H=M(D,R,0)||M(D,R,1),j=uc(Ss(He()),D,p.value(R));return h1(h.value,y.value,j)&&!H}return!1}return!1},I=je(()=>D=>T0(m.value,R=>{var re;const V=C(D,R.value),H=d1(R.value,$L(p.value(D),l.value.minDate),jL(p.value(D),l.value.maxDate))||ere(l.value.disabledDates,p.value(D),R.value)||((re=u.value.months)==null?void 0:re.includes(R.value))||!tre(l.value.allowedDates,p.value(D),R.value)||GL(e.yearRange,p.value(D)),j=P(R.value,D),K=WL(s.value,R.value,p.value(D));return{active:V,disabled:H,isBetween:j,highlighted:K}})),L=(D,R)=>uc(Ss(He()),D,p.value(R)),z=(D,R)=>{const V=h.value?h.value:Ss(new Date);h.value=uc(V,D,p.value(R)),t("auto-apply"),t("update-flow-step")},N=(D,R)=>{const V=L(D,R);o.value.fixedEnd||o.value.fixedStart?h.value=KL(V,h,t,o):h.value?x(V,h.value)&&(h.value=g3(h,L(D,R),t)):h.value=[L(D,R)],An().then(()=>{Jx(h.value,t,e.autoApply,e.modelAuto)})},G=(D,R)=>{v3(L(D,R),h,f.value.limit),t("auto-apply",!0)},Y=(D,R)=>(g.value[R].month=D,F(R,g.value[R].year,D),f.value.enabled?G(D,R):o.value.enabled?N(D,R):z(D,R)),B=(D,R)=>{b(D,R),F(R,D,null)},F=(D,R,V)=>{let H=V;if(!H&&H!==0){const j=T();H=Array.isArray(j)?j[D].month:j.month}t("update-month-year",{instance:D,year:R,month:H})};return{groupedMonths:I,groupedYears:_,year:p,isDisabled:O,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:i,showYearPicker:E,modelValue:h,presetDate:(D,R)=>{qL({value:D,modelValue:h,range:o.value.enabled,timezone:R?void 0:c.value.timezone}),t("auto-apply")},setHoverDate:(D,R)=>{y.value=L(D,R)},selectMonth:Y,selectYear:B,toggleYearPicker:w,handleYearSelect:A,handleYear:S,getModelMonthYear:T}},Ire=Ht({compatConfig:{MODE:3},__name:"MonthPicker",props:{...qs},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=ad(),i=To(a,"yearMode"),o=e;On(()=>{o.shadow||r("mount",null)});const{groupedMonths:s,groupedYears:l,year:c,isDisabled:u,defaultedMultiCalendars:f,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:v,setHoverDate:g,selectMonth:m,selectYear:y,toggleYearPicker:x,handleYearSelect:b,handleYear:_,getModelMonthYear:E}=Pre(o,r);return t({getSidebarProps:()=>({modelValue:p,year:c,getModelMonthYear:E,selectMonth:m,selectYear:y,handleYear:_}),presetDate:v,toggleYearPicker:w=>x(0,w)}),(w,A)=>(Z(),St(Qx,{"multi-calendars":Q(f).count,collapse:w.collapse,stretch:"","is-mobile":w.isMobile},{default:it(({instance:S})=>[w.$slots["top-extra"]?et(w.$slots,"top-extra",{key:0,value:w.internalModelValue}):ye("",!0),w.$slots["month-year"]?et(w.$slots,"month-year",Ha(Yr({key:1},{year:Q(c),months:Q(s)(S),years:Q(l)(S),selectMonth:Q(m),selectYear:Q(y),instance:S}))):(Z(),St(fv,{key:2,items:Q(s)(S),"arrow-navigation":w.arrowNavigation,"is-last":w.autoApply&&!Q(d).keepActionRow,"esc-close":w.escClose,height:Q(d).modeHeight,config:w.config,"no-overlay-focus":!!(w.noOverlayFocus||w.textInput),"use-relative":"",type:"month",onSelected:O=>Q(m)(O,S),onHoverValue:O=>Q(g)(O,S)},Mi({header:it(()=>[ot(XL,Yr(w.$props,{items:Q(l)(S),instance:S,"show-year-picker":Q(h)[S],year:Q(c)(S),"is-disabled":O=>Q(u)(S,O),onHandleYear:O=>Q(_)(S,O),onYearSelect:O=>Q(b)(O,S),onToggleYearPicker:O=>Q(x)(S,O==null?void 0:O.flow,O==null?void 0:O.show)}),Mi({_:2},[_t(Q(i),(O,k)=>({name:O,fn:it(T=>[et(w.$slots,O,Ha(qi(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[w.$slots["month-overlay-value"]?{name:"item",fn:it(({item:O})=>[et(w.$slots,"month-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Rre=(e,t)=>{const n=()=>{e.isTextInputDate&&(u.value=Rt(He(e.startDate)))},{modelValue:r}=hv(e,t,n),a=Ee(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:l,propDates:c}=Tr(e),u=Ee();On(()=>{e.startDate&&(r.value&&e.focusStartDate||!r.value)&&(u.value=Rt(He(e.startDate)))});const f=m=>Array.isArray(r.value)?r.value.some(y=>Rt(y)===m):r.value?Rt(r.value)===m:!1,d=m=>l.value.enabled&&Array.isArray(r.value)?h1(r.value,a.value,g(m)):!1,h=m=>c.value.allowedDates instanceof Map?c.value.allowedDates.size?c.value.allowedDates.has(`${m}`):!1:!0,p=m=>c.value.disabledDates instanceof Map?c.value.disabledDates.size?c.value.disabledDates.has(`${m}`):!1:typeof c.value.disabledDates=="function"?c.value.disabledDates(As(Ma(a0(He())),m)):!0,v=je(()=>T0(u3(e.yearRange,e.locale,e.reverseYears),m=>{const y=f(m.value),x=d1(m.value,C0(c.value.minDate),C0(c.value.maxDate))||s.value.years.includes(m.value)||!h(m.value)||p(m.value),b=d(m.value)&&!y,_=p3(i.value,m.value);return{active:y,disabled:x,isBetween:b,highlighted:_}})),g=m=>As(Ss(a0(new Date)),m);return{groupedYears:v,modelValue:r,focusYear:u,setHoverValue:m=>{a.value=As(Ss(new Date),m)},selectYear:m=>{var y;if(t("update-month-year",{instance:0,year:m}),o.value.enabled)return r.value?Array.isArray(r.value)&&(((y=r.value)==null?void 0:y.map(x=>Rt(x))).includes(m)?r.value=r.value.filter(x=>Rt(x)!==m):r.value.push(As(Ma(He()),m))):r.value=[As(Ma(a0(He())),m)],t("auto-apply",!0);l.value.enabled?(r.value=g3(r,g(m),t),An().then(()=>{Jx(r.value,t,e.autoApply,e.modelAuto)})):(r.value=g(m),t("auto-apply"))}}},Dre=Ht({compatConfig:{MODE:3},__name:"YearPicker",props:{...qs},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const r=n,a=e,{groupedYears:i,modelValue:o,focusYear:s,selectYear:l,setHoverValue:c}=Rre(a,r),{defaultedConfig:u}=Tr(a);return t({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(f,d)=>(Z(),ne("div",null,[f.$slots["top-extra"]?et(f.$slots,"top-extra",{key:0,value:f.internalModelValue}):ye("",!0),f.$slots["month-year"]?et(f.$slots,"month-year",Ha(Yr({key:1},{years:Q(i),selectYear:Q(l)}))):(Z(),St(fv,{key:2,items:Q(i),"is-last":f.autoApply&&!Q(u).keepActionRow,height:Q(u).modeHeight,config:f.config,"no-overlay-focus":!!(f.noOverlayFocus||f.textInput),"focus-value":Q(s),type:"year","use-relative":"",onSelected:Q(l),onHoverValue:Q(c)},Mi({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:it(({item:h})=>[et(f.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Nre={key:0,class:"dp__time_input"},Lre=["data-compact","data-collapsed"],Fre=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Bre=["aria-label","disabled","data-test-id","onKeydown","onClick"],$re=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],jre={key:0},zre=["aria-label","data-compact"],Ure=Ht({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...qs},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,a=e,{setTimePickerElements:i,setTimePickerBackRef:o}=Mu(),{defaultedAriaLabels:s,defaultedTransitions:l,defaultedFilters:c,defaultedConfig:u,defaultedRange:f,defaultedMultiCalendars:d}=Tr(a),{transitionName:h,showTransition:p}=dv(l),v=jl({hours:!1,minutes:!1,seconds:!1}),g=Ee("AM"),m=Ee(null),y=Ee([]),x=Ee(),b=Ee(!1);On(()=>{r("mounted")});const _=X=>Jn(new Date,{hours:X.hours,minutes:X.minutes,seconds:a.enableSeconds?X.seconds:0,milliseconds:0}),E=je(()=>X=>N(X,a[X])||A(X,a[X])),w=je(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),A=(X,ce)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!a.validateTime(X,ce):!1,S=(X,ce)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const te=ce?+a[`${X}Increment`]:-+a[`${X}Increment`],he=a[X]+te;return!a.validateTime(X,he)}return!1},O=je(()=>X=>!D(+a[X]+ +a[`${X}Increment`],X)||S(X,!0)),k=je(()=>X=>!D(+a[X]-+a[`${X}Increment`],X)||S(X,!1)),T=(X,ce)=>dL(Jn(He(),X),ce),C=(X,ce)=>Dne(Jn(He(),X),ce),M=je(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),P=je(()=>a.timePickerInline&&f.value.enabled&&!d.value.count),I=je(()=>{const X=[{type:"hours"}];return a.enableMinutes&&X.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&X.push({type:"",separator:!0},{type:"seconds"}),X}),L=je(()=>I.value.filter(X=>!X.separator)),z=je(()=>X=>{if(X==="hours"){const ce=re(+a.hours);return{text:ce<10?`0${ce}`:`${ce}`,value:ce}}return{text:a[X]<10?`0${a[X]}`:`${a[X]}`,value:a[X]}}),N=(X,ce)=>{var he;if(!a.disabledTimesConfig)return!1;const te=a.disabledTimesConfig(a.order,X==="hours"?ce:void 0);return te[X]?!!((he=te[X])!=null&&he.includes(ce)):!0},G=(X,ce)=>ce!=="hours"||g.value==="AM"?X:X+12,Y=X=>{const ce=a.is24?24:12,te=X==="hours"?ce:60,he=+a[`${X}GridIncrement`],me=X==="hours"&&!a.is24?he:0,xe=[];for(let be=me;be<te;be+=he)xe.push({value:a.is24?be:G(be,X),text:be<10?`0${be}`:`${be}`});return X==="hours"&&!a.is24&&xe.unshift({value:g.value==="PM"?12:0,text:"12"}),T0(xe,be=>({active:!1,disabled:c.value.times[X].includes(be.value)||!D(be.value,X)||N(X,be.value)||A(X,be.value)}))},B=X=>X>=0?X:59,F=X=>X>=0?X:23,D=(X,ce)=>{const te=a.minTime?_(jb(a.minTime)):null,he=a.maxTime?_(jb(a.maxTime)):null,me=_(jb(w.value,ce,ce==="minutes"||ce==="seconds"?B(X):F(X)));return te&&he?(O0(me,he)||Wd(me,he))&&(jf(me,te)||Wd(me,te)):te?jf(me,te)||Wd(me,te):he?O0(me,he)||Wd(me,he):!0},R=X=>a[`no${X[0].toUpperCase()+X.slice(1)}Overlay`],V=X=>{R(X)||(v[X]=!v[X],v[X]?(b.value=!0,r("overlay-opened",X)):(b.value=!1,r("overlay-closed",X)))},H=X=>X==="hours"?Ac:X==="minutes"?xu:S0,j=()=>{x.value&&clearTimeout(x.value)},K=(X,ce=!0,te)=>{const he=ce?T:C,me=ce?+a[`${X}Increment`]:-+a[`${X}Increment`];D(+a[X]+me,X)&&r(`update:${X}`,H(X)(he({[X]:+a[X]},{[X]:+a[`${X}Increment`]}))),!(te!=null&&te.keyboard)&&u.value.timeArrowHoldThreshold&&(x.value=setTimeout(()=>{K(X,ce)},u.value.timeArrowHoldThreshold))},re=X=>a.is24?X:(X>=12?g.value="PM":g.value="AM",zne(X)),ae=()=>{g.value==="PM"?(g.value="AM",r("update:hours",a.hours-12)):(g.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",g.value)},U=X=>{v[X]=!0},q=(X,ce,te)=>{if(X&&a.arrowNavigation){Array.isArray(y.value[ce])?y.value[ce][te]=X:y.value[ce]=[X];const he=y.value.reduce((me,xe)=>xe.map((be,De)=>[...me[De]||[],xe[De]]),[]);o(a.closeTimePickerBtn),m.value&&(he[1]=he[1].concat(m.value)),i(he,a.order)}},J=(X,ce)=>(V(X),r(`update:${X}`,ce));return t({openChildCmp:U}),(X,ce)=>{var te;return X.disabled?ye("",!0):(Z(),ne("div",Nre,[(Z(!0),ne(Ge,null,_t(I.value,(he,me)=>{var xe,be,De;return Z(),ne("div",{key:me,class:Ve(M.value),"data-compact":P.value&&!X.enableSeconds,"data-collapsed":P.value&&X.enableSeconds},[he.separator?(Z(),ne(Ge,{key:0},[b.value?ye("",!0):(Z(),ne(Ge,{key:0},[Pt(":")],64))],64)):(Z(),ne(Ge,{key:1},[W("button",{ref_for:!0,ref:ue=>q(ue,me,0),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!X.timePickerInline,dp__inc_dec_button_inline:X.timePickerInline,dp__tp_inline_btn_top:X.timePickerInline,dp__inc_dec_button_disabled:O.value(he.type),"dp--hidden-el":b.value}),"data-test-id":`${he.type}-time-inc-btn-${a.order}`,"aria-label":(xe=Q(s))==null?void 0:xe.incrementValue(he.type),tabindex:"0",onKeydown:ue=>Q(Ki)(ue,()=>K(he.type,!0,{keyboard:!0}),!0),onClick:ue=>Q(u).timeArrowHoldThreshold?void 0:K(he.type,!0),onMousedown:ue=>Q(u).timeArrowHoldThreshold?K(he.type,!0):void 0,onMouseup:j},[a.timePickerInline?(Z(),ne(Ge,{key:1},[X.$slots["tp-inline-arrow-up"]?et(X.$slots,"tp-inline-arrow-up",{key:0}):(Z(),ne(Ge,{key:1},[ce[2]||(ce[2]=W("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ce[3]||(ce[3]=W("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Z(),ne(Ge,{key:0},[X.$slots["arrow-up"]?et(X.$slots,"arrow-up",{key:0}):ye("",!0),X.$slots["arrow-up"]?ye("",!0):(Z(),St(Q(s3),{key:1}))],64))],42,Fre),W("button",{ref_for:!0,ref:ue=>q(ue,me,1),type:"button","aria-label":`${z.value(he.type).text}-${(be=Q(s))==null?void 0:be.openTpOverlay(he.type)}`,class:Ve({dp__time_display:!0,dp__time_display_block:!X.timePickerInline,dp__time_display_inline:X.timePickerInline,"dp--time-invalid":E.value(he.type),"dp--time-overlay-btn":!E.value(he.type),"dp--hidden-el":b.value}),disabled:R(he.type),tabindex:"0","data-test-id":`${he.type}-toggle-overlay-btn-${a.order}`,onKeydown:ue=>Q(Ki)(ue,()=>V(he.type),!0),onClick:ue=>V(he.type)},[X.$slots[he.type]?et(X.$slots,he.type,{key:0,text:z.value(he.type).text,value:z.value(he.type).value}):ye("",!0),X.$slots[he.type]?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(z.value(he.type).text),1)],64))],42,Bre),W("button",{ref_for:!0,ref:ue=>q(ue,me,2),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!X.timePickerInline,dp__inc_dec_button_inline:X.timePickerInline,dp__tp_inline_btn_bottom:X.timePickerInline,dp__inc_dec_button_disabled:k.value(he.type),"dp--hidden-el":b.value}),"data-test-id":`${he.type}-time-dec-btn-${a.order}`,"aria-label":(De=Q(s))==null?void 0:De.decrementValue(he.type),tabindex:"0",onKeydown:ue=>Q(Ki)(ue,()=>K(he.type,!1,{keyboard:!0}),!0),onClick:ue=>Q(u).timeArrowHoldThreshold?void 0:K(he.type,!1),onMousedown:ue=>Q(u).timeArrowHoldThreshold?K(he.type,!1):void 0,onMouseup:j},[a.timePickerInline?(Z(),ne(Ge,{key:1},[X.$slots["tp-inline-arrow-down"]?et(X.$slots,"tp-inline-arrow-down",{key:0}):(Z(),ne(Ge,{key:1},[ce[4]||(ce[4]=W("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ce[5]||(ce[5]=W("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(Z(),ne(Ge,{key:0},[X.$slots["arrow-down"]?et(X.$slots,"arrow-down",{key:0}):ye("",!0),X.$slots["arrow-down"]?ye("",!0):(Z(),St(Q(l3),{key:1}))],64))],42,$re)],64))],10,Lre)}),128)),X.is24?ye("",!0):(Z(),ne("div",jre,[X.$slots["am-pm-button"]?et(X.$slots,"am-pm-button",{key:0,toggle:ae,value:g.value}):ye("",!0),X.$slots["am-pm-button"]?ye("",!0):(Z(),ne("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(te=Q(s))==null?void 0:te.amPmButton,tabindex:"0","data-compact":P.value,onClick:ae,onKeydown:ce[0]||(ce[0]=he=>Q(Ki)(he,()=>ae(),!0))},ge(g.value),41,zre))])),(Z(!0),ne(Ge,null,_t(L.value,(he,me)=>(Z(),St(ah,{key:me,name:Q(h)(v[he.type]),css:Q(p)},{default:it(()=>{var xe,be;return[v[he.type]?(Z(),St(fv,{key:0,items:Y(he.type),"is-last":X.autoApply&&!Q(u).keepActionRow,"esc-close":X.escClose,type:he.type,"text-input":X.textInput,config:X.config,"arrow-navigation":X.arrowNavigation,"aria-labels":X.ariaLabels,"overlay-label":(be=(xe=Q(s)).timeOverlay)==null?void 0:be.call(xe,he.type),onSelected:De=>J(he.type,De),onToggle:De=>V(he.type),onResetFlow:ce[1]||(ce[1]=De=>X.$emit("reset-flow"))},Mi({"button-icon":it(()=>[X.$slots["clock-icon"]?et(X.$slots,"clock-icon",{key:0}):ye("",!0),X.$slots["clock-icon"]?ye("",!0):(Z(),St(av(X.timePickerInline?Q(lh):Q(o3)),{key:1}))]),_:2},[X.$slots[`${he.type}-overlay-value`]?{name:"item",fn:it(({item:De})=>[et(X.$slots,`${he.type}-overlay-value`,{text:De.text,value:De.value})]),key:"0"}:void 0,X.$slots[`${he.type}-overlay-header`]?{name:"header",fn:it(()=>[et(X.$slots,`${he.type}-overlay-header`,{toggle:()=>V(he.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):ye("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Hre=["data-dp-mobile"],Vre=["aria-label","tabindex"],Wre=["role","aria-label","tabindex"],Gre=["aria-label"],QL=Ht({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...qs},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,a=e,{buildMatrix:i,setTimePicker:o}=Mu(),s=ad(),{defaultedTransitions:l,defaultedAriaLabels:c,defaultedTextInput:u,defaultedConfig:f,defaultedRange:d}=Tr(a),{transitionName:h,showTransition:p}=dv(l),{hideNavigationButtons:v}=e2(),g=Ee(null),m=Ee(null),y=Ee([]),x=Ee(null),b=Ee(!1);On(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?i([pa(g.value)],"time"):o(!0,a.timePicker)});const _=je(()=>d.value.enabled&&a.modelAuto?NL(a.internalModelValue):!0),E=Ee(!1),w=N=>({hours:Array.isArray(a.hours)?a.hours[N]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[N]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[N]:a.seconds}),A=je(()=>{const N=[];if(d.value.enabled)for(let G=0;G<2;G++)N.push(w(G));else N.push(w(0));return N}),S=(N,G=!1,Y="")=>{G||r("reset-flow"),E.value=N,r(N?"overlay-opened":"overlay-closed",bi.time),a.arrowNavigation&&o(N),An(()=>{Y!==""&&y.value[0]&&y.value[0].openChildCmp(Y)})},O=je(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!f.value.keepActionRow})),k=To(s,"timePicker"),T=(N,G,Y)=>d.value.enabled?G===0?[N,A.value[1][Y]]:[A.value[0][Y],N]:N,C=N=>{r("update:hours",N)},M=N=>{r("update:minutes",N)},P=N=>{r("update:seconds",N)},I=()=>{if(x.value&&!u.value.enabled&&!a.noOverlayFocus){const N=LL(x.value);N&&N.focus({preventScroll:!0})}},L=N=>{b.value=!1,r("overlay-closed",N)},z=N=>{b.value=!0,r("overlay-opened",N)};return t({toggleTimePicker:S}),(N,G)=>{var Y;return Z(),ne("div",{class:"dp--tp-wrap","data-dp-mobile":N.isMobile},[!N.timePicker&&!N.timePickerInline?Ns((Z(),ne("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:Ve({...O.value,"dp--hidden-el":E.value}),"aria-label":(Y=Q(c))==null?void 0:Y.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:G[0]||(G[0]=B=>Q(Ki)(B,()=>S(!0))),onClick:G[1]||(G[1]=B=>S(!0))},[N.$slots["clock-icon"]?et(N.$slots,"clock-icon",{key:0}):ye("",!0),N.$slots["clock-icon"]?ye("",!0):(Z(),St(Q(o3),{key:1}))],42,Vre)),[[bm,!Q(v)(N.hideNavigation,"time")]]):ye("",!0),ot(ah,{name:Q(h)(E.value),css:Q(p)&&!N.timePickerInline},{default:it(()=>{var B,F;return[E.value||N.timePicker||N.timePickerInline?(Z(),ne("div",{key:0,ref_key:"overlayRef",ref:x,role:N.timePickerInline?void 0:"dialog",class:Ve({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!N.timePickerInline,"dp--overlay-relative":a.timePicker}),style:Ue(N.timePicker?{height:`${Q(f).modeHeight}px`}:void 0),"aria-label":(B=Q(c))==null?void 0:B.timePicker,tabindex:N.timePickerInline?void 0:0},[W("div",{class:Ve(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?et(N.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:C,setMinutes:M,setSeconds:P}):ye("",!0),N.$slots["time-picker-overlay"]?ye("",!0):(Z(),ne("div",{key:1,class:Ve(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(Z(!0),ne(Ge,null,_t(A.value,(D,R)=>Ns((Z(),St(Ure,Yr({key:R},{ref_for:!0},{...N.$props,order:R,hours:D.hours,minutes:D.minutes,seconds:D.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:e.disabledTimesConfig,disabled:R===0?Q(d).fixedStart:Q(d).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(V,H)=>e.validateTime(V,T(H,R,V)),"onUpdate:hours":V=>C(T(V,R,"hours")),"onUpdate:minutes":V=>M(T(V,R,"minutes")),"onUpdate:seconds":V=>P(T(V,R,"seconds")),onMounted:I,onOverlayClosed:L,onOverlayOpened:z,onAmPmChange:G[2]||(G[2]=V=>N.$emit("am-pm-change",V))}),Mi({_:2},[_t(Q(k),(V,H)=>({name:V,fn:it(j=>[et(N.$slots,V,Yr({ref_for:!0},j))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[bm,R===0?!0:_.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?Ns((Z(),ne("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:Ve({...O.value,"dp--hidden-el":b.value}),"aria-label":(F=Q(c))==null?void 0:F.closeTimePicker,tabindex:"0",onKeydown:G[3]||(G[3]=D=>Q(Ki)(D,()=>S(!1))),onClick:G[4]||(G[4]=D=>S(!1))},[N.$slots["calendar-icon"]?et(N.$slots,"calendar-icon",{key:0}):ye("",!0),N.$slots["calendar-icon"]?ye("",!0):(Z(),St(Q(lh),{key:1}))],42,Gre)),[[bm,!Q(v)(N.hideNavigation,"time")]]):ye("",!0)],2)],14,Wre)):ye("",!0)]}),_:3},8,["name","css"])],8,Hre)}}}),JL=(e,t,n,r)=>{const{defaultedRange:a}=Tr(e),i=(x,b)=>Array.isArray(t[x])?t[x][b]:t[x],o=x=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[x]:t.seconds:0,s=(x,b)=>x?b!==void 0?cu(x,i("hours",b),i("minutes",b),o(b)):cu(x,t.hours,t.minutes,o()):PL(He(),o(b)),l=(x,b)=>{t[x]=b},c=je(()=>e.modelAuto&&a.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:a.value.enabled),u=(x,b)=>{const _=Object.fromEntries(Object.keys(t).map(E=>E===x?[E,b]:[E,t[E]].slice()));if(c.value&&!a.value.disableTimeRangeValidation){const E=A=>n.value?cu(n.value[A],_.hours[A],_.minutes[A],_.seconds[A]):null,w=A=>ML(n.value[A],0);return!(un(E(0),E(1))&&(jf(E(0),w(1))||O0(E(1),w(0))))}return!0},f=(x,b)=>{u(x,b)&&(l(x,b),r&&r())},d=x=>{f("hours",x)},h=x=>{f("minutes",x)},p=x=>{f("seconds",x)},v=(x,b,_,E)=>{b&&d(x),!b&&!_&&h(x),_&&p(x),n.value&&E(n.value)},g=x=>{if(x){const b=Array.isArray(x),_=b?[+x[0].hours,+x[1].hours]:+x.hours,E=b?[+x[0].minutes,+x[1].minutes]:+x.minutes,w=b?[+x[0].seconds,+x[1].seconds]:+x.seconds;l("hours",_),l("minutes",E),e.enableSeconds&&l("seconds",w)}},m=(x,b)=>{const _={hours:Array.isArray(t.hours)?t.hours[x]:t.hours,disabledArr:[]};return(b||b===0)&&(_.hours=b),Array.isArray(e.disabledTimes)&&(_.disabledArr=a.value.enabled&&Array.isArray(e.disabledTimes[x])?e.disabledTimes[x]:e.disabledTimes),_},y=je(()=>(x,b)=>{var _;if(Array.isArray(e.disabledTimes)){const{disabledArr:E,hours:w}=m(x,b),A=E.filter(S=>+S.hours===w);return((_=A[0])==null?void 0:_.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(A==null?void 0:A.map(S=>+S.minutes))??[],seconds:(A==null?void 0:A.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:s,updateTimeValues:v,getSecondsValue:o,assignStartTime:g,validateTime:u,disabledTimesConfig:y}},Yre=(e,t)=>{const n=()=>{e.isTextInputDate&&b()},{modelValue:r,time:a}=hv(e,t,n),{defaultedStartTime:i,defaultedRange:o,defaultedTz:s}=Tr(e),{updateTimeValues:l,getSetDateTime:c,setTime:u,assignStartTime:f,disabledTimesConfig:d,validateTime:h}=JL(e,a,r,p);function p(){t("update-flow-step")}const v=E=>{const{hours:w,minutes:A,seconds:S}=E;return{hours:+w,minutes:+A,seconds:S?+S:0}},g=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const w=v(e.startTime[0]),A=v(e.startTime[1]);return[Jn(He(),w),Jn(He(),A)]}const E=v(e.startTime);return Jn(He(),E)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[E,w]=g();r.value=[go(c(E,0),s.value.timezone),go(c(w,1),s.value.timezone)]}else r.value=go(c(g()),s.value.timezone)},y=E=>Array.isArray(E)?[Pf(He(E[0])),Pf(He(E[1]))]:[Pf(E??He())],x=(E,w,A)=>{u("hours",E),u("minutes",w),u("seconds",e.enableSeconds?A:0)},b=()=>{const[E,w]=y(r.value);return o.value.enabled?x([E.hours,w.hours],[E.minutes,w.minutes],[E.seconds,w.seconds]):x(E.hours,E.minutes,E.seconds)};On(()=>{if(!e.shadow)return f(i.value),r.value?b():m()});const _=()=>{Array.isArray(r.value)?r.value=r.value.map((E,w)=>E&&c(E,w)):r.value=c(r.value),t("time-update")};return{modelValue:r,time:a,disabledTimesConfig:d,updateTime:(E,w=!0,A=!1)=>{l(E,w,A,_)},validateTime:h}},Xre=Ht({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...qs},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=ad(),o=To(i,"timePicker"),s=Ee(null),{time:l,modelValue:c,disabledTimesConfig:u,updateTime:f,validateTime:d}=Yre(a,r);return On(()=>{a.shadow||r("mount",null)}),t({getSidebarProps:()=>({modelValue:c,time:l,updateTime:f}),toggleTimePicker:(h,p=!1,v="")=>{var g;(g=s.value)==null||g.toggleTimePicker(h,p,v)}}),(h,p)=>(Z(),St(Qx,{"multi-calendars":0,stretch:"","is-mobile":h.isMobile},{default:it(()=>[ot(QL,Yr({ref_key:"tpRef",ref:s},h.$props,{hours:Q(l).hours,minutes:Q(l).minutes,seconds:Q(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":Q(u),"validate-time":Q(d),"onUpdate:hours":p[0]||(p[0]=v=>Q(f)(v)),"onUpdate:minutes":p[1]||(p[1]=v=>Q(f)(v,!1)),"onUpdate:seconds":p[2]||(p[2]=v=>Q(f)(v,!1,!0)),onAmPmChange:p[3]||(p[3]=v=>h.$emit("am-pm-change",v)),onResetFlow:p[4]||(p[4]=v=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=v=>h.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:p[6]||(p[6]=v=>h.$emit("overlay-toggle",{open:!0,overlay:v}))}),Mi({_:2},[_t(Q(o),(v,g)=>({name:v,fn:it(m=>[et(h.$slots,v,Ha(qi(m)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),qre={class:"dp--header-wrap"},Kre={key:0,class:"dp__month_year_wrap"},Zre={key:0},Qre={class:"dp__month_year_wrap"},Jre=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],eae=Ht({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...qs},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const r=n,a=e,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:s,defaultedFilters:l,defaultedConfig:c,defaultedHighlight:u,propDates:f,defaultedUI:d}=Tr(a),{transitionName:h,showTransition:p}=dv(i),{buildMatrix:v}=Mu(),{handleMonthYearChange:g,isDisabled:m,updateMonthYear:y}=bre(a,r),{showLeftIcon:x,showRightIcon:b}=e2(),_=Ee(!1),E=Ee(!1),w=Ee(!1),A=Ee([null,null,null,null]);On(()=>{r("mount")});const S=F=>({get:()=>a[F],set:D=>{const R=F===xs.month?xs.year:xs.month;r("update-month-year",{[F]:D,[R]:a[R]}),F===xs.month?L(!0):z(!0)}}),O=je(S(xs.month)),k=je(S(xs.year)),T=je(()=>F=>({month:a.month,year:a.year,items:F===xs.month?a.months:a.years,instance:a.instance,updateMonthYear:y,toggle:F===xs.month?L:z})),C=je(()=>a.months.find(D=>D.value===a.month)||{text:"",value:0}),M=je(()=>T0(a.months,F=>{const D=a.month===F.value,R=d1(F.value,$L(a.year,f.value.minDate),jL(a.year,f.value.maxDate))||l.value.months.includes(F.value),V=WL(u.value,F.value,a.year);return{active:D,disabled:R,highlighted:V}})),P=je(()=>T0(a.years,F=>{const D=a.year===F.value,R=d1(F.value,C0(f.value.minDate),C0(f.value.maxDate))||l.value.years.includes(F.value),V=p3(u.value,F.value);return{active:D,disabled:R,highlighted:V}})),I=(F,D,R)=>{R!==void 0?F.value=R:F.value=!F.value,F.value?(w.value=!0,r("overlay-opened",D)):(w.value=!1,r("overlay-closed",D))},L=(F=!1,D)=>{N(F),I(_,bi.month,D)},z=(F=!1,D)=>{N(F),I(E,bi.year,D)},N=F=>{F||r("reset-flow")},G=(F,D)=>{a.arrowNavigation&&(A.value[D]=pa(F),v(A.value,"monthYear"))},Y=je(()=>{var F,D,R,V,H,j;return[{type:xs.month,index:1,toggle:L,modelValue:O.value,updateModelValue:K=>O.value=K,text:C.value.text,showSelectionGrid:_.value,items:M.value,ariaLabel:(F=o.value)==null?void 0:F.openMonthsOverlay,overlayLabel:((R=(D=o.value).monthPicker)==null?void 0:R.call(D,!0))??void 0},{type:xs.year,index:2,toggle:z,modelValue:k.value,updateModelValue:K=>k.value=K,text:d3(a.year,a.locale),showSelectionGrid:E.value,items:P.value,ariaLabel:(V=o.value)==null?void 0:V.openYearsOverlay,overlayLabel:((j=(H=o.value).yearPicker)==null?void 0:j.call(H,!0))??void 0}]}),B=je(()=>a.disableYearSelect?[Y.value[0]]:a.yearFirst?[...Y.value].reverse():Y.value);return t({toggleMonthPicker:L,toggleYearPicker:z,handleMonthYearChange:g}),(F,D)=>{var R,V,H,j,K,re;return Z(),ne("div",qre,[F.$slots["month-year"]?(Z(),ne("div",Kre,[et(F.$slots,"month-year",Ha(qi({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Q(y),handleMonthYearChange:Q(g),instance:e.instance,isDisabled:Q(m)})))])):(Z(),ne(Ge,{key:1},[F.$slots["top-extra"]?(Z(),ne("div",Zre,[et(F.$slots,"top-extra",{value:F.internalModelValue})])):ye("",!0),W("div",Qre,[Q(x)(Q(s),e.instance)&&!F.vertical?(Z(),St(Lp,{key:0,"aria-label":(R=Q(o))==null?void 0:R.prevMonth,disabled:Q(m)(!1),class:Ve((V=Q(d))==null?void 0:V.navBtnPrev),"el-name":"action-prev",onActivate:D[0]||(D[0]=ae=>Q(g)(!1,!0)),onSetRef:D[1]||(D[1]=ae=>G(ae,0))},{default:it(()=>[F.$slots["arrow-left"]?et(F.$slots,"arrow-left",{key:0}):ye("",!0),F.$slots["arrow-left"]?ye("",!0):(Z(),St(Q(a3),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),W("div",{class:Ve(["dp__month_year_wrap",{dp__year_disable_select:F.disableYearSelect}])},[(Z(!0),ne(Ge,null,_t(B.value,(ae,U)=>(Z(),ne(Ge,{key:ae.type},[W("button",{ref_for:!0,ref:q=>G(q,U+1),type:"button","data-dp-element":`overlay-${ae.type}`,class:Ve(["dp__btn dp__month_year_select",{"dp--hidden-el":w.value}]),"aria-label":`${ae.text}-${ae.ariaLabel}`,"data-test-id":`${ae.type}-toggle-overlay-${e.instance}`,onClick:ae.toggle,onKeydown:q=>Q(Ki)(q,()=>ae.toggle(),!0)},[F.$slots[ae.type]?et(F.$slots,ae.type,{key:0,text:ae.text,value:a[ae.type]}):ye("",!0),F.$slots[ae.type]?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(ae.text),1)],64))],42,Jre),ot(ah,{name:Q(h)(ae.showSelectionGrid),css:Q(p)},{default:it(()=>[ae.showSelectionGrid?(Z(),St(fv,{key:0,items:ae.items,"arrow-navigation":F.arrowNavigation,"hide-navigation":F.hideNavigation,"is-last":F.autoApply&&!Q(c).keepActionRow,"skip-button-ref":!1,config:F.config,type:ae.type,"header-refs":[],"esc-close":F.escClose,"menu-wrap-ref":F.menuWrapRef,"text-input":F.textInput,"aria-labels":F.ariaLabels,"overlay-label":ae.overlayLabel,onSelected:ae.updateModelValue,onToggle:ae.toggle},Mi({"button-icon":it(()=>[F.$slots["calendar-icon"]?et(F.$slots,"calendar-icon",{key:0}):ye("",!0),F.$slots["calendar-icon"]?ye("",!0):(Z(),St(Q(lh),{key:1}))]),_:2},[F.$slots[`${ae.type}-overlay-value`]?{name:"item",fn:it(({item:q})=>[et(F.$slots,`${ae.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,F.$slots[`${ae.type}-overlay`]?{name:"overlay",fn:it(()=>[et(F.$slots,`${ae.type}-overlay`,Yr({ref_for:!0},T.value(ae.type)))]),key:"1"}:void 0,F.$slots[`${ae.type}-overlay-header`]?{name:"header",fn:it(()=>[et(F.$slots,`${ae.type}-overlay-header`,{toggle:ae.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Q(x)(Q(s),e.instance)&&F.vertical?(Z(),St(Lp,{key:1,"aria-label":(H=Q(o))==null?void 0:H.prevMonth,"el-name":"action-prev",disabled:Q(m)(!1),class:Ve((j=Q(d))==null?void 0:j.navBtnPrev),onActivate:D[2]||(D[2]=ae=>Q(g)(!1,!0))},{default:it(()=>[F.$slots["arrow-up"]?et(F.$slots,"arrow-up",{key:0}):ye("",!0),F.$slots["arrow-up"]?ye("",!0):(Z(),St(Q(s3),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ye("",!0),Q(b)(Q(s),e.instance)?(Z(),St(Lp,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Q(m)(!0),"aria-label":(K=Q(o))==null?void 0:K.nextMonth,class:Ve((re=Q(d))==null?void 0:re.navBtnNext),onActivate:D[3]||(D[3]=ae=>Q(g)(!0,!0)),onSetRef:D[4]||(D[4]=ae=>G(ae,F.disableYearSelect?2:3))},{default:it(()=>[F.$slots[F.vertical?"arrow-down":"arrow-right"]?et(F.$slots,F.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),F.$slots[F.vertical?"arrow-down":"arrow-right"]?ye("",!0):(Z(),St(av(F.vertical?Q(l3):Q(i3)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):ye("",!0)])],64))])}}}),tae={class:"dp__calendar_header",role:"row"},nae={key:0,class:"dp__calendar_header_item",role:"gridcell"},rae=["aria-label"],aae={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},iae={class:"dp__cell_inner"},oae=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],sae=Ht({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...qs},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=n,a=e,{buildMultiLevelMatrix:i}=Mu(),{defaultedTransitions:o,defaultedConfig:s,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedWeekNumbers:u,defaultedMultiDates:f,defaultedUI:d}=Tr(a),h=Ee(null),p=Ee({bottom:"",left:"",transform:""}),v=Ee([]),g=Ee(null),m=Ee(!0),y=Ee(""),x=Ee({startX:0,endX:0,startY:0,endY:0}),b=Ee([]),_=Ee({left:"50%"}),E=Ee(!1),w=je(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),A=je(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):jne(a.formatLocale,a.locale,+a.weekStart));On(()=>{r("mount",{cmp:"calendar",refs:v}),s.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",G,{passive:!1}),g.value.addEventListener("touchend",Y,{passive:!1}),g.value.addEventListener("touchmove",B,{passive:!1})),a.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",R,{passive:!1})}),Cu(()=>{s.value.noSwipe||g.value&&(g.value.removeEventListener("touchstart",G),g.value.removeEventListener("touchend",Y),g.value.removeEventListener("touchmove",B)),a.monthChangeOnScroll&&g.value&&g.value.removeEventListener("wheel",R)});const S=ae=>ae?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",O=(ae,U)=>{if(a.transitions){const q=Ma(uc(He(),a.month,a.year));y.value=ta(Ma(uc(He(),ae,U)),q)?o.value[S(!0)]:o.value[S(!1)],m.value=!1,An(()=>{m.value=!0})}},k=je(()=>({...d.value.calendar??{}})),T=je(()=>ae=>{const U=Une(ae);return{dp__marker_dot:U.type==="dot",dp__marker_line:U.type==="line"}}),C=je(()=>ae=>un(ae,h.value)),M=je(()=>({dp__calendar:!0,dp__calendar_next:c.value.count>0&&a.instance!==0})),P=je(()=>ae=>a.hideOffsetDates?ae.current:!0),I=async(ae,U)=>{const{width:q,height:J}=ae.getBoundingClientRect();h.value=U.value;let X={left:`${q/2}px`},ce=-50;if(await An(),b.value[0]){const{left:te,width:he}=b.value[0].getBoundingClientRect();te<0&&(X={left:"0"},ce=0,_.value.left=`${q/2}px`),window.innerWidth<te+he&&(X={right:"0"},ce=0,_.value.left=`${he-q/2}px`)}p.value={bottom:`${J}px`,...X,transform:`translateX(${ce}%)`}},L=async(ae,U,q)=>{var X,ce,te;const J=pa(v.value[U][q]);J&&((X=ae.marker)!=null&&X.customPosition&&((te=(ce=ae.marker)==null?void 0:ce.tooltip)!=null&&te.length)?p.value=ae.marker.customPosition(J):await I(J,ae),r("tooltip-open",ae.marker))},z=async(ae,U,q)=>{var J,X;if(E.value&&f.value.enabled&&f.value.dragSelect)return r("select-date",ae);if(r("set-hover-date",ae),(X=(J=ae.marker)==null?void 0:J.tooltip)==null?void 0:X.length){if(a.hideOffsetDates&&!ae.current)return;await L(ae,U,q)}},N=ae=>{h.value&&(h.value=null,p.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ae.marker))},G=ae=>{x.value.startX=ae.changedTouches[0].screenX,x.value.startY=ae.changedTouches[0].screenY},Y=ae=>{x.value.endX=ae.changedTouches[0].screenX,x.value.endY=ae.changedTouches[0].screenY,F()},B=ae=>{a.vertical&&!a.inline&&ae.preventDefault()},F=()=>{const ae=a.vertical?"Y":"X";Math.abs(x.value[`start${ae}`]-x.value[`end${ae}`])>10&&r("handle-swipe",x.value[`start${ae}`]>x.value[`end${ae}`]?"right":"left")},D=(ae,U,q)=>{ae&&(Array.isArray(v.value[U])?v.value[U][q]=ae:v.value[U]=[ae]),a.arrowNavigation&&i(v.value,"calendar")},R=ae=>{a.monthChangeOnScroll&&(ae.preventDefault(),r("handle-scroll",ae))},V=ae=>u.value.type==="local"?t3(ae.value,{weekStartsOn:+a.weekStart}):u.value.type==="iso"?JS(ae.value):typeof u.value.type=="function"?u.value.type(ae.value):"",H=ae=>{const U=ae[0];return u.value.hideOnOffsetDates?ae.some(q=>q.current)?V(U):"":V(U)},j=(ae,U,q=!0)=>{!q&&Yne()||(!f.value.enabled||s.value.allowPreventDefault)&&(lu(ae,s.value),r("select-date",U))},K=ae=>{lu(ae,s.value)},re=ae=>{f.value.enabled&&f.value.dragSelect?(E.value=!0,r("select-date",ae)):f.value.enabled&&r("select-date",ae)};return t({triggerTransition:O}),(ae,U)=>(Z(),ne("div",{class:Ve(M.value)},[W("div",{ref_key:"calendarWrapRef",ref:g,class:Ve(k.value),role:"grid"},[W("div",tae,[ae.weekNumbers?(Z(),ne("div",nae,ge(ae.weekNumName),1)):ye("",!0),(Z(!0),ne(Ge,null,_t(A.value,(q,J)=>{var X,ce;return Z(),ne("div",{key:J,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(ce=(X=Q(l))==null?void 0:X.weekDay)==null?void 0:ce.call(X,J)},[ae.$slots["calendar-header"]?et(ae.$slots,"calendar-header",{key:0,day:q,index:J}):ye("",!0),ae.$slots["calendar-header"]?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(q),1)],64))],8,rae)}),128))]),U[2]||(U[2]=W("div",{class:"dp__calendar_header_separator"},null,-1)),ot(ah,{name:y.value,css:!!ae.transitions},{default:it(()=>[m.value?(Z(),ne("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:U[1]||(U[1]=q=>E.value=!1)},[(Z(!0),ne(Ge,null,_t(w.value,(q,J)=>(Z(),ne("div",{key:J,class:"dp__calendar_row",role:"row"},[ae.weekNumbers?(Z(),ne("div",aae,[W("div",iae,ge(H(q.days)),1)])):ye("",!0),(Z(!0),ne(Ge,null,_t(q.days,(X,ce)=>{var te,he,me;return Z(),ne("div",{id:Q(pE)(X.value),ref_for:!0,ref:xe=>D(xe,J,ce),key:ce+J,role:"gridcell",class:"dp__calendar_item","aria-selected":(X.classData.dp__active_date||X.classData.dp__range_start||X.classData.dp__range_end)??void 0,"aria-disabled":X.classData.dp__cell_disabled||void 0,"aria-label":(he=(te=Q(l))==null?void 0:te.day)==null?void 0:he.call(te,X),tabindex:!X.current&&ae.hideOffsetDates?void 0:0,"data-test-id":Q(pE)(X.value),onClick:Ca(xe=>j(xe,X),["prevent"]),onTouchend:xe=>j(xe,X,!1),onKeydown:xe=>Q(Ki)(xe,()=>ae.$emit("select-date",X)),onMouseenter:xe=>z(X,J,ce),onMouseleave:xe=>N(X),onMousedown:xe=>re(X),onMouseup:U[0]||(U[0]=xe=>E.value=!1)},[W("div",{class:Ve(["dp__cell_inner",X.classData])},[ae.$slots.day&&P.value(X)?et(ae.$slots,"day",{key:0,day:+X.text,date:X.value}):ye("",!0),ae.$slots.day?ye("",!0):(Z(),ne(Ge,{key:1},[Pt(ge(X.text),1)],64)),X.marker&&P.value(X)?(Z(),ne(Ge,{key:2},[ae.$slots.marker?et(ae.$slots,"marker",{key:0,marker:X.marker,day:+X.text,date:X.value}):(Z(),ne("div",{key:1,class:Ve(T.value(X.marker)),style:Ue(X.marker.color?{backgroundColor:X.marker.color}:{})},null,6))],64)):ye("",!0),C.value(X.value)?(Z(),ne("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:Ue(p.value)},[(me=X.marker)!=null&&me.tooltip?(Z(),ne("div",{key:0,class:"dp__tooltip_content",onClick:K},[(Z(!0),ne(Ge,null,_t(X.marker.tooltip,(xe,be)=>(Z(),ne("div",{key:be,class:"dp__tooltip_text"},[ae.$slots["marker-tooltip"]?et(ae.$slots,"marker-tooltip",{key:0,tooltip:xe,day:X.value}):ye("",!0),ae.$slots["marker-tooltip"]?ye("",!0):(Z(),ne(Ge,{key:1},[W("div",{class:"dp__tooltip_mark",style:Ue(xe.color?{backgroundColor:xe.color}:{})},null,4),W("div",null,ge(xe.text),1)],64))]))),128)),W("div",{class:"dp__arrow_bottom_tp",style:Ue(_.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,oae)}),128))]))),128))],32)):ye("",!0)]),_:3},8,["name","css"])],2)],2))}}),B4=e=>Array.isArray(e),lae=(e,t,n,r)=>{const a=Ee([]),i=Ee(new Date),o=Ee(),s=()=>Y(e.isTextInputDate),{modelValue:l,calendars:c,time:u,today:f}=hv(e,t,s),{defaultedMultiCalendars:d,defaultedStartTime:h,defaultedRange:p,defaultedConfig:v,defaultedTz:g,propDates:m,defaultedMultiDates:y}=Tr(e),{validateMonthYearInRange:x,isDisabled:b,isDateRangeAllowed:_,checkMinMaxRange:E}=Pu(e),{updateTimeValues:w,getSetDateTime:A,setTime:S,assignStartTime:O,validateTime:k,disabledTimesConfig:T}=JL(e,u,l,r),C=je(()=>we=>c.value[we]?c.value[we].month:0),M=je(()=>we=>c.value[we]?c.value[we].year:0),P=we=>!v.value.keepViewOnOffsetClick||we?!0:!o.value,I=(we,Ke,yt,Kt=!1)=>{var $e,nt;P(Kt)&&(c.value[we]||(c.value[we]={month:0,year:0}),c.value[we].month=I4(Ke)?($e=c.value[we])==null?void 0:$e.month:Ke,c.value[we].year=I4(yt)?(nt=c.value[we])==null?void 0:nt.year:yt)},L=()=>{e.autoApply&&t("select-date")},z=()=>{h.value&&O(h.value)};On(()=>{e.shadow||(l.value||(U(),z()),Y(!0),e.focusStartDate&&e.startDate&&U())});const N=je(()=>{var we;return(we=e.flow)!=null&&we.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),G=()=>{e.autoApply&&N.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},Y=(we=!1)=>{if(l.value)return Array.isArray(l.value)?(a.value=l.value,j(we)):D(l.value,we);if(d.value.count&&we&&!e.startDate)return F(He(),we)},B=()=>Array.isArray(l.value)&&p.value.enabled?cn(l.value[0])===cn(l.value[1]??l.value[0]):!1,F=(we=new Date,Ke=!1)=>{if((!d.value.count||!d.value.static||Ke)&&I(0,cn(we),Rt(we)),d.value.count&&(!l.value||B()||!d.value.solo)&&(!d.value.solo||Ke))for(let yt=1;yt<d.value.count;yt++){const Kt=Jn(He(),{month:C.value(yt-1),year:M.value(yt-1)}),$e=dL(Kt,{months:1});c.value[yt]={month:cn($e),year:Rt($e)}}},D=(we,Ke)=>{F(we),S("hours",Ac(we)),S("minutes",xu(we)),S("seconds",S0(we)),d.value.count&&Ke&&ae()},R=we=>{if(d.value.count){if(d.value.solo)return 0;const Ke=cn(we[0]),yt=cn(we[1]);return Math.abs(yt-Ke)<d.value.count?0:1}return 1},V=(we,Ke)=>{we[1]&&p.value.showLastInRange?F(we[R(we)],Ke):F(we[0],Ke);const yt=(Kt,$e)=>[Kt(we[0]),we[1]?Kt(we[1]):u[$e][1]];S("hours",yt(Ac,"hours")),S("minutes",yt(xu,"minutes")),S("seconds",yt(S0,"seconds"))},H=(we,Ke)=>{if((p.value.enabled||e.weekPicker)&&!y.value.enabled)return V(we,Ke);if(y.value.enabled&&Ke){const yt=we[we.length-1];return D(yt,Ke)}},j=we=>{const Ke=l.value;H(Ke,we),d.value.count&&d.value.solo&&ae()},K=(we,Ke)=>{const yt=Jn(He(),{month:C.value(Ke),year:M.value(Ke)}),Kt=we<0?Fs(yt,1):k0(yt,1);x(cn(Kt),Rt(Kt),we<0,e.preventMinMaxNavigation)&&(I(Ke,cn(Kt),Rt(Kt)),t("update-month-year",{instance:Ke,month:cn(Kt),year:Rt(Kt)}),d.value.count&&!d.value.solo&&re(Ke),n())},re=we=>{for(let Ke=we-1;Ke>=0;Ke--){const yt=k0(Jn(He(),{month:C.value(Ke+1),year:M.value(Ke+1)}),1);I(Ke,cn(yt),Rt(yt))}for(let Ke=we+1;Ke<=d.value.count-1;Ke++){const yt=Fs(Jn(He(),{month:C.value(Ke-1),year:M.value(Ke-1)}),1);I(Ke,cn(yt),Rt(yt))}},ae=()=>{if(Array.isArray(l.value)&&l.value.length===2){const we=He(He(l.value[1]?l.value[1]:Fs(l.value[0],1))),[Ke,yt]=[cn(l.value[0]),Rt(l.value[0])],[Kt,$e]=[cn(l.value[1]),Rt(l.value[1])];(Ke!==Kt||Ke===Kt&&yt!==$e)&&d.value.solo&&I(1,cn(we),Rt(we))}else l.value&&!Array.isArray(l.value)&&(I(0,cn(l.value),Rt(l.value)),F(He()))},U=()=>{e.startDate&&(I(0,cn(He(e.startDate)),Rt(He(e.startDate))),d.value.count&&re(0))},q=(we,Ke)=>{if(e.monthChangeOnScroll){const yt=new Date().getTime()-i.value.getTime(),Kt=Math.abs(we.deltaY);let $e=500;Kt>1&&($e=100),Kt>100&&($e=0),yt>$e&&(i.value=new Date,K(e.monthChangeOnScroll!=="inverse"?-we.deltaY:we.deltaY,Ke))}},J=(we,Ke,yt=!1)=>{e.monthChangeOnArrows&&e.vertical===yt&&X(we,Ke)},X=(we,Ke)=>{K(we==="right"?-1:1,Ke)},ce=we=>{if(m.value.markers)return ay(we.value,m.value.markers)},te=(we,Ke)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[we==0,!0];case"fair":return[we==0||Ke>we,!0];case"append":return[!1,!1];default:return[!1,!1]}},he=(we,Ke,yt,Kt)=>{if(e.sixWeeks&&we.length<6){const $e=6-we.length,nt=(Ke.getDay()+7-Kt)%7,gt=6-(yt.getDay()+7-Kt)%7,[ps,Io]=te(nt,gt);for(let Vl=1;Vl<=$e;Vl++)if(Io?!!(Vl%2)==ps:ps){const Js=we[0].days[0],Ah=me(Yo(Js.value,-7),cn(Ke));we.unshift({days:Ah})}else{const Js=we[we.length-1],Ah=Js.days[Js.days.length-1],hb=me(Yo(Ah.value,1),cn(Ke));we.push({days:hb})}}return we},me=(we,Ke)=>{const yt=He(we),Kt=[];for(let $e=0;$e<7;$e++){const nt=Yo(yt,$e),gt=cn(nt)!==Ke;Kt.push({text:e.hideOffsetDates&&gt?"":nt.getDate(),value:nt,current:!gt,classData:{}})}return Kt},xe=(we,Ke)=>{const yt=[],Kt=new Date(Ke,we),$e=new Date(Ke,we+1,0),nt=e.weekStart,gt=Hs(Kt,{weekStartsOn:nt}),ps=Io=>{const Vl=me(Io,we);if(yt.push({days:Vl}),!yt[yt.length-1].days.some(Js=>un(Ma(Js.value),Ma($e)))){const Js=Yo(Io,7);ps(Js)}};return ps(gt),he(yt,Kt,$e,nt)},be=we=>{const Ke=cu(He(we.value),u.hours,u.minutes,Pe());t("date-update",Ke),y.value.enabled?v3(Ke,l,y.value.limit):l.value=Ke,r(),An().then(()=>{G()})},De=we=>p.value.noDisabledRange?zL(a.value[0],we).some(Ke=>b(Ke)):!1,ue=()=>{a.value=l.value?l.value.slice():[],a.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(a.value=[])},ve=(we,Ke)=>{const yt=[He(we.value),Yo(He(we.value),+p.value.autoRange)];_(yt)?(Ke&&ze(we.value),a.value=yt):t("invalid-date",we.value)},ze=we=>{const Ke=cn(He(we)),yt=Rt(He(we));if(I(0,Ke,yt),d.value.count>0)for(let Kt=1;Kt<d.value.count;Kt++){const $e=Kne(Jn(He(we),{year:M.value(Kt-1),month:C.value(Kt-1)}));I(Kt,$e.month,$e.year)}},We=we=>{if(De(we.value)||!E(we.value,l.value,p.value.fixedStart?0:1))return t("invalid-date",we.value);a.value=KL(He(we.value),l,t,p)},lt=(we,Ke)=>{if(ue(),p.value.autoRange)return ve(we,Ke);if(p.value.fixedStart||p.value.fixedEnd)return We(we);a.value[0]?E(He(we.value),l.value)&&!De(we.value)?Vr(He(we.value),He(a.value[0]))?(a.value.unshift(He(we.value)),t("range-end",a.value[0])):(a.value[1]=He(we.value),t("range-end",a.value[1])):(e.autoApply&&t("auto-apply-invalid",we.value),t("invalid-date",we.value)):(a.value[0]=He(we.value),t("range-start",a.value[0]))},Pe=(we=!0)=>e.enableSeconds?Array.isArray(u.seconds)?we?u.seconds[0]:u.seconds[1]:u.seconds:0,ct=we=>{a.value[we]=cu(a.value[we],u.hours[we],u.minutes[we],Pe(we!==1))},Ye=()=>{var we,Ke;a.value[0]&&a.value[1]&&+((we=a.value)==null?void 0:we[0])>+((Ke=a.value)==null?void 0:Ke[1])&&(a.value.reverse(),t("range-start",a.value[0]),t("range-end",a.value[1]))},mt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?ct(0):(ct(0),ct(1),r()),Ye(),l.value=a.value.slice(),Jx(a.value,t,e.autoApply,e.modelAuto))},Ct=(we,Ke=!1)=>{if(b(we.value)||!we.current&&e.hideOffsetDates)return t("invalid-date",we.value);if(o.value=JSON.parse(JSON.stringify(we)),!p.value.enabled)return be(we);B4(u.hours)&&B4(u.minutes)&&!y.value.enabled&&(lt(we,Ke),mt())},nn=(we,Ke)=>{var Kt;I(we,Ke.month,Ke.year,!0),d.value.count&&!d.value.solo&&re(we),t("update-month-year",{instance:we,month:Ke.month,year:Ke.year}),n(d.value.solo?we:void 0);const yt=(Kt=e.flow)!=null&&Kt.length?e.flow[e.flowStep]:void 0;!Ke.fromNav&&(yt===bi.month||yt===bi.year)&&r()},Cr=(we,Ke)=>{qL({value:we,modelValue:l,range:p.value.enabled,timezone:Ke?void 0:g.value.timezone}),L(),e.multiCalendars&&An().then(()=>Y(!0))},lr=()=>{const we=c3(He(),g.value);!p.value.enabled&&!y.value.enabled?l.value=we:l.value&&Array.isArray(l.value)&&l.value[0]?y.value.enabled?l.value=[...l.value,we]:l.value=Vr(we,l.value[0])?[we,l.value[0]]:[l.value[0],we]:l.value=[we],L()},ya=()=>{if(Array.isArray(l.value))if(y.value.enabled){const we=Qs();l.value[l.value.length-1]=A(we)}else l.value=l.value.map((we,Ke)=>we&&A(we,Ke));else l.value=A(l.value);t("time-update")},Qs=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:c,modelValue:l,month:C,year:M,time:u,disabledTimesConfig:T,today:f,validateTime:k,getCalendarDays:xe,getMarker:ce,handleScroll:q,handleSwipe:X,handleArrow:J,selectDate:Ct,updateMonthYear:nn,presetDate:Cr,selectCurrentDate:lr,updateTime:(we,Ke=!0,yt=!1)=>{w(we,Ke,yt,ya)},assignMonthAndYear:F,setStartTime:z}},cae={key:0},uae=Ht({__name:"DatePicker",props:{...qs},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const r=n,a=e,{calendars:i,month:o,year:s,modelValue:l,time:c,disabledTimesConfig:u,today:f,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:v,handleScroll:g,handleSwipe:m,selectDate:y,updateMonthYear:x,presetDate:b,selectCurrentDate:_,updateTime:E,assignMonthAndYear:w,setStartTime:A}=lae(a,r,B,F),S=ad(),{setHoverDate:O,getDayClassData:k,clearHoverDate:T}=kae(l,a),{defaultedMultiCalendars:C}=Tr(a),M=Ee([]),P=Ee([]),I=Ee(null),L=To(S,"calendar"),z=To(S,"monthYear"),N=To(S,"timePicker"),G=q=>{a.shadow||r("mount",q)};Ut(i,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),Ut(C,(q,J)=>{q.count-J.count>0&&w()},{deep:!0});const Y=je(()=>q=>h(o.value(q),s.value(q)).map(J=>({...J,days:J.days.map(X=>(X.marker=p(X),X.classData=k(X),X))})));function B(q){var J;q||q===0?(J=P.value[q])==null||J.triggerTransition(o.value(q),s.value(q)):P.value.forEach((X,ce)=>X.triggerTransition(o.value(ce),s.value(ce)))}function F(){r("update-flow-step")}const D=(q,J=!1)=>{y(q,J),a.spaceConfirm&&r("select-date")},R=(q,J,X=0)=>{var ce;(ce=M.value[X])==null||ce.toggleMonthPicker(q,J)},V=(q,J,X=0)=>{var ce;(ce=M.value[X])==null||ce.toggleYearPicker(q,J)},H=(q,J,X)=>{var ce;(ce=I.value)==null||ce.toggleTimePicker(q,J,X)},j=(q,J)=>{var X;if(!a.range){const ce=l.value?l.value:f,te=J?new Date(J):ce,he=q?Hs(te,{weekStartsOn:1}):xL(te,{weekStartsOn:1});y({value:he,current:cn(te)===o.value(0),text:"",classData:{}}),(X=document.getElementById(pE(he)))==null||X.focus()}},K=q=>{var J;(J=M.value[0])==null||J.handleMonthYearChange(q,!0)},re=q=>{x(0,{month:o.value(0),year:s.value(0)+(q?1:-1),fromNav:!0})},ae=(q,J)=>{q===bi.time&&r(`time-picker-${J?"open":"close"}`),r("overlay-toggle",{open:J,overlay:q})},U=q=>{r("overlay-toggle",{open:!1,overlay:q}),r("focus-menu")};return t({clearHoverDate:T,presetDate:b,selectCurrentDate:_,toggleMonthPicker:R,toggleYearPicker:V,toggleTimePicker:H,handleArrow:v,updateMonthYear:x,getSidebarProps:()=>({modelValue:l,month:o,year:s,time:c,updateTime:E,updateMonthYear:x,selectDate:y,presetDate:b}),changeMonth:K,changeYear:re,selectWeekDate:j,setStartTime:A}),(q,J)=>(Z(),ne(Ge,null,[ot(Qx,{"multi-calendars":Q(C).count,collapse:q.collapse,"is-mobile":q.isMobile},{default:it(({instance:X,index:ce})=>[q.disableMonthYearSelect?ye("",!0):(Z(),St(eae,Yr({key:0,ref:te=>{te&&(M.value[ce]=te)},months:Q(DL)(q.formatLocale,q.locale,q.monthNameFormat),years:Q(u3)(q.yearRange,q.locale,q.reverseYears),month:Q(o)(X),year:Q(s)(X),instance:X},q.$props,{onMount:J[0]||(J[0]=te=>G(Q(Mf).header)),onResetFlow:J[1]||(J[1]=te=>q.$emit("reset-flow")),onUpdateMonthYear:te=>Q(x)(X,te),onOverlayClosed:U,onOverlayOpened:J[2]||(J[2]=te=>q.$emit("overlay-toggle",{open:!0,overlay:te}))}),Mi({_:2},[_t(Q(z),(te,he)=>({name:te,fn:it(me=>[et(q.$slots,te,Ha(qi(me)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ot(sae,Yr({ref:te=>{te&&(P.value[ce]=te)},"mapped-dates":Y.value(X),month:Q(o)(X),year:Q(s)(X),instance:X},q.$props,{onSelectDate:te=>Q(y)(te,X!==1),onHandleSpace:te=>D(te,X!==1),onSetHoverDate:J[3]||(J[3]=te=>Q(O)(te)),onHandleScroll:te=>Q(g)(te,X),onHandleSwipe:te=>Q(m)(te,X),onMount:J[4]||(J[4]=te=>G(Q(Mf).calendar)),onResetFlow:J[5]||(J[5]=te=>q.$emit("reset-flow")),onTooltipOpen:J[6]||(J[6]=te=>q.$emit("tooltip-open",te)),onTooltipClose:J[7]||(J[7]=te=>q.$emit("tooltip-close",te))}),Mi({_:2},[_t(Q(L),(te,he)=>({name:te,fn:it(me=>[et(q.$slots,te,Ha(qi({...me})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),q.enableTimePicker?(Z(),ne("div",cae,[q.$slots["time-picker"]?et(q.$slots,"time-picker",Ha(Yr({key:0},{time:Q(c),updateTime:Q(E)}))):(Z(),St(QL,Yr({key:1,ref_key:"timePickerRef",ref:I},q.$props,{hours:Q(c).hours,minutes:Q(c).minutes,seconds:Q(c).seconds,"internal-model-value":q.internalModelValue,"disabled-times-config":Q(u),"validate-time":Q(d),onMount:J[8]||(J[8]=X=>G(Q(Mf).timePicker)),"onUpdate:hours":J[9]||(J[9]=X=>Q(E)(X)),"onUpdate:minutes":J[10]||(J[10]=X=>Q(E)(X,!1)),"onUpdate:seconds":J[11]||(J[11]=X=>Q(E)(X,!1,!0)),onResetFlow:J[12]||(J[12]=X=>q.$emit("reset-flow")),onOverlayClosed:J[13]||(J[13]=X=>ae(X,!1)),onOverlayOpened:J[14]||(J[14]=X=>ae(X,!0)),onAmPmChange:J[15]||(J[15]=X=>q.$emit("am-pm-change",X))}),Mi({_:2},[_t(Q(N),(X,ce)=>({name:X,fn:it(te=>[et(q.$slots,X,Ha(qi(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),fae=(e,t)=>{const n=Ee(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:i,defaultedRange:o,propDates:s,defaultedFilters:l,defaultedMultiDates:c}=Tr(e),{modelValue:u,year:f,month:d,calendars:h}=hv(e,t),{isDisabled:p}=Pu(e),{selectYear:v,groupedYears:g,showYearPicker:m,isDisabled:y,toggleYearPicker:x,handleYearSelect:b,handleYear:_}=ZL({modelValue:u,multiCalendars:r,range:o,highlight:i,calendars:h,propDates:s,month:d,year:f,filters:l,props:e,emit:t}),E=(P,I)=>[P,I].map(L=>Sl(L,"MMMM",{locale:e.formatLocale})).join("-"),w=je(()=>P=>u.value?Array.isArray(u.value)?u.value.some(I=>C4(P,I)):C4(u.value,P):!1),A=P=>{if(o.value.enabled){if(Array.isArray(u.value)){const I=un(P,u.value[0])||un(P,u.value[1]);return h1(u.value,n.value,P)&&!I}return!1}return!1},S=(P,I)=>P.quarter===E4(I)&&P.year===Rt(I),O=P=>typeof i.value=="function"?i.value({quarter:E4(P),year:Rt(P)}):!!i.value.quarters.find(I=>S(I,P)),k=je(()=>P=>{const I=Jn(new Date,{year:f.value(P)});return jee({start:a0(I),end:yL(I)}).map(L=>{const z=yf(L),N=A4(L),G=p(L),Y=A(z),B=O(z);return{text:E(z,N),value:z,active:w.value(z),highlighted:B,disabled:G,isBetween:Y}})}),T=P=>{v3(P,u,c.value.limit),t("auto-apply",!0)},C=P=>{u.value=g3(u,P,t),Jx(u.value,t,e.autoApply,e.modelAuto)},M=P=>{u.value=P,t("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:g,year:f,isDisabled:y,quarters:k,showYearPicker:m,modelValue:u,setHoverDate:P=>{n.value=P},selectYear:v,selectQuarter:(P,I,L)=>{if(!L)return h.value[I].month=cn(A4(P)),c.value.enabled?T(P):o.value.enabled?C(P):M(P)},toggleYearPicker:x,handleYearSelect:b,handleYear:_}},dae={class:"dp--quarter-items"},hae=["data-test-id","disabled","onClick","onMouseover"],pae=Ht({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...qs},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=ad(),o=To(i,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:l,groupedYears:c,year:u,isDisabled:f,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:v,selectQuarter:g,toggleYearPicker:m,handleYearSelect:y,handleYear:x}=fae(a,r);return t({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:g,handleYearSelect:y,handleYear:x})}),(b,_)=>(Z(),St(Qx,{"multi-calendars":Q(s).count,collapse:b.collapse,stretch:"","is-mobile":b.isMobile},{default:it(({instance:E})=>[W("div",{class:"dp-quarter-picker-wrap",style:Ue({minHeight:`${Q(l).modeHeight}px`})},[b.$slots["top-extra"]?et(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):ye("",!0),W("div",null,[ot(XL,Yr(b.$props,{items:Q(c)(E),instance:E,"show-year-picker":Q(p)[E],year:Q(u)(E),"is-disabled":w=>Q(f)(E,w),onHandleYear:w=>Q(x)(E,w),onYearSelect:w=>Q(y)(w,E),onToggleYearPicker:w=>Q(m)(E,w==null?void 0:w.flow,w==null?void 0:w.show)}),Mi({_:2},[_t(Q(o),(w,A)=>({name:w,fn:it(S=>[et(b.$slots,w,Ha(qi(S)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),W("div",dae,[(Z(!0),ne(Ge,null,_t(Q(d)(E),(w,A)=>(Z(),ne("div",{key:A},[W("button",{type:"button",class:Ve(["dp--qr-btn",{"dp--qr-btn-active":w.active,"dp--qr-btn-between":w.isBetween,"dp--qr-btn-disabled":w.disabled,"dp--highlighted":w.highlighted}]),"data-test-id":w.value,disabled:w.disabled,onClick:S=>Q(g)(w.value,E,w.disabled),onMouseover:S=>Q(v)(w.value)},[b.$slots.quarter?et(b.$slots,"quarter",{key:0,value:w.value,text:w.text}):(Z(),ne(Ge,{key:1},[Pt(ge(w.text),1)],64))],42,hae)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),e7=(e,t)=>{const n=Ee(0);On(()=>{r(),window.addEventListener("resize",r,{passive:!0})}),Cu(()=>{window.removeEventListener("resize",r)});const r=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:je(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},vae=["id","tabindex","role","aria-label"],gae={key:0,class:"dp--menu-load-container"},mae={key:1,class:"dp--menu-header"},yae=["data-dp-mobile"],xae={key:0,class:"dp__sidebar_left"},bae=["data-dp-mobile"],wae=["data-test-id","data-dp-mobile","onClick","onKeydown"],_ae={key:2,class:"dp__sidebar_right"},Eae={key:3,class:"dp__action_extra"},$4=Ht({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Zx,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=Ee(null),o=je(()=>{const{openOnTop:ue,...ve}=a;return{...ve,isMobile:g.value,flowStep:C.value,menuWrapRef:i.value}}),{setMenuFocused:s,setShiftKey:l,control:c}=YL(),u=ad(),{defaultedTextInput:f,defaultedInline:d,defaultedConfig:h,defaultedUI:p,handleEventPropagation:v}=Tr(a),{isMobile:g}=e7(h,a.shadow),m=Ee(null),y=Ee(0),x=Ee(null),b=Ee(!1),_=Ee(null),E=Ee(!1),w=ue=>{E.value=!0,h.value.allowPreventDefault&&ue.preventDefault(),lu(ue,h.value,!0)};On(()=>{if(!a.shadow){b.value=!0,A(),window.addEventListener("resize",A);const ue=pa(i);ue&&!f.value.enabled&&!d.value.enabled&&(s(!0),G()),ue&&(ue.addEventListener("pointerdown",w),ue.addEventListener("mousedown",w))}document.addEventListener("mousedown",De)}),Cu(()=>{window.removeEventListener("resize",A),document.removeEventListener("mousedown",De);const ue=pa(i);ue&&(ue.removeEventListener("pointerdown",w),ue.removeEventListener("mousedown",w))});const A=()=>{const ue=pa(x);ue&&(y.value=ue.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:O,arrowDown:k,arrowUp:T}=Mu(),{flowStep:C,updateFlowStep:M,childMount:P,resetFlow:I,handleFlow:L}=Tae(a,r,_),z=je(()=>a.monthPicker?Ire:a.yearPicker?Dre:a.timePicker?Xre:a.quarterPicker?pae:uae),N=je(()=>{var ze;if(h.value.arrowLeft)return h.value.arrowLeft;const ue=(ze=i.value)==null?void 0:ze.getBoundingClientRect(),ve=a.getInputRect();return(ve==null?void 0:ve.width)<(y==null?void 0:y.value)&&(ve==null?void 0:ve.left)<=((ue==null?void 0:ue.left)??0)?`${(ve==null?void 0:ve.width)/2}px`:(ve==null?void 0:ve.right)>=((ue==null?void 0:ue.right)??0)&&(ve==null?void 0:ve.width)<(y==null?void 0:y.value)?`${(y==null?void 0:y.value)-(ve==null?void 0:ve.width)/2}px`:"50%"}),G=()=>{const ue=pa(i);ue&&ue.focus({preventScroll:!0})},Y=je(()=>{var ue;return((ue=_.value)==null?void 0:ue.getSidebarProps())||{}}),B=()=>{a.openOnTop&&r("recalculate-position")},F=To(u,"action"),D=je(()=>a.monthPicker||a.yearPicker?To(u,"monthYear"):a.timePicker?To(u,"timePicker"):To(u,"shared")),R=je(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),V=je(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),H=je(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,...p.value.menu??{}})),j=ue=>{lu(ue,h.value,!0)},K=ue=>{a.escClose&&(r("close-picker"),v(ue))},re=ue=>{if(a.arrowNavigation){if(ue===zi.up)return T();if(ue===zi.down)return k();if(ue===zi.left)return O();if(ue===zi.right)return S()}else ue===zi.left||ue===zi.up?X("handleArrow",zi.left,0,ue===zi.up):X("handleArrow",zi.right,0,ue===zi.down)},ae=ue=>{l(ue.shiftKey),!a.disableMonthYearSelect&&ue.code===gr.tab&&ue.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(ue.preventDefault(),lu(ue,h.value,!0),r("close-picker"))},U=()=>{G(),r("time-picker-close")},q=ue=>{var ve,ze,We;(ve=_.value)==null||ve.toggleTimePicker(!1,!1),(ze=_.value)==null||ze.toggleMonthPicker(!1,!1,ue),(We=_.value)==null||We.toggleYearPicker(!1,!1,ue)},J=(ue,ve=0)=>{var ze,We,lt;return ue==="month"?(ze=_.value)==null?void 0:ze.toggleMonthPicker(!1,!0,ve):ue==="year"?(We=_.value)==null?void 0:We.toggleYearPicker(!1,!0,ve):ue==="time"?(lt=_.value)==null?void 0:lt.toggleTimePicker(!0,!1):q(ve)},X=(ue,...ve)=>{var ze,We;(ze=_.value)!=null&&ze[ue]&&((We=_.value)==null||We[ue](...ve))},ce=()=>{X("selectCurrentDate")},te=(ue,ve)=>{X("presetDate",XX(ue),ve)},he=()=>{X("clearHoverDate")},me=(ue,ve)=>{X("updateMonthYear",ue,ve)},xe=(ue,ve)=>{ue.preventDefault(),re(ve)},be=ue=>{var ve,ze,We;if(ae(ue),ue.key===gr.home||ue.key===gr.end)return X("selectWeekDate",ue.key===gr.home,ue.target.getAttribute("id"));switch((ue.key===gr.pageUp||ue.key===gr.pageDown)&&(ue.shiftKey?(X("changeYear",ue.key===gr.pageUp),(ve=dE(i.value,"overlay-year"))==null||ve.focus()):(X("changeMonth",ue.key===gr.pageUp),(ze=dE(i.value,ue.key===gr.pageUp?"action-prev":"action-next"))==null||ze.focus()),ue.target.getAttribute("id")&&((We=i.value)==null||We.focus({preventScroll:!0}))),ue.key){case gr.esc:return K(ue);case gr.arrowLeft:return xe(ue,zi.left);case gr.arrowRight:return xe(ue,zi.right);case gr.arrowUp:return xe(ue,zi.up);case gr.arrowDown:return xe(ue,zi.down);default:return}},De=ue=>{var ve;d.value.enabled&&!d.value.input&&!((ve=i.value)!=null&&ve.contains(ue.target))&&E.value&&(E.value=!1,r("menu-blur"))};return t({updateMonthYear:me,switchView:J,handleFlow:L,onValueCleared:()=>{var ue,ve;(ve=(ue=_.value)==null?void 0:ue.setStartTime)==null||ve.call(ue)}}),(ue,ve)=>{var ze,We,lt;return Z(),ne("div",{id:ue.uid?`dp-menu-${ue.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:Q(d).enabled?void 0:"0",role:Q(d).enabled?void 0:"dialog","aria-label":(ze=ue.ariaLabels)==null?void 0:ze.menu,class:Ve(H.value),style:Ue({"--dp-arrow-left":N.value}),onMouseleave:he,onClick:j,onKeydown:be},[(ue.disabled||ue.readonly)&&Q(d).enabled||ue.loading?(Z(),ne("div",{key:0,class:Ve(V.value)},[ue.loading?(Z(),ne("div",gae,[...ve[19]||(ve[19]=[W("span",{class:"dp--menu-loader"},null,-1)])])):ye("",!0)],2)):ye("",!0),ue.$slots["menu-header"]?(Z(),ne("div",mae,[et(ue.$slots,"menu-header")])):ye("",!0),!Q(d).enabled&&!ue.teleportCenter?(Z(),ne("div",{key:2,class:Ve(R.value)},null,2)):ye("",!0),W("div",{ref_key:"innerMenuRef",ref:x,class:Ve({dp__menu_content_wrapper:((We=ue.presetDates)==null?void 0:We.length)||!!ue.$slots["left-sidebar"]||!!ue.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((lt=ue.presetDates)==null?void 0:lt.length)||!!ue.$slots["left-sidebar"]||!!ue.$slots["right-sidebar"])}),"data-dp-mobile":Q(g),style:Ue({"--dp-menu-width":`${y.value}px`})},[ue.$slots["left-sidebar"]?(Z(),ne("div",xae,[et(ue.$slots,"left-sidebar",Ha(qi(Y.value)))])):ye("",!0),ue.presetDates.length?(Z(),ne("div",{key:1,class:Ve({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Q(g)},[(Z(!0),ne(Ge,null,_t(ue.presetDates,(Pe,ct)=>(Z(),ne(Ge,{key:ct},[Pe.slot?et(ue.$slots,Pe.slot,{key:0,presetDate:te,label:Pe.label,value:Pe.value}):(Z(),ne("button",{key:1,type:"button",style:Ue(Pe.style||{}),class:Ve(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":Pe.testId??void 0,"data-dp-mobile":Q(g),onClick:Ca(Ye=>te(Pe.value,Pe.noTz),["prevent"]),onKeydown:Ye=>Q(Ki)(Ye,()=>te(Pe.value,Pe.noTz),!0)},ge(Pe.label),47,wae))],64))),128))],10,bae)):ye("",!0),W("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(Z(),St(av(z.value),Yr({ref_key:"dynCmpRef",ref:_},o.value,{"flow-step":Q(C),onMount:Q(P),onUpdateFlowStep:Q(M),onResetFlow:Q(I),onFocusMenu:G,onSelectDate:ve[0]||(ve[0]=Pe=>ue.$emit("select-date")),onDateUpdate:ve[1]||(ve[1]=Pe=>ue.$emit("date-update",Pe)),onTooltipOpen:ve[2]||(ve[2]=Pe=>ue.$emit("tooltip-open",Pe)),onTooltipClose:ve[3]||(ve[3]=Pe=>ue.$emit("tooltip-close",Pe)),onAutoApply:ve[4]||(ve[4]=Pe=>ue.$emit("auto-apply",Pe)),onRangeStart:ve[5]||(ve[5]=Pe=>ue.$emit("range-start",Pe)),onRangeEnd:ve[6]||(ve[6]=Pe=>ue.$emit("range-end",Pe)),onInvalidFixedRange:ve[7]||(ve[7]=Pe=>ue.$emit("invalid-fixed-range",Pe)),onTimeUpdate:ve[8]||(ve[8]=Pe=>ue.$emit("time-update")),onAmPmChange:ve[9]||(ve[9]=Pe=>ue.$emit("am-pm-change",Pe)),onTimePickerOpen:ve[10]||(ve[10]=Pe=>ue.$emit("time-picker-open",Pe)),onTimePickerClose:U,onRecalculatePosition:B,onUpdateMonthYear:ve[11]||(ve[11]=Pe=>ue.$emit("update-month-year",Pe)),onAutoApplyInvalid:ve[12]||(ve[12]=Pe=>ue.$emit("auto-apply-invalid",Pe)),onInvalidDate:ve[13]||(ve[13]=Pe=>ue.$emit("invalid-date",Pe)),onOverlayToggle:ve[14]||(ve[14]=Pe=>ue.$emit("overlay-toggle",Pe)),"onUpdate:internalModelValue":ve[15]||(ve[15]=Pe=>ue.$emit("update:internal-model-value",Pe))}),Mi({_:2},[_t(D.value,(Pe,ct)=>({name:Pe,fn:it(Ye=>[et(ue.$slots,Pe,Ha(qi({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ue.$slots["right-sidebar"]?(Z(),ne("div",_ae,[et(ue.$slots,"right-sidebar",Ha(qi(Y.value)))])):ye("",!0),ue.$slots["action-extra"]?(Z(),ne("div",Eae,[ue.$slots["action-extra"]?et(ue.$slots,"action-extra",{key:0,selectCurrentDate:ce}):ye("",!0)])):ye("",!0)],14,yae),!ue.autoApply||Q(h).keepActionRow?(Z(),St(Ere,Yr({key:3,"menu-mount":b.value},o.value,{"calendar-width":y.value,onClosePicker:ve[16]||(ve[16]=Pe=>ue.$emit("close-picker")),onSelectDate:ve[17]||(ve[17]=Pe=>ue.$emit("select-date")),onInvalidSelect:ve[18]||(ve[18]=Pe=>ue.$emit("invalid-select")),onSelectNow:ce}),Mi({_:2},[_t(Q(F),(Pe,ct)=>({name:Pe,fn:it(Ye=>[et(ue.$slots,Pe,Ha(qi({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,vae)}}});var jd=(e=>(e.center="center",e.left="left",e.right="right",e))(jd||{});const Aae=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:r,inline:a,emit:i,props:o,slots:s})=>{const{defaultedConfig:l}=Tr(o),c=Ee({}),u=Ee(!1),f=Ee({top:"0",left:"0"}),d=Ee(!1),h=i1(o,"teleportCenter");Ut(h,()=>{f.value=JSON.parse(JSON.stringify({})),_()});const p=I=>{if(o.teleport){const L=I.getBoundingClientRect();return{left:L.left+window.scrollX,top:L.top+window.scrollY}}return{top:0,left:0}},v=(I,L)=>{f.value.left=`${I+L-c.value.width}px`},g=I=>{f.value.left=`${I}px`},m=(I,L)=>{o.position===jd.left&&g(I),o.position===jd.right&&v(I,L),o.position===jd.center&&(f.value.left=`${I+L/2-c.value.width/2}px`)},y=I=>{const{width:L,height:z}=I.getBoundingClientRect(),{top:N,left:G}=p(I);return{top:+N,left:+G,width:L,height:z}},x=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},b=()=>{const I=pa(n);f.value=o.altPosition(I)},_=(I=!0)=>{var L;if(!a.value.enabled){if(h.value)return x();if(o.altPosition!==null)return b();if(I){const z=o.teleport?(L=t.value)==null?void 0:L.$el:e.value;z&&(c.value=z.getBoundingClientRect()),i("recalculate-position")}return T()}},E=({inputEl:I,left:L,width:z})=>{window.screen.width>768&&!u.value&&m(L,z),S(I)},w=I=>{const{top:L,left:z,height:N,width:G}=y(I);f.value.top=`${N+L+ +o.offset}px`,d.value=!1,u.value||(f.value.left=`${z+G/2-c.value.width/2}px`),E({inputEl:I,left:z,width:G})},A=I=>{const{top:L,left:z,width:N}=y(I);f.value.top=`${L-+o.offset-c.value.height}px`,d.value=!0,E({inputEl:I,left:z,width:N})},S=I=>{if(o.autoPosition){const{left:L,width:z}=y(I),{left:N,right:G}=c.value;if(!u.value){if(Math.abs(N)!==Math.abs(G)){if(N<=0)return u.value=!0,g(L);if(G>=document.documentElement.clientWidth)return u.value=!0,v(L,z)}return m(L,z)}}},O=()=>{const I=pa(n);if(I){if(o.autoPosition===bs.top)return bs.top;if(o.autoPosition===bs.bottom)return bs.bottom;const{height:L}=c.value,{top:z,height:N}=I.getBoundingClientRect(),G=window.innerHeight-z-N,Y=z;return L<=G?bs.bottom:L>G&&L<=Y?bs.top:G>=Y?bs.bottom:bs.top}return bs.bottom},k=I=>O()===bs.bottom?w(I):A(I),T=()=>{const I=pa(n);if(I)return o.autoPosition?k(I):w(I)},C=function(I){if(I){const L=I.scrollHeight>I.clientHeight,z=window.getComputedStyle(I).overflowY.indexOf("hidden")!==-1;return L&&!z}return!0},M=function(I){return!I||I===document.body||I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:C(I)?I:M(I.assignedSlot&&l.value.shadowDom?I.assignedSlot.parentNode:I.parentNode)},P=I=>{if(I)switch(o.position){case jd.left:return{left:0,transform:"translateX(0)"};case jd.right:return{left:`${I.width}px`,transform:"translateX(-100%)"};default:return{left:`${I.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:f,xCorrect:u,setMenuPosition:_,getScrollableParent:M,shadowRender:(I,L,z)=>{var R,V,H;const N=document.createElement("div"),G=(R=pa(n))==null?void 0:R.getBoundingClientRect();N.setAttribute("id","dp--temp-container");const Y=(V=r.value)!=null&&V.clientWidth?r.value:document.body;Y.append(N);const B=P(G),F=l.value.shadowDom?Object.keys(s).filter(j=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(j)):Object.keys(s),D=Ux(L,{...z,shadow:!0,style:{opacity:0,position:"absolute",...B}},Object.fromEntries(F.map(j=>[j,s[j]])));I!=null&&(D.appContext=I.appContext),$C(D,N),c.value=(H=D.el)==null?void 0:H.getBoundingClientRect(),$C(null,N),Y.removeChild(N)}}},Bc=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Sae=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Oae={all:()=>Bc,monthYear:()=>Bc.filter(e=>e.use.includes("month-year")),input:()=>Sae,timePicker:()=>Bc.filter(e=>e.use.includes("time")),action:()=>Bc.filter(e=>e.use.includes("action")),calendar:()=>Bc.filter(e=>e.use.includes("calendar")),menu:()=>Bc.filter(e=>e.use.includes("menu")),shared:()=>Bc.filter(e=>e.use.includes("shared")),yearMode:()=>Bc.filter(e=>e.use.includes("year-mode"))},To=(e,t,n)=>{const r=[];return Oae[t]().forEach(a=>{e[a.name]&&r.push(a.name)}),n!=null&&n.length&&n.forEach(a=>{a.slot&&r.push(a.slot)}),r},dv=e=>{const t=je(()=>r=>e.value?r?e.value.open:e.value.close:""),n=je(()=>r=>e.value?r?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},hv=(e,t,n)=>{const{defaultedRange:r,defaultedTz:a}=Tr(e),i=He(go(He(),a.value.timezone)),o=Ee([{month:cn(i),year:Rt(i)}]),s=d=>{const h={hours:Ac(i),minutes:xu(i),seconds:0};return r.value.enabled?[h[d],h[d]]:h[d]},l=jl({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Ut(r,(d,h)=>{d.enabled!==h.enabled&&(l.hours=s("hours"),l.minutes=s("minutes"),l.seconds=s("seconds"))},{deep:!0});const c=je({get:()=>e.internalModelValue,set:d=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",d)}}),u=je(()=>d=>o.value[d]?o.value[d].month:0),f=je(()=>d=>o.value[d]?o.value[d].year:0);return Ut(c,(d,h)=>{n&&JSON.stringify(d??{})!==JSON.stringify(h??{})&&n()},{deep:!0}),{calendars:o,time:l,modelValue:c,month:u,year:f,today:i}},kae=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedUI:a,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:l}=Tr(t),{isDisabled:c}=Pu(t),u=Ee(null),f=Ee(go(new Date,o.value.timezone)),d=H=>{!H.current&&t.hideOffsetDates||(u.value=H.value)},h=()=>{u.value=null},p=H=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&u.value?H?ta(u.value,e.value[0]):Vr(u.value,e.value[0]):!0,v=(H,j)=>{const K=()=>e.value?j?e.value[0]||null:e.value[1]:null,re=e.value&&Array.isArray(e.value)?K():null;return un(He(H.value),re)},g=H=>{const j=Array.isArray(e.value)?e.value[0]:null;return H?!Vr(u.value??null,j):!0},m=(H,j=!0)=>(l.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!H.current?!1:un(He(H.value),e.value[j?0:1]):l.value.enabled?v(H,j)&&g(j)||un(H.value,Array.isArray(e.value)?e.value[0]:null)&&p(j):!1,y=(H,j)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const K=un(H.value,u.value);return j?ta(e.value[0],H.value)&&K:Vr(e.value[0],H.value)&&K}return!1},x=H=>!e.value||t.hideOffsetDates&&!H.current?!1:l.value.enabled?t.modelAuto&&Array.isArray(e.value)?un(H.value,e.value[0]?e.value[0]:f.value):!1:r.value.enabled&&Array.isArray(e.value)?e.value.some(j=>un(j,H.value)):un(H.value,e.value?e.value:f.value),b=H=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!H.current)return!1;const j=Yo(u.value,+l.value.autoRange),K=tc(He(u.value),t.weekStart);return t.weekPicker?un(K[1],He(H.value)):un(j,He(H.value))}return!1}return!1},_=H=>{if(l.value.autoRange||t.weekPicker){if(u.value){const j=Yo(u.value,+l.value.autoRange);if(t.hideOffsetDates&&!H.current)return!1;const K=tc(He(u.value),t.weekStart);return t.weekPicker?ta(H.value,K[0])&&Vr(H.value,K[1]):ta(H.value,u.value)&&Vr(H.value,j)}return!1}return!1},E=H=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!H.current)return!1;const j=tc(He(u.value),t.weekStart);return t.weekPicker?un(j[0],H.value):un(u.value,H.value)}return!1}return!1},w=H=>h1(e.value,u.value,H.value),A=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,S=()=>t.modelAuto?NL(t.internalModelValue):!0,O=H=>{if(t.weekPicker)return!1;const j=l.value.enabled?!m(H)&&!m(H,!1):!0;return!c(H.value)&&!x(H)&&!(!H.current&&t.hideOffsetDates)&&j},k=H=>l.value.enabled?t.modelAuto?A()&&x(H):!1:x(H),T=H=>i.value?Gne(H.value,s.value.highlight):!1,C=H=>{const j=c(H.value);return j&&(typeof i.value=="function"?!i.value(H.value,j):!i.value.options.highlightDisabled)},M=H=>{var j;return typeof i.value=="function"?i.value(H.value):(j=i.value.weekdays)==null?void 0:j.includes(H.value.getDay())},P=H=>(l.value.enabled||t.weekPicker)&&(!(n.value.count>0)||H.current)&&S()&&!(!H.current&&t.hideOffsetDates)&&!x(H)?w(H):!1,I=H=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:j,after:K}=N4(+l.value.maxRange,e.value[0]);return O0(H.value,j)||jf(H.value,K)}return!1},L=H=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:j,after:K}=N4(+l.value.minRange,e.value[0]);return h1([j,K],e.value[0],H.value)}return!1},z=H=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?I(H)||L(H):l.value.maxRange?I(H):L(H):!1,N=H=>{const{isRangeStart:j,isRangeEnd:K}=F(H),re=l.value.enabled?j||K:!1;return{dp__cell_offset:!H.current,dp__pointer:!t.disabled&&!(!H.current&&t.hideOffsetDates)&&!c(H.value)&&!z(H),dp__cell_disabled:c(H.value)||z(H),dp__cell_highlight:!C(H)&&(T(H)||M(H))&&!k(H)&&!re&&!E(H)&&!(P(H)&&t.weekPicker)&&!K,dp__cell_highlight_active:!C(H)&&(T(H)||M(H))&&k(H),dp__today:!t.noToday&&un(H.value,f.value)&&H.current,"dp--past":Vr(H.value,f.value),"dp--future":ta(H.value,f.value)}},G=H=>({dp__active_date:k(H),dp__date_hover:O(H)}),Y=H=>{if(e.value&&!Array.isArray(e.value)){const j=tc(e.value,t.weekStart);return{...R(H),dp__range_start:un(j[0],H.value),dp__range_end:un(j[1],H.value),dp__range_between_week:ta(H.value,j[0])&&Vr(H.value,j[1])}}return{...R(H)}},B=H=>{if(e.value&&Array.isArray(e.value)){const j=tc(e.value[0],t.weekStart),K=e.value[1]?tc(e.value[1],t.weekStart):[];return{...R(H),dp__range_start:un(j[0],H.value)||un(K[0],H.value),dp__range_end:un(j[1],H.value)||un(K[1],H.value),dp__range_between_week:ta(H.value,j[0])&&Vr(H.value,j[1])||ta(H.value,K[0])&&Vr(H.value,K[1]),dp__range_between:ta(H.value,j[1])&&Vr(H.value,K[0])}}return{...R(H)}},F=H=>{const j=n.value.count>0?H.current&&m(H)&&S():m(H)&&S(),K=n.value.count>0?H.current&&m(H,!1)&&S():m(H,!1)&&S();return{isRangeStart:j,isRangeEnd:K}},D=H=>{const{isRangeStart:j,isRangeEnd:K}=F(H);return{dp__range_start:j,dp__range_end:K,dp__range_between:P(H),dp__date_hover:un(H.value,u.value)&&!j&&!K&&!t.weekPicker,dp__date_hover_start:y(H,!0),dp__date_hover_end:y(H,!1)}},R=H=>({...D(H),dp__cell_auto_range:_(H),dp__cell_auto_range_start:E(H),dp__cell_auto_range_end:b(H)}),V=H=>l.value.enabled?l.value.autoRange?R(H):t.modelAuto?{...G(H),...D(H)}:t.weekPicker?B(H):D(H):t.weekPicker?Y(H):G(H);return{setHoverDate:d,clearHoverDate:h,getDayClassData:H=>t.hideOffsetDates&&!H.current?{}:{...N(H),...V(H),[t.dayClass?t.dayClass(H.value,t.internalModelValue):""]:!0,...a.value.calendarCell??{}}}},Pu=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:r,defaultedMultiDates:a}=Tr(e),i=M=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(He(M)):!!ay(M,r.value.disabledDates):!1,o=M=>r.value.maxDate?e.yearPicker?Rt(M)>Rt(r.value.maxDate):ta(M,r.value.maxDate):!1,s=M=>r.value.minDate?e.yearPicker?Rt(M)<Rt(r.value.minDate):Vr(M,r.value.minDate):!1,l=M=>{const P=o(M),I=s(M),L=i(M),z=t.value.months.map(F=>+F).includes(cn(M)),N=e.disabledWeekDays.length?e.disabledWeekDays.some(F=>+F===Rte(M)):!1,G=h(M),Y=Rt(M),B=GL(e.yearRange,Y);return!(P||I||L||z||B||N||G)},c=(M,P)=>Vr(...Jc(r.value.minDate,M,P))||un(...Jc(r.value.minDate,M,P)),u=(M,P)=>ta(...Jc(r.value.maxDate,M,P))||un(...Jc(r.value.maxDate,M,P)),f=(M,P,I)=>{let L=!1;return r.value.maxDate&&I&&u(M,P)&&(L=!0),r.value.minDate&&!I&&c(M,P)&&(L=!0),L},d=(M,P,I,L)=>{let z=!1;return L&&(r.value.minDate||r.value.maxDate)?r.value.minDate&&r.value.maxDate?z=f(M,P,I):(r.value.minDate&&c(M,P)||r.value.maxDate&&u(M,P))&&(z=!0):z=!0,z},h=M=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!ay(M,r.value.allowedDates,FL(e.monthPicker,e.yearPicker)):!1,p=M=>!l(M),v=M=>n.value.noDisabledRange?!mL({start:M[0],end:M[1]}).some(P=>p(P)):!0,g=M=>{if(M){const P=Rt(M);return P>=+e.yearRange[0]&&P<=e.yearRange[1]}return!0},m=(M,P)=>!!(Array.isArray(M)&&M[P]&&(n.value.maxRange||n.value.minRange)&&g(M[P])),y=(M,P,I=0)=>{if(m(P,I)&&g(M)){const L=pL(M,P[I]),z=zL(P[I],M),N=z.length===1?0:z.filter(Y=>p(Y)).length,G=Math.abs(L)-(n.value.minMaxRawRange?0:N);if(n.value.minRange&&n.value.maxRange)return G>=+n.value.minRange&&G<=+n.value.maxRange;if(n.value.minRange)return G>=+n.value.minRange;if(n.value.maxRange)return G<=+n.value.maxRange}return!0},x=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,b=M=>Array.isArray(M)?[M[0]?Hb(M[0]):null,M[1]?Hb(M[1]):null]:Hb(M),_=(M,P,I)=>M.find(L=>+L.hours===Ac(P)&&L.minutes==="*"?!0:+L.minutes===xu(P)&&+L.hours===Ac(P))&&I,E=(M,P,I)=>{const[L,z]=M,[N,G]=P;return!_(L,N,I)&&!_(z,G,I)&&I},w=(M,P)=>{const I=Array.isArray(P)?P:[P];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?E(e.disabledTimes,I,M):!I.some(L=>_(e.disabledTimes,L,M)):M},A=(M,P)=>{const I=Array.isArray(P)?[Pf(P[0]),P[1]?Pf(P[1]):void 0]:Pf(P),L=!e.disabledTimes(I);return M&&L},S=(M,P)=>e.disabledTimes?Array.isArray(e.disabledTimes)?w(P,M):A(P,M):P,O=M=>{let P=!0;if(!M||x())return!0;const I=!r.value.minDate&&!r.value.maxDate?b(M):M;return(e.maxTime||r.value.maxDate)&&(P=D4(e.maxTime,r.value.maxDate,"max",$a(I),P)),(e.minTime||r.value.minDate)&&(P=D4(e.minTime,r.value.minDate,"min",$a(I),P)),S(M,P)},k=M=>{if(!e.monthPicker)return!0;let P=!0;const I=He(Ss(M));if(r.value.minDate&&r.value.maxDate){const L=He(Ss(r.value.minDate)),z=He(Ss(r.value.maxDate));return ta(I,L)&&Vr(I,z)||un(I,L)||un(I,z)}if(r.value.minDate){const L=He(Ss(r.value.minDate));P=ta(I,L)||un(I,L)}if(r.value.maxDate){const L=He(Ss(r.value.maxDate));P=Vr(I,L)||un(I,L)}return P},T=je(()=>M=>!e.enableTimePicker||e.ignoreTimeValidation?!0:O(M)),C=je(()=>M=>e.monthPicker?Array.isArray(M)&&(n.value.enabled||a.value.enabled)?!M.filter(P=>!k(P)).length:k(M):!0);return{isDisabled:p,validateDate:l,validateMonthYearInRange:d,isDateRangeAllowed:v,checkMinMaxRange:y,isValidTime:O,isTimeValid:T,isMonthValid:C}},e2=()=>{const e=je(()=>(r,a)=>r==null?void 0:r.includes(a)),t=je(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),n=je(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},Tae=(e,t,n)=>{const r=Ee(0),a=jl({[Mf.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Mf.calendar]:!1,[Mf.header]:!1}),i=je(()=>e.monthPicker||e.timePicker),o=f=>{var d;if((d=e.flow)!=null&&d.length){if(!f&&i.value)return u();a[f]=!0,Object.keys(a).filter(h=>!a[h]).length||u()}},s=()=>{var f,d;(f=e.flow)!=null&&f.length&&r.value!==-1&&(r.value+=1,t("flow-step",r.value),u()),((d=e.flow)==null?void 0:d.length)===r.value&&An().then(()=>l())},l=()=>{r.value=-1},c=(f,d,...h)=>{var p,v;e.flow[r.value]===f&&n.value&&((v=(p=n.value)[d])==null||v.call(p,...h))},u=(f=0)=>{f&&(r.value+=f),c(bi.month,"toggleMonthPicker",!0),c(bi.year,"toggleYearPicker",!0),c(bi.calendar,"toggleTimePicker",!1,!0),c(bi.time,"toggleTimePicker",!0,!0);const d=e.flow[r.value];(d===bi.hours||d===bi.minutes||d===bi.seconds)&&c(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:s,resetFlow:l,handleFlow:u,flowStep:r}},Cae={key:1,class:"dp__input_wrap"},Mae=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Pae={key:2,class:"dp--clear-btn"},Iae=["aria-label"],Rae=Ht({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Zx},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const r=n,a=e,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:s,defaultedConfig:l,defaultedRange:c,defaultedMultiDates:u,defaultedUI:f,getDefaultPattern:d,getDefaultStartTime:h}=Tr(a),{checkMinMaxRange:p}=Pu(a),v=Ee(),g=Ee(null),m=Ee(!1),y=Ee(!1),x=je(()=>({dp__pointer:!a.disabled&&!a.readonly&&!i.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_not_clearable:!a.clearable,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:typeof a.state=="boolean"?a.state:!1,dp__input_invalid:typeof a.state=="boolean"?!a.state:!1,dp__input_focus:m.value||a.isMenuOpen,dp__input_reg:!i.value.enabled,...f.value.input??{}})),b=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),v.value=null)},_=Y=>{const B=h();return Xne(Y,i.value.format??d(),B??UL({},a.enableSeconds),a.inputValue,y.value,a.formatLocale)},E=Y=>{const{rangeSeparator:B}=i.value,[F,D]=Y.split(`${B}`);if(F){const R=_(F.trim()),V=D?_(D.trim()):void 0;if(jf(R,V))return;const H=R&&V?[R,V]:[R];p(V,H,0)&&(v.value=R?H:null)}},w=()=>{y.value=!0},A=Y=>{if(c.value.enabled)E(Y);else if(u.value.enabled){const B=Y.split(";");v.value=B.map(F=>_(F.trim())).filter(F=>F)}else v.value=_(Y)},S=Y=>{var F;const B=typeof Y=="string"?Y:(F=Y.target)==null?void 0:F.value;B!==""?(i.value.openMenu&&!a.isMenuOpen&&r("open"),A(B),r("set-input-date",v.value)):b(),y.value=!1,r("update:input-value",B),r("text-input",Y,v.value)},O=Y=>{i.value.enabled?(A(Y.target.value),i.value.enterSubmit&&hE(v.value)&&a.inputValue!==""?(r("set-input-date",v.value,!0),v.value=null):i.value.enterSubmit&&a.inputValue===""&&(v.value=null,r("clear"))):C(Y)},k=(Y,B)=>{i.value.enabled&&i.value.tabSubmit&&!B&&A(Y.target.value),i.value.tabSubmit&&hE(v.value)&&a.inputValue!==""?(r("set-input-date",v.value,!0,!0),v.value=null):i.value.tabSubmit&&a.inputValue===""&&(v.value=null,r("clear",!0))},T=()=>{m.value=!0,r("focus"),An().then(()=>{var Y;i.value.enabled&&i.value.selectOnFocus&&((Y=g.value)==null||Y.select())})},C=Y=>{if(lu(Y,l.value,!0),i.value.enabled&&i.value.openMenu&&!s.value.input){if(i.value.openMenu==="open"&&!a.isMenuOpen)return r("open");if(i.value.openMenu==="toggle")return r("toggle")}else i.value.enabled||r("toggle")},M=()=>{r("real-blur"),m.value=!1,(!a.isMenuOpen||s.value.enabled&&s.value.input)&&r("blur"),a.autoApply&&i.value.enabled&&v.value&&!a.isMenuOpen&&(r("set-input-date",v.value),r("select-date"),v.value=null)},P=Y=>{lu(Y,l.value,!0),r("clear")},I=()=>{r("close")},L=Y=>{if(Y.key==="Tab"&&k(Y),Y.key==="Enter"&&O(Y),Y.key==="Escape"&&i.value.escClose&&I(),!i.value.enabled){if(Y.code==="Tab")return;Y.preventDefault()}},z=()=>{var Y;(Y=g.value)==null||Y.focus({preventScroll:!0})},N=Y=>{v.value=Y},G=Y=>{Y.key===gr.tab&&k(Y,!0)};return t({focusInput:z,setParsedDate:N}),(Y,B)=>{var F,D,R;return Z(),ne("div",{onClick:C},[Y.$slots.trigger&&!Y.$slots["dp-input"]&&!Q(s).enabled?et(Y.$slots,"trigger",{key:0}):ye("",!0),!Y.$slots.trigger&&(!Q(s).enabled||Q(s).input)?(Z(),ne("div",Cae,[Y.$slots["dp-input"]&&!Y.$slots.trigger&&(!Q(s).enabled||Q(s).enabled&&Q(s).input)?et(Y.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:S,onEnter:O,onTab:k,onClear:P,onBlur:M,onKeypress:L,onPaste:w,onFocus:T,openMenu:()=>Y.$emit("open"),closeMenu:()=>Y.$emit("close"),toggleMenu:()=>Y.$emit("toggle")}):ye("",!0),Y.$slots["dp-input"]?ye("",!0):(Z(),ne("input",{key:1,id:Y.uid?`dp-input-${Y.uid}`:void 0,ref_key:"inputRef",ref:g,"data-test-id":"dp-input",name:Y.name,class:Ve(x.value),inputmode:Q(i).enabled?"text":"none",placeholder:Y.placeholder,disabled:Y.disabled,readonly:Y.readonly,required:Y.required,value:e.inputValue,autocomplete:Y.autocomplete,"aria-label":(F=Q(o))==null?void 0:F.input,"aria-disabled":Y.disabled||void 0,"aria-invalid":Y.state===!1?!0:void 0,onInput:S,onBlur:M,onFocus:T,onKeypress:L,onKeydown:B[0]||(B[0]=V=>L(V)),onPaste:w},null,42,Mae)),W("div",{onClick:B[3]||(B[3]=V=>r("toggle"))},[Y.$slots["input-icon"]&&!Y.hideInputIcon?(Z(),ne("span",{key:0,class:"dp__input_icon",onClick:B[1]||(B[1]=V=>r("toggle"))},[et(Y.$slots,"input-icon")])):ye("",!0),!Y.$slots["input-icon"]&&!Y.hideInputIcon&&!Y.$slots["dp-input"]?(Z(),St(Q(lh),{key:1,"aria-label":(D=Q(o))==null?void 0:D.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:B[2]||(B[2]=V=>r("toggle"))},null,8,["aria-label"])):ye("",!0)]),Y.$slots["clear-icon"]&&(Y.alwaysClearable||e.inputValue&&Y.clearable&&!Y.disabled&&!Y.readonly)?(Z(),ne("span",Pae,[et(Y.$slots,"clear-icon",{clear:P})])):ye("",!0),!Y.$slots["clear-icon"]&&(Y.alwaysClearable||Y.clearable&&e.inputValue&&!Y.disabled&&!Y.readonly)?(Z(),ne("button",{key:3,"aria-label":(R=Q(o))==null?void 0:R.clearInput,class:"dp--clear-btn",type:"button",onKeydown:B[4]||(B[4]=V=>Q(Ki)(V,()=>P(V),!0,G)),onClick:B[5]||(B[5]=Ca(V=>P(V),["prevent"]))},[ot(Q(RL),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,Iae)):ye("",!0)])):ye("",!0)])}}}),Dae=typeof window<"u"?window:void 0,qb=()=>{},Nae=e=>aD()?(SX(e),!0):!1,Lae=(e,t,n,r)=>{if(!e)return qb;let a=qb;const i=Ut(()=>Q(e),s=>{a(),s&&(s.removeEventListener(t,n),s.addEventListener(t,n,r),a=()=>{s.removeEventListener(t,n,r),a=qb})},{immediate:!0,flush:"post"}),o=()=>{i(),a()};return Nae(o),o},Fae=(e,t,n,r={})=>{const{window:a=Dae,event:i="pointerdown"}=r;return a?Lae(a,i,o=>{const s=pa(e),l=pa(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Bae=["data-dp-mobile"],$ae=Ht({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Zx},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const r=n,a=e,i=ad(),o=Ee(!1),s=i1(a,"modelValue"),l=i1(a,"timezone"),c=Ee(null),u=Ee(null),f=Ee(null),d=Ee(!1),h=Ee(null),p=Ee(!1),v=Ee(!1),g=Ee(!1),m=Ee(!1),{setMenuFocused:y,setShiftKey:x}=YL(),{clearArrowNav:b}=Mu(),{validateDate:_,isValidTime:E}=Pu(a),{defaultedTransitions:w,defaultedTextInput:A,defaultedInline:S,defaultedConfig:O,defaultedRange:k,defaultedMultiDates:T}=Tr(a),{menuTransition:C,showTransition:M}=dv(w),{isMobile:P}=e7(O),I=no();On(()=>{H(a.modelValue),An().then(()=>{var $e;S.value.enabled||(($e=F(h.value))==null||$e.addEventListener("scroll",te),window==null||window.addEventListener("resize",he))}),S.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",me),window==null||window.addEventListener("keydown",xe)}),Cu(()=>{var $e;S.value.enabled||(($e=F(h.value))==null||$e.removeEventListener("scroll",te),window==null||window.removeEventListener("resize",he)),window==null||window.removeEventListener("keyup",me),window==null||window.removeEventListener("keydown",xe)});const L=To(i,"all",a.presetDates),z=To(i,"input");Ut([s,l],()=>{H(s.value)},{deep:!0});const{openOnTop:N,menuStyle:G,xCorrect:Y,setMenuPosition:B,getScrollableParent:F,shadowRender:D}=Aae({menuRef:c,menuRefInner:u,inputRef:f,pickerWrapperRef:h,inline:S,emit:r,props:a,slots:i}),{inputValue:R,internalModelValue:V,parseExternalModelValue:H,emitModelValue:j,formatInputValue:K,checkBeforeEmit:re}=xre(r,a,{isInputFocused:d,isTextInputDate:m}),ae=je(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:S.value.enabled,"dp--flex-display-collapsed":g.value,dp__flex_display_with_input:S.value.input})),U=je(()=>a.dark?"dp__theme_dark":"dp__theme_light"),q=je(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||S.value.enabled}:{}),J=je(()=>({class:"dp__outer_menu_wrap"})),X=je(()=>S.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),ce=()=>{var $e,nt;return((nt=($e=f.value)==null?void 0:$e.$el)==null?void 0:nt.getBoundingClientRect())??{width:0,left:0,right:0}},te=()=>{o.value&&(O.value.closeOnScroll?ct():B())},he=()=>{var nt;o.value&&B();const $e=((nt=u.value)==null?void 0:nt.$el.getBoundingClientRect().width)??0;g.value=document.body.offsetWidth<=$e},me=$e=>{$e.key==="Tab"&&!S.value.enabled&&!a.teleport&&O.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||ct()),v.value=$e.shiftKey},xe=$e=>{v.value=$e.shiftKey},be=()=>{!a.disabled&&!a.readonly&&(D(I,$4,a),B(!1),o.value=!0,o.value&&r("open"),o.value||Pe(),H(a.modelValue))},De=()=>{var $e,nt;R.value="",Pe(),($e=u.value)==null||$e.onValueCleared(),(nt=f.value)==null||nt.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),O.value.closeOnClearValue&&ct()},ue=()=>{const $e=V.value;return!$e||!Array.isArray($e)&&_($e)?!0:Array.isArray($e)?T.value.enabled||$e.length===2&&_($e[0])&&_($e[1])?!0:k.value.partialRange&&!a.timePicker?_($e[0]):!1:!1},ve=()=>{re()&&ue()?(j(),ct()):r("invalid-select",V.value)},ze=$e=>{We(),j(),O.value.closeOnAutoApply&&!$e&&ct()},We=()=>{f.value&&A.value.enabled&&f.value.setParsedDate(V.value)},lt=($e=!1)=>{a.autoApply&&E(V.value)&&ue()&&(k.value.enabled&&Array.isArray(V.value)?(k.value.partialRange||V.value.length===2)&&ze($e):ze($e))},Pe=()=>{A.value.enabled||(V.value=null)},ct=($e=!1)=>{var nt,gt;$e&&V.value&&O.value.setDateOnMenuClose&&ve(),S.value.enabled||(o.value&&(o.value=!1,Y.value=!1,y(!1),x(!1),b(),r("closed"),R.value&&H(s.value)),Pe(),r("blur"),(gt=(nt=u.value)==null?void 0:nt.$el)==null||gt.remove())},Ye=($e,nt,gt=!1)=>{if(!$e){V.value=null;return}const ps=Array.isArray($e)?!$e.some(Vl=>!_(Vl)):_($e),Io=E($e);ps&&Io?(m.value=!0,V.value=$e,nt?(p.value=gt,ve(),r("text-submit")):a.autoApply&&lt(!0),An().then(()=>{m.value=!1})):r("invalid-date",$e)},mt=()=>{a.autoApply&&E(V.value)&&j(),We()},Ct=()=>o.value?ct():be(),nn=$e=>{V.value=$e},Cr=()=>{A.value.enabled&&(d.value=!0,K()),r("focus")},lr=()=>{var $e;A.value.enabled&&(d.value=!1,H(a.modelValue),p.value&&(($e=Wne(h.value,v.value))==null||$e.focus())),r("blur")},ya=$e=>{u.value&&u.value.updateMonthYear(0,{month:P4($e.month),year:P4($e.year)})},Qs=$e=>{H($e??a.modelValue)},we=($e,nt)=>{var gt;(gt=u.value)==null||gt.switchView($e,nt)},Ke=($e,nt)=>O.value.onClickOutside?O.value.onClickOutside($e,nt):ct(!0),yt=($e=0)=>{var nt;(nt=u.value)==null||nt.handleFlow($e)},Kt=()=>c;return Fae(c,f,$e=>Ke(ue,$e)),t({closeMenu:ct,selectDate:ve,clearValue:De,openMenu:be,onScroll:te,formatInputValue:K,updateInternalModelValue:nn,setMonthYear:ya,parseModel:Qs,switchView:we,toggleMenu:Ct,handleFlow:yt,getDpWrapMenuRef:Kt}),($e,nt)=>(Z(),ne("div",{ref_key:"pickerWrapperRef",ref:h,class:Ve(ae.value),"data-datepicker-instance":"","data-dp-mobile":Q(P)},[ot(Rae,Yr({ref_key:"inputRef",ref:f,"input-value":Q(R),"onUpdate:inputValue":nt[0]||(nt[0]=gt=>ia(R)?R.value=gt:null),"is-menu-open":o.value},$e.$props,{onClear:De,onOpen:be,onSetInputDate:Ye,onSetEmptyDate:Q(j),onSelectDate:ve,onToggle:Ct,onClose:ct,onFocus:Cr,onBlur:lr,onRealBlur:nt[1]||(nt[1]=gt=>d.value=!1),onTextInput:nt[2]||(nt[2]=gt=>$e.$emit("text-input",gt))}),Mi({_:2},[_t(Q(z),(gt,ps)=>({name:gt,fn:it(Io=>[et($e.$slots,gt,Ha(qi(Io)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(Z(),St(av($e.teleport?sq:"div"),Ha(qi(q.value)),{default:it(()=>[ot(ah,{name:Q(C)(Q(N)),css:Q(M)&&!Q(S).enabled},{default:it(()=>[o.value?(Z(),ne("div",Yr({key:0,ref_key:"dpWrapMenuRef",ref:c},J.value,{class:{"dp--menu-wrapper":!Q(S).enabled},style:Q(S).enabled?void 0:Q(G)}),[ot($4,Yr({ref_key:"dpMenuRef",ref:u},$e.$props,{"internal-model-value":Q(V),"onUpdate:internalModelValue":nt[3]||(nt[3]=gt=>ia(V)?V.value=gt:null),class:{[U.value]:!0,"dp--menu-wrapper":$e.teleport},"open-on-top":Q(N),"no-overlay-focus":X.value,collapse:g.value,"get-input-rect":ce,"is-text-input-date":m.value,onClosePicker:ct,onSelectDate:ve,onAutoApply:lt,onTimeUpdate:mt,onFlowStep:nt[4]||(nt[4]=gt=>$e.$emit("flow-step",gt)),onUpdateMonthYear:nt[5]||(nt[5]=gt=>$e.$emit("update-month-year",gt)),onInvalidSelect:nt[6]||(nt[6]=gt=>$e.$emit("invalid-select",Q(V))),onAutoApplyInvalid:nt[7]||(nt[7]=gt=>$e.$emit("invalid-select",gt)),onInvalidFixedRange:nt[8]||(nt[8]=gt=>$e.$emit("invalid-fixed-range",gt)),onRecalculatePosition:Q(B),onTooltipOpen:nt[9]||(nt[9]=gt=>$e.$emit("tooltip-open",gt)),onTooltipClose:nt[10]||(nt[10]=gt=>$e.$emit("tooltip-close",gt)),onTimePickerOpen:nt[11]||(nt[11]=gt=>$e.$emit("time-picker-open",gt)),onTimePickerClose:nt[12]||(nt[12]=gt=>$e.$emit("time-picker-close",gt)),onAmPmChange:nt[13]||(nt[13]=gt=>$e.$emit("am-pm-change",gt)),onRangeStart:nt[14]||(nt[14]=gt=>$e.$emit("range-start",gt)),onRangeEnd:nt[15]||(nt[15]=gt=>$e.$emit("range-end",gt)),onDateUpdate:nt[16]||(nt[16]=gt=>$e.$emit("date-update",gt)),onInvalidDate:nt[17]||(nt[17]=gt=>$e.$emit("invalid-date",gt)),onOverlayToggle:nt[18]||(nt[18]=gt=>$e.$emit("overlay-toggle",gt)),onMenuBlur:nt[19]||(nt[19]=gt=>$e.$emit("blur"))}),Mi({_:2},[_t(Q(L),(gt,ps)=>({name:gt,fn:it(Io=>[et($e.$slots,gt,Ha(qi({...Io})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,Bae))}}),m3=(()=>{const e=$ae;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),jae=Object.freeze(Object.defineProperty({__proto__:null,default:m3},Symbol.toStringTag,{value:"Module"}));Object.entries(jae).forEach(([e,t])=>{e!=="default"&&(m3[e]=t)});const t7=Ht({__name:"index",props:{value:{type:[String,Array,Date],default:""},range:{type:Boolean,default:!1},format:{type:String,default:"yyyy/MM/dd"},isTime:{type:Boolean,default:!1},isText:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},minDate:{type:String,default:""},maxDate:{type:String,default:""},autoApply:{type:Boolean,default:!1},width:{type:String,default:"100%"},height:{type:String,default:"40px"},placeholder:{type:String,default:""},language:{type:String,default:"zh-CN"},dayName:{type:Array,default:["","","","","","",""]}},emits:["update:value"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t,i=Ee();return Ut(()=>n.value,o=>{o&&(i.value=o,a("update:value",o))},{deep:!0}),Ut(i,o=>{a("update:value",o)},{deep:!0}),On(()=>{i.value=n.value}),(o,s)=>(Z(),ne("div",{style:Ue({width:e.width,height:e.height})},[ot(Q(m3),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),mode:"range",format:e.format,range:e.range,placeholder:e.placeholder,locale:e.language,"day-names":e.dayName,"enable-time-picker":e.isTime,"text-input":e.isText,"multi-calendars":e.isMulti,"min-date":e.minDate,"max-date":e.maxDate,"auto-apply":e.autoApply},null,8,["modelValue","format","range","placeholder","locale","day-names","enable-time-picker","text-input","multi-calendars","min-date","max-date","auto-apply"])],4))}}),zae={class:"label"},Uae={colspan:"2"},Hae={class:"label"},Vae={class:"label"},Wae={colspan:"2"},Gae={class:"label"},Yae={colspan:"2"},Xae={class:"label"},qae={colspan:"2"},Kae=Ht({__name:"Uinfo",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=ls().state;let o=!1;const s=Ee({nickname:"",name:"",gender:"",birthday:"",department:"",position:""});let l=yn.Date("Y/m/d"),c=[];Ut(()=>n.show,d=>{if(o=d,d){const h=i.uinfo;s.value.nickname=h.nickname||"",s.value.name=h.name||"",s.value.birthday=h.birthday&&h.birthday!="1970-01-01"?h.birthday:yn.Date("Y/m/d"),s.value.department=h.department||"",s.value.position=h.position||"",s.value.gender=h.gender||"",c=[{label:i.langs.null,value:""},{label:i.langs.uinfo_gender_boy,value:""},{label:i.langs.uinfo_gender_girl,value:""}]}},{deep:!0});const u=()=>{f();const d=dt.Loading();Yn.Post("user/change_uinfo?lang="+i.lang,{token:i.token,uinfo:s},h=>{d.clear();const{code:p,msg:v}=h.data;p==0&&(i.uinfo.nickname=s.value.nickname,i.uinfo.name=s.value.name,i.uinfo.gender=s.value.gender,i.uinfo.birthday=s.value.birthday,i.uinfo.department=s.value.department,i.uinfo.position=s.value.position),dt.Toast(v)})},f=()=>{r("update:show",!1)};return(d,h)=>(Z(),St(KS,{show:Q(o),"onUpdate:show":h[7]||(h[7]=p=>ia(o)?o.value=p:o=p),title:Q(i).langs.uinfo_title,width:"560px",bottom:"40px",onClose:h[8]||(h[8]=p=>f())},{bottom:it(()=>[ot(Cf,{height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>u())},{default:it(()=>[Pt(ge(Q(i).langs.confirm),1)]),_:1})]),default:it(()=>[ot(qS,null,{default:it(()=>[ot(ZS,null,{default:it(()=>[W("tr",null,[W("td",zae,ge(Q(i).langs.uinfo_nickname),1),W("td",Uae,[ot(ko,{value:s.value.nickname,"onUpdate:value":h[0]||(h[0]=p=>s.value.nickname=p),placeholder:Q(i).langs.uinfo_nickname_placeholder,maxlength:"16"},null,8,["value","placeholder"])])]),W("tr",null,[W("td",Hae,ge(Q(i).langs.uinfo_name),1),W("td",null,[ot(ko,{value:s.value.name,"onUpdate:value":h[1]||(h[1]=p=>s.value.name=p),maxlength:"16",disabled:""},null,8,["value"])]),W("td",null,[ot(Cee,{value:s.value.gender,"onUpdate:value":h[2]||(h[2]=p=>s.value.gender=p),options:Q(c)},null,8,["value","options"])])]),W("tr",null,[W("td",Vae,ge(Q(i).langs.uinfo_birthday),1),W("td",Wae,[ot(t7,{value:s.value.birthday,"onUpdate:value":h[3]||(h[3]=p=>s.value.birthday=p),maxDate:Q(l)},null,8,["value","maxDate"])])]),W("tr",null,[W("td",Gae,ge(Q(i).langs.uinfo_department),1),W("td",Yae,[ot(ko,{value:s.value.department,"onUpdate:value":h[4]||(h[4]=p=>s.value.department=p),maxlength:"16"},null,8,["value"])])]),W("tr",null,[W("td",Xae,ge(Q(i).langs.uinfo_position),1),W("td",qae,[ot(ko,{value:s.value.position,"onUpdate:value":h[5]||(h[5]=p=>s.value.position=p),maxlength:"16"},null,8,["value"])])])]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),Zae=ma(Kae,[["__scopeId","data-v-738bed82"]]);class Kb{static IsRight(t,n){return{uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{3,15}$/,passwd:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{6,16}$/,tel:/^1\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,idcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/}[t].test(n)}static Test(t,n){return t.test(n)}}const Qae={class:"label"},Jae={onsubmit:"return false"},eie={class:"label"},tie={onsubmit:"return false"},nie=Ht({__name:"Passwd",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=ls().state;let o;const s=Ee({show:!1,uname:"",passwd1:"",passwd2:"",is_vcode:!1,vcode:"",text:"",num:60});Ut(()=>n.show,d=>{s.value.show=d,d&&(s.value.text=i.langs.passwd_code_get,i.uinfo.tel?s.value.uname=i.uinfo.tel:i.uinfo.email?s.value.uname=i.uinfo.email:i.uinfo.uname&&(s.value.uname=i.uinfo.uname))},{deep:!0});const l=()=>{if(s.value.num!=60)return;let d="";if(Kb.IsRight("tel",s.value.uname))d="tel";else if(Kb.IsRight("email",s.value.uname))d="email";else return dt.Toast(i.langs.passwd_verify_null);const h=dt.Loading();Yn.Post("user/get_vcode?lang="+i.lang,{type:d,uname:s.value.uname},p=>{h.clear();const{code:v,msg:g,data:m}=p.data;return v==0?(c(),s.value.vcode=m.toString()):v==4001&&(s.value.num=m,c()),dt.Toast(g)})},c=()=>{clearInterval(o),o=setInterval(()=>{s.value.num--,s.value.text=i.langs.passwd_code_time(s.value.num),s.value.num<=0&&(clearInterval(o),s.value.num=60,s.value.text=i.langs.passwd_code_resend)},1e3)},u=()=>{if(s.value.vcode.length!=4)return dt.Toast(i.langs.passwd_verify_code);if(s.value.is_vcode=!0,!Kb.IsRight("passwd",s.value.passwd1)||s.value.passwd1!==s.value.passwd2)return dt.Toast(i.langs.passwd_verify_passwd1);const d=dt.Loading();Yn.Post("user/change_passwd?lang="+i.lang,{uname:s.value.uname,passwd:s.value.passwd1,vcode:s.value.vcode},h=>{d.clear();const{code:p,msg:v}=h.data;if(p==0)i.isLogin=!1,f();else return dt.Toast(v)})},f=()=>{s.value.is_vcode=!1,s.value.vcode="",s.value.passwd1="",s.value.passwd2="",r("update:show",!1)};return(d,h)=>(Z(),St(KS,{show:s.value.show,"onUpdate:show":h[8]||(h[8]=p=>s.value.show=p),title:Q(i).langs.passwd_title,width:"420px",bottom:"40px",onClose:h[9]||(h[9]=p=>f())},{bottom:it(()=>[s.value.is_vcode?ye("",!0):(Z(),St(Cf,{key:0,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[5]||(h[5]=p=>u())},{default:it(()=>[Pt(ge(Q(i).langs.next),1)]),_:1})),s.value.is_vcode?(Z(),St(Cf,{key:1,effect:"plain",type:"primary",height:"40px",padding:"0 32px",onClick:h[6]||(h[6]=p=>s.value.is_vcode=!1)},{default:it(()=>[Pt(ge(Q(i).langs.prev),1)]),_:1})):ye("",!0),s.value.is_vcode?(Z(),St(Cf,{key:2,effect:"dark",type:"primary",height:"40px",padding:"0 32px",onClick:h[7]||(h[7]=p=>u())},{default:it(()=>[Pt(ge(Q(i).langs.confirm),1)]),_:1})):ye("",!0)]),default:it(()=>[ot(qS,null,{default:it(()=>[ot(ZS,null,{default:it(()=>[s.value.is_vcode?(Z(),ne(Ge,{key:1},[W("tr",null,[W("td",Qae,ge(Q(i).langs.passwd_new),1),W("td",null,[W("form",Jae,[ot(ko,{type:"password",value:s.value.passwd1,"onUpdate:value":h[3]||(h[3]=p=>s.value.passwd1=p),maxlength:"16"},null,8,["value"])])])]),W("tr",null,[W("td",eie,ge(Q(i).langs.passwd_confirm),1),W("td",null,[W("form",tie,[ot(ko,{type:"password",value:s.value.passwd2,"onUpdate:value":h[4]||(h[4]=p=>s.value.passwd2=p),maxlength:"16"},null,8,["value"])])])])],64)):(Z(),ne(Ge,{key:0},[W("tr",null,[W("td",null,[ot(ko,{value:s.value.uname,"onUpdate:value":h[0]||(h[0]=p=>s.value.uname=p),disabled:"",maxlength:"32",icon:"ui ui_user",padding:"0 10px 0 40px"},null,8,["value"])])]),W("tr",null,[W("td",null,[ot(ko,{value:s.value.vcode,"onUpdate:value":h[1]||(h[1]=p=>s.value.vcode=p),placeholder:Q(i).langs.passwd_code_placeholder,maxlength:"4",icon:"ui ui_safety",padding:"0 10px 0 40px",text:s.value.text,onTextClick:h[2]||(h[2]=p=>l())},null,8,["value","placeholder","text"])])])],64))]),_:1})]),_:1})]),_:1},8,["show","title"]))}}),rie=ma(nie,[["__scopeId","data-v-6487da48"]]);class vE{static Fixed(t,n=2){let r="";for(let i=0;i<n;i++)r+="0";let a=parseInt("1"+r);return Math.floor(t*a)/a}static FileSize(t){return t/1024<1024?(t/1024).toFixed(2)+"KB":t/1024/1024<1024?(t/1024/1024).toFixed(2)+"MB":t/1024/1024/1024<1024?(t/1024/1024/1024).toFixed(2)+"GB":(t/1024/1024/1024/1024).toFixed(2)+"TB"}static priceEncode(t,n=2){return isNaN(parseFloat(t))&&(t="0"),parseFloat(t).toFixed(n).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static priceDecode(t,n=2){return parseFloat(t.replace(/,/g,"")).toFixed(n)}static PriceQoq(t=0,n=0,r=2){return t-n==0?"0":t==0?"-100":n==0?"100":parseFloat(String((t-n)/n*100)).toFixed(r).toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}static telEncode(t,n=" "){if(!/^[1]\d{10}$/.test(t))return t;let a="";for(let i=0;i<t.length;i++)(i==3||i==7)&&(a+=n),a+=t.substring(i,i+1);return a}static telDecode(t,n=" "){const r=new RegExp("/"+n+"/g");return t.replace(r,"")}static cardEncode(t,n=" "){if(!/^\d+$/.test(t))return t;let a="";for(let i=0;i<t.length;i++)i%4===0&&(a+=n),a+=t.substring(i,i+1);return a}static cardDecode(t,n=" "){const r=new RegExp("/"+n+"/g");return t.replace(r,"")}}const aie=["src"],iie={ref:"wmImageLoading",class:"loading_img"},oie={key:2,class:"wm-image_view_info"},sie={key:0},lie={class:"prev"},cie={class:"next"},uie=Ht({__name:"view",props:{show:{type:Boolean,default:!1},index:{type:Number,default:0},options:{type:Array,default:[]},bgColor:{type:String,default:"rgba(0,0,0,.8)"},icoSize:{type:String,default:"32px"}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t,o=ls().state,s=Ee(!1),l=Ee(0),c=Ee(""),u=Ee(!1),f=Ee(""),d=Ee(""),h=Ee("");Ut(()=>n.show,x=>{x&&(l.value=n.index,g(l.value),window.addEventListener("resize",p),document.addEventListener("keydown",v))},{deep:!0});const p=()=>{n.show&&g(l.value)},v=x=>{switch(x.keyCode||x.which){case 37:g(l.value-1);break;case 39:g(l.value+1);break;case 27:y();break}},g=x=>{x<0&&(x=n.options.length-1),x>=n.options.length&&(x=0),l.value=x;let b=n.options[x]?n.options[x].value:"";if(!b)return y(),dt.Toast("");f.value=n.options[x].label,d.value=n.options[x].size||"",h.value=n.options[x].other||"",s.value=!1;const _=r.$refs.wmImageLoading;_.src=b,_.onload=()=>{const E=document.body.clientWidth,w=document.body.clientHeight,A=E/w,S=_.width/_.height;let O="auto",k="auto";(_.width>E||_.height>w)&&(S>A?O="100%":k="100%"),s.value=!0,c.value=b,An(()=>{const T=r.$refs.wmImageView;T.style.opacity="0",T.style.width="0",T.style.height="0",setTimeout(()=>{T.style.opacity="1",T.style.width=O,T.style.height=k},300)})}},m=()=>{u.value=!u.value;let x=r.$refs.wmImageViewBg;x.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():x.webkitRequestFullScreen():x.mozRequestFullScreen?document.mozFullScreen?document.mozCancelFullScreen():x.mozRequestFullScreen():x.msRequestFullscreen?document.msFullscreenElement?document.msExitFullscreen():x.msRequestFullscreen():x.requestFullscreen&&(document.exitFullscreen?document.exitFullscreen():x.requestFullscreen())},y=()=>{a("update:show",!1),u.value&&m(),window.removeEventListener("resize",p),document.removeEventListener("keydown",v)};return(x,b)=>(Z(),ne("div",{ref:"wmImageViewBg",class:"wm-image_view",style:Ue({backgroundColor:e.bgColor,visibility:e.show?"inherit":"hidden",opacity:e.show?"1":"0"})},[s.value?(Z(),ne("img",{key:1,ref:"wmImageView",src:c.value,style:Ue({visibility:s.value?"inherit":"hidden"})},null,12,aie)):(Z(),ne("i",{key:0,class:"ui ui_loading loading",style:Ue({fontSize:e.icoSize})},null,4)),W("img",iie,null,512),f.value?(Z(),ne("div",oie,[W("span",null,ge(Q(o).langs.name)+": "+ge(f.value),1),d.value?(Z(),ne("span",sie,ge(Q(o).langs.size)+": "+ge(d.value),1)):ye("",!0),h.value?(Z(!0),ne(Ge,{key:1},_t(h.value,(_,E)=>(Z(),ne("span",{key:E},ge(E)+": "+ge(_),1))),128)):ye("",!0),W("span",null,ge(Q(o).langs.page)+": "+ge(l.value+1)+"/"+ge(e.options.length),1)])):ye("",!0),W("i",{class:"ui ui_close tools close",onClick:b[0]||(b[0]=_=>y())}),W("i",{class:Ve(["ui tools full",u.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:b[1]||(b[1]=_=>m())},null,2),W("div",lie,[W("i",{class:"ui ui_arrow_left",onClick:b[2]||(b[2]=Ca(_=>g(l.value-1),["stop"])),style:Ue({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)]),W("div",cie,[W("i",{class:"ui ui_arrow_right",onClick:b[3]||(b[3]=Ca(_=>g(l.value+1),["stop"])),style:Ue({width:"calc("+e.icoSize+" + 16px)",lineHeight:"calc("+e.icoSize+" + 16px)",fontSize:"calc("+e.icoSize+" - 12px)"})},null,4)])],4))}}),n7=ma(uie,[["__scopeId","data-v-9116caf6"]]),fie={class:"wm-msg_content flex"},die={class:"wm-msg_left"},hie={class:"wm-msg_uinfo flex"},pie={key:0,class:"ui ui_image"},vie={class:"name nowrap"},gie={key:0,class:"config"},mie={class:"wm-msg_search"},yie=["placeholder"],xie={key:0,class:"user_list_body"},bie={class:"user_list"},wie=["onClick"],_ie={key:0,class:"ui ui_image"},Eie={class:"name nowrap"},Aie={key:1,class:"null"},Sie={class:"wm-msg_left_ct scrollbar"},Oie={key:0,class:"wm-msg_list"},kie=["onClick"],Tie={key:0,class:"redNum"},Cie={key:1,class:"ui ui_image"},Mie={class:"msg_text"},Pie={class:"flex"},Iie={class:"title nowrap"},Rie={class:"time"},Die={key:0,class:"text nowrap"},Nie={key:1,class:"text nowrap"},Lie={key:2,class:"text nowrap"},Fie={key:1,class:"msg_null"},Bie={class:"wm-msg_title"},$ie={class:"wm-msg_ct scrollbar"},jie={class:"time"},zie={key:0,class:"msg_left flex_left"},Uie={key:0,class:"ui ui_image"},Hie={class:"msg_body flex_left"},Vie={key:0,class:"content msg_ct"},Wie={key:0,class:"red"},Gie={key:1,class:"content file_ct"},Yie={key:0,class:"img_ct"},Xie={key:0,class:"wm-ui_load"},qie=["src","onClick"],Kie={key:1,class:"other_ct"},Zie={class:"text_body"},Qie={class:"nowrap"},Jie={class:"text"},eoe={key:0},toe=["onClick"],noe={key:1,class:"msg_right flex_right"},roe={class:"msg_body flex_right"},aoe={key:0,class:"content msg_ct"},ioe={key:0,class:"red"},ooe={key:1,class:"content file_ct"},soe={key:0,class:"img_ct"},loe={key:0,class:"wm-ui_load"},coe=["src","onClick"],uoe={key:1,class:"other_ct"},foe={class:"text_body"},doe={class:"nowrap"},hoe={class:"text"},poe={key:0},voe=["onClick"],goe={key:0,class:"ui ui_image"},moe={key:1,class:"msg_null"},yoe={class:"wm-msg_tools flex_flex"},xoe=["onKeydown","disabled"],boe={class:"wm-msg_action flex_right"},woe=Ht({__name:"Msg",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,r=t,i=ls().state,o=Ee({refreshing:!1,loading:!1,finished:!1}),s=Ee(!1),l=Ee(!1),c=Ee({show:!1,key:"",list:[]}),u=Ee({num:1,limit:12}),f=Ee({content:""});let d=Ee(600);const h=Ee({show:!1,index:0,imgs:[]});Ut(()=>n.show,B=>{s.value=B,B&&y()},{deep:!0}),Ut(()=>i.msg.readId,B=>{B>0&&E([B],!1),_(),i.msg.readId=0},{deep:!0}),On(()=>{y()});const p=()=>{const B=c.value.key.trim();B?(c.value.show=!0,Yn.Post("msg/sea?lang="+i.lang,{token:i.token,key:B},F=>{const D=F.data;D.code==0&&(c.value.list=D.data)})):(c.value.show=!1,c.value.list=[])},v=B=>{c.value.show=!1;for(let D of i.msg.group)if(D.gid==B.gid&&D.fid==B.fid)return b(D);const F={gid:B.gid,fid:B.fid,title:B.title,content:"",img:B.img,time:yn.Date("Y-m-d H:i:s"),num:0};return i.msg.group.unshift(F),b(F)},g=()=>{u.value.num=1,o.value.finished=!1,i.msg.list=[],x()},m=()=>{if(o.value.finished)return i.msg.list.length>0?dt.Toast("!"):void 0;u.value.num+=1,x()},y=()=>{Yn.Post("msg/list",{token:i.token},B=>{const{code:F,msg:D,data:R}=B.data;F===0&&(i.msg.group=R.list,i.msg.num=R.num)})},x=()=>{Yn.Post("msg/show",{token:i.token,gid:i.msg.gid,fid:i.msg.fid,page:u.value.num,limit:u.value.limit},B=>{const{code:F,msg:D,data:R}=B.data;if(F===0){if(R.length>0){i.msg.list.unshift(...R);let V=[];for(let H of R)H.is_new&&V.push(H.id);E(V)}else o.value.finished=!0,m();u.value.num===1&&_()}else return dt.Toast(D)})},b=B=>{i.msg.gid=B.gid,i.msg.fid=B.fid,i.msg.title=B.title,i.msg.img=B.img,f.value.content=B.sendContent||"",g()},_=()=>{let B=!1;i.msg.isBottom=!1;for(let F of i.msg.list)if(F.format===1&&N(F.content.type)){B=!0;const D=new Image;D.src=F.content.url+F.content.file,D.onload=()=>{setTimeout(()=>{var R;(R=document.querySelector("#msgBottom"))==null||R.scrollIntoView(!0)},100)}}B||An(()=>{var F;(F=document.querySelector("#msgBottom"))==null||F.scrollIntoView(!0)})},E=(B=[],F=!0)=>{if(B.length!=0){if(F){i.msg.num-=B.length;for(let D of i.msg.group)D.gid===i.msg.gid&&D.fid===i.msg.fid&&(D.num-=B.length,D.num<0&&(D.num=0))}Yn.Post("msg/read?lang="+i.lang,{token:i.token,ids:B},D=>{const{code:R,msg:V}=D.data;R!==0&&dt.Toast(V)})}},w=()=>{for(let B of i.msg.group)B.gid===i.msg.gid&&B.fid===i.msg.fid&&(B.sendContent=f.value.content)},A=()=>{f.value.content+=`
`},S=async B=>{var D;const F=(D=B.clipboardData)==null?void 0:D.items;if(F){for(const R of F)if(R.type.includes("image")){const V=R.getAsFile();T(V)}}},O=B=>{if(B.preventDefault(),!i.msg.title)return;const D=B.dataTransfer.files;for(let R of D)T(R)},k=()=>{i.msg.title&&za.Select({multiple:!0,mimeType:[]},B=>{for(let F of B)T(F)},B=>{dt.Toast(B)})},T=async B=>{const{blob:F,base64:D}=await G(B);Yn.Post("msg/oss_sgin?lang="+i.lang,{token:i.token,filename:B.name},R=>{const{code:V,msg:H,data:j}=R.data;if(V!==0)return dt.Toast(H);const K=yn.TimeMicro(),re=yn.Date("Y-m-d H:i:s"),ae={gid:i.msg.gid,fid:parseInt(i.uinfo.uid),uid:i.msg.fid,is_new:!1,time:re,format:1,title:i.uinfo.name,img:i.uinfo.img,content:{name:B.name,type:B.type,size:B.size,ext:j.ext,url:j.host,file:j.key},loading:K,load:0,base64:D};i.msg.list.push(ae);const U=i.msg.list.length-1;_();let q=new FormData;q.append("OSSAccessKeyId",j.accessid),q.append("policy",j.policy),q.append("Signature",j.signature),q.append("key",j.key),q.append("file",F),Yn.Post(j.host,q,J=>{J.data&&dt.Toast(J.data)},J=>{dt.Toast("")},{headers:{"Content-Type":"multipart/form-data;charset=utf-8"},onUploadProgress:J=>{let X=J.loaded/J.total*100|0;i.msg.list[U].load=X,X===100&&(ae.type="msg",ae.base64="",i.socket.send(JSON.stringify(ae)))}})})},C=(B,F)=>{za.Down(B,F)},M=B=>{let F=0,D=[];for(let R of i.msg.list)R.format!==1||!N(R.content.type)||(R.content.url+R.content.file==B&&(h.value.index=F),D.push({label:R.content.name,value:R.content.url+R.content.file}),F++);h.value.show=!0,h.value.imgs=D},P=(B=null)=>{if(B&&B.preventDefault(),!i.msg.title||f.value.content.trim()=="")return;const F=yn.TimeMicro(),D=yn.Date("Y-m-d H:i:s"),R={gid:i.msg.gid,fid:parseInt(i.uinfo.uid),uid:i.msg.fid,is_new:!1,time:D,format:0,title:i.uinfo.name,img:i.uinfo.img,content:f.value.content.trim(),loading:F};i.msg.list.push(R),i.socket&&(R.type="msg",i.socket.send(JSON.stringify(R))),i.msg.gid===1&&i.msg.list.push({fid:i.msg.fid,uid:0,format:0,is_new:!1,time:D,title:i.msg.title,img:i.msg.img,content:"...",loading:F+1}),_(),I()},I=()=>{f.value.content="";for(let B of i.msg.group)B.gid===i.msg.gid&&B.fid===i.msg.fid&&(B.sendContent="")},L=B=>{const F=yn.Date("Y-m-d"),D=yn.StrToTime(F+" 00:00:00");return yn.StrToTime(B)>=D?B.substring(11,16):B.substring(5,10)},z=(B,F)=>B===F?"":B?yn.TimeSize(B,F)>d.value?yn.FormatTime(F):"":yn.FormatTime(F),N=B=>["image/jpeg","image/png","image/gif"].includes(B),G=B=>new Promise(F=>{if(!N(B.type))return F({blob:B,base64:""});za.FileToBase64(B,D=>{za.ImageCompress(D,{width:1024,type:B.type},R=>{za.Base64ToFile(R,B.name,V=>F({blob:V,base64:R}),V=>{dt.Toast(V)})},R=>{dt.Toast(R)})})}),Y=()=>{r("update:show",!1)};return(B,F)=>(Z(),ne(Ge,null,[W("div",{class:"wm-msg_body",style:Ue({visibility:s.value?"inherit":"hidden"})},[ot(f1,{width:"980px",height:"700px",show:s.value,"onUpdate:show":F[13]||(F[13]=D=>s.value=D),onClose:F[14]||(F[14]=D=>Y())},{default:it(()=>[W("div",fie,[W("div",die,[W("div",hie,[W("div",{class:"img",style:Ue({backgroundImage:Q(i).uinfo.img?"url("+Q(i).uinfo.img+")":""})},[Q(i).uinfo.img?ye("",!0):(Z(),ne("i",pie))],4),W("div",vie,ge(Q(i).uinfo.nickname),1),W("div",{class:"more",tabindex:"0",onBlur:F[2]||(F[2]=D=>l.value=!1),onFocus:F[3]||(F[3]=D=>l.value=!1)},[F[18]||(F[18]=W("i",{class:"ui ui_more"},null,-1)),l.value?(Z(),ne("ul",gie,[W("li",{class:"flex_left",onClick:F[0]||(F[0]=D=>Q(i).isUinfo=!0)},[F[16]||(F[16]=W("i",{class:"ui ui_user"},null,-1)),W("span",null,ge(Q(i).langs.uinfo_title),1)]),W("li",{class:"flex_left",onClick:F[1]||(F[1]=D=>Q(i).isPasswd=!0)},[F[17]||(F[17]=W("i",{class:"ui ui_safety"},null,-1)),W("span",null,ge(Q(i).langs.passwd_title),1)])])):ye("",!0)],32)]),W("div",mie,[F[20]||(F[20]=W("i",{class:"sea ui ui_search"},null,-1)),Ns(W("input",{type:"text","onUpdate:modelValue":F[4]||(F[4]=D=>c.value.key=D),placeholder:Q(i).langs.msg_seach,onInput:F[5]||(F[5]=D=>p())},null,40,yie),[[kf,c.value.key]]),c.value.show?(Z(),ne("div",xie,[F[19]||(F[19]=W("div",{class:"arrow arrow_up"},null,-1)),W("ul",bie,[c.value.list.length>0?(Z(!0),ne(Ge,{key:0},_t(c.value.list,(D,R)=>(Z(),ne("li",{class:"flex",key:R,onClick:V=>v(D)},[W("div",{class:"img",style:Ue({backgroundImage:D.img?"url("+D.img+")":""})},[D.img?ye("",!0):(Z(),ne("i",_ie))],4),W("div",Eie,ge(D.title),1)],8,wie))),128)):(Z(),ne("li",Aie))])])):ye("",!0)]),W("div",Sie,[Q(i).msg.group.length>0?(Z(),ne("ul",Oie,[(Z(!0),ne(Ge,null,_t(Q(i).msg.group,D=>(Z(),ne("li",{class:Ve(["flex",D.gid===Q(i).msg.gid&&D.fid===Q(i).msg.fid?"active":""]),onClick:R=>b(D)},[W("div",{class:"img",style:Ue({backgroundImage:D.img?"url("+D.img+")":""})},[D.num>0?(Z(),ne("span",Tie,ge(D.num),1)):ye("",!0),D.img?ye("",!0):(Z(),ne("i",Cie))],4),W("div",Mie,[W("div",Pie,[W("div",Iie,ge(D.title),1),W("div",Rie,ge(L(D.time)),1)]),D.sendContent?(Z(),ne("div",Die,"[]"+ge(D.sendContent),1)):ye("",!0),D.format===1?(Z(),ne("div",Nie,"["+ge(N(D.content.type)?"":"")+"] "+ge(D.content.name),1)):(Z(),ne("div",Lie,ge(D.content),1))])],10,kie))),256))])):(Z(),ne("div",Fie,ge(Q(i).langs.msg_null),1))])]),W("div",{class:"wm-msg_right",onDragover:F[12]||(F[12]=Ca(()=>{},["prevent"])),onDrop:O},[W("div",Bie,ge(Q(i).msg.title),1),W("div",$ie,[Q(i).msg.list.length>0?(Z(),ne(Ge,{key:0},[o.value.finished?ye("",!0):(Z(),ne("div",{key:0,class:"history",onClick:F[6]||(F[6]=D=>m())},"")),(Z(!0),ne(Ge,null,_t(Q(i).msg.list,(D,R)=>(Z(),ne(Ge,{key:R},[W("div",jie,ge(z(Q(i).msg.list[R-1]?Q(i).msg.list[R-1].time:D.time,D.time)),1),D.fid!=Q(i).uinfo.uid?(Z(),ne("div",zie,[W("div",{class:"img",style:Ue({backgroundImage:D.img?"url("+D.img+")":""})},[D.img?ye("",!0):(Z(),ne("i",Uie))],4),W("div",Hie,[D.format===0?(Z(),ne("div",Vie,[F[21]||(F[21]=W("span",{class:"arrow"},null,-1)),D.loading?(Z(),ne("span",Wie)):ye("",!0),W("pre",null,ge(D.content),1)])):D.format===1?(Z(),ne("div",Gie,[F[24]||(F[24]=W("span",{class:"arrow"},null,-1)),N(D.content.type)?(Z(),ne("div",Yie,[D.loading?(Z(),ne("div",Xie,[...F[22]||(F[22]=[W("span",null,[W("i",{class:"ui ui_loading"})],-1)])])):ye("",!0),W("img",{src:D.base64?D.base64:D.content.url+D.content.file+"?x-oss-process=image/resize,l_360",onClick:V=>M(D.content.url+D.content.file)},null,8,qie)])):(Z(),ne("div",Kie,[F[23]||(F[23]=W("i",{class:"ui ui_file"},null,-1)),W("div",Zie,[W("h2",Qie,ge(D.content.name),1),W("div",Jie,[Pt(ge(Q(vE).FileSize(D.content.size))+"| ",1),D.loading?(Z(),ne("a",eoe,"")):(Z(),ne("a",{key:1,onClick:V=>C(D.content.url+D.content.file,D.content.name)},"",8,toe))]),D.loading?(Z(),ne("div",{key:0,class:"load",style:Ue({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+D.load+"%, #F2F2F2 "+D.load+"%, #F2F2F2 100%)"})},null,4)):ye("",!0)])]))])):ye("",!0)])])):(Z(),ne("div",noe,[W("div",roe,[D.format===0?(Z(),ne("div",aoe,[F[25]||(F[25]=W("span",{class:"arrow"},null,-1)),D.loading?(Z(),ne("span",ioe)):ye("",!0),W("pre",null,ge(D.content),1)])):D.format===1?(Z(),ne("div",ooe,[F[28]||(F[28]=W("span",{class:"arrow"},null,-1)),N(D.content.type)?(Z(),ne("div",soe,[D.loading?(Z(),ne("div",loe,[...F[26]||(F[26]=[W("span",null,[W("i",{class:"ui ui_loading"})],-1)])])):ye("",!0),W("img",{src:D.base64?D.base64:D.content.url+D.content.file+"?x-oss-process=image/resize,l_360",onClick:V=>M(D.content.url+D.content.file)},null,8,coe)])):(Z(),ne("div",uoe,[F[27]||(F[27]=W("i",{class:"ui ui_file"},null,-1)),W("div",foe,[W("h2",doe,ge(D.content.name),1),W("div",hoe,[Pt(ge(Q(vE).FileSize(D.content.size))+"| ",1),D.loading?(Z(),ne("a",poe,"")):(Z(),ne("a",{key:1,onClick:V=>C(D.content.url+D.content.file,D.content.name)},"",8,voe))]),D.loading?(Z(),ne("div",{key:0,class:"load",style:Ue({backgroundImage:"linear-gradient(to right, #6FB737, #6FB737 "+D.load+"%, #F2F2F2 "+D.load+"%, #F2F2F2 100%)"})},null,4)):ye("",!0)])]))])):ye("",!0)]),W("div",{class:"img",style:Ue({backgroundImage:D.img?"url("+D.img+")":""})},[D.img?ye("",!0):(Z(),ne("i",goe))],4)]))],64))),128))],64)):(Z(),ne("div",moe,ge(Q(i).langs.msg_null),1)),F[29]||(F[29]=W("div",{id:"msgBottom"},null,-1))]),W("ul",yoe,[W("li",{onClick:F[7]||(F[7]=D=>k())},[...F[30]||(F[30]=[W("i",{class:"ui ui_folder"},null,-1)])])]),Ns(W("textarea",{class:"wm-msg_area scrollbar","onUpdate:modelValue":F[8]||(F[8]=D=>f.value.content=D),onInput:F[9]||(F[9]=D=>w()),onPaste:S,onKeyup:F[10]||(F[10]=hc(Ca(D=>A(),["ctrl"]),["enter"])),onKeydown:hc(Ca(P,["exact"]),["enter"]),disabled:!Q(i).msg.title,enterkeyhint:"send"},null,40,xoe),[[kf,f.value.content]]),W("div",boe,[F[32]||(F[32]=W("span",null,"Ctrl+Enter",-1)),ot(Cf,{padding:"0 32px",onClick:F[11]||(F[11]=D=>P())},{default:it(()=>[...F[31]||(F[31]=[Pt("",-1)])]),_:1})])],32)])]),_:1},8,["show"])],4),ot(n7,{show:h.value.show,"onUpdate:show":F[15]||(F[15]=D=>h.value.show=D),index:h.value.index,options:h.value.imgs},null,8,["show","index","options"])],64))}}),_oe=ma(woe,[["__scopeId","data-v-073ec838"]]);function Eoe(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function Aoe(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var Soe=(function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ooe=(function(e){Soe(t,e);function t(n,r){var a=this.constructor,i=e.call(this,n,r)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Eoe(i,a.prototype),Aoe(i),i}return t})(Error),koe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bo=(function(e){koe(t,e);function t(n){n===void 0&&(n=void 0);var r=e.call(this,n)||this;return r.message=n,r}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t})(Ooe),Toe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ws=(function(e){Toe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t})(bo),Coe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Et=(function(e){Coe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t})(bo),Moe=(function(){function e(t){if(this.binarizer=t,t===null)throw new Et("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,r,a){var i=this.binarizer.getLuminanceSource().crop(t,n,r,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e})(),Poe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ua=(function(e){Poe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t})(bo),Ioe=(function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e})(),fr=(function(){function e(){}return e.arraycopy=function(t,n,r,a,i){for(;i--;)r[a++]=t[n++]},e.currentTimeMillis=function(){return Date.now()},e})(),Roe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),y3=(function(e){Roe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t})(bo),Doe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),j4=(function(e){Doe(t,e);function t(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var a=e.call(this,r)||this;return a.index=n,a.message=r,a}return t.kind="ArrayIndexOutOfBoundsException",t})(y3),Noe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=(function(){function e(){}return e.fill=function(t,n){for(var r=0,a=t.length;r<a;r++)t[r]=n},e.fillWithin=function(t,n,r,a){e.rangeCheck(t.length,n,r);for(var i=n;i<r;i++)t[i]=a},e.rangeCheck=function(t,n,r){if(n>r)throw new Et("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new j4(n);if(r>t)throw new j4(r)},e.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},e.create=function(t,n,r){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:n}).fill(r)})},e.createInt32Array=function(t,n,r){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:n}).fill(r)})},e.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var r=0,a=t.length;r<a;r++)if(t[r]!==n[r])return!1;return!0},e.hashCode=function(t){var n,r;if(t===null)return 0;var a=1;try{for(var i=Noe(t),o=i.next();!o.done;o=i.next()){var s=o.value;a=31*a+s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.fillUint8Array=function(t,n){for(var r=0;r!==t.length;r++)t[r]=n},e.copyOf=function(t,n){return t.slice(0,n)},e.copyOfUint8Array=function(t,n){if(t.length<=n){var r=new Uint8Array(n);return r.set(t),r}return t.slice(0,n)},e.copyOfRange=function(t,n,r){var a=r-n,i=new Int32Array(a);return fr.arraycopy(t,n,i,0,a),i},e.binarySearch=function(t,n,r){r===void 0&&(r=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var o=i+a>>1,s=r(n,t[o]);if(s>0)a=o+1;else if(s<0)i=o-1;else return o}return-a-1},e.numberComparator=function(t,n){return t-n},e})(),on=(function(){function e(){}return e.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var r=31;return n=t<<16,n!==0&&(r-=16,t=n),n=t<<8,n!==0&&(r-=8,t=n),n=t<<4,n!==0&&(r-=4,t=n),n=t<<2,n!==0&&(r-=2,t=n),r-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,n){return Math.trunc(t/n)},e.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e})(),Va=(function(){function e(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=e.makeArray(t):this.bits=n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=e.makeArray(t);fr.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var r=this.bits,a=Math.floor(t/32),i=r[a];i&=~((1<<(t&31))-1);for(var o=r.length;i===0;){if(++a===o)return n;i=r[a]}var s=a*32+on.numberOfTrailingZeros(i);return s>n?n:s},e.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var r=this.bits,a=Math.floor(t/32),i=~r[a];i&=~((1<<(t&31))-1);for(var o=r.length;i===0;){if(++a===o)return n;i=~r[a]}var s=a*32+on.numberOfTrailingZeros(i);return s>n?n:s},e.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},e.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new Et;if(n!==t){n--;for(var r=Math.floor(t/32),a=Math.floor(n/32),i=this.bits,o=r;o<=a;o++){var s=o>r?0:t&31,l=o<a?31:n&31,c=(2<<l)-(1<<s);i[o]|=c}}},e.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,r=0;r<t;r++)n[r]=0},e.prototype.isRange=function(t,n,r){if(n<t||t<0||n>this.size)throw new Et;if(n===t)return!0;n--;for(var a=Math.floor(t/32),i=Math.floor(n/32),o=this.bits,s=a;s<=i;s++){var l=s>a?0:t&31,c=s<i?31:n&31,u=(2<<c)-(1<<l)&4294967295;if((o[s]&u)!==(r?u:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,n){if(n<0||n>32)throw new Et("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((t>>r-1&1)===1)},e.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(t.get(r))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Et("Sizes don't match");for(var n=this.bits,r=0,a=n.length;r<a;r++)n[r]^=t.bits[r]},e.prototype.toBytes=function(t,n,r,a){for(var i=0;i<a;i++){for(var o=0,s=0;s<8;s++)this.get(t)&&(o|=1<<7-s),t++;n[r+i]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,a=this.bits,i=0;i<r;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,t[n-i]=o}if(this.size!==r*32){for(var s=r*32-this.size,l=t[0]>>>s,i=1;i<r;i++){var c=t[i];l|=c<<32-s,t[i-1]=l,l=c>>>s}t[r-1]=l}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&Oa.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+Oa.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",n=0,r=this.size;n<r;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],n=0,r=this.size;n<r;n++)t.push(this.get(n));return t},e})(),gE;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(gE||(gE={}));const kr=gE;var Loe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tt=(function(e){Loe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t})(bo),Foe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jn;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(jn||(jn={}));var Sa=(function(){function e(t,n,r){for(var a,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var f=l[c];e.VALUES_TO_ECI.set(f,this)}try{for(var d=Foe(o),h=d.next();!h.done;h=d.next()){var p=h.value;e.NAME_TO_ECI.set(p,this)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new tt("incorect value");var n=e.VALUES_TO_ECI.get(t);if(n===void 0)throw new tt("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(n===void 0)throw new tt("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(jn.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(jn.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(jn.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(jn.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(jn.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(jn.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(jn.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(jn.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(jn.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(jn.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(jn.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(jn.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(jn.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(jn.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(jn.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(jn.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(jn.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(jn.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(jn.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(jn.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(jn.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(jn.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(jn.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(jn.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(jn.Big5,28,"Big5"),e.GB18030=new e(jn.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(jn.EUC_KR,30,"EUC_KR","EUC-KR"),e})(),Boe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sm=(function(e){Boe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t})(bo),ts=(function(){function e(){}return e.decode=function(t,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof Sa?t:Sa.getCharacterSetECIByName(t)},e.decodeFallback=function(t,n){var r=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(r)){for(var a="",i=0,o=t.length;i<o;i++){var s=t[i].toString(16);s.length<2&&(s="0"+s),a+="%"+s}return decodeURIComponent(a)}if(r.equals(Sa.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Sm("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(Sa.UTF8)||t.equals(Sa.ISO8859_1)||t.equals(Sa.ASCII)},e.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),r=n.split(""),a=[],i=0;i<r.length;i++)a.push(r[i].charCodeAt(0));return new Uint8Array(a)},e})(),hn=(function(){function e(){}return e.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return ts.decode(new Uint8Array([t]),r)},e.guessEncoding=function(t,n){if(n!=null&&n.get(kr.CHARACTER_SET)!==void 0)return n.get(kr.CHARACTER_SET).toString();for(var r=t.length,a=!0,i=!0,o=!0,s=0,l=0,c=0,u=0,f=0,d=0,h=0,p=0,v=0,g=0,m=0,y=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,x=0;x<r&&(a||i||o);x++){var b=t[x]&255;o&&(s>0?(b&128)===0?o=!1:s--:(b&128)!==0&&((b&64)===0?o=!1:(s++,(b&32)===0?l++:(s++,(b&16)===0?c++:(s++,(b&8)===0?u++:o=!1))))),a&&(b>127&&b<160?a=!1:b>159&&(b<192||b===215||b===247)&&m++),i&&(f>0?b<64||b===127||b>252?i=!1:f--:b===128||b===160||b>239?i=!1:b>160&&b<224?(d++,p=0,h++,h>v&&(v=h)):b>127?(f++,h=0,p++,p>g&&(g=p)):(h=0,p=0))}return o&&s>0&&(o=!1),i&&f>0&&(i=!1),o&&(y||l+c+u>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||v>=3||g>=3)?e.SHIFT_JIS:a&&i?v===2&&d===2||m*10>=r?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:o?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=-1;function i(s,l,c,u,f,d){if(s==="%%")return"%";if(n[++a]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,p;switch(d){case"s":p=n[a];break;case"c":p=n[a][0];break;case"f":p=parseFloat(n[a]).toFixed(s);break;case"p":p=parseFloat(n[a]).toPrecision(s);break;case"e":p=parseFloat(n[a]).toExponential(s);break;case"x":p=parseInt(n[a]).toString(h||16);break;case"d":p=parseFloat(parseInt(n[a],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";p.length<v;)p=l!==void 0?p+g:g+p;return p}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},e.getBytes=function(t,n){return ts.encode(t,n)},e.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=Sa.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=Sa.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=Sa.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e})(),rn=(function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=hn.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,n,r){for(var a=n;n<n+r;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},e.prototype.substring=function(t,n){return this.value.substring(t,n)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,n){this.value=this.value.substring(0,t)+n+this.value.substring(t)},e})(),Pl=(function(){function e(t,n,r,a){if(this.width=t,this.height=n,this.rowSize=r,this.bits=a,n==null&&(n=t),this.height=n,t<1||n<1)throw new Et("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,r=t[0].length,a=new e(r,n),i=0;i<n;i++)for(var o=t[i],s=0;s<r;s++)o[s]&&a.set(s,i);return a},e.parseFromString=function(t,n,r){if(t===null)throw new Et("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,o=0,s=-1,l=0,c=0;c<t.length;)if(t.charAt(c)===`
`||t.charAt(c)==="\r"){if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Et("row lengths do not match");o=i,l++}c++}else if(t.substring(c,c+n.length)===n)c+=n.length,a[i]=!0,i++;else if(t.substring(c,c+r.length)===r)c+=r.length,a[i]=!1,i++;else throw new Et("illegal character encountered: "+t.substring(c));if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Et("row lengths do not match");l++}for(var u=new e(s,l),f=0;f<i;f++)a[f]&&u.set(Math.floor(f%s),Math.floor(f/s));return u},e.prototype.get=function(t,n){var r=n*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0},e.prototype.set=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,n){var r=n*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Et("input matrix dimensions do not match");for(var n=new Va(Math.floor(this.width/32)+1),r=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var s=i*r,l=t.getRow(i,n).getBitArray(),c=0;c<r;c++)a[s+c]^=l[c]},e.prototype.clear=function(){for(var t=this.bits,n=t.length,r=0;r<n;r++)t[r]=0},e.prototype.setRegion=function(t,n,r,a){if(n<0||t<0)throw new Et("Left and top must be nonnegative");if(a<1||r<1)throw new Et("Height and width must be at least 1");var i=t+r,o=n+a;if(o>this.height||i>this.width)throw new Et("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=n;c<o;c++)for(var u=c*s,f=t;f<i;f++)l[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new Va(this.width):n.clear();for(var r=this.rowSize,a=this.bits,i=t*r,o=0;o<r;o++)n.setBulk(o*32,a[i+o]);return n},e.prototype.setRow=function(t,n){fr.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),r=new Va(t),a=new Va(t),i=0,o=Math.floor((n+1)/2);i<o;i++)r=this.getRow(i,r),a=this.getRow(n-1-i,a),r.reverse(),a.reverse(),this.setRow(i,a),this.setRow(n-1-i,r)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,r=this.rowSize,a=this.bits,i=t,o=n,s=-1,l=-1,c=0;c<n;c++)for(var u=0;u<r;u++){var f=a[c*r+u];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),u*32<i){for(var d=0;(f<<31-d&4294967295)===0;)d++;u*32+d<i&&(i=u*32+d)}if(u*32+31>s){for(var d=31;!(f>>>d);)d--;u*32+d>s&&(s=u*32+d)}}}return s<i||l<o?null:Int32Array.from([i,o,s-i+1,l-o+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var a=r/t,i=r%t*32,o=n[r],s=0;(o<<31-s&4294967295)===0;)s++;return i+=s,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var a=Math.floor(r/t),i=Math.floor(r%t)*32,o=n[r],s=31;!(o>>>s);)s--;return i+=s,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Oa.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Oa.hashCode(this.bits),t},e.prototype.toString=function(t,n,r){return t===void 0&&(t="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(t,n,r)},e.prototype.buildToString=function(t,n,r){for(var a=new rn,i=0,o=this.height;i<o;i++){for(var s=0,l=this.width;s<l;s++)a.append(this.get(s,i)?t:n);a.append(r)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e})(),$oe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ie=(function(e){$oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t})(bo),joe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zoe=(function(e){joe(t,e);function t(n){var r=e.call(this,n)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return t.prototype.getBlackRow=function(n,r){var a=this.getLuminanceSource(),i=a.getWidth();r==null||r.getSize()<i?r=new Va(i):r.clear(),this.initArrays(i);for(var o=a.getRow(n,this.luminances),s=this.buckets,l=0;l<i;l++)s[(o[l]&255)>>t.LUMINANCE_SHIFT]++;var c=t.estimateBlackPoint(s);if(i<3)for(var l=0;l<i;l++)(o[l]&255)<c&&r.set(l);else for(var u=o[0]&255,f=o[1]&255,l=1;l<i-1;l++){var d=o[l+1]&255;(f*4-u-d)/2<c&&r.set(l),u=f,f=d}return r},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),a=n.getHeight(),i=new Pl(r,a);this.initArrays(r);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(a*s/5),c=n.getRow(l,this.luminances),u=Math.floor(r*4/5),f=Math.floor(r/5);f<u;f++){var d=c[f]&255;o[d>>t.LUMINANCE_SHIFT]++}for(var h=t.estimateBlackPoint(o),p=n.getMatrix(),s=0;s<a;s++)for(var v=s*r,f=0;f<r;f++){var d=p[v+f]&255;d<h&&i.set(f,s)}return i},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)r[a]=0},t.estimateBlackPoint=function(n){for(var r=n.length,a=0,i=0,o=0,s=0;s<r;s++)n[s]>o&&(i=s,o=n[s]),n[s]>a&&(a=n[s]);for(var l=0,c=0,s=0;s<r;s++){var u=s-i,f=n[s]*u*u;f>c&&(l=s,c=f)}if(i>l){var d=i;i=l,l=d}if(l-i<=r/16)throw new Ie;for(var h=l-1,p=-1,s=l-1;s>i;s--){var v=s-i,f=v*v*(l-s)*(a-n[s]);f>p&&(h=s,p=f)}return h<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t})(Ioe),Uoe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Hoe=(function(e){Uoe(t,e);function t(n){var r=e.call(this,n)||this;return r.matrix=null,r}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),a=n.getHeight();if(r>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),o=r>>t.BLOCK_SIZE_POWER;(r&t.BLOCK_SIZE_MASK)!==0&&o++;var s=a>>t.BLOCK_SIZE_POWER;(a&t.BLOCK_SIZE_MASK)!==0&&s++;var l=t.calculateBlackPoints(i,o,s,r,a),c=new Pl(r,a);t.calculateThresholdForBlock(i,o,s,r,a,l,c),this.matrix=c}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,r,a,i,o,s,l){for(var c=o-t.BLOCK_SIZE,u=i-t.BLOCK_SIZE,f=0;f<a;f++){var d=f<<t.BLOCK_SIZE_POWER;d>c&&(d=c);for(var h=t.cap(f,2,a-3),p=0;p<r;p++){var v=p<<t.BLOCK_SIZE_POWER;v>u&&(v=u);for(var g=t.cap(p,2,r-3),m=0,y=-2;y<=2;y++){var x=s[h+y];m+=x[g-2]+x[g-1]+x[g]+x[g+1]+x[g+2]}var b=m/25;t.thresholdBlock(n,v,d,b,i,l)}}},t.cap=function(n,r,a){return n<r?r:n>a?a:n},t.thresholdBlock=function(n,r,a,i,o,s){for(var l=0,c=a*o+r;l<t.BLOCK_SIZE;l++,c+=o)for(var u=0;u<t.BLOCK_SIZE;u++)(n[c+u]&255)<=i&&s.set(r+u,a+l)},t.calculateBlackPoints=function(n,r,a,i,o){for(var s=o-t.BLOCK_SIZE,l=i-t.BLOCK_SIZE,c=new Array(a),u=0;u<a;u++){c[u]=new Int32Array(r);var f=u<<t.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0;d<r;d++){var h=d<<t.BLOCK_SIZE_POWER;h>l&&(h=l);for(var p=0,v=255,g=0,m=0,y=f*i+h;m<t.BLOCK_SIZE;m++,y+=i){for(var x=0;x<t.BLOCK_SIZE;x++){var b=n[y+x]&255;p+=b,b<v&&(v=b),b>g&&(g=b)}if(g-v>t.MIN_DYNAMIC_RANGE)for(m++,y+=i;m<t.BLOCK_SIZE;m++,y+=i)for(var x=0;x<t.BLOCK_SIZE;x++)p+=n[y+x]&255}var _=p>>t.BLOCK_SIZE_POWER*2;if(g-v<=t.MIN_DYNAMIC_RANGE&&(_=v/2,u>0&&d>0)){var E=(c[u-1][d]+2*c[u][d-1]+c[u-1][d-1])/4;v<E&&(_=E)}c[u][d]=_}}return c},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t})(zoe),t2=(function(){function e(t,n){this.width=t,this.height=n}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,n,r,a){throw new Sm("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new Sm("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new Sm("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new rn,r=0;r<this.height;r++){for(var a=this.getRow(r,t),i=0;i<this.width;i++){var o=a[i]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",n.append(s)}n.append(`
`)}return n.toString()},e})(),Voe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),x3=(function(e){Voe(t,e);function t(n){var r=e.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return t.prototype.getRow=function(n,r){for(var a=this.delegate.getRow(n,r),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r),i=0;i<r;i++)a[i]=255-(n[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,r,a,i){return new t(this.delegate.crop(n,r,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t})(t2),Woe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Goe=(function(e){Woe(t,e);function t(n,r){r===void 0&&(r=!1);var a=e.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(n,r),a}return t.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var a=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(a.data,n.width,n.height,r)},t.toGrayscaleBuffer=function(n,r,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(r*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var s=0,l=0,c=n.length;s<c;s+=4,l++){var u=void 0,f=n[s+3];if(f===0)u=255;else{var d=n[s],h=n[s+1],p=n[s+2];u=306*d+601*h+117*p+512>>10}o[l]=u}else for(var s=0,l=0,v=n.length;s<v;s+=4,l++){var u=void 0,f=n[s+3];if(f===0)u=255;else{var d=n[s],h=n[s+1],p=n[s+2];u=306*d+601*h+117*p+512>>10}o[l]=255-u}return o},t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Et("Requested row is outside the image: "+n);var a=this.getWidth(),i=n*a;return r===null?r=this.buffer.slice(i,i+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(i,i+a))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return e.prototype.crop.call(this,n,r,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var r=this.getTempCanvasElement(),a=r.getContext("2d"),i=n*t.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);return r.width=l,r.height=c,a.translate(l/2,c/2),a.rotate(i),a.drawImage(this.canvas,o/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new x3(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t})(t2),Yoe=(function(){function e(t,n,r){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e})(),Fi=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Bi=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,a=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],a=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xoe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ch=(function(){function e(t,n,r){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return Fi(this,void 0,void 0,function(){var t,n,r,a,i,o,s,l,c,u,f,d;return Bi(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=h.sent(),n=[];try{for(r=Xoe(t),a=r.next();!a.done;a=r.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(s=i.deviceId||i.id,l=i.label||"Video device "+(n.length+1),c=i.groupId,u={deviceId:s,label:l,kind:o,groupId:c},n.push(u))}catch(p){f={error:p}}finally{try{a&&!a.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},e.prototype.getVideoInputDevices=function(){return Fi(this,void 0,void 0,function(){var t;return Bi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(r){return new Yoe(r.deviceId,r.label)})]}})})},e.prototype.findDeviceById=function(t){return Fi(this,void 0,void 0,function(){var n;return Bi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,n){return Fi(this,void 0,void 0,function(){return Bi(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,n){return Fi(this,void 0,void 0,function(){var r,a;return Bi(this,function(i){switch(i.label){case 0:return this.reset(),t?r={deviceId:{exact:t}}:r={facingMode:"environment"},a={video:r},[4,this.decodeOnceFromConstraints(a,n)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,n){return Fi(this,void 0,void 0,function(){var r;return Bi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=a.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,n){return Fi(this,void 0,void 0,function(){var r,a;return Bi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return r=i.sent(),[4,this.decodeOnce(r)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,r){return Fi(this,void 0,void 0,function(){return Bi(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,n,r)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,n,r){return Fi(this,void 0,void 0,function(){var a,i;return Bi(this,function(o){switch(o.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(t,n,r){return Fi(this,void 0,void 0,function(){var a;return Bi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,n,r)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,n,r){return Fi(this,void 0,void 0,function(){var a;return Bi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,r)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,n){return Fi(this,void 0,void 0,function(){var r;return Bi(this,function(a){switch(a.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return a.sent(),[2,r]}})})},e.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(r,a){return n.playVideoOnLoad(t,function(){return r()})})},e.prototype.playVideoOnLoad=function(t,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,n){var r=document.getElementById(t);if(!r)throw new ws("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new ws("element with id '"+t+"' must be an "+n+" element");return r},e.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new ws("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new ws("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,n,r){if(t===void 0&&n===void 0)throw new ws("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(t,r)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new ws("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},e.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},e.prototype.decodeFromVideoElementContinuously=function(t,n){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,n)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new ws("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new ws("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=t,r},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new ws("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=t,r},e.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new ws("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(r,n);return r.src=t,a},e.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(r,a){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(r,a)},t.addEventListener("load",n.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,n){return Fi(this,void 0,void 0,function(){return Bi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,n),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},e.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},e.prototype.decodeOnce=function(t,n,r){var a=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(o,s){if(a._stopAsyncDecode){s(new Ie("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var l=a.decode(t);o(l)}catch(d){var c=n&&d instanceof Ie,u=d instanceof Ua||d instanceof tt,f=u&&r;if(c||f)return setTimeout(i,a._timeBetweenDecodingAttempts,o,s);s(d)}};return new Promise(function(o,s){return i(o,s)})},e.prototype.decodeContinuously=function(t,n){var r=this;this._stopContinuousDecode=!1;var a=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(t);n(i,null),setTimeout(a,r.timeBetweenScansMillis)}catch(l){n(null,l);var o=l instanceof Ua||l instanceof tt,s=l instanceof Ie;(o||s)&&setTimeout(a,r._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var n=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),n=!0):this.drawImageOnCanvas(t);var r=this.getCaptureCanvas(t),a=new Goe(r,n),i=new Hoe(a);return new Moe(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},e.prototype.drawImageOnCanvas=function(t,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),n.style.width=r+"px",n.style.height=a+"px",n.width=r,n.height=a,n},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e})(),Ri=(function(){function e(t,n,r,a,i,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=fr.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=r,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=fr.currentTimeMillis():this.timestamp=o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var r=new Array(n.length+t.length);fr.arraycopy(n,0,r,0,n.length),fr.arraycopy(t,0,r,n.length,t.length),this.resultPoints=r}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e})(),mE;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mE||(mE={}));const bt=mE;var yE;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(yE||(yE={}));const ii=yE;var n2=(function(){function e(t,n,r,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=t,this.text=n,this.byteSegments=r,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e})(),np=(function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Et;return this.logTable[t]},e.addOrSubtract=function(t,n){return t^n},e})(),uu=(function(){function e(t,n){if(n.length===0)throw new Et;this.field=t;var r=n.length;if(r>1&&n[0]===0){for(var a=1;a<r&&n[a]===0;)a++;a===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-a),fr.arraycopy(n,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,r;if(t===1){r=0;for(var a=0,i=n.length;a!==i;a++){var o=n[a];r=np.addOrSubtract(r,o)}return r}r=n[0];for(var s=n.length,l=this.field,a=1;a<s;a++)r=np.addOrSubtract(l.multiply(t,r),n[a]);return r},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Et("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var i=new Int32Array(r.length),o=r.length-n.length;fr.arraycopy(r,0,i,0,o);for(var s=o;s<r.length;s++)i[s]=np.addOrSubtract(n[s-o],r[s]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Et("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,a=t.coefficients,i=a.length,o=new Int32Array(r+i-1),s=this.field,l=0;l<r;l++)for(var c=n[l],u=0;u<i;u++)o[l+u]=np.addOrSubtract(o[l+u],s.multiply(c,a[u]));return new e(s,o)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,r=this.field,a=new Int32Array(n),i=this.coefficients,o=0;o<n;o++)a[o]=r.multiply(i[o],t);return new e(r,a)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Et;if(n===0)return this.field.getZero();for(var r=this.coefficients,a=r.length,i=new Int32Array(a+t),o=this.field,s=0;s<a;s++)i[s]=o.multiply(r[s],n);return new e(o,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Et("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Et("Divide by 0");for(var n=this.field,r=n.getZero(),a=this,i=t.getCoefficient(t.getDegree()),o=n.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var s=a.getDegree()-t.getDegree(),l=n.multiply(a.getCoefficient(a.getDegree()),o),c=t.multiplyByMonomial(s,l),u=n.buildMonomial(s,l);r=r.addOrSubtract(u),a=a.addOrSubtract(c)}return[r,a]},e.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),n===0||r!==1){var a=this.field.log(r);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},e})(),qoe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),r7=(function(e){qoe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t})(bo),Koe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fo=(function(e){Koe(t,e);function t(n,r,a){var i=e.call(this)||this;i.primitive=n,i.size=r,i.generatorBase=a;for(var o=new Int32Array(r),s=1,l=0;l<r;l++)o[l]=s,s*=2,s>=r&&(s^=n,s&=r-1);i.expTable=o;for(var c=new Int32Array(r),l=0;l<r-1;l++)c[o[l]]=l;return i.logTable=c,i.zero=new uu(i,Int32Array.from([0])),i.one=new uu(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,r){if(n<0)throw new Et;if(r===0)return this.zero;var a=new Int32Array(n+1);return a[0]=r,new uu(this,a)},t.prototype.inverse=function(n){if(n===0)throw new r7;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+on.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t})(np),Zoe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ng=(function(e){Zoe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t})(bo),Qoe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pv=(function(e){Qoe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t})(bo),r2=(function(){function e(t){this.field=t}return e.prototype.decode=function(t,n){for(var r=this.field,a=new uu(r,t),i=new Int32Array(n),o=!0,s=0;s<n;s++){var l=a.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new uu(r,i),u=this.runEuclideanAlgorithm(r.buildMonomial(n,1),c,n),f=u[0],d=u[1],h=this.findErrorLocations(f),p=this.findErrorMagnitudes(d,h),s=0;s<h.length;s++){var v=t.length-1-r.log(h[s]);if(v<0)throw new ng("Bad error location");t[v]=fo.addOrSubtract(t[v],p[s])}},e.prototype.runEuclideanAlgorithm=function(t,n,r){if(t.getDegree()<n.getDegree()){var a=t;t=n,n=a}for(var i=this.field,o=t,s=n,l=i.getZero(),c=i.getOne();s.getDegree()>=(r/2|0);){var u=o,f=l;if(o=s,l=c,o.isZero())throw new ng("r_{i-1} was zero");s=u;for(var d=i.getZero(),h=o.getCoefficient(o.getDegree()),p=i.inverse(h);s.getDegree()>=o.getDegree()&&!s.isZero();){var v=s.getDegree()-o.getDegree(),g=i.multiply(s.getCoefficient(s.getDegree()),p);d=d.addOrSubtract(i.buildMonomial(v,g)),s=s.addOrSubtract(o.multiplyByMonomial(v,g))}if(c=d.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new pv("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(m===0)throw new ng("sigmaTilde(0) was zero");var y=i.inverse(m),x=c.multiplyScalar(y),b=s.multiplyScalar(y);return[x,b]},e.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(n),a=0,i=this.field,o=1;o<i.getSize()&&a<n;o++)t.evaluateAt(o)===0&&(r[a]=i.inverse(o),a++);if(a!==n)throw new ng("Error locator degree does not match number of roots");return r},e.prototype.findErrorMagnitudes=function(t,n){for(var r=n.length,a=new Int32Array(r),i=this.field,o=0;o<r;o++){for(var s=i.inverse(n[o]),l=1,c=0;c<r;c++)if(o!==c){var u=i.multiply(n[c],s),f=(u&1)===0?u|1:u&-2;l=i.multiply(l,f)}a[o]=i.multiply(t.evaluateAt(s),i.inverse(l)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],s))}return a},e})(),Za;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(Za||(Za={}));var z4=(function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),r=this.extractBits(n),a=this.correctBits(r),i=e.convertBoolArrayToByteArray(a),o=e.getEncodedData(a),s=new n2(i,o,null,null);return s.setNumBits(a.length),s},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var n=t.length,r=Za.UPPER,a=Za.UPPER,i="",o=0;o<n;)if(a===Za.BINARY){if(n-o<5)break;var s=e.readCode(t,o,5);if(o+=5,s===0){if(n-o<11)break;s=e.readCode(t,o,11)+31,o+=11}for(var l=0;l<s;l++){if(n-o<8){o=n;break}var c=e.readCode(t,o,8);i+=hn.castAsNonUtf8Char(c),o+=8}a=r}else{var u=a===Za.DIGIT?4:5;if(n-o<u)break;var c=e.readCode(t,o,u);o+=u;var f=e.getCharacter(a,c);f.startsWith("CTRL_")?(r=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(r=a)):(i+=f,a=r)}return i},e.getTable=function(t){switch(t){case"L":return Za.LOWER;case"P":return Za.PUNCT;case"M":return Za.MIXED;case"D":return Za.DIGIT;case"B":return Za.BINARY;case"U":default:return Za.UPPER}},e.getCharacter=function(t,n){switch(t){case Za.UPPER:return e.UPPER_TABLE[n];case Za.LOWER:return e.LOWER_TABLE[n];case Za.MIXED:return e.MIXED_TABLE[n];case Za.PUNCT:return e.PUNCT_TABLE[n];case Za.DIGIT:return e.DIGIT_TABLE[n];default:throw new pv("Bad table")}},e.prototype.correctBits=function(t){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=fo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=fo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=fo.AZTEC_DATA_10):(r=12,n=fo.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/r;if(i<a)throw new tt;for(var o=t.length%r,s=new Int32Array(i),l=0;l<i;l++,o+=r)s[l]=e.readCode(t,o,r);try{var c=new r2(n);c.decode(s,i-a)}catch(g){throw new tt(g)}for(var u=(1<<r)-1,f=0,l=0;l<a;l++){var d=s[l];if(d===0||d===u)throw new tt;(d===1||d===u-1)&&f++}for(var h=new Array(a*r-f),p=0,l=0;l<a;l++){var d=s[l];if(d===1||d===u-1)h.fill(d>1,p,p+r-1),p+=r-1;else for(var v=r-1;v>=0;--v)h[p++]=(d&1<<v)!==0}return h},e.prototype.extractBits=function(t){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),a=(n?11:14)+r*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var s=0;s<i.length;s++)i[s]=s;else for(var l=a+1+2*on.truncDivision(on.truncDivision(a,2)-1,15),c=a/2,u=on.truncDivision(l,2),s=0;s<c;s++){var f=s+on.truncDivision(s,15);i[c-s-1]=u-f-1,i[c+s]=u+f+1}for(var s=0,d=0;s<r;s++){for(var h=(r-s)*4+(n?9:12),p=s*2,v=a-1-p,g=0;g<h;g++)for(var m=g*2,y=0;y<2;y++)o[d+m+y]=t.get(i[p+y],i[p+g]),o[d+2*h+m+y]=t.get(i[p+g],i[v-y]),o[d+4*h+m+y]=t.get(i[v-y],i[v-g]),o[d+6*h+m+y]=t.get(i[v-g],i[p+y]);d+=h*8}return o},e.readCode=function(t,n,r){for(var a=0,i=n;i<n+r;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,n){var r=t.length-n;return r>=8?e.readCode(t,n,8):e.readCode(t,n,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),r=0;r<n.length;r++)n[r]=e.readByte(t,8*r);return n},e.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e})(),En=(function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,n,r,a){var i=t-r,o=n-a;return Math.sqrt(i*i+o*o)},e.sum=function(t){for(var n=0,r=0,a=t.length;r!==a;r++){var i=t[r];n+=i}return n},e})(),xE=(function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e})(),vt=(function(){function e(t,n){this.x=t,this.y=n}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*xE.floatToIntBits(this.x)+xE.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,o,s;if(r>=n&&r>=a?(o=t[0],i=t[1],s=t[2]):a>=r&&a>=n?(o=t[1],i=t[0],s=t[2]):(o=t[2],i=t[0],s=t[1]),this.crossProductZ(i,o,s)<0){var l=i;i=s,s=l}t[0]=i,t[1]=o,t[2]=s},e.distance=function(t,n){return En.distance(t.x,t.y,n.x,n.y)},e.crossProductZ=function(t,n,r){var a=n.x,i=n.y;return(r.x-a)*(t.y-i)-(r.y-i)*(t.x-a)},e})(),b3=(function(){function e(t,n){this.bits=t,this.points=n}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e})(),Joe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ese=(function(e){Joe(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r)||this;return s.compact=a,s.nbDatablocks=i,s.nbLayers=o,s}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t})(b3),bE=(function(){function e(t,n,r,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=e.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ie}return e.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,r=this.upInit,a=this.downInit,i=!1,o=!0,s=!1,l=!1,c=!1,u=!1,f=!1,d=this.width,h=this.height;o;){o=!1;for(var p=!0;(p||!l)&&n<d;)p=this.containsBlackPoint(r,a,n,!1),p?(n++,o=!0,l=!0):l||n++;if(n>=d){i=!0;break}for(var v=!0;(v||!c)&&a<h;)v=this.containsBlackPoint(t,n,a,!0),v?(a++,o=!0,c=!0):c||a++;if(a>=h){i=!0;break}for(var g=!0;(g||!u)&&t>=0;)g=this.containsBlackPoint(r,a,t,!1),g?(t--,o=!0,u=!0):u||t--;if(t<0){i=!0;break}for(var m=!0;(m||!f)&&r>=0;)m=this.containsBlackPoint(t,n,r,!0),m?(r--,o=!0,f=!0):f||r--;if(r<0){i=!0;break}o&&(s=!0)}if(!i&&s){for(var y=n-t,x=null,b=1;x===null&&b<y;b++)x=this.getBlackPointOnSegment(t,a-b,t+b,a);if(x==null)throw new Ie;for(var _=null,b=1;_===null&&b<y;b++)_=this.getBlackPointOnSegment(t,r+b,t+b,r);if(_==null)throw new Ie;for(var E=null,b=1;E===null&&b<y;b++)E=this.getBlackPointOnSegment(n,r+b,n-b,r);if(E==null)throw new Ie;for(var w=null,b=1;w===null&&b<y;b++)w=this.getBlackPointOnSegment(n,a-b,n-b,a);if(w==null)throw new Ie;return this.centerEdges(w,x,E,_)}else throw new Ie},e.prototype.getBlackPointOnSegment=function(t,n,r,a){for(var i=En.round(En.distance(t,n,r,a)),o=(r-t)/i,s=(a-n)/i,l=this.image,c=0;c<i;c++){var u=En.round(t+c*o),f=En.round(n+c*s);if(l.get(u,f))return new vt(u,f)}return null},e.prototype.centerEdges=function(t,n,r,a){var i=t.getX(),o=t.getY(),s=n.getX(),l=n.getY(),c=r.getX(),u=r.getY(),f=a.getX(),d=a.getY(),h=e.CORR;return i<this.width/2?[new vt(f-h,d+h),new vt(s+h,l+h),new vt(c-h,u-h),new vt(i+h,o-h)]:[new vt(f+h,d+h),new vt(s+h,l-h),new vt(c-h,u+h),new vt(i-h,o-h)]},e.prototype.containsBlackPoint=function(t,n,r,a){var i=this.image;if(a){for(var o=t;o<=n;o++)if(i.get(o,r))return!0}else for(var s=t;s<=n;s++)if(i.get(r,s))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e})(),U4=(function(){function e(){}return e.checkAndNudgePoints=function(t,n){for(var r=t.getWidth(),a=t.getHeight(),i=!0,o=0;o<n.length&&i;o+=2){var s=Math.floor(n[o]),l=Math.floor(n[o+1]);if(s<-1||s>r||l<-1||l>a)throw new Ie;i=!1,s===-1?(n[o]=0,i=!0):s===r&&(n[o]=r-1,i=!0),l===-1?(n[o+1]=0,i=!0):l===a&&(n[o+1]=a-1,i=!0)}i=!0;for(var o=n.length-2;o>=0&&i;o-=2){var s=Math.floor(n[o]),l=Math.floor(n[o+1]);if(s<-1||s>r||l<-1||l>a)throw new Ie;i=!1,s===-1?(n[o]=0,i=!0):s===r&&(n[o]=r-1,i=!0),l===-1?(n[o+1]=0,i=!0):l===a&&(n[o+1]=a-1,i=!0)}},e})(),a7=(function(){function e(t,n,r,a,i,o,s,l,c){this.a11=t,this.a21=n,this.a31=r,this.a12=a,this.a22=i,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return e.quadrilateralToQuadrilateral=function(t,n,r,a,i,o,s,l,c,u,f,d,h,p,v,g){var m=e.quadrilateralToSquare(t,n,r,a,i,o,s,l),y=e.squareToQuadrilateral(c,u,f,d,h,p,v,g);return y.times(m)},e.prototype.transformPoints=function(t){for(var n=t.length,r=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=0;d<n;d+=2){var h=t[d],p=t[d+1],v=i*h+l*p+f;t[d]=(r*h+o*p+c)/v,t[d+1]=(a*h+s*p+u)/v}},e.prototype.transformPointsWithValues=function(t,n){for(var r=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=t.length,h=0;h<d;h++){var p=t[h],v=n[h],g=i*p+l*v+f;t[h]=(r*p+o*v+c)/g,n[h]=(a*p+s*v+u)/g}},e.squareToQuadrilateral=function(t,n,r,a,i,o,s,l){var c=t-r+i-s,u=n-a+o-l;if(c===0&&u===0)return new e(r-t,i-r,t,a-n,o-a,n,0,0,1);var f=r-i,d=s-i,h=a-o,p=l-o,v=f*p-d*h,g=(c*p-d*u)/v,m=(f*u-c*h)/v;return new e(r-t+g*r,s-t+m*s,t,a-n+g*a,l-n+m*l,n,g,m,1)},e.quadrilateralToSquare=function(t,n,r,a,i,o,s,l){return e.squareToQuadrilateral(t,n,r,a,i,o,s,l).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e})(),tse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nse=(function(e){tse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,r,a,i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b){var _=a7.quadrilateralToQuadrilateral(i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b);return this.sampleGridWithTransform(n,r,a,_)},t.prototype.sampleGridWithTransform=function(n,r,a,i){if(r<=0||a<=0)throw new Ie;for(var o=new Pl(r,a),s=new Float32Array(2*r),l=0;l<a;l++){for(var c=s.length,u=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=u;i.transformPoints(s),U4.checkAndNudgePoints(n,s);try{for(var f=0;f<c;f+=2)n.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new Ie}}return o},t})(U4),w3=(function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new nse,e})(),ao=(function(){function e(t,n){this.x=t,this.y=n}return e.prototype.toResultPoint=function(){return new vt(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e})(),rse=(function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(t){var a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new ese(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Ie;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(r,n);for(var a=0,i=0;i<4;i++){var o=r[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},e.prototype.getRotation=function(t,n){var r=0;t.forEach(function(i,o,s){var l=(i>>n-2<<1)+(i&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var a=0;a<4;a++)if(on.bitCount(r^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Ie},e.prototype.getCorrectedParameterData=function(t,n){var r,a;n?(r=7,a=2):(r=10,a=4);for(var i=r-a,o=new Int32Array(r),s=r-1;s>=0;--s)o[s]=t&15,t>>=4;try{var l=new r2(fo.AZTEC_PARAM);l.decode(o,i)}catch{throw new Ie}for(var c=0,s=0;s<a;s++)c=(c<<4)+o[s];return c},e.prototype.getBullsEyeCorners=function(t){var n=t,r=t,a=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(n,o,1,-1),l=this.getFirstDifferent(r,o,1,1),c=this.getFirstDifferent(a,o,-1,1),u=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,s)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,u))break}n=s,r=l,a=c,i=u,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ie;this.compact=this.nbCenterLayers===5;var d=new vt(n.getX()+.5,n.getY()-.5),h=new vt(r.getX()+.5,r.getY()+.5),p=new vt(a.getX()-.5,a.getY()+.5),v=new vt(i.getX()-.5,i.getY()-.5);return this.expandSquare([d,h,p,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,n,r,a;try{var i=new bE(this.image).detect();t=i[0],n=i[1],r=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;t=this.getFirstDifferent(new ao(o+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ao(o+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ao(o-7,s+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ao(o-7,s-7),!1,-1,-1).toResultPoint()}var l=En.round((t.getX()+a.getX()+n.getX()+r.getX())/4),c=En.round((t.getY()+a.getY()+n.getY()+r.getY())/4);try{var i=new bE(this.image,15,l,c).detect();t=i[0],n=i[1],r=i[2],a=i[3]}catch{t=this.getFirstDifferent(new ao(l+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ao(l+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ao(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ao(l-7,c-7),!1,-1,-1).toResultPoint()}return l=En.round((t.getX()+a.getX()+n.getX()+r.getX())/4),c=En.round((t.getY()+a.getY()+n.getY()+r.getY())/4),new ao(l,c)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,n,r,a,i){var o=w3.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(t,s,s,l,l,c,l,c,c,l,c,n.getX(),n.getY(),r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,n,r){for(var a=0,i=this.distanceResultPoint(t,n),o=i/r,s=t.getX(),l=t.getY(),c=o*(n.getX()-t.getX())/i,u=o*(n.getY()-t.getY())/i,f=0;f<r;f++)this.image.get(En.round(s+f*c),En.round(l+f*u))&&(a|=1<<r-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,n,r,a){var i=3;t=new ao(t.getX()-i,t.getY()+i),n=new ao(n.getX()-i,n.getY()-i),r=new ao(r.getX()+i,r.getY()-i),a=new ao(a.getX()+i,a.getY()+i);var o=this.getColor(a,t);if(o===0)return!1;var s=this.getColor(t,n);return s!==o||(s=this.getColor(n,r),s!==o)?!1:(s=this.getColor(r,a),s===o)},e.prototype.getColor=function(t,n){for(var r=this.distancePoint(t,n),a=(n.getX()-t.getX())/r,i=(n.getY()-t.getY())/r,o=0,s=t.getX(),l=t.getY(),c=this.image.get(t.getX(),t.getY()),u=Math.ceil(r),f=0;f<u;f++)s+=a,l+=i,this.image.get(En.round(s),En.round(l))!==c&&o++;var d=o/r;return d>.1&&d<.9?0:d<=.1===c?1:-1},e.prototype.getFirstDifferent=function(t,n,r,a){for(var i=t.getX()+r,o=t.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===n;)i+=r,o+=a;for(i-=r,o-=a;this.isValid(i,o)&&this.image.get(i,o)===n;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===n;)o+=a;return o-=a,new ao(i,o)},e.prototype.expandSquare=function(t,n,r){var a=r/(2*n),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,l=(t[0].getY()+t[2].getY())/2,c=new vt(s+a*i,l+a*o),u=new vt(s-a*i,l-a*o);i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),s=(t[1].getX()+t[3].getX())/2,l=(t[1].getY()+t[3].getY())/2;var f=new vt(s+a*i,l+a*o),d=new vt(s-a*i,l-a*o),h=[c,f,u,d];return h},e.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},e.prototype.isValidPoint=function(t){var n=En.round(t.getX()),r=En.round(t.getY());return this.isValid(n,r)},e.prototype.distancePoint=function(t,n){return En.distance(t.getX(),t.getY(),n.getX(),n.getY())},e.prototype.distanceResultPoint=function(t,n){return En.distance(t.getX(),t.getY(),n.getX(),n.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(on.truncDivision(this.nbLayers-4,8)+1)+15},e})(),wE=(function(){function e(){}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r=null,a=new rse(t.getBlackMatrix()),i=null,o=null;try{var s=a.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(n,i),o=new z4().decode(s)}catch(f){r=f}if(o==null)try{var s=a.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(n,i),o=new z4().decode(s)}catch(f){throw r??f}var l=new Ri(o.getText(),o.getRawBytes(),o.getNumBits(),i,bt.AZTEC,fr.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(ii.BYTE_SEGMENTS,c);var u=o.getECLevel();return u!=null&&l.putMetadata(ii.ERROR_CORRECTION_LEVEL,u),l},e.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var r=t.get(kr.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(a,i,o){r.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e})(),ase=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){ase(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new wE,n)||this}return t})(ch);var ka=(function(){function e(){}return e.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var r=n&&n.get(kr.TRY_HARDER)===!0;if(r&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,n),o=i.getResultMetadata(),s=270;o!==null&&o.get(ii.ORIENTATION)===!0&&(s=s+o.get(ii.ORIENTATION)%360),i.putMetadata(ii.ORIENTATION,s);var l=i.getResultPoints();if(l!==null)for(var c=a.getHeight(),u=0;u<l.length;u++)l[u]=new vt(c-l[u].getY()-1,l[u].getX());return i}else throw new Ie}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,n){var r=t.getWidth(),a=t.getHeight(),i=new Va(r),o=n&&n.get(kr.TRY_HARDER)===!0,s=Math.max(1,a>>(o?8:5)),l;o?l=a:l=15;for(var c=Math.trunc(a/2),u=0;u<l;u++){var f=Math.trunc((u+1)/2),d=(u&1)===0,h=c+s*(d?f:-f);if(h<0||h>=a)break;try{i=t.getBlackRow(h,i)}catch{continue}for(var p=function(y){if(y===1&&(i.reverse(),n&&n.get(kr.NEED_RESULT_POINT_CALLBACK)===!0)){var x=new Map;n.forEach(function(E,w){return x.set(w,E)}),x.delete(kr.NEED_RESULT_POINT_CALLBACK),n=x}try{var b=v.decodeRow(h,i,n);if(y===1){b.putMetadata(ii.ORIENTATION,180);var _=b.getResultPoints();_!==null&&(_[0]=new vt(r-_[0].getX()-1,_[0].getY()),_[1]=new vt(r-_[1].getX()-1,_[1].getY()))}return{value:b}}catch{}},v=this,g=0;g<2;g++){var m=p(g);if(typeof m=="object")return m.value}}throw new Ie},e.recordPattern=function(t,n,r){for(var a=r.length,i=0;i<a;i++)r[i]=0;var o=t.getSize();if(n>=o)throw new Ie;for(var s=!t.get(n),l=0,c=n;c<o;){if(t.get(c)!==s)r[l]++;else{if(++l===a)break;r[l]=1,s=!s}c++}if(!(l===a||l===a-1&&c===o))throw new Ie},e.recordPatternInReverse=function(t,n,r){for(var a=r.length,i=t.get(n);n>0&&a>=0;)t.get(--n)!==i&&(a--,i=!i);if(a>=0)throw new Ie;e.recordPattern(t,n+1,r)},e.patternMatchVariance=function(t,n,r){for(var a=t.length,i=0,o=0,s=0;s<a;s++)i+=t[s],o+=n[s];if(i<o)return Number.POSITIVE_INFINITY;var l=i/o;r*=l;for(var c=0,u=0;u<a;u++){var f=t[u],d=n[u]*l,h=f>d?f-d:d-f;if(h>r)return Number.POSITIVE_INFINITY;c+=h}return c/i},e})(),ise=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),H4=(function(e){ise(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var r=n.getSize(),a=n.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),s=a,l=!1,c=6,u=a;u<r;u++)if(n.get(u)!==l)o[i]++;else{if(i===c-1){for(var f=t.MAX_AVG_VARIANCE,d=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var p=ka.patternMatchVariance(o,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&n.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,d]);s+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,l=!l}throw new Ie},t.decodeCode=function(n,r,a){ka.recordPattern(n,a,r);for(var i=t.MAX_AVG_VARIANCE,o=-1,s=0;s<t.CODE_PATTERNS.length;s++){var l=t.CODE_PATTERNS[s],c=this.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);c<i&&(i=c,o=s)}if(o>=0)return o;throw new Ie},t.prototype.decodeRow=function(n,r,a){var i=a&&a.get(kr.ASSUME_GS1)===!0,o=t.findStartPattern(r),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var u;switch(s){case t.CODE_START_A:u=t.CODE_CODE_A;break;case t.CODE_START_B:u=t.CODE_CODE_B;break;case t.CODE_START_C:u=t.CODE_CODE_C;break;default:throw new tt}for(var f=!1,d=!1,h="",p=o[0],v=o[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,y=0,x=s,b=0,_=!0,E=!1,w=!1;!f;){var A=d;switch(d=!1,m=y,y=t.decodeCode(r,g,v),c[l++]=y,y!==t.CODE_STOP&&(_=!0),y!==t.CODE_STOP&&(b++,x+=b*y),p=v,v+=g.reduce(function(L,z){return L+z},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new tt}switch(u){case t.CODE_CODE_A:if(y<64)w===E?h+=String.fromCharCode(32+y):h+=String.fromCharCode(32+y+128),w=!1;else if(y<96)w===E?h+=String.fromCharCode(y-64):h+=String.fromCharCode(y+64),w=!1;else switch(y!==t.CODE_STOP&&(_=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!E&&w?(E=!0,w=!1):E&&w?(E=!1,w=!1):w=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_B;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(y<96)w===E?h+=String.fromCharCode(32+y):h+=String.fromCharCode(32+y+128),w=!1;else switch(y!==t.CODE_STOP&&(_=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!E&&w?(E=!0,w=!1):E&&w?(E=!1,w=!1):w=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_A;break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(y<100)y<10&&(h+="0"),h+=y;else switch(y!==t.CODE_STOP&&(_=!1),y){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}A&&(u=u===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var S=v-p;if(v=r.getNextUnset(v),!r.isRange(v,Math.min(r.getSize(),v+(v-p)/2),!1))throw new Ie;if(x-=b*m,x%103!==m)throw new Ua;var O=h.length;if(O===0)throw new Ie;O>0&&_&&(u===t.CODE_CODE_C?h=h.substring(0,O-2):h=h.substring(0,O-1));for(var k=(o[1]+o[0])/2,T=p+S/2,C=c.length,M=new Uint8Array(C),P=0;P<C;P++)M[P]=c[P];var I=[new vt(k,n),new vt(T,n)];return new Ri(h,M,0,I,bt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t})(ka),ose=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Zb=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},V4=(function(e){ose(t,e);function t(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var a=e.call(this)||this;return a.usingCheckDigit=n,a.extendedMode=r,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=t.findAsteriskPattern(r,c),f=r.getNextSet(u[1]),d=r.getSize(),h,p;do{t.recordPattern(r,f,c);var v=t.toNarrowWidePattern(c);if(v<0)throw new Ie;h=t.patternToChar(v),this.decodeRowResult+=h,p=f;try{for(var g=(i=void 0,Zb(c)),m=g.next();!m.done;m=g.next()){var y=m.value;f+=y}}catch(C){i={error:C}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=r.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var b=Zb(c),_=b.next();!_.done;_=b.next()){var y=_.value;x+=y}}catch(C){s={error:C}}finally{try{_&&!_.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}var E=f-p-x;if(f!==d&&E*2<x)throw new Ie;if(this.usingCheckDigit){for(var w=this.decodeRowResult.length-1,A=0,S=0;S<w;S++)A+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(w)!==t.ALPHABET_STRING.charAt(A%43))throw new Ua;this.decodeRowResult=this.decodeRowResult.substring(0,w)}if(this.decodeRowResult.length===0)throw new Ie;var O;this.extendedMode?O=t.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;var k=(u[1]+u[0])/2,T=p+x/2;return new Ri(O,null,0,[new vt(k,n),new vt(T,n)],bt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,r){for(var a=n.getSize(),i=n.getNextSet(0),o=0,s=i,l=!1,c=r.length,u=i;u<a;u++)if(n.get(u)!==l)r[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,l=!l}throw new Ie},t.toNarrowWidePattern=function(n){var r,a,i=n.length,o=0,s;do{var l=2147483647;try{for(var c=(r=void 0,Zb(n)),u=c.next();!u.done;u=c.next()){var f=u.value;f<l&&f>o&&(l=f)}}catch(v){r={error:v}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}o=l,s=0;for(var d=0,h=0,p=0;p<i;p++){var f=n[p];f>o&&(h|=1<<i-1-p,s++,d+=f)}if(s===3){for(var p=0;p<i&&s>0;p++){var f=n[p];if(f>o&&(s--,f*2>=d))return-1}return h}}while(s>3);return-1},t.patternToChar=function(n){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===n)return t.ALPHABET_STRING.charAt(r);if(n===t.ASTERISK_ENCODING)return"*";throw new Ie},t.decodeExtended=function(n){for(var r=n.length,a="",i=0;i<r;i++){var o=n.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=n.charAt(i+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new tt;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new tt;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new tt;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new tt;break}a+=l,i++}else a+=o}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t})(ka),sse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Qb=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},W4=(function(e){sse(t,e);function t(){var n=e.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.findAsteriskPattern(r),u=r.getNextSet(c[1]),f=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,p;do{t.recordPattern(r,u,d);var v=this.toPattern(d);if(v<0)throw new Ie;h=this.patternToChar(v),this.decodeRowResult+=h,p=u;try{for(var g=(i=void 0,Qb(d)),m=g.next();!m.done;m=g.next()){var y=m.value;u+=y}}catch(S){i={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var b=Qb(d),_=b.next();!_.done;_=b.next()){var y=_.value;x+=y}}catch(S){s={error:S}}finally{try{_&&!_.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}if(u===f||!r.get(u))throw new Ie;if(this.decodeRowResult.length<2)throw new Ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),w=(c[1]+c[0])/2,A=p+x/2;return new Ri(E,null,0,[new vt(w,n),new vt(A,n)],bt.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(n){var r=n.getSize(),a=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,s=!1,l=i.length,c=0,u=a;u<r;u++)if(n.get(u)!==s)i[c]++;else{if(c===l-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([o,u]);o+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,s=!s}throw new Ie},t.prototype.toPattern=function(n){var r,a,i=0;try{for(var o=Qb(n),s=o.next();!s.done;s=o.next()){var l=s.value;i+=l}}catch(p){r={error:p}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}for(var c=0,u=n.length,f=0;f<u;f++){var d=Math.round(n[f]*9/i);if(d<1||d>4)return-1;if((f&1)===0)for(var h=0;h<d;h++)c=c<<1|1;else c<<=d}return c},t.prototype.patternToChar=function(n){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===n)return t.ALPHABET_STRING.charAt(r);throw new Ie},t.prototype.decodeExtended=function(n){for(var r=n.length,a="",i=0;i<r;i++){var o=n.charAt(i);if(o>="a"&&o<="d"){if(i>=r-1)throw new tt;var s=n.charAt(i+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new tt;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new tt;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new tt;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new tt;break}a+=l,i++}else a+=o}return a},t.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},t.prototype.checkOneChecksum=function(n,r,a){for(var i=1,o=0,s=r-1;s>=0;s--)o+=i*t.ALPHABET_STRING.indexOf(n.charAt(s)),++i>a&&(i=1);if(n.charAt(r)!==t.ALPHABET_STRING[o%47])throw new Ua},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t})(ka),lse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cse=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},G4=(function(e){lse(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,r,a){var i,o,s=this.decodeStart(r),l=this.decodeEnd(r),c=new rn;t.decodeMiddle(r,s[1],l[0],c);var u=c.toString(),f=null;a!=null&&(f=a.get(kr.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var d=u.length,h=!1,p=0;try{for(var v=cse(f),g=v.next();!g.done;g=v.next()){var m=g.value;if(d===m){h=!0;break}m>p&&(p=m)}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}if(!h&&d>p&&(h=!0),!h)throw new tt;var y=[new vt(s[1],n),new vt(l[0],n)],x=new Ri(u,null,0,y,bt.ITF,new Date().getTime());return x},t.decodeMiddle=function(n,r,a,i){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);r<a;){ka.recordPattern(n,r,o);for(var c=0;c<5;c++){var u=2*c;s[c]=o[u],l[c]=o[u+1]}var f=t.decodeDigit(s);i.append(f.toString()),f=this.decodeDigit(l),i.append(f.toString()),o.forEach(function(d){r+=d})}},t.prototype.decodeStart=function(n){var r=t.skipWhiteSpace(n),a=t.findGuardPattern(n,r,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(n,a[0]),a},t.prototype.validateQuietZone=function(n,r){var a=this.narrowLineWidth*10;a=a<r?a:r;for(var i=r-1;a>0&&i>=0&&!n.get(i);i--)a--;if(a!==0)throw new Ie},t.skipWhiteSpace=function(n){var r=n.getSize(),a=n.getNextSet(0);if(a===r)throw new Ie;return a},t.prototype.decodeEnd=function(n){n.reverse();try{var r=t.skipWhiteSpace(n),a=void 0;try{a=t.findGuardPattern(n,r,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ie&&(a=t.findGuardPattern(n,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,a[0]);var i=a[0];return a[0]=n.getSize()-a[1],a[1]=n.getSize()-i,a}finally{n.reverse()}},t.findGuardPattern=function(n,r,a){var i=a.length,o=new Int32Array(i),s=n.getSize(),l=!1,c=0,u=r;o.fill(0);for(var f=r;f<s;f++)if(n.get(f)!==l)o[c]++;else{if(c===i-1){if(ka.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,f];u+=o[0]+o[1],fr.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new Ie},t.decodeDigit=function(n){for(var r=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,o=0;o<i;o++){var s=t.PATTERNS[o],l=ka.patternMatchVariance(n,s,t.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,a=o):l===r&&(a=-1)}if(a>=0)return a%10;throw new Ie},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t})(ka),use=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),M0=(function(e){use(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var r=!1,a,i=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),a=t.findGuardPattern(n,i,!1,this.START_END_PATTERN,o);var s=a[0];i=a[1];var l=s-(i-s);l>=0&&(r=n.isRange(l,s,!1))}return a},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var a=parseInt(n.charAt(r-1),10);return t.getStandardUPCEANChecksum(n.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(n){for(var r=n.length,a=0,i=r-1;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new tt;a+=o}a*=3;for(var i=r-2;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new tt;a+=o}return(1e3-a)%10},t.decodeEnd=function(n,r){return t.findGuardPattern(n,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,r,a,i){return this.findGuardPattern(n,r,a,i,new Int32Array(i.length))},t.findGuardPattern=function(n,r,a,i,o){var s=n.getSize();r=a?n.getNextUnset(r):n.getNextSet(r);for(var l=0,c=r,u=i.length,f=a,d=r;d<s;d++)if(n.get(d)!==f)o[l]++;else{if(l===u-1){if(ka.patternMatchVariance(o,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=o[0]+o[1];for(var h=o.slice(2,o.length),p=0;p<l-1;p++)o[p]=h[p];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new Ie},t.decodeDigit=function(n,r,a,i){this.recordPattern(n,a,r);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=i.length,c=0;c<l;c++){var u=i[c],f=ka.patternMatchVariance(r,u,t.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new Ie},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t})(ka),fse=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dse=(function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,a),o=a.toString(),s=e.parseExtensionString(o),l=[new vt((r[0]+r[1])/2,t),new vt(i,t)],c=new Ri(o,null,0,l,bt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(t,n,r){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<5&&l<s;u++){var f=M0.decodeDigit(t,o,l,M0.L_AND_G_PATTERNS);r+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,fse(o)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(g){a={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(c|=1<<4-u),u!==4&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==5)throw new Ie;var v=this.determineCheckDigit(c);if(e.extensionChecksum(r.toString())!==v)throw new Ie;return l},e.extensionChecksum=function(t){for(var n=t.length,r=0,a=n-2;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-48;r*=3;for(var a=n-1;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-48;return r*=3,r%10},e.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Ie},e.parseExtensionString=function(t){if(t.length!==5)return null;var n=e.parseExtension5String(t);return n==null?null:new Map([[ii.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(t.substring(1)),a=(r/100).toString(),i=r%100,o=i<10?"0"+i:i.toString();return n+a+"."+o},e})(),hse=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pse=(function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,a),o=a.toString(),s=e.parseExtensionString(o),l=[new vt((r[0]+r[1])/2,t),new vt(i,t)],c=new Ri(o,null,0,l,bt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(t,n,r){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<2&&l<s;u++){var f=M0.decodeDigit(t,o,l,M0.L_AND_G_PATTERNS);r+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,hse(o)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(c|=1<<1-u),u!==1&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==2)throw new Ie;if(parseInt(r.toString())%4!==c)throw new Ie;return l},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[ii.ISSUE_NUMBER,parseInt(t)]])},e})(),vse=(function(){function e(){}return e.decodeRow=function(t,n,r){var a=M0.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new dse;return i.decodeRow(t,n,a)}catch{var o=new pse;return o.decodeRow(t,n,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e})(),gse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Aa=(function(e){gse(t,e);function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var a=t.L_PATTERNS[r-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];t.L_AND_G_PATTERNS[r]=i}return n}return t.prototype.decodeRow=function(n,r,a){var i=t.findStartGuardPattern(r),o=a==null?null:a.get(kr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new vt((i[0]+i[1])/2,n);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(r,i,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(o!=null){var f=new vt(c,n);o.foundPossibleResultPoint(f)}var d=t.decodeEnd(r,c);if(o!=null){var h=new vt((d[0]+d[1])/2,n);o.foundPossibleResultPoint(h)}var p=d[1],v=p+(p-d[0]);if(v>=r.getSize()||!r.isRange(p,v,!1))throw new Ie;var g=u.toString();if(g.length<8)throw new tt;if(!t.checkChecksum(g))throw new Ua;var m=(i[1]+i[0])/2,y=(d[1]+d[0])/2,x=this.getBarcodeFormat(),b=[new vt(m,n),new vt(y,n)],_=new Ri(g,null,0,b,x,new Date().getTime()),E=0;try{var w=vse.decodeRow(n,r,d[1]);_.putMetadata(ii.UPC_EAN_EXTENSION,w.getText()),_.putAllMetadata(w.getResultMetadata()),_.addResultPoints(w.getResultPoints()),E=w.getText().length}catch{}var A=a==null?null:a.get(kr.ALLOWED_EAN_EXTENSIONS);if(A!=null){var S=!1;for(var O in A)if(E.toString()===O){S=!0;break}if(!S)throw new Ie}return x===bt.EAN_13||bt.UPC_A,_},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var a=parseInt(n.charAt(r-1),10);return t.getStandardUPCEANChecksum(n.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(n){for(var r=n.length,a=0,i=r-1;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new tt;a+=o}a*=3;for(var i=r-2;i>=0;i-=2){var o=n.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new tt;a+=o}return(1e3-a)%10},t.decodeEnd=function(n,r){return t.findGuardPattern(n,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t})(M0),mse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_E=(function(e){mse(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=n.getSize(),f=r[1],d=0,h=0;h<6&&f<u;h++){var p=Aa.decodeDigit(n,c,f,Aa.L_AND_G_PATTERNS);a+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,Y4(c)),g=v.next();!g.done;g=v.next()){var m=g.value;f+=m}}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}p>=10&&(d|=1<<5-h)}a=t.determineFirstDigit(a,d);var y=Aa.findGuardPattern(n,f,!0,Aa.MIDDLE_PATTERN,new Int32Array(Aa.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<6&&f<u;h++){var p=Aa.decodeDigit(n,c,f,Aa.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var x=(s=void 0,Y4(c)),b=x.next();!b.done;b=x.next()){var m=b.value;f+=m}}catch(w){s={error:w}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return bt.EAN_13},t.determineFirstDigit=function(n,r){for(var a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return n=String.fromCharCode(48+a)+n,n;throw new Ie},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t})(Aa),yse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),X4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},q4=(function(e){yse(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=n.getSize(),f=r[1],d=0;d<4&&f<u;d++){var h=Aa.decodeDigit(n,c,f,Aa.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var p=(i=void 0,X4(c)),v=p.next();!v.done;v=p.next()){var g=v.value;f+=g}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}var m=Aa.findGuardPattern(n,f,!0,Aa.MIDDLE_PATTERN,new Int32Array(Aa.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var d=0;d<4&&f<u;d++){var h=Aa.decodeDigit(n,c,f,Aa.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var y=(s=void 0,X4(c)),x=y.next();!x.done;x=y.next()){var g=x.value;f+=g}}catch(E){s={error:E}}finally{try{x&&!x.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return bt.EAN_8},t})(Aa),xse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),K4=(function(e){xse(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ean13Reader=new _E,n}return t.prototype.getBarcodeFormat=function(){return bt.UPC_A},t.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,a))},t.prototype.decodeMiddle=function(n,r,a){return this.ean13Reader.decodeMiddle(n,r,a)},t.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var a=new Ri(r.substring(1),null,null,n.getResultPoints(),bt.UPC_A);return n.getResultMetadata()!=null&&a.putAllMetadata(n.getResultMetadata()),a}else throw new Ie},t.prototype.reset=function(){this.ean13Reader.reset()},t})(Aa),bse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wse=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Z4=(function(e){bse(t,e);function t(){var n=e.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,r,a){var i,o,s=this.decodeMiddleCounters.map(function(g){return g});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=n.getSize(),c=r[1],u=0,f=0;f<6&&c<l;f++){var d=t.decodeDigit(n,s,c,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var h=(i=void 0,wse(s)),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}d>=10&&(u|=1<<5-f)}return t.determineNumSysAndCheckDigit(new rn(a),u),c},t.prototype.decodeEnd=function(n,r){return t.findGuardPatternWithoutCounters(n,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return Aa.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,r){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){n.insert(0,"0"+a),n.append("0"+i);return}throw Ie.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return bt.UPC_E},t.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new rn;a.append(n.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(i),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(i);break}return n.length>=8&&a.append(n.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t})(Aa),_se=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Q4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jb=(function(e){_se(t,e);function t(n){var r=e.call(this)||this,a=n==null?null:n.get(kr.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(bt.EAN_13)>-1&&i.push(new _E),a.indexOf(bt.UPC_A)>-1&&i.push(new K4),a.indexOf(bt.EAN_8)>-1&&i.push(new q4),a.indexOf(bt.UPC_E)>-1&&i.push(new Z4)),i.length===0&&(i.push(new _E),i.push(new K4),i.push(new q4),i.push(new Z4)),r.readers=i,r}return t.prototype.decodeRow=function(n,r,a){var i,o;try{for(var s=Q4(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var u=c.decodeRow(n,r,a),f=u.getBarcodeFormat()===bt.EAN_13&&u.getText().charAt(0)==="0",d=a==null?null:a.get(kr.POSSIBLE_FORMATS),h=d==null||d.includes(bt.UPC_A);if(f&&h){var p=u.getRawBytes(),v=new Ri(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),bt.UPC_A);return v.putAllMetadata(u.getResultMetadata()),v}return u}catch{}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}throw new Ie},t.prototype.reset=function(){var n,r;try{for(var a=Q4(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t})(ka),Ese=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ase=(function(e){Ese(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return t.prototype.decodeRow=function(n,r,a){var i=this.getValidRowData(r);if(!i)throw new Ie;var o=this.codaBarDecodeRow(i.row);if(!o)throw new Ie;return new Ri(o,null,0,[new vt(i.left,n),new vt(i.right,n)],bt.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(n){var r=n.toArray(),a=r.indexOf(!0);if(a===-1)return null;var i=r.lastIndexOf(!0);if(i<=a)return null;r=r.slice(a,i+1);for(var o=[],s=r[0],l=1,c=1;c<r.length;c++)r[c]===s?l++:(s=r[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},t.prototype.codaBarDecodeRow=function(n){for(var r=[],a=Math.ceil(n.reduce(function(l,c){return(l+c)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),o=i.map(function(l){return l<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var s=r.join("");return this.validCodaBarString(s)?s:null},t.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},t})(ka),Sse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ose=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ff=(function(e){Sse(t,e);function t(){var n=e.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,r){for(var a=0;a<r.length;a++)if(ka.patternMatchVariance(n,r[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Ie},t.count=function(n){return En.sum(new Int32Array(n))},t.increment=function(n,r){for(var a=0,i=r[0],o=1;o<n.length;o++)r[o]>i&&(i=r[o],a=o);n[a]++},t.decrement=function(n,r){for(var a=0,i=r[0],o=1;o<n.length;o++)r[o]<i&&(i=r[o],a=o);n[a]--},t.isFinderPattern=function(n){var r,a,i=n[0]+n[1],o=i+n[2]+n[3],s=i/o;if(s>=t.MIN_FINDER_PATTERN_RATIO&&s<=t.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=Ose(n),f=u.next();!f.done;f=u.next()){var d=f.value;d>c&&(c=d),d<l&&(l=d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return c<10*l}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t})(ka),iy=(function(){function e(t,n){this.value=t,this.checksumPortion=n}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e})(),i7=(function(){function e(t,n,r,a,i){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new vt(r,i)),this.resultPoints.push(new vt(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e})(),kse=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gd=(function(){function e(){}return e.getRSSvalue=function(t,n,r){var a,i,o=0;try{for(var s=kse(t),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(y){a={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}for(var u=0,f=0,d=t.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<t[h];p++,f&=~(1<<h)){var v=e.combins(o-p-1,d-h-2);if(r&&f===0&&o-p-(d-h-1)>=d-h-1&&(v-=e.combins(o-p-(d-h),d-h-2)),d-h-1>1){for(var g=0,m=o-p-(d-h-2);m>n;m--)g+=e.combins(o-p-m-1,d-h-3);v-=g*(d-1-h)}else o-p>n&&v--;u+=v}o-=p}return u},e.combins=function(t,n){var r,a;t-n>n?(a=n,r=t-n):(a=t-n,r=n);for(var i=1,o=1,s=t;s>r;s--)i*=s,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},e})(),Tse=(function(){function e(){}return e.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,a=new Va(r),i=0,o=t[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)(s&1<<l)!==0&&a.set(i),i++;for(var l=1;l<t.length;++l){for(var c=t[l],u=c.getLeftChar().getValue(),f=11;f>=0;--f)(u&1<<f)!==0&&a.set(i),i++;if(c.getRightChar()!==null)for(var d=c.getRightChar().getValue(),f=11;f>=0;--f)(d&1<<f)!==0&&a.set(i),i++}return a},e})(),Ku=(function(){function e(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e})(),_3=(function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e})(),Cse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vs=(function(e){Cse(t,e);function t(n,r){var a=e.call(this,n)||this;return a.value=r,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t})(_3),Mse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Zu=(function(e){Mse(t,e);function t(n,r,a){var i=e.call(this,n)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t})(_3),Pse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Od=(function(e){Pse(t,e);function t(n,r,a){var i=e.call(this,n)||this;if(r<0||r>10||a<0||a>10)throw new tt;return i.firstDigit=r,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t})(_3),rg=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ise=(function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,r,a,i,o,s,l,c;if(!t)return null;if(t.length<2)throw new Ie;var u=t.substring(0,2);try{for(var f=rg(e.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===u)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,h[2],t):e.processFixedAI(2,h[1],t)}}catch(E){n={error:E}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(t.length<3)throw new Ie;var p=t.substring(0,3);try{for(var v=rg(e.THREE_DIGIT_DATA_LENGTH),g=v.next();!g.done;g=v.next()){var h=g.value;if(h[0]===p)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,h[2],t):e.processFixedAI(3,h[1],t)}}catch(E){a={error:E}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}try{for(var m=rg(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){var h=y.value;if(h[0]===p)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(E){o={error:E}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(t.length<4)throw new Ie;var x=t.substring(0,4);try{for(var b=rg(e.FOUR_DIGIT_DATA_LENGTH),_=b.next();!_.done;_=b.next()){var h=_.value;if(h[0]===x)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(E){l={error:E}}finally{try{_&&!_.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new Ie},e.processFixedAI=function(t,n,r){if(r.length<t)throw new Ie;var a=r.substring(0,t);if(r.length<t+n)throw new Ie;var i=r.substring(t,t+n),o=r.substring(t+n),s="("+a+")"+i,l=e.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},e.processVariableAI=function(t,n,r){var a=r.substring(0,t),i;r.length<t+n?i=r.length:i=t+n;var o=r.substring(t,i),s=r.substring(i),l="("+a+")"+o,c=e.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e})(),Om=(function(){function e(t){this.buffer=new rn,this.information=t}return e.prototype.decodeAllCodes=function(t,n){var r=n,a=null;do{var i=this.decodeGeneralPurposeField(r,a),o=Ise.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&t.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new Od(this.information.getSize(),Od.FNC1,Od.FNC1):new Od(this.information.getSize(),n-1,Od.FNC1)}var r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,i=(r-8)%11;return new Od(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(t,n,r){for(var a=0,i=0;i<r;++i)t.get(n+i)&&(a|=1<<r-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Zu(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Zu(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var a=r!==this.current.getPosition();if(!a&&!t)break}while(!t);return n.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new Zu(this.current.getPosition(),this.buffer.toString()):n=new Zu(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ku(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new Zu(this.current.getPosition(),this.buffer.toString());return new Ku(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ku(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new Zu(this.current.getPosition(),this.buffer.toString());return new Ku(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ku(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new Zu(this.current.getPosition(),this.buffer.toString());return new Ku(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ku(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new vs(t+5,vs.FNC1);if(n>=5&&n<15)return new vs(t+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new vs(t+7,""+(r+1));if(r>=90&&r<116)return new vs(t+7,""+(r+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new tt}return new vs(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},e.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new vs(t+5,vs.FNC1);if(n>=5&&n<15)return new vs(t+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new vs(t+6,""+(r+33));var a;switch(r){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new pv("Decoding invalid alphanumeric value: "+r)}return new vs(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},e})(),o7=(function(){function e(t){this.information=t,this.generalDecoder=new Om(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e})(),Rse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Os=(function(e){Rse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var a=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,a)},t.prototype.encodeCompressedGtinWithoutAI=function(n,r,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}t.appendCheckDigit(n,a)},t.appendCheckDigit=function(n,r){for(var a=0,i=0;i<13;i++){var o=n.charAt(i+r).charCodeAt(0)-48;a+=(i&1)===0?3*o:o}a=10-a%10,a===10&&(a=0),n.append(a)},t.GTIN_SIZE=40,t})(o7),Dse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Nse=(function(e){Dse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new rn;n.append("(01)");var r=n.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(a),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t})(Os),Lse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Fse=(function(e){Lse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new rn;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t})(o7),Bse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),km=(function(e){Bse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,r,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(n,i);for(var o=this.checkWeight(i),s=1e5,l=0;l<5;++l)o/s===0&&n.append("0"),s/=10;n.append(o)},t})(Os),$se=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),s7=(function(e){$se(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+km.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ie;var n=new rn;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+km.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t})(km),jse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zse=(function(e){jse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.addWeightCode=function(n,r){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t})(s7),Use=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Hse=(function(e){Use(t,e);function t(n){return e.call(this,n)||this}return t.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t})(s7),Vse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Wse=(function(e){Vse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Os.GTIN_SIZE)throw new Ie;var n=new rn;this.encodeCompressedGtin(n,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Os.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Os.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(a.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t})(Os),Gse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Yse=(function(e){Gse(t,e);function t(n){return e.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Os.GTIN_SIZE)throw new Ie;var n=new rn;this.encodeCompressedGtin(n,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Os.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Os.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&n.append("0"),a/10===0&&n.append("0"),n.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Os.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t})(Os),Xse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$c=(function(e){Xse(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.dateCode=a,i.firstAIdigits=r,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ie;var n=new rn;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,r){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(a!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var s=a;s/10===0&&n.append("0"),n.append(s),o/10===0&&n.append("0"),n.append(o),i/10===0&&n.append("0"),n.append(i)}},t.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t})(km);function qse(e){try{if(e.get(1))return new Nse(e);if(!e.get(2))return new Fse(e);var t=Om.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new zse(e);case 5:return new Hse(e)}var n=Om.extractNumericValueFromBitArray(e,1,5);switch(n){case 12:return new Wse(e);case 13:return new Yse(e)}var r=Om.extractNumericValueFromBitArray(e,1,7);switch(r){case 56:return new $c(e,"310","11");case 57:return new $c(e,"320","11");case 58:return new $c(e,"310","13");case 59:return new $c(e,"320","13");case 60:return new $c(e,"310","15");case 61:return new $c(e,"320","15");case 62:return new $c(e,"310","17");case 63:return new $c(e,"320","17")}}catch(a){throw console.log(a),new pv("unknown decoder: "+e)}}var J4=(function(){function e(t,n,r,a){this.leftchar=t,this.rightchar=n,this.finderpattern=r,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e?e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern):!1},e.equalsOrNull=function(t,n){return t===null?n===null:e.equals(t,n)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e})(),Kse=(function(){function e(t,n,r){this.pairs=t,this.rowNumber=n,this.wasReversed=r}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},e.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var r;return t.forEach(function(a,i){n.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},e})(),Zse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jc=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qse=(function(e){Zse(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,r,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,r){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(s){if(s instanceof Ie){if(!this.pairs.length)throw new Ie;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ie},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(a){console.log(a)}return n&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(n,r){for(var a,i,o=r;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(a=void 0,jc(n)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}if(this.pairs.push(s.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(n);f.push(s);try{return this.checkRows(f,o+1)}catch(d){console.log(d)}}}throw new Ie},t.isValidSequence=function(n){var r,a;try{for(var i=jc(t.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(n.length>s.length)){for(var l=!0,c=0;c<n.length;c++)if(n[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(n,r){for(var a=0,i=!1,o=!1;a<this.rows.length;){var s=this.rows[a];if(s.getRowNumber()>n){o=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),a++}o||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Kse(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,r){var a,i,o,s,l,c;try{for(var u=jc(r),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.getPairs().length!==n.length){var h=!0;try{for(var p=(o=void 0,jc(d.getPairs())),v=p.next();!v.done;v=p.next()){var g=v.value,m=!1;try{for(var y=(l=void 0,jc(n)),x=y.next();!x.done;x=y.next()){var b=x.value;if(J4.equals(g,b)){m=!0;break}}}catch(_){l={error:_}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}m||(h=!1)}}catch(_){o={error:_}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}}catch(_){a={error:_}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},t.isPartialRow=function(n,r){var a,i,o,s,l,c;try{for(var u=jc(r),f=u.next();!f.done;f=u.next()){var d=f.value,h=!0;try{for(var p=(o=void 0,jc(n)),v=p.next();!v.done;v=p.next()){var g=v.value,m=!1;try{for(var y=(l=void 0,jc(d.getPairs())),x=y.next();!x.done;x=y.next()){var b=x.value;if(g.equals(b)){m=!0;break}}}catch(_){l={error:_}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}if(!m){h=!1;break}}}catch(_){o={error:_}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}if(h)return!0}}catch(_){a={error:_}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var r=Tse.buildBitArray(n),a=qse(r),i=a.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),s=n[n.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Ri(i,null,null,l,bt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),a=n.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);i+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(i+=c.getChecksumPortion(),o++)}i%=211;var u=211*(o-4)+i;return u===r.getValue()},t.getNextSecondBar=function(n,r){var a;return n.get(r)?(a=n.getNextUnset(r),a=n.getNextSet(a)):(a=n.getNextSet(r),a=n.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(n,r,a){var i=r.length%2===0;this.startFromEven&&(i=!i);var o,s=!0,l=-1;do this.findNextPair(n,r,l),o=this.parseFoundFinderPattern(n,a,i),o===null?l=t.getNextSecondBar(n,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(n,o,i,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Ie;var u;try{u=this.decodeDataCharacter(n,o,i,!1)}catch(f){u=null,console.log(f)}return new J4(c,u,o,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,r,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=n.getSize(),s;if(a>=0)s=a;else if(this.isEmptyPair(r))s=0;else{var l=r[r.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=r.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;s<o&&(u=!n.get(s),!!u);)s++;for(var f=0,d=s,h=s;h<o;h++)if(n.get(h)!==u)i[f]++;else{if(f===3){if(c&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=d,this.startEnd[1]=h;return}c&&t.reverseCounters(i),d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new Ie},t.reverseCounters=function(n){for(var r=n.length,a=0;a<r/2;++a){var i=n[a];n[a]=n[r-a-1],n[r-a-1]=i}},t.prototype.parseFoundFinderPattern=function(n,r,a){var i,o,s;if(a){for(var l=this.startEnd[0]-1;l>=0&&!n.get(l);)l--;l++,i=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=n.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var c=this.getDecodeFinderCounters();fr.arraycopy(c,0,c,1,c.length-1),c[0]=i;var u;try{u=this.parseFinderValue(c,t.FINDER_PATTERNS)}catch{return null}return new i7(u,[o,s],o,s,r)},t.prototype.decodeDataCharacter=function(n,r,a,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)t.recordPatternInReverse(n,r.getStartEnd()[0],o);else{t.recordPattern(n,r.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var u=o[l];o[l]=o[c],o[c]=u}}var f=17,d=En.sum(new Int32Array(o))/f,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Ie;for(var p=this.getOddCounts(),v=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/d,x=y+.5;if(x<1){if(y<.3)throw new Ie;x=1}else if(x>8){if(y>8.7)throw new Ie;x=8}var b=l/2;(l&1)===0?(p[b]=x,g[b]=y-x):(v[b]=x,m[b]=y-x)}this.adjustOddEvenCounts(f);for(var _=4*r.getValue()+(a?0:2)+(i?0:1)-1,E=0,w=0,l=p.length-1;l>=0;l--){if(t.isNotA1left(r,a,i)){var A=t.WEIGHTS[_][2*l];w+=p[l]*A}E+=p[l]}for(var S=0,l=v.length-1;l>=0;l--)if(t.isNotA1left(r,a,i)){var A=t.WEIGHTS[_][2*l+1];S+=v[l]*A}var O=w+S;if((E&1)!==0||E>13||E<4)throw new Ie;var k=(13-E)/2,T=t.SYMBOL_WIDEST[k],C=9-T,M=Gd.getRSSvalue(p,T,!0),P=Gd.getRSSvalue(v,C,!1),I=t.EVEN_TOTAL_SUBSET[k],L=t.GSUM[k],z=M*I+P+L;return new iy(z,O)},t.isNotA1left=function(n,r,a){return!(n.getValue()===0&&r&&a)},t.prototype.adjustOddEvenCounts=function(n){var r=En.sum(new Int32Array(this.getOddCounts())),a=En.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;r>13?o=!0:r<4&&(i=!0);var s=!1,l=!1;a>13?l=!0:a<4&&(s=!0);var c=r+a-n,u=(r&1)===1,f=(a&1)===0;if(c===1)if(u){if(f)throw new Ie;o=!0}else{if(!f)throw new Ie;l=!0}else if(c===-1)if(u){if(f)throw new Ie;i=!0}else{if(!f)throw new Ie;s=!0}else if(c===0){if(u){if(!f)throw new Ie;r<a?(i=!0,l=!0):(o=!0,s=!0)}else if(f)throw new Ie}else throw new Ie;if(i){if(o)throw new Ie;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new Ie;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t})(ff),Jse=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ele=(function(e){Jse(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t})(iy),tle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ew=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e8=(function(e){tle(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,r,a){var i,o,s,l,c=this.decodePair(r,!1,n,a);t.addOrTally(this.possibleLeftPairs,c),r.reverse();var u=this.decodePair(r,!0,n,a);t.addOrTally(this.possibleRightPairs,u),r.reverse();try{for(var f=ew(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(s=void 0,ew(this.possibleRightPairs)),v=p.next();!v.done;v=p.next()){var g=v.value;if(g.getCount()>1&&t.checkChecksum(h,g))return t.constructResult(h,g)}}catch(m){s={error:m}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}throw new Ie},t.addOrTally=function(n,r){var a,i;if(r!=null){var o=!1;try{for(var s=ew(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===r.getValue()){c.incrementCount(),o=!0;break}}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}o||n.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,r){for(var a=4537077*n.getValue()+r.getValue(),i=new String(a).toString(),o=new rn,s=13-i.length;s>0;s--)o.append("0");o.append(i);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=(s&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var u=n.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new Ri(o.toString(),null,0,[u[0],u[1],f[0],f[1]],bt.RSS_14,new Date().getTime())},t.checkChecksum=function(n,r){var a=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(n,r,a,i){try{var o=this.findFinderPattern(n,r),s=this.parseFoundFinderPattern(n,a,r,o),l=i==null?null:i.get(kr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;r&&(c=n.getSize()-1-c),l.foundPossibleResultPoint(new vt(c,a))}var u=this.decodeDataCharacter(n,s,!0),f=this.decodeDataCharacter(n,s,!1);return new ele(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},t.prototype.decodeDataCharacter=function(n,r,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)ka.recordPatternInReverse(n,r.getStartEnd()[0],i);else{ka.recordPattern(n,r.getStartEnd()[1]+1,i);for(var s=0,l=i.length-1;s<l;s++,l--){var c=i[s];i[s]=i[l],i[l]=c}}for(var u=a?16:15,f=En.sum(new Int32Array(i))/u,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var g=i[s]/f,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(s/2);(s&1)===0?(d[y]=m,p[y]=g-m):(h[y]=m,v[y]=g-m)}this.adjustOddEvenCounts(a,u);for(var x=0,b=0,s=d.length-1;s>=0;s--)b*=9,b+=d[s],x+=d[s];for(var _=0,E=0,s=h.length-1;s>=0;s--)_*=9,_+=h[s],E+=h[s];var w=b+3*_;if(a){if((x&1)!==0||x>12||x<4)throw new Ie;var A=(12-x)/2,S=t.OUTSIDE_ODD_WIDEST[A],O=9-S,k=Gd.getRSSvalue(d,S,!1),T=Gd.getRSSvalue(h,O,!0),C=t.OUTSIDE_EVEN_TOTAL_SUBSET[A],M=t.OUTSIDE_GSUM[A];return new iy(k*C+T+M,w)}else{if((E&1)!==0||E>10||E<4)throw new Ie;var A=(10-E)/2,S=t.INSIDE_ODD_WIDEST[A],O=9-S,k=Gd.getRSSvalue(d,S,!0),T=Gd.getRSSvalue(h,O,!1),P=t.INSIDE_ODD_TOTAL_SUBSET[A],M=t.INSIDE_GSUM[A];return new iy(T*P+k+M,w)}},t.prototype.findFinderPattern=function(n,r){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=n.getSize(),o=!1,s=0;s<i&&(o=!n.get(s),r!==o);)s++;for(var l=0,c=s,u=s;u<i;u++)if(n.get(u)!==o)a[l]++;else{if(l===3){if(ff.isFinderPattern(a))return[c,u];c+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,o=!o}throw new Ie},t.prototype.parseFoundFinderPattern=function(n,r,a,i){for(var o=n.get(i[0]),s=i[0]-1;s>=0&&o!==n.get(s);)s--;s++;var l=i[0]-s,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);fr.arraycopy(c,0,u,1,c.length-1),u[0]=l;var f=this.parseFinderValue(u,t.FINDER_PATTERNS),d=s,h=i[1];return a&&(d=n.getSize()-1-d,h=n.getSize()-1-h),new i7(f,[s,i[1]],d,h,r)},t.prototype.adjustOddEvenCounts=function(n,r){var a=En.sum(new Int32Array(this.getOddCounts())),i=En.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;n?(a>12?s=!0:a<4&&(o=!0),i>12?c=!0:i<4&&(l=!0)):(a>11?s=!0:a<5&&(o=!0),i>10?c=!0:i<4&&(l=!0));var u=a+i-r,f=(a&1)===(n?1:0),d=(i&1)===1;if(u===1)if(f){if(d)throw new Ie;s=!0}else{if(!d)throw new Ie;c=!0}else if(u===-1)if(f){if(d)throw new Ie;o=!0}else{if(!d)throw new Ie;l=!0}else if(u===0){if(f){if(!d)throw new Ie;a<i?(o=!0,c=!0):(s=!0,l=!0)}else if(d)throw new Ie}else throw new Ie;if(o){if(s)throw new Ie;ff.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ff.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ie;ff.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&ff.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t})(ff),nle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rp=(function(e){nle(t,e);function t(n){var r=e.call(this)||this;r.readers=[];var a=n?n.get(kr.POSSIBLE_FORMATS):null,i=n&&n.get(kr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(kr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(bt.EAN_13)||a.includes(bt.UPC_A)||a.includes(bt.EAN_8)||a.includes(bt.UPC_E))&&r.readers.push(new Jb(n)),a.includes(bt.CODE_39)&&r.readers.push(new V4(i,o)),a.includes(bt.CODE_93)&&r.readers.push(new W4),a.includes(bt.CODE_128)&&r.readers.push(new H4),a.includes(bt.ITF)&&r.readers.push(new G4),a.includes(bt.CODABAR)&&r.readers.push(new Ase),a.includes(bt.RSS_14)&&r.readers.push(new e8),a.includes(bt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new Qse))),r.readers.length===0&&(r.readers.push(new Jb(n)),r.readers.push(new V4),r.readers.push(new W4),r.readers.push(new Jb(n)),r.readers.push(new H4),r.readers.push(new G4),r.readers.push(new e8)),r}return t.prototype.decodeRow=function(n,r,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,r,a)}catch{}throw new Ie},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t})(ka),rle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){rle(t,e);function t(n,r){return n===void 0&&(n=500),e.call(this,new rp(r),n,r)||this}return t})(ch);var t8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},In=(function(){function e(t,n,r){this.ecCodewords=t,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e})(),kn=(function(){function e(t,n){this.count=t,this.dataCodewords=n}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e})(),ale=(function(){function e(t,n,r,a,i,o){var s,l;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var c=0,u=o.getECCodewords(),f=o.getECBlocks();try{for(var d=t8(f),h=d.next();!h.done;h=d.next()){var p=h.value;c+=p.getCount()*(p.getDataCodewords()+u)}}catch(v){s={error:v}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}this.totalCodewords=c}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var r,a;if((t&1)!==0||(n&1)!==0)throw new tt;try{for(var i=t8(e.VERSIONS),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===n)return s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}throw new tt},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new In(5,new kn(1,3))),new e(2,12,12,10,10,new In(7,new kn(1,5))),new e(3,14,14,12,12,new In(10,new kn(1,8))),new e(4,16,16,14,14,new In(12,new kn(1,12))),new e(5,18,18,16,16,new In(14,new kn(1,18))),new e(6,20,20,18,18,new In(18,new kn(1,22))),new e(7,22,22,20,20,new In(20,new kn(1,30))),new e(8,24,24,22,22,new In(24,new kn(1,36))),new e(9,26,26,24,24,new In(28,new kn(1,44))),new e(10,32,32,14,14,new In(36,new kn(1,62))),new e(11,36,36,16,16,new In(42,new kn(1,86))),new e(12,40,40,18,18,new In(48,new kn(1,114))),new e(13,44,44,20,20,new In(56,new kn(1,144))),new e(14,48,48,22,22,new In(68,new kn(1,174))),new e(15,52,52,24,24,new In(42,new kn(2,102))),new e(16,64,64,14,14,new In(56,new kn(2,140))),new e(17,72,72,16,16,new In(36,new kn(4,92))),new e(18,80,80,18,18,new In(48,new kn(4,114))),new e(19,88,88,20,20,new In(56,new kn(4,144))),new e(20,96,96,22,22,new In(68,new kn(4,174))),new e(21,104,104,24,24,new In(56,new kn(6,136))),new e(22,120,120,18,18,new In(68,new kn(6,175))),new e(23,132,132,20,20,new In(62,new kn(8,163))),new e(24,144,144,22,22,new In(62,new kn(8,156),new kn(2,155))),new e(25,8,18,6,16,new In(7,new kn(1,5))),new e(26,8,32,6,14,new In(11,new kn(1,10))),new e(27,12,26,10,24,new In(14,new kn(1,16))),new e(28,12,36,10,16,new In(18,new kn(1,22))),new e(29,16,36,14,16,new In(24,new kn(1,32))),new e(30,16,48,14,22,new In(28,new kn(1,49)))]},e.VERSIONS=e.buildVersions(),e})(),ile=(function(){function e(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new tt;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Pl(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var n=t.getHeight(),r=t.getWidth();return ale.getVersionForDimensions(n,r)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,u=!1;do if(r===i&&a===0&&!s)t[n++]=this.readCorner1(i,o)&255,r-=2,a+=2,s=!0;else if(r===i-2&&a===0&&(o&3)!==0&&!l)t[n++]=this.readCorner2(i,o)&255,r-=2,a+=2,l=!0;else if(r===i+4&&a===2&&(o&7)===0&&!c)t[n++]=this.readCorner3(i,o)&255,r-=2,a+=2,c=!0;else if(r===i-2&&a===0&&(o&7)===4&&!u)t[n++]=this.readCorner4(i,o)&255,r-=2,a+=2,u=!0;else{do r<i&&a>=0&&!this.readMappingMatrix.get(a,r)&&(t[n++]=this.readUtah(r,a,i,o)&255),r-=2,a+=2;while(r>=0&&a<o);r+=1,a+=3;do r>=0&&a<o&&!this.readMappingMatrix.get(a,r)&&(t[n++]=this.readUtah(r,a,i,o)&255),r+=2,a-=2;while(r<i&&a>=0);r+=3,a+=1}while(r<i||a<o);if(n!==this.version.getTotalCodewords())throw new tt;return t},e.prototype.readModule=function(t,n,r,a){return t<0&&(t+=r,n+=4-(r+4&7)),n<0&&(n+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},e.prototype.readUtah=function(t,n,r,a){var i=0;return this.readModule(t-2,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t-2,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,n,r,a)&&(i|=1),i<<=1,this.readModule(t,n-2,r,a)&&(i|=1),i<<=1,this.readModule(t,n-1,r,a)&&(i|=1),i<<=1,this.readModule(t,n,r,a)&&(i|=1),i},e.prototype.readCorner1=function(t,n){var r=0;return this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,1,t,n)&&(r|=1),r<<=1,this.readModule(t-1,2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(2,n-1,t,n)&&(r|=1),r<<=1,this.readModule(3,n-1,t,n)&&(r|=1),r},e.prototype.readCorner2=function(t,n){var r=0;return this.readModule(t-3,0,t,n)&&(r|=1),r<<=1,this.readModule(t-2,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(0,n-4,t,n)&&(r|=1),r<<=1,this.readModule(0,n-3,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r},e.prototype.readCorner3=function(t,n){var r=0;return this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(0,n-3,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-3,t,n)&&(r|=1),r<<=1,this.readModule(1,n-2,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r},e.prototype.readCorner4=function(t,n){var r=0;return this.readModule(t-3,0,t,n)&&(r|=1),r<<=1,this.readModule(t-2,0,t,n)&&(r|=1),r<<=1,this.readModule(t-1,0,t,n)&&(r|=1),r<<=1,this.readModule(0,n-2,t,n)&&(r|=1),r<<=1,this.readModule(0,n-1,t,n)&&(r|=1),r<<=1,this.readModule(1,n-1,t,n)&&(r|=1),r<<=1,this.readModule(2,n-1,t,n)&&(r|=1),r<<=1,this.readModule(3,n-1,t,n)&&(r|=1),r},e.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new Et("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=n/a|0,s=r/i|0,l=o*a,c=s*i,u=new Pl(c,l),f=0;f<o;++f)for(var d=f*a,h=0;h<s;++h)for(var p=h*i,v=0;v<a;++v)for(var g=f*(a+2)+1+v,m=d+v,y=0;y<i;++y){var x=h*(i+2)+1+y;if(t.get(x,g)){var b=p+y;u.set(b,m)}}return u},e})(),n8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ole=(function(){function e(t,n){this.numDataCodewords=t,this.codewords=n}return e.getDataBlocks=function(t,n){var r,a,i,o,s=n.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=n8(c),f=u.next();!f.done;f=u.next()){var d=f.value;l+=d.getCount()}}catch(M){r={error:M}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}var h=new Array(l),p=0;try{for(var v=n8(c),g=v.next();!g.done;g=v.next())for(var d=g.value,m=0;m<d.getCount();m++){var y=d.getDataCodewords(),x=s.getECCodewords()+y;h[p++]=new e(y,new Uint8Array(x))}}catch(M){i={error:M}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}for(var b=h[0].codewords.length,_=b-s.getECCodewords(),E=_-1,w=0,m=0;m<E;m++)for(var A=0;A<p;A++)h[A].codewords[m]=t[w++];for(var S=n.getVersionNumber()===24,O=S?8:p,A=0;A<O;A++)h[A].codewords[_-1]=t[w++];for(var k=h[0].codewords.length,m=_;m<k;m++)for(var A=0;A<p;A++){var T=S?(A+8)%p:A,C=S&&T>7?m-1:m;h[T].codewords[C]=t[w++]}if(w!==t.length)throw new Et;return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e})(),l7=(function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Et(""+t);var n=0,r=this.bitOffset,a=this.byteOffset,i=this.bytes;if(r>0){var o=8-r,s=t<o?t:o,l=o-s,c=255>>8-s<<l;n=(i[a]&c)>>l,t-=s,r+=s,r===8&&(r=0,a++)}if(t>0){for(;t>=8;)n=n<<8|i[a]&255,a++,t-=8;if(t>0){var l=8-t,c=255>>l<<l;n=n<<t|(i[a]&c)>>l,r+=t}}return this.bitOffset=r,this.byteOffset=a,n},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e})(),ba;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(ba||(ba={}));var sle=(function(){function e(){}return e.decode=function(t){var n=new l7(t),r=new rn,a=new rn,i=new Array,o=ba.ASCII_ENCODE;do if(o===ba.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,a);else{switch(o){case ba.C40_ENCODE:this.decodeC40Segment(n,r);break;case ba.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case ba.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case ba.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case ba.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new tt}o=ba.ASCII_ENCODE}while(o!==ba.PAD_ENCODE&&n.available()>0);return a.length()>0&&r.append(a.toString()),new n2(t,r.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,n,r){var a=!1;do{var i=t.readBits(8);if(i===0)throw new tt;if(i<=128)return a&&(i+=128),n.append(String.fromCharCode(i-1)),ba.ASCII_ENCODE;if(i===129)return ba.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&n.append("0"),n.append(""+o)}else switch(i){case 230:return ba.C40_ENCODE;case 231:return ba.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return ba.ANSIX12_ENCODE;case 239:return ba.TEXT_ENCODE;case 240:return ba.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new tt;break}}while(t.available()>0);return ba.ASCII_ENCODE},e.decodeC40Segment=function(t,n){var r=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else throw new tt;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else switch(l){case 27:n.append("");break;case 30:r=!0;break;default:throw new tt}i=0;break;case 3:r?(n.append(String.fromCharCode(l+224)),r=!1):n.append(String.fromCharCode(l+96)),i=0;break;default:throw new tt}}}while(t.available()>0)},e.decodeTextSegment=function(t,n){var r=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else throw new tt;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}else switch(l){case 27:n.append("");break;case 30:r=!0;break;default:throw new tt}i=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c),i=0}else throw new tt;break;default:throw new tt}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,n){var r=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),r);for(var i=0;i<3;i++){var o=r[i];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new tt;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,n,r){var a=(t<<8)+n-1,i=Math.floor(a/1600);r[0]=i,a-=i*1600,i=Math.floor(a/40),r[1]=i,r[2]=a-i*40},e.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}(a&32)===0&&(a|=64),n.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,n,r){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),o;if(i===0?o=t.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),o<0)throw new tt;for(var s=new Uint8Array(o),l=0;l<o;l++){if(t.available()<8)throw new tt;s[l]=this.unrandomize255State(t.readBits(8),a++)}r.push(s);try{n.append(ts.decode(s,hn.ISO88591))}catch(c){throw new pv("Platform does not support required encoding: "+c.message)}},e.unrandomize255State=function(t,n){var r=149*n%255+1,a=t-r;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e})(),lle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cle=(function(){function e(){this.rsDecoder=new r2(fo.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var n,r,a=new ile(t),i=a.getVersion(),o=a.readCodewords(),s=ole.getDataBlocks(o,i),l=0;try{for(var c=lle(s),u=c.next();!u.done;u=c.next()){var f=u.value;l+=f.getNumDataCodewords()}}catch(x){n={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var d=new Uint8Array(l),h=s.length,p=0;p<h;p++){var v=s[p],g=v.getCodewords(),m=v.getNumDataCodewords();this.correctErrors(g,m);for(var y=0;y<m;y++)d[y*h+p]=g[y]}return sle.decode(d)},e.prototype.correctErrors=function(t,n){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-n)}catch{throw new Ua}for(var a=0;a<n;a++)t[a]=r[a]},e})(),ule=(function(){function e(t){this.image=t,this.rectangleDetector=new bE(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Ie;n=this.shiftToModuleCenter(n);var r=n[0],a=n[1],i=n[2],o=n[3],s=this.transitionsBetween(r,o)+1,l=this.transitionsBetween(i,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=e.sampleGrid(this.image,r,a,i,o,s,l);return new b3(c,[r,a,i,o])},e.shiftPoint=function(t,n,r){var a=(n.getX()-t.getX())/(r+1),i=(n.getY()-t.getY())/(r+1);return new vt(t.getX()+a,t.getY()+i)},e.moveAway=function(t,n,r){var a=t.getX(),i=t.getY();return a<n?a-=1:a+=1,i<r?i-=1:i+=1,new vt(a,i)},e.prototype.detectSolid1=function(t){var n=t[0],r=t[1],a=t[3],i=t[2],o=this.transitionsBetween(n,r),s=this.transitionsBetween(r,a),l=this.transitionsBetween(a,i),c=this.transitionsBetween(i,n),u=o,f=[i,n,r,a];return u>s&&(u=s,f[0]=n,f[1]=r,f[2]=a,f[3]=i),u>l&&(u=l,f[0]=r,f[1]=a,f[2]=i,f[3]=n),u>c&&(f[0]=a,f[1]=i,f[2]=n,f[3]=r),f},e.prototype.detectSolid2=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i),s=e.shiftPoint(r,a,(o+1)*4),l=e.shiftPoint(a,r,(o+1)*4),c=this.transitionsBetween(s,n),u=this.transitionsBetween(l,i);return c<u?(t[0]=n,t[1]=r,t[2]=a,t[3]=i):(t[0]=r,t[1]=a,t[2]=i,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),l=e.shiftPoint(n,r,(s+1)*4),c=e.shiftPoint(a,r,(o+1)*4);o=this.transitionsBetween(l,i),s=this.transitionsBetween(c,i);var u=new vt(i.getX()+(a.getX()-r.getX())/(o+1),i.getY()+(a.getY()-r.getY())/(o+1)),f=new vt(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var d=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),h=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return d>h?u:f},e.prototype.shiftToModuleCenter=function(t){var n=t[0],r=t[1],a=t[2],i=t[3],o=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(a,i)+1,l=e.shiftPoint(n,r,s*4),c=e.shiftPoint(a,r,o*4);o=this.transitionsBetween(l,i)+1,s=this.transitionsBetween(c,i)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var u=(n.getX()+r.getX()+a.getX()+i.getX())/4,f=(n.getY()+r.getY()+a.getY()+i.getY())/4;n=e.moveAway(n,u,f),r=e.moveAway(r,u,f),a=e.moveAway(a,u,f),i=e.moveAway(i,u,f);var d,h;return l=e.shiftPoint(n,r,s*4),l=e.shiftPoint(l,i,o*4),d=e.shiftPoint(r,n,s*4),d=e.shiftPoint(d,a,o*4),c=e.shiftPoint(a,i,s*4),c=e.shiftPoint(c,r,o*4),h=e.shiftPoint(i,a,s*4),h=e.shiftPoint(h,n,o*4),[l,d,c,h]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,n,r,a,i,o,s){var l=w3.getInstance();return l.sampleGrid(t,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY(),r.getX(),r.getY())},e.prototype.transitionsBetween=function(t,n){var r=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(n.getX()),o=Math.trunc(n.getY()),s=Math.abs(o-a)>Math.abs(i-r);if(s){var l=r;r=a,a=l,l=i,i=o,o=l}for(var c=Math.abs(i-r),u=Math.abs(o-a),f=-c/2,d=a<o?1:-1,h=r<i?1:-1,p=0,v=this.image.get(s?a:r,s?r:a),g=r,m=a;g!==i;g+=h){var y=this.image.get(s?m:g,s?g:m);if(y!==v&&(p++,v=y),f+=u,f>0){if(m===o)break;m+=d,f-=c}}return p},e})(),EE=(function(){function e(){this.decoder=new cle}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r,a;if(n!=null&&n.has(kr.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(i),a=e.NO_POINTS}else{var o=new ule(t.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),a=o.getPoints()}var s=r.getRawBytes(),l=new Ri(r.getText(),s,8*s.length,a,bt.DATA_MATRIX,fr.currentTimeMillis()),c=r.getByteSegments();c!=null&&l.putMetadata(ii.BYTE_SEGMENTS,c);var u=r.getECLevel();return u!=null&&l.putMetadata(ii.ERROR_CORRECTION_LEVEL,u),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var n=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(n==null||r==null)throw new Ie;var a=this.moduleSize(n,t),i=n[1],o=r[1],s=n[0],l=r[0],c=(l-s+1)/a,u=(o-i+1)/a;if(c<=0||u<=0)throw new Ie;var f=a/2;i+=f,s+=f;for(var d=new Pl(c,u),h=0;h<u;h++)for(var p=i+h*a,v=0;v<c;v++)t.get(s+v*a,p)&&d.set(v,h);return d},e.moduleSize=function(t,n){for(var r=n.getWidth(),a=t[0],i=t[1];a<r&&n.get(a,i);)a++;if(a===r)throw new Ie;var o=a-t[0];if(o===0)throw new Ie;return o},e.NO_POINTS=[],e})(),fle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){fle(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new EE,n)||this}return t})(ch);var Yd;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(Yd||(Yd={}));var dle=(function(){function e(t,n,r){this.value=t,this.stringValue=n,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new ws(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Et;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Yd.L,"L",1),e.M=new e(Yd.M,"M",0),e.Q=new e(Yd.Q,"Q",3),e.H=new e(Yd.H,"H",2),e})(),hle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c7=(function(){function e(t){this.errorCorrectionLevel=dle.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,n){return on.bitCount(t^n)},e.decodeFormatInformation=function(t,n){var r=e.doDecodeFormatInformation(t,n);return r!==null?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var r,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=hle(e.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===t||u===n)return new e(c[1]);var f=e.numBitsDiffering(t,u);f<i&&(o=c[1],i=f),t!==n&&(f=e.numBitsDiffering(n,u),f<i&&(o=c[1],i=f))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return i<=3?new e(o):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e})(),ple=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=(function(){function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,n,r=0,a=this.ecBlocks;try{for(var i=ple(a),o=i.next();!o.done;o=i.next()){var s=o.value;r+=s.getCount()}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e})(),oe=(function(){function e(t,n){this.count=t,this.dataCodewords=n}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e})(),vle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},If=(function(){function e(t,n){for(var r,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;var s=0,l=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();try{for(var u=vle(c),f=u.next();!f.done;f=u.next()){var d=f.value;s+=d.getCount()*(d.getDataCodewords()+l)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}this.totalCodewords=s}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new tt;try{return this.getVersionForNumber((t-17)/4)}catch{throw new tt}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Et;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var o=c7.numBitsDiffering(t,i);o<n&&(r=a+7,n=o)}return n<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new Pl(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,a=0;a<r;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<r;o++)a===0&&(o===0||o===r-1)||a===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new _e(7,new oe(1,19)),new _e(10,new oe(1,16)),new _e(13,new oe(1,13)),new _e(17,new oe(1,9))),new e(2,Int32Array.from([6,18]),new _e(10,new oe(1,34)),new _e(16,new oe(1,28)),new _e(22,new oe(1,22)),new _e(28,new oe(1,16))),new e(3,Int32Array.from([6,22]),new _e(15,new oe(1,55)),new _e(26,new oe(1,44)),new _e(18,new oe(2,17)),new _e(22,new oe(2,13))),new e(4,Int32Array.from([6,26]),new _e(20,new oe(1,80)),new _e(18,new oe(2,32)),new _e(26,new oe(2,24)),new _e(16,new oe(4,9))),new e(5,Int32Array.from([6,30]),new _e(26,new oe(1,108)),new _e(24,new oe(2,43)),new _e(18,new oe(2,15),new oe(2,16)),new _e(22,new oe(2,11),new oe(2,12))),new e(6,Int32Array.from([6,34]),new _e(18,new oe(2,68)),new _e(16,new oe(4,27)),new _e(24,new oe(4,19)),new _e(28,new oe(4,15))),new e(7,Int32Array.from([6,22,38]),new _e(20,new oe(2,78)),new _e(18,new oe(4,31)),new _e(18,new oe(2,14),new oe(4,15)),new _e(26,new oe(4,13),new oe(1,14))),new e(8,Int32Array.from([6,24,42]),new _e(24,new oe(2,97)),new _e(22,new oe(2,38),new oe(2,39)),new _e(22,new oe(4,18),new oe(2,19)),new _e(26,new oe(4,14),new oe(2,15))),new e(9,Int32Array.from([6,26,46]),new _e(30,new oe(2,116)),new _e(22,new oe(3,36),new oe(2,37)),new _e(20,new oe(4,16),new oe(4,17)),new _e(24,new oe(4,12),new oe(4,13))),new e(10,Int32Array.from([6,28,50]),new _e(18,new oe(2,68),new oe(2,69)),new _e(26,new oe(4,43),new oe(1,44)),new _e(24,new oe(6,19),new oe(2,20)),new _e(28,new oe(6,15),new oe(2,16))),new e(11,Int32Array.from([6,30,54]),new _e(20,new oe(4,81)),new _e(30,new oe(1,50),new oe(4,51)),new _e(28,new oe(4,22),new oe(4,23)),new _e(24,new oe(3,12),new oe(8,13))),new e(12,Int32Array.from([6,32,58]),new _e(24,new oe(2,92),new oe(2,93)),new _e(22,new oe(6,36),new oe(2,37)),new _e(26,new oe(4,20),new oe(6,21)),new _e(28,new oe(7,14),new oe(4,15))),new e(13,Int32Array.from([6,34,62]),new _e(26,new oe(4,107)),new _e(22,new oe(8,37),new oe(1,38)),new _e(24,new oe(8,20),new oe(4,21)),new _e(22,new oe(12,11),new oe(4,12))),new e(14,Int32Array.from([6,26,46,66]),new _e(30,new oe(3,115),new oe(1,116)),new _e(24,new oe(4,40),new oe(5,41)),new _e(20,new oe(11,16),new oe(5,17)),new _e(24,new oe(11,12),new oe(5,13))),new e(15,Int32Array.from([6,26,48,70]),new _e(22,new oe(5,87),new oe(1,88)),new _e(24,new oe(5,41),new oe(5,42)),new _e(30,new oe(5,24),new oe(7,25)),new _e(24,new oe(11,12),new oe(7,13))),new e(16,Int32Array.from([6,26,50,74]),new _e(24,new oe(5,98),new oe(1,99)),new _e(28,new oe(7,45),new oe(3,46)),new _e(24,new oe(15,19),new oe(2,20)),new _e(30,new oe(3,15),new oe(13,16))),new e(17,Int32Array.from([6,30,54,78]),new _e(28,new oe(1,107),new oe(5,108)),new _e(28,new oe(10,46),new oe(1,47)),new _e(28,new oe(1,22),new oe(15,23)),new _e(28,new oe(2,14),new oe(17,15))),new e(18,Int32Array.from([6,30,56,82]),new _e(30,new oe(5,120),new oe(1,121)),new _e(26,new oe(9,43),new oe(4,44)),new _e(28,new oe(17,22),new oe(1,23)),new _e(28,new oe(2,14),new oe(19,15))),new e(19,Int32Array.from([6,30,58,86]),new _e(28,new oe(3,113),new oe(4,114)),new _e(26,new oe(3,44),new oe(11,45)),new _e(26,new oe(17,21),new oe(4,22)),new _e(26,new oe(9,13),new oe(16,14))),new e(20,Int32Array.from([6,34,62,90]),new _e(28,new oe(3,107),new oe(5,108)),new _e(26,new oe(3,41),new oe(13,42)),new _e(30,new oe(15,24),new oe(5,25)),new _e(28,new oe(15,15),new oe(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new _e(28,new oe(4,116),new oe(4,117)),new _e(26,new oe(17,42)),new _e(28,new oe(17,22),new oe(6,23)),new _e(30,new oe(19,16),new oe(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new _e(28,new oe(2,111),new oe(7,112)),new _e(28,new oe(17,46)),new _e(30,new oe(7,24),new oe(16,25)),new _e(24,new oe(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new _e(30,new oe(4,121),new oe(5,122)),new _e(28,new oe(4,47),new oe(14,48)),new _e(30,new oe(11,24),new oe(14,25)),new _e(30,new oe(16,15),new oe(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new _e(30,new oe(6,117),new oe(4,118)),new _e(28,new oe(6,45),new oe(14,46)),new _e(30,new oe(11,24),new oe(16,25)),new _e(30,new oe(30,16),new oe(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new _e(26,new oe(8,106),new oe(4,107)),new _e(28,new oe(8,47),new oe(13,48)),new _e(30,new oe(7,24),new oe(22,25)),new _e(30,new oe(22,15),new oe(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new _e(28,new oe(10,114),new oe(2,115)),new _e(28,new oe(19,46),new oe(4,47)),new _e(28,new oe(28,22),new oe(6,23)),new _e(30,new oe(33,16),new oe(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new _e(30,new oe(8,122),new oe(4,123)),new _e(28,new oe(22,45),new oe(3,46)),new _e(30,new oe(8,23),new oe(26,24)),new _e(30,new oe(12,15),new oe(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new _e(30,new oe(3,117),new oe(10,118)),new _e(28,new oe(3,45),new oe(23,46)),new _e(30,new oe(4,24),new oe(31,25)),new _e(30,new oe(11,15),new oe(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new _e(30,new oe(7,116),new oe(7,117)),new _e(28,new oe(21,45),new oe(7,46)),new _e(30,new oe(1,23),new oe(37,24)),new _e(30,new oe(19,15),new oe(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new _e(30,new oe(5,115),new oe(10,116)),new _e(28,new oe(19,47),new oe(10,48)),new _e(30,new oe(15,24),new oe(25,25)),new _e(30,new oe(23,15),new oe(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new _e(30,new oe(13,115),new oe(3,116)),new _e(28,new oe(2,46),new oe(29,47)),new _e(30,new oe(42,24),new oe(1,25)),new _e(30,new oe(23,15),new oe(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new _e(30,new oe(17,115)),new _e(28,new oe(10,46),new oe(23,47)),new _e(30,new oe(10,24),new oe(35,25)),new _e(30,new oe(19,15),new oe(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new _e(30,new oe(17,115),new oe(1,116)),new _e(28,new oe(14,46),new oe(21,47)),new _e(30,new oe(29,24),new oe(19,25)),new _e(30,new oe(11,15),new oe(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new _e(30,new oe(13,115),new oe(6,116)),new _e(28,new oe(14,46),new oe(23,47)),new _e(30,new oe(44,24),new oe(7,25)),new _e(30,new oe(59,16),new oe(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new _e(30,new oe(12,121),new oe(7,122)),new _e(28,new oe(12,47),new oe(26,48)),new _e(30,new oe(39,24),new oe(14,25)),new _e(30,new oe(22,15),new oe(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new _e(30,new oe(6,121),new oe(14,122)),new _e(28,new oe(6,47),new oe(34,48)),new _e(30,new oe(46,24),new oe(10,25)),new _e(30,new oe(2,15),new oe(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new _e(30,new oe(17,122),new oe(4,123)),new _e(28,new oe(29,46),new oe(14,47)),new _e(30,new oe(49,24),new oe(10,25)),new _e(30,new oe(24,15),new oe(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new _e(30,new oe(4,122),new oe(18,123)),new _e(28,new oe(13,46),new oe(32,47)),new _e(30,new oe(48,24),new oe(14,25)),new _e(30,new oe(42,15),new oe(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new _e(30,new oe(20,117),new oe(4,118)),new _e(28,new oe(40,47),new oe(7,48)),new _e(30,new oe(43,24),new oe(22,25)),new _e(30,new oe(10,15),new oe(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new _e(30,new oe(19,118),new oe(6,119)),new _e(28,new oe(18,47),new oe(31,48)),new _e(30,new oe(34,24),new oe(34,25)),new _e(30,new oe(20,15),new oe(61,16)))],e})(),La;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(La||(La={}));var r8=(function(){function e(t,n){this.value=t,this.isMasked=n}return e.prototype.unmaskBitMatrix=function(t,n){for(var r=0;r<n;r++)for(var a=0;a<n;a++)this.isMasked(r,a)&&t.flip(a,r)},e.values=new Map([[La.DATA_MASK_000,new e(La.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[La.DATA_MASK_001,new e(La.DATA_MASK_001,function(t,n){return(t&1)===0})],[La.DATA_MASK_010,new e(La.DATA_MASK_010,function(t,n){return n%3===0})],[La.DATA_MASK_011,new e(La.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[La.DATA_MASK_100,new e(La.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[La.DATA_MASK_101,new e(La.DATA_MASK_101,function(t,n){return t*n%6===0})],[La.DATA_MASK_110,new e(La.DATA_MASK_110,function(t,n){return t*n%6<3})],[La.DATA_MASK_111,new e(La.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),e})(),gle=(function(){function e(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new tt;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,r=a-1;r>=o;r--)i=this.copyBit(8,r,i);for(var n=a-8;n<a;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=c7.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new tt},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return If.getVersionForNumber(n);for(var r=0,a=t-11,i=5;i>=0;i--)for(var o=t-9;o>=a;o--)r=this.copyBit(o,i,r);var s=If.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=a;i--)r=this.copyBit(o,i,r);if(s=If.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new tt},e.prototype.copyBit=function(t,n,r){var a=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return a?r<<1|1:r<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),r=r8.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,a);for(var i=n.buildFunctionPattern(),o=!0,s=new Uint8Array(n.getTotalCodewords()),l=0,c=0,u=0,f=a-1;f>0;f-=2){f===6&&f--;for(var d=0;d<a;d++)for(var h=o?a-1-d:d,p=0;p<2;p++)i.get(f-p,h)||(u++,c<<=1,this.bitMatrix.get(f-p,h)&&(c|=1),u===8&&(s[l++]=c,u=0,c=0));o=!o}if(l!==n.getTotalCodewords())throw new tt;return s},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=r8.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,r=t.getWidth();n<r;n++)for(var a=n+1,i=t.getHeight();a<i;a++)t.get(n,a)!==t.get(a,n)&&(t.flip(a,n),t.flip(n,a))},e})(),a8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mle=(function(){function e(t,n){this.numDataCodewords=t,this.codewords=n}return e.getDataBlocks=function(t,n,r){var a,i,o,s;if(t.length!==n.getTotalCodewords())throw new Et;var l=n.getECBlocksForLevel(r),c=0,u=l.getECBlocks();try{for(var f=a8(u),d=f.next();!d.done;d=f.next()){var h=d.value;c+=h.getCount()}}catch(C){a={error:C}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var p=new Array(c),v=0;try{for(var g=a8(u),m=g.next();!m.done;m=g.next())for(var h=m.value,y=0;y<h.getCount();y++){var x=h.getDataCodewords(),b=l.getECCodewordsPerBlock()+x;p[v++]=new e(x,new Uint8Array(b))}}catch(C){o={error:C}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}for(var _=p[0].codewords.length,E=p.length-1;E>=0;){var w=p[E].codewords.length;if(w===_)break;E--}E++;for(var A=_-l.getECCodewordsPerBlock(),S=0,y=0;y<A;y++)for(var O=0;O<v;O++)p[O].codewords[y]=t[S++];for(var O=E;O<v;O++)p[O].codewords[A]=t[S++];for(var k=p[0].codewords.length,y=A;y<k;y++)for(var O=0;O<v;O++){var T=O<E?y:y+1;p[O].codewords[T]=t[S++]}return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e})(),Uo;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(Uo||(Uo={}));var mr=(function(){function e(t,n,r,a){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(n===void 0)throw new Et;return n},e.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(Uo.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(Uo.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(Uo.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(Uo.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(Uo.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(Uo.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(Uo.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(Uo.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(Uo.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(Uo.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e})(),yle=(function(){function e(){}return e.decode=function(t,n,r,a){var i=new l7(t),o=new rn,s=new Array,l=-1,c=-1;try{var u=null,f=!1,d=void 0;do{if(i.available()<4)d=mr.TERMINATOR;else{var h=i.readBits(4);d=mr.forBits(h)}switch(d){case mr.TERMINATOR:break;case mr.FNC1_FIRST_POSITION:case mr.FNC1_SECOND_POSITION:f=!0;break;case mr.STRUCTURED_APPEND:if(i.available()<16)throw new tt;l=i.readBits(8),c=i.readBits(8);break;case mr.ECI:var p=e.parseECIValue(i);if(u=Sa.getCharacterSetECIByValue(p),u===null)throw new tt;break;case mr.HANZI:var v=i.readBits(4),g=i.readBits(d.getCharacterCountBits(n));v===e.GB2312_SUBSET&&e.decodeHanziSegment(i,o,g);break;default:var m=i.readBits(d.getCharacterCountBits(n));switch(d){case mr.NUMERIC:e.decodeNumericSegment(i,o,m);break;case mr.ALPHANUMERIC:e.decodeAlphanumericSegment(i,o,m,f);break;case mr.BYTE:e.decodeByteSegment(i,o,m,u,s,a);break;case mr.KANJI:e.decodeKanjiSegment(i,o,m);break;default:throw new tt}break}}while(d!==mr.TERMINATOR)}catch{throw new tt}return new n2(t,o.toString(),s.length===0?null:s,r===null?null:r.toString(),l,c)},e.decodeHanziSegment=function(t,n,r){if(r*13>t.available())throw new tt;for(var a=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,a[i]=s>>8&255,a[i+1]=s&255,i+=2,r--}try{n.append(ts.decode(a,hn.GB2312))}catch(l){throw new tt(l)}},e.decodeKanjiSegment=function(t,n,r){if(r*13>t.available())throw new tt;for(var a=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,a[i]=s>>8,a[i+1]=s,i+=2,r--}try{n.append(ts.decode(a,hn.SHIFT_JIS))}catch(l){throw new tt(l)}},e.decodeByteSegment=function(t,n,r,a,i,o){if(8*r>t.available())throw new tt;for(var s=new Uint8Array(r),l=0;l<r;l++)s[l]=t.readBits(8);var c;a===null?c=hn.guessEncoding(s,o):c=a.getName();try{n.append(ts.decode(s,c))}catch(u){throw new tt(u)}i.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new tt;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,r,a){for(var i=n.length();r>1;){if(t.available()<11)throw new tt;var o=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(o/45))),n.append(e.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(t.available()<6)throw new tt;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var s=i;s<n.length();s++)n.charAt(s)==="%"&&(s<n.length()-1&&n.charAt(s+1)==="%"?n.deleteCharAt(s+1):n.setCharAt(s,""))},e.decodeNumericSegment=function(t,n,r){for(;r>=3;){if(t.available()<10)throw new tt;var a=t.readBits(10);if(a>=1e3)throw new tt;n.append(e.toAlphaNumericChar(Math.floor(a/100))),n.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),n.append(e.toAlphaNumericChar(a%10)),r-=3}if(r===2){if(t.available()<7)throw new tt;var i=t.readBits(7);if(i>=100)throw new tt;n.append(e.toAlphaNumericChar(Math.floor(i/10))),n.append(e.toAlphaNumericChar(i%10))}else if(r===1){if(t.available()<4)throw new tt;var o=t.readBits(4);if(o>=10)throw new tt;n.append(e.toAlphaNumericChar(o))}},e.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=t.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var a=t.readBits(16);return(n&31)<<16&4294967295|a}throw new tt},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e})(),u7=(function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},e})(),i8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xle=(function(){function e(){this.rsDecoder=new r2(fo.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(Pl.parseFromBooleanArray(t),n)},e.prototype.decodeBitMatrix=function(t,n){var r=new gle(t),a=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){a=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,n);return i.setOther(new u7(!0)),i}catch(o){throw a!==null?a:o}},e.prototype.decodeBitMatrixParser=function(t,n){var r,a,i,o,s=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),c=t.readCodewords(),u=mle.getDataBlocks(c,s,l),f=0;try{for(var d=i8(u),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p.getNumDataCodewords()}}catch(E){r={error:E}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}var v=new Uint8Array(f),g=0;try{for(var m=i8(u),y=m.next();!y.done;y=m.next()){var p=y.value,x=p.getCodewords(),b=p.getNumDataCodewords();this.correctErrors(x,b);for(var _=0;_<b;_++)v[g++]=x[_]}}catch(E){i={error:E}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}return yle.decode(v,s,l,n)},e.prototype.correctErrors=function(t,n){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-n)}catch{throw new Ua}for(var a=0;a<n;a++)t[a]=r[a]},e})(),ble=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wle=(function(e){ble(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(n,r,a){if(Math.abs(r-this.getY())<=n&&Math.abs(a-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,r,a){var i=(this.getX()+r)/2,o=(this.getY()+n)/2,s=(this.estimatedModuleSize+a)/2;return new t(i,o,s)},t})(vt),_le=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ele=(function(){function e(t,n,r,a,i,o,s){this.image=t,this.startX=n,this.startY=r,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,n=this.height,r=this.width,a=t+r,i=this.startY+n/2,o=new Int32Array(3),s=this.image,l=0;l<n;l++){var c=i+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=t;u<a&&!s.get(u,c);)u++;for(var f=0;u<a;){if(s.get(u,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,c,u);if(d!==null)return d}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;u++}if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,c,a);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ie},e.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,r=n/2,a=0;a<3;a++)if(Math.abs(n-t[a])>=r)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,r,a){var i=this.image,o=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=t;l>=0&&i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(n,l)&&s[1]<=r;)s[1]++,l++;if(l===o||s[1]>r)return NaN;for(;l<o&&!i.get(n,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-a)>=2*a?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r){var a,i,o=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),l=this.crossCheckVertical(n,s,2*t[1],o);if(!isNaN(l)){var c=(t[0]+t[1]+t[2])/3;try{for(var u=_le(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.aboutEquals(c,l,s))return d.combineEstimate(l,s,c)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}var h=new wle(s,l,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},e})(),Ale=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sle=(function(e){Ale(t,e);function t(n,r,a,i){var o=e.call(this,n,r)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,r,a){if(Math.abs(r-this.getY())<=n&&Math.abs(a-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,r,a){var i=this.count+1,o=(this.count*this.getX()+r)/i,s=(this.count*this.getY()+n)/i,l=(this.count*this.estimatedModuleSize+a)/i;return new t(o,s,l,i)},t})(vt),Ole=(function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e})(),Lh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kle=(function(){function e(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=t!=null&&t.get(kr.TRY_HARDER)!==void 0,r=t!=null&&t.get(kr.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),s=Math.floor(3*i/(4*e.MAX_MODULES));(s<e.MIN_SKIP||n)&&(s=e.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<i&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,d=0;d<o;d++)if(a.get(d,u))(f&1)===1&&f++,c[f]++;else if((f&1)===0)if(f===4)if(e.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,d,r);if(h===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>c[2]&&(u+=p-c[2]-s,d=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;else c[f]++;if(e.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,o,r);h===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return vt.orderBestPatterns(v),new Ole(v)},e.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var n=0,r=0;r<5;r++){var a=t[r];if(a===0)return!1;n+=a}if(n<7)return!1;var i=n/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,n,r,a){for(var i=this.getCrossCheckStateCount(),o=0,s=this.image;t>=o&&n>=o&&s.get(n-o,t-o);)i[2]++,o++;if(t<o||n<o)return!1;for(;t>=o&&n>=o&&!s.get(n-o,t-o)&&i[1]<=r;)i[1]++,o++;if(t<o||n<o||i[1]>r)return!1;for(;t>=o&&n>=o&&s.get(n-o,t-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;t+o<l&&n+o<c&&s.get(n+o,t+o);)i[2]++,o++;if(t+o>=l||n+o>=c)return!1;for(;t+o<l&&n+o<c&&!s.get(n+o,t+o)&&i[3]<r;)i[3]++,o++;if(t+o>=l||n+o>=c||i[3]>=r)return!1;for(;t+o<l&&n+o<c&&s.get(n+o,t+o)&&i[4]<r;)i[4]++,o++;if(i[4]>=r)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,n,r,a){for(var i=this.image,o=i.getHeight(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(n,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(n,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(n,l)&&s[3]<r;)s[3]++,l++;if(l===o||s[3]>=r)return NaN;for(;l<o&&i.get(n,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-a)>=2*a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.crossCheckHorizontal=function(t,n,r,a){for(var i=this.image,o=i.getWidth(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(l,n);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,n)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(l,n)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<o&&i.get(l,n);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(l,n)&&s[3]<r;)s[3]++,l++;if(l===o||s[3]>=r)return NaN;for(;l<o&&i.get(l,n)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-a)>=a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],o=e.centerFromEnd(t,r),s=this.crossCheckVertical(n,Math.floor(o),t[2],i);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),t[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),t[2],i)))){for(var l=i/7,c=!1,u=this.possibleCenters,f=0,d=u.length;f<d;f++){var h=u[f];if(h.aboutEquals(l,s,o)){u[f]=h.combineEstimate(s,o,l),c=!0;break}}if(!c){var p=new Sle(o,s,l);u.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n,r=this.possibleCenters.length;if(r<=1)return 0;var a=null;try{for(var i=Lh(this.possibleCenters),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.getCount()>=e.CENTER_QUORUM)if(a==null)a=s;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-s.getX())-Math.abs(a.getY()-s.getY()))/2)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,r,a,i=0,o=0,s=this.possibleCenters.length;try{for(var l=Lh(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=e.CENTER_QUORUM&&(i++,o+=u.getEstimatedModuleSize())}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(i<3)return!1;var f=o/s,d=0;try{for(var h=Lh(this.possibleCenters),p=h.next();!p.done;p=h.next()){var u=p.value;d+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return d<=.05*o},e.prototype.selectBestPatterns=function(){var t,n,r,a,i=this.possibleCenters.length;if(i<3)throw new Ie;var o=this.possibleCenters,s;if(i>3){var l=0,c=0;try{for(var u=Lh(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value,h=d.getEstimatedModuleSize();l+=h,c+=h*h}}catch(_){t={error:_}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}s=l/i;var p=Math.sqrt(c/i-s*s);o.sort(function(_,E){var w=Math.abs(E.getEstimatedModuleSize()-s),A=Math.abs(_.getEstimatedModuleSize()-s);return w<A?-1:w>A?1:0});for(var v=Math.max(.2*s,p),g=0;g<o.length&&o.length>3;g++){var m=o[g];Math.abs(m.getEstimatedModuleSize()-s)>v&&(o.splice(g,1),g--)}}if(o.length>3){var l=0;try{for(var y=Lh(o),x=y.next();!x.done;x=y.next()){var b=x.value;l+=b.getEstimatedModuleSize()}}catch(E){r={error:E}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}s=l/o.length,o.sort(function(E,w){if(w.getCount()===E.getCount()){var A=Math.abs(w.getEstimatedModuleSize()-s),S=Math.abs(E.getEstimatedModuleSize()-s);return A<S?1:A>S?-1:0}else return w.getCount()-E.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e})(),Tle=(function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(kr.NEED_RESULT_POINT_CALLBACK);var n=new kle(this.image,this.resultPointCallback),r=n.find(t);return this.processFinderPatternInfo(r)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),r=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(n,r,a);if(i<1)throw new Ie("No pattern found in proccess finder.");var o=e.computeDimension(n,r,a,i),s=If.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=r.getX()-n.getX()+a.getX(),f=r.getY()-n.getY()+a.getY(),d=1-3/l,h=Math.floor(n.getX()+d*(u-n.getX())),p=Math.floor(n.getY()+d*(f-n.getY())),v=4;v<=16;v<<=1)try{c=this.findAlignmentInRegion(i,h,p,v);break}catch(x){if(!(x instanceof Ie))throw x}var g=e.createTransform(n,r,a,c,o),m=e.sampleGrid(this.image,g,o),y;return c===null?y=[a,n,r]:y=[a,n,r,c],new b3(m,y)},e.createTransform=function(t,n,r,a,i){var o=i-3.5,s,l,c,u;return a!==null?(s=a.getX(),l=a.getY(),c=o-3,u=c):(s=n.getX()-t.getX()+r.getX(),l=n.getY()-t.getY()+r.getY(),c=o,u=o),a7.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,u,3.5,o,t.getX(),t.getY(),n.getX(),n.getY(),s,l,r.getX(),r.getY())},e.sampleGrid=function(t,n,r){var a=w3.getInstance();return a.sampleGridWithTransform(t,r,r,n)},e.computeDimension=function(t,n,r,a){var i=En.round(vt.distance(t,n)/a),o=En.round(vt.distance(t,r)/a),s=Math.floor((i+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Ie("Dimensions could be not found.")}return s},e.prototype.calculateModuleSize=function(t,n,r){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,r))/2},e.prototype.calculateModuleSizeOneWay=function(t,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?a/7:isNaN(a)?r/7:(r+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,r,a){var i=this.sizeOfBlackWhiteBlackRun(t,n,r,a),o=1,s=t-(r-t);s<0?(o=t/(t-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);var l=Math.floor(n-(a-n)*o);return o=1,l<0?(o=n/(n-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(l-n),l=this.image.getHeight()-1),s=Math.floor(t+(s-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,n,s,l),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,n,r,a){var i=Math.abs(a-n)>Math.abs(r-t);if(i){var o=t;t=n,n=o,o=r,r=a,a=o}for(var s=Math.abs(r-t),l=Math.abs(a-n),c=-s/2,u=t<r?1:-1,f=n<a?1:-1,d=0,h=r+u,p=t,v=n;p!==h;p+=u){var g=i?v:p,m=i?p:v;if(d===1===this.image.get(g,m)){if(d===2)return En.distance(p,v,t,n);d++}if(c+=l,c>0){if(v===a)break;v+=f,c-=s}}return d===2?En.distance(r+u,a,t,n):NaN},e.prototype.findAlignmentInRegion=function(t,n,r,a){var i=Math.floor(a*t),o=Math.max(0,n-i),s=Math.min(this.image.getWidth()-1,n+i);if(s-o<t*3)throw new Ie("Alignment top exceeds estimated module size.");var l=Math.max(0,r-i),c=Math.min(this.image.getHeight()-1,r+i);if(c-l<t*3)throw new Ie("Alignment bottom exceeds estimated module size.");var u=new Ele(this.image,o,l,s-o,c-l,t,this.resultPointCallback);return u.find()},e})(),AE=(function(){function e(){this.decoder=new xle}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var r,a;if(n!=null&&n.get(kr.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),a=e.NO_POINTS}else{var o=new Tle(t.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),a=o.getPoints()}r.getOther()instanceof u7&&r.getOther().applyMirroredCorrection(a);var s=new Ri(r.getText(),r.getRawBytes(),void 0,a,bt.QR_CODE,void 0),l=r.getByteSegments();l!==null&&s.putMetadata(ii.BYTE_SEGMENTS,l);var c=r.getECLevel();return c!==null&&s.putMetadata(ii.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(ii.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(ii.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(t){var n=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(n===null||r===null)throw new Ie;var a=this.moduleSize(n,t),i=n[1],o=r[1],s=n[0],l=r[0];if(s>=l||i>=o)throw new Ie;if(o-i!==l-s&&(l=s+(o-i),l>=t.getWidth()))throw new Ie;var c=Math.round((l-s+1)/a),u=Math.round((o-i+1)/a);if(c<=0||u<=0)throw new Ie;if(u!==c)throw new Ie;var f=Math.floor(a/2);i+=f,s+=f;var d=s+Math.floor((c-1)*a)-l;if(d>0){if(d>f)throw new Ie;s-=d}var h=i+Math.floor((u-1)*a)-o;if(h>0){if(h>f)throw new Ie;i-=h}for(var p=new Pl(c,u),v=0;v<u;v++)for(var g=i+Math.floor(v*a),m=0;m<c;m++)t.get(s+Math.floor(m*a),g)&&p.set(m,v);return p},e.moduleSize=function(t,n){for(var r=n.getHeight(),a=n.getWidth(),i=t[0],o=t[1],s=!0,l=0;i<a&&o<r;){if(s!==n.get(i,o)){if(++l===5)break;s=!s}i++,o++}if(i===a||o===r)throw new Ie;return(i-t[0])/7},e.NO_POINTS=new Array,e})(),Cle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=(function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return En.sum(t)},e.toIntArray=function(t){var n,r;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var o=Cle(t),s=o.next();!s.done;s=o.next()){var l=s.value;a[i++]=l}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.getCodeword=function(t){var n=Oa.binarySearch(e.SYMBOL_TABLE,t&262143);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e})(),Mle=(function(){function e(t,n){this.bits=t,this.points=n}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e})(),Ple=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ile=(function(){function e(){}return e.detectMultiple=function(t,n,r){var a=t.getBlackMatrix(),i=e.detect(r,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(r,a)),new Mle(a,i)},e.detect=function(t,n){for(var r,a,i=new Array,o=0,s=0,l=!1;o<n.getHeight();){var c=e.findVertices(n,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var u=(r=void 0,Ple(i)),f=u.next();!f.done;f=u.next()){var d=f.value;d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}o+=e.ROW_STEP;continue}if(l=!0,i.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return i},e.findVertices=function(t,n,r){var a=t.getHeight(),i=t.getWidth(),o=new Array(8);return e.copyToResult(o,e.findRowsWithPattern(t,a,i,n,r,e.START_PATTERN),e.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),e.copyToResult(o,e.findRowsWithPattern(t,a,i,n,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),o},e.copyToResult=function(t,n,r){for(var a=0;a<r.length;a++)t[r[a]]=n[a]},e.findRowsWithPattern=function(t,n,r,a,i,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);a<n;a+=e.ROW_STEP){var u=e.findGuardPattern(t,i,a,r,!1,o,c);if(u!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,r,!1,o,c);if(f!=null)u=f;else{a++;break}}s[0]=new vt(u[0],a),s[1]=new vt(u[1],a),l=!0;break}}var d=a+1;if(l){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<n;d++){var u=e.findGuardPattern(t,f[0],d,r,!1,o,c);if(u!=null&&Math.abs(f[0]-u[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<e.MAX_PATTERN_DRIFT)f=u,h=0;else{if(h>e.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,s[2]=new vt(f[0],d),s[3]=new vt(f[1],d)}return d-a<e.BARCODE_MIN_HEIGHT&&Oa.fill(s,null),s},e.findGuardPattern=function(t,n,r,a,i,o,s){Oa.fillWithin(s,0,s.length,0);for(var l=n,c=0;t.get(l,r)&&l>0&&c++<e.MAX_PIXEL_DRIFT;)l--;for(var u=l,f=0,d=o.length,h=i;u<a;u++){var p=t.get(u,r);if(p!==h)s[f]++;else{if(f===d-1){if(e.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],fr.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,h=!h}}return f===d-1&&e.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},e.patternMatchVariance=function(t,n,r){for(var a=t.length,i=0,o=0,s=0;s<a;s++)i+=t[s],o+=n[s];if(i<o)return 1/0;var l=i/o;r*=l;for(var c=0,u=0;u<a;u++){var f=t[u],d=n[u]*l,h=f>d?f-d:d-f;if(h>r)return 1/0;c+=h}return c/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e})(),Rle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xf=(function(){function e(t,n){if(n.length===0)throw new Et;this.field=t;var r=n.length;if(r>1&&n[0]===0){for(var a=1;a<r&&n[a]===0;)a++;a===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-a),fr.arraycopy(n,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var n,r;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=Rle(this.coefficients),o=i.next();!o.done;o=i.next()){var s=o.value;a=this.field.add(a,s)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(t,l),this.coefficients[u]);return l},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Et("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var i=new Int32Array(r.length),o=r.length-n.length;fr.arraycopy(r,0,i,0,o);for(var s=o;s<r.length;s++)i[s]=this.field.add(n[s-o],r[s]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Et("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Et("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,a=t.coefficients,i=a.length,o=new Int32Array(r+i-1),s=0;s<r;s++)for(var l=n[s],c=0;c<i;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,a[c]));return new e(this.field,o)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),r=0;r<t;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),a=0;a<n;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Et;if(n===0)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,a=new Int32Array(r+t),i=0;i<r;i++)a[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new rn,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(n===0||r!==1)&&t.append(r),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},e})(),Dle=(function(){function e(){}return e.prototype.add=function(t,n){return(t+n)%this.modulus},e.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Et;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new r7;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e})(),Nle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Lle=(function(e){Nle(t,e);function t(n,r){var a=e.call(this)||this;a.modulus=n,a.expTable=new Int32Array(n),a.logTable=new Int32Array(n);for(var i=1,o=0;o<n;o++)a.expTable[o]=i,i=i*r%n;for(var o=0;o<n-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new xf(a,new Int32Array([0])),a.one=new xf(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,r){if(n<0)throw new Et;if(r===0)return this.zero;var a=new Int32Array(n+1);return a[0]=r,new xf(this,a)},t.PDF417_GF=new t(xn.NUMBER_OF_CODEWORDS,3),t})(Dle),Fle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ble=(function(){function e(){this.field=Lle.PDF417_GF}return e.prototype.decode=function(t,n,r){for(var a,i,o=new xf(this.field,t),s=new Int32Array(n),l=!1,c=n;c>0;c--){var u=o.evaluateAt(this.field.exp(c));s[n-c]=u,u!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(r!=null)try{for(var d=Fle(r),h=d.next();!h.done;h=d.next()){var p=h.value,v=this.field.exp(t.length-1-p),g=new xf(this.field,new Int32Array([this.field.subtract(0,v),1]));f=f.multiply(g)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}for(var m=new xf(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),m,n),x=y[0],b=y[1],_=this.findErrorLocations(x),E=this.findErrorMagnitudes(b,x,_),c=0;c<_.length;c++){var w=t.length-1-this.field.log(_[c]);if(w<0)throw Ua.getChecksumInstance();t[w]=this.field.subtract(t[w],E[c])}return _.length},e.prototype.runEuclideanAlgorithm=function(t,n,r){if(t.getDegree()<n.getDegree()){var a=t;t=n,n=a}for(var i=t,o=n,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(r/2);){var c=i,u=s;if(i=o,s=l,i.isZero())throw Ua.getChecksumInstance();o=c;for(var f=this.field.getZero(),d=i.getCoefficient(i.getDegree()),h=this.field.inverse(d);o.getDegree()>=i.getDegree()&&!o.isZero();){var p=o.getDegree()-i.getDegree(),v=this.field.multiply(o.getCoefficient(o.getDegree()),h);f=f.add(this.field.buildMonomial(p,v)),o=o.subtract(i.multiplyByMonomial(p,v))}l=f.multiply(s).subtract(u).negative()}var g=l.getCoefficient(0);if(g===0)throw Ua.getChecksumInstance();var m=this.field.inverse(g),y=l.multiply(m),x=o.multiply(m);return[y,x]},e.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),r=new Int32Array(n),a=0,i=1;i<this.field.getSize()&&a<n;i++)t.evaluateAt(i)===0&&(r[a]=this.field.inverse(i),a++);if(a!==n)throw Ua.getChecksumInstance();return r},e.prototype.findErrorMagnitudes=function(t,n,r){for(var a=n.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,n.getCoefficient(o));for(var s=new xf(this.field,i),l=r.length,c=new Int32Array(l),o=0;o<l;o++){var u=this.field.inverse(r[o]),f=this.field.subtract(0,t.evaluateAt(u)),d=this.field.inverse(s.evaluateAt(u));c[o]=this.field.multiply(f,d)}return c},e})(),SE=(function(){function e(t,n,r,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,r,a,i)}return e.prototype.constructor_1=function(t,n,r,a,i){var o=n==null||r==null,s=a==null||i==null;if(o&&s)throw new Ie;o?(n=new vt(0,a.getY()),r=new vt(0,i.getY())):s&&(a=new vt(t.getWidth()-1,n.getY()),i=new vt(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=n,this.bottomLeft=r,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),a.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,n){return t==null?n:n==null?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,r){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(t>0){var l=r?this.topLeft:this.topRight,c=Math.trunc(l.getY()-t);c<0&&(c=0);var u=new vt(l.getX(),c);r?a=u:o=u}if(n>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new vt(f.getX(),d);r?i=h:s=h}return new e(this.image,a,i,o,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e})(),$le=(function(){function e(t,n,r,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e})(),E3=(function(){function e(){this.buffer=""}return e.form=function(t,n){var r=-1;function a(o,s,l,c,u,f){if(o==="%%")return"%";if(n[++r]!==void 0){o=c?parseInt(c.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,h;switch(f){case"s":h=n[r];break;case"c":h=n[r][0];break;case"f":h=parseFloat(n[r]).toFixed(o);break;case"p":h=parseFloat(n[r]).toPrecision(o);break;case"e":h=parseFloat(n[r]).toExponential(o);break;case"x":h=parseInt(n[r]).toString(d||16);break;case"d":h=parseFloat(parseInt(n[r],d||10).toPrecision(o)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(l),v=l&&l[0]+""=="0"?"0":" ";h.length<p;)h=s!==void 0?h+v:v+h;return h}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e})(),jle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f7=(function(){function e(t){this.boundingBox=new SE(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var a=this.imageRowToCodewordIndex(t)-r;if(a>=0&&(n=this.codewords[a],n!=null)||(a=this.imageRowToCodewordIndex(t)+r,a<this.codewords.length&&(n=this.codewords[a],n!=null)))return n}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,n,r=new E3,a=0;try{for(var i=jle(this.codewords),o=i.next();!o.done;o=i.next()){var s=o.value;if(s==null){r.format("%3d:    |   %n",a++);continue}r.format("%3d: %3d|%3d%n",a++,s.getRowNumber(),s.getValue())}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.toString()},e.MAX_NEARBY_DISTANCE=5,e})(),zle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ule=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},ap=(function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},e.prototype.getValue=function(){var t,n,r=-1,a=new Array,i=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>r?(r=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===r&&a.push(h.getKey())};try{for(var o=zle(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Ule(s.value,2),c=l[0],u=l[1];i(c,u)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return xn.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e})(),Hle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o8=(function(e){Hle(t,e);function t(n,r){var a=e.call(this,n)||this;return a._isLeft=r,a}return t.prototype.setRowNumbers=function(){var n,r;try{for(var a=tw(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,u=1,f=0,d=s;d<l;d++)if(r[d]!=null){var h=r[d],p=h.getRowNumber()-c;if(p===0)f++;else if(p===1)u=Math.max(u,f),f=1,c=h.getRowNumber();else if(p<0||h.getRowNumber()>=n.getRowCount()||p>d)r[d]=null;else{var v=void 0;u>2?v=(u-2)*p:v=p;for(var g=v>=d,m=1;m<=v&&!g;m++)g=r[d-m]!=null;g?r[d]=null:(c=h.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var n,r,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=tw(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=i.length)continue;i[c]++}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.getCodewords(),c=-1,u=o;u<s;u++)if(l[u]!=null){var f=l[u];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-c;d===0||(d===1?c=f.getRowNumber():f.getRowNumber()>=n.getRowCount()?l[u]=null:c=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,r,a=this.getCodewords(),i=new ap,o=new ap,s=new ap,l=new ap;try{for(var c=tw(a),u=c.next();!u.done;u=c.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(d*3+1);break;case 1:l.setValue(d/3),s.setValue(d%3);break;case 2:i.setValue(d+1);break}}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<xn.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>xn.MAX_ROWS_IN_BARCODE)return null;var p=new $le(i.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(a,p),p},t.prototype.removeIncorrectCodewords=function(n,r){for(var a=0;a<n.length;a++){var i=n[a];if(n[a]!=null){var o=i.getValue()%30,s=i.getRowNumber();if(s>r.getRowCount()){n[a]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[a]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[a]=null);break;case 2:o+1!==r.getColumnCount()&&(n[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t})(f7),Vle=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wle=(function(){function e(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=xn.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),a=0;a<r.length;a++)r[a]!=null&&(r[a].hasValidRowNumber()||this.adjustRowNumbers(n,a,r));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null&&n[r]!=null&&t[r].getRowNumber()===n[r].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[r];i!=null&&(i.setRowNumber(t[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[r]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var a=n[r].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var a=n[r].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),n=0):++n),n},e.prototype.adjustRowNumbers=function(t,n,r){var a,i;if(this.detectionResultColumns[t-1]!=null){var o=r[n],s=this.detectionResultColumns[t-1].getCodewords(),l=s;this.detectionResultColumns[t+1]!=null&&(l=this.detectionResultColumns[t+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=l[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=l[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=l[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=l[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=l[n+2]);try{for(var u=Vle(c),f=u.next();!f.done;f=u.next()){var d=f.value;if(e.adjustRowNumber(o,d))return}}catch(h){a={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new E3,r=0;r<t.getCodewords().length;r++){n.format("CW %3d:",r);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[r];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},e})(),Gle=(function(){function e(t,n,r,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e})(),Yle=(function(){function e(){}return e.initialize=function(){for(var t=0;t<xn.SYMBOL_TABLE.length;t++)for(var n=xn.SYMBOL_TABLE[t],r=n&1,a=0;a<xn.BARS_IN_MODULE;a++){for(var i=0;(n&1)===r;)i+=1,n>>=1;r=n&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(xn.BARS_IN_MODULE)),e.RATIOS_TABLE[t][xn.BARS_IN_MODULE-a-1]=Math.fround(i/xn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return n!==-1?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var n=En.sum(t),r=new Int32Array(xn.BARS_IN_MODULE),a=0,i=0,o=0;o<xn.MODULES_IN_CODEWORD;o++){var s=n/(2*xn.MODULES_IN_CODEWORD)+o*n/xn.MODULES_IN_CODEWORD;i+t[a]<=s&&(i+=t[a],a++),r[a]++}return r},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return xn.getCodeword(n)===-1?-1:n},e.getBitValue=function(t){for(var n=0,r=0;r<t.length;r++)for(var a=0;a<t[r];a++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},e.getClosestDecodedValue=function(t){var n=En.sum(t),r=new Array(xn.BARS_IN_MODULE);if(n>1)for(var a=0;a<r.length;a++)r[a]=Math.fround(t[a]/n);var i=xE.MAX_VALUE,o=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var l=0,c=e.RATIOS_TABLE[s],u=0;u<xn.BARS_IN_MODULE;u++){var f=Math.fround(c[u]-r[u]);if(l+=Math.fround(f*f),l>=i)break}l<i&&(i=l,o=xn.SYMBOL_TABLE[s])}return o},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(xn.SYMBOL_TABLE.length).map(function(t){return new Array(xn.BARS_IN_MODULE)}),e})(),Xle=(function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e})(),s8=(function(){function e(){}return e.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},e})(),qle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Kle=(function(e){qle(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t})(bo),Zle=(function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,n,r){if(t==null)throw new Kle;if(n<0||n>t.length||r<0||n+r>t.length||n+r<0)throw new y3;if(r===0)return;for(var a=0;a<r;a++)this.write(t[n+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e})(),Qle=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Jle=(function(e){Qle(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(bo),ece=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tce=(function(e){ece(t,e);function t(n){n===void 0&&(n=32);var r=e.call(this)||this;if(r.count=0,n<0)throw new Et("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var r=this.buf.length,a=r<<1;if(a-n<0&&(a=n),a<0){if(n<0)throw new Jle;a=on.MAX_VALUE}this.buf=Oa.copyOfUint8Array(this.buf,a)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,r,a){if(r<0||r>n.length||a<0||r+a-n.length>0)throw new y3;this.ensureCapacity(this.count+a),fr.arraycopy(n,r,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Oa.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t})(Zle),Qn;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Qn||(Qn={}));function d7(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ag;function Wc(e){if(typeof ag>"u"&&(ag=d7()),ag===null)throw new Error("BigInt is not supported!");return ag(e)}function nce(){var e=[];e[0]=Wc(1);var t=Wc(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}var rce=(function(){function e(){}return e.decode=function(t,n){var r=new rn(""),a=Sa.ISO8859_1;r.enableDecoding(a);for(var i=1,o=t[i++],s=new Xle;i<t[0];){switch(o){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(o,t,a,i,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,r);break;case e.ECI_CHARSET:Sa.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new tt;default:i--,i=e.textCompaction(t,i,r);break}if(i<t.length)o=t[i++];else throw tt.getFormatInstance()}if(r.length()===0)throw tt.getFormatInstance();var l=new n2(null,r.toString(),null,n);return l.setOther(s),l},e.decodeMacroBlock=function(t,n,r){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw tt.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)a[i]=t[n];r.setSegmentIndex(on.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new rn;n=e.textCompaction(t,n,o),r.setFileId(o.toString());var s=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new rn;n=e.textCompaction(t,n+1,l),r.setFileName(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new rn;n=e.textCompaction(t,n+1,c),r.setSender(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new rn;n=e.textCompaction(t,n+1,u),r.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new rn;n=e.numericCompaction(t,n+1,f),r.setSegmentCount(on.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new rn;n=e.numericCompaction(t,n+1,d),r.setTimestamp(s8.parseLong(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new rn;n=e.numericCompaction(t,n+1,h),r.setChecksum(on.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new rn;n=e.numericCompaction(t,n+1,p),r.setFileSize(s8.parseLong(p.toString()));break;default:throw tt.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw tt.getFormatInstance()}if(s!==-1){var v=n-s;r.isLastSegment()&&v--,r.setOptionalData(Oa.copyOfRange(t,s,s+v))}return n},e.textCompaction=function(t,n,r){for(var a=new Int32Array((t[0]-n)*2),i=new Int32Array((t[0]-n)*2),o=0,s=!1;n<t[0]&&!s;){var l=t[n++];if(l<e.TEXT_COMPACTION_MODE_LATCH)a[o]=l/30,a[o+1]=l%30,o+=2;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:a[o++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=t[n++],i[o]=l,o++;break}}return e.decodeTextCompaction(a,i,o,r),n},e.decodeTextCompaction=function(t,n,r,a){for(var i=Qn.ALPHA,o=Qn.ALPHA,s=0;s<r;){var l=t[s],c="";switch(i){case Qn.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.LL:i=Qn.LOWER;break;case e.ML:i=Qn.MIXED;break;case e.PS:o=i,i=Qn.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break;case Qn.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case e.AS:o=i,i=Qn.ALPHA_SHIFT;break;case e.ML:i=Qn.MIXED;break;case e.PS:o=i,i=Qn.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break;case Qn.MIXED:if(l<e.PL)c=e.MIXED_CHARS[l];else switch(l){case e.PL:i=Qn.PUNCT;break;case 26:c=" ";break;case e.LL:i=Qn.LOWER;break;case e.AL:i=Qn.ALPHA;break;case e.PS:o=i,i=Qn.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break;case Qn.PUNCT:if(l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Qn.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break;case Qn.ALPHA_SHIFT:if(i=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break;case Qn.PUNCT_SHIFT:if(i=o,l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Qn.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Qn.ALPHA;break}break}c!==""&&a.append(c),s++}},e.byteCompaction=function(t,n,r,a,i){var o=new tce,s=0,l=0,c=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=n[a++];a<n[0]&&!c;)switch(u[s++]=f,l=900*l+f,f=n[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,c=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Wc(l)>>Wc(8*(5-d))));l=0,s=0}break}a===n[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=f);for(var h=0;h<s;h++)o.write(u[h]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<n[0]&&!c;){var p=n[a++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,c=!0;break}if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Wc(l)>>Wc(8*(5-d))));l=0,s=0}}break}return i.append(ts.decode(o.toByteArray(),r)),a},e.numericCompaction=function(t,n,r){for(var a=0,i=!1,o=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var s=t[n++];if(n===t[0]&&(i=!0),s<e.TEXT_COMPACTION_MODE_LATCH)o[a]=s,a++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(r.append(e.decodeBase900toBase10(o,a)),a=0)}return n},e.decodeBase900toBase10=function(t,n){for(var r=Wc(0),a=0;a<n;a++)r+=e.EXP900[n-a-1]*Wc(t[a]);var i=r.toString();if(i.charAt(0)!=="1")throw new tt;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=d7()?nce():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e})(),Fh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ace=(function(){function e(){}return e.decode=function(t,n,r,a,i,o,s){for(var l=new SE(t,n,r,a,i),c=null,u=null,f,d=!0;;d=!1){if(n!=null&&(c=e.getRowIndicatorColumn(t,l,n,!0,o,s)),a!=null&&(u=e.getRowIndicatorColumn(t,l,a,!1,o,s)),f=e.merge(c,u),f==null)throw Ie.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<l.getMinY()||h.getMaxY()>l.getMaxY()))l=h;else break}f.setBoundingBox(l);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(p,u);for(var v=c!=null,g=1;g<=p;g++){var m=v?g:p-g;if(f.getDetectionResultColumn(m)===void 0){var y=void 0;m===0||m===p?y=new o8(l,m===0):y=new f7(l),f.setDetectionResultColumn(m,y);for(var x=-1,b=x,_=l.getMinY();_<=l.getMaxY();_++){if(x=e.getStartColumn(f,m,_,v),x<0||x>l.getMaxX()){if(b===-1)continue;x=b}var E=e.detectCodeword(t,l.getMinX(),l.getMaxX(),v,x,_,o,s);E!=null&&(y.setCodeword(_,E),b=x,o=Math.min(o,E.getWidth()),s=Math.max(s,E.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,n){if(t==null&&n==null)return null;var r=e.getBarcodeMetadata(t,n);if(r==null)return null;var a=SE.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new Wle(r,a)},e.adjustBoundingBox=function(t){var n,r;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),o=0;try{for(var s=Fh(a),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=i-c,c>0)break}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),f=0;o>0&&u[f]==null;f++)o--;for(var d=0,f=a.length-1;f>=0&&(d+=i-a[f],!(a[f]>0));f--);for(var f=u.length-1;d>0&&u[f]==null;f--)d--;return t.getBoundingBox().addMissingRows(o,d,t.isLeft())},e.getMax=function(t){var n,r,a=-1;try{for(var i=Fh(t),o=i.next();!o.done;o=i.next()){var s=o.value;a=Math.max(a,s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.getBarcodeMetadata=function(t,n){var r;if(t==null||(r=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var a;return n==null||(a=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==a.getColumnCount()&&r.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&r.getRowCount()!==a.getRowCount()?null:r},e.getRowIndicatorColumn=function(t,n,r,a,i,o){for(var s=new o8(n,a),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=n.getMaxY()&&f>=n.getMinY();f+=c){var d=e.detectCodeword(t,0,t.getWidth(),a,u,f,i,o);d!=null&&(s.setCodeword(f,d),a?u=d.getStartX():u=d.getEndX())}return s},e.adjustCodewordCount=function(t,n){var r=n[0][1],a=r.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>xn.MAX_CODEWORDS_IN_BARCODE)throw Ie.getNotFoundInstance();r.setValue(i)}else a[0]!==i&&r.setValue(i)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var r=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],o=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var l=0;l<t.getBarcodeColumnCount();l++){var c=n[s][l+1].getValue(),u=s*t.getBarcodeColumnCount()+l;c.length===0?r.push(u):c.length===1?a[u]=c[0]:(o.push(u),i.push(c))}for(var f=new Array(i.length),d=0;d<f.length;d++)f[d]=i[d];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,xn.toIntArray(r),xn.toIntArray(o),f)},e.createDecoderResultFromAmbiguousValues=function(t,n,r,a,i){for(var o=new Int32Array(a.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)n[a[l]]=i[l][o[l]];try{return e.decodeCodewords(n,t,r)}catch(u){var c=u instanceof Ua;if(!c)throw u}if(o.length===0)throw Ua.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<i[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Ua.getChecksumInstance()}throw Ua.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var n,r,a,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new ap;var c=0;try{for(var u=Fh(t.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)try{for(var h=(a=void 0,Fh(d.getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null){var g=v.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][c].setValue(v.getValue())}}}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}c++}}catch(m){n={error:m}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return o},e.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,r,a){var i,o,s=a?1:-1,l=null;if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodeword(r)),l!=null)return a?l.getEndX():l.getStartX();if(l=t.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return a?l.getStartX():l.getEndX();if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodewordNearby(r)),l!=null)return a?l.getEndX():l.getStartX();for(var c=0;e.isValidBarcodeColumn(t,n-s);){n-=s;try{for(var u=(i=void 0,Fh(t.getDetectionResultColumn(n).getCodewords())),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)return(a?d.getEndX():d.getStartX())+s*c*(d.getEndX()-d.getStartX())}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}c++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,r,a,i,o,s,l){i=e.adjustCodewordStartColumn(t,n,r,a,i,o);var c=e.getModuleBitCount(t,n,r,a,i,o);if(c==null)return null;var u,f=En.sum(c);if(a)u=i+f;else{for(var d=0;d<c.length/2;d++){var h=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=h}u=i,i=u-f}if(!e.checkCodewordSkew(f,s,l))return null;var p=Yle.getDecodedValue(c),v=xn.getCodeword(p);return v===-1?null:new Gle(i,u,e.getCodewordBucketNumber(p),v)},e.getModuleBitCount=function(t,n,r,a,i,o){for(var s=i,l=new Int32Array(8),c=0,u=a?1:-1,f=a;(a?s<r:s>=n)&&c<l.length;)t.get(s,o)===f?(l[c]++,s+=u):(c++,f=!f);return c===l.length||s===(a?r:n)&&c===l.length-1?l:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,n,r,a,i,o){for(var s=i,l=a?-1:1,c=0;c<2;c++){for(;(a?s>=n:s<r)&&a===t.get(s,o);){if(Math.abs(i-s)>e.CODEWORD_SKEW_SIZE)return i;s+=l}l=-l,a=!a}return s},e.checkCodewordSkew=function(t,n,r){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,r){if(t.length===0)throw tt.getFormatInstance();var a=1<<n+1,i=e.correctErrors(t,r,a);e.verifyCodewordCount(t,a);var o=rce.decode(t,""+n);return o.setErrorsCorrected(i),o.setErasures(r.length),o},e.correctErrors=function(t,n,r){if(n!=null&&n.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw Ua.getChecksumInstance();return e.errorCorrection.decode(t,r,n)},e.verifyCodewordCount=function(t,n){if(t.length<4)throw tt.getFormatInstance();var r=t[0];if(r>t.length)throw tt.getFormatInstance();if(r===0)if(n<t.length)t[0]=t.length-n;else throw tt.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),r=0,a=n.length-1;!((t&1)!==r&&(r=t&1,a--,a<0));)n[a]++,t>>=1;return n},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var n=new E3,r=0;r<t.length;r++){n.format("Row %2d: ",r);for(var a=0;a<t[r].length;a++){var i=t[r][a];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new Ble,e})(),ice=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},OE=(function(){function e(){}return e.prototype.decode=function(t,n){n===void 0&&(n=null);var r=e.decode(t,n,!1);if(r==null||r.length===0||r[0]==null)throw Ie.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return e.decode(t,n,!0)}catch(r){throw r instanceof tt||r instanceof Ua?Ie.getNotFoundInstance():r}},e.decode=function(t,n,r){var a,i,o=new Array,s=Ile.detectMultiple(t,n,r);try{for(var l=ice(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,f=ace.decode(s.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),d=new Ri(f.getText(),f.getRawBytes(),void 0,u,bt.PDF_417);d.putMetadata(ii.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(ii.PDF417_EXTRA_METADATA,h),o.push(d)}}catch(p){a={error:p}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return o.map(function(p){return p})},e.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},e.getMinWidth=function(t,n){return t==null||n==null?on.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e})(),oce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),l8=(function(e){oce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t})(bo),c8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sce=(function(){function e(){}return e.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(kr.TRY_HARDER)!==void 0,r=t==null?null:t.get(kr.POSSIBLE_FORMATS),a=new Array;if(r!=null){var i=r.some(function(o){return o===bt.UPC_A||o===bt.UPC_E||o===bt.EAN_13||o===bt.EAN_8||o===bt.CODABAR||o===bt.CODE_39||o===bt.CODE_93||o===bt.CODE_128||o===bt.ITF||o===bt.RSS_14||o===bt.RSS_EXPANDED});i&&!n&&a.push(new rp(t)),r.includes(bt.QR_CODE)&&a.push(new AE),r.includes(bt.DATA_MATRIX)&&a.push(new EE),r.includes(bt.AZTEC)&&a.push(new wE),r.includes(bt.PDF_417)&&a.push(new OE),i&&n&&a.push(new rp(t))}a.length===0&&(n||a.push(new rp(t)),a.push(new AE),a.push(new EE),a.push(new wE),a.push(new OE),n&&a.push(new rp(t))),this.readers=a},e.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var r=c8(this.readers),a=r.next();!a.done;a=r.next()){var i=a.value;i.reset()}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var n,r;if(this.readers===null)throw new l8("No readers where selected, nothing can be read.");try{for(var a=c8(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(s){if(s instanceof l8)continue}}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}throw new Ie("No MultiFormat Readers were able to detect the code.")},e})(),lce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cce=(function(e){lce(t,e);function t(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var a=this,i=new sce;return i.setHints(n),a=e.call(this,i,r)||this,a}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t})(ch),uce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){uce(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new OE,n)||this}return t})(ch);var fce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){fce(t,e);function t(n){return n===void 0&&(n=500),e.call(this,new AE,n)||this}return t})(ch);var kE;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(kE||(kE={}));const ig=kE;var h7=(function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new uu(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var r=n[n.length-1],a=this.field,i=n.length;i<=t;i++){var o=r.multiply(new uu(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));n.push(o),r=o}return n[t]},e.prototype.encode=function(t,n){if(n===0)throw new Et("No error correction bytes");var r=t.length-n;if(r<=0)throw new Et("No data bytes provided");var a=this.buildGenerator(n),i=new Int32Array(r);fr.arraycopy(t,0,i,0,r);var o=new uu(this.field,i);o=o.multiplyByMonomial(n,1);for(var s=o.divide(a)[1],l=s.getCoefficients(),c=n-l.length,u=0;u<c;u++)t[r+u]=0;fr.arraycopy(l,0,t,r+c,l.length)},e})(),ip=(function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i-1;o++)for(var s=r[o],l=0;l<a-1;l++){var c=s[l];c===s[l+1]&&c===r[o+1][l]&&c===r[o+1][l+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var s=0;s<a;s++){var l=r[o];s+6<a&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(e.isWhiteHorizontal(l,s-4,s)||e.isWhiteHorizontal(l,s+7,s+11))&&n++,o+6<i&&r[o][s]===1&&r[o+1][s]===0&&r[o+2][s]===1&&r[o+3][s]===1&&r[o+4][s]===1&&r[o+5][s]===0&&r[o+6][s]===1&&(e.isWhiteVertical(r,s,o-4,o)||e.isWhiteVertical(r,s,o+7,o+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(t,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var a=n;a<r;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,n,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(var i=r;i<a;i++)if(t[i][n]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var s=r[o],l=0;l<a;l++)s[l]===1&&n++;var c=t.getHeight()*t.getWidth(),u=Math.floor(Math.abs(n*2-c)*10/c);return u*e.N4},e.getDataMaskBit=function(t,n,r){var a,i;switch(t){case 0:a=r+n&1;break;case 1:a=r&1;break;case 2:a=n%3;break;case 3:a=(r+n)%3;break;case 4:a=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=r*n,a=(i&1)+i%3;break;case 6:i=r*n,a=(i&1)+i%3&1;break;case 7:i=r*n,a=i%3+(r+n&1)&1;break;default:throw new Et("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,n){for(var r=0,a=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),o=t.getArray(),s=0;s<a;s++){for(var l=0,c=-1,u=0;u<i;u++){var f=n?o[s][u]:o[u][s];f===c?l++:(l>=5&&(r+=e.N1+(l-5)),l=1,c=f)}l>=5&&(r+=e.N1+(l-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e})(),dce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hce=(function(){function e(t,n){this.width=t,this.height=n;for(var r=new Array(n),a=0;a!==n;a++)r[a]=new Uint8Array(t);this.bytes=r}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,n){return this.bytes[n][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,n,r){this.bytes[n][t]=r},e.prototype.setBoolean=function(t,n,r){this.bytes[n][t]=r?1:0},e.prototype.clear=function(t){var n,r;try{for(var a=dce(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;Oa.fill(o,t)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,a=this.height;r<a;++r)for(var i=this.bytes[r],o=n.bytes[r],s=0,l=this.width;s<l;++s)if(i[s]!==o[s])return!1;return!0},e.prototype.toString=function(){for(var t=new rn,n=0,r=this.height;n<r;++n){for(var a=this.bytes[n],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e})(),TE=(function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new rn;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e})(),pce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pr=(function(e){pce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t})(bo),u8=(function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,n,r,a,i){e.clearMatrix(i),e.embedBasicPatterns(r,i),e.embedTypeInfo(n,a,i),e.maybeEmbedVersionInfo(r,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,r){var a=new Va;e.makeTypeInfoBits(t,n,a);for(var i=0,o=a.getSize();i<o;++i){var s=a.get(a.getSize()-1-i),l=e.TYPE_INFO_COORDINATES[i],c=l[0],u=l[1];if(r.setBoolean(c,u,s),i<8){var f=r.getWidth()-i-1,d=8;r.setBoolean(f,d,s)}else{var f=8,d=r.getHeight()-7+(i-8);r.setBoolean(f,d,s)}}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var r=new Va;e.makeVersionInfoBits(t,r);for(var a=17,i=0;i<6;++i)for(var o=0;o<3;++o){var s=r.get(a);a--,n.setBoolean(i,n.getHeight()-11+o,s),n.setBoolean(n.getHeight()-11+o,i,s)}}},e.embedDataBits=function(t,n,r){for(var a=0,i=-1,o=r.getWidth()-1,s=r.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(e.isEmpty(r.get(c,s))){var u=void 0;a<t.getSize()?(u=t.get(a),++a):u=!1,n!==255&&ip.getDataMaskBit(n,c,s)&&(u=!u),r.setBoolean(c,s,u)}}s+=i}i=-i,s+=i,o-=2}if(a!==t.getSize())throw new pr("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-on.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,n){if(n===0)throw new Et("0 polynomial");var r=e.findMSBSet(n);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=n<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,n,r){if(!TE.isValidMaskPattern(n))throw new pr("Invalid mask pattern");var a=t.getBits()<<3|n;r.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);r.appendBits(i,10);var o=new Va;if(o.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new pr("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new pr("should not happen but we got: "+n.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var r=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,r),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,r)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new pr;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,r){for(var a=0;a<8;++a){if(!e.isEmpty(r.get(t+a,n)))throw new pr;r.setNumber(t+a,n,0)}},e.embedVerticalSeparationPattern=function(t,n,r){for(var a=0;a<7;++a){if(!e.isEmpty(r.get(t,n+a)))throw new pr;r.setNumber(t,n+a,0)}},e.embedPositionAdjustmentPattern=function(t,n,r){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)r.setNumber(t+o,n+a,i[o])},e.embedPositionDetectionPattern=function(t,n,r){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)r.setNumber(t+o,n+a,i[o])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t);var r=8;e.embedHorizontalSeparationPattern(0,r-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,o=a.length;i!==o;i++){var s=a[i];if(s>=0)for(var l=0;l!==o;l++){var c=a[l];c>=0&&e.isEmpty(n.get(c,s))&&e.embedPositionAdjustmentPattern(c-2,s-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e})(),vce=(function(){function e(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e})(),f8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return ip.applyMaskPenaltyRule1(t)+ip.applyMaskPenaltyRule2(t)+ip.applyMaskPenaltyRule3(t)+ip.applyMaskPenaltyRule4(t)},e.encode=function(t,n,r){r===void 0&&(r=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=r!==null&&r.get(ig.CHARACTER_SET)!==void 0;i&&(a=r.get(ig.CHARACTER_SET).toString());var o=this.chooseMode(t,a),s=new Va;if(o===mr.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var l=Sa.getCharacterSetECIByName(a);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new Va;this.appendBytes(t,o,c,a);var u;if(r!==null&&r.get(ig.QR_VERSION)!==void 0){var f=Number.parseInt(r.get(ig.QR_VERSION).toString(),10);u=If.getVersionForNumber(f);var d=this.calculateBitsNeeded(o,s,c,u);if(!this.willFit(d,u,n))throw new pr("Data too big for requested version")}else u=this.recommendVersion(n,o,s,c);var h=new Va;h.appendBitArray(s);var p=o===mr.BYTE?c.getSizeInBytes():t.length;this.appendLengthInfo(p,u,o,h),h.appendBitArray(c);var v=u.getECBlocksForLevel(n),g=u.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(g,h);var m=this.interleaveWithECBytes(h,u.getTotalCodewords(),g,v.getNumBlocks()),y=new TE;y.setECLevel(n),y.setMode(o),y.setVersion(u);var x=u.getDimensionForVersion(),b=new hce(x,x),_=this.chooseMaskPattern(m,n,u,b);return y.setMaskPattern(_),u8.buildMatrix(m,n,u,_,b),y.setMatrix(b),y},e.recommendVersion=function(t,n,r,a){var i=this.calculateBitsNeeded(n,r,a,If.getVersionForNumber(1)),o=this.chooseVersion(i,t),s=this.calculateBitsNeeded(n,r,a,o);return this.chooseVersion(s,t)},e.calculateBitsNeeded=function(t,n,r,a){return n.getSize()+t.getCharacterCountBits(a)+r.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(n===void 0&&(n=null),Sa.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return mr.KANJI;for(var r=!1,a=!1,i=0,o=t.length;i<o;++i){var s=t.charAt(i);if(e.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)a=!0;else return mr.BYTE}return a?mr.ALPHANUMERIC:r?mr.NUMERIC:mr.BYTE},e.isOnlyDoubleByteKanji=function(t){var n;try{n=ts.encode(t,Sa.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var a=0;a<r;a+=2){var i=n[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,n,r,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<TE.NUM_MASK_PATTERNS;s++){u8.buildMatrix(t,n,r,s,a);var l=this.calculateMaskPenalty(a);l<i&&(i=l,o=s)}return o},e.chooseVersion=function(t,n){for(var r=1;r<=40;r++){var a=If.getVersionForNumber(r);if(e.willFit(t,a,n))return a}throw new pr("Data too big")},e.willFit=function(t,n,r){var a=n.getTotalCodewords(),i=n.getECBlocksForLevel(r),o=i.getTotalECCodewords(),s=a-o,l=(t+7)/8;return s>=l},e.terminateBits=function(t,n){var r=t*8;if(n.getSize()>r)throw new pr("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var a=i;a<8;a++)n.appendBit(!1);for(var o=t-n.getSizeInBytes(),a=0;a<o;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new pr("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,n,r,a,i,o){if(a>=r)throw new pr("Block ID too large");var s=t%r,l=r-s,c=Math.floor(t/r),u=c+1,f=Math.floor(n/r),d=f+1,h=c-f,p=u-d;if(h!==p)throw new pr("EC bytes mismatch");if(r!==l+s)throw new pr("RS blocks mismatch");if(t!==(f+h)*l+(d+p)*s)throw new pr("Total bytes mismatch");a<l?(i[0]=f,o[0]=h):(i[0]=d,o[0]=p)},e.interleaveWithECBytes=function(t,n,r,a){var i,o,s,l;if(t.getSizeInBytes()!==r)throw new pr("Number of bits and data bytes does not match");for(var c=0,u=0,f=0,d=new Array,h=0;h<a;++h){var p=new Int32Array(1),v=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,r,a,h,p,v);var g=p[0],m=new Uint8Array(g);t.toBytes(8*c,m,0,g);var y=e.generateECBytes(m,v[0]);d.push(new vce(m,y)),u=Math.max(u,g),f=Math.max(f,y.length),c+=p[0]}if(r!==c)throw new pr("Data bytes does not match offset");for(var x=new Va,h=0;h<u;++h)try{for(var b=(i=void 0,f8(d)),_=b.next();!_.done;_=b.next()){var E=_.value,m=E.getDataBytes();h<m.length&&x.appendBits(m[h],8)}}catch(O){i={error:O}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}for(var h=0;h<f;++h)try{for(var w=(s=void 0,f8(d)),A=w.next();!A.done;A=w.next()){var E=A.value,y=E.getErrorCorrectionBytes();h<y.length&&x.appendBits(y[h],8)}}catch(O){s={error:O}}finally{try{A&&!A.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}if(n!==x.getSizeInBytes())throw new pr("Interleaving error: "+n+" and "+x.getSizeInBytes()+" differ.");return x},e.generateECBytes=function(t,n){for(var r=t.length,a=new Int32Array(r+n),i=0;i<r;i++)a[i]=t[i]&255;new h7(fo.QR_CODE_FIELD_256).encode(a,n);for(var o=new Uint8Array(n),i=0;i<n;i++)o[i]=a[r+i];return o},e.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,n,r,a){var i=r.getCharacterCountBits(n);if(t>=1<<i)throw new pr(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,n,r,a){switch(n){case mr.NUMERIC:e.appendNumericBytes(t,r);break;case mr.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case mr.BYTE:e.append8BitBytes(t,r,a);break;case mr.KANJI:e.appendKanjiBytes(t,r);break;default:throw new pr("Invalid mode: "+n)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var i=e.getDigit(t.charAt(a));if(a+2<r){var o=e.getDigit(t.charAt(a+1)),s=e.getDigit(t.charAt(a+2));n.appendBits(i*100+o*10+s,10),a+=3}else if(a+1<r){var o=e.getDigit(t.charAt(a+1));n.appendBits(i*10+o,7),a+=2}else n.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new pr;if(a+1<r){var o=e.getAlphanumericCode(t.charCodeAt(a+1));if(o===-1)throw new pr;n.appendBits(i*45+o,11),a+=2}else n.appendBits(i,6),a++}},e.append8BitBytes=function(t,n,r){var a;try{a=ts.encode(t,r)}catch(l){throw new pr(l)}for(var i=0,o=a.length;i!==o;i++){var s=a[i];n.appendBits(s,8)}},e.appendKanjiBytes=function(t,n){var r;try{r=ts.encode(t,Sa.SJIS)}catch(f){throw new pr(f)}for(var a=r.length,i=0;i<a;i+=2){var o=r[i]&255,s=r[i+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new pr("Invalid byte sequence");var u=(c>>8)*192+(c&255);n.appendBits(u,13)}},e.appendECI=function(t,n){n.appendBits(mr.ECI.getBits(),4),n.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=Sa.UTF8.getName(),e})();var gce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){gce(t,e);function t(n,r,a,i,o,s,l,c){var u=e.call(this,s,l)||this;if(u.yuvData=n,u.dataWidth=r,u.dataHeight=a,u.left=i,u.top=o,i+s>r||o+l>a)throw new Et("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(s,l),u}return t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Et("Requested row is outside the image: "+n);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(n+this.top)*this.dataWidth+this.left;return fr.arraycopy(this.yuvData,i,r,0,a),r},t.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var a=n*r,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return fr.arraycopy(this.yuvData,o,i,0,a),i;for(var s=0;s<r;s++){var l=s*n;fr.arraycopy(this.yuvData,o,i,l,n),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,a,i,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(n*r),i=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var l=s*n,c=0;c<n;c++){var u=i[o+c*t.THUMBNAIL_SCALE_FACTOR]&255;a[l+c]=4278190080|u*65793}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,r){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<r;i++,o+=this.dataWidth)for(var s=o+n/2,l=o,c=o+n-1;l<s;l++,c--){var u=a[l];a[l]=a[c],a[c]=u}},t.prototype.invert=function(){return new x3(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(t2);var mce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){mce(t,e);function t(n,r,a,i,o,s,l){var c=e.call(this,r,a)||this;if(c.dataWidth=i,c.dataHeight=o,c.left=s,c.top=l,n.BYTES_PER_ELEMENT===4){for(var u=r*a,f=new Uint8ClampedArray(u),d=0;d<u;d++){var h=n[d],p=h>>16&255,v=h>>7&510,g=h&255;f[d]=(p+v+g)/4&255}c.luminances=f}else c.luminances=n;if(i===void 0&&(c.dataWidth=r),o===void 0&&(c.dataHeight=a),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+r>c.dataWidth||c.top+a>c.dataHeight)throw new Et("Crop rectangle does not fit within image data.");return c}return t.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Et("Requested row is outside the image: "+n);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(n+this.top)*this.dataWidth+this.left;return fr.arraycopy(this.luminances,i,r,0,a),r},t.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var a=n*r,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return fr.arraycopy(this.luminances,o,i,0,a),i;for(var s=0;s<r;s++){var l=s*n;fr.arraycopy(this.luminances,o,i,l,n),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,r,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},t.prototype.invert=function(){return new x3(this)},t})(t2);var yce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),xce=(function(e){yce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t})(Sa),bce=(function(){function e(){}return e.ISO_8859_1=Sa.ISO8859_1,e})(),CE,wce=301,_ce=function(e,t){for(var n=1,r=0;r<255;r++)t[r]=n,e[n]=r,n*=2,n>=256&&(n^=wce);return{LOG:e,ALOG:t}};CE=_ce([],[]),CE.LOG;CE.ALOG;var d8;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(d8||(d8={}));var h8=129,p7=230,Ece=231,Ace=235,Sce=236,Oce=237,kce=238,Tce=239,Cce=240,nw=254,Mce=254,p8="[)>05",v8="[)>06",g8="",zn=0,Qa=1,Ui=2,wa=3,Ba=4,vi=5,Pce=(function(){function e(){}return e.prototype.getEncodingMode=function(){return zn},e.prototype.encode=function(t){var n=ks.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(n>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var r=t.getCurrentChar(),a=ks.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case vi:t.writeCodeword(Ece),t.signalEncoderChange(vi);return;case Qa:t.writeCodeword(p7),t.signalEncoderChange(Qa);return;case wa:t.writeCodeword(kce),t.signalEncoderChange(wa);break;case Ui:t.writeCodeword(Tce),t.signalEncoderChange(Ui);break;case Ba:t.writeCodeword(Cce),t.signalEncoderChange(Ba);break;default:throw new Error("Illegal mode: "+a)}else ks.isExtendedASCII(r)?(t.writeCodeword(Ace),t.writeCodeword(r-128+1),t.pos++):(t.writeCodeword(r+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,n){if(ks.isDigit(t)&&ks.isDigit(n)){var r=(t-48)*10+(n-48);return r+130}throw new Error("not digits: "+t+n)},e})(),Ice=(function(){function e(){}return e.prototype.getEncodingMode=function(){return vi},e.prototype.encode=function(t){var n=new rn;for(n.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();n.append(r),t.pos++;var a=ks.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(zn);break}}var i=n.length()-1,o=1,s=t.getCodewordCount()+i+o;t.updateSymbolInfo(s);var l=t.getSymbolInfo().getDataCapacity()-s>0;if(t.hasMoreCharacters()||l)if(i<=249)n.setCharAt(0,hn.getCharAt(i));else if(i<=1555)n.setCharAt(0,hn.getCharAt(Math.floor(i/250)+249)),n.insert(1,hn.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var c=0,r=n.length();c<r;c++)t.writeCodeword(this.randomize255State(n.charAt(c).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,n){var r=149*n%255+1,a=t+r;return a<=255?a:a-256},e})(),A3=(function(){function e(){}return e.prototype.getEncodingMode=function(){return Qa},e.prototype.encodeMaximal=function(t){for(var n=new rn,r=0,a=t.pos,i=0;t.hasMoreCharacters();){var o=t.getCurrentChar();t.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(a=t.pos,i=n.length())}if(i!==n.length()){var s=Math.floor(n.length()/3*2),l=Math.floor(t.getCodewordCount()+s+1);t.updateSymbolInfo(l);var c=t.getSymbolInfo().getDataCapacity()-l,u=Math.floor(n.length()%3);(u===2&&c!==2||u===1&&(r>3||c!==1))&&(t.pos=a)}n.length()>0&&t.writeCodeword(p7),this.handleEOD(t,n)},e.prototype.encode=function(t){for(var n=new rn;t.hasMoreCharacters();){var r=t.getCurrentChar();t.pos++;var a=this.encodeChar(r,n),i=Math.floor(n.length()/3)*2,o=t.getCodewordCount()+i;t.updateSymbolInfo(o);var s=t.getSymbolInfo().getDataCapacity()-o;if(!t.hasMoreCharacters()){var l=new rn;for(n.length()%3===2&&s!==2&&(a=this.backtrackOneCharacter(t,n,l,a));n.length()%3===1&&(a>3||s!==1);)a=this.backtrackOneCharacter(t,n,l,a);break}var c=n.length();if(c%3===0){var u=ks.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(zn);break}}}this.handleEOD(t,n)},e.prototype.backtrackOneCharacter=function(t,n,r,a){var i=n.length(),o=n.toString().substring(0,i-a);n.setLengthToZero(),n.append(o),t.pos--;var s=t.getCurrentChar();return a=this.encodeChar(s,r),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,n){t.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},e.prototype.handleEOD=function(t,n){var r=Math.floor(n.length()/3*2),a=n.length()%3,i=t.getCodewordCount()+r;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(nw)}else if(o===1&&a===1){for(;n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(nw),t.pos--}else if(a===0){for(;n.length()>=3;)this.writeNextTriplet(t,n);(o>0||t.hasMoreCharacters())&&t.writeCodeword(nw)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(zn)},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=65&&t<=90)return n.append(t-65+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t<=95)return n.append(1),n.append(t-91+22),2;if(t<=127)return n.append(2),n.append(t-96),2;n.append("1");var r=2;return r+=this.encodeChar(t-128,n),r},e.prototype.encodeToCodewords=function(t){var n=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,r=n/256,a=n%256,i=new rn;return i.append(r),i.append(a),i.toString()},e})(),Rce=(function(){function e(){}return e.prototype.getEncodingMode=function(){return Ba},e.prototype.encode=function(t){for(var n=new rn;t.hasMoreCharacters();){var r=t.getCurrentChar();this.encodeChar(r,n),t.pos++;var a=n.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var o=ks.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(zn);break}}}n.append(hn.getCharAt(31)),this.handleEOD(t,n)},e.prototype.handleEOD=function(t,n){try{var r=n.length();if(r===0)return;if(r===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,s=this.encodeToCodewords(n.toString()),l=!t.hasMoreCharacters(),c=l&&o<=2;if(o<=2){t.updateSymbolInfo(t.getCodewordCount()+o);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(c=!1,t.updateSymbolInfo(t.getCodewordCount()+s.length))}c?(t.resetSymbolInfo(),t.pos-=o):t.writeCodewords(s)}finally{t.signalEncoderChange(zn)}},e.prototype.encodeChar=function(t,n){t>=32&&t<=63?n.append(t):t>=64&&t<=94?n.append(hn.getCharAt(t-64)):ks.illegalCharacter(hn.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var n=t.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=t.charAt(0).charCodeAt(0),a=n>=2?t.charAt(1).charCodeAt(0):0,i=n>=3?t.charAt(2).charCodeAt(0):0,o=n>=4?t.charAt(3).charCodeAt(0):0,s=(r<<18)+(a<<12)+(i<<6)+o,l=s>>16&255,c=s>>8&255,u=s&255,f=new rn;return f.append(l),n>=2&&f.append(c),n>=3&&f.append(u),f.toString()},e})(),Dce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Nce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tn=(function(){function e(t,n,r,a,i,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=t,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return e.lookup=function(t,n,r,a,i){var o,s;n===void 0&&(n=0),r===void 0&&(r=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var l=Nce(Fce),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(n===1&&u.rectangular)&&!(n===2&&!u.rectangular)&&!(r!=null&&(u.getSymbolWidth()<r.getWidth()||u.getSymbolHeight()<r.getHeight()))&&!(a!=null&&(u.getSymbolWidth()>a.getWidth()||u.getSymbolHeight()>a.getHeight()))&&t<=u.dataCapacity)return u}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e})(),Lce=(function(e){Dce(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},t})(Tn),Fce=[new Tn(!1,3,5,8,8,1),new Tn(!1,5,7,10,10,1),new Tn(!0,5,7,16,6,1),new Tn(!1,8,10,12,12,1),new Tn(!0,10,11,14,6,2),new Tn(!1,12,12,14,14,1),new Tn(!0,16,14,24,10,1),new Tn(!1,18,14,16,16,1),new Tn(!1,22,18,18,18,1),new Tn(!0,22,18,16,10,2),new Tn(!1,30,20,20,20,1),new Tn(!0,32,24,16,14,2),new Tn(!1,36,24,22,22,1),new Tn(!1,44,28,24,24,1),new Tn(!0,49,28,22,14,2),new Tn(!1,62,36,14,14,4),new Tn(!1,86,42,16,16,4),new Tn(!1,114,48,18,18,4),new Tn(!1,144,56,20,20,4),new Tn(!1,174,68,22,22,4),new Tn(!1,204,84,24,24,4,102,42),new Tn(!1,280,112,14,14,16,140,56),new Tn(!1,368,144,16,16,16,92,36),new Tn(!1,456,192,18,18,16,114,48),new Tn(!1,576,224,20,20,16,144,56),new Tn(!1,696,272,22,22,16,174,68),new Tn(!1,816,336,24,24,16,136,56),new Tn(!1,1050,408,18,18,36,175,68),new Tn(!1,1304,496,20,20,36,163,62),new Lce],Bce=(function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var n=t.split("").map(function(s){return s.charCodeAt(0)}),r=new rn,a=0,i=n.length;a<i;a++){var o=String.fromCharCode(n[a]&255);if(o==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new rn,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,n){this.minSize=t,this.maxSize=n},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Tn.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e})(),$ce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jce=(function(e){$ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return wa},t.prototype.encode=function(n){for(var r=new rn;n.hasMoreCharacters();){var a=n.getCurrentChar();n.pos++,this.encodeChar(a,r);var i=r.length();if(i%3===0){this.writeNextTriplet(n,r);var o=ks.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(zn);break}}}this.handleEOD(n,r)},t.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):ks.illegalCharacter(hn.getCharAt(n));break}return 1},t.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var a=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=r.length();n.pos-=i,(n.getRemainingCharacters()>1||a>1||n.getRemainingCharacters()!==a)&&n.writeCodeword(Mce),n.getNewEncoding()<0&&n.signalEncoderChange(zn)},t})(A3),zce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Uce=(function(e){zce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return Ui},t.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var a=2;return a+=this.encodeChar(n-128,r),a},t})(A3),ks=(function(){function e(){}return e.randomize253State=function(t){var n=149*t%253+1,r=h8+n;return r<=254?r:r-254},e.encodeHighLevel=function(t,n,r,a,i){n===void 0&&(n=0),r===void 0&&(r=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new A3,s=[new Pce,o,new Uce,new jce,new Rce,new Ice],l=new Bce(t);l.setSymbolShape(n),l.setSizeConstraints(r,a),t.startsWith(p8)&&t.endsWith(g8)?(l.writeCodeword(Sce),l.setSkipAtEnd(2),l.pos+=p8.length):t.startsWith(v8)&&t.endsWith(g8)&&(l.writeCodeword(Oce),l.setSkipAtEnd(2),l.pos+=v8.length);var c=zn;for(i&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();u<f&&c!==zn&&c!==vi&&c!==Ba&&l.writeCodeword("");var d=l.getCodewords();for(d.length()<f&&d.append(h8);d.length()<f;)d.append(this.randomize253State(d.length()+1));return l.getCodewords().toString()},e.lookAheadTest=function(t,n,r){var a=this.lookAheadTestIntern(t,n,r);if(r===wa&&a===wa){for(var i=Math.min(n+3,t.length),o=n;o<i;o++)if(!this.isNativeX12(t.charCodeAt(o)))return zn}else if(r===Ba&&a===Ba){for(var i=Math.min(n+4,t.length),o=n;o<i;o++)if(!this.isNativeEDIFACT(t.charCodeAt(o)))return zn}return a},e.lookAheadTestIntern=function(t,n,r){if(n>=t.length)return r;var a;r===zn?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[r]=0);for(var i=0,o=new Uint8Array(6),s=[];;){if(n+i===t.length){Oa.fill(o,0),Oa.fill(s,0);var l=this.findMinimums(a,s,on.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[zn]===l)return zn;if(c===1){if(o[vi]>0)return vi;if(o[Ba]>0)return Ba;if(o[Ui]>0)return Ui;if(o[wa]>0)return wa}return Qa}var u=t.charCodeAt(n+i);if(i++,this.isDigit(u)?a[zn]+=.5:this.isExtendedASCII(u)?(a[zn]=Math.ceil(a[zn]),a[zn]+=2):(a[zn]=Math.ceil(a[zn]),a[zn]++),this.isNativeC40(u)?a[Qa]+=2/3:this.isExtendedASCII(u)?a[Qa]+=8/3:a[Qa]+=4/3,this.isNativeText(u)?a[Ui]+=2/3:this.isExtendedASCII(u)?a[Ui]+=8/3:a[Ui]+=4/3,this.isNativeX12(u)?a[wa]+=2/3:this.isExtendedASCII(u)?a[wa]+=13/3:a[wa]+=10/3,this.isNativeEDIFACT(u)?a[Ba]+=3/4:this.isExtendedASCII(u)?a[Ba]+=17/4:a[Ba]+=13/4,this.isSpecialB256(u)?a[vi]+=4:a[vi]++,i>=4){if(Oa.fill(o,0),Oa.fill(s,0),this.findMinimums(a,s,on.MAX_VALUE,o),s[zn]<this.min(s[vi],s[Qa],s[Ui],s[wa],s[Ba]))return zn;if(s[vi]<s[zn]||s[vi]+1<this.min(s[Qa],s[Ui],s[wa],s[Ba]))return vi;if(s[Ba]+1<this.min(s[vi],s[Qa],s[Ui],s[wa],s[zn]))return Ba;if(s[Ui]+1<this.min(s[vi],s[Qa],s[Ba],s[wa],s[zn]))return Ui;if(s[wa]+1<this.min(s[vi],s[Qa],s[Ba],s[Ui],s[zn]))return wa;if(s[Qa]+1<this.min(s[zn],s[vi],s[Ba],s[Ui])){if(s[Qa]<s[wa])return Qa;if(s[Qa]===s[wa]){for(var f=n+i+1;f<t.length;){var d=t.charCodeAt(f);if(this.isX12TermSep(d))return wa;if(!this.isNativeX12(d))break;f++}return Qa}}}}},e.min=function(t,n,r,a,i){var o=Math.min(t,Math.min(n,Math.min(r,a)));return i===void 0?o:Math.min(o,i)},e.findMinimums=function(t,n,r,a){for(var i=0;i<6;i++){var o=n[i]=Math.ceil(t[i]);r>o&&(r=o,Oa.fill(a,0)),r===o&&(a[i]=a[i]+1)}return r},e.getMinimumCount=function(t){for(var n=0,r=0;r<6;r++)n+=t[r];return n||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,n){n===void 0&&(n=0);for(var r=t.length,a=n;a<r&&this.isDigit(t.charCodeAt(a));)a++;return a-n},e.illegalCharacter=function(t){var n=on.toHexString(t.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+t+" (0x"+n+")")},e})(),rw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m8=(function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return ts.encode(t,this.charset)!=null}catch{return!1}},e})(),Hce=(function(){function e(t,n,r){var a,i,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(S){return new m8(xce.forName(S))}),this.encoders=[];var u=[];u.push(new m8(bce.ISO_8859_1));for(var f=n!=null&&n.name.startsWith("UTF"),d=0;d<t.length;d++){var h=!1;try{for(var p=(a=void 0,rw(u)),v=p.next();!v.done;v=p.next()){var g=v.value,m=t.charAt(d),y=m.charCodeAt(0);if(y===r||g.canEncode(m)){h=!0;break}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}if(!h)try{for(var x=(o=void 0,rw(this.ENCODERS)),b=x.next();!b.done;b=x.next()){var g=b.value;if(g.canEncode(t.charAt(d))){u.push(g),h=!0;break}}}catch(S){o={error:S}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}h||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var _=0;try{for(var E=rw(u),w=E.next();!w.done;w=E.next()){var g=w.value;this.encoders[_++]=g}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}}var A=-1;if(n!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&n.name===this.encoders[d].name){A=d;break}}this.priorityEncoderIndex=A}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return ts.encode(hn.getCharAt(t),this.encoders[n].name)},e})(),Vce=3,Wce=(function(){function e(t,n,r){this.fnc1=r;var a=new Hce(t,n,r);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=t.charAt(i).charCodeAt(0);this.bytes[i]=o===r?1e3:o}else this.bytes=this.encodeMinimally(t,a,r)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,n){if(t+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(t+r))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,n){if(t<0||t>n||n>this.length())throw new Error(""+t);for(var r=new rn,a=t;a<n;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");r.append(this.charAt(a))}return r.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,n,r){(t[n][r.encoderIndex]==null||t[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(t[n][r.encoderIndex]=r)},e.prototype.addEdges=function(t,n,r,a,i,o){var s=t.charAt(a).charCodeAt(0),l=0,c=n.length();n.getPriorityEncoderIndex()>=0&&(s===o||n.canEncode(s,n.getPriorityEncoderIndex()))&&(l=n.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(s===o||n.canEncode(s,u))&&this.addEdge(r,a+1,new y8(s,n,u,i,o))},e.prototype.encodeMinimally=function(t,n,r){var a=t.length,i=new y8[a+1][n.length()];this.addEdges(t,n,i,0,null,r);for(var o=1;o<=a;o++){for(var s=0;s<n.length();s++)i[o][s]!=null&&o<a&&this.addEdges(t,n,i,o,i[o][s],r);for(var s=0;s<n.length();s++)i[o-1][s]=null}for(var l=-1,c=on.MAX_VALUE,s=0;s<n.length();s++)if(i[a][s]!=null){var u=i[a][s];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],d=i[a][l];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=n.encode(d.c,d.encoderIndex),o=h.length-1;o>=0;o--)f.unshift(h[o]&255);var p=d.previous===null?0:d.previous.encoderIndex;p!==d.encoderIndex&&f.unshift(256+n.getECIValue(d.encoderIndex)),d=d.previous}for(var v=[],o=0;o<v.length;o++)v[o]=f[o];return v},e})(),y8=(function(){function e(t,n,r,a,i){this.c=t,this.encoderSet=n,this.encoderIndex=r,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var o=this.isFNC1()?1:n.encode(t,r).length,s=a===null?0:a.encoderIndex;s!==r&&(o+=Vce),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return e.prototype.isFNC1=function(){return this.c===1e3},e})(),Gce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var x8;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(x8||(x8={}));(function(e){Gce(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.shape=i,s.macroId=o,s}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(Wce);var Yce=(function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e})(),b8=(function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,n){return t.sort(n)[0]},e})(),Xce=(function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e})(),qce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),S3=(function(e){qce(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.value=r,i.bitCount=a,i}return t.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,r){return new t(this,n,r)},t.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,r)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+on.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t})(Xce),Kce=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Zce=(function(e){Kce(t,e);function t(n,r,a){var i=e.call(this,n,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(n,r){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):a===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(n,r){return new t(this,n,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t})(S3);function Qce(e,t,n){return new Zce(e,t,n)}function Bh(e,t,n){return new S3(e,t,n)}var Jce=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fu=0,oy=1,qo=2,v7=3,yl=4,eue=new S3(null,0,0),aw=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],tue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function nue(e){var t,n;try{for(var r=tue(e),a=r.next();!a.done;a=r.next()){var i=a.value;Oa.fill(i,-1)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e[fu][yl]=0,e[oy][yl]=0,e[oy][fu]=28,e[v7][yl]=0,e[qo][yl]=0,e[qo][fu]=15,e}var g7=nue(Oa.createInt32Array(6,6)),rue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aue=(function(){function e(t,n,r,a){this.token=t,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var r=this.bitCount,a=this.token;if(t!==this.mode){var i=aw[this.mode][t];a=Bh(a,i&65535,i>>16),r+=i>>16}var o=t===qo?4:5;return a=Bh(a,n,o),new e(a,t,0,r+o)},e.prototype.shiftAndAppend=function(t,n){var r=this.token,a=this.mode===qo?4:5;return r=Bh(r,g7[this.mode][t],a),r=Bh(r,n,5),new e(r,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,r=this.mode,a=this.bitCount;if(this.mode===yl||this.mode===qo){var i=aw[r][fu];n=Bh(n,i&65535,i>>16),a+=i>>16,r=fu}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new e(n,r,this.binaryShiftByteCount+1,a+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=Qce(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(n,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(aw[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(t){for(var n,r,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new Va;try{for(var s=rue(a),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,t)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},e.prototype.toString=function(){return hn.format("%s bits=%d bytes=%d",Jce[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(eue,fu,0,0),e})();function iue(e){var t=hn.getCharCode(" "),n=hn.getCharCode("."),r=hn.getCharCode(",");e[fu][t]=1;for(var a=hn.getCharCode("Z"),i=hn.getCharCode("A"),o=i;o<=a;o++)e[fu][o]=o-i+2;e[oy][t]=1;for(var s=hn.getCharCode("z"),l=hn.getCharCode("a"),o=l;o<=s;o++)e[oy][o]=o-l+2;e[qo][t]=1;for(var c=hn.getCharCode("9"),u=hn.getCharCode("0"),o=u;o<=c;o++)e[qo][o]=o-u+2;e[qo][r]=12,e[qo][n]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)e[v7][hn.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)hn.getCharCode(h[d])>0&&(e[yl][hn.getCharCode(h[d])]=d);return e}var iw=iue(Oa.createInt32Array(5,256)),og=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oue=(function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=hn.getCharCode(" "),n=hn.getCharCode(`
`),r=b8.singletonList(aue.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case hn.getCharCode("\r"):i=o===n?2:0;break;case hn.getCharCode("."):i=o===t?3:0;break;case hn.getCharCode(","):i=o===t?4:0;break;case hn.getCharCode(":"):i=o===t?5:0;break;default:i=0}i>0?(r=e.updateStateListForPair(r,a,i),a++):r=this.updateStateListForChar(r,a)}var s=b8.min(r,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var r,a,i=[];try{for(var o=og(t),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,n,i)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,n,r){for(var a=this.text[n]&255,i=iw[t.getMode()][a]>0,o=null,s=0;s<=yl;s++){var l=iw[s][a];if(l>0){if(o==null&&(o=t.endBinaryShift(n)),!i||s===t.getMode()||s===qo){var c=o.latchAndAppend(s,l);r.push(c)}if(!i&&g7[t.getMode()][s]>=0){var u=o.shiftAndAppend(s,l);r.push(u)}}}if(t.getBinaryShiftByteCount()>0||iw[t.getMode()][a]===0){var f=t.addBinaryShiftChar(n);r.push(f)}},e.updateStateListForPair=function(t,n,r){var a,i,o=[];try{for(var s=og(t),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,n,r,o)}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return this.simplifyStates(o)},e.updateStateForPair=function(t,n,r,a){var i=t.endBinaryShift(n);if(a.push(i.latchAndAppend(yl,r)),t.getMode()!==yl&&a.push(i.shiftAndAppend(yl,r)),r===3||r===4){var o=i.latchAndAppend(qo,16-r).latchAndAppend(qo,1);a.push(o)}if(t.getBinaryShiftByteCount()>0){var s=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);a.push(s)}},e.simplifyStates=function(t){var n,r,a,i,o=[];try{for(var s=og(t),l=s.next();!l.done;l=s.next()){var c=l.value,u=!0,f=function(g){if(g.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(g)&&(o=o.filter(function(m){return m!==g}))};try{for(var d=(a=void 0,og(o)),h=d.next();!h.done;h=d.next()){var p=h.value,v=f(p);if(v==="break")break}}catch(g){a={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}u&&o.push(c)}}catch(g){n={error:g}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},e})(),sue=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,r){var a=new oue(t).encode(),i=on.truncDivision(a.getSize()*n,100)+11,o=a.getSize()+i,s,l,c,u,f;if(r!==e.DEFAULT_AZTEC_LAYERS){if(s=r<0,l=Math.abs(r),l>(s?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new Et(hn.format("Illegal value %s for layers",r));c=e.totalBitsInLayer(l,s),u=e.WORD_SIZE[l];var d=c-c%u;if(f=e.stuffBits(a,u),f.getSize()+i>d)throw new Et("Data to large for user specified layer");if(s&&f.getSize()>u*64)throw new Et("Data to large for user specified layer")}else{u=0,f=null;for(var h=0;;h++){if(h>e.MAX_NB_BITS)throw new Et("Data too large for an Aztec code");if(s=h<=3,l=s?h+1:h,c=e.totalBitsInLayer(l,s),!(o>c)){(f==null||u!==e.WORD_SIZE[l])&&(u=e.WORD_SIZE[l],f=e.stuffBits(a,u));var d=c-c%u;if(!(s&&f.getSize()>u*64)&&f.getSize()+i<=d)break}}}var p=e.generateCheckWords(f,c,u),v=f.getSize()/u,g=e.generateModeMessage(s,l,v),m=(s?11:14)+l*4,y=new Int32Array(m),x;if(s){x=m;for(var h=0;h<y.length;h++)y[h]=h}else{x=m+1+2*on.truncDivision(on.truncDivision(m,2)-1,15);for(var b=on.truncDivision(m,2),_=on.truncDivision(x,2),h=0;h<b;h++){var E=h+on.truncDivision(h,15);y[b-h-1]=_-E-1,y[b+h]=_+E+1}}for(var w=new Pl(x),h=0,A=0;h<l;h++){for(var S=(l-h)*4+(s?9:12),O=0;O<S;O++)for(var k=O*2,T=0;T<2;T++)p.get(A+k+T)&&w.set(y[h*2+T],y[h*2+O]),p.get(A+S*2+k+T)&&w.set(y[h*2+O],y[m-1-h*2-T]),p.get(A+S*4+k+T)&&w.set(y[m-1-h*2-T],y[m-1-h*2-O]),p.get(A+S*6+k+T)&&w.set(y[m-1-h*2-O],y[h*2+T]);A+=S*8}if(e.drawModeMessage(w,s,x,g),s)e.drawBullsEye(w,on.truncDivision(x,2),5);else{e.drawBullsEye(w,on.truncDivision(x,2),7);for(var h=0,O=0;h<on.truncDivision(m,2)-1;h+=15,O+=16)for(var T=on.truncDivision(x,2)&1;T<x;T+=2)w.set(on.truncDivision(x,2)-O,T),w.set(on.truncDivision(x,2)+O,T),w.set(T,on.truncDivision(x,2)-O),w.set(T,on.truncDivision(x,2)+O)}var C=new Yce;return C.setCompact(s),C.setSize(x),C.setLayers(l),C.setCodeWords(v),C.setMatrix(w),C},e.drawBullsEye=function(t,n,r){for(var a=0;a<r;a+=2)for(var i=n-a;i<=n+a;i++)t.set(i,n-a),t.set(i,n+a),t.set(n-a,i),t.set(n+a,i);t.set(n-r,n-r),t.set(n-r+1,n-r),t.set(n-r,n-r+1),t.set(n+r,n-r),t.set(n+r,n-r+1),t.set(n+r,n+r-1)},e.generateModeMessage=function(t,n,r){var a=new Va;return t?(a.appendBits(n-1,2),a.appendBits(r-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(n-1,5),a.appendBits(r-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,n,r,a){var i=on.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var s=i-3+o;a.get(o)&&t.set(s,i-5),a.get(o+7)&&t.set(i+5,s),a.get(20-o)&&t.set(s,i+5),a.get(27-o)&&t.set(i-5,s)}else for(var o=0;o<10;o++){var s=i-5+o+on.truncDivision(o,5);a.get(o)&&t.set(s,i-7),a.get(o+10)&&t.set(i+7,s),a.get(29-o)&&t.set(s,i+7),a.get(39-o)&&t.set(i-7,s)}},e.generateCheckWords=function(t,n,r){var a,i,o=t.getSize()/r,s=new h7(e.getGF(r)),l=on.truncDivision(n,r),c=e.bitsToWords(t,r,l);s.encode(c,l-o);var u=n%r,f=new Va;f.appendBits(0,u);try{for(var d=sue(Array.from(c)),h=d.next();!h.done;h=d.next()){var p=h.value;f.appendBits(p,r)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,n,r){var a=new Int32Array(r),i,o;for(i=0,o=t.getSize()/n;i<o;i++){for(var s=0,l=0;l<n;l++)s|=t.get(i*n+l)?1<<n-l-1:0;a[i]=s}return a},e.getGF=function(t){switch(t){case 4:return fo.AZTEC_PARAM;case 6:return fo.AZTEC_DATA_6;case 8:return fo.AZTEC_DATA_8;case 10:return fo.AZTEC_DATA_10;case 12:return fo.AZTEC_DATA_12;default:throw new Et("Unsupported word size "+t)}},e.stuffBits=function(t,n){for(var r=new Va,a=t.getSize(),i=(1<<n)-2,o=0;o<a;o+=n){for(var s=0,l=0;l<n;l++)(o+l>=a||t.get(o+l))&&(s|=1<<n-1-l);(s&i)===i?(r.appendBits(s&i,n),o--):(s&i)===0?(r.appendBits(s|1,n),o--):r.appendBits(s,n)}return r},e.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();class ac{static addEvent(t,n){window.addEventListener(t,n)}static removeEvent(t,n){window.removeEventListener(t,n)}static observer(t,n,r={attributes:!0,childList:!0,subtree:!0}){let a=window.MutationObserver;new a(o=>{n(o)}).observe(t,r)}static getPropertyValue(t,n){return getComputedStyle(t).getPropertyValue("width")}static loadFile(t,n=!1,r=""){let a=[],i=!1;for(let o of t)if(i=this._isInclude(o,r),n&&(i=!1),a=o.split("."),a[a.length-1]=="js"||r=="js"){if(!i){let s=document.createElement("script");s.setAttribute("src",o),document.body.appendChild(s)}}else if((a[a.length-1]=="css"||r=="css")&&!i){let s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",o),document.body.appendChild(s)}}static _isInclude(t,n=""){let r=n=="js"||/js$/i.test(t);const a=document.getElementsByTagName(r?"script":"link");for(let i of a)if(i[r?"src":"href"].indexOf(t)!=-1)return!0;return!1}}class ME{static Trim(t,n="\\s"){const r=new RegExp("(^"+n+"*)|("+n+"*$)","gi");return t.toString().replace(r,"")}static LTrim(t,n="\\s"){const r=new RegExp("(^"+n+"*)","gi");return t.toString().replace(r,"")}static RTrim(t,n="\\s"){const r=new RegExp("("+n+"*$)","gi");return t.toString().replace(r,"")}static CopyText(t){try{let n=n;switch(n.os.name){case"iOS":let i=n.ios.importClass("UIPasteboard").generalPasteboard();i.setValueforPasteboardType(t+"","public.utf8-plain-text");let o=i.valueForPasteboardType("public.utf8-plain-text");dt.Toast("");break;case"Android":let s=n.android.importClass("android.content.Context"),c=n.android.runtimeMainActivity().getSystemService(s.CLIPBOARD_SERVICE);n.android.invoke(c,"setText",t+""),dt.Toast("");break}}catch{let r=document,a=r.createElement("input");a.value=t+"",r.body.appendChild(a),a.select(),r.execCommand("Copy"),a.className="oInput",a.style.display="none",dt.Toast("")}}static getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}static sort2DArray(t,n,r=!0){const a=JSON.parse(JSON.stringify(t)),i=Array.isArray(n)?n:[n];return a.sort((o,s)=>{for(const l of i){const c=l.split(".").reduce((f,d)=>f==null?void 0:f[d],o),u=l.split(".").reduce((f,d)=>f==null?void 0:f[d],s);if(c!==u){const f=typeof c=="string"?c.localeCompare(u):c-u;return r?f:-f}}return 0})}}const lue={class:"wm-checkbox"},cue={key:0,class:"partially"},uue={key:1,class:"all"},fue={key:0,class:"label"},due={key:0,class:"partially"},hue={key:1,class:"all"},pue={key:0,class:"label"},vue=Ht({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:{}},partially:{type:Boolean,default:!1},margin:{type:String,default:"4px 4px"},padding:{type:String,default:"4px"}},emits:["update:value","checkbox"],setup(e,{emit:t}){const n=e,r=t,a=Ee({});Ut(()=>n.options,o=>{a.value=o},{deep:!0}),On(()=>{a.value=n.options});const i=()=>{const o=a.value;o.checked=!o.checked,r("update:value",o.checked?o.value:""),r("checkbox",o.label,o.value)};return(o,s)=>(Z(),ne("ul",lue,[e.options.disabled?(Z(),ne("li",{key:0,class:"disabled",style:Ue({margin:e.margin,padding:e.padding})},[W("span",{class:Ve(["checkbox",e.options.checked?"active":""])},[e.partially?(Z(),ne("i",cue)):(Z(),ne("i",uue))],2),e.options.label?(Z(),ne("span",fue,ge(e.options.label),1)):et(o.$slots,"default",{key:1},void 0,!0)],4)):(Z(),ne("li",{key:1,style:Ue({margin:e.margin,padding:e.padding}),onClick:s[0]||(s[0]=Ca(l=>i(),["stop"]))},[W("span",{class:Ve(["checkbox",e.options.checked||e.value===e.options.value?"active":""])},[e.partially?(Z(),ne("i",due)):(Z(),ne("i",hue))],2),e.options.label?(Z(),ne("span",pue,ge(e.options.label),1)):et(o.$slots,"default",{key:1},void 0,!0)],4))]))}}),sg=ma(vue,[["__scopeId","data-v-ac128409"]]),gue={class:"wm-table_title"},mue={key:0,class:"checkbox"},yue=["onClick"],xue={class:"order"},bue={class:"wm-table_list"},wue={key:0},_ue=["title"],Eue={key:1},Aue={key:1},Sue=["title"],Oue={key:1},kue={key:1},Tue=["title"],Cue={key:1},Mue={key:2},Pue=["colspan"],Iue={key:0},Rue=["colspan"],Due={key:1},Nue=["colspan"],Lue=Ht({__name:"index",props:{columns:{type:Array,default:[]},options:{type:Array,default:[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},overflow:{type:String,default:""},isCheckbox:{type:Boolean,default:!0},isSlot:{type:Boolean,default:!1},isBottom:{type:Boolean,default:!1},maxLen:{type:Number,default:0}},emits:["partially","orderBy"],setup(e,{expose:t,emit:n}){const r=e,a=n,i=Ee(!1),o=Ee({checked:!1,partially:!1,value:"",data:{label:"",value:"all",checked:!1}});Ut(()=>r.columns,d=>{c()},{deep:!0});const s=(d="")=>{if(r.options.length!=0){o.value.checked=typeof d=="boolean"?d:!o.value.checked;for(let h in r.options)r.options[h].disabled||(r.options[h].checked=o.value.checked);c()}},l=(d,h)=>{for(let p in r.options)if(r.options[p].id==h){r.options[p].checked=!r.options[p].checked;break}c()},c=()=>{let d=0;const h=r.options.length;for(let p in r.options)r.options[p].checked&&d++;h>0&&h==d?(o.value.checked=!0,o.value.value="all",o.value.partially=!1,o.value.data.checked=!0):h>0&&d>0?(o.value.checked=!0,o.value.value="all",o.value.partially=!0,o.value.data.checked=!0):(o.value.checked=!1,o.value.value="other",o.value.partially=!1,o.value.data.checked=!1),a("partially",d,h)},u=()=>{let d=[],h={};for(let p in r.options)r.options[p].checked&&(h=r.options[p],h.index=parseInt(p),d.push(h));return d},f=(d,h,p)=>{p=="ASC"?p="DESC":p=="DESC"?p="":p="ASC",r.columns[d].order=p,a("orderBy",p?h+" "+p:"")};return t({checkboxAll:s,getData:u}),(d,h)=>(Z(),ne("div",{class:"wm-table_body scrollbar",style:Ue({height:e.height,overflow:e.overflow})},[W("table",{class:"wm-table",style:Ue({width:e.width,height:e.options.length==0?e.height:""})},[W("thead",gue,[W("tr",null,[e.isCheckbox?(Z(),ne("td",mue,[ot(sg,{value:o.value.value,"onUpdate:value":h[0]||(h[0]=p=>o.value.value=p),partially:o.value.partially,options:o.value.data,margin:"0",onCheckbox:h[1]||(h[1]=p=>s())},null,8,["value","partially","options"])])):ye("",!0),(Z(!0),ne(Ge,null,_t(e.columns,(p,v)=>(Z(),ne("td",{key:v,style:Ue({width:p.width,minWidth:p.minWidth,maxWidth:p.maxWidth?p.maxWidth+" !important":"",textAlign:p.textAlign})},[Pt(ge(p.title)+" ",1),["","ASC","DESC"].includes(p.order)?(Z(),ne("div",{key:0,class:"order_body",onClick:g=>f(v,p.index,p.order)},[W("div",xue,[W("i",{class:Ve(["ui ui_arrow_up",p.order=="DESC"?"active":""])},null,2),W("i",{class:Ve(["ui ui_arrow_down",p.order=="ASC"?"active":""])},null,2)])],8,yue)):ye("",!0)],4))),128))])]),W("tbody",bue,[e.options.length>0?(Z(!0),ne(Ge,{key:0},_t(e.options,(p,v)=>(Z(),ne(Ge,{key:v},[e.maxLen>0&&(typeof p.display>"u"||p.display)?(Z(),ne(Ge,{key:0},[v<e.maxLen?(Z(),ne("tr",wue,[e.isCheckbox?(Z(),ne("td",{key:0,class:Ve(["checkbox",p.checked?"active":""])},[ot(sg,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ge,null,_t(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Ve([p.checked?"active":"",g.class?g.class:""])},[g.slot?et(d.$slots,g.slot,Yr({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",Eue,ge(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,_ue))),128))])):i.value&&(typeof p.display>"u"||p.display)?(Z(),ne("tr",Aue,[e.isCheckbox?(Z(),ne("td",{key:0,class:Ve(["checkbox",p.checked?"active":""])},[ot(sg,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ge,null,_t(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Ve([p.checked?"active":"",g.class?g.class:""])},[g.slot?et(d.$slots,g.slot,Yr({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",Oue,ge(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,Sue))),128))])):ye("",!0)],64)):typeof p.display>"u"||p.display?(Z(),ne("tr",kue,[e.isCheckbox?(Z(),ne("td",{key:0,class:Ve(["checkbox",p.checked?"active":""])},[ot(sg,{options:{label:"",value:p.id,checked:p.checked,disabled:p.disabled},margin:"0",onCheckbox:l},null,8,["options"])],2)):ye("",!0),(Z(!0),ne(Ge,null,_t(e.columns,(g,m)=>(Z(),ne("td",{key:m,title:p[g.index],class:Ve([p.checked?"active":"",g.class?g.class:""])},[g.slot?et(d.$slots,g.slot,Yr({key:0,ref_for:!0},p,{index:v}),void 0,!0):(Z(),ne("span",Cue,ge(typeof p[g.index]>"u"?"-":p[g.index]),1))],10,Tue))),128))])):ye("",!0)],64))),128)):e.options.length==0&&e.isSlot?et(d.$slots,"default",{key:1},void 0,!0):e.isBottom?ye("",!0):(Z(),ne("tr",Mue,[W("td",{class:"null",colspan:e.columns.length+(e.isCheckbox?1:0)},null,8,Pue)]))]),e.maxLen&&e.options.length-e.maxLen>0?(Z(),ne("tr",Iue,[W("td",{class:"wm-table_show",colspan:e.columns.length+(e.isCheckbox?1:0),style:{padding:"0"}},[W("span",{onClick:h[2]||(h[2]=p=>i.value=!i.value)},ge(i.value?"":"")+"( "+ge(e.options.length-e.maxLen)+" )",1)],8,Rue)])):ye("",!0),e.isBottom?(Z(),ne("tr",Due,[W("td",{colspan:e.columns.length+(e.isCheckbox?1:0),style:{padding:"0"}},[et(d.$slots,"bottom",{},void 0,!0)],8,Nue)])):ye("",!0)],4)],4))}}),ow=ma(Lue,[["__scopeId","data-v-0afe3748"]]),Fue=Ht({__name:"index",props:{show:{type:String,default:""},height:{type:String,default:"24px"},padding:{type:String,default:"0 8px"},effect:{type:String,default:"plain"},type:{type:String,default:"default"},radius:{type:String,default:"4px"},fontSize:{type:String,default:"12px"}},setup(e){return(t,n)=>(Z(),ne("div",{class:Ve(["wm-tag",e.effect+"_"+e.type]),style:Ue({lineHeight:e.height,padding:e.padding,borderRadius:e.radius,fontSize:e.fontSize})},[et(t.$slots,"default",{},void 0,!0)],6))}}),Bue=ma(Fue,[["__scopeId","data-v-d499a131"]]),$ue={class:"wm-goods_left scrollbar"},jue={class:"search"},zue=["title"],Uue={key:0,class:"ui ui_image"},Hue={class:"info"},Vue={class:"flex"},Wue={class:"value"},Gue={class:"flex"},Yue={class:"value"},Xue={class:"flex"},que={class:"value"},Kue={class:"flex"},Zue={class:"value"},Que={class:"flex"},Jue={class:"value"},efe={class:"flex"},tfe={class:"value"},nfe={class:"flex"},rfe={class:"value"},afe={class:"flex"},ife={class:"value"},ofe={class:"flex"},sfe={class:"value"},lfe={class:"flex"},cfe={class:"value"},ufe={class:"flex"},ffe={class:"value"},dfe={class:"flex"},hfe={class:"value"},pfe={class:"flex"},vfe={class:"value"},gfe={class:"flex"},mfe={class:"value"},yfe={class:"flex"},xfe={class:"value"},bfe={class:"flex"},wfe={class:"value"},_fe={class:"wm-goods_right"},Efe={class:"wm-goods_right_top flex"},Afe={class:"tabs flex"},Sfe=["onClick"],Ofe={key:0,class:"wm-goods_right_ct"},kfe={class:"box direct"},Tfe={class:"box_top flex"},Cfe={class:"total scrollbar"},Mfe={class:"total_info"},Pfe={class:"time flex"},Ife=["onClick"],Rfe={class:"box_ct scrollbar"},Dfe={class:"tCenter color2"},Nfe={class:"tCenter"},Lfe={class:"tCenter"},Ffe={class:"tCenter type"},Bfe={key:0,class:"type_warning"},$fe={key:1,class:"type_success"},jfe={key:2,class:"type_warning"},zfe={key:3,class:"type_success"},Ufe={key:4,class:"type_info"},Hfe={key:5,class:"type_danger"},Vfe={key:6,class:"type_primary"},Wfe={key:7,class:"type_info"},Gfe={class:"tRight"},Yfe={key:0},Xfe={key:1},qfe={key:1},Kfe={class:"tRight"},Zfe={key:0},Qfe={key:1},Jfe={key:1},ede={class:"tCenter"},tde={key:0},nde={key:1},rde={class:"tCenter"},ade={key:0,class:"c_danger"},ide={key:1,class:"c_success"},ode={class:"box stock"},sde={class:"box_ct scrollbar"},lde={class:"box logs"},cde={class:"box_ct scrollbar"},ude=["title"],fde={key:1,class:"wm-goods_img_body scrollbar"},dde={ref:"imgContent",class:"wm-goods_img_list flex_left"},hde={class:"img_body"},pde=["onClick","title"],vde={key:0,class:"ui ui_image"},gde=["onClick"],mde={class:"name",title:""},yde=["onClick"],xde={class:"img_body"},bde={class:"name"},wde={key:2,class:"wm-goods_right_ct wm-goods_photo_body"},_de={class:"photo_tools flex"},Ede={class:"photo_goods"},Ade={class:"photo_goods_code"},Sde={class:"photo_goods_info"},Ode={key:0},kde={key:1},Tde={class:"photo_goods_ct scrollbar"},Cde={class:"photo_goods_list"},Mde=["onClick"],Pde={key:0,class:"ui ui_image"},Ide=["onClick"],Rde={class:"sku_id nowrap"},Dde={class:"info nowrap"},Nde={class:"action"},Lde={key:0,class:"ui ui_more"},Fde=["onClick"],Bde={class:"photo_goods_action"},$de=Ht({__name:"Goods",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t,o=ls().state,s=Ee(""),l=Ee({active:"info",list:[{label:"",value:"info"},{label:"",value:"img"},{label:"",value:"photo"}]}),c=Ee([{label:"3",value:"3"},{label:"6",value:"6"},{label:"1",value:"12"},{label:"2",value:"24"},{label:"3",value:"36"}]),u=vE.priceEncode,f=Ee({times:"24",sku_id:""}),d=Ee({info:{},direct:{columns:[{title:"",index:"index",slot:"index",textAlign:"center",width:"40px"},{title:"ID",slot:"id",textAlign:"center",width:"80px"},{title:"",index:"ctime",slot:"ctime",textAlign:"center"},{title:"",index:"type",slot:"type",textAlign:"center"},{title:"",index:"warehouse"},{title:"()",index:"sale_price",slot:"sale_price",textAlign:"right"},{title:"(W)",index:"market_price",slot:"market_price",textAlign:"right"},{title:"",index:"num",textAlign:"center",class:"tCenter"},{title:"",index:"ratio",slot:"ratio",textAlign:"center",class:"tCenter"},{title:"",index:"brand",textAlign:"center",class:"tCenter"},{title:"",index:"owner",textAlign:"center",class:"tCenter"},{title:"",index:"status",slot:"status",textAlign:"center"},{title:"",index:"remark"}],total:{},data:[]},stock:{columns:[{title:"",index:"utime",textAlign:"center",class:"color1",width:"160px",minWidth:"160px"},{title:"ID",index:"wms_co_id",textAlign:"center",class:"tCenter",width:"120px",minWidth:"120px"},{title:"",index:"wms_co_name"},{title:"",index:"num",textAlign:"center",class:"tCenter"}],data:[]},logs:{columns:[{title:"",index:"ctime",textAlign:"center",class:"color1",width:"160px",minWidth:"160px"},{title:"",index:"operator",slot:"operator"},{title:"",index:"content"}],data:[]},imgs:{}}),h=Ee({screen:!1,camera:{horizontal:!0,vertical:!0},video:null,canvas:null,context:null,codeReader:null,isScan:!1,key:"",list:[],maxLen:100,isShow:!1,isTrue:!1,time:0,width:240,height:240}),p=Ee({show:!1,index:0,list:[]});Ut(()=>n.show,D=>{if(D){if(r.$refs.GoodsDirect.style.opacity="1",o.goods.sku_id&&y(o.goods.sku_id),ac.addEvent("resize",_),l.value.active=="img"&&(_(),ac.observer(r.$refs.imgContent,R=>{_()})),l.value.active=="photo"&&k(),o.goods.photo.id){g("photo"),h.value.list=[];for(let R of o.goods.photo.list)h.value.list.push(R)}}else ac.removeEvent("resize",_),N()}),Ut(()=>l.value.active,D=>{D=="photo"?k():N()});const v=()=>{if(!s.value)return dt.Toast(o.langs.sku_id);const D=ME.LTrim(s.value.toUpperCase(),"0");y(D),s.value=""},g=D=>{l.value.active=D,D=="img"&&An(_)},m=D=>{d.value.direct.total={},d.value.direct.data=[],d.value.stock.data=[],d.value.logs.data=[],f.value.times=D,x()},y=(D,R="")=>{d.value.info={},d.value.direct.total={},d.value.direct.data=[],d.value.stock.data=[],d.value.logs.data=[];const V=dt.Loading();Yn.Post("erp_goods/info?lang="+o.lang,{token:o.token,sku_id:D},H=>{V.clear();const{code:j,msg:K,data:re}=H.data;j==0?(d.value.info=re,f.value.sku_id=re.sku_id,d.value.imgs[re.sku_id]={loaded:"0%",state:re.img?1:0,img:re.img},x(),R==="photo"&&(M(D,{properties_value:re.properties_value,sale_price:re.sale_price,market_price:re.market_price}),P(D),z())):(dt.Toast(K),R==="photo"&&M(D,{loading:1}))})},x=()=>{if(!f.value.sku_id)return dt.Toast(o.langs.sku_id);const D=dt.Loading();Yn.Post("erp_goods/direct?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},R=>{D.clear();const{code:V,msg:H,data:j}=R.data;V==0?(d.value.direct.total=j.total,d.value.direct.data=j.list):dt.Toast(H)}),Yn.Post("erp_goods/stock?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id},R=>{const{code:V,msg:H,data:j}=R.data;V==0?d.value.stock.data=j:dt.Toast(H)}),Yn.Post("erp_goods/logs?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},R=>{const{code:V,msg:H,data:j}=R.data;V==0?d.value.logs.data=j:dt.Toast(H)})},b=()=>{const D=dt.Loading();Yn.Post("erp_goods/direct_export?lang="+o.lang,{token:o.token,sku_id:f.value.sku_id,time:f.value.times},R=>{D.clear();const{code:V,msg:H,data:j}=R.data;V==0?za.Down(j.path+j.filename,j.filename):dt.Toast(H)})},_=()=>{if(l.value.active!="img")return;let D=r.$refs.imgContent,R=parseFloat(ac.getPropertyValue(D,"width").replace("px",""));const V=Math.ceil(R/160)-(R<768?1:2);let H=D.children;for(let j of H)j.style.width="calc(100% / "+V+")"},E=()=>{za.Select({multiple:"multiple"},D=>{for(let R=0;R<D.length;R++){let V=D[R],K=V.name.split(".")[0];d.value.imgs[K]={loaded:"0%",state:0,img:""},A(K,V)}})},w=D=>{za.Select({},R=>{d.value.imgs[D].state=0,d.value.imgs[D].loaded="0%",A(D,R)})},A=(D,R)=>{za.FileToBase64(R,V=>{za.ImageCompress(V,{width:1024,height:1024,type:R.type},H=>{S(D,H,R.type)})})},S=(D,R,V,H="")=>{za.Base64ToFile(R,D+"."+za.GetTypeExt(V),j=>{let K=new FormData;K.append("token",o.token),K.append("sku_id",D),K.append("file",j),Yn.Post("erp_goods/up_img?lang="+o.lang,K,re=>{const{code:ae,data:U,msg:q}=re.data;if(ae===0){let J=U.oss_url+U.file+"?"+yn.Time();d.value.imgs[D]&&(d.value.imgs[D].img=J),d.value.info.sku_id===D&&(d.value.info.img=J),H==="photo"&&M(D,{img:J,loading:1})}else dt.Toast(q)},()=>{},{headers:{"Content-Type":"multipart/form-data;charset=utf-8"},onUploadProgress:re=>{let ae=re.loaded/re.total*100|0;ae<100?d.value.imgs[D].loaded=ae+"%":re.upload&&(d.value.imgs[D].state=1,d.value.imgs[D].loaded="100%")}})})},O=D=>{Yn.Post("erp_goods/remove_img?lang="+o.lang,{token:o.token,sku_id:D},R=>{const V=R.data;V.code==0?(d.value.imgs[D]&&(d.value.imgs[D].img=""),f.value.sku_id==D&&(d.value.info.img="")):dt.Toast(V.msg)})},k=()=>{An(()=>{if(h.value.video=document.getElementById("GoodsPhotoVideo"),h.value.canvas=document.getElementById("GoodsPhotoCanvas"),h.value.context=h.value.canvas.getContext("2d"),navigator.mediaDevices===void 0||navigator.mediaDevices.getUserMedia===void 0||!(navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia))return dt.Toast("!");navigator.mediaDevices.getUserMedia({video:{width:{ideal:3840},height:{ideal:2160},frameRate:{ideal:30}}}).then(R=>{h.value.video.srcObject=R,h.value.video.onloadedmetadata=()=>{},h.value.isTrue=!0}).catch(R=>(h.value.isTrue=!1,dt.Toast("!")))})},T=()=>{if(!h.value.key)return dt.Toast(o.langs.sku_id);const D=ME.LTrim(h.value.key.toUpperCase(),"0");C(D)?dt.Toast("[ "+D+" ]!"):h.value.list.unshift({id:"",sku_id:D,properties_value:"",loading:0,img:""}),h.value.key="",y(D,"photo")},C=D=>{for(let R of h.value.list)if(R.sku_id===D)return!0;return!1},M=(D,R={})=>{const V=h.value.list;for(let H in V)if(V[H].sku_id===D){for(let j in R)V[H][j]=R[j];break}},P=D=>{o.goods.photo.id&&Yn.Post("erp_purchase_in/goods_add?lang="+o.lang,{token:o.token,id:o.goods.photo.id,ctime:o.goods.photo.ctime,wms_co_id:o.goods.photo.wms_co_id,data:[{sku_id:D,num:1}]},R=>{const{code:V,msg:H,data:j,err:K}=R.data;V===0?M(D,{id:j[D].id}):dt.Toast(H)})},I=(D,R={})=>{R.img&&O(R.sku_id),h.value.list.splice(D,1),R.id&&Yn.Post("erp_purchase_in/goods_remove?lang="+o.lang,{token:o.token,id:o.goods.photo.id,ctime:o.goods.photo.ctime,wms_co_id:o.goods.photo.wms_co_id,data:[{id:R.id,sku_id:R.sku_id,num:1}]},V=>{const{code:H,msg:j}=V.data;H!==0&&dt.Toast(j)})},L=async(D=!0)=>{if(h.value.isScan=D,h.value.isScan){h.value.codeReader=new cce;const R=await h.value.codeReader.listVideoInputDevices(),V={video:{width:{ideal:300},height:{ideal:300},focusMode:"continuous"}};h.value.codeReader.decodeFromVideoDevice(R[0].deviceId,"GoodsScanVideo",(H,j)=>{H&&(C(H.text)?dt.Toast("[ "+H.text+" ]!"):h.value.list.unshift({id:"",sku_id:H.text,properties_value:"",loading:0,img:""}),y(H.text,"photo"),h.value.codeReader.reset(),setTimeout(()=>{L()},2e3))},V)}else h.value.codeReader.reset()},z=()=>{if(!f.value.sku_id)return dt.Toast(o.langs.sku_id);if(!h.value.isTrue)return dt.Toast("!");setTimeout(()=>{const D=h.value.video.videoWidth*3,R=h.value.video.videoHeight*3;h.value.canvas.width=D,h.value.canvas.height=R,h.value.camera.horizontal||(h.value.context.translate(D,0),h.value.context.scale(-1,1)),h.value.camera.vertical||(h.value.context.translate(0,R),h.value.context.scale(1,-1)),h.value.context.drawImage(h.value.video,0,0,D,R);const V=h.value.canvas.toDataURL("image/jpeg");za.ImageCompress(V,{width:1024,height:1024},H=>{M(f.value.sku_id,{img:H}),S(f.value.sku_id,H,"image/jpeg","photo")})},h.value.time)},N=()=>{h.value.isTrue&&(h.value.isTrue=!1,h.value.video.srcObject.getTracks()[0].stop(),h.value.codeReader&&(h.value.isScan=!1,h.value.codeReader.reset())),h.value.video=null,h.value.canvas=null,h.value.context=null},G=D=>{p.value.show=!0,p.value.index=0,p.value.list=D},Y=D=>{let R=0,V=[];const H=d.value.imgs;for(let j in H)H[j].img&&(V.push({label:j,value:H[j].img}),D==j&&(p.value.index=R),R++);p.value.show=!0,p.value.list=V},B=D=>{let R=0,V=[];const H=h.value.list;for(let j of H)j.img&&(V.push({label:j.sku_id,value:j.img,other:{:j.properties_value,:j.sale_price+"",:j.market_price+"W"}}),D===j.sku_id&&(p.value.index=R),R++);p.value.show=!0,p.value.list=V},F=()=>{a("update:show",!1),r.$refs.GoodsDirect.style.opacity="0",o.goods.photo.id&&(o.goods.photo.refresh=!0,o.goods.photo.id="",o.goods.photo.ctime="",o.goods.photo.wms_co_id="",o.goods.photo.list=[],h.value.list=[])};return(D,R)=>(Z(),ne("div",{ref:"GoodsDirect",class:"wm-goods_body flex",style:Ue({visibility:e.show?"inherit":"hidden"})},[W("div",$ue,[W("div",jue,[ot(ko,{value:s.value,"onUpdate:value":R[0]||(R[0]=V=>s.value=V),onKeyup:R[1]||(R[1]=hc(V=>v(),["enter"])),onIconClick:R[2]||(R[2]=V=>v()),placeholder:Q(o).langs.sku_id,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value","placeholder"])]),W("div",{class:"img",style:Ue({backgroundImage:d.value.info.img?"url("+d.value.info.img+"&x-oss-process=image/resize,h_260)":""}),onClick:R[4]||(R[4]=V=>d.value.info.img?G([{label:d.value.info.sku_id,value:d.value.info.img,other:{:d.value.info.properties_value,:d.value.info.sale_price+"",:d.value.info.market_price+"W"}}]):""),title:d.value.info.img?"":""},[d.value.info.img?ye("",!0):(Z(),ne("i",Uue)),d.value.info.img?(Z(),ne("div",{key:1,class:"close",onClick:R[3]||(R[3]=Ca(V=>O(d.value.info.sku_id),["stop"])),title:""},[...R[21]||(R[21]=[W("i",{class:"ui ui_close"},null,-1)])])):ye("",!0)],12,zue),W("ul",Hue,[W("li",Vue,[R[22]||(R[22]=W("span",{class:"name"},"",-1)),W("span",Wue,[W("b",null,ge(d.value.info.sku_id||"-"),1)])]),W("li",Gue,[R[23]||(R[23]=W("span",{class:"name"},"",-1)),W("span",Yue,ge(d.value.info.ctime||"-"),1)]),W("li",Xue,[R[24]||(R[24]=W("span",{class:"name"},"",-1)),W("span",que,ge(d.value.info.utime||"-"),1)]),W("li",Kue,[R[25]||(R[25]=W("span",{class:"name"},"",-1)),W("span",Zue,ge(d.value.info.name||"-"),1)]),W("li",Que,[R[26]||(R[26]=W("span",{class:"name"},"",-1)),W("span",Jue,ge(d.value.info.properties_value||"-"),1)]),W("li",efe,[R[27]||(R[27]=W("span",{class:"name"},"",-1)),W("span",tfe,ge(d.value.info.short_name||"-"),1)]),W("li",nfe,[R[28]||(R[28]=W("span",{class:"name"},"",-1)),W("span",rfe,ge(d.value.info.i_id||"-"),1)]),W("li",afe,[R[29]||(R[29]=W("span",{class:"name"},"()",-1)),W("b",ife,ge(d.value.info.sale_price!="0.00"?Q(u)(d.value.info.sale_price):"0.00"),1)]),W("li",ofe,[R[30]||(R[30]=W("span",{class:"name"},"(W)",-1)),W("b",sfe,ge(d.value.info.market_price!="0.00"?Q(u)(d.value.info.market_price):"0.00"),1)]),W("li",lfe,[R[31]||(R[31]=W("span",{class:"name"},"",-1)),W("span",cfe,ge(d.value.info.unit||""),1)]),W("li",ufe,[R[32]||(R[32]=W("span",{class:"name"},"",-1)),W("span",ffe,ge(d.value.info.weight||"-"),1)]),W("li",dfe,[R[33]||(R[33]=W("span",{class:"name"},"",-1)),W("b",hfe,ge(d.value.info.ratio||"-"),1)]),W("li",pfe,[R[34]||(R[34]=W("span",{class:"name"},"",-1)),W("span",vfe,ge(d.value.info.labels||"-"),1)]),W("li",gfe,[R[35]||(R[35]=W("span",{class:"name"},"",-1)),W("span",mfe,ge(d.value.info.category||"-"),1)]),W("li",yfe,[R[36]||(R[36]=W("span",{class:"name"},"",-1)),W("span",xfe,ge(d.value.info.brand||"-"),1)]),W("li",bfe,[R[37]||(R[37]=W("span",{class:"name"},"",-1)),W("span",wfe,ge(d.value.info.owner||"-"),1)])])]),W("div",_fe,[W("div",Efe,[W("ul",Afe,[(Z(!0),ne(Ge,null,_t(l.value.list,(V,H)=>(Z(),ne("li",{key:H,class:Ve(V.value==l.value.active?"active":""),onClick:j=>g(V.value)},ge(V.label),11,Sfe))),128))]),W("div",{class:"close",onClick:R[5]||(R[5]=V=>F())},[...R[38]||(R[38]=[W("i",{class:"ui ui_close"},null,-1)])])]),l.value.active=="info"?(Z(),ne("div",Ofe,[W("div",kfe,[W("div",Tfe,[R[41]||(R[41]=W("h2",null,"",-1)),W("div",Cfe,[W("div",Mfe,[Pt(ge(Q(o).langs.goods_stock)+": ",1),W("b",null,ge(d.value.direct.total.total||"0"),1),Pt(" "+ge(Q(o).langs.goods_num_in)+"( ",1),W("b",null,ge(d.value.direct.total.num_in||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_num_out)+"( ",1),W("b",null,ge(d.value.direct.total.num_out||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_allocate)+"( ",1),W("b",null,ge(d.value.direct.total.allocate||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_num_order)+"( ",1),W("b",null,ge(d.value.direct.total.num_order||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_num_refund)+"( ",1),W("b",null,ge(d.value.direct.total.num_refund||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_other_out)+"( ",1),W("b",null,ge(d.value.direct.total.other_out||"0"),1),Pt(" ) "+ge(Q(o).langs.goods_other_in)+"( ",1),W("b",null,ge(d.value.direct.total.other_in||"0"),1),R[39]||(R[39]=Pt(" ) ",-1))])]),W("ul",Pfe,[(Z(!0),ne(Ge,null,_t(c.value,(V,H)=>(Z(),ne("li",{key:H,class:Ve(V.value==f.value.times?"active":""),onClick:j=>m(V.value)},ge(V.label),11,Ife))),128)),R[40]||(R[40]=W("li",{class:"line"},"|",-1)),W("li",{onClick:R[6]||(R[6]=V=>b())},"")])]),W("div",Rfe,[ot(ow,{isCheckbox:!1,columns:d.value.direct.columns,options:d.value.direct.data},{index:it(V=>[W("div",Dfe,ge(d.value.direct.data.length-V.index),1)]),id:it(V=>[W("div",Nfe,ge(V.pid),1)]),ctime:it(V=>[W("div",Lfe,[ot(Bue,{size:"medium",title:": "+V.ctime+`
: `+V.utime+`
: `+V.pid+`
: `+V.creater+", : "+V.operator+`
: `+V.remark},{default:it(()=>[Pt(ge(V.ctime.substr(0,10)),1)]),_:2},1032,["title"])])]),type:it(V=>[W("div",Ffe,[V.type=="6"?(Z(),ne("span",Bfe,"")):V.type=="5"?(Z(),ne("span",$fe,"")):V.type=="4"?(Z(),ne("span",jfe,"")):V.type=="3"?(Z(),ne("span",zfe,"")):V.type=="2"?(Z(),ne("span",Ufe,"")):V.type=="1"?(Z(),ne("span",Hfe,"")):V.type=="0"?(Z(),ne("span",Vfe,"")):V.type=="-1"?(Z(),ne("span",Wfe,"")):ye("",!0)])]),sale_price:it(V=>[W("div",Gfe,[V.sale_price>0?(Z(),ne(Ge,{key:0},[V.ratio!="1.00"||V.ratio_sale!="1.00"?(Z(),ne("span",Yfe,[W("del",null,ge(Q(u)(V.sale_price)),1),R[42]||(R[42]=Pt()),W("b",null,ge(Q(u)(V.sale_price*(V.ratio<1?V.ratio:V.ratio_sale))),1)])):(Z(),ne("b",Xfe,ge(Q(u)(V.sale_price)),1))],64)):(Z(),ne("span",qfe,"-"))])]),market_price:it(V=>[W("div",Kfe,[V.market_price>0?(Z(),ne(Ge,{key:0},[V.ratio!="1.00"||V.ratio_market!="1.00"?(Z(),ne("span",Zfe,[W("del",null,ge(Q(u)(V.market_price)),1),R[43]||(R[43]=Pt()),W("b",null,ge(Q(u)(V.market_price*(V.ratio<1?V.ratio:V.ratio_market))),1)])):(Z(),ne("b",Qfe,ge(Q(u)(V.market_price)),1))],64)):(Z(),ne("span",Jfe,"-"))])]),ratio:it(V=>[W("div",ede,[V.ratio<1?(Z(),ne("b",tde,ge(V.ratio),1)):(Z(),ne("span",nde,ge(V.ratio),1))])]),status:it(V=>[W("div",rde,[V.status=="0"?(Z(),ne("span",ade,"")):V.status=="1"?(Z(),ne("span",ide,"")):ye("",!0)])]),_:1},8,["columns","options"])])]),W("div",ode,[R[44]||(R[44]=W("div",{class:"box_top flex"},[W("h2",null,"")],-1)),W("div",sde,[ot(ow,{isCheckbox:!1,columns:d.value.stock.columns,options:d.value.stock.data},null,8,["columns","options"])])]),W("div",lde,[R[45]||(R[45]=W("div",{class:"box_top flex"},[W("h2",null,"")],-1)),W("div",cde,[ot(ow,{isCheckbox:!1,columns:d.value.logs.columns,options:d.value.logs.data},{operator:it(V=>[W("div",{title:"ID: "+V.operator_id},ge(V.operator_name),9,ude)]),_:1},8,["columns","options"])])])])):l.value.active=="img"?(Z(),ne("div",fde,[W("ul",dde,[(Z(!0),ne(Ge,null,_t(d.value.imgs,(V,H)=>(Z(),ne("li",{key:H},[W("div",hde,[W("div",{class:"img",style:Ue({backgroundImage:V.img?"url("+V.img+"&x-oss-process=image/resize,h_160)":""}),onClick:j=>V.img?Y(H.toString()):w(H),title:V.img?"":""},[V.img?ye("",!0):(Z(),ne("i",vde)),V.state?ye("",!0):(Z(),ne("div",{key:1,class:"load",style:Ue({backgroundImage:"linear-gradient(to right, rgb(85, 153, 85), rgb(85, 153, 85) "+V.loaded+", rgba(0, 0, 0, 0.08) "+V.loaded+", rgba(0, 0, 0, 0.08) 100%)"})},null,4)),V.img?(Z(),ne("div",{key:2,class:"close",onClick:Ca(j=>O(H),["stop"]),title:""},[...R[46]||(R[46]=[W("i",{class:"ui ui_close"},null,-1)])],8,gde)):ye("",!0)],12,pde),W("div",mde,[W("b",{class:"an",onClick:j=>y(H)},ge(H),9,yde)])])]))),128)),W("li",null,[W("div",xde,[W("div",{class:"img",onClick:R[7]||(R[7]=V=>E()),title:": "},[...R[47]||(R[47]=[W("i",{class:"ui ui_upload"},null,-1)])]),W("div",bde,[W("span",{class:"an",onClick:R[8]||(R[8]=V=>E())},""),R[48]||(R[48]=W("span",null,"|",-1)),W("span",{class:"clear",onClick:R[9]||(R[9]=V=>d.value.imgs={})},"")])])])],512)])):l.value.active=="photo"?(Z(),ne("div",wde,[W("div",{class:"photo_button",onClick:R[10]||(R[10]=Ca(V=>z(),["stop"]))},""),W("div",_de,[W("span",{onClick:R[11]||(R[11]=V=>h.value.screen=!h.value.screen)},"/"),W("span",{onClick:R[12]||(R[12]=V=>h.value.camera.horizontal=!h.value.camera.horizontal)},""),W("span",{onClick:R[13]||(R[13]=V=>h.value.camera.vertical=!h.value.camera.vertical)},""),W("span",{onClick:R[14]||(R[14]=V=>L(!h.value.isScan))},"("+ge(h.value.isScan?"":"")+")",1)]),W("div",Ede,[W("div",Ade,[ot(ko,{value:h.value.key,"onUpdate:value":R[15]||(R[15]=V=>h.value.key=V),onKeyup:R[16]||(R[16]=hc(V=>T(),["enter"])),onIconClick:R[17]||(R[17]=V=>T()),placeholder:Q(o).langs.sku_id,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px"},null,8,["value","placeholder"])]),W("div",Sde,[Q(o).goods.photo.id?(Z(),ne("span",Ode,[R[49]||(R[49]=Pt("( ",-1)),W("b",null,ge(Q(o).goods.photo.id),1),R[50]||(R[50]=Pt(" )",-1))])):(Z(),ne("span",kde,"")),R[51]||(R[51]=Pt("  : ",-1)),W("b",null,ge(h.value.list.length),1)]),W("div",Tde,[W("ul",Cde,[(Z(!0),ne(Ge,null,_t(h.value.list,(V,H)=>(Z(),ne("li",{style:Ue({display:H<h.value.maxLen||h.value.isShow?"":"none"})},[W("div",{class:"img",style:Ue({backgroundImage:V.img?"url("+V.img+")":""}),onClick:j=>V.img?B(V.sku_id):""},[V.img?ye("",!0):(Z(),ne("i",Pde))],12,Mde),W("div",{class:"text",onClick:j=>y(V.sku_id)},[W("div",Rde,ge(V.sku_id),1),W("div",Dde,ge(V.properties_value||"Loading..."),1)],8,Ide),W("div",Nde,[V.loading===0?(Z(),ne("i",Lde)):(Z(),ne("span",{key:1,onClick:j=>I(H,V)},"",8,Fde))])],4))),256)),h.value.list.length>h.value.maxLen?(Z(),ne("li",{key:0,class:"show",onClick:R[18]||(R[18]=V=>h.value.isShow=!h.value.isShow)},[Pt(ge(h.value.isShow?"":"")+"(",1),W("b",null,ge(h.value.list.length-h.value.maxLen),1),R[52]||(R[52]=Pt(") ",-1))])):ye("",!0)])]),W("div",Bde,[W("span",{class:"an",onClick:R[19]||(R[19]=V=>h.value.list=[])},"")])]),h.value.isScan?(Z(),ne("div",{key:0,class:"barcode",style:Ue({width:h.value.width+"px",height:h.value.height+"px"})},[...R[53]||(R[53]=[W("video",{id:"GoodsScanVideo"},null,-1),W("canvas",{id:"GoodsScanCanvas",class:"center"},null,-1)])],4)):ye("",!0),W("video",{id:"GoodsPhotoVideo",style:Ue({width:h.value.screen?"100%":"",height:h.value.screen?"":"100%",transform:"translate(-50%, -50%) scale("+(h.value.camera.horizontal?1:-1)+", "+(h.value.camera.vertical?1:-1)+")"}),class:"center",autoplay:""},null,4),R[54]||(R[54]=W("canvas",{id:"GoodsPhotoCanvas",class:"center"},null,-1))])):ye("",!0)]),ot(n7,{show:p.value.show,"onUpdate:show":R[20]||(R[20]=V=>p.value.show=V),index:p.value.index,options:p.value.list},null,8,["show","index","options"])],4))}}),jde=ma($de,[["__scopeId","data-v-f19da564"]]);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var m7=1252,zde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],O3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},k3=function(e){zde.indexOf(e)!=-1&&(m7=O3[0]=e)};function Ude(){k3(1252)}var Ps=function(e){k3(e)};function y7(){Ps(1200),Ude()}function w8(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function Hde(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function x7(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var op=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?Hde(e.slice(2)):t==254&&n==255?x7(e.slice(2)):t==65279?e.slice(1):e},lg=function(t){return String.fromCharCode(t)},_8=function(t){return String.fromCharCode(t)},p1,eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E8(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),i=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,a=e.charCodeAt(c++),s=(r&15)<<2|a>>6,l=a&63,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=eu.charAt(i)+eu.charAt(o)+eu.charAt(s)+eu.charAt(l);return t}function Co(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=eu.indexOf(e.charAt(c++)),o=eu.indexOf(e.charAt(c++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=eu.indexOf(e.charAt(c++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),l=eu.indexOf(e.charAt(c++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var dn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),sd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function bu(e){return dn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function A8(e){return dn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ts=function(t){return dn?sd(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function ld(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function T3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return T3(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var qc=dn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:sd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Vde(e){for(var t=[],n=0,r=e.length+250,a=bu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=bu(65535),r=65530)}return t.push(a.slice(0,n)),qc(t)}var Ji=/\u0000/g,sp=/[\u0001-\u0006]/g;function o0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Is(e,t){var n=""+e;return n.length>=t?n:Wr("0",t-n.length)+n}function C3(e,t){var n=""+e;return n.length>=t?n:Wr(" ",t-n.length)+n}function sy(e,t){var n=""+e;return n.length>=t?n:n+Wr(" ",t-n.length)}function Wde(e,t){var n=""+Math.round(e);return n.length>=t?n:Wr("0",t-n.length)+n}function Gde(e,t){var n=""+e;return n.length>=t?n:Wr("0",t-n.length)+n}var S8=Math.pow(2,32);function kd(e,t){if(e>S8||e<-S8)return Wde(e,t);var n=Math.round(e);return Gde(n,t)}function ly(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var O8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Yde(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},k8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Xde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cy(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),s=f*o+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=i):(u=c,s=o)),!n)return[0,r*s,u];var d=Math.floor(r*s/u);return[d,r*s-d*u,u]}function bf(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=e0e(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var b7=new Date(1899,11,31,0,0,0),qde=b7.getTime(),Kde=new Date(1900,2,1,0,0,0);function w7(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=Kde&&(n+=1440*60*1e3),(n-(qde+(e.getTimezoneOffset()-b7.getTimezoneOffset())*6e4))/(1440*60*1e3)}function M3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Zde(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Qde(e){var t=e<0?12:11,n=M3(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function Jde(e){var t=M3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function v1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=Qde(e):t===10?n=e.toFixed(10).substr(0,12):n=Jde(e),M3(Zde(n.toUpperCase()))}function zf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):v1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return is(14,w7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function e0e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function t0e(e,t,n,r){var a="",i=0,o=0,s=n.y,l,c=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,c=2;break;default:l=s%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return sw[n.m-1][1];case 5:return sw[n.m-1][0];default:return sw[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return O8[n.q][0];default:return O8[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Is(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Is(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=s,c=1;break}var u=c>0?Is(l,c):"";return u}function tu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var _7=/%/g;function n0e(e,t,n){var r=t.replace(_7,""),a=t.length-r.length;return pc(e,r,n*Math.pow(10,2*a))+Wr("%",a)}function r0e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return pc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function E7(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+E7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var A7=/# (\?+)( ?)\/( ?)(\d+)/;function a0e(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?Wr(" ",e[1].length+1+e[4].length):C3(o,e[1].length)+e[2]+"/"+e[3]+Is(s,e[4].length))}function i0e(e,t,n){return n+(t===0?"":""+t)+Wr(" ",e[1].length+2+e[4].length)}var S7=/^#*0*\.([0#]+)/,O7=/\).*[0#]/,k7=/\(###\) ###\\?-####/;function Vi(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function T8(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function C8(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function o0e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function s0e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function $o(e,t,n){if(e.charCodeAt(0)===40&&!t.match(O7)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?$o("n",r,n):"("+$o("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return r0e(e,t,n);if(t.indexOf("%")!==-1)return n0e(e,t,n);if(t.indexOf("E")!==-1)return E7(t,n);if(t.charCodeAt(0)===36)return"$"+$o(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+kd(l,t.length);if(t.match(/^[#?]+$/))return a=kd(n,0),a==="0"&&(a=""),a.length>t.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(A7))return a0e(i,l,c);if(t.match(/^#+0+$/))return c+kd(l,t.length-t.indexOf("0"));if(i=t.match(S7))return a=T8(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Vi(i[1])).replace(/\.$/,"."+Vi(i[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+Wr("0",Vi(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+T8(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+tu(kd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+$o(e,t,-n):tu(""+(Math.floor(n)+o0e(n,i[1].length)))+"."+Is(C8(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return $o(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=o0($o(e,t.replace(/[\\-]/g,""),n)),o=0,o0(o0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(k7))return a=$o(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=cy(l,Math.pow(10,o)-1,!1),a=""+c,u=pc("n",i[1],s[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=sy(s[2],o),u.length<i[4].length&&(u=Vi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=cy(l,Math.pow(10,o)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?C3(s[1],o)+i[2]+"/"+i[3]+sy(s[2],o):Wr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=kd(n,0),t.length<=a.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Vi(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=C8(n,i[1].length),n<0?"-"+$o(e,t,-n):tu(s0e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Is(0,3-p.length):"")+p})+"."+Is(o,i[1].length);switch(t){case"###,##0.00":return $o(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=tu(kd(l,0));return h!=="0"?c+h:"";case"###,###.00":return $o(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return $o(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function l0e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return pc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function c0e(e,t,n){var r=t.replace(_7,""),a=t.length-r.length;return pc(e,r,n*Math.pow(10,2*a))+Wr("%",a)}function T7(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+T7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ol(e,t,n){if(e.charCodeAt(0)===40&&!t.match(O7)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ol("n",r,n):"("+ol("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return l0e(e,t,n);if(t.indexOf("%")!==-1)return c0e(e,t,n);if(t.indexOf("E")!==-1)return T7(t,n);if(t.charCodeAt(0)===36)return"$"+ol(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Is(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(A7))return i0e(i,l,c);if(t.match(/^#+0+$/))return c+Is(l,t.length-t.indexOf("0"));if(i=t.match(S7))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Vi(i[1])).replace(/\.$/,"."+Vi(i[1])),a=a.replace(/\.(\d*)$/,function(p,v){return"."+v+Wr("0",Vi(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+tu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ol(e,t,-n):tu(""+n)+"."+Wr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ol(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=o0(ol(e,t.replace(/[\\-]/g,""),n)),o=0,o0(o0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(k7))return a=ol(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=cy(l,Math.pow(10,o)-1,!1),a=""+c,u=pc("n",i[1],s[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=sy(s[2],o),u.length<i[4].length&&(u=Vi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=cy(l,Math.pow(10,o)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?C3(s[1],o)+i[2]+"/"+i[3]+sy(s[2],o):Wr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Vi(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ol(e,t,-n):tu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Is(0,3-p.length):"")+p})+"."+Is(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=tu(""+l);return h!=="0"?c+h:"";default:if(t.match(/\.[0#?]*$/))return ol(e,t.slice(0,t.lastIndexOf(".")),n)+Vi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function pc(e,t,n){return(n|0)===n?ol(e,t,n):$o(e,t,n)}function u0e(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var C7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uh(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":ly(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(C7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function f0e(e,t,n,r){for(var a=[],i="",o=0,s="",l="t",c,u,f,d="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!ly(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),p=h==="("||h===")"?h:"t";a[a.length]={t:p,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=bf(t,n,e.charAt(o+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=bf(t,n),c==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=d),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"":var v={t:s,v:s};if(c==null&&(c=bf(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",o+=5,d="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",o+=5,d="h"):(v.t="t",++o),c==null&&v.t==="T")return"";a[a.length]=v,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(C7)){if(c==null&&(c=bf(t,n),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",uh(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var g=0,m=0,y;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=d,l="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(m=Math.max(m,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=t0e(a[o].t.charCodeAt(0),a[o].v,c,m),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((s=a[b].t)==="?"||s==="D"||(s===" "||s==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;x+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=zf(t,n);break}var _="",E,w;if(x.length>0){x.charCodeAt(0)==40?(E=t<0&&x.charCodeAt(0)===45?-t:t,w=pc("n",x,E)):(E=t<0&&r>1?-t:t,w=pc("n",x,E),E<0&&a[0]&&a[0].t=="t"&&(w=w.substr(1),a[0].v="-"+a[0].v)),b=w.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var S=a.length;if(A===a.length&&w.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=w.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=w.substr(0,b+1),b=-1),a[o].t="t",S=o);b>=0&&S<a.length&&(a[S].v=w.substr(0,b+1)+a[S].v)}else if(A!==a.length&&w.indexOf("E")===-1){for(b=w.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(_=w.charAt(b--)+_);a[o].v=_,a[o].t="t",S=o}for(b>=0&&S<a.length&&(a[S].v=w.substr(0,b+1)+a[S].v),b=w.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,u);u<a[o].v.length;++u)b<w.length&&(_+=w.charAt(b++));a[o].v=_,a[o].t="t",S=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(E=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=pc(a[o].t,a[o].v,E),a[o].t="t");var O="";for(o=0;o!==a.length;++o)a[o]!=null&&(O+=a[o].v);return O}var M8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function P8(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function d0e(e,t){var n=u0e(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(M8),s=n[1].match(M8);return P8(t,o)?[r,n[0]]:P8(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function is(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Gt)[e],r==null&&(r=n.table&&n.table[k8[e]]||Gt[k8[e]]),r==null&&(r=Xde[e]||"General");break}if(ly(r,0))return zf(t,n);t instanceof Date&&(t=w7(t,n.date1904));var a=d0e(r,t);if(ly(a[1]))return zf(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return f0e(a[1],t,n,a[0])}function Rf(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Gt[n]==null){t<0&&(t=n);continue}if(Gt[n]==e){t=n;break}}t<0&&(t=391)}return Gt[t]=e,t}function M7(){Gt=Yde()}var h0e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},P7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function p0e(e){var t=typeof e=="number"?Gt[e]:e;return t=t.replace(P7,"(\\d+)"),new RegExp("^"+t+"$")}function v0e(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(P7)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":i=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?s=h:a=h;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?c:r==-1&&a==-1&&i==-1?u:c+"T"+u}var g0e=(function(){var e={};e.version="1.2.0";function t(){for(var w=0,A=new Array(256),S=0;S!=256;++S)w=S,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,A[S]=w;return typeof Int32Array<"u"?new Int32Array(A):A}var n=t();function r(w){var A=0,S=0,O=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)k[O]=w[O];for(O=0;O!=256;++O)for(S=w[O],A=256+O;A<4096;A+=256)S=k[A]=S>>>8^w[S&255];var T=[];for(O=1;O!=16;++O)T[O-1]=typeof Int32Array<"u"?k.subarray(O*256,O*256+256):k.slice(O*256,O*256+256);return T}var a=r(n),i=a[0],o=a[1],s=a[2],l=a[3],c=a[4],u=a[5],f=a[6],d=a[7],h=a[8],p=a[9],v=a[10],g=a[11],m=a[12],y=a[13],x=a[14];function b(w,A){for(var S=A^-1,O=0,k=w.length;O<k;)S=S>>>8^n[(S^w.charCodeAt(O++))&255];return~S}function _(w,A){for(var S=A^-1,O=w.length-15,k=0;k<O;)S=x[w[k++]^S&255]^y[w[k++]^S>>8&255]^m[w[k++]^S>>16&255]^g[w[k++]^S>>>24]^v[w[k++]]^p[w[k++]]^h[w[k++]]^d[w[k++]]^f[w[k++]]^u[w[k++]]^c[w[k++]]^l[w[k++]]^s[w[k++]]^o[w[k++]]^i[w[k++]]^n[w[k++]];for(O+=15;k<O;)S=S>>>8^n[(S^w[k++])&255];return~S}function E(w,A){for(var S=A^-1,O=0,k=w.length,T=0,C=0;O<k;)T=w.charCodeAt(O++),T<128?S=S>>>8^n[(S^T)&255]:T<2048?(S=S>>>8^n[(S^(192|T>>6&31))&255],S=S>>>8^n[(S^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,C=w.charCodeAt(O++)&1023,S=S>>>8^n[(S^(240|T>>8&7))&255],S=S>>>8^n[(S^(128|T>>2&63))&255],S=S>>>8^n[(S^(128|C>>6&15|(T&3)<<4))&255],S=S>>>8^n[(S^(128|C&63))&255]):(S=S>>>8^n[(S^(224|T>>12&15))&255],S=S>>>8^n[(S^(128|T>>6&63))&255],S=S>>>8^n[(S^(128|T&63))&255]);return~S}return e.table=n,e.bstr=b,e.buf=_,e.str=E,e})(),vn=(function(){var t={};t.version="1.2.1";function n(ee,fe){for(var ie=ee.split("/"),se=fe.split("/"),de=0,pe=0,Oe=Math.min(ie.length,se.length);de<Oe;++de){if(pe=ie[de].length-se[de].length)return pe;if(ie[de]!=se[de])return ie[de]<se[de]?-1:1}return ie.length-se.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var fe=ee.lastIndexOf("/");return fe===-1?ee:ee.slice(0,fe+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var fe=ee.lastIndexOf("/");return fe===-1?ee:ee.slice(fe+1)}function i(ee,fe){typeof fe=="string"&&(fe=new Date(fe));var ie=fe.getHours();ie=ie<<6|fe.getMinutes(),ie=ie<<5|fe.getSeconds()>>>1,ee.write_shift(2,ie);var se=fe.getFullYear()-1980;se=se<<4|fe.getMonth()+1,se=se<<5|fe.getDate(),ee.write_shift(2,se)}function o(ee){var fe=ee.read_shift(2)&65535,ie=ee.read_shift(2)&65535,se=new Date,de=ie&31;ie>>>=5;var pe=ie&15;ie>>>=4,se.setMilliseconds(0),se.setFullYear(ie+1980),se.setMonth(pe-1),se.setDate(de);var Oe=fe&31;fe>>>=5;var Re=fe&63;return fe>>>=6,se.setHours(fe),se.setMinutes(Re),se.setSeconds(Oe<<1),se}function s(ee){ei(ee,0);for(var fe={},ie=0;ee.l<=ee.length-4;){var se=ee.read_shift(2),de=ee.read_shift(2),pe=ee.l+de,Oe={};switch(se){case 21589:ie=ee.read_shift(1),ie&1&&(Oe.mtime=ee.read_shift(4)),de>5&&(ie&2&&(Oe.atime=ee.read_shift(4)),ie&4&&(Oe.ctime=ee.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}ee.l=pe,fe[se]=Oe}return fe}var l;function c(){return l||(l={})}function u(ee,fe){if(ee[0]==80&&ee[1]==75)return yt(ee,fe);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ah(ee,fe);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ie=3,se=512,de=0,pe=0,Oe=0,Re=0,Ae=0,ke=[],Te=ee.slice(0,512);ei(Te,0);var qe=f(Te);switch(ie=qe[0],ie){case 3:se=512;break;case 4:se=4096;break;case 0:if(qe[1]==0)return yt(ee,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}se!==512&&(Te=ee.slice(0,se),ei(Te,28));var rt=ee.slice(0,se);d(Te,ie);var ft=Te.read_shift(4,"i");if(ie===3&&ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ft);Te.l+=4,Oe=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Re=Te.read_shift(4,"i"),de=Te.read_shift(4,"i"),Ae=Te.read_shift(4,"i"),pe=Te.read_shift(4,"i");for(var Qe=-1,st=0;st<109&&(Qe=Te.read_shift(4,"i"),!(Qe<0));++st)ke[st]=Qe;var jt=h(ee,se);g(Ae,pe,jt,se,ke);var Mr=y(jt,Oe,ke,se);Mr[Oe].name="!Directory",de>0&&Re!==C&&(Mr[Re].name="!MiniFAT"),Mr[ke[0]].name="!FAT",Mr.fat_addrs=ke,Mr.ssz=se;var Pr={},ui=[],Sh=[],Oh=[];x(Oe,Mr,jt,ui,de,Pr,Sh,Re),p(Sh,Oh,ui),ui.shift();var kh={FileIndex:Sh,FullPaths:Oh};return fe&&fe.raw&&(kh.raw={header:rt,sectors:jt}),kh}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(M,"Header Signature: "),ee.l+=16;var fe=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),fe]}function d(ee,fe){var ie=9;switch(ee.l+=2,ie=ee.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function h(ee,fe){for(var ie=Math.ceil(ee.length/fe)-1,se=[],de=1;de<ie;++de)se[de-1]=ee.slice(de*fe,(de+1)*fe);return se[ie-1]=ee.slice(ie*fe),se}function p(ee,fe,ie){for(var se=0,de=0,pe=0,Oe=0,Re=0,Ae=ie.length,ke=[],Te=[];se<Ae;++se)ke[se]=Te[se]=se,fe[se]=ie[se];for(;Re<Te.length;++Re)se=Te[Re],de=ee[se].L,pe=ee[se].R,Oe=ee[se].C,ke[se]===se&&(de!==-1&&ke[de]!==de&&(ke[se]=ke[de]),pe!==-1&&ke[pe]!==pe&&(ke[se]=ke[pe])),Oe!==-1&&(ke[Oe]=se),de!==-1&&se!=ke[se]&&(ke[de]=ke[se],Te.lastIndexOf(de)<Re&&Te.push(de)),pe!==-1&&se!=ke[se]&&(ke[pe]=ke[se],Te.lastIndexOf(pe)<Re&&Te.push(pe));for(se=1;se<Ae;++se)ke[se]===se&&(pe!==-1&&ke[pe]!==pe?ke[se]=ke[pe]:de!==-1&&ke[de]!==de&&(ke[se]=ke[de]));for(se=1;se<Ae;++se)if(ee[se].type!==0){if(Re=se,Re!=ke[Re])do Re=ke[Re],fe[se]=fe[Re]+"/"+fe[se];while(Re!==0&&ke[Re]!==-1&&Re!=ke[Re]);ke[se]=-1}for(fe[0]+="/",se=1;se<Ae;++se)ee[se].type!==2&&(fe[se]+="/")}function v(ee,fe,ie){for(var se=ee.start,de=ee.size,pe=[],Oe=se;ie&&de>0&&Oe>=0;)pe.push(fe.slice(Oe*T,Oe*T+T)),de-=T,Oe=hf(ie,Oe*4);return pe.length===0?Ea(0):qc(pe).slice(0,ee.size)}function g(ee,fe,ie,se,de){var pe=C;if(ee===C){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Oe=ie[ee],Re=(se>>>2)-1;if(!Oe)return;for(var Ae=0;Ae<Re&&(pe=hf(Oe,Ae*4))!==C;++Ae)de.push(pe);g(hf(Oe,se-4),fe-1,ie,se,de)}}function m(ee,fe,ie,se,de){var pe=[],Oe=[];de||(de=[]);var Re=se-1,Ae=0,ke=0;for(Ae=fe;Ae>=0;){de[Ae]=!0,pe[pe.length]=Ae,Oe.push(ee[Ae]);var Te=ie[Math.floor(Ae*4/se)];if(ke=Ae*4&Re,se<4+ke)throw new Error("FAT boundary crossed: "+Ae+" 4 "+se);if(!ee[Te])break;Ae=hf(ee[Te],ke)}return{nodes:pe,data:z8([Oe])}}function y(ee,fe,ie,se){var de=ee.length,pe=[],Oe=[],Re=[],Ae=[],ke=se-1,Te=0,qe=0,rt=0,ft=0;for(Te=0;Te<de;++Te)if(Re=[],rt=Te+fe,rt>=de&&(rt-=de),!Oe[rt]){Ae=[];var Qe=[];for(qe=rt;qe>=0;){Qe[qe]=!0,Oe[qe]=!0,Re[Re.length]=qe,Ae.push(ee[qe]);var st=ie[Math.floor(qe*4/se)];if(ft=qe*4&ke,se<4+ft)throw new Error("FAT boundary crossed: "+qe+" 4 "+se);if(!ee[st]||(qe=hf(ee[st],ft),Qe[qe]))break}pe[rt]={nodes:Re,data:z8([Ae])}}return pe}function x(ee,fe,ie,se,de,pe,Oe,Re){for(var Ae=0,ke=se.length?2:0,Te=fe[ee].data,qe=0,rt=0,ft;qe<Te.length;qe+=128){var Qe=Te.slice(qe,qe+128);ei(Qe,64),rt=Qe.read_shift(2),ft=N3(Qe,0,rt-ke),se.push(ft);var st={name:ft,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},jt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);jt!==0&&(st.ct=b(Qe,Qe.l-8));var Mr=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Mr!==0&&(st.mt=b(Qe,Qe.l-8)),st.start=Qe.read_shift(4,"i"),st.size=Qe.read_shift(4,"i"),st.size<0&&st.start<0&&(st.size=st.type=0,st.start=C,st.name=""),st.type===5?(Ae=st.start,de>0&&Ae!==C&&(fe[Ae].name="!StreamData")):st.size>=4096?(st.storage="fat",fe[st.start]===void 0&&(fe[st.start]=m(ie,st.start,fe.fat_addrs,fe.ssz)),fe[st.start].name=st.name,st.content=fe[st.start].data.slice(0,st.size)):(st.storage="minifat",st.size<0?st.size=0:Ae!==C&&st.start!==C&&fe[Ae]&&(st.content=v(st,fe[Ae].data,(fe[Re]||{}).data))),st.content&&ei(st.content,0),pe[ft]=st,Oe.push(st)}}function b(ee,fe){return new Date((Eo(ee,fe+4)/1e7*Math.pow(2,32)+Eo(ee,fe)/1e7-11644473600)*1e3)}function _(ee,fe){return c(),u(l.readFileSync(ee),fe)}function E(ee,fe){var ie=fe&&fe.type;switch(ie||dn&&Buffer.isBuffer(ee)&&(ie="buffer"),ie||"base64"){case"file":return _(ee,fe);case"base64":return u(Ts(Co(ee)),fe);case"binary":return u(Ts(ee),fe)}return u(ee,fe)}function w(ee,fe){var ie=fe||{},se=ie.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=se+"/",ee.FileIndex[0]={name:se,type:5}),ie.CLSID&&(ee.FileIndex[0].clsid=ie.CLSID),A(ee)}function A(ee){var fe="Sh33tJ5";if(!vn.find(ee,"/"+fe)){var ie=Ea(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,ee.FileIndex.push({name:fe,type:2,content:ie,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+fe),S(ee)}}function S(ee,fe){w(ee);for(var ie=!1,se=!1,de=ee.FullPaths.length-1;de>=0;--de){var pe=ee.FileIndex[de];switch(pe.type){case 0:se?ie=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(pe.R*pe.L*pe.C)&&(ie=!0),pe.R>-1&&pe.L>-1&&pe.R==pe.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!fe)){var Oe=new Date(1987,1,19),Re=0,Ae=Object.create?Object.create(null):{},ke=[];for(de=0;de<ee.FullPaths.length;++de)Ae[ee.FullPaths[de]]=!0,ee.FileIndex[de].type!==0&&ke.push([ee.FullPaths[de],ee.FileIndex[de]]);for(de=0;de<ke.length;++de){var Te=r(ke[de][0]);se=Ae[Te],se||(ke.push([Te,{name:a(Te).replace("/",""),type:1,clsid:I,ct:Oe,mt:Oe,content:null}]),Ae[Te]=!0)}for(ke.sort(function(ft,Qe){return n(ft[0],Qe[0])}),ee.FullPaths=[],ee.FileIndex=[],de=0;de<ke.length;++de)ee.FullPaths[de]=ke[de][0],ee.FileIndex[de]=ke[de][1];for(de=0;de<ke.length;++de){var qe=ee.FileIndex[de],rt=ee.FullPaths[de];if(qe.name=a(rt).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||I,de===0)qe.C=ke.length>1?1:-1,qe.size=0,qe.type=5;else if(rt.slice(-1)=="/"){for(Re=de+1;Re<ke.length&&r(ee.FullPaths[Re])!=rt;++Re);for(qe.C=Re>=ke.length?-1:Re,Re=de+1;Re<ke.length&&r(ee.FullPaths[Re])!=r(rt);++Re);qe.R=Re>=ke.length?-1:Re,qe.type=1}else r(ee.FullPaths[de+1]||"")==r(rt)&&(qe.R=de+1),qe.type=2}}}function O(ee,fe){var ie=fe||{};if(ie.fileType=="mad")return hb(ee,ie);switch(S(ee),ie.fileType){case"zip":return $e(ee,ie)}var se=(function(ft){for(var Qe=0,st=0,jt=0;jt<ft.FileIndex.length;++jt){var Mr=ft.FileIndex[jt];if(Mr.content){var Pr=Mr.content.length;Pr>0&&(Pr<4096?Qe+=Pr+63>>6:st+=Pr+511>>9)}}for(var ui=ft.FullPaths.length+3>>2,Sh=Qe+7>>3,Oh=Qe+127>>7,kh=Sh+st+ui+Oh,Wu=kh+127>>7,vb=Wu<=109?0:Math.ceil((Wu-109)/127);kh+Wu+vb+127>>7>Wu;)vb=++Wu<=109?0:Math.ceil((Wu-109)/127);var Wl=[1,vb,Wu,Oh,ui,st,Qe,0];return ft.FileIndex[0].size=Qe<<6,Wl[7]=(ft.FileIndex[0].start=Wl[0]+Wl[1]+Wl[2]+Wl[3]+Wl[4]+Wl[5])+(Wl[6]+7>>3),Wl})(ee),de=Ea(se[7]<<9),pe=0,Oe=0;{for(pe=0;pe<8;++pe)de.write_shift(1,P[pe]);for(pe=0;pe<8;++pe)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),pe=0;pe<3;++pe)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,se[2]),de.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:C),de.write_shift(4,se[3]),de.write_shift(-4,se[1]?se[0]-1:C),de.write_shift(4,se[1]),pe=0;pe<109;++pe)de.write_shift(-4,pe<se[2]?se[1]+pe:-1)}if(se[1])for(Oe=0;Oe<se[1];++Oe){for(;pe<236+Oe*127;++pe)de.write_shift(-4,pe<se[2]?se[1]+pe:-1);de.write_shift(-4,Oe===se[1]-1?C:Oe+1)}var Re=function(ft){for(Oe+=ft;pe<Oe-1;++pe)de.write_shift(-4,pe+1);ft&&(++pe,de.write_shift(-4,C))};for(Oe=pe=0,Oe+=se[1];pe<Oe;++pe)de.write_shift(-4,L.DIFSECT);for(Oe+=se[2];pe<Oe;++pe)de.write_shift(-4,L.FATSECT);Re(se[3]),Re(se[4]);for(var Ae=0,ke=0,Te=ee.FileIndex[0];Ae<ee.FileIndex.length;++Ae)Te=ee.FileIndex[Ae],Te.content&&(ke=Te.content.length,!(ke<4096)&&(Te.start=Oe,Re(ke+511>>9)));for(Re(se[6]+7>>3);de.l&511;)de.write_shift(-4,L.ENDOFCHAIN);for(Oe=pe=0,Ae=0;Ae<ee.FileIndex.length;++Ae)Te=ee.FileIndex[Ae],Te.content&&(ke=Te.content.length,!(!ke||ke>=4096)&&(Te.start=Oe,Re(ke+63>>6)));for(;de.l&511;)de.write_shift(-4,L.ENDOFCHAIN);for(pe=0;pe<se[4]<<2;++pe){var qe=ee.FullPaths[pe];if(!qe||qe.length===0){for(Ae=0;Ae<17;++Ae)de.write_shift(4,0);for(Ae=0;Ae<3;++Ae)de.write_shift(4,-1);for(Ae=0;Ae<12;++Ae)de.write_shift(4,0);continue}Te=ee.FileIndex[pe],pe===0&&(Te.start=Te.size?Te.start-1:C);var rt=pe===0&&ie.root||Te.name;if(ke=2*(rt.length+1),de.write_shift(64,rt,"utf16le"),de.write_shift(2,ke),de.write_shift(1,Te.type),de.write_shift(1,Te.color),de.write_shift(-4,Te.L),de.write_shift(-4,Te.R),de.write_shift(-4,Te.C),Te.clsid)de.write_shift(16,Te.clsid,"hex");else for(Ae=0;Ae<4;++Ae)de.write_shift(4,0);de.write_shift(4,Te.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,Te.start),de.write_shift(4,Te.size),de.write_shift(4,0)}for(pe=1;pe<ee.FileIndex.length;++pe)if(Te=ee.FileIndex[pe],Te.size>=4096)if(de.l=Te.start+1<<9,dn&&Buffer.isBuffer(Te.content))Te.content.copy(de,de.l,0,Te.size),de.l+=Te.size+511&-512;else{for(Ae=0;Ae<Te.size;++Ae)de.write_shift(1,Te.content[Ae]);for(;Ae&511;++Ae)de.write_shift(1,0)}for(pe=1;pe<ee.FileIndex.length;++pe)if(Te=ee.FileIndex[pe],Te.size>0&&Te.size<4096)if(dn&&Buffer.isBuffer(Te.content))Te.content.copy(de,de.l,0,Te.size),de.l+=Te.size+63&-64;else{for(Ae=0;Ae<Te.size;++Ae)de.write_shift(1,Te.content[Ae]);for(;Ae&63;++Ae)de.write_shift(1,0)}if(dn)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function k(ee,fe){var ie=ee.FullPaths.map(function(Ae){return Ae.toUpperCase()}),se=ie.map(function(Ae){var ke=Ae.split("/");return ke[ke.length-(Ae.slice(-1)=="/"?2:1)]}),de=!1;fe.charCodeAt(0)===47?(de=!0,fe=ie[0].slice(0,-1)+fe):de=fe.indexOf("/")!==-1;var pe=fe.toUpperCase(),Oe=de===!0?ie.indexOf(pe):se.indexOf(pe);if(Oe!==-1)return ee.FileIndex[Oe];var Re=!pe.match(sp);for(pe=pe.replace(Ji,""),Re&&(pe=pe.replace(sp,"!")),Oe=0;Oe<ie.length;++Oe)if((Re?ie[Oe].replace(sp,"!"):ie[Oe]).replace(Ji,"")==pe||(Re?se[Oe].replace(sp,"!"):se[Oe]).replace(Ji,"")==pe)return ee.FileIndex[Oe];return null}var T=64,C=-2,M="d0cf11e0a1b11ae1",P=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:C,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(ee,fe,ie){c();var se=O(ee,ie);l.writeFileSync(fe,se)}function N(ee){for(var fe=new Array(ee.length),ie=0;ie<ee.length;++ie)fe[ie]=String.fromCharCode(ee[ie]);return fe.join("")}function G(ee,fe){var ie=O(ee,fe);switch(fe&&fe.type||"buffer"){case"file":return c(),l.writeFileSync(fe.filename,ie),ie;case"binary":return typeof ie=="string"?ie:N(ie);case"base64":return E8(typeof ie=="string"?ie:N(ie));case"buffer":if(dn)return Buffer.isBuffer(ie)?ie:sd(ie);case"array":return typeof ie=="string"?Ts(ie):ie}return ie}var Y;function B(ee){try{var fe=ee.InflateRaw,ie=new fe;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)Y=ee;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function F(ee,fe){if(!Y)return we(ee,fe);var ie=Y.InflateRaw,se=new ie,de=se._processChunk(ee.slice(ee.l),se._finishFlushFlag);return ee.l+=se.bytesRead,de}function D(ee){return Y?Y.deflateRawSync(ee):Ye(ee)}var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function j(ee){var fe=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var K=typeof Uint8Array<"u",re=K?new Uint8Array(256):[],ae=0;ae<256;++ae)re[ae]=j(ae);function U(ee,fe){var ie=re[ee&255];return fe<=8?ie>>>8-fe:(ie=ie<<8|re[ee>>8&255],fe<=16?ie>>>16-fe:(ie=ie<<8|re[ee>>16&255],ie>>>24-fe))}function q(ee,fe){var ie=fe&7,se=fe>>>3;return(ee[se]|(ie<=6?0:ee[se+1]<<8))>>>ie&3}function J(ee,fe){var ie=fe&7,se=fe>>>3;return(ee[se]|(ie<=5?0:ee[se+1]<<8))>>>ie&7}function X(ee,fe){var ie=fe&7,se=fe>>>3;return(ee[se]|(ie<=4?0:ee[se+1]<<8))>>>ie&15}function ce(ee,fe){var ie=fe&7,se=fe>>>3;return(ee[se]|(ie<=3?0:ee[se+1]<<8))>>>ie&31}function te(ee,fe){var ie=fe&7,se=fe>>>3;return(ee[se]|(ie<=1?0:ee[se+1]<<8))>>>ie&127}function he(ee,fe,ie){var se=fe&7,de=fe>>>3,pe=(1<<ie)-1,Oe=ee[de]>>>se;return ie<8-se||(Oe|=ee[de+1]<<8-se,ie<16-se)||(Oe|=ee[de+2]<<16-se,ie<24-se)||(Oe|=ee[de+3]<<24-se),Oe&pe}function me(ee,fe,ie){var se=fe&7,de=fe>>>3;return se<=5?ee[de]|=(ie&7)<<se:(ee[de]|=ie<<se&255,ee[de+1]=(ie&7)>>8-se),fe+3}function xe(ee,fe,ie){var se=fe&7,de=fe>>>3;return ie=(ie&1)<<se,ee[de]|=ie,fe+1}function be(ee,fe,ie){var se=fe&7,de=fe>>>3;return ie<<=se,ee[de]|=ie&255,ie>>>=8,ee[de+1]=ie,fe+8}function De(ee,fe,ie){var se=fe&7,de=fe>>>3;return ie<<=se,ee[de]|=ie&255,ie>>>=8,ee[de+1]=ie&255,ee[de+2]=ie>>>8,fe+16}function ue(ee,fe){var ie=ee.length,se=2*ie>fe?2*ie:fe+5,de=0;if(ie>=fe)return ee;if(dn){var pe=A8(se);if(ee.copy)ee.copy(pe);else for(;de<ee.length;++de)pe[de]=ee[de];return pe}else if(K){var Oe=new Uint8Array(se);if(Oe.set)Oe.set(ee);else for(;de<ie;++de)Oe[de]=ee[de];return Oe}return ee.length=se,ee}function ve(ee){for(var fe=new Array(ee),ie=0;ie<ee;++ie)fe[ie]=0;return fe}function ze(ee,fe,ie){var se=1,de=0,pe=0,Oe=0,Re=0,Ae=ee.length,ke=K?new Uint16Array(32):ve(32);for(pe=0;pe<32;++pe)ke[pe]=0;for(pe=Ae;pe<ie;++pe)ee[pe]=0;Ae=ee.length;var Te=K?new Uint16Array(Ae):ve(Ae);for(pe=0;pe<Ae;++pe)ke[de=ee[pe]]++,se<de&&(se=de),Te[pe]=0;for(ke[0]=0,pe=1;pe<=se;++pe)ke[pe+16]=Re=Re+ke[pe-1]<<1;for(pe=0;pe<Ae;++pe)Re=ee[pe],Re!=0&&(Te[pe]=ke[Re+16]++);var qe=0;for(pe=0;pe<Ae;++pe)if(qe=ee[pe],qe!=0)for(Re=U(Te[pe],se)>>se-qe,Oe=(1<<se+4-qe)-1;Oe>=0;--Oe)fe[Re|Oe<<qe]=qe&15|pe<<4;return se}var We=K?new Uint16Array(512):ve(512),lt=K?new Uint16Array(32):ve(32);if(!K){for(var Pe=0;Pe<512;++Pe)We[Pe]=0;for(Pe=0;Pe<32;++Pe)lt[Pe]=0}(function(){for(var ee=[],fe=0;fe<32;fe++)ee.push(5);ze(ee,lt,32);var ie=[];for(fe=0;fe<=143;fe++)ie.push(8);for(;fe<=255;fe++)ie.push(9);for(;fe<=279;fe++)ie.push(7);for(;fe<=287;fe++)ie.push(8);ze(ie,We,288)})();var ct=(function(){for(var fe=K?new Uint8Array(32768):[],ie=0,se=0;ie<H.length-1;++ie)for(;se<H[ie+1];++se)fe[se]=ie;for(;se<32768;++se)fe[se]=29;var de=K?new Uint8Array(259):[];for(ie=0,se=0;ie<V.length-1;++ie)for(;se<V[ie+1];++se)de[se]=ie;function pe(Re,Ae){for(var ke=0;ke<Re.length;){var Te=Math.min(65535,Re.length-ke),qe=ke+Te==Re.length;for(Ae.write_shift(1,+qe),Ae.write_shift(2,Te),Ae.write_shift(2,~Te&65535);Te-- >0;)Ae[Ae.l++]=Re[ke++]}return Ae.l}function Oe(Re,Ae){for(var ke=0,Te=0,qe=K?new Uint16Array(32768):[];Te<Re.length;){var rt=Math.min(65535,Re.length-Te);if(rt<10){for(ke=me(Ae,ke,+(Te+rt==Re.length)),ke&7&&(ke+=8-(ke&7)),Ae.l=ke/8|0,Ae.write_shift(2,rt),Ae.write_shift(2,~rt&65535);rt-- >0;)Ae[Ae.l++]=Re[Te++];ke=Ae.l*8;continue}ke=me(Ae,ke,+(Te+rt==Re.length)+2);for(var ft=0;rt-- >0;){var Qe=Re[Te];ft=(ft<<5^Qe)&32767;var st=-1,jt=0;if((st=qe[ft])&&(st|=Te&-32768,st>Te&&(st-=32768),st<Te))for(;Re[st+jt]==Re[Te+jt]&&jt<250;)++jt;if(jt>2){Qe=de[jt],Qe<=22?ke=be(Ae,ke,re[Qe+1]>>1)-1:(be(Ae,ke,3),ke+=5,be(Ae,ke,re[Qe-23]>>5),ke+=3);var Mr=Qe<8?0:Qe-4>>2;Mr>0&&(De(Ae,ke,jt-V[Qe]),ke+=Mr),Qe=fe[Te-st],ke=be(Ae,ke,re[Qe]>>3),ke-=3;var Pr=Qe<4?0:Qe-2>>1;Pr>0&&(De(Ae,ke,Te-st-H[Qe]),ke+=Pr);for(var ui=0;ui<jt;++ui)qe[ft]=Te&32767,ft=(ft<<5^Re[Te])&32767,++Te;rt-=jt-1}else Qe<=143?Qe=Qe+48:ke=xe(Ae,ke,1),ke=be(Ae,ke,re[Qe]),qe[ft]=Te&32767,++Te}ke=be(Ae,ke,0)-1}return Ae.l=(ke+7)/8|0,Ae.l}return function(Ae,ke){return Ae.length<8?pe(Ae,ke):Oe(Ae,ke)}})();function Ye(ee){var fe=Ea(50+Math.floor(ee.length*1.1)),ie=ct(ee,fe);return fe.slice(0,ie)}var mt=K?new Uint16Array(32768):ve(32768),Ct=K?new Uint16Array(32768):ve(32768),nn=K?new Uint16Array(128):ve(128),Cr=1,lr=1;function ya(ee,fe){var ie=ce(ee,fe)+257;fe+=5;var se=ce(ee,fe)+1;fe+=5;var de=X(ee,fe)+4;fe+=4;for(var pe=0,Oe=K?new Uint8Array(19):ve(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ae=1,ke=K?new Uint8Array(8):ve(8),Te=K?new Uint8Array(8):ve(8),qe=Oe.length,rt=0;rt<de;++rt)Oe[R[rt]]=pe=J(ee,fe),Ae<pe&&(Ae=pe),ke[pe]++,fe+=3;var ft=0;for(ke[0]=0,rt=1;rt<=Ae;++rt)Te[rt]=ft=ft+ke[rt-1]<<1;for(rt=0;rt<qe;++rt)(ft=Oe[rt])!=0&&(Re[rt]=Te[ft]++);var Qe=0;for(rt=0;rt<qe;++rt)if(Qe=Oe[rt],Qe!=0){ft=re[Re[rt]]>>8-Qe;for(var st=(1<<7-Qe)-1;st>=0;--st)nn[ft|st<<Qe]=Qe&7|rt<<3}var jt=[];for(Ae=1;jt.length<ie+se;)switch(ft=nn[te(ee,fe)],fe+=ft&7,ft>>>=3){case 16:for(pe=3+q(ee,fe),fe+=2,ft=jt[jt.length-1];pe-- >0;)jt.push(ft);break;case 17:for(pe=3+J(ee,fe),fe+=3;pe-- >0;)jt.push(0);break;case 18:for(pe=11+te(ee,fe),fe+=7;pe-- >0;)jt.push(0);break;default:jt.push(ft),Ae<ft&&(Ae=ft);break}var Mr=jt.slice(0,ie),Pr=jt.slice(ie);for(rt=ie;rt<286;++rt)Mr[rt]=0;for(rt=se;rt<30;++rt)Pr[rt]=0;return Cr=ze(Mr,mt,286),lr=ze(Pr,Ct,30),fe}function Qs(ee,fe){if(ee[0]==3&&!(ee[1]&3))return[bu(fe),2];for(var ie=0,se=0,de=A8(fe||1<<18),pe=0,Oe=de.length>>>0,Re=0,Ae=0;(se&1)==0;){if(se=J(ee,ie),ie+=3,se>>>1)se>>1==1?(Re=9,Ae=5):(ie=ya(ee,ie),Re=Cr,Ae=lr);else{ie&7&&(ie+=8-(ie&7));var ke=ee[ie>>>3]|ee[(ie>>>3)+1]<<8;if(ie+=32,ke>0)for(!fe&&Oe<pe+ke&&(de=ue(de,pe+ke),Oe=de.length);ke-- >0;)de[pe++]=ee[ie>>>3],ie+=8;continue}for(;;){!fe&&Oe<pe+32767&&(de=ue(de,pe+32767),Oe=de.length);var Te=he(ee,ie,Re),qe=se>>>1==1?We[Te]:mt[Te];if(ie+=qe&15,qe>>>=4,(qe>>>8&255)===0)de[pe++]=qe;else{if(qe==256)break;qe-=257;var rt=qe<8?0:qe-4>>2;rt>5&&(rt=0);var ft=pe+V[qe];rt>0&&(ft+=he(ee,ie,rt),ie+=rt),Te=he(ee,ie,Ae),qe=se>>>1==1?lt[Te]:Ct[Te],ie+=qe&15,qe>>>=4;var Qe=qe<4?0:qe-2>>1,st=H[qe];for(Qe>0&&(st+=he(ee,ie,Qe),ie+=Qe),!fe&&Oe<ft&&(de=ue(de,ft+100),Oe=de.length);pe<ft;)de[pe]=de[pe-st],++pe}}}return fe?[de,ie+7>>>3]:[de.slice(0,pe),ie+7>>>3]}function we(ee,fe){var ie=ee.slice(ee.l||0),se=Qs(ie,fe);return ee.l+=se[1],se[0]}function Ke(ee,fe){if(ee)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function yt(ee,fe){var ie=ee;ei(ie,0);var se=[],de=[],pe={FileIndex:se,FullPaths:de};w(pe,{root:fe.root});for(var Oe=ie.length-4;(ie[Oe]!=80||ie[Oe+1]!=75||ie[Oe+2]!=5||ie[Oe+3]!=6)&&Oe>=0;)--Oe;ie.l=Oe+4,ie.l+=4;var Re=ie.read_shift(2);ie.l+=6;var Ae=ie.read_shift(4);for(ie.l=Ae,Oe=0;Oe<Re;++Oe){ie.l+=20;var ke=ie.read_shift(4),Te=ie.read_shift(4),qe=ie.read_shift(2),rt=ie.read_shift(2),ft=ie.read_shift(2);ie.l+=8;var Qe=ie.read_shift(4),st=s(ie.slice(ie.l+qe,ie.l+qe+rt));ie.l+=qe+rt+ft;var jt=ie.l;ie.l=Qe+4,Kt(ie,ke,Te,pe,st),ie.l=jt}return pe}function Kt(ee,fe,ie,se,de){ee.l+=2;var pe=ee.read_shift(2),Oe=ee.read_shift(2),Re=o(ee);if(pe&8257)throw new Error("Unsupported ZIP encryption");for(var Ae=ee.read_shift(4),ke=ee.read_shift(4),Te=ee.read_shift(4),qe=ee.read_shift(2),rt=ee.read_shift(2),ft="",Qe=0;Qe<qe;++Qe)ft+=String.fromCharCode(ee[ee.l++]);if(rt){var st=s(ee.slice(ee.l,ee.l+rt));(st[21589]||{}).mt&&(Re=st[21589].mt),((de||{})[21589]||{}).mt&&(Re=de[21589].mt)}ee.l+=rt;var jt=ee.slice(ee.l,ee.l+ke);switch(Oe){case 8:jt=F(ee,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var Mr=!1;pe&8&&(Ae=ee.read_shift(4),Ae==134695760&&(Ae=ee.read_shift(4),Mr=!0),ke=ee.read_shift(4),Te=ee.read_shift(4)),ke!=fe&&Ke(Mr,"Bad compressed size: "+fe+" != "+ke),Te!=ie&&Ke(Mr,"Bad uncompressed size: "+ie+" != "+Te),pb(se,ft,jt,{unsafe:!0,mt:Re})}function $e(ee,fe){var ie=fe||{},se=[],de=[],pe=Ea(1),Oe=ie.compression?8:0,Re=0,Ae=0,ke=0,Te=0,qe=0,rt=ee.FullPaths[0],ft=rt,Qe=ee.FileIndex[0],st=[],jt=0;for(Ae=1;Ae<ee.FullPaths.length;++Ae)if(ft=ee.FullPaths[Ae].slice(rt.length),Qe=ee.FileIndex[Ae],!(!Qe.size||!Qe.content||ft=="Sh33tJ5")){var Mr=Te,Pr=Ea(ft.length);for(ke=0;ke<ft.length;++ke)Pr.write_shift(1,ft.charCodeAt(ke)&127);Pr=Pr.slice(0,Pr.l),st[qe]=g0e.buf(Qe.content,0);var ui=Qe.content;Oe==8&&(ui=D(ui)),pe=Ea(30),pe.write_shift(4,67324752),pe.write_shift(2,20),pe.write_shift(2,Re),pe.write_shift(2,Oe),Qe.mt?i(pe,Qe.mt):pe.write_shift(4,0),pe.write_shift(-4,st[qe]),pe.write_shift(4,ui.length),pe.write_shift(4,Qe.content.length),pe.write_shift(2,Pr.length),pe.write_shift(2,0),Te+=pe.length,se.push(pe),Te+=Pr.length,se.push(Pr),Te+=ui.length,se.push(ui),pe=Ea(46),pe.write_shift(4,33639248),pe.write_shift(2,0),pe.write_shift(2,20),pe.write_shift(2,Re),pe.write_shift(2,Oe),pe.write_shift(4,0),pe.write_shift(-4,st[qe]),pe.write_shift(4,ui.length),pe.write_shift(4,Qe.content.length),pe.write_shift(2,Pr.length),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(4,0),pe.write_shift(4,Mr),jt+=pe.l,de.push(pe),jt+=Pr.length,de.push(Pr),++qe}return pe=Ea(22),pe.write_shift(4,101010256),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,qe),pe.write_shift(2,qe),pe.write_shift(4,jt),pe.write_shift(4,Te),pe.write_shift(2,0),qc([qc(se),qc(de),pe])}var nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gt(ee,fe){if(ee.ctype)return ee.ctype;var ie=ee.name||"",se=ie.match(/\.([^\.]+)$/);return se&&nt[se[1]]||fe&&(se=(ie=fe).match(/[\.\\]([^\.\\])+$/),se&&nt[se[1]])?nt[se[1]]:"application/octet-stream"}function ps(ee){for(var fe=E8(ee),ie=[],se=0;se<fe.length;se+=76)ie.push(fe.slice(se,se+76));return ie.join(`\r
`)+`\r
`}function Io(ee){var fe=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Te=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],se=fe.split(`\r
`),de=0;de<se.length;++de){var pe=se[de];if(pe.length==0){ie.push("");continue}for(var Oe=0;Oe<pe.length;){var Re=76,Ae=pe.slice(Oe,Oe+Re);Ae.charAt(Re-1)=="="?Re--:Ae.charAt(Re-2)=="="?Re-=2:Ae.charAt(Re-3)=="="&&(Re-=3),Ae=pe.slice(Oe,Oe+Re),Oe+=Re,Oe<pe.length&&(Ae+="="),ie.push(Ae)}}return ie.join(`\r
`)}function Vl(ee){for(var fe=[],ie=0;ie<ee.length;++ie){for(var se=ee[ie];ie<=ee.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+ee[++ie];fe.push(se)}for(var de=0;de<fe.length;++de)fe[de]=fe[de].replace(/[=][0-9A-Fa-f]{2}/g,function(pe){return String.fromCharCode(parseInt(pe.slice(1),16))});return Ts(fe.join(`\r
`))}function Js(ee,fe,ie){for(var se="",de="",pe="",Oe,Re=0;Re<10;++Re){var Ae=fe[Re];if(!Ae||Ae.match(/^\s*$/))break;var ke=Ae.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":se=ke[2].trim();break;case"content-type":pe=ke[2].trim();break;case"content-transfer-encoding":de=ke[2].trim();break}}switch(++Re,de.toLowerCase()){case"base64":Oe=Ts(Co(fe.slice(Re).join("")));break;case"quoted-printable":Oe=Vl(fe.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var Te=pb(ee,se.slice(ie.length),Oe,{unsafe:!0});pe&&(Te.ctype=pe)}function Ah(ee,fe){if(N(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=fe&&fe.root||"",se=(dn&&Buffer.isBuffer(ee)?ee.toString("binary"):N(ee)).split(`\r
`),de=0,pe="";for(de=0;de<se.length;++de)if(pe=se[de],!!/^Content-Location:/i.test(pe)&&(pe=pe.slice(pe.indexOf("file")),ie||(ie=pe.slice(0,pe.lastIndexOf("/")+1)),pe.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),pe.slice(0,ie.length)!=ie););var Oe=(se[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var Re="--"+(Oe[1]||""),Ae=[],ke=[],Te={FileIndex:Ae,FullPaths:ke};w(Te);var qe,rt=0;for(de=0;de<se.length;++de){var ft=se[de];ft!==Re&&ft!==Re+"--"||(rt++&&Js(Te,se.slice(qe,de),ie),qe=de)}return Te}function hb(ee,fe){var ie=fe||{},se=ie.boundary||"SheetJS";se="------="+se;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],pe=ee.FullPaths[0],Oe=pe,Re=ee.FileIndex[0],Ae=1;Ae<ee.FullPaths.length;++Ae)if(Oe=ee.FullPaths[Ae].slice(pe.length),Re=ee.FileIndex[Ae],!(!Re.size||!Re.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(jt){return"_x"+jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(jt){return"_u"+jt.charCodeAt(0).toString(16)+"_"});for(var ke=Re.content,Te=dn&&Buffer.isBuffer(ke)?ke.toString("binary"):N(ke),qe=0,rt=Math.min(1024,Te.length),ft=0,Qe=0;Qe<=rt;++Qe)(ft=Te.charCodeAt(Qe))>=32&&ft<128&&++qe;var st=qe>=rt*4/5;de.push(se),de.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Oe),de.push("Content-Transfer-Encoding: "+(st?"quoted-printable":"base64")),de.push("Content-Type: "+gt(Re,Oe)),de.push(""),de.push(st?Io(Te):ps(Te))}return de.push(se+`--\r
`),de.join(`\r
`)}function oX(ee){var fe={};return w(fe,ee),fe}function pb(ee,fe,ie,se){var de=se&&se.unsafe;de||w(ee);var pe=!de&&vn.find(ee,fe);if(!pe){var Oe=ee.FullPaths[0];fe.slice(0,Oe.length)==Oe?Oe=fe:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+fe).replace("//","/")),pe={name:a(fe),type:2},ee.FileIndex.push(pe),ee.FullPaths.push(Oe),de||vn.utils.cfb_gc(ee)}return pe.content=ie,pe.size=ie?ie.length:0,se&&(se.CLSID&&(pe.clsid=se.CLSID),se.mt&&(pe.mt=se.mt),se.ct&&(pe.ct=se.ct)),pe}function sX(ee,fe){w(ee);var ie=vn.find(ee,fe);if(ie){for(var se=0;se<ee.FileIndex.length;++se)if(ee.FileIndex[se]==ie)return ee.FileIndex.splice(se,1),ee.FullPaths.splice(se,1),!0}return!1}function lX(ee,fe,ie){w(ee);var se=vn.find(ee,fe);if(se){for(var de=0;de<ee.FileIndex.length;++de)if(ee.FileIndex[de]==se)return ee.FileIndex[de].name=a(ie),ee.FullPaths[de]=ie,!0}return!1}function cX(ee){S(ee,!0)}return t.find=k,t.read=E,t.parse=u,t.write=G,t.writeFile=z,t.utils={cfb_new:oX,cfb_add:pb,cfb_del:sX,cfb_mov:lX,cfb_gc:cX,ReadShift:Fp,CheckField:J7,prep_blob:ei,bconcat:qc,use_zlib:B,_deflateRaw:Ye,_inflateRaw:we,consts:L},t})();function m0e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Il(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function P3(e){for(var t=[],n=Il(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var uy=new Date(1899,11,30,0,0,0);function to(e,t){var n=e.getTime(),r=uy.getTime()+(e.getTimezoneOffset()-uy.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var I7=new Date,y0e=uy.getTime()+(I7.getTimezoneOffset()-uy.getTimezoneOffset())*6e4,I8=I7.getTimezoneOffset();function a2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+y0e),t.getTimezoneOffset()!==I8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-I8)*6e4),t}function x0e(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(n=1,i>3&&(r=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(a[i],10)}return t}var R8=new Date("2017-02-19T19:06:09.000Z"),R7=isNaN(R8.getFullYear())?new Date("2/19/17"):R8,b0e=R7.getFullYear()==2017;function Ga(e,t){var n=new Date(e);if(b0e)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(R7.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Uf(e,t){if(dn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return cp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return cp(x7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return cp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return cp(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function si(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=si(e[n]));return t}function Wr(e,t){for(var n="";n.length<t;)n+=e;return n}function Bs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var w0e=["january","february","march","april","may","june","july","august","september","october","november","december"];function P0(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&w0e.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var _0e=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,a){if(e||typeof r=="string")return n.split(r);for(var i=n.split(r),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}})();function D7(e){return e?e.content&&e.type?Uf(e.content,!0):e.data?op(e.data):e.asNodeBuffer&&dn?op(e.asNodeBuffer().toString("binary")):e.asBinary?op(e.asBinary()):e._data&&e._data.getContent?op(Uf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function N7(e){if(!e)return null;if(e.data)return w8(e.data);if(e.asNodeBuffer&&dn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?w8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function E0e(e){return e&&e.name.slice(-4)===".bin"?N7(e):D7(e)}function Ho(e,t){for(var n=e.FullPaths||Il(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||a==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function I3(e,t){var n=Ho(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function ua(e,t,n){if(!n)return E0e(I3(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function So(e,t,n){if(!n)return D7(I3(e,t));if(!t)return null;try{return So(e,t)}catch{return null}}function A0e(e,t,n){return N7(I3(e,t))}function D8(e){for(var t=e.FullPaths||Il(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function S0e(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return dn?r=sd(n):r=Vde(n),vn.utils.cfb_add(e,t,r)}vn.utils.cfb_add(e,t,n)}else e.file(t,n)}function L7(e,t){switch(t.type){case"base64":return vn.read(e,{type:"base64"});case"binary":return vn.read(e,{type:"binary"});case"buffer":case"array":return vn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function lp(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var a=r.shift();a===".."?n.pop():a!=="."&&n.push(a)}return n.join("/")}var F7=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,O0e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,N8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,k0e=/<[^>]*>/g,Di=F7.match(N8)?N8:k0e,T0e=/<\w*:/,C0e=/<(\/?)\w+:/;function Mt(e,t,n){for(var r={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var o=e.match(O0e),s=0,l="",c=0,u="",f="",d=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(d=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+d,f.length-d),s=0;s!=u.length&&u.charCodeAt(s)!==58;++s);if(s===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var h=(s===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(s+1);if(r[h]&&u.slice(s-3,s)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function zl(e){return e.replace(C0e,"<$1")}var B7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},M0e=P3(B7),wn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var a=r+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return B7[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return n(a.slice(0,i))+a.slice(i+9,o)+n(a.slice(o+3))}})(),P0e=/[&<>'"]/g,I0e=/[\u0000-\u001f]/g;function R3(e){var t=e+"";return t.replace(P0e,function(n){return M0e[n]}).replace(/\n/g,"<br/>").replace(I0e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var L8=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function Sr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lw(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function F8(e){var t=bu(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function B8(e){return sd(e,"binary").toString("utf8")}var cg="foo bar baz",dr=dn&&(B8(cg)==lw(cg)&&B8||F8(cg)==lw(cg)&&F8)||lw,cp=dn?function(e){return sd(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},g1=(function(){var e={};return function(n,r){var a=n+"|"+(r||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),$7=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}})(),R0e=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),D0e=/<\/?(?:vt:)?variant>/g,N0e=/<(?:vt:)([^>]*)>([\s\S]*)</;function $8(e,t){var n=Mt(e),r=e.match(R0e(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(i){var o=i.replace(D0e,"").match(N0e);o&&a.push({v:dr(o[2]),t:o[1]})}),a}var L0e=/(^\s|\s$|\n)/;function F0e(e){return Il(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function B0e(e,t,n){return"<"+e+(n!=null?F0e(n):"")+(t!=null?(t.match(L0e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function D3(e){if(dn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return dr(ld(T3(e)));throw new Error("Bad input format: expected Buffer or string")}var m1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,$0e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},j0e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function z0e(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function U0e(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var j8=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},z8=dn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:sd(t)})):j8(e)}:j8,U8=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(fc(e,a)));return r.join("").replace(Ji,"")},N3=dn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ji,""):U8(e,t,n)}:U8,H8=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},j7=dn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):H8(e,t,n)}:H8,V8=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(zd(e,a)));return r.join("")},vv=dn?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):V8(t,n,r)}:V8,z7=function(e,t){var n=Eo(e,t);return n>0?vv(e,t+4,t+4+n-1):""},U7=z7,H7=function(e,t){var n=Eo(e,t);return n>0?vv(e,t+4,t+4+n-1):""},V7=H7,W7=function(e,t){var n=2*Eo(e,t);return n>0?vv(e,t+4,t+4+n-1):""},G7=W7,Y7=function(t,n){var r=Eo(t,n);return r>0?N3(t,n+4,n+4+r):""},X7=Y7,q7=function(e,t){var n=Eo(e,t);return n>0?vv(e,t+4,t+4+n):""},K7=q7,Z7=function(e,t){return z0e(e,t)},fy=Z7,Q7=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};dn&&(U7=function(t,n){if(!Buffer.isBuffer(t))return z7(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},V7=function(t,n){if(!Buffer.isBuffer(t))return H7(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},G7=function(t,n){if(!Buffer.isBuffer(t))return W7(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},X7=function(t,n){if(!Buffer.isBuffer(t))return Y7(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},K7=function(t,n){if(!Buffer.isBuffer(t))return q7(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},fy=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):Z7(t,n)},Q7=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var zd=function(e,t){return e[t]},fc=function(e,t){return e[t+1]*256+e[t]},H0e=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Eo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},V0e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fp(e,t){var n="",r,a,i=[],o,s,l,c;switch(t){case"dbcs":if(c=this.l,dn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(fc(this,c)),c+=2;e*=2;break;case"utf8":n=vv(this,this.l,this.l+e);break;case"utf16le":e*=2,n=N3(this,this.l,this.l+e);break;case"wstr":return Fp.call(this,e,"dbcs");case"lpstr-ansi":n=U7(this,this.l),e=4+Eo(this,this.l);break;case"lpstr-cp":n=V7(this,this.l),e=4+Eo(this,this.l);break;case"lpwstr":n=G7(this,this.l),e=4+2*Eo(this,this.l);break;case"lpp4":e=4+Eo(this,this.l),n=X7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Eo(this,this.l),n=K7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=zd(this,this.l+e++))!==0;)i.push(lg(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=fc(this,this.l+e))!==0;)i.push(lg(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=zd(this,c),this.l=c+1,s=Fp.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(lg(fc(this,c))),c+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=zd(this,c),this.l=c+1,s=Fp.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(lg(zd(this,c))),c+=1}n=i.join("");break;default:switch(e){case 1:return r=zd(this,this.l),this.l++,r;case 2:return r=(t==="i"?H0e:fc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?hf:V0e)(this,this.l),this.l+=4,r):(a=Eo(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=fy(this,this.l):a=fy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=j7(this,this.l,e);break}}return this.l+=e,n}var W0e=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},G0e=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Y0e=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function X0e(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)Y0e(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,W0e(this,t,this.l);break;case 8:if(r=8,n==="f"){U0e(this,t,this.l);break}case 16:break;case-4:r=4,G0e(this,t,this.l);break}return this.l+=r,this}function J7(e,t){var n=j7(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ei(e,t){e.l=t,e.read_shift=Fp,e.chk=J7,e.write_shift=X0e}function Ii(e,t){e.l+=t}function Ea(e){var t=bu(e);return ei(t,0),t}function Rc(e,t,n){if(e){var r,a,i;ei(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var c=my[s]||my[65535];for(r=e.read_shift(1),i=r&127,a=1;a<4&&r&128;++a)i+=((r=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,n);if(e.l=l,t(u,c,s))return}}}function PE(){var e=[],t=dn?256:2048,n=function(c){var u=Ea(c);return ei(u,0),u},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(c){return r&&c<r.length-r.l?r:(a(),r=n(Math.max(c+1,t)))},o=function(){return a(),qc(e)},s=function(c){a(),r=c,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Bp(e,t,n){var r=si(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function W8(e,t,n){var r=si(e);return r.s=Bp(r.s,t.s,n),r.e=Bp(r.e,t.s,n),r}function $p(e,t){if(e.cRel&&e.c<0)for(e=si(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=si(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Bt(e);return!e.cRel&&e.cRel!=null&&(n=Z0e(n)),!e.rRel&&e.rRel!=null&&(n=q0e(n)),n}function cw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ta(e.s.c)+":"+(e.e.cRel?"":"$")+Ta(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+li(e.s.r)+":"+(e.e.rRel?"":"$")+li(e.e.r):$p(e.s,t.biff)+":"+$p(e.e,t.biff)}function L3(e){return parseInt(K0e(e),10)-1}function li(e){return""+(e+1)}function q0e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function K0e(e){return e.replace(/\$(\d+)$/,"$1")}function F3(e){for(var t=Q0e(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Ta(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Z0e(e){return e.replace(/^([A-Z])/,"$$$1")}function Q0e(e){return e.replace(/^\$([A-Z])/,"$1")}function J0e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zi(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Bt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function fh(e){var t=e.indexOf(":");return t==-1?{s:Zi(e),e:Zi(e)}:{s:Zi(e.slice(0,t)),e:Zi(e.slice(t+1))}}function gn(e,t){return typeof t>"u"||typeof t=="number"?gn(e.s,e.e):(typeof e!="string"&&(e=Bt(e)),typeof t!="string"&&(t=Bt(t)),e==t?e:e+":"+t)}function qr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function G8(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=is(e.z,n?to(t):t)}catch{}try{return e.w=is((e.XF||{}).numFmtId||(n?14:0),n?to(t):t)}catch{return""+t}}function Sc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?fd[e.v]||e.v:t==null?G8(e,e.v):G8(e,t))}function Iu(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function eF(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Zi(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=qr(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},p=o+f,v=s+d;if(c.s.r>p&&(c.s.r=p),c.s.c>v&&(c.s.c=v),c.e.r<p&&(c.e.r=p),c.e.c<v&&(c.e.c=v),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Gt[14],r.cellDates?(h.t="d",h.w=is(h.z,to(h.v))):(h.t="n",h.v=to(h.v),h.w=is(h.z,h.v))):h.t="s";if(a)i[p]||(i[p]=[]),i[p][v]&&i[p][v].z&&(h.z=i[p][v].z),i[p][v]=h;else{var g=Bt({c:v,r:p});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return c.s.c<1e7&&(i["!ref"]=gn(c)),i}function dh(e,t){return eF(null,e,t)}function ehe(e){return e.read_shift(4,"i")}function Pi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function the(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function B3(e,t){var n=e.l,r=e.read_shift(1),a=Pi(e),i=[],o={t:a,h:a};if((r&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(the(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var nhe=B3;function cs(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function cd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var rhe=Pi;function $3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var ahe=Pi,IE=$3;function j3(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?fy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):hf(t,0)>>2;return n?a/100:a}function tF(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var ud=tF;function Oi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ihe(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var c=Df[a];c&&(t.rgb=x1(c));break;case 2:t.rgb=x1([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ohe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function nF(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function she(e){return nF(e,1)}function lhe(e){return nF(e,2)}var z3=2,lo=3,ug=11,Y8=12,dy=19,fg=64,che=65,uhe=71,fhe=4108,dhe=4126,ja=80,rF=81,hhe=[ja,rF],phe={1:{n:"CodePage",t:z3},2:{n:"Category",t:ja},3:{n:"PresentationFormat",t:ja},4:{n:"ByteCount",t:lo},5:{n:"LineCount",t:lo},6:{n:"ParagraphCount",t:lo},7:{n:"SlideCount",t:lo},8:{n:"NoteCount",t:lo},9:{n:"HiddenCount",t:lo},10:{n:"MultimediaClipCount",t:lo},11:{n:"ScaleCrop",t:ug},12:{n:"HeadingPairs",t:fhe},13:{n:"TitlesOfParts",t:dhe},14:{n:"Manager",t:ja},15:{n:"Company",t:ja},16:{n:"LinksUpToDate",t:ug},17:{n:"CharacterCount",t:lo},19:{n:"SharedDoc",t:ug},22:{n:"HyperlinksChanged",t:ug},23:{n:"AppVersion",t:lo,p:"version"},24:{n:"DigSig",t:che},26:{n:"ContentType",t:ja},27:{n:"ContentStatus",t:ja},28:{n:"Language",t:ja},29:{n:"Version",t:ja},255:{},2147483648:{n:"Locale",t:dy},2147483651:{n:"Behavior",t:dy},1919054434:{}},vhe={1:{n:"CodePage",t:z3},2:{n:"Title",t:ja},3:{n:"Subject",t:ja},4:{n:"Author",t:ja},5:{n:"Keywords",t:ja},6:{n:"Comments",t:ja},7:{n:"Template",t:ja},8:{n:"LastAuthor",t:ja},9:{n:"RevNumber",t:ja},10:{n:"EditTime",t:fg},11:{n:"LastPrinted",t:fg},12:{n:"CreatedDate",t:fg},13:{n:"ModifiedDate",t:fg},14:{n:"PageCount",t:lo},15:{n:"WordCount",t:lo},16:{n:"CharCount",t:lo},17:{n:"Thumbnail",t:uhe},18:{n:"Application",t:ja},19:{n:"DocSecurity",t:lo},255:{},2147483648:{n:"Locale",t:dy},2147483651:{n:"Behavior",t:dy},1919054434:{}},X8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ghe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var yhe=mhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Df=si(yhe),fd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aF={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},q8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function xhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function bhe(e){var t=xhe();if(!e||!e.match)return t;var n={};if((e.match(Di)||[]).forEach(function(r){var a=Mt(r);switch(a[0].replace(T0e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[a.Extension]=a.ContentType;break;case"<Override":t[q8[a.ContentType]]!==void 0&&t[q8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==$0e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var Xd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function RE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function jp(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Di)||[]).forEach(function(a){var i=Mt(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:lp(i.Target,t);n[s]=o,r[i.Id]=o}}),n["!id"]=r,n}var whe="application/vnd.oasis.opendocument.spreadsheet";function _he(e,t){for(var n=D3(e),r,a;r=m1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(a=Mt(r[0],!1),a.path=="/"&&a.type!==whe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var zp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ehe=(function(){for(var e=new Array(zp.length),t=0;t<zp.length;++t){var n=zp[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function iF(e){var t={};e=dr(e);for(var n=0;n<zp.length;++n){var r=zp[n],a=e.match(Ehe[n]);a!=null&&a.length>0&&(t[r[1]]=wn(a[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Ga(t[r[1]]))}return t}var Ahe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function oF(e,t,n,r){var a=[];if(typeof e=="string")a=$8(e,r);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?$8(t,r).map(function(u){return u.v}):t,s=0,l=0;if(o.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(s,s+l);break}s+=l}}function She(e,t,n){var r={};return t||(t={}),e=dr(e),Ahe.forEach(function(a){var i=(e.match(g1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=wn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(r[a[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&oF(r.HeadingPairs,r.TitlesOfParts,t,n),t}var Ohe=/<[^>]+>[^<]*/g;function khe(e,t){var n={},r="",a=e.match(Ohe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=Mt(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":r=wn(s.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=wn(u);break;case"bool":n[r]=Sr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Ga(u);break;case"cy":case"error":n[r]=wn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var The={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},uw;function Che(e,t,n){uw||(uw=P3(The)),t=uw[t]||t,e[t]=n}function U3(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sF(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function lF(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function cF(e,t,n){return t===31?lF(e):sF(e,t,n)}function DE(e,t,n){return cF(e,t,n===!1?0:4)}function Mhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return cF(e,t,0)}function Phe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ji,""),e.l-a&2&&(e.l+=2)}return n}function Ihe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ji,"");return n}function Rhe(e){var t=e.l,n=hy(e,rF);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=hy(e,lo);return[n,r]}function Dhe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(Rhe(e));return n}function K8(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var i=e.read_shift(4),o=e.read_shift(4);r[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ji,"").replace(sp,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function uF(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function Nhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function hy(e,t,n){var r=e.read_shift(2),a,i=n||{};if(e.l+=2,t!==Y8&&r!==t&&hhe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===Y8?r:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return sF(e,r,4).replace(Ji,"");case 31:return lF(e);case 64:return U3(e);case 65:return uF(e);case 71:return Nhe(e);case 80:return DE(e,r,!i.raw).replace(Ji,"");case 81:return Mhe(e,r).replace(Ji,"");case 4108:return Dhe(e);case 4126:case 4127:return r==4127?Phe(e):Ihe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function Z8(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,c={};for(o=0;o!=a;++o){var u=e.read_shift(4),f=e.read_shift(4);i[o]=[u,f+n]}i.sort(function(y,x){return y[1]-x[1]});var d={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var h=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(h=!1,e.l=i[o][1]),h)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(d[p.n]=hy(e,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ps(s=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[o][0]===1){if(s=d.CodePage=hy(e,z3),Ps(s),l!==-1){var v=e.l;e.l=i[l][1],c=K8(e,s),e.l=v}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}c=K8(e,s)}else{var g=c[i[o][0]],m;switch(e[e.l]){case 65:e.l+=4,m=uF(e);break;case 30:e.l+=4,m=DE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,m=DE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=ea(e,4);break;case 64:e.l+=4,m=Ga(U3(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[g]=m}}return e.l=n+r,d}function Q8(e,t,n){var r=e.content;if(!r)return{};ei(r,0);var a,i,o,s,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==vn.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(a=r.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=r.read_shift(16),s=r.read_shift(4),a===1&&s!==r.l)throw new Error("Length mismatch: "+s+" !== "+r.l);a===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=Z8(r,t),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=i,a===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=Z8(r,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[i,o],d}function zc(e,t){return e.read_shift(t),null}function Lhe(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}function ea(e,t){return e.read_shift(t)===1}function fa(e){return e.read_shift(2,"u")}function fF(e,t){return Lhe(e,t,fa)}function Fhe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function gv(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function Bhe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,a=n&8,i=1+(n&1),o=0,s,l={};a&&(o=e.read_shift(2)),r&&(s=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*o),r&&(e.l+=s),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Hf(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function mv(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Hf(e,r,n)}function dd(e,t,n){if(n.biff>5)return mv(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $he(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function jhe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ji,"");return r&&(e.l+=24),a}function zhe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ji,"");return n+o}function Uhe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return jhe(e);case"0303000000000000c000000000000046":return zhe(e);default:throw new Error("Unsupported Moniker "+n)}}function dg(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ji,""):"";return n}function Hhe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var i,o,s,l,c="",u,f;a&16&&(i=dg(e,n-e.l)),a&128&&(o=dg(e,n-e.l)),(a&257)===257&&(s=dg(e,n-e.l)),(a&257)===1&&(l=Uhe(e,n-e.l)),a&8&&(c=dg(e,n-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=U3(e)),e.l=n;var d=o||s||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),i&&(h.Tooltip=i),h}function dF(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1);return[t,n,r,a]}function hF(e,t){var n=dF(e);return n[3]=0,n}function Ul(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function Vhe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Whe(e,t,n){return t===0?"":dd(e,t,n)}function Ghe(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function pF(e){var t=e.read_shift(2),n=j3(e);return[t,n]}function Yhe(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=gv(e,t,n),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,a}function i2(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function vF(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),a=e.read_shift(1);return{s:{c:r,r:t},e:{c:a,r:n}}}var Xhe=vF;function gF(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function qhe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Khe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function di(e){e.l+=2,e.l+=e.read_shift(2)}var Zhe={0:di,4:di,5:di,6:di,7:Khe,8:di,9:di,10:di,11:di,12:di,13:qhe,14:di,15:di,16:di,17:di,18:di,19:di,20:di,21:gF};function Qhe(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(Zhe[a](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function hg(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function Jhe(e,t){return t===0||e.read_shift(2),1200}function epe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=dd(e,0,n);return e.read_shift(t+r-e.l),a}function tpe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function npe(e,t,n){var r=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=gv(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:a,dt:i,name:o}}function rpe(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<n;++o)i.push(Bhe(e));return i.Count=r,i.Unique=a,i}function ape(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function ipe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function ope(e){var t=Vhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function spe(e){return e.read_shift(2),e.read_shift(4)}function J8(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var a=e.read_shift(2);n&&n.biff==2&&(r=1-(a>>15),a&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,a]}function lpe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:c}}function cpe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function upe(){}function fpe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=gv(e,0,n),r}function dpe(e){var t=Ul(e);return t.isst=e.read_shift(4),t}function hpe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,a=Ul(e);n.biff==2&&e.l++;var i=mv(e,r-e.l,n);return a.val=i,a}function ppe(e,t,n){var r=e.read_shift(2),a=dd(e,0,n);return[r,a]}var vpe=dd;function eM(e,t,n){var r=e.l+t,a=n.biff==8||!n.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:i,c:s},e:{r:o,c:l}}}function gpe(e){var t=e.read_shift(2),n=e.read_shift(2),r=pF(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function mpe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(pF(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r,c:a,C:o,rkrec:i}}function ype(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r,c:a,C:o,ixfe:i}}function xpe(e,t,n,r){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=ghe[s>>26],r.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function bpe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=xpe(e,t,r.fStyle,n),r}function wpe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function tM(e,t,n){var r=Ul(e);(n.biff==2||t==9)&&++e.l;var a=Fhe(e);return r.val=a,r.t=a===!0||a===!1?"b":"e",r}function _pe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Ul(e),a=Oi(e);return r.val=a,r}var nM=Whe;function Epe(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Hf(e,i),s=[];r>e.l;)s.push(mv(e));return[i,a,o,s]}function rM(e,t,n){var r=e.read_shift(2),a,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(a=Yhe(e,t-2,n)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Ape=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function aM(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Hf(e,o,n);a&32&&(c=Ape[c.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var f=r==e.l||s===0||!(u>0)?[]:ime(e,u,n,s);return{chKey:i,Name:c,itab:l,rgce:f}}function mF(e,t,n){if(n.biff<8)return Spe(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(Ghe(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function Spe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=gv(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function Ope(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),a=e.read_shift(2),i=Hf(e,r,n),o=Hf(e,a,n);return[i,o]}function kpe(e,t,n){var r=vF(e);e.l++;var a=e.read_shift(1);return t-=8,[ome(e,t,n),a,r]}function iM(e,t,n){var r=Xhe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,rme(e,t,n)]}function Tpe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function Cpe(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=dd(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:a},s,o,i]}}function Mpe(e,t,n){return Cpe(e,t,n)}function Ppe(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(i2(e));return n}function Ipe(e,t,n){if(n&&n.biff<8)return Dpe(e,t,n);var r=gF(e),a=Qhe(e,t-22,r[1]);return{cmo:r,ft:a}}var Rpe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function Dpe(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Rpe[r]||Ii)(e,t,n)),{cmo:[a,r,i],ft:o}}function Npe(e,t,n){var r=e.l,a="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=$he(e,6,n);var s=e.read_shift(2);e.read_shift(2),fa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Hf(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=r+t,{t:a}}catch{return e.l=r+t,{t:a}}}function Lpe(e,t){var n=i2(e);e.l+=16;var r=Hhe(e,t-24);return[n,r]}function Fpe(e,t){e.read_shift(2);var n=i2(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ji,""),[n,r]}function Bpe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=X8[n]||n,n=e.read_shift(2),t[1]=X8[n]||n,t}function $pe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(hF(e));return n}function jpe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(hF(e));return n}function zpe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function yF(e,t,n){if(!n.cellStyles)return Ii(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function Upe(e,t){var n={};return t<32||(e.l+=16,n.header=Oi(e),n.footer=Oi(e),e.l+=2),n}function Hpe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,a&16&&(r.area=!0),r}var Vpe=Ul,Wpe=fF,Gpe=mv;function Ype(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}function Xpe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Ul(e);++e.l;var a=dd(e,t-7,n);return r.t="str",r.val=a,r}function qpe(e){var t=Ul(e);++e.l;var n=Oi(e);return t.t="n",t.val=n,t}function Kpe(e){var t=Ul(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function Zpe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Qpe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Jpe(e,t,n){var r=e.l+t,a=Ul(e),i=e.read_shift(2),o=Hf(e,i,n);return e.l=r,a.t="str",a.val=o,a}var e1e=[2,3,48,49,131,139,140,245],oM=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=P3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,l){var c=[],u=bu(1);switch(l.type){case"base64":u=Ts(Co(s));break;case"binary":u=Ts(s);break;case"buffer":case"array":u=s;break}ei(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=u.read_shift(2));var m=u.read_shift(2),y=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var x=[],b={},_=Math.min(u.length,f==2?521:g-10-(h?264:0)),E=p?32:11;u.l<_&&u[u.l]!=13;)switch(b={},b.name=p1.utils.decode(y,u.slice(u.l,u.l+E)).replace(/[\u0000\r\n].*$/g,""),u.l+=E,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&x.push(b),f!=2&&(u.l+=p?13:14),b.type){case"B":(!h||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var w=0,A=0;for(c[0]=[],A=0;A!=x.length;++A)c[0][A]=x[A].name;for(;v-- >0;){if(u[u.l]===42){u.l+=m;continue}for(++u.l,c[++w]=[],A=0,A=0;A!=x.length;++A){var S=u.slice(u.l,u.l+x[A].len);u.l+=x[A].len,ei(S,0);var O=p1.utils.decode(y,S);switch(x[A].type){case"C":O.trim().length&&(c[w][A]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[w][A]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[w][A]=O;break;case"F":c[w][A]=parseFloat(O.trim());break;case"+":case"I":c[w][A]=p?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[w][A]=!0;break;case"N":case"F":c[w][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[w][A]="##MEMO##"+(p?parseInt(O.trim(),10):S.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[w][A]=+O||0);break;case"@":c[w][A]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[w][A]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[w][A]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[w][A]=-S.read_shift(-8,"f");break;case"B":if(h&&x[A].len==8){c[w][A]=S.read_shift(8,"f");break}case"G":case"P":S.l+=x[A].len;break;case"0":if(x[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function r(s,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=dh(n(s,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(s,l){try{return Iu(r(s,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var c=l||{};if(+c.codepage>=0&&Ps(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=PE(),f=zE(s,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=s["!cols"]||[],v=0,g=0,m=0,y=1;for(v=0;v<d.length;++v){if(((p[v]||{}).DBF||{}).name){d[v]=p[v].DBF.name,++m;continue}if(d[v]!=null){if(++m,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(g=0;g<1024;++g)if(d.indexOf(d[v]+"_"+g)==-1){d[v]+="_"+g;break}}}}var x=qr(s["!ref"]),b=[],_=[],E=[];for(v=0;v<=x.e.c-x.s.c;++v){var w="",A="",S=0,O=[];for(g=0;g<h.length;++g)h[g][v]!=null&&O.push(h[g][v]);if(O.length==0||d[v]==null){b[v]="?";continue}for(g=0;g<O.length;++g){switch(typeof O[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=O[g]instanceof Date?"D":"C";break;default:A="C"}S=Math.max(S,String(O[g]).length),w=w&&w!=A?"C":A}S>250&&(S=250),A=((p[v]||{}).DBF||{}).type,A=="C"&&p[v].DBF.len>S&&(S=p[v].DBF.len),w=="B"&&A=="N"&&(w="N",E[v]=p[v].DBF.dec,S=p[v].DBF.len),_[v]=w=="C"||A=="N"?S:i[w]||0,y+=_[v],b[v]=w}var k=u.next(32);for(k.write_shift(4,318902576),k.write_shift(4,h.length),k.write_shift(2,296+32*m),k.write_shift(2,y),v=0;v<4;++v)k.write_shift(4,0);for(k.write_shift(4,0|(+t[m7]||3)<<8),v=0,g=0;v<d.length;++v)if(d[v]!=null){var T=u.next(32),C=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,C,"sbcs"),T.write_shift(1,b[v]=="?"?"C":b[v],"sbcs"),T.write_shift(4,g),T.write_shift(1,_[v]||i[b[v]]||0),T.write_shift(1,E[v]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),g+=_[v]||i[b[v]]||0}var M=u.next(264);for(M.write_shift(4,13),v=0;v<65;++v)M.write_shift(4,0);for(v=0;v<h.length;++v){var P=u.next(y);for(P.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(b[g]){case"L":P.write_shift(1,h[v][g]==null?63:h[v][g]?84:70);break;case"B":P.write_shift(8,h[v][g]||0,"f");break;case"N":var I="0";for(typeof h[v][g]=="number"&&(I=h[v][g].toFixed(E[g]||0)),m=0;m<_[g]-I.length;++m)P.write_shift(1,32);P.write_shift(1,I,"sbcs");break;case"D":h[v][g]?(P.write_shift(4,("0000"+h[v][g].getFullYear()).slice(-4),"sbcs"),P.write_shift(2,("00"+(h[v][g].getMonth()+1)).slice(-2),"sbcs"),P.write_shift(2,("00"+h[v][g].getDate()).slice(-2),"sbcs")):P.write_shift(8,"00000000","sbcs");break;case"C":var L=String(h[v][g]!=null?h[v][g]:"").slice(0,_[g]);for(P.write_shift(1,L,"sbcs"),m=0;m<_[g]-L.length;++m)P.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}})(),t1e=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Il(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var p=e[h];return typeof p=="number"?_8(p):p},r=function(d,h,p){var v=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?d:_8(v)};e["|"]=254;function a(d,h){switch(h.type){case"base64":return i(Co(d),h);case"binary":return i(d,h);case"buffer":return i(dn&&Buffer.isBuffer(d)?d.toString("binary"):ld(d),h);case"array":return i(Uf(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var p=d.split(/[\n\r]+/),v=-1,g=-1,m=0,y=0,x=[],b=[],_=null,E={},w=[],A=[],S=[],O=0,k;for(+h.codepage>=0&&Ps(+h.codepage);m!==p.length;++m){O=0;var T=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),C=T.replace(/;;/g,"\0").split(";").map(function(R){return R.replace(/\u0000/g,";")}),M=C[0],P;if(T.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":C[1].charAt(0)=="P"&&b.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,L=!1,z=!1,N=!1,G=-1,Y=-1;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"A":break;case"X":g=parseInt(C[y].slice(1))-1,L=!0;break;case"Y":for(v=parseInt(C[y].slice(1))-1,L||(g=0),k=x.length;k<=v;++k)x[k]=[];break;case"K":P=C[y].slice(1),P.charAt(0)==='"'?P=P.slice(1,P.length-1):P==="TRUE"?P=!0:P==="FALSE"?P=!1:isNaN(Bs(P))?isNaN(P0(P).getDate())||(P=Ga(P)):(P=Bs(P),_!==null&&uh(_)&&(P=a2(P))),I=!0;break;case"E":N=!0;var B=s0(C[y].slice(1),{r:v,c:g});x[v][g]=[x[v][g],B];break;case"S":z=!0,x[v][g]=[x[v][g],"S5S"];break;case"G":break;case"R":G=parseInt(C[y].slice(1))-1;break;case"C":Y=parseInt(C[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+T)}if(I&&(x[v][g]&&x[v][g].length==2?x[v][g][0]=P:x[v][g]=P,_=null),z){if(N)throw new Error("SYLK shared formula cannot have own formula");var F=G>-1&&x[G][Y];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");x[v][g][1]=TF(F[1],{r:v-G,c:g-Y})}break;case"F":var D=0;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"X":g=parseInt(C[y].slice(1))-1,++D;break;case"Y":for(v=parseInt(C[y].slice(1))-1,k=x.length;k<=v;++k)x[k]=[];break;case"M":O=parseInt(C[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=b[parseInt(C[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=C[y].slice(1).split(" "),k=parseInt(S[0],10);k<=parseInt(S[1],10);++k)O=parseInt(S[2],10),A[k-1]=O===0?{hidden:!0}:{wch:O},I0(A[k-1]);break;case"C":g=parseInt(C[y].slice(1))-1,A[g]||(A[g]={});break;case"R":v=parseInt(C[y].slice(1))-1,w[v]||(w[v]={}),O>0?(w[v].hpt=O,w[v].hpx=b1(O)):O===0&&(w[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+T)}D<1&&(_=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+T)}}return w.length>0&&(E["!rows"]=w),A.length>0&&(E["!cols"]=A),h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),[x,E]}function o(d,h){var p=a(d,h),v=p[0],g=p[1],m=dh(v,h);return Il(g).forEach(function(y){m[y]=g[y]}),m}function s(d,h){return Iu(o(d,h),h)}function l(d,h,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+zve(d.f,{r:p,c:v}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(d,h){h.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=vy(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=gy(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function u(d,h){h.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*SF(p.hpx)+";"),g.length>2&&d.push(g+"R"+(v+1))})}function f(d,h){var p=["ID;PWXL;N;E"],v=[],g=qr(d["!ref"]),m,y=Array.isArray(d),x=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&c(p,d["!cols"]),d["!rows"]&&u(p,d["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var _=g.s.c;_<=g.e.c;++_){var E=Bt({r:b,c:_});m=y?(d[b]||[])[_]:d[E],!(!m||m.v==null&&(!m.f||m.F))&&v.push(l(m,d,b,_))}return p.join(x)+x+v.join(x)+x+"E"+x}return{to_workbook:s,to_sheet:o,from_sheet:f}})(),n1e=(function(){function e(i,o){switch(o.type){case"base64":return t(Co(i),o);case"binary":return t(i,o);case"buffer":return t(dn&&Buffer.isBuffer(i)?i.toString("binary"):ld(i),o);case"array":return t(Uf(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==s.length;++u){if(s[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=s[u].trim().split(","),h=d[0],p=d[1];++u;for(var v=s[u]||"";(v.match(/["]/g)||[]).length&1&&u<s.length-1;)v+=`
`+s[++u];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(Bs(p))?isNaN(P0(p).getDate())?f[l][c]=p:f[l][c]=Ga(p):f[l][c]=Bs(p),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(i,o){return dh(e(i,o),o)}function r(i,o){return Iu(n(i,o),o)}var a=(function(){var i=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=qr(l["!ref"]),f,d=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var v=Bt({r:h,c:p});if(f=d?(l[h]||[])[p]:l[v],!f){o(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,g,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=is(f.z||Gt[14],to(Ga(f.v)))),o(c,0,f.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var m=`\r
`,y=c.join(m);return y}})();return{to_workbook:r,to_sheet:n,from_sheet:a}})(),r1e=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),p=-1,v=-1,g=0,m=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var x=Zi(y[1]);if(m.length<=x.r)for(p=m.length;p<=x.r;++p)m[p]||(m[p]=[]);switch(p=x.r,v=x.c,y[2]){case"t":m[p][v]=e(y[3]);break;case"v":m[p][v]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":m[p][v]=!!+y[4];break;default:m[p][v]=+y[4];break}y[2]=="vtf"&&(m[p][v]=[m[p][v],b])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function r(f,d){return dh(n(f,d),d)}function a(f,d){return Iu(r(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,v="",g=fh(f["!ref"]),m=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var x=g.s.c;x<=g.e.c;++x)if(v=Bt({r:y,c:x}),p=m?(f[y]||[])[x]:f[v],!(!p||p.v==null||p.t==="z")){switch(h=["cell",v,"t"],p.t){case"s":case"str":h.push(t(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=t(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var b=to(Ga(p.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=p.w||is(p.z||Gt[14],b);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[i,o,s,o,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:u}})(),y1=(function(){function e(u,f,d,h,p){p.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Bs(u))?isNaN(P0(u).getDate())?f[d][h]=u:f[d][h]=Ga(u):f[d][h]=Bs(u))}function t(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,m=0,y=0;y<=v;++y)m=p[y].indexOf(" "),m==-1?m=p[y].length:m++,g=Math.max(g,m);for(y=0;y<=v;++y){h[y]=[];var x=0;for(e(p[y].slice(0,g).trim(),h,y,x,d),x=1;x<=(p[y].length-g)/10+1;++x)e(p[y].slice(g+(x-1)*10,g+x*10).trim(),h,y,x,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(u){for(var f={},d=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?d=!d:!d&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(v,g){return v[0]-g[0]||r[v[1]]-r[g[1]]}),n[p.pop()[1]]||44}function i(u,f){var d=f||{},h="",p=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):d&&d.FS?h=d.FS:h=a(u.slice(0,1024));var g=0,m=0,y=0,x=0,b=0,_=h.charCodeAt(0),E=!1,w=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=d.dateNF!=null?p0e(d.dateNF):null;function O(){var k=u.slice(x,b),T={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)T.t="z";else if(d.raw)T.t="s",T.v=k;else if(k.trim().length===0)T.t="s",T.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(T.t="s",T.v=k.slice(2,-1).replace(/""/g,'"')):Hve(k)?(T.t="n",T.f=k.slice(1)):(T.t="s",T.v=k);else if(k=="TRUE")T.t="b",T.v=!0;else if(k=="FALSE")T.t="b",T.v=!1;else if(!isNaN(y=Bs(k)))T.t="n",d.cellText!==!1&&(T.w=k),T.v=y;else if(!isNaN(P0(k).getDate())||S&&k.match(S)){T.z=d.dateNF||Gt[14];var C=0;S&&k.match(S)&&(k=v0e(k,d.dateNF,k.match(S)||[]),C=1),d.cellDates?(T.t="d",T.v=Ga(k,C)):(T.t="n",T.v=to(Ga(k,C))),d.cellText!==!1&&(T.w=is(T.z,T.v instanceof Date?to(T.v):T.v)),d.cellNF||delete T.z}else T.t="s",T.v=k;if(T.t=="z"||(d.dense?(p[g]||(p[g]=[]),p[g][m]=T):p[Bt({c:m,r:g})]=T),x=b+1,A=u.charCodeAt(x),v.e.c<m&&(v.e.c=m),v.e.r<g&&(v.e.r=g),w==_)++m;else if(m=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(w=u.charCodeAt(b)){case 34:A===34&&(E=!E);break;case _:case 10:case 13:if(!E&&O())break e;break}return b-x>0&&O(),p["!ref"]=gn(v),p}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):dh(t(u,f),f)}function s(u,f){var d="",h=f.type=="string"?[0,0,0,0]:K3(u,f);switch(f.type){case"base64":d=Co(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof p1<"u"||(d=dn&&Buffer.isBuffer(u)?u.toString("binary"):ld(u));break;case"array":d=Uf(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=dr(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=dr(d):f.type=="binary"&&typeof p1<"u",d.slice(0,19)=="socialcalc:version:"?r1e.to_sheet(f.type=="string"?d:dr(d),f):o(d,f)}function l(u,f){return Iu(s(u,f),f)}function c(u){for(var f=[],d=qr(u["!ref"]),h,p=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var g=[],m=d.s.c;m<=d.e.c;++m){var y=Bt({r:v,c:m});if(h=p?(u[v]||[])[m]:u[y],!h||h.v==null){g.push("          ");continue}for(var x=(h.w||(Sc(h),h.w)||"").slice(0,10);x.length<10;)x+=" ";g.push(x+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:c}})();function a1e(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=t1e.to_workbook(e,n);return n.WTF=r,a}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return y1.to_workbook(e,t)}}var Up=(function(){function e(B,F,D){if(B){ei(B,B.l||0);for(var R=D.Enum||G;B.l<B.length;){var V=B.read_shift(2),H=R[V]||R[65535],j=B.read_shift(2),K=B.l+j,re=H.f&&H.f(B,j,D);if(B.l=K,F(re,H,V))return}}}function t(B,F){switch(F.type){case"base64":return n(Ts(Co(B)),F);case"binary":return n(Ts(B),F);case"buffer":case"array":return n(B,F)}throw"Unsupported type "+F.type}function n(B,F){if(!B)return B;var D=F||{},R=D.dense?[]:{},V="Sheet1",H="",j=0,K={},re=[],ae=[],U={s:{r:0,c:0},e:{r:0,c:0}},q=D.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)D.Enum=G,e(B,function(te,he,me){switch(me){case 0:D.vers=te,te>=4096&&(D.qpro=!0);break;case 6:U=te;break;case 204:te&&(H=te);break;case 222:H=te;break;case 15:case 51:D.qpro||(te[1].v=te[1].v.slice(1));case 13:case 14:case 16:me==14&&(te[2]&112)==112&&(te[2]&15)>1&&(te[2]&15)<15&&(te[1].z=D.dateNF||Gt[14],D.cellDates&&(te[1].t="d",te[1].v=a2(te[1].v))),D.qpro&&te[3]>j&&(R["!ref"]=gn(U),K[V]=R,re.push(V),R=D.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},j=te[3],V=H||"Sheet"+(j+1),H="");var xe=D.dense?(R[te[0].r]||[])[te[0].c]:R[Bt(te[0])];if(xe){xe.t=te[1].t,xe.v=te[1].v,te[1].z!=null&&(xe.z=te[1].z),te[1].f!=null&&(xe.f=te[1].f);break}D.dense?(R[te[0].r]||(R[te[0].r]=[]),R[te[0].r][te[0].c]=te[1]):R[Bt(te[0])]=te[1];break}},D);else if(B[2]==26||B[2]==14)D.Enum=Y,B[2]==14&&(D.qpro=!0,B.l=0),e(B,function(te,he,me){switch(me){case 204:V=te;break;case 22:te[1].v=te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(te[3]>j&&(R["!ref"]=gn(U),K[V]=R,re.push(V),R=D.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},j=te[3],V="Sheet"+(j+1)),q>0&&te[0].r>=q)break;D.dense?(R[te[0].r]||(R[te[0].r]=[]),R[te[0].r][te[0].c]=te[1]):R[Bt(te[0])]=te[1],U.e.c<te[0].c&&(U.e.c=te[0].c),U.e.r<te[0].r&&(U.e.r=te[0].r);break;case 27:te[14e3]&&(ae[te[14e3][0]]=te[14e3][1]);break;case 1537:ae[te[0]]=te[1],te[0]==j&&(V=te[1]);break}},D);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(R["!ref"]=gn(U),K[H||V]=R,re.push(H||V),!ae.length)return{SheetNames:re,Sheets:K};for(var J={},X=[],ce=0;ce<ae.length;++ce)K[re[ce]]?(X.push(ae[ce]||re[ce]),J[ae[ce]]=K[ae[ce]]||K[re[ce]]):(X.push(ae[ce]),J[ae[ce]]={"!ref":"A1"});return{SheetNames:X,Sheets:J}}function r(B,F){var D=F||{};if(+D.codepage>=0&&Ps(+D.codepage),D.type=="string")throw new Error("Cannot write WK1 to JS string");var R=PE(),V=qr(B["!ref"]),H=Array.isArray(B),j=[];ms(R,0,i(1030)),ms(R,6,l(V));for(var K=Math.min(V.e.r,8191),re=V.s.r;re<=K;++re)for(var ae=li(re),U=V.s.c;U<=V.e.c;++U){re===V.s.r&&(j[U]=Ta(U));var q=j[U]+ae,J=H?(B[re]||[])[U]:B[q];if(!(!J||J.t=="z"))if(J.t=="n")(J.v|0)==J.v&&J.v>=-32768&&J.v<=32767?ms(R,13,h(re,U,J.v)):ms(R,14,v(re,U,J.v));else{var X=Sc(J);ms(R,15,f(re,U,X.slice(0,239)))}}return ms(R,1),R.end()}function a(B,F){var D=F||{};if(+D.codepage>=0&&Ps(+D.codepage),D.type=="string")throw new Error("Cannot write WK3 to JS string");var R=PE();ms(R,0,o(B));for(var V=0,H=0;V<B.SheetNames.length;++V)(B.Sheets[B.SheetNames[V]]||{})["!ref"]&&ms(R,27,N(B.SheetNames[V],H++));var j=0;for(V=0;V<B.SheetNames.length;++V){var K=B.Sheets[B.SheetNames[V]];if(!(!K||!K["!ref"])){for(var re=qr(K["!ref"]),ae=Array.isArray(K),U=[],q=Math.min(re.e.r,8191),J=re.s.r;J<=q;++J)for(var X=li(J),ce=re.s.c;ce<=re.e.c;++ce){J===re.s.r&&(U[ce]=Ta(ce));var te=U[ce]+X,he=ae?(K[J]||[])[ce]:K[te];if(!(!he||he.t=="z"))if(he.t=="n")ms(R,23,O(J,ce,j,he.v));else{var me=Sc(he);ms(R,22,w(J,ce,j,me.slice(0,239)))}}++j}}return ms(R,1),R.end()}function i(B){var F=Ea(2);return F.write_shift(2,B),F}function o(B){var F=Ea(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var D=0,R=0,V=0,H=0;H<B.SheetNames.length;++H){var j=B.SheetNames[H],K=B.Sheets[j];if(!(!K||!K["!ref"])){++V;var re=fh(K["!ref"]);D<re.e.r&&(D=re.e.r),R<re.e.c&&(R=re.e.c)}}return D>8191&&(D=8191),F.write_shift(2,D),F.write_shift(1,V),F.write_shift(1,R),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function s(B,F,D){var R={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&D.qpro?(R.s.c=B.read_shift(1),B.l++,R.s.r=B.read_shift(2),R.e.c=B.read_shift(1),B.l++,R.e.r=B.read_shift(2),R):(R.s.c=B.read_shift(2),R.s.r=B.read_shift(2),F==12&&D.qpro&&(B.l+=2),R.e.c=B.read_shift(2),R.e.r=B.read_shift(2),F==12&&D.qpro&&(B.l+=2),R.s.c==65535&&(R.s.c=R.e.c=R.s.r=R.e.r=0),R)}function l(B){var F=Ea(8);return F.write_shift(2,B.s.c),F.write_shift(2,B.s.r),F.write_shift(2,B.e.c),F.write_shift(2,B.e.r),F}function c(B,F,D){var R=[{c:0,r:0},{t:"n",v:0},0,0];return D.qpro&&D.vers!=20768?(R[0].c=B.read_shift(1),R[3]=B.read_shift(1),R[0].r=B.read_shift(2),B.l+=2):(R[2]=B.read_shift(1),R[0].c=B.read_shift(2),R[0].r=B.read_shift(2)),R}function u(B,F,D){var R=B.l+F,V=c(B,F,D);if(V[1].t="s",D.vers==20768){B.l++;var H=B.read_shift(1);return V[1].v=B.read_shift(H,"utf8"),V}return D.qpro&&B.l++,V[1].v=B.read_shift(R-B.l,"cstr"),V}function f(B,F,D){var R=Ea(7+D.length);R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(1,39);for(var V=0;V<R.length;++V){var H=D.charCodeAt(V);R.write_shift(1,H>=128?95:H)}return R.write_shift(1,0),R}function d(B,F,D){var R=c(B,F,D);return R[1].v=B.read_shift(2,"i"),R}function h(B,F,D){var R=Ea(7);return R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(2,D,"i"),R}function p(B,F,D){var R=c(B,F,D);return R[1].v=B.read_shift(8,"f"),R}function v(B,F,D){var R=Ea(13);return R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(8,D,"f"),R}function g(B,F,D){var R=B.l+F,V=c(B,F,D);if(V[1].v=B.read_shift(8,"f"),D.qpro)B.l=R;else{var H=B.read_shift(2);b(B.slice(B.l,B.l+H),V),B.l+=H}return V}function m(B,F,D){var R=F&32768;return F&=-32769,F=(R?B:0)+(F>=8192?F-16384:F),(R?"":"$")+(D?Ta(F):li(F))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(B,F){ei(B,0);for(var D=[],R=0,V="",H="",j="",K="";B.l<B.length;){var re=B[B.l++];switch(re){case 0:D.push(B.read_shift(8,"f"));break;case 1:H=m(F[0].c,B.read_shift(2),!0),V=m(F[0].r,B.read_shift(2),!1),D.push(H+V);break;case 2:{var ae=m(F[0].c,B.read_shift(2),!0),U=m(F[0].r,B.read_shift(2),!1);H=m(F[0].c,B.read_shift(2),!0),V=m(F[0].r,B.read_shift(2),!1),D.push(ae+U+":"+H+V)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:D.push("("+D.pop()+")");break;case 5:D.push(B.read_shift(2));break;case 6:{for(var q="";re=B[B.l++];)q+=String.fromCharCode(re);D.push('"'+q.replace(/"/g,'""')+'"')}break;case 8:D.push("-"+D.pop());break;case 23:D.push("+"+D.pop());break;case 22:D.push("NOT("+D.pop()+")");break;case 20:case 21:K=D.pop(),j=D.pop(),D.push(["AND","OR"][re-20]+"("+j+","+K+")");break;default:if(re<32&&x[re])K=D.pop(),j=D.pop(),D.push(j+x[re]+K);else if(y[re]){if(R=y[re][1],R==69&&(R=B[B.l++]),R>D.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+D.join("|")+"|");return}var J=D.slice(-R);D.length-=R,D.push(y[re][0]+"("+J.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}D.length==1?F[1].f=""+D[0]:console.error("WK1 bad formula parse |"+D.join("|")+"|")}function _(B){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=B.read_shift(2),F[3]=B[B.l++],F[0].c=B[B.l++],F}function E(B,F){var D=_(B);return D[1].t="s",D[1].v=B.read_shift(F-4,"cstr"),D}function w(B,F,D,R){var V=Ea(6+R.length);V.write_shift(2,B),V.write_shift(1,D),V.write_shift(1,F),V.write_shift(1,39);for(var H=0;H<R.length;++H){var j=R.charCodeAt(H);V.write_shift(1,j>=128?95:j)}return V.write_shift(1,0),V}function A(B,F){var D=_(B);D[1].v=B.read_shift(2);var R=D[1].v>>1;if(D[1].v&1)switch(R&7){case 0:R=(R>>3)*5e3;break;case 1:R=(R>>3)*500;break;case 2:R=(R>>3)/20;break;case 3:R=(R>>3)/200;break;case 4:R=(R>>3)/2e3;break;case 5:R=(R>>3)/2e4;break;case 6:R=(R>>3)/16;break;case 7:R=(R>>3)/64;break}return D[1].v=R,D}function S(B,F){var D=_(B),R=B.read_shift(4),V=B.read_shift(4),H=B.read_shift(2);if(H==65535)return R===0&&V===3221225472?(D[1].t="e",D[1].v=15):R===0&&V===3489660928?(D[1].t="e",D[1].v=42):D[1].v=0,D;var j=H&32768;return H=(H&32767)-16446,D[1].v=(1-j*2)*(V*Math.pow(2,H+32)+R*Math.pow(2,H)),D}function O(B,F,D,R){var V=Ea(14);if(V.write_shift(2,B),V.write_shift(1,D),V.write_shift(1,F),R==0)return V.write_shift(4,0),V.write_shift(4,0),V.write_shift(2,65535),V;var H=0,j=0,K=0,re=0;return R<0&&(H=1,R=-R),j=Math.log2(R)|0,R/=Math.pow(2,j-31),re=R>>>0,(re&2147483648)==0&&(R/=2,++j,re=R>>>0),R-=re,re|=2147483648,re>>>=0,R*=Math.pow(2,32),K=R>>>0,V.write_shift(4,K),V.write_shift(4,re),j+=16383+(H?32768:0),V.write_shift(2,j),V}function k(B,F){var D=S(B);return B.l+=F-14,D}function T(B,F){var D=_(B),R=B.read_shift(4);return D[1].v=R>>6,D}function C(B,F){var D=_(B),R=B.read_shift(8,"f");return D[1].v=R,D}function M(B,F){var D=C(B);return B.l+=F-10,D}function P(B,F){return B[B.l+F-1]==0?B.read_shift(F,"cstr"):""}function I(B,F){var D=B[B.l++];D>F-1&&(D=F-1);for(var R="";R.length<D;)R+=String.fromCharCode(B[B.l++]);return R}function L(B,F,D){if(!(!D.qpro||F<21)){var R=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var V=B.read_shift(F-21,"cstr");return[R,V]}}function z(B,F){for(var D={},R=B.l+F;B.l<R;){var V=B.read_shift(2);if(V==14e3){for(D[V]=[0,""],D[V][0]=B.read_shift(2);B[B.l];)D[V][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return D}function N(B,F){var D=Ea(5+B.length);D.write_shift(2,14e3),D.write_shift(2,F);for(var R=0;R<B.length;++R){var V=B.charCodeAt(R);D[D.l++]=V>127?95:V}return D[D.l++]=0,D}var G={0:{n:"BOF",f:fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:C},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}})();function i1e(e){var t={},n=e.match(Di),r=0,a=!1;if(n)for(;r!=n.length;++r){var i=Mt(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=O3[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var o1e=(function(){var e=g1("t"),t=g1("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:wn(o[1])},l=i.match(t);return l&&(s.s=i1e(l[1])),s}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(a).map(n).filter(function(s){return s.v})}})(),s1e=(function(){var t=/(\r\n|\n)/g;function n(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function r(a){var i=[[],a.v,[]];return a.v?(a.s&&n(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),l1e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,c1e=/<(?:\w+:)?r>/,u1e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function H3(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=wn(dr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=dr(e),n&&(r.h=R3(r.t))):e.match(c1e)&&(r.r=dr(e),r.t=wn(dr((e.replace(u1e,"").match(l1e)||[]).join("").replace(Di,""))),n&&(r.h=s1e(o1e(r.r)))),r):{t:""}}var f1e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,d1e=/<(?:\w+:)?(?:si|sstItem)>/g,h1e=/<\/(?:\w+:)?(?:si|sstItem)>/;function p1e(e,t){var n=[],r="";if(!e)return n;var a=e.match(f1e);if(a){r=a[2].replace(d1e,"").split(h1e);for(var i=0;i!=r.length;++i){var o=H3(r[i].trim(),t);o!=null&&(n[n.length]=o)}a=Mt(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}function v1e(e){return[e.read_shift(4),e.read_shift(4)]}function g1e(e,t){var n=[],r=!1;return Rc(e,function(i,o,s){switch(s){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function xF(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function vc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function m1e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=vc(e,4),t.U=vc(e,4),t.W=vc(e,4),t}function y1e(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function x1e(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(y1e(e));return t}function b1e(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function w1e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=vc(e,4),t.U=vc(e,4),t.W=vc(e,4),t}function _1e(e){var t=w1e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function bF(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=r.Flags==36;break;case 26625:a=r.Flags==4;break;case 0:a=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function wF(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function E1e(e){var t=vc(e);switch(t.Minor){case 2:return[t.Minor,A1e(e)];case 3:return[t.Minor,S1e()];case 4:return[t.Minor,O1e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function A1e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=bF(e,n),a=wF(e,e.length-e.l);return{t:"Std",h:r,v:a}}function S1e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function O1e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Di,function(i){var o=Mt(i);switch(zl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){r[s]=o[s]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function k1e(e,t){var n={},r=n.EncryptionVersionInfo=vc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=bF(e,a),t-=a,n.EncryptionVerifier=wF(e,t),n}function T1e(e){var t={},n=t.EncryptionVersionInfo=vc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function C1e(e){var t=0,n,r=xF(e),a=r.length+1,i,o,s,l,c;for(n=bu(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=(t&16384)===0?0:1,l=t<<1&32767,c=s|l,t=c^o;return t^52811}var _F=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},a=function(o,s){return r(o^s)},i=function(o){for(var s=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],f=0;f!=7;++f)u&64&&(s^=n[l]),u*=2,--l;return s};return function(o){for(var s=xF(o),l=i(s),c=s.length,u=bu(16),f=0;f!=16;++f)u[f]=0;var d,h,p;for((c&1)===1&&(d=l>>8,u[c]=a(e[0],d),--c,d=l&255,h=s[s.length-1],u[c]=a(h,d));c>0;)--c,d=l>>8,u[c]=a(s[c],d),--c,d=l&255,u[c]=a(s[c],d);for(c=15,p=15-s.length;p>0;)d=l>>8,u[c]=a(e[p],d),--c,--p,d=l&255,u[c]=a(s[c],d),--c,--p;return u}})(),M1e=function(e,t,n,r,a){a||(a=t),r||(r=_F(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=r[n],o=(o>>5|o<<3)&255,a[i]=o,++n;return[a,n,r]},P1e=function(e){var t=0,n=_F(e);return function(r){var a=M1e("",r,t,n);return t=a[1],a[0]}};function I1e(e,t,n,r){var a={key:fa(e),verificationBytes:fa(e)};return n.password&&(a.verifier=C1e(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=P1e(n.password)),a}function R1e(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=T1e(e):r.Data=k1e(e,t),r}function D1e(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?R1e(e,t-2,r):I1e(e,n.biff>=8?t:t-2,n,r),r}var N1e=(function(){function e(a,i){switch(i.type){case"base64":return t(Co(a),i);case"binary":return t(a,i);case"buffer":return t(dn&&Buffer.isBuffer(a)?a.toString("binary"):ld(a),i);case"array":return t(Uf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(s)&&(s[f]=[]);for(var d=/\\\w+\b/g,h=0,p,v=-1;p=d.exec(u);){switch(p[0]){case"\\cell":var g=u.slice(h,d.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var m={v:g,t:"s"};Array.isArray(s)?s[f][v]=m:s[Bt({r:f,c:v})]=m}break}h=d.lastIndex}v>c.e.c&&(c.e.c=v)}),s["!ref"]=gn(c),s}function n(a,i){return Iu(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=qr(a["!ref"]),s,l=Array.isArray(a),c=o.s.r;c<=o.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Bt({r:c,c:u});s=l?(a[c]||[])[u]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Sc(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function L1e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function x1(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function F1e(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),i=Math.min(t,n,r),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,c=a+i;switch(l=o/(c>1?2-c:c),a){case t:s=((n-r)/o+6)%6;break;case n:s=(r-t)/o+2;break;case r:s=(t-n)/o+4;break}return[s/6,l,c/2]}function B1e(e){var t=e[0],n=e[1],r=e[2],a=n*2*(r<.5?r:1-r),i=r-a/2,o=[i,i,i],s=6*t,l;if(n!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function py(e,t){if(t===0)return e;var n=F1e(L1e(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),x1(B1e(n))}var EF=6,$1e=15,j1e=1,Yi=EF;function vy(e){return Math.floor((e+Math.round(128/Yi)/256)*Yi)}function gy(e){return Math.floor((e-5)/Yi*100+.5)/100}function NE(e){return Math.round((e*Yi+5)/Yi*256)/256}function fw(e){return NE(gy(vy(e)))}function V3(e){var t=Math.abs(e-fw(e)),n=Yi;if(t>.005)for(Yi=j1e;Yi<$1e;++Yi)Math.abs(e-fw(e))<=t&&(t=Math.abs(e-fw(e)),n=Yi);Yi=n}function I0(e){e.width?(e.wpx=vy(e.width),e.wch=gy(e.wpx),e.MDW=Yi):e.wpx?(e.wch=gy(e.wpx),e.width=NE(e.wch),e.MDW=Yi):typeof e.wch=="number"&&(e.width=NE(e.wch),e.wpx=vy(e.width),e.MDW=Yi),e.customWidth&&delete e.customWidth}var z1e=96,AF=z1e;function SF(e){return e*96/AF}function b1(e){return e*AF/96}var U1e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function H1e(e,t,n,r){t.Borders=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var s=Mt(o);switch(zl(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=Sr(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=Sr(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function V1e(e,t,n,r){t.Fills=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var s=Mt(o);switch(zl(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function W1e(e,t,n,r){t.Fonts=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var s=Mt(o);switch(zl(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=dr(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?Sr(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?Sr(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?Sr(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?Sr(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?Sr(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?Sr(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?Sr(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=O3[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=Sr(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=Df[a.color.index];a.color.index==81&&(l=Df[1]),l||(l=Df[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=py(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function G1e(e,t,n){t.NumberFmt=[];for(var r=Il(Gt),a=0;a<r.length;++a)t.NumberFmt[r[a]]=Gt[r[a]];var i=e[0].match(Di);if(i)for(a=0;a<i.length;++a){var o=Mt(i[a]);switch(zl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=wn(dr(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}Rf(s,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var pg=["numFmtId","fillId","fontId","borderId","xfId"],vg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Y1e(e,t,n){t.CellXf=[];var r,a=!1;(e[0].match(Di)||[]).forEach(function(i){var o=Mt(i),s=0;switch(zl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],s=0;s<pg.length;++s)r[pg[s]]&&(r[pg[s]]=parseInt(r[pg[s]],10));for(s=0;s<vg.length;++s)r[vg[s]]&&(r[vg[s]]=Sr(r[vg[s]]));if(t.NumberFmt&&r.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=Sr(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var X1e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,c){var u={};if(!s)return u;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&G1e(f,u,c),(f=s.match(a))&&W1e(f,u,l,c),(f=s.match(r))&&V1e(f,u,l,c),(f=s.match(i))&&H1e(f,u,l,c),(f=s.match(n))&&Y1e(f,u,c),u}})();function q1e(e,t){var n=e.read_shift(2),r=Pi(e);return[n,r]}function K1e(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=ohe(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=ihe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Pi(e),r}var Z1e=Ii;function Q1e(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}var J1e=Ii;function eve(e,t,n){var r={};r.NumberFmt=[];for(var a in Gt)r.NumberFmt[a]=Gt[a];r.CellXf=[],r.Fonts=[];var i=[],o=!1;return Rc(e,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Rf(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=py(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var tve=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nve(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Di)||[]).forEach(function(a){var i=Mt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[tve.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function rve(){}function ave(){}var ive=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ove=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,sve=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function lve(e,t,n){t.themeElements={};var r;[["clrScheme",ive,nve],["fontScheme",ove,rve],["fmtScheme",sve,ave]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}var cve=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function OF(e,t){(!e||e.length===0)&&(e=uve());var n,r={};if(!(n=e.match(cve)))throw new Error("themeElements not found in theme");return lve(n[0],r,t),r.raw=e,r}function uve(e,t){var n=[F7];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function fve(e,t,n){var r=e.l+t,a=e.read_shift(4);if(a!==124226){if(!n.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var o;try{o=L7(i,{type:"array"})}catch{return}var s=So(o,"theme/theme/theme1.xml",!0);if(s)return OF(s,n)}}function dve(e){return e.read_shift(4)}function hve(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=pve(e,4);break;case 2:t.xclrValue=dF(e);break;case 3:t.xclrValue=dve(e);break;case 4:e.l+=4;break}return e.l+=8,t}function pve(e,t){return Ii(e,t)}function vve(e,t){return Ii(e,t)}function gve(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=hve(e);break;case 6:r[1]=vve(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function mve(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(gve(e,n-e.l));return{ixfe:r,ext:i}}function yve(e,t){t.forEach(function(n){n[0]})}function xve(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pi(e)}}function bve(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function wve(e){return e.l+=4,e.read_shift(4)!=0}function _ve(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},i=[],o=!1,s=2;return Rc(e,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):s==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!c.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Eve(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a=!1,i=2,o;return e.replace(Di,function(s){var l=Mt(s);switch(zl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):i==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),r}function Ave(e){var t=[];if(!e)return t;var n=1;return(e.match(Di)||[]).forEach(function(r){var a=Mt(r);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?n=a.i:a.i=n,t.push(a);break}}),t}function Sve(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Bt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function Ove(e,t,n){var r=[];return Rc(e,function(i,o,s){switch(s){case 63:r.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function kve(e,t,n,r){if(!e)return e;var a=r||{},i=!1;Rc(e,function(s,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Tve(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function sM(e,t,n,r){var a=Array.isArray(e),i;t.forEach(function(o){var s=Zi(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=qr(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var c=gn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!n&&i.c[f].T)return;n&&!i.c[f].T&&i.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}i.c.push(u)})}function Cve(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&n.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=Mt(s[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Zi(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&H3(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=d.h),r.push(c)}}}}),r}function Mve(e,t){var n=[],r=!1,a={},i=0;return e.replace(Di,function(s,l){var c=Mt(s);switch(zl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&n.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return s}),n}function Pve(e,t){var n=[],r=!1;return e.replace(Di,function(i){var o=Mt(i);switch(zl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function Ive(e){var t={};t.iauthor=e.read_shift(4);var n=ud(e);return t.rfx=n.s,t.ref=Bt(n.s),e.l+=16,t}var Rve=Pi;function Dve(e,t){var n=[],r=[],a={},i=!1;return Rc(e,function(s,l,c){switch(c){case 632:r.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var Nve="application/vnd.ms-office.vbaProject";function Lve(e){var t=vn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");vn.utils.cfb_add(t,a,e.FileIndex[r].content)}}),vn.write(t)}function Fve(){return{"!type":"dialog"}}function Bve(){return{"!type":"dialog"}}function $ve(){return{"!type":"macro"}}function jve(){return{"!type":"macro"}}var s0=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return s?u+=t.c:--u,l?c+=t.r:--c,a+(s?"":"$")+Ta(u)+(l?"":"$")+li(c)}return function(a,i){return t=i,a.replace(e,n)}})(),kF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zve=(function(){return function(t,n){return t.replace(kF,function(r,a,i,o,s,l){var c=F3(o)-(i?0:n.c),u=L3(l)-(s?0:n.r),f=u==0?"":s?u+1:"["+u+"]",d=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+d})}})();function TF(e,t){return e.replace(kF,function(n,r,a,i,o,s){return r+(a=="$"?a+i:Ta(F3(i)+t.c))+(o=="$"?o+s:li(L3(s)+t.r))})}function Uve(e,t,n){var r=fh(t),a=r.s,i=Zi(n),o={r:i.r-a.r,c:i.c-a.c};return TF(e,o)}function Hve(e){return e.length!=1}function lM(e){return e.replace(/_xlfn\./g,"")}function la(e){e.l+=1}function wu(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function CF(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return MF(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=wu(e),s=wu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function MF(e){var t=wu(e),n=wu(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function Vve(e,t,n){if(n.biff<8)return MF(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=wu(e),o=wu(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function PF(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Wve(e);var r=e.read_shift(n&&n.biff==12?4:2),a=wu(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function Wve(e){var t=wu(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Gve(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Yve(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Xve(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function Xve(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function qve(e,t,n){var r=(e[e.l++]&96)>>5,a=CF(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function Kve(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=CF(e,i,n);return[r,a,o]}function Zve(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Qve(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function Jve(e,t,n){var r=(e[e.l++]&96)>>5,a=Vve(e,t-1,n);return[r,a]}function ege(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function cM(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function tge(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function nge(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function rge(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function age(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ige(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function IF(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function oge(e){return e.read_shift(2),IF(e)}function sge(e){return e.read_shift(2),IF(e)}function lge(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=PF(e,0,n);return[r,a]}function cge(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=Yve(e,0,n);return[r,a]}function uge(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=PF(e,0,n);return[r,a,i]}function fge(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[dme[a],NF[a],r]}function dge(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:hge(e);return[a,(i[0]===0?NF:fme)[i[1]]]}function hge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function pge(e,t,n){e.l+=n&&n.biff==2?3:4}function vge(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function gge(e){return e.l++,fd[e.read_shift(1)]}function mge(e){return e.l++,e.read_shift(2)}function yge(e){return e.l++,e.read_shift(1)!==0}function xge(e){return e.l++,Oi(e)}function bge(e,t,n){return e.l++,gv(e,t-1,n)}function wge(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=ea(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=fd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Oi(e);break;case 2:n[1]=dd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function _ge(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?ud:i2)(e));return a}function Ege(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=wge(e,n.biff);return o}function Age(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Sge(e,t,n){if(n.biff==5)return Oge(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function Oge(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function kge(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Tge(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Cge(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function Mge(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var Pge=Ii,Ige=Ii,Rge=Ii;function yv(e,t,n){return e.l+=2,[Gve(e)]}function W3(e){return e.l+=6,[]}var Dge=yv,Nge=W3,Lge=W3,Fge=yv;function RF(e){return e.l+=2,[fa(e),e.read_shift(2)&1]}var Bge=yv,$ge=RF,jge=W3,zge=yv,Uge=yv,Hge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vge(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=Hge[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function Wge(e){return e.l+=2,[e.read_shift(4)]}function Gge(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Yge(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Xge(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function qge(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Kge(e){return e.l+=4,[0,0]}var uM={1:{n:"PtgExp",f:vge},2:{n:"PtgTbl",f:Rge},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:bge},26:{n:"PtgSheet",f:Gge},27:{n:"PtgEndSheet",f:Yge},28:{n:"PtgErr",f:gge},29:{n:"PtgBool",f:yge},30:{n:"PtgInt",f:mge},31:{n:"PtgNum",f:xge},32:{n:"PtgArray",f:ege},33:{n:"PtgFunc",f:fge},34:{n:"PtgFuncVar",f:dge},35:{n:"PtgName",f:Age},36:{n:"PtgRef",f:lge},37:{n:"PtgArea",f:qve},38:{n:"PtgMemArea",f:kge},39:{n:"PtgMemErr",f:Pge},40:{n:"PtgMemNoMem",f:Ige},41:{n:"PtgMemFunc",f:Tge},42:{n:"PtgRefErr",f:Cge},43:{n:"PtgAreaErr",f:Zve},44:{n:"PtgRefN",f:cge},45:{n:"PtgAreaN",f:Jve},46:{n:"PtgMemAreaN",f:Xge},47:{n:"PtgMemNoMemN",f:qge},57:{n:"PtgNameX",f:Sge},58:{n:"PtgRef3d",f:uge},59:{n:"PtgArea3d",f:Kve},60:{n:"PtgRefErr3d",f:Mge},61:{n:"PtgAreaErr3d",f:Qve},255:{}},Zge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qge={1:{n:"PtgElfLel",f:RF},2:{n:"PtgElfRw",f:zge},3:{n:"PtgElfCol",f:Dge},6:{n:"PtgElfRwV",f:Uge},7:{n:"PtgElfColV",f:Fge},10:{n:"PtgElfRadical",f:Bge},11:{n:"PtgElfRadicalS",f:jge},13:{n:"PtgElfColS",f:Nge},15:{n:"PtgElfColSV",f:Lge},16:{n:"PtgElfRadicalLel",f:$ge},25:{n:"PtgList",f:Vge},29:{n:"PtgSxName",f:Wge},255:{}},Jge={0:{n:"PtgAttrNoop",f:Kge},1:{n:"PtgAttrSemi",f:ige},2:{n:"PtgAttrIf",f:rge},4:{n:"PtgAttrChoose",f:tge},8:{n:"PtgAttrGoto",f:nge},16:{n:"PtgAttrSum",f:pge},32:{n:"PtgAttrBaxcel",f:cM},33:{n:"PtgAttrBaxcel",f:cM},64:{n:"PtgAttrSpace",f:oge},65:{n:"PtgAttrSpaceSemi",f:sge},128:{n:"PtgAttrIfError",f:age},255:{}};function xv(e,t,n,r){if(r.biff<8)return Ii(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Ege(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=_ge(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(Ii(e,t)),i}function bv(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=uM[i]||uM[Zge[i]],(i===24||i===25)&&(a=(i===24?Qge:Jge)[e[e.l+1]]),!a||!a.f?Ii(e,t):o.push([a.n,a.f(e,t,n)]);return o}function eme(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var tme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nme(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function DF(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function fM(e,t,n){var r=DF(e,t,n);return r=="#REF"?r:nme(r,n)}function wi(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,c,u,f=0,d=0,h,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",m=0,y=e[0].length;m<y;++m){var x=e[0][m];switch(x[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),c=s.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=Wr(" ",e[0][v][1][1]);break;case 1:g=Wr("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}s.push(c+tme[x[0]]+l);break;case"PtgIsect":l=s.pop(),c=s.pop(),s.push(c+" "+l);break;case"PtgUnion":l=s.pop(),c=s.pop(),s.push(c+","+l);break;case"PtgRange":l=s.pop(),c=s.pop(),s.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Bp(x[1][1],o,a),s.push($p(u,i));break;case"PtgRefN":u=n?Bp(x[1][1],n,a):x[1][1],s.push($p(u,i));break;case"PtgRef3d":f=x[1][1],u=Bp(x[1][2],o,a),p=fM(r,f,a),s.push(p+"!"+$p(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=x[1][0],_=x[1][1];b||(b=0),b&=127;var E=b==0?[]:s.slice(-b);s.length-=b,_==="User"&&(_=E.shift()),s.push(_+"("+E.join(",")+")");break;case"PtgBool":s.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(x[1]);break;case"PtgNum":s.push(String(x[1]));break;case"PtgStr":s.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(x[1]);break;case"PtgAreaN":h=W8(x[1][1],n?{s:n}:o,a),s.push(cw(h,a));break;case"PtgArea":h=W8(x[1][1],o,a),s.push(cw(h,a));break;case"PtgArea3d":f=x[1][1],h=x[1][2],p=fM(r,f,a),s.push(p+"!"+cw(h,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=x[1][2];var w=(r.names||[])[d-1]||(r[0]||[])[d],A=w?w.Name:"SH33TJSNAME"+String(d);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),s.push(A);break;case"PtgNameX":var S=x[1][1];d=x[1][2];var O;if(a.biff<=5)S<0&&(S=-S),r[S]&&(O=r[S][d]);else{var k="";if(((r[S]||[])[0]||[])[0]==14849||(((r[S]||[])[0]||[])[0]==1025?r[S][d]&&r[S][d].itab>0&&(k=r.SheetNames[r[S][d].itab-1]+"!"):k=r.SheetNames[d-1]+"!"),r[S]&&r[S][d])k+=r[S][d].Name;else if(r[0]&&r[0][d])k+=r[0][d].Name;else{var T=(DF(r,S,a)||"").split(";;");T[d-1]?k=T[d-1]:k+="SH33TJSERRX"}s.push(k);break}O||(O={Name:"SH33TJSERRY"}),s.push(O.Name);break;case"PtgParen":var C="(",M=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:C=Wr(" ",e[0][v][1][1])+C;break;case 3:C=Wr("\r",e[0][v][1][1])+C;break;case 4:M=Wr(" ",e[0][v][1][1])+M;break;case 5:M=Wr("\r",e[0][v][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}s.push(C+s.pop()+M);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var P={c:n.c,r:n.r};if(r.sharedf[Bt(u)]){var I=r.sharedf[Bt(u)];s.push(wi(I,o,P,r,a))}else{var L=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){s.push(wi(c[1],o,P,r,a)),L=!0;break}L||s.push(x[1])}break;case"PtgArray":s.push("{"+eme(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&z.indexOf(e[0][m][0])==-1){x=e[0][v];var N=!0;switch(x[1][0]){case 4:N=!1;case 0:g=Wr(" ",x[1][1]);break;case 5:N=!1;case 1:g=Wr("\r",x[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}s.push((N?g:"")+s.pop()+(N?"":g)),v=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function rme(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ii(e,t-2)];var s=bv(e,o,n);return t!==o+a&&(i=xv(e,t-o-a,s,n)),e.l=r,[s,i]}function ame(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ii(e,t-2)];var s=bv(e,o,n);return t!==o+a&&(i=xv(e,t-o-a,s,n)),e.l=r,[s,i]}function ime(e,t,n,r){var a=e.l+t,i=bv(e,r,n),o;return a!==e.l&&(o=xv(e,a-e.l,i,n)),[i,o]}function ome(e,t,n){var r=e.l+t,a,i=e.read_shift(2),o=bv(e,i,n);return i==65535?[[],Ii(e,t-2)]:(t!==i+2&&(a=xv(e,r-i-2,o,n)),[o,a])}function sme(e){var t;if(fc(e,e.l+6)!==65535)return[Oi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function dw(e,t,n){var r=e.l+t,a=Ul(e);n.biff==2&&++e.l;var i=sme(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var s=ame(e,r-e.l,n);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function o2(e,t,n){var r=e.read_shift(4),a=bv(e,r,n),i=e.read_shift(4),o=i>0?xv(e,i,a,n):null;return[a,o]}var lme=o2,s2=o2,cme=o2,ume=o2,fme={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},NF={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function dM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function hw(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Hp={},l0={};function Vp(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function LF(e,t,n,r,a,i){try{r.cellNF&&(e.z=Gt[t])}catch(s){if(r.WTF)throw s}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ga(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Gt[t]==null&&Rf(h0e[t]||"General",t),e.t==="e")e.w=e.w||fd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=v1(e.v);else if(e.t==="d"){var o=to(e.v);(o|0)===o?e.w=o.toString(10):e.w=v1(o)}else{if(e.v===void 0)return"";e.w=zf(e.v,l0)}else e.t==="d"?e.w=is(t,to(e.v),l0):e.w=is(t,e.v,l0)}catch(s){if(r.WTF)throw s}if(r.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=py(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=py(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(r.WTF&&i.Fills)throw s}}}function hme(e,t){var n=qr(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=gn(n))}var pme=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,vme=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,gme=/<(?:\w:)?hyperlink [^>]*>/mg,mme=/"(\w*:\w*)"/,yme=/<(?:\w:)?col\b[^>]*[\/]?>/g,xme=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,bme=/<(?:\w:)?pageMargins[^>]*\/>/g,FF=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wme=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_me=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Eme(e,t,n,r,a,i,o){if(!e)return e;r||(r={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(vme);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var d=c.match(FF);d?G3(d[0],s,a,n):(d=c.match(wme))&&Ame(d[0],d[1]||"",s,a,n);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=c.slice(h,h+50).match(mme);p&&hme(s,p[1])}var v=c.match(_me);v&&v[1]&&Mme(v[1],a);var g=[];if(t.cellStyles){var m=c.match(yme);m&&kme(g,m)}f&&Pme(f[1],s,t,l,i,o);var y=u.match(xme);y&&(s["!autofilter"]=Tme(y[0]));var x=[],b=u.match(pme);if(b)for(h=0;h!=b.length;++h)x[h]=qr(b[h].slice(b[h].indexOf('"')+1));var _=u.match(gme);_&&Sme(s,_,r);var E=u.match(bme);if(E&&(s["!margins"]=Ome(Mt(E[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=gn(l)),t.sheetRows>0&&s["!ref"]){var w=qr(s["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>l.e.r&&(w.e.r=l.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>l.e.c&&(w.e.c=l.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),s["!fullref"]=s["!ref"],s["!ref"]=gn(w))}return g.length>0&&(s["!cols"]=g),x.length>0&&(s["!merges"]=x),s}function G3(e,t,n,r){var a=Mt(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=wn(dr(a.codeName)))}function Ame(e,t,n,r,a){G3(e.slice(0,e.indexOf(">")),n,r,a)}function Sme(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var i=Mt(dr(t[a]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+wn(i.location))):(i.Target="#"+wn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=qr(i.ref),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var u=Bt({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Ome(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function kme(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=Mt(t[r],!0);a.hidden&&(a.hidden=Sr(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,V3(a.width)),I0(a);i<=o;)e[i++]=si(a)}}function Tme(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Cme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Mme(e,t){t.Views||(t.Views=[{}]),(e.match(Cme)||[]).forEach(function(n,r){var a=Mt(n);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),Sr(a.rightToLeft)&&(t.Views[r].RTL=!0)})}var Pme=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=g1("v"),o=g1("f");return function(l,c,u,f,d,h){for(var p=0,v="",g=[],m=[],y=0,x=0,b=0,_="",E,w,A=0,S=0,O,k,T=0,C=0,M=Array.isArray(h.CellXf),P,I=[],L=[],z=Array.isArray(c),N=[],G={},Y=!1,B=!!u.sheetStubs,F=l.split(t),D=0,R=F.length;D!=R;++D){v=F[D].trim();var V=v.length;if(V!==0){var H=0;e:for(p=0;p<V;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(w=Mt(v.slice(H,p),!0),A=w.r!=null?parseInt(w.r,10):A+1,S=-1,u.sheetRows&&u.sheetRows<A)continue;G={},Y=!1,w.ht&&(Y=!0,G.hpt=parseFloat(w.ht),G.hpx=b1(G.hpt)),w.hidden=="1"&&(Y=!0,G.hidden=!0),w.outlineLevel!=null&&(Y=!0,G.level=+w.outlineLevel),Y&&(N[A-1]=G)}break;case"<":H=p;break}if(H>=p)break;if(w=Mt(v.slice(H,p),!0),A=w.r!=null?parseInt(w.r,10):A+1,S=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(G={},Y=!1,w.ht&&(Y=!0,G.hpt=parseFloat(w.ht),G.hpx=b1(G.hpt)),w.hidden=="1"&&(Y=!0,G.hidden=!0),w.outlineLevel!=null&&(Y=!0,G.level=+w.outlineLevel),Y&&(N[A-1]=G)),g=v.slice(p).split(e);for(var j=0;j!=g.length&&g[j].trim().charAt(0)=="<";++j);for(g=g.slice(j),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(m=v.match(n),y=p,x=0,b=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,m!=null&&m.length===2){for(y=0,_=m[1],x=0;x!=_.length&&!((b=_.charCodeAt(x)-64)<1||b>26);++x)y=26*y+b;--y,S=y}else++S;for(x=0;x!=v.length&&v.charCodeAt(x)!==62;++x);if(++x,w=Mt(v.slice(0,x),!0),w.r||(w.r=Bt({r:A-1,c:S})),_=v.slice(x),E={t:""},(m=_.match(i))!=null&&m[1]!==""&&(E.v=wn(m[1])),u.cellFormula){if((m=_.match(o))!=null&&m[1]!==""){if(E.f=wn(dr(m[1])).replace(/\r\n/g,`
`),u.xlfn||(E.f=lM(E.f)),m[0].indexOf('t="array"')>-1)E.F=(_.match(a)||[])[1],E.F.indexOf(":")>-1&&I.push([qr(E.F),E.F]);else if(m[0].indexOf('t="shared"')>-1){k=Mt(m[0]);var K=wn(dr(m[1]));u.xlfn||(K=lM(K)),L[parseInt(k.si,10)]=[k,K,w.r]}}else(m=_.match(/<f[^>]*\/>/))&&(k=Mt(m[0]),L[k.si]&&(E.f=Uve(L[k.si][1],L[k.si][2],w.r)));var re=Zi(w.r);for(x=0;x<I.length;++x)re.r>=I[x][0].s.r&&re.r<=I[x][0].e.r&&re.c>=I[x][0].s.c&&re.c<=I[x][0].e.c&&(E.F=I[x][1])}if(w.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(B)E.t="z";else continue;else E.t=w.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),E.t){case"n":if(E.v==""||E.v==null){if(!B)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!B)continue;E.t="z"}else O=Hp[parseInt(E.v,10)],E.v=O.t,E.r=O.r,u.cellHTML&&(E.h=O.h);break;case"str":E.t="s",E.v=E.v!=null?dr(E.v):"",u.cellHTML&&(E.h=R3(E.v));break;case"inlineStr":m=_.match(r),E.t="s",m!=null&&(O=H3(m[1]))?(E.v=O.t,u.cellHTML&&(E.h=O.h)):E.v="";break;case"b":E.v=Sr(E.v);break;case"d":u.cellDates?E.v=Ga(E.v,1):(E.v=to(Ga(E.v,1)),E.t="n");break;case"e":(!u||u.cellText!==!1)&&(E.w=E.v),E.v=aF[E.v];break}if(T=C=0,P=null,M&&w.s!==void 0&&(P=h.CellXf[w.s],P!=null&&(P.numFmtId!=null&&(T=P.numFmtId),u.cellStyles&&P.fillId!=null&&(C=P.fillId))),LF(E,T,C,u,d,h),u.cellDates&&M&&E.t=="n"&&uh(Gt[T])&&(E.t="d",E.v=a2(E.v)),w.cm&&u.xlmeta){var ae=(u.xlmeta.Cell||[])[+w.cm-1];ae&&ae.type=="XLDAPR"&&(E.D=!0)}if(z){var U=Zi(w.r);c[U.r]||(c[U.r]=[]),c[U.r][U.c]=E}else c[w.r]=E}}}}N.length>0&&(c["!rows"]=N)}})();function Ime(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}var Rme=ud;function Dme(){}function Nme(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=rhe(e),n}function Lme(e){var t=cs(e);return[t]}function Fme(e){var t=cd(e);return[t]}function Bme(e){var t=cs(e),n=e.read_shift(1);return[t,n,"b"]}function $me(e){var t=cd(e),n=e.read_shift(1);return[t,n,"b"]}function jme(e){var t=cs(e),n=e.read_shift(1);return[t,n,"e"]}function zme(e){var t=cd(e),n=e.read_shift(1);return[t,n,"e"]}function Ume(e){var t=cs(e),n=e.read_shift(4);return[t,n,"s"]}function Hme(e){var t=cd(e),n=e.read_shift(4);return[t,n,"s"]}function Vme(e){var t=cs(e),n=Oi(e);return[t,n,"n"]}function BF(e){var t=cd(e),n=Oi(e);return[t,n,"n"]}function Wme(e){var t=cs(e),n=j3(e);return[t,n,"n"]}function Gme(e){var t=cd(e),n=j3(e);return[t,n,"n"]}function Yme(e){var t=cs(e),n=B3(e);return[t,n,"is"]}function Xme(e){var t=cs(e),n=Pi(e);return[t,n,"str"]}function qme(e){var t=cd(e),n=Pi(e);return[t,n,"str"]}function Kme(e,t,n){var r=e.l+t,a=cs(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=s2(e,r-e.l,n);o[3]=wi(s,null,a,n.supbooks,n)}else e.l=r;return o}function Zme(e,t,n){var r=e.l+t,a=cs(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=s2(e,r-e.l,n);o[3]=wi(s,null,a,n.supbooks,n)}else e.l=r;return o}function Qme(e,t,n){var r=e.l+t,a=cs(e);a.r=n["!row"];var i=Oi(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=s2(e,r-e.l,n);o[3]=wi(s,null,a,n.supbooks,n)}else e.l=r;return o}function Jme(e,t,n){var r=e.l+t,a=cs(e);a.r=n["!row"];var i=Pi(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=s2(e,r-e.l,n);o[3]=wi(s,null,a,n.supbooks,n)}else e.l=r;return o}var eye=ud;function tye(e,t){var n=e.l+t,r=ud(e),a=$3(e),i=Pi(e),o=Pi(e),s=Pi(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function nye(){}function rye(e,t,n){var r=e.l+t,a=tF(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=lme(e,r-e.l,n);o[1]=s}else e.l=r;return o}function aye(e,t,n){var r=e.l+t,a=ud(e),i=[a];if(n.cellFormula){var o=ume(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}var iye=["left","right","top","bottom","header","footer"];function oye(e){var t={};return iye.forEach(function(n){t[n]=Oi(e)}),t}function sye(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function lye(){}function cye(){}function uye(e,t,n,r,a,i,o){if(!e)return e;var s=t||{};r||(r={"!id":{}});var l=s.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,v,g,m,y,x,b,_,E=[];s.biff=12,s["!row"]=0;var w=0,A=!1,S=[],O={},k=s.supbooks||a.supbooks||[[]];if(k.sharedf=O,k.arrayf=S,k.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!s.supbooks&&(s.supbooks=k,a.Names))for(var T=0;T<a.Names.length;++T)k[0][T+1]=a.Names[T];var C=[],M=[],P=!1;my[16]={n:"BrtShortReal",f:BF};var I;if(Rc(e,function(N,G,Y){if(!d)switch(Y){case 148:c=N;break;case 0:h=N,s.sheetRows&&s.sheetRows<=h.r&&(d=!0),b=li(g=h.r),s["!row"]=h.r,(N.hidden||N.hpt||N.level!=null)&&(N.hpt&&(N.hpx=b1(N.hpt)),M[N.r]=N);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:N[2]},N[2]){case"n":p.v=N[1];break;case"s":x=Hp[N[1]],p.v=x.t,p.r=x.r;break;case"b":p.v=!!N[1];break;case"e":p.v=N[1],s.cellText!==!1&&(p.w=fd[p.v]);break;case"str":p.t="s",p.v=N[1];break;case"is":p.t="s",p.v=N[1].t;break}if((v=o.CellXf[N[0].iStyleRef])&&LF(p,v.numFmtId,null,s,i,o),m=N[0].c==-1?m+1:N[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Ta(m)+b]=p,s.cellFormula){for(A=!1,w=0;w<S.length;++w){var B=S[w];h.r>=B[0].s.r&&h.r<=B[0].e.r&&m>=B[0].s.c&&m<=B[0].e.c&&(p.F=gn(B[0]),A=!0)}!A&&N.length>3&&(p.f=N[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),s.cellDates&&v&&p.t=="n"&&uh(Gt[v.numFmtId])){var F=bf(p.v);F&&(p.t="d",p.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;p={t:"z",v:void 0},m=N[0].c==-1?m+1:N[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Ta(m)+b]=p,u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 176:E.push(N);break;case 49:I=((s.xlmeta||{}).Cell||[])[N-1];break;case 494:var D=r["!id"][N.relId];for(D?(N.Target=D.Target,N.loc&&(N.Target+="#"+N.loc),N.Rel=D):N.relId==""&&(N.Target="#"+N.loc),g=N.rfx.s.r;g<=N.rfx.e.r;++g)for(m=N.rfx.s.c;m<=N.rfx.e.c;++m)s.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=N):(y=Bt({c:m,r:g}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=N);break;case 426:if(!s.cellFormula)break;S.push(N),_=s.dense?l[g][m]:l[Ta(m)+b],_.f=wi(N[1],u,{r:h.r,c:m},k,s),_.F=gn(N[0]);break;case 427:if(!s.cellFormula)break;O[Bt(N[0].s)]=N[1],_=s.dense?l[g][m]:l[Ta(m)+b],_.f=wi(N[1],u,{r:h.r,c:m},k,s);break;case 60:if(!s.cellStyles)break;for(;N.e>=N.s;)C[N.e--]={width:N.w/256,hidden:!!(N.flags&1),level:N.level},P||(P=!0,V3(N.w/256)),I0(C[N.e+1]);break;case 161:l["!autofilter"]={ref:gn(N)};break;case 476:l["!margins"]=N;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),N.name&&(a.Sheets[n].CodeName=N.name),(N.above||N.left)&&(l["!outline"]={above:N.above,left:N.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),N.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!G.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=gn(c||u)),s.sheetRows&&l["!ref"]){var L=qr(l["!ref"]);s.sheetRows<=+L.e.r&&(L.e.r=s.sheetRows-1,L.e.r>u.e.r&&(L.e.r=u.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>u.e.c&&(L.e.c=u.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),l["!fullref"]=l["!ref"],l["!ref"]=gn(L))}return E.length>0&&(l["!merges"]=E),C.length>0&&(l["!cols"]=C),M.length>0&&(l["!rows"]=M),l}function fye(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var a=wn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,a,r]}function dye(e,t,n,r,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=fye(f);u.s.r=u.s.c=0,u.e.c=s,c=Ta(s),d[0].forEach(function(h,p){o[c+li(p)]={t:"n",v:h,z:d[1]},l=p}),u.e.r<l&&(u.e.r=l),++s}),s>0&&(o["!ref"]=gn(u)),o}function hye(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(FF);return s&&G3(s[0],i,a,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function pye(e,t){e.l+=10;var n=Pi(e);return{name:n}}function vye(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Rc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),l.name&&(a.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var $F=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],gye=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mye=[],yye=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function hM(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var i=t[a];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=Sr(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function pM(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=Sr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function jF(e){pM(e.WBProps,$F),pM(e.CalcPr,yye),hM(e.WBView,gye),hM(e.Sheets,mye),l0.date1904=Sr(e.WBProps.date1904)}var xye="][*?/\\".split("");function bye(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return xye.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var wye=/<\w+:workbook/;function _ye(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",i={},o=0;if(e.replace(Di,function(l,c){var u=Mt(l);switch(zl(u[0])){case"<?xml":break;case"<workbook":l.match(wye)&&(a="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":$F.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=Sr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=dr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=wn(dr(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=dr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Sr(u.hidden||"0")&&(i.Hidden=!0),o=c+l.length;break;case"</definedName>":i.Ref=wn(dr(e.slice(o,c))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),j0e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return jF(n),n}function Eye(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=IE(e),n.name=Pi(e),n}function Aye(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?Pi(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Sye(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function Oye(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=ahe(e),o=cme(e,0,n),s=$3(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function kye(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],my[16]={n:"BrtFRTArchID$",f:Sye},Rc(e,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=wi(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),a=!0;break;case 36:r.pop(),a=!1;break;case 37:r.push(u),a=!0;break;case 38:r.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),jF(n),n.Names=i,n.supbooks=o,n}function Tye(e,t,n){return t.slice(-4)===".bin"?kye(e,n):_ye(e,n)}function Cye(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?uye(e,r,n,a,i,o,s):Eme(e,r,n,a,i,o,s)}function Mye(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?vye(e,r,n,a,i):hye(e,r,n,a,i)}function Pye(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?$ve():jve()}function Iye(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?Fve():Bve()}function Rye(e,t,n,r){return t.slice(-4)===".bin"?eve(e,n,r):X1e(e,n,r)}function Dye(e,t,n){return OF(e,n)}function Nye(e,t,n){return t.slice(-4)===".bin"?g1e(e,n):p1e(e,n)}function Lye(e,t,n){return t.slice(-4)===".bin"?Dve(e,n):Cve(e,n)}function Fye(e,t,n){return t.slice(-4)===".bin"?Ove(e):Ave(e)}function Bye(e,t,n,r){return n.slice(-4)===".bin"?kve(e,t,n,r):void 0}function $ye(e,t,n){return t.slice(-4)===".bin"?_ve(e,t,n):Eve(e,t,n)}var zF=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,UF=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function gs(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var a=e.match(zF),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(UF),(o=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),r[s]=i[2].slice(1,i[2].length-1));return r}function jye(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(zF),a,i,o,s;if(r)for(s=0;s!=r.length;++s)a=r[s].match(UF),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}var Wp;function zye(e,t){var n=Wp[e]||wn(e);return n==="General"?zf(t):is(n,t)}function Uye(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Sr(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=Ga(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[wn(t)]=a}function Hye(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||fd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=v1(e.v):e.w=zf(e.v):e.w=zye(t||"General",e.v)}catch(i){if(n.WTF)throw i}try{var r=Wp[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&uh(r)){var a=bf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(n.WTF)throw i}}}function Vye(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=U1e[r.Pattern]||r.Pattern)}e[t.ID]=t}function Wye(e,t,n,r,a,i,o,s,l,c){var u="General",f=r.StyleID,d={};c=c||{};var h=[],p=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Sr(e);break;case"String":r.t="s",r.r=L8(wn(e)),r.v=e.indexOf("<")>-1?wn(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Ga(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=wn(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=aF[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=L8(t||e));break}if(Hye(r,u,c),c.cellFormula!==!1)if(r.Formula){var v=wn(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=s0(v,a),delete r.Formula,r.ArrayRange=="RC"?r.F=s0("RC:RC",a):r.ArrayRange&&(r.F=s0(r.ArrayRange,a),l.push([qr(r.F),r.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(r.F=l[p][1]);c.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Gye(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function pw(e,t){var n=t||{};M7();var r=op(D3(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=dr(r));var a=r.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=si(n);return o.type="string",y1.to_workbook(r,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(he){a.indexOf("<"+he)>=0&&(i=!0)}),i)return txe(r,n);Wp={"General Number":"General","General Date":Gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gt[15],"Short Date":Gt[14],"Long Time":Gt[19],"Medium Time":Gt[18],"Short Time":Gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gt[2],Standard:Gt[4],Percent:Gt[10],Scientific:Gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],c,u={},f=[],d=n.dense?[]:{},h="",p={},v={},g=gs('<Data ss:Type="String">'),m=0,y=0,x=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},E={},w="",A=0,S=[],O={},k={},T=0,C=[],M=[],P={},I=[],L,z=!1,N=[],G=[],Y={},B=0,F=0,D={Sheets:[],WBProps:{date1904:!1}},R={};m1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var V="";s=m1.exec(r);)switch(s[3]=(V=s[3]).toLowerCase()){case"data":if(V=="data"){if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?Wye(r.slice(m,s.index),w,g,l[l.length-1][0]=="comment"?P:p,{c:y,r:x},_,I[y],v,N,n):(w="",g=gs(s[0]),m=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(M.length>0&&(p.c=M),(!n.sheetRows||n.sheetRows>x)&&p.v!==void 0&&(n.dense?(d[x]||(d[x]=[]),d[x][y]=p):d[Ta(y)+li(x)]=p),p.HRef&&(p.l={Target:wn(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(B=y+(parseInt(p.MergeAcross,10)|0),F=x+(parseInt(p.MergeDown,10)|0),S.push({s:{c:y,r:x},e:{c:B,r:F}})),!n.sheetStubs)p.MergeAcross?y=B+1:++y;else if(p.MergeAcross||p.MergeDown){for(var H=y;H<=B;++H)for(var j=x;j<=F;++j)(H>y||j>x)&&(n.dense?(d[j]||(d[j]=[]),d[j][H]={t:"z"}):d[Ta(H)+li(j)]={t:"z"});y=B+1}else++y;else p=jye(s[0]),p.Index&&(y=+p.Index-1),y<b.s.c&&(b.s.c=y),y>b.e.c&&(b.e.c=y),s[0].slice(-2)==="/>"&&++y,M=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(x<b.s.r&&(b.s.r=x),x>b.e.r&&(b.e.r=x),s[0].slice(-2)==="/>"&&(v=gs(s[0]),v.Index&&(x=+v.Index-1)),y=0,++x):(v=gs(s[0]),v.Index&&(x=+v.Index-1),Y={},(v.AutoFitHeight=="0"||v.Height)&&(Y.hpx=parseInt(v.Height,10),Y.hpt=SF(Y.hpx),G[x]=Y),v.Hidden=="1"&&(Y.hidden=!0,G[x]=Y));break;case"worksheet":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"));f.push(h),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(d["!ref"]=gn(b),n.sheetRows&&n.sheetRows<=b.e.r&&(d["!fullref"]=d["!ref"],b.e.r=n.sheetRows-1,d["!ref"]=gn(b))),S.length&&(d["!merges"]=S),I.length>0&&(d["!cols"]=I),G.length>0&&(d["!rows"]=G),u[h]=d}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=y=0,l.push([s[3],!1]),c=gs(s[0]),h=wn(c.Name),d=n.dense?[]:{},S=[],N=[],G=[],R={name:h,Hidden:0},D.Sheets.push(R);break;case"table":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),I=[],z=!1}break;case"style":s[1]==="/"?Vye(_,E,n):E=gs(s[0]);break;case"numberformat":E.nf=wn(gs(s[0]).Format||"General"),Wp[E.nf]&&(E.nf=Wp[E.nf]);for(var K=0;K!=392&&Gt[K]!=E.nf;++K);if(K==392){for(K=57;K!=392;++K)if(Gt[K]==null){Rf(E.nf,K);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(L=gs(s[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!z&&L.wpx>10){z=!0,Yi=EF;for(var re=0;re<I.length;++re)I[re]&&I0(I[re])}z&&I0(L),I[L.Index-1||I.length]=L;for(var ae=0;ae<+L.Span;++ae)I[I.length]=si(L);break;case"namedrange":if(s[1]==="/")break;D.Names||(D.Names=[]);var U=Mt(s[0]),q={Name:U.Name,Ref:s0(U.RefersTo.slice(1),{r:0,c:0})};D.Sheets.length>0&&(q.Sheet=D.Sheets.length-1),D.Names.push(q);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?w+=r.slice(A,s.index):A=s.index+s[0].length;break;case"interior":if(!n.cellStyles)break;E.Interior=gs(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?Che(O,V,r.slice(T,s.index)):T=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"));Gye(P),M.push(P)}else l.push([s[3],!1]),c=gs(s[0]),P={a:c.Author};break;case"autofilter":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var J=gs(s[0]);d["!autofilter"]={ref:s0(J.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((c=l.pop())[0]!==s[3])throw new Error("Bad state: "+c.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return bM(r,n);var X=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:X=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:X=!1}break;case"excelworkbook":switch(s[3]){case"date1904":D.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:X=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:X=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(r.slice(T,s.index)){case"SheetHidden":R.Hidden=1;break;case"SheetVeryHidden":R.Hidden=2;break}else T=s.index+s[0].length;break;case"header":d["!margins"]||Vp(d["!margins"]={},"xlml"),isNaN(+Mt(s[0]).Margin)||(d["!margins"].header=+Mt(s[0]).Margin);break;case"footer":d["!margins"]||Vp(d["!margins"]={},"xlml"),isNaN(+Mt(s[0]).Margin)||(d["!margins"].footer=+Mt(s[0]).Margin);break;case"pagemargins":var ce=Mt(s[0]);d["!margins"]||Vp(d["!margins"]={},"xlml"),isNaN(+ce.Top)||(d["!margins"].top=+ce.Top),isNaN(+ce.Left)||(d["!margins"].left=+ce.Left),isNaN(+ce.Right)||(d["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(d["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":D.Views||(D.Views=[]),D.Views[0]||(D.Views[0]={}),D.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:X=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:X=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:X=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:X=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:X=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:X=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:X=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:X=!1}break;case"smarttags":break;default:X=!1;break}if(X||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?Uye(k,V,C,r.slice(T,s.index)):(C=s,T=s.index+s[0].length);break}if(n.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var te={};return!n.bookSheets&&!n.bookProps&&(te.Sheets=u),te.SheetNames=f,te.Workbook=D,te.SSF=si(Gt),te.Props=O,te.Custprops=k,te}function LE(e,t){switch(q3(t=t||{}),t.type||"base64"){case"base64":return pw(Co(e),t);case"binary":case"buffer":case"file":return pw(e,t);case"array":return pw(ld(e),t)}}function Yye(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=she(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=lhe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var Xye=[60,1084,2066,2165,2175];function qye(e,t,n,r,a){var i=r,o=[],s=n.slice(n.l,n.l+i);if(a&&a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),n.l+=i;for(var l=fc(n,n.l),c=FE[l],u=0;c!=null&&Xye.indexOf(l)>-1;)i=fc(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),s=n.slice(u,n.l+4+i),o.push(s),n.l+=4+i,c=FE[l=fc(n,n.l)];var f=qc(o);ei(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,a)}function tl(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Gt[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||fd[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=v1(e.v):e.w=zf(e.v):e.w=is(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&uh(Gt[r]||String(r))){var a=bf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function gg(e,t,n){return{v:e,ixfe:t,t:n}}function Kye(e,t){var n={opts:{}},r={},a=t.dense?[]:{},i={},o={},s=null,l=[],c="",u={},f,d="",h,p,v,g,m={},y=[],x,b,_=[],E=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},S=function(Ye){return Ye<8?Df[Ye]:Ye<64&&E[Ye-8]||Df[Ye]},O=function(Ye,mt,Ct){var nn=mt.XF.data;if(!(!nn||!nn.patternType||!Ct||!Ct.cellStyles)){mt.s={},mt.s.patternType=nn.patternType;var Cr;(Cr=x1(S(nn.icvFore)))&&(mt.s.fgColor={rgb:Cr}),(Cr=x1(S(nn.icvBack)))&&(mt.s.bgColor={rgb:Cr})}},k=function(Ye,mt,Ct){if(!(Y>1)&&!(Ct.sheetRows&&Ye.r>=Ct.sheetRows)){if(Ct.cellStyles&&mt.XF&&mt.XF.data&&O(Ye,mt,Ct),delete mt.ixfe,delete mt.XF,f=Ye,d=Bt(Ye),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ye.r<o.s.r&&(o.s.r=Ye.r),Ye.c<o.s.c&&(o.s.c=Ye.c),Ye.r+1>o.e.r&&(o.e.r=Ye.r+1),Ye.c+1>o.e.c&&(o.e.c=Ye.c+1),Ct.cellFormula&&mt.f){for(var nn=0;nn<y.length;++nn)if(!(y[nn][0].s.c>Ye.c||y[nn][0].s.r>Ye.r)&&!(y[nn][0].e.c<Ye.c||y[nn][0].e.r<Ye.r)){mt.F=gn(y[nn][0]),(y[nn][0].s.c!=Ye.c||y[nn][0].s.r!=Ye.r)&&delete mt.f,mt.f&&(mt.f=""+wi(y[nn][1],o,Ye,N,T));break}}Ct.dense?(a[Ye.r]||(a[Ye.r]=[]),a[Ye.r][Ye.c]=mt):a[d]=mt}},T={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var C,M=[],P=[],I=[],L=[],z=!1,N=[];N.SheetNames=T.snames,N.sharedf=T.sharedf,N.arrayf=T.arrayf,N.names=[],N.XTI=[];var G=0,Y=0,B=0,F=[],D=[],R;T.codepage=1200,Ps(1200);for(var V=!1;e.l<e.length-1;){var H=e.l,j=e.read_shift(2);if(j===0&&G===10)break;var K=e.l===e.length?0:e.read_shift(2),re=FE[j];if(re&&re.f){if(t.bookSheets&&G===133&&j!==133)break;if(G=j,re.r===2||re.r==12){var ae=e.read_shift(2);if(K-=2,!T.enc&&ae!==j&&((ae&255)<<8|ae>>8)!==j)throw new Error("rt mismatch: "+ae+"!="+j);re.r==12&&(e.l+=10,K-=10)}var U={};if(j===10?U=re.f(e,K,T):U=qye(j,re,e,K,T),Y==0&&[9,521,1033,2057].indexOf(G)===-1)continue;switch(j){case 34:n.opts.Date1904=w.WBProps.date1904=U;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=U,!t.password)throw new Error("File is password-protected");if(U.valid==null)throw new Error("Encryption scheme unsupported");if(!U.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=U;break;case 66:var q=Number(U);switch(q){case 21010:q=1200;break;case 32768:q=1e4;break;case 32769:q=1252;break}Ps(T.codepage=q),V=!0;break;case 317:T.rrtabid=U;break;case 25:T.winlocked=U;break;case 439:n.opts.RefreshAll=U;break;case 12:n.opts.CalcCount=U;break;case 16:n.opts.CalcDelta=U;break;case 17:n.opts.CalcIter=U;break;case 13:n.opts.CalcMode=U;break;case 14:n.opts.CalcPrecision=U;break;case 95:n.opts.CalcSaveRecalc=U;break;case 15:T.CalcRefMode=U;break;case 2211:n.opts.FullCalc=U;break;case 129:U.fDialog&&(a["!type"]="dialog"),U.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),U.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(U);break;case 430:N.push([U]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(U);break;case 24:case 536:R={Name:U.Name,Ref:wi(U.rgce,o,null,N,T)},U.itab>0&&(R.Sheet=U.itab-1),N.names.push(R),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(U),U.Name=="_xlnm._FilterDatabase"&&U.itab>0&&U.rgce&&U.rgce[0]&&U.rgce[0][0]&&U.rgce[0][0][0]=="PtgArea3d"&&(D[U.itab-1]={ref:gn(U.rgce[0][0][1][2])});break;case 22:T.ExternCount=U;break;case 23:N.length==0&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(U),N.XTI=N.XTI.concat(U);break;case 2196:if(T.biff<8)break;R!=null&&(R.Comment=U[1]);break;case 18:a["!protect"]=U;break;case 19:U!==0&&T.WTF&&console.error("Password verifier: "+U);break;case 133:i[U.pos]=U,T.snames.push(U.name);break;case 10:{if(--Y)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=gn(o),t.sheetRows&&t.sheetRows<=o.e.r){var J=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=gn(o),o.e.r=J}o.e.r++,o.e.c++}M.length>0&&(a["!merges"]=M),P.length>0&&(a["!objects"]=P),I.length>0&&(a["!cols"]=I),L.length>0&&(a["!rows"]=L),w.Sheets.push(A)}c===""?u=a:r[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[j]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[U.BIFFVer]||8),T.biffguess=U.BIFFVer==0,U.BIFFVer==0&&U.dt==4096&&(T.biff=5,V=!0,Ps(T.codepage=28591)),T.biff==8&&U.BIFFVer==0&&U.dt==16&&(T.biff=2),Y++)break;if(a=t.dense?[]:{},T.biff<8&&!V&&(V=!0,Ps(T.codepage=t.codepage||1252)),T.biff<5||U.BIFFVer==0&&U.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var X={pos:e.l-K,name:c};i[X.pos]=X,T.snames.push(c)}else c=(i[H]||{name:""}).name;U.dt==32&&(a["!type"]="chart"),U.dt==64&&(a["!type"]="macro"),M=[],P=[],T.arrayf=y=[],I=[],L=[],z=!1,A={Hidden:(i[H]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[U.r]||[])[U.c]:a[Bt({c:U.c,r:U.r})])&&++U.c,x={ixfe:U.ixfe,XF:_[U.ixfe]||{},v:U.val,t:"n"},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t);break;case 5:case 517:x={ixfe:U.ixfe,XF:_[U.ixfe],v:U.val,t:U.t},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t);break;case 638:x={ixfe:U.ixfe,XF:_[U.ixfe],v:U.rknum,t:"n"},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t);break;case 189:for(var ce=U.c;ce<=U.C;++ce){var te=U.rkrec[ce-U.c][0];x={ixfe:te,XF:_[te],v:U.rkrec[ce-U.c][1],t:"n"},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:ce,r:U.r},x,t)}break;case 6:case 518:case 1030:{if(U.val=="String"){s=U;break}if(x=gg(U.val,U.cell.ixfe,U.tt),x.XF=_[x.ixfe],t.cellFormula){var he=U.formula;if(he&&he[0]&&he[0][0]&&he[0][0][0]=="PtgExp"){var me=he[0][0][1][0],xe=he[0][0][1][1],be=Bt({r:me,c:xe});m[be]?x.f=""+wi(U.formula,o,U.cell,N,T):x.F=((t.dense?(a[me]||[])[xe]:a[be])||{}).F}else x.f=""+wi(U.formula,o,U.cell,N,T)}B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k(U.cell,x,t),s=U}break;case 7:case 519:if(s)s.val=U,x=gg(U,s.cell.ixfe,"s"),x.XF=_[x.ixfe],t.cellFormula&&(x.f=""+wi(s.formula,o,s.cell,N,T)),B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k(s.cell,x,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(U);var De=Bt(U[0].s);if(h=t.dense?(a[U[0].s.r]||[])[U[0].s.c]:a[De],t.cellFormula&&h){if(!s||!De||!h)break;h.f=""+wi(U[1],o,U[0],N,T),h.F=gn(U[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!s)break;m[Bt(s.cell)]=U[0],h=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[Bt(s.cell)],(h||{}).f=""+wi(U[0],o,f,N,T)}}break;case 253:x=gg(l[U.isst].t,U.ixfe,"s"),l[U.isst].h&&(x.h=l[U.isst].h),x.XF=_[x.ixfe],B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:U.ixfe,XF:_[U.ixfe],t:"z"},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t));break;case 190:if(t.sheetStubs)for(var ue=U.c;ue<=U.C;++ue){var ve=U.ixfe[ue-U.c];x={ixfe:ve,XF:_[ve],t:"z"},B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:ue,r:U.r},x,t)}break;case 214:case 516:case 4:x=gg(U.val,U.ixfe,"s"),x.XF=_[x.ixfe],B>0&&(x.z=F[x.ixfe>>8&63]),tl(x,t,n.opts.Date1904),k({c:U.c,r:U.r},x,t);break;case 0:case 512:Y===1&&(o=U);break;case 252:l=U;break;case 1054:if(T.biff==4){F[B++]=U[1];for(var ze=0;ze<B+163&&Gt[ze]!=U[1];++ze);ze>=163&&Rf(U[1],B+163)}else Rf(U[1],U[0]);break;case 30:{F[B++]=U;for(var We=0;We<B+163&&Gt[We]!=U;++We);We>=163&&Rf(U,B+163)}break;case 229:M=M.concat(U);break;case 93:P[U.cmo[0]]=T.lastobj=U;break;case 438:T.lastobj.TxO=U;break;case 127:T.lastobj.ImData=U;break;case 440:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[Bt({c:v,r:g})],h&&(h.l=U[1]);break;case 2048:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[Bt({c:v,r:g})],h&&h.l&&(h.l.Tooltip=U[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;h=t.dense?(a[U[0].r]||[])[U[0].c]:a[Bt(U[0])];var lt=P[U[2]];h||(t.dense?(a[U[0].r]||(a[U[0].r]=[]),h=a[U[0].r][U[0].c]={t:"z"}):h=a[Bt(U[0])]={t:"z"},o.e.r=Math.max(o.e.r,U[0].r),o.s.r=Math.min(o.s.r,U[0].r),o.e.c=Math.max(o.e.c,U[0].c),o.s.c=Math.min(o.s.c,U[0].c)),h.c||(h.c=[]),p={a:U[1],t:lt.TxO.t},h.c.push(p)}break;case 2173:yve(_[U.ixfe],U.ext);break;case 125:{if(!T.cellStyles)break;for(;U.e>=U.s;)I[U.e--]={width:U.w/256,level:U.level||0,hidden:!!(U.flags&1)},z||(z=!0,V3(U.w/256)),I0(I[U.e+1])}break;case 520:{var Pe={};U.level!=null&&(L[U.r]=Pe,Pe.level=U.level),U.hidden&&(L[U.r]=Pe,Pe.hidden=!0),U.hpt&&(L[U.r]=Pe,Pe.hpt=U.hpt,Pe.hpx=b1(U.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Vp(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[j]]=U;break;case 161:a["!margins"]||Vp(a["!margins"]={}),a["!margins"].header=U.header,a["!margins"].footer=U.footer;break;case 574:U.RTL&&(w.Views[0].RTL=!0);break;case 146:E=U;break;case 2198:C=U;break;case 140:b=U;break;case 442:c?A.CodeName=U||A.name:w.WBProps.CodeName=U||"ThisWorkbook";break}}else re||console.error("Missing Info for XLS Record 0x"+j.toString(16)),e.l+=K}return n.SheetNames=Il(i).sort(function(ct,Ye){return Number(ct)-Number(Ye)}).map(function(ct){return i[ct].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&D.forEach(function(ct,Ye){n.Sheets[n.SheetNames[Ye]]["!autofilter"]=ct}),n.Strings=l,n.SSF=si(Gt),T.enc&&(n.Encryption=T.enc),C&&(n.Themes=C),n.Metadata={},b!==void 0&&(n.Metadata.Country=b),N.names.length>0&&(w.Names=N.names),n.Workbook=w,n}var vM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Zye(e,t,n){var r=vn.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=Q8(r,phe,vM.DSI);for(var i in a)t[i]=a[i]}catch(c){if(n.WTF)throw c}var o=vn.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=Q8(o,vhe,vM.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(oF(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function HF(e,t){t||(t={}),q3(t),y7(),t.codepage&&k3(t.codepage);var n,r;if(e.FullPaths){if(vn.find(e,"/encryption"))throw new Error("File is password-protected");n=vn.find(e,"!CompObj"),r=vn.find(e,"/Workbook")||vn.find(e,"/Book")}else{switch(t.type){case"base64":e=Ts(Co(e));break;case"binary":e=Ts(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ei(e,0),r={content:e}}var a,i;if(n&&Yye(n),t.bookProps&&!t.bookSheets)a={};else{var o=dn?"buffer":"array";if(r&&r.content)a=Kye(r.content,t);else if((i=vn.find(e,"PerfectOffice_MAIN"))&&i.content)a=Up.to_workbook(i.content,(t.type=o,t));else if((i=vn.find(e,"NativeContent_MAIN"))&&i.content)a=Up.to_workbook(i.content,(t.type=o,t));else throw(i=vn.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&vn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Lve(e))}var s={};return e.FullPaths&&Zye(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}var my={0:{f:Ime},1:{f:Lme},2:{f:Wme},3:{f:jme},4:{f:Bme},5:{f:Vme},6:{f:Xme},7:{f:Ume},8:{f:Jme},9:{f:Qme},10:{f:Kme},11:{f:Zme},12:{f:Fme},13:{f:Gme},14:{f:zme},15:{f:$me},16:{f:BF},17:{f:qme},18:{f:Hme},19:{f:B3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Oye},40:{},42:{},43:{f:K1e},44:{f:q1e},45:{f:Z1e},46:{f:J1e},47:{f:Q1e},48:{},49:{f:ehe},50:{},51:{f:bve},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yF},62:{f:Yme},63:{f:Sve},64:{f:lye},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ii,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:sye},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Nme},148:{f:Rme,p:16},151:{f:nye},152:{},153:{f:Aye},154:{},155:{},156:{f:Eye},157:{},158:{},159:{T:1,f:v1e},160:{T:-1},161:{T:1,f:ud},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eye},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:xve},336:{T:-1},337:{f:wve,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:IE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rye},427:{f:aye},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:oye},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Dme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tye},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:IE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Rve},633:{T:1},634:{T:-1},635:{T:1,f:Ive},636:{T:-1},637:{f:nhe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pye},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},FE={6:{f:dw},10:{f:zc},12:{f:fa},13:{f:fa},14:{f:ea},15:{f:ea},16:{f:Oi},17:{f:ea},18:{f:ea},19:{f:fa},20:{f:nM},21:{f:nM},23:{f:mF},24:{f:aM},25:{f:ea},26:{},27:{},28:{f:Mpe},29:{},34:{f:ea},35:{f:rM},38:{f:Oi},39:{f:Oi},40:{f:Oi},41:{f:Oi},42:{f:ea},43:{f:ea},47:{f:D1e},49:{f:fpe},51:{f:fa},60:{},61:{f:lpe},64:{f:ea},65:{f:upe},66:{f:fa},77:{},80:{},81:{},82:{},85:{f:fa},89:{},90:{},91:{},92:{f:epe},93:{f:Ipe},94:{},95:{f:ea},96:{},97:{},99:{f:ea},125:{f:yF},128:{f:wpe},129:{f:tpe},130:{f:fa},131:{f:ea},132:{f:ea},133:{f:npe},134:{},140:{f:Bpe},141:{f:fa},144:{},146:{f:jpe},151:{},152:{},153:{},154:{},155:{},156:{f:fa},157:{},158:{},160:{f:Wpe},161:{f:Upe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mpe},190:{f:ype},193:{f:zc},197:{},198:{},199:{},200:{},201:{},202:{f:ea},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fa},220:{},221:{f:ea},222:{},224:{f:bpe},225:{f:Jhe},226:{f:zc},227:{},229:{f:Ppe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:rpe},253:{f:dpe},255:{f:ape},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fF},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ea},353:{f:zc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Epe},431:{f:ea},432:{},433:{},434:{},437:{},438:{f:Npe},439:{f:ea},440:{f:Lpe},441:{},442:{f:mv},443:{},444:{f:fa},445:{},446:{},448:{f:zc},449:{f:spe,r:2},450:{f:zc},512:{f:eM},513:{f:Vpe},515:{f:_pe},516:{f:hpe},517:{f:tM},519:{f:Gpe},520:{f:ipe},523:{},545:{f:iM},549:{f:J8},566:{},574:{f:cpe},638:{f:gpe},659:{},1048:{},1054:{f:ppe},1084:{},1212:{f:kpe},2048:{f:Fpe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:zc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:zpe,r:12},2173:{f:mve,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ea,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Ope,r:12},2197:{},2198:{f:fve,r:12},2199:{},2200:{},2201:{},2202:{f:Tpe,r:12},2203:{f:zc},2204:{},2205:{},2206:{},2207:{},2211:{f:ope},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Hpe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$pe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:eM},1:{},2:{f:Kpe},3:{f:qpe},4:{f:Xpe},5:{f:tM},7:{f:Zpe},8:{},9:{f:hg},11:{},22:{f:fa},30:{f:vpe},31:{},32:{},33:{f:iM},36:{},37:{f:J8},50:{f:Qpe},62:{},52:{},67:{},68:{f:fa},69:{},86:{},126:{},127:{f:Ype},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Jpe},223:{},234:{},354:{},421:{},518:{f:dw},521:{f:hg},536:{f:aM},547:{f:rM},561:{},579:{},1030:{f:dw},1033:{f:hg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ms(e,t,n,r){var a=t;if(!isNaN(a)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Q7(n)&&e.push(n)}}function gM(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=_0e(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<l.length;++o){var v=l[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var m=v.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var y=m[s].trim();if(y.match(/<t[dh]/i)){for(var x=y,b=0;x.charAt(0)=="<"&&(b=x.indexOf(">"))>-1;)x=x.slice(b+1);for(var _=0;_<p.length;++_){var E=p[_];E.s.c==u&&E.s.r<c&&c<=E.e.r&&(u=E.e.c+1,_=-1)}var w=Mt(y.slice(0,y.indexOf(">")));d=w.colspan?+w.colspan:1,((f=+w.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var A=w.t||w["data-t"]||"";if(!x.length){u+=d;continue}if(x=$7(x),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!x.length){u+=d;continue}var S={t:"s",v:x};n.raw||!x.trim().length||A=="s"||(x==="TRUE"?S={t:"b",v:!0}:x==="FALSE"?S={t:"b",v:!1}:isNaN(Bs(x))?isNaN(P0(x).getDate())||(S={t:"d",v:Ga(x)},n.cellDates||(S={t:"n",v:to(S.v)}),S.z=n.dateNF||Gt[14]):S={t:"n",v:Bs(x)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=S):r[Bt({r:c,c:u})]=S,u+=d}}}}return r["!ref"]=gn(h),p.length&&(r["!merges"]=p),r}function Qye(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>o)&&!(a[c].e.r<n||a[c].e.c<o)){if(a[c].s.r<n||a[c].s.c<o){s=-1;break}s=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(s<0)){var u=Bt({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[u],d=f&&f.v!=null&&(f.h||R3(f.w||(Sc(f),f.w)||""))||"",h={};s>1&&(h.rowspan=s),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+u,i.push(B0e("td",d,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var Jye='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',exe="</body></html>";function txe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Iu(gM(n[0],t),t);var r=Z3();return n.forEach(function(a,i){Q3(r,gM(a,t),"Sheet"+(i+1))}),r}function nxe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function rxe(e,t){var n=t||{},r=n.header!=null?n.header:Jye,a=n.footer!=null?n.footer:exe,i=[r],o=fh(e["!ref"]);n.dense=Array.isArray(e),i.push(nxe(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(Qye(e,o,s,n));return i.push("</table>"+a),i.join("")}function VF(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?Zi(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=fh(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),p=0,v=0,g=0,m=0,y=0,x=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&v<l;++p){var b=s[p];if(mM(b)){if(r.display)continue;h[v]={hidden:!0}}var _=b.children;for(g=m=0;g<_.length;++g){var E=_[g];if(!(r.display&&mM(E))){var w=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):$7(E.innerHTML),A=E.getAttribute("data-z")||E.getAttribute("z");for(d=0;d<f.length;++d){var S=f[d];S.s.c==m+i&&S.s.r<v+a&&v+a<=S.e.r&&(m=S.e.c+1-i,d=-1)}x=+E.getAttribute("colspan")||1,((y=+E.getAttribute("rowspan")||1)>1||x>1)&&f.push({s:{r:v+a,c:m+i},e:{r:v+a+(y||1)-1,c:m+i+(x||1)-1}});var O={t:"s",v:w},k=E.getAttribute("data-t")||E.getAttribute("t")||"";w!=null&&(w.length==0?O.t=k||"z":r.raw||w.trim().length==0||k=="s"||(w==="TRUE"?O={t:"b",v:!0}:w==="FALSE"?O={t:"b",v:!1}:isNaN(Bs(w))?isNaN(P0(w).getDate())||(O={t:"d",v:Ga(w)},r.cellDates||(O={t:"n",v:to(O.v)}),O.z=r.dateNF||Gt[14]):O={t:"n",v:Bs(w)})),O.z===void 0&&A!=null&&(O.z=A);var T="",C=E.getElementsByTagName("A");if(C&&C.length)for(var M=0;M<C.length&&!(C[M].hasAttribute("href")&&(T=C[M].getAttribute("href"),T.charAt(0)!="#"));++M);T&&T.charAt(0)!="#"&&(O.l={Target:T}),r.dense?(e[v+a]||(e[v+a]=[]),e[v+a][m+i]=O):e[Bt({c:m+i,r:v+a})]=O,c.e.c<m+i&&(c.e.c=m+i),m+=x}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=gn(c),v>=l&&(e["!fullref"]=gn((c.e.r=s.length-p+v-1+a,c))),e}function WF(e,t){var n=t||{},r=n.dense?[]:{};return VF(r,e,t)}function axe(e,t){return Iu(WF(e,t),t)}function mM(e){var t="",n=ixe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ixe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function oxe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=wn(t.replace(/<[^>]*>/g,""));return[n]}var yM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function GF(e,t){var n=t||{},r=D3(e),a=[],i,o,s={name:""},l="",c=0,u,f,d={},h=[],p=n.dense?[]:{},v,g,m={value:""},y="",x=0,b=[],_=-1,E=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,S={},O=[],k={},T=0,C=0,M=[],P=1,I=1,L=[],z={Names:[]},N={},G=["",""],Y=[],B={},F="",D=0,R=!1,V=!1,H=0;for(m1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=m1.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(w.e.c>=w.s.c&&w.e.r>=w.s.r?p["!ref"]=gn(w):p["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=w.e.r&&(p["!fullref"]=p["!ref"],w.e.r=n.sheetRows-1,p["!ref"]=gn(w)),O.length&&(p["!merges"]=O),M.length&&(p["!rows"]=M),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=p,V=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Mt(v[0],!1),_=E=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,p=n.dense?[]:{},O=[],M=[],V=!0);break;case"table-row-group":v[1]==="/"?--A:++A;break;case"table-row":case"":if(v[1]==="/"){_+=P,P=1;break}if(f=Mt(v[0],!1),f.?_=f.-1:_==-1&&(_=0),P=+f["number-rows-repeated"]||1,P<10)for(H=0;H<P;++H)A>0&&(M[_+H]={level:A});E=-1;break;case"covered-table-cell":v[1]!=="/"&&++E,n.sheetStubs&&(n.dense?(p[_]||(p[_]=[]),p[_][E]={t:"z"}):p[Bt({r:_,c:E})]={t:"z"}),y="",b=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++E,m=Mt(v[0],!1),I=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&n.cellFormula!=!1&&(g.f=dM(wn(m.formula))),(m.||m["value-type"])=="string"&&(g.t="s",g.v=wn(m["string-value"]||""),n.dense?(p[_]||(p[_]=[]),p[_][E]=g):p[Bt({r:_,c:E})]=g),E+=I-1;else if(v[1]!=="/"){++E,y="",x=0,b=[],I=1;var j=P?_+P-1:_;if(E>w.e.c&&(w.e.c=E),E<w.s.c&&(w.s.c=E),_<w.s.r&&(w.s.r=_),j>w.e.r&&(w.e.r=j),m=Mt(v[0],!1),Y=[],B={},g={t:m.||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=wn(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(T=parseInt(m["number-matrix-rows-spanned"],10)||0,C=parseInt(m["number-matrix-columns-spanned"],10)||0,k={s:{r:_,c:E},e:{r:_+T-1,c:E+C-1}},g.F=gn(k),L.push([k,g.F])),m.formula)g.f=dM(m.formula);else for(H=0;H<L.length;++H)_>=L[H][0].s.r&&_<=L[H][0].e.r&&E>=L[H][0].s.c&&E<=L[H][0].e.c&&(g.F=L[H][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(T=parseInt(m["number-rows-spanned"],10)||0,C=parseInt(m["number-columns-spanned"],10)||0,k={s:{r:_,c:E},e:{r:_+T-1,c:E+C-1}},O.push(k)),m["number-columns-repeated"]&&(I=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Sr(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=Ga(m["date-value"]),n.cellDates||(g.t="n",g.v=to(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=x0e(m["time-value"])/86400,n.cellDates&&(g.t="d",g.v=a2(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(y=wn(m["string-value"]),b=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(R=!1,g.t==="s"&&(g.v=y||"",b.length&&(g.R=b),R=x==0),N.Target&&(g.l=N),Y.length>0&&(g.c=Y,Y=[]),y&&n.cellText!==!1&&(g.w=y),R&&(g.t="z",delete g.v),(!R||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=_))for(var K=0;K<P;++K){if(I=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(p[_+K]||(p[_+K]=[]),p[_+K][E]=K==0?g:si(g);--I>0;)p[_+K][E+I]=si(g);else for(p[Bt({r:_+K,c:E})]=g;--I>0;)p[Bt({r:_+K,c:E+I})]=si(g);w.e.c<=E&&(w.e.c=E)}I=parseInt(m["number-columns-repeated"]||"1",10),E+=I-1,I=0,g={},y="",b=[]}N={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;B.t=y,b.length&&(B.R=b),B.a=F,Y.push(B)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);F="",D=0,y="",x=0,b=[];break;case"creator":v[1]==="/"?F=r.slice(D,v.index):D=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);y="",x=0,b=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(S[s.name]=l,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(l="",s=Mt(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Mt(v[0],!1),l+=yM[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Mt(v[0],!1),l+=yM[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":o=Mt(v[0],!1),G=hw(o["cell-range-address"]);var re={Name:o.name,Ref:G[0]+"!"+G[1]};V&&(re.Sheet=h.length),z.Names.push(re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!m||!m["string-value"])){var ae=oxe(r.slice(x,v.index));y=(y.length>0?y+`
`:"")+ae[0]}else Mt(v[0],!1),x=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{G=hw(Mt(v[0])["target-range-address"]),d[G[0]]["!autofilter"]={ref:G[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(N=Mt(v[0],!1),!N.href)break;N.Target=wn(N.href),delete N.href,N.Target.charAt(0)=="#"&&N.Target.indexOf(".")>-1?(G=hw(N.Target.slice(1)),N.Target="#"+G[0]+"!"+G[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(v)}}var U={Sheets:d,SheetNames:h,Workbook:z};return n.bookSheets&&delete U.Sheets,U}function xM(e,t){t=t||{},Ho(e,"META-INF/manifest.xml")&&_he(ua(e,"META-INF/manifest.xml"),t);var n=So(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=GF(dr(n),t);return Ho(e,"meta.xml")&&(r.Props=iF(ua(e,"meta.xml"))),r}function bM(e,t){return GF(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Y3(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):dr(ld(e))}function $E(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function wM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function sxe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,a=t+13;a>=t;--a)r=r*256+e[a];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function w1(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Pa(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ki(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=w1(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=n[0];e[n[0]++]>=128;);s=e.slice(l,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=w1(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var c={data:s,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function X3(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function lxe(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=w1(e,r),i=ki(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:Pa(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=ki(s.data),c=Pa(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=i[3])!=null&&t[0]&&(o.merge=Pa(i[3][0].data)>>>0>0),n.push(o)}return n}function cxe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=w1(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(i==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,i==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[$E(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=$E(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function uxe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(cxe(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return $E(t)}function fxe(e,t,n,r){var a=Y3(e),i=a.getUint32(4,!0),o=(r>1?12:8)+wM(i&(r>1?3470:398))*4,s=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=wM(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(c=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:n[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function dxe(e,t,n){var r=Y3(e),a=r.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=sxe(e,i),i+=16),a&2&&(c=r.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+r.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=r.getUint32(i,!0),i+=4),a&16&&(o=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function hxe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return fxe(e,t,n,e[0]);case 5:return dxe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function du(e){var t=ki(e);return w1(t[1][0].data)}function _M(e,t){var n=ki(t.data),r=Pa(n[1][0].data),a=n[3],i=[];return(a||[]).forEach(function(o){var s=ki(o.data),l=Pa(s[1][0].data)>>>0;switch(r){case 1:i[l]=BE(s[3][0].data);break;case 8:{var c=e[du(s[9][0].data)][0],u=ki(c.data),f=e[du(u[1][0].data)][0],d=Pa(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=ki(f.data);i[l]=h[3].map(function(p){return BE(p.data)}).join("")}break}}),i}function pxe(e,t){var n,r,a,i,o,s,l,c,u,f,d,h,p,v,g=ki(e),m=Pa(g[1][0].data)>>>0,y=Pa(g[2][0].data)>>>0,x=((r=(n=g[8])==null?void 0:n[0])==null?void 0:r.data)&&Pa(g[8][0].data)>0||!1,b,_;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)b=(s=(o=g[7])==null?void 0:o[0])==null?void 0:s.data,_=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)b=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,_=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var E=x?4:1,w=Y3(b),A=[],S=0;S<b.length/2;++S){var O=w.getUint16(S*2,!0);O<65535&&A.push([S,O])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var k=[];for(S=0;S<A.length-1;++S)k[A[S][0]]=_.subarray(A[S][1]*E,A[S+1][1]*E);return A.length>=1&&(k[A[A.length-1][0]]=_.subarray(A[A.length-1][1]*E)),{R:m,cells:k}}function vxe(e,t){var n,r=ki(t.data),a=(n=r==null?void 0:r[7])!=null&&n[0]?Pa(r[7][0].data)>>>0>0?1:0:-1,i=X3(r[5],function(o){return pxe(o,a)});return{nrows:Pa(r[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,c){if(o[s.R][c])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(c));o[s.R][c]=l}),o},[])}}function gxe(e,t,n){var r,a=ki(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Pa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=gn(i);var o=ki(a[4][0].data),s=_M(e,e[du(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?_M(e,e[du(o[17][0].data)][0]):[],c=ki(o[3][0].data),u=0;c[1].forEach(function(f){var d=ki(f.data),h=e[du(d[2][0].data)][0],p=Pa(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=vxe(e,h);v.data.forEach(function(g,m){g.forEach(function(y,x){var b=Bt({r:u+m,c:x}),_=hxe(y,s,l);_&&(n[b]=_)})}),u+=v.nrows})}function mxe(e,t){var n=ki(t.data),r={"!ref":"A1"},a=e[du(n[2][0].data)],i=Pa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return gxe(e,a[0],r),r}function yxe(e,t){var n,r=ki(t.data),a={name:(n=r[1])!=null&&n[0]?BE(r[1][0].data):"",sheets:[]},i=X3(r[2],du);return i.forEach(function(o){e[o].forEach(function(s){var l=Pa(s.meta[1][0].data);l==6e3&&a.sheets.push(mxe(e,s))})}),a}function xxe(e,t){var n=Z3(),r=ki(t.data),a=X3(r[1],du);if(a.forEach(function(i){e[i].forEach(function(o){var s=Pa(o.meta[1][0].data);if(s==2){var l=yxe(e,o);l.sheets.forEach(function(c,u){Q3(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function vw(e){var t,n,r,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=uxe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=lxe(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(r=(n=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:a[0].data)&&Pa(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(c){var u=Pa(c.meta[1][0].data)>>>0;if(u==1)if(!s)s=c;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return xxe(i,s)}function bxe(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function q3(e){bxe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function wxe(e){return Xd.WS.indexOf(e)>-1?"sheet":e==Xd.CS?"chart":e==Xd.DS?"dialog":e==Xd.MS?"macro":e&&e.length?e:"sheet"}function _xe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,wxe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Exe(e,t,n,r,a,i,o,s,l,c,u,f){try{i[r]=jp(So(e,n,!0),t);var d=ua(e,t),h;switch(s){case"sheet":h=Cye(d,t,a,l,i[r],c,u,f);break;case"chart":if(h=Mye(d,t,a,l,i[r],c,u,f),!h||!h["!drawel"])break;var p=lp(h["!drawel"].Target,t),v=RE(p),g=Tve(So(e,p,!0),jp(So(e,v,!0),p)),m=lp(g,p),y=RE(m);h=dye(So(e,m,!0),m,l,jp(So(e,y,!0),m),c,h);break;case"macro":h=Pye(d,t,a,l,i[r],c,u,f);break;case"dialog":h=Iye(d,t,a,l,i[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[r]=h;var x=[];i&&i[r]&&Il(i[r]).forEach(function(b){var _="";if(i[r][b].Type==Xd.CMNT){_=lp(i[r][b].Target,t);var E=Lye(ua(e,_,!0),_,l);if(!E||!E.length)return;sM(h,E,!1)}i[r][b].Type==Xd.TCMNT&&(_=lp(i[r][b].Target,t),x=x.concat(Mve(ua(e,_,!0),l)))}),x&&x.length&&sM(h,x,!0,l.people||[])}catch(b){if(l.WTF)throw b}}function Do(e){return e.charAt(0)=="/"?e.slice(1):e}function Axe(e,t){if(M7(),t=t||{},q3(t),Ho(e,"META-INF/manifest.xml")||Ho(e,"objectdata.xml"))return xM(e,t);if(Ho(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof vw<"u"){if(e.FileIndex)return vw(e);var n=vn.utils.cfb_new();return D8(e).forEach(function(M){S0e(n,M,A0e(e,M))}),vw(n)}throw new Error("Unsupported NUMBERS file")}if(!Ho(e,"[Content_Types].xml"))throw Ho(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ho(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=D8(e),a=bhe(So(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",ua(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!ua(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Hp=[],a.sst)try{Hp=Nye(ua(e,Do(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=Dye(So(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Rye(ua(e,Do(a.style)),a.style,l,t))}a.links.map(function(M){try{var P=jp(So(e,RE(Do(M))),M);return Bye(ua(e,Do(M)),P,M,t)}catch{}});var u=Tye(ua(e,Do(a.workbooks[0])),a.workbooks[0],t),f={},d="";a.coreprops.length&&(d=ua(e,Do(a.coreprops[0]),!0),d&&(f=iF(d)),a.extprops.length!==0&&(d=ua(e,Do(a.extprops[0]),!0),d&&She(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(d=So(e,Do(a.custprops[0]),!0),d&&(h=khe(d,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(P){return P.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=h),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var v={};t.bookDeps&&a.calcchain&&(v=Fye(ua(e,Do(a.calcchain)),a.calcchain));var g=0,m={},y,x;{var b=u.Sheets;f.Worksheets=b.length,f.SheetNames=[];for(var _=0;_!=b.length;++_)f.SheetNames[_]=b[_].name}var E=i?"bin":"xml",w=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,w+1)+"_rels/"+a.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");Ho(e,A)||(A="xl/_rels/workbook."+E+".rels");var S=jp(So(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=$ye(ua(e,Do(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Pve(ua(e,Do(a.people[0])),t)),S&&(S=_xe(S,u.Sheets));var O=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var k="sheet";if(S&&S[g]?(y="xl/"+S[g][1].replace(/[\/]?xl\//,""),Ho(e,y)||(y=S[g][1]),Ho(e,y)||(y=A.replace(/_rels\/.*$/,"")+S[g][1]),k=S[g][2]):(y="xl/worksheets/sheet"+(g+1-O)+"."+E,y=y.replace(/sheet0\./,"sheet.")),x=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,C=0;C!=t.sheets.length;++C)typeof t.sheets[C]=="number"&&t.sheets[C]==g&&(T=1),typeof t.sheets[C]=="string"&&t.sheets[C].toLowerCase()==f.SheetNames[g].toLowerCase()&&(T=1);if(!T)continue e}}Exe(e,y,x,f.SheetNames[g],g,m,o,k,t,u,l,c)}return p={Directory:a,Workbook:u,Props:f,Custprops:h,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:Hp,Styles:c,Themes:l,SSF:si(Gt)},t&&t.bookFiles&&(e.files?(p.keys=r,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(M,P){M=M.replace(/^Root Entry[\/]/,""),p.keys.push(M),p.files[M]=e.FileIndex[P]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=ua(e,Do(a.vba[0]),!0):a.defaults&&a.defaults.bin===Nve&&(p.vbaraw=ua(e,"xl/vbaProject.bin",!0))),p}function Sxe(e,t){var n=t||{},r="Workbook",a=vn.find(e,r);try{if(r="/!DataSpaces/Version",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(m1e(a.content),r="/!DataSpaces/DataSpaceMap",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=x1e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=b1e(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);_1e(a.content)}catch{}if(r="/EncryptionInfo",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=E1e(a.content);if(r="/EncryptedPackage",a=vn.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,n.password||"",n);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function K3(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Co(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Oxe(e,t){return vn.find(e,"EncryptedPackage")?Sxe(e,t):HF(e,t)}function kxe(e,t){var n,r=e,a=t||{};return a.type||(a.type=dn&&Buffer.isBuffer(e)?"buffer":"base64"),n=L7(r,a),Axe(n,a)}function YF(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return LE(e.slice(n),t);default:break e}return y1.to_workbook(e,t)}function Txe(e,t){var n="",r=K3(e,t);switch(t.type){case"base64":n=Co(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Uf(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=dr(n)),t.type="binary",YF(n,t)}function Cxe(e,t){var n=e;return t.type=="base64"&&(n=Co(n)),n=p1.utils.decode(1200,n.slice(2),"str"),t.type="binary",YF(n,t)}function Mxe(e){return e.match(/[^\x00-\x7F]/)?cp(e):e}function gw(e,t,n,r){return r?(n.type="string",y1.to_workbook(e,n)):y1.to_workbook(t,n)}function jE(e,t){y7();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return jE(new Uint8Array(e),(n=si(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,a=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),l0={},n.dateNF&&(l0.dateNF=n.dateNF),n.type||(n.type=dn&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=dn?"buffer":"binary",r=m0e(e),typeof Uint8Array<"u"&&!dn&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=Mxe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return n=si(n),n.type="array",jE(T3(r),n)}switch((a=K3(r,n))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Oxe(vn.read(r,n),n);break;case 9:if(a[1]<=8)return HF(r,n);break;case 60:return LE(r,n);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return a1e(r,n);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return n1e.to_workbook(r,n);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?kxe(r,n):gw(e,r,n,i);case 239:return a[3]===60?LE(r,n):gw(e,r,n,i);case 255:if(a[1]===254)return Cxe(r,n);if(a[1]===0&&a[2]===2&&a[3]===0)return Up.to_workbook(r,n);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Up.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return oM.to_workbook(r,n);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return N1e.to_workbook(r,n);break;case 10:case 13:case 32:return Txe(r,n);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return e1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?oM.to_workbook(r,n):gw(e,r,n,i)}function Pxe(e,t,n,r,a,i,o,s){var l=li(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var h=t.s.c;h<=t.e.c;++h){var p=o?e[n][h]:e[r[h]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[h]!=null&&(d[i[h]]=c);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(v==null)if(p.t=="e"&&v===null)d[i[h]]=null;else if(c!==void 0)d[i[h]]=c;else if(u&&v===null)d[i[h]]=null;else continue;else d[i[h]]=u&&(p.t!=="n"||p.t==="n"&&s.rawNumbers!==!1)?v:Sc(p,v,s);v!=null&&(f=!1)}}return{row:d,isempty:f}}function zE(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=qr(u);break;case"number":l=qr(e["!ref"]),l.s.r=u;break;default:l=u}r>0&&(a=0);var f=li(l.s.r),d=[],h=[],p=0,v=0,g=Array.isArray(e),m=l.s.r,y=0,x={};g&&!e[m]&&(e[m]=[]);var b=c.skipHidden&&e["!cols"]||[],_=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(d[y]=Ta(y),n=g?e[m][y]:e[d[y]+f],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=d[y];break;case 3:i[y]=c.header[y-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=Sc(n,null,c),v=x[o]||0,!v)x[o]=1;else{do s=o+"_"+v++;while(x[s]);x[o]=v,x[s]=1}i[y]=s}for(m=l.s.r+a;m<=l.e.r;++m)if(!(_[m]||{}).hidden){var E=Pxe(e,l,m,d,r,i,g,c);(E.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(h[p++]=E.row)}return h.length=p,h}var EM=/"/g;function Ixe(e,t,n,r,a,i,o,s){for(var l=!0,c=[],u="",f=li(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var h=s.dense?(e[n]||[])[d]:e[r[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(s.rawNumbers&&h.t=="n"?h.v:Sc(h,null,s));for(var p=0,v=0;p!==u.length;++p)if((v=u.charCodeAt(p))===a||v===i||v===34||s.forceQuotes){u='"'+u.replace(EM,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(EM,'""')+'"')):u="";c.push(u)}return s.blankrows===!1&&l?null:c.join(o)}function XF(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=qr(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,l=s.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(f[p]=Ta(p));for(var v=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=Ixe(e,a,g,f,o,l,i,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((v++?s:"")+u)));return delete r.dense,n.join("")}function Rxe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=XF(e,t);return n}function Dxe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=qr(e["!ref"]),i="",o=[],s,l=[],c=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=Ta(s);for(var u=a.s.r;u<=a.e.r;++u)for(i=li(u),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=c?(e[u]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function qF(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Zi(r.origin):r.origin;o=l.r,s=l.c}var c,u={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=qr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var d=r.header||[],h=0;t.forEach(function(v,g){Il(v).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var y=v[m],x="z",b="",_=Bt({c:s+h,r:o+g+a});c=_1(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?x="n":typeof y=="boolean"?x="b":typeof y=="string"?x="s":y instanceof Date?(x="d",r.cellDates||(x="n",y=to(y)),b=r.dateNF||Gt[14]):y===null&&r.nullError&&(x="e",y=0),c?(c.t=x,c.v=y,delete c.w,delete c.R,b&&(c.z=b)):i[_]=c={t:x,v:y},b&&(c.z=b))})}),u.e.c=Math.max(u.e.c,s+d.length-1);var p=li(o);if(a)for(h=0;h<d.length;++h)i[Ta(h+s)+p]={t:"s",v:d[h]};return i["!ref"]=gn(u),i}function Nxe(e,t){return qF(null,e,t)}function _1(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Zi(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_1(e,Bt(t)):_1(e,Bt({r:t,c:n||0}))}function Lxe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Z3(){return{SheetNames:[],Sheets:{}}}function Q3(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(bye(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function Fxe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Lxe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function Bxe(e,t){return e.z=t,e}function KF(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function $xe(e,t,n){return KF(e,"#"+t,n)}function jxe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function zxe(e,t,n,r){for(var a=typeof t!="string"?t:qr(t),i=typeof t=="string"?t:gn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=_1(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var Uxe={encode_col:Ta,encode_row:li,encode_cell:Bt,encode_range:gn,decode_col:F3,decode_row:L3,split_cell:J0e,decode_cell:Zi,decode_range:fh,format_cell:Sc,sheet_add_aoa:eF,sheet_add_json:qF,sheet_add_dom:VF,aoa_to_sheet:dh,json_to_sheet:Nxe,table_to_sheet:WF,table_to_book:axe,sheet_to_csv:XF,sheet_to_txt:Rxe,sheet_to_json:zE,sheet_to_html:rxe,sheet_to_formulae:Dxe,sheet_to_row_object_array:zE,sheet_get_cell:_1,book_new:Z3,book_append_sheet:Q3,book_set_sheet_visibility:Fxe,cell_set_number_format:Bxe,cell_set_hyperlink:KF,cell_set_internal_link:$xe,cell_add_comment:jxe,sheet_set_array_formula:zxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function l2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},AM;function Hxe(){return AM||(AM=1,(function(e,t){(function(r,a){e.exports=a()})(window,function(){return(function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:s})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)a.d(s,l,(function(c){return i[c]}).bind(null,l));return s},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=0)})({"./src/index.js":(function(n,r,a){a.r(r),a("./src/sass/index.scss");var i=a("./src/js/init.js"),o=i.default.init;typeof window<"u"&&(window.printJS=o),r.default=o}),"./src/js/browser.js":(function(n,r,a){a.r(r);var i={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!s.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};r.default=i}),"./src/js/functions.js":(function(n,r,a){a.r(r),a.d(r,"addWrapper",function(){return l}),a.d(r,"capitalizePrint",function(){return c}),a.d(r,"collectStyles",function(){return u}),a.d(r,"addHeader",function(){return d}),a.d(r,"cleanUp",function(){return h}),a.d(r,"isRawHTML",function(){return p});var i=a("./src/js/modal.js"),o=a("./src/js/browser.js");function s(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(m){return typeof m}:s=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(v)}function l(v,g){var m="font-family:"+g.font+" !important; font-size: "+g.font_size+" !important; width:100%;";return'<div style="'+m+'">'+v+"</div>"}function c(v){return v.charAt(0).toUpperCase()+v.slice(1)}function u(v,g){for(var m=document.defaultView||window,y="",x=m.getComputedStyle(v,""),b=0;b<x.length;b++)(g.targetStyles.indexOf("*")!==-1||g.targetStyle.indexOf(x[b])!==-1||f(g.targetStyles,x[b]))&&x.getPropertyValue(x[b])&&(y+=x[b]+":"+x.getPropertyValue(x[b])+";");return y+="max-width: "+g.maxWidth+"px !important; font-size: "+g.font_size+" !important;",y}function f(v,g){for(var m=0;m<v.length;m++)if(s(g)==="object"&&g.indexOf(v[m])!==-1)return!0;return!1}function d(v,g){var m=document.createElement("div");if(p(g.header))m.innerHTML=g.header;else{var y=document.createElement("h1"),x=document.createTextNode(g.header);y.appendChild(x),y.setAttribute("style",g.headerStyle),m.appendChild(y)}v.insertBefore(m,v.childNodes[0])}function h(v){v.showModal&&i.default.close(),v.onLoadingEnd&&v.onLoadingEnd(),(v.showModal||v.onLoadingStart)&&window.URL.revokeObjectURL(v.printable);var g="mouseover";(o.default.isChrome()||o.default.isFirefox())&&(g="focus");var m=function y(){window.removeEventListener(g,y),v.onPrintDialogClose();var x=document.getElementById(v.frameId);x&&x.remove()};window.addEventListener(g,m)}function p(v){var g=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return g.test(v)}}),"./src/js/html.js":(function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js");function s(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(d){return typeof d}:s=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(u)}r.default={print:function(f,d){var h=c(f.printable)?f.printable:document.getElementById(f.printable);if(!h){window.console.error("Invalid HTML element id: "+f.printable);return}f.printableElement=l(h,f),f.header&&Object(i.addHeader)(f.printableElement,f),o.default.send(f,d)}};function l(u,f){for(var d=u.cloneNode(),h=Array.prototype.slice.call(u.childNodes),p=0;p<h.length;p++)if(f.ignoreElements.indexOf(h[p].id)===-1){var v=l(h[p],f);d.appendChild(v)}switch(f.scanStyles&&u.nodeType===1&&d.setAttribute("style",Object(i.collectStyles)(u,f)),u.tagName){case"SELECT":d.value=u.value;break;case"CANVAS":d.getContext("2d").drawImage(u,0,0);break}return d}function c(u){return s(u)==="object"&&u&&(u instanceof HTMLElement||u.nodeType===1)}}),"./src/js/image.js":(function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js"),s=a("./src/js/browser.js");r.default={print:function(c,u){c.printable.constructor!==Array&&(c.printable=[c.printable]),c.printableElement=document.createElement("div"),c.printable.forEach(function(f){var d=document.createElement("img");if(d.setAttribute("style",c.imageStyle),d.src=f,s.default.isFirefox()){var h=d.src;d.src=h}var p=document.createElement("div");p.appendChild(d),c.printableElement.appendChild(p)}),c.header&&Object(i.addHeader)(c.printableElement,c),o.default.send(c,u)}}}),"./src/js/init.js":(function(n,r,a){a.r(r);var i=a("./src/js/browser.js"),o=a("./src/js/modal.js"),s=a("./src/js/pdf.js"),l=a("./src/js/html.js"),c=a("./src/js/raw-html.js"),u=a("./src/js/image.js"),f=a("./src/js/json.js");function d(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(g){return typeof g}:d=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(p)}var h=["pdf","html","image","json","raw-html"];r.default={init:function(){var v={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(E){throw E},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},g=arguments[0];if(g===void 0)throw new Error("printJS expects at least 1 attribute.");switch(d(g)){case"string":v.printable=encodeURI(g),v.fallbackPrintable=v.printable,v.type=arguments[1]||v.type;break;case"object":v.printable=g.printable,v.fallbackPrintable=typeof g.fallbackPrintable<"u"?g.fallbackPrintable:v.printable,v.fallbackPrintable=v.base64?"data:application/pdf;base64,".concat(v.fallbackPrintable):v.fallbackPrintable;for(var m in v)m==="printable"||m==="fallbackPrintable"||(v[m]=typeof g[m]<"u"?g[m]:v[m]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+d(g))}if(!v.printable)throw new Error("Missing printable information.");if(!v.type||typeof v.type!="string"||h.indexOf(v.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");v.showModal&&o.default.show(v),v.onLoadingStart&&v.onLoadingStart();var y=document.getElementById(v.frameId);y&&y.parentNode.removeChild(y);var x=document.createElement("iframe");switch(i.default.isFirefox()?x.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):x.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),x.setAttribute("id",v.frameId),v.type!=="pdf"&&(x.srcdoc="<html><head><title>"+v.documentTitle+"</title>",v.css&&(Array.isArray(v.css)||(v.css=[v.css]),v.css.forEach(function(_){x.srcdoc+='<link rel="stylesheet" href="'+_+'">'})),x.srcdoc+="</head><body></body></html>"),v.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var b=window.open(v.fallbackPrintable,"_blank");b.focus(),v.onIncompatibleBrowser()}catch(_){v.onError(_)}finally{v.showModal&&o.default.close(),v.onLoadingEnd&&v.onLoadingEnd()}else s.default.print(v,x);break;case"image":u.default.print(v,x);break;case"html":l.default.print(v,x);break;case"raw-html":c.default.print(v,x);break;case"json":f.default.print(v,x);break}}}}),"./src/js/json.js":(function(n,r,a){a.r(r);var i=a("./src/js/functions.js"),o=a("./src/js/print.js");function s(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(f){return typeof f}:s=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(c)}r.default={print:function(u,f){if(s(u.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof u.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!u.properties||!Array.isArray(u.properties))throw new Error("Invalid properties array for your JSON data.");u.properties=u.properties.map(function(d){return{field:s(d)==="object"?d.field:d,displayName:s(d)==="object"?d.displayName:d,columnSize:s(d)==="object"&&d.columnSize?d.columnSize+";":100/u.properties.length+"%;"}}),u.printableElement=document.createElement("div"),u.header&&Object(i.addHeader)(u.printableElement,u),u.printableElement.innerHTML+=l(u),o.default.send(u,f)}};function l(c){var u=c.printable,f=c.properties,d='<table style="border-collapse: collapse; width: 100%;">';c.repeatTableHeader&&(d+="<thead>"),d+="<tr>";for(var h=0;h<f.length;h++)d+='<th style="width:'+f[h].columnSize+";"+c.gridHeaderStyle+'">'+Object(i.capitalizePrint)(f[h].displayName)+"</th>";d+="</tr>",c.repeatTableHeader&&(d+="</thead>"),d+="<tbody>";for(var p=0;p<u.length;p++){d+="<tr>";for(var v=0;v<f.length;v++){var g=u[p],m=f[v].field.split(".");if(m.length>1)for(var y=0;y<m.length;y++)g=g[m[y]];else g=g[f[v].field];d+='<td style="width:'+f[v].columnSize+c.gridStyle+'">'+g+"</td>"}d+="</tr>"}return d+="</tbody></table>",d}}),"./src/js/modal.js":(function(n,r,a){a.r(r);var i={show:function(s){var l="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",c=document.createElement("div");c.setAttribute("style",l),c.setAttribute("id","printJS-Modal");var u=document.createElement("div");u.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var f=document.createElement("div");f.setAttribute("class","printClose"),f.setAttribute("id","printClose"),u.appendChild(f);var d=document.createElement("span");d.setAttribute("class","printSpinner"),u.appendChild(d);var h=document.createTextNode(s.modalMessage);u.appendChild(h),c.appendChild(u),document.getElementsByTagName("body")[0].appendChild(c),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var s=document.getElementById("printJS-Modal");s&&s.parentNode.removeChild(s)}};r.default=i}),"./src/js/pdf.js":(function(n,r,a){a.r(r);var i=a("./src/js/print.js"),o=a("./src/js/functions.js");r.default={print:function(c,u){if(c.base64){var f=Uint8Array.from(atob(c.printable),function(h){return h.charCodeAt(0)});s(c,u,f);return}c.printable=/^(blob|http|\/\/)/i.test(c.printable)?c.printable:window.location.origin+(c.printable.charAt(0)!=="/"?"/"+c.printable:c.printable);var d=new window.XMLHttpRequest;d.responseType="arraybuffer",d.addEventListener("error",function(){Object(o.cleanUp)(c),c.onError(d.statusText,d)}),d.addEventListener("load",function(){if([200,201].indexOf(d.status)===-1){Object(o.cleanUp)(c),c.onError(d.statusText,d);return}s(c,u,d.response)}),d.open("GET",c.printable,!0),d.send()}};function s(l,c,u){var f=new window.Blob([u],{type:"application/pdf"});f=window.URL.createObjectURL(f),c.setAttribute("src",f),i.default.send(l,c)}}),"./src/js/print.js":(function(n,r,a){a.r(r);var i=a("./src/js/browser.js"),o=a("./src/js/functions.js"),s={send:function(d,h){document.getElementsByTagName("body")[0].appendChild(h);var p=document.getElementById(d.frameId);p.onload=function(){if(d.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return l(p,d)},1e3):l(p,d);return}var v=p.contentWindow||p.contentDocument;if(v.document&&(v=v.document),v.body.appendChild(d.printableElement),d.type!=="pdf"&&d.style){var g=document.createElement("style");g.innerHTML=d.style,v.head.appendChild(g)}var m=v.getElementsByTagName("img");m.length>0?c(Array.from(m)).then(function(){return l(p,d)}):l(p,d)}}};function l(f,d){try{if(f.focus(),i.default.isEdge()||i.default.isIE())try{f.contentWindow.document.execCommand("print",!1,null)}catch{f.contentWindow.print()}else f.contentWindow.print()}catch(h){d.onError(h)}finally{i.default.isFirefox()&&(f.style.visibility="hidden",f.style.left="-1px"),Object(o.cleanUp)(d)}}function c(f){var d=f.map(function(h){if(h.src&&h.src!==window.location.href)return u(h)});return Promise.all(d)}function u(f){return new Promise(function(d){var h=function p(){!f||typeof f.naturalWidth>"u"||f.naturalWidth===0||!f.complete?setTimeout(p,500):d()};h()})}r.default=s}),"./src/js/raw-html.js":(function(n,r,a){a.r(r);var i=a("./src/js/print.js");r.default={print:function(s,l){s.printableElement=document.createElement("div"),s.printableElement.setAttribute("style","width:100%"),s.printableElement.innerHTML=s.printable,i.default.send(s,l)}}}),"./src/sass/index.scss":(function(n,r,a){}),0:(function(n,r,a){n.exports=a("./src/index.js")})}).default})})(mw)),mw.exports}var Vxe=Hxe();const Wxe=l2(Vxe),Gxe={class:"wm-print_left scrollbar"},Yxe={class:"search"},Xxe={class:"template"},qxe=["onClick"],Kxe={class:"info"},Zxe={class:"wm-print_right"},Qxe={class:"wm-print_right_top flex"},Jxe={class:"tools flex"},e2e={class:"wm-print_right_ct"},t2e={ref:"printBarcode",class:"print_body flex_left"},n2e=["onClick"],r2e={class:"body"},a2e=["src","alt"],i2e={class:"sku_id"},o2e={class:"properties_value"},s2e={class:"sale_price"},l2e={class:"body"},c2e=["src","alt"],u2e=["src","alt"],f2e={class:"sku_id"},d2e={class:"properties_value"},h2e={class:"sale_price"},p2e={class:"body"},v2e=["src","alt"],g2e={class:"sku_id"},m2e={class:"properties_value"},y2e={class:"sale_price"},x2e=Ht({__name:"Prints",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t,o=ls().state,s=Ee(""),l=Ee(""),c=Ee({active:"rlscb",checked:!1,num:0,sku:[],template:{rlscb_sz:{display:!0,label:"()",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"},rlscb_qr:{display:!0,label:"()",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"},pzscb_sz:{display:!0,label:"()",info:"3.6cm x 3.6cm",width:"3.4cm",height:"3.4cm"}}});Ut(()=>n.show,w=>{if(w){r.$refs.GoodsPrint.style.opacity="1";const A=Hn.getItem("printTemplate");if(c.value.active=A||"pzscb_sz",ac.addEvent("resize",m),ac.observer(r.$refs.printBarcode,S=>{x(),m()}),o.print.sku.length>0){let S=[];c.value.sku=[];for(let O of o.print.sku)O.checked=!0,O.barcode="",S.push(O.sku_id),c.value.sku.push(O);o.print.sku=[],h(S)}}else ac.removeEvent("resize",m)});const u=()=>{let w=c.value.template;const A=new RegExp(s.value.toLowerCase());for(let S in w)w[S].display=s.value?A.test(w[S].label):!0},f=w=>{c.value.active=w,Hn.setItem("printTemplate",w),m()},d=()=>{if(!l.value)return dt.Toast(o.langs.sku_id);const w=l.value.trim().toUpperCase().split(" ");for(let A in w)w[A]=ME.LTrim(w[A],"0");h(w),l.value=""},h=w=>{for(let A of w)p(A)||c.value.sku.push({checked:!1,sku_id:A,barcode:""});Yn.Post("erp_goods/barcode?lang="+o.lang,{token:o.token,sku:w},A=>{const{code:S,msg:O,data:k}=A.data;if(S==0)for(let T in k)v(T,k[T]);else dt.Toast(O)})},p=w=>{for(let A of c.value.sku)if(A.sku_id==w)return!0;return!1},v=(w,A)=>{for(let S of c.value.sku)if(S.sku_id==w)return S.barcode=A.barcode,S.qrcode||(S.qrcode=A.qrcode),S.name||(S.name=A.name),S.short_name||(S.short_name=A.short_name),S.properties_value||(S.properties_value=A.properties_value),S.purchase_price||(S.purchase_price=A.purchase_price),S.sale_price||(S.sale_price=A.sale_price),S.market_price||(S.market_price=A.market_price),S.unit||(S.unit=A.unit),S.weight||(S.weight=A.weight),S.ratio||(S.ratio=A.ratio),S.brand||(S.brand=A.brand),S.owner||(S.owner=A.owner),S.i_id||(S.i_id=A.i_id),A.is_goods?S.checked=!0:(S.checked=!1,dt.Toast("[ "+w+" ]")),!0;return!1},g=()=>{za.Select({mimeType:[]},w=>{za.FileToBase64(w,A=>{const S=jE(A,{type:"binary"}),O=S.SheetNames[0],k=Uxe.sheet_to_json(S.Sheets[O],{raw:!1});let T=[],C={},M="";c.value.sku=[];for(let P of k)P.&&(M=P..trim().toUpperCase(),T.push(M),C={checked:!1,sku_id:M,barcode:""},P.&&(C.short_name=P.),P.&&(C.short_name=P.),P.&&(C.sale_price=P.),P.&&(C.market_price=P.),c.value.sku.push(C));T.length>0&&h(T)},"blob")})},m=()=>{if(c.value.sku.length<1)return dt.Toast(o.langs.sku_id);let w=r.$refs.printBarcode,A=document.getElementsByClassName("print_item"),S=document.getElementsByClassName("print_box")[0],O=parseFloat(ac.getPropertyValue(w,"width").replace("px","")),k=parseFloat(ac.getPropertyValue(S,"width").replace("px",""));const T=Math.ceil(O/k)-(O<768?1:2);for(let C of A)C.style.width="calc(100% / "+T+")"},y=()=>{const w=!c.value.checked;for(let A of c.value.sku)A.checked=w;c.value.checked=w},x=()=>{let w=0;for(let A of c.value.sku)A.checked&&w++;c.value.num=w},b=()=>{if(c.value.num<1)return dt.Toast(o.langs.select);Yn.Post("erp_goods/barcode_print?lang="+o.lang,{token:o.token,template:c.value.active,num:c.value.num},A=>{A.data});let w=document.getElementsByClassName("print_item");for(let A of w)A.style.width="100%";An(()=>{Wxe({printable:r.$refs.printBarcode,type:"html",scanStyles:!1,css:"/print/barcode.css?t="+yn.Time()})})},_=()=>{c.value.sku=[]},E=()=>{a("update:show",!1),r.$refs.GoodsPrint.style.opacity="0"};return(w,A)=>(Z(),ne("div",{ref:"GoodsPrint",class:"wm-print_body flex",style:Ue({visibility:e.show?"inherit":"hidden"})},[W("div",Gxe,[W("div",Yxe,[ot(ko,{value:s.value,"onUpdate:value":A[0]||(A[0]=S=>s.value=S),onInput:A[1]||(A[1]=S=>u()),onIconClick:A[2]||(A[2]=S=>u()),placeholder:Q(o).langs.print_template,maxlength:"32",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value","placeholder"])]),W("ul",Xxe,[(Z(!0),ne(Ge,null,_t(c.value.template,(S,O)=>(Z(),ne(Ge,{key:O},[S.display?(Z(),ne("li",{key:0,class:Ve(O==c.value.active?"active":""),onClick:k=>f(O)},[W("h2",null,ge(S.label),1),W("div",Kxe,ge(S.info),1),A[11]||(A[11]=W("i",{class:"ui ui_arrow_right"},null,-1))],10,qxe)):ye("",!0)],64))),128))])]),W("div",Zxe,[W("div",Qxe,[W("ul",Jxe,[W("li",{class:"an",onClick:A[3]||(A[3]=S=>y())},"/"),W("li",null,[ot(ko,{value:l.value,"onUpdate:value":A[4]||(A[4]=S=>l.value=S),onKeyup:A[5]||(A[5]=hc(S=>d(),["enter"])),onIconClick:A[6]||(A[6]=S=>d()),placeholder:", ",icon:"ui ui_search",iconAlign:"right",padding:"0 40px 0 10px",margin:"0 5px 0 0"},null,8,["value"])]),W("li",null,[ot(Cf,{effect:"dark",height:"40px",onClick:A[7]||(A[7]=S=>b()),disabled:c.value.num==0},{default:it(()=>[Pt(ge(Q(o).langs.print)+"( "+ge(c.value.num)+" )",1)]),_:1},8,["disabled"])]),W("li",{class:"an",onClick:A[8]||(A[8]=S=>g())},""),W("li",{class:"clear",onClick:A[9]||(A[9]=S=>_())},"")]),W("div",{class:"close",onClick:A[10]||(A[10]=S=>E())},[...A[12]||(A[12]=[W("i",{class:"ui ui_close"},null,-1)])])]),W("div",e2e,[W("div",t2e,[(Z(!0),ne(Ge,null,_t(c.value.sku,(S,O)=>(Z(),ne("div",{class:Ve(["print_item",S.checked?"":"none"]),key:O,onClick:k=>{S.checked=!S.checked,x()}},[c.value.active=="rlscb_sz"?(Z(),ne("div",{key:0,class:Ve([c.value.active,"print_box"]),style:Ue({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[W("div",{class:Ve(["select",S.checked?"checked":""])},null,2),W("div",r2e,[W("div",{class:"barcode",style:Ue({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"36px"}},null,8,a2e)):ye("",!0)],4),W("div",i2e,ge(S.sku_id),1),W("div",o2e,ge(S.properties_value||"-"),1),W("div",s2e,""+ge(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0),c.value.active=="rlscb_qr"?(Z(),ne("div",{key:1,class:Ve([c.value.active,"print_box"]),style:Ue({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[W("div",{class:Ve(["select",S.checked?"checked":""])},null,2),W("div",l2e,[W("div",{class:"qrcode",style:Ue({backgroundColor:S.qrcode?"":"#F2F4F8"})},[S.qrcode?(Z(),ne("img",{key:0,src:S.qrcode,alt:S.sku_id,style:{height:"36px"}},null,8,c2e)):ye("",!0)],4),W("div",{class:"barcode",style:Ue({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"32px"}},null,8,u2e)):ye("",!0)],4),W("div",f2e,ge(S.sku_id),1),W("div",d2e,ge(S.properties_value||"-"),1),W("div",h2e,""+ge(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0),c.value.active=="pzscb_sz"?(Z(),ne("div",{key:2,class:Ve([c.value.active,"print_box"]),style:Ue({width:c.value.template[c.value.active].width,height:c.value.template[c.value.active].height})},[W("div",{class:Ve(["select",S.checked?"checked":""])},null,2),W("div",p2e,[W("div",{class:"barcode",style:Ue({backgroundColor:S.barcode?"":"#F2F4F8"})},[S.barcode?(Z(),ne("img",{key:0,src:S.barcode,alt:S.sku_id,style:{height:"32px"}},null,8,v2e)):ye("",!0)],4),W("div",g2e,ge(S.sku_id),1),W("div",m2e,ge(S.properties_value||"-"),1),W("div",y2e,""+ge(S.sale_price?Math.round(S.sale_price*100)/100:"0.00"),1)])],6)):ye("",!0)],10,n2e))),128))],512)])])],4))}}),b2e=ma(x2e,[["__scopeId","data-v-72be1203"]]),w2e={class:"app_main flex"},_2e={class:"menus_body flex"},E2e={class:"menus_left"},A2e={class:"m1"},S2e={key:0,class:"m2"},O2e=["onClick"],k2e={key:1,class:"null"},T2e={class:"m1"},C2e={class:"m2"},M2e={style:{paddingLeft:""}},P2e={style:{paddingLeft:""}},I2e={class:"menus_right"},R2e={class:"m_top flex"},D2e={class:"search"},N2e=["placeholder"],L2e={class:"menus_ct scrollbar"},F2e={key:0,class:"null center"},B2e={key:1},$2e={key:0},j2e={class:"title"},z2e=["onClick"],U2e={class:"app_logo flex"},H2e={key:0,class:"logo_text"},V2e={key:0,class:"app_search"},W2e=["placeholder"],G2e={key:0,class:"null center"},Y2e={key:1,class:"m2"},X2e=["onClick"],q2e={key:0,class:"m"},K2e=["title"],Z2e=["onClick"],Q2e={key:0,class:"m2"},J2e=["onClick"],ebe={class:"app_copy"},tbe={class:"app_user_info scrollbar"},nbe={class:"img_load"},rbe={key:0,class:"ui ui_image"},abe={class:"user"},ibe={class:"info"},obe={class:"flex"},sbe={class:"name"},lbe={class:"value"},cbe={class:"flex"},ube={class:"name"},fbe={class:"value"},dbe={class:"flex"},hbe={class:"name"},pbe={class:"value"},vbe={class:"flex"},gbe={class:"name"},mbe={class:"value"},ybe={class:"tools"},xbe={class:"app_tabs_body flex"},bbe={class:"app_tabs flex_left"},wbe=["onClick"],_be=["onClick"],Ebe={class:"app_tools flex"},Abe={key:0,class:"redNum"},Sbe={key:0,class:"ui ui_user"},Obe={class:"app_body"},kbe=Ht({__name:"App",emits:["update:show","close"],setup(e,{emit:t}){const n=Ee(),a=ls().state,i=vQ(),o=$N(),s=Ls.title+" "+Ls.version,l=Ls.copy,c=Ee(!1),u=Ee(!1),f=Ee(!1),d=Ee({active:"/",list:[]}),h=Ee({key:"",list:[],seaList:[],tmpList:[]}),p=Ee(!0);Ut(()=>a.isLogin,E=>{E&&v()},{deep:!0}),Ut(()=>i.path,E=>{a.isLogin&&(d.value.active=E,v())},{deep:!0}),On(()=>{d.value.active=i.path,p.value=!!Hn.getItem("IsMenus")});const v=()=>{Yn.Post("sys_menus/get_menus_perm",{token:a.token},E=>{const{code:w,msg:A,data:S}=E.data;if(w==0){h.value.list=S;const O=Hn.getItem("MenusTabs")||"";d.value.list=O?JSON.parse(O):[];const k=Hn.getItem("MenusTmp");h.value.tmpList.value=k?JSON.parse(k):[];let T="";for(let C of S)if(C.children){for(let M of C.children)if(M.children){for(let P of M.children)if(P.value.url==d.value.active){T=P.langs[a.lang];break}}}T&&d.value.active&&y(T,d.value.active)}else dt.Toast(A)})},g=()=>{p.value?(p.value=!1,Hn.setItem("IsMenus","")):(p.value=!0,Hn.setItem("IsMenus","1"))},m=()=>{const E=h.value.key,w=new RegExp(E.toLowerCase()),A=h.value.list;let S,O,k,T,C=[];h.value.seaList=[];for(const M in A)if(A[M].children){for(const P in A[M].children)if(A[M].children[P].children)for(const I in A[M].children[P].children)E.length>0?(S=A[M].children[P].children[I],O=S.langs[a.lang].toLowerCase(),k=S.en.toLowerCase(),T=w.test(O)||w.test(k),T&&(C.push([M,P]),h.value.seaList.push({label:S.langs[a.lang],icon:S.icon,url:S.value.url}))):T=!0,A[M].children[P].display=!0,A[M].children[P].children[I].display=T}if(E){for(const M in A)if(A[M].children)for(const P in A[M].children){let I=!1;for(const L in C)if(C[L][0]==M&&C[L][1]==P){I=!0;continue}A[M].children[P].display=I}}},y=(E,w,A=!1)=>{if(h.value.list.length==0)return;if(A&&(f.value=!1,c.value=!1),w!="/"){let M=!1;const P=d.value.list;for(const I in P)if(P[I].url==w){M=!0;break}M||d.value.list.push({name:E,url:w}),Hn.setItem("MenusTabs",JSON.stringify(d.value.list))}const S=h.value.list;let O={},k,T=[];for(const M in S)if(S[M].children){for(const P in S[M].children)if(S[M].children[P].children){for(const I in S[M].children[P].children)if(O=S[M].children[P].children[I],O.value.url==w){k={label:O.langs[a.lang],icon:O.icon,url:O.value.url},T=O.value.action;break}}}if(k){O=Hn.getItem("MenusTmp"),O=O?JSON.parse(O):[];for(let M in O)(O[M].url==w||parseInt(M)>=9)&&O.splice(M,1);O.unshift(k),h.value.tmpList=O,Hn.setItem("MenusTmp",JSON.stringify(O))}if(T&&(a.menusAction=T),o.resolve(w).matched.length>0)o.push({path:w});else return dt.Toast("!")},x=E=>{const w=d.value.list;for(const A in w)if(w[A].url==E){if(w.splice(A,1),d.value.active==E){let S=parseInt(A)-1;S<0?y(a.langs.home,"/"):y(w[S.toString()].name,w[S.toString()].url)}break}Hn.setItem("MenusTabs",JSON.stringify(d.value.list))},b=()=>{za.Select({},E=>{za.FileToBase64(E,w=>{za.ImageCompress(w,{width:200,height:200,type:E.type},A=>{Yn.Post("user/upimg",{token:a.token,base64:A},S=>{const O=S.data;return O.code==0&&n.value.verifyToken(!0),dt.Toast(O.msg)})},A=>{dt.Toast(A)})})},E=>{dt.Toast(E)})},_=()=>{c.value=!1,f.value=!1,d.value.list=[],n.value.logout()};return(E,w)=>{const A=bq("router-view");return Z(),ne(Ge,null,[ot(hee,{ref_key:"userLogin",ref:n,show:!Q(a).isLogin},null,8,["show"]),Q(a).isLogin?(Z(),St(pee,{key:0})):ye("",!0),Q(a).isLogin?(Z(),St(Zae,{key:1,show:Q(a).isUinfo,"onUpdate:show":w[0]||(w[0]=S=>Q(a).isUinfo=S)},null,8,["show"])):ye("",!0),Q(a).isLogin?(Z(),St(rie,{key:2,show:Q(a).isPasswd,"onUpdate:show":w[1]||(w[1]=S=>Q(a).isPasswd=S)},null,8,["show"])):ye("",!0),Q(a).isLogin?(Z(),St(_oe,{key:3,show:u.value,"onUpdate:show":w[2]||(w[2]=S=>u.value=S)},null,8,["show"])):ye("",!0),Q(a).isLogin?(Z(),St(jde,{key:4,show:Q(a).goods.show,"onUpdate:show":w[3]||(w[3]=S=>Q(a).goods.show=S)},null,8,["show"])):ye("",!0),Q(a).isLogin?(Z(),St(b2e,{key:5,show:Q(a).print.show,"onUpdate:show":w[4]||(w[4]=S=>Q(a).print.show=S)},null,8,["show"])):ye("",!0),W("div",w2e,[W("div",{class:"app_menus_all",style:Ue({visibility:f.value&&Q(a).isLogin?"inherit":"hidden"})},[ot(f1,{height:"100%",width:"900px",show:f.value,"onUpdate:show":w[10]||(w[10]=S=>f.value=S),position:"left",bgColor:"#FFF",time:600},{default:it(()=>[W("div",_2e,[W("div",E2e,[W("div",A2e,ge(Q(a).langs.menus_recent),1),h.value.tmpList.length>0?(Z(),ne("ul",S2e,[(Z(!0),ne(Ge,null,_t(h.value.tmpList,(S,O)=>(Z(),ne("li",{class:"flex_left",key:O,onClick:k=>y(S.label,S.url,!0)},[S.icon?(Z(),ne("i",{key:0,class:Ve(S.icon)},null,2)):ye("",!0),W("span",{style:Ue({paddingLeft:S.icon?"":"8px"})},ge(S.label),5)],8,O2e))),128))])):(Z(),ne("div",k2e)),W("div",T2e,ge(Q(a).langs.menus_recommend),1),W("ul",C2e,[W("li",{class:"flex_left",onClick:w[5]||(w[5]=S=>Q(a).isUinfo=!0)},[w[26]||(w[26]=W("i",{class:"ui ui_user"},null,-1)),W("span",M2e,ge(Q(a).langs.uinfo_title),1)]),W("li",{class:"flex_left",onClick:w[6]||(w[6]=S=>Q(a).isPasswd=!0)},[w[27]||(w[27]=W("i",{class:"ui ui_safety"},null,-1)),W("span",P2e,ge(Q(a).langs.passwd_title),1)])])]),W("div",I2e,[W("div",R2e,[W("div",D2e,[w[28]||(w[28]=W("i",{class:"ui ui_search"},null,-1)),Ns(W("input",{type:"text",class:"input","onUpdate:modelValue":w[7]||(w[7]=S=>h.value.key=S),onInput:w[8]||(w[8]=S=>m()),placeholder:Q(a).langs.menus_placeholder},null,40,N2e),[[kf,h.value.key]])]),W("i",{class:"ui ui_close",onClick:w[9]||(w[9]=S=>f.value=!1)})]),W("div",L2e,[h.value.key&&h.value.seaList.length==0?(Z(),ne("div",F2e)):(Z(),ne("ul",B2e,[(Z(!0),ne(Ge,null,_t(h.value.list,(S,O)=>(Z(),ne(Ge,{key:O},[S.children?(Z(!0),ne(Ge,{key:0},_t(S.children,(k,T)=>(Z(),ne(Ge,{key:T},[k.children&&(k.display||typeof k.display>"u")?(Z(),ne("li",$2e,[W("div",j2e,ge(k.langs[Q(a).lang]),1),(Z(!0),ne(Ge,null,_t(k.children,(C,M)=>(Z(),ne(Ge,{key:M},[C.display||typeof C.display>"u"?(Z(),ne("div",{key:0,class:Ve(["m flex_left",d.value.active==C.value.url?"active":""]),onClick:P=>y(C.langs[Q(a).lang],C.value.url,!0)},[C.icon?(Z(),ne("i",{key:0,class:Ve(C.icon)},null,2)):ye("",!0),W("span",{style:Ue({paddingLeft:C.icon?"":"10px"})},ge(C.langs[Q(a).lang]),5)],10,z2e)):ye("",!0)],64))),128))])):ye("",!0)],64))),128)):ye("",!0)],64))),128))]))])])])]),_:1},8,["show"])],4),W("div",{class:"app_left",style:Ue({width:p.value?"240px":"56px"})},[W("div",{class:"app_on",onClick:w[11]||(w[11]=S=>g())},[W("i",{class:Ve(["ui",p.value?"ui_arrow_left":"ui_arrow_right"])},null,2)]),W("div",U2e,[W("div",{class:"logo",title:s,onClick:w[12]||(w[12]=S=>{f.value=!f.value,c.value=!1})}),p.value?(Z(),ne("div",H2e,ge(s))):ye("",!0)]),p.value?(Z(),ne("div",V2e,[w[29]||(w[29]=W("i",{class:"ui ui_search"},null,-1)),Ns(W("input",{type:"text",class:"input","onUpdate:modelValue":w[13]||(w[13]=S=>h.value.key=S),onInput:w[14]||(w[14]=S=>m()),placeholder:Q(a).langs.menus_placeholder},null,40,W2e),[[kf,h.value.key]])])):ye("",!0),W("div",{class:"app_menus scrollbar",style:Ue({height:"calc(100% - "+(p.value?"152px":"98px")+")"})},[h.value.key&&h.value.seaList.length==0?(Z(),ne("div",G2e)):h.value.key&&h.value.seaList.length>0&&p.value?(Z(),ne("ul",Y2e,[(Z(!0),ne(Ge,null,_t(h.value.seaList,(S,O)=>(Z(),ne("li",{class:Ve(["flex_left",d.value.active==S.url?"active":""]),key:O,onClick:k=>y(S.label,S.url)},[S.icon?(Z(),ne("i",{key:0,class:Ve(S.icon)},null,2)):ye("",!0),W("span",{style:Ue({paddingLeft:S.icon?"":"16px"})},ge(S.label),5)],10,X2e))),128))])):(Z(!0),ne(Ge,{key:2},_t(h.value.list,(S,O)=>(Z(),ne(Ge,{key:O},[p.value?ye("",!0):(Z(),ne("div",q2e,[W("i",{class:Ve(S.icon),title:S.langs[Q(a).lang],onClick:w[15]||(w[15]=k=>{f.value=!f.value,c.value=!1})},null,10,K2e)])),S.children&&p.value?(Z(!0),ne(Ge,{key:1},_t(S.children,(k,T)=>(Z(),ne(Ge,{key:T},[W("div",{class:"m1 flex",onClick:C=>k.show=!k.show},[W("span",null,ge(k.langs[Q(a).lang]),1),W("i",{class:"ui ui_arrow_up",style:Ue({transform:k.show?"rotate(0deg)":"rotate(180deg)"})},null,4)],8,Z2e),k.children&&k.show?(Z(),ne("ul",Q2e,[(Z(!0),ne(Ge,null,_t(k.children,(C,M)=>(Z(),ne("li",{class:Ve(["flex_left",d.value.active==C.value.url?"active":""]),key:M,onClick:P=>y(C.langs[Q(a).lang],C.value.url)},[C.icon?(Z(),ne("i",{key:0,class:Ve(C.icon)},null,2)):ye("",!0),W("span",{style:Ue({paddingLeft:C.icon?"":"16px"})},ge(C.langs[Q(a).lang]),5)],10,J2e))),128))])):ye("",!0)],64))),128)):ye("",!0)],64))),128))],4),W("div",ebe,ge(Q(l)),1)],4),W("div",{class:"app_right",style:Ue({width:p.value?"calc(100% - 240px)":"calc(100% - 56px)"})},[W("div",{class:"app_user_info_body",style:Ue({visibility:c.value&&Q(a).isLogin?"inherit":"hidden"})},[ot(f1,{height:"100%",width:"360px",show:c.value,"onUpdate:show":w[20]||(w[20]=S=>c.value=S),position:"right",bgColor:"#FFF"},{default:it(()=>[W("div",tbe,[W("div",{class:"img",style:Ue({backgroundImage:Q(a).uinfo.img?"url("+Q(a).uinfo.img+")":"none"}),onClick:w[16]||(w[16]=S=>b())},[W("div",nbe,ge(Q(a).langs.uinfo_img),1),Q(a).uinfo.img?ye("",!0):(Z(),ne("i",rbe))],4),W("div",abe,[W("h2",null,ge(Q(a).uinfo.uname||"-"),1),W("p",null,"ID: "+ge(Q(a).uinfo.uid||"-"),1)]),W("ul",ibe,[W("li",obe,[W("span",sbe,ge(Q(a).langs.uinfo_nickname),1),W("span",lbe,ge(Q(a).uinfo.nickname||"-"),1)]),W("li",cbe,[W("span",ube,ge(Q(a).langs.uinfo_department),1),W("span",fbe,ge(Q(a).uinfo.department||"-"),1)]),W("li",dbe,[W("span",hbe,ge(Q(a).langs.uinfo_position),1),W("span",pbe,ge(Q(a).uinfo.position||"-"),1)]),W("li",vbe,[W("span",gbe,ge(Q(a).langs.uinfo_name),1),W("span",mbe,ge(Q(a).uinfo.name||"-"),1)])]),W("ul",ybe,[W("li",{onClick:w[17]||(w[17]=S=>Q(a).isUinfo=!0)},ge(Q(a).langs.uinfo_title),1),W("li",{onClick:w[18]||(w[18]=S=>Q(a).isPasswd=!0)},ge(Q(a).langs.passwd_title),1)])]),W("div",{class:"app_user_close",onClick:w[19]||(w[19]=S=>_())},ge(Q(a).langs.logout),1)]),_:1},8,["show"])],4),W("div",xbe,[W("ul",bbe,[W("li",{class:Ve(["home",d.value.active=="/"?"active":""]),onClick:w[21]||(w[21]=S=>y(Q(a).langs.home,"/"))},ge(Q(a).langs.home),3),(Z(!0),ne(Ge,null,_t(d.value.list,(S,O)=>(Z(),ne("li",{key:O,onClick:k=>y(S.name,S.url),class:Ve(d.value.active==S.url?"active":"")},[Pt(ge(S.name),1),W("span",{class:"close",onClick:Ca(k=>x(S.url),["stop"])},[...w[30]||(w[30]=[W("i",{class:"ui ui_close"},null,-1)])],8,_be)],10,wbe))),128))]),W("ul",Ebe,[W("li",{class:"goods",title:"",onClick:w[22]||(w[22]=S=>Q(a).goods.show=!0)},[...w[31]||(w[31]=[W("i",{class:"icons icon_stock1"},null,-1)])]),W("li",{class:"print",title:"",onClick:w[23]||(w[23]=S=>Q(a).print.show=!0)},[...w[32]||(w[32]=[W("i",{class:"icons icon_print"},null,-1)])]),W("li",{class:"msg",title:"",onClick:w[24]||(w[24]=S=>{u.value=!0,f.value=!1,c.value=!1})},[Q(a).msg.num>0?(Z(),ne("span",Abe,ge(Q(a).msg.num),1)):ye("",!0),w[33]||(w[33]=W("i",{class:"ui ui_message"},null,-1))]),W("li",{class:"user",title:"",onClick:w[25]||(w[25]=S=>{c.value=!c.value,f.value=!1})},[!Q(a).uinfo.img||c.value?(Z(),ne("i",Sbe)):(Z(),ne("div",{key:1,class:"img",style:Ue({backgroundImage:"url("+Q(a).uinfo.img+")"})},null,4))])])]),W("div",Obe,[ot(A,null,{default:it(({Component:S})=>[(Z(),St(dq,null,[(Z(),St(av(S),{key:E.$route.name}))],1024))]),_:1})])],4)])],64)}}}),Tbe=lZ({state:{lang:"",langs:{},isLogin:!1,isUinfo:!1,isPasswd:!1,token:"",uinfo:{},menusAction:[],socket:null,msg:{gid:"",fid:"",title:"",img:"",num:0,group:[],list:[],readId:0},print:{show:!1,sku:[]},goods:{show:!1,sku_id:"",photo:{refresh:!1,id:"",ctime:"",wms_co_id:"",list:[]}}},getters:{},mutations:{},actions:{},modules:{}}),Cbe="modulepreload",Mbe=function(e){return"/"+e},SM={},Ur=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(n.map(c=>{if(c=Mbe(c),c in SM)return;SM[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Cbe,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Pbe={key:0,class:"wm-select_search"},Ibe=["onClick"],Rbe={class:"label"},Dbe={key:1,class:"null"},Nbe={class:"nowrap"},Lbe=Ht({__name:"index",props:{value:{type:[Array,String,Number],default:""},options:{type:Array,default:[]},multiple:{type:Boolean,default:!1},width:{type:String,default:"100%"},height:{type:String,default:"40px"},position:{type:String,default:"bottom"},placeholder:{type:String,default:""},bodyWidth:{type:String,default:"100%"},bodyHeight:{type:String,default:"auto"},bodyMaxHeight:{type:String,default:"320px"},listHeight:{type:String,default:"40px"},seaMinLength:{type:Number,default:5},seaPlaceholder:{type:String,default:""},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:value","change","data"],setup(e,{emit:t}){const n=e,{proxy:r}=no(),a=t,o=ls().state,s=Ee(!1);let l=null;const c=Ee(""),u=Ee([]),f=Ee(!0),d=Ee("");Ut(()=>n.value,y=>{if(y){for(let x in u.value)u.value[x].checked=y.includes(u.value[x].value);u.value.length>0&&g(!1)}else m()},{deep:!0}),Ut(()=>n.options,y=>{u.value=y||[],g()},{deep:!0}),On(()=>{h()});const h=()=>{l=r.$refs.formSelect,l.addEventListener("focusout",()=>{s.value=!1}),u.value=n.options},p=y=>{let x,b=0;const _=new RegExp(y.toLowerCase());for(let E in u.value)x=u.value[E].label.toLowerCase(),_.test(x)?(b++,u.value[E].display=!0):u.value[E].display=!1;f.value=b>0},v=y=>{if(n.multiple)u.value[y].checked=!u.value[y].checked;else{for(let x in u.value)x==y?u.value[x].checked=!u.value[y].checked:u.value[x].checked=!1;s.value=!1}g(),a("change")},g=(y=!0)=>{let x=[],b=[],_=[];for(let E in u.value)u.value[E].checked&&(x.push(u.value[E].label),b.push(u.value[E].value),_.push(u.value[E]));d.value=x.join(","),y&&(a("update:value",b),a("data",_))},m=()=>{d.value="",a("update:value","");for(let y of u.value)y.checked=!1};return(y,x)=>(Z(),ne("div",{ref:"formSelect",class:Ve(["wm-select",s.value?"show":""]),tabindex:"2",onClick:x[2]||(x[2]=b=>s.value=!0),style:Ue({width:e.width,height:e.height,lineHeight:e.height,pointerEvents:e.disabled?"none":"auto",opacity:e.disabled?"0.5":"1"})},[W("div",{class:"wm-select_body",style:Ue({width:e.bodyWidth,top:e.position=="bottom"?"calc("+e.height+" + 10px)":"",bottom:e.position=="top"?"calc("+e.height+" + 10px)":"",visibility:s.value?"inherit":"hidden",opacity:s.value?"1":"0"})},[W("span",{class:Ve(e.position+"_arrow")},null,2),u.value.length>=e.seaMinLength?(Z(),ne("div",Pbe,[ot(ko,{value:c.value,"onUpdate:value":x[0]||(x[0]=b=>p(b)),placeholder:e.seaPlaceholder||Q(o).langs.keyword},null,8,["value","placeholder"])])):ye("",!0),W("ul",{class:"wm-select_list scrollbar",style:Ue({height:e.bodyHeight,maxHeight:e.bodyMaxHeight})},[u.value.length>0&&f.value?(Z(!0),ne(Ge,{key:0},_t(u.value,(b,_)=>(Z(),ne("li",{class:Ve(["flex",b.checked?"active":""]),key:_,onClick:Ca(E=>v(_),["stop"]),style:Ue({lineHeight:e.listHeight,display:b.display||typeof b.display>"u"?"block":"none"})},[W("span",Rbe,ge(b.label),1),typeof b.info<"u"?(Z(),ne("span",{key:0,class:Ve(["info",typeof b.info=="string"?"c_info":b.info?"c_success":"c_danger"])},ge(typeof b.info=="string"?b.info:b.info?Q(o).langs.enable:Q(o).langs.disable),3)):ye("",!0)],14,Ibe))),128)):(Z(),ne("li",Dbe))],4)],4),d.value&&e.clearable?(Z(),ne("div",{key:0,class:"wm-select_clear_body",style:Ue({width:e.height,height:e.height}),onClick:x[1]||(x[1]=Ca(b=>m(),["stop"]))},[W("div",{class:"wm-select_clear",style:Ue({width:"calc("+e.height+" / 2)",height:"calc("+e.height+" / 2)"})},null,4)],4)):ye("",!0),W("i",{class:"wm-select_arrow ui ui_arrow_down",style:Ue({transform:s.value?"rotate(180deg)":"rotate(0deg)"})},null,4),W("div",{class:Ve(["wm-select_value",d.value?"":"none"])},[W("div",Nbe,ge(d.value||e.placeholder||Q(o).langs.select),1)],2)],6))}}),Fbe=ma(Lbe,[["__scopeId","data-v-a4097954"]]),ZF=()=>[["cartesian"]];ZF.props={};function Bbe(e,t){return e=e%(2*Math.PI),t=t%(2*Math.PI),e<0&&(e=2*Math.PI+e),t<0&&(t=2*Math.PI+t),e>=t&&(t=t+2*Math.PI),{startAngle:e,endAngle:t}}const QF=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},t),e);return Object.assign(Object.assign({},n),Bbe(n.startAngle,n.endAngle))},wv=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=QF(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,n,r,a]]};wv.props={};const JF=({startAngle:e=0,endAngle:t=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,t,n,r]];JF.props={};const J3=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];J3.props={transform:!0};const $be=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},e9=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=$be(e);return[...J3(),...wv({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};e9.props={};const t9=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},eO=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:a}=t9(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...wv({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};eO.props={};const tO=()=>[["parallel",0,1,0,1]];tO.props={};const n9=({focusX:e=0,focusY:t=0,distortionX:n=2,distortionY:r=2,visual:a=!1})=>[["fisheye",e,t,n,r,a]];n9.props={transform:!0};const r9=e=>{const{startAngle:t=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:a=1}=e;return[...tO(),...wv({startAngle:t,endAngle:n,innerRadius:r,outerRadius:a})]};r9.props={};const a9=({value:e})=>t=>t.map(()=>e);a9.props={};const i9=({value:e})=>t=>t.map(e);i9.props={};const o9=({value:e})=>t=>t.map(n=>n[e]);o9.props={};const s9=({value:e})=>()=>e;s9.props={};var Vf=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},jbe=function(e,t){if(!Vf(e))return e;for(var n=[],r=0;r<e.length;r++){var a=e[r];t(a,r)&&n.push(a)}return n};function va(e){return typeof e=="function"}function wt(e){return e==null}function Ra(e){return Array.isArray(e)}const _v=(function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"});function nO(e,t){if(e){var n;if(Ra(e))for(var r=0,a=e.length;r<a&&(n=t(e[r],r),n!==!1);r++);else if(_v(e)){for(var i in e)if(e.hasOwnProperty(i)&&(n=t(e[i],i),n===!1))break}}}var l9=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return nO(e,function(n,r){va(e)&&r==="prototype"||t.push(r)}),t};function zbe(e,t){var n=l9(t),r=n.length;if(wt(e))return!r;for(var a=0;a<r;a+=1){var i=n[a];if(t[i]!==e[i]||!(i in e))return!1}return!0}var UE=function(e){return typeof e=="object"&&e!==null},Ube={}.toString,c9=function(e,t){return Ube.call(e)==="[object "+t+"]"},Oc=function(e){if(!UE(e)||!c9(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function R0(e,t){if(!Ra(e))return null;var n;if(va(t)&&(n=t),Oc(t)&&(n=function(a){return zbe(a,t)}),n){for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r]}return null}var Hbe=function(e){if(!Ra(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t};function yy(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}const xy=(function(e){if(Ra(e))return e.reduce(function(t,n){return Math.min(t,n)},e[0])});var Vbe=function(e,t,n){if(!Ra(e)&&!Oc(e))return e;var r=n;return nO(e,function(a,i){r=t(r,a,i)}),r};function xr(e){return typeof e=="string"}function Wbe(e){if(Vf(e))return e[0]}function Ao(e){if(Vf(e)){var t=e;return t[t.length-1]}}var jr=function(e,t,n){return e<t?t:e>n?n:e};function nr(e){return typeof e=="number"}var Gbe=1e-5;function Gp(e,t,n){return n===void 0&&(n=Gbe),e===t||Math.abs(e-t)<n}const Ybe=(function(e,t){if(Ra(e)){for(var n,r=-1/0,a=0;a<e.length;a++){var i=e[a],o=va(t)?t(i):i[t];o>r&&(n=i,r=o)}return n}}),Xbe=(function(e,t){if(Ra(e)){for(var n,r=1/0,a=0;a<e.length;a++){var i=e[a],o=va(t)?t(i):i[t];o<r&&(n=i,r=o)}return n}});var u9=function(e,t){return(e%t+t)%t};const f9=(function(e){return wt(e)?"":e.toString()});var d9=function(e){var t=f9(e);return t.charAt(0).toLowerCase()+t.substring(1)};function qbe(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):t[r]===void 0?"":t[r]})}var Ru=function(e){var t=f9(e);return t.charAt(0).toUpperCase()+t.substring(1)},OM=function(e){return c9(e,"Boolean")};function h9(e){return e===null}var Rn=function(e){return e===void 0};function Kbe(e){return e instanceof Element||e instanceof Document}function kM(e,t){for(var n in t)t.hasOwnProperty(n)&&n!=="constructor"&&t[n]!==void 0&&(e[n]=t[n])}function Zbe(e,t,n,r){return t&&kM(e,t),n&&kM(e,n),e}var E1=function(e){if(typeof e!="object"||e===null)return e;var t;if(Ra(e)){t=[];for(var n=0,r=e.length;n<r;n++)typeof e[n]=="object"&&e[n]!=null?t[n]=E1(e[n]):t[n]=e[n]}else{t={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?t[a]=E1(e[a]):t[a]=e[a]}return t};function p9(e,t,n){var r;return function(){var a=this,i=arguments,o=function(){r=null,e.apply(a,i)};clearTimeout(r),r=setTimeout(o,t)}}function Qbe(e){var t,n,r,a=e;function i(s,l){++t>a&&(r=n,o(1),++t),n[s]=l}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:i(s,l)}}}var yw=new Map;function Jbe(e,t,n){var r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var o=t?t.apply(this,a):a[0];yw.has(e)||yw.set(e,Qbe(n));var s=yw.get(e);if(s.has(o))return s.get(o);var l=e.apply(this,a);return s.set(o,l),l};return r}var ewe=5;function twe(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function v9(e,t,n,r){n=n||0,r=r||ewe;for(var a in t)if(twe(t,a)){var i=t[a];i!==null&&Oc(i)?(Oc(e[a])||(e[a]={}),n<r?v9(e[a],i,n+1,r):e[a]=t[a]):Ra(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var Me=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)v9(e,t[r]);return e},g9=function(e,t){if(!Vf(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,a=0;a<e.length;a++)if(e[a]===t){r=a;break}return r},A1=function(e,t){if(e===t)return!0;if(!e||!t||xr(e)||xr(t))return!1;if(Vf(e)||Vf(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=A1(e[r],t[r]),!!n);r++);return n}if(UE(e)||UE(t)){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var n=!0,r=0;r<a.length&&(n=A1(e[a[r]],t[a[r]]),!!n);r++);return n}return!1},nwe=function(e){return e};const rwe=(function(e,t){t===void 0&&(t=nwe);var n={};return _v(e)&&!wt(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n}),sn=(function(e,t,n){for(var r=0,a=xr(t)?t.split("."):t;e&&r<a.length;)e=e[a[r++]];return e===void 0||r<a.length?n:e}),c2=(function(e,t,n){var r=e,a=xr(t)?t.split("."):t;return a.forEach(function(i,o){o<a.length-1?(_v(r[i])||(r[i]=nr(a[o+1])?[]:{}),r=r[i]):r[i]=n}),e});var awe=Object.prototype.hasOwnProperty;const iwe=(function(e,t){if(e===null||!Oc(e))return{};var n={};return nO(t,function(r){awe.call(e,r)&&(n[r]=e[r])}),n}),rO=(function(e,t){return Vbe(e,function(n,r,a){return t.includes(a)||(n[a]=r),n},{})}),Wf=(function(e,t,n){var r,a,i,o,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),r=null,o=e.apply(a,i),r||(a=i=null)},c=function(){var u=Date.now();!s&&n.leading===!1&&(s=u);var f=t-(u-s);return a=this,i=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),s=u,o=e.apply(a,i),r||(a=i=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(r),s=0,r=a=i=null},c}),xw=(function(){}),Rl=(function(e){return e});function by(e){return wt(e)?0:Vf(e)?e.length:Object.keys(e).length}var vr=1e-6,oa=typeof Float32Array<"u"?Float32Array:Array,owe="zyx";function hh(){var e=new oa(9);return oa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function swe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function lwe(e){var t=new oa(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function cwe(e,t,n,r,a,i,o,s,l){var c=new oa(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=l,c}function uwe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=u*o-s*c,d=-u*i+s*l,h=c*i-o*l,p=n*f+r*d+a*h;return p?(p=1/p,e[0]=f*p,e[1]=(-u*r+a*c)*p,e[2]=(s*r-a*o)*p,e[3]=d*p,e[4]=(u*n-a*l)*p,e[5]=(-s*n+a*i)*p,e[6]=h*p,e[7]=(-c*n+r*l)*p,e[8]=(o*n-r*i)*p,e):null}function fwe(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return e[0]=d*r+h*o+p*c,e[1]=d*a+h*s+p*u,e[2]=d*i+h*l+p*f,e[3]=v*r+g*o+m*c,e[4]=v*a+g*s+m*u,e[5]=v*i+g*l+m*f,e[6]=y*r+x*o+b*c,e[7]=y*a+x*s+b*u,e[8]=y*i+x*l+b*f,e}function dwe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function hwe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function pwe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var vwe=fwe;function Cn(){var e=new oa(16);return oa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function aO(e){var t=new oa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function D0(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function m9(e,t,n,r,a,i,o,s,l,c,u,f,d,h,p,v){var g=new oa(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a,g[5]=i,g[6]=o,g[7]=s,g[8]=l,g[9]=c,g[10]=u,g[11]=f,g[12]=d,g[13]=h,g[14]=p,g[15]=v,g}function HE(e,t,n,r,a,i,o,s,l,c,u,f,d,h,p,v,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e[8]=c,e[9]=u,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=g,e}function _u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function y9(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Rs(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*o,x=n*l-a*o,b=n*c-i*o,_=r*l-a*s,E=r*c-i*s,w=a*c-i*l,A=u*v-f*p,S=u*g-d*p,O=u*m-h*p,k=f*g-d*v,T=f*m-h*v,C=d*m-h*g,M=y*C-x*T+b*k+_*O-E*S+w*A;return M?(M=1/M,e[0]=(s*C-l*T+c*k)*M,e[1]=(a*T-r*C-i*k)*M,e[2]=(v*w-g*E+m*_)*M,e[3]=(d*E-f*w-h*_)*M,e[4]=(l*O-o*C-c*S)*M,e[5]=(n*C-a*O+i*S)*M,e[6]=(g*b-p*w-m*x)*M,e[7]=(u*w-d*b+h*x)*M,e[8]=(o*T-s*O+c*A)*M,e[9]=(r*O-n*T-i*A)*M,e[10]=(p*E-v*b+m*y)*M,e[11]=(f*b-u*E-h*y)*M,e[12]=(s*S-o*k-l*A)*M,e[13]=(n*k-r*S+a*A)*M,e[14]=(v*x-p*_-g*y)*M,e[15]=(u*_-f*x+d*y)*M,e):null}function gwe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*o,x=n*l-a*o,b=n*c-i*o,_=r*l-a*s,E=r*c-i*s,w=a*c-i*l,A=u*v-f*p,S=u*g-d*p,O=u*m-h*p,k=f*g-d*v,T=f*m-h*v,C=d*m-h*g;return e[0]=s*C-l*T+c*k,e[1]=a*T-r*C-i*k,e[2]=v*w-g*E+m*_,e[3]=d*E-f*w-h*_,e[4]=l*O-o*C-c*S,e[5]=n*C-a*O+i*S,e[6]=g*b-p*w-m*x,e[7]=u*w-d*b+h*x,e[8]=o*T-s*O+c*A,e[9]=r*O-n*T-i*A,e[10]=p*E-v*b+m*y,e[11]=f*b-u*E-h*y,e[12]=s*S-o*k-l*A,e[13]=n*k-r*S+a*A,e[14]=v*x-p*_-g*y,e[15]=u*_-f*x+d*y,e}function x9(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],g=e[15],m=t*o-n*i,y=t*s-r*i,x=n*s-r*o,b=c*p-u*h,_=c*v-f*h,E=u*v-f*p,w=t*E-n*_+r*b,A=i*E-o*_+s*b,S=c*x-u*y+f*m,O=h*x-p*y+v*m;return l*w-a*A+g*S-d*O}function Ti(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],x=n[0],b=n[1],_=n[2],E=n[3];return e[0]=x*r+b*s+_*f+E*v,e[1]=x*a+b*l+_*d+E*g,e[2]=x*i+b*c+_*h+E*m,e[3]=x*o+b*u+_*p+E*y,x=n[4],b=n[5],_=n[6],E=n[7],e[4]=x*r+b*s+_*f+E*v,e[5]=x*a+b*l+_*d+E*g,e[6]=x*i+b*c+_*h+E*m,e[7]=x*o+b*u+_*p+E*y,x=n[8],b=n[9],_=n[10],E=n[11],e[8]=x*r+b*s+_*f+E*v,e[9]=x*a+b*l+_*d+E*g,e[10]=x*i+b*c+_*h+E*m,e[11]=x*o+b*u+_*p+E*y,x=n[12],b=n[13],_=n[14],E=n[15],e[12]=x*r+b*s+_*f+E*v,e[13]=x*a+b*l+_*d+E*g,e[14]=x*i+b*c+_*h+E*m,e[15]=x*o+b*u+_*p+E*y,e}function c0(e,t,n){var r=n[0],a=n[1],i=n[2],o,s,l,c,u,f,d,h,p,v,g,m;return t===e?(e[12]=t[0]*r+t[4]*a+t[8]*i+t[12],e[13]=t[1]*r+t[5]*a+t[9]*i+t[13],e[14]=t[2]*r+t[6]*a+t[10]*i+t[14],e[15]=t[3]*r+t[7]*a+t[11]*i+t[15]):(o=t[0],s=t[1],l=t[2],c=t[3],u=t[4],f=t[5],d=t[6],h=t[7],p=t[8],v=t[9],g=t[10],m=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=v,e[10]=g,e[11]=m,e[12]=o*r+u*a+p*i+t[12],e[13]=s*r+f*a+v*i+t[13],e[14]=l*r+d*a+g*i+t[14],e[15]=c*r+h*a+m*i+t[15]),e}function b9(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function mwe(e,t,n,r){var a=r[0],i=r[1],o=r[2],s=Math.sqrt(a*a+i*i+o*o),l,c,u,f,d,h,p,v,g,m,y,x,b,_,E,w,A,S,O,k,T,C,M,P;return s<vr?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,f=t[0],d=t[1],h=t[2],p=t[3],v=t[4],g=t[5],m=t[6],y=t[7],x=t[8],b=t[9],_=t[10],E=t[11],w=a*a*u+c,A=i*a*u+o*l,S=o*a*u-i*l,O=a*i*u-o*l,k=i*i*u+c,T=o*i*u+a*l,C=a*o*u+i*l,M=i*o*u-a*l,P=o*o*u+c,e[0]=f*w+v*A+x*S,e[1]=d*w+g*A+b*S,e[2]=h*w+m*A+_*S,e[3]=p*w+y*A+E*S,e[4]=f*O+v*k+x*T,e[5]=d*O+g*k+b*T,e[6]=h*O+m*k+_*T,e[7]=p*O+y*k+E*T,e[8]=f*C+v*M+x*P,e[9]=d*C+g*M+b*P,e[10]=h*C+m*M+_*P,e[11]=p*C+y*M+E*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function w9(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+u*r,e[6]=s*a+f*r,e[7]=l*a+d*r,e[8]=c*a-i*r,e[9]=u*a-o*r,e[10]=f*a-s*r,e[11]=d*a-l*r,e}function _9(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*r,e[1]=o*a-u*r,e[2]=s*a-f*r,e[3]=l*a-d*r,e[8]=i*r+c*a,e[9]=o*r+u*a,e[10]=s*r+f*a,e[11]=l*r+d*a,e}function ywe(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],c=t[4],u=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+u*r,e[2]=s*a+f*r,e[3]=l*a+d*r,e[4]=c*a-i*r,e[5]=u*a-o*r,e[6]=f*a-s*r,e[7]=d*a-l*r,e}function ic(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Kc(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E9(e,t,n){var r=n[0],a=n[1],i=n[2],o=Math.sqrt(r*r+a*a+i*i),s,l,c;return o<vr?null:(o=1/o,r*=o,a*=o,i*=o,s=Math.sin(t),l=Math.cos(t),c=1-l,e[0]=r*r*c+l,e[1]=a*r*c+i*s,e[2]=i*r*c-a*s,e[3]=0,e[4]=r*a*c-i*s,e[5]=a*a*c+l,e[6]=i*a*c+r*s,e[7]=0,e[8]=r*i*c+a*s,e[9]=a*i*c-r*s,e[10]=i*i*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function A9(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S9(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function VE(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O9(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,l=a+a,c=i+i,u=r*s,f=r*l,d=r*c,h=a*l,p=a*c,v=i*c,g=o*s,m=o*l,y=o*c;return e[0]=1-(h+v),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(u+v),e[6]=p+g,e[7]=0,e[8]=d+m,e[9]=p-g,e[10]=1-(u+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xwe(e,t){var n=new oa(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=r*r+a*a+i*i+o*o;return f>0?(n[0]=(s*o+u*r+l*i-c*a)*2/f,n[1]=(l*o+u*a+c*r-s*i)*2/f,n[2]=(c*o+u*i+s*a-l*r)*2/f):(n[0]=(s*o+u*r+l*i-c*a)*2,n[1]=(l*o+u*a+c*r-s*i)*2,n[2]=(c*o+u*i+s*a-l*r)*2),O9(e,t,n),e}function wy(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function N0(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],s=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+a*a),e[1]=Math.sqrt(i*i+o*o+s*s),e[2]=Math.sqrt(l*l+c*c+u*u),e}function _y(e,t){var n=new oa(3);N0(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,s=t[1]*a,l=t[2]*i,c=t[4]*r,u=t[5]*a,f=t[6]*i,d=t[8]*r,h=t[9]*a,p=t[10]*i,v=o+u+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-l)/g,e[2]=(s-c)/g):o>u&&o>p?(g=Math.sqrt(1+o-u-p)*2,e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+l)/g):u>p?(g=Math.sqrt(1+u-o-p)*2,e[3]=(d-l)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=Math.sqrt(1+p-o-u)*2,e[3]=(s-c)/g,e[0]=(d+l)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function bwe(e,t,n,r){t[0]=r[12],t[1]=r[13],t[2]=r[14];var a=r[0],i=r[1],o=r[2],s=r[4],l=r[5],c=r[6],u=r[8],f=r[9],d=r[10];n[0]=Math.sqrt(a*a+i*i+o*o),n[1]=Math.sqrt(s*s+l*l+c*c),n[2]=Math.sqrt(u*u+f*f+d*d);var h=1/n[0],p=1/n[1],v=1/n[2],g=a*h,m=i*p,y=o*v,x=s*h,b=l*p,_=c*v,E=u*h,w=f*p,A=d*v,S=g+b+A,O=0;return S>0?(O=Math.sqrt(S+1)*2,e[3]=.25*O,e[0]=(_-w)/O,e[1]=(E-y)/O,e[2]=(m-x)/O):g>b&&g>A?(O=Math.sqrt(1+g-b-A)*2,e[3]=(_-w)/O,e[0]=.25*O,e[1]=(m+x)/O,e[2]=(E+y)/O):b>A?(O=Math.sqrt(1+b-g-A)*2,e[3]=(E-y)/O,e[0]=(m+x)/O,e[1]=.25*O,e[2]=(_+w)/O):(O=Math.sqrt(1+A-g-b)*2,e[3]=(m-x)/O,e[0]=(E+y)/O,e[1]=(_+w)/O,e[2]=.25*O),e}function wwe(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],l=a+a,c=i+i,u=o+o,f=a*l,d=a*c,h=a*u,p=i*c,v=i*u,g=o*u,m=s*l,y=s*c,x=s*u,b=r[0],_=r[1],E=r[2];return e[0]=(1-(p+g))*b,e[1]=(d+x)*b,e[2]=(h-y)*b,e[3]=0,e[4]=(d-x)*_,e[5]=(1-(f+g))*_,e[6]=(v+m)*_,e[7]=0,e[8]=(h+y)*E,e[9]=(v-m)*E,e[10]=(1-(f+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Yp(e,t,n,r,a){var i=t[0],o=t[1],s=t[2],l=t[3],c=i+i,u=o+o,f=s+s,d=i*c,h=i*u,p=i*f,v=o*u,g=o*f,m=s*f,y=l*c,x=l*u,b=l*f,_=r[0],E=r[1],w=r[2],A=a[0],S=a[1],O=a[2],k=(1-(v+m))*_,T=(h+b)*_,C=(p-x)*_,M=(h-b)*E,P=(1-(d+m))*E,I=(g+y)*E,L=(p+x)*w,z=(g-y)*w,N=(1-(d+v))*w;return e[0]=k,e[1]=T,e[2]=C,e[3]=0,e[4]=M,e[5]=P,e[6]=I,e[7]=0,e[8]=L,e[9]=z,e[10]=N,e[11]=0,e[12]=n[0]+A-(k*A+M*S+L*O),e[13]=n[1]+S-(T*A+P*S+z*O),e[14]=n[2]+O-(C*A+I*S+N*O),e[15]=1,e}function iO(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,l=a+a,c=n*o,u=r*o,f=r*s,d=a*o,h=a*s,p=a*l,v=i*o,g=i*s,m=i*l;return e[0]=1-f-p,e[1]=u+m,e[2]=d-g,e[3]=0,e[4]=u-m,e[5]=1-c-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _we(e,t,n,r,a,i,o){var s=1/(n-t),l=1/(a-r),c=1/(i-o);return e[0]=i*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function k9(e,t,n,r,a){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0){var o=1/(r-a);e[10]=(a+r)*o,e[14]=2*a*r*o}else e[10]=-1,e[14]=-2*r;return e}var Ewe=k9;function Awe(e,t,n,r,a){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0){var o=1/(r-a);e[10]=a*o,e[14]=a*r*o}else e[10]=-1,e[14]=-r;return e}function Swe(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(a+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-s)*l*.5),e[9]=(a-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function T9(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=(o+i)*c,e[15]=1,e}var C9=T9;function M9(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=i*c,e[15]=1,e}function P9(e,t,n,r){var a,i,o,s,l,c,u,f,d,h,p=t[0],v=t[1],g=t[2],m=r[0],y=r[1],x=r[2],b=n[0],_=n[1],E=n[2];return Math.abs(p-b)<vr&&Math.abs(v-_)<vr&&Math.abs(g-E)<vr?_u(e):(u=p-b,f=v-_,d=g-E,h=1/Math.sqrt(u*u+f*f+d*d),u*=h,f*=h,d*=h,a=y*d-x*f,i=x*u-m*d,o=m*f-y*u,h=Math.sqrt(a*a+i*i+o*o),h?(h=1/h,a*=h,i*=h,o*=h):(a=0,i=0,o=0),s=f*o-d*i,l=d*a-u*o,c=u*i-f*a,h=Math.sqrt(s*s+l*l+c*c),h?(h=1/h,s*=h,l*=h,c*=h):(s=0,l=0,c=0),e[0]=a,e[1]=s,e[2]=u,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*p+i*v+o*g),e[13]=-(s*p+l*v+c*g),e[14]=-(u*p+f*v+d*g),e[15]=1,e)}function Owe(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=r[0],l=r[1],c=r[2],u=a-n[0],f=i-n[1],d=o-n[2],h=u*u+f*f+d*d;h>0&&(h=1/Math.sqrt(h),u*=h,f*=h,d*=h);var p=l*d-c*f,v=c*u-s*d,g=s*f-l*u;return h=p*p+v*v+g*g,h>0&&(h=1/Math.sqrt(h),p*=h,v*=h,g*=h),e[0]=p,e[1]=v,e[2]=g,e[3]=0,e[4]=f*g-d*v,e[5]=d*p-u*g,e[6]=u*v-f*p,e[7]=0,e[8]=u,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function kwe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Twe(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15])}function Cwe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function I9(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Mwe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Pwe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function WE(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Iwe(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=t[0],x=t[1],b=t[2],_=t[3],E=t[4],w=t[5],A=t[6],S=t[7],O=t[8],k=t[9],T=t[10],C=t[11],M=t[12],P=t[13],I=t[14],L=t[15];return Math.abs(n-y)<=vr*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-x)<=vr*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(a-b)<=vr*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(i-_)<=vr*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-E)<=vr*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-w)<=vr*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-A)<=vr*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-S)<=vr*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-O)<=vr*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(f-k)<=vr*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(d-T)<=vr*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(h-C)<=vr*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-M)<=vr*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(v-P)<=vr*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-I)<=vr*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(m-L)<=vr*Math.max(1,Math.abs(m),Math.abs(L))}var oO=Ti,Rwe=I9;const Dwe=Object.freeze(Object.defineProperty({__proto__:null,add:Cwe,adjoint:gwe,clone:aO,copy:D0,create:Cn,decompose:bwe,determinant:x9,equals:Iwe,exactEquals:WE,frob:Twe,fromQuat:iO,fromQuat2:xwe,fromRotation:E9,fromRotationTranslation:O9,fromRotationTranslationScale:wwe,fromRotationTranslationScaleOrigin:Yp,fromScaling:Kc,fromTranslation:ic,fromValues:m9,fromXRotation:A9,fromYRotation:S9,fromZRotation:VE,frustum:_we,getRotation:_y,getScaling:N0,getTranslation:wy,identity:_u,invert:Rs,lookAt:P9,mul:oO,multiply:Ti,multiplyScalar:Mwe,multiplyScalarAndAdd:Pwe,ortho:C9,orthoNO:T9,orthoZO:M9,perspective:Ewe,perspectiveFromFieldOfView:Swe,perspectiveNO:k9,perspectiveZO:Awe,rotate:mwe,rotateX:w9,rotateY:_9,rotateZ:ywe,scale:b9,set:HE,str:kwe,sub:Rwe,subtract:I9,targetTo:Owe,translate:c0,transpose:y9},Symbol.toStringTag,{value:"Module"}));function tn(){var e=new oa(3);return oa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ql(e){var t=new oa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function oc(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function bn(e,t,n){var r=new oa(3);return r[0]=e,r[1]=t,r[2]=n,r}function xl(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ei(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function hu(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function GE(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Nwe(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Lwe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Fwe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Ey(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Bwe(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)}function Nf(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function bl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tm(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2];return e[0]=a*l-i*s,e[1]=i*o-r*l,e[2]=r*s-a*o,e}function YE(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function Fr(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function R9(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function $we(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],l=t[1],c=t[2],u=a*c-i*l,f=i*s-r*c,d=r*l-a*s;return u=u+u,f=f+f,d=d+d,e[0]=s+o*u+a*d-i*f,e[1]=l+o*f+i*u-r*d,e[2]=c+o*d+r*f-a*u,e}function $h(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(n-i)<=vr*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=vr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=vr*Math.max(1,Math.abs(a),Math.abs(s))}var jwe=GE,TM=Bwe,D9=oc;(function(){var e=tn();return function(t,n,r,a,i,o){var s,l;for(n||(n=3),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function wl(){var e=new oa(4);return oa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function up(e,t,n,r){var a=new oa(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function zwe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Uwe(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function Hwe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function _l(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}(function(){var e=wl();return function(t,n,r,a,i,o){var s,l;for(n||(n=4),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function ha(){var e=new oa(4);return oa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function nu(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function pu(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+o*s+a*c-i*l,e[1]=a*u+o*l+i*s-r*c,e[2]=i*u+o*c+r*l-a*s,e[3]=o*u-r*s-a*l-i*c,e}function bw(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],l=n[0],c=n[1],u=n[2],f=n[3],d,h,p,v,g;return h=a*l+i*c+o*u+s*f,h<0&&(h=-h,l=-l,c=-c,u=-u,f=-f),1-h>vr?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,g=Math.sin(r*d)/p):(v=1-r,g=r),e[0]=v*a+g*l,e[1]=v*i+g*c,e[2]=v*o+g*u,e[3]=v*s+g*f,e}function ww(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e}function Vwe(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[a*3+a]-t[i*3+i]-t[o*3+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[i*3+o]-t[o*3+i])*r,e[i]=(t[i*3+a]+t[a*3+i])*r,e[o]=(t[o*3+a]+t[a*3+o])*r}return e}function mg(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:owe,i=Math.PI/360;t*=i,r*=i,n*=i;var o=Math.sin(t),s=Math.cos(t),l=Math.sin(n),c=Math.cos(n),u=Math.sin(r),f=Math.cos(r);switch(a){case"xyz":e[0]=o*c*f+s*l*u,e[1]=s*l*f-o*c*u,e[2]=s*c*u+o*l*f,e[3]=s*c*f-o*l*u;break;case"xzy":e[0]=o*c*f-s*l*u,e[1]=s*l*f-o*c*u,e[2]=s*c*u+o*l*f,e[3]=s*c*f+o*l*u;break;case"yxz":e[0]=o*c*f+s*l*u,e[1]=s*l*f-o*c*u,e[2]=s*c*u-o*l*f,e[3]=s*c*f+o*l*u;break;case"yzx":e[0]=o*c*f+s*l*u,e[1]=s*l*f+o*c*u,e[2]=s*c*u-o*l*f,e[3]=s*c*f-o*l*u;break;case"zxy":e[0]=o*c*f-s*l*u,e[1]=s*l*f+o*c*u,e[2]=s*c*u+o*l*f,e[3]=s*c*f-o*l*u;break;case"zyx":e[0]=o*c*f-s*l*u,e[1]=s*l*f+o*c*u,e[2]=s*c*u-o*l*f,e[3]=s*c*f+o*l*u;break;default:throw new Error("Unknown angle order "+a)}return e}var Wwe=up,yg=zwe,N9=Uwe,CM=pu,Ay=Hwe;(function(){var e=tn(),t=bn(1,0,0),n=bn(0,1,0);return function(r,a,i){var o=bl(a,i);return o<-.999999?(Tm(e,t,a),D9(e)<1e-6&&Tm(e,n,a),Nf(e,e),nu(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Tm(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,Ay(r,r))}})();(function(){var e=ha(),t=ha();return function(n,r,a,i,o,s){return bw(e,r,o,s),bw(t,a,i,s),bw(n,e,t,2*s*(1-s)),n}})();(function(){var e=hh();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Ay(t,Vwe(t,e))}})();function sO(){var e=new oa(2);return oa!=Float32Array&&(e[0]=0,e[1]=0),e}function Gwe(e,t){return e[0]=t[0],e[1]=t[1],e}function Ywe(e,t,n){return e[0]=t,e[1]=n,e}function Xwe(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function qwe(e,t){return e[0]*t[0]+e[1]*t[1]}function Kwe(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=sO();return function(t,n,r,a,i,o){var s,l;for(n||(n=2),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();var XE=function(e,t){return XE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},XE(e,t)};function Er(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");XE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Le=function(){return Le=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Le.apply(this,arguments)};function ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ev(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Zwe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function pt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function _w(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var L9={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Qwe(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],a=n;r.length;)t[n]="A",e.splice(a+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var Xp={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function F9(e){return Array.isArray(e)&&e.every(function(t){var n=t[0].toLowerCase();return Xp[n]===t.length-1&&"achlmqstvz".includes(n)})}function B9(e){return F9(e)&&e.every(function(t){var n=t[0];return n===n.toUpperCase()})}function $9(e){return B9(e)&&e.every(function(t){var n=t[0];return"ACLMQZ".includes(n)})}function MM(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=Xp[n]&&(n==="m"&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(r.splice(0,Xp[n]))),!!Xp[n]););}function Jwe(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t)}function e_e(e){return e>=48&&e<=57||e===43||e===45||e===46}function Td(e){return e>=48&&e<=57}function t_e(e){var t=e.max,n=e.pathValue,r=e.index,a=r,i=!1,o=!1,s=!1,l=!1,c;if(a>=t){e.err="[path-util]: Invalid path value at index ".concat(a,', "pathValue" is missing param');return}if(c=n.charCodeAt(a),(c===43||c===45)&&(a+=1,c=n.charCodeAt(a)),!Td(c)&&c!==46){e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" is not a number');return}if(c!==46){if(i=c===48,a+=1,c=n.charCodeAt(a),i&&a<t&&c&&Td(c)){e.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;a<t&&Td(n.charCodeAt(a));)a+=1,o=!0;c=n.charCodeAt(a)}if(c===46){for(l=!0,a+=1;Td(n.charCodeAt(a));)a+=1,s=!0;c=n.charCodeAt(a)}if(c===101||c===69){if(l&&!o&&!s){e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" invalid float exponent');return}if(a+=1,c=n.charCodeAt(a),(c===43||c===45)&&(a+=1),a<t&&Td(n.charCodeAt(a)))for(;a<t&&Td(n.charCodeAt(a));)a+=1;else{e.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(n[a],'" invalid integer exponent');return}}e.index=a,e.param=+e.pathValue.slice(r,a)}function n_e(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function Cm(e){for(var t=e.pathValue,n=e.max;e.index<n&&n_e(t.charCodeAt(e.index));)e.index+=1}function r_e(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function a_e(e){return(e|32)===97}function i_e(e){var t=e.max,n=e.pathValue,r=e.index,a=n.charCodeAt(r),i=Xp[n[r].toLowerCase()];if(e.segmentStart=r,!r_e(a)){e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(e.index+=1,Cm(e),e.data=[],!i){MM(e);return}for(;;){for(var o=i;o>0;o-=1){if(a_e(a)&&(o===3||o===4)?Jwe(e):t_e(e),e.err.length)return;e.data.push(e.param),Cm(e),e.index<t&&n.charCodeAt(e.index)===44&&(e.index+=1,Cm(e))}if(e.index>=e.max||!e_e(n.charCodeAt(e.index)))break}MM(e)}var o_e=(function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e})();function s_e(e){if(F9(e))return[].concat(e);var t=new o_e(e);for(Cm(t);t.index<t.max&&!t.err.length;)i_e(t);return t.err?t.err:t.segments}function l_e(e){if(B9(e))return[].concat(e);var t=s_e(e),n=0,r=0,a=0,i=0;return t.map(function(o){var s=o.slice(1).map(Number),l=o[0],c=l.toUpperCase();if(l==="M")return n=s[0],r=s[1],a=n,i=r,["M",n,r];var u;if(l!==c)switch(c){case"A":u=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":u=[c,s[0]+r];break;case"H":u=[c,s[0]+n];break;default:{var f=s.map(function(h,p){return h+(p%2?r:n)});u=[c].concat(f)}}else u=[c].concat(s);var d=u.length;switch(c){case"Z":n=a,r=i;break;case"H":n=u[1];break;case"V":r=u[1];break;default:n=u[d-2],r=u[d-1],c==="M"&&(a=n,i=r)}return u})}function c_e(e,t){var n=e[0],r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),n==="H")l=["L",e[1],a];else if(n==="V")l=["L",r,e[1]];else if(n==="S"){var c=r*2-i,u=a*2-o;t.x1=c,t.y1=u,l=["C",c,u].concat(s)}else if(n==="T"){var f=r*2-t.qx,d=a*2-t.qy;t.qx=f,t.qy=d,l=["Q",f,d].concat(s)}else if(n==="Q"){var h=s[0],p=s[1];t.qx=h,t.qy=p}return l}function Sy(e){if($9(e))return[].concat(e);for(var t=l_e(e),n=Le({},L9),r=0;r<t.length;r+=1){t[r]=c_e(t[r],n);var a=t[r],i=a.length;n.x1=+a[i-2],n.y1=+a[i-1],n.x2=+a[i-4]||n.x1,n.y2=+a[i-3]||n.y1}return t}function u_e(e){return $9(e)&&e.every(function(t){var n=t[0];return"MC".includes(n)})}function xg(e,t,n){var r=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:a}}function lO(e,t,n,r,a,i,o,s,l,c){var u=e,f=t,d=n,h=r,p=s,v=l,g=Math.PI*120/180,m=Math.PI/180*(+a||0),y=[],x,b,_,E,w;if(c)b=c[0],_=c[1],E=c[2],w=c[3];else{x=xg(u,f,-m),u=x.x,f=x.y,x=xg(p,v,-m),p=x.x,v=x.y;var A=(u-p)/2,S=(f-v)/2,O=A*A/(d*d)+S*S/(h*h);O>1&&(O=Math.sqrt(O),d*=O,h*=O);var k=d*d,T=h*h,C=(i===o?-1:1)*Math.sqrt(Math.abs((k*T-k*S*S-T*A*A)/(k*S*S+T*A*A)));E=C*d*S/h+(u+p)/2,w=C*-h*A/d+(f+v)/2,b=Math.asin(((f-w)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),_=Math.asin(((v-w)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),b=u<E?Math.PI-b:b,_=p<E?Math.PI-_:_,b<0&&(b=Math.PI*2+b),_<0&&(_=Math.PI*2+_),o&&b>_&&(b-=Math.PI*2),!o&&_>b&&(_-=Math.PI*2)}var M=_-b;if(Math.abs(M)>g){var P=_,I=p,L=v;_=b+g*(o&&_>b?1:-1),p=E+d*Math.cos(_),v=w+h*Math.sin(_),y=lO(p,v,d,h,a,0,o,I,L,[_,P,E,w])}M=_-b;var z=Math.cos(b),N=Math.sin(b),G=Math.cos(_),Y=Math.sin(_),B=Math.tan(M/4),F=4/3*d*B,D=4/3*h*B,R=[u,f],V=[u+F*N,f-D*z],H=[p+F*Y,v-D*G],j=[p,v];if(V[0]=2*R[0]-V[0],V[1]=2*R[1]-V[1],c)return V.concat(H,j,y);y=V.concat(H,j,y);for(var K=[],re=0,ae=y.length;re<ae;re+=1)K[re]=re%2?xg(y[re-1],y[re],m).y:xg(y[re],y[re+1],m).x;return K}function f_e(e,t,n,r,a,i){var o=.3333333333333333,s=2/3;return[o*e+s*n,o*t+s*r,o*a+s*n,o*i+s*r,a,i]}function Gc(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return[r+(i-r)*n,a+(o-a)*n]}var PM=function(e,t,n,r){var a=.5,i=Gc([e,t],[n,r],a);return pt(pt([],i,!0),[n,r,n,r],!1)};function d_e(e,t){var n=e[0],r=e.slice(1).map(Number),a=r[0],i=r[1],o,s=t.x1,l=t.y1,c=t.x,u=t.y;switch("TQ".includes(n)||(t.qx=null,t.qy=null),n){case"M":return t.x=a,t.y=i,e;case"A":return o=[s,l].concat(r),["C"].concat(lO(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return t.qx=a,t.qy=i,o=[s,l].concat(r),["C"].concat(f_e(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(PM(s,l,a,i));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(PM(s,l,c,u))}return e}function qE(e,t){if(t===void 0&&(t=!1),u_e(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r=Sy(e),a=Le({},L9),i=[],o="",s=r.length,l,c,u=[],f=0;f<s;f+=1){r[f]&&(o=r[f][0]),i[f]=o;var d=d_e(r[f],a);r[f]=d,Qwe(r,i,f),s=r.length,o==="Z"&&u.push(f),l=r[f],c=l.length,a.x1=+l[c-2],a.y1=+l[c-1],a.x2=+l[c-4]||a.x1,a.y2=+l[c-3]||a.y1}return t?[r,u]:r}function h_e(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function p_e(e){var t=e.slice(1).map(function(n,r,a){return r?a[r-1].slice(-2).concat(n.slice(1)):e[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,a){return n[n.length-a-2*(1-a%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(n){return["C"].concat(n.slice(2))}))}function co(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function KE(e,t,n,r,a){var i=co([e,t],[n,r]),o={x:0,y:0};if(typeof a=="number")if(a<=0)o={x:e,y:t};else if(a>=i)o={x:n,y:r};else{var s=Gc([e,t],[n,r],a/i),l=s[0],c=s[1];o={x:l,y:c}}return{length:i,point:o,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function IM(e,t){var n=e.x,r=e.y,a=t.x,i=t.y,o=n*a+r*i,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(a,2)+Math.pow(i,2))),l=n*i-r*a<0?-1:1,c=l*Math.acos(o/s);return c}function v_e(e,t,n,r,a,i,o,s,l,c){var u=Math.abs,f=Math.sin,d=Math.cos,h=Math.sqrt,p=Math.PI,v=u(n),g=u(r),m=(a%360+360)%360,y=m*(p/180);if(e===s&&t===l)return{x:e,y:t};if(v===0||g===0)return KE(e,t,s,l,c).point;var x=(e-s)/2,b=(t-l)/2,_={x:d(y)*x+f(y)*b,y:-f(y)*x+d(y)*b},E=Math.pow(_.x,2)/Math.pow(v,2)+Math.pow(_.y,2)/Math.pow(g,2);E>1&&(v*=h(E),g*=h(E));var w=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(_.y,2)-Math.pow(g,2)*Math.pow(_.x,2),A=Math.pow(v,2)*Math.pow(_.y,2)+Math.pow(g,2)*Math.pow(_.x,2),S=w/A;S=S<0?0:S;var O=(i!==o?1:-1)*h(S),k={x:O*(v*_.y/g),y:O*(-(g*_.x)/v)},T={x:d(y)*k.x-f(y)*k.y+(e+s)/2,y:f(y)*k.x+d(y)*k.y+(t+l)/2},C={x:(_.x-k.x)/v,y:(_.y-k.y)/g},M=IM({x:1,y:0},C),P={x:(-_.x-k.x)/v,y:(-_.y-k.y)/g},I=IM(C,P);!o&&I>0?I-=2*p:o&&I<0&&(I+=2*p),I%=2*p;var L=M+I*c,z=v*d(L),N=g*f(L),G={x:d(y)*z-f(y)*N+T.x,y:f(y)*z+d(y)*N+T.y};return G}function g_e(e,t,n,r,a,i,o,s,l,c,u){var f,d=u.bbox,h=d===void 0?!0:d,p=u.length,v=p===void 0?!0:p,g=u.sampleSize,m=g===void 0?30:g,y=typeof c=="number",x=e,b=t,_=0,E=[x,b,_],w=[x,b],A=0,S={x:0,y:0},O=[{x,y:b}];y&&c<=0&&(S={x,y:b});for(var k=0;k<=m;k+=1){if(A=k/m,f=v_e(e,t,n,r,a,i,o,s,l,A),x=f.x,b=f.y,h&&O.push({x,y:b}),v&&(_+=co(w,[x,b])),w=[x,b],y&&_>=c&&c>E[2]){var T=(_-c)/(_-E[2]);S={x:w[0]*(1-T)+E[0]*T,y:w[1]*(1-T)+E[1]*T}}E=[x,b,_]}return y&&c>=_&&(S={x:s,y:l}),{length:_,point:S,min:{x:Math.min.apply(null,O.map(function(C){return C.x})),y:Math.min.apply(null,O.map(function(C){return C.y}))},max:{x:Math.max.apply(null,O.map(function(C){return C.x})),y:Math.max.apply(null,O.map(function(C){return C.y}))}}}function m_e(e,t,n,r,a,i,o,s,l){var c=1-l;return{x:Math.pow(c,3)*e+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*a+Math.pow(l,3)*o,y:Math.pow(c,3)*t+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*i+Math.pow(l,3)*s}}function j9(e,t,n,r,a,i,o,s,l,c){var u,f=c.bbox,d=f===void 0?!0:f,h=c.length,p=h===void 0?!0:h,v=c.sampleSize,g=v===void 0?10:v,m=typeof l=="number",y=e,x=t,b=0,_=[y,x,b],E=[y,x],w=0,A={x:0,y:0},S=[{x:y,y:x}];m&&l<=0&&(A={x:y,y:x});for(var O=0;O<=g;O+=1){if(w=O/g,u=m_e(e,t,n,r,a,i,o,s,w),y=u.x,x=u.y,d&&S.push({x:y,y:x}),p&&(b+=co(E,[y,x])),E=[y,x],m&&b>=l&&l>_[2]){var k=(b-l)/(b-_[2]);A={x:E[0]*(1-k)+_[0]*k,y:E[1]*(1-k)+_[1]*k}}_=[y,x,b]}return m&&l>=b&&(A={x:o,y:s}),{length:b,point:A,min:{x:Math.min.apply(null,S.map(function(T){return T.x})),y:Math.min.apply(null,S.map(function(T){return T.y}))},max:{x:Math.max.apply(null,S.map(function(T){return T.x})),y:Math.max.apply(null,S.map(function(T){return T.y}))}}}function y_e(e,t,n,r,a,i,o){var s=1-o;return{x:Math.pow(s,2)*e+2*s*o*n+Math.pow(o,2)*a,y:Math.pow(s,2)*t+2*s*o*r+Math.pow(o,2)*i}}function x_e(e,t,n,r,a,i,o,s){var l,c=s.bbox,u=c===void 0?!0:c,f=s.length,d=f===void 0?!0:f,h=s.sampleSize,p=h===void 0?10:h,v=typeof o=="number",g=e,m=t,y=0,x=[g,m,y],b=[g,m],_=0,E={x:0,y:0},w=[{x:g,y:m}];v&&o<=0&&(E={x:g,y:m});for(var A=0;A<=p;A+=1){if(_=A/p,l=y_e(e,t,n,r,a,i,_),g=l.x,m=l.y,u&&w.push({x:g,y:m}),d&&(y+=co(b,[g,m])),b=[g,m],v&&y>=o&&o>x[2]){var S=(y-o)/(y-x[2]);E={x:b[0]*(1-S)+x[0]*S,y:b[1]*(1-S)+x[1]*S}}x=[g,m,y]}return v&&o>=y&&(E={x:a,y:i}),{length:y,point:E,min:{x:Math.min.apply(null,w.map(function(O){return O.x})),y:Math.min.apply(null,w.map(function(O){return O.y}))},max:{x:Math.max.apply(null,w.map(function(O){return O.x})),y:Math.max.apply(null,w.map(function(O){return O.y}))}}}function z9(e,t,n){for(var r,a,i,o,s,l,c=Sy(e),u=typeof t=="number",f,d=[],h,p=0,v=0,g=0,m=0,y,x=[],b=[],_=0,E={x:0,y:0},w=E,A=E,S=E,O=0,k=0,T=c.length;k<T;k+=1)y=c[k],h=y[0],f=h==="M",d=f?d:[p,v].concat(y.slice(1)),f?(g=y[1],m=y[2],E={x:g,y:m},w=E,_=0,u&&t<.001&&(S=E)):h==="L"?(r=KE(d[0],d[1],d[2],d[3],(t||0)-O),_=r.length,E=r.min,w=r.max,A=r.point):h==="A"?(a=g_e(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],(t||0)-O,n||{}),_=a.length,E=a.min,w=a.max,A=a.point):h==="C"?(i=j9(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],(t||0)-O,n||{}),_=i.length,E=i.min,w=i.max,A=i.point):h==="Q"?(o=x_e(d[0],d[1],d[2],d[3],d[4],d[5],(t||0)-O,n||{}),_=o.length,E=o.min,w=o.max,A=o.point):h==="Z"&&(d=[p,v,g,m],s=KE(d[0],d[1],d[2],d[3],(t||0)-O),_=s.length,E=s.min,w=s.max,A=s.point),u&&O<t&&O+_>=t&&(S=A),b.push(w),x.push(E),O+=_,l=h!=="Z"?y.slice(-2):[g,m],p=l[0],v=l[1];return u&&t>=O&&(S={x:p,y:v}),{length:O,point:S,min:{x:Math.min.apply(null,x.map(function(C){return C.x})),y:Math.min.apply(null,x.map(function(C){return C.y}))},max:{x:Math.max.apply(null,b.map(function(C){return C.x})),y:Math.max.apply(null,b.map(function(C){return C.y}))}}}function b_e(e,t){return z9(e,void 0,Le(Le({},t),{bbox:!1,length:!0})).length}function w_e(e){var t=e.length,n=t-1;return e.map(function(r,a){return e.map(function(i,o){var s=a+o,l;return o===0||e[s]&&e[s][0]==="M"?(l=e[s],["M"].concat(l.slice(-2))):(s>=t&&(s-=n),e[s])})})}function __e(e,t){var n=e.length-1,r=[],a=0,i=0,o=w_e(e);return o.forEach(function(s,l){e.slice(1).forEach(function(c,u){i+=co(e[(l+u)%n].slice(-2),t[u%n].slice(-2))}),r[l]=i,i=0}),a=r.indexOf(Math.min.apply(null,r)),o[a]}function E_e(e,t,n,r,a,i,o,s){return 3*((s-t)*(n+a)-(o-e)*(r+i)+r*(e-a)-n*(t-i)+s*(a+e/3)-o*(i+t/3))/20}function A_e(e){var t=0,n=0,r=0;return qE(e).map(function(a){var i;switch(a[0]){case"M":return t=a[1],n=a[2],0;default:var o=a.slice(1),s=o[0],l=o[1],c=o[2],u=o[3],f=o[4],d=o[5];return r=E_e(t,n,s,l,c,u,f,d),i=a.slice(-2),t=i[0],n=i[1],r}}).reduce(function(a,i){return a+i},0)}function RM(e){return A_e(e)>=0}function S_e(e,t,n){return z9(e,t,Le(Le({},n),{bbox:!1,length:!0})).point}var O_e=50;function k_e(e,t){t===void 0&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),a=e.slice(4,6),i=e.slice(6,8),o=Gc(n,r,t),s=Gc(r,a,t),l=Gc(a,i,t),c=Gc(o,s,t),u=Gc(s,l,t),f=Gc(c,u,t);return[["C"].concat(o,c,f),["C"].concat(u,l,i)]}function DM(e){return e.map(function(t,n,r){var a=n&&r[n-1].slice(-2).concat(t.slice(1)),i=n?j9(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],{bbox:!1}).length:0,o;return n?o=i?k_e(a):[t,t]:o=[t],{s:t,ss:o,l:i}})}function U9(e,t,n,r){if(r===void 0&&(r=0),r>O_e)return console.warn("Maximum recursion depth reached in equalizeSegments"),[e,t];var a=DM(e),i=DM(t),o=a.length,s=i.length,l=a.filter(function(m){return m.l}).length,c=i.filter(function(m){return m.l}).length,u=a.filter(function(m){return m.l}).reduce(function(m,y){var x=y.l;return m+x},0)/l||0,f=i.filter(function(m){return m.l}).reduce(function(m,y){var x=y.l;return m+x},0)/c||0,d=n||Math.max(o,s),h=[u,f],p=[d-o,d-s],v=0,g=[a,i].map(function(m,y){return m.l===d?m.map(function(x){return x.s}):m.map(function(x,b){return v=b&&p[y]&&x.l>=h[y],p[y]-=v?1:0,v?x.ss:[x.s]}).flat()});return g[0].length===g[1].length?g:U9(g[0],g[1],d,r+1)}function NM(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function qn(e,t){if(e!==null)return{type:"column",value:e,field:t}}function S1(e,t){const n=qn(e,t);return Object.assign(Object.assign({},n),{inferred:!0})}function Oy(e,t){if(e!==null)return{type:"column",value:e,field:t,visual:!0}}function T_e(e,t){const n=qn(e,t);return Object.assign(Object.assign({},n),{constant:!1})}function vu(e,t){const n=[];for(const r of e)n[r]=t;return n}function fn(e,t){const n=e[t];if(!n)return[null,null];const{value:r,field:a=null}=n;return[r,a]}function ky(e,...t){for(const n of t)if(typeof n=="string"){const[r,a]=fn(e,n);if(r!==null)return[r,a]}else return[n,null];return[null,null]}function Av(e){return e instanceof Date?!1:typeof e=="object"}const Sv=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;return r!==void 0?[e,t]:[e,Me({},t,{encode:{y1:S1(vu(e,0))}})]};Sv.props={};function Lr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function C_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gc(e){let t,n,r;e.length!==2?(t=Lr,n=(s,l)=>Lr(e(s),l),r=(s,l)=>e(s)-l):(t=e===Lr||e===C_e?e:M_e,n=e,r=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function M_e(){return 0}function ZE(e){return e===null?NaN:+e}function*P_e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const H9=gc(Lr),I_e=H9.right,R_e=H9.left,D_e=gc(ZE).center;function V9(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function N_e(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-a,a+=r/++n,i+=r*(s-a))}if(n>1)return i/(n-1)}function W9(e,t){const n=N_e(e,t);return n&&Math.sqrt(n)}function mc(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class Gf{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let a=0;a<this._n&&a<32;a++){const i=n[a],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}let L_e=class extends Map{constructor(t,n=$_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(LM(this,t))}has(t){return super.has(LM(this,t))}set(t,n){return super.set(F_e(this,t),n)}delete(t){return super.delete(B_e(this,t))}};function LM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function B_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function O1(e){return e}function er(e,...t){return u2(e,O1,O1,t)}function cO(e,...t){return u2(e,Array.from,O1,t)}function uO(e,t,...n){return u2(e,O1,t,n)}function fO(e,t,...n){return u2(e,Array.from,t,n)}function u2(e,t,n,r){return(function a(i,o){if(o>=r.length)return n(i);const s=new L_e,l=r[o++];let c=-1;for(const u of i){const f=l(u,++c,i),d=s.get(f);d?d.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,a(f,o));return t(s)})(e,0)}function j_e(e,t){return Array.from(t,n=>e[n])}function $s(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(const o of t){const s=k1(o[a],o[i]);if(s)return s}})):(n=e.map(n),r.sort((a,i)=>k1(n[a],n[i]))),j_e(e,r)}return e.sort(G9(n))}function G9(e=Lr){if(e===Lr)return k1;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function k1(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function z_e(e,t,n){return(t.length!==2?$s(uO(e,t,n),(([r,a],[i,o])=>Lr(a,o)||Lr(r,i))):$s(er(e,n),(([r,a],[i,o])=>t(a,o)||Lr(r,i)))).map(([r])=>r)}var U_e=Array.prototype,H_e=U_e.slice;function Ew(e){return()=>e}const V_e=Math.sqrt(50),W_e=Math.sqrt(10),G_e=Math.sqrt(2);function Ty(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=V_e?10:i>=W_e?5:i>=G_e?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Ty(e,t,n*2):[s,l,c]}function Y_e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Ty(t,e,n):Ty(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function QE(e,t,n){return t=+t,e=+e,n=+n,Ty(e,t,n)[2]}function X_e(e,t,n){let r;for(;;){const a=QE(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}function q_e(e){return Math.max(1,Math.ceil(Math.log(V9(e))/Math.LN2)+1)}function K_e(){var e=O1,t=mc,n=q_e;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,s,l,c=new Array(o);for(i=0;i<o;++i)c[i]=e(a[i],i,a);var u=t(c),f=u[0],d=u[1],h=n(c,f,d);if(!Array.isArray(h)){const x=d,b=+h;if(t===mc&&([f,d]=X_e(f,d,b)),h=Y_e(f,d,b),h[0]<=f&&(l=QE(f,d,b)),h[h.length-1]>=d)if(x>=d&&t===mc){const _=QE(f,d,b);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else h.pop()}for(var p=h.length,v=0,g=p;h[v]<=f;)++v;for(;h[g-1]>d;)--g;(v||g<p)&&(h=h.slice(v,g),p=g-v);var m=new Array(p+1),y;for(i=0;i<=p;++i)y=m[i]=[],y.x0=i>0?h[i-1]:f,y.x1=i<p?h[i]:d;if(isFinite(l)){if(l>0)for(i=0;i<o;++i)(s=c[i])!=null&&f<=s&&s<=d&&m[Math.min(p,Math.floor((s-f)/l))].push(a[i]);else if(l<0){for(i=0;i<o;++i)if((s=c[i])!=null&&f<=s&&s<=d){const x=Math.floor((f-s)*l);m[Math.min(p,x+(h[x]<=s))].push(a[i])}}}else for(i=0;i<o;++i)(s=c[i])!=null&&f<=s&&s<=d&&m[I_e(h,s,0,p)].push(a[i]);return m}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:Ew(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Ew([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Ew(Array.isArray(a)?H_e.call(a):a),r):n},r}function Mn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function ph(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}function Mo(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function Ov(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}function dO(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?k1:G9(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),p=Math.min(r,Math.floor(t+(l-c)*f/l+d));dO(e,t,h,p,a)}const i=e[t];let o=n,s=r;for(jh(e,n,t),a(e[r],i)>0&&jh(e,n,r);o<s;){for(jh(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?jh(e,n,s):(++s,jh(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function jh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Z_e(e,t=Lr){let n,r=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(r?Lr(o,a)>0:Lr(o,o)===0)&&(n=i,a=o,r=!0)}}else for(const a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}function f2(e,t,n){if(e=Float64Array.from(P_e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Mo(e);if(t>=1)return Mn(e);var r,a=(r-1)*t,i=Math.floor(a),o=Mn(dO(e,i).subarray(0,i+1)),s=Mo(e.subarray(i+1));return o+(s-o)*(a-i)}}function Q_e(e,t,n=ZE){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,l)=>ZE(n(e[l],l,e))),t<=0)return Ov(r);if(t>=1)return ph(r);var r,a=Uint32Array.from(e,(s,l)=>l),i=r.length-1,o=Math.floor(i*t);return dO(a,o,0,i,(s,l)=>k1(r[s],r[l])),o=Z_e(a.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function J_e(e,t,n){const r=V9(e),a=W9(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}function T1(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function hO(e,t){return f2(e,.5,t)}function eEe(e,t){return Q_e(e,.5,t)}function*tEe(e){for(const t of e)yield*t}function Y9(e){return Array.from(tEe(e))}function qd(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ns(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}function L0(e,...t){return t.reduce((n,r)=>a=>n(r(a)),e)}function Cy(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function nEe(e,t){const n=t<e?t:e,r=e>t?e:t;return a=>Math.min(Math.max(n,a),r)}function pO(e,t,n,r,a){let i=n||0,o=r||e.length;const s=a||(l=>l);for(;i<o;){const l=Math.floor((i+o)/2);s(e[l])>t?o=l:i=l+1}return i}const JE=Math.sqrt(50),eA=Math.sqrt(10),tA=Math.sqrt(2);function Mm(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/10**a;return a>=0?(i>=JE?10:i>=eA?5:i>=tA?2:1)*10**a:-(10**-a)/(i>=JE?10:i>=eA?5:i>=tA?2:1)}function FM(e,t,n){const r=Math.abs(t-e)/Math.max(0,n);let a=10**Math.floor(Math.log(r)/Math.LN10);const i=r/a;return i>=JE?a*=10:i>=eA?a*=5:i>=tA&&(a*=2),t<e?-a:a}const vO=(e,t,n=5)=>{const r=[e,t];let a=0,i=r.length-1,o=r[a],s=r[i],l;return s<o&&([o,s]=[s,o],[a,i]=[i,a]),l=Mm(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=Mm(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=Mm(o,s,n)),l>0?(r[a]=Math.floor(o/l)*l,r[i]=Math.ceil(s/l)*l):l<0&&(r[a]=Math.ceil(o*l)/l,r[i]=Math.floor(s*l)/l),r},C1=1e3,M1=C1*60,P1=M1*60,Yf=P1*24,qp=Yf*7,X9=Yf*30,q9=Yf*365;function Ni(e,t,n,r){const a=(c,u)=>{const f=h=>r(h)%u===0;let d=u;for(;d&&!f(c);)n(c,-1),d-=1;return c},i=(c,u)=>{u&&a(c,u),t(c)},o=(c,u)=>{const f=new Date(+c);return i(f,u),f},s=(c,u)=>{const f=new Date(+c-1);return i(f,u),n(f,u),i(f),f};return{ceil:s,floor:o,range:(c,u,f,d)=>{const h=[],p=Math.floor(f),v=d?s(c,f):s(c);for(let g=v;g<u;n(g,p),i(g))h.push(new Date(+g));return h},duration:e}}const rEe=Ni(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),aEe=Ni(C1,e=>{e.setMilliseconds(0)},(e,t=1)=>{e.setTime(+e+C1*t)},e=>e.getSeconds()),iEe=Ni(M1,e=>{e.setSeconds(0,0)},(e,t=1)=>{e.setTime(+e+M1*t)},e=>e.getMinutes()),oEe=Ni(P1,e=>{e.setMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+P1*t)},e=>e.getHours()),sEe=Ni(Yf,e=>{e.setHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+Yf*t)},e=>e.getDate()-1),K9=Ni(X9,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getMonth();e.setMonth(n+t)},e=>e.getMonth()),lEe=Ni(qp,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,t=1)=>{e.setDate(e.getDate()+7*t)},e=>{const t=K9.floor(e),n=new Date(+e);return Math.floor((+n-+t)/qp)}),cEe=Ni(q9,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getFullYear();e.setFullYear(n+t)},e=>e.getFullYear()),Z9={millisecond:rEe,second:aEe,minute:iEe,hour:oEe,day:sEe,week:lEe,month:K9,year:cEe},uEe=Ni(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),fEe=Ni(C1,e=>{e.setUTCMilliseconds(0)},(e,t=1)=>{e.setTime(+e+C1*t)},e=>e.getUTCSeconds()),dEe=Ni(M1,e=>{e.setUTCSeconds(0,0)},(e,t=1)=>{e.setTime(+e+M1*t)},e=>e.getUTCMinutes()),hEe=Ni(P1,e=>{e.setUTCMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+P1*t)},e=>e.getUTCHours()),pEe=Ni(Yf,e=>{e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+Yf*t)},e=>e.getUTCDate()-1),Q9=Ni(X9,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCMonth();e.setUTCMonth(n+t)},e=>e.getUTCMonth()),vEe=Ni(qp,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+qp*t)},e=>{const t=Q9.floor(e),n=new Date(+e);return Math.floor((+n-+t)/qp)}),gEe=Ni(q9,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCFullYear();e.setUTCFullYear(n+t)},e=>e.getUTCFullYear()),J9={millisecond:uEe,second:fEe,minute:dEe,hour:hEe,day:pEe,week:vEe,month:Q9,year:gEe};function mEe(e){const t=e?J9:Z9,{year:n,month:r,week:a,day:i,hour:o,minute:s,second:l,millisecond:c}=t;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[i,1],[i,2],[a,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function eB(e,t,n,r,a){const i=+e,o=+t,{tickIntervals:s,year:l,millisecond:c}=mEe(a),u=([g,m])=>g.duration*m,f=r?(o-i)/r:n||5,d=r||(o-i)/f,h=s.length,p=pO(s,d,0,h,u);let v;if(p===h){const g=FM(i/l.duration,o/l.duration,f);v=[l,g]}else if(p){const g=d/u(s[p-1])<u(s[p])/d,[m,y]=g?s[p-1]:s[p],x=r?Math.ceil(r/m.duration):y;v=[m,x]}else{const g=Math.max(FM(i,o,f),1);v=[c,g]}return v}const yEe=(e,t,n,r,a)=>{const i=e>t,o=i?t:e,s=i?e:t,[l,c]=eB(o,s,n,r,a),u=[l.floor(o,c),l.ceil(s,c)];return i?u.reverse():u};function My(e){return!Rn(e)&&!h9(e)&&!Number.isNaN(e)}const tB=e=>t=>-e(-t),gO=(e,t)=>{const n=Math.log(e),r=e===Math.E?Math.log:e===10?Math.log10:e===2?Math.log2:a=>Math.log(a)/n;return t?tB(r):r},mO=(e,t)=>{const n=e===Math.E?Math.exp:r=>e**r;return t?tB(n):n},xEe=(e,t,n,r)=>{const a=e<0,i=gO(r,a),o=mO(r,a),s=e>t,l=s?t:e,c=s?e:t,u=[o(Math.floor(i(l))),o(Math.ceil(i(c)))];return s?u.reverse():u},bEe=e=>t=>{const n=e(t);return nr(n)?Math.round(n):n};function wEe(e,t){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=e(r)},n.prototype.composeOutput=function(r,a){const{domain:i,interpolator:o,round:s}=this.getOptions(),l=t(i.map(r)),c=s?bEe(o):o;this.output=L0(c,l,a,r)},n.prototype.invert=void 0}}var Aw={exports:{}},Sw,BM;function _Ee(){return BM||(BM=1,Sw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Sw}var Ow={exports:{}},kw,$M;function EEe(){return $M||($M=1,kw=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),kw}var jM;function AEe(){if(jM)return Ow.exports;jM=1;var e=EEe(),t=Array.prototype.concat,n=Array.prototype.slice,r=Ow.exports=function(i){for(var o=[],s=0,l=i.length;s<l;s++){var c=i[s];e(c)?o=t.call(o,n.call(c)):o.push(c)}return o};return r.wrap=function(a){return function(){return a(r(arguments))}},Ow.exports}var zM;function SEe(){if(zM)return Aw.exports;zM=1;var e=_Ee(),t=AEe(),n=Object.hasOwnProperty,r=Object.create(null);for(var a in e)n.call(e,a)&&(r[e[a]]=a);var i=Aw.exports={to:{},get:{}};i.get=function(l){var c=l.substring(0,3).toLowerCase(),u,f;switch(c){case"hsl":u=i.get.hsl(l),f="hsl";break;case"hwb":u=i.get.hwb(l),f="hwb";break;default:u=i.get.rgb(l),f="rgb";break}return u?{model:f,value:u}:null},i.get.rgb=function(l){if(!l)return null;var c=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^(\w+)$/,p=[0,0,0,1],v,g,m;if(v=l.match(u)){for(m=v[2],v=v[1],g=0;g<3;g++){var y=g*2;p[g]=parseInt(v.slice(y,y+2),16)}m&&(p[3]=parseInt(m,16)/255)}else if(v=l.match(c)){for(v=v[1],m=v[3],g=0;g<3;g++)p[g]=parseInt(v[g]+v[g],16);m&&(p[3]=parseInt(m+m,16)/255)}else if(v=l.match(f)){for(g=0;g<3;g++)p[g]=parseInt(v[g+1],0);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else if(v=l.match(d)){for(g=0;g<3;g++)p[g]=Math.round(parseFloat(v[g+1])*2.55);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else return(v=l.match(h))?v[1]==="transparent"?[0,0,0,0]:n.call(e,v[1])?(p=e[v[1]],p[3]=1,p):null:null;for(g=0;g<3;g++)p[g]=o(p[g],0,255);return p[3]=o(p[3],0,1),p},i.get.hsl=function(l){if(!l)return null;var c=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var f=parseFloat(u[4]),d=(parseFloat(u[1])%360+360)%360,h=o(parseFloat(u[2]),0,100),p=o(parseFloat(u[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},i.get.hwb=function(l){if(!l)return null;var c=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var f=parseFloat(u[4]),d=(parseFloat(u[1])%360+360)%360,h=o(parseFloat(u[2]),0,100),p=o(parseFloat(u[3]),0,100),v=o(isNaN(f)?1:f,0,1);return[d,h,p,v]}return null},i.to.hex=function(){var l=t(arguments);return"#"+s(l[0])+s(l[1])+s(l[2])+(l[3]<1?s(Math.round(l[3]*255)):"")},i.to.rgb=function(){var l=t(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},i.to.rgb.percent=function(){var l=t(arguments),c=Math.round(l[0]/255*100),u=Math.round(l[1]/255*100),f=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+c+"%, "+u+"%, "+f+"%)":"rgba("+c+"%, "+u+"%, "+f+"%, "+l[3]+")"},i.to.hsl=function(){var l=t(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},i.to.hwb=function(){var l=t(arguments),c="";return l.length>=4&&l[3]!==1&&(c=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+c+")"},i.to.keyword=function(l){return r[l.slice(0,3)]};function o(l,c,u){return Math.min(Math.max(c,l),u)}function s(l){var c=Math.round(l).toString(16).toUpperCase();return c.length<2?"0"+c:c}return Aw.exports}var OEe=SEe();const nB=l2(OEe);function Tw(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function kEe(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,a=e[3];if(n===0)return[r*255,r*255,r*255,a];const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=Tw(o,i,t+1/3),l=Tw(o,i,t),c=Tw(o,i,t-1/3);return[s*255,l*255,c*255,a]}function UM(e){const t=nB.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?kEe(r):null}const F0=(e,t)=>n=>e*(1-n)+t*n,TEe=(e,t)=>{const n=UM(e),r=UM(t);return n===null||r===null?n?()=>e:()=>t:a=>{const i=new Array(4);for(let u=0;u<4;u+=1){const f=n[u],d=r[u];i[u]=f*(1-a)+d*a}const[o,s,l,c]=i;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},kv=(e,t)=>typeof e=="number"&&typeof t=="number"?F0(e,t):typeof e=="string"&&typeof t=="string"?TEe(e,t):()=>e,CEe=(e,t)=>{const n=F0(e,t);return r=>Math.round(n(r))};function MEe(e,t){const{second:n,minute:r,hour:a,day:i,week:o,month:s,year:l}=t;return n.floor(e)<e?".SSS":r.floor(e)<e?":ss":a.floor(e)<e?"hh:mm":i.floor(e)<e?"hh A":s.floor(e)<e?o.floor(e)<e?"MMM DD":"ddd DD":l.floor(e)<e?"MMMM":"YYYY"}function HM({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function PEe({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function IEe({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function REe(e){return typeof e=="object"?e.valueOf():e}let VM=class extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=REe,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(HM({map:this.map,initKey:this.initKey},t))}has(t){return super.has(HM({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(PEe({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(IEe({map:this.map,initKey:this.initKey},t))}},Tv=class{transformBreaks(t){return t}constructor(t){var n;this.options=Me({},this.getDefaultOptions()),this.update(!((n=t==null?void 0:t.breaks)===null||n===void 0)&&n.length?this.transformBreaks(t):t)}getOptions(){return this.options}update(t={}){const n=t.breaks?this.transformBreaks(t):t;this.options=Me({},this.options,n),this.rescale(n)}rescale(t){}};const d2=Symbol("defaultUnknown");function WM(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function GM(e){const{value:t,from:n,to:r,mapper:a,notFoundReturn:i}=e;let o=a.get(t);if(o===void 0){if(i!==d2)return i;o=n.push(t)-1,a.set(t,o)}return r[o%r.length]}function YM(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let rB=class aB extends Tv{getDefaultOptions(){return{domain:[],range:[],unknown:d2}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&WM(this.domainIndexMap,this.getDomain(),this.domainKey),GM({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&WM(this.rangeIndexMap,this.getRange(),this.rangeKey),GM({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=YM(n),this.rangeKey=YM(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new aB(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function DEe(e){const t=e.reduce((n,r)=>Math.min(n,r),1/0);return t===1/0?[]:e.map(n=>n/t)}function NEe(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function LEe(e){return Math.round(e*1e12)/1e12}function FEe(e){const{domain:t,range:n,paddingOuter:r,paddingInner:a,flex:i,round:o,align:s}=e,l=t.length,c=NEe(i,l),[u,f]=n,d=f-u,h=2/l*r+1-1/l*a,p=d/h,v=p*a/l,g=p-l*v,m=DEe(c),y=m.reduce((T,C)=>T+C),x=g/y,b=new VM(t.map((T,C)=>{const M=m[C]*x;return[T,o?Math.floor(M):M]})),_=new VM(t.map((T,C)=>{const P=m[C]*x+v;return[T,o?Math.floor(P):P]})),E=Array.from(_.values()).reduce((T,C)=>T+C),A=(d-(E-E/l*a))*s,S=u+A;let O=o?Math.round(S):S;const k=new Array(l);for(let T=0;T<l;T+=1){k[T]=LEe(O);const C=t[T];O+=_.get(C)}return{valueBandWidth:b,valueStep:_,adjustedRange:k}}function BEe(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return FEe(e);const{range:i,paddingOuter:o,paddingInner:s,round:l,align:c}=e;let u,f,d=i[0];const p=i[1]-d,v=o*2,g=r-s;u=p/Math.max(1,v+g),l&&(u=Math.floor(u)),d+=(p-u*(r-s))*c,f=u*(1-s),l&&(d=Math.round(d),f=Math.round(f));const m=new Array(r).fill(0).map((y,x)=>d+x*u);return{valueStep:u,valueBandWidth:f,adjustedRange:m}}let I1=class iB extends rB{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:d2,flex:[]}}constructor(t){super(t)}clone(){return new iB(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:a,flex:i}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=BEe({align:t,range:r,round:a,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const $Ee=(e,t)=>{if(!(t!=null&&t.length))return e;const n=[...e,...t.flatMap(i=>[i.start,i.end])],a=Array.from(new Set(n)).sort((i,o)=>i-o).filter(i=>!t.some(({start:o,end:s})=>i>o&&i<s));return a.length?a:e},Eu=(e,t,n,r)=>{let a,i,o=e,s=t;if(o===s&&n>0)return[o];let l=Mm(o,s,n);if(l===0||!Number.isFinite(l))return[];if(l>0){o=Math.ceil(o/l),s=Math.floor(s/l),i=new Array(a=Math.ceil(s-o+1));for(let c=0;c<a;c+=1)i[c]=(o+c)*l}else{l=-l,o=Math.ceil(o*l),s=Math.floor(s*l),i=new Array(a=Math.ceil(s-o+1));for(let c=0;c<a;c+=1)i[c]=(o+c)/l}return $Ee(i,r)};let yO=class oB extends Tv{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Eu}}map(t){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(t){const[n]=this.options.range;return t===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:n,tickCount:r}=this.options,[a,i]=n;return!nr(a)||!nr(i)?[]:t(a,i,r)}clone(){return new oB(this.options)}};function zh(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const jEe=[1,5,2,2.5,4,3],XM=Number.EPSILON*100;function zEe(e,t){return(e%t+t)%t}function UEe(e){return Math.round(e*1e12)/1e12}function HEe(e,t,n,r,a,i){const o=by(t),s=g9(t,e);let l=0;const c=zEe(r,i);return(c<XM||i-c<XM)&&r<=0&&a>=0&&(l=1),1-s/(o-1)-n+l}function VEe(e,t,n){const r=by(t);return 1-g9(t,e)/(r-1)-n+1}function WEe(e,t,n,r,a,i){const o=(e-1)/(i-a),s=(t-1)/(Math.max(i,r)-Math.min(n,a));return 2-Math.max(o/s,s/o)}function GEe(e,t){return e>=t?2-(e-1)/(t-1):1}function YEe(e,t,n,r){const a=t-e;return 1-.5*((t-r)**2+(e-n)**2)/(.1*a)**2}function XEe(e,t,n){const r=t-e;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function qEe(){return 1}const xO=(e,t,n=5,r=!0,a=jEe,i=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||typeof e!="number"||typeof t!="number"||!o)return[];if(t-e<1e-15||o===1)return[e];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let p=0;p<a.length;p+=1){const v=a[p],g=VEe(v,a,l);if(i[0]*g+i[1]+i[2]+i[3]<s.score){l=1/0;break}let m=2;for(;m<1/0;){const y=GEe(m,o);if(i[0]*g+i[1]+i[2]*y+i[3]<s.score)break;const x=(t-e)/(m+1)/l/v;let b=Math.ceil(Math.log10(x));for(;b<1/0;){const _=l*v*10**b,E=XEe(e,t,_*(m-1));if(i[0]*g+i[1]*E+i[2]*y+i[3]<s.score)break;const w=Math.floor(t/_)*l-(m-1)*l,A=Math.ceil(e/_)*l;if(w<=A){const S=A-w;for(let O=0;O<=S;O+=1){const T=(w+O)*(_/l),C=T+_*(m-1),M=_,P=HEe(v,a,l,T,C,M),I=YEe(e,t,T,C),L=WEe(m,o,e,t,T,C),z=qEe(),N=i[0]*P+i[1]*I+i[2]*L+i[3]*z;N>s.score&&(!r||T<=e&&C>=t)&&(s.lmin=T,s.lmax=C,s.lstep=M,s.score=N)}}b+=1}m+=1}}l+=1}const c=zh(s.lmax),u=zh(s.lmin),f=zh(s.lstep),d=Math.floor(UEe((c-u)/f))+1,h=new Array(d);h[0]=zh(u);for(let p=1;p<d;p+=1)h[p]=zh(h[p-1]+f);return h};let sB=class lB extends Tv{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:xO}}map(t){return My(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new lB(this.options)}getTicks(){const{domain:t,tickCount:n,tickMethod:r}=this.options,[a,i]=t;return!nr(a)||!nr(i)?[]:r(a,i,n)}};const KEe=(e,t,n)=>{const[r,a]=e,[i,o]=t;let s,l;return r<a?(s=Cy(r,a),l=n(i,o)):(s=Cy(a,r),l=n(o,i)),L0(l,s)},ZEe=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,l=o?[...t].reverse():t;for(let c=0;c<r;c+=1)a[c]=Cy(s[c],s[c+1]),i[c]=n(l[c],l[c+1]);return c=>{const u=pO(e,c,1,r)-1,f=a[u],d=i[u];return L0(d,f)(c)}},qM=(e,t,n,r)=>(Math.min(e.length,t.length)>2?ZEe:KEe)(e,t,r?CEe:n);let h2=class extends Tv{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:F0,tickCount:5}}map(t){return My(t)?this.output(t):this.options.unknown}invert(t){return My(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice||Ra(this.options.breaks))return;const[t,n,r,...a]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...a)}getTicks(){const{tickMethod:t}=this.options,[n,r,a,...i]=this.getTickMethodOptions();return t(n,r,a,...i)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],a=t[t.length-1];return[r,a,n]}chooseNice(){return vO}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,a=this.options.domain.map(t),i=Math.min(a.length,r.length);return n?nEe(a[0],a[i-1]):Rl}composeOutput(t,n){const{domain:r,range:a,round:i,interpolate:o}=this.options,s=qM(r.map(t),a,o,i);this.output=L0(s,n,t)}composeInput(t,n,r){const{domain:a,range:i}=this.options,o=qM(i,a.map(t),F0);this.input=L0(n,r,o)}},kc=class cB extends h2{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:kv,tickMethod:Eu,tickCount:5}}removeUnsortedValues(t,n,r){let a=-1/0;return n.reduce((o,s,l)=>{if(l===0)return o;const c=a>0?a:s;return a>0&&(r?s>a:s<a)?o.push(l):(c-n[l-1])*(r?-1:1)<0?(a<0&&(a=n[l-1]),o.push(l)):a=-1/0,o},[]).slice().reverse().forEach(o=>{t.splice(o,1),n.splice(o,1)}),{breaksDomain:t,breaksRange:n}}transformDomain(t){const n=[.2,.8],r=.03,{domain:a=[],range:i=[1,0],breaks:o=[],tickCount:s=5,nice:l}=t,[c,u]=[Math.min(...a),Math.max(...a)];let f=c,d=u;if(l&&o.length<2){const S=this.chooseNice()(c,u,s);f=S[0],d=S[S.length-1]}const h=Math.min(f,c);let p=Math.max(d,u);const v=o.filter(({end:S})=>S<p).sort((S,O)=>S.start-O.start),g=Eu(h,p,s,v);if(Ao(g)<p){const S=vO(0,p-Ao(g),3);g.push(Ao(g)+Ao(S)),p=Ao(g)}const[m,y]=[i[0],Ao(i)],x=p-h,b=Math.abs(y-m),_=m>y,E=g.map(S=>{const O=(S-h)/x;return _?m-O*b:m+O*b}),[w,A]=n;return v.forEach(({start:S,end:O,gap:k=r,compress:T="middle"})=>{const C=g.indexOf(S),M=g.indexOf(O);let P=(E[C]+E[M])/2;T==="start"&&(P=E[C]),T==="end"&&(P=E[M]);const I=k*b/2;let L=_?P+I:P-I,z=_?P-I:P+I;L<w&&(z+=w-L,L=w),z>A&&(L-=z-A,z=A),L>A&&(z-=L-A,L=A),z<w&&(L+=w-z,z=w),E[C]=L,E[M]=z}),this.removeUnsortedValues(g,E,_)}transformBreaks(t){const{domain:n,breaks:r=[]}=t;if(!Ra(t.breaks))return t;const a=Math.max(...n),i=r.filter(({end:c})=>c<a),o={...t,breaks:i},{breaksDomain:s,breaksRange:l}=this.transformDomain(o);return{...t,domain:s,range:l,breaks:i,tickMethod:()=>[...s]}}chooseTransforms(){return[Rl,Rl]}clone(){return new cB(this.options)}},QEe=class uB extends I1{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:d2,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new uB(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}};const JEe=e=>t=>t<0?-((-t)**e):t**e,eAe=e=>t=>t<0?-((-t)**(1/e)):t**(1/e),tAe=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let fB=class dB extends h2{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:kv,tickMethod:Eu,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(t===1)return[Rl,Rl];const n=t===.5?tAe:JEe(t),r=eAe(t);return[n,r]}clone(){return new dB(this.options)}},nAe=class hB extends fB{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:kv,tickMethod:Eu,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new hB(this.options)}},p2=class pB extends Tv{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!My(t))return this.options.unknown;const n=pO(this.thresholds,t,0,this.n);return this.options.range[n]}invert(t){const{range:n}=this.options,r=n.indexOf(t),a=this.thresholds;return[a[r-1],a[r]]}clone(){return new pB(this.options)}rescale(){const{domain:t,range:n}=this.options;this.n=Math.min(t.length,n.length-1),this.thresholds=t}};const rAe=(e,t,n,r=10)=>{const a=e<0,i=mO(r,a),o=gO(r,a),s=t<e,l=s?t:e,c=s?e:t;let u=o(l),f=o(c),d=[];if(!(r%1)&&f-u<n){if(u=Math.floor(u),f=Math.ceil(f),a)for(;u<=f;u+=1){const h=i(u);for(let p=r-1;p>=1;p-=1){const v=h*p;if(v>c)break;v>=l&&d.push(v)}}else for(;u<=f;u+=1){const h=i(u);for(let p=1;p<r;p+=1){const v=h*p;if(v>c)break;v>=l&&d.push(v)}}d.length*2<n&&(d=Eu(l,c,n))}else{const h=n===-1?f-u:Math.min(f-u,n);d=Eu(u,f,h).map(i)}return s?d.reverse():d};let aAe=class vB extends h2{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:kv,tickMethod:rAe,tickCount:5}}chooseNice(){return xEe}getTickMethodOptions(){const{domain:t,tickCount:n,base:r}=this.options,a=t[0],i=t[t.length-1];return[a,i,n,r]}chooseTransforms(){const{base:t,domain:n}=this.options,r=n[0]<0;return[gO(t,r),mO(t,r)]}clone(){return new vB(this.options)}},gB=class mB extends p2{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:xO}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[n,r,a]=this.getTickMethodOptions();this.options.domain=vO(n,r,a)}}getTicks(){const{tickMethod:t}=this.options,[n,r,a]=this.getTickMethodOptions();return t(n,r,a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],a=t[t.length-1];return[r,a,n]}rescale(){this.nice();const{range:t,domain:n}=this.options,[r,a]=n;this.n=t.length-1,this.thresholds=new Array(this.n);for(let i=0;i<this.n;i+=1)this.thresholds[i]=((i+1)*a-(i-this.n)*r)/(this.n+1)}invert(t){const[n,r]=super.invert(t),[a,i]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||a,r||i]}getThresholds(){return this.thresholds}clone(){return new mB(this.options)}};function iAe(e,t){const n=e.length;if(!n)return;if(n<2)return e[n-1];const r=(n-1)*t,a=Math.floor(r),i=e[a],o=e[a+1];return i+(o-i)*(r-a)}function oAe(e,t,n=!1){const r=e;n||r.sort((i,o)=>i-o);const a=[];for(let i=1;i<t;i+=1)a.push(iAe(r,i/t));return a}let yB=class xB extends p2{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:xO}}constructor(t){super(t)}rescale(){const{domain:t,range:n}=this.options;this.n=n.length-1,this.thresholds=oAe(t,this.n+1,!1)}invert(t){const[n,r]=super.invert(t),{domain:a}=this.options,i=a[0],o=a[a.length-1];return n===void 0&&r===void 0?[n,r]:[n||i,r||o]}getThresholds(){return this.thresholds}clone(){return new xB(this.options)}getTicks(){const{tickCount:t,domain:n,tickMethod:r}=this.options,a=n.length-1,i=n[0],o=n[a];return r(i,o,t)}};var sAe=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,lAe=/\[([^]*?)\]/gm;function bB(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(e[r].substr(0,t));return n}function nA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];for(var o in i)e[o]=i[o]}return e}var wB=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_B=["January","February","March","April","May","June","July","August","September","October","November","December"],cAe=bB(_B,3),uAe=bB(wB,3),fAe={dayNamesShort:uAe,dayNames:wB,monthNamesShort:cAe,monthNames:_B,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},dAe=nA({},fAe),io=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},hAe={D:function(e){return String(e.getDate())},DD:function(e){return io(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return io(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return io(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return io(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return io(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return io(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return io(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return io(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return io(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return io(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return io(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+io(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+io(Math.floor(Math.abs(t)/60),2)+":"+io(Math.abs(t)%60,2)}},KM={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},pAe=function(e,t,n){if(t===void 0&&(t=KM.default),n===void 0&&(n={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=KM[t]||t;var r=[];t=t.replace(lAe,function(i,o){return r.push(o),"@@@"});var a=nA(nA({},dAe),n);return t=t.replace(sAe,function(i){return hAe[i](e,a)}),t.replace(/@@@/g,function(){return r.shift()})};const vAe=(e,t,n,r,a)=>{const i=e>t,o=i?t:e,s=i?e:t,[l,c]=eB(o,s,n,r,a),u=l.range(o,new Date(+s+1),c,!0);return i?u.reverse():u};function gAe(e){const t=e.getTimezoneOffset(),n=new Date(e);return n.setMinutes(n.getMinutes()+t,n.getSeconds(),n.getMilliseconds()),n}let mAe=class EB extends h2{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:vAe,interpolate:F0,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return yEe}getTickMethodOptions(){const{domain:t,tickCount:n,tickInterval:r,utc:a}=this.options,i=t[0],o=t[t.length-1];return[i,o,n,r,a]}getFormatter(){const{mask:t,utc:n}=this.options,r=n?J9:Z9,a=n?gAe:Rl;return i=>pAe(a(i),t||MEe(i,r))}clone(){return new EB(this.options)}};var yAe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},rA;function xAe(e){return[e(0),e(1)]}const bAe=e=>{const[t,n]=e;return L0(F0(0,1),Cy(t,n))};let aA=rA=class extends kc{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Rl,tickMethod:Eu,tickCount:5}}constructor(t){super(t)}clone(){return new rA(this.options)}};aA=rA=yAe([wEe(xAe,bAe)],aA);var wAe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function _Ae(e){var t;let n=e;for(;n;){if(((t=n.attributes)===null||t===void 0?void 0:t.class)==="view")return n;n=n.parentNode}return null}function v2(e){const{markType:t,nodeName:n}=e;return t==="heatmap"&&n==="image"}function bO(e,t){const n=t??_Ae(e).__data__,r=e.__data__,{markKey:a,index:i,seriesIndex:o,normalized:s={x:0}}=r,{markState:l}=n,c=Array.from(l.keys()).find(u=>u.key===a);if(c)return o?o.map(u=>c.data[u]):v2(e)?c.data[Math.round(c.data.length*s.x)]:c.data[i]}function EAe(e,t){var n,r,a,i;const o=(n=t.markKey)!==null&&n!==void 0?n:(a=(r=t.element)===null||r===void 0?void 0:r.__data__)===null||a===void 0?void 0:a.markKey,s=Object.keys(e).find(l=>{if(l.startsWith("series")){const c=e[l].getOptions();return c.name==="series"&&c.markerKey===o}});return(i=e[s])!==null&&i!==void 0?i:e.series}function AAe(e,t){const{color:n,facet:r=!1}=e,{color:a,series:i}=t,o=EAe(e,t),s=l=>l&&l.invert&&!(l instanceof I1)&&!(l instanceof yO);if(s(o))return o.clone().invert(i);if(i&&o instanceof I1&&o.invert(i)!==a&&!r)return o.invert(i);if(s(n)){const l=n.invert(a);return Array.isArray(l)?null:l}return null}function Xf(e){return e}function wO(e){return e.reduce((t,n)=>(r,...a)=>n(t(r,...a),...a),Xf)}function SAe(e){return e.reduce((t,n)=>r=>wAe(this,void 0,void 0,function*(){const a=yield t(r);return n(a)}),Xf)}function _O(e){return e.replace(/( |^)[a-z]/g,t=>t.toUpperCase())}function B0(e=""){throw new Error(e)}function g2(e,t){const{attributes:n}=t,r=new Set(["id","className"]);for(const[a,i]of Object.entries(n))r.has(a)||e.attr(a,i)}function Kn(e){return e!=null&&!Number.isNaN(e)}function OAe(e){const t=new Map;return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}function kAe(e,t){const{transform:n}=e.style,a=(i=>i==="none"||i===void 0)(n)?"":n;e.style.transform=`${a} ${t}`.trimStart()}function Xe(e,t){return AB(e,t)||{}}function AB(e,t){const n=Object.entries(e||{}).filter(([r])=>r.startsWith(t)).map(([r,a])=>[d9(r.replace(t,"").trim()),a]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function TAe(e,t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.find(r=>n.startsWith(r))))}function Pm(e,...t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.every(r=>!n.startsWith(r))))}function ZM(e,t){if(e===void 0)return null;if(typeof e=="number")return e;const n=+e.replace("%","");return Number.isNaN(n)?null:n/100*t}function $0(e){return typeof e=="object"&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)}function Tc(e){return e===null||e===!1}function SB(e,t,n=5,r=0){if(!(r>=n)){for(const a of Object.keys(t)){const i=t[a];!Oc(i)||!Oc(e[a])?e[a]=i:SB(e[a],i,n,r+1)}return e}}function Dl(e,t){return Object.entries(e).reduce((n,[r,a])=>(n[r]=t(a,r,e),n),{})}function hd(e){return e.map((t,n)=>n)}function CAe(e){return e[0]}function OB(e){return e[e.length-1]}function MAe(e){return Array.from(new Set(e))}function kB(e,t){const n=[[],[]];return e.forEach(r=>{n[t(r)?0:1].push(r)}),n}function TB(e,t=e.length){if(t===1)return e.map(r=>[r]);const n=[];for(let r=0;r<e.length;r++){const a=e.slice(r+1);TB(a,t-1).forEach(o=>{n.push([e[r],...o])})}return n}function PAe(e){if(e.length===1)return[e];const t=[];for(let n=1;n<=e.length;n++)t.push(...TB(e,n));return t}function Du(e,t,n){const{encode:r}=n;if(e===null)return[t];const a=IAe(e).map(o=>{var s;return[o,(s=fn(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>Kn(o)),i=o=>a.map(([,s])=>s[o]).join("-");return Array.from(er(t,i).values())}function CB(e){return Array.isArray(e)?NAe(e):typeof e=="function"?DAe(e):e==="series"?RAe:e==="value"?LAe:e==="sum"?FAe:e==="maxIndex"?BAe:null}function MB(e,t){for(const n of e)n.sort(t)}function PB(e,t){return(t==null?void 0:t.domain)||Array.from(new Set(e))}function IAe(e){return Array.isArray(e)?e:[e]}function RAe(e,t,n){return Cv(r=>n[r])}function DAe(e){return(t,n,r)=>Cv(a=>e(t[a]))}function NAe(e){return(t,n,r)=>(a,i)=>e.reduce((o,s)=>o!==0?o:Lr(t[a][s],t[i][s]),0)}function LAe(e,t,n){return Cv(r=>t[r])}function FAe(e,t,n){const r=hd(e),a=Array.from(er(r,o=>n[+o]).entries()),i=new Map(a.map(([o,s])=>[o,s.reduce((l,c)=>l+ +t[c])]));return Cv(o=>i.get(n[o]))}function BAe(e,t,n){const r=hd(e),a=Array.from(er(r,o=>n[+o]).entries()),i=new Map(a.map(([o,s])=>[o,ph(s,l=>t[l])]));return Cv(o=>i.get(n[o]))}function Cv(e){return(t,n)=>Lr(e(t),e(n))}const IB=(e={})=>{const{groupBy:t="x",orderBy:n=null,reverse:r=!1,y:a="y",y1:i="y1",series:o=!0}=e;return(s,l)=>{var c;const{data:u,encode:f,style:d={}}=l,[h,p]=fn(f,"y"),[v,g]=fn(f,"y1"),[m]=o?ky(f,"series","color"):fn(f,"color"),y=Du(t,s,l),b=((c=CB(n))!==null&&c!==void 0?c:(()=>null))(u,h,m);b&&MB(y,b);const _=new Array(s.length),E=new Array(s.length),w=new Array(s.length),A=[],S=[];for(const P of y){r&&P.reverse();const I=v?+v[P[0]]:0,L=[],z=[];for(const R of P){const V=w[R]=+h[R]-I;V<0?z.push(R):V>=0&&L.push(R)}const N=L.length>0?L:z,G=z.length>0?z:L;let Y=L.length-1,B=0;for(;Y>0&&h[N[Y]]===0;)Y--;for(;B<G.length-1&&h[G[B]]===0;)B++;A.push(N[Y]),S.push(G[B]);let F=I;for(const R of z.reverse()){const V=w[R];F=_[R]=(E[R]=F)+V}let D=I;for(const R of L){const V=w[R];V>0?D=_[R]=(E[R]=D)+V:_[R]=E[R]=D}}const O=new Set(A),k=new Set(S),T=a==="y"?_:E,C=i==="y"?_:E;let M;return l.type==="point"?M={y0:S1(h,p),y:qn(T,p)}:M={y0:S1(h,p),y:qn(T,p),y1:qn(C,g)},[s,Me({},l,{encode:Object.assign({},M),style:Object.assign({first:(P,I)=>O.has(I),last:(P,I)=>k.has(I)},d)})]}};IB.props={};function Uh(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function $Ae(e){const t=e.getFullYear(),n=Uh(e.getMonth()+1),r=Uh(e.getDate()),a=`${t}-${n}-${r}`,i=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return i||o||s?`${a} ${Uh(i)}:${Uh(o)}:${Uh(s)}`:a}const m2=(e={})=>{const{channel:t="x"}=e;return(n,r)=>{const{encode:a}=r,{tooltip:i}=r;if(Tc(i))return[n,r];const{title:o}=i;if(o!==void 0)return[n,r];const s=Object.keys(a).filter(c=>c.startsWith(t)).filter(c=>!a[c].inferred).map(c=>fn(a,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const l=[];for(const c of n)l[c]={value:s.map(u=>u[c]instanceof Date?$Ae(u[c]):u[c]).join(", ")};return[n,Me({},r,{tooltip:{title:l}})]}};m2.props={};const Nu=()=>(e,t)=>{const{encode:n}=t,{x:r}=n;return r!==void 0?[e,t]:[e,Me({},t,{encode:{x:S1(vu(e,0))},scale:{x:{guide:null}}})]};Nu.props={};const Mv=()=>(e,t)=>{const{encode:n}=t,{y:r}=n;return r!==void 0?[e,t]:[e,Me({},t,{encode:{y:S1(vu(e,0))},scale:{y:{guide:null}}})]};Mv.props={};const EO=()=>(e,t)=>{const{encode:n}=t,{size:r}=n;return r!==void 0?[e,t]:[e,Me({},t,{encode:{size:Oy(vu(e,3))}})]};EO.props={};var jAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const RB=()=>(e,t)=>{const{encode:n}=t,{key:r}=n,a=jAe(n,["key"]);if(r!==void 0)return[e,t];const i=Object.values(a).map(({value:s})=>s),o=e.map(s=>i.filter(Array.isArray).map(l=>l[s]).join("-"));return[e,Me({},t,{encode:{key:qn(o)}})]};RB.props={};const AO=()=>(e,t)=>{const{encode:n}=t,{series:r,color:a}=n;if(r!==void 0||a===void 0)return[e,t];const[i,o]=fn(n,"color");return[e,Me({},t,{encode:{series:qn(i,o)}})]};AO.props={};const DB=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Av)?[e,t]:[e,Me({},t,{encode:{y:qn(n)}})]};DB.props={};const NB=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Av)?[e,t]:[e,Me({},t,{encode:{x:qn(n)}})]};NB.props={};const LB=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;if(r)return[e,t];const[a]=fn(n,"y");return[e,Me({},t,{encode:{y1:qn([...a])}})]};LB.props={};const FB=()=>(e,t)=>{const{encode:n}=t,{x1:r}=n;if(r)return[e,t];const[a]=fn(n,"x");return[e,Me({},t,{encode:{x1:qn([...a])}})]};FB.props={};const BB=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Av))){const r=(a,i)=>Array.isArray(a[0])?a.map(o=>o[i]):[a[i]];return[e,Me({},t,{encode:{x:qn(r(n,0)),x1:qn(r(n,1))}})]}return[e,t]};BB.props={};const $B=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Av))){const r=(a,i)=>Array.isArray(a[0])?a.map(o=>o[i]):[a[i]];return[e,Me({},t,{encode:{y:qn(r(n,0)),y1:qn(r(n,1))}})]}return[e,t]};$B.props={};const y2=e=>{const{channel:t}=e;return(n,r)=>{const{encode:a,tooltip:i}=r;if(Tc(i))return[n,r];const{items:o=[]}=i;if(!o||o.length>0)return[n,r];const l=(Array.isArray(t)?t:[t]).flatMap(c=>Object.keys(a).filter(u=>u.startsWith(c)).map(u=>{const{field:f,value:d,inferred:h=!1,aggregate:p}=a[u];return h?null:p&&d?{channel:u}:f?{field:f}:d?{channel:u}:null}).filter(u=>u!==null));return[n,Me({},r,{tooltip:{items:l}})]}};y2.props={};const SO=()=>(e,t)=>[e,Me({scale:{x:{padding:0},y:{padding:0}}},t)];SO.props={};var QM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const x2=()=>(e,t)=>{const{data:n,style:r={}}=t,a=QM(t,["data","style"]),{x:i,y:o}=r,s=QM(r,["x","y"]);if(i==null||o==null)return[e,t];const l=i||0,c=o||0;return[[0],Me({},a,{data:[0],cartesian:!0,encode:{x:qn([l]),y:qn([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};x2.props={};const jB=()=>(e,t)=>{const{style:n={}}=t;return[e,Me({},t,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,a])=>[r,()=>a])))})]};jB.props={};const b2=()=>(e,t)=>{const{data:n}=t;if(!Array.isArray(n)||n.some(Av))return[e,t];const r=Array.isArray(n[0])?n:[n],a=r.map(o=>o[0]),i=r.map(o=>o[1]);return[e,Me({},t,{encode:{x:qn(a),y:qn(i)}})]};b2.props={};const zB=()=>(e,t)=>{const{style:n={},encode:r}=t,{series:a}=r,{gradient:i}=n;return!i||a?[e,t]:[e,Me({},t,{encode:{series:Oy(vu(e,void 0))}})]};zB.props={};var zAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const UB=(e={})=>{const{groupBy:t="x",reverse:n=!1,orderBy:r,padding:a}=e;return zAe(e,["groupBy","reverse","orderBy","padding"]),(i,o)=>{const{data:s,encode:l,scale:c}=o,{series:u}=c,[f]=fn(l,"y"),[d]=ky(l,"series","color"),h=PB(d,u),p=Me({},o,{scale:{series:{domain:h,paddingInner:a}}}),v=Du(t,i,o),g=CB(r);if(!g)return[i,Me(p,{encode:{series:qn(d)}})];const m=g(s,f,d);m&&MB(v,m);const y=new Array(i.length);for(const x of v){n&&x.reverse();for(let b=0;b<x.length;b++)y[x[b]]=h[b]}return[i,Me(p,{encode:{series:qn(r?y:d)}})]}};UB.props={};const HB=e=>{const{groupBy:t=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:a=!1,duration:i}=e;return(o,s)=>{const{encode:l}=s,u=(Array.isArray(t)?t:[t]).map(g=>[g,fn(l,g)[0]]);if(u.length===0)return[o,s];let f=[o];for(const[,g]of u){const m=[];for(const y of f){const x=Array.from(er(y,b=>g[b]).values());m.push(...x)}f=m}if(r){const[g]=fn(l,r);g&&f.sort((m,y)=>n(m,g)-n(y,g)),a&&f.reverse()}const d=(i||3e3)/f.length,[h]=i?[vu(o,d)]:ky(l,"enterDuration",vu(o,d)),[p]=ky(l,"enterDelay",vu(o,0)),v=new Array(o.length);for(let g=0,m=0;g<f.length;g++){const y=f[g],x=Mn(y,b=>+h[b]);for(const b of y)v[b]=+p[b]+m;m+=x}return[o,Me({},s,{encode:{enterDuration:Oy(h),enterDelay:Oy(v)}})]}};HB.props={};var UAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function HAe(e){return typeof e=="function"?e:{min:(n,r)=>Mo(n,a=>r[+a]),max:(n,r)=>Mn(n,a=>r[+a]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>T1(n,a=>r[+a]),median:(n,r)=>hO(n,a=>r[+a]),sum:(n,r)=>ns(n,a=>r[+a]),deviation:(n,r)=>W9(n,a=>r[+a])}[e]||Mn}const VB=(e={})=>{const{groupBy:t="x",basis:n="max"}=e;return(r,a)=>{const{encode:i,tooltip:o}=a,{x:s}=i,l=UAe(i,["x"]),c=Object.entries(l).filter(([v])=>v.startsWith("y")).map(([v])=>[v,fn(i,v)[0]]),[,u]=c.find(([v])=>v==="y"),f=c.map(([v])=>[v,new Array(r.length)]),d=Du(t,r,a),h=HAe(n);for(const v of d){const g=h(v,u);for(const m of v)for(let y=0;y<c.length;y++){const[,x]=c[y],[,b]=f[y];b[m]=+x[m]/g}}const p=Tc(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,Me({},a,Object.assign({encode:Object.fromEntries(f.map(([v,g])=>[v,qn(g,fn(i,v)[1])]))},!p&&i.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};VB.props={};function Py(e,t,n){if(e===null)return[-.5,.5];const r=PB(e,t),i=new I1({domain:r,range:[0,1],padding:n}).getBandWidth();return[-i/2,i/2]}function Iy(e,t,n){return t*(1-e)+n*e}const WB=(e={})=>{const{padding:t=0,paddingX:n=t,paddingY:r=t,random:a=Math.random}=e;return(i,o)=>{const{encode:s,scale:l}=o,{x:c,y:u}=l,[f]=fn(s,"x"),[d]=fn(s,"y"),h=Py(f,c,n),p=Py(d,u,r),v=i.map(()=>Iy(a(),...p)),g=i.map(()=>Iy(a(),...h));return[i,Me({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:qn(v),dx:qn(g)}})]}};WB.props={};const GB=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,a)=>{const{encode:i,scale:o}=a,{x:s}=o,[l]=fn(i,"x"),c=Py(l,s,t),u=r.map(()=>Iy(n(),...c));return[r,Me({scale:{x:{padding:.5}}},a,{encode:{dx:qn(u)}})]}};GB.props={};const YB=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,a)=>{const{encode:i,scale:o}=a,{y:s}=o,[l]=fn(i,"y"),c=Py(l,s,t),u=r.map(()=>Iy(n(),...c));return[r,Me({scale:{y:{padding:.5}}},a,{encode:{dy:qn(u)}})]}};YB.props={};var VAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const XB=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:a}=r,{x:i}=a,o=VAe(a,["x"]),s=Object.entries(o).filter(([d])=>d.startsWith("y")).map(([d])=>[d,fn(a,d)[0]]),l=s.map(([d])=>[d,new Array(n.length)]),c=Du(t,n,r),u=new Array(c.length);for(let d=0;d<c.length;d++){const p=c[d].flatMap(m=>s.map(([,y])=>+y[m])),[v,g]=mc(p);u[d]=(v+g)/2}const f=Math.max(...u);for(let d=0;d<c.length;d++){const h=f-u[d],p=c[d];for(const v of p)for(let g=0;g<s.length;g++){const[,m]=s[g],[,y]=l[g];y[v]=+m[v]+h}}return[n,Me({},r,{encode:Object.fromEntries(l.map(([d,h])=>[d,qn(h,fn(a,d)[1])]))})]}};XB.props={};const qB=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:a}=r,[i]=fn(a,"y"),[o,s]=fn(a,"y1"),l=Du(t,n,r),c=new Array(n.length);for(const u of l){const f=u.map(d=>+i[d]);for(let d=0;d<u.length;d++){const h=u[d],p=Math.max(...f.filter((v,g)=>g!==d));c[h]=+i[h]>p?p:i[h]}}return[n,Me({},r,{encode:{y1:qn(c,s)}})]}};qB.props={};function JM(e,t){return[e[0]]}function WAe(e,t){const n=e.length-1;return[e[n]]}function GAe(e,t){const n=ph(e,r=>t[r]);return[e[n]]}function YAe(e,t){const n=Ov(e,r=>t[r]);return[e[n]]}function XAe(e){return typeof e=="function"?e:{first:JM,last:WAe,max:GAe,min:YAe}[e]||JM}const w2=(e={})=>{const{groupBy:t="series",channel:n,selector:r}=e;return(a,i)=>{const{encode:o}=i,s=Du(t,a,i),[l]=fn(o,n),c=XAe(r);return[s.flatMap(u=>c(u,l)),i]}};w2.props={};var qAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const KB=(e={})=>{const{selector:t}=e,n=qAe(e,["selector"]);return w2(Object.assign({channel:"x",selector:t},n))};KB.props={};var KAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ZB=(e={})=>{const{selector:t}=e,n=KAe(e,["selector"]);return w2(Object.assign({channel:"y",selector:t},n))};ZB.props={};var ZAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Lu(e){return t=>t===null?e:`${e} of ${t}`}function QAe(e){if(typeof e=="function")return[e,null];const n={mean:JAe,max:tSe,count:rSe,first:iSe,last:oSe,sum:aSe,min:nSe,median:eSe}[e];if(!n)throw new Error(`Unknown reducer: ${e}.`);return n()}function JAe(){const e=(n,r)=>T1(n,a=>+r[a]),t=Lu("mean");return[e,t]}function eSe(){const e=(n,r)=>hO(n,a=>+r[a]),t=Lu("median");return[e,t]}function tSe(){const e=(n,r)=>Mn(n,a=>+r[a]),t=Lu("max");return[e,t]}function nSe(){const e=(n,r)=>Mo(n,a=>+r[a]),t=Lu("min");return[e,t]}function rSe(){const e=(n,r)=>n.length,t=Lu("count");return[e,t]}function aSe(){const e=(n,r)=>ns(n,a=>+r[a]),t=Lu("sum");return[e,t]}function iSe(){const e=(n,r)=>r[n[0]],t=Lu("first");return[e,t]}function oSe(){const e=(n,r)=>r[n[n.length-1]],t=Lu("last");return[e,t]}const OO=(e={})=>{const{groupBy:t}=e,n=ZAe(e,["groupBy"]);return(r,a)=>{const{data:i,encode:o}=a,s=t(r,a);if(!s)return[r,a];const l=(h,p)=>{if(h)return h;const{from:v}=p;if(!v)return h;const[,g]=fn(o,v);return g},c=Object.entries(n).map(([h,p])=>{const[v,g]=QAe(p),[m,y]=fn(o,h),x=l(y,p),b=s.map(_=>v(_,m??i));return[h,Object.assign(Object.assign({},T_e(b,(g==null?void 0:g(x))||x)),{aggregate:!0})]}),u=Object.keys(o).map(h=>{const[p,v]=fn(o,h),g=s.map(m=>p[m[0]]);return[h,qn(g,v)]}),f=s.map(h=>i[h[0]]);return[hd(s),Me({},a,{data:f,encode:Object.fromEntries([...u,...c])})]}};OO.props={};var sSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Pv=(e={})=>{const{channels:t=["x","y"]}=e,n=sSe(e,["channels"]),r=(a,i)=>Du(t,a,i);return OO(Object.assign(Object.assign({},n),{groupBy:r}))};Pv.props={};const QB=(e={})=>Pv(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));QB.props={};const JB=(e={})=>Pv(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));JB.props={};const e$=(e={})=>Pv(Object.assign(Object.assign({},e),{channels:["color"]}));e$.props={};function lSe(e,t,n){const{by:r=e,reducer:a="max"}=t,[i]=fn(n,r);if(typeof a=="function")return o=>a(o,i);if(a==="max")return o=>Mn(o,s=>+i[s]);if(a==="min")return o=>Mo(o,s=>+i[s]);if(a==="sum")return o=>ns(o,s=>+i[s]);if(a==="median")return o=>hO(o,s=>+i[s]);if(a==="mean")return o=>T1(o,s=>+i[s]);if(a==="first")return o=>i[o[0]];if(a==="last")return o=>i[o[o.length-1]];throw new Error(`Unknown reducer: ${a}`)}function cSe(e,t,n){if(!Array.isArray(n))return e;const r=new Set(n);return e.filter(a=>r.has(t[a]))}const _2=(e={})=>(t,n)=>{const{reverse:r,slice:a,channel:i,by:o,ordinal:s=!0,reducer:l}=e,{encode:c,scale:u={}}=n,f=u[i].domain,[d]=fn(c,o??i),[h]=fn(c,i),p=lSe(i,{by:o,reducer:l},c),v=cSe(t,h,f),g=z_e(v,p,b=>h[b]),m=s?t:$s(t,b=>d[b]);r&&(!s&&m.reverse(),g.reverse());const y=typeof a=="number"?[0,a]:a,x=a?g.slice(...y):g;return[m,Me(n,{scale:{[i]:{domain:x}}})]};_2.props={};const t$=(e={})=>_2(Object.assign(Object.assign({},e),{channel:"x"}));t$.props={};const n$=(e={})=>_2(Object.assign(Object.assign({},e),{channel:"color"}));n$.props={};const r$=(e={})=>_2(Object.assign(Object.assign({},e),{channel:"y"}));r$.props={};function uSe(e,t){return typeof t=="string"?e.map(n=>n[t]):e.map(t)}function fSe(e,t){if(typeof e=="function")return n=>e(n,t);if(e==="sum")return n=>ns(n,r=>+t[r]);throw new Error(`Unknown reducer: ${e}`)}const a$=(e={})=>{const{field:t,channel:n="y",reducer:r="sum"}=e;return(a,i)=>{const{data:o,encode:s}=i,[l]=fn(s,"x"),c=t?uSe(o,t):fn(s,n)[0],u=fSe(r,c),f=fO(a,u,d=>l[d]).map(d=>d[1]);return[a,Me({},i,{scale:{x:{flex:f}}})]}};a$.props={};function Br([e,t],[n,r]){return[e-n,t-r]}function bg([e,t],[n,r]){return[e+n,t+r]}function Or([e,t],[n,r]){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function os([e,t]){return Math.atan2(t,e)}function j0([e,t]){return os([e,t])+Math.PI/2}function i$(e,t){const n=os(e),r=os(t);return n<r?r-n:Math.PI*2-(n-r)}function kO(e){let t=1/0,n=-1/0,r=1/0,a=-1/0;for(const[s,l]of e)t=Math.min(s,t),n=Math.max(s,n),r=Math.min(l,r),a=Math.max(l,a);const i=n-t,o=a-r;return[t,r,i,o]}function o$([e,t],[n,r]){return[(e+n)/2,(t+r)/2]}function dSe(e){const{padding:t=0,direction:n="col"}=e;return(r,a,i)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:l}=i,c=l/s;let u=Math.ceil(Math.sqrt(a/c)),f=s/u,d=Math.ceil(a/u),h=d*f;for(;h>l;)u=u+1,f=s/u,d=Math.ceil(a/u),h=d*f;const p=l-d*f,v=d<=1?0:p/(d-1),[g,m]=d<=1?[(s-o*f)/(o-1),(l-f)/2]:[0,0];return r.map((y,x)=>{const[b,_,E,w]=kO(y),A=n==="col"?x%u:Math.floor(x/d),S=n==="col"?Math.floor(x/u):x%d,O=A*f,k=(d-S-1)*f+p,T=(f-t)/E,C=(f-t)/w,M=O-b+g*A+1/2*t,P=k-_-v*S-m+1/2*t;return`translate(${M}, ${P}) scale(${T}, ${C})`})}}const s$=e=>(t,n)=>[t,Me({},n,{modifier:dSe(e),axis:!1})];s$.props={};var hSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const e6="thresholds";function pSe(e){const[t,n]=mc(e);return Math.min(200,J_e(e,t,n))}const TO=(e={})=>{const{groupChannels:t=["color"],binChannels:n=["x","y"]}=e,r=hSe(e,["groupChannels","binChannels"]),a={},i=(o,s)=>{const{encode:l}=s,c=n.map(p=>{const[v]=fn(l,p);return v}),u=Xe(r,e6),f=o.filter(p=>c.every(v=>Kn(v[p]))),d=[...t.map(p=>{const[v]=fn(l,p);return v}).filter(Kn).map(p=>v=>p[v]),...n.map((p,v)=>{const g=c[v],m=u[p]||pSe(g),y=K_e().thresholds(m).value(b=>+g[b])(f),x=new Map(y.flatMap(b=>{const{x0:_,x1:E}=b,w=`${_},${E}`;return b.map(A=>[A,w])}));return a[p]=x,b=>x.get(b)})],h=p=>d.map(v=>v(p)).join("-");return Array.from(er(f,h).values())};return OO(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(e6)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+a[o].get(c).split(",")[0],l=([c])=>+a[o].get(c).split(",")[1];return l.from=o,[[o,s],[`${o}1`,l]]}))),{groupBy:i}))};TO.props={};const l$=(e={})=>{const{thresholds:t}=e;return TO(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};l$.props={};function vSe(e,t,n,r){const a=e.length;if(r>=a||r===0)return e;const i=h=>t[e[h]]*1,o=h=>n[e[h]]*1,s=[],l=(a-2)/(r-2);let c=0,u,f,d;s.push(c);for(let h=0;h<r-2;h++){let p=0,v=0,g=Math.floor((h+1)*l)+1,m=Math.floor((h+2)*l)+1;m=Math.min(m,a);const y=m-g;for(;g<m;g++)p+=i(g),v+=o(g);p/=y,v/=y;let x=Math.floor((h+0)*l)+1;const b=Math.floor((h+1)*l)+1,_=[i(c),o(c)];for(u=f=-1;x<b;x++)f=Math.abs((_[0]-p)*(i(x)-_[1])-(_[0]-o(x))*(v-_[0]))*.5,f>u&&(u=f,d=x);s.push(d),c=d}return s.push(a-1),s.map(h=>e[h])}function gSe(e){if(typeof e=="function")return e;if(e==="lttb")return vSe;const t={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,a,i)=>[r[Ov(r,o=>i[o])]],max:(r,a,i)=>[r[ph(r,o=>i[o])]],median:(r,a,i)=>[r[eEe(r,o=>i[o])]]},n=t[e]||t.median;return(r,a,i,o)=>{const s=Math.max(1,Math.floor(r.length/o));return mSe(r,s).flatMap(c=>n(c,a,i))}}function mSe(e,t){const n=e.length,r=[];let a=0;for(;a<n;)r.push(e.slice(a,a+=t));return r}const c$=(e={})=>{const{strategy:t="median",thresholds:n=2e3,groupBy:r=["series","color"]}=e,a=gSe(t);return(i,o)=>{const{encode:s}=o,l=Du(r,i,o),[c]=fn(s,"x"),[u]=fn(s,"y");return[l.flatMap(f=>a(f,c,u,n)),o]}};c$.props={};function ySe(e){return typeof e=="object"?[e.value,e.ordinal]:[e,!0]}function xSe(e){var t;const{encode:n}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),a=(t=n==null?void 0:n.color)===null||t===void 0?void 0:t.field;if(!n||!a)return r;let i;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===a&&(i=Object.assign(Object.assign({},i),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return i?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),i)}):r}const u$=(e={})=>(t,n)=>{const{encode:r,data:a}=n,i=Object.entries(e).map(([u,f])=>{const[d]=fn(r,u);if(!d)return null;const[h,p=!0]=ySe(f);if(typeof h=="function")return v=>h(d[v]);if(p){const v=Array.isArray(h)?h:[h];return v.length===0?null:g=>v.includes(d[g])}else{const[v,g]=h;return m=>d[m]>=v&&d[m]<=g}}).filter(Kn),o=u=>i.every(f=>f(u)),s=t.filter(o),l=s.map((u,f)=>f);if(i.length===0){const u=xSe(n);return[t,u]}const c=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:l.map(d=>f.value[s[d]]).filter(d=>d!==void 0)})]);return[l,Me({},n,{encode:Object.fromEntries(c),data:s.map(u=>a[u])})]};u$.props={};function ur(e){return function(){return e}}const t6=Math.abs,hi=Math.atan2,Qu=Math.cos,bSe=Math.max,Cw=Math.min,nl=Math.sin,Kd=Math.sqrt,gi=1e-12,R1=Math.PI,Ry=R1/2,wSe=2*R1;function _Se(e){return e>1?0:e<-1?R1:Math.acos(e)}function n6(e){return e>=1?Ry:e<=-1?-Ry:Math.asin(e)}const iA=Math.PI,oA=2*iA,df=1e-6,ESe=oA-df;function f$(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ASe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return f$;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}let CO=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?f$:ASe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,u=o-t,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>df)if(!(Math.abs(f*l-c*u)>df)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=a-s,v=l*l+c*c,g=h*h+p*p,m=Math.sqrt(v),y=Math.sqrt(d),x=i*Math.tan((iA-Math.acos((v+d-g)/(2*m*y)))/2),b=x/y,_=x/m;Math.abs(b-1)>df&&this._append`L${t+b*u},${n+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*p)},${this._x1=t+_*l},${this._y1=n+_*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,u=n+l,f=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>df||Math.abs(this._y1-u)>df)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%oA+oA),d>ESe?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>df&&this._append`A${r},${r},0,${+(d>=iA)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function us(){return new CO}us.prototype=CO.prototype;function MO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new CO(t)}function SSe(e){return e.innerRadius}function OSe(e){return e.outerRadius}function kSe(e){return e.startAngle}function TSe(e){return e.endAngle}function CSe(e){return e&&e.padAngle}function MSe(e,t,n,r,a,i,o,s){var l=n-e,c=r-t,u=o-a,f=s-i,d=f*l-u*c;if(!(d*d<gi))return d=(u*(t-i)-f*(e-a))/d,[e+d*l,t+d*c]}function wg(e,t,n,r,a,i,o){var s=e-n,l=t-r,c=(o?i:-i)/Kd(s*s+l*l),u=c*l,f=-c*s,d=e+u,h=t+f,p=n+u,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,x=v-h,b=y*y+x*x,_=a-i,E=d*v-p*h,w=(x<0?-1:1)*Kd(bSe(0,_*_*b-E*E)),A=(E*x-y*w)/b,S=(-E*y-x*w)/b,O=(E*x+y*w)/b,k=(-E*y+x*w)/b,T=A-g,C=S-m,M=O-g,P=k-m;return T*T+C*C>M*M+P*P&&(A=O,S=k),{cx:A,cy:S,x01:-u,y01:-f,x11:A*(a/_-1),y11:S*(a/_-1)}}function PO(){var e=SSe,t=OSe,n=ur(0),r=null,a=kSe,i=TSe,o=CSe,s=null,l=MO(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=a.apply(this,arguments)-Ry,v=i.apply(this,arguments)-Ry,g=t6(v-p),m=v>p;if(s||(s=u=l()),h<d&&(f=h,h=d,d=f),!(h>gi))s.moveTo(0,0);else if(g>wSe-gi)s.moveTo(h*Qu(p),h*nl(p)),s.arc(0,0,h,p,v,!m),d>gi&&(s.moveTo(d*Qu(v),d*nl(v)),s.arc(0,0,d,v,p,m));else{var y=p,x=v,b=p,_=v,E=g,w=g,A=o.apply(this,arguments)/2,S=A>gi&&(r?+r.apply(this,arguments):Kd(d*d+h*h)),O=Cw(t6(h-d)/2,+n.apply(this,arguments)),k=O,T=O,C,M;if(S>gi){var P=n6(S/d*nl(A)),I=n6(S/h*nl(A));(E-=P*2)>gi?(P*=m?1:-1,b+=P,_-=P):(E=0,b=_=(p+v)/2),(w-=I*2)>gi?(I*=m?1:-1,y+=I,x-=I):(w=0,y=x=(p+v)/2)}var L=h*Qu(y),z=h*nl(y),N=d*Qu(_),G=d*nl(_);if(O>gi){var Y=h*Qu(x),B=h*nl(x),F=d*Qu(b),D=d*nl(b),R;if(g<R1)if(R=MSe(L,z,F,D,Y,B,N,G)){var V=L-R[0],H=z-R[1],j=Y-R[0],K=B-R[1],re=1/nl(_Se((V*j+H*K)/(Kd(V*V+H*H)*Kd(j*j+K*K)))/2),ae=Kd(R[0]*R[0]+R[1]*R[1]);k=Cw(O,(d-ae)/(re-1)),T=Cw(O,(h-ae)/(re+1))}else k=T=0}w>gi?T>gi?(C=wg(F,D,L,z,h,T,m),M=wg(Y,B,N,G,h,T,m),s.moveTo(C.cx+C.x01,C.cy+C.y01),T<O?s.arc(C.cx,C.cy,T,hi(C.y01,C.x01),hi(M.y01,M.x01),!m):(s.arc(C.cx,C.cy,T,hi(C.y01,C.x01),hi(C.y11,C.x11),!m),s.arc(0,0,h,hi(C.cy+C.y11,C.cx+C.x11),hi(M.cy+M.y11,M.cx+M.x11),!m),s.arc(M.cx,M.cy,T,hi(M.y11,M.x11),hi(M.y01,M.x01),!m))):(s.moveTo(L,z),s.arc(0,0,h,y,x,!m)):s.moveTo(L,z),!(d>gi)||!(E>gi)?s.lineTo(N,G):k>gi?(C=wg(N,G,Y,B,d,-k,m),M=wg(L,z,F,D,d,-k,m),s.lineTo(C.cx+C.x01,C.cy+C.y01),k<O?s.arc(C.cx,C.cy,k,hi(C.y01,C.x01),hi(M.y01,M.x01),!m):(s.arc(C.cx,C.cy,k,hi(C.y01,C.x01),hi(C.y11,C.x11),!m),s.arc(0,0,d,hi(C.cy+C.y11,C.cx+C.x11),hi(M.cy+M.y11,M.cx+M.x11),m),s.arc(M.cx,M.cy,k,hi(M.y11,M.x11),hi(M.y01,M.x01),!m))):s.arc(0,0,d,_,b,m)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-R1/2;return[Qu(f)*u,nl(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:ur(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:ur(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:ur(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:ur(+u),c):r},c.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:ur(+u),c):a},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:ur(+u),c):i},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:ur(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}function d$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h$(e){this._context=e}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iv(e){return new h$(e)}function p$(e){return e[0]}function v$(e){return e[1]}function pd(e,t){var n=ur(!0),r=null,a=Iv,i=null,o=MO(s);e=typeof e=="function"?e:e===void 0?p$:ur(e),t=typeof t=="function"?t:t===void 0?v$:ur(t);function s(l){var c,u=(l=d$(l)).length,f,d=!1,h;for(r==null&&(i=a(h=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(f,c,l),+t(f,c,l));if(h)return i=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ur(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ur(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ur(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function sA(e,t,n){var r=null,a=ur(!0),i=null,o=Iv,s=null,l=MO(c);e=typeof e=="function"?e:e===void 0?p$:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?v$:ur(+n);function c(f){var d,h,p,v=(f=d$(f)).length,g,m=!1,y,x=new Array(v),b=new Array(v);for(i==null&&(s=o(y=l())),d=0;d<=v;++d){if(!(d<v&&a(g=f[d],d,f))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(x[p],b[p]);s.lineEnd(),s.areaEnd()}m&&(x[d]=+e(g,d,f),b[d]=+t(g,d,f),s.point(r?+r(g,d,f):x[d],n?+n(g,d,f):b[d]))}if(y)return s=null,y+""||null}function u(){return pd().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ur(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ur(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ur(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}var g$=IO(Iv);function m$(e){this._curve=e}m$.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function IO(e){function t(n){return new m$(e(n))}return t._curve=e,t}function fp(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(IO(n)):t()._curve},e}function PSe(){return fp(pd().curve(g$))}function ISe(){var e=sA().curve(g$),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return fp(n())},delete e.lineX0,e.lineEndAngle=function(){return fp(r())},delete e.lineX1,e.lineInnerRadius=function(){return fp(a())},delete e.lineY0,e.lineOuterRadius=function(){return fp(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(IO(o)):t()._curve},e}function z0(){}function lA(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function RO(e,t){this._context=e,this._k=(1-t)/6}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lA(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:lA(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new RO(r,t)}return n.tension=function(r){return e(+r)},n})(0);function DO(e,t){this._context=e,this._k=(1-t)/6}DO.prototype={areaStart:z0,areaEnd:z0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lA(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new DO(r,t)}return n.tension=function(r){return e(+r)},n})(0);function y$(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>gi){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>gi){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function x$(e,t){this._context=e,this._alpha=t}x$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:y$(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return t?new x$(r,t):new RO(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function b$(e,t){this._context=e,this._alpha=t}b$.prototype={areaStart:z0,areaEnd:z0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:y$(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const w$=(function e(t){function n(r){return t?new b$(r,t):new DO(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function _$(e){this._context=e}_$.prototype={areaStart:z0,areaEnd:z0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NO(e){return new _$(e)}function r6(e){return e<0?-1:1}function a6(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(r6(i)+r6(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function i6(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Mw(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Dy(e){this._context=e}Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mw(this,this._t0,i6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mw(this,i6(this,n=a6(this,e,t)),n);break;default:Mw(this,this._t0,n=a6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function E$(e){this._context=new A$(e)}(E$.prototype=Object.create(Dy.prototype)).point=function(e,t){Dy.prototype.point.call(this,t,e)};function A$(e){this._context=e}A$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function S$(e){return new Dy(e)}function O$(e){return new E$(e)}function E2(e,t){this._context=e,this._t=t}E2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function k$(e){return new E2(e,.5)}function T$(e){return new E2(e,0)}function C$(e){return new E2(e,1)}function tr(e){const{transformations:t}=e.getOptions();return t.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function $n(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="polar")}function A2(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="reflect")&&t.some(([n])=>n.startsWith("transpose"))}function M$(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="helix")}function S2(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="parallel")}function P$(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="fisheye")}function RSe(e){return S2(e)&&$n(e)}function vh(e){return M$(e)||$n(e)}function DSe(e){return $n(e)&&tr(e)}function NSe(e){if(vh(e)){const[t,n]=e.getSize(),r=e.getOptions().transformations.find(a=>a[0]==="polar");if(r)return Math.max(t,n)/2*r[4]}return 0}function O2(e){const{transformations:t}=e.getOptions(),[,,,n,r]=t.find(a=>a[0]==="polar");return[+n,+r]}function LO(e,t=!0){const{transformations:n}=e.getOptions(),[,r,a]=n.find(i=>i[0]==="polar");return t?[+r*180/Math.PI,+a*180/Math.PI]:[r,a]}function LSe(e,t){const{transformations:n}=e.getOptions(),[,...r]=n.find(a=>a[0]===t);return r}function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function FSe(e,t){if(qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I$(e){var t=FSe(e,"string");return qf(t)=="symbol"?t:t+""}function at(e,t,n){return(t=I$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(n),!0).forEach(function(r){at(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I$(r.key),r)}}function Be(e,t,n){return t&&s6(e.prototype,t),n&&s6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function BSe(e){if(Array.isArray(e))return cA(e)}function $Se(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FO(e,t){if(e){if(typeof e=="string")return cA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cA(e,t):void 0}}function jSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(e){return BSe(e)||$Se(e)||FO(e)||jSe()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U0(e)}function R$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!e})()}function zSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function USe(e,t){if(t&&(qf(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zSe(e)}function Vt(e,t,n){return t=U0(t),USe(e,R$()?Reflect.construct(t,n||[],U0(e).constructor):t.apply(e,n))}function uA(e,t){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uA(e,t)}function Wt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uA(e,t)}function HSe(e){if(Array.isArray(e))return e}function VSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function WSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(e,t){return HSe(e)||VSe(e,t)||FO(e,t)||WSe()}var Pw={exports:{}},l6;function GSe(){return l6||(l6=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||l,d),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var v=n?n+c:c;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,y,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,d),!0;case 5:return g.fn.call(g.context,u,f,d,h),!0;case 6:return g.fn.call(g.context,u,f,d,h,p),!0}for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];g.fn.apply(g.context,y)}else{var b=g.length,_;for(x=0;x<b;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),m){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,d);break;default:if(!y)for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];g[x].fn.apply(g[x].context,y)}}return!0},s.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==u||d&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Pw)),Pw.exports}var YSe=GSe();const D$=l2(YSe);function XSe(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=U0(e))!==null;);return e}function fA(){return fA=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=XSe(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},fA.apply(null,arguments)}function c6(e,t,n,r){var a=fA(U0(e.prototype),t,n);return typeof a=="function"?function(i){return a.apply(n,i)}:a}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function yc(e,t,n,r){var a=e-n,i=t-r;return Math.sqrt(a*a+i*i)}function N$(e,t){var n=Math.min.apply(Math,Jt(e)),r=Math.min.apply(Math,Jt(t)),a=Math.max.apply(Math,Jt(e)),i=Math.max.apply(Math,Jt(t));return{x:n,y:r,width:a-n,height:i-r}}function qSe(e,t,n){return Math.atan(-t/e*Math.tan(n))}function KSe(e,t,n){return Math.atan(t/(e*Math.tan(n)))}function ZSe(e,t,n,r,a,i){return n*Math.cos(a)*Math.cos(i)-r*Math.sin(a)*Math.sin(i)+e}function QSe(e,t,n,r,a,i){return n*Math.sin(a)*Math.cos(i)+r*Math.cos(a)*Math.sin(i)+t}function JSe(e,t,n,r,a,i,o){for(var s=qSe(n,r,a),l=1/0,c=-1/0,u=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;i<o?i<d&&d<o&&u.push(d):o<d&&d<i&&u.push(d)}for(var h=0;h<u.length;h++){var p=ZSe(e,t,n,r,a,u[h]);p<l&&(l=p),p>c&&(c=p)}for(var v=KSe(n,r,a),g=1/0,m=-1/0,y=[i,o],x=-Math.PI*2;x<=Math.PI*2;x+=Math.PI){var b=v+x;i<o?i<b&&b<o&&y.push(b):o<b&&b<i&&y.push(b)}for(var _=0;_<y.length;_++){var E=QSe(e,t,n,r,a,y[_]);E<g&&(g=E),E>m&&(m=E)}return{x:l,y:g,width:c-l,height:m-g}}var e3e=1e-4;function L$(e,t,n,r,a,i){var o=-1,s=1/0,l=[n,r],c=20;i&&i>200&&(c=i/10);for(var u=1/c,f=u/10,d=0;d<=c;d++){var h=d*u,p=[a.apply(void 0,Jt(e.concat([h]))),a.apply(void 0,Jt(t.concat([h])))],v=yc(l[0],l[1],p[0],p[1]);v<s&&(o=h,s=v)}if(o===0)return{x:e[0],y:t[0]};if(o===1){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(var m=0;m<32&&!(f<e3e);m++){var y=o-f,x=o+f,b=[a.apply(void 0,Jt(e.concat([y]))),a.apply(void 0,Jt(t.concat([y])))],_=yc(l[0],l[1],b[0],b[1]);if(y>=0&&_<s)o=y,s=_;else{var E=[a.apply(void 0,Jt(e.concat([x]))),a.apply(void 0,Jt(t.concat([x])))],w=yc(l[0],l[1],E[0],E[1]);x<=1&&w<s?(o=x,s=w):f*=.5}}return{x:a.apply(void 0,Jt(e.concat([o]))),y:a.apply(void 0,Jt(t.concat([o])))}}function F$(e,t,n,r){return yc(e,t,n,r)}function B$(e,t,n,r,a){return{x:(1-a)*e+a*n,y:(1-a)*t+a*r}}function t3e(e,t,n,r,a,i){var o=[n-e,r-t];if(Kwe(o,[0,0]))return Math.sqrt((a-e)*(a-e)+(i-t)*(i-t));var s=[-o[1],o[0]];Xwe(s,s);var l=[a-e,i-t];return Math.abs(qwe(l,s))}function dA(e,t,n,r,a){var i=1-a;return i*i*i*e+3*t*a*i*i+3*n*a*a*i+r*a*a*a}function u6(e,t,n,r){var a=-3*e+9*t-9*n+3*r,i=6*e-12*t+6*n,o=3*t-3*e,s=[],l,c,u;if(Gp(a,0))Gp(i,0)||(l=-o/i,l>=0&&l<=1&&s.push(l));else{var f=i*i-4*a*o;Gp(f,0)?s.push(-i/(2*a)):f>0&&(u=Math.sqrt(f),l=(-i+u)/(2*a),c=(-i-u)/(2*a),l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function n3e(e,t,n,r,a,i,o,s){for(var l=[e,o],c=[t,s],u=u6(e,n,a,o),f=u6(t,r,i,s),d=0;d<u.length;d++)l.push(dA(e,n,a,o,u[d]));for(var h=0;h<f.length;h++)c.push(dA(t,r,i,s,f[h]));return N$(l,c)}function r3e(e,t,n,r,a,i,o,s,l,c,u){return L$([e,n,a,o],[t,r,i,s],l,c,dA,u)}function f6(e,t,n,r,a,i,o,s,l,c,u){var f=r3e(e,t,n,r,a,i,o,s,l,c,u);return yc(f.x,f.y,l,c)}function a3e(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],a=e[n+1];t+=yc(r[0],r[1],a[0],a[1])}return t}function i3e(e){return a3e(e)}function hA(e,t,n,r){var a=1-r;return a*a*e+2*r*a*t+r*r*n}function d6(e,t,n){var r=e+n-2*t;if(Gp(r,0))return[.5];var a=(e-t)/r;return a<=1&&a>=0?[a]:[]}function o3e(e,t,n,r,a,i){var o=d6(e,n,a)[0],s=d6(t,r,i)[0],l=[e,a],c=[t,i];return o!==void 0&&l.push(hA(e,n,a,o)),s!==void 0&&c.push(hA(t,r,i,s)),N$(l,c)}function s3e(e,t,n,r,a,i,o,s){return L$([e,n,a],[t,r,i],o,s,hA)}function l3e(e,t,n,r,a,i,o,s){var l=s3e(e,t,n,r,a,i,o,s);return yc(l.x,l.y,o,s)}function $$(e,t){this.v=e,this.k=t}function yi(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}yi=function(o,s,l,c){function u(f,d){yi(o,f,function(h){return this._invoke(f,d,h)})}s?a?a(o,s,{value:l,enumerable:!c,configurable:!c,writable:!c}):o[s]=l:(u("next",0),u("throw",1),u("return",2))},yi(e,t,n,r)}function BO(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(h,p,v,g){var m=p&&p.prototype instanceof s?p:s,y=Object.create(m.prototype);return yi(y,"_invoke",(function(x,b,_){var E,w,A,S=0,O=_||[],k=!1,T={p:0,n:0,v:e,a:C,f:C.bind(e,4),d:function(P,I){return E=P,w=0,A=e,T.n=I,o}};function C(M,P){for(w=M,A=P,t=0;!k&&S&&!I&&t<O.length;t++){var I,L=O[t],z=T.p,N=L[2];M>3?(I=N===P)&&(A=L[(w=L[4])?5:(w=3,3)],L[4]=L[5]=e):L[0]<=z&&((I=M<2&&z<L[1])?(w=0,T.v=P,T.n=L[1]):z<N&&(I=M<3||L[0]>P||P>N)&&(L[4]=M,L[5]=P,T.n=N,w=0))}if(I||M>1)return o;throw k=!0,P}return function(M,P,I){if(S>1)throw TypeError("Generator is already running");for(k&&P===1&&C(P,I),w=P,A=I;(t=w<2?e:A)||!k;){E||(w?w<3?(w>1&&(T.n=-1),C(w,A)):T.n=A:T.v=A);try{if(S=2,E){if(w||(M="next"),t=E[M]){if(!(t=t.call(E,A)))throw TypeError("iterator result is not an object");if(!t.done)return t;A=t.value,w<2&&(w=0)}else w===1&&(t=E.return)&&t.call(E),w<2&&(A=TypeError("The iterator does not provide a '"+M+"' method"),w=1);E=e}else if((t=(k=T.n<0)?A:x.call(b,T))!==o)break}catch(L){E=e,w=1,A=L}finally{S=1}}return{value:t,done:k}}})(h,v,g),!0),y}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(yi(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function d(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,yi(h,a,"GeneratorFunction")),h.prototype=Object.create(f),h}return l.prototype=c,yi(f,"constructor",c),yi(c,"constructor",l),l.displayName="GeneratorFunction",yi(c,a,"GeneratorFunction"),yi(f),yi(f,a,"Generator"),yi(f,r,function(){return this}),yi(f,"toString",function(){return"[object Generator]"}),(BO=function(){return{w:i,m:d}})()}function Ny(e,t){function n(a,i,o,s){try{var l=e[a](i),c=l.value;return c instanceof $$?t.resolve(c.v).then(function(u){n("next",u,o,s)},function(u){n("throw",u,o,s)}):t.resolve(c).then(function(u){l.value=u,o(l)},function(u){return n("throw",u,o,s)})}catch(u){s(u)}}var r;this.next||(yi(Ny.prototype),yi(Ny.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),yi(this,"_invoke",function(a,i,o){function s(){return new t(function(l,c){n(a,o,l,c)})}return r=r?r.then(s,s):s()},!0)}function j$(e,t,n,r,a){return new Ny(BO().w(e,t,n,r),a||Promise)}function c3e(e,t,n,r,a){var i=j$(e,t,n,r,a);return i.next().then(function(o){return o.done?o.value:i.next()})}function u3e(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function a(){for(;n.length;)if((r=n.pop())in t)return a.value=r,a.done=!1,a;return a.done=!0,a}}function h6(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(qf(e)+" is not iterable")}function Wa(){var e=BO(),t=e.m(Wa),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===n||(s.displayName||s.name)==="GeneratorFunction")}var a={throw:1,return:2,break:3,continue:3};function i(o){var s,l;return function(c){s||(s={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(f,d){return l(c.a,a[f],d)},delegateYield:function(f,d,h){return s.resultName=d,l(c.d,h6(f),h)},finish:function(f){return l(c.f,f)}},l=function(f,d,h){c.p=s.prev,c.n=s.next;try{return f(d,h)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return o.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(Wa=function(){return{wrap:function(l,c,u,f){return e.w(i(l),c,u,f&&f.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(l,c){return new $$(l,c)},AsyncIterator:Ny,async:function(l,c,u,f,d){return(r(c)?j$:c3e)(i(l),c,u,f,d)},keys:u3e,values:h6}})()}function p6(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function Au(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(l){p6(i,r,a,o,s,"next",l)}function s(l){p6(i,r,a,o,s,"throw",l)}o(void 0)})}}function pf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=FO(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw i}}}}function f3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vd(e,t){if(e==null)return{};var n,r,a=f3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var d3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(d3e,function(){function n(_,E,w,A,S){r(_,E,w||0,A||_.length-1,S||i)}function r(_,E,w,A,S){for(;A>w;){if(A-w>600){var O=A-w+1,k=E-w+1,T=Math.log(O),C=.5*Math.exp(2*T/3),M=.5*Math.sqrt(T*C*(O-C)/O)*(k-O/2<0?-1:1),P=Math.max(w,Math.floor(E-k*C/O+M)),I=Math.min(A,Math.floor(E+(O-k)*C/O+M));r(_,E,P,I,S)}var L=_[E],z=w,N=A;for(a(_,w,E),S(_[A],L)>0&&a(_,w,A);z<N;){for(a(_,z,N),z++,N--;S(_[z],L)<0;)z++;for(;S(_[N],L)>0;)N--}S(_[w],L)===0?a(_,w,N):(N++,a(_,N,A)),N<=E&&(w=N+1),E<=N&&(A=N-1)}}function a(_,E,w){var A=_[E];_[E]=_[w],_[w]=A}function i(_,E){return _<E?-1:_>E?1:0}var o=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(E){var w=this.data,A=[];if(!y(E,w))return A;for(var S=this.toBBox,O=[];w;){for(var k=0;k<w.children.length;k++){var T=w.children[k],C=w.leaf?S(T):T;y(E,C)&&(w.leaf?A.push(T):m(E,C)?this._all(T,A):O.push(T))}w=O.pop()}return A},o.prototype.collides=function(E){var w=this.data;if(!y(E,w))return!1;for(var A=[];w;){for(var S=0;S<w.children.length;S++){var O=w.children[S],k=w.leaf?this.toBBox(O):O;if(y(E,k)){if(w.leaf||m(E,k))return!0;A.push(O)}}w=A.pop()}return!1},o.prototype.load=function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var w=0;w<E.length;w++)this.insert(E[w]);return this}var A=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var S=this.data;this.data=A,A=S}this._insert(A,this.data.height-A.height-1,!0)}return this},o.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},o.prototype.clear=function(){return this.data=x([]),this},o.prototype.remove=function(E,w){if(!E)return this;for(var A=this.data,S=this.toBBox(E),O=[],k=[],T,C,M;A||O.length;){if(A||(A=O.pop(),C=O[O.length-1],T=k.pop(),M=!0),A.leaf){var P=s(E,A.children,w);if(P!==-1)return A.children.splice(P,1),O.push(A),this._condense(O),this}!M&&!A.leaf&&m(A,S)?(O.push(A),k.push(T),T=0,C=A,A=A.children[0]):C?(T++,A=C.children[T],M=!1):A=null}return this},o.prototype.toBBox=function(E){return E},o.prototype.compareMinX=function(E,w){return E.minX-w.minX},o.prototype.compareMinY=function(E,w){return E.minY-w.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(E){return this.data=E,this},o.prototype._all=function(E,w){for(var A=[];E;)E.leaf?w.push.apply(w,E.children):A.push.apply(A,E.children),E=A.pop();return w},o.prototype._build=function(E,w,A,S){var O=A-w+1,k=this._maxEntries,T;if(O<=k)return T=x(E.slice(w,A+1)),l(T,this.toBBox),T;S||(S=Math.ceil(Math.log(O)/Math.log(k)),k=Math.ceil(O/Math.pow(k,S-1))),T=x([]),T.leaf=!1,T.height=S;var C=Math.ceil(O/k),M=C*Math.ceil(Math.sqrt(k));b(E,w,A,M,this.compareMinX);for(var P=w;P<=A;P+=M){var I=Math.min(P+M-1,A);b(E,P,I,C,this.compareMinY);for(var L=P;L<=I;L+=C){var z=Math.min(L+C-1,I);T.children.push(this._build(E,L,z,S-1))}}return l(T,this.toBBox),T},o.prototype._chooseSubtree=function(E,w,A,S){for(;S.push(w),!(w.leaf||S.length-1===A);){for(var O=1/0,k=1/0,T=void 0,C=0;C<w.children.length;C++){var M=w.children[C],P=h(M),I=v(E,M)-P;I<k?(k=I,O=P<O?P:O,T=M):I===k&&P<O&&(O=P,T=M)}w=T||w.children[0]}return w},o.prototype._insert=function(E,w,A){var S=A?E:this.toBBox(E),O=[],k=this._chooseSubtree(S,this.data,w,O);for(k.children.push(E),u(k,S);w>=0&&O[w].children.length>this._maxEntries;)this._split(O,w),w--;this._adjustParentBBoxes(S,O,w)},o.prototype._split=function(E,w){var A=E[w],S=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,S);var k=this._chooseSplitIndex(A,O,S),T=x(A.children.splice(k,A.children.length-k));T.height=A.height,T.leaf=A.leaf,l(A,this.toBBox),l(T,this.toBBox),w?E[w-1].children.push(T):this._splitRoot(A,T)},o.prototype._splitRoot=function(E,w){this.data=x([E,w]),this.data.height=E.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(E,w,A){for(var S,O=1/0,k=1/0,T=w;T<=A-w;T++){var C=c(E,0,T,this.toBBox),M=c(E,T,A,this.toBBox),P=g(C,M),I=h(C)+h(M);P<O?(O=P,S=T,k=I<k?I:k):P===O&&I<k&&(k=I,S=T)}return S||A-w},o.prototype._chooseSplitAxis=function(E,w,A){var S=E.leaf?this.compareMinX:f,O=E.leaf?this.compareMinY:d,k=this._allDistMargin(E,w,A,S),T=this._allDistMargin(E,w,A,O);k<T&&E.children.sort(S)},o.prototype._allDistMargin=function(E,w,A,S){E.children.sort(S);for(var O=this.toBBox,k=c(E,0,w,O),T=c(E,A-w,A,O),C=p(k)+p(T),M=w;M<A-w;M++){var P=E.children[M];u(k,E.leaf?O(P):P),C+=p(k)}for(var I=A-w-1;I>=w;I--){var L=E.children[I];u(T,E.leaf?O(L):L),C+=p(T)}return C},o.prototype._adjustParentBBoxes=function(E,w,A){for(var S=A;S>=0;S--)u(w[S],E)},o.prototype._condense=function(E){for(var w=E.length-1,A=void 0;w>=0;w--)E[w].children.length===0?w>0?(A=E[w-1].children,A.splice(A.indexOf(E[w]),1)):this.clear():l(E[w],this.toBBox)};function s(_,E,w){if(!w)return E.indexOf(_);for(var A=0;A<E.length;A++)if(w(_,E[A]))return A;return-1}function l(_,E){c(_,0,_.children.length,E,_)}function c(_,E,w,A,S){S||(S=x(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var O=E;O<w;O++){var k=_.children[O];u(S,_.leaf?A(k):k)}return S}function u(_,E){return _.minX=Math.min(_.minX,E.minX),_.minY=Math.min(_.minY,E.minY),_.maxX=Math.max(_.maxX,E.maxX),_.maxY=Math.max(_.maxY,E.maxY),_}function f(_,E){return _.minX-E.minX}function d(_,E){return _.minY-E.minY}function h(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function p(_){return _.maxX-_.minX+(_.maxY-_.minY)}function v(_,E){return(Math.max(E.maxX,_.maxX)-Math.min(E.minX,_.minX))*(Math.max(E.maxY,_.maxY)-Math.min(E.minY,_.minY))}function g(_,E){var w=Math.max(_.minX,E.minX),A=Math.max(_.minY,E.minY),S=Math.min(_.maxX,E.maxX),O=Math.min(_.maxY,E.maxY);return Math.max(0,S-w)*Math.max(0,O-A)}function m(_,E){return _.minX<=E.minX&&_.minY<=E.minY&&E.maxX<=_.maxX&&E.maxY<=_.maxY}function y(_,E){return E.minX<=_.maxX&&E.minY<=_.maxY&&E.maxX>=_.minX&&E.maxY>=_.minY}function x(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(_,E,w,A,S){for(var O=[E,w];O.length;)if(w=O.pop(),E=O.pop(),!(w-E<=A)){var k=E+Math.ceil((w-E)/A/2)*A;n(_,k,E,w,S),O.push(E,k,k,w)}}return o})})(z$);var h3e=z$.exports,Se=(function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e})({}),Im=(function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e})({}),Fu=(function(){function e(){Fe(this,e),this.plugins=[]}return Be(e,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var a=n.context.renderingPlugins.indexOf(r);a>=0&&n.context.renderingPlugins.splice(a,1)})}}])})(),p3e=(function(){function e(t){Fe(this,e),this.clipSpaceNearZ=Im.NEGATIVE_ONE,this.plugins=[],this.config=$t({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return Be(e,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(a){return a===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(a){return a===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])})(),Iw=hu,Cd=xl,v3e=Fwe,g3e=Lwe,v6=Ey,Rw=jwe,na=(function(){function e(){Fe(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return Be(e,[{key:"update",value:function(n,r){Cd(this.center,n),Cd(this.halfExtents,r),Rw(this.min,this.center,this.halfExtents),Iw(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){Iw(this.center,r,n),v6(this.center,this.center,.5),Rw(this.halfExtents,r,n),v6(this.halfExtents,this.halfExtents,.5),Cd(this.min,n),Cd(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!e.isEmpty(n)){if(e.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,a=r[0],i=r[1],o=r[2],s=this.halfExtents,l=s[0],c=s[1],u=s[2],f=a-l,d=a+l,h=i-c,p=i+c,v=o-u,g=o+u,m=n.center,y=m[0],x=m[1],b=m[2],_=n.halfExtents,E=_[0],w=_[1],A=_[2],S=y-E,O=y+E,k=x-w,T=x+w,C=b-A,M=b+A;S<f&&(f=S),O>d&&(d=O),k<h&&(h=k),T>p&&(p=T),C<v&&(v=C),M>g&&(g=M),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(v+g)*.5,s[0]=(d-f)*.5,s[1]=(p-h)*.5,s[2]=(g-v)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=v,this.max[0]=d,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(n,r){var a=this.center,i=this.halfExtents,o=n.center,s=n.halfExtents,l=r[0],c=r[4],u=r[8],f=r[1],d=r[5],h=r[9],p=r[2],v=r[6],g=r[10],m=Math.abs(l),y=Math.abs(c),x=Math.abs(u),b=Math.abs(f),_=Math.abs(d),E=Math.abs(h),w=Math.abs(p),A=Math.abs(v),S=Math.abs(g);a[0]=r[12]+l*o[0]+c*o[1]+u*o[2],a[1]=r[13]+f*o[0]+d*o[1]+h*o[2],a[2]=r[14]+p*o[0]+v*o[1]+g*o[2],i[0]=m*s[0]+y*s[1]+x*s[2],i[1]=b*s[0]+_*s[1]+E*s[2],i[2]=w*s[0]+A*s[1]+S*s[2],Rw(this.min,a,i),Iw(this.max,a,i)}},{key:"intersects",value:function(n){var r=this.getMax(),a=this.getMin(),i=n.getMax(),o=n.getMin();return a[0]<=i[0]&&r[0]>=o[0]&&a[1]<=i[1]&&r[1]>=o[1]&&a[2]<=i[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new e,a=v3e([0,0,0],this.getMin(),n.getMin()),i=g3e([0,0,0],this.getMax(),n.getMax());return r.setMinMax(a,i),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?Cd([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?Cd([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])})(),m3e=(function(){function e(t,n){Fe(this,e),this.distance=t||0,this.normal=n||bn(0,1,0),this.updatePNVertexFlag()}return Be(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return bl(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/D9(this.normal);Ey(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,a){var i=this.distanceToPoint(n),o=this.distanceToPoint(r),s=i/(i-o),l=s>=0&&s<=1;return l&&a&&YE(a,n,r,s),l}}])})(),Md=(function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e})({}),y3e=(function(){function e(t){if(Fe(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new m3e)}return Be(e,[{key:"extractFromVPMatrix",value:function(n){var r=Dt(n,16),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],x=r[15];Ei(this.planes[0].normal,s-a,f-l,v-d),this.planes[0].distance=x-g,Ei(this.planes[1].normal,s+a,f+l,v+d),this.planes[1].distance=x+g,Ei(this.planes[2].normal,s+i,f+c,v+h),this.planes[2].distance=x+m,Ei(this.planes[3].normal,s-i,f-c,v-h),this.planes[3].distance=x-m,Ei(this.planes[4].normal,s-o,f-u,v-p),this.planes[4].distance=x-y,Ei(this.planes[5].normal,s+o,f+u,v+p),this.planes[5].distance=x+y,this.planes.forEach(function(b){b.normalize(),b.updatePNVertexFlag()})}}])})(),ri=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Fe(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return Be(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])})(),H0=(function(){function e(t,n,r,a){Fe(this,e),this.x=t,this.y=n,this.width=r,this.height=a,this.left=t,this.right=t+r,this.top=n,this.bottom=n+a}return Be(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new e(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var a=up(n.x,n.y,0,1),i=up(n.x+n.width,n.y,0,1),o=up(n.x,n.y+n.height,0,1),s=up(n.x+n.width,n.y+n.height,0,1),l=wl(),c=wl(),u=wl(),f=wl();_l(l,a,r),_l(c,i,r),_l(u,o,r),_l(f,s,r);var d=Math.min(l[0],c[0],u[0],f[0]),h=Math.min(l[1],c[1],u[1],f[1]),p=Math.max(l[0],c[0],u[0],f[0]),v=Math.max(l[1],c[1],u[1],f[1]);return e.fromRect({x:d,y:h,width:p-d,height:v-h})}}])})(),Wn="Method not implemented.",Pd="Use document.documentElement instead.",x3e="Cannot append a destroyed element.";function u0(e){return e===void 0?0:e>360||e<-360?e%360:e}var Dw=tn();function Wi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?Ql(e):xl(Dw,e):nr(e)?r?bn(e,t,n):Ei(Dw,e,t,n):r?bn(e[0],e[1]||t,e[2]||n):Ei(Dw,e[0],e[1]||t,e[2]||n)}var b3e=Math.PI/180;function Xn(e){return e*b3e}var w3e=180/Math.PI;function Wo(e){return e*w3e}function _3e(e){return 360*e}var Ly=Math.PI/2;function E3e(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n,s=r*r,l=a*a,c=i*i,u=o+s+l+c,f=n*i-r*a;return f>.499995*u?(e[0]=Ly,e[1]=2*Math.atan2(r,n),e[2]=0):f<-.499995*u?(e[0]=-Ly,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*a-i*r)),e[1]=Math.atan2(2*(n*i+r*a),1-2*(l+c)),e[2]=Math.atan2(2*(n*r+a*i),1-2*(s+l))),e}function A3e(e,t){var n,r,a=N0(tn(),t),i=Dt(a,3),o=i[0],s=i[1],l=i[2],c=Math.asin(-t[2]/o);return c<Ly?c>-Ly?(n=Math.atan2(t[6]/s,t[10]/l),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/s,t[5]/s)):(r=0,n=Math.atan2(t[4]/s,t[5]/s)),e[0]=n,e[1]=c,e[2]=r,e}function Nw(e,t){return t.length===16?A3e(e,t):E3e(e,t)}function S3e(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e);return cwe(r*i,a*o,0,-r*o,a*i,0,t,n,1)}function O3e(e,t,n,r,a,i,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*i,c=n-t,u=r-a,f=l/c,d=l/u,h=(n+t)/c,p=(r+a)/u,v,g,m=o-i,y=o*i;return s?(v=-o/m,g=-y/m):(v=-(o+i)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=h,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function g6(e){var t=e[0],n=e[1],r=e[3],a=e[4],i=Math.sqrt(t*t+n*n),o=Math.sqrt(r*r+a*a),s=t*a-n*r;if(s<0&&(t<a?i=-i:o=-o),i){var l=1/i;t*=l,n*=l}if(o){var c=1/o;r*=c,a*=c}var u=Math.atan2(n,t),f=Wo(u);return[e[6],e[7],i,o,f]}var rl=Cn(),ys=Cn(),Hh=wl(),Tt=[tn(),tn(),tn()],m6=tn();function k3e(e,t,n,r,a,i){if(!T3e(rl,e)||(D0(ys,rl),ys[3]=0,ys[7]=0,ys[11]=0,ys[15]=1,Math.abs(x9(ys))<1e-8))return!1;var o=rl[3],s=rl[7],l=rl[11],c=rl[12],u=rl[13],f=rl[14],d=rl[15];if(o!==0||s!==0||l!==0){Hh[0]=o,Hh[1]=s,Hh[2]=l,Hh[3]=d;var h=Rs(ys,ys);if(!h)return!1;y9(ys,ys),_l(a,Hh,ys)}else a[0]=a[1]=a[2]=0,a[3]=1;if(t[0]=c,t[1]=u,t[2]=f,C3e(Tt,rl),n[0]=oc(Tt[0]),Nf(Tt[0],Tt[0]),r[0]=bl(Tt[0],Tt[1]),Lw(Tt[1],Tt[1],Tt[0],1,-r[0]),n[1]=oc(Tt[1]),Nf(Tt[1],Tt[1]),r[0]/=n[1],r[1]=bl(Tt[0],Tt[2]),Lw(Tt[2],Tt[2],Tt[0],1,-r[1]),r[2]=bl(Tt[1],Tt[2]),Lw(Tt[2],Tt[2],Tt[1],1,-r[2]),n[2]=oc(Tt[2]),Nf(Tt[2],Tt[2]),r[1]/=n[2],r[2]/=n[2],Tm(m6,Tt[1],Tt[2]),bl(Tt[0],m6)<0)for(var p=0;p<3;p++)n[p]*=-1,Tt[p][0]*=-1,Tt[p][1]*=-1,Tt[p][2]*=-1;return i[0]=.5*Math.sqrt(Math.max(1+Tt[0][0]-Tt[1][1]-Tt[2][2],0)),i[1]=.5*Math.sqrt(Math.max(1-Tt[0][0]+Tt[1][1]-Tt[2][2],0)),i[2]=.5*Math.sqrt(Math.max(1-Tt[0][0]-Tt[1][1]+Tt[2][2],0)),i[3]=.5*Math.sqrt(Math.max(1+Tt[0][0]+Tt[1][1]+Tt[2][2],0)),Tt[2][1]>Tt[1][2]&&(i[0]=-i[0]),Tt[0][2]>Tt[2][0]&&(i[1]=-i[1]),Tt[1][0]>Tt[0][1]&&(i[2]=-i[2]),!0}function T3e(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,a=0;a<16;a++)e[a]=t[a]*r;return!0}function C3e(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function Lw(e,t,n,r,a){e[0]=t[0]*r+n[0]*a,e[1]=t[1]*r+n[1]*a,e[2]=t[2]*r+n[2]*a}var Un=(function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e})({}),pA=(function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e})({}),jo=(function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e})({}),U$={UPDATED:"updated"},y6=2e-4,H$=(function(){function e(){Fe(this,e),this.clipSpaceNearZ=Im.NEGATIVE_ONE,this.eventEmitter=new D$,this.matrix=Cn(),this.right=bn(1,0,0),this.up=bn(0,1,0),this.forward=bn(0,0,1),this.position=bn(0,0,1),this.focalPoint=bn(0,0,0),this.distanceVector=bn(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Cn(),this.projectionMatrixInverse=Cn(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Un.EXPLORING,this.trackingMode=pA.DEFAULT,this.projectionMode=jo.PERSPECTIVE,this.frustum=new y3e,this.orthoMatrix=Cn()}return Be(e,[{key:"isOrtho",value:function(){return this.projectionMode===jo.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===Un.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Un.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==Un.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Rs(Cn(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var a=ic(Cn(),[n,r,0]);this.jitteredProjectionMatrix=Ti(Cn(),a,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===jo.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===jo.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,a,i,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=a,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.projectionMode===jo.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===jo.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===jo.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===jo.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var a=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),i=a.x,o=a.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(i,o),this.setFocalPoint(i,o),this.setZoom(n),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=l.x,u=l.y,f=bn(c-i,u-o,0),d=bl(f,this.right)/oc(this.right),h=bl(f,this.up)/oc(this.up),p=this.getPosition(),v=Dt(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),x=Dt(y,2),b=x[0],_=x[1];return this.setPosition(g-d,m-h),this.setFocalPoint(b-d,_-h),this}},{key:"setPerspective",value:function(n,r,a,i){var o;this.projectionMode=jo.PERSPECTIVE,this.fov=a,this.near=n,this.far=r,this.aspect=i;var s=this.near*Math.tan(Xn(.5*this.fov))/this.zoom,l=2*s,c=this.aspect*l,u=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var f=this.view.fullWidth,d=this.view.fullHeight;u+=this.view.offsetX*c/f,s-=this.view.offsetY*l/d,c*=this.view.width/f,l*=this.view.height/d}return O3e(this.projectionMatrix,u,u+c,s-l,s,n,this.far,this.clipSpaceNearZ===Im.ZERO),Rs(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,a,i,o,s){var l;this.projectionMode=jo.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=a,this.bottom=i,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,h=f-c,p=f+c,v=d+u,g=d-u;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=m*this.view.offsetX,p=h+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===Im.NEGATIVE_ONE?C9(this.projectionMatrix,h,p,v,g,o,s):M9(this.projectionMatrix,h,p,v,g,o,s),Rs(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],i=Wi(n,r,a);return this._setPosition(i),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],i=bn(0,1,0);if(this.focalPoint=Wi(n,r,a),this.trackingMode===pA.CINEMATIC){var o=GE(tn(),this.focalPoint,this.position);n=o[0],r=o[1],a=o[2];var s=oc(o),l=Wo(Math.asin(r/s)),c=90+Wo(Math.atan2(a,n)),u=Cn();_9(u,u,Xn(c)),w9(u,u,Xn(l)),i=Fr(tn(),[0,1,0],u)}return Rs(this.matrix,P9(Cn(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<y6&&(this.distance=y6),this.dollyingStep=this.distance/100;var r=tn();n=this.distance;var a=this.forward,i=this.focalPoint;return r[0]=n*a[0]+i[0],r[1]=n*a[1]+i[1],r[2]=n*a[2]+i[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=u0(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=u0(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=u0(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=nu(ha(),[0,0,1],Xn(this.roll));_u(this.matrix);var r=nu(ha(),[1,0,0],Xn((this.rotateWorld&&this.type!==Un.TRACKING||this.type===Un.TRACKING?1:-1)*this.elevation)),a=nu(ha(),[0,1,0],Xn((this.rotateWorld&&this.type!==Un.TRACKING||this.type===Un.TRACKING?1:-1)*this.azimuth)),i=pu(ha(),a,r);i=pu(ha(),i,n);var o=iO(Cn(),i);this.type===Un.ORBITING||this.type===Un.EXPLORING?(c0(this.matrix,this.matrix,this.focalPoint),Ti(this.matrix,this.matrix,o),c0(this.matrix,this.matrix,[0,0,this.distance])):this.type===Un.TRACKING&&(c0(this.matrix,this.matrix,this.position),Ti(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,a){this.position=Wi(n,r,a);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){xl(this.right,Wi(_l(wl(),[1,0,0,0],this.matrix))),xl(this.up,Wi(_l(wl(),[0,1,0,0],this.matrix))),xl(this.forward,Wi(_l(wl(),[0,0,1,0],this.matrix))),Nf(this.right,this.right),Nf(this.up,this.up),Nf(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],a=this.distanceVector[2],i=oc(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===Un.TRACKING?(this.elevation=Wo(Math.asin(r/i)),this.azimuth=Wo(Math.atan2(-n,-a))):this.rotateWorld?(this.elevation=Wo(Math.asin(r/i)),this.azimuth=Wo(Math.atan2(-n,-a))):(this.elevation=-Wo(Math.asin(r/i)),this.azimuth=-Wo(Math.atan2(-n,-a)))}},{key:"_getPosition",value:function(){xl(this.position,Wi(_l(wl(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){R9(this.distanceVector,[0,0,-this.distance],swe(hh(),this.matrix)),hu(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=GE(tn(),this.focalPoint,this.position),this.distance=oc(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===jo.ORTHOGRAPHIC){var n=this.position,r=nu(ha(),[0,0,1],-this.roll*Math.PI/180);Yp(this.orthoMatrix,r,bn((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),bn(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=Ti(Cn(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(U$.UPDATED)}}},{key:"rotate",value:function(n,r,a){throw new Error(Wn)}},{key:"pan",value:function(n,r){throw new Error(Wn)}},{key:"dolly",value:function(n){throw new Error(Wn)}},{key:"createLandmark",value:function(n,r){throw new Error(Wn)}},{key:"gotoLandmark",value:function(n,r){throw new Error(Wn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Wn)}}])})(),M3e=(function(e){return e[e.Standard=0]="Standard",e})({}),Fy=(function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e})({}),P3e=tn(),Vh=Cn(),I3e=ha();function x6(e){if(e.localDirtyFlag){var t=e.localSkew[0]!==0||e.localSkew[1]!==0;if(t){Yp(e.localTransform,e.localRotation,e.localPosition,bn(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(_u(Vh),Vh[4]=Math.tan(e.localSkew[0]),Vh[1]=Math.tan(e.localSkew[1]),Ti(e.localTransform,e.localTransform,Vh));var n=Yp(Vh,N9(I3e,0,0,0,1),Ei(P3e,1,1,1),e.localScale,e.origin);Ti(e.localTransform,e.localTransform,n)}else{var r=e.localTransform,a=e.localPosition,i=e.localRotation,o=e.localScale,s=e.origin,l=a[0]!==0||a[1]!==0||a[2]!==0,c=i[3]!==1||i[0]!==0||i[1]!==0||i[2]!==0,u=o[0]!==1||o[1]!==1||o[2]!==1,f=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!u&&!f?l?ic(r,a):_u(r):Yp(r,i,a,o,s)}e.localDirtyFlag=!1}}function R3e(e,t){e.dirtyFlag&&(t?Ti(e.worldTransform,t.worldTransform,e.localTransform):D0(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}var V$={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new H0(0,0,0,0)},Ze=(function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e})({});function $O(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function W$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rv(){}var D1=.7,By=1/D1,f0="\\s*([+-]?\\d+)\\s*",N1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D3e=/^#([0-9a-f]{3,8})$/,N3e=new RegExp(`^rgb\\(${f0},${f0},${f0}\\)$`),L3e=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),F3e=new RegExp(`^rgba\\(${f0},${f0},${f0},${N1}\\)$`),B3e=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${N1}\\)$`),$3e=new RegExp(`^hsl\\(${N1},${Ol},${Ol}\\)$`),j3e=new RegExp(`^hsla\\(${N1},${Ol},${Ol},${N1}\\)$`),b6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$O(Rv,k2,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w6,formatHex:w6,formatHex8:z3e,formatHsl:U3e,formatRgb:_6,toString:_6});function w6(){return this.rgb().formatHex()}function z3e(){return this.rgb().formatHex8()}function U3e(){return G$(this).formatHsl()}function _6(){return this.rgb().formatRgb()}function k2(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=D3e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?E6(t):n===3?new ho(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_g(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_g(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=N3e.exec(e))?new ho(t[1],t[2],t[3],1):(t=L3e.exec(e))?new ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F3e.exec(e))?_g(t[1],t[2],t[3],t[4]):(t=B3e.exec(e))?_g(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$3e.exec(e))?O6(t[1],t[2]/100,t[3]/100,1):(t=j3e.exec(e))?O6(t[1],t[2]/100,t[3]/100,t[4]):b6.hasOwnProperty(e)?E6(b6[e]):e==="transparent"?new ho(NaN,NaN,NaN,0):null}function E6(e){return new ho(e>>16&255,e>>8&255,e&255,1)}function _g(e,t,n,r){return r<=0&&(e=t=n=NaN),new ho(e,t,n,r)}function H3e(e){return e instanceof Rv||(e=k2(e)),e?(e=e.rgb(),new ho(e.r,e.g,e.b,e.opacity)):new ho}function V3e(e,t,n,r){return arguments.length===1?H3e(e):new ho(e,t,n,r??1)}function ho(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$O(ho,V3e,W$(Rv,{brighter(e){return e=e==null?By:Math.pow(By,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?D1:Math.pow(D1,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ho(Lf(this.r),Lf(this.g),Lf(this.b),$y(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A6,formatHex:A6,formatHex8:W3e,formatRgb:S6,toString:S6}));function A6(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function W3e(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function S6(){const e=$y(this.opacity);return`${e===1?"rgb(":"rgba("}${Lf(this.r)}, ${Lf(this.g)}, ${Lf(this.b)}${e===1?")":`, ${e})`}`}function $y(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wf(e){return e=Lf(e),(e<16?"0":"")+e.toString(16)}function O6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cs(e,t,n,r)}function G$(e){if(e instanceof Cs)return new Cs(e.h,e.s,e.l,e.opacity);if(e instanceof Rv||(e=k2(e)),!e)return new Cs;if(e instanceof Cs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Cs(o,s,l,e.opacity)}function G3e(e,t,n,r){return arguments.length===1?G$(e):new Cs(e,t,n,r??1)}function Cs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$O(Cs,G3e,W$(Rv,{brighter(e){return e=e==null?By:Math.pow(By,e),new Cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?D1:Math.pow(D1,e),new Cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ho(Fw(e>=240?e-240:e+120,a,r),Fw(e,a,r),Fw(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Cs(k6(this.h),Eg(this.s),Eg(this.l),$y(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$y(this.opacity);return`${e===1?"hsl(":"hsla("}${k6(this.h)}, ${Eg(this.s)*100}%, ${Eg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function k6(e){return e=(e||0)%360,e<0?e+360:e}function Eg(e){return Math.max(0,Math.min(1,e||0))}function Fw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function sa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=t?t.apply(this,i):i[0],l=n.cache;if(l.has(s))return l.get(s);var c=e.apply(this,i);return n.cache=l.set(s,c)||l,c};return n.cache=new(sa.Cache||Map),sa.cacheList.push(n.cache),n}sa.Cache=Map;sa.cacheList=[];sa.clearCache=function(){sa.cacheList.forEach(function(e){return e.clear()})};var Je=(function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e})({}),Es=(function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e})({}),Y3e=(function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e})({}),X3e=(function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e})({}),q3e=[{name:"em",unit_type:Je.kEms},{name:"px",unit_type:Je.kPixels},{name:"deg",unit_type:Je.kDegrees},{name:"rad",unit_type:Je.kRadians},{name:"grad",unit_type:Je.kGradians},{name:"ms",unit_type:Je.kMilliseconds},{name:"s",unit_type:Je.kSeconds},{name:"rem",unit_type:Je.kRems},{name:"turn",unit_type:Je.kTurns}],V0=(function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e})({}),K3e=function(t){return q3e.find(function(n){return n.name===t}).unit_type},Z3e=function(t){return t?t==="number"?Je.kNumber:t==="percent"||t==="%"?Je.kPercentage:K3e(t):Je.kUnknown},Q3e=function(t){switch(t){case Je.kNumber:case Je.kInteger:return Es.kUNumber;case Je.kPercentage:return Es.kUPercent;case Je.kPixels:return Es.kULength;case Je.kMilliseconds:case Je.kSeconds:return Es.kUTime;case Je.kDegrees:case Je.kRadians:case Je.kGradians:case Je.kTurns:return Es.kUAngle;default:return Es.kUOther}},J3e=function(t){switch(t){case Es.kUNumber:return Je.kNumber;case Es.kULength:return Je.kPixels;case Es.kUPercent:return Je.kPercentage;case Es.kUTime:return Je.kSeconds;case Es.kUAngle:return Je.kDegrees;default:return Je.kUnknown}},T6=function(t){var n=1;switch(t){case Je.kPixels:case Je.kDegrees:case Je.kSeconds:break;case Je.kMilliseconds:n=.001;break;case Je.kRadians:n=180/Math.PI;break;case Je.kGradians:n=.9;break;case Je.kTurns:n=360;break}return n},vA=function(t){switch(t){case Je.kNumber:case Je.kInteger:return"";case Je.kPercentage:return"%";case Je.kEms:return"em";case Je.kRems:return"rem";case Je.kPixels:return"px";case Je.kDegrees:return"deg";case Je.kRadians:return"rad";case Je.kGradians:return"grad";case Je.kMilliseconds:return"ms";case Je.kSeconds:return"s";case Je.kTurns:return"turn"}return""},T2=(function(){function e(){Fe(this,e)}return Be(e,[{key:"toString",value:function(){return this.buildCSSText(Y3e.kNo,X3e.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=V0.kUnitType&&this.getType()<=V0.kClampType}}],[{key:"isAngle",value:function(n){return n===Je.kDegrees||n===Je.kRadians||n===Je.kGradians||n===Je.kTurns}},{key:"isLength",value:function(n){return n>=Je.kEms&&n<Je.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===Je.kPercentage||n===Je.kEms||n===Je.kRems}},{key:"isTime",value:function(n){return n===Je.kSeconds||n===Je.kMilliseconds}}])})(),eOe=(function(e){function t(n){var r;return Fe(this,t),r=Vt(this,t),r.colorSpace=n,r}return Wt(t,e),Be(t,[{key:"getType",value:function(){return V0.kColorType}},{key:"to",value:function(r){return this}}])})(T2),ru=(function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e})({}),Ag=(function(e){function t(n,r){var a;return Fe(this,t),a=Vt(this,t),a.type=n,a.value=r,a}return Wt(t,e),Be(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(r,a,i){return i}},{key:"getType",value:function(){return V0.kColorType}}])})(T2),fs=(function(e){function t(n){var r;return Fe(this,t),r=Vt(this,t),r.value=n,r}return Wt(t,e),Be(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return V0.kKeywordType}},{key:"buildCSSText",value:function(r,a,i){return i+this.value}}])})(T2),tOe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(t)?r="NaN":t>0?r="infinity":r="-infinity",r+=n},gA=function(t){return J3e(Q3e(t))},Gn=(function(e){function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Je.kNumber;Fe(this,t),r=Vt(this,t);var i;return typeof a=="string"?i=Z3e(a):i=a,r.unit=i,r.value=n,r}return Wt(t,e),Be(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(r){var a=r;return this.value===a.value&&this.unit===a.unit}},{key:"getType",value:function(){return V0.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new t(this.value,this.unit);var a=gA(this.unit);if(a!==gA(r)||a===Je.kUnknown)return null;var i=T6(this.unit)/T6(r);return new t(this.value*i,r)}},{key:"buildCSSText",value:function(r,a,i){var o;switch(this.unit){case Je.kUnknown:break;case Je.kInteger:o=Number(this.value).toFixed(0);break;case Je.kNumber:case Je.kPercentage:case Je.kEms:case Je.kRems:case Je.kPixels:case Je.kDegrees:case Je.kRadians:case Je.kGradians:case Je.kMilliseconds:case Je.kSeconds:case Je.kTurns:{var s=-999999,l=999999,c=this.value,u=vA(this.unit);if(c<s||c>l){var f=vA(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=tOe(c,f):o=c+(f||"")}else o="".concat(c).concat(u)}}return i+=o,i}}])})(T2),_s=new Gn(0,"px");new Gn(1,"px");var Kf=new Gn(0,"deg"),jO=(function(e){function t(n,r,a){var i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return Fe(this,t),i=Vt(this,t,["rgb"]),i.r=n,i.g=r,i.b=a,i.alpha=o,i.isNone=s,i}return Wt(t,e),Be(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,a,i){return"".concat(i,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])})(eOe),C6=new fs("unset"),nOe=new fs("initial"),rOe=new fs("inherit"),Bw={"":C6,unset:C6,initial:nOe,inherit:rOe},aOe=function(t){return Bw[t]||(Bw[t]=new fs(t)),Bw[t]},Y$=new jO(0,0,0,0,!0),X$=new jO(0,0,0,0),iOe=sa(function(e,t,n,r){return new jO(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),wr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Je.kNumber;return new Gn(t,n)};new Gn(50,"%");function oOe(e){var t=e.type,n=e.value;return t==="hex"?"#".concat(n):t==="literal"?n:t==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var sOe=(function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(L){throw new Error("".concat(t,": ").concat(L))}function r(){var L=a();return t.length>0&&n("Invalid input not EOF"),L}function a(){return x(i)}function i(){return o("linear-gradient",e.linearGradient,l)||o("repeating-linear-gradient",e.repeatingLinearGradient,l)||o("radial-gradient",e.radialGradient,f)||o("repeating-radial-gradient",e.repeatingRadialGradient,f)||o("conic-gradient",e.conicGradient,f)}function o(L,z,N){return s(z,function(G){var Y=N();return Y&&(P(e.comma)||n("Missing comma before color stops")),{type:L,orientation:Y,colorStops:x(b)}})}function s(L,z){var N=P(L);if(N){P(e.startCall)||n("Missing (");var G=z(N);return P(e.endCall)||n("Missing )"),G}}function l(){return c()||u()}function c(){return M("directional",e.sideOrCorner,1)}function u(){return M("angular",e.angleValue,1)}function f(){var L,z=d(),N;return z&&(L=[],L.push(z),N=t,P(e.comma)&&(z=d(),z?L.push(z):t=N)),L}function d(){var L=h()||p();if(L)L.at=g();else{var z=v();if(z){L=z;var N=g();N&&(L.at=N)}else{var G=m();G&&(L={type:"default-radial",at:G})}}return L}function h(){var L=M("shape",/^(circle)/i,0);return L&&(L.style=C()||v()),L}function p(){var L=M("shape",/^(ellipse)/i,0);return L&&(L.style=k()||v()),L}function v(){return M("extent-keyword",e.extentKeywords,1)}function g(){if(M("position",/^at/,0)){var L=m();return L||n("Missing positioning value"),L}}function m(){var L=y();if(L.x||L.y)return{type:"position",value:L}}function y(){return{x:k(),y:k()}}function x(L){var z=L(),N=[];if(z)for(N.push(z);P(e.comma);)z=L(),z?N.push(z):n("One extra comma");return N}function b(){var L=_();return L||n("Expected color definition"),L.length=k(),L}function _(){return w()||S()||A()||E()}function E(){return M("literal",e.literalColor,0)}function w(){return M("hex",e.hexColor,1)}function A(){return s(e.rgbColor,function(){return{type:"rgb",value:x(O)}})}function S(){return s(e.rgbaColor,function(){return{type:"rgba",value:x(O)}})}function O(){return P(e.number)[1]}function k(){return M("%",e.percentageValue,1)||T()||C()}function T(){return M("position-keyword",e.positionKeywords,1)}function C(){return M("px",e.pixelValue,1)||M("em",e.emValue,1)}function M(L,z,N){var G=P(z);if(G)return{type:L,value:G[N]}}function P(L){var z=/^[\n\r\t\s]+/.exec(t);z&&I(z[0].length);var N=L.exec(t);return N&&I(N[0].length),N}function I(L){t=t.substring(L)}return function(L){return t=L,r()}})();function lOe(e,t,n,r){var a=Xn(r.value),i=0,o=0,s=i+t/2,l=o+n/2,c=Math.abs(t*Math.cos(a))+Math.abs(n*Math.sin(a)),u=e[0]+s-Math.cos(a)*c/2,f=e[1]+l-Math.sin(a)*c/2,d=e[0]+s+Math.cos(a)*c/2,h=e[1]+l+Math.sin(a)*c/2;return{x1:u,y1:f,x2:d,y2:h}}function cOe(e,t,n,r,a,i){var o=r.value,s=a.value;r.unit===Je.kPercentage&&(o=r.value/100*t),a.unit===Je.kPercentage&&(s=a.value/100*n);var l=Math.max(co([0,0],[o,s]),co([0,n],[o,s]),co([t,n],[o,s]),co([t,0],[o,s]));return i&&(i instanceof Gn?l=i.value:i instanceof fs&&(i.value==="closest-side"?l=Math.min(o,t-o,s,n-s):i.value==="farthest-side"?l=Math.max(o,t-o,s,n-s):i.value==="closest-corner"&&(l=Math.min(co([0,0],[o,s]),co([0,n],[o,s]),co([t,n],[o,s]),co([t,0],[o,s]))))),{x:o+e[0],y:s+e[1],r:l}}var uOe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,fOe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,dOe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,q$=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function hOe(e){var t,n=e.length;if(e[n-1].length=(t=e[n-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},n>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var a=0,i=Number(e[0].length.value),o=1;o<n;o++){var s,l=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!wt(l)&&!wt(i)){for(var c=1;c<o-a;c++)e[a+c].length={type:"%",value:"".concat(i+(Number(l)-i)*c/(o-a))};a=o,i=Number(l)}}}var pOe={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},vOe=sa(function(e){var t;return e.type==="angular"?t=Number(e.value):t=pOe[e.value]||0,wr(t,"deg")}),gOe=sa(function(e){var t=50,n=50,r="%",a="%";if((e==null?void 0:e.type)==="position"){var i=e.value,o=i.x,s=i.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?t=50:o.value==="right"?t=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?n=50:s.value==="right"?t=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,t=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(a=s==null?void 0:s.type,n=Number(s.value))}return{cx:wr(t,r),cy:wr(n,a)}}),mOe=sa(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=sOe(e);return t.map(function(s){var l=s.type,c=s.orientation,u=s.colorStops;hOe(u);var f=u.map(function(x){return{offset:wr(Number(x.length.value),"%"),color:oOe(x)}});if(l==="linear-gradient")return new Ag(ru.LinearGradient,{angle:c?vOe(c):Kf,steps:f});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var d=gOe(c[0].at),h=d.cx,p=d.cy,v;if(c[0].style){var g=c[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=aOe(y):v=wr(y,m)}return new Ag(ru.RadialGradient,{cx:h,cy:p,size:v,steps:f})}})}var n=e[0];if(e[1]==="("||e[2]==="("){if(n==="l"){var r=uOe.exec(e);if(r){var a,i=((a=r[2].match(q$))===null||a===void 0?void 0:a.map(function(s){return s.split(":")}))||[];return[new Ag(ru.LinearGradient,{angle:wr(parseFloat(r[1]),"deg"),steps:i.map(function(s){var l=Dt(s,2),c=l[0],u=l[1];return{offset:wr(Number(c)*100,"%"),color:u}})})]}}else if(n==="r"){var o=yOe(e);if(o)if(xr(o))e=o;else return[new Ag(ru.RadialGradient,o)]}else if(n==="p")return xOe(e)}});function yOe(e){var t=fOe.exec(e);if(t){var n,r=((n=t[4].match(q$))===null||n===void 0?void 0:n.map(function(a){return a.split(":")}))||[];return{cx:wr(50,"%"),cy:wr(50,"%"),steps:r.map(function(a){var i=Dt(a,2),o=i[0],s=i[1];return{offset:wr(Number(o)*100,"%"),color:s}})}}return null}function xOe(e){var t=dOe.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function Zf(e){return e&&!!e.image}function jy(e){return e&&!wt(e.r)&&!wt(e.g)&&!wt(e.b)}var gu=sa(function(e){if(Zf(e))return $t({repetition:"repeat"},e);if(wt(e)&&(e=""),e==="transparent")return X$;if(e==="currentColor")e="black";else if(e==="none")return Y$;var t=mOe(e);if(t)return t;var n=k2(e),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),iOe.apply(void 0,r)});function bOe(e,t){if(!(!jy(e)||!jy(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(n){var r=n.slice();if(r[3])for(var a=0;a<3;a++)r[a]=Math.round(jr(r[a],0,255));return r[3]=jr(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Dv(e,t){if(wt(t))return wr(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return wr(Number(t),"px");if("deg".search(e)>=0)return wr(Number(t),"deg")}var n=[];t=t.replace(e,function(a){return n.push(a),"U".concat(a)});var r="U(".concat(e.source,")");return n.map(function(a){return wr(Number(t.replace(new RegExp("U".concat(a),"g"),"").replace(new RegExp(r,"g"),"*0")),a)})[0]}var K$=function(t){return Dv(new RegExp("px","g"),t)},wOe=sa(K$),_Oe=function(t){return Dv(new RegExp("%","g"),t)};sa(_Oe);var Z$=function(t){return nr(t)||isFinite(Number(t))?wr(Number(t)||0,"px"):Dv(new RegExp("px|%|em|rem","g"),t)},mA=sa(Z$),Q$=function(t){return Dv(new RegExp("deg|rad|grad|turn","g"),t)},EOe=sa(Q$);function AOe(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i="",o=e.value||0,s=t.value||0,l=gA(e.unit),c=e.convertTo(l),u=t.convertTo(l);return c&&u?(o=c.value,s=u.value,i=vA(e.unit)):(Gn.isLength(e.unit)||Gn.isLength(t.unit))&&(o=_o(e,a,n),s=_o(t,a,n),i="px"),[o,s,function(f){return f+i}]}function uo(e){var t=0;return e.unit===Je.kDegrees?t=e.value:e.unit===Je.kRadians?t=Wo(Number(e.value)):e.unit===Je.kTurns?t=_3e(Number(e.value)):e.value&&(t=e.value),t}function M6(e,t){var n;return Array.isArray(e)?n=e.map(function(r){return Number(r)}):xr(e)?n=e.split(" ").map(function(r){return Number(r)}):nr(e)&&(n=[e]),t===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:t===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:t==="even"&&n.length%2===1?[].concat(Jt(n),Jt(n)):n}function _o(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===Je.kPixels)return Number(e.value);if(e.unit===Je.kPercentage&&n){var a=n.nodeName===Se.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?a.min[t]:0)+e.value/100*a.halfExtents[t]*2}return 0}var SOe=function(t){return Dv(/deg|rad|grad|turn|px|%/g,t)},OOe=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function kOe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,a=0;r=t.exec(e);){if(r.index!==a)return[];if(a=r.index+r[0].length,OOe.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(i){return SOe(i)||gu(i)})}),t.lastIndex===e.length)return n}return[]}function J$(e){return e.toString()}var ej=function(t){return typeof t=="number"?wr(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?wr(Number(t)):wr(0)},yA=sa(ej);sa(function(e){return xr(e)?e.split(" ").map(yA):e.map(yA)});function zO(e,t){return[e,t,J$]}function UO(e,t){return function(n,r){return[n,r,function(a){return J$(jr(a,e,t))}]}}function tj(e,t){if(e.length===t.length)return[e,t,function(n){return n}]}function xA(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=b_e(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function TOe(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=i3e(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function COe(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t],a=r[0];if(a==="M"&&n){var i=n[0],o=[r[1],r[2]],s=void 0;i==="L"||i==="M"?s=[n[1],n[2]]:(i==="C"||i==="A"||i==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&zy(o,s)&&(e.splice(t,1),t--)}}}function MOe(e){for(var t=!1,n=e.length,r=0;r<n;r++){var a=e[r],i=a[0];if(i==="C"||i==="A"||i==="Q"){t=!0;break}}return t}function POe(e){for(var t=[],n=[],r=[],a=0;a<e.length;a++){var i=e[a],o=i[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([i[1],i[2]])):o==="Z"?r.length&&(t.push(r),r=[]):r.push([i[1],i[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}function zy(e,t){return e[0]===t[0]&&e[1]===t[1]}function IOe(e,t){for(var n=[],r=[],a=[],i=0;i<e.length;i++){var o=e[i],s=o.currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=o3e(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=n3e(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;u=JSe(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(o.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0}),r=r.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0});var d=xy(n),h=xy(r),p=yy(n),v=yy(r);if(a.length===0)return{x:d,y:h,width:p-d,height:v-h};for(var g=0;g<a.length;g++){var m=a[g],y=m.currentPoint,x=void 0;y[0]===d?(x=Sg(m,t),d-=x.xExtra):y[0]===p&&(x=Sg(m,t),p+=x.xExtra),y[1]===h?(x=Sg(m,t),h-=x.yExtra):y[1]===v&&(x=Sg(m,t),v+=x.yExtra)}return{x:d,y:h,width:p-d,height:v-h}}function Sg(e,t){var n=e.prePoint,r=e.currentPoint,a=e.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2),s=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),l=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Gp(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(a[1]-r[1],a[0]-r[0])),u=Math.abs(Math.atan2(a[0]-r[0],a[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var f={xExtra:Math.cos(l/2-c)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(u-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function P6(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var I6=function(t,n){var r=t.x*n.x+t.y*n.y,a=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),i=t.x*n.y-t.y*n.x<0?-1:1,o=i*Math.acos(r/a);return o},R6=function(t,n,r,a,i,o,s,l){n=Math.abs(n),r=Math.abs(r),a=u9(a,360);var c=Xn(a);if(t.x===s.x&&t.y===s.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(t.x-s.x)/2,f=(t.y-s.y)/2,d={x:Math.cos(c)*u+Math.sin(c)*f,y:-Math.sin(c)*u+Math.cos(c)*f},h=Math.pow(d.x,2)/Math.pow(n,2)+Math.pow(d.y,2)/Math.pow(r,2);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(d.y,2)-Math.pow(r,2)*Math.pow(d.x,2),v=Math.pow(n,2)*Math.pow(d.y,2)+Math.pow(r,2)*Math.pow(d.x,2),g=p/v;g=g<0?0:g;var m=(i!==o?1:-1)*Math.sqrt(g),y={x:m*(n*d.y/r),y:m*(-(r*d.x)/n)},x={x:Math.cos(c)*y.x-Math.sin(c)*y.y+(t.x+s.x)/2,y:Math.sin(c)*y.x+Math.cos(c)*y.y+(t.y+s.y)/2},b={x:(d.x-y.x)/n,y:(d.y-y.y)/r},_=I6({x:1,y:0},b),E={x:(-d.x-y.x)/n,y:(-d.y-y.y)/r},w=I6(b,E);!o&&w>0?w-=2*Math.PI:o&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var A=_+w*l,S=n*Math.cos(A),O=r*Math.sin(A),k={x:Math.cos(c)*S-Math.sin(c)*O+x.x,y:Math.sin(c)*S+Math.cos(c)*O+x.y,ellipticalArcStartAngle:_,ellipticalArcEndAngle:_+w,ellipticalArcAngle:A,ellipticalArcCenter:x,resultantRx:n,resultantRy:r};return k};function ROe(e){for(var t=[],n=null,r=null,a=null,i=0,o=e.length,s=0;s<o;s++){var l=e[s];r=e[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":a=[l[1],l[2]],i=s;break;case"A":var f=DOe(n,l);u.arcParams=f;break}if(c==="Z")n=a,r=e[i+1];else{var d=l.length;n=[l[d-2],l[d-1]]}r&&r[0]==="Z"&&(r=e[i],t[i]&&(t[i].prePoint=n)),u.currentPoint=n,t[i]&&zy(n,t[i].currentPoint)&&(t[i].prePoint=u.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=h;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if(c==="Q"){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if(c==="T"){var g=t[s-1],m=P6(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(c==="C"){var y=[l[1],l[2]],x=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-x[0],n[1]-x[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[y[0]-x[0],y[1]-x[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[x[0]-y[0],x[1]-y[1]])}else if(c==="S"){var b=t[s-1],_=P6(b.currentPoint,p),E=[l[1],l[2]];b.command==="C"?(u.command="C",u.startTangent=[p[0]-_[0],p[1]-_[1]],u.endTangent=[n[0]-E[0],n[1]-E[1]]):(u.command="SQ",u.startTangent=[p[0]-E[0],p[1]-E[1]],u.endTangent=[n[0]-E[0],n[1]-E[1]])}else if(c==="A"){var w=D6(u,0),A=w.x,S=w.y,O=D6(u,1,!1),k=O.x,T=O.y;u.startTangent=[A,S],u.endTangent=[k,T]}t.push(u)}return t}function D6(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,a=r.rx,i=a===void 0?0:a,o=r.ry,s=o===void 0?0:o,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,f=R6({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},t),d=R6({x:e.prePoint[0],y:e.prePoint[1]},i,s,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),h=d.x-f.x,p=d.y-f.y,v=Math.sqrt(h*h+p*p);return{x:-h/v,y:-p/v}}function Og(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function bA(e,t){return Og(e)*Og(t)?(e[0]*t[0]+e[1]*t[1])/(Og(e)*Og(t)):1}function N6(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(bA(e,t))}function DOe(e,t){var n=t[1],r=t[2],a=u9(Xn(t[3]),Math.PI*2),i=t[4],o=t[5],s=e[0],l=e[1],c=t[6],u=t[7],f=Math.cos(a)*(s-c)/2+Math.sin(a)*(l-u)/2,d=-1*Math.sin(a)*(s-c)/2+Math.cos(a)*(l-u)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(s+c)/2+Math.cos(a)*g-Math.sin(a)*m,x=(l+u)/2+Math.sin(a)*g+Math.cos(a)*m,b=[(f-g)/n,(d-m)/r],_=[(-1*f-g)/n,(-1*d-m)/r],E=N6([1,0],b),w=N6(b,_);return bA(b,_)<=-1&&(w=Math.PI),bA(b,_)>=1&&(w=0),o===0&&w>0&&(w-=2*Math.PI),o===1&&w<0&&(w+=2*Math.PI),{cx:y,cy:x,rx:zy(e,[c,u])?0:n,ry:zy(e,[c,u])?0:r,startAngle:E,endAngle:E+w,xRotation:a,arcFlag:i,sweepFlag:o}}function NOe(e,t,n){return e.reduce(function(r,a){var i="";if(a[0]==="M"||a[0]==="L"){var o=bn(a[1],a[2],0);n&&Fr(o,o,n),i="".concat(a[0]).concat(o[0],",").concat(o[1])}else if(a[0]==="Z")i=a[0];else if(a[0]==="C"){var s=bn(a[1],a[2],0),l=bn(a[3],a[4],0),c=bn(a[5],a[6],0);n&&(Fr(s,s,n),Fr(l,l,n),Fr(c,c,n)),i="".concat(a[0]).concat(s[0],",").concat(s[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if(a[0]==="A"){var u=bn(a[6],a[7],0);n&&Fr(u,u,n),i="".concat(a[0]).concat(a[1],",").concat(a[2],",").concat(a[3],",").concat(a[4],",").concat(a[5],",").concat(u[0],",").concat(u[1])}else if(a[0]==="Q"){var f=bn(a[1],a[2],0),d=bn(a[3],a[4],0);n&&(Fr(f,f,n),Fr(d,d,n)),i="".concat(a[0]).concat(a[1],",").concat(a[2],",").concat(a[3],",").concat(a[4],"}")}return r+=i},"")}function LOe(e,t,n,r){return[["M",e,t],["L",n,r]]}function L6(e,t,n,r){var a=(-1+Math.sqrt(2))/3*4,i=e*a,o=t*a,s=n-e,l=n+e,c=r-t,u=r+t;return[["M",s,r],["C",s,r-o,n-i,c,n,c],["C",n+i,c,l,r-o,l,r],["C",l,r+o,n+i,u,n,u],["C",n-i,u,s,r+o,s,r],["Z"]]}function FOe(e,t){var n=e.map(function(r,a){return[a===0?"M":"L",r[0],r[1]]});return t&&n.push(["Z"]),n}function BOe(e,t,n,r,a){if(a){var i=Dt(a,4),o=i[0],s=i[1],l=i[2],c=i[3],u=e>0?1:-1,f=t>0?1:-1,d=u+f!==0?1:0;return[["M",u*o+n,r],["L",e-u*s+n,r],s?["A",s,s,0,0,d,e+n,f*s+r]:null,["L",e+n,t-f*l+r],l?["A",l,l,0,0,d,e+n-u*l,t+r]:null,["L",n+u*c,t+r],c?["A",c,c,0,0,d,n,t+r-f*c]:null,["L",n,f*o+r],o?["A",o,o,0,0,d,u*o+n,r]:null,["Z"]].filter(function(h){return h})}return[["M",n,r],["L",n+e,r],["L",n+e,r+t],["L",n,r+t],["Z"]]}function $Oe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLocalTransform(),n=[];switch(e.nodeName){case Se.LINE:var r=e.parsedStyle,a=r.x1,i=a===void 0?0:a,o=r.y1,s=o===void 0?0:o,l=r.x2,c=l===void 0?0:l,u=r.y2,f=u===void 0?0:u;n=LOe(i,s,c,f);break;case Se.CIRCLE:{var d=e.parsedStyle,h=d.r,p=h===void 0?0:h,v=d.cx,g=v===void 0?0:v,m=d.cy,y=m===void 0?0:m;n=L6(p,p,g,y);break}case Se.ELLIPSE:{var x=e.parsedStyle,b=x.rx,_=b===void 0?0:b,E=x.ry,w=E===void 0?0:E,A=x.cx,S=A===void 0?0:A,O=x.cy,k=O===void 0?0:O;n=L6(_,w,S,k);break}case Se.POLYLINE:case Se.POLYGON:var T=e.parsedStyle.points;n=FOe(T.points,e.nodeName===Se.POLYGON);break;case Se.RECT:var C=e.parsedStyle,M=C.width,P=M===void 0?0:M,I=C.height,L=I===void 0?0:I,z=C.x,N=z===void 0?0:z,G=C.y,Y=G===void 0?0:G,B=C.radius,F=B&&B.some(function(R){return R!==0});n=BOe(P,L,N,Y,F&&B.map(function(R){return jr(R,0,Math.min(Math.abs(P)/2,Math.abs(L)/2))}));break;case Se.PATH:var D=e.parsedStyle.d.absolutePath;n=Jt(D);break}if(n.length)return NOe(n,e,t)}var nj=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=Sy(t)}catch{n=Sy(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}COe(n);var r=MOe(n),a=POe(n),i=a.polygons,o=a.polylines,s=ROe(n),l=IOe(s,0),c=l.x,u=l.y,f=l.width,d=l.height;return{absolutePath:n,hasArc:r,segments:s,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(d)?d:0}}},jOe=sa(nj);function rj(e){return xr(e)?jOe(e):nj(e)}function zOe(e,t,n){var r=e.curve,a=t.curve;(!r||r.length===0)&&(r=qE(e.absolutePath,!1),e.curve=r),(!a||a.length===0)&&(a=qE(t.absolutePath,!1),t.curve=a);var i=[r,a];r.length!==a.length&&(i=U9(r,a));var o=RM(i[0])!==RM(i[1])?p_e(i[0]):h_e(i[0]);return[o,__e(i[1],o),function(s){return s}]}function UOe(e,t){var n;return xr(e)?n=e.split(" ").map(function(r){var a=r.split(","),i=Dt(a,2),o=i[0],s=i[1];return[Number(o),Number(s)]}):n=e,{points:n,totalLength:0,segments:[]}}function HOe(e,t){return[e.points,t.points,function(n){return n}]}var Rr=null,d0=/\s*(\w+)\(([^)]*)\)/g;function oo(e){return function(t){var n=0;return e.map(function(r){return r===Rr?t[n++]:r})}}function Ju(e){return e}var L1={matrix:["NNNNNN",[Rr,Rr,0,0,Rr,Rr,0,0,0,0,1,0,Rr,Rr,0,1],Ju],matrix3d:["NNNNNNNNNNNNNNNN",Ju],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",oo([Rr,Rr,new Gn(1)]),Ju],scaleX:["N",oo([Rr,new Gn(1),new Gn(1)]),oo([Rr,new Gn(1)])],scaleY:["N",oo([new Gn(1),Rr,new Gn(1)]),oo([new Gn(1),Rr])],scaleZ:["N",oo([new Gn(1),new Gn(1),Rr])],scale3d:["NNN",Ju],skew:["Aa",null,Ju],skewX:["A",null,oo([Rr,Kf])],skewY:["A",null,oo([Kf,Rr])],translate:["Tt",oo([Rr,Rr,_s]),Ju],translateX:["T",oo([Rr,_s,_s]),oo([Rr,_s])],translateY:["T",oo([_s,Rr,_s]),oo([_s,Rr])],translateZ:["L",oo([_s,_s,Rr])],translate3d:["TTL",Ju]};function aj(e){for(var t=[],n=e.length,r=0;r<n;r++){var a=e[r],i=a[0],o=a.slice(1);i==="translate"||i==="skew"?o.length===1&&o.push(0):i==="scale"&&o.length===1&&o.push(o[0]);var s=L1[i];if(!s)return[];var l=o.map(function(c){return wr(c)});t.push({t:i,d:l})}return t}function ij(e){if(Array.isArray(e))return aj(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(d0.lastIndex=0;n=d0.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=L1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?Kf:EOe(p)},N:yA,T:mA,L:wOe}[f.toUpperCase()](u):d={a:Kf,n:l[0],t:_s}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),d0.lastIndex===e.length)return t}return[]}function VOe(e){if(Array.isArray(e))return aj(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(d0.lastIndex=0;n=d0.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var a=n[1],i=L1[a];if(!i)return[];var o=n[2].split(","),s=i[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],f=s[c],d=void 0;if(u?d={A:function(p){return p.trim()==="0"?Kf:Q$(p)},N:ej,T:Z$,L:K$}[f.toUpperCase()](u):d={a:Kf,n:l[0],t:_s}[f],d===void 0)return[];l.push(d)}if(t.push({t:a,d:l}),d0.lastIndex===e.length)return t}return[]}function WOe(e){var t,n,r,a;switch(e.t){case"rotateX":return a=Xn(uo(e.d[0])),[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1];case"rotateY":return a=Xn(uo(e.d[0])),[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1];case"rotate":case"rotateZ":return a=Xn(uo(e.d[0])),[Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,a=Xn(uo(e.d[3]));var i=t*t+n*n+r*r;if(i===0)t=1,n=0,r=0;else if(i!==1){var o=Math.sqrt(i);t/=o,n/=o,r/=o}var s=Math.sin(a/2),l=s*Math.cos(a/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*l),2*(t*r*c-n*l),0,2*(t*n*c-r*l),1-2*(t*t+r*r)*c,2*(n*r*c+t*l),0,2*(t*r*c+n*l),2*(n*r*c-t*l),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var u=Xn(uo(e.d[0])),f=Xn(uo(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return a=Xn(uo(e.d[0])),[1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return a=Xn(uo(e.d[0])),[1,Math.tan(a),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=_o(e.d[0],0,null)||0,n=_o(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,0,1];case"translateX":return t=_o(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return n=_o(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=_o(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return t=_o(e.d[0],0,null)||0,n=_o(e.d[1],0,null)||0,r=_o(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1];case"perspective":var d=_o(e.d[0],0,null)||0,h=d?-1/d:0;return[1,0,0,0,0,1,0,0,0,0,1,h,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function GOe(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function YOe(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(WOe).reduce(GOe)}function F6(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],a=[0,0,0,1],i=[0,0,0,1];return k3e(YOe(e),t,n,r,a,i),[[t,n,r,i,a]]}var XOe=(function(){function e(r,a){for(var i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)i[o][s]+=a[o][l]*r[l][s];return i}function t(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,a,i,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=s[c];for(var u=0;u<3;u++)for(var f=0;f<3;f++)l[3][u]+=r[f]*l[f][u];var d=o[0],h=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(h*h+p*p),g[0][1]=2*(d*h-p*v),g[0][2]=2*(d*p+h*v),g[1][0]=2*(d*h+p*v),g[1][1]=1-2*(d*d+p*p),g[1][2]=2*(h*p-d*v),g[2][0]=2*(d*p-h*v),g[2][1]=2*(h*p+d*v),g[2][2]=1-2*(d*d+h*h),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(m[2][1]=i[2],l=e(l,m)),i[1]&&(m[2][1]=0,m[2][0]=i[0],l=e(l,m)),i[0]&&(m[2][0]=0,m[1][0]=i[0],l=e(l,m));for(var y=0;y<3;y++)for(var x=0;x<3;x++)l[y][x]*=a[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n})();function qOe(e){return e.toFixed(6).replace(".000000","")}function $w(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=F6(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=F6(t)),n[0]===null||r[0]===null?[[!1],[!0],function(a){return a?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(a){var i=ZOe(n[0][3],r[0][3],a[5]),o=XOe(a[0],a[1],a[2],i,a[4]),s=o.map(qOe).join(",");return s}])}function KOe(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function ZOe(e,t,n){var r=KOe(e,t);r=jr(r,-1,1);var a=[];if(r===1)a=e;else for(var i=Math.acos(r),o=Math.sin(n*i)*1/Math.sqrt(1-r*r),s=0;s<4;s++)a.push(e[s]*(Math.cos(n*i)-r*o)+t[s]*o);return a}function jw(e){return e.replace(/[XY]/,"")}function zw(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var QOe=function(t,n){return t==="perspective"&&n==="perspective"||(t==="matrix"||t==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function JOe(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var a=function(){var k=e[i],T=k.t,C=k.d,M=T.substring(0,5)==="scale"?1:0;t.push({t:T,d:C.map(function(P){return typeof P=="number"?wr(M):wr(M,P.unit)})})},i=0;i<e.length;i++)a()}var o=[],s=[],l=[];if(e.length!==t.length){var c=$w(e,t);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(var u=0;u<e.length;u++){var f=e[u].t,d=t[u].t,h=e[u].d,p=t[u].d,v=L1[f],g=L1[d],m=void 0;if(QOe(f,d)){var y=$w([e[u]],[t[u]]);o.push(y[0]),s.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===d)m=f;else if(v[2]&&g[2]&&jw(f)===jw(d))m=jw(f),h=v[2](h),p=g[2](p);else if(v[1]&&g[1]&&zw(f)===zw(d))m=zw(f),h=v[1](h),p=g[1](p);else{var x=$w(e,t);o=[x[0]],s=[x[1]],l=[["matrix",[x[2]]]];break}for(var b=[],_=[],E=[],w=0;w<h.length;w++){var A=AOe(h[w],p[w],n,!1,w);b[w]=A[0],_[w]=A[1],E.push(A[2])}o.push(b),s.push(_),l.push([m,E])}if(r){var S=o;o=s,s=S}return[o,s,function(O){return O.map(function(k,T){var C=k.map(function(M,P){return l[T][1][P](M)}).join(",");return l[T][0]==="matrix"&&C.split(",").length===16&&(l[T][0]="matrix3d"),l[T][0]==="matrix3d"&&C.split(",").length===6&&(l[T][0]="matrix"),"".concat(l[T][0],"(").concat(C,")")}).join(" ")}]}var eke=sa(function(e){if(xr(e)){if(e==="text-anchor")return[wr(0,"px"),wr(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[mA(B6(t[0])),mA(B6(t[1]))]}return[wr(e[0]||0,"px"),wr(e[1]||0,"px")]});function B6(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var HO=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ze.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ze.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ze.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ze.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ze.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ze.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ze.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ze.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ze.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ze.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ze.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ze.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ze.FILTER},{n:"clipPath",syntax:Ze.DEFINED_PATH},{n:"textPath",syntax:Ze.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ze.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ze.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ze.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ze.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ze.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ze.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ze.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ze.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ze.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ze.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ze.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ze.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ze.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ze.NUMBER,d:function(t){return t===Se.PATH||t===Se.POLYGON||t===Se.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ze.MARKER},{n:"markerEnd",syntax:Ze.MARKER},{n:"markerMid",syntax:Ze.MARKER},{n:"markerStartOffset",syntax:Ze.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ze.LENGTH,l:!0,int:!0,d:"0"}],tke=new Set(HO.filter(function(e){return!!e.l}).map(function(e){return e.n})),oj={},nke=(function(){function e(t){var n=this;Fe(this,e),this.runtime=t,HO.forEach(function(r){n.registerMetadata(r)})}return Be(e,[{key:"registerMetadata",value:function(n){[n.n].concat(Jt(n.a||[])).forEach(function(r){oj[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var i=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;rke(n,r);var s=!!a.forceUpdateGeometry;if(!s){for(var l in r)if(tke.has(l)){s=!0;break}}var c=sj(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=gu(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=gu(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=gu(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=kOe(r.filter)),c.has("radius")&&!wt(r.radius)&&(n.parsedStyle.radius=M6(r.radius,4)),c.has("lineDash")&&!wt(r.lineDash)&&(n.parsedStyle.lineDash=M6(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=UOe(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=$t({},V$)),c.has("d")&&r.d&&(n.parsedStyle.d=rj(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ze.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!Rn(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ze.DEFINED_PATH].calculator("clipPath",i,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ze.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=ij(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=eke(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ze.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!wt(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ze.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!wt(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ze.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Ze.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ze.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.geometry.dirty=!0,n.dirty(!0,!0),a.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,a=this.runtime.geometryUpdaterFactory[r];if(a){var i=n.geometry;i.contentBounds||(i.contentBounds=new na),i.renderBounds||(i.renderBounds=new na);var o=n.parsedStyle,s=a.update(o,n),l=s.cx,c=l===void 0?0:l,u=s.cy,f=u===void 0?0:u,d=s.cz,h=d===void 0?0:d,p=s.hwidth,v=p===void 0?0:p,g=s.hheight,m=g===void 0?0:g,y=s.hdepth,x=y===void 0?0:y,b=[Math.abs(v),Math.abs(m),x],_=o.stroke,E=o.lineWidth,w=E===void 0?1:E,A=o.increasedLineWidthForHitTesting,S=A===void 0?0:A,O=o.shadowType,k=O===void 0?"outer":O,T=o.shadowColor,C=o.filter,M=C===void 0?[]:C,P=o.transformOrigin,I=[c,f,h];i.contentBounds.update(I,b);var L=r===Se.POLYLINE||r===Se.POLYGON||r===Se.PATH?Math.SQRT2:.5,z=_&&!_.isNone;if(z){var N=((w||0)+(S||0))*L;b[0]+=N,b[1]+=N}if(i.renderBounds.update(I,b),T&&k&&k!=="inner"){var G=i.renderBounds,Y=G.min,B=G.max,F=o.shadowBlur,D=o.shadowOffsetX,R=o.shadowOffsetY,V=F||0,H=D||0,j=R||0,K=Y[0]-V+H,re=B[0]+V+H,ae=Y[1]-V+j,U=B[1]+V+j;Y[0]=Math.min(Y[0],K),B[0]=Math.max(B[0],re),Y[1]=Math.min(Y[1],ae),B[1]=Math.max(B[1],U),i.renderBounds.setMinMax(Y,B)}M.forEach(function(te){var he=te.name,me=te.params;if(he==="blur"){var xe=me[0].value;i.renderBounds.update(i.renderBounds.center,hu(i.renderBounds.halfExtents,i.renderBounds.halfExtents,[xe,xe,0]))}else if(he==="drop-shadow"){var be=me[0].value,De=me[1].value,ue=me[2].value,ve=i.renderBounds,ze=ve.min,We=ve.max,lt=ze[0]-ue+be,Pe=We[0]+ue+be,ct=ze[1]-ue+De,Ye=We[1]+ue+De;ze[0]=Math.min(ze[0],lt),We[0]=Math.max(We[0],Pe),ze[1]=Math.min(ze[1],ct),We[1]=Math.max(We[1],Ye),i.renderBounds.setMinMax(ze,We)}}),n.geometry.dirty=!1;var q=v<0,J=m<0,X=(q?-1:1)*(P?_o(P[0],0,n,!0):0),ce=(J?-1:1)*(P?_o(P[1],1,n,!0):0);(X||ce)&&n.setOrigin(X,ce)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===Se.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===Se.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])})();function rke(e,t){var n=sj(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}function sj(e){return e.constructor.PARSED_STYLE_LIST}var ake=(function(){function e(){Fe(this,e),this.mixer=zO}return Be(e,[{key:"calculator",value:function(n,r,a,i){return uo(a)}}])})(),ike=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a,i,o){return a instanceof fs&&(a=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,a,i),n==="clipPath"&&i.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),a}}])})(),oke=(function(){function e(){Fe(this,e),this.parser=gu,this.mixer=bOe}return Be(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof fs?a.value==="none"?Y$:X$:a}}])})(),ske=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a){return a instanceof fs?[]:a}}])})();function $6(e){var t=e.parsedStyle,n=t.fontSize;return wt(n)?null:n}var wA=(function(){function e(){Fe(this,e),this.mixer=zO}return Be(e,[{key:"calculator",value:function(n,r,a,i,o){if(nr(a))return a;if(Gn.isRelativeUnit(a.unit)){if(a.unit===Je.kPercentage)return 0;if(a.unit===Je.kEms){if(i.parentNode){var s=$6(i.parentNode);if(s)return s*=a.value,s}return 0}if(a.unit===Je.kRems){var l;if(i!=null&&(l=i.ownerDocument)!==null&&l!==void 0&&l.documentElement){var c=$6(i.ownerDocument.documentElement);if(c)return c*=a.value,c}return 0}}else return a.value}}])})(),lke=(function(){function e(){Fe(this,e),this.mixer=tj}return Be(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])})(),cke=(function(){function e(){Fe(this,e),this.mixer=tj}return Be(e,[{key:"calculator",value:function(n,r,a){return a.map(function(i){return i.value})}}])})(),uke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a,i){var o;a instanceof fs&&(a=null);var s=(o=a)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])})(),fke=(function(){function e(){Fe(this,e),this.mixer=zO}return Be(e,[{key:"calculator",value:function(n,r,a){return a.value}}])})(),dke=(function(){function e(){Fe(this,e),this.mixer=UO(0,1)}return Be(e,[{key:"calculator",value:function(n,r,a){return a.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,a=r.offsetPath,i=r.offsetDistance;if(a){var o=a.nodeName;if(o===Se.LINE||o===Se.PATH||o===Se.POLYLINE){var s=a.getPoint(i);s&&n.setLocalPosition(s.x,s.y)}}}}])})(),hke=(function(){function e(){Fe(this,e),this.mixer=UO(0,1)}return Be(e,[{key:"calculator",value:function(n,r,a){return a.value}}])})(),pke=(function(){function e(){Fe(this,e),this.parser=rj,this.mixer=zOe}return Be(e,[{key:"calculator",value:function(n,r,a){return a instanceof fs&&a.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new H0(0,0,0,0)}:a}}])})(),vke=Be(function e(){Fe(this,e),this.mixer=HOe}),gke=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.mixer=UO(0,1/0),n}return Wt(t,e),Be(t)})(wA),mke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof fs?a.value==="unset"?"":a.value:"".concat(a)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])})(),yke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a,i){var o=i.getAttribute("text");if(o){var s=o;a.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):a.value==="lowercase"?s=o.toLowerCase():a.value==="uppercase"&&(s=o.toUpperCase()),i.parsedStyle.text=s}return a.value}}])})(),Uw=new WeakMap;function xke(e,t,n){if(e){var r=typeof e=="string"?document.getElementById(e):e;Uw.has(r)&&Uw.get(r).destroy(n),Uw.set(r,t)}}var VO=typeof window<"u"&&typeof window.document<"u";function bke(e){return!!e.getAttribute}function wke(e,t){for(var n=0,r=e.length;n<r;){var a=n+r>>>1;lj(e[a],t)<0?n=a+1:r=a}return n}function lj(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var a=e.parentNode;if(a){var i=a.childNodes||[];return i.indexOf(e)-i.indexOf(t)}}return n-r}function cj(e){var t=e;do{var n,r=(n=t.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}var j6="px";function _ke(e,t,n){VO&&e.style&&(e.style.width=t+j6,e.style.height=n+j6)}function uj(e,t){if(VO)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function Eke(e){var t=uj(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function Ake(e){var t=uj(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var Ske=1,Oke={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},_A=typeof performance=="object"&&performance.now?performance:Date;function Uy(e){return e.nodeName===Se.FRAGMENT?!0:e.getRootNode().nodeName===Se.FRAGMENT}function gd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,a=!1,i=!!t&&!t.isNone,o=!!n&&!n.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(r=i,a=o):e==="visiblefill"||e==="fill"?r=!0:e==="visiblestroke"||e==="stroke"?a=!0:(e==="visible"||e==="all")&&(r=!0,a=!0),[r,a]}var kke=1,Tke=function(){return kke++},kl=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},Cke=Date.now(),Mke=function(){return kl.performance&&typeof kl.performance.now=="function"?kl.performance.now():Date.now()-Cke},dp={},z6=Date.now(),Pke=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var n=Date.now(),r=n-z6,a=r>16?0:16-r,i=Tke();return dp[i]=t,Object.keys(dp).length>1||setTimeout(function(){z6=n;var o=dp;dp={},Object.keys(o).forEach(function(s){return o[s](Mke())})},a),i},Ike=function(t){delete dp[t]},Rke=["","webkit","moz","ms","o"],fj=function(t){return typeof t!="string"?Pke:t===""?kl.requestAnimationFrame:kl["".concat(t,"RequestAnimationFrame")]},Dke=function(t){return typeof t!="string"?Ike:t===""?kl.cancelAnimationFrame:kl["".concat(t,"CancelAnimationFrame")]||kl["".concat(t,"CancelRequestAnimationFrame")]},Nke=function(t,n){for(var r=0;t[r]!==void 0;){if(n(t[r]))return t[r];r+=1}},dj=Nke(Rke,function(e){return!!fj(e)}),WO=fj(dj),hj=Dke(dj);kl.requestAnimationFrame=WO;kl.cancelAnimationFrame=hj;var Lke=(function(){function e(){Fe(this,e),this.callbacks=[]}return Be(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Promise.all(this.callbacks.map(function(i){return i.apply(void 0,r)}))}}])})(),Fke=(function(){function e(){Fe(this,e),this.callbacks=[]}return Be(e,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:(function(){var t=Au(Wa().mark(function r(){var a,i,o,s,l=arguments;return Wa().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(a=this.callbacks)[0].apply(a,l);case 1:i=c.sent,o=0;case 2:if(!(o<this.callbacks.length-1)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(i);case 3:i=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",i);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n})()}])})(),$i=(function(){function e(){Fe(this,e),this.callbacks=[]}return Be(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=arguments;this.callbacks.forEach(function(o){o.apply(void 0,i)})}}])})(),Hw=(function(){function e(){Fe(this,e),this.callbacks=[]}return Be(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(this.callbacks.length){for(var i=arguments,o=this.callbacks[0].apply(void 0,i),s=0;s<this.callbacks.length-1;s++){var l=this.callbacks[s];o=l(o)}return o}return null}}])})(),Bke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],$ke=/([\"\'])[^\'\"]+\1/;function U6(e){var t=e.fontSize,n=t===void 0?16:t,r=e.fontFamily,a=r===void 0?"sans-serif":r,i=e.fontStyle,o=i===void 0?"normal":i,s=e.fontVariant,l=s===void 0?"normal":s,c=e.fontWeight,u=c===void 0?"normal":c;return{fontSize:n,fontFamily:a,fontStyle:o,fontVariant:l,fontWeight:u}}var H6=sa(function(t){for(var n=U6(t),r=n.fontSize,a=n.fontFamily,i=n.fontStyle,o=n.fontVariant,s=n.fontWeight,l=nr(r)&&"".concat(r,"px")||"16px",c=a.split(","),u=c.length-1;u>=0;u--){var f=c[u].trim();!$ke.test(f)&&Bke.indexOf(f)<0&&(f='"'.concat(f,'"')),c[u]=f}return"".concat(i," ").concat(o," ").concat(s," ").concat(l," ").concat(c.join(","))},function(e){var t=U6(e),n=t.fontSize,r=t.fontFamily,a=t.fontStyle,i=t.fontVariant,o=t.fontWeight;return"".concat(a,"_").concat(i,"_").concat(o,"_").concat(n,"_").concat(r)}),jke=1e-6,Wh=function(t){return Math.max(t,jke)};function Vw(e,t,n){return _u(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var Jr=Cn(),zke=Cn(),Uke={scale:function(t){Kc(Jr,[t[0].value,t[1].value,1].map(function(n){return Wh(n)}))},scaleX:function(t){Kc(Jr,[t[0].value,1,1].map(function(n){return Wh(n)}))},scaleY:function(t){Kc(Jr,[1,t[0].value,1].map(function(n){return Wh(n)}))},scaleZ:function(t){Kc(Jr,[1,1,t[0].value].map(function(n){return Wh(n)}))},scale3d:function(t){Kc(Jr,[t[0].value,t[1].value,t[2].value].map(function(n){return Wh(n)}))},translate:function(t){ic(Jr,[t[0].value,t[1].value,0])},translateX:function(t){ic(Jr,[t[0].value,0,0])},translateY:function(t){ic(Jr,[0,t[0].value,0])},translateZ:function(t){ic(Jr,[0,0,t[0].value])},translate3d:function(t){ic(Jr,[t[0].value,t[1].value,t[2].value])},rotate:function(t){VE(Jr,Xn(uo(t[0])))},rotateX:function(t){A9(Jr,Xn(uo(t[0])))},rotateY:function(t){S9(Jr,Xn(uo(t[0])))},rotateZ:function(t){VE(Jr,Xn(uo(t[0])))},rotate3d:function(t){E9(Jr,Xn(uo(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){Vw(Jr,Xn(t[0].value),Xn(t[1].value))},skewX:function(t){Vw(Jr,Xn(t[0].value),0)},skewY:function(t){Vw(Jr,0,Xn(t[0].value))},matrix:function(t){HE(Jr,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){HE.apply(Dwe,[Jr].concat(Jt(t.map(function(n){return n.value}))))}},Hke=bn(1,1,1),Vke=tn(),V6={translate:function(t,n){Ne.sceneGraphService.setLocalScale(t,Hke,!1),Ne.sceneGraphService.setLocalEulerAngles(t,Vke,void 0,void 0,!1),Ne.sceneGraphService.setLocalPosition(t,[n[0].value,n[1].value,0],!1),Ne.sceneGraphService.dirtyLocalTransform(t,t.transformable)}};function pj(e,t){if(e.length){if(e.length===1&&V6[e[0].t]){V6[e[0].t](t,e[0].d);return}for(var n=_u(zke),r=0;r<e.length;r++){var a=e[r],i=a.t,o=a.d,s=Uke[i];s&&(s(o),oO(n,n,Jr))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var Wke=(function(){function e(){Fe(this,e),this.parser=VOe,this.mixer=JOe}return Be(e,[{key:"calculator",value:function(n,r,a,i){return a instanceof fs?[]:a}},{key:"postProcessor",value:function(n){pj(n.parsedStyle.transform,n)}}])})(),Gke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===Je.kPixels&&r[1].unit===Je.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])})(),Yke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"calculator",value:function(n,r,a,i){return a.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,a=r.renderable,i=r.sortable;a&&r.dirty(),i&&(i.dirty=!0,i.dirtyReason=Fy.Z_INDEX_CHANGED)}}}])})(),Xke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.r,c=l===void 0?0:l;return{cx:i,cy:s,hwidth:c,hheight:c}}}])})(),qke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n,r){var a=n.cx,i=a===void 0?0:a,o=n.cy,s=o===void 0?0:o,l=n.rx,c=l===void 0?0:l,u=n.ry,f=u===void 0?0:u;return{cx:i,cy:s,hwidth:c,hheight:f}}}])})(),Kke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n){var r=n.x1,a=n.y1,i=n.x2,o=n.y2,s=Math.min(r,i),l=Math.max(r,i),c=Math.min(a,o),u=Math.max(a,o),f=l-s,d=u-c,h=f/2,p=d/2;return{cx:s+h,cy:c+p,hwidth:h,hheight:p}}}])})(),Zke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n){var r=n.d,a=r.rect,i=a.x,o=a.y,s=a.width,l=a.height,c=s/2,u=l/2;return{cx:i+c,cy:o+u,hwidth:c,hheight:u}}}])})(),Qke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n){if(n.points&&Ra(n.points.points)){var r=n.points.points,a=Math.min.apply(Math,Jt(r.map(function(d){return d[0]}))),i=Math.max.apply(Math,Jt(r.map(function(d){return d[0]}))),o=Math.min.apply(Math,Jt(r.map(function(d){return d[1]}))),s=Math.max.apply(Math,Jt(r.map(function(d){return d[1]}))),l=i-a,c=s-o,u=l/2,f=c/2;return{cx:a+u,cy:o+f,hwidth:u,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),Jke=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.src,c=n.width,u=c===void 0?0:c,f=n.height,d=f===void 0?0:f,h=u,p=d;return l&&!xr(l)&&(h||(h=l.width,n.width=h),p||(p=l.height,n.height=p)),{cx:i+h/2,cy:s+p/2,hwidth:h/2,hheight:p/2}}}])})(),eTe=(function(){function e(t){Fe(this,e),this.globalRuntime=t}return Be(e,[{key:"isReadyToMeasure",value:function(n,r){var a=n.text;return a}},{key:"update",value:function(n,r){var a,i=n.text,o=n.textAlign,s=o===void 0?"start":o,l=n.lineWidth,c=l===void 0?1:l,u=n.textBaseline,f=u===void 0?"alphabetic":u,d=n.dx,h=d===void 0?0:d,p=n.dy,v=p===void 0?0:p,g=n.x,m=g===void 0?0:g,y=n.y,x=y===void 0?0:y;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var b=(r==null||(a=r.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0?void 0:a.getConfig())||{},_=b.offscreenCanvas,E=this.globalRuntime.textService.measureText(i,n,_);n.metrics=E;var w=E.width,A=E.height,S=w/2,O=A/2,k=m+S;s==="center"||s==="middle"?k+=c/2-S:(s==="right"||s==="end")&&(k+=c-S*2);var T=x-O;return f==="middle"?T+=O:f==="top"||f==="hanging"?T+=O*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(T+=0),h&&(k+=h),v&&(T+=v),{cx:k,cy:T,hwidth:S,hheight:O}}}])})(),tTe=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),nTe=(function(){function e(){Fe(this,e)}return Be(e,[{key:"update",value:function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=n.width,c=l===void 0?0:l,u=n.height,f=u===void 0?0:u;return{cx:i+c/2,cy:s+f/2,hwidth:c/2,hheight:f/2}}}])})(),C2=(function(){function e(t){Fe(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ri,this.page=new ri,this.canvas=new ri,this.viewport=new ri,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return Be(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Wn)}}])})(),vj=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.client=new ri,n.movement=new ri,n.offset=new ri,n.global=new ri,n.screen=new ri,n}return Wt(t,e),Be(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(Wn)}}])})(C2),EA=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.width=0,n.height=0,n.isPrimary=!1,n}return Wt(t,e),Be(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])})(vj),AA=(function(e){function t(){return Fe(this,t),Vt(this,t,arguments)}return Wt(t,e),Be(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])})(vj),Fn=(function(e){function t(n,r){var a;return Fe(this,t),a=Vt(this,t,[null]),a.type=n,a.detail=r,Object.assign(a,r),a}return Wt(t,e),Be(t)})(C2),gj=(function(){function e(){Fe(this,e),this.emitter=new D$}return Be(e,[{key:"on",value:function(n,r,a){return this.addEventListener(n,r,a),this}},{key:"addEventListener",value:function(n,r,a){var i=!1,o=!1;if(OM(a))i=a;else if(a){var s=a.capture;i=s===void 0?!1:s;var l=a.once;o=l===void 0?!1:l}i&&(n+="capture"),r=va(r)?r:r.handleEvent;var c=va(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,a){return n?this.removeEventListener(n,r,a):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,a){var i;if(!this.emitter)return this;var o=OM(a)?a:a==null?void 0:a.capture;o&&(n+="capture"),r=va(r)?r:(i=r)===null||i===void 0?void 0:i.handleEvent;var s=va(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new Fn(n,r))}},{key:"dispatchEventToSelf",value:function(n){n.target||(n.target=this),n.currentTarget=this,this.emitter.emit(n.type,n)}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0;if(a)return this.dispatchEventToSelf(n),!0;var i;if(this.document)i=this;else if(this.defaultView)i=this.defaultView;else{var o;i=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(i){if(n.manager=i.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.dispatchEventToSelf(n);return!n.defaultPrevented}}])})(),Ar=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n.destroyed=!1,n}return Wt(t,e),Be(t,[{key:"textContent",get:function(){var r="";this.nodeName===Se.TEXT&&(r+=this.style.text);var a=pf(this.childNodes),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o.nodeName===Se.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){a.e(s)}finally{a.f()}return r},set:function(r){var a=this;this.childNodes.slice().forEach(function(i){a.removeChild(i)}),this.nodeName===Se.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(Wn)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(Wn)}},{key:"lookupPrefix",value:function(r){throw new Error(Wn)}},{key:"normalize",value:function(){throw new Error(Wn)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var a=r,i=this,o=[a],s=[i];(l=a.parentNode)!==null&&l!==void 0?l:i.parentNode;){var l;a=a.parentNode?(o.push(a.parentNode),a.parentNode):a,i=i.parentNode?(s.push(i.parentNode),i.parentNode):i}if(a!==i)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,u=c===o?s:o;if(c[c.length-u.length]===u[0])return c===o?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=c.length-u.length,d=u.length-1;d>=0;d--){var h=u[d],p=c[f+d];if(p!==h){var v=h.parentNode.childNodes;return v.indexOf(h)<v.indexOf(p)?u===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:c===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var a=r;a&&this!==a;)a=a.parentNode;return!!a}},{key:"getAncestor",value:function(r){for(var a=this;r>0&&a;)a=a.parentNode,r--;return a}},{key:"forEach",value:function(r){for(var a=[this];a.length>0;){var i=a.pop(),o=r(i);if(o===!1)break;for(var s=i.childNodes.length-1;s>=0;s--)a.push(i.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])})(gj);Ar.DOCUMENT_POSITION_DISCONNECTED=1;Ar.DOCUMENT_POSITION_PRECEDING=2;Ar.DOCUMENT_POSITION_FOLLOWING=4;Ar.DOCUMENT_POSITION_CONTAINS=8;Ar.DOCUMENT_POSITION_CONTAINED_BY=16;Ar.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var rTe=2048,aTe=(function(){function e(t,n){var r=this;Fe(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=Cn(),this.tmpVec3=tn(),this.onPointerDown=function(a){var i=r.createPointerEvent(a);if(r.dispatchEvent(i,"pointerdown"),i.pointerType==="touch")r.dispatchEvent(i,"touchstart");else if(i.pointerType==="mouse"||i.pointerType==="pen"){var o=i.button===2;r.dispatchEvent(i,o?"rightdown":"mousedown")}var s=r.trackingData(a.pointerId);s.pressTargetsByButton[a.button]=i.composedPath(),r.freeEvent(i)},this.onPointerUp=function(a){var i=_A.now(),o=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var l=r.trackingData(a.pointerId),c=r.findMountedTarget(l.pressTargetsByButton[a.button]),u=c;if(c&&!o.composedPath().includes(c)){for(var f=c;f&&!o.composedPath().includes(f);){if(o.currentTarget=f,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var d=o.button===2;r.notifyTarget(o,d?"rightupoutside":"mouseupoutside")}Ar.isNode(f)&&(f=f.parentNode)}delete l.pressTargetsByButton[a.button],u=f}if(u){var h,p=r.clonePointerEvent(o,"click");p.target=u,p.path=[],l.clicksByButton[a.button]||(l.clicksByButton[a.button]={clickCount:0,target:p.target,timeStamp:i});var v=r.context.renderingContext.root.ownerDocument.defaultView,g=l.clicksByButton[a.button];g.target===p.target&&i-g.timeStamp<v.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=p.target,g.timeStamp=i,p.detail=g.clickCount,(h=o.detail)!==null&&h!==void 0&&h.preventClick||(!r.context.config.useNativeClickEvent&&(p.pointerType==="mouse"||p.pointerType==="touch")&&r.dispatchEvent(p,"click"),r.dispatchEvent(p,"pointertap")),r.freeEvent(p)}r.freeEvent(o)},this.onPointerMove=function(a){var i=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.trackingData(a.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==i.target){var c=a.type==="mousemove"?"mouseout":"pointerout",u=r.createPointerEvent(a,c,l||void 0);if(r.dispatchEvent(u,"pointerout"),o&&r.dispatchEvent(u,"mouseout"),!i.composedPath().includes(l)){var f=r.createPointerEvent(a,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!i.composedPath().includes(f.target);)f.currentTarget=f.target,r.notifyTarget(f),o&&r.notifyTarget(f,"mouseleave"),Ar.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(u)}if(l!==i.target){var d=a.type==="mousemove"?"mouseover":"pointerover",h=r.clonePointerEvent(i,d);r.dispatchEvent(h,"pointerover"),o&&r.dispatchEvent(h,"mouseover");for(var p=l&&Ar.isNode(l)&&l.parentNode;p&&p!==(Ar.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&p!==i.target;)p=p.parentNode;var v=!p||p===(Ar.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(v){var g=r.clonePointerEvent(i,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(Ar.isNode(r.rootTarget)&&r.rootTarget.parentNode);)g.currentTarget=g.target,r.notifyTarget(g),o&&r.notifyTarget(g,"mouseenter"),Ar.isNode(g.target)&&(g.target=g.target.parentNode);r.freeEvent(g)}r.freeEvent(h)}r.dispatchEvent(i,"pointermove"),i.pointerType==="touch"&&r.dispatchEvent(i,"touchmove"),o&&(r.dispatchEvent(i,"mousemove"),r.cursor=r.getCursor(i.target)),s.overTargets=i.composedPath(),r.freeEvent(i)},this.onPointerOut=function(a){var i=r.trackingData(a.pointerId);if(i.overTargets){var o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.findMountedTarget(i.overTargets),l=r.createPointerEvent(a,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var c=r.createPointerEvent(a,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(Ar.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),Ar.isNode(c.target)&&(c.target=c.target.parentNode);i.overTargets=null,r.freeEvent(l),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(a){var i=r.trackingData(a.pointerId),o=r.createPointerEvent(a),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(Ar.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),Ar.isNode(l.target)&&(l.target=l.target.parentNode);i.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(a){var i=r.trackingData(a.pointerId),o=r.findMountedTarget(i.pressTargetsByButton[a.button]),s=r.createPointerEvent(a);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),Ar.isNode(l)&&(l=l.parentNode);delete i.pressTargetsByButton[a.button]}r.freeEvent(s)},this.onWheel=function(a){var i=r.createWheelEvent(a);r.dispatchEvent(i),r.freeEvent(i)},this.onClick=function(a){if(r.context.config.useNativeClickEvent){var i=r.createPointerEvent(a);r.dispatchEvent(i),r.freeEvent(i)}},this.onPointerCancel=function(a){var i=r.createPointerEvent(a,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(i),r.freeEvent(i)},this.globalRuntime=t,this.context=n}return Be(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,a=1,i=this.context.contextService.getDomElement();if(i&&n){var o=i.offsetWidth,s=i.offsetHeight;o&&s&&(r=n.width/o,a=n.height/s)}return{scaleX:r,scaleY:a,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),a=r.scaleX,i=r.scaleY,o=r.bbox;return new ri((n.x-((o==null?void 0:o.left)||0))/a,(n.y-((o==null?void 0:o.top)||0))/i)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),a=r.scaleX,i=r.scaleY,o=r.bbox;return new ri((n.x+((o==null?void 0:o.left)||0))*a,(n.y+((o==null?void 0:o.top)||0))*i)}},{key:"viewport2Canvas",value:function(n){var r=n.x,a=n.y,i=this.rootTarget.defaultView,o=i.getCamera(),s=this.context.config,l=s.width,c=s.height,u=o.getPerspectiveInverse(),f=o.getWorldTransform(),d=Ti(this.tmpMatrix,f,u),h=Ei(this.tmpVec3,r/l*2-1,(1-a/c)*2-1,0);return Fr(h,h,d),new ri(h[0],h[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,a=r.getCamera(),i=a.getPerspective(),o=a.getViewTransform(),s=Ti(this.tmpMatrix,i,o),l=Ei(this.tmpVec3,n.x,n.y,0);Fr(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,u=c.width,f=c.height;return new ri((l[0]+1)/2*u,(1-(l[1]+1)/2)*f)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(a,i){return a.priority-i.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var a=0,i=r.length;a<i;a++)r[a].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,a){if(!a)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var i=this.rootTarget.defaultView||null;n.currentTarget=i,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var a=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var i=a.length-1;i>=1;i--)if(n.currentTarget=a[i],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var o=a.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var s=o+1;s<a.length;s++)if(n.currentTarget=a[s],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],a=this.rootTarget.defaultView||null;if(a&&a===n)return r.unshift(a.document),r;for(var i=0;i<rTe&&n!==this.rootTarget;i++)Ar.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return a&&r.push(a),r}},{key:"hitTest",value:function(n){var r=n.viewportX,a=n.viewportY,i=this.context.config,o=i.width,s=i.height,l=i.disableHitTesting;return r<0||a<0||r>o||a>s?null:!l&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var a,i=r==null?void 0:r.target;if((a=i)!==null&&a!==void 0&&a.shadowRoot&&(i=r.composedPath()[0]),i){if(i===n)return!0;if(n&&n.contains)return n.contains(i)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,a=n.nativeEvent.composedPath();r<a.length;r++){var i=a[r],o=this.nativeHTMLMap.get(i);if(o)return o}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,a,i){var o=this.allocateEvent(EA);this.copyPointerData(n,o),this.copyMouseData(n,o),this.copyData(n,o),o.nativeEvent=n.nativeEvent,o.originalEvent=n;var s=this.getExistedHTML(o),l=this.context.contextService.getDomElement();return o.target=a??(s||this.isNativeEventFromCanvas(l,o.nativeEvent)&&this.pickTarget(o)||i),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(AA);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var a=this.getExistedHTML(r),i=this.context.contextService.getDomElement();return r.target=a||this.isNativeEventFromCanvas(i,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(AA);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var a=this.allocateEvent(EA);return a.nativeEvent=n.nativeEvent,a.originalEvent=n.originalEvent,this.copyPointerData(n,a),this.copyMouseData(n,a),this.copyData(n,a),a.target=n.target,a.path=n.composedPath().slice(),a.type=r??a.type,a}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=_A.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r??n.type;var a=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,a),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var a=n.currentTarget.emitter,i=a._events[r];if(i)if("fn"in i)i.once&&a.removeListener(r,i.fn,void 0,!0),i.fn.call(n.currentTarget||i.context,n);else for(var o=0;o<i.length&&!n.propagationImmediatelyStopped;o++)i[o].once&&a.removeListener(r,i[o].fn,void 0,!0),i[o].fn.call(n.currentTarget||i[o].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],a=n.length-2;a>=0;a--){var i=n[a];if(i===this.rootTarget||Ar.isNode(i)&&i.parentNode===r)r=n[a];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var a=bke(r)&&r.getAttribute("cursor");if(a)return a;r=Ar.isNode(r)&&r.parentNode}}}])})(),GO=(function(){function e(){Fe(this,e)}return Be(e,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||Ne.offscreenCanvas)this.canvas=n||Ne.offscreenCanvas,this.context=this.canvas.getContext("2d",$t({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",$t({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",$t({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])})(),h0=(function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e})({}),iTe=(function(){function e(t,n){Fe(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new $i,initAsync:new Lke,dirtycheck:new Hw,cull:new Hw,beginFrame:new $i,beforeRender:new $i,render:new $i,afterRender:new $i,endFrame:new $i,destroy:new $i,pick:new Fke,pickSync:new Hw,pointerDown:new $i,pointerUp:new $i,pointerMove:new $i,pointerOut:new $i,pointerOver:new $i,pointerWheel:new $i,pointerCancel:new $i,click:new $i},this.globalRuntime=t,this.context=n}return Be(e,[{key:"init",value:function(n){var r=this,a=$t($t({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(i){i.apply(a,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(i){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),a=r.enableDirtyRectangleRendering;return!a||this.context.renderingContext.renderReasons.has(h0.CAMERA_CHANGED)}},{key:"render",value:function(n,r,a){var i=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=o.renderReasons.size===1&&o.renderReasons.has(h0.CAMERA_CHANGED),l=!n.disableRenderHooks||!s;l&&this.renderDisplayObject(o.root,n,o),this.hooks.beginFrame.call(r),l&&o.renderListCurrentFrame.forEach(function(c){i.hooks.beforeRender.call(c),i.hooks.render.call(c),i.hooks.afterRender.call(c)}),this.hooks.endFrame.call(r),o.renderListCurrentFrame=[],o.renderReasons.clear(),a()}}},{key:"renderDisplayObject",value:function(n,r,a){var i=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,l=o.enableCulling;function c(v){var g=v.renderable,m=v.sortable,y=s?g.dirty||a.dirtyRectangleRenderingDisabled?v:null:v,x=null;y&&(x=l?i.hooks.cull.call(y,i.context.camera):y,x&&(i.stats.rendered+=1,a.renderListCurrentFrame.push(x))),v.dirty(!1),m.renderOrder=i.zIndexCounter,i.zIndexCounter+=1,i.stats.total+=1,m.dirty&&(i.sort(v,m),m.dirty=!1,m.dirtyChildren=[],m.dirtyReason=void 0)}for(var u=[n];u.length>0;){var f,d=u.pop();c(d);for(var h=((f=d.sortable)===null||f===void 0||(f=f.sorted)===null||f===void 0?void 0:f.length)>0?d.sortable.sorted:d.childNodes,p=h.length-1;p>=0;p--)u.push(h[p])}}},{key:"sort",value:function(n,r){var a,i;(r==null||(a=r.sorted)===null||a===void 0?void 0:a.length)>0&&r.dirtyReason!==Fy.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var l=n.childNodes.indexOf(o);if(l>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=wke(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=n.childNodes.slice().sort(lj),((i=r.sorted)===null||i===void 0?void 0:i.length)>0&&n.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(h0.DISPLAY_OBJECT_CHANGED)}}])})(),oTe=/\[\s*(.*)=(.*)\s*\]/,sTe=(function(){function e(){Fe(this,e)}return Be(e,[{key:"selectOne",value:function(n,r){var a=this;if(n.startsWith("."))return r.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(l){return l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===n})}},{key:"selectAll",value:function(n,r){var a=this;if(n.startsWith("."))return r.findAll(function(l){return r!==l&&((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var i=this.getAttribute(n),o=i.name,s=i.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:a.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var a=this.getAttribute(n),i=a.name,o=a.value;return i==="name"?r.name===o:this.attributeToString(r,i)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(oTe),a="",i="";return r&&r.length>2&&(a=r[1].replace(/"/g,""),i=r[2].replace(/"/g,"")),{name:a,value:i}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var a=n.getAttribute(r);return wt(a)?"":a.toString?a.toString():""}}])})(),Xt=(function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e})({}),Nl=(function(e){function t(n,r,a,i,o,s,l,c){var u;return Fe(this,t),u=Vt(this,t,[null]),u.relatedNode=r,u.prevValue=a,u.newValue=i,u.attrName=o,u.attrChange=s,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return Wt(t,e),Be(t)})(C2);Nl.ADDITION=2;Nl.MODIFICATION=1;Nl.REMOVAL=3;var lTe=new Nl(Xt.REPARENT,null,"","","",0,"",""),cTe=sO(),kg=tn(),uTe=bn(1,1,1),fTe=Cn(),dTe=sO(),ef=tn(),hTe=Cn(),tf=ha(),pTe=tn(),vTe=ha(),gTe=tn(),Gh=tn(),nf=tn(),Tg=Cn(),W6=ha(),G6=ha(),Cg=ha(),Mg={affectChildren:!0},mTe=(function(){function e(t){Fe(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Fn(Xt.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return Be(e,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,a){var i,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===Se.FRAGMENT,l=Uy(r);n.parentNode=r;var c=s?n.childNodes:[n];nr(a)?c.forEach(function(v){r.childNodes.splice(a,0,v),v.parentNode=r}):c.forEach(function(v){r.childNodes.push(v),v.parentNode=r});var u=r,f=u.sortable;if((f!=null&&(i=f.sorted)!==null&&i!==void 0&&i.length||f.dirty||n.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(n)===-1&&f.dirtyChildren.push(n),f.dirty=!0,f.dirtyReason=Fy.ADDED),!l){if(s)this.dirtifyFragment(n);else{var d=n.transformable;d&&this.dirtyWorldTransform(n,d)}if(o){var h,p=((h=r.ownerDocument)===null||h===void 0||(h=h.defaultView)===null||h===void 0||(h=h.getConfig())===null||h===void 0||(h=h.future)===null||h===void 0?void 0:h.experimentalCancelEventPropagation)===!0;n.dispatchEvent(lTe,p,p)}}}},{key:"detach",value:function(n){var r,a;if(n.parentNode){var i=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(a=n.style)!==null&&a!==void 0&&a.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=Fy.REMOVED);var l=n.parentNode.childNodes.indexOf(n);l>-1&&n.parentNode.childNodes.splice(l,1),i&&this.dirtyWorldTransform(n,i),n.parentNode=null}}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return x6(r),r.localTransform}},{key:"setLocalPosition",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Gh[0]=r[0],Gh[1]=r[1],Gh[2]=(a=r[2])!==null&&a!==void 0?a:0,!$h(o.localPosition,Gh)&&(xl(o.localPosition,Gh),i&&this.dirtyLocalTransform(n,o))}},{key:"translateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=bn(r,a,i));var o=n.transformable;$h(r,kg)||($we(r,r,o.localRotation),hu(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(n,o))}},{key:"setLocalRotation",value:function(n,r,a,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=N9(tf,r,a,i,o));var l=n.transformable;yg(l.localRotation,r),s&&this.dirtyLocalTransform(n,l)}},{key:"rotateLocal",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=bn(r,a,i));var o=n.transformable;mg(G6,r[0],r[1],r[2]),CM(o.localRotation,o.localRotation,G6),this.dirtyLocalTransform(n,o)}},{key:"setLocalScale",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Ei(ef,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:o.localScale[2]),!$h(ef,o.localScale)&&(xl(o.localScale,ef),i&&this.dirtyLocalTransform(n,o))}},{key:"scaleLocal",value:function(n,r){var a,i=n.transformable;Nwe(i.localScale,i.localScale,Ei(ef,r[0],r[1],(a=r[2])!==null&&a!==void 0?a:1)),this.dirtyLocalTransform(n,i)}},{key:"setLocalSkew",value:function(n,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=Ywe(dTe,r,a));var o=n.transformable;Gwe(o.localSkew,r),i&&this.dirtyLocalTransform(n,o)}},{key:"setLocalEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=bn(r,a,i));var s=n.transformable;mg(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(n,s)}},{key:"setLocalTransform",value:function(n,r){var a=wy(pTe,r),i=_y(vTe,r),o=N0(gTe,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,a,!1),this.setLocalRotation(n,i,void 0,void 0,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,uTe,!1),this.setLocalPosition(n,kg,!1),this.setLocalEulerAngles(n,kg,void 0,void 0,!1),this.setLocalSkew(n,cTe,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"getPosition",value:function(n){var r=n.transformable;return wy(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return _y(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return N0(r.scaling,this.getWorldTransform(n,r))}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.internalUpdateTransform(n)),r.worldTransform}},{key:"setPosition",value:function(n,r){var a,i=n.transformable;if(nf[0]=r[0],nf[1]=r[1],nf[2]=(a=r[2])!==null&&a!==void 0?a:0,!$h(this.getPosition(n),nf)){if(xl(i.position,nf),n.parentNode===null||!n.parentNode.transformable)xl(i.localPosition,nf);else{var o=n.parentNode.transformable;D0(Tg,o.worldTransform),Rs(Tg,Tg),Fr(i.localPosition,nf,Tg)}this.dirtyLocalTransform(n,i)}}},{key:"translate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Ei(ef,r,a,i)),!$h(r,kg)&&(hu(ef,this.getPosition(n),r),this.setPosition(n,ef))}},{key:"setRotation",value:function(n,r,a,i,o){var s=n.transformable;if(typeof r=="number"&&(r=Wwe(r,a,i,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var l=this.getRotation(n.parentNode);yg(tf,l),ww(tf,tf),pu(s.localRotation,tf,r),Ay(s.localRotation,s.localRotation),this.dirtyLocalTransform(n,s)}}},{key:"rotate",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=bn(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=tf;mg(s,r[0],r[1],r[2]);var l=this.getRotation(n),c=this.getRotation(n.parentNode);yg(Cg,c),ww(Cg,Cg),pu(s,Cg,s),pu(o.localRotation,s,l),Ay(o.localRotation,o.localRotation),this.dirtyLocalTransform(n,o)}}},{key:"setOrigin",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,a,i]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(n,o)}}},{key:"setEulerAngles",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=bn(r,a,i));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{mg(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);yg(W6,ww(tf,s)),CM(o.localRotation,o.localRotation,W6),this.dirtyLocalTransform(n,o)}}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0,i=this.getGeometryBounds(n,r);if(!na.isEmpty(i)){var o=a||new na;return o.setFromTransformedAABB(i,this.getWorldTransform(n)),o}return null}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,i=a.geometry;i.dirty&&Ne.styleValueRegistry.updateGeometry(n);var o=r?i.renderBounds:i.contentBounds||null;return o||new na}},{key:"getBounds",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,o=i.renderable;if(!o.boundsDirty&&!a&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&a&&o.renderBounds)return o.renderBounds;var s=a?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(n,a,s),c=n.childNodes;if(c.forEach(function(d){var h=r.getBounds(d,a);h&&(l?l.add(h):(l=s||new na,l.update(h.center,h.halfExtents)))}),l||(l=new na),a){var u=cj(n);if(u){var f=u.parsedStyle.clipPath.getBounds(a);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return a?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=fTe;n.parentNode.transformable&&(r=Rs(hTe,this.getWorldTransform(n.parentNode)));var a=this.getBounds(n);if(!na.isEmpty(a)){var i=new na;return i.setFromTransformedAABB(a,r),i}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,a,i=this.getGeometryBounds(n);na.isEmpty(i)||(a=new na,a.setFromTransformedAABB(i,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(a){var s=a.getMin(),l=Dt(s,2),c=l[0],u=l[1],f=a.getMax(),d=Dt(f,2),h=d[0],p=d[1];return new H0(c+((o==null?void 0:o.left)||0),u+((o==null?void 0:o.top)||0),h-c,p-u)}return new H0((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(n){var r,a=(r=n.parentNode)===null||r===void 0?void 0:r.transformable;x6(n.transformable),R3e(n.transformable,a)}},{key:"internalUpdateElement",value:function(n,r){var a,i,o,s,l=((a=n.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig())===null||a===void 0||(a=a.future)===null||a===void 0?void 0:a.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],u=(c==null?void 0:c.transformDirty)||((i=n.transformable)===null||i===void 0?void 0:i.localDirtyFlag);if(n.transformable){var f;(f=n.transformable).dirtyFlag||(f.dirtyFlag=u)}if(this.internalUpdateTransform(n),u){var d;(d=n.dirty)===null||d===void 0||d.call(n,!0,!0)}var h=((o=n.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=n.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((u||h)&&(c==null?void 0:c.shapeUpdated)===!1&&l)for(var p=r.length-1;p>=0;){var v,g,m=r[p];if(m.shapeUpdated)break;(v=(g=m.node).dirty)===null||v===void 0||v.call(g,!0,!0),m.shapeUpdated=!0,p-=1}return u}},{key:"syncHierarchy",value:function(n){for(var r,a,i=[n],o=n.parentNode?[{node:n.parentNode,transformDirty:((r=n.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((a=n.parentNode.transformable)===null||a===void 0?void 0:a.dirtyFlag),shapeUpdated:!1}]:[];i.length>0;){for(var s=i.pop(),l=o[o.length-1];o.length>0&&s.parentNode!==l.node;)l=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var u=s.childNodes.length-1;u>=0;u--)i.push(s.childNodes[u]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(n,r){Uy(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(n,r))}},{key:"dirtyWorldTransform",value:function(n,r){this.dirtifyWorldInternal(n,r),this.dirtyToRoot(n,!0)}},{key:"dirtifyWorldInternal",value:function(n,r){var a,i=this,o=((a=n.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig())===null||a===void 0||(a=a.future)===null||a===void 0?void 0:a.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,n.dirty(!0,!0),o||n.childNodes.forEach(function(s){var l=s.transformable;i.dirtifyWorldInternal(s,l)}))}},{key:"dirtyToRoot",value:function(n){for(var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,o=((r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;i;){var s,l;if((s=(l=i).dirty)===null||s===void 0||s.call(l,!0,!0),o)break;i=i.parentNode}a&&n.forEach(function(c){var u;(u=c.dirty)===null||u===void 0||u.call(c,!0,!0)}),this.informDependentDisplayObjects(n),this.pendingEvents.set(n,a)}},{key:"dirtifyFragment",value:function(n){var r,a,i=n.transformable;i&&(i.dirtyFlag=!0,i.localDirtyFlag=!0),(r=(a=n).dirty)===null||r===void 0||r.call(a,!0,!0);for(var o=n.childNodes.length,s=0;s<o;s++)this.dirtifyFragment(n.childNodes[s]);n.nodeName===Se.FRAGMENT&&this.pendingEvents.set(n,!1)}},{key:"triggerPendingEvents",value:function(){var n=this,r=new Set,a,i,o=function(l,c){if(!(!l.isConnected||r.has(l)||l.nodeName===Se.FRAGMENT)){if(n.boundsChangedEvent.detail=c,n.boundsChangedEvent.target=l,l.isMutationObserved)l.dispatchEvent(n.boundsChangedEvent);else{if(a===void 0){var u;a=((u=l.ownerDocument.defaultView)===null||u===void 0||(u=u.getConfig())===null||u===void 0||(u=u.future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0}l.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0,a)}r.add(l)}};this.pendingEvents.forEach(function(s,l){if(l.nodeName!==Se.FRAGMENT){if(i===void 0){var c;i=((c=l.ownerDocument)===null||c===void 0||(c=c.defaultView)===null||c===void 0||(c=c.getConfig())===null||c===void 0||(c=c.future)===null||c===void 0?void 0:c.experimentalAttributeUpdateOptimization)===!0}Mg.affectChildren=s,i?o(l,Mg):s?l.forEach(function(u){o(u,Mg)}):o(l,Mg)}}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(n,r,a,i){if(r&&r!==a){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(i);o[n].splice(s,1)}}if(a){var l=this.displayObjectDependencyMap.get(a);l||(this.displayObjectDependencyMap.set(a,{}),l=this.displayObjectDependencyMap.get(a)),l[n]||(l[n]=[]),l[n].push(i)}}},{key:"informDependentDisplayObjects",value:function(n){var r,a=this,i=this.displayObjectDependencyMap.get(n);if(i){var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(i).forEach(function(s){i[s].forEach(function(l){a.dirtyToRoot(l,!0),l.dispatchEvent(new Nl(Xt.ATTR_MODIFIED,l,a,a,s,Nl.MODIFICATION,a,a),o,o),l.isCustomElement&&l.isConnected&&l.attributeChangedCallback&&l.attributeChangedCallback(s,a,a)})})}}}])})(),Y6=(function(){function e(t){if(Fe(this,e),t<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=t,this.cache=new Map}return Be(e,[{key:"get",value:function(n){if(this.cache.has(n)){var r=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,r),r}}},{key:"put",value:function(n,r){if(this.cache.has(n)&&this.cache.delete(n),this.cache.set(n,r),this.cache.size>this.capacity){var a=this.cache.keys().next().value;this.cache.delete(a)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])})(),rf={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},X6=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,yTe=/[!%),.:;?\]}'""]/,xTe=/[$('"]/,bTe=/[!),.:;?\]}'""]/,wTe=/[([{'"]/,_Te=/[)\]'"?!:;,.]/,ETe=/[(['"...]/,ATe=/[!%),.:;?\]}'"]/,STe=/[$([{'"#]/,OTe=new RegExp("".concat(yTe.source,"|").concat(bTe.source,"|").concat(_Te.source,"|").concat(ATe.source)),kTe=new RegExp("".concat(xTe.source,"|").concat(wTe.source,"|").concat(ETe.source,"|").concat(STe.source)),TTe=(function(){function e(t){var n=this;Fe(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,a){return n.isBreakingSpace(a)?!1:!!(r&&(kTe.exec(a)||OTe.exec(r)))},this.trimByKinsokuShorui=function(r){var a=Jt(r),i=a[a.length-2];if(!i)return r;var o=i[i.length-1];return a[a.length-2]=i.slice(0,-1),a[a.length-1]=o+a[a.length-1],a},this.runtime=t,this.charWidthCache=new Y6(100)}return Be(e,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var a={ascent:0,descent:0,fontSize:0},i=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=rf.MetricsString+rf.BaselineSymbol,l=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(rf.BaselineSymbol).width),u=rf.HeightMultiplier*c;c=c*rf.BaselineMultiplier|0,i.width=l,i.height=u,o.fillStyle="#f00",o.fillRect(0,0,l,u),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var f=o.getImageData(0,0,l||1,u||1).data,d=f.length,h=l*4,p=0,v=0,g=!1;for(p=0;p<c;++p){for(var m=0;m<h;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=h;else break}for(a.ascent=c-p,v=d-h,g=!1,p=u;p>c;--p){for(var y=0;y<h;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=h;else break}return a.descent=p-c,a.fontSize=a.ascent+a.descent,this.fontMetricsCache[n]=a,a}},{key:"measureText",value:function(n,r,a){var i=r.fontSize,o=i===void 0?16:i,s=r.wordWrap,l=s===void 0?!1:s,c=r.lineHeight,u=r.lineWidth,f=u===void 0?1:u,d=r.textBaseline,h=d===void 0?"alphabetic":d,p=r.textAlign,v=p===void 0?"start":p,g=r.letterSpacing,m=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var x=r.leading,b=x===void 0?0:x,_=H6(r),E=this.measureFont(_,a);E.fontSize===0&&(E.fontSize=o,E.ascent=o);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(a);w.font=_,r.isOverflowing=!1;var A=l?this.wordWrap(n,r,a):n,S=A.split(/(?:\r\n|\r|\n)/),O=new Array(S.length),k=0;if(y){y.getTotalLength();for(var T=0;T<S.length;T++)w.measureText(S[T]).width+(S[T].length-1)*m}else{for(var C=0;C<S.length;C++){var M=w.measureText(S[C]).width+(S[C].length-1)*m;O[C]=M,k=Math.max(k,M)}var P=k+f,I=c||E.fontSize+f,L=Math.max(I,E.fontSize+f)+(S.length-1)*(I+b);I+=b;var z=0;return h==="middle"?z=-L/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?z=-L:(h==="top"||h==="hanging")&&(z=0),{font:_,width:P,height:L,lines:S,lineWidths:O,lineHeight:I,maxLineWidth:k,fontProperties:E,lineMetrics:O.map(function(N,G){var Y=0;return v==="center"||v==="middle"?Y-=N/2:(v==="right"||v==="end")&&(Y-=N),new H0(Y-f/2,z+G*I,N+f,I)})}}}},{key:"wordWrap",value:function(n,r,a){var i=this,o=Array.from(n);if(o.length===0)return"";var s=this,l=r.wordWrapWidth,c=l===void 0?0:l,u=r.letterSpacing,f=u===void 0?0:u,d=r.maxLines,h=d===void 0?1/0:d,p=r.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(a),g=c+f,m="";p==="ellipsis"?m="...":p&&p!=="clip"&&(m=p);var y=[""],x=0,b=0,_=-1,E=H6(r),w=this.charWidthCache.get(E);w||(w=new Y6(500),this.charWidthCache.put(E,w));var A=function(N){return i.getFromCache(N,f,w,v)},S=A(m);function O(z,N,G,Y){for(;A(z)<Y&&N<o.length-1&&!s.isNewline(o[N+1]);)N+=1,z+=o[N];for(;A(z)>Y&&N>=G;)N-=1,z=z.slice(0,-1);return{lineTxt:z,txtLastCharIndex:N}}function k(z,N){if(!(S<=0||S>g)){if(!y[z]){y[z]=m;return}var G=O(y[z],N,_+1,g-S);y[z]=G.lineTxt+m}}for(var T=0;T<o.length;T++){var C=o[T],M=o[T-1],P=o[T+1],I=A(C);if(this.isNewline(C)){if(x+1>=h){T<o.length-1&&k(x,T-1),r.isOverflowing=!0;break}_=T-1,x+=1,b=0,y[x]="";continue}if(I>g){k(x,T-1),r.isOverflowing=!0;break}if(b>0&&b+I>g){var L=O(y[x],T-1,_+1,g);if(L.txtLastCharIndex!==T-1){if(y[x]=L.lineTxt,L.txtLastCharIndex===o.length-1)break;T=L.txtLastCharIndex+1,C=o[T],M=o[T-1],P=o[T+1],I=A(C)}if(x+1>=h){k(x,T-1),r.isOverflowing=!0;break}if(_=T-1,x+=1,b=0,y[x]="",this.isBreakingSpace(C))continue;this.canBreakInLastChar(C)||(y=this.trimToBreakable(y),b=this.sumTextWidthByCache(y[x]||"",A)),this.shouldBreakByKinsokuShorui(C,P)&&(y=this.trimByKinsokuShorui(y),b+=A(M||""))}b+=I,y[x]+=C}return y.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:rf.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:rf.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=Jt(n),a=r[r.length-2],i=this.findBreakableIndex(a);if(i===-1||!a)return r;var o=a.slice(i,i+1),s=this.isBreakingSpace(o),l=i+1,c=i+(s?0:1);return r[r.length-1]+=a.slice(l,a.length),r[r.length-2]=a.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&X6.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(a,i){return a+r(i)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!X6.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,a,i){var o=a.get(n);if(typeof o!="number"){var s=n.length*r,l=i.measureText(n);o=l.width+s,a.put(n,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])})(),Ne={},CTe=(function(e){var t=new Jke,n=new Qke;return e={},at(at(at(at(at(at(at(at(at(at(e,Se.FRAGMENT,null),Se.CIRCLE,new Xke),Se.ELLIPSE,new qke),Se.RECT,t),Se.IMAGE,t),Se.GROUP,new tTe),Se.LINE,new Kke),Se.TEXT,new eTe(Ne)),Se.POLYLINE,n),Se.POLYGON,n),at(at(at(e,Se.PATH,new Zke),Se.HTML,new nTe),Se.MESH,null)})(),MTe=(function(e){var t=new oke,n=new wA;return e={},at(at(at(at(at(at(at(at(at(at(e,Ze.PERCENTAGE,null),Ze.NUMBER,new fke),Ze.ANGLE,new ake),Ze.DEFINED_PATH,new ike),Ze.PAINT,t),Ze.COLOR,t),Ze.FILTER,new ske),Ze.LENGTH,n),Ze.LENGTH_PERCENTAGE,n),Ze.LENGTH_PERCENTAGE_12,new lke),at(at(at(at(at(at(at(at(at(at(e,Ze.LENGTH_PERCENTAGE_14,new cke),Ze.COORDINATE,new wA),Ze.OFFSET_DISTANCE,new dke),Ze.OPACITY_VALUE,new hke),Ze.PATH,new pke),Ze.LIST_OF_POINTS,new vke),Ze.SHADOW_BLUR,new gke),Ze.TEXT,new mke),Ze.TEXT_TRANSFORM,new yke),Ze.TRANSFORM,new Wke),at(at(at(e,Ze.TRANSFORM_ORIGIN,new Gke),Ze.Z_INDEX,new Yke),Ze.MARKER,new uke)})(),PTe=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Ne.CameraContribution=H$;Ne.AnimationTimeline=null;Ne.EasingFunction=null;Ne.offscreenCanvasCreator=new GO;Ne.sceneGraphSelector=new sTe;Ne.sceneGraphService=new mTe(Ne);Ne.textService=new TTe(Ne);Ne.geometryUpdaterFactory=CTe;Ne.CSSPropertySyntaxFactory=MTe;Ne.styleValueRegistry=new nke(Ne);Ne.layoutRegistry=null;Ne.globalThis=PTe();Ne.enableStyleSyntax=!0;Ne.enableSizeAttenuation=!1;var ITe=0,SA=new Nl(Xt.INSERTED,null,"","","",0,"",""),OA=new Nl(Xt.REMOVED,null,"","","",0,"",""),mj=new Fn(Xt.DESTROY),RTe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.entity=ITe++,n.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.cullable={strategy:M3e.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return Wt(t,e),Be(t,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=r,a&&(this.renderable.boundsDirty=r,this.renderable.renderBoundsDirty=r)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(Wn)}},{key:"appendChild",value:function(r,a){var i;if(r.destroyed)throw new Error(x3e);return Ne.sceneGraphService.attach(r,this,a),(i=this.ownerDocument)!==null&&i!==void 0&&i.defaultView&&(!Uy(this)&&r.nodeName===Se.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(SA.relatedNode=this,r.dispatchEvent(SA)),r}},{key:"insertBefore",value:function(r,a){if(!a)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var i=this.childNodes.indexOf(a);i===-1?this.appendChild(r):this.appendChild(r,i)}return r}},{key:"replaceChild",value:function(r,a){var i=this.childNodes.indexOf(a);return this.removeChild(a),this.appendChild(r,i),a}},{key:"removeChild",value:function(r){var a,i,o=((a=this.ownerDocument)===null||a===void 0||(a=a.defaultView)===null||a===void 0||(a=a.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;return OA.relatedNode=this,r.dispatchEvent(OA,o,o),(i=r.ownerDocument)!==null&&i!==void 0&&i.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),Ne.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];this.removeChild(a)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var a=this.childNodes[r];a.childNodes.length>0&&a.destroyChildren(),a.destroy()}}},{key:"matches",value:function(r){return Ne.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return Ne.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return Ne.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return Ne.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return Ne.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return Ne.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return Ne.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var a=this;do{if(Ne.sceneGraphService.matches(r,a))return a;a=a.parentElement}while(a!==null);return null}},{key:"find",value:function(r){var a=this,i=null;return this.forEach(function(o){return o!==a&&r(o)?(i=o,!1):!0}),i}},{key:"findAll",value:function(r){var a=this,i=[];return this.forEach(function(o){o!==a&&r(o)&&i.push(o)}),i}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.forEach(function(l,c){var u;return(u=r.parentNode)===null||u===void 0?void 0:u.appendChild(l,a+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,a=this.parentNode.childNodes.indexOf(this),i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],c=o.slice(1);this.parentNode.appendChild(l,a),(r=l).after.apply(r,Jt(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];i.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,a=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(mj,a,a),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ne.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ne.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ne.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ne.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ne.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var a=this.attributes[r];return a}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,a,i,o){this.attributes[r]=a}},{key:"getAttributeNS",value:function(r,a){throw new Error(Wn)}},{key:"getAttributeNode",value:function(r){throw new Error(Wn)}},{key:"getAttributeNodeNS",value:function(r,a){throw new Error(Wn)}},{key:"hasAttributeNS",value:function(r,a){throw new Error(Wn)}},{key:"removeAttributeNS",value:function(r,a){throw new Error(Wn)}},{key:"removeAttributeNode",value:function(r){throw new Error(Wn)}},{key:"setAttributeNS",value:function(r,a,i){throw new Error(Wn)}},{key:"setAttributeNode",value:function(r){throw new Error(Wn)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(Wn)}},{key:"toggleAttribute",value:function(r,a){throw new Error(Wn)}}])})(Ar);function pn(e){return!!(e!=null&&e.nodeName)}var DTe=Ne.globalThis.Proxy?Ne.globalThis.Proxy:function(){},sl=new Nl(Xt.ATTR_MODIFIED,null,null,null,null,Nl.MODIFICATION,null,null),Yh=tn(),NTe=ha(),or=(function(e){function t(n){var r;return Fe(this,t),r=Vt(this,t),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||Se.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),Ne.enableStyleSyntax&&(r.style=new DTe({setProperty:function(i,o){r.setAttribute(i,o)},getPropertyValue:function(i){return r.getAttribute(i)},removeProperty:function(i){r.removeAttribute(i)},item:function(){return""}},{get:function(i,o){return i[o]!==void 0?i[o]:r.getAttribute(o)},set:function(i,o,s){return r.setAttribute(o,s),!0}})),r}return Wt(t,e),Be(t,[{key:"destroy",value:function(){c6(t,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,a){var i=$t({},this.attributes);for(var o in i){var s=i[o];pn(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(i[o]=s.cloneNode(r)),a&&(i[o]=a(o,s))}var l=new this.constructor($t($t({},this.config),{},{style:i}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var u=c.cloneNode(r);l.appendChild(u)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={forceUpdateGeometry:!0};Ne.styleValueRegistry.processProperties(this,r,a),this.dirty()}},{key:"setAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;Rn(a)||(i||a!==this.attributes[r])&&(this.internalSetAttribute(r,a,{memoize:o}),c6(t,"setAttribute",this)([r,a]))}},{key:"internalSetAttribute",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];Ne.styleValueRegistry.processProperties(this,at({},r,a),i),this.dirty();var l=this.parsedStyle[r];if(this.isConnected)if(sl.relatedNode=this,sl.prevValue=o,sl.newValue=a,sl.attrName=r,sl.prevParsedValue=s,sl.newParsedValue=l,this.isMutationObserved)this.dispatchEvent(sl);else{var c,u=((c=this.ownerDocument.defaultView.getConfig().future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;sl.target=this,this.ownerDocument.defaultView.dispatchEvent(sl,!0,u)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var f,d;(f=(d=this).attributeChangedCallback)===null||f===void 0||f.call(d,r,o,a,s,l)}}},{key:"getBBox",value:function(){var r=this.getBounds(),a=r.getMin(),i=Dt(a,2),o=i[0],s=i[1],l=r.getMax(),c=Dt(l,2),u=c[0],f=c[1];return new H0(o,s,u-o,f-s)}},{key:"setOrigin",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setOrigin(this,Wi(r,a,i,!1)),this}},{key:"getOrigin",value:function(){return Ne.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setPosition(this,Wi(r,a,i,!1)),this}},{key:"setLocalPosition",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setLocalPosition(this,Wi(r,a,i,!1)),this}},{key:"translate",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translate(this,Wi(r,a,i,!1)),this}},{key:"translateLocal",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translateLocal(this,Wi(r,a,i,!1)),this}},{key:"getPosition",value:function(){return Ne.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ne.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,a,i){return this.scaleLocal(r,a,i)}},{key:"scaleLocal",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=Wi(r,a,i,!1)),Ne.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,a,i){return typeof r=="number"&&(a=a||r,i=i||r,r=Wi(r,a,i,!1)),Ne.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return Ne.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ne.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=Nw(Yh,Ne.sceneGraphService.getWorldTransform(this)),a=Dt(r,3),i=a[2];return Wo(i)}},{key:"getLocalEulerAngles",value:function(){var r=Nw(Yh,Ne.sceneGraphService.getLocalRotation(this)),a=Dt(r,3),i=a[2];return Wo(i)}},{key:"setEulerAngles",value:function(r){return Ne.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return Ne.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,a,i){return wt(a)&&wt(i)?Ne.sceneGraphService.rotateLocal(this,0,0,r):Ne.sceneGraphService.rotateLocal(this,r,a,i),this}},{key:"rotate",value:function(r,a,i){return wt(a)&&wt(i)?Ne.sceneGraphService.rotate(this,0,0,r):Ne.sceneGraphService.rotate(this,r,a,i),this}},{key:"setRotation",value:function(r,a,i,o){return Ne.sceneGraphService.setRotation(this,r,a,i,o),this}},{key:"setLocalRotation",value:function(r,a,i,o){return Ne.sceneGraphService.setLocalRotation(this,r,a,i,o),this}},{key:"setLocalSkew",value:function(r,a){return Ne.sceneGraphService.setLocalSkew(this,r,a),this}},{key:"getRotation",value:function(){return Ne.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ne.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ne.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ne.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ne.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return Ne.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){Ne.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,a){var i,o=(i=this.ownerDocument)===null||i===void 0?void 0:i.timeline;return o?o.play(this,r,a):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,Jt(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,Jt(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=i[0],l=i[1];return s?_v(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):i.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var a=r||this.getWorldTransform(),i=wy(Yh,a),o=Dt(i,2),s=o[0],l=o[1],c=N0(Yh,a),u=Dt(c,2),f=u[0],d=u[1],h=_y(NTe,a),p=Nw(Yh,h),v=Dt(p,3),g=v[0],m=v[2];return S3e(g||m,s,l,f,d)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var a=g6(r),i=Dt(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setEulerAngles(u).setPosition(o,s).setLocalScale(l,c)}},{key:"setLocalMatrix",value:function(r){var a=g6(r),i=Dt(a,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4];this.setLocalEulerAngles(u).setLocalPosition(o,s).setLocalScale(l,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,a){return this.appendChild(r,a)}},{key:"set",value:function(r,a){this.config[r]=a}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"move",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,a,i),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])})(RTe);or.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Ll=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),Vt(this,t,[$t({type:Se.CIRCLE},n)])}return Wt(t,e),Be(t)})(or);Ll.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var LTe=["style"],M2=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=vd(r,LTe);return Fe(this,t),n=Vt(this,t,[$t({style:a},i)]),n.isCustomElement=!0,n}return Wt(t,e),Be(t)})(or);M2.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var P2=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),Vt(this,t,[$t({type:Se.ELLIPSE},n)])}return Wt(t,e),Be(t)})(or);P2.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var FTe=(function(e){function t(){return Fe(this,t),Vt(this,t,[{type:Se.FRAGMENT}])}return Wt(t,e),Be(t)})(or);FTe.PARSED_STYLE_LIST=new Set(["class","className"]);var Ia=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),Vt(this,t,[$t({type:Se.GROUP},n)])}return Wt(t,e),Be(t)})(or);Ia.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var BTe=["style"],gh=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=vd(r,BTe);return Fe(this,t),n=Vt(this,t,[$t({type:Se.HTML,style:a},i)]),n.cullable.enable=!1,n}return Wt(t,e),Be(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Rs(Cn(),this.parentNode.getWorldTransform()),a=this.getBounds();if(!na.isEmpty(a)){var i=new na;return i.setFromTransformedAABB(a,r),i}}return this.getBounds()}}])})(or);gh.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var I2=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),Vt(this,t,[$t({type:Se.IMAGE},n)])}return Wt(t,e),Be(t)})(or);I2.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var $Te=["style"],md=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=vd(r,$Te);Fe(this,t),n=Vt(this,t,[$t({type:Se.LINE,style:$t({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},a)},i)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&pn(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&pn(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Wt(t,e),Be(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&pn(o)&&(this.markerStartAngle=0,o.remove()),s&&pn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&pn(o)&&(this.markerEndAngle=0,o.remove()),s&&pn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.x1,u=a.x2,f=a.y1,d=a.y2,h=r?i:o;if(!(!h||!pn(h))){var p=0,v,g,m,y,x,b;r?(m=c,y=f,v=u-c,g=d-f,x=s||0,b=this.markerStartAngle):(m=u,y=d,v=c-u,g=f-d,x=l||0,b=this.markerEndAngle),p=Math.atan2(g,v),h.setLocalEulerAngles(p*180/Math.PI+b),h.setLocalPosition(m+Math.cos(p)*x,y+Math.sin(p)*x)}}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle,o=i.x1,s=i.y1,l=i.x2,c=i.y2,u=B$(o,s,l,c,r),f=u.x,d=u.y,h=Fr(tn(),bn(f,d,0),a?this.getWorldTransform():this.getLocalTransform());return new ri(h[0],h[1])}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,a=r.x1,i=r.y1,o=r.x2,s=r.y2;return F$(a,i,o,s)}}])})(or);md.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var jTe=["style"],ci=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=vd(r,jTe);Fe(this,t),n=Vt(this,t,[$t({type:Se.PATH,style:a,initialParsedStyle:{miterLimit:4,d:$t({},V$)}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&pn(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&pn(c)&&n.placeMarkerMid(c),l&&pn(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Wt(t,e),Be(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&pn(o)&&(this.markerStartAngle=0,o.remove()),s&&pn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&pn(o)&&(this.markerEndAngle=0,o.remove()),s&&pn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=r?i:o;if(!(!c||!pn(c))){var u=0,f,d,h,p,v,g;if(r){var m=this.getStartTangent(),y=Dt(m,2),x=y[0],b=y[1];h=b[0],p=b[1],f=x[0]-b[0],d=x[1]-b[1],v=s||0,g=this.markerStartAngle}else{var _=this.getEndTangent(),E=Dt(_,2),w=E[0],A=E[1];h=A[0],p=A[1],f=w[0]-A[0],d=w[1]-A[1],v=l||0,g=this.markerEndAngle}u=Math.atan2(d,f),c.setLocalEulerAngles(u*180/Math.PI+g),c.setLocalPosition(h+Math.cos(u)*v,p+Math.sin(u)*v)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),r&&pn(r))for(var i=1;i<a.length-1;i++){var o=Dt(a[i].currentPoint,2),s=o[0],l=o[1],c=i===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return xA(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.d.absolutePath,o=S_e(i,r),s=o.x,l=o.y,c=Fr(tn(),bn(s,l,0),a?this.getWorldTransform():this.getLocalTransform());return new ri(c[0],c[1])}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*xA(this),a)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,a=[];if(r.length>1){var i=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;a=[],s?(a.push([i[0]-s[0],i[1]-s[1]]),a.push([i[0],i[1]])):(a.push([o[0],o[1]]),a.push([i[0],i[1]]))}return a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,a=r.length,i=[];if(a>1){var o=r[a-2].currentPoint,s=r[a-1].currentPoint,l=r[a-1].endTangent;i=[],l?(i.push([s[0]-l[0],s[1]-l[1]]),i.push([s[0],s[1]])):(i.push([o[0],o[1]]),i.push([s[0],s[1]]))}return i}}])})(or);ci.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var zTe=["style"],mh=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.style,i=vd(r,zTe);Fe(this,t),n=Vt(this,t,[$t({type:Se.POLYGON,style:a,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&pn(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&pn(c)&&n.placeMarkerMid(c),l&&pn(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Wt(t,e),Be(t,[{key:"attributeChangedCallback",value:function(r,a,i,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&pn(o)&&(this.markerStartAngle=0,o.remove()),s&&pn(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&pn(o)&&(this.markerEndAngle=0,o.remove()),s&&pn(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var a=this.parsedStyle,i=a.markerStart,o=a.markerEnd,s=a.markerStartOffset,l=a.markerEndOffset,c=a.points,u=c||{},f=u.points,d=r?i:o;if(!(!d||!pn(d)||!f)){var h=0,p,v,g,m,y,x;if(g=f[0][0],m=f[0][1],r)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=s||0,x=this.markerStartAngle;else{var b=f.length;this.parsedStyle.isClosed?(p=f[b-1][0]-f[0][0],v=f[b-1][1]-f[0][1]):(g=f[b-1][0],m=f[b-1][1],p=f[b-2][0]-f[b-1][0],v=f[b-2][1]-f[b-1][1]),y=l||0,x=this.markerEndAngle}h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+x),d.setLocalPosition(g+Math.cos(h)*y,m+Math.sin(h)*y)}}},{key:"placeMarkerMid",value:function(r){var a=this.parsedStyle.points,i=a||{},o=i.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],r&&pn(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],c=o[s][1],u=s===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(l,c)}}}])})(or);mh.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var UTe=["style"],R2=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=vd(n,UTe);return Fe(this,t),Vt(this,t,[$t({type:Se.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},a)])}return Wt(t,e),Be(t,[{key:"getTotalLength",value:function(){return TOe(this)}},{key:"getPointAtLength",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),a)}},{key:"getPoint",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,c,u=this.getTotalLength();i.forEach(function(m,y){i[y+1]&&(l=[0,0],l[0]=s/u,c=F$(m[0],m[1],i[y+1][0],i[y+1][1]),s+=c,l[1]=s/u,o.push(l))}),this.parsedStyle.points.segments=o}var f=0,d=0;this.parsedStyle.points.segments.forEach(function(m,y){r>=m[0]&&r<=m[1]&&(f=(r-m[0])/(m[1]-m[0]),d=y)});var h=B$(i[d][0],i[d][1],i[d+1][0],i[d+1][1],f),p=h.x,v=h.y,g=Fr(tn(),bn(p,v,0),a?this.getWorldTransform():this.getLocalTransform());return new ri(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,a=[];return a.push([r[1][0],r[1][1]]),a.push([r[0][0],r[0][1]]),a}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,a=r.length-1,i=[];return i.push([r[a-1][0],r[a-1][1]]),i.push([r[a][0],r[a][1]]),i}}])})(mh);R2.PARSED_STYLE_LIST=new Set([].concat(Jt(mh.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Bu=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),Vt(this,t,[$t({type:Se.RECT},n)])}return Wt(t,e),Be(t)})(or);Bu.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var HTe=["style"],Vs=(function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,a=vd(n,HTe);return Fe(this,t),Vt(this,t,[$t({type:Se.TEXT,style:$t({fill:"black"},r)},a)])}return Wt(t,e),Be(t,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])})(or);Vs.PARSED_STYLE_LIST=new Set([].concat(Jt(or.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var VTe=(function(){function e(){Fe(this,e),this.registry={},this.define(Se.CIRCLE,Ll),this.define(Se.ELLIPSE,P2),this.define(Se.RECT,Bu),this.define(Se.IMAGE,I2),this.define(Se.LINE,md),this.define(Se.GROUP,Ia),this.define(Se.PATH,ci),this.define(Se.POLYGON,mh),this.define(Se.POLYLINE,R2),this.define(Se.TEXT,Vs),this.define(Se.HTML,gh)}return Be(e,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])})(),yj={number:function(t){return new Gn(t)},percent:function(t){return new Gn(t,"%")},px:function(t){return new Gn(t,"px")},em:function(t){return new Gn(t,"em")},rem:function(t){return new Gn(t,"rem")},deg:function(t){return new Gn(t,"deg")},grad:function(t){return new Gn(t,"grad")},rad:function(t){return new Gn(t,"rad")},turn:function(t){return new Gn(t,"turn")},s:function(t){return new Gn(t,"s")},ms:function(t){return new Gn(t,"ms")},registerProperty:function(t){var n=t.name,r=t.inherits,a=t.interpolable,i=t.initialValue,o=t.syntax;Ne.styleValueRegistry.registerMetadata({n,inh:r,int:a,d:i,syntax:o})},registerLayout:function(t,n){Ne.layoutRegistry.registerLayout(t,n)}},WTe=(function(e){function t(){var n;Fe(this,t),n=Vt(this,t),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new Ne.AnimationTimeline(n)}catch{}var r={};return HO.forEach(function(a){var i=a.n,o=a.inh,s=a.d;o&&s&&(r[i]=va(s)?s(Se.GROUP):s)}),n.documentElement=new Ia({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return Wt(t,e),Be(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,a){if(r==="svg")return this.documentElement;var i=this.defaultView.customElements.get(r);i||(console.warn("Unsupported tagName: ",r),i=r==="tspan"?Vs:Ia);var o=new i(a);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,a,i){return this.createElement(a,i)}},{key:"cloneNode",value:function(r){throw new Error(Wn)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,a,i,o){var s=this.defaultView.context.rBushRoot,l=s.search({minX:r,minY:a,maxX:i,maxY:o}),c=[];return l.forEach(function(u){var f=u.displayObject,d=f.parsedStyle.pointerEvents,h=d===void 0?"auto":d,p=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(h);(!p||p&&f.isVisible())&&!f.isCulled()&&f.isInteractive()&&c.push(f)}),c.sort(function(u,f){return f.sortable.renderOrder-u.sortable.renderOrder}),c}},{key:"elementFromPointSync",value:function(r,a){var i=this.defaultView.canvas2Viewport({x:r,y:a}),o=i.x,s=i.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return null;var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:a,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v&&v[0]||this.documentElement}},{key:"elementFromPoint",value:(function(){var n=Au(Wa().mark(function a(i,o){var s,l,c,u,f,d,h,p,v,g,m;return Wa().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:i,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),f=u.width,d=u.height,!(l<0||c<0||l>f||c>d)){y.next=1;break}return y.abrupt("return",null);case 1:return h=this.defaultView.viewport2Client({x:l,y:c}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:i,y:o,viewportX:l,viewportY:c,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,y.abrupt("return",m&&m[0]||this.documentElement);case 3:case"end":return y.stop()}},a,this)}));function r(a,i){return n.apply(this,arguments)}return r})()},{key:"elementsFromPointSync",value:function(r,a){var i=this.defaultView.canvas2Viewport({x:r,y:a}),o=i.x,s=i.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return[];var f=this.defaultView.viewport2Client({x:o,y:s}),d=f.x,h=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:a,viewportX:o,viewportY:s,clientX:d,clientY:h},picked:[]}),v=p.picked;return v[v.length-1]!==this.documentElement&&v.push(this.documentElement),v}},{key:"elementsFromPoint",value:(function(){var n=Au(Wa().mark(function a(i,o){var s,l,c,u,f,d,h,p,v,g,m;return Wa().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:i,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),f=u.width,d=u.height,!(l<0||c<0||l>f||c>d)){y.next=1;break}return y.abrupt("return",[]);case 1:return h=this.defaultView.viewport2Client({x:l,y:c}),p=h.x,v=h.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:i,y:o,viewportX:l,viewportY:c,clientX:p,clientY:v},picked:[]});case 2:return g=y.sent,m=g.picked,m[m.length-1]!==this.documentElement&&m.push(this.documentElement),y.abrupt("return",m);case 3:case"end":return y.stop()}},a,this)}));function r(a,i){return n.apply(this,arguments)}return r})()},{key:"appendChild",value:function(r,a){throw new Error(Pd)}},{key:"insertBefore",value:function(r,a){throw new Error(Pd)}},{key:"removeChild",value:function(r,a){throw new Error(Pd)}},{key:"replaceChild",value:function(r,a,i){throw new Error(Pd)}},{key:"append",value:function(){throw new Error(Pd)}},{key:"prepend",value:function(){throw new Error(Pd)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])})(Ar),xj=(function(){function e(t){Fe(this,e),this.strategies=t}return Be(e,[{key:"apply",value:function(n){var r=n.config,a=n.camera,i=n.renderingService,o=n.renderingContext,s=this.strategies;i.hooks.cull.tap(e.tag,function(l){if(l){var c,u=l.cullable;if(s.length===0?u.visible=o.unculledEntities.indexOf(l.entity)>-1:u.visible=s.every(function(d){return d.isVisible(a,l)}),!l.isCulled()&&l.isVisible())return l;var f=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return l.dispatchEvent(new Fn(Xt.CULLED),f,f),null}return l}),i.hooks.afterRender.tap(e.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])})();xj.tag="Culling";var bj=(function(){function e(){var t=this;Fe(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new EA(null),this.rootWheelEvent=new AA(null),this.onPointerMove=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(a.supportsTouchEvents&&n.pointerType==="touch")){var i=t.normalizeToPointerEvent(n,a),o=pf(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(n){var r,a=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,i=t.normalizeToPointerEvent(n,a),o=pf(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=t.bootstrapEvent(t.rootPointerEvent,l,a,n);t.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return Be(e,[{key:"apply",value:function(n){var r=this;this.context=n;var a=n.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),a.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),a.hooks.pointerDown.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,i);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var c=pf(s),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,d=r.bootstrapEvent(r.rootPointerEvent,f,i,o);r.context.eventService.mapEvent(d)}}catch(h){c.e(h)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerUp.tap(e.tag,function(o){if(!(i.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),c=l?"":"outside",u=r.normalizeToPointerEvent(o,i),f=pf(u),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=r.bootstrapEvent(r.rootPointerEvent,h,i,o);p.type+=c,r.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}r.setCursor(r.context.eventService.cursor)}}),a.hooks.pointerMove.tap(e.tag,this.onPointerMove),a.hooks.pointerOver.tap(e.tag,this.onPointerMove),a.hooks.pointerOut.tap(e.tag,this.onPointerMove),a.hooks.click.tap(e.tag,this.onClick),a.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,i),l=pf(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,f=r.bootstrapEvent(r.rootPointerEvent,u,i,o);r.context.eventService.mapEvent(f)}}catch(d){l.e(d)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,a,i){n.view=a,n.originalEvent=null,n.nativeEvent=i,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;n.viewport.x=s,n.viewport.y=l;var c=this.context.eventService.viewport2Canvas(n.viewport),u=c.x,f=c.y;return n.canvas.x=u,n.canvas.y=f,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=i.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=Oke[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var a=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),i=a.x,o=a.y;r.viewport.x=i,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,c=s.y;return r.canvas.x=l,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=_A.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var a=[];if(r.isTouchEvent(n))for(var i=0;i<n.changedTouches.length;i++){var o=n.changedTouches[i];Rn(o.button)&&(o.button=0),Rn(o.buttons)&&(o.buttons=1),Rn(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),Rn(o.width)&&(o.width=o.radiusX||1),Rn(o.height)&&(o.height=o.radiusY||1),Rn(o.tiltX)&&(o.tiltX=0),Rn(o.tiltY)&&(o.tiltY=0),Rn(o.pointerType)&&(o.pointerType="touch"),Rn(o.pointerId)&&(o.pointerId=o.identifier||0),Rn(o.pressure)&&(o.pressure=o.force||.5),Rn(o.twist)&&(o.twist=0),Rn(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,a.push(o)}else if(r.isMouseEvent(n)){var s=n;Rn(s.isPrimary)&&(s.isPrimary=!0),Rn(s.width)&&(s.width=1),Rn(s.height)&&(s.height=1),Rn(s.tiltX)&&(s.tiltX=0),Rn(s.tiltY)&&(s.tiltY=0),Rn(s.pointerType)&&(s.pointerType="mouse"),Rn(s.pointerId)&&(s.pointerId=Ske),Rn(s.pressure)&&(s.pressure=.5),Rn(s.twist)&&(s.twist=0),Rn(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,a.push(s)}else a.push(n);return a}}])})();bj.tag="Event";var GTe=[Se.CIRCLE,Se.ELLIPSE,Se.IMAGE,Se.RECT,Se.LINE,Se.POLYLINE,Se.POLYGON,Se.TEXT,Se.PATH,Se.HTML],YTe=(function(){function e(){Fe(this,e)}return Be(e,[{key:"isVisible",value:function(n,r){var a,i=r.cullable;if(!i.enable)return!0;var o=r.getRenderBounds();if(na.isEmpty(o))return!1;var s=n.getFrustum(),l=(a=r.parentNode)===null||a===void 0||(a=a.cullable)===null||a===void 0?void 0:a.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,l||Md.INDETERMINATE,s.planes),i.visible=i.visibilityPlaneMask!==Md.OUTSIDE,i.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,a,i){if(a===Md.OUTSIDE||a===Md.INSIDE)return a;for(var o=Md.INSIDE,s=GTe.indexOf(n.nodeName)>-1,l=0,c=i.length;l<c;++l){var u=1<<l;if((a&u)!==0&&!(s&&(l===4||l===5))){var f=i[l],d=f.normal,h=f.distance;if(bl(d,r.getPositiveFarPoint(i[l]))+h<0)return Md.OUTSIDE;bl(d,r.getNegativeFarPoint(i[l]))+h<0&&(o|=u)}}return o}}])})(),wj=(function(){function e(){Fe(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return Be(e,[{key:"apply",value:function(n){var r=this,a,i,o=n.config,s=n.renderingService,l=n.renderingContext,c=n.rBushRoot,u=l.root.ownerDocument.defaultView;this.rBush=c;var f=function(y){s.dirtify()},d=function(y){r.syncTasks.set(y.target,y.detail.affectChildren),s.dirtify()},h=function(y){var x=y.target;Ne.enableSizeAttenuation&&Ne.styleValueRegistry.updateSizeAttenuation(x,u.getCamera().getZoom())},p=function(y){var x=y.target,b=x.rBushNode;b!=null&&b.aabb&&r.rBush.remove(b.aabb),r.syncTasks.delete(x),Ne.sceneGraphService.dirtyToRoot(x),s.dirtify()};s.hooks.init.tap(e.tag,function(){u.addEventListener(Xt.MOUNTED,h),u.addEventListener(Xt.UNMOUNTED,p),u.addEventListener(Xt.ATTR_MODIFIED,f),u.addEventListener(Xt.BOUNDS_CHANGED,d)}),s.hooks.destroy.tap(e.tag,function(){u.removeEventListener(Xt.MOUNTED,h),u.removeEventListener(Xt.UNMOUNTED,p),u.removeEventListener(Xt.ATTR_MODIFIED,f),u.removeEventListener(Xt.BOUNDS_CHANGED,d),r.syncTasks.clear()});var v=(a=Ne.globalThis.requestIdleCallback)!==null&&a!==void 0?a:WO.bind(Ne.globalThis),g=((i=o.future)===null||i===void 0?void 0:i.experimentalRICSyncRTree)===!0;s.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,v(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):g&&Ne.globalThis.requestIdleCallback&&Ne.globalThis.cancelIdleCallback?(Ne.globalThis.cancelIdleCallback(r.ricSyncRTreeId),r.ricSyncRTreeId=Ne.globalThis.requestIdleCallback(function(){return r.syncRTree()})):r.syncRTree()})}},{key:"syncNode",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.isConnected){var a=n.rBushNode;a.aabb&&this.rBush.remove(a.aabb);var i=n.getRenderBounds();if(i){var o=n.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new na),o.dirtyRenderBounds.update(i.center,i.halfExtents));var s=i.getMin(),l=Dt(s,2),c=l[0],u=l[1],f=i.getMax(),d=Dt(f,2),h=d[0],p=d[1];a.aabb||(a.aabb={}),a.aabb.displayObject=n,a.aabb.minX=c,a.aabb.minY=u,a.aabb.maxX=h,a.aabb.maxY=p}if(a.aabb&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.minX)&&!isNaN(a.aabb.minY))return a.aabb}}},{key:"syncRTree",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var a=[],i=new Set,o=function(l){if(!i.has(l)&&l.renderable){var c=n.syncNode(l,r);c&&(a.push(c),i.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var c=l;c;)o(c),c=c.parentElement}),this.rBush.load(a),a.length=0,this.syncing=!1}}}])})();wj.tag="Prepare";var Go=(function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e})({}),q6=500,XTe=.1,qTe=1e3,Pg=new Fn(Xt.MOUNTED),Ig=new Fn(Xt.UNMOUNTED),Ww=new Fn(Go.BEFORE_RENDER),K6=new Fn(Go.RERENDER),Gw=new Fn(Go.AFTER_RENDER),_j=(function(e){function t(n){var r;Fe(this,t),r=Vt(this,t),r.Element=or,r.inited=!1,r.context={};var a=n.container,i=n.canvas,o=n.renderer,s=n.width,l=n.height,c=n.background,u=n.cursor,f=n.supportsMutipleCanvasesInOneContainer,d=n.cleanUpOnDestroy,h=d===void 0?!0:d,p=n.offscreenCanvas,v=n.devicePixelRatio,g=n.requestAnimationFrame,m=n.cancelAnimationFrame,y=n.createImage,x=n.supportsTouchEvents,b=n.supportsPointerEvents,_=n.isTouchEvent,E=n.isMouseEvent,w=n.dblClickSpeed,A=s,S=l,O=v||VO&&window.devicePixelRatio||1;return O=O>=1?Math.ceil(O):1,i&&(A=s||Eke(i)||i.width/O,S=l||Ake(i)||i.height/O),r.customElements=new VTe,r.devicePixelRatio=O,r.requestAnimationFrame=g??WO.bind(Ne.globalThis),r.cancelAnimationFrame=m??hj.bind(Ne.globalThis),r.createImage=y??function(){return new window.Image},r.supportsTouchEvents=x??"ontouchstart"in Ne.globalThis,r.supportsPointerEvents=b??!!Ne.globalThis.PointerEvent,r.isTouchEvent=_??function(k){return r.supportsTouchEvents&&k instanceof Ne.globalThis.TouchEvent},r.isMouseEvent=E??function(k){return!Ne.globalThis.MouseEvent||k instanceof Ne.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(k instanceof Ne.globalThis.PointerEvent))},p&&(Ne.offscreenCanvas=p),r.document=new WTe,r.document.defaultView=r,f||xke(a,r,h),r.initRenderingContext($t($t({},n),{},{width:A,height:S,background:c??"transparent",cursor:u??"default",cleanUpOnDestroy:h,devicePixelRatio:O,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:w??200})),r.initDefaultCamera(A,S,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return Wt(t,e),Be(t,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,a,i){var o=this,s=new Ne.CameraContribution;s.clipSpaceNearZ=i,s.setType(Un.EXPLORING,pA.DEFAULT).setPosition(r/2,a/2,q6).setFocalPoint(r/2,a/2,0).setOrthographic(r/-2,r/2,a/2,a/-2,XTe,qTe),s.canvas=this,s.eventEmitter.on(U$.UPDATED,function(){o.context.renderingContext.renderReasons.add(h0.CAMERA_CHANGED),Ne.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(a){Ne.styleValueRegistry.updateSizeAttenuation(a,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(a){r.resolveReadyPromise=function(){a(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;sa.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;i||this.dispatchEvent(new Fn(Go.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();a&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),i||this.dispatchEvent(new Fn(Go.AFTER_DESTROY),o,o);var l=function(u){u.currentTarget=null,u.manager=null,u.target=null,u.relatedNode=null};l(Pg),l(Ig),l(Ww),l(K6),l(Gw),l(sl),l(SA),l(OA),l(mj),Ne.textService.clearCache()}},{key:"changeSize",value:function(r,a){this.resize(r,a)}},{key:"resize",value:function(r,a){var i,o=this.context.config;o.width=r,o.height=a,this.getContextService().resize(r,a);var s=this.context.camera,l=s.getProjectionMode();s.setPosition(r/2,a/2,q6).setFocalPoint(r/2,a/2,0),l===jo.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,a/2,a/-2,s.getNear(),s.getFar()):s.setAspect(r/a);var c=((i=o.future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new Fn(Go.RESIZE,{width:r,height:a}),c,c)}},{key:"appendChild",value:function(r,a){return this.document.documentElement.appendChild(r,a)}},{key:"insertBefore",value:function(r,a){return this.document.documentElement.insertBefore(r,a)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var a,i=this;r&&(Ww.detail=r,Gw.detail=r);var o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(Ww,o,o);var s=this.getRenderingService();s.render(this.getConfig(),r,function(){i.dispatchEvent(K6,o,o)}),this.dispatchEvent(Gw,o,o)}},{key:"run",value:function(){var r=this,a=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(a)};a()}},{key:"initRenderer",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new h3e,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new bj,new wj,new xj([new YTe])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService($t($t({},Ne),this.context)),this.context.renderingService=new iTe(Ne,this.context),this.context.eventService=new aTe(Ne,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,i,!0)):this.context.contextService.initAsync().then(function(){a.initRenderingService(r,i)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;a.inited=!0;var l=((s=a.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;i?o?a.requestAnimationFrame(function(){a.dispatchEvent(new Fn(Go.READY),l,l)}):a.dispatchEvent(new Fn(Go.READY),l,l):a.dispatchEvent(new Fn(Go.RENDERER_CHANGED),l,l),a.readyPromise&&a.resolveReadyPromise(),i||a.getRoot().forEach(function(c){var u,f;(u=(f=c).dirty)===null||u===void 0||u.call(f,!0,!0)}),a.mountChildren(a.getRoot()),r.getConfig().enableAutoRendering&&a.run()})}},{key:"loadRendererContainerModule",value:function(r){var a=this,i=r.getPlugins();i.forEach(function(o){o.context=a.context,o.init(Ne)})}},{key:"setRenderer",value:function(r){var a=this.getConfig();if(a.renderer!==r){var i=a.renderer;a.renderer=r,this.destroy(!1,!0),Jt((i==null?void 0:i.getPlugins())||[]).reverse().forEach(function(o){o.destroy(Ne)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var a=this.getConfig();a.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var a=this;if(r.childNodes.forEach(function(s){a.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(Ig);else{var i,o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;Ig.target=r,this.dispatchEvent(Ig,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!i))if(r.isMutationObserved)r.dispatchEvent(Pg);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;Pg.target=r,this.dispatchEvent(Pg,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(l){a.mountChildren(l,i)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,a){return this.client2Viewport({x:r,y:a})}},{key:"getClientByPoint",value:function(r,a){return this.viewport2Client({x:r,y:a})}}])})(gj);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var KTe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.landmarks=[],n}return Wt(t,e),Be(t,[{key:"rotate",value:function(r,a,i){if(this.relElevation=u0(a),this.relAzimuth=u0(r),this.relRoll=u0(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Un.EXPLORING){var o=nu(ha(),[1,0,0],Xn((this.rotateWorld?1:-1)*this.relElevation)),s=nu(ha(),[0,1,0],Xn((this.rotateWorld?1:-1)*this.relAzimuth)),l=nu(ha(),[0,0,1],Xn(this.relRoll)),c=pu(ha(),s,o);c=pu(ha(),c,l);var u=iO(Cn(),c);c0(this.matrix,this.matrix,[0,0,-this.distance]),Ti(this.matrix,this.matrix,u),c0(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,a){var i=Wi(r,a,0),o=Ql(this.position);return hu(o,o,Ey(tn(),this.right,i[0])),hu(o,o,Ey(tn(),this.up,i[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var a=this.forward,i=Ql(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,i[0]+=o*a[0],i[1]+=o*a[1],i[2]+=o*a[2],this._setPosition(i),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getDistance():this.type===Un.TRACKING&&hu(this.focalPoint,i,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var a,i,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.position,u=c===void 0?this.position:c,f=l.focalPoint,d=f===void 0?this.focalPoint:f,h=l.roll,p=l.zoom,v=new Ne.CameraContribution;v.setType(this.type,void 0),v.setPosition(u[0],(a=u[1])!==null&&a!==void 0?a:this.position[1],(i=u[2])!==null&&i!==void 0?i:this.position[2]),v.setFocalPoint(d[0],(o=d[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=d[2])!==null&&s!==void 0?s:this.focalPoint[2]),v.setRoll(h??this.roll),v.setZoom(p??this.zoom);var g={name:r,matrix:aO(v.getWorldTransform()),right:Ql(v.right),up:Ql(v.up),forward:Ql(v.forward),position:Ql(v.getPosition()),focalPoint:Ql(v.getFocalPoint()),distanceVector:Ql(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=xr(r)?this.landmarks.find(function(k){return k.name===r}):r;if(o){var s=nr(i)?{duration:i}:i,l=s.easing,c=l===void 0?"linear":l,u=s.duration,f=u===void 0?100:u,d=s.easingFunction,h=d===void 0?void 0:d,p=s.onfinish,v=p===void 0?void 0:p,g=s.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var x=o.position,b=o.focalPoint,_=o.zoom,E=o.roll,w=h||Ne.EasingFunction(c),A,S=function(){a.setFocalPoint(b),a.setPosition(x),a.setRoll(E),a.setZoom(_),a.computeMatrix(),a.triggerUpdate(),v==null||v()};if(f===0)return S();var O=function(T){A===void 0&&(A=T);var C=T-A;if(C>=f){S();return}var M=w(C/f),P=tn(),I=tn(),L=1,z=0;YE(P,a.focalPoint,b,M),YE(I,a.position,x,M),z=a.roll*(1-M)+E*M,L=a.zoom*(1-M)+_*M,a.setFocalPoint(P),a.setPosition(I),a.setRoll(z),a.setZoom(L);var N=TM(P,b)+TM(I,x);if(N<=y&&_===void 0&&E===void 0)return S();a.computeMatrix(),a.triggerUpdate(),C<f&&(m==null||m(M),a.landmarkAnimationID=a.canvas.requestAnimationFrame(O))};this.canvas.requestAnimationFrame(O)}}}])})(H$);Ne.CameraContribution=KTe;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Yw=(function(e){function t(n,r,a,i){var o;return Fe(this,t),o=Vt(this,t,[n]),o.currentTime=a,o.timelineTime=i,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=a,o.timelineTime=i,o}return Wt(t,e),Be(t)})(C2),ZTe=0,QTe=(function(){function e(t,n){var r;Fe(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(ZTe++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Be(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,a){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){a(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,a){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){a(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n;if((n=this.effect.target)!==null&&n!==void 0&&n.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,a=this.pending?"pending":this.playState;return this.readyPromise&&a!==r&&(a==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():a==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&a!==r&&(a==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):a==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=a,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new Yw(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Wn)}},{key:"addEventListener",value:function(n,r,a){throw new Error(Wn)}},{key:"removeEventListener",value:function(n,r,a){throw new Error(Wn)}},{key:"dispatchEvent",value:function(n){throw new Error(Wn)}},{key:"commitStyles",value:function(){throw new Error(Wn)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var a=new Yw(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(a)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var i=new Yw(null,this,this.currentTime,n);this.onframe(i)}this._finishedFlag=!1}}}])})(),JTe=4,eCe=.001,tCe=1e-7,nCe=10,hp=11,Rg=1/(hp-1),rCe=typeof Float32Array=="function",Ej=function(t,n){return 1-3*n+3*t},Aj=function(t,n){return 3*n-6*t},Sj=function(t){return 3*t},Hy=function(t,n,r){return((Ej(n,r)*t+Aj(n,r))*t+Sj(n))*t},Oj=function(t,n,r){return 3*Ej(n,r)*t*t+2*Aj(n,r)*t+Sj(n)},aCe=function(t,n,r,a,i){var o,s,l=0;do s=n+(r-n)/2,o=Hy(s,a,i)-t,o>0?r=s:n=s;while(Math.abs(o)>tCe&&++l<nCe);return s},iCe=function(t,n,r,a){for(var i=0;i<JTe;++i){var o=Oj(n,r,a);if(o===0)return n;var s=Hy(n,r,a)-t;n-=s/o}return n},YO=function(t,n,r,a){if(!(t>=0&&t<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return function(l){return l};for(var i=rCe?new Float32Array(hp):new Array(hp),o=0;o<hp;++o)i[o]=Hy(o*Rg,t,r);var s=function(c){for(var u=0,f=1,d=hp-1;f!==d&&i[f]<=c;++f)u+=Rg;--f;var h=(c-i[f])/(i[f+1]-i[f]),p=u+h*Rg,v=Oj(p,t,r);return v>=eCe?iCe(c,p,t,r):v===0?p:aCe(c,u,u+Rg,t,r)};return function(l){return l===0||l===1?l:Hy(s(l),n,a)}},oCe=function(t){return t=t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},Dg=function(t){return Math.pow(t,2)},Ng=function(t){return Math.pow(t,3)},Lg=function(t){return Math.pow(t,4)},Fg=function(t){return Math.pow(t,5)},Bg=function(t){return Math.pow(t,6)},$g=function(t){return 1-Math.cos(t*Math.PI/2)},jg=function(t){return 1-Math.sqrt(1-t*t)},zg=function(t){return t*t*(3*t-2)},Ug=function(t){for(var n,r=4;t<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-t,2)},Hg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Dt(n,2),a=r[0],i=a===void 0?1:a,o=r[1],s=o===void 0?.5:o,l=jr(Number(i),1,10),c=jr(Number(s),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-c/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/c)},Xh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=Dt(n,4),i=a[0],o=i===void 0?1:i,s=a[1],l=s===void 0?100:s,c=a[2],u=c===void 0?10:c,f=a[3],d=f===void 0?0:f;o=jr(o,.1,1e3),l=jr(l,.1,1e3),u=jr(u,.1,1e3),d=jr(d,.1,1e3);var h=Math.sqrt(l/o),p=u/(2*Math.sqrt(l*o)),v=p<1?h*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*h+-d)/v:-d+h,y=r?r*t/1e3:t;return p<1?y=Math.exp(-y*p*h)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*h),t===0||t===1?t:1-y},Xw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,a=Dt(r,2),i=a[0],o=i===void 0?10:i,s=a[1],l=s==="start"?Math.ceil:Math.floor;return l(jr(t,0,1)*o)/o},Z6=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Dt(n,4),a=r[0],i=r[1],o=r[2],s=r[3];return YO(a,i,o,s)(t)},Vg=YO(.42,0,1,1),No=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return 1-t(1-n,r,a)}},Lo=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?t(n*2,r,a)/2:1-t(n*-2+2,r,a)/2}},Fo=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return n<.5?(1-t(1-n*2,r,a))/2:(t(n*2-1,r,a)+1)/2}},Q6={steps:Xw,"step-start":function(t){return Xw(t,[1,"start"])},"step-end":function(t){return Xw(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":Z6,ease:function(t){return Z6(t,[.25,.1,.25,1])},in:Vg,out:No(Vg),"in-out":Lo(Vg),"out-in":Fo(Vg),"in-quad":Dg,"out-quad":No(Dg),"in-out-quad":Lo(Dg),"out-in-quad":Fo(Dg),"in-cubic":Ng,"out-cubic":No(Ng),"in-out-cubic":Lo(Ng),"out-in-cubic":Fo(Ng),"in-quart":Lg,"out-quart":No(Lg),"in-out-quart":Lo(Lg),"out-in-quart":Fo(Lg),"in-quint":Fg,"out-quint":No(Fg),"in-out-quint":Lo(Fg),"out-in-quint":Fo(Fg),"in-expo":Bg,"out-expo":No(Bg),"in-out-expo":Lo(Bg),"out-in-expo":Fo(Bg),"in-sine":$g,"out-sine":No($g),"in-out-sine":Lo($g),"out-in-sine":Fo($g),"in-circ":jg,"out-circ":No(jg),"in-out-circ":Lo(jg),"out-in-circ":Fo(jg),"in-back":zg,"out-back":No(zg),"in-out-back":Lo(zg),"out-in-back":Fo(zg),"in-bounce":Ug,"out-bounce":No(Ug),"in-out-bounce":Lo(Ug),"out-in-bounce":Fo(Ug),"in-elastic":Hg,"out-elastic":No(Hg),"in-out-elastic":Lo(Hg),"out-in-elastic":Fo(Hg),spring:Xh,"spring-in":Xh,"spring-out":No(Xh),"spring-in-out":Lo(Xh),"spring-out-in":Fo(Xh)},sCe=function(t){return oCe(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},lCe=function(t){return Q6[sCe(t)]||Q6.linear},cCe=function(t){return t},uCe=1,fCe=.5,J6=0;function eP(e,t){return function(n){if(n>=1)return 1;var r=1/e;return n+=t*r,n-n%r}}var Wg="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",dCe=new RegExp("cubic-bezier\\(".concat(Wg,",").concat(Wg,",").concat(Wg,",").concat(Wg,"\\)")),hCe=/steps\(\s*(\d+)\s*\)/,pCe=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function XO(e){var t=dCe.exec(e);if(t)return YO.apply(void 0,Jt(t.slice(1).map(Number)));var n=hCe.exec(e);if(n)return eP(Number(n[1]),J6);var r=pCe.exec(e);return r?eP(Number(r[1]),{start:uCe,middle:fCe,end:J6}[r[2]]):lCe(e)}function vCe(e){return Math.abs(gCe(e)/(e.playbackRate||1))}function gCe(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var kj=0,qO=1,D2=2,Tj=3;function mCe(e,t,n){if(t===null)return kj;var r=n.endTime;return t<Math.min(n.delay,r)?qO:t>=Math.min(n.delay+e+n.endDelay,r)?D2:Tj}function yCe(e,t,n,r,a){switch(r){case qO:return t==="backwards"||t==="both"?0:null;case Tj:return n-a;case D2:return t==="forwards"||t==="both"?e:null;case kj:return null}}function xCe(e,t,n,r,a){var i=a;return e===0?t!==qO&&(i+=n):i+=r/e,i}function bCe(e,t,n,r,a,i){var o=e===1/0?t%1:e%1;return o===0&&n===D2&&r!==0&&(a!==0||i===0)&&(o=1),o}function wCe(e,t,n,r){return e===D2&&t===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function _Ce(e,t,n){var r=e;if(e!=="normal"&&e!=="reverse"){var a=t;e==="alternate-reverse"&&(a+=1),r="normal",a!==1/0&&a%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function ECe(e,t,n){var r=mCe(e,t,n),a=yCe(e,n.fill,t,r,n.delay);if(a===null)return null;var i=n.duration==="auto"?0:n.duration,o=xCe(i,r,n.iterations,a,n.iterationStart),s=bCe(o,n.iterationStart,r,n.iterations,a,i),l=wCe(r,n.iterations,s,o),c=_Ce(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function ACe(e,t,n){var r=SCe(e,t),a=OCe(r,n);return function(i,o){if(o!==null)a.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var c=o-l.startOffset,u=l.endOffset-l.startOffset,f=u===0?0:c/u;i.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var s in r)Cj(s)&&i.setAttribute(s,null)}}function Cj(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function SCe(e,t){for(var n={},r=0;r<e.length;r++)for(var a in e[r])if(Cj(a)){var i={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:XO(e[r].easing)||t.easingFunction,value:e[r][a]};n[a]=n[a]||[],n[a].push(i)}return n}function OCe(e,t){var n=[];for(var r in e)for(var a=e[r],i=0;i<a.length-1;i++){var o=i,s=i+1,l=a[o].computedOffset,c=a[s].computedOffset,u=l,f=c;i===0&&(u=-1/0,c===0&&(s=o)),i===a.length-2&&(f=1/0,l===1&&(o=s)),n.push({applyFrom:u,applyTo:f,startOffset:a[o].computedOffset,endOffset:a[s].computedOffset,easingFunction:a[o].easingFunction,property:r,interpolation:kCe(r,a[o].value,a[s].value,t)})}return n.sort(function(d,h){return d.startOffset-h.startOffset}),n}var tP=function(t,n,r){return function(a){var i=Mj(t,n,a);return nr(i)?i:r(i)}};function kCe(e,t,n,r){var a=oj[e];if(a&&a.syntax&&a.int){var i=Ne.styleValueRegistry.getPropertySyntax(a.syntax);if(i){var o=i.parser,s=o?o(t,r):t,l=o?o(n,r):n,c=i.mixer(s,l,r);if(c){var u=tP.apply(void 0,Jt(c));return function(f){return f===0?t:f===1?n:u(f)}}}}return tP(!1,!0,function(f){return f?n:t})}function Mj(e,t,n){if(typeof e=="number"&&typeof t=="number")return e*(1-n)+t*n;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,a=t.length,i=Math.max(r,a),o=[],s=0;s<i;s++)o.push(Mj(e[s<r?s:r-1],t[s<a?s:a-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var TCe=(function(){function e(){Fe(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=cCe,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Be(e,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=XO(n),this._easing=n}}])})();function CCe(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var a=r.length,i=0;i<a;i++){if(!t[i]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),t[i]=o}r[i]!==void 0&&r[i]!==null&&(t[i][n]=r[i])}}return t.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),t}function nP(e,t){if(e===null)return[];Array.isArray(e)||(e=CCe(e));for(var n=e.map(function(l){var c={};t!=null&&t.composite&&(c.composite="auto");for(var u in l){var f=l[u];if(u==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=f}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));c[u]=f}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(t==null?void 0:t.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,a=-1/0,i=0;i<n.length;i++){var o=n[i].offset;if(wt(o))r=!1;else{if(o<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=o}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,c=n,u=c.length;if(n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1){var f;n[0].computedOffset=Number((f=n[0].offset)!==null&&f!==void 0?f:0)}for(var d=0,h=Number(n[0].computedOffset),p=1;p<u;p++){var v=n[p].computedOffset;if(!wt(v)&&!wt(h)){for(var g=1;g<p-d;g++)n[d+g].computedOffset=h+(Number(v)-h)*g/(p-d);d=p,h=Number(v)}}}return r||s(),n}var MCe="backwards|forwards|both|none".split("|"),PCe="reverse|alternate|alternate-reverse".split("|");function ICe(e,t){var n=new TCe;return typeof e=="number"&&!isNaN(e)?n.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&MCe.indexOf(e[r])===-1||r==="direction"&&PCe.indexOf(e[r])===-1)return;n[r]=e[r]}}),n}function RCe(e,t){return e=DCe(e??{duration:"auto"}),ICe(e)}function DCe(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var NCe=(function(){function e(t,n,r){var a=this;Fe(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=RCe(r),this.timing.effect=this,this.timing.activeDuration=vCe(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=nP(n,this.timing),this.interpolations=ACe(this.normalizedKeyframes,this.timing,this.target);var i=Ne.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?a.animation&&a.animation.currentTime||null:l==="currentIteration"?!a.animation||a.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!a.animation||a.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return Be(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=ECe(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=nP(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(a){r.timing[a]=n[a]})}}])})();function rP(e,t){return Number(e.id)-Number(t.id)}var LCe=(function(){function e(t){var n=this;Fe(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var a=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(rP),n.animations=n.tick(r,!0,n.animations)[0],a.forEach(function(i){i[1](r)}),n.applyPendingEffects()},this.document=t}return Be(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,a){var i=new NCe(n,r,a),o=new QTe(i,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var a=n.targetAnimations();a.sort(rP);var i=this.tick(Number(this.currentTime),!1,a.slice())[1];i.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(a){r.updateAnimationsPromises(),n(a),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,a){var i=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],c=[],u=[],f=[];return a.forEach(function(d){d.tick(n,r),d._inEffect?(c.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(i.ticking=!0);var h=d._inEffect||d._needsTick;d._inTimeline=h,h?u.push(d):f.push(d)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,f]}}])})();Ne.EasingFunction=XO;Ne.AnimationTimeline=LCe;function xt(e){return new Vy([e],null,e,e.ownerDocument)}let Vy=class qa{constructor(t=null,n=null,r=null,a=null,i=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(t),this._data=n,this._parent=r,this._document=a,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=o,this._facetElements=s}selectAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new qa(n,null,this._elements[0],this._document)}selectFacetAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new qa(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(t){const n=typeof t=="string"?this._parent.querySelectorAll(t)[0]||null:t;return new qa([n],null,n,this._document)}append(t){const n=typeof t=="function"?t:()=>this.createElement(t),r=[];if(this._data!==null){for(let a=0;a<this._data.length;a++){const i=this._data[a],[o,s]=Array.isArray(i)?i:[i,null],l=n(o,a);l.__data__=o,s!==null&&(l.__fromElements__=s),this._parent.appendChild(l),r.push(l)}return new qa(r,null,this._parent,this._document)}else{for(let a=0;a<this._elements.length;a++){const i=this._elements[a],o=i.__data__,s=n(o,a);i.appendChild(s),r.push(s)}return new qa(r,null,r[0],this._document)}}maybeAppend(t,n,r){const a=this._elements[0],i=a.getElementById(t);if(i)return new qa([i],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=t,r&&(o.className=r),a.appendChild(o),new qa([o],null,this._parent,this._document)}data(t,n=a=>a,r=()=>null){const a=[],i=[],o=new Set(this._elements),s=[],l=new Set,c=new Map(this._elements.map((h,p)=>[n(h.__data__,p),h])),u=new Map(this._facetElements.map((h,p)=>[n(h.__data__,p),h])),f=er(this._elements,h=>r(h.__data__));for(let h=0;h<t.length;h++){const p=t[h],v=n(p,h),g=r(p,h);if(c.has(v)){const m=c.get(v);m.__data__=p,m.__facet__=!1,i.push(m),o.delete(m),c.delete(v)}else if(u.has(v)){const m=u.get(v);m.__data__=p,m.__facet__=!0,i.push(m),u.delete(v)}else if(f.has(v)){const m=f.get(v);s.push([p,m]);for(const y of m)o.delete(y);f.delete(v)}else if(c.has(g)){const m=c.get(g);m.__toData__?m.__toData__.push(p):m.__toData__=[p],l.add(m),o.delete(m)}else a.push(p)}const d=[new qa([],a,this._parent,this._document),new qa(i,null,this._parent,this._document),new qa(o,null,this._parent,this._document),new qa([],s,this._parent,this._document),new qa(l,null,this._parent,this._document)];return new qa(this._elements,null,this._parent,this._document,d)}merge(t){const n=[...this._elements,...t._elements],r=[...this._transitions,...t._transitions];return new qa(n,null,this._parent,this._document,void 0,r)}createElement(t){if(this._document)return this._document.createElement(t,{});const n=qa.registry[t];return n?new n:B0(`Unknown node type: ${t}`)}join(t=o=>o,n=o=>o,r=o=>o.remove(),a=o=>o,i=o=>o.remove()){const o=t(this._enter),s=n(this._update),l=r(this._exit),c=a(this._merge),u=i(this._split);return s.merge(o).merge(l).merge(c).merge(u)}remove(){for(let t=0;t<this._elements.length;t++){const n=this._transitions[t];if(this._elements[t].__removed__=!0,n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(a=>a.finished)).then(()=>{const a=this._elements[t];a.__removed__&&a.remove()})}else{const r=this._elements[t];r.__removed__&&r.remove()}}return new qa([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],a=r.__data__;t(a,n,r)}return this}attr(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(a,i,o){n!==void 0&&(o[t]=r(a,i,o))})}style(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(a,i,o){n!==void 0&&(o.style[t]=r(a,i,o))})}transition(t){const n=typeof t!="function"?()=>t:t,{_transitions:r}=this;return this.each(function(a,i,o){r[i]=n(a,i,o)})}on(t,n){return this.each(function(r,a,i){i.addEventListener(t,n)}),this}call(t,...n){return t(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};Vy.registry={g:Ia,rect:Bu,circle:Ll,path:ci,text:Vs,ellipse:P2,image:I2,line:md,polygon:mh,polyline:R2,html:gh};function Gg(e,t,n){return Math.max(t,Math.min(e,n))}function Wy(e,t=10){return typeof e!="number"||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(t))}function ht(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function FCe(e,t){return t.forEach((n,r)=>r===0?e.moveTo(n[0],n[1]):e.lineTo(n[0],n[1])),e.closePath(),e}function BCe(e,t,n){const{arrowSize:r}=n,a=typeof r=="string"?+parseFloat(r)/100*Or(e,t):r,i=Math.PI/6,o=Math.atan2(t[1]-e[1],t[0]-e[0]),s=Math.PI/2-o-i,l=[t[0]-a*Math.sin(s),t[1]-a*Math.cos(s)],c=o-i,u=[t[0]-a*Math.cos(c),t[1]-a*Math.sin(c)];return[l,u]}function F1(e,t,n,r,a){const i=os(Br(r,t))+Math.PI,o=os(Br(r,n))+Math.PI;return e.arc(r[0],r[1],a,i,o,o-i<0),e}function Pj(e,t,n,r="y",a="between",i=!1){const o=(g,m)=>g==="y"||g===!0?m?180:90:m?90:0,s=r==="y"||r===!0?n:t,l=o(r,i),c=hd(s),[u,f]=mc(c,g=>s[g]),d=new kc({domain:[u,f],range:[0,100]}),h=g=>nr(s[g])&&!Number.isNaN(s[g])?d.map(s[g]):0,p={between:g=>`${e[g]} ${h(g)}%`,start:g=>g===0?`${e[g]} ${h(g)}%`:`${e[g-1]} ${h(g)}%, ${e[g]} ${h(g)}%`,end:g=>g===e.length-1?`${e[g]} ${h(g)}%`:`${e[g]} ${h(g)}%, ${e[g+1]} ${h(g)}%`},v=c.sort((g,m)=>h(g)-h(m)).map(p[a]||p.between).join(",");return`linear-gradient(${l}deg, ${v})`}function N2(e){const[t,n,r,a]=e;return[a,t,n,r]}function yd(e,t,n){const[r,a,,i]=tr(e)?N2(t):t,[o,s]=n,l=e.getCenter(),c=j0(Br(r,l)),u=j0(Br(a,l)),f=u===c&&o!==s?u+Math.PI*2:u,d=1e-4;return{startAngle:c+d,endAngle:(f-c>=0?f:Math.PI*2+f)-d,innerRadius:Or(i,l),outerRadius:Or(r,l)}}function KO(e){const{colorAttribute:t,opacityAttribute:n=t}=e;return`${n}Opacity`}function Ij(e,t){if(!$n(e))return"";const n=e.getCenter(),{transform:r}=t;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function ZO(e){if(e.length===1)return e[0];const[[t,n,r=0],[a,i,o=0]]=e;return[(t+a)/2,(n+i)/2,(r+o)/2]}var Rm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Rj(e,t,n,r,a={}){const{inset:i=0,radius:o=0,insetLeft:s=i,insetTop:l=i,insetRight:c=i,insetBottom:u=i,radiusBottomLeft:f=o,radiusBottomRight:d=o,radiusTopLeft:h=o,radiusTopRight:p=o,minWidth:v=-1/0,maxWidth:g=1/0,minHeight:m=-1/0}=a,y=Rm(a,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!$n(r)&&!M$(r)){const A=!!tr(r),[S,,O]=A?N2(t):t,[k,T]=S,[C,M]=Br(O,S),P=C>0?k:k+C,I=M>0?T:T+M,L=Math.abs(C),z=Math.abs(M),N=P+s,G=I+l,Y=L-(s+c),B=z-(l+u),F=A?Gg(Y,m,1/0):Gg(Y,v,g),D=A?Gg(B,v,g):Gg(B,m,1/0),R=A?N:N-(F-Y)/2,V=A?G-(D-B)/2:G-(D-B);return xt(e.createElement("rect",{})).style("x",R).style("y",V).style("width",F).style("height",D).style("radius",[h,p,d,f]).call(ht,y).node()}const{y:x,y1:b}=n,_=r.getCenter(),E=yd(r,t,[x,b]),w=PO().cornerRadius(o).padAngle(i*Math.PI/180);return xt(e.createElement("path",{})).style("d",w(E)).style("transform",`translate(${_[0]}, ${_[1]})`).style("radius",o).style("inset",i).call(ht,y).node()}const Nv=(e,t)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:a=!0,last:i=!0}=e,o=Rm(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=t;return(c,u,f)=>{const{color:d,radius:h=0}=f,p=Rm(f,["color","radius"]),v=p.lineWidth||1,{stroke:g,radius:m=h,radiusTopLeft:y=m,radiusTopRight:x=m,radiusBottomRight:b=m,radiusBottomLeft:_=m,innerRadius:E=0,innerRadiusTopLeft:w=E,innerRadiusTopRight:A=E,innerRadiusBottomRight:S=E,innerRadiusBottomLeft:O=E,lineWidth:k=n==="stroke"||g?v:0,inset:T=0,insetLeft:C=T,insetRight:M=T,insetBottom:P=T,insetTop:I=T,minWidth:L,maxWidth:z,minHeight:N}=o,G=Rm(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:Y=d,opacity:B}=u,F=[a?y:w,a?x:A,i?b:S,i?_:O],D=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];tr(s)&&D.push(D.shift());const R=Object.assign(Object.assign({radius:m},Object.fromEntries(D.map((V,H)=>[V,F[H]]))),{inset:T,insetLeft:C,insetRight:M,insetBottom:P,insetTop:I,minWidth:L,maxWidth:z,minHeight:N});return xt(Rj(l,c,u,s,R)).call(ht,p).style("fill","transparent").style(n,Y).style(KO(e),B).style("lineWidth",k).style("stroke",g===void 0?Y:g).call(ht,G).node()}};Nv.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xd=(e,t)=>Nv(Object.assign({colorAttribute:"fill"},e),t);xd.props=Object.assign(Object.assign({},Nv.props),{defaultMarker:"square"});const L2=(e,t)=>Nv(Object.assign({colorAttribute:"stroke"},e),t);L2.props=Object.assign(Object.assign({},Nv.props),{defaultMarker:"hollowSquare"});var aP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function $Ce(e,t,n){const[r,a,i,o]=e;if(tr(n)){const c=[t?t[0][0]:a[0],a[1]],u=[t?t[3][0]:i[0],i[1]];return[r,c,u,o]}const s=[a[0],t?t[0][1]:a[1]],l=[i[0],t?t[3][1]:i[1]];return[r,s,l,o]}const QO=(e,t)=>{const{adjustPoints:n=$Ce}=e,r=aP(e,["adjustPoints"]),{coordinate:a,document:i}=t;return(o,s,l,c)=>{const{index:u}=s,{color:f}=l,d=aP(l,["color"]),h=c[u+1],p=n(o,h,a),v=!!tr(a),[g,m,y,x]=v?N2(p):p,{color:b=f,opacity:_}=s,E=pd().curve(NO)([g,m,y,x]);return xt(i.createElement("path",{})).call(ht,d).style("d",E).style("fill",b).style("fillOpacity",_).call(ht,r).node()}};QO.props={defaultMarker:"square"};function jCe(e,t,n){const[r,a,i,o]=e;if(tr(n)){const c=[t?t[0][0]:(a[0]+i[0])/2,a[1]],u=[t?t[3][0]:(a[0]+i[0])/2,i[1]];return[r,c,u,o]}const s=[a[0],t?t[0][1]:(a[1]+i[1])/2],l=[i[0],t?t[3][1]:(a[1]+i[1])/2];return[r,s,l,o]}const Dj=(e,t)=>QO(Object.assign({adjustPoints:jCe},e),t);Dj.props={defaultMarker:"square"};function W0(e){const t=typeof e=="function"?e:e.render;return class extends M2{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}var iP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const zCe=W0(e=>{const{d1:t,d2:n,style1:r,style2:a}=e.attributes,i=e.ownerDocument;xt(e).maybeAppend("line",()=>i.createElement("path",{})).style("d",t).call(ht,r),xt(e).maybeAppend("line1",()=>i.createElement("path",{})).style("d",n).call(ht,a)});function UCe(e,t){const n=[],r=[];let a=!1,i=null;for(const o of e)!t(o[0])||!t(o[1])?a=!0:(n.push(o),a&&(a=!1,r.push([i,o])),i=o);return[n,r]}const ds=(e,t)=>{const{curve:n,gradient:r=!1,gradientColor:a="between",defined:i=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:o=!1}=e,s=iP(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=t;return(u,f,d)=>{const{color:h,lineWidth:p}=d,v=iP(d,["color","lineWidth"]),{color:g=h,size:m=p,seriesColor:y,seriesX:x,seriesY:b}=f,_=Ij(l,f),E=tr(l),w=r&&y?Pj(y,x,b,r,a,E):g,A=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),w&&{stroke:w}),m&&{lineWidth:m}),_&&{transform:_}),s);let S;if($n(l)){const P=l.getCenter();S=I=>PSe().angle((L,z)=>j0(Br(I[z],P))).radius((L,z)=>Or(I[z],P)).defined(([L,z])=>i(L)&&i(z)).curve(n)(I)}else S=pd().x(P=>P[0]).y(P=>P[1]).defined(([P,I])=>i(P)&&i(I)).curve(n);const[O,k]=UCe(u,i),T=Xe(A,"connect"),C=!!k.length;if(!C||o&&!Object.keys(T).length)return xt(c.createElement("path",{})).style("d",S(O)||[]).call(ht,A).node();if(C&&!o)return xt(c.createElement("path",{})).style("d",S(u)).call(ht,A).node();const M=P=>P.map(S).join(",");return xt(new zCe).style("style1",Object.assign(Object.assign({},A),T)).style("style2",A).style("d1",M(k)).style("d2",S(u)).node()}};ds.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Nj=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const a=$n(n)?NO:Iv;return ds(Object.assign({curve:a},e),t)(...r)}};Nj.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"line"});var HCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Lj=(e,t)=>{const n=HCe(e,[]),{coordinate:r}=t;return(...a)=>{const i=$n(r)?w$:tr(r)?O$:S$;return ds(Object.assign({curve:i},n),t)(...a)}};Lj.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"smooth"});const Fj=(e,t)=>ds(Object.assign({curve:C$},e),t);Fj.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"hv"});const Bj=(e,t)=>ds(Object.assign({curve:T$},e),t);Bj.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"vh"});const $j=(e,t)=>ds(Object.assign({curve:k$},e),t);$j.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"hvh"});var VCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function WCe(e,t,n,r,a){const i=Br(n,t),o=os(i),s=o+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[a/2*Math.cos(s),a/2*Math.sin(s)],u=[a/2*Math.cos(o),a/2*Math.sin(o)],f=[r/2*Math.cos(o),r/2*Math.sin(o)],d=bg(t,l),h=bg(n,c),p=bg(h,u),v=bg(n,u),g=Br(v,c),m=Br(n,c),y=Br(t,l),x=Br(y,f),b=Br(t,f),_=Br(d,f);e.moveTo(...d),e.lineTo(...h),e.arcTo(...p,...v,a/2),e.arcTo(...g,...m,a/2),e.lineTo(...y),e.arcTo(...x,...b,r/2),e.arcTo(..._,...d,r/2),e.closePath()}const jj=(e,t)=>{const{document:n}=t;return(r,a,i)=>{const{seriesSize:o,color:s}=a,{color:l}=i,c=VCe(i,["color"]),u=us();for(let f=0;f<r.length-1;f++){const d=r[f],h=r[f+1],p=o[f],v=o[f+1];[...d,...h].every(Kn)&&WCe(u,d,h,p,v)}return xt(n.createElement("path",{})).call(ht,c).style("fill",s||l).style("d",u.toString()).call(ht,e).node()}};jj.props=Object.assign(Object.assign({},ds.props),{defaultMarker:"line"});var GCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const JO=(e,t,n)=>[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]];JO.style=["fill"];const zj=JO.bind(void 0);zj.style=["stroke","lineWidth"];const F2=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]];F2.style=["fill"];const Uj=F2.bind(void 0);Uj.style=["fill"];const Hj=F2.bind(void 0);Hj.style=["stroke","lineWidth"];const ek=(e,t,n)=>{const r=n*.618;return[["M",e-r,t],["L",e,t-n],["L",e+r,t],["L",e,t+n],["Z"]]};ek.style=["fill"];const Vj=ek.bind(void 0);Vj.style=["stroke","lineWidth"];const tk=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]};tk.style=["fill"];const Wj=tk.bind(void 0);Wj.style=["stroke","lineWidth"];const nk=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]};nk.style=["fill"];const Gj=nk.bind(void 0);Gj.style=["stroke","lineWidth"];const rk=(e,t,n)=>{const r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]};rk.style=["fill"];const Yj=rk.bind(void 0);Yj.style=["stroke","lineWidth"];const ak=(e,t,n)=>{const r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]};ak.style=["fill"];const Xj=ak.bind(void 0);Xj.style=["stroke","lineWidth"];const qj=(e,t,n)=>[["M",e,t+n],["L",e,t-n]];qj.style=["stroke","lineWidth"];const Kj=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]];Kj.style=["stroke","lineWidth"];const Zj=(e,t,n)=>[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]];Zj.style=["stroke","lineWidth"];const Qj=(e,t,n)=>[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]];Qj.style=["stroke","lineWidth"];const Jj=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];Jj.style=["stroke","lineWidth"];const ik=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];ik.style=["stroke","lineWidth"];const ez=ik.bind(void 0);ez.style=["stroke","lineWidth"];const tz=(e,t,n)=>[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]];tz.style=["stroke","lineWidth"];const nz=(e,t,n)=>[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]];nz.style=["stroke","lineWidth"];const rz=(e,t,n)=>[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]];rz.style=["stroke","lineWidth"];const az=(e,t,n)=>[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]];az.style=["stroke","lineWidth"];const iz=(e,t,n)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];iz.style=["stroke","lineWidth"];const Gy=new Map([["bowtie",ak],["cross",Kj],["dash",ez],["diamond",ek],["dot",ik],["hexagon",rk],["hollowBowtie",Xj],["hollowDiamond",Vj],["hollowHexagon",Yj],["hollowPoint",zj],["hollowSquare",Hj],["hollowTriangle",Wj],["hollowTriangleDown",Gj],["hv",nz],["hvh",az],["hyphen",Jj],["line",qj],["plus",Qj],["point",JO],["rect",Uj],["smooth",tz],["square",F2],["tick",Zj],["triangleDown",nk],["triangle",tk],["vh",rz],["vhv",iz]]);function YCe(e,t){var{d:n,fill:r,lineWidth:a,path:i,stroke:o,color:s}=t,l=GCe(t,["d","fill","lineWidth","path","stroke","color"]);const c=Gy.get(e)||Gy.get("point");return(...u)=>new ci({style:Object.assign(Object.assign({},l),{d:c(...u),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?a||a||2:0})})}function ok(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}function XCe(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var qCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function oz(e,t,n,r){if(t.length===1)return;const{size:a}=n;if(e==="fixed")return a;if(e==="normal"||P$(r)){const[[i,o],[s,l]]=t,c=Math.abs((s-i)/2),u=Math.abs((l-o)/2);return Math.max(0,(c+u)/2)}return a}const an=(e,t)=>{const{colorAttribute:n,symbol:r,mode:a="auto"}=e,i=qCe(e,["colorAttribute","symbol","mode"]),o=Gy.get(ok(r))||Gy.get("point"),{coordinate:s,document:l}=t;return(c,u,f)=>{const{lineWidth:d,color:h}=f,p=i.stroke?d||1:d,{color:v=h,transform:g,opacity:m}=u,[y,x]=ZO(c),_=oz(a,c,u,s)||i.r||f.r;return xt(l.createElement("path",{})).call(ht,f).style("fill","transparent").style("d",o(y,x,_)).style("lineWidth",p).style("transform",g).style("transformOrigin",`${y-_} ${x-_}`).style("stroke",v).style(KO(e),m).style(n,v).call(ht,i).node()}};an.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const sk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);sk.props=Object.assign({defaultMarker:"hollowBowtie"},an.props);const lk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);lk.props=Object.assign({defaultMarker:"hollowDiamond"},an.props);const ck=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);ck.props=Object.assign({defaultMarker:"hollowHexagon"},an.props);const uk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);uk.props=Object.assign({defaultMarker:"hollowPoint"},an.props);const fk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);fk.props=Object.assign({defaultMarker:"hollowSquare"},an.props);const dk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);dk.props=Object.assign({defaultMarker:"hollowTriangle"},an.props);const hk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);hk.props=Object.assign({defaultMarker:"hollowTriangleDown"},an.props);var KCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const sz=(e,t)=>{const{colorAttribute:n,mode:r="auto"}=e,a=KCe(e,["colorAttribute","mode"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{lineWidth:u,color:f}=c,d=a.stroke?u||1:u,{color:h=f,transform:p,opacity:v}=l,[g,m]=ZO(s),x=oz(r,s,l,i)||a.r||c.r;return xt(o.createElement("circle",{})).call(ht,c).style("fill","transparent").style("cx",g).style("cy",m).style("r",x).style("lineWidth",d).style("transform",p).style("transformOrigin",`${g} ${m}`).style("stroke",h).style(KO(e),v).style(n,h).call(ht,a).node()}},B2=(e,t)=>sz(Object.assign({colorAttribute:"fill"},e),t);B2.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const pk=(e,t)=>sz(Object.assign({colorAttribute:"stroke"},e),t);pk.props=Object.assign({defaultMarker:"hollowPoint"},B2.props);const vk=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);vk.props=Object.assign({defaultMarker:"bowtie"},an.props);const gk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);gk.props=Object.assign({defaultMarker:"cross"},an.props);const mk=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);mk.props=Object.assign({defaultMarker:"diamond"},an.props);const yk=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);yk.props=Object.assign({defaultMarker:"hexagon"},an.props);const xk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);xk.props=Object.assign({defaultMarker:"hyphen"},an.props);const bk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);bk.props=Object.assign({defaultMarker:"line"},an.props);const wk=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);wk.props=Object.assign({defaultMarker:"plus"},an.props);const _k=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);_k.props=Object.assign({defaultMarker:"point"},an.props);const Ek=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);Ek.props=Object.assign({defaultMarker:"square"},an.props);const Ak=(e,t)=>an(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);Ak.props=Object.assign({defaultMarker:"tick"},an.props);const Sk=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);Sk.props=Object.assign({defaultMarker:"triangle"},an.props);const Ok=(e,t)=>an(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);Ok.props=Object.assign({defaultMarker:"triangleDown"},an.props);var oP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const kk=(e,t)=>{const{arrow:n=!0,arrowSize:r="40%"}=e,a=oP(e,["arrow","arrowSize"]),{document:i}=t;return(o,s,l)=>{const{defaultColor:c}=l,u=oP(l,["defaultColor"]),{color:f=c,transform:d}=s,[h,p]=o,v=us();if(v.moveTo(...h),v.lineTo(...p),n){const[g,m]=BCe(h,p,{arrowSize:r});v.moveTo(...g),v.lineTo(...p),v.lineTo(...m)}return xt(i.createElement("path",{})).call(ht,u).style("d",v.toString()).style("stroke",f).style("transform",d).call(ht,a).node()}};kk.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function lz(e,t){t(e),e.children&&e.children.forEach(function(n){n&&lz(n,t)})}function Lv(e){$2(e,!0)}function $u(e){$2(e,!1)}function $2(e,t){var n=t?"visible":"hidden";lz(e,function(r){r.attr("visibility",n)})}var ZCe=(function(e){Er(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,pt([],le(n),!1))||this;return a.isMutationObserved=!0,a.addEventListener(Xt.INSERTED,function(){$u(a)}),a}return t})(Ia);function cz(e){var t=e.appendChild(new ZCe({class:"offscreen"}));return $u(t),t}function QCe(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var Tk=(function(e){Er(t,e);function t(n){n===void 0&&(n={});var r=n.style,a=ga(n,["style"]);return e.call(this,Le({style:Le({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},a))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=cz(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t})(Vs);function G0(e){return e*Math.PI/180}function uz(e){return Number((e*180/Math.PI).toPrecision(5))}var yr=(function(){function e(t,n,r,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),a===void 0&&(a=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=n,this.width=r,this.height=a}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,n){return t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom},e})();function mo(e,t){return va(e)?e.apply(void 0,pt([],le(t),!1)):e}var hs=function(e,t){var n=function(a){return"".concat(t,"-").concat(a)},r=Object.fromEntries(Object.entries(e).map(function(a){var i=le(a,2),o=i[0],s=i[1],l=n(s);return[o,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:n}),r},JCe=5,fz=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=JCe),Object.entries(t).forEach(function(a){var i=le(a,2),o=i[0],s=i[1],l=e;Object.prototype.hasOwnProperty.call(t,o)&&(s?Oc(s)?(Oc(e[o])||(l[o]={}),n<r?fz(e[o],s,n+1,r):l[o]=t[o]):Ra(s)?(l[o]=[],l[o]=l[o].concat(s)):l[o]=s:l[o]=s)})},Ws=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)fz(e,t[r]);return e},e4e=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},Yg,dz=Jbe(function(e,t){var n=t.fontSize,r=t.fontFamily,a=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return Yg||(Yg=Ne.offscreenCanvasCreator.getOrCreateContext(void 0)),Yg.font=[i,o,a,"".concat(n,"px"),r].join(" "),Yg.measureText(e).width},function(e,t){return[e,Object.values(t||hz(e)).join()].join("")},4096),hz=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",a=e.style.fontVariant,i=e.style.fontSize;return i=typeof i=="object"?i.value:i,{fontSize:i,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:a}};function pz(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function vz(e,t){var n=pz(e);n&&n.attr(t)}function kA(e,t,n){n===void 0&&(n="..."),vz(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function t4e(e,t,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),vz(e,{wordWrap:!0,wordWrapWidth:t,maxLines:n,textBaseline:r})}function Yy(e){var t=e.canvas,n=e.touches,r=e.offsetX,a=e.offsetY;if(t){var i=t.x,o=t.y;return[i,o]}if(n){var s=n[0],l=s.clientX,c=s.clientY;return[l,c]}return r&&a?[r,a]:[0,0]}function Qf(e){return typeof e=="function"?e():xr(e)||nr(e)?new Tk({style:{text:String(e)}}):e}function n4e(e,t){return typeof e=="function"?e():xr(e)||nr(e)?new gh({style:Le(Le({},t),{innerHTML:String(e)})}):e}function r4e(e,t){return e.reduce(function(n,r){return(n[r[t]]=n[r[t]]||[]).push(r),n},{})}function eo(e,t,n,r,a){return r===void 0&&(r=!0),a===void 0&&(a=function(i){i.node().removeChildren()}),e?n(t):(r&&a(t),null)}function Ka(e,t,n,r,a){return r===void 0&&(r=!0),a===void 0&&(a=!1),r&&e===t||a&&e===n?!0:e>t&&e<n}var a4e=function(e,t){return function(n){return e*(1-n)+t*n}};function i4e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(a){var i=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)i[s]=Ck(e[s],t[s]);for(;s<n;++s)o[s]=t[s];for(s=0;s<r;++s)o[s]=i[s](a);return o}}function o4e(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},r={};return Object.entries(t).forEach(function(a){var i=le(a,2),o=i[0],s=i[1];o in e?n[o]=Ck(e[o],s):r[o]=s}),function(a){return Object.entries(n).forEach(function(i){var o=le(i,2),s=o[0],l=o[1];return r[s]=l(a)}),r}}function Ck(e,t){return typeof e=="number"&&typeof t=="number"?a4e(e,t):Array.isArray(e)&&Array.isArray(t)?i4e(e,t):typeof e=="object"&&typeof t=="object"?o4e(e,t):(function(n){return e})}function s4e(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var a=r.duration,i=a===void 0?0:a,o=Ck(t,n),s=Math.ceil(+i/16),l=new Array(s).fill(0).map(function(c,u,f){return{__keyframe_data__:o(u/(f.length-1))}});return e.animate(l,Le({fill:"both"},r))}function sP(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;i++){var o=e[i],s=o.x,l=o.y,c=o.width,u=o.height,f=le([s+c,l+u],2),d=f[0],h=f[1];s<t&&(t=s),l<n&&(n=l),d>r&&(r=d),h>a&&(a=h)}return new yr(t,n,r-t,a-n)}var l4e=function(e,t,n){var r=e.width,a=e.height,i=n.flexDirection,o=i===void 0?"row":i;n.flexWrap;var s=n.justifyContent,l=s===void 0?"flex-start":s;n.alignContent;var c=n.alignItems,u=c===void 0?"flex-start":c,f=o==="row",d=o==="row"||o==="column",h=f?d?[1,0]:[-1,0]:d?[0,1]:[0,-1],p=le([0,0],2),v=p[0],g=p[1],m=t.map(function(A){var S,O=A.width,k=A.height,T=le([v,g],2),C=T[0],M=T[1];return S=le([v+O*h[0],g+k*h[1]],2),v=S[0],g=S[1],new yr(C,M,O,k)}),y=sP(m),x={"flex-start":0,"flex-end":f?r-y.width:a-y.height,center:f?(r-y.width)/2:(a-y.height)/2},b=m.map(function(A){var S=A.x,O=A.y,k=yr.fromRect(A);return k.x=f?S+x[l]:S,k.y=f?O:O+x[l],k});sP(b);var _=function(A){var S=le(f?["height",a]:["width",r],2),O=S[0],k=S[1];switch(u){case"flex-start":return 0;case"flex-end":return k-A[O];case"center":return k/2-A[O]/2;default:return 0}},E=b.map(function(A){var S=A.x,O=A.y,k=yr.fromRect(A);return k.x=f?S:S+_(k),k.y=f?O+_(k):O,k}),w=E.map(function(A){var S,O,k=yr.fromRect(A);return k.x+=(S=e.x)!==null&&S!==void 0?S:0,k.y+=(O=e.y)!==null&&O!==void 0?O:0,k});return w},c4e=function(e,t,n){return[]};const u4e=(function(e,t,n){if(t.length===0)return[];var r={flex:l4e,grid:c4e},a=n.display in r?r[n.display]:null;return(a==null?void 0:a.call(null,e,t,n))||[]});function sc(e,t){return[e[0]*t,e[1]*t]}function pp(e,t){return[e[0]+t[0],e[1]+t[1]]}function qw(e,t){return[e[0]-t[0],e[1]-t[1]]}function af(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function of(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function B1(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function gz(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function f4e(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function TA(e,t){return+e.toPrecision(t)}function lP(e,t){var n={},r=Array.isArray(t)?t:[t];for(var a in e)r.includes(a)||(n[a]=e[a]);return n}function d4e(e,t,n,r){var a,i=[],o=!!r,s,l,c=[1/0,1/0],u=[-1/0,-1/0],f,d,h;if(o){a=le(r,2),c=a[0],u=a[1];for(var p=0,v=e.length;p<v;p+=1){var g=e[p];c=af(c,g),u=of(u,g)}}for(var p=0,m=e.length;p<m;p+=1){var g=e[p];if(p===0)h=g;else if(p===m-1)d=g,i.push(h),i.push(d);else{var y=[p?p-1:m-1,p-1][1];s=e[y],l=e[p+1];var x=[0,0];x=qw(l,s),x=sc(x,t);var b=B1(g,s),_=B1(g,l),E=b+_;E!==0&&(b/=E,_/=E);var w=sc(x,-b),A=sc(x,_);d=pp(g,w),f=pp(g,A),f=af(f,of(l,g)),f=of(f,af(l,g)),w=qw(f,g),w=sc(w,-b/_),d=pp(g,w),d=af(d,of(s,g)),d=of(d,af(s,g)),A=qw(g,d),A=sc(A,_/b),f=pp(g,A),o&&(d=of(d,c),d=af(d,u),f=of(f,c),f=af(f,u)),i.push(h),i.push(d),h=f}}return i}function h4e(e,t,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!1,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var s=d4e(a,.4,r,n),l=a.length,c=[],u,f,d,i=0;i<l-1;i+=1)u=s[i*2],f=s[i*2+1],d=a[i+1],c.push(["C",u[0],u[1],f[0],f[1],d[0],d[1]]);return c}var p4e=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function v4e(e){return p4e.includes(e)}function cP(e){var t={};for(var n in e)v4e(n)&&(t[n]=e[n]);return t}function g4e(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],a=0;a<e.length;a+=n)r.push(e[a]);return r}function Mk(e,t,n){var r=e.getBBox(),a=r.width,i=r.height,o=t/Math.max(a,i);return e.style.transform="scale(".concat(o,")"),o}function m4e(e,t){var n=new Map;return e.forEach(function(r){var a=t(r);n.has(a)||n.set(a,[]),n.get(a).push(r)}),n}function y4e(e){throw new Error(e)}var x4e=(function(){function e(a,i,o,s,l,c,u){a===void 0&&(a=null),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),l===void 0&&(l=[null,null,null,null,null]),c===void 0&&(c=[]),u===void 0&&(u=[]),t.add(this),this._elements=Array.from(a),this._data=i,this._parent=o,this._document=s,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=c,this._facetElements=u}e.prototype.selectAll=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a):a;return new n(i,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a):a;return new n(this._elements,null,this._parent,this._document,void 0,void 0,i)},e.prototype.select=function(a){var i=typeof a=="string"?this._parent.querySelectorAll(a)[0]||null:a;return new n([i],null,i,this._document)},e.prototype.append=function(a){var i=this,o=typeof a=="function"?a:function(){return i.createElement(a)},s=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var c=this._data[l],u=le(Array.isArray(c)?c:[c,null],2),f=u[0],d=u[1],h=o(f,l);h.__data__=f,d!==null&&(h.__fromElements__=d),this._parent.appendChild(h),s.push(h)}return new n(s,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var p=this._elements[l],f=p.__data__,h=o(f,l);p.appendChild(h),s.push(h)}return new n(s,null,s[0],this._document)},e.prototype.maybeAppend=function(a,i){var o=_w(this,t,"m",r).call(this,a[0]==="#"?a:"#".concat(a),i);return o.attr("id",a),o},e.prototype.maybeAppendByClassName=function(a,i){var o=a.toString(),s=_w(this,t,"m",r).call(this,o[0]==="."?o:".".concat(o),i);return s.attr("className",o),s},e.prototype.maybeAppendByName=function(a,i){var o=_w(this,t,"m",r).call(this,'[name="'.concat(a,'"]'),i);return o.attr("name",a),o},e.prototype.data=function(a,i,o){var s,l;i===void 0&&(i=function(O){return O}),o===void 0&&(o=function(){return null});for(var c=[],u=[],f=new Set(this._elements),d=[],h=new Set,p=new Map(this._elements.map(function(O,k){return[i(O.__data__,k),O]})),v=new Map(this._facetElements.map(function(O,k){return[i(O.__data__,k),O]})),g=m4e(this._elements,function(O){return o(O.__data__)}),m=0;m<a.length;m++){var y=a[m],x=i(y,m),b=o(y,m);if(p.has(x)){var _=p.get(x);_.__data__=y,_.__facet__=!1,u.push(_),f.delete(_),p.delete(x)}else if(v.has(x)){var _=v.get(x);_.__data__=y,_.__facet__=!0,u.push(_),v.delete(x)}else if(g.has(x)){var E=g.get(x);d.push([y,E]);try{for(var w=(s=void 0,Ev(E)),A=w.next();!A.done;A=w.next()){var _=A.value;f.delete(_)}}catch(O){s={error:O}}finally{try{A&&!A.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}g.delete(x)}else if(p.has(b)){var _=p.get(b);_.__toData__?_.__toData__.push(y):_.__toData__=[y],h.add(_),f.delete(_)}else c.push(y)}var S=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(f,null,this._parent,this._document),new n([],d,this._parent,this._document),new n(h,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,S)},e.prototype.merge=function(a){var i=pt(pt([],le(this._elements),!1),le(a._elements),!1),o=pt(pt([],le(this._transitions),!1),le(a._transitions),!1);return new n(i,null,this._parent,this._document,void 0,o)},e.prototype.createElement=function(a){if(this._document)return this._document.createElement(a,{});var i=n.registry[a];return i?new i:y4e("Unknown node type: ".concat(a))},e.prototype.join=function(a,i,o,s,l){a===void 0&&(a=function(p){return p}),i===void 0&&(i=function(p){return p}),o===void 0&&(o=function(p){return p.remove()}),s===void 0&&(s=function(p){return p}),l===void 0&&(l=function(p){return p.remove()});var c=a(this._enter),u=i(this._update),f=o(this._exit),d=s(this._merge),h=l(this._split);return u.merge(c).merge(f).merge(d).merge(h)},e.prototype.remove=function(){for(var a=function(s){var l=i._elements[s],c=i._transitions[s];c?c.then(function(){return l.remove()}):l.remove()},i=this,o=0;o<this._elements.length;o++)a(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(a){for(var i=0;i<this._elements.length;i++){var o=this._elements[i],s=o.__data__;a.call(o,s,i)}return this},e.prototype.attr=function(a,i){var o=typeof i!="function"?function(){return i}:i;return this.each(function(s,l){i!==void 0&&(this[a]=o.call(this,s,l))})},e.prototype.style=function(a,i,o){o===void 0&&(o=!0);var s=typeof i!="function"||!o?function(){return i}:i;return this.each(function(l,c){i!==void 0&&(this.style[a]=s.call(this,l,c))})},e.prototype.styles=function(a,i){return a===void 0&&(a={}),i===void 0&&(i=!0),this.each(function(o,s){var l=this;Object.entries(a).forEach(function(c){var u=le(c,2),f=u[0],d=u[1],h=typeof d!="function"||!i?function(){return d}:d;d!==void 0&&l.attr(f,h.call(l,o,s))})})},e.prototype.update=function(a,i){i===void 0&&(i=!0);var o=typeof a!="function"||!i?function(){return a}:a;return this.each(function(s,l){a&&this.update&&this.update(o.call(this,s,l))})},e.prototype.maybeUpdate=function(a,i){i===void 0&&(i=!0);var o=typeof a!="function"||!i?function(){return a}:a;return this.each(function(s,l){a&&this.update&&this.update(o.call(this,s,l))})},e.prototype.transition=function(a){this._transitions;var i=new Array(this._elements.length);return this.each(function(o,s){i[s]=a.call(this,o,s)}),this._transitions=Hbe(i),this},e.prototype.on=function(a,i){return this.each(function(){this.addEventListener(a,i)}),this},e.prototype.call=function(a){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return a.call.apply(a,pt([this._parent,this],le(i),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(a){return!!a})},e.prototype.parent=function(){return this._parent};var t,n,r;return n=e,t=new WeakSet,r=function(i,o){var s=this._elements[0],l=s.querySelector(i);if(l)return new n([l],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},e.registry={g:Ia,rect:Bu,circle:Ll,path:ci,text:Tk,ellipse:P2,image:I2,line:md,polygon:mh,polyline:R2,html:gh},e})();function It(e){return new x4e([e],null,e,e.ownerDocument)}function b4e(e,t,n){return e.querySelector(t)?It(e).select(t):It(e).append(n)}function oi(e){if(nr(e))return[e,e,e,e];if(Ra(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function uP(e){var t=e.getLocalBounds(),n=t.min,r=t.max,a=le([n,r],2),i=le(a[0],2),o=i[0],s=i[1],l=le(a[1],2),c=l[0],u=l[1];return{x:o,y:s,width:c-o,height:u-s,left:o,bottom:u,top:s,right:c}}function w4e(e,t){var n=le(e,2),r=n[0],a=n[1],i=le(t,2),o=i[0],s=i[1];return r!==o&&a===s}function _4e(e,t){var n,r,a=t.attributes;try{for(var i=Ev(Object.entries(a)),o=i.next();!o.done;o=i.next()){var s=le(o.value,2),l=s[0],c=s[1];l!=="id"&&l!=="className"&&e.attr(l,c)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Pk(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function E4e(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function A4e(e,t){return"".concat(t).concat(Pk(e))}function fP(e,t,n){var r;n===void 0&&(n=!0);var a=t||((r=e.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",i=e.replace(new RegExp("^(".concat(a,")")),"");return n?E4e(i):i}function S4e(e,t){Object.entries(t).forEach(function(n){var r=le(n,2),a=r[0],i=r[1];pt([e],le(e.querySelectorAll(a)),!1).filter(function(o){return o.matches(a)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(i).reduce(function(l,c){return"".concat(l).concat(c.join(":"),";")},"")}})})}var Xg=function(e,t){if(!(e!=null&&e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function Qt(e,t,n){n===void 0&&(n=!1);var r={};return Object.entries(e).forEach(function(a){var i=le(a,2),o=i[0],s=i[1];if(!(o==="className"||o==="class")){if(Xg(o,"show")&&Xg(fP(o,"show"),t)!==n)o===A4e(t,"show")?r[o]=s:r[o.replace(new RegExp(Pk(t)),"")]=s;else if(!Xg(o,"show")&&Xg(o,t)!==n){var l=fP(o,t);l==="filter"&&typeof s=="function"||(r[l]=s)}}}),r}function vl(e,t){return Object.entries(e).reduce(function(n,r){var a=le(r,2),i=a[0],o=a[1];return i.startsWith("show")?n["show".concat(t).concat(i.slice(4))]=o:n["".concat(t).concat(Pk(i))]=o,n},{})}function Cc(e,t){t===void 0&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},a={};return Object.entries(e).forEach(function(i){var o=le(i,2),s=o[0],l=o[1];t.includes(s)||(n.indexOf(s)!==-1?a[s]=l:r[s]=l)}),[r,a]}function O4e(e,t,n){var r=e.getBBox(),a=r.width,i=r.height,o=le([t,n].map(function(c,u){var f;return c.includes("%")?parseFloat(((f=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(u===0?a:i):c}),2),s=o[0],l=o[1];return[s,l]}function mz(e,t){if(t)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=t.replace(n,function(a,i,o){return"translate(".concat(O4e(e,i,o),")")});e.attr("transform",r)}catch{}}function k4e(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(n,r){return e.map(function(a){return a[r]})}))||[]}var dP=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,pt([],le(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(n){return e.appendChild(n)}):e.appendChild(t))};function j2(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}var T4e=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.body.firstElementChild;if(console.log(r==null?void 0:r.getClientRects(),11),!r)return 0;var a=r.getAttribute("style")||"",i=Object.fromEntries(a.split(";").map(function(g){return g.trim()}).filter(function(g){return g.includes(":")}).map(function(g){var m=le(g.split(":").map(function(b){return b.trim()}),2),y=m[0],x=m[1];return[y.toLowerCase(),x]})),o=function(g){if(!g)return 0;var m=g.match(/([\d.]+)px/);return m?parseFloat(m[1]):0};if(i.height)return o(i.height);var s=o(i["font-size"])||16,l=i["line-height"],c;!l||l==="normal"?c=1.2*s:l.endsWith("px")?c=o(l):/^[\d.]+$/.test(l)?c=parseFloat(l)*s:c=s;var u=o(i["padding-top"]),f=o(i["padding-bottom"]);if(i.padding){var d=i.padding.split(/\s+/).map(o);d.length===1||d.length===2?(u=d[0],f=d[0]):(d.length===3||d.length===4)&&(u=d[0],f=d[2])}var h=o(i["border-top-width"]),p=o(i["border-bottom-width"]);if(i.border){var v=i.border.match(/([\d.]+)px/);v&&(h=parseFloat(v[1]),p=parseFloat(v[1]))}if(i["border-width"]){var d=i["border-width"].split(/\s+/).map(o);d.length===1||d.length===2?(h=d[0],p=d[0]):(d.length===3||d.length===4)&&(h=d[0],p=d[2])}return c+u+f+h+p};function C4e(){$2(this,this.attributes.visibility!=="hidden")}var Da=(function(e){Er(t,e);function t(n,r){r===void 0&&(r={});var a=e.call(this,Ws({},{style:r},n))||this;return a.initialized=!1,a._defaultOptions=r,a}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=cz(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t.prototype.attributeChangedCallback=function(n){n==="visibility"&&C4e.call(this)},t.prototype.update=function(n,r){var a;return this.attr(Ws({},this.attributes,n||{})),(a=this.render)===null||a===void 0?void 0:a.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(n,r){},t.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=ga(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},t})(M2),yz=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},M4e=yz,P4e=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},I4e=function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},R4e=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},D4e=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]},N4e=function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]},L4e=function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]},xz=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},F4e=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]},B4e=function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]},$4e=function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]},j4e=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},bz=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},z4e=bz,U4e=function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]},H4e=function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]},V4e=function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]},W4e=function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]};function G4e(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var Y4e=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]},X4e=function(e,t,n){var r=n,a=n*.2,i=n*.7;return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"],["M",e-i,t],["L",e-a,t],["M",e+a,t],["L",e+i,t],["M",e,t-i],["L",e,t-a],["M",e,t+a],["L",e,t+i]]};function q4e(e){var t="default";if(_v(e)&&e instanceof Image)t="image";else if(va(e))t="symbol";else if(xr(e)){var n=new RegExp("data:(image|text)");e.match(n)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function K4e(e){var t=q4e(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var mn=(function(e){Er(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o,l=this.getSubShapeStyle(n),c=l.symbol,u=l.size,f=u===void 0?16:u,d=ga(l,["symbol","size"]),h=K4e(c);eo(!!h,It(r),function(p){p.maybeAppendByClassName("marker",h).attr("className","marker ".concat(h,"-marker")).call(function(v){if(h==="image"){var g=f*2;v.styles({img:c,width:g,height:g,x:i-f,y:s-f})}else{var g=f/2,m=va(c)?c:t.getSymbol(c);v.styles(Le({d:m==null?void 0:m(i,s,g)},d))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(n,r){t.MARKER_SYMBOL_MAP.set(n,r)},t.getSymbol=function(n){return t.MARKER_SYMBOL_MAP.get(n)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t})(Da);mn.registerSymbol("cross",F4e);mn.registerSymbol("hyphen",j4e);mn.registerSymbol("line",xz);mn.registerSymbol("plus",$4e);mn.registerSymbol("tick",B4e);mn.registerSymbol("circle",yz);mn.registerSymbol("point",M4e);mn.registerSymbol("bowtie",L4e);mn.registerSymbol("hexagon",N4e);mn.registerSymbol("square",P4e);mn.registerSymbol("diamond",I4e);mn.registerSymbol("triangle",R4e);mn.registerSymbol("triangle-down",D4e);mn.registerSymbol("line",xz);mn.registerSymbol("dot",bz);mn.registerSymbol("dash",z4e);mn.registerSymbol("smooth",U4e);mn.registerSymbol("hv",H4e);mn.registerSymbol("vh",V4e);mn.registerSymbol("hvh",W4e);mn.registerSymbol("vhv",G4e);mn.registerSymbol("focus",X4e);function Xy(e,...t){return t.reduce((n,r)=>a=>n(r(a)),e)}function CA(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function Z4e(e,t){const n=t<e?t:e,r=e>t?e:t;return a=>Math.min(Math.max(n,a),r)}function Q4e(e,t,n,r,a){let i=n,o=r||e.length;const s=(l=>l);for(;i<o;){const l=Math.floor((i+o)/2);s(e[l])>t?o=l:i=l+1}return i}const hP=Math.sqrt(50),pP=Math.sqrt(10),vP=Math.sqrt(2);function Dm(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/10**a;return a>=0?(i>=hP?10:i>=pP?5:i>=vP?2:1)*10**a:-(10**-a)/(i>=hP?10:i>=pP?5:i>=vP?2:1)}const J4e=(e,t,n=5)=>{const r=[e,t];let a=0,i=r.length-1,o=r[a],s=r[i],l;return s<o&&([o,s]=[s,o],[a,i]=[i,a]),l=Dm(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=Dm(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=Dm(o,s,n)),l>0?(r[a]=Math.floor(o/l)*l,r[i]=Math.ceil(s/l)*l):l<0&&(r[a]=Math.ceil(o*l)/l,r[i]=Math.floor(s*l)/l),r};function gP(e){return!Rn(e)&&!h9(e)&&!Number.isNaN(e)}function Kw(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function e8e(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,a=e[3];if(n===0)return[r*255,r*255,r*255,a];const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=Kw(o,i,t+1/3),l=Kw(o,i,t),c=Kw(o,i,t-1/3);return[s*255,l*255,c*255,a]}function mP(e){const t=nB.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?e8e(r):null}const qy=(e,t)=>n=>e*(1-n)+t*n,t8e=(e,t)=>{const n=mP(e),r=mP(t);return n===null||r===null?n?()=>e:()=>t:a=>{const i=new Array(4);for(let u=0;u<4;u+=1){const f=n[u],d=r[u];i[u]=f*(1-a)+d*a}const[o,s,l,c]=i;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},n8e=(e,t)=>typeof e=="number"&&typeof t=="number"?qy(e,t):typeof e=="string"&&typeof t=="string"?t8e(e,t):()=>e,r8e=(e,t)=>{const n=qy(e,t);return r=>Math.round(n(r))};function yP({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function a8e({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function i8e({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function o8e(e){return typeof e=="object"?e.valueOf():e}class xP extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=o8e,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(yP({map:this.map,initKey:this.initKey},t))}has(t){return super.has(yP({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(a8e({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(i8e({map:this.map,initKey:this.initKey},t))}}class wz{constructor(t){this.options=Me({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=Me({},this.options,t),this.rescale(t)}rescale(t){}}const z2=Symbol("defaultUnknown");function bP(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function wP(e){const{value:t,from:n,to:r,mapper:a,notFoundReturn:i}=e;let o=a.get(t);if(o===void 0){if(i!==z2)return i;o=n.push(t)-1,a.set(t,o)}return r[o%r.length]}function _P(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let s8e=class _z extends wz{getDefaultOptions(){return{domain:[],range:[],unknown:z2}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&bP(this.domainIndexMap,this.getDomain(),this.domainKey),wP({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&bP(this.rangeIndexMap,this.getRange(),this.rangeKey),wP({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=_P(n),this.rangeKey=_P(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new _z(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function l8e(e){const t=Math.min(...e);return e.map(n=>n/t)}function c8e(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function u8e(e){return Math.round(e*1e12)/1e12}function f8e(e){const{domain:t,range:n,paddingOuter:r,paddingInner:a,flex:i,round:o,align:s}=e,l=t.length,c=c8e(i,l),[u,f]=n,d=f-u,h=2/l*r+1-1/l*a,p=d/h,v=p*a/l,g=p-l*v,m=l8e(c),y=m.reduce((T,C)=>T+C),x=g/y,b=new xP(t.map((T,C)=>{const M=m[C]*x;return[T,o?Math.floor(M):M]})),_=new xP(t.map((T,C)=>{const P=m[C]*x+v;return[T,o?Math.floor(P):P]})),E=Array.from(_.values()).reduce((T,C)=>T+C),A=(d-(E-E/l*a))*s,S=u+A;let O=o?Math.round(S):S;const k=new Array(l);for(let T=0;T<l;T+=1){k[T]=u8e(O);const C=t[T];O+=_.get(C)}return{valueBandWidth:b,valueStep:_,adjustedRange:k}}function d8e(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return f8e(e);const{range:i,paddingOuter:o,paddingInner:s,round:l,align:c}=e;let u,f,d=i[0];const p=i[1]-d,v=o*2,g=r-s;u=p/Math.max(1,v+g),l&&(u=Math.floor(u)),d+=(p-u*(r-s))*c,f=u*(1-s),l&&(d=Math.round(d),f=Math.round(f));const m=new Array(r).fill(0).map((y,x)=>d+x*u);return{valueStep:u,valueBandWidth:f,adjustedRange:m}}let Ez=class Az extends s8e{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:z2,flex:[]}}constructor(t){super(t)}clone(){return new Az(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:a,flex:i}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=d8e({align:t,range:r,round:a,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const h8e=(e,t,n)=>{let r,a,i=e,o=t;if(i===o&&n>0)return[i];let s=Dm(i,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){i=Math.ceil(i/s),o=Math.floor(o/s),a=new Array(r=Math.ceil(o-i+1));for(let l=0;l<r;l+=1)a[l]=(i+l)*s}else{s=-s,i=Math.ceil(i*s),o=Math.floor(o*s),a=new Array(r=Math.ceil(o-i+1));for(let l=0;l<r;l+=1)a[l]=(i+l)/s}return a},p8e=(e,t,n)=>{const[r,a]=e,[i,o]=t;let s,l;return r<a?(s=CA(r,a),l=n(i,o)):(s=CA(a,r),l=n(o,i)),Xy(l,s)},v8e=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,l=o?[...t].reverse():t;for(let c=0;c<r;c+=1)a[c]=CA(s[c],s[c+1]),i[c]=n(l[c],l[c+1]);return c=>{const u=Q4e(e,c,1,r)-1,f=a[u],d=i[u];return Xy(d,f)(c)}},EP=(e,t,n,r)=>(Math.min(e.length,t.length)>2?v8e:p8e)(e,t,r?r8e:n);let g8e=class extends wz{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:qy,tickCount:5}}map(t){return gP(t)?this.output(t):this.options.unknown}invert(t){return gP(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,n,r,...a]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...a)}getTicks(){const{tickMethod:t}=this.options,[n,r,a,...i]=this.getTickMethodOptions();return t(n,r,a,...i)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],a=t[t.length-1];return[r,a,n]}chooseNice(){return J4e}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,a=this.options.domain.map(t),i=Math.min(a.length,r.length);return n?Z4e(a[0],a[i-1]):Rl}composeOutput(t,n){const{domain:r,range:a,round:i,interpolate:o}=this.options,s=EP(r.map(t),a,o,i);this.output=Xy(s,n,t)}composeInput(t,n,r){const{domain:a,range:i}=this.options,o=EP(i,a.map(t),qy);this.input=Xy(n,r,o)}},Ya=class Sz extends g8e{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:n8e,tickMethod:h8e,tickCount:5}}chooseTransforms(){return[Rl,Rl]}clone(){return new Sz(this.options)}},m8e=class Oz extends Ez{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:z2,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new Oz(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}};var y8e=(function(e){Er(t,e);function t(n){var r=this,a=n.style,i=ga(n,["style"]);return r=e.call(this,Me({},{type:"column"},Le({style:a},i)))||this,r.columnsGroup=new Ia({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.columns,a=n.x,i=n.y;this.columnsGroup.style.transform="translate(".concat(a,", ").concat(i,")"),It(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},t.prototype.update=function(n){this.attr(Ws({},this.attributes,n)),this.render()},t.prototype.clear=function(){this.removeChildren()},t})(or),x8e=(function(e){Er(t,e);function t(n){var r=this,a=n.style,i=ga(n,["style"]);return r=e.call(this,Me({},{type:"lines"},Le({style:a},i)))||this,r.linesGroup=r.appendChild(new Ia),r.areasGroup=r.appendChild(new Ia),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.lines,a=n.areas,i=n.x,o=n.y;this.style.transform="translate(".concat(i,", ").concat(o,")"),r&&this.renderLines(r),a&&this.renderAreas(a)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(n){this.attr(Ws({},this.attributes,n)),this.render()},t.prototype.renderLines=function(n){It(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.attr(a)})},function(r){return r.remove()})},t.prototype.renderAreas=function(n){It(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.style(a)})},function(r){return r.remove()})},t})(or);function b8e(e,t){var n,r=t.x,a=t.y,i=le(a.getOptions().range||[0,0],2),o=i[0],s=i[1];return s>o&&(n=le([o,s],2),s=n[0],o=n[1]),e.map(function(l){var c=l.map(function(u,f){return[r.map(f),jr(a.map(u),s,o)]});return c})}function $1(e,t){t===void 0&&(t=!1);var n=t?e.length-1:0,r=e.map(function(a,i){return pt([i===n?"M":"L"],le(a),!1)});return t?r.reverse():r}function Ky(e,t){if(t===void 0&&(t=!1),e.length<=2)return $1(e);for(var n=[],r=e.length,a=0;a<r;a+=1){var i=t?e[r-a-1]:e[a];A1(i,n.slice(-2))||n.push.apply(n,pt([],le(i),!1))}var o=h4e(n);return t?o.unshift(pt(["M"],le(e[r-1]),!1)):o.unshift(pt(["M"],le(e[0]),!1)),o}function Ik(e,t,n){var r=E1(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function w8e(e,t,n,r){return e.map(function(a){return Ik(t?Ky(a):$1(a),n,r)})}function _8e(e,t,n){for(var r=[],a=e.length-1;a>=0;a-=1){var i=e[a],o=$1(i),s=void 0;if(a===0)s=Ik(o,t,n);else{var l=e[a-1],c=$1(l,!0);c[0][0]="L",s=pt(pt(pt([],le(o),!1),le(c),!1),[["Z"]],!1)}r.push(s)}return r}function E8e(e,t,n){for(var r=[],a=e.length-1;a>=0;a-=1){var i=e[a],o=Ky(i),s=void 0;if(a===0)s=Ik(o,t,n);else{var l=e[a-1],c=Ky(l,!0),u=i[0];c[0][0]="L",s=pt(pt(pt([],le(o),!1),le(c),!1),[pt(["M"],le(u),!1),["Z"]],!1)}r.push(s)}return r}function AP(e){return e.length===0?[0,0]:[xy(Xbe(e,function(t){return xy(t)||0})),yy(Ybe(e,function(t){return yy(t)||0}))]}function SP(e){for(var t=E1(e),n=t[0].length,r=le([Array(n).fill(0),Array(n).fill(0)],2),a=r[0],i=r[1],o=0;o<t.length;o+=1)for(var s=t[o],l=0;l<n;l+=1)s[l]>=0?(s[l]+=a[l],a[l]=s[l]):(s[l]+=i[l],i[l]=s[l]);return t}var A8e=(function(e){Er(t,e);function t(n){return e.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||(n==null?void 0:n.length)===0)return[[]];var r=E1(n);return nr(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?SP(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var n=this.scales.y,r=le(n.getOptions().domain||[0,0],2),a=r[0],i=r[1];return i<0?n.map(i):n.map(a<0?0:a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,a=n.height;return{width:r,height:a}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,a=r.type,i=r.isStack,o=r.smooth;if(a!=="line")throw new Error("linesStyle can only be used in line type");var s=Qt(this.attributes,"area"),l=Qt(this.attributes,"line"),c=this.containerShape.width,u=this.data;if(u[0].length===0)return{lines:[],areas:[]};var f=this.scales,d=f.x,h=f.y,p=b8e(u,{x:d,y:h}),v=[];if(s){var g=this.baseline;i?v=o?E8e(p,c,g):_8e(p,c,g):v=w8e(p,o,c,g)}return{lines:p.map(function(m,y){return Le({stroke:n.getColor(y),d:o?Ky(m):$1(m)},l)}),areas:v.map(function(m,y){return Le({d:m,fill:n.getColor(y)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var n=this,r=Qt(this.attributes,"column"),a=this.attributes,i=a.isStack,o=a.type,s=a.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};i&&(c=SP(c));var u=this.createScales(c),f=u.x,d=u.y,h=le(AP(c),2),p=h[0],v=h[1],g=new Ya({domain:[0,v-(p>0?0:p)],range:[0,l*s]}),m=f.getBandWidth(),y=this.rawData;return{columns:c.map(function(x,b){return x.map(function(_,E){var w=m/c.length,A=function(){return{x:f.map(E)+w*b,y:_>=0?d.map(_):d.map(0),width:w,height:g.map(Math.abs(_))}},S=function(){return{x:f.map(E),y:d.map(_),width:m,height:g.map(y[b][E])}};return Le(Le({fill:n.getColor(b)},r),i?S():A())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){b4e(r,".container","rect").attr("className","container").node();var a=n.type,i=n.x,o=n.y,s="spark".concat(a),l=Le({x:i,y:o},a==="line"?this.linesStyle:this.columnsStyle);It(r).selectAll(".spark").data([a]).join(function(c){return c.append(function(u){return u==="line"?new x8e({className:s,style:l}):new y8e({className:s,style:l})}).attr("className","spark ".concat(s))},function(c){return c.update(l)},function(c){return c.remove()})},t.prototype.getColor=function(n){var r=this.attributes.color;return Ra(r)?r[n%r.length]:va(r)?r.call(null,n):r},t.prototype.createScales=function(n){var r,a,i=this.attributes,o=i.type,s=i.scale,l=i.range,c=l===void 0?[]:l,u=i.spacing,f=this.containerShape,d=f.width,h=f.height,p=le(AP(n),2),v=p[0],g=p[1],m=new Ya({domain:[(r=c[0])!==null&&r!==void 0?r:v,(a=c[1])!==null&&a!==void 0?a:g],range:[h,h*(1-s)]});return o==="line"?{type:o,x:new Ya({domain:[0,n[0].length-1],range:[0,d]}),y:m}:{type:o,x:new Ez({domain:n[0].map(function(y,x){return x}),range:[0,d],paddingInner:u,paddingOuter:u/2,align:.5}),y:m}},t.tag="sparkline",t})(Da);function S8e(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function OP(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(r){var a=le(r,1),i=a[0];return!t.includes(i)}));return Object.fromEntries(t.map(function(r){return S8e(e)?e[r]===!1?[r,!1]:[r,Le(Le({},e[r]),n)]:[r,n]}))}function yh(e,t){e?e.finished.then(t):t()}function O8e(e,t){e.length===0?t():Promise.all(e.map(function(n){return n==null?void 0:n.finished})).then(t)}function kz(e,t){"update"in e?e.update(t):e.attr(t)}function Tz(e,t,n){if(t.length===0)return null;if(!n){var r=t.slice(-1)[0];return kz(e,{style:r}),null}return e.animate(t,n)}function k8e(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function T8e(e,t,n,r){if(r===void 0&&(r="destroy"),k8e(e,t))return e.remove(),[null];var a=function(){r==="destroy"?e.destroy():r==="hide"&&$u(e),t.isVisible()&&Lv(t)};if(!n)return a(),[null];var i=n.duration,o=i===void 0?0:i,s=n.delay,l=s===void 0?0:s,c=Math.ceil(+o/2),u=+o/4,f=le(e.getGeometryBounds().center,2),d=f[0],h=f[1],p=le(t.getGeometryBounds().center,2),v=p[0],g=p[1],m=le([(d+v)/2-d,(h+g)/2-h],2),y=m[0],x=m[1],b=e.style.opacity,_=b===void 0?1:b,E=t.style.opacity,w=E===void 0?1:E,A=e.style.transform||"",S=t.style.transform||"",O=e.animate([{opacity:_,transform:"translate(0, 0) ".concat(A)},{opacity:0,transform:"translate(".concat(y,", ").concat(x,") ").concat(A)}],Le(Le({fill:"both"},n),{duration:l+c+u})),k=t.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-x,") ").concat(S),offset:.01},{opacity:w,transform:"translate(0, 0) ".concat(S)}],Le(Le({fill:"both"},n),{duration:c+u,delay:l+c-u}));return yh(k,a),[O,k]}function js(e,t,n){var r={},a={};return Object.entries(t).forEach(function(i){var o=le(i,2),s=o[0],l=o[1];if(!wt(l)){var c=e.style[s]||e.parsedStyle[s]||0;c!==l&&(r[s]=c,a[s]=l)}}),n?Tz(e,[r,a],Le({fill:"both"},n)):(kz(e,a),null)}function U2(e,t){return e.style.opacity||(e.style.opacity=1),js(e,{opacity:0},t)}var Cz={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Mz={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},Pz={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},al=hs({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Zc=hs({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),C8e=(function(e){Er(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var a=n.x,i=n.y,o=n.size,s=o===void 0?10:o,l=n.radius,c=l===void 0?s/4:l,u=n.orientation,f=ga(n,["x","y","size","radius","orientation"]),d=s,h=d*2.4,p=It(r).maybeAppendByClassName(Zc.iconRect,"rect").styles(Le(Le({},f),{width:d,height:h,radius:c,x:a-d/2,y:i-h/2,transformOrigin:"center"})),v=a+1/3*d-d/2,g=a+2/3*d-d/2,m=i+1/4*h-h/2,y=i+3/4*h-h/2;p.maybeAppendByClassName("".concat(Zc.iconLine,"-1"),"line").styles(Le({x1:v,x2:v,y1:m,y2:y},f)),p.maybeAppendByClassName("".concat(Zc.iconLine,"-2"),"line").styles(Le({x1:g,x2:g,y1:m,y2:y},f)),u==="vertical"&&(p.node().style.transform="rotate(90)")},t})(Da),Iz=(function(e){Er(t,e);function t(n){return e.call(this,n,Pz)||this}return t.prototype.renderLabel=function(n){var r=this,a=this.attributes,i=a.x,o=a.y,s=a.showLabel,l=Qt(this.attributes,"label"),c=l.x,u=c===void 0?0:c,f=l.y,d=f===void 0?0:f,h=l.transform,p=l.transformOrigin,v=ga(l,["x","y","transform","transformOrigin"]),g=le(Cc(v,[]),2),m=g[0],y=g[1],x=It(n).maybeAppendByClassName(Zc.labelGroup,"g").styles(y),b=Le(Le({},Mz),m),_=b.text,E=ga(b,["text"]);eo(!!s,x,function(w){r.label=w.maybeAppendByClassName(Zc.label,"text").styles(Le(Le({},E),{x:i+u,y:o+d,transform:h,transformOrigin:p,text:"".concat(_)})),r.label.on("mousedown",function(A){A.stopPropagation()}),r.label.on("touchstart",function(A){A.stopPropagation()})})},t.prototype.renderIcon=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.orientation,s=r.type,l=Le(Le({x:a,y:i,orientation:o},Cz),Qt(this.attributes,"icon")),c=this.attributes.iconShape,u=c===void 0?function(){return new C8e({style:l})}:c,f=It(n).maybeAppendByClassName(Zc.iconGroup,"g");f.selectAll(Zc.icon.class).data([u]).join(function(d){return d.append(typeof u=="string"?u:function(){return u(s)}).attr("className",Zc.icon.name)},function(d){return d.update(l)},function(d){return d.remove()})},t.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},t})(Da),Rz=(function(e){Er(t,e);function t(n){var r=e.call(this,n,Le(Le(Le({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(a){return a.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},vl(Pz,"handle")),vl(Cz,"handleIcon")),vl(Mz,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(a){return function(i){i.stopPropagation(),r.target=a,r.prevPos=r.getOrientVal(Yy(i));var o=r.availableSpace,s=o.x,l=o.y,c=r.getBBox(),u=c.x,f=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,l])-r.getOrientVal([+u,+f])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(a){var i=r.attributes,o=i.slidable,s=i.brushable,l=i.type;a.stopPropagation();var c=r.getOrientVal(Yy(a)),u=c-r.prevPos;if(u){var f=r.getRatio(u);switch(r.target){case"start":o&&r.setValuesOffset(f);break;case"end":o&&r.setValuesOffset(0,f);break;case"selection":o&&r.setValuesOffset(f,f);break;case"track":if(!s)return;r.selectionWidth+=f,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(a){var i=r.attributes,o=i.onChange,s=i.type,l=s==="range"?a:a[1],c=s==="range"?r.getValues():r.getValues()[1],u=new Fn("valuechange",{detail:{oldValue:l,value:c}});r.dispatchEvent(u),o==null||o(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=Qt(this.attributes,"sparkline");return Le(Le({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,a=n.trackSize,i=le(this.getOrientVal([[r,a],[a,r]]),2),o=i[0],s=i[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,a=le(oi(r),4),i=a[0],o=a[1],s=a[2],l=a[3],c=this.shape,u=c.width,f=c.height;return{x:l,y:i,width:u-(l+o),height:f-(i+s)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var a=r===!1?!1:this.attributes.animate;this.updateSelectionArea(a),this.updateHandlesPosition(a)},t.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(al.selection.class).each(function(a,i){js(this,r[i],n)})},t.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&js(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&js(this.endHandle,this.getHandleStyle("end"),n))},t.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var a=this.values,i=this.clampValues(n);this.attributes.values=i,this.setValues(i),r&&this.onValueChange(a)},t.prototype.renderTrack=function(n){var r=this.attributes,a=r.x,i=r.y,o=Qt(this.attributes,"track");this.trackShape=It(n).maybeAppendByClassName(al.track,"rect").styles(Le(Le({x:a,y:i},this.shape),o))},t.prototype.renderBrushArea=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.brushable;this.brushArea=It(n).maybeAppendByClassName(al.brushArea,"rect").styles(Le({x:a,y:i,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(n){var r=this,a=this.attributes,i=a.x,o=a.y,s=a.orientation,l=It(n).maybeAppendByClassName(al.sparklineGroup,"g");eo(s==="horizontal",l,function(c){var u=Le(Le({},r.sparklineStyle),{x:i,y:o});c.maybeAppendByClassName(al.sparkline,function(){return new A8e({style:u})}).update(u)})},t.prototype.renderHandles=function(){var n=this,r,a=this.attributes,i=a.showHandle,o=a.type,s=o==="range"?["start","end"]:["end"],l=i?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(al.handle.class).data(l.map(function(u){return{type:u}}),function(u){return u.type}).join(function(u){return u.append(function(f){var d=f.type;return new Iz({style:n.getHandleStyle(d)})}).each(function(f){var d=f.type;this.attr("class","".concat(al.handle.name," ").concat(d,"-handle"));var h="".concat(d,"Handle");c[h]=this,this.addEventListener("pointerdown",c.onDragStart(d))})},function(u){return u.each(function(f){var d=f.type;this.update(c.getHandleStyle(d))})},function(u){return u.each(function(f){var d=f.type,h="".concat(d,"Handle");c[h]=void 0}).remove()})},t.prototype.renderSelection=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=It(n).maybeAppendByClassName(al.foreground,"g");var l=Qt(this.attributes,"selection"),c=function(f){return f.style("visibility",function(d){return d.show?"visible":"hidden"}).style("cursor",function(d){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(Le(Le({},l),{transform:"translate(".concat(a,", ").concat(i,")")}))},u=this;this.foregroundGroup.selectAll(al.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(f,d){return{style:Le({},f),index:d,show:s==="select"?d===1:d!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",al.selection.name).call(c).each(function(d,h){var p=this;h===1?(u.selectionShape=It(this),this.on("pointerdown",function(v){p.attr("cursor","grabbing"),u.onDragStart("selection")(v)}),u.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),u.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),u.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){p.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){p.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){p.attr("cursor","pointer")})):this.on("pointerdown",u.onDragStart("track"))})},function(f){return f.call(c)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},t.prototype.clampValues=function(n,r){var a;r===void 0&&(r=4);var i=le(this.range,2),o=i[0],s=i[1],l=le(this.getValues().map(function(g){return TA(g,r)}),2),c=l[0],u=l[1],f=Array.isArray(n)?n:[c,n??u],d=le((f||[c,u]).map(function(g){return TA(g,r)}),2),h=d[0],p=d[1];if(this.attributes.type==="value")return[0,jr(p,o,s)];h>p&&(a=le([p,h],2),h=a[0],p=a[1]);var v=p-h;return v>s-o?[o,s]:h<o?c===o&&u===p?[o,p]:[o,v+o]:p>s?u===s&&c===h?[h,s]:[s-v,s]:[h,p]},t.prototype.calcSelectionArea=function(n){var r=le(this.clampValues(n),2),a=r[0],i=r[1],o=this.availableSpace,s=o.x,l=o.y,c=o.width,u=o.height;return this.getOrientVal([[{y:l,height:u,x:s,width:a*c},{y:l,height:u,x:a*c+s,width:(i-a)*c},{y:l,height:u,x:i*c,width:(1-i)*c}],[{x:s,width:c,y:l,height:a*u},{x:s,width:c,y:a*u+l,height:(i-a)*u},{x:s,width:c,y:i*u,height:(1-i)*u}]])},t.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,a=this.availableSpace,i=a.x,o=a.y,s=a.width,l=a.height,c=le(this.clampValues(),2),u=c[0],f=c[1],d=n==="start"?-r:r,h=(n==="start"?u:f)*this.getOrientVal([s,l])+d;return{x:i+this.getOrientVal([h,s/2]),y:o+this.getOrientVal([l/2,h])}},t.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(n){var r,a=this.attributes,i=a.type,o=a.orientation,s=a.formatter,l=a.autoFitLabel,c=Qt(this.attributes,"handle"),u=Qt(c,"label"),f=c.spacing,d=this.getHandleSize(),h=this.clampValues(),p=n==="start"?h[0]:h[1],v=s(p),g=new Tk({style:Le(Le(Le({},u),this.inferTextStyle(n)),{text:v})}),m=g.getBBox(),y=m.width,x=m.height;if(g.destroy(),!l){if(i==="value")return{text:v,x:0,y:-x-f};var b=f+d+(o==="horizontal"?y/2:0);return r={text:v},r[o==="horizontal"?"x":"y"]=n==="start"?-b:b,r}var _=0,E=0,w=this.availableSpace,A=w.width,S=w.height,O=this.calcSelectionArea()[1],k=O.x,T=O.y,C=O.width,M=O.height,P=f+d;if(o==="horizontal"){var I=P+y/2;if(n==="start"){var L=k-P-y;_=L>0?-I:I}else{var z=A-k-C-P>y;_=z?I:-I}}else{var N=P,G=x+P;n==="start"?E=T-d>x?-G:N:E=S-(T+M)-d>x?G:-N}return{x:_,y:E,text:v}},t.prototype.getHandleLabelStyle=function(n){var r=Qt(this.attributes,"handleLabel");return Le(Le(Le({},r),this.calcHandleText(n)),this.inferTextStyle(n))},t.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=Qt(this.attributes,"handleIcon"),a=this.getOrientVal(["ew-resize","ns-resize"]),i=this.getHandleSize();return Le({cursor:a,shape:n,size:i},r)},t.prototype.getHandleStyle=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.showLabel,s=r.showLabelOnInteraction,l=r.orientation,c=this.calcHandlePosition(n),u=c.x,f=c.y,d=this.calcHandleText(n),h=o;return!o&&s&&(this.target?h=!0:h=!1),Le(Le(Le({},vl(this.getHandleIconStyle(),"icon")),vl(Le(Le({},this.getHandleLabelStyle(n)),d),"label")),{transform:"translate(".concat(u+a,", ").concat(f+i,")"),orientation:l,showLabel:h,type:n,zIndex:3})},t.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,a=n.width,i=n.height;return r||Math.floor((this.getOrientVal([+i,+a])+4)/2.4)},t.prototype.getOrientVal=function(n){var r=le(n,2),a=r[0],i=r[1],o=this.attributes.orientation;return o==="horizontal"?a:i},t.prototype.setValuesOffset=function(n,r){r===void 0&&(r=0);var a=this.attributes.type,i=le(this.getValues(),2),o=i[0],s=i[1],l=a==="range"?n:0,c=[o+l,s+r].sort();this.innerSetValues(c,!0)},t.prototype.getRatio=function(n){var r=this.availableSpace,a=r.width,i=r.height;return n/this.getOrientVal([a,i])},t.prototype.dispatchCustomEvent=function(n,r,a){var i=this;n.on(r,function(o){o.stopPropagation(),i.dispatchEvent(new Fn(a,{detail:o}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var a=n.deltaX,i=n.deltaY,o=i||a,s=this.getRatio(o);this.setValuesOffset(s,s)}},t.tag="slider",t})(Da),M8e=(function(e){Er(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(a){var i=r.attributes.value;if(a!==i){var o={detail:{oldValue:a,value:i}};r.dispatchEvent(new Fn("scroll",o)),r.dispatchEvent(new Fn("valuechange",o))}},r.onTrackClick=function(a){var i=r.attributes.slidable;if(i){var o=le(r.getLocalPosition(),2),s=o[0],l=o[1],c=le(r.padding,4),u=c[0],f=c[3],d=r.getOrientVal([s+f,l+u]),h=r.getOrientVal(Yy(a)),p=(h-d)/r.trackLength;r.setValue(p,!0)}},r.onThumbMouseenter=function(a){r.dispatchEvent(new Fn("thumbMouseenter",{detail:a.detail}))},r.onTrackMouseenter=function(a){r.dispatchEvent(new Fn("trackMouseenter",{detail:a.detail}))},r.onThumbMouseleave=function(a){r.dispatchEvent(new Fn("thumbMouseleave",{detail:a.detail}))},r.onTrackMouseleave=function(a){r.dispatchEvent(new Fn("trackMouseleave",{detail:a.detail}))},r}return Object.defineProperty(t.prototype,"padding",{get:function(){var n=this.attributes.padding;return oi(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var n=this.attributes.value,r=le(this.range,2),a=r[0],i=r[1];return jr(n,a,i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,a=n.trackLength,i=a===void 0?r:a;return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,a=le(this.padding,4),i=a[0],o=a[1],s=a[2],l=a[3],c=le(this.getOrientVal([[r,n],[n,r]]),2),u=c[0],f=c[1];return{x:l,y:i,width:+u-(l+o),height:+f-(i+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,a=n.trackSize;return r?a/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,a=n.thumbRadius;if(!r)return 0;var i=this.availableSpace,o=i.width,s=i.height;return a||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,a=r.viewportLength,i=r.contentLength,o=a/i,s=le(this.range,2),l=s[0],c=s[1],u=n*(c-l-o);return[u,u+o]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(n){var r=this.attributes,a=r.x,i=r.y,o=r.orientation,s=r.trackSize,l=r.padding,c=r.slidable,u=Qt(this.attributes,"track"),f=Qt(this.attributes,"thumb"),d=Le(Le({x:a,y:i,brushable:!1,orientation:o,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},vl(u,"track")),vl(f,"selection"));this.slider=It(n).maybeAppendByClassName("scrollbar",function(){return new Rz({style:d})}).update(d).node()},t.prototype.render=function(n,r){this.renderSlider(r)},t.prototype.setValue=function(n,r){r===void 0&&(r=!1);var a=this.attributes.value,i=le(this.range,2),o=i[0],s=i[1];this.slider.setValues(this.getValues(jr(n,o,s)),r),this.onValueChange(a)},t.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},t.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t})(Da),Rk={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new ci({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};Me({},Rk,{style:{type:"arc"}});Me({},Rk,{style:{}});var Bn=hs({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Y0=hs({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Dz(e){return e.reduce(function(t,n,r){return t.push(pt([r===0?"M":"L"],le(n),!1)),t},[])}function P8e(e,t,n){var r=t.connect,a=r===void 0?"line":r,i=t.center;if(a==="line")return Dz(e);if(!i)return[];var o=B1(e[0],i),s=n?0:1;return e.reduce(function(l,c,u){return u===0?l.push(pt(["M"],le(c),!1)):l.push(pt(["A",o,o,0,0,s],le(c),!1)),l},[])}function MA(e,t,n){return t.type==="surround"?P8e(e,t,n):Dz(e)}function I8e(e,t,n){var r=n.type,a=n.connect,i=n.center,o=n.closed,s=o?[["Z"]]:[],l=le([MA(e,n),MA(t.slice().reverse(),n,!0)],2),c=l[0],u=l[1],f=le([e[0],t.slice(-1)[0]],2),d=f[0],h=f[1],p=function(y,x){return[c,y,u,x,s].flat()};if(a==="line"||r==="surround")return p([pt(["L"],le(h),!1)],[pt(["L"],le(d),!1)]);if(!i)throw new Error("Arc grid need to specified center");var v=le([B1(h,i),B1(d,i)],2),g=v[0],m=v[1];return p([pt(["A",g,g,0,0,1],le(h),!1),pt(["L"],le(h),!1)],[pt(["A",m,m,0,0,0],le(d),!1),pt(["L"],le(d),!1)])}function R8e(e,t,n,r){var a=n.animate,i=n.isBillboard,o=t.map(function(s,l){return{id:s.id||"grid-line-".concat(l),d:MA(s.points,n)}});return e.selectAll(Y0.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(l,c){var u=mo(cP(Le({d:l.d},r)),[l,c,o]);this.attr(Le({class:Y0.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:i},u))})},function(s){return s.transition(function(l,c){var u=mo(cP(Le({d:l.d},r)),[l,c,o]);return js(this,u,a.update)})},function(s){return s.transition(function(){var l=this,c=U2(this,a.exit);return yh(c,function(){return l.remove()}),c})}).transitions()}function D8e(e,t,n){var r=n.animate,a=n.connect,i=n.areaFill;if(t.length<2||!i||!a)return[];for(var o=Array.isArray(i)?i:[i,"transparent"],s=function(p){return o[p%o.length]},l=[],c=0;c<t.length-1;c++){var u=le([t[c].points,t[c+1].points],2),f=u[0],d=u[1],h=I8e(f,d,n);l.push({d:h,fill:s(c)})}return e.selectAll(Y0.region.class).data(l,function(p,v){return v}).join(function(p){return p.append("path").each(function(v,g){var m=mo(v,[v,g,l]);this.attr(m)}).attr("className",Y0.region.name)},function(p){return p.transition(function(v,g){var m=mo(v,[v,g,l]);return js(this,m,r.update)})},function(p){return p.transition(function(){var v=this,g=U2(this,r.exit);return yh(g,function(){return v.remove()}),g})}).transitions()}function N8e(e){var t=e.data,n=t===void 0?[]:t,r=e.closed;return r?n.map(function(a){var i=a.points,o=le(i,1),s=o[0];return Le(Le({},a),{points:pt(pt([],le(i),!1),[s],!1)})}):n}var L8e=(function(e){Er(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var a=ga(n,["type","center","areaFill","closed"]),i=N8e(n),o=It(r).maybeAppendByClassName(Y0.lineGroup,"g"),s=It(r).maybeAppendByClassName(Y0.regionGroup,"g"),l=R8e(o,i,n,a),c=D8e(s,i,n);return pt(pt([],le(l),!1),le(c),!1)},t})(Da);function Nz(e,t){return Object.fromEntries(Object.entries(e).map(function(n){var r=le(n,2),a=r[0],i=r[1];return[a,mo(i,t)]}))}function Dk(e,t){return t&&va(t)?e.filter(t):e}function Lz(e,t){var n=t.startAngle,r=t.endAngle;return(r-n)*e+n}function H2(e,t){if(t.type==="linear"){var n=le(t.startPos,2),r=n[0],a=n[1],i=le(t.endPos,2),o=i[0],s=i[1],l=le([o-r,s-a],2),c=l[0],u=l[1];return gz([c,u])}var f=G0(Lz(e,t));return[-Math.sin(f),Math.cos(f)]}function Nk(e,t,n){var r=H2(e,n);return f4e(r,t!=="positive")}function xh(e,t){return Nk(e,t.labelDirection,t)}function F8e(e,t){var n=le(t.startPos,2),r=n[0],a=n[1],i=le(t.endPos,2),o=i[0],s=i[1],l=le([o-r,s-a],2),c=l[0],u=l[1];return[r+c*e,a+u*e]}function B8e(e,t){var n=t.radius,r=le(t.center,2),a=r[0],i=r[1],o=G0(Lz(e,t));return[a+n*Math.cos(o),i+n*Math.sin(o)]}function V2(e,t){return t.type==="linear"?F8e(e,t):B8e(e,t)}function Lk(e){return H2(0,e)[1]===0}function Fz(e){return H2(0,e)[0]===0}function Bz(e,t){return t-e===360}function kP(e,t,n,r,a){var i=t-e,o=le([a,a],2),s=o[0],l=o[1],c=le([G0(e),G0(t)],2),u=c[0],f=c[1],d=function(S){return[n+a*Math.cos(S),r+a*Math.sin(S)]},h=le(d(u),2),p=h[0],v=h[1],g=le(d(f),2),m=g[0],y=g[1];if(Bz(e,t)){var x=(f+u)/2,b=le(d(x),2),_=b[0],E=b[1];return[["M",p,v],["A",s,l,0,1,0,_,E],["A",s,l,0,1,0,m,y]]}var w=i>180?1:0,A=e>t?0:1;return"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(w,",").concat(A,",").concat(m,",").concat(y)}function $8e(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,a=t.center,i=t.radius;return pt(pt([n,r],le(a),!1),[i],!1)}function j8e(e,t,n,r){var a=t.startAngle,i=t.endAngle,o=t.center,s=t.radius;return e.selectAll(Bn.line.class).data([{d:kP.apply(void 0,pt(pt([a,i],le(o),!1),[s],!1))}],function(l,c){return c}).join(function(l){return l.append("path").attr("className",Bn.line.name).styles(t).styles({d:function(c){return c.d}})},function(l){return l.transition(function(){var c=this,u=s4e(this,$8e(this),pt(pt([a,i],le(o),!1),[s],!1),r.update);if(u){var f=function(){var d=sn(c.attributes,"__keyframe_data__");c.style.d=kP.apply(void 0,pt([],le(d),!1))};u.onframe=f,u.onfinish=f}return u}).styles(t)},function(l){return l.remove()}).styles(n).transitions()}function z8e(e,t){t.truncRange,t.truncShape,t.lineExtension}function U8e(e,t,n){n===void 0&&(n=[0,0]);var r=le([e,t,n],3),a=le(r[0],2),i=a[0],o=a[1],s=le(r[1],2),l=s[0],c=s[1],u=le(r[2],2),f=u[0],d=u[1],h=le([l-i,c-o],2),p=h[0],v=h[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),m=le([-f/g,d/g],2),y=m[0],x=m[1];return[y*p,y*v,x*p,x*v]}function TP(e){var t=le(e,2),n=le(t[0],2),r=n[0],a=n[1],i=le(t[1],2),o=i[0],s=i[1];return{x1:r,y1:a,x2:o,y2:s}}function H8e(e,t,n,r){var a=t.showTrunc,i=t.startPos,o=t.endPos,s=t.truncRange,l=t.lineExtension,c=le([i,o],2),u=le(c[0],2),f=u[0],d=u[1],h=le(c[1],2),p=h[0],v=h[1],g=le(l?U8e(i,o,l):new Array(4).fill(0),4),m=g[0],y=g[1],x=g[2],b=g[3],_=function(z){return e.selectAll(Bn.line.class).data(z,function(N,G){return G}).join(function(N){return N.append("line").attr("className",function(G){return"".concat(Bn.line.name," ").concat(G.className)}).styles(n).transition(function(G){return js(this,TP(G.line),!1)})},function(N){return N.styles(n).transition(function(G){var Y=G.line;return js(this,TP(Y),r.update)})},function(N){return N.remove()}).transitions()};if(!a||!s)return _([{line:[[f+m,d+y],[p+x,v+b]],className:Bn.line.name}]);var E=le(s,2),w=E[0],A=E[1],S=p-f,O=v-d,k=le([f+S*w,d+O*w],2),T=k[0],C=k[1],M=le([f+S*A,d+O*A],2),P=M[0],I=M[1],L=_([{line:[[f+m,d+y],[T,C]],className:Bn.lineFirst.name},{line:[[P,I],[p+x,v+b]],className:Bn.lineSecond.name}]);return z8e(e,t),L}function V8e(e,t,n,r){var a=n.showArrow,i=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,l=n.lineArrowSize,c;if(t==="arc"?c=e.select(Bn.line.class):i?c=e.select(Bn.lineSecond.class):c=e.select(Bn.line.class),!a||!o||n.type==="arc"&&Bz(n.startAngle,n.endAngle)){var u=c.node();u&&(u.style.markerEnd=void 0);return}var f=Qf(o);f.attr(r),Mk(f,l),c.style("markerEnd",f).style("markerEndOffset",-s)}function W8e(e,t,n){var r=t.type,a,i=Qt(t,"line");return r==="linear"?a=H8e(e,t,lP(i,"arrow"),n):a=j8e(e,t,lP(i,"arrow"),n),V8e(e,r,t,i),a}function G8e(e,t){return Nk(e,t.gridDirection,t)}function $z(e){var t=e.type,n=e.gridCenter;return t==="linear"?n:n||e.center}function Y8e(e,t){var n=t.gridLength;return e.map(function(r,a){var i=r.value,o=le(V2(i,t),2),s=o[0],l=o[1],c=le(sc(G8e(i,t),n),2),u=c[0],f=c[1];return{id:a,points:[[s,l],[s+u,l+f]]}})}function X8e(e,t){var n=t.gridControlAngles,r=$z(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var a=le(r,2),i=a[0],o=a[1];return e.map(function(s,l){var c=s.value,u=le(V2(c,t),2),f=u[0],d=u[1],h=le([f-i,d-o],2),p=h[0],v=h[1],g=[];return n.forEach(function(m){var y=G0(m),x=le([Math.cos(y),Math.sin(y)],2),b=x[0],_=x[1],E=p*b-v*_+i,w=p*_+v*b+o;g.push([E,w])}),{points:g,id:l}})}function q8e(e,t,n,r){var a=Qt(n,"grid"),i=a.type,o=a.areaFill,s=$z(n),l=Dk(t,n.gridFilter),c=i==="segment"?Y8e(l,n):X8e(l,n),u=Le(Le({},a),{center:s,areaFill:va(o)?l.map(function(f,d){return mo(o,[f,d,l])}):o,animate:r,data:c});return e.selectAll(Bn.grid.class).data([1]).join(function(f){return f.append(function(){return new L8e({style:u})}).attr("className",Bn.grid.name)},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}var PA=(function(){function e(t,n,r,a){this.set(t,n,r,a)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,n,r){var a=this,i=a.x1,o=a.y1,s=a.x2,l=a.y2,c=Math.cos(t),u=Math.sin(t),f=n-n*c+r*u,d=r-n*u-r*c,h=[[c*i-u*l+f,u*i+c*l+d],[c*s-u*l+f,u*s+c*l+d],[c*i-u*o+f,u*i+c*o+d],[c*s-u*o+f,u*s+c*o+d]];return h},e.prototype.set=function(t,n,r,a){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),a<n?(this.y2=n,this.y1=a):(this.y1=n,this.y2=a),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e})();function IA(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),a=le(r.min,2),i=a[0],o=a[1],s=le(r.max,2),l=s[0],c=s[1],u=e.getBBox(),f=u.width,d=u.height,h=d,p=0,v=0,g=i,m=o,y=pz(e);if(y){h-=1.5;var x=y.style.textAlign,b=y.style.textBaseline;x==="center"?g=(i+l)/2:(x==="right"||x==="end")&&(g=l),b==="middle"?m=(o+c)/2:b==="bottom"&&(m=c)}var _=le(oi(t),4),E=_[0],w=E===void 0?0:E,A=_[1],S=A===void 0?0:A,O=_[2],k=O===void 0?w:O,T=_[3],C=T===void 0?S:T,M=new PA((p+=i)-C,(v+=o)-w,p+f+S,v+h+k);return e.setEulerAngles(n),M.rotatedPoints(G0(n),g,m)}function vp(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function gp(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r<0?2:1}function K8e(e,t){var n=gp(e[0],e[1],t[0]),r=gp(e[0],e[1],t[1]),a=gp(t[0],t[1],e[0]),i=gp(t[0],t[1],e[1]);return!!(n!==r&&a!==i||n===0&&vp(e,t[0])||r===0&&vp(e,t[1])||a===0&&vp(t,e[0])||i===0&&vp(t,e[1]))}function Z8e(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],a=0,i=0;do{var o=[e[i],e[(i+1)%n]];if(K8e(o,r)){if(gp(o[0],t,o[1])===0)return vp(o,t);a++}i=(i+1)%n}while(i!==0);return!!(a&1)}function Q8e(e,t){return t.every(function(n){return Z8e(e,n)})}function J8e(e,t,n){var r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=[[r,i],[a,i],[a,o],[r,o]],l=IA(t,n);return Q8e(s,l)}function eMe(e,t){var n=le(e,4),r=n[0],a=n[1],i=n[2],o=n[3],s=le(t,4),l=s[0],c=s[1],u=s[2],f=s[3],d=i-r,h=o-a,p=u-l,v=f-c,g=d*v-p*h;if(g===0)return!1;var m=g>0,y=r-l,x=a-c,b=d*x-h*y;if(b<0===m)return!1;var _=p*x-v*y;return!(_<0===m||b>g===m||_>g===m)}function tMe(e,t){var n=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return n.some(function(r){return eMe(t,r)})}function nMe(e,t,n){var r,a,i=IA(e,n).flat(1),o=IA(t,n).flat(1),s=[[i[0],i[1],i[2],i[3]],[i[0],i[1],i[4],i[5]],[i[4],i[5],i[6],i[7]],[i[2],i[3],i[6],i[7]]];try{for(var l=Ev(s),c=l.next();!c.done;c=l.next()){var u=c.value;if(tMe(o,u))return!0}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return!1}function rMe(e,t){var n=e.type,r=e.labelDirection,a=e.crossSize;if(!a)return!1;if(n==="arc"){var i=e.center,o=e.radius,s=le(i,2),l=s[0],c=s[1],u=r==="negative"?0:a,f=-o-u,d=o+u,h=le(oi(t),4),p=h[0],v=h[1],g=h[2],m=h[3];return new PA(l+f-m,c+f-p,l+d+v,c+d+g)}var y=le(e.startPos,2),x=y[0],b=y[1],_=le(e.endPos,2),E=_[0],w=_[1],A=le(Fz(e)?[-t,0,t,0]:[0,t,0,-t],4),S=A[0],O=A[1],k=A[2],T=A[3],C=xh(0,e),M=sc(C,a),P=new PA(x,b,E,w);return P.x1+=T,P.y1+=S,P.x2+=O+M[0],P.y2+=k+M[1],P}function W2(e,t,n){var r,a,i=t.crossPadding,o=new Set,s=null,l=rMe(t,i),c=function(p){return l?J8e(l,p):!0},u=function(p,v){return!p||!p.firstChild?!0:!nMe(p.firstChild,v.firstChild,oi(n))};try{for(var f=Ev(e),d=f.next();!d.done;d=f.next()){var h=d.value;c(h)?!s||u(s,h)?s=h:(o.add(s),o.add(h)):o.add(h)}}catch(p){r={error:p}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return Array.from(o)}function Zw(e,t){return t===void 0&&(t={}),wt(e)?0:typeof e=="number"?e:Math.floor(dz(e,t))}function aMe(e,t,n,r){if(!(e.length<=0)){var a=t.suffix,i=a===void 0?"...":a,o=t.minLength,s=t.maxLength,l=s===void 0?1/0:s,c=t.step,u=c===void 0?" ":c,f=t.margin,d=f===void 0?[0,0,0,0]:f,h=hz(r.getTextShape(e[0])),p=Zw(u,h),v=o?Zw(o,h):p,g=Zw(l,h);(wt(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(E){return E.getBBox().width})));var m=e.slice(),y=le(d,4);y[0],y[1],y[2],y[3];for(var x=function(E){if(m.forEach(function(w){r.ellipsis(r.getTextShape(w),E,i)}),m=W2(e,n,d),m.length<1)return{value:void 0}},b=g;b>v+p;b-=p){var _=x(b);if(typeof _=="object")return _.value}}}var iMe={parity:function(e,t){var n=t.seq,r=n===void 0?2:n;return e.filter(function(a,i){return i%r?($u(a),!1):!0})}},oMe=function(e){return e.filter(e4e)};function sMe(e,t,n,r){var a=e.length,i=t.keepHeader,o=t.keepTail;if(!(a<=1||a===2&&i&&o)){var s=iMe.parity,l=function(x){return x.forEach(r.show),x},c=2,u=e.slice(),f=e.slice(),d=Math.min.apply(Math,pt([1],le(e.map(function(x){return x.getBBox().width})),!1));if(n.type==="linear"&&(Lk(n)||Fz(n))){var h=uP(e[0]).left,p=uP(e[a-1]).right,v=Math.abs(p-h)||1;c=Math.max(Math.floor(a*d/v),c)}var g,m;for(i&&(g=u.splice(0,1)[0]),o&&(m=u.splice(-1,1)[0],u.reverse()),l(u);c<e.length&&W2(oMe(m?pt(pt([m],le(f),!1),[g],!1):pt([g],le(f),!1)),n,t==null?void 0:t.margin).length;){if(m&&!g&&c%2===0){var y=u.splice(0,1);y.forEach(r.hide)}else if(m&&g){var y=u.splice(0,1);y.forEach(r.hide)}f=s(l(u),{seq:c}),c++}}}function lMe(e,t,n,r){var a,i,o=t.optionalAngles,s=o===void 0?[0,45,90]:o,l=t.margin,c=t.recoverWhenFailed,u=c===void 0?!0:c,f=e.map(function(m){return m.getLocalEulerAngles()}),d=function(){return W2(e,n,l).length<1},h=function(m){return e.forEach(function(y,x){var b=Array.isArray(m)?m[x]:m;r.rotate(y,+b)})};try{for(var p=Ev(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(h(g),d())return}}catch(m){a={error:m}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u&&h(f)}function cMe(e){var t=e.type,n=e.labelDirection;return t==="linear"&&Lk(e)?n==="negative"?"bottom":"top":"middle"}function uMe(e,t,n,r,a){var i,o=t.maxLines,s=o===void 0?3:o,l=t.recoverWhenFailed,c=l===void 0?!0:l,u=t.margin,f=u===void 0?[0,0,0,0]:u,d=mo((i=t.wordWrapWidth)!==null&&i!==void 0?i:50,[a]),h=e.map(function(x){return x.attr("maxLines")||1}),p=Math.min.apply(Math,pt([],le(h),!1)),v=function(){return W2(e,n,f).length<1},g=cMe(n),m=function(x){return e.forEach(function(b,_){var E=Array.isArray(x)?x[_]:x;r.wrap(b,d,E,g)})};if(!(p>s)){if(n.type==="linear"&&Lk(n)){if(m(s),v())return}else for(var y=p;y<=s;y++)if(m(y),v())return;c&&m(h)}}var fMe=new Map([["hide",sMe],["rotate",lMe],["ellipsis",aMe],["wrap",uMe]]);function dMe(e,t,n){return t.labelOverlap.length<1?!1:n==="hide"?!QCe(e[0]):n==="rotate"?!e.some(function(r){var a;return!!(!((a=r.attr("transform"))===null||a===void 0)&&a.includes("rotate"))}):n==="ellipsis"||n==="wrap"?e.filter(function(r){return r.querySelector("text")}).length>=1:!0}function hMe(e,t,n,r){var a=t.labelOverlap,i=a===void 0?[]:a;i.length&&i.forEach(function(o){var s=o.type,l=fMe.get(s);dMe(e,t,s)&&(l==null||l(e,o,t,r,n))})}function pMe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r==="positive"?-1:1};return e.reduce(function(r,a){return r*n(a)},1)}function CP(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function RA(e,t){var n=le(e,2),r=n[0],a=n[1],i=le(t,2),o=i[0],s=i[1],l=le([r*o+a*s,r*s-a*o],2),c=l[0],u=l[1];return Math.atan2(u,c)}function vMe(e){var t=(e+360)%180;return Ka(t,-90,90)||(t+=180),t}function gMe(e,t,n){var r,a=n.labelAlign,i=(r=t.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(i)return t.getLocalEulerAngles();var o=0,s=xh(e.value,n),l=H2(e.value,n);return a==="horizontal"?0:(a==="perpendicular"?o=RA([1,0],s):o=RA([l[0]<0?-1:1,0],l),vMe(uz(o)))}function jz(e,t,n){var r=n.type,a=n.labelAlign,i=xh(e,n),o=CP(t),s=CP(uz(RA([1,0],i))),l="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(l="center",c=i[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?l="center":s===0?(Ka(o,0,90,!1,!0)||Ka(o,0,90)||Ka(o,270,360))&&(l="start"):s===90?Ka(o,0,90,!1,!0)?l="start":(Ka(o,90,180)||Ka(o,270,360))&&(l="end"):s===270?Ka(o,0,90,!1,!0)?l="end":(Ka(o,90,180)||Ka(o,270,360))&&(l="start"):s===180&&(o===90?l="start":(Ka(o,0,90)||Ka(o,270,360))&&(l="end")):a==="parallel"?Ka(s,0,180,!0)?c="top":c="bottom":a==="horizontal"?Ka(s,90,270,!1)?l="end":(Ka(s,270,360,!1)||Ka(s,0,90))&&(l="start"):a==="perpendicular"&&(Ka(s,90,270)?l="end":l="start"),{textAlign:l,textBaseline:c}}function mMe(e,t,n){t.setLocalEulerAngles(e);var r=t.__data__.value,a=jz(r,e,n),i=t.querySelector(Bn.labelItem.class);i&&zz(i,a)}function MP(e,t,n){var r=n.showTick,a=n.tickLength,i=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,l=t.indexOf(e),c=mo(s,[e,l,t]),u=le([xh(e.value,n),pMe(o,i)],2),f=u[0],d=u[1],h=d===1?mo(r?a:0,[e,l,t]):0,p=le(pp(sc(f,c+h),V2(e.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function yMe(e,t,n,r){var a=r.labelFormatter,i=va(a)?function(){return Qf(mo(a,[e,t,n,xh(e.value,r)]))}:function(){return Qf(e.label||"")};return i}function xMe(e,t,n,r){var a=r.labelRender,i=(sn(r,"endPos.0",400)-sn(r,"startPos.0",0))/n.length,o=va(a)?mo(a,[e,t,n,xh(e.value,r)]):e.label||"",s=T4e(o)||30;return function(){return n4e(o,{width:i,height:s})}}function zz(e,t){["text","html"].includes(e.nodeName)&&e.attr(t)}function bMe(e,t){hMe(this.node().childNodes,e,t,{hide:$u,show:Lv,rotate:function(n,r){mMe(+r,n,e)},ellipsis:function(n,r,a){n&&kA(n,r||1/0,a)},wrap:function(n,r,a){n&&t4e(n,r,a)},getTextShape:function(n){return n.querySelector("text")}})}function PP(e,t,n,r,a){var i=n.indexOf(t),o=a.labelRender,s=It(e).append(o?xMe(t,i,n,a):yMe(t,i,n,a)).attr("className",Bn.labelItem.name).node(),l=le(Cc(Nz(r,[t,i,n])),2),c=l[0],u=l[1],f=u.transform,d=ga(u,["transform"]);mz(s,f);var h=gMe(t,s,a);return s.getLocalEulerAngles()||s.setLocalEulerAngles(h),zz(s,Le(Le({},jz(t.value,h,a)),c)),e.attr(d),s}function wMe(e,t,n,r,a){var i=Dk(t,n.labelFilter),o=Qt(n,"label"),s,l=e.selectAll(Bn.label.class).data(i,function(c,u){return u}).join(function(c){return c.append("g").attr("className",Bn.label.name).transition(function(u){PP(this,u,t,o,n);var f=MP(u,t,n),d=f.x,h=f.y;return this.style.transform="translate(".concat(d,", ").concat(h,")"),null})},function(c){return c.transition(function(u){var f=this.querySelector(Bn.labelItem.class),d=PP(this,u,t,o,n),h=T8e(f,d,r.update),p=MP(u,t,n),v=p.x,g=p.y,m=js(this,{transform:"translate(".concat(v,", ").concat(g,")")},r.update);return pt(pt([],le(h),!1),[m],!1)})},function(c){return s=c,c.transition(function(){var u=this,f=U2(this.childNodes[0],r.exit);return yh(f,function(){return It(u).remove()}),f}),s}).transitions();return O8e(l,function(){bMe.call(e,n,a)}),l}function Uz(e,t){return Nk(e,t.tickDirection,t)}function _Me(e,t){var n=le(e,2),r=n[0],a=n[1];return[[0,0],[r*t,a*t]]}function EMe(e,t,n,r,a){var i=a.tickLength,o=le(_Me(r,mo(i,[e,t,n])),2),s=le(o[0],2),l=s[0],c=s[1],u=le(o[1],2),f=u[0],d=u[1];return{x1:l,x2:f,y1:c,y2:d}}function AMe(e,t,n,r,a){var i=a.tickFormatter,o=Uz(t.value,a),s="line";return va(i)&&(s=function(){return mo(i,[t,n,r,o])}),e.append(s).attr("className",Bn.tickItem.name)}function SMe(e,t,n,r,a,i,o){var s=Uz(e.value,i),l=EMe(e,t,n,s,i),c=l.x1,u=l.x2,f=l.y1,d=l.y2,h=le(Cc(Nz(o,[e,t,n,s])),2),p=h[0],v=h[1];r.node().nodeName==="line"&&r.styles(Le({x1:c,x2:u,y1:f,y2:d},p)),a.attr(v),r.styles(p)}function IP(e,t,n,r,a,i){var o=AMe(It(this),e,t,n,r);SMe(e,t,n,o,this,r,a);var s=le(V2(e.value,r),2),l=s[0],c=s[1];return js(this,{transform:"translate(".concat(l,", ").concat(c,")")},i)}function OMe(e,t,n,r){var a=Dk(t,n.tickFilter),i=Qt(n,"tick");return e.selectAll(Bn.tick.class).data(a,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",Bn.tick.name).transition(function(s,l){return IP.call(this,s,l,a,n,i,!1)})},function(o){return o.transition(function(s,l){return this.removeChildren(),IP.call(this,s,l,a,n,i,r.update)})},function(o){return o.transition(function(){var s=this,l=U2(this.childNodes[0],r.exit);return yh(l,function(){return s.remove()}),l})}).transitions()}function kMe(e,t,n){var r=n.titlePosition,a=r===void 0?"lb":r,i=n.titleSpacing,o=j2(a),s=e.node().getLocalBounds(),l=le(s.min,2),c=l[0],u=l[1],f=le(s.halfExtents,2),d=f[0],h=f[1],p=le(t.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],m=le([c+d,u+h],2),y=m[0],x=m[1],b=le(oi(i),4),_=b[0],E=b[1],w=b[2],A=b[3];if(["start","end"].includes(a)&&n.type==="linear"){var S=n.startPos,O=n.endPos,k=le(a==="start"?[S,O]:[O,S],2),T=k[0],C=k[1],M=gz([-C[0]+T[0],-C[1]+T[1]]),P=le(sc(M,_),2),I=P[0],L=P[1];return{x:T[0]+I,y:T[1]+L}}return o.includes("t")&&(x-=h+g+_),o.includes("r")&&(y+=d+v+E),o.includes("l")&&(y-=d+v+A),o.includes("b")&&(x+=h+g+w),{x:y,y:x}}function TMe(e,t,n){var r=e.getGeometryBounds().halfExtents,a=r[1]*2;if(t==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(a/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(a/2,")")}return""}function RP(e,t,n,r,a){var i=Qt(r,"title"),o=le(Cc(i),2),s=o[0],l=o[1],c=l.transform,u=l.transformOrigin,f=ga(l,["transform","transformOrigin"]);t.styles(f);var d=c||TMe(e.node(),s.direction,s.position);e.styles(Le(Le({},s),{transformOrigin:u})),mz(e.node(),d);var h=kMe(It(n._offscreen||n.querySelector(Bn.mainGroup.class)),t,r),p=h.x,v=h.y,g=js(t.node(),{transform:"translate(".concat(p,", ").concat(v,")")},a);return g}function CMe(e,t,n,r){var a=n.titleText;return e.selectAll(Bn.title.class).data([{title:a}].filter(function(i){return!!i.title}),function(i,o){return i.title}).join(function(i){return i.append(function(){return Qf(a)}).attr("className",Bn.title.name).transition(function(){return RP(It(this),e,t,n,r.enter)})},function(i){return i.transition(function(){return RP(It(this),e,t,n,r.update)})},function(i){return i.remove()}).transitions()}function DP(e,t,n,r){var a=e.showLine,i=e.showTick,o=e.showLabel,s=t.maybeAppendByClassName(Bn.lineGroup,"g"),l=eo(a,s,function(h){return W8e(h,e,r)})||[],c=t.maybeAppendByClassName(Bn.tickGroup,"g"),u=eo(i,c,function(h){return OMe(h,n,e,r)})||[],f=t.maybeAppendByClassName(Bn.labelGroup,"g"),d=eo(o,f,function(h){return wMe(h,n,e,r,t.node())})||[];return pt(pt(pt([],le(l),!1),le(u),!1),le(d),!1).filter(function(h){return!!h})}var Fk=(function(e){Er(t,e);function t(n){return e.call(this,n,Rk)||this}return t.prototype.render=function(n,r,a){var i=this,o=n.titleText,s=n.data,l=n.animate,c=n.showTitle,u=n.showGrid,f=n.dataThreshold,d=n.truncRange,h=g4e(s,f).filter(function(_){var E=_.value;return!(d&&E>d[0]&&E<d[1])}),p=OP(a===void 0?l:a),v=It(r).maybeAppendByClassName(Bn.gridGroup,"g"),g=eo(u,v,function(_){return q8e(_,h,n,p)})||[],m=It(r).maybeAppendByClassName(Bn.mainGroup,"g");o&&(!this.initialized&&p.enter||this.initialized&&p.update)&&DP(n,It(this.offscreenGroup),h,OP(!1));var y=DP(n,It(m.node()),h,p),x=It(r).maybeAppendByClassName(Bn.titleGroup,"g"),b=eo(c,x,function(_){return CMe(_,i,n,p)})||[];return pt(pt(pt([],le(g),!1),le(y),!1),le(b),!1).flat().filter(function(_){return!!_})},t})(Da),NP=hs({text:"text"},"title");function MMe(e,t){var n=e.attributes,r=n.position,a=n.spacing,i=n.inset,o=n.text,s=e.getBBox(),l=t.getBBox(),c=j2(r),u=le(oi(o?a:0),4),f=u[0],d=u[1],h=u[2],p=u[3],v=le(oi(i),4),g=v[0],m=v[1],y=v[2],x=v[3],b=le([p+d,f+h],2),_=b[0],E=b[1],w=le([x+m,g+y],2),A=w[0],S=w[1];if(c[0]==="l")return new yr(s.x,s.y,l.width+s.width+_+A,Math.max(l.height+S,s.height));if(c[0]==="t")return new yr(s.x,s.y,Math.max(l.width+A,s.width),l.height+s.height+E+S);var O=le([t.attributes.width||l.width,t.attributes.height||l.height],2),k=O[0],T=O[1];return new yr(l.x,l.y,k+s.width+_+A,T+s.height+E+S)}function PMe(e,t){var n=Object.entries(t).reduce(function(r,a){var i=le(a,2),o=i[0],s=i[1],l=e.node().attr(o);return l||(r[o]=s),r},{});e.styles(n)}function IMe(e){var t,n,r,a,i=e,o=i.width,s=i.height,l=i.position,c=le([+o/2,+s/2],2),u=c[0],f=c[1],d=le([+u,+f,"center","middle"],4),h=d[0],p=d[1],v=d[2],g=d[3],m=j2(l);return m.includes("l")&&(t=le([0,"start"],2),h=t[0],v=t[1]),m.includes("r")&&(n=le([+o,"end"],2),h=n[0],v=n[1]),m.includes("t")&&(r=le([0,"top"],2),p=r[0],g=r[1]),m.includes("b")&&(a=le([+s,"bottom"],2),p=a[0],g=a[1]),{x:h,y:p,textAlign:v,textBaseline:g}}var Hz=(function(e){Er(t,e);function t(n){return e.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,a=r.width,i=r.height,o=r.position,s=r.spacing,l=r.inset,c=n.querySelector(NP.text.class);if(!c)return new yr(0,0,+a,+i);var u=c.getBBox(),f=u.width,d=u.height,h=le(oi(s),4),p=h[0],v=h[1],g=h[2],m=h[3],y=le([0,0,+a,+i],4),x=y[0],b=y[1],_=y[2],E=y[3],w=j2(o);if(w.includes("i"))return new yr(x,b,_,E);w.forEach(function(I,L){var z,N,G,Y;I==="t"&&(z=le(L===0?[d+g,+i-d-g]:[0,+i],2),b=z[0],E=z[1]),I==="r"&&(N=le([+a-f-m],1),_=N[0]),I==="b"&&(G=le([+i-d-p],1),E=G[0]),I==="l"&&(Y=le(L===0?[f+v,+a-f-v]:[0,+a],2),x=Y[0],_=Y[1])});var A=le(oi(l),4),S=A[0],O=A[1],k=A[2],T=A[3],C=le([T+O,S+k],2),M=C[0],P=C[1];return new yr(x+T,b+S,_-M,E-P)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new yr(0,0,0,0)},t.prototype.render=function(n,r){var a=this;n.width,n.height,n.position,n.spacing;var i=ga(n,["width","height","position","spacing"]),o=le(Cc(i),1),s=o[0],l=IMe(n),c=l.x,u=l.y,f=l.textAlign,d=l.textBaseline;eo(!!i.text,It(r),function(h){a.title=h.maybeAppendByClassName(NP.text,"text").styles(s).call(PMe,{x:c,y:u,textAlign:f,textBaseline:d}).node()})},t})(Da),Bo=hs({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),RMe=(function(e){Er(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Y4e(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(a,i){return"".concat(a,"/").concat(i)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new Ia({class:Bo.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new Ia({class:Bo.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return jr(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var n=this.pageViews,r=le(k4e(n.map(function(f){var d=f.getBBox(),h=d.width,p=d.height;return[h,p]})).map(function(f){return Math.max.apply(Math,pt([],le(f),!1))}),2),a=r[0],i=r[1],o=this.attributes,s=o.pageWidth,l=s===void 0?a:s,c=o.pageHeight,u=c===void 0?i:c;return{pageWidth:l,pageHeight:u}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),r=n.x,a=n.y,i=this.controllerShape,o=this.pageShape,s=o.pageWidth,l=o.pageHeight;return new yr(r,a,s+i.width,l)},t.prototype.goTo=function(n){var r=this,a=this.attributes.animate,i=this,o=i.currPage,s=i.playState,l=i.playWindow,c=i.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var u=le(this.getFollowingPageDiff(n),2),f=u[0],d=u[1];this.playState="running";var h=Tz(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-d,")")}],a);return yh(h,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),h},t.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,a=this.currPage;if(!n&&a<=0)return null;var i=n?(a-1+r)%r:jr(a-1,0,r);return this.goTo(i)},t.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,a=this.currPage;if(!n&&a>=r-1)return null;var i=n?(a+1)%r:jr(a+1,0,r);return this.goTo(i)},t.prototype.renderClipPath=function(n){var r=this.pageShape,a=r.pageWidth,i=r.pageHeight;if(!a||!i){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(Bo.clipPath,"rect").styles({width:a,height:i}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,a){n.includes(a)?Lv(r):$u(r)})},t.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,a=n.nextBtnGroup,i=n.pageInfoGroup,o=this.attributes,s=o.orientation,l=o.controllerPadding,c=i.getBBox(),u=c.width;c.height;var f=le(s==="horizontal"?[-180,0]:[-90,90],2),d=f[0],h=f[1];r.setLocalEulerAngles(d),a.setLocalEulerAngles(h);var p=r.getBBox(),v=p.width,g=p.height,m=a.getBBox(),y=m.width,x=m.height,b=Math.max(v,u,y),_=s==="horizontal"?{offset:[[0,0],[v/2+l,0],[v+u+l*2,0]],textAlign:"start"}:{offset:[[b/2,-g-l],[b/2,0],[b/2,x+l]],textAlign:"center"},E=le(_.offset,3),w=le(E[0],2),A=w[0],S=w[1],O=le(E[1],2),k=O[0],T=O[1],C=le(E[2],2),M=C[0],P=C[1],I=_.textAlign,L=i.querySelector("text");L&&(L.style.textAlign=I),r.setLocalPosition(A,S),i.setLocalPosition(k,T),a.setLocalPosition(M,P)},t.prototype.updatePageInfo=function(){var n,r=this,a=r.currPage,i=r.pageViews,o=r.attributes.formatter;i.length<2||((n=this.pageInfoGroup.querySelector(Bo.pageInfo.class))===null||n===void 0||n.attr("text",o(a+1,i.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var a=this.attributes.orientation,i=this.pageShape,o=i.pageWidth,s=i.pageHeight,l=n<r?-1:1;return a==="horizontal"?[l*o,0]:[0,l*s]},t.prototype.prepareFollowingPage=function(n){var r=this,a=r.currPage,i=r.pageViews;if(this.setVisiblePages([n,a]),n!==a){var o=le(this.getFollowingPageDiff(n),2),s=o[0],l=o[1];i[n].setLocalPosition(s,l)}},t.prototype.renderController=function(n){var r=this,a=this.attributes.controllerSpacing,i=this.pageShape,o=i.pageWidth,s=i.pageHeight,l=this.pageViews.length>=2,c=n.maybeAppendByClassName(Bo.controller,"g");if($2(c.node(),l),!!l){var u=Qt(this.attributes,"button"),f=Qt(this.attributes,"pageNum"),d=le(Cc(u),2),h=d[0],p=d[1],v=h.size,g=ga(h,["size"]),m=!c.select(Bo.prevBtnGroup.class).node(),y=c.maybeAppendByClassName(Bo.prevBtnGroup,"g").styles(p);this.prevBtnGroup=y.node();var x=y.maybeAppendByClassName(Bo.prevBtn,"path"),b=c.maybeAppendByClassName(Bo.nextBtnGroup,"g").styles(p);this.nextBtnGroup=b.node();var _=b.maybeAppendByClassName(Bo.nextBtn,"path");[x,_].forEach(function(w){w.styles(Le(Le({},g),{transformOrigin:"center"})),Mk(w.node(),v)});var E=c.maybeAppendByClassName(Bo.pageInfoGroup,"g");this.pageInfoGroup=E.node(),E.maybeAppendByClassName(Bo.pageInfo,"text").styles(f),this.updatePageInfo(),c.node().setLocalPosition(o+a,s/2),m&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},t.prototype.render=function(n,r){var a=n.x,i=a===void 0?0:a,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(i,", ").concat(s,")"));var l=It(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var n=this,r=p9(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(Xt.INSERTED,r),this.playWindow.addEventListener(Xt.REMOVED,r)},t})(Da);function DMe(e,t,n){var r=Math.round((e-n)/t);return n+r*t}function NMe(e,t,n){var r=1.4,a=r*n;return[["M",e-n,t-a],["L",e+n,t-a],["L",e+n,t+a],["L",e-n,t+a],["Z"]]}var Vz=1.4,Wz=.4;function LMe(e,t,n){var r=n,a=r*Vz,i=r/2,o=r/6,s=e+a*Wz;return[["M",e,t],["L",s,t+i],["L",e+a,t+i],["L",e+a,t-i],["L",s,t-i],["Z"],["M",s,t+o],["L",e+a-2,t+o],["M",s,t-o],["L",e+a-2,t-o]]}function FMe(e,t,n){var r=n,a=r*Vz,i=r/2,o=r/6,s=t+a*Wz;return[["M",e,t],["L",e-i,s],["L",e-i,t+a],["L",e+i,t+a],["L",e+i,s],["Z"],["M",e-o,s],["L",e-o,t+a-2],["M",e+o,s],["L",e+o,t+a-2]]}mn.registerSymbol("hiddenHandle",NMe);mn.registerSymbol("verticalHandle",LMe);mn.registerSymbol("horizontalHandle",FMe);function BMe(e,t,n,r){var a,i=le(e,2),o=i[0],s=i[1],l=le(t,2),c=l[0],u=l[1],f=le(n,2),d=f[0],h=f[1],p=le([c,u],2),v=p[0],g=p[1],m=g-v;return v>g&&(a=le([g,v],2),v=a[0],g=a[1]),m>s-o?[o,s]:v<o?d===o&&h===g?[o,g]:[o,m+o]:g>s?h===s&&d===v?[v,s]:[s-m,s]:[v,g]}function El(e,t,n){return e===void 0&&(e="horizontal"),e==="horizontal"?t:n}var Zt,$Me="component-poptip",Ft={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},LP=(Zt={},Zt[".".concat(Ft.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Zt[".".concat(Ft.TEXT)]={"text-align":"center"},Zt[".".concat(Ft.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Zt[".".concat(Ft.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Zt[".".concat(Ft.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},Zt[".".concat(Ft.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Zt[".".concat(Ft.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Zt[".".concat(Ft.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Zt["[data-position='top'] .".concat(Ft.ARROW)]={bottom:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Zt["[data-position='left'] .".concat(Ft.ARROW)]={right:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},Zt["[data-position='right'] .".concat(Ft.ARROW)]={left:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Zt["[data-position='bottom'] .".concat(Ft.ARROW)]={top:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Zt["[data-position='top-left'] .".concat(Ft.ARROW)]={left:"10px",bottom:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Zt["[data-position='top-right'] .".concat(Ft.ARROW)]={right:"10px",bottom:"-2px"},Zt[".".concat(Ft.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Zt["[data-position='left-top'] .".concat(Ft.ARROW)]={right:"-2px",top:"8px"},Zt[".".concat(Ft.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Zt["[data-position='left-bottom'] .".concat(Ft.ARROW)]={right:"-2px",bottom:"8px"},Zt[".".concat(Ft.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Zt["[data-position='right-top'] .".concat(Ft.ARROW)]={left:"-2px",top:"8px"},Zt[".".concat(Ft.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Zt["[data-position='right-bottom'] .".concat(Ft.ARROW)]={left:"-2px",bottom:"8px"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Zt["[data-position='bottom-left'] .".concat(Ft.ARROW)]={top:"-2px",left:"8px"},Zt[".".concat(Ft.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Zt["[data-position='bottom-right'] .".concat(Ft.ARROW)]={top:"-2px",right:"8px"},Zt),jMe=void 0;function zMe(e,t,n,r,a,i){if(a===void 0&&(a=!1),i===void 0&&(i=!1),i)return[e,t];var o=n.getBoundingClientRect(),s=o.x,l=o.y,c=o.width,u=o.height;switch(r){case"top":return a?[s+c/2,l]:[e,l];case"left":return a?[s,l+u/2]:[s,t];case"bottom":return a?[s+c/2,l+u]:[e,l+u];case"right":return a?[s+c,l+u/2]:[s+c,t];case"top-right":case"right-top":return[s+c,l];case"left-bottom":case"bottom-left":return[s,l+u];case"right-bottom":case"bottom-right":return[s+c,l+u];case"top-left":case"left-top":default:return[s,l]}}var UMe=function(e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(jMe,n)),t}};function HMe(e){var t=e&&document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),document.body.appendChild(t)),t}function VMe(e){var t=UMe(HMe)(e);return t}var WMe=(function(e){Er(t,e);function t(n){var r=e.call(this,Me({style:{id:$Me}},t.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.visibility=this.style.visibility,this.updatePoptipElement()},t.prototype.update=function(n){this.attr(Me({},this.style,n)),this.render(this.attributes,this)},t.prototype.bind=function(n,r){var a=this;if(n){var i=this.style.text,o=function(l){var c=n,u=a.style,f=i;if(r){var d=typeof r=="function"?r.call(null,l):r,h=d.html,p=d.target,v=ga(d,["html","target"]);u=Zbe({},a.style,v),(p||p===!1)&&(c=p),typeof h=="string"&&(f=h)}var g=u.position,m=u.arrowPointAtCenter,y=u.follow,x=u.offset;if(c){var b=l,_=b.clientX,E=b.clientY,w=le(zMe(_,E,c,g,m,y),2),A=w[0],S=w[1];a.showTip(A,S,{text:f,position:g,offset:x})}else a.hideTip()},s=function(){a.hideTip()};n.addEventListener("mousemove",o),n.addEventListener("mouseleave",s),this.map.set(n,[o,s])}},t.prototype.unbind=function(n){if(this.map.has(n)){var r=le(this.map.get(n)||[],2),a=r[0],i=r[1];a&&n.removeEventListener("mousemove",a),i&&n.removeEventListener("mouseleave",i),this.map.delete(n)}},t.prototype.clear=function(){this.container.innerHTML=""},t.prototype.destroy=function(){var n=this,r;pt([],le(this.map.keys()),!1).forEach(function(a){return n.unbind(a)}),(r=this.container)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},t.prototype.showTip=function(n,r,a){var i=sn(a,"text");if(!(i&&typeof i!="string")&&(this.applyStyles(),n&&r&&a)){var o=a.offset,s=a.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(n,r,o),typeof i=="string"){var l=this.container.querySelector(".".concat(Ft.TEXT));l&&(l.innerHTML=i)}this.visibility="visible",this.container.style.visibility="visible"}},t.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},t.prototype.getContainer=function(){return this.container},t.prototype.getClassName=function(){var n=this.style.containerClassName;return"".concat(Ft.CONTAINER).concat(n?" ".concat(n):"")},t.prototype.initShape=function(){var n=this,r=this.style.id;this.container=VMe(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return n.showTip()}),this.container.addEventListener("mouseleave",function(){return n.hideTip()})},t.prototype.updatePoptipElement=function(){var n=this.container;this.clear();var r=this.style,a=r.id,i=r.template,o=r.text;this.container.setAttribute("id",a),this.container.className=this.getClassName();var s='<span class="'.concat(Ft.ARROW,'"></span>');n.innerHTML=s,xr(i)?n.innerHTML+=i:i&&Kbe(i)&&n.appendChild(i),o&&(n.getElementsByClassName(Ft.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},t.prototype.applyStyles=function(){var n=Ws({},LP,this.style.domStyles),r=Object.entries(n).reduce(function(i,o){var s=le(o,2),l=s[0],c=s[1],u=Object.entries(c).reduce(function(f,d){var h=le(d,2),p=h[0],v=h[1];return"".concat(f).concat(p,": ").concat(v,";")},"");return"".concat(i).concat(l,"{").concat(u,"}")},"");if(this.domStyles!==r){this.domStyles=r;var a=this.container.querySelector("style");a&&this.container.removeChild(a),a=document.createElement("style"),a.innerHTML=r,this.container.appendChild(a)}},t.prototype.setOffsetPosition=function(n,r,a){a===void 0&&(a=this.style.offset);var i=le(a,2),o=i[0],s=o===void 0?0:o,l=i[1],c=l===void 0?0:l;this.container.style.left="".concat(n+s,"px"),this.container.style.top="".concat(r+c,"px")},t.tag="poptip",t.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:LP,template:'<div class="'.concat(Ft.TEXT,'"></div>')}},t})(Da),pi=hs({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),GMe={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function YMe(e){var t=e.querySelector(pi.marker.class);return t?t.style:{}}var XMe=(function(e){Er(t,e);function t(n){return e.call(this,n,{span:[1,1],marker:function(){return new Ll({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(t.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,a=this.attributes,i=a.markerSize,o=a.focus,s=a.focusMarkerSize,l=n.node().getBBox(),c=l.width,u=l.height,f=r.node().getBBox(),d=f.width,h=f.height,p=o?s??12:0;return{markerWidth:i,labelWidth:c,valueWidth:d,focusWidth:p,height:Math.max(i,u,h)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=le(oi(n),2),a=r[0],i=r[1],o=this.showValue?i:0,s=a+o;return[a/s,o/s]},enumerable:!1,configurable:!0}),t.prototype.setAttribute=function(n,r){e.prototype.setAttribute.call(this,n,r)},Object.defineProperty(t.prototype,"shape",{get:function(){var n,r=this.attributes,a=r.markerSize,i=r.width,o=this.actualSpace,s=o.markerWidth,l=o.focusWidth,c=o.height,u=this.actualSpace,f=u.labelWidth,d=u.valueWidth,h=le(this.spacing,3),p=h[0],v=h[1],g=h[2];if(i){var m=i-a-p-v-l-g,y=le(this.span,2),x=y[0],b=y[1];n=le([x*m,b*m],2),f=n[0],d=n[1]}var _=s+f+d+p+v+l+g;return{width:_,height:c,markerWidth:s,labelWidth:f,valueWidth:d,focusWidth:l}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var n=this.attributes,r=n.spacing,a=n.focus;if(!r)return[0,0,0];var i=le(oi(r),3),o=i[0],s=i[1],l=i[2];return[o,this.showValue?s:0,a?l:0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,a=n.labelWidth,i=n.valueWidth,o=n.focusWidth,s=n.width,l=n.height,c=le(this.spacing,3),u=c[0],f=c[1],d=c[2];return{height:l,width:s,markerWidth:r,labelWidth:a,valueWidth:i,focusWidth:o,position:[r/2,r+u,r+a+u+f,r+a+i+u+f+d+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var n=YMe(this.markerGroup.node()),r=this.attributes,a=r.markerSize,i=r.markerStrokeWidth,o=i===void 0?n.strokeWidth:i,s=r.markerLineWidth,l=s===void 0?n.lineWidth:s,c=r.markerStroke,u=c===void 0?n.stroke:c,f=+(o||l||(u?1:0))*Math.sqrt(2),d=this.markerGroup.node().getBBox(),h=d.width,p=d.height;return(1-f/Math.max(h,p))*a},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(n){var r=this,a=this.attributes.marker,i=Qt(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(pi.markerGroup,"g").style("zIndex",0),eo(!!a,this.markerGroup,function(){var o,s=r.markerGroup.node(),l=(o=s.childNodes)===null||o===void 0?void 0:o[0],c=typeof a=="string"?new mn({style:{symbol:a},className:pi.marker.name}):a();l?c.nodeName===l.nodeName?l instanceof mn?l.update(Le(Le({},i),{symbol:a})):(_4e(l,c),It(l).styles(i)):(l.remove(),It(c).attr("className",pi.marker.name).styles(i),s.appendChild(c)):(c instanceof mn||It(c).attr("className",pi.marker.name).styles(i),s.appendChild(c)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var u=Mk(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(u,")")})},t.prototype.renderLabel=function(n){var r=Qt(this.attributes,"label"),a=r.text,i=ga(r,["text"]);this.labelGroup=n.maybeAppendByClassName(pi.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(pi.label,function(){return Qf(a)}).styles(i)},t.prototype.renderValue=function(n){var r=this,a=Qt(this.attributes,"value"),i=a.text,o=ga(a,["text"]);this.valueGroup=n.maybeAppendByClassName(pi.valueGroup,"g").style("zIndex",0),eo(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(pi.value,function(){return Qf(i)}).styles(o)})},t.prototype.createPoptip=function(){var n=this.attributes.poptip,r=n||{};r.render;var a=ga(r,["render"]),i=new WMe({style:Ws(GMe,a)});return this.poptipGroup=i,i},t.prototype.bindPoptip=function(n){var r=this,a=this.attributes.poptip;if(a){var i=this.poptipGroup||this.createPoptip();i.bind(n,function(){var o=r.attributes,s=o.labelText,l=o.valueText,c=o.markerFill,u=typeof s=="string"?s:s==null?void 0:s.attr("text"),f=typeof l=="string"?l:l==null?void 0:l.attr("text");if(typeof a.render=="function")return{html:a.render({label:u,value:f,color:c})};var d="";return(typeof u=="string"||typeof u=="number")&&(d+='<div class="component-poptip-label">'.concat(u,"</div>")),(typeof f=="string"||typeof f=="number")&&(d+='<div class="component-poptip-value">'.concat(f,"</div>")),{html:d}})}},t.prototype.renderFocus=function(n){var r=this,a=this.attributes,i=a.focus,o=a.focusMarkerSize,s={x:0,y:0,size:o,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};Rn(i)||(this.focusGroup=n.maybeAppendByClassName(pi.focusGroup,"g").style("zIndex",0),eo(i,this.focusGroup,function(){var l=new mn({style:Le(Le({},s),{symbol:"focus"})}),c=new Ll({style:{r:s.size/2,fill:"transparent"}}),u=r.focusGroup.node();u.appendChild(c),u.appendChild(l),l.update({opacity:0}),n.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),n.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},t.prototype.renderPoptip=function(n){var r=this,a=this.attributes.poptip;if(a){var i=n.maybeAppendByClassName(pi.value,"g").node(),o=n.maybeAppendByClassName(pi.label,"g").node();[i,o].forEach(function(s){s&&r.bindPoptip(s)})}},t.prototype.renderBackground=function(n){var r=this.shape,a=r.width,i=r.height,o=Qt(this.attributes,"background");this.background=n.maybeAppendByClassName(pi.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(pi.background,"rect").styles(Le({width:a,height:i},o))},t.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,a=n.valueWidth,i=n.height,o=le(n.position,4),s=o[0],l=o[1],c=o[2],u=o[3],f=i/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(f,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(f,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(u,", ").concat(f,")")}),kA(this.labelGroup.select(pi.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(f,")")}),kA(this.valueGroup.select(pi.value.class).node(),Math.ceil(a)))},t.prototype.render=function(n,r){var a=It(r),i=n.x,o=i===void 0?0:i,s=n.y,l=s===void 0?0:s;a.styles({transform:"translate(".concat(o,", ").concat(l,")")}),this.renderMarker(a),this.renderLabel(a),this.renderValue(a),this.renderBackground(a),this.renderPoptip(a),this.renderFocus(a),this.adjustLayout()},t})(Da),sf=hs({page:"item-page",navigator:"navigator",item:"item"},"items"),FP=function(e,t,n){return n===void 0&&(n=!0),e?t(e):n},qMe=(function(e){Er(t,e);function t(n){var r=e.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:xw,mouseenter:xw,mouseleave:xw})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,a=n.gridCol,i=n.data;if(!r&&!a)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&a?[r,a]:r?[r,i.length]:[i.length,a]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,a=n.layout,i=n.poptip,o=n.focus,s=n.focusMarkerSize,l=Qt(this.attributes,"item"),c=r.map(function(u,f){var d=u.id,h=d===void 0?f:d,p=u.label,v=u.value;return{id:"".concat(h),index:f,style:Le({layout:a,labelText:p,valueText:v,poptip:i,focus:o,focusMarkerSize:s},Object.fromEntries(Object.entries(l).map(function(g){var m=le(g,2),y=m[0],x=m[1];return[y,mo(x,[u,f,r])]})))}});return c},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var n=this,r=this.attributes,a=r.orientation,i=r.width,o=r.rowPadding,s=r.colPadding,l=le(this.navigatorShape,1),c=l[0],u=le(this.grid,2),f=u[0],d=u[1],h=d*f,p=0;return this.pageViews.children.map(function(v,g){var m,y,x=Math.floor(g/h),b=g%h,_=n.ifHorizontal(d,f),E=[Math.floor(b/_),b%_];a==="vertical"&&E.reverse();var w=le(E,2),A=w[0],S=w[1],O=(i-c-(d-1)*s)/d,k=v.getBBox().height,T=le([0,0],2),C=T[0],M=T[1];return a==="horizontal"?(m=le([p,A*(k+o)],2),C=m[0],M=m[1],p=S===d-1?0:p+O+s):(y=le([S*(O+s),p],2),C=y[0],M=y[1],p=A===f-1?0:p+k+o),{page:x,index:g,row:A,col:S,pageIndex:b,width:O,height:k,x:C,y:M}})},t.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,a=n.height,i=n.rowPadding,o=n.colPadding,s=le(this.navigatorShape,1),l=s[0],c=le(this.grid,2),u=c[0],f=c[1],d=le([r-l,a],2),h=d[0],p=d[1],v=le([0,0,0,0,0,0,0,0],8),g=v[0],m=v[1],y=v[2],x=v[3],b=v[4],_=v[5],E=v[6],w=v[7];return this.pageViews.children.map(function(A,S){var O,k,T,C,M=A.getBBox(),P=M.width,I=M.height,L=E===0?0:o,z=E+L+P;if(z<=h&&FP(b,function(G){return G<f}))return O=le([E+L,w,z],3),g=O[0],m=O[1],E=O[2],{width:P,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:_,col:b++};k=le([_+1,0,0,w+I+i],4),_=k[0],b=k[1],E=k[2],w=k[3];var N=w+I;return N<=p&&FP(_,function(G){return G<u})?(T=le([E,w,P],3),g=T[0],m=T[1],E=T[2],{width:P,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:_,col:b++}):(C=le([0,0,P,0,y+1,0,0,0],8),g=C[0],m=C[1],E=C[2],w=C[3],y=C[4],x=C[5],_=C[6],b=C[7],{width:P,height:I,x:g,y:m,page:y,index:S,pageIndex:x++,row:_,col:b++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){var a=this.attributes.orientation;return El(a,n,r)},t.prototype.flattenPage=function(n){n.querySelectorAll(sf.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(sf.page.class).forEach(function(r){var a=n.removeChild(r);a.destroy()})},t.prototype.renderItems=function(n){var r=this.attributes,a=r.click,i=r.mouseenter,o=r.mouseleave;this.flattenPage(n);var s=this.dispatchCustomEvent.bind(this);It(n).selectAll(sf.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(c){var u=c.style;return new XMe({style:u})}).attr("className",sf.item.name).on("click",function(){a==null||a(this),s("itemClick",{item:this})}).on("pointerenter",function(){i==null||i(this),s("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),s("itemMouseleave",{item:this})})},function(l){return l.each(function(c){var u=c.style;this.update(u)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var n,r=this.attributes,a=r.layout,i=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=le(this.navigatorShape,2),l=s[0],c=s[1];this.navigator.update(a==="grid"?{pageWidth:i-l,pageHeight:o-c}:{})},t.prototype.adjustLayout=function(){var n=this,r=Object.entries(r4e(this.itemsLayout,"page")).map(function(i){var o=le(i,2),s=o[0],l=o[1];return{page:s,layouts:l}}),a=pt([],le(this.navigator.getContainer().children),!1);r.forEach(function(i){var o=i.layouts,s=n.pageViews.appendChild(new Ia({className:sf.page.name}));o.forEach(function(l){var c=l.x,u=l.y,f=l.index,d=l.width,h=l.height,p=a[f];s.appendChild(p),c2(p,"__layout__",l),p.update({x:c,y:u,width:d,height:h})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(n){var r=this.attributes.orientation,a=Qt(this.attributes,"nav"),i=Ws({orientation:r},a),o=this;return n.selectAll(sf.navigator.class).data(["nav"]).join(function(s){return s.append(function(){return new RMe({style:i})}).attr("className",sf.navigator.name).each(function(){o.navigator=this})},function(s){return s.each(function(){this.update(i)})},function(s){return s.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(n,r){var a=this.attributes.data;if(!(!a||a.length===0)){var i=this.renderNavigator(It(r));this.renderItems(i.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(n,r){var a=new Fn(n,{detail:r});this.dispatchEvent(a)},t})(Da),qh=hs({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Gz={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},KMe=(function(e){Er(t,e);function t(n){return e.call(this,n,Gz)||this}return t.prototype.render=function(n,r){var a=It(r).maybeAppendByClassName(qh.markerGroup,"g");this.renderMarker(a);var i=It(r).maybeAppendByClassName(qh.labelGroup,"g");this.renderLabel(i)},t.prototype.renderMarker=function(n){var r=this,a=this.attributes,i=a.orientation,o=a.markerSymbol,s=o===void 0?El(i,"horizontalHandle","verticalHandle"):o;eo(!!s,n,function(l){var c=Qt(r.attributes,"marker"),u=Le({symbol:s},c);r.marker=l.maybeAppendByClassName(qh.marker,function(){return new mn({style:u})}).update(u)})},t.prototype.renderLabel=function(n){var r=this,a=this.attributes,i=a.showLabel,o=a.orientation,s=a.spacing,l=s===void 0?0:s,c=a.formatter;eo(i,n,function(u){var f,d=Qt(r.attributes,"label"),h=d.text,p=ga(d,["text"]),v=((f=u.select(qh.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,m=g===void 0?0:g,y=v.height,x=y===void 0?0:y,b=le(El(o,[0,x+l,"center","top"],[m+l,0,"start","middle"]),4),_=b[0],E=b[1],w=b[2],A=b[3];u.maybeAppendByClassName(qh.label,"text").styles(Le(Le({},p),{x:_,y:E,text:c(h).toString(),textAlign:w,textBaseline:A}))})},t})(Da),Yz={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},ZMe=Ws({},Yz,{}),QMe=Ws({},Yz,vl(Gz,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),JMe=.01,Ja=hs({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),e6e=(function(e){Er(t,e);function t(n){return e.call(this,n,ZMe)||this}return t.prototype.renderTitle=function(n,r,a){var i=this.attributes,o=i.showTitle,s=i.titleText,l=Qt(this.attributes,"title"),c=le(Cc(l),2),u=c[0],f=c[1];this.titleGroup=n.maybeAppendByClassName(Ja.titleGroup,"g").styles(f);var d=Le(Le({width:r,height:a},u),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(Ja.title,function(){return new Hz({style:d})}).update(d)},t.prototype.renderItems=function(n,r){var a=r.x,i=r.y,o=r.width,s=r.height,l=Qt(this.attributes,"title",!0),c=le(Cc(l),2),u=c[0],f=c[1],d=Le(Le({},u),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(Ja.itemsGroup,"g").styles(Le(Le({},f),{transform:"translate(".concat(a,", ").concat(i,")")}));var h=this;this.itemsGroup.selectAll(Ja.items.class).data(["items"]).join(function(p){return p.append(function(){return new qMe({style:d})}).attr("className",Ja.items.name).each(function(){h.items=It(this)})},function(p){return p.update(d)},function(p){return p.remove()})},t.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),a=r.x,i=r.y;this.itemsGroup.node().style.transform="translate(".concat(a,", ").concat(i,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,a=n.width,i=n.height;return r?this.title.node().getAvailableSpace():new yr(0,0,a,i)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n,r,a=(n=this.title)===null||n===void 0?void 0:n.node(),i=(r=this.items)===null||r===void 0?void 0:r.node();return!a||!i?e.prototype.getBBox.call(this):MMe(a,i)},t.prototype.render=function(n,r){var a=this.attributes,i=a.width,o=a.height,s=a.x,l=s===void 0?0:s,c=a.y,u=c===void 0?0:c,f=It(r);r.style.transform="translate(".concat(l,", ").concat(u,")"),this.renderTitle(f,i,o),this.renderItems(f,this.availableSpace),this.adjustLayout()},t})(Da),t6e={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},Qw=hs({background:"background",labelGroup:"label-group",label:"label"},"indicator"),n6e=(function(e){Er(t,e);function t(n){var r=e.call(this,n,t6e)||this;return r.point=[0,0],r.group=r.appendChild(new Ia({})),r.isMutationObserved=!0,r}return t.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,a=n.padding,i=le(oi(a),4),o=i[0],s=i[1],l=i[2],c=i[3],u=this.label.node().getLocalBounds(),f=u.min,d=u.max,h=new yr(f[0]-c,f[1]-o,d[0]+s-f[0]+c,d[1]+l-f[1]+o),p=this.getPath(r,h),v=Qt(this.attributes,"background");this.background=It(this.group).maybeAppendByClassName(Qw.background,"path").styles(Le(Le({},v),{d:p})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,a=n.labelText,i=Qt(this.attributes,"label"),o=le(Cc(i),2),s=o[0],l=o[1];s.text;var c=ga(s,["text"]);if(this.label=It(this.group).maybeAppendByClassName(Qw.labelGroup,"g").styles(l),!!a){var u=this.label.maybeAppendByClassName(Qw.label,function(){return Qf(r(a))}).style("text",r(a).toString());u.selectAll("text").styles(c)}},t.prototype.adjustLayout=function(){var n=le(this.point,2),r=n[0],a=n[1],i=this.attributes,o=i.x,s=i.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-a,")"))},t.prototype.getPath=function(n,r){var a=this.attributes.radius,i=r.x,o=r.y,s=r.width,l=r.height,c=[["M",i+a,o],["L",i+s-a,o],["A",a,a,0,0,1,i+s,o+a],["L",i+s,o+l-a],["A",a,a,0,0,1,i+s-a,o+l],["L",i+a,o+l],["A",a,a,0,0,1,i,o+l-a],["L",i,o+a],["A",a,a,0,0,1,i+a,o],["Z"]],u={top:4,right:6,bottom:0,left:2},f=u[n],d=this.createCorner([c[f].slice(-2),c[f+1].slice(-2)]);return c.splice.apply(c,pt([f+1,1],le(d),!1)),c[0][0]="M",c},t.prototype.createCorner=function(n,r){r===void 0&&(r=10);var a=.8,i=w4e.apply(void 0,pt([],le(n),!1)),o=le(n,2),s=le(o[0],2),l=s[0],c=s[1],u=le(o[1],2),f=u[0],d=u[1],h=le(i?[f-l,[l,f]]:[d-c,[c,d]],2),p=h[0],v=le(h[1],2),g=v[0],m=v[1],y=p/2,x=p/Math.abs(p),b=r*x,_=b/2,E=b*Math.sqrt(3)/2*a,w=le([g,g+y-_,g+y,g+y+_,m],5),A=w[0],S=w[1],O=w[2],k=w[3],T=w[4];return i?(this.point=[O,c-E],[["L",A,c],["L",S,c],["L",O,c-E],["L",k,c],["L",T,c]]):(this.point=[l+E,O],[["L",l,A],["L",l,S],["L",l+E,O],["L",l,k],["L",l,T]])},t.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?$u(this):Lv(this)},t.prototype.bindEvents=function(){this.label.on(Xt.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t})(Da);function r6e(e,t){for(var n=1;n<e.length;n+=1){var r=e[n-1],a=e[n];if(t>=r&&t<=a)return[r,a]}return[t,t]}function a6e(e,t,n){var r=Array.from(t),a=e.length;return new Array(a).fill(0).reduce(function(i,o,s){var l=r[s%r.length];return i+=" ".concat(e[s],":").concat(l).concat(s<a-1?" ".concat(e[s+1],":").concat(l):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function BP(e,t){var n=le(r6e(e,t),2),r=n[0],a=n[1];return{tick:t>(r+a)/2?a:r,range:[r,a]}}var j1=hs({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function Xz(e){var t=e.orientation,n=e.size,r=e.length;return El(t,[r,n],[n,r])}function qz(e){var t=e.type,n=le(Xz(e),2),r=n[0],a=n[1];return t==="size"?[["M",0,a],["L",0+r,0],["L",0+r,a],["Z"]]:[["M",0,a],["L",0,0],["L",0+r,0],["L",0+r,a],["Z"]]}function i6e(e){return qz(e)}function o6e(e){var t=e.orientation,n=e.color,r=e.block,a=e.partition,i;if(va(n)){var o=20;i=new Array(o).fill(0).map(function(c,u,f){return n(u/(f.length-1))})}else i=n;var s=i.length,l=i.map(function(c){return gu(c).toString()});return s?s===1?l[0]:r?a6e(a,l,t):l.reduce(function(c,u,f){return c+=" ".concat(f/(s-1),":").concat(u)},"l(".concat(El(t,"0","270"),")")):""}function s6e(e){var t=e.orientation,n=e.range;if(!n)return[];var r=le(Xz(e),2),a=r[0],i=r[1],o=le(n,2),s=o[0],l=o[1],c=El(t,s*a,0),u=El(t,0,s*i),f=El(t,l*a,a),d=El(t,i,l*i);return[["M",c,u],["L",c,d],["L",f,d],["L",f,u],["Z"]]}function l6e(e,t){var n=Qt(t,"track");e.maybeAppendByClassName(j1.track,"path").styles(Le({d:qz(t)},n))}function c6e(e,t){var n=Qt(t,"selection"),r=o6e(t),a=e.maybeAppendByClassName(j1.selection,"path").styles(Le({d:i6e(t),fill:r},n)),i=a.maybeAppendByClassName(j1.clipPath,"path").styles({d:s6e(t)}).node();a.style("clipPath",i)}var u6e=(function(e){Er(t,e);function t(n){return e.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return t.prototype.render=function(n,r){var a=It(r).maybeAppendByClassName(j1.trackGroup,"g");l6e(a,n);var i=It(r).maybeAppendByClassName(j1.selectionGroup,"g");c6e(i,n)},t})(Da);function f6e(e){return{min:Math.min.apply(Math,pt([],le(e.map(function(t){return t.value})),!1)),max:Math.max.apply(Math,pt([],le(e.map(function(t){return t.value})),!1))}}var d6e=(function(e){Er(t,e);function t(n){var r=e.call(this,n,QMe)||this;return r.eventToOffsetScale=new Ya({}),r.innerRibbonScale=new Ya({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(a){var i=r.attributes,o=i.data,s=i.block;a.stopPropagation();var l=r.getValueByCanvasPoint(a);if(s){var c=BP(o.map(function(d){var h=d.value;return h}),l).range,u=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(u[0],"-").concat(u[1])),r.dispatchIndicated(l,c)}else{var f=r.getTickValue(l);r.showIndicator(f,"".concat(r.getRealValue(f))),r.dispatchIndicated(f)}},r.onDragStart=function(a){return function(i){i.stopPropagation(),r.attributes.slidable&&(r.target=a,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(i)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(a){var i=r.target;r.updateMouse();var o=le(r.selection,2),s=o[0],l=o[1],c=r.getTickValue(r.getValueByCanvasPoint(a)),u=c-r.prevValue;i==="start"?s!==c&&r.updateSelection(c,l):i==="end"?l!==c&&r.updateSelection(s,c):i==="ribbon"&&u!==0&&(r.prevValue=c,r.updateSelection(u,u,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.width,a=n.height;return new yr(0,0,r,a)},t.prototype.render=function(n,r){var a=this,i=n.showLabel;this.renderTitle(It(r));var o=this.availableSpace,s=o.x,l=o.y,c=It(r).maybeAppendByClassName(Ja.contentGroup,"g").styles({transform:"translate(".concat(s,", ").concat(l,")")}),u=c.maybeAppendByClassName(Ja.labelGroup,"g").styles({zIndex:1});eo(!!i,u,function(d){a.renderLabel(d)});var f=c.maybeAppendByClassName(Ja.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=c.maybeAppendByClassName(Ja.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(f),this.renderIndicator(c),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var n=this.attributes,r=n.data,a=n.domain;return a?{min:a[0],max:a[1]}:f6e(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,a=n.max;return this.innerRibbonScale.update({domain:[r,a],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var n=le(this.selection,2),r=n[0],a=n[1],i=this.ribbonScale;return[i.map(r),i.map(a)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var n=this.range,r=n.min,a=n.max,i=this.attributes.defaultValue,o=i===void 0?[r,a]:i,s=le(o,2),l=s[0],c=s[1];return[l,c]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){return El(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},t.prototype.renderTitle=function(n){var r=this.attributes,a=r.showTitle,i=r.titleText,o=r.width,s=r.height,l=Qt(this.attributes,"title"),c=Le(Le({},l),{width:o,height:s,text:i}),u=this;n.selectAll(Ja.title.class).data(a?[i]:[]).join(function(f){return f.append(function(){return new Hz({style:c})}).attr("className",Ja.title.name).each(function(){u.title=this})},function(f){return f.update(c)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,a=n.height;return new yr(0,0,r,a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,a=n.labelDirection,i={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return i[r][a]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new yr(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var a=((n=this.label.querySelector(Bn.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),i=a.width,o=a.height;return this.cacheLabelBBox=new yr(0,0,i,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,a=n.labelSpacing,i=a===void 0?0:a;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,l=o.height,c=this.ifHorizontal(l,s)+i+this.labelFixedSpacing,u=this.ifHorizontal(s,l);return{width:s,height:l,size:c,length:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,a=n.ribbonSize,i=this.availableSpace,o=i.width,s=i.height,l=this.labelShape,c=l.size,u=l.length,f=le(this.ifHorizontal([s,o],[o,s]),2),d=f[0],h=f[1],p=r?this.handleShape:{size:0,length:0},v=p.size,g=p.length,m=this.handleOffsetRatio,y=0,x=this.labelPosition;a?y=a:["bottom","right"].includes(x)?y=Math.min(d-c,(d-v)/m):d*(1-m)>v?y=Math.max(d-c,0):y=Math.max((d-c-v)/m,0);var b=Math.max(g,u),_=h-b,E=le(this.ifHorizontal([_,y],[y,_]),2),w=E[0],A=E[1],S=["top","left"].includes(x)?c:0,O=le(this.ifHorizontal([b/2,S],[S,b/2]),2),k=O[0],T=O[1];return new yr(k,T,w,A)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,a=n.height;return this.ifHorizontal({size:a,length:r},{size:r,length:a})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(n){var r=this.attributes,a=r.data,i=r.type,o=r.orientation,s=r.color,l=r.block,c=Qt(this.attributes,"ribbon"),u=this.range,f=u.min,d=u.max,h=this.ribbonBBox,p=h.x,v=h.y,g=this.ribbonShape,m=g.length,y=g.size,x=Ws({transform:"translate(".concat(p,", ").concat(v,")"),length:m,size:y,type:i,orientation:o,color:s,block:l,partition:a.map(function(b){return(b.value-f)/(d-f)}),range:this.ribbonRange},c);this.ribbon=n.maybeAppendByClassName(Ja.ribbon,function(){return new u6e({style:x})}).update(x)},t.prototype.getHandleClassName=function(n){return"".concat(Ja.prefix("".concat(n,"-handle")))},t.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,a=n.orientation,i=Qt(this.attributes,"handle"),o=le(this.selection,2),s=o[0],l=o[1],c=Le(Le({},i),{orientation:a}),u=i.shape,f=u===void 0?"slider":u,d=f==="basic"?KMe:Iz,h=this;this.handlesGroup.selectAll(Ja.handle.class).data(r?[{value:s,type:"start"},{value:l,type:"end"}]:[],function(p){return p.type}).join(function(p){return p.append(function(){return new d({style:c})}).attr("className",function(v){var g=v.type;return"".concat(Ja.handle," ").concat(h.getHandleClassName(g))}).each(function(v){var g=v.type,m=v.value;this.update({labelText:m});var y="".concat(g,"Handle");h[y]=this,this.addEventListener("pointerdown",h.onDragStart(g))})},function(p){return p.update(c).each(function(v){var g=v.value;this.update({labelText:g})})},function(p){return p.each(function(v){var g=v.type,m="".concat(g,"Handle");h[m]=void 0}).remove()})},t.prototype.adjustHandles=function(){var n=le(this.selection,2),r=n[0],a=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",a)},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new yr(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,a=n.height,i=this.endHandle.getBBox(),o=i.width,s=i.height,l=le([Math.max(r,o),Math.max(a,s)],2),c=l[0],u=l[1];return this.cacheHandleBBox=new yr(0,0,c,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,a=n.height,i=le(this.ifHorizontal([a,r],[r,a]),2),o=i[0],s=i[1];return{width:r,height:a,size:o,length:s}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(n,r){var a=this.attributes.handleFormatter,i=this.ribbonBBox,o=i.x,s=i.y,l=this.ribbonShape.size,c=this.getOffset(r),u=le(this.ifHorizontal([o+c,s+l*this.handleOffsetRatio],[o+l*this.handleOffsetRatio,s+c]),2),f=u[0],d=u[1],h=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();h==null||h.update({transform:"translate(".concat(f,", ").concat(d,")"),formatter:a})},t.prototype.renderIndicator=function(n){var r=Qt(this.attributes,"indicator");this.indicator=n.maybeAppendByClassName(Ja.indicator,function(){return new n6e({})}).update(r)},Object.defineProperty(t.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(a,i,o,s){var l,c,u=(l=i==null?void 0:i.id)!==null&&l!==void 0?l:o.toString();if(a.push(Le(Le({},i),{id:u,index:o,type:"value",label:(c=i==null?void 0:i.label)!==null&&c!==void 0?c:i.value.toString(),value:n.ribbonScale.map(i.value)})),o<s.length-1){var f=s[o+1],d=le([i.value,f.value],2),h=d[0],p=d[1],v=(h+p)/2;a.push(Le(Le({},i),{id:u,index:o,type:"range",range:[h,p],label:[h,p].join("~"),value:n.ribbonScale.map(v)}))}return a},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var n=le(["center","middle"],2),r=n[0],a=n[1],i=this.labelPosition;return i==="top"?a="bottom":i==="bottom"?a="top":i==="left"?r="end":i==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:a}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(n){var r=this.attributes,a=r.showTick,i=a===void 0?!1:a,o=r.labelFilter,s=r.labelFormatter,l=Qt(this.attributes,"tick"),c=Qt(this.attributes,"label"),u=c.align,f=Ws(Le({showLine:!1,showGrid:!1,showTick:i,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),vl(l,"tick"),vl(c,"label"),{data:this.labelData}),d={tickFilter:function(p,v,g){return(p==null?void 0:p.type)!=="value"?!1:o?o(p,p.index,g.filter(function(m){return m.type!=="value"})):!0},labelFilter:function(p,v,g){return(p==null?void 0:p.type)!==u?!1:o?o(p,p.index,g.filter(function(m){return m.type===u})):!0},labelFormatter:s},h=Le(Le(Le({},f),d),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(Ja.label,function(){return new Fk({style:h})}).node(),this.label.update(h,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,a=n.labelDirection,i=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,l=this.labelPosition,c=this.labelFixedSpacing,u=le([0,0,0],3),f=u[0],d=u[1],h=u[2],p=o??s;return r?(h=p,d=c,a==="positive"?l==="right"?(f=p,h=p):l==="bottom"&&(f=h):a==="negative"&&(l==="top"||l==="left")&&(f=s)):a==="positive"?l==="right"?d=p:l==="bottom"&&(f=s+c,d=i):a==="negative"&&(l==="left"||l==="top")&&(d=i),{offset:f,spacing:d,tickLength:h}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,a=r.x,i=r.y,o=r.width,s=r.height,l=this.labelAxisStyle,c=l.offset,u=l.spacing,f=l.tickLength,d=le(this.ifHorizontal([[a,i+c],[a+o,i+c]],[[a+c,i+s],[a+c,i]]),2),h=d[0],p=d[1];this.label.update({startPos:h,endPos:p,tickLength:f,labelSpacing:u},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var a=this.attributes.showIndicator;if(!a||typeof n!="number"){this.hideIndicator();return}var i=this.range,o=i.min,s=i.max,l=this.ribbonBBox,c=l.x,u=l.y,f=jr(n,o,s),d=this.getOffset(f),h=this.ifHorizontal([d+c,u],[c,d+u]);this.indicator.update({x:h[0],y:h[1],position:this.ifHorizontal("top","left"),labelText:r}),Lv(this.indicator.node())},t.prototype.hideIndicator=function(){$u(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(n,r){this.updateSelection(n,r)},t.prototype.updateSelection=function(n,r,a){var i;a===void 0&&(a=!1);var o=le(this.selection,2),s=o[0],l=o[1],c=le([n,r],2),u=c[0],f=c[1];a&&(u+=s,f+=l);var d=this.range,h=d.min,p=d.max;i=le(BMe([h,p],[u,f],this.selection),2),u=i[0],f=i[1],this.update({defaultValue:[u,f]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,a=this.range,i=a.min,o=a.max;return Rn(r)?TA((o-i)*JMe,0):r},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(n){var r=this.attributes,a=r.data,i=r.block,o=this.range.min;return i?BP(a.map(function(s){var l=s.value;return l}),n).tick:DMe(n,this.step,o)},t.prototype.getValueByCanvasPoint=function(n){var r=this.range,a=r.min,i=r.max,o=le(this.ribbon.node().getPosition(),2),s=o[0],l=o[1],c=this.ifHorizontal(s,l),u=this.ifHorizontal.apply(this,pt([],le(Yy(n)),!1)),f=u-c,d=jr(this.getOffset(f,!0),a,i);return d},t.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var a=this.range,i=a.min,o=a.max,s=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[i,o],range:[0,s]}),r?l.invert(n):l.map(n)},t.prototype.getRealSelection=function(n){var r=this.range.max,a=le(n,2),i=a[0],o=a[1];return this.ifHorizontal([i,o],[r-o,r-i])},t.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},t.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new Fn("valuechange",{detail:{value:n}});this.dispatchEvent(r)},t.prototype.dispatchIndicated=function(n,r){var a=this,i=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:i-n,range:r?a.getRealSelection(r):void 0}}),s=new Fn("indicate",{detail:o});this.dispatchEvent(s)},t})(Da);function DA(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var $P={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function h6e(e){var t;e===void 0&&(e="");var n=DA(e);return t={},t[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=Le({flex:1},$P),t[".".concat(n.VALUE)]=Le({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},$P),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var p6e=(function(e){Er(t,e);function t(n){var r=this,a,i,o=(i=(a=n.style)===null||a===void 0?void 0:a.template)===null||i===void 0?void 0:i.prefixCls,s=DA(o);return r=e.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:h6e(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,a=n.template;return r.map(function(i,o){var s=i.name,l=s===void 0?"":s,c=i.color,u=c===void 0?"black":c,f=i.index,d=ga(i,["name","color","index"]),h=Le({name:l,color:u,index:f??o},d);return NM(qbe(a.item,h))})},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(n,r){var a=this;if(n!==void 0&&r!==void 0){var i=this.element.style.visibility==="hidden",o=function(){a.attributes.x=n??a.attributes.x,a.attributes.y=r??a.attributes.y,a.updatePosition()};i?this.closeTransition(o):o()}this.element.style.visibility="visible"},t.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var a=this.attributes.enterable;a&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var n=this.attributes.template;this.element=NM(n.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:dP(this.element,n))}},t.prototype.renderHTMLTooltipElement=function(){var n,r,a=this.attributes,i=a.template,o=a.title,s=a.enterable,l=a.style,c=a.content,u=DA(i.prefixCls),f=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(f.innerHTML=i.title,f.getElementsByClassName(u.TITLE)[0].innerHTML=o):(r=(n=f.getElementsByClassName(u.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var d=this.HTMLTooltipItemsElements,h=document.createElement("ul");h.className=u.LIST,dP(h,d);var p=this.element.querySelector(".".concat(u.LIST));p?p.replaceWith(h):f.appendChild(h)}S4e(f,l)},t.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,a=r.position,i=r.offset,o=n||a,s=o.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,u=c.width,f=c.height,d=[-u/2,-f/2];return s.forEach(function(h){var p=le(d,2),v=p[0],g=p[1],m=le(l[h],2),y=m[0],x=m[1];d=[v+(u/2+i[0])*y,g+(f/2+i[1])*x]}),d},t.prototype.setOffsetPosition=function(n){var r=le(n,2),a=r[0],i=r[1],o=this.attributes,s=o.x,l=s===void 0?0:s,c=o.y,u=c===void 0?0:c,f=o.container,d=f.x,h=f.y;this.element.style.left="".concat(+l+d+a,"px"),this.element.style.top="".concat(+u+h+i,"px")},t.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,a=Date.now();this.timestamp>0&&a-this.timestamp<r||(this.timestamp=a,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(n){var r=le(n,2),a=r[0],i=r[1],o=this.attributes,s=o.x,l=o.y,c=o.bounding,u=o.position;if(!c)return[a,i];var f=this.element,d=f.offsetWidth,h=f.offsetHeight,p=le([+s+a,+l+i],2),v=p[0],g=p[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},y=c.x,x=c.y,b=c.width,_=c.height,E={left:v<y,right:v+d>y+b,top:g<x,bottom:g+h>x+_},w=[];u.split("-").forEach(function(S){E[S]?w.push(m[S]):w.push(S)});var A=w.join("-");return this.getRelativeOffsetFromCursor(A)},t.prototype.isCursorEntered=function(n,r){if(this.element){var a=this.element.getBoundingClientRect(),i=a.x,o=a.y,s=a.width,l=a.height;return new yr(i,o,s,l).isPointIn(n,r)}return!1},t.prototype.closeTransition=function(n){var r=this,a=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=a},10)},t.tag="tooltip",t})(Da),v6e=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;r.layoutEvents=[Xt.BOUNDS_CHANGED,Xt.INSERTED,Xt.REMOVED],r.$margin=oi(0),r.$padding=oi(0);var a=n.style||{},i=a.margin,o=i===void 0?0:i,s=a.padding,l=s===void 0?0:s;return r.margin=o,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=oi(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=oi(n)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.x,a=r===void 0?0:r,i=n.y,o=i===void 0?0:i,s=n.width,l=n.height,c=le(this.$margin,4),u=c[0],f=c[1],d=c[2],h=c[3];return new yr(a-h,o-u,s+h+f,l+u+d)},t.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,e.prototype.appendChild.call(this,n,r),n},t.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,a=n.height,i=le(this.$padding,4),o=i[0],s=i[1],l=i[2],c=i[3],u=le(this.$margin,4),f=u[0],d=u[3];return new yr(c+d,o+f,r-c-s,a-o-l)},t.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,a=n.y;this.style.transform="translate(".concat(r,", ").concat(a,")");var i=u4e(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var l=i[s],c=l.x,u=l.y;o.style.transform="translate(".concat(c,", ").concat(u,")")})}catch{}},t.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(a){a.target&&(a.target.isMutationObserved=!0,n.layout())})})},t.prototype.attributeChangedCallback=function(n,r,a){n==="margin"?this.margin=a:n==="padding"&&(this.padding=a),this.layout()},t})(Ia),Jw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function g6e(e){const{min:[t,n],max:[r,a]}=e.getLocalBounds();let i=0,o=0;return t>0&&(i=t),r<0&&(i=r),n>0&&(o=n),a<0&&(o=a),[i,o]}function m6e(e,t=[]){const[n=0,r=0,a=n,i=r]=t,o=e.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:l,halfExtents:c}=e.getLocalBounds(),[u,f]=l,[d,h]=c;return o.setEulerAngles(s),{x:u-i,y:f-n,width:d*2+i+r,height:h*2+n+a}}function y6e(e,t,n,r,a=!0,i=!0){const o=f=>pd()(f);if(!t[0]&&!t[1])return o([g6e(e),t]);if(!n.length)return o([[0,0],t]);const[s,l]=n,c=[...l],u=[...s];if(l[0]!==s[0]){const f=a?-4:4;c[1]=l[1],i&&!a&&(c[0]=Math.max(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!i&&!a&&(c[0]=Math.max(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-f))),!i&&a&&(c[0]=Math.min(s[0],l[0]-f),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f))),i&&a&&(c[0]=Math.min(s[0],l[0]-f),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-f)))}return o([l,c,u,s,t])}const Kz=W0(e=>{const t=e.attributes,{className:n,class:r,transform:a,rotate:i,labelTransform:o,labelTransformOrigin:s,x:l,y:c,x0:u=l,y0:f=c,text:d,background:h,connector:p,startMarker:v,endMarker:g,coordCenter:m,innerHTML:y}=t,x=Jw(t,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${l}, ${c})`,[l,c,u,f].some(z=>!nr(z))){e.children.forEach(z=>z.remove());return}const b=Xe(x,"background"),{padding:_}=b,E=Jw(b,["padding"]),w=Xe(x,"connector"),{points:A=[]}=w,S=Jw(w,["points"]);let O;y?O=xt(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",y).call(ht,Object.assign({transform:o,transformOrigin:s},x)).node():O=xt(e).maybeAppend("text","text").style("zIndex",0).style("text",d).call(ht,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},x)).node();const k=xt(e).maybeAppend("background","rect").style("zIndex",-1).call(ht,m6e(O,_)).call(ht,h?E:{}).node(),T=+u<m[0],C=+f<m[1],M=[+u-+l,+f-+c],P=y6e(k,M,A,m,T,C),I=v&&new mn({id:"startMarker",style:Object.assign({x:0,y:0},Xe(x,"startMarker"))}),L=g&&new mn({id:"endMarker",style:Object.assign({x:0,y:0},Xe(x,"endMarker"))});xt(e).maybeAppend("connector","path").style("zIndex",0).style("d",P).style("markerStart",I).style("markerEnd",L).call(ht,p?S:{})}),Zz=(e,t)=>{const{coordinate:n}=t;return(r,a,i)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=a,f={text:String(s),stroke:o,fill:o,fontSize:l},[[d,h]]=r;return xt(new Kz).style("x",d).style("y",h).call(ht,i).style("transform",`${u}rotate(${+c})`).style("coordCenter",n.getCenter()).call(ht,f).call(ht,e).node()}};Zz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var NA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function x6e(e){const t=e/Math.sqrt(2),n=e*Math.sqrt(2),[r,a]=[-t,t-n],[i,o]=[0,0],[s,l]=[t,t-n];return[["M",r,a],["A",e,e,0,1,1,s,l],["L",i,o],["Z"]]}function b6e(e){const{min:t,max:n}=e.getLocalBounds();return[(t[0]+n[0])*.5,(t[1]+n[1])*.5]}const w6e=W0(e=>{const t=e.attributes,{class:n,x:r,y:a,transform:i}=t,o=NA(t,["class","x","y","transform"]),s=Xe(o,"marker"),{size:l=24}=s,c=()=>x6e(l/2),u=xt(e).maybeAppend("marker",()=>new mn({})).call(h=>h.node().update(Object.assign({symbol:c},s))).node(),[f,d]=b6e(u);xt(e).maybeAppend("text","text").style("x",f).style("y",d).call(ht,o)}),Qz=(e,t)=>{const n=NA(e,[]);return(r,a,i)=>{const{color:o}=i,s=NA(i,["color"]),{color:l=o,text:c=""}=a,u={text:String(c),stroke:l,fill:l},[[f,d]]=r;return xt(new w6e).call(ht,s).style("transform",`translate(${f},${d})`).call(ht,u).call(ht,n).node()}};Qz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Jz=(e,t)=>{const{coordinate:n}=t;return(r,a,i)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=a,f={text:String(s),stroke:o,fill:o,fontSize:l,textAlign:"center",textBaseline:"middle"},[[d,h]]=r;return xt(new Vs).style("x",d).style("y",h).call(ht,i).style("transformOrigin","center center").style("transform",`${u}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(ht,f).call(ht,e).node()}};Jz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var _6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function E6e(e,t){const n=[],r=[],a=[];let i=!1,o=null;const s=e.length/2;for(let l=0;l<s;l++){const c=e[l],u=e[l+s];if([...c,...u].some(f=>!t(f)))i=!0;else{if(n.push(c),r.push(u),i&&o){i=!1;const[f,d]=o;a.push([f,c,d,u])}o=[c,u]}}return[n.concat(r),a]}const jP=W0(e=>{const{areaPath:t,connectPath:n,areaStyle:r,connectStyle:a}=e.attributes,i=e.ownerDocument;xt(e).maybeAppend("connect-path",()=>i.createElement("path",{})).style("d",n).call(ht,a),xt(e).maybeAppend("area-path",()=>i.createElement("path",{})).style("d",t).call(ht,r)}),Ks=(e,t)=>{const{curve:n,gradient:r=!1,defined:a=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:i=!1}=e,o=_6e(e,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=t;return(c,u,f)=>{const{color:d}=f,{color:h=d,seriesColor:p,seriesX:v,seriesY:g}=u,m=tr(s),y=Ij(s,u),x=r&&p?Pj(p,v,g,r,void 0,m):h,b=Object.assign(Object.assign(Object.assign(Object.assign({},f),{stroke:x,fill:x}),y&&{transform:y}),o),[_,E]=E6e(c,a),w=Xe(b,"connect"),A=!!E.length,S=O=>xt(l.createElement("path",{})).style("d",O||"").call(ht,b).node();if($n(s)){const O=k=>{const T=s.getCenter(),C=k.slice(0,k.length/2),M=k.slice(k.length/2);return ISe().angle((P,I)=>j0(Br(C[I],T))).outerRadius((P,I)=>Or(C[I],T)).innerRadius((P,I)=>Or(M[I],T)).defined((P,I)=>[...C[I],...M[I]].every(a)).curve(n)(M)};return!A||i&&!Object.keys(w).length?S(O(_)):A&&!i?S(O(c)):xt(new jP).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},w),o)).style("areaPath",O(c)).style("connectPath",E.map(O).join("")).node()}else{const O=k=>{const T=k.slice(0,k.length/2),C=k.slice(k.length/2);return m?sA().y((M,P)=>T[P][1]).x1((M,P)=>T[P][0]).x0((M,P)=>C[P][0]).defined((M,P)=>[...T[P],...C[P]].every(a)).curve(n)(T):sA().x((M,P)=>T[P][0]).y1((M,P)=>T[P][1]).y0((M,P)=>C[P][1]).defined((M,P)=>[...T[P],...C[P]].every(a)).curve(n)(T)};return!A||i&&!Object.keys(w).length?S(O(_)):A&&!i?S(O(c)):xt(new jP).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},w),o)).style("areaPath",O(c)).style("connectPath",E.map(O).join("")).node()}}};Ks.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const eU=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const a=$n(n)?NO:Iv;return Ks(Object.assign({curve:a},e),t)(...r)}};eU.props=Object.assign(Object.assign({},Ks.props),{defaultMarker:"square"});var A6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const tU=(e,t)=>{const n=A6e(e,[]),{coordinate:r}=t;return(...a)=>{const i=$n(r)?w$:tr(r)?O$:S$;return Ks(Object.assign({curve:i},n),t)(...a)}};tU.props=Object.assign(Object.assign({},Ks.props),{defaultMarker:"smooth"});const nU=(e,t)=>(...n)=>Ks(Object.assign({curve:k$},e),t)(...n);nU.props=Object.assign(Object.assign({},Ks.props),{defaultMarker:"hvh"});const rU=(e,t)=>(...n)=>Ks(Object.assign({curve:T$},e),t)(...n);rU.props=Object.assign(Object.assign({},Ks.props),{defaultMarker:"vh"});const aU=(e,t)=>(...n)=>Ks(Object.assign({curve:C$},e),t)(...n);aU.props=Object.assign(Object.assign({},Ks.props),{defaultMarker:"hv"});const iU=(e,t)=>{const{arrow:n=!1}=e;return(...r)=>kk(Object.assign(Object.assign({},e),{arrow:n}),t)(...r)};iU.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var zP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const oU=(e,t)=>{const n=zP(e,[]),{document:r}=t;return(a,i,o)=>{const{color:s}=o,l=zP(o,["color"]),{color:c=s,transform:u}=i,[f,d]=a,h=us();return h.moveTo(f[0],f[1]),h.bezierCurveTo(f[0]/2+d[0]/2,f[1],f[0]/2+d[0]/2,d[1],d[0],d[1]),xt(r.createElement("path",{})).call(ht,l).style("d",h.toString()).style("stroke",c).style("transform",u).call(ht,n).node()}};oU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var UP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function S6e(e,t,n,r){const a=us();if($n(n)){const i=n.getCenter(),o=Or(e,i),l=(Or(t,i)-o)*r+o;return a.moveTo(e[0],e[1]),F1(a,e,t,i,l),a.lineTo(t[0],t[1]),a}return tr(n)?(a.moveTo(e[0],e[1]),a.lineTo(e[0]+(t[0]-e[0])*r,e[1]),a.lineTo(e[0]+(t[0]-e[0])*r,t[1]),a.lineTo(t[0],t[1]),a):(a.moveTo(e[0],e[1]),a.lineTo(e[0],e[1]+(t[1]-e[1])*r),a.lineTo(t[0],e[1]+(t[1]-e[1])*r),a.lineTo(t[0],t[1]),a)}const sU=(e,t)=>{const{cornerRatio:n=1/3}=e,r=UP(e,["cornerRatio"]),{coordinate:a,document:i}=t;return(o,s,l)=>{const{defaultColor:c}=l,u=UP(l,["defaultColor"]),{color:f=c,transform:d}=s,[h,p]=o,v=S6e(h,p,a,n);return xt(i.createElement("path",{})).call(ht,u).style("d",v.toString()).style("stroke",f).style("transform",d).call(ht,r).node()}};sU.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var HP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const lU=(e,t)=>{const n=HP(e,[]),{coordinate:r,document:a}=t;return(i,o,s)=>{const{color:l}=s,c=HP(s,["color"]),{color:u=l,transform:f}=o,[d,h]=i,p=us();if(p.moveTo(d[0],d[1]),$n(r)){const v=r.getCenter();p.quadraticCurveTo(v[0],v[1],h[0],h[1])}else{const v=o$(d,h),g=Or(d,h)/2;F1(p,d,h,v,g)}return xt(a.createElement("path",{})).call(ht,c).style("d",p.toString()).style("stroke",u).style("transform",f).call(ht,n).node()}};lU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function cU(e={}){const{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Li(e={}){return[...cU(e),{name:"title",scale:"identity"}]}function Dc(){return[{type:m2,channel:"color"},{type:y2,channel:["x","y"]}]}function bh(){return[{type:m2,channel:"x"},{type:y2,channel:["y"]}]}function O6e(){return[{type:m2,channel:"color"},{type:y2,channel:["position"]}]}function wh(e={}){return cU(e)}function zr(){return[{type:RB}]}function Kr(){return[]}function e_(e,t){return e.getBandWidth(e.invert(t))}function ju(e,t,n={}){const{x:r,y:a,series:i}=t,{x:o,y:s,series:l}=e,{style:{bandOffset:c=l?0:.5,bandOffsetX:u=c,bandOffsetY:f=c}={}}=n,d=!!(o!=null&&o.getBandWidth),h=!!(s!=null&&s.getBandWidth),p=!!(l!=null&&l.getBandWidth);return!d&&!h?v=>v:(v,g)=>{const m=d?e_(o,r[g]):0,y=h?e_(s,a[g]):0,b=p&&i?(e_(l,i[g])/2+ +i[g])*m:0,[_,E]=v;return[_+u*m+b,E+f*y]}}function Zy(e){return parseFloat(e)/100}function Bk(e,t,n,r){const{x:a,y:i}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),l=Array.from(e,c=>{const u=a[c],f=i[c],d=typeof u=="string"?Zy(u)*o:+u,h=typeof f=="string"?Zy(f)*s:+f;return[[d,h]]});return[e,l]}function Tl(e){return typeof e=="function"?e:t=>t[e]}function t_(e,t){return Array.from(e,Tl(t))}function k6e(e){return Array.isArray(e)?{links:e}:e&&typeof e=="object"?{links:e.links||[],nodes:e.nodes}:{links:[]}}function $k(e,t){const n=k6e(e),{source:r=f=>f.source,target:a=f=>f.target,value:i=f=>f.value}=t,{links:o,nodes:s}=n;if(!o.length)return{links:[],nodes:s||[]};const l=t_(o,r),c=t_(o,a),u=t_(o,i);return{links:o.map((f,d)=>({target:c[d],source:l[d],value:u[d]})),nodes:s||Array.from(new Set([...l,...c]),f=>({key:f}))}}var T6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const uU=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s}=o,l=T6e(o,["color"]),{color:c=s,src:u="",size:f=32,transform:d=""}=i;let{width:h=f,height:p=f}=e;const[[v,g]]=a,[m,y]=n.getSize();h=typeof h=="string"?Zy(h)*m:h,p=typeof p=="string"?Zy(p)*y:p;const x=v-Number(h)/2,b=g-Number(p)/2;return xt(r.createElement("image",{})).call(ht,l).style("x",x).style("y",b).style("src",u).style("stroke",c).style("transform",d).call(ht,e).style("width",h).style("height",p).node()}};uU.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var C6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function M6e(e,t){const n=us();if($n(t)){const r=t.getCenter(),a=[...e,e[0]],i=a.map(o=>Or(o,r));return a.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const l=i[s],c=e[s-1],u=i[s-1];u!==void 0&&Math.abs(l-u)<1e-10?F1(n,c,o,r,l):n.lineTo(o[0],o[1])}),n.closePath(),n}return FCe(n,e)}const fU=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s}=o,l=C6e(o,["color"]),{color:c=s,transform:u}=i,f=M6e(a,n);return xt(r.createElement("path",{})).call(ht,l).style("d",f.toString()).style("stroke",c).style("fill",c).style("transform",u).call(ht,e).node()}};fU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var VP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function P6e(e,t){const[n,r,a,i]=e,o=us();if($n(t)){const s=t.getCenter(),l=Or(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],a[0],a[1]),F1(o,a,i,s,l),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),F1(o,r,n,s,l),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+a[0]/2,n[1],n[0]/2+a[0]/2,a[1],a[0],a[1]),o.lineTo(i[0],i[1]),o.bezierCurveTo(i[0]/2+r[0]/2,i[1],i[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const dU=(e,t)=>{const n=VP(e,[]),{coordinate:r,document:a}=t;return(i,o,s)=>{const{color:l}=s,c=VP(s,["color"]),{color:u=l,transform:f}=o,d=P6e(i,r);return xt(a.createElement("path",{})).call(ht,c).style("d",d.toString()).style("fill",u||l).style("stroke",u||l).style("transform",f).call(ht,n).node()}};dU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var I6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function R6e(e,t){const n=us();if(!$n(t))n.moveTo(...e[0]),n.lineTo(...e[1]),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.lineTo(...e[5]),n.lineTo(...e[6]),n.lineTo(...e[7]),n.closePath(),n.moveTo(...e[8]),n.lineTo(...e[9]),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.lineTo(...e[13]);else{const r=t.getCenter(),[a,i]=r,o=os(Br(e[0],r)),s=os(Br(e[1],r)),l=Or(r,e[2]),c=Or(r,e[3]),u=Or(r,e[8]),f=Or(r,e[10]),d=Or(r,e[11]);n.moveTo(...e[0]),n.arc(a,i,l,o,s),n.arc(a,i,l,s,o,!0),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.arc(a,i,c,o,s),n.lineTo(...e[6]),n.arc(a,i,f,s,o,!0),n.closePath(),n.moveTo(...e[8]),n.arc(a,i,u,o,s),n.arc(a,i,u,s,o,!0),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.arc(a,i,d,o,s),n.arc(a,i,d,s,o,!0)}return n}const hU=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s,transform:l}=i,{color:c,fill:u=c,stroke:f=c}=o,d=I6e(o,["color","fill","stroke"]),h=R6e(a,n);return xt(r.createElement("path",{})).call(ht,d).style("d",h.toString()).style("stroke",f).style("fill",s||u).style("transform",l).call(ht,e).node()}};hU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var D6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function N6e(e,t,n=4){const r=us();if(!$n(t))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-n,e[3][1]),r.lineTo(e[10][0]-n,e[10][1]),r.lineTo(e[10][0]+n,e[10][1]),r.lineTo(e[3][0]+n,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+n/2,e[8][1]),r.arc(e[3][0],e[8][1],n/2,0,Math.PI*2),r.closePath(),r;const a=t.getCenter(),[i,o]=a,s=Or(a,e[3]),l=Or(a,e[8]),c=Or(a,e[10]),u=os(Br(e[2],a)),f=Math.asin(n/l),d=u-f,h=u+f;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(d)*s+i,Math.sin(d)*s+o),r.arc(i,o,s,d,h),r.lineTo(Math.cos(h)*c+i,Math.sin(h)*c+o),r.arc(i,o,c,h,d,!0),r.lineTo(Math.cos(d)*s+i,Math.sin(d)*s+o),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const p=(d+h)/2;return r.moveTo(Math.cos(p)*(l+n/2)+i,Math.sin(p)*(l+n/2)+o),r.arc(Math.cos(p)*l+i,Math.sin(p)*l+o,n/2,p,Math.PI*2+p),r.closePath(),r}const pU=(e,t)=>{const{coordinate:n,document:r}=t;return(a,i,o)=>{const{color:s,transform:l}=i,c=4,{color:u,fill:f=u,stroke:d=u}=o,h=D6e(o,["color","fill","stroke"]),p=N6e(a,n,c);return xt(r.createElement("path",{})).call(ht,h).style("d",p.toString()).style("stroke",d).style("fill",s||f).style("transform",l).call(ht,e).node()}};pU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var WP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function L6e(e,t,n){return e.createElement("path",{style:Object.assign({d:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,transformOrigin:"center"},n)})}function F6e(e,t){if(!$n(t))return pd().x(r=>r[0]).y(r=>r[1])(e);const n=t.getCenter();return PO()({startAngle:0,endAngle:Math.PI*2,outerRadius:Or(e[0],n),innerRadius:Or(e[1],n)})}function B6e(e,t){if(!$n(e))return t;const[n,r]=e.getCenter();return`translate(${n}, ${r}) ${t||""}`}const jk=(e,t)=>{const{arrow:n,arrowSize:r=4}=e,a=WP(e,["arrow","arrowSize"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{color:u,lineWidth:f}=c,d=WP(c,["color","lineWidth"]),{color:h=u,size:p=f}=l,v=n?L6e(o,r,Object.assign({fill:a.stroke||h,stroke:a.stroke||h},Xe(a,"arrow"))):null,g=F6e(s,i),m=B6e(i,l.transform);return xt(o.createElement("path",{})).call(ht,d).style("d",g).style("stroke",h).style("lineWidth",p).style("transform",m).style("markerEnd",v).call(ht,a).node()}};jk.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function $6e(e,t,n){return[["M",e,t],["L",e+2*n,t-n],["L",e+2*n,t+n],["Z"]]}function j6e(e){return pd().x(t=>t[0]).y(t=>t[1])(e)}function z6e(e,t,n,r,a,i,o=0){const[[s,l],[c,u]]=t;if(tr(e)){const g=s+n,m=c+r,y=g+o,x=l+a,b=u+i;return[[g,x],[y,x],[y,b],[m,b]]}const f=l-n,d=u-r,h=f-o,p=s-a,v=c-i;return[[p,f],[p,h],[v,h],[v,d]]}const vU=(e,t)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:a=n,offsetY:i=0,sourceOffsetY:o=i,targetOffsetY:s=i,connectLength1:l,endMarker:c=!0}=e,u=GP(e,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:f}=t;return(d,h,p)=>{const{color:v,connectLength1:g}=p,m=GP(p,["color","connectLength1"]),{color:y,transform:x}=h,b=z6e(f,d,o,s,r,a,l??g),_=Xe(Object.assign(Object.assign({},u),p),"endMarker");return xt(new ci).call(ht,m).style("d",j6e(b)).style("stroke",y||v).style("transform",x).style("markerEnd",c?new mn({className:"marker",style:Object.assign(Object.assign({},_),{symbol:$6e})}):null).call(ht,u).node()}};vU.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function U6e(e,t,n,r){const a=t.length/2,i=t.slice(0,a),o=t.slice(a);let s=ph(i,(h,p)=>Math.abs(h[1]-o[p][1]));s=Math.max(Math.min(s,a-2),1);const l=h=>[i[h][0],(i[h][1]+o[h][1])/2],c=l(s),u=l(s-1),f=l(s+1),d=os(Br(f,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${d})`,textAlign:"center",textBaseline:"middle"}}function gU(e,t,n,r){const{bounds:a}=n,[[i,o],[s,l]]=a,c=s-i,u=l-o,f=d=>{const{x:h,y:p}=d,v=ZM(n.x,c),g=ZM(n.y,u);return Object.assign(Object.assign({},d),{x:(v||h)+i,y:(g||p)+o})};return f(e==="left"?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:e==="right"?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:e==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:e==="bottom"?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:e==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:e==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:e==="bottom-left"?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:e==="bottom-right"?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function mU(e,t,n,r){const{y:a,y1:i,autoRotate:o,rotateToAlignArc:s}=n,l=r.getCenter(),c=yd(r,t,[a,i]),{innerRadius:u,outerRadius:f,startAngle:d,endAngle:h}=c,p=e==="inside"?(d+h)/2:h,v=zk(p,o,s),g=(()=>{const[m,y]=t,x=u+(f-u)*.5,[b,_]=e==="inside"?z1(l,p,x):o$(m,y);return{x:b,y:_}})();return Object.assign(Object.assign({},g),{textAlign:e==="inside"?"center":"start",textBaseline:"middle",rotate:v})}function z1(e,t,n){return[e[0]+Math.sin(t)*n,e[1]-Math.cos(t)*n]}function zk(e,t,n){if(!t)return 0;const r=n?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function H6e(e,t,n,r){const{y:a,y1:i,autoRotate:o,rotateToAlignArc:s,radius:l=.5,offset:c=0}=n,u=yd(r,t,[a,i]),{startAngle:f,endAngle:d}=u,h=r.getCenter(),p=(f+d)/2,g={textAlign:"center",textBaseline:"middle",rotate:zk(p,o,s)},{innerRadius:m,outerRadius:y}=u,b=m+(y-m)*l+c,[_,E]=z1(h,p,b);return Object.assign({x:_,y:E},g)}function YP(e){return e===void 0?null:e}function yU(e,t,n,r){const{bounds:a}=n,[i]=a;return{x:YP(i[0]),y:YP(i[1])}}function ql(e,t,n,r){const{bounds:a}=n;return a.length===1?yU(e,t,n):(A2(r)?mU:vh(r)?H6e:gU)(e,t,n,r)}function V6e(e,t,n,r,a){const[i,o]=z1(e,t,n),[s,l]=z1(e,t,r),c=Math.sin(t)>0?1:-1;return[[i,o],[s,l],[s+c*a,l]]}function xU(e,t,n){const r=yd(n,e,[t.y,t.y1]),{innerRadius:a,outerRadius:i}=r;return a+(i-a)}function bU(e,t,n){const r=yd(n,e,[t.y,t.y1]),{startAngle:a,endAngle:i}=r;return(a+i)/2}function Uk(e,t,n,r){const{autoRotate:a,rotateToAlignArc:i,offset:o=0,connector:s=!0,connectorLength:l=o,connectorLength2:c=0,connectorDistance:u=0}=n,f=r.getCenter(),d=bU(t,n,r),h=Math.sin(d)>0?1:-1,p=zk(d,a,i),v={textAlign:h>0||A2(r)?"start":"end",textBaseline:"middle",rotate:p},g=xU(t,n,r),m=g+(s?l:o),[[y,x],[b,_],[E,w]]=V6e(f,d,g,m,s?c:0),A=s?+u*h:0,S=E+A,O=w,k={connector:s,connectorPoints:[[b-S,_-O],[E-S,w-O]]};return Object.assign(Object.assign({x0:y,y0:x,x:E+A,y:w},v),k)}function W6e(e,t,n,r){const{bounds:a}=n;return a.length===1?yU(e,t,n):(A2(r)?mU:vh(r)?Uk:gU)(e,t,n,r)}function XP(e,t={}){const{labelHeight:n=14,height:r}=t,a=$s(e,c=>c.y),i=a.length,o=new Array(i);for(let c=0;c<i;c++){const u=a[c],{y:f}=u;o[c]={y:f,y1:f+n,labels:[f]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const u=o[c],f=o[c-1];if(f.y1>u.y){s=!0,f.labels.push(...u.labels),o.splice(c,1),f.y1+=u.y1-u.y;const d=f.y1-f.y;f.y1=Math.max(Math.min(f.y1,r),d),f.y=f.y1-d}}}let l=0;for(const c of o){const{y:u,labels:f}=c;let d=u-n;for(const h of f){const p=a[l++],g=d+n-h;p.connectorPoints[0][1]-=g,p.y=d+n,d+=n}}}function qP(e,t){const n=$s(e,s=>s.y),{height:r,labelHeight:a=14}=t,i=Math.ceil(r/a);if(n.length<=i)return XP(n,t);const o=[];for(let s=0;s<n.length;s++)s<n.length-i?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);XP(o,t)}var G6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const qg=new WeakMap;function Y6e(e,t,n){const{connectorLength:r,connectorLength2:a,connectorDistance:i}=t,o=G6e(Uk("outside",e,t,n),[]),s=n.getCenter(),l=xU(e,t,n),c=bU(e,t,n),u=l+r+a,f=Math.sin(c)>0?1:-1,d=s[0]+(u+ +i)*f,{x:h}=o,p=d-h;return o.x+=p,o.connectorPoints[0][0]-=p,o}function X6e(e,t,n,r,a,i){if(!vh(r))return{};if(qg.has(t))return qg.get(t);const o=i.map(d=>Y6e(d,n,r)),{width:s,height:l}=r.getOptions(),c=o.filter(d=>d.x<s/2),u=o.filter(d=>d.x>=s/2),f=Object.assign(Object.assign({},a),{height:l});return qP(c,f),qP(u,f),o.forEach((d,h)=>qg.set(i[h],d)),qg.get(t)}var q6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function K6e(e,t,n,r){if(!vh(r))return{};const{connectorLength:a,connectorLength2:i,connectorDistance:o}=n,s=q6e(Uk("outside",t,n,r),[]),{x0:l,y0:c}=s,u=r.getCenter(),d=NSe(r)+a,h=j0([l-u[0],c-u[1]]),p=Math.sin(h)>0?1:-1,[v,g]=z1(u,h,d);return s.x=v+(i+o)*p,s.y=g,s}const Z6e=Object.freeze(Object.defineProperty({__proto__:null,area:U6e,bottom:ql,bottomLeft:ql,bottomRight:ql,inside:ql,left:ql,outside:W6e,right:ql,spider:X6e,surround:K6e,top:ql,topLeft:ql,topRight:ql},Symbol.toStringTag,{value:"Module"}));var KP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Q6e(e,t){return e!==void 0?e:vh(t)?"inside":tr(t)?"right":"top"}function J6e(e,t,n,r,a,i){const{position:o}=t,{render:s}=a,l=Q6e(o,n),u=r[s?"htmlLabel":l==="inside"?"innerLabel":"label"],f=Object.assign({},u,t),d=Z6e[ok(l)];if(!d)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},u),d(l,e,f,n,a,i))}const wU=(e,t)=>{const{coordinate:n,theme:r}=t,{render:a}=e;return(i,o,s,l)=>{const{text:c,x:u,y:f,transform:d="",transformOrigin:h,className:p=""}=o,v=KP(o,["text","x","y","transform","transformOrigin","className"]),g=J6e(i,o,n,r,e,l),{rotate:m=0,transform:y=""}=g,x=KP(g,["rotate","transform"]);return xt(new Kz).call(ht,x).style("text",`${c}`).style("className",`${p} g2-label`).style("innerHTML",a?a(c,o.datum,o.index):void 0).style("labelTransform",`${y} rotate(${+m}) ${d}`.trim()).style("labelTransformOrigin",h).style("coordCenter",n.getCenter()).call(ht,v).node()}};wU.props={defaultMarker:"point"};var ZP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Hk=(e,t)=>{const{arrow:n,colorAttribute:r}=e,a=ZP(e,["arrow","colorAttribute"]),{coordinate:i,document:o}=t;return(s,l,c)=>{const{color:u,stroke:f}=c,d=ZP(c,["color","stroke"]),{d:h,color:p=u}=l,[v,g]=i.getSize();return xt(o.createElement("path",{})).call(ht,d).style("d",typeof h=="function"?h({width:v,height:g}):h).style(r,p).call(ht,a).node()}};Hk.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const _U=(e,t)=>Hk(Object.assign({colorAttribute:"fill"},e),t);_U.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const EU=(e,t)=>Hk(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);EU.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ePe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const AU=(e,t)=>{const{document:n}=t;return(r,a,i)=>{const{transform:o}=a,{color:s}=i,l=ePe(i,["color"]),{color:c=s}=a,[u,...f]=r,d=us();return d.moveTo(...u),f.forEach(([h,p])=>{d.lineTo(h,p)}),d.closePath(),xt(n.createElement("path",{})).call(ht,l).style("d",d.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(ht,e).node()}};AU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function SU(e){var t,n,r,a=e||1;function i(s,l){++t>a&&(r=n,o(1),++t),n[s]=l}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:i(s,l)}}}SU(3);function OU(e,t=(...r)=>`${r[0]}`,n=16){const r=SU(n);return(...a)=>{const i=t(...a);let o=r.get(i);return r.has(i)?r.get(i):(o=e(...a),r.set(i,o),o)}}function tPe(e){return typeof e=="string"?e.split(" ").map(t=>{const[n,r]=t.split(":");return[+n,r]}):e}function Qy(e,t,n){const r=e?e():document.createElement("canvas");return r.width=t,r.height=n,r}const nPe=OU((e,t,n)=>{const r=Qy(n,e*2,e*2),a=r.getContext("2d"),i=e,o=e;if(t===1)a.beginPath(),a.arc(i,o,e,0,2*Math.PI,!1),a.fillStyle="rgba(0,0,0,1)",a.fill();else{const s=a.createRadialGradient(i,o,e*t,i,o,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),a.fillStyle=s,a.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function rPe(e,t){const r=Qy(t,256,1).getContext("2d"),a=r.createLinearGradient(0,0,256,1);return tPe(e).forEach(([i,o])=>{a.addColorStop(i,o)}),r.fillStyle=a,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function aPe(e,t,n,r,a,i){const{blur:o}=a;let s=r.length;for(;s--;){const{x:l,y:c,value:u,radius:f}=r[s],d=Math.min(u,n),h=l-f,p=c-f,v=nPe(f,1-o,i),g=(d-t)/(n-t);e.globalAlpha=Math.max(g,.001),e.drawImage(v,h,p)}return e}function iPe(e,t,n,r,a){const{minOpacity:i,opacity:o,maxOpacity:s,useGradientOpacity:l}=a,c=0,u=0,f=t,d=n,h=e.getImageData(c,u,f,d),p=h.data,v=p.length;for(let g=3;g<v;g+=4){const m=p[g],y=m*4;if(!y)continue;const x=o||Math.max(0,Math.min(s,Math.max(i,m)));p[g-3]=r[y],p[g-2]=r[y+1],p[g-1]=r[y+2],p[g]=l?r[y+3]:x}return h}function oPe(e,t,n,r,a,i,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},i);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=Qy(o,e,t).getContext("2d"),u=rPe(s.gradient,o);c.clearRect(0,0,e,t),aPe(c,n,r,a,s,o);const f=iPe(c,e,t,u,s),h=Qy(o,e,t).getContext("2d");return h.putImageData(f,0,0),h}var sPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function lPe(e,t){return Object.keys(e).reduce((n,r)=>{const a=e[r];return t(a,r)||(n[r]=a),n},{})}const kU=(e,t)=>{const{gradient:n,opacity:r,maxOpacity:a,minOpacity:i,blur:o,useGradientOpacity:s}=e,l=sPe(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:f}=t;return(d,h,p)=>{const{transform:v}=h,[g,m]=c.getSize(),y=d.map(w=>({x:w[0],y:w[1],value:w[2],radius:w[3]})),x=Mo(d,w=>w[2]),b=Mn(d,w=>w[2]),E=g&&m?oPe(g,m,x,b,y,lPe({gradient:n,opacity:r,minOpacity:i,maxOpacity:a,blur:o,useGradientOpacity:s},w=>w===void 0),u):{canvas:null};return xt(f.createElement("image",{})).call(ht,p).style("x",0).style("y",0).style("width",g).style("height",m).style("src",E.canvas.toDataURL()).style("transform",v).call(ht,l).node()}};kU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var cPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const TU=(e,t)=>{const{render:n}=e,r=cPe(e,["render"]);return a=>{const[[i,o]]=a;return n(Object.assign(Object.assign({},r),{x:i,y:o}),t)}};TU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const QP=5e3;function JP(e,t,n){return e+(t-e)*n}function uPe(e,t,n,r){return t===0?[[e+1/2*n/Math.PI/2,r/2],[e+1/2*n/Math.PI,r],[e+n/4,r]]:t===1?[[e+1/2*n/Math.PI/2*(Math.PI-2),r],[e+1/2*n/Math.PI/2*(Math.PI-1),r/2],[e+n/4,0]]:t===2?[[e+1/2*n/Math.PI/2,-r/2],[e+1/2*n/Math.PI,-r],[e+n/4,-r]]:[[e+1/2*n/Math.PI/2*(Math.PI-2),-r],[e+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[e+n/4,0]]}function fPe(e,t,n,r,a,i,o){const s=Math.ceil(2*e/n*4)*4,l=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const u=i-e+c-e*2;l.push(["M",u,t]);let f=0;for(let d=0;d<s;++d){const h=d%4,p=uPe(d*n/4,h,n,a);l.push(["C",p[0][0]+u,-p[0][1]+t,p[1][0]+u,-p[1][1]+t,p[2][0]+u,-p[2][1]+t]),d===s-1&&(f=p[2][0])}return l.push(["L",f+u,o+e]),l.push(["L",u,o+e]),l.push(["Z"]),l}function dPe(e,t,n,r,a,i,o,s,l,c,u){const{fill:f,fillOpacity:d,opacity:h}=a;for(let p=0;p<r;p++){const v=r<=1?1:p/(r-1),g=fPe(s,o+s*n,l,0,s/40,e,t),m=u.createElement("path",{style:{d:g,fill:f,opacity:JP(.2,.9,v)*Number(h||d)}});i.appendChild(m);try{const y=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];m.animate(y,{duration:JP(.5*QP,QP,v)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function hPe(e,t,n){return`
      M ${e} ${t-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function pPe(e,t,n){const a=n*.618;return`
      M ${e-a} ${t-n}
      L ${e+a} ${t-n}
      L ${e+a} ${t+n}
      L ${e-a} ${t+n}
      Z
    `}function vPe(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t}
      L ${e} ${t+n}
      L ${e-n} ${t}
      Z
    `}function gPe(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t+n}
      L ${e-n} ${t+n}
      Z
    `}function mPe(e,t,n){const r=n*4/3,a=Math.max(r,n*2),i=r/2,o=e,s=i+t-a/2,l=Math.asin(i/((a-i)*.85)),c=Math.sin(l)*i,u=Math.cos(l)*i,f=o-u,d=s+c,h=e,p=s+i/Math.sin(l);return`
      M ${f} ${d}
      A ${i} ${i} 0 1 1 ${f+u*2} ${d}
      Q ${h} ${p} ${e} ${t+a/2}
      Q ${h} ${p} ${f} ${d}
      Z 
    `}const e5={pin:mPe,rect:pPe,circle:hPe,diamond:vPe,triangle:gPe};var t5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const yPe=(e="circle")=>e5[e]||e5.circle,CU=(e,t)=>{if(!t)return;const{coordinate:n}=t,{liquidOptions:r,styleOptions:a}=e,{liquidShape:i,percent:o}=r,{background:s,outline:l={},wave:c={}}=a,u=t5(a,["background","outline","wave"]),{border:f=2,distance:d=0}=l,h=t5(l,["border","distance"]),{length:p=192,count:v=3}=c;return(g,m,y)=>{const{document:x}=t.canvas,{color:b,fillOpacity:_}=y,E=Object.assign(Object.assign({fill:b},y),u),w=x.createElement("g",{}),[A,S]=n.getCenter(),O=n.getSize(),k=Math.min(...O)/2,T=va(i)?i:yPe(i),C=T(A,S,k,...O),M=T(A,S,k+f/2,...O);if(Object.keys(s).length){const L=x.createElement("path",{style:Object.assign({d:C,fill:"#fff"},s)});w.appendChild(L)}if(o>0){const L=x.createElement("path",{style:{d:M}});w.appendChild(L),w.style.clipPath=L,dPe(A,S,1-o,v,E,w,L.getBBox().y,k*2,p,!0,x)}const P=x.createElement("path",{style:{d:C,fill:"transparent",lineWidth:f+2*d,stroke:"#fff"}}),I=x.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:C,stroke:b,strokeOpacity:_,lineWidth:f},E),h),{fill:"transparent"})});return w.appendChild(P),w.appendChild(I),w}};CU.props={};const n5=(e,t)=>Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))/2,xPe=(e,t,n)=>{const r=Math.atan2(e[1]-n[1],e[0]-n[0]);let i=Math.atan2(t[1]-n[1],t[0]-n[0])-r;return i<0&&(i+=Math.PI*2),i},bPe=(e,t)=>{if(!t)return;const{coordinate:n}=t;if(!(n!=null&&n.getCenter))return;const r=n.getCenter();return(a,i,o)=>{const{document:s}=t.canvas,{color:l,index:c}=i,u=s.createElement("g",{}),f=n5(a[0],a[1]),d=n5(a[0],r)*2,h=xPe(a[3],a[0],r)>Math.PI,p=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...a[0]],["A",f,f,0,1,0,...a[1]],["A",d+f*2,d+f*2,0,h?1:0,0,...a[2]],["A",f,f,0,1,c===0?0:1,...a[3]],["A",d,d,0,h?1:0,1,...a[0]],["Z"]]},o),rO(e,["shape","last","first"])),{fill:l||o.color})});return u.appendChild(p),u}},r5="main-layer",LA="label-layer",dl="element",Jy="view",X0="plot",a5="component",FA="label",i5="area",n_="axis-breaks",MU="axis-breaks-group";var Kg=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},wPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const _Pe=.03,EPe={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},lf=0,APe=(e,t,n,r,a,i)=>{const o=[],s=[],l=r-1;for(let c=1;c<l;c++){const u=c/l*t,f=e+(c%2===0?n:-n);o.push(`${u},${f}`),s.push(`${u},${a?f-i:f+i}`)}return o.push(`${t},${e}`),s.push(`${t+i},${e}`),[o,s]},PU=(e,t)=>{const{context:n,selection:r,view:a}=t,i=r.select(`.${X0}`).node(),{document:o}=n.canvas,{scale:s}=a,l=new Map,c=(f,d,h)=>Kg(void 0,void 0,void 0,function*(){const{update:p,setState:v}=n.externals;v("options",g=>{const{marks:m}=g;if(!m||!m.length)return g;const y=m.map(x=>{const b=sn(x,"scale.y.breaks",[]),_=b.filter(E=>E.start!==d&&E.end!==h&&!E.collapsed);return b.forEach(E=>{E.start===d&&E.end===h&&(E.collapsed=!0)}),console.log("breaks group:",b,_),Me({},x,{scale:{y:{breaks:_}}})});return l.set(f,{start:d,end:h}),Object.assign(Object.assign({},g),{marks:y})}),yield p()}),u=()=>Kg(void 0,void 0,void 0,function*(){if(!l.size)return;const{update:f,setState:d}=n.externals;d("options",h=>{const{marks:p}=h,v=p.map(g=>{const m=sn(g,"scale.y.breaks",[]);return c2(g,"scale.y.breaks",m.map(y=>Object.assign(Object.assign({},y),{collapsed:!1}))),g});return l.clear(),Object.assign(Object.assign({},h),{marks:v})}),yield f()});return f=>{const{key:d,start:h,end:p,gap:v=_Pe,vertices:g=50,lineWidth:m=.5,verticeOffset:y=3}=f,x=wPe(f,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),b=o.createElement("g",{id:`break-group-${d}`,className:MU}),_=sn(s,"x.sortedDomain",[]),E=s.y.getOptions(),{range:w,domain:A}=E,S=A.indexOf(h),O=A.indexOf(p),{width:k,height:T}=i.getBBox();if(S===-1||O===-1||!_.length)return b;const C=w[0]>w[1],M=w[S]*T,P=w[O]*T;let I="",L="";for(const[N,{y:G,isLower:Y}]of[{y:P,isLower:!1},{y:M,isLower:!0}].entries()){const B=C?m:-m,[F,D]=APe(G,k-lf,y,g,Y,B);N===0?(I=`M ${lf},${G} L ${F.join(" L ")} `,L=`M ${lf-m},${G+B} L ${D.join(" L ")} `):(I+=`L ${k-lf},${G} L ${[...F].reverse().join(" L ")} L ${lf},${G} Z`,L+=`L ${k-lf+m+2},${G-B} L ${[...D].reverse().join(" L ")} L ${lf-m},${G-B} Z`)}const z=Object.assign(Object.assign({},EPe),x);try{const N=new ci({style:Object.assign(Object.assign({},z),{d:I})}),G=new ci({style:Object.assign(Object.assign({},z),{d:L,lineWidth:0,cursor:"pointer"})});G.addEventListener("click",Y=>Kg(void 0,void 0,void 0,function*(){Y.stopPropagation(),Y.detail===2&&(yield c(d,h,p))})),b.appendChild(N),b.appendChild(G),i.addEventListener("click",Y=>Kg(void 0,void 0,void 0,function*(){Y.detail===2&&(yield u())})),i.appendChild(b)}catch(N){console.error("Failed to create break path:",N)}return b}};PU.props={};function o5(e,t){return e.getBandWidth(e.invert(t))}const s5={rect:xd,hollow:L2,funnel:QO,pyramid:Dj},IU=()=>(e,t,n,r)=>{const{x:a,y1:i,series:o,size:s}=n;let{y:l}=n;l=l.map(v=>v!==void 0?v:1);const c=t.x,u=t.series,[f]=r.getSize(),d=s?s.map(v=>+v/f):null,h=s?(v,g,m)=>{const y=v+g/2,x=d[m];return[y-x/2,y+x/2]}:(v,g,m)=>[v,v+g],p=Array.from(e,v=>{const g=o5(c,a[v]),m=u?o5(u,o==null?void 0:o[v]):1,y=g*m,x=(+(o==null?void 0:o[v])||0)*g,b=+a[v]+x,[_,E]=h(b,y,v),w=+l[v],A=+i[v];return[[_,w],[E,w],[E,A],[_,A]].map(C=>r.map(C))});return[e,p]};IU.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:s5,channels:[...Li({shapes:Object.keys(s5)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...zr(),{type:Sv},{type:Nu}],postInference:[...Kr(),...bh()],interaction:{shareTooltip:!0}};const l5={rect:xd,hollow:L2},RU=()=>(e,t,n,r)=>{const{x:a,x1:i,y:o,y1:s}=n,l=Array.from(e,c=>{const u=[+a[c],+o[c]],f=[+i[c],+o[c]],d=[+i[c],+s[c]],h=[+a[c],+s[c]];return[u,f,d,h].map(p=>r.map(p))});return[e,l]};RU.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:l5,channels:[...Li({shapes:Object.keys(l5)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:Sv}],postInference:[...Kr(),...bh()],interaction:{shareTooltip:!0}};const c5={line:Nj,smooth:Lj,hv:Fj,vh:Bj,hvh:$j,trail:jj},SPe=(e,t,n,r)=>{var a,i;const{series:o,x:s,y:l}=n,{x:c,y:u}=t;if(s===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const f=o?Array.from(er(e,g=>o[g]).values()):[e],d=f.map(g=>g[0]).filter(g=>g!==void 0),h=(((a=c==null?void 0:c.getBandWidth)===null||a===void 0?void 0:a.call(c))||0)/2,p=(((i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,v=Array.from(f,g=>g.map(m=>r.map([+s[m]+h,+l[m]+p])));return[d,v,f]},OPe=(e,t,n,r)=>{const a=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(a.length===0)throw new Error("Missing encode for position channel.");$n(r)&&a.push(a[0]);const i=Array.from(e,o=>{const s=a.map(u=>+u[o]),l=r.map(s),c=[];for(let u=0;u<l.length;u+=2)c.push([l[u],l[u+1]]);return c});return[e,i]},DU=()=>(e,t,n,r)=>(S2(r)?OPe:SPe)(e,t,n,r);DU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:c5,channels:[...Li({shapes:Object.keys(c5)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...zr(),{type:zB},{type:AO}],postInference:[...Kr(),...bh(),...O6e()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const u5={hollow:uk,hollowDiamond:lk,hollowHexagon:ck,hollowSquare:fk,hollowTriangleDown:hk,hollowTriangle:dk,hollowBowtie:sk,hollowCircle:pk,point:_k,plus:wk,diamond:mk,square:Ek,triangle:Sk,hexagon:yk,cross:gk,bowtie:vk,hyphen:xk,line:bk,tick:Ak,triangleDown:Ok,circle:B2},NU=e=>(t,n,r,a)=>{const{x:i,y:o,x1:s,y1:l,size:c,dx:u,dy:f}=r,[d,h]=a.getSize(),p=ju(n,r,e),v=m=>{const y=+((u==null?void 0:u[m])||0),x=+((f==null?void 0:f[m])||0),b=s?(+i[m]+ +s[m])/2:+i[m],_=l?(+o[m]+ +l[m])/2:+o[m],E=b+y,w=_+x;return[E,w]},g=c?Array.from(t,m=>{const[y,x]=v(m),b=+c[m],_=b/d,E=b/h,w=[y-_,x-E],A=[y+_,x+E];return[a.map(p(w,m)),a.map(p(A,m))]}):Array.from(t,m=>[a.map(p(v(m),m))]);return[t,g]};NU.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:u5,channels:[...Li({shapes:Object.keys(u5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...zr(),{type:Nu},{type:Mv}],postInference:[...Kr(),{type:EO},...Dc()]};const f5={text:Zz,badge:Qz,tag:Jz},LU=e=>{const{cartesian:t=!1}=e;return t?Bk:((n,r,a,i)=>{const{x:o,y:s}=a,l=ju(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]})};LU.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:f5,channels:[...Li({shapes:Object.keys(f5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...zr(),{type:b2},{type:x2}],postInference:[...Kr(),...Dc()]};const d5={cell:xd,hollow:L2},FU=()=>(e,t,n,r)=>{const{x:a,y:i}=n,o=t.x,s=t.y,l=Array.from(e,c=>{const u=o.getBandWidth(o.invert(+a[c])),f=s.getBandWidth(s.invert(+i[c])),d=+a[c],h=+i[c],p=[d,h],v=[d+u,h],g=[d+u,h+f],m=[d,h+f];return[p,v,g,m].map(y=>r.map(y))});return[e,l]};FU.props={defaultShape:"cell",defaultLabelShape:"label",shape:d5,composite:!1,channels:[...Li({shapes:Object.keys(d5)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...zr(),{type:Nu},{type:Mv},{type:SO}],postInference:[...Kr(),...Dc()]};const h5={area:eU,smooth:tU,hvh:nU,vh:rU,hv:aU},BU=()=>(e,t,n,r)=>{var a,i;const{x:o,y:s,y1:l,series:c}=n,{x:u,y:f}=t,d=c?Array.from(er(e,m=>c[m]).values()):[e],h=d.map(m=>m[0]).filter(m=>m!==void 0),p=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=(((i=f==null?void 0:f.getBandWidth)===null||i===void 0?void 0:i.call(f))||0)/2,g=Array.from(d,m=>{const y=m.length,x=new Array(y*2);for(let b=0;b<m.length;b++){const _=m[b];x[b]=r.map([+o[_]+p,+s[_]+v]),x[y+b]=r.map([+o[_]+p,+l[_]+v])}return x});return[h,g,d]};BU.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:h5,channels:[...Li({shapes:Object.keys(h5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...zr(),{type:AO},{type:Sv},{type:SO}],postInference:[...Kr(),...bh()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const p5={link:iU,arc:lU,smooth:oU,vhv:sU},Vk=e=>(t,n,r,a)=>{const{x:i,y:o,x1:s=i,y1:l=o}=r,c=ju(n,r,e),u=t.map(f=>[a.map(c([+i[f],+o[f]],f)),a.map(c([+s[f],+l[f]],f))]);return[t,u]};Vk.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:p5,channels:[...Li({shapes:Object.keys(p5)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:LB},{type:FB}],postInference:[...Kr(),...Dc()]};const v5={image:uU},$U=e=>{const{cartesian:t}=e;return t?Bk:(n,r,a,i)=>{const{x:o,y:s}=a,l=ju(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]}};$U.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:v5,channels:[...Li({shapes:Object.keys(v5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...zr(),{type:b2},{type:x2}],postInference:[...Kr(),...Dc()]};const g5={polygon:fU,ribbon:dU},jU=()=>(e,t,n,r)=>{const a=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),i=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=e.map(s=>{const l=[];for(let c=0;c<a.length;c++){const u=a[c][s];if(u===void 0)break;const f=i[c][s];l.push(r.map([+u,+f]))}return l});return[e,o]};jU.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:g5,channels:[...Li({shapes:Object.keys(g5)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Kr(),...Dc()]};const m5={box:hU,violin:pU},zU=()=>(e,t,n,r)=>{const{x:a,y:i,y1:o,y2:s,y3:l,y4:c,series:u}=n,f=t.x,d=t.series,h=Array.from(e,p=>{const v=f.getBandWidth(f.invert(+a[p])),g=d?d.getBandWidth(d.invert(+(u==null?void 0:u[p]))):1,m=v*g,y=(+(u==null?void 0:u[p])||0)*v,x=+a[p]+y+m/2,[b,_,E,w,A]=[+i[p],+o[p],+s[p],+l[p],+c[p]];return[[x-m/2,A],[x+m/2,A],[x,A],[x,w],[x-m/2,w],[x+m/2,w],[x+m/2,_],[x-m/2,_],[x-m/2,E],[x+m/2,E],[x,_],[x,b],[x-m/2,b],[x+m/2,b]].map(O=>r.map(O))});return[e,h]};zU.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:m5,channels:[...Li({shapes:Object.keys(m5)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...zr(),{type:Nu}],postInference:[...Kr(),...bh()],interaction:{shareTooltip:!0}};const y5={vector:kk},UU=()=>(e,t,n,r)=>{const{x:a,y:i,size:o,rotate:s}=n,[l,c]=r.getSize(),u=e.map(f=>{const d=+s[f]/180*Math.PI,h=+o[f],p=h/l,v=h/c,g=p*Math.cos(d),m=-v*Math.sin(d);return[r.map([+a[f]-g/2,+i[f]-m/2]),r.map([+a[f]+g/2,+i[f]+m/2])]});return[e,u]};UU.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:y5,channels:[...Li({shapes:Object.keys(y5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...zr()],postInference:[...Kr(),...Dc()]};const x5={line:jk},HU=e=>(t,n,r,a)=>{const{y:i}=r,o=ju(n,r,Me({style:{bandOffset:0}},e)),s=Array.from(t,l=>{const c=[0,i[l]],u=[1,i[l]];return[c,u].map(f=>a.map(o(f,l)))});return[t,s]};HU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:x5,channels:[...wh({shapes:Object.keys(x5)}),{name:"y",required:!0}],preInference:[...zr(),{type:DB}],postInference:[...Kr()]};const b5={line:jk},VU=e=>(t,n,r,a)=>{const{x:i}=r,o=ju(n,r,Me({style:{bandOffset:0}},e)),s=Array.from(t,l=>{const c=[i[l],1],u=[i[l],0];return[c,u].map(f=>a.map(o(f,l)))});return[t,s]};VU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:b5,channels:[...wh({shapes:Object.keys(b5)}),{name:"x",required:!0}],preInference:[...zr(),{type:NB}],postInference:[...Kr()]};const w5={connector:vU},WU=(...e)=>Vk(...e);WU.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:w5,channels:[...wh({shapes:Object.keys(w5)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Kr()]};function _5(e,t,n,r){if(t)return()=>[0,1];const{[e]:a,[`${e}1`]:i}=n;return o=>{var s;const l=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+i[o])))||0;return[a[o],i[o]+l]}}function Wk(e={}){const{extendX:t=!1,extendY:n=!1}=e;return(r,a,i,o)=>{const s=_5("x",t,i,a.x),l=_5("y",n,i,a.y),c=Array.from(r,u=>{const[f,d]=s(u),[h,p]=l(u);return[[f,h],[d,h],[d,p],[f,p]].map(x=>o.map(x))});return[r,c]}}const E5={range:xd},GU=()=>Wk();GU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:E5,channels:[...wh({shapes:Object.keys(E5)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Kr()]};const A5={range:xd},YU=()=>Wk({extendY:!0});YU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:A5,channels:[...wh({shapes:Object.keys(A5)}),{name:"x",required:!0}],preInference:[...zr(),{type:BB}],postInference:[...Kr()]};const S5={range:xd},XU=()=>Wk({extendX:!0});XU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:S5,channels:[...wh({shapes:Object.keys(S5)}),{name:"y",required:!0}],preInference:[...zr(),{type:$B}],postInference:[...Kr()]};function kPe(e){return e.target.depth}function TPe(e){return e.depth}function CPe(e,t){return t-1-e.height}function ex(e,t){return e.sourceLinks.length?e.depth:t-1}function MPe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Mo(e.sourceLinks,kPe)-1:0}function Zg(e){return function(){return e}}function O5(e,t){return tx(e.source,t.source)||e.index-t.index}function k5(e,t){return tx(e.target,t.target)||e.index-t.index}function tx(e,t){return e.y0-t.y0}function r_(e){return e.value}function PPe(e){return e.index}function IPe(e){return e.nodes}function RPe(e){return e.links}function T5(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function C5({nodes:e}){for(const t of e){let n=t.y0,r=n;for(const a of t.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(const a of t.targetLinks)a.y1=r+a.width/2,r+=a.width}}function DPe(){let e=0,t=0,n=1,r=1,a=24,i=8,o,s=PPe,l=ex,c,u,f,d=IPe,h=RPe,p=6;function v(I){const L={nodes:d(I),links:h(I)};return g(L),m(L),y(L),x(L),E(L),C5(L),L}v.update=function(I){return C5(I),I},v.nodeId=function(I){return arguments.length?(s=typeof I=="function"?I:Zg(I),v):s},v.nodeAlign=function(I){return arguments.length?(l=typeof I=="function"?I:Zg(I),v):l},v.nodeDepth=function(I){return arguments.length?(c=I,v):c},v.nodeSort=function(I){return arguments.length?(u=I,v):u},v.nodeWidth=function(I){return arguments.length?(a=+I,v):a},v.nodePadding=function(I){return arguments.length?(i=o=+I,v):i},v.nodes=function(I){return arguments.length?(d=typeof I=="function"?I:Zg(I),v):d},v.links=function(I){return arguments.length?(h=typeof I=="function"?I:Zg(I),v):h},v.linkSort=function(I){return arguments.length?(f=I,v):f},v.size=function(I){return arguments.length?(e=t=0,n=+I[0],r=+I[1],v):[n-e,r-t]},v.extent=function(I){return arguments.length?(e=+I[0][0],n=+I[1][0],t=+I[0][1],r=+I[1][1],v):[[e,t],[n,r]]},v.iterations=function(I){return arguments.length?(p=+I,v):p};function g({nodes:I,links:L}){I.forEach((N,G)=>{N.index=G,N.sourceLinks=[],N.targetLinks=[]});const z=new Map(I.map(N=>[s(N),N]));if(L.forEach((N,G)=>{N.index=G;let{source:Y,target:B}=N;typeof Y!="object"&&(Y=N.source=T5(z,Y)),typeof B!="object"&&(B=N.target=T5(z,B)),Y.sourceLinks.push(N),B.targetLinks.push(N)}),f!=null)for(const{sourceLinks:N,targetLinks:G}of I)N.sort(f),G.sort(f)}function m({nodes:I}){for(const L of I)L.value=L.fixedValue===void 0?Math.max(ns(L.sourceLinks,r_),ns(L.targetLinks,r_)):L.fixedValue}function y({nodes:I}){const L=I.length;let z=new Set(I),N=new Set,G=0;for(;z.size;){if(z.forEach(Y=>{Y.depth=G;for(const{target:B}of Y.sourceLinks)N.add(B)}),++G>L)throw new Error("circular link");z=N,N=new Set}if(c){const Y=Math.max(Mn(I,F=>F.depth)+1,0);let B;for(let F=0;F<I.length;F++)B=I[F],B.depth=c.call(null,B,Y)}}function x({nodes:I}){const L=I.length;let z=new Set(I),N=new Set,G=0;for(;z.size;){if(z.forEach(Y=>{Y.height=G;for(const{source:B}of Y.targetLinks)N.add(B)}),++G>L)throw new Error("circular link");z=N,N=new Set}}function b({nodes:I}){const L=Math.max(Mn(I,G=>G.depth)+1,0),z=(n-e-a)/(L-1),N=new Array(L).fill(0).map(()=>[]);for(const G of I){const Y=Math.max(0,Math.min(L-1,Math.floor(l.call(null,G,L))));G.layer=Y,G.x0=e+Y*z,G.x1=G.x0+a,N[Y]?N[Y].push(G):N[Y]=[G]}if(u)for(const G of N)G.sort(u);return N}function _(I){const L=Mo(I,z=>(r-t-(z.length-1)*o)/ns(z,r_));for(const z of I){let N=t;for(const G of z){G.y0=N,G.y1=N+G.value*L,N=G.y1+o;for(const Y of G.sourceLinks)Y.width=Y.value*L}N=(r-N+o)/(z.length+1);for(let G=0;G<z.length;++G){const Y=z[G];Y.y0+=N*(G+1),Y.y1+=N*(G+1)}C(z)}}function E(I){const L=b(I);o=Math.min(i,(r-t)/(Mn(L,z=>z.length)-1)),_(L);for(let z=0;z<p;++z){const N=Math.pow(.99,z),G=Math.max(1-N,(z+1)/p);A(L,N,G),w(L,N,G)}}function w(I,L,z){for(let N=1,G=I.length;N<G;++N){const Y=I[N];for(const B of Y){let F=0,D=0;for(const{source:V,value:H}of B.targetLinks){const j=H*(B.layer-V.layer);F+=M(V,B)*j,D+=j}if(!(D>0))continue;const R=(F/D-B.y0)*L;B.y0+=R,B.y1+=R,T(B)}u===void 0&&Y.sort(tx),Y.length&&S(Y,z)}}function A(I,L,z){for(let N=I.length,G=N-2;G>=0;--G){const Y=I[G];for(const B of Y){let F=0,D=0;for(const{target:V,value:H}of B.sourceLinks){const j=H*(V.layer-B.layer);F+=P(B,V)*j,D+=j}if(!(D>0))continue;const R=(F/D-B.y0)*L;B.y0+=R,B.y1+=R,T(B)}u===void 0&&Y.sort(tx),Y.length&&S(Y,z)}}function S(I,L){const z=I.length>>1,N=I[z];k(I,N.y0-o,z-1,L),O(I,N.y1+o,z+1,L),k(I,r,I.length-1,L),O(I,t,0,L)}function O(I,L,z,N){for(;z<I.length;++z){const G=I[z],Y=(L-G.y0)*N;Y>1e-6&&(G.y0+=Y,G.y1+=Y),L=G.y1+o}}function k(I,L,z,N){for(;z>=0;--z){const G=I[z],Y=(G.y1-L)*N;Y>1e-6&&(G.y0-=Y,G.y1-=Y),L=G.y0-o}}function T({sourceLinks:I,targetLinks:L}){if(f===void 0){for(const{source:{sourceLinks:z}}of L)z.sort(k5);for(const{target:{targetLinks:z}}of I)z.sort(O5)}}function C(I){if(f===void 0)for(const{sourceLinks:L,targetLinks:z}of I)L.sort(k5),z.sort(O5)}function M(I,L){let z=I.y0-(I.sourceLinks.length-1)*o/2;for(const{target:N,width:G}of I.sourceLinks){if(N===L)break;z+=G+o}for(const{source:N,width:G}of L.targetLinks){if(N===I)break;z-=G}return z}function P(I,L){let z=L.y0-(L.targetLinks.length-1)*o/2;for(const{source:N,width:G}of L.targetLinks){if(N===I)break;z+=G+o}for(const{target:N,width:G}of I.sourceLinks){if(N===L)break;z-=G}return z}return v}const NPe={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},LPe={left:TPe,right:CPe,center:MPe,justify:ex};function FPe(e){const t=typeof e;return t==="string"?LPe[e]||ex:t==="function"?e:ex}const qU=e=>t=>{const{nodeId:n,nodeSort:r,nodeAlign:a,nodeWidth:i,nodePadding:o,nodeDepth:s,nodes:l,links:c,linkSort:u,iterations:f}=Object.assign({},NPe,e),d=DPe().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(i).nodePadding(o).nodeDepth(s).nodeAlign(FPe(a)).iterations(f).extent([[0,0],[1,1]]);typeof n=="function"&&d.nodeId(n);const h=d(t),{nodes:p,links:v}=h,g=p.map(y=>{const{x0:x,x1:b,y0:_,y1:E}=y;return Object.assign(Object.assign({},y),{x:[x,b,b,x],y:[_,_,E,E]})}),m=v.map(y=>{const{source:x,target:b}=y,_=x.x1,E=b.x0,w=y.width/2;return Object.assign(Object.assign({},y),{x:[_,_,E,E],y:[y.y0+w,y.y0-w,y.y1+w,y.y1-w]})});return{nodes:g,links:m}};qU.props={};function Fl(e,t,n={},r=!1){if(Tc(e)||Array.isArray(e)&&r)return e;const a=Xe(e,t);return Me(n,a)}function nx(e,t={}){return Tc(e)||Array.isArray(e)||!KU(e)?e:Me(t,e)}function KU(e){if(Object.keys(e).length===0)return!0;const{title:t,items:n}=e;return t!==void 0||n!==void 0}function Bl(e,t){return typeof e=="object"?Xe(e,t):e}var BPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $Pe={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},M5={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},P5={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},jPe={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},ZU=e=>{const{data:t,encode:n={},scale:r,style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={},interaction:u,state:f={},viewStyle:d={}}=e,{links:h,nodes:p}=$k(t,n);if(!h||h.length===0)return[Me({},M5,{data:[],encode:{},scale:r,style:Xe(a,"node"),viewStyle:d,labels:[],tooltip:!1,animate:!1,axis:!1,interaction:u,state:{}}),Me({},P5,{data:[],encode:{},labels:[],style:Xe(a,"link"),tooltip:!1,animate:!1,interaction:u,state:{}})];const v=Xe(n,"node"),g=Xe(n,"link"),{key:m=M=>M.key,color:y=m}=v,{links:x,nodes:b}=qU(Object.assign(Object.assign(Object.assign({},$Pe),{nodeId:Tl(m)}),i))({links:h,nodes:p}),_=Xe(a,"label"),{text:E=m,spacing:w=5}=_,A=BPe(_,["text","spacing"]),S=Tl(m),O=Fl(c,"node",{title:S,items:[{field:"value"}]},!0),k=Fl(c,"link",{title:"",items:[M=>({name:"source",value:S(M.source)}),M=>({name:"target",value:S(M.target)})]}),[T,C]=Object.entries(f).reduce((M,[P,I])=>{const L=Pm(I,"node","link"),z=Xe(I,"node");M[0][P]=Object.assign(Object.assign({},L),z);const N=Xe(I,"link");return M[1][P]=Object.assign(Object.assign({},L),N),M},[{},{}]);return[Me({},M5,{data:b,encode:Object.assign(Object.assign({},v),{color:y}),scale:r,style:Xe(a,"node"),viewStyle:d,labels:[Object.assign(Object.assign(Object.assign({},jPe),{text:E,dx:M=>M.x[0]<.5?w:-w}),A),...o],tooltip:O,animate:Bl(l,"node"),axis:!1,interaction:u,state:T}),Me({},P5,{data:x,encode:g,labels:s,style:Object.assign({fill:g.color?void 0:"#aaa",lineWidth:0},Xe(a,"link")),tooltip:k,animate:Bl(l,"link"),interaction:u,state:C})]};ZU.props={};function zPe(e,t){return t.value-e.value}function UPe(e,t){return t.frequency-e.frequency}function HPe(e,t){return`${e.id}`.localeCompare(`${t.id}`)}function VPe(e,t){return`${e.name}`.localeCompare(`${t.name}`)}const WPe=Object.freeze(Object.defineProperty({__proto__:null,frequency:UPe,id:HPe,name:VPe,weight:zPe},Symbol.toStringTag,{value:"Module"})),GPe={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function YPe(e){const{y:t,thickness:n,weight:r,marginRatio:a,id:i,source:o,target:s,sourceWeight:l,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},GPe),e);function f(g){const m=g.nodes.map(x=>Object.assign({},x)),y=g.edges.map(x=>Object.assign({},x));return d(m,y),h(m),p(m,y),v(m,y),{nodes:m,edges:y}}function d(g,m){m.forEach(b=>{b.source=o(b),b.target=s(b),b.sourceWeight=l(b),b.targetWeight=c(b)});const y=er(m,b=>b.source),x=er(m,b=>b.target);return g.forEach(b=>{b.id=i(b);const _=y.has(b.id)?y.get(b.id):[],E=x.has(b.id)?x.get(b.id):[];b.frequency=_.length+E.length,b.value=ns(_,w=>w.sourceWeight)+ns(E,w=>w.targetWeight)}),{nodes:g,edges:m}}function h(g,m){const y=typeof u=="function"?u:WPe[u];y&&g.sort(y)}function p(g,m){const y=g.length;if(!y)throw B0("Invalid nodes: it's empty!");if(!r){const _=1/y;return g.forEach((E,w)=>{E.x=(w+.5)*_,E.y=t}),{nodes:g,edges:m}}const x=a/(2*y),b=g.reduce((_,E)=>_+=E.value,0);return g.reduce((_,E)=>{E.weight=E.value/b,E.width=E.weight*(1-a),E.height=n;const w=x+_,A=w+E.width,S=t-n/2,O=S+n;return E.x=[w,A,A,w],E.y=[S,S,O,O],_+E.width+2*x},0),{nodes:g,edges:m}}function v(g,m){const y=new Map(g.map(_=>[_.id,_]));if(!r)return m.forEach(_=>{const E=o(_),w=s(_),A=y.get(E),S=y.get(w);A&&S&&(_.x=[A.x,S.x],_.y=[A.y,S.y])}),{nodes:g,edges:m};m.forEach(_=>{_.x=[0,0,0,0],_.y=[t,t,t,t]});const x=er(m,_=>_.source),b=er(m,_=>_.target);g.forEach(_=>{const{edges:E,width:w,x:A,y:S,value:O,id:k}=_,T=x.get(k)||[],C=b.get(k)||[];let M=0;T.map(P=>{const I=P.sourceWeight/O*w;P.x[0]=A[0]+M,P.x[1]=A[0]+M+I,M+=I}),C.forEach(P=>{const I=P.targetWeight/O*w;P.x[3]=A[0]+M,P.x[2]=A[0]+M+I,M+=I})})}return f}const Gk=e=>t=>YPe(e)(t);Gk.props={};var I5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const a_={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},XPe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},qPe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},KPe={position:"outside",fontSize:10},QU=(e,t)=>{const{data:n,encode:r={},scale:a,style:i={},layout:o={},nodeLabels:s=[],linkLabels:l=[],animate:c={},tooltip:u={}}=e,{nodes:f,links:d}=$k(n,r),h=Xe(r,"node"),p=Xe(r,"link"),{key:v=P=>P.key,color:g=v}=h,{linkEncodeColor:m=P=>P.source}=p,{nodeWidthRatio:y=a_.thickness,nodePaddingRatio:x=a_.marginRatio}=o,b=I5(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:_,edges:E}=Gk(Object.assign(Object.assign(Object.assign(Object.assign({},a_),{id:Tl(v),thickness:y,marginRatio:x}),b),{weight:!0}))({nodes:f,edges:d}),w=Xe(i,"label"),{text:A=v}=w,S=I5(w,["text"]),O=Fl(u,"node",{title:"",items:[P=>({name:P.key,value:P.value})]},!0),k=Fl(u,"link",{title:"",items:[P=>({name:`${P.source} -> ${P.target}`,value:P.value})]}),{height:T,width:C}=t,M=Math.min(T,C);return[Me({},qPe,{data:E,encode:Object.assign(Object.assign({},p),{color:m}),labels:l,style:Object.assign({fill:m?void 0:"#aaa"},Xe(i,"link")),tooltip:k,animate:Bl(c,"link")}),Me({},XPe,{data:_,encode:Object.assign(Object.assign({},h),{color:g}),scale:a,style:Xe(i,"node"),coordinate:{type:"polar",outerRadius:(M-20)/M,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},KPe),{text:A}),S),...s],tooltip:O,animate:Bl(c,"node"),axis:!1})]};QU.props={};const R5={path:_U,hollow:EU},JU=e=>(t,n,r,a)=>[t,t.map(()=>[[0,0]])];JU.props={defaultShape:"path",defaultLabelShape:"label",shape:R5,composite:!1,channels:[...Li({shapes:Object.keys(R5)}),{name:"d",scale:"identity"}],preInference:[...zr()],postInference:[...Kr()]};function ZPe(e,t){return e.parent===t.parent?1:2}function QPe(e){return e.reduce(JPe,0)/e.length}function JPe(e,t){return e+t.x}function e5e(e){return 1+e.reduce(t5e,0)}function t5e(e,t){return Math.max(e,t.y)}function n5e(e){for(var t;t=e.children;)e=t[0];return e}function r5e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function a5e(){var e=ZPe,t=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(d){var h=d.children;h?(d.x=QPe(h),d.y=e5e(h)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=n5e(i),c=r5e(i),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return i.eachAfter(r?function(d){d.x=(d.x-i.x)*t,d.y=(i.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(i.y?d.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(e=i,a):e},a.size=function(i){return arguments.length?(r=!1,t=+i[0],n=+i[1],a):r?null:[t,n]},a.nodeSize=function(i){return arguments.length?(r=!0,t=+i[0],n=+i[1],a):r?[t,n]:null},a}function i5e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function o5e(){return this.eachAfter(i5e)}function s5e(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function l5e(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function c5e(e,t){for(var n=this,r=[n],a=[],i,o,s,l=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++l,this);return this}function u5e(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function f5e(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function d5e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function h5e(e){for(var t=this,n=p5e(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function p5e(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function v5e(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function g5e(){return Array.from(this)}function m5e(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function y5e(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*x5e(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function Fv(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=_5e)):t===void 0&&(t=w5e);for(var n=new q0(e),r,a=[n],i,o,s,l;r=a.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new q0(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(eH)}function b5e(){return Fv(this).eachBefore(E5e)}function w5e(e){return e.children}function _5e(e){return Array.isArray(e)?e[1]:null}function E5e(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function eH(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function q0(e){this.data=e,this.depth=this.height=0,this.parent=null}q0.prototype=Fv.prototype={constructor:q0,count:o5e,each:s5e,eachAfter:c5e,eachBefore:l5e,find:u5e,sum:f5e,sort:d5e,path:h5e,ancestors:v5e,descendants:g5e,leaves:m5e,links:y5e,copy:b5e,[Symbol.iterator]:x5e};function Nm(e){return e==null?null:tH(e)}function tH(e){if(typeof e!="function")throw new Error;return e}function vf(){return 0}function Ud(e){return function(){return e}}const A5e=1664525,S5e=1013904223,D5=4294967296;function O5e(){let e=1;return()=>(e=(A5e*e+S5e)%D5)/D5}function k5e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T5e(e,t){let n=e.length,r,a;for(;n;)a=t()*n--|0,r=e[n],e[n]=e[a],e[a]=r;return e}function C5e(e,t){for(var n=0,r=(e=T5e(Array.from(e),t)).length,a=[],i,o;n<r;)i=e[n],o&&nH(o,i)?++n:(o=P5e(a=M5e(a,i)),n=0);return o}function M5e(e,t){var n,r;if(i_(t,e))return[t];for(n=0;n<e.length;++n)if(Qg(t,e[n])&&i_(mp(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Qg(mp(e[n],e[r]),t)&&Qg(mp(e[n],t),e[r])&&Qg(mp(e[r],t),e[n])&&i_(rH(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Qg(e,t){var n=e.r-t.r,r=t.x-e.x,a=t.y-e.y;return n<0||n*n<r*r+a*a}function nH(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function i_(e,t){for(var n=0;n<t.length;++n)if(!nH(e,t[n]))return!1;return!0}function P5e(e){switch(e.length){case 1:return I5e(e[0]);case 2:return mp(e[0],e[1]);case 3:return rH(e[0],e[1],e[2])}}function I5e(e){return{x:e.x,y:e.y,r:e.r}}function mp(e,t){var n=e.x,r=e.y,a=e.r,i=t.x,o=t.y,s=t.r,l=i-n,c=o-r,u=s-a,f=Math.sqrt(l*l+c*c);return{x:(n+i+l/f*u)/2,y:(r+o+c/f*u)/2,r:(f+a+s)/2}}function rH(e,t,n){var r=e.x,a=e.y,i=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-o,h=r-c,p=a-s,v=a-u,g=l-i,m=f-i,y=r*r+a*a-i*i,x=y-o*o-s*s+l*l,b=y-c*c-u*u+f*f,_=h*p-d*v,E=(p*b-v*x)/(_*2)-r,w=(v*g-p*m)/_,A=(h*x-d*b)/(_*2)-a,S=(d*m-h*g)/_,O=w*w+S*S-1,k=2*(i+E*w+A*S),T=E*E+A*A-i*i,C=-(Math.abs(O)>1e-6?(k+Math.sqrt(k*k-4*O*T))/(2*O):T/k);return{x:r+E+w*C,y:a+A+S*C,r:C}}function N5(e,t,n){var r=e.x-t.x,a,i,o=e.y-t.y,s,l,c=r*r+o*o;c?(i=t.r+n.r,i*=i,l=e.r+n.r,l*=l,i>l?(a=(c+l-i)/(2*c),s=Math.sqrt(Math.max(0,l/c-a*a)),n.x=e.x-a*r-s*o,n.y=e.y-a*o+s*r):(a=(c+i-l)/(2*c),s=Math.sqrt(Math.max(0,i/c-a*a)),n.x=t.x+a*r-s*o,n.y=t.y+a*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function L5(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function F5(e){var t=e._,n=e.next._,r=t.r+n.r,a=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return a*a+i*i}function Jg(e){this._=e,this.next=null,this.previous=null}function R5e(e,t){if(!(i=(e=k5e(e)).length))return 0;var n,r,a,i,o,s,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;N5(r,n,a=e[2]),n=new Jg(n),r=new Jg(r),a=new Jg(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;e:for(l=3;l<i;++l){N5(n._,r._,a=e[l]),a=new Jg(a),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(L5(c._,a._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(L5(u._,a._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,o=F5(n);(a=a.next)!==r;)(s=F5(a))<o&&(n=a,o=s);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=C5e(n,t),l=0;l<i;++l)n=e[l],n.x-=a.x,n.y-=a.y;return a.r}function D5e(e){return Math.sqrt(e.value)}function N5e(){var e=null,t=1,n=1,r=vf;function a(i){const o=O5e();return i.x=t/2,i.y=n/2,e?i.eachBefore(B5(e)).eachAfter(o_(r,.5,o)).eachBefore($5(1)):i.eachBefore(B5(D5e)).eachAfter(o_(vf,1,o)).eachAfter(o_(r,i.r/Math.min(t,n),o)).eachBefore($5(Math.min(t,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(e=Nm(i),a):e},a.size=function(i){return arguments.length?(t=+i[0],n=+i[1],a):[t,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:Ud(+i),a):r},a}function B5(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function o_(e,t,n){return function(r){if(a=r.children){var a,i,o=a.length,s=e(r)*t||0,l;if(s)for(i=0;i<o;++i)a[i].r+=s;if(l=R5e(a,n),s)for(i=0;i<o;++i)a[i].r-=s;r.r=l+s}}}function $5(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function L5e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function G2(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(r-t)/e.value;++s<l;)o=i[s],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*c}var F5e={depth:-1},j5={},s_={};function B5e(e){return e.id}function $5e(e){return e.parentId}function BA(){var e=B5e,t=$5e,n;function r(a){var i=Array.from(a),o=e,s=t,l,c,u,f,d,h,p,v,g=new Map;if(n!=null){const m=i.map((b,_)=>j5e(n(b,_,a))),y=m.map(z5),x=new Set(m).add("");for(const b of y)x.has(b)||(x.add(b),m.push(b),y.push(z5(b)),i.push(s_));o=(b,_)=>m[_],s=(b,_)=>y[_]}for(u=0,l=i.length;u<l;++u)c=i[u],h=i[u]=new q0(c),(p=o(c,u,a))!=null&&(p+="")&&(v=h.id=p,g.set(v,g.has(v)?j5:h)),(p=s(c,u,a))!=null&&(p+="")&&(h.parent=p);for(u=0;u<l;++u)if(h=i[u],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===j5)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===s_&&f.children.length===1;)f=f.children[0],--l;for(let m=i.length-1;m>=0&&(h=i[m],h.data===s_);--m)h.data=null}if(f.parent=F5e,f.eachBefore(function(m){m.depth=m.parent.depth+1,--l}).eachBefore(eH),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(a){return arguments.length?(e=Nm(a),r):e},r.parentId=function(a){return arguments.length?(t=Nm(a),r):t},r.path=function(a){return arguments.length?(n=Nm(a),r):n},r}function j5e(e){e=`${e}`;let t=e.length;return $A(e,t-1)&&!$A(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function z5(e){let t=e.length;if(t<2)return"";for(;--t>1&&!$A(e,t););return e.slice(0,t)}function $A(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function z5e(e,t){return e.parent===t.parent?1:2}function l_(e){var t=e.children;return t?t[0]:e.t}function c_(e){var t=e.children;return t?t[t.length-1]:e.t}function U5e(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function H5e(e){for(var t=0,n=0,r=e.children,a=r.length,i;--a>=0;)i=r[a],i.z+=t,i.m+=t,t+=i.s+(n+=i.c)}function V5e(e,t,n){return e.a.parent===t.parent?e.a:n}function Lm(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Lm.prototype=Object.create(q0.prototype);function W5e(e){for(var t=new Lm(e,0),n,r=[t],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new Lm(i[o],o)),a.parent=n;return(t.parent=new Lm(null,0)).children=[t],t}function G5e(){var e=z5e,t=1,n=1,r=null;function a(c){var u=W5e(c);if(u.eachAfter(i),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var p=f===d?1:e(f,d)/2,v=p-f.x,g=t/(d.x+p+v),m=n/(h.depth||1);c.eachBefore(function(y){y.x=(y.x+v)*g,y.y=y.depth*m})}return c}function i(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){H5e(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=s(c,d,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,f){if(u){for(var d=c,h=c,p=u,v=d.parent.children[0],g=d.m,m=h.m,y=p.m,x=v.m,b;p=c_(p),d=l_(d),p&&d;)v=l_(v),h=c_(h),h.a=c,b=p.z+y-d.z-g+e(p._,d._),b>0&&(U5e(V5e(p,c,f),c,b),g+=b,m+=b),y+=p.m,g+=d.m,x+=v.m,m+=h.m;p&&!c_(h)&&(h.t=p,h.m+=y-m),d&&!l_(v)&&(v.t=d,v.m+=g-x,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return a.separation=function(c){return arguments.length?(e=c,a):e},a.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],a):r?null:[t,n]},a.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],a):r?[t,n]:null},a}function Y2(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(a-n)/e.value;++s<l;)o=i[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var aH=(1+Math.sqrt(5))/2;function iH(e,t,n,r,a,i){for(var o=[],s=t.children,l,c,u=0,f=0,d=s.length,h,p,v=t.value,g,m,y,x,b,_,E;u<d;){h=a-n,p=i-r;do g=s[f++].value;while(!g&&f<d);for(m=y=g,_=Math.max(p/h,h/p)/(v*e),E=g*g*_,b=Math.max(y/E,E/m);f<d;++f){if(g+=c=s[f].value,c<m&&(m=c),c>y&&(y=c),E=g*g*_,x=Math.max(y/E,E/m),x>b){g-=c;break}b=x}o.push(l={value:g,dice:h<p,children:s.slice(u,f)}),l.dice?G2(l,n,r,a,v?r+=p*g/v:i):Y2(l,n,r,v?n+=h*g/v:a,i),v-=g,u=f}return o}const oH=(function e(t){function n(r,a,i,o,s){iH(t,r,a,i,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(aH);function Y5e(){var e=oH,t=!1,n=1,r=1,a=[0],i=vf,o=vf,s=vf,l=vf,c=vf;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),a=[0],t&&d.eachBefore(L5e),d}function f(d){var h=a[d.depth],p=d.x0+h,v=d.y0+h,g=d.x1-h,m=d.y1-h;g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),d.x0=p,d.y0=v,d.x1=g,d.y1=m,d.children&&(h=a[d.depth+1]=i(d)/2,p+=c(d)-h,v+=o(d)-h,g-=s(d)-h,m-=l(d)-h,g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),e(d,p,v,g,m))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=tH(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(i=typeof d=="function"?d:Ud(+d),u):i},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Ud(+d),u):o},u.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Ud(+d),u):s},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Ud(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:Ud(+d),u):c},u}function X5e(e,t,n,r,a){var i=e.children,o,s=i.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=i[o].value;u(0,s,e.value,t,n,r,a);function u(f,d,h,p,v,g,m){if(f>=d-1){var y=i[f];y.x0=p,y.y0=v,y.x1=g,y.y1=m;return}for(var x=c[f],b=h/2+x,_=f+1,E=d-1;_<E;){var w=_+E>>>1;c[w]<b?_=w+1:E=w}b-c[_-1]<c[_]-b&&f+1<_&&--_;var A=c[_]-x,S=h-A;if(g-p>m-v){var O=h?(p*S+g*A)/h:g;u(f,_,A,p,v,O,m),u(_,d,S,O,v,g,m)}else{var k=h?(v*S+m*A)/h:m;u(f,_,A,p,v,g,k),u(_,d,S,p,k,g,m)}}}function q5e(e,t,n,r,a){(e.depth&1?Y2:G2)(e,t,n,r,a)}const K5e=(function e(t){function n(r,a,i,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,p=l.length,v=r.value;++d<p;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?G2(c,a,i,o,v?i+=(s-i)*c.value/v:s):Y2(c,a,i,v?a+=(o-a)*c.value/v:o,s),v-=c.value}else r._squarify=l=iH(t,r,a,i,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(aH);function Z5e(e,t){return Array.isArray(e)?typeof t=="function"?BA().path(t)(e):BA()(e):Fv(e)}function sH(e,t=[e.data.name]){e.id=e.id||e.data.name,e.path=t,e.children&&e.children.forEach(n=>{n.id=`${e.id}/${n.data.name}`,n.path=[...t,n.data.name],sH(n,n.path)})}function lH(e){const t=sn(e,["data","name"]);t.replaceAll&&(e.path=t.replaceAll(".","/").split("/")),e.children&&e.children.forEach(n=>{lH(n)})}function Q5e(e,t){const n={treemapBinary:X5e,treemapDice:G2,treemapSlice:Y2,treemapSliceDice:q5e,treemapSquarify:oH,treemapResquarify:K5e},r=e==="treemapSquarify"?n[e].ratio(t):n[e];if(!r)throw new TypeError("Invalid tile method!");return r}function cH(e,t,n){const{value:r}=n,a=Q5e(t.tile,t.ratio),i=Z5e(e,t.path);Ra(e)?lH(i):sH(i),r?i.sum(l=>t.ignoreParentValue&&l.children?0:Tl(r)(l)).sort(t.sort):i.count(),Y5e().tile(a).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(i);const o=i.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[o.filter(typeof t.layer=="function"?t.layer:l=>l.height===t.layer),o]}var J5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const eIe=(e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),tIe=(e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),nIe={fontSize:10,text:e=>Ao(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0,isTreemapLabel:!0},rIe={title:e=>{var t,n;return(n=(t=e.path)===null||t===void 0?void 0:t.join)===null||n===void 0?void 0:n.call(t,".")},items:[{field:"value"}]},aIe={title:e=>Ao(e.path),items:[{field:"value"}]},uH=(e,t)=>{const{width:n,height:r,options:a}=t,{data:i,encode:o={},scale:s,style:l={},layout:c={},labels:u=[],tooltip:f={}}=e,d=J5e(e,["data","encode","scale","style","layout","labels","tooltip"]),h=sn(a,["interaction","treemapDrillDown"])||sn(a,["marks",0,"interaction","treemapDrillDown"]),p=Me({},eIe(n,r),c,{layer:h?y=>y.depth===1:c.layer}),[v,g]=cH(i,p,o),m=Xe(l,"label");return Me({},tIe(n,r),Object.assign(Object.assign({data:v,scale:s,style:l,labels:[Object.assign(Object.assign(Object.assign({},nIe),m),h&&{cursor:"pointer"}),...u]},d),{encode:o,tooltip:nx(f,rIe),axis:!1}),h?{interaction:Object.assign(Object.assign({},d.interaction),{treemapDrillDown:h?Object.assign(Object.assign({},h),{originData:g,layout:p}):void 0}),encode:Object.assign({color:y=>Ao(y.path)},o),tooltip:nx(f,aIe)}:{})};uH.props={};var iIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const oIe=(e,t)=>({size:[e,t],padding:0,sort:(n,r)=>r.value-n.value}),sIe=(e,t,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),lIe={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.r*2},cIe={title:e=>e.data.name,items:[{field:"value"}]},uIe=(e,t,n)=>{const{value:r}=n,a=Ra(e)?BA().path(t.path)(e):Fv(e);return r?a.sum(i=>Tl(r)(i)).sort(t.sort):a.count(),N5e().size(t.size).padding(t.padding)(a),a.descendants()},fH=(e,t)=>{const{width:n,height:r}=t,{data:a,encode:i={},scale:o={},style:s={},layout:l={},labels:c=[],tooltip:u={}}=e,f=iIe(e,["data","encode","scale","style","layout","labels","tooltip"]),d=sIe(n,r,i),h=uIe(a,Me({},oIe(n,r),l),Me({},d.encode,i)),p=Xe(s,"label");return Me({},d,Object.assign(Object.assign({data:h,encode:i,scale:o,style:s,labels:[Object.assign(Object.assign({},lIe),p),...c]},f),{tooltip:nx(u,cIe),axis:!1}))};fH.props={};var U5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function fIe(e,t){return Mo(e,n=>t[n])}function dIe(e,t){return Mn(e,n=>t[n])}function dH(e,t){const n=Yk(e,t)*2.5-Xk(e,t)*1.5;return Mo(e,r=>t[r]>=n?t[r]:NaN)}function Yk(e,t){return f2(e,.25,n=>t[n])}function hIe(e,t){return f2(e,.5,n=>t[n])}function Xk(e,t){return f2(e,.75,n=>t[n])}function hH(e,t){const n=Xk(e,t)*2.5-Yk(e,t)*1.5;return Mn(e,r=>t[r]<=n?t[r]:NaN)}function pIe(){return(e,t)=>{const{encode:n}=t,{y:r,x:a}=n,{value:i}=r,{value:o}=a;return[Array.from(er(e,c=>o[+c]).values()).flatMap(c=>{const u=dH(c,i),f=hH(c,i);return c.filter(d=>i[d]<u||i[d]>f)}),t]}}const pH=e=>{const{data:t,encode:n,style:r={},tooltip:a={},transform:i,animate:o}=e,s=U5(e,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=U5(r,["point"]),{y:u}=n,f={y:u,y1:u,y2:u,y3:u,y4:u},d={y1:Yk,y2:hIe,y3:Xk},h=Fl(a,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=Fl(a,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:fIe},d),{y4:dIe})],encode:Object.assign(Object.assign({},n),f),style:c,tooltip:h},s);const v=Xe(c,"box"),g=Xe(c,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:dH},d),{y4:hH})],encode:Object.assign(Object.assign({},n),f),style:v,tooltip:h,animate:Bl(o,"box")},s),{type:"point",data:t,transform:[{type:pIe}],encode:n,style:Object.assign({},g),tooltip:p,animate:Bl(o,"point")}]};pH.props={};const vIe={shape:TU},vH=e=>{const{cartesian:t}=e;return t?Bk:(n,r,a,i)=>{const{x:o,y:s}=a,l=ju(r,a,e),c=Array.from(n,u=>{const f=[+o[u],+s[u]];return[i.map(l(f,u))]});return[n,c]}};vH.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:vIe,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:b2},{type:x2},{type:jB}]};function gIe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function a(){var i,o=n.length,s,l=0,c=0;for(i=0;i<o;++i)s=n[i],l+=s.x,c+=s.y;for(l=(l/o-e)*r,c=(c/o-t)*r,i=0;i<o;++i)s=n[i],s.x-=l,s.y-=c}return a.initialize=function(i){n=i},a.x=function(i){return arguments.length?(e=+i,a):e},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(r=+i,a):r},a}function mIe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return gH(this.cover(t,n),t,n,e)}function gH(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,p,v,g,m,y;if(!i)return e._root=o,e;for(;i.length;)if((v=t>=(f=(s+c)/2))?s=f:c=f,(g=n>=(d=(l+u)/2))?l=d:u=d,a=i,!(i=i[m=g<<1|v]))return a[m]=o,e;if(h=+e._x.call(null,i.data),p=+e._y.call(null,i.data),t===h&&n===p)return o.next=i,a?a[m]=o:e._root=o,e;do a=a?a[m]=new Array(4):e._root=new Array(4),(v=t>=(f=(s+c)/2))?s=f:c=f,(g=n>=(d=(l+u)/2))?l=d:u=d;while((m=g<<1|v)===(y=(p>=d)<<1|h>=f));return a[y]=i,a[m]=o,e}function yIe(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=a,s[n]=i,a<l&&(l=a),a>u&&(u=a),i<c&&(c=i),i>f&&(f=i));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)gH(this,o[n],s[n],e[n]);return this}function xIe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o=a-n||1,s=this._root,l,c;n>e||e>=a||r>t||t>=i;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function bIe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function wIe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xi(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function _Ie(e,t,n){var r,a=this._x0,i=this._y0,o,s,l,c,u=this._x1,f=this._y1,d=[],h=this._root,p,v;for(h&&d.push(new Xi(h,a,i,u,f)),n==null?n=1/0:(a=e-n,i=t-n,u=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>u||(s=p.y0)>f||(l=p.x1)<a||(c=p.y1)<i))if(h.length){var g=(o+l)/2,m=(s+c)/2;d.push(new Xi(h[3],g,m,l,c),new Xi(h[2],o,m,g,c),new Xi(h[1],g,s,l,m),new Xi(h[0],o,s,g,m)),(v=(t>=m)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=p)}else{var y=e-+this._x.call(null,h.data),x=t-+this._y.call(null,h.data),b=y*y+x*x;if(b<n){var _=Math.sqrt(n=b);a=e-_,i=t-_,u=e+_,f=t+_,r=h.data}}return r}function EIe(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,d,h,p,v,g,m;if(!n)return this;if(n.length)for(;;){if((p=u>=(d=(o+l)/2))?o=d:l=d,(v=f>=(h=(s+c)/2))?s=h:c=h,t=n,!(n=n[g=v<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,m=g)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[g]=i:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[m]=n:this._root=n),this):(this._root=i,this)}function AIe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function SIe(){return this._root}function OIe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function kIe(e){var t=[],n,r=this._root,a,i,o,s,l;for(r&&t.push(new Xi(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(i+s)/2,u=(o+l)/2;(a=r[3])&&t.push(new Xi(a,c,u,s,l)),(a=r[2])&&t.push(new Xi(a,i,u,c,l)),(a=r[1])&&t.push(new Xi(a,c,o,s,u)),(a=r[0])&&t.push(new Xi(a,i,o,c,u))}return this}function TIe(e){var t=[],n=[],r;for(this._root&&t.push(new Xi(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,f=(s+c)/2;(i=a[0])&&t.push(new Xi(i,o,s,u,f)),(i=a[1])&&t.push(new Xi(i,u,s,l,f)),(i=a[2])&&t.push(new Xi(i,o,f,u,c)),(i=a[3])&&t.push(new Xi(i,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function CIe(e){return e[0]}function MIe(e){return arguments.length?(this._x=e,this):this._x}function PIe(e){return e[1]}function IIe(e){return arguments.length?(this._y=e,this):this._y}function qk(e,t,n){var r=new Kk(t??CIe,n??PIe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Kk(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function H5(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ro=qk.prototype=Kk.prototype;ro.copy=function(){var e=new Kk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=H5(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=H5(r));return e};ro.add=mIe;ro.addAll=yIe;ro.cover=xIe;ro.data=bIe;ro.extent=wIe;ro.find=_Ie;ro.remove=EIe;ro.removeAll=AIe;ro.root=SIe;ro.size=OIe;ro.visit=kIe;ro.visitAfter=TIe;ro.x=MIe;ro.y=IIe;function Qi(e){return function(){return e}}function au(e){return(e()-.5)*1e-6}function RIe(e){return e.x+e.vx}function DIe(e){return e.y+e.vy}function NIe(e){var t,n,r,a=1,i=1;typeof e!="function"&&(e=Qi(e==null?1:+e));function o(){for(var c,u=t.length,f,d,h,p,v,g,m=0;m<i;++m)for(f=qk(t,RIe,DIe).visitAfter(s),c=0;c<u;++c)d=t[c],v=n[d.index],g=v*v,h=d.x+d.vx,p=d.y+d.vy,f.visit(y);function y(x,b,_,E,w){var A=x.data,S=x.r,O=v+S;if(A){if(A.index>d.index){var k=h-A.x-A.vx,T=p-A.y-A.vy,C=k*k+T*T;C<O*O&&(k===0&&(k=au(r),C+=k*k),T===0&&(T=au(r),C+=T*T),C=(O-(C=Math.sqrt(C)))/C*a,d.vx+=(k*=C)*(O=(S*=S)/(g+S)),d.vy+=(T*=C)*O,A.vx-=k*(O=1-O),A.vy-=T*O)}return}return b>h+O||E<h-O||_>p+O||w<p-O}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return o.initialize=function(c,u){t=c,r=u,l()},o.iterations=function(c){return arguments.length?(i=+c,o):i},o.strength=function(c){return arguments.length?(a=+c,o):a},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Qi(+c),l(),o):e},o}function LIe(e){return e.index}function V5(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function FIe(e){var t=LIe,n=f,r,a=Qi(30),i,o,s,l,c,u=1;e==null&&(e=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function d(g){for(var m=0,y=e.length;m<u;++m)for(var x=0,b,_,E,w,A,S,O;x<y;++x)b=e[x],_=b.source,E=b.target,w=E.x+E.vx-_.x-_.vx||au(c),A=E.y+E.vy-_.y-_.vy||au(c),S=Math.sqrt(w*w+A*A),S=(S-i[x])/S*g*r[x],w*=S,A*=S,E.vx-=w*(O=l[x]),E.vy-=A*O,_.vx+=w*(O=1-O),_.vy+=A*O}function h(){if(o){var g,m=o.length,y=e.length,x=new Map(o.map((_,E)=>[t(_,E,o),_])),b;for(g=0,s=new Array(m);g<y;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=V5(x,b.source)),typeof b.target!="object"&&(b.target=V5(x,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)b=e[g],l[g]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(y),p(),i=new Array(y),v()}}function p(){if(o)for(var g=0,m=e.length;g<m;++g)r[g]=+n(e[g],g,e)}function v(){if(o)for(var g=0,m=e.length;g<m;++g)i[g]=+a(e[g],g,e)}return d.initialize=function(g,m){o=g,c=m,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(u=+g,d):u},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Qi(+g),p(),d):n},d.distance=function(g){return arguments.length?(a=typeof g=="function"?g:Qi(+g),v(),d):a},d}var BIe={value:()=>{}};function mH(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fm(n)}function Fm(e){this._=e}function $Ie(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fm.prototype=mH.prototype={constructor:Fm,on:function(e,t){var n=this._,r=$Ie(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=jIe(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=W5(n[a],e.name,t);else if(t==null)for(a in n)n[a]=W5(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function jIe(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function W5(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=BIe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var K0=0,yp=0,Kh=0,yH=1e3,rx,xp,ax=0,Jf=0,X2=0,U1=typeof performance=="object"&&performance.now?performance:Date,xH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bH(){return Jf||(xH(zIe),Jf=U1.now()+X2)}function zIe(){Jf=0}function jA(){this._call=this._time=this._next=null}jA.prototype=wH.prototype={constructor:jA,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?bH():+n)+(t==null?0:+t),!this._next&&xp!==this&&(xp?xp._next=this:rx=this,xp=this),this._call=e,this._time=n,zA()},stop:function(){this._call&&(this._call=null,this._time=1/0,zA())}};function wH(e,t,n){var r=new jA;return r.restart(e,t,n),r}function UIe(){bH(),++K0;for(var e=rx,t;e;)(t=Jf-e._time)>=0&&e._call.call(void 0,t),e=e._next;--K0}function G5(){Jf=(ax=U1.now())+X2,K0=yp=0;try{UIe()}finally{K0=0,VIe(),Jf=0}}function HIe(){var e=U1.now(),t=e-ax;t>yH&&(X2-=t,ax=e)}function VIe(){for(var e,t=rx,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rx=n);xp=e,zA(r)}function zA(e){if(!K0){yp&&(yp=clearTimeout(yp));var t=e-Jf;t>24?(e<1/0&&(yp=setTimeout(G5,e-U1.now()-X2)),Kh&&(Kh=clearInterval(Kh))):(Kh||(ax=U1.now(),Kh=setInterval(HIe,yH)),K0=1,xH(G5))}}const WIe=1664525,GIe=1013904223,Y5=4294967296;function YIe(){let e=1;return()=>(e=(WIe*e+GIe)%Y5)/Y5}function XIe(e){return e.x}function qIe(e){return e.y}var KIe=10,ZIe=Math.PI*(3-Math.sqrt(5));function _H(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,s=new Map,l=wH(f),c=mH("tick","end"),u=YIe();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(v){var g,m=e.length,y;v===void 0&&(v=1);for(var x=0;x<v;++x)for(n+=(i-n)*a,s.forEach(function(b){b(n)}),g=0;g<m;++g)y=e[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return t}function h(){for(var v=0,g=e.length,m;v<g;++v){if(m=e[v],m.index=v,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=KIe*Math.sqrt(.5+v),x=v*ZIe;m.x=y*Math.cos(x),m.y=y*Math.sin(x)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(v){return v.initialize&&v.initialize(e,u),v}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(v){return arguments.length?(e=v,h(),s.forEach(p),t):e},alpha:function(v){return arguments.length?(n=+v,t):n},alphaMin:function(v){return arguments.length?(r=+v,t):r},alphaDecay:function(v){return arguments.length?(a=+v,t):+a},alphaTarget:function(v){return arguments.length?(i=+v,t):i},velocityDecay:function(v){return arguments.length?(o=1-v,t):1-o},randomSource:function(v){return arguments.length?(u=v,s.forEach(p),t):u},force:function(v,g){return arguments.length>1?(g==null?s.delete(v):s.set(v,p(g)),t):s.get(v)},find:function(v,g,m){var y=0,x=e.length,b,_,E,w,A;for(m==null?m=1/0:m*=m,y=0;y<x;++y)w=e[y],b=v-w.x,_=g-w.y,E=b*b+_*_,E<m&&(A=w,m=E);return A},on:function(v,g){return arguments.length>1?(c.on(v,g),t):c.on(v)}}}function QIe(){var e,t,n,r,a=Qi(-30),i,o=1,s=1/0,l=.81;function c(h){var p,v=e.length,g=qk(e,XIe,qIe).visitAfter(f);for(r=h,p=0;p<v;++p)t=e[p],g.visit(d)}function u(){if(e){var h,p=e.length,v;for(i=new Array(p),h=0;h<p;++h)v=e[h],i[v.index]=+a(v,h,e)}}function f(h){var p=0,v,g,m=0,y,x,b;if(h.length){for(y=x=b=0;b<4;++b)(v=h[b])&&(g=Math.abs(v.value))&&(p+=v.value,m+=g,y+=g*v.x,x+=g*v.y);h.x=y/m,h.y=x/m}else{v=h,v.x=v.data.x,v.y=v.data.y;do p+=i[v.data.index];while(v=v.next)}h.value=p}function d(h,p,v,g){if(!h.value)return!0;var m=h.x-t.x,y=h.y-t.y,x=g-p,b=m*m+y*y;if(x*x/l<b)return b<s&&(m===0&&(m=au(n),b+=m*m),y===0&&(y=au(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)),t.vx+=m*h.value*r/b,t.vy+=y*h.value*r/b),!0;if(h.length||b>=s)return;(h.data!==t||h.next)&&(m===0&&(m=au(n),b+=m*m),y===0&&(y=au(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)));do h.data!==t&&(x=i[h.data.index]*r/b,t.vx+=m*x,t.vy+=y*x);while(h=h.next)}return c.initialize=function(h,p){e=h,n=p,u()},c.strength=function(h){return arguments.length?(a=typeof h=="function"?h:Qi(+h),u(),c):a},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function EH(e){var t=Qi(.1),n,r,a;typeof e!="function"&&(e=Qi(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(a[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Qi(+s),o(),i):t},i.x=function(s){return arguments.length?(e=typeof s=="function"?s:Qi(+s),o(),i):e},i}function AH(e){var t=Qi(.1),n,r,a;typeof e!="function"&&(e=Qi(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(a[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Qi(+s),o(),i):t},i.y=function(s){return arguments.length?(e=typeof s=="function"?s:Qi(+s),o(),i):e},i}var JIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const eRe={joint:!0},tRe={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},nRe={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},rRe={text:""};function aRe(e,t,n){const{nodes:r,links:a}=e,{joint:i,nodeStrength:o,linkStrength:s}=t,{nodeKey:l=p=>p.id,linkKey:c=p=>p.id}=n,u=QIe(),f=FIe(a).id(Tl(c));typeof o=="function"&&u.strength(o),typeof s=="function"&&f.strength(s);const d=_H(r).force("link",f).force("charge",u);i?d.force("center",gIe()):d.force("x",EH()).force("y",AH()),d.stop();const h=Math.ceil(Math.log(d.alphaMin())/Math.log(1-d.alphaDecay()));for(let p=0;p<h;p++)d.tick();return{nodesData:r,linksData:a}}const SH=e=>{const{data:t,encode:n={},scale:r,style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=e,{nodeKey:u=E=>E.id,linkKey:f=E=>E.id}=n,d=JIe(n,["nodeKey","linkKey"]),h=Object.assign({nodeKey:u,linkKey:f},d),p=Xe(h,"node"),v=Xe(h,"link"),{links:g,nodes:m}=$k(t,h),{nodesData:y,linksData:x}=aRe({links:g,nodes:m},Me({},eRe,i),h),b=Fl(c,"link",{items:[E=>({name:"source",value:Tl(f)(E.source)}),E=>({name:"target",value:Tl(f)(E.target)})]}),_=Fl(c,"node",{items:[E=>({name:"key",value:Tl(u)(E)})]},!0);return[Me({},tRe,{data:x,encode:v,labels:s,style:Xe(a,"link"),tooltip:b,animate:Bl(l,"link")}),Me({},nRe,{data:y,encode:Object.assign({},p),scale:r,style:Xe(a,"node"),tooltip:_,labels:[Object.assign(Object.assign({},rRe),Xe(a,"label")),...o],animate:Bl(l,"link")})]};SH.props={};const OH=e=>t=>n=>{const{field:r="value",nodeSize:a,separation:i,sortBy:o,as:s=["x","y"]}=t,[l,c]=s,u=Fv(n,p=>p.children).sum(p=>p[r]).sort(o),f=e();f.size([1,1]),a&&f.nodeSize(a),i&&f.separation(i),f(u);const d=[];u.each(p=>{p[l]=p.x,p[c]=p.y,p.name=p.data.name,d.push(p)});const h=u.links();return h.forEach(p=>{p[l]=[p.source[l],p.target[l]],p[c]=[p.source[c],p.target[c]]}),{nodes:d,edges:h}},kH=e=>OH(a5e)(e);kH.props={};const TH=e=>OH(G5e)(e);TH.props={};const iRe={sortBy:(e,t)=>t.value-e.value},oRe={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},sRe={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},lRe={text:"",fontSize:10},CH=e=>{const{data:t,encode:n={},scale:r={},style:a={},layout:i={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=e,u=n==null?void 0:n.value,{nodes:f,edges:d}=TH(Object.assign(Object.assign(Object.assign({},iRe),i),{field:u}))(t),h=Fl(c,"node",{title:"name",items:["value"]},!0),p=Fl(c,"link",{title:"",items:[v=>({name:"source",value:v.source.name}),v=>({name:"target",value:v.target.name})]});return[Me({},sRe,{data:d,encode:Xe(n,"link"),scale:Xe(r,"link"),labels:s,style:Object.assign({stroke:"#999"},Xe(a,"link")),tooltip:p,animate:Bl(l,"link")}),Me({},oRe,{data:f,scale:Xe(r,"node"),encode:Xe(n,"node"),labels:[Object.assign(Object.assign({},lRe),Xe(a,"label")),...o],style:Object.assign({},Xe(a,"node")),tooltip:h,animate:Bl(l,"node")})]};CH.props={};var cRe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},uRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function fRe(e,t){const{text:n="text",value:r="value"}=t;return e.map(a=>Object.assign(Object.assign({},a),{text:a[n],value:a[r]}))}const dRe=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily},tooltip:{items:[e=>({name:e.text,value:e.value})]}}),Zk=(e,t)=>cRe(void 0,void 0,void 0,function*(){const{width:n,height:r}=t,{data:a,encode:i={},scale:o,style:s={},layout:l={}}=e,c=uRe(e,["data","encode","scale","style","layout"]),u=fRe(a,i);return Me({},dRe(),Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},l)]},encode:i,scale:o,style:s},c),{axis:!1}))});Zk.props={};var Kp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const hRe=(e,t)=>{const{shape:n,radius:r}=e,a=Kp(e,["shape","radius"]),i=Xe(a,"pointer"),o=Xe(a,"pin"),{shape:s}=i,l=Kp(i,["shape"]),{shape:c}=o,u=Kp(o,["shape"]),{coordinate:f,theme:d}=t;return(h,p)=>{const v=h.map(M=>f.invert(M)),[g,m,y]=LSe(f,"polar"),x=f.clone(),{color:b}=p,_=eO({startAngle:g,endAngle:m,innerRadius:y,outerRadius:r});_.push(["cartesian"]),x.update({transformations:_});const E=v.map(M=>x.map(M)),[w,A]=ZO(E),[S,O]=f.getCenter(),k=Object.assign(Object.assign({x1:w,y1:A,x2:S,y2:O,stroke:b},l),a),T=Object.assign(Object.assign({cx:S,cy:O,stroke:b},u),a),C=xt(new Ia);return Tc(s)||(typeof s=="function"?C.append(()=>s(E,p,x,d)):C.append("line").call(ht,k).node()),Tc(c)||(typeof c=="function"?C.append(()=>c(E,p,x,d)):C.append("circle").call(ht,T).node()),C.node()}},X5={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},pRe={style:{shape:hRe,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},vRe={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function gRe(e){if(nr(e)){const t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}function mRe(e,t){const{name:n="score",target:r,total:a,percent:i,thresholds:o=[]}=gRe(e),s=i||r,l=i?1:a,c=Object.assign({y:{domain:[0,l]}},t);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((u,f)=>({x:n,y:f>=1?u-o[f-1]:u,color:f})),target:s,total:l,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:c}}function yRe(e,{target:t,total:n}){const{content:r}=e;return r?r(t,n):t.toString()}const MH=e=>{const{data:t={},scale:n={},style:r={},animate:a={},transform:i=[]}=e,o=Kp(e,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:c,total:u,scale:f}=mRe(t,n),d=Xe(r,"text"),{tooltip:h}=d,p=Kp(d,["tooltip"]),v=TAe(r,["pointer","pin"]),g=Xe(r,"arc"),m=g.shape;return[Me({},X5,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:f,style:m==="round"?Object.assign(Object.assign({},g),{shape:bPe}):g,animate:typeof a=="object"?Xe(a,"arc"):a},o)),Me({},X5,pRe,Object.assign({type:"point",data:s,scale:f,style:v,animate:typeof a=="object"?Xe(a,"indicator"):a},o)),Me({},vRe,{style:Object.assign({text:yRe(p,{target:c,total:u})},p),tooltip:h,animate:typeof a=="object"?Xe(a,"text"):a})]};MH.props={};const q5={density:AU},PH=()=>(e,t,n,r)=>{const{x:a,series:i}=n,o=Object.entries(n).filter(([f])=>f.startsWith("y")).map(([,f])=>f),s=Object.entries(n).filter(([f])=>f.startsWith("size")).map(([,f])=>f);if(a===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const l=t.x,c=t.series,u=Array.from(e,f=>{const d=l.getBandWidth(l.invert(+a[f])),h=c?c.getBandWidth(c.invert(+(i==null?void 0:i[f]))):1,p=d*h,v=(+(i==null?void 0:i[f])||0)*d,g=+a[f]+v+p/2;return[...o.map((y,x)=>[g+ +s[x][f]/e.length,+o[x][f]]),...o.map((y,x)=>[g-+s[x][f]/e.length,+o[x][f]]).reverse()].map(y=>r.map(y))});return[e,u]};PH.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:q5,channels:[...Li({shapes:Object.keys(q5)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...zr(),{type:Sv},{type:Nu}],postInference:[...Kr(),...bh()],interaction:{shareTooltip:!0}};const K5={heatmap:kU},IH=e=>(t,n,r,a)=>{const{x:i,y:o,size:s,color:l}=r,c=Array.from(t,u=>{const f=s?+s[u]:40;return[...a.map([+i[u],+o[u]]),l[u],f]});return[[0],[c]]};IH.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:K5,channels:[...Li({shapes:Object.keys(K5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...zr(),{type:Nu},{type:Mv}],postInference:[...Kr(),...Dc()]};var xRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bRe={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:CU},animate:{enter:{type:"fadeIn"}}},wRe={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},RH=e=>{const{data:t={},style:n={},animate:r}=e,a=xRe(e,["data","style","animate"]),i=Math.max(0,nr(t)?t:t==null?void 0:t.percent),o=[{percent:i,type:"liquid"}],s=Object.assign(Object.assign({},Xe(n,"text")),Xe(n,"content")),l=Xe(n,"outline"),c=Xe(n,"wave"),u=Xe(n,"background");return[Me({},bRe,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:i,liquidShape:n==null?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:l,wave:c,background:u})},animate:r},a)),Me({},wRe,{style:Object.assign({text:`${Wy(i*100)} %`},s),animate:r})]};RH.props={};const Z5={hollow:uk,hollowDiamond:lk,hollowHexagon:ck,hollowSquare:fk,hollowTriangleDown:hk,hollowTriangle:dk,hollowBowtie:sk,hollowCircle:pk,point:_k,plus:wk,diamond:mk,square:Ek,triangle:Sk,hexagon:yk,cross:gk,bowtie:vk,hyphen:xk,line:bk,tick:Ak,triangleDown:Ok,circle:B2},_Re=4,ERe=200,DH=e=>(t,n,r,a)=>{const{x:i,y:o,size:s}=r;if(!i.length||!o.length)return[t,o.map(()=>[[]])];const[l,c]=a.getSize(),u=ju(n,r,e),f=Array.from(t,v=>{const g=+i[v]*l,m=+o[v]*c,y=+s[v]||_Re;return{i:v,x:g,y:m,r:y}}),d=_H(f).stop().force("collide",NIe().radius(v=>v.r+1).strength(1));d.force("x",EH(v=>v.x).strength(.5)),d.force("y",AH(v=>v.y).strength(5));for(let v=0;v<ERe;v++)d.tick();d.stop();const h=v=>{const g=f.find(m=>m.i===v);return[g.x/l,g.y/c]},p=s?Array.from(t,v=>{const[g,m]=h(v),y=+s[v],x=y/l,b=y/c,_=[g-x,m-b],E=[g+x,m+b];return[a.map(u(_,v)),a.map(u(E,v))]}):Array.from(t,v=>[a.map(u(h(v),v))]);return[t,p]};DH.props={defaultShape:"point",defaultLabelShape:"label",composite:!1,shape:Z5,channels:[...Li({shapes:Object.keys(Z5)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"}],preInference:[...zr(),{type:Nu},{type:Mv}],postInference:[...Kr(),{type:EO},...Dc()]};const NH=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];NH.props={};const LH=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];LH.props={};const FH=e=>new I1(e);FH.props={};const BH=e=>new kc(e);BH.props={};const $H=e=>new rB(e);$H.props={};const jH=e=>new sB(e);jH.props={};const zH=e=>new QEe(e);zH.props={};const UH=e=>new mAe(e);UH.props={};const HH=e=>new aAe(e);HH.props={};const VH=e=>new fB(e);VH.props={};const WH=e=>new p2(e);WH.props={};const GH=e=>new yB(e);GH.props={};const YH=e=>new gB(e);YH.props={};const XH=e=>new nAe(e);XH.props={};const qH=e=>new aA(e);qH.props={};const KH=e=>new yO(e);KH.props={};function Qk({colorDefault:e,colorBlack:t,colorWhite:n,colorStroke:r,colorBackground:a,padding1:i,padding2:o,padding3:s,alpha90:l,alpha65:c,alpha45:u,alpha25:f,alpha10:d,category10:h,category20:p,sizeDefault:v=1,padding:g="auto",margin:m=16}){return{padding:g,margin:m,size:v,color:e,category10:h,category20:p,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:a,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:d,labelAlign:"horizontal",labelFill:t,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:i,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:u,titleFill:t,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[i,i,i/2],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:i,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:t,tickStrokeOpacity:u},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const ARe={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},SRe=Qk(ARe),Jk=e=>Me({},SRe,e);Jk.props={};const ZH=e=>Me({},Jk(),{category10:"category10",category20:"category20"},e);ZH.props={};const ORe={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},kRe=Qk(ORe),QH=e=>Me({},kRe,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),JH=e=>Object.assign({},QH(),{category10:"category10",category20:"category20"},e);JH.props={};const TRe={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},CRe=Qk(TRe),eV=e=>Me({},CRe,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(t,n)=>n!==0},axisRight:{gridFilter:(t,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);eV.props={};function MRe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ix(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function PRe(e){return e=ix(Math.abs(e)),e?e[1]:NaN}function IRe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function RRe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var DRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function UA(e){if(!(t=DRe.exec(e)))throw new Error("invalid format: "+e);var t;return new eT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}UA.prototype=eT.prototype;function eT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NRe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var tV;function LRe(e,t){var n=ix(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(tV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ix(e,Math.max(0,t+i-1))[0]}function Q5(e,t){var n=ix(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const J5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MRe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Q5(e*100,t),r:Q5,s:LRe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eI(e){return e}var tI=Array.prototype.map,nI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FRe(e){var t=e.grouping===void 0||e.thousands===void 0?eI:IRe(tI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?eI:RRe(tI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=UA(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,g=f.zero,m=f.width,y=f.comma,x=f.precision,b=f.trim,_=f.type;_==="n"?(y=!0,_="g"):J5[_]||(x===void 0&&(x=12),b=!0,_="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w=v==="$"?r:/[%p]/.test(_)?o:"",A=J5[_],S=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(k){var T=E,C=w,M,P,I;if(_==="c")C=A(k)+C,k="";else{k=+k;var L=k<0||1/k<0;if(k=isNaN(k)?l:A(Math.abs(k),x),b&&(k=NRe(k)),L&&+k==0&&p!=="+"&&(L=!1),T=(L?p==="("?p:s:p==="-"||p==="("?"":p)+T,C=(_==="s"?nI[8+tV/3]:"")+C+(L&&p==="("?")":""),S){for(M=-1,P=k.length;++M<P;)if(I=k.charCodeAt(M),48>I||I>57){C=(I===46?a+k.slice(M+1):k.slice(M))+C,k=k.slice(0,M);break}}}y&&!g&&(k=t(k,1/0));var z=T.length+k.length+C.length,N=z<m?new Array(m-z+1).join(d):"";switch(y&&g&&(k=t(N+k,N.length?m-C.length:1/0),N=""),h){case"<":k=T+k+C+N;break;case"=":k=T+N+k+C;break;case"^":k=N.slice(0,z=N.length>>1)+T+k+C+N.slice(z);break;default:k=N+T+k+C;break}return i(k)}return O.toString=function(){return f+""},O}function u(f,d){var h=c((f=UA(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(PRe(d)/3)))*3,v=Math.pow(10,-p),g=nI[8+p/3];return function(m){return h(v*m)+g}}return{format:c,formatPrefix:u}}var em,zu;BRe({thousands:",",grouping:[3],currency:["$",""]});function BRe(e){return em=FRe(e),zu=em.format,em.formatPrefix,em}var $Re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function jRe(e){return class extends M2{constructor(t){super(t),this.descriptor=e}connectedCallback(){var t,n;(n=(t=this.descriptor).render)===null||n===void 0||n.call(t,this.attributes,this)}update(t={}){var n,r;this.attr(Me({},this.attributes,t)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function rI(e,t,n){return e.querySelector(t)?xt(e).select(t):xt(e).append(n)}function q2(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function nV(e,t){const n={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:a,alignItems:i}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in o&&([r,a,i]=o[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:a,alignItems:i},t)}class rV extends v6e{get child(){var t;return(t=this.children)===null||t===void 0?void 0:t[0]}update(t){var n;this.attr(t);const{subOptions:r}=t;(n=this.child)===null||n===void 0||n.update(r)}}class zRe extends rV{update(t){var n;const{subOptions:r}=t;this.attr(t),(n=this.child)===null||n===void 0||n.update(r)}}function Cl(e,t){var n;return(n=e.filter(r=>r.getOptions().name===t))===null||n===void 0?void 0:n[0]}function URe(e){return e==="horizontal"||e===0}function HRe(e){return e==="vertical"||e===-Math.PI/2}function aV(e,t,n){const{bbox:r}=e,{position:a="top",size:i,length:o}=t,s=["top","bottom","center"].includes(a),[l,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:f}=n.props,d=i||u||l,h=o||f||c,p=s?"horizontal":"vertical",[v,g]=s?[h,d]:[d,h];return{orientation:p,width:v,height:g,size:d,length:h}}function VRe(e){return e.find(t=>t.getOptions().domain.length>0).getOptions().domain}function K2(e){const t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=e,r=$Re(e,["style"]),a={};return Object.entries(r).forEach(([i,o])=>{t.includes(i)?a[`show${Ru(i)}`]=o:a[i]=o}),Object.assign(Object.assign({},a),n)}var iV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function oV(e,t){const{eulerAngles:n,origin:r}=t;r&&e.setOrigin(r),n&&e.rotate(n[0],n[1],n[2])}function sV(e){const{innerWidth:t,innerHeight:n,depth:r}=e.getOptions();return[t,n,r]}function WRe(e,t){const{width:n,height:r}=t.getOptions();return a=>{if(!P$(t))return a;const i=e==="bottom"?[a,1]:[0,a],o=t.map(i);if(e==="bottom"){const s=o[0];return new kc({domain:[0,n],range:[0,1]}).map(s)}else if(e==="left"){const s=o[1];return new kc({domain:[0,r],range:[0,1]}).map(s)}return a}}function GRe(e,t,n){if(e.getTicks)return e.getTicks();if(!n)return t;const[r,a]=mc(t,o=>+o),{tickCount:i}=e.getOptions();return n(r,a,i)}function YRe(e,t){if($n(t))return h=>h;const n=t.getOptions(),{innerWidth:r,innerHeight:a,insetTop:i,insetBottom:o,insetLeft:s,insetRight:l}=n,[c,u,f]=e==="left"||e==="right"?[i,o,a]:[s,l,r],d=new kc({domain:[0,1],range:[c/f,1-u/f]});return h=>d.map(h)}function lV(e,t,n,r,a,i,o,s){var l;(n!==void 0||i!==void 0)&&e.update(Object.assign(Object.assign({},n&&{tickCount:n}),i&&{tickMethod:i}));const c=GRe(e,t,i),u=a?c.filter(a):c,f=m=>m instanceof Date?String(m):typeof m=="object"&&m?m:String(m),d=r||((l=e.getFormatter)===null||l===void 0?void 0:l.call(e))||f,h=YRe(o,s),p=WRe(o,s),v=m=>["top","bottom","center","outer"].includes(m),g=m=>["left","right"].includes(m);return $n(s)||tr(s)?u.map((m,y,x)=>{var b,_;const E=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,m))/2||0,w=h(e.map(m)+E);return{value:A2(s)&&o==="center"||tr(s)&&((_=e.getTicks)===null||_===void 0?void 0:_.call(e))&&v(o)||tr(s)&&g(o)?1-w:w,label:f(d(Wy(m),y,x)),id:String(y)}}):u.map((m,y,x)=>{var b;const _=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,m))/2||0,E=p(h(e.map(m)+_));return{value:g(o)?1-E:E,label:f(d(Wy(m),y,x)),id:String(y)}})}function XRe(e,t,n="xy"){const[r,a,i]=sV(t);return n==="xy"?e.includes("bottom")||e.includes("top")?a:r:n==="xz"?e.includes("bottom")||e.includes("top")?i:r:e.includes("bottom")||e.includes("top")?a:i}function qRe(e=[],t){if(e.length>0)return e;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:a,labelAutoWrap:i}=t,o=[],s=(l,c)=>{c&&o.push(Object.assign(Object.assign({},l),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},a),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},i),o}function KRe(e,t,n,r,a){const{x:i,y:o,width:s,height:l}=t,c=[i+s/2,o+l/2],u=Math.min(s,l)/2,[f,d]=LO(a),[h,p]=sV(a),v=Math.min(h,p)/2,g={center:c,radius:u,startAngle:f,endAngle:d,gridLength:(r-n)*v};if(e==="inner"){const{insetLeft:m,insetTop:y}=a.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-m,c[1]-y],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function ZRe(e,t,n){return DSe(t)||S2(t)?!1:e===void 0?!!n.getTicks:e}function QRe(e){const{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function JRe(e,t,n,r,a){const{x:i,y:o,width:s,height:l}=n;if(e==="bottom")return{startPos:[i,o],endPos:[i+s,o]};if(e==="left")return{startPos:[i+s,o+l],endPos:[i+s,o]};if(e==="right")return{startPos:[i,o+l],endPos:[i,o]};if(e==="top")return{startPos:[i,o+l],endPos:[i+s,o+l]};if(e==="center"){if(t==="vertical")return{startPos:[i,o],endPos:[i,o+l]};if(t==="horizontal")return{startPos:[i,o],endPos:[i+s,o]};if(typeof t=="number"){const[c,u]=r.getCenter(),[f,d]=O2(r),[h,p]=LO(r),v=Math.min(s,l)/2,{insetLeft:g,insetTop:m}=r.getOptions(),y=f*v,x=d*v,[b,_]=[c+i-g,u+o-m],[E,w]=[Math.cos(t),Math.sin(t)],A=[b+x*E,_+x*w],S=[b+y*E,_+y*w],O=()=>{const{domain:T}=a.getOptions();return T.length},k=$n(r)&&a?O():3;return{startPos:A,endPos:S,gridClosed:Math.abs(p-h-360)<1e-6,gridCenter:[b,_],gridControlAngles:new Array(k).fill(0).map((T,C,M)=>(p-h)/k*C)}}}return{}}const eDe=e=>{const{order:t,size:n,position:r,orientation:a,labelFormatter:i,tickFilter:o,tickCount:s,tickMethod:l,tickLength:c,important:u={},style:f={},indexBBox:d,title:h,grid:p=!1}=e,v=iV(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[g],value:m,coordinate:y,theme:x})=>{const{bbox:b}=m,{domain:_}=g.getOptions(),E=lV(g,_,s,i,o,l,r,y),w=d?E.map((M,P)=>{const I=d.get(P);return!I||I[0]!==M.label?M:Object.assign(Object.assign({},M),{bbox:I[1]})}):E,[A,S]=O2(y),O=KRe(r,b,A,S,y),{axis:k,axisArc:T={}}=x,C=K2(Me({},k,T,O,Object.assign(Object.assign(Object.assign({type:"arc",data:w,titleText:q2(h),grid:p},c!==void 0?{tickLength:c}:null),v),u)));return new Fk({style:rO(C,["transform"])})}};function tDe(e,t,n,r,a,i){const o=n.axis,s=["top","right","bottom","left"].includes(a)?n[`axis${_O(a)}`]:n.axisLinear,l=e.getOptions().name,c=n[`axis${Ru(l)}`]||{};return Object.assign({},o,s,c)}function nDe(e,t,n,r,a,i){const o=tDe(e,t,n,r,a);return a==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:HRe(i)?10:0,tick:r==="center"?!1:void 0}):o}const rDe=e=>{const{direction:t="left",important:n={},labelFormatter:r,order:a,orientation:i,actualPosition:o,position:s,size:l,style:c={},title:u,tickCount:f,tickFilter:d,tickMethod:h,tickLength:p,transform:v,indexBBox:g}=e,m=iV(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:y,value:x,coordinate:b,theme:_})=>{const{bbox:E}=x,[w]=y,{domain:A,xScale:S}=w.getOptions(),O=nDe(w,b,_,t,s,i),k=Object.assign(Object.assign(Object.assign({},O),c),m),T=XRe(o||s,b,e.plane),C=JRe(s,i,E,b,S),M=QRe(b),P=lV(w,A,f,r,d,h,s,b),I=g?P.map((N,G)=>{const Y=g.get(G);return!Y||Y[0]!==N.label?N:Object.assign(Object.assign({},N),{bbox:Y[1]})}):P,L=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k),{type:"linear",data:I,crossSize:l,titleText:q2(u),labelOverlap:qRe(v,k),grid:ZRe(k.grid,b,w),gridLength:T,line:!0,indexBBox:g}),p!==void 0?{tickLength:p}:null),k.line?null:{lineOpacity:0}),C),M),n);return L.labelOverlap.find(N=>N.type==="hide")&&(L.crossSize=!1),new Fk({className:"axis",style:K2(L)})}},cV=e=>t=>{const{labelFormatter:n,labelFilter:r=()=>!0}=t;return a=>{var i;const{scales:[o]}=a,s=((i=o.getTicks)===null||i===void 0?void 0:i.call(o))||o.getOptions().domain,l=typeof n=="string"?zu(n):n,c=(f,d,h)=>r(s[d],d,s),u=Object.assign(Object.assign({},t),{labelFormatter:l,labelFilter:c,scale:o});return e(u)(a)}},Uu=cV(rDe),uV=cV(eDe);Uu.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};uV.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const fV=e=>(...t)=>{const n=Uu(Object.assign({},{crossPadding:50},e))(...t);return oV(n,e),n};fV.props=Object.assign(Object.assign({},Uu.props),{defaultPosition:"bottom"});const dV=e=>(...t)=>{const n=Uu(Object.assign({},{crossPadding:10},e))(...t);return oV(n,e),n};dV.props=Object.assign(Object.assign({},Uu.props),{defaultPosition:"left"});var aDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function iDe(e){const t=e%(Math.PI*2);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function oDe(e,t,n,r){const{radar:a}=e,[i]=r,o=i.getOptions().name,[s,l]=LO(n),{axisRadar:c={}}=t;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(a.count).fill(0).map((u,f)=>(l-s)/a.count*f)})}const hV=e=>{const{important:t={}}=e,n=aDe(e,["important"]);return r=>{const{theme:a,coordinate:i,scales:o}=r;return Uu(Object.assign(Object.assign(Object.assign({},n),iDe(e.orientation)),{important:Object.assign(Object.assign({},oDe(e,a,i,o)),t)}))(r)}};hV.props=Object.assign(Object.assign({},Uu.props),{defaultPosition:"center"});var sDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function pV(e,t){const n=Cl(e,"shape"),r=Cl(e,"color"),a=n?n.clone():null,i=[];for(const[s,l]of t){const c=s.type,f=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:l.data).map((d,h)=>{var p;return a?a.map(d||"point"):((p=s==null?void 0:s.style)===null||p===void 0?void 0:p.shape)||l.defaultShape||"point"});typeof c=="string"&&i.push([c,f])}if(i.length===0)return["point",["point"]];if(i.length===1||!n)return i[0];const{range:o}=n.getOptions();return i.map(([s,l])=>{let c=0;for(let u=0;u<i.length;u++){const f=o[u%o.length];l[u]===f&&c++}return[c/l.length,[s,l]]}).sort((s,l)=>l[0]-s[0])[0][1]}function lDe(e,t){const{scales:n,library:r,markState:a}=t,[i,o]=pV(n,a),{itemMarker:s,itemMarkerSize:l}=e,c=(d,h)=>{var p,v,g;const m=((g=(v=(p=r[`mark.${i}`])===null||p===void 0?void 0:p.props)===null||v===void 0?void 0:v.shape[d])===null||g===void 0?void 0:g.props.defaultMarker)||Ao(d.split(".")),y=typeof l=="function"?l(h):l;return()=>YCe(m,{color:h.color})(0,0,y)},u=d=>`${o[d]}`;return Cl(n,"shape")&&!s?(d,h)=>c(u(h),d):typeof s=="function"?(d,h)=>{const p=s(d.id,h);return typeof p=="string"?c(p,d):p}:(d,h)=>c(s||u(h),d)}function cDe(e){const t=Cl(e,"opacity");if(t){const{range:n}=t.getOptions();return(r,a)=>n[a]}}function uDe(e,t){const n=Cl(e,"size");return n instanceof sB?n.map(NaN)*2:t}function fDe(e,t){const{scales:n,markState:r}=t,[a,i]=pV(n,r),{itemMarker:o,itemMarkerLineWidth:s}=e;if(s!==void 0)return s;const l=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&l.includes(o))return 4;if(typeof o=="function")return(f,d)=>{const h=o(f.id,d);if(typeof h=="string"&&l.includes(h))return 4};if((Array.isArray(i)?i:[i]).some(f=>l.includes(f)))return 4}function dDe(e,t){const{labelFormatter:n=d=>`${d}`}=e,{scales:r,theme:a}=t,i=a.legendCategory.itemMarkerSize,o=uDe(r,i),s={itemMarker:lDe(Object.assign(Object.assign({},e),{itemMarkerSize:o}),t),itemMarkerSize:o,itemMarkerOpacity:cDe(r),itemMarkerLineWidth:fDe(e,t)},l=typeof n=="string"?zu(n):n,c=Cl(r,"color"),u=VRe(r),f=c?d=>c.map(d):()=>t.theme.color;return Object.assign(Object.assign({},s),{data:u.map(d=>({id:d,label:l(d),color:f(d)}))})}function hDe(e,t,n){const{position:r}=t;if(r==="center"){const{bbox:o}=e,{width:s,height:l}=o;return{width:s,height:l}}const{width:a,height:i}=aV(e,t,n);return{width:a,height:i}}function pDe(e){return Object.assign(Object.assign({},e),{data:(e==null?void 0:e.data.filter(t=>t.id!==""))||[]})}const tT=e=>{const{labelFormatter:t,layout:n,order:r,orientation:a,position:i,size:o,title:s,cols:l,itemMarker:c}=e,u=sDe(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=u;return d=>{const{value:h,theme:p}=d,{bbox:v}=h,{width:g,height:m}=hDe(h,e,tT),y=nV(i,n),x=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(i)?"vertical":"horizontal",width:g,height:m,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),f!==void 0&&{gridRow:f}),{titleText:q2(s)}),dDe(e,d)),{legendCategory:b={}}=p,_=K2(Object.assign({},b,pDe(x),u)),E=new zRe({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},y),{subOptions:_})});return E.appendChild(new e6e({className:"legend-category",style:_})),E}};tT.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var vDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function gDe(e,t,n){return e.size=t,URe(n)?e.height=t:e.width=t,e}function mDe(e,t,n){const{size:r}=t,a=aV(e,t,n);return gDe(a,r,a.orientation)}function yDe(e){return t=>({value:t/e,label:String(t)})}function xDe(e,t,n,r,a){const i=t.thresholds,o=yDe(r);return Object.assign(Object.assign({},e),{color:a,data:[n,...i,r].map(o)})}function bDe(e,t,n){const a=[-1/0,...t.thresholds,1/0].map((i,o)=>({value:o,label:i}));return Object.assign(Object.assign({},e),{data:a,color:n,labelFilter:(i,o)=>o>0&&o<a.length-1})}function HA(e){const{domain:t}=e.getOptions(),[n,r]=[t[0],OB(t)];return[n,r]}function wDe(e,t){const n=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},n),{range:[gu(t).toString()]})),r}function _De(e,t,n,r,a,i){const{length:o}=e,s=n||r,l=a.color?i.legendContinuous.ribbonFill||"black":i.color,c=t||wDe(s,l),[u,f]=HA(c),[d,h]=HA([t,n,r].filter(p=>p!==void 0).find(p=>!(p instanceof yO)));return Object.assign(Object.assign({},e),{domain:[d,h],data:c.getTicks().map(p=>({value:p})),color:new Array(Math.floor(o)).fill(0).map((p,v)=>{const g=(f-u)/(o-1)*v+u,m=c.map(g)||l,y=r?r.map(g):1;return m.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(x,b,_,E)=>`rgba(${b}, ${_}, ${E}, ${y})`)})})}function EDe(e,t,n,r,a,i){const o=Cl(e,"color"),s=mDe(n,r,a);if(o instanceof p2){const{range:u}=o.getOptions(),[f,d]=HA(o);return o instanceof gB||o instanceof yB?xDe(s,o,f,d,u):bDe(s,o,u)}const l=Cl(e,"size"),c=Cl(e,"opacity");return _De(s,o,l,c,t,i)}const Hu=e=>{const{labelFormatter:t,layout:n,order:r,orientation:a,position:i,size:o,title:s,style:l,crossPadding:c,padding:u}=e,f=vDe(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:d,value:h,theme:p,scale:v})=>{const{bbox:g}=h,{x:m,y,width:x,height:b}=g,_=nV(i,n),{legendContinuous:E={}}=p,w=K2(Object.assign({},E,Object.assign(Object.assign({titleText:q2(s),labelAlign:"value",labelFormatter:typeof t=="string"?S=>zu(t)(S.label):t},EDe(d,v,h,e,Hu,p)),l),f)),A=new rV({style:Object.assign(Object.assign({x:m,y,width:x,height:b},_),{subOptions:w})});return A.appendChild(new d6e({className:"legend-continuous",style:w})),A}};Hu.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const vV=e=>(...t)=>Hu(Object.assign({},{block:!0},e))(...t);vV.props=Object.assign(Object.assign({},Hu.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const nT=e=>t=>{const{scales:n}=t,r=Cl(n,"size");return Hu(Object.assign({},{type:"size",data:r.getTicks().map((a,i)=>({value:a,label:String(a)}))},e))(t)};nT.props=Object.assign(Object.assign({},Hu.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const gV=e=>nT(Object.assign({},{block:!0},e));gV.props=Object.assign(Object.assign({},Hu.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var ADe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function aI(e,t,n,r){switch(r){case"center":return{x:e+n/2,y:t,textAlign:"middle"};case"right":return{x:e+n,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}const SDe=jRe({render(e,t){const{width:n,title:r,subtitle:a,spacing:i=2,align:o="left",x:s,y:l}=e,c=ADe(e,["width","title","subtitle","spacing","align","x","y"]);t.style.transform=`translate(${s}, ${l})`;const u=Xe(c,"title"),f=Xe(c,"subtitle"),h=rI(t,".title","text").attr("className","title").call(ht,Object.assign(Object.assign(Object.assign({},aI(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();rI(t,".sub-title","text").attr("className","sub-title").call(p=>{if(!a)return p.node().remove();p.node().attr(Object.assign(Object.assign(Object.assign({},aI(0,h.max[1]+i,n,o)),{fontSize:12,textBaseline:"top",text:a}),f))})}}),mV=e=>({value:t,theme:n})=>{const{x:r,y:a,width:i,height:o}=t.bbox;return new SDe({style:Me({},n.title,Object.assign({x:r,y:a,width:i,height:o},e))})};mV.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function ODe(e,t,n){return Math.min(n,Math.max(t,e))}function xc(e){return!!e.getBandWidth}function Z0(e,t,n){if(!xc(e))return e.invert(t);const{adjustedRange:r}=e;if(r.includes(t))return e.invert(t);const{domain:a}=e.getOptions(),i=n?-1:0,o=e.getStep(),s=n?r:r.map(u=>u+o),l=R_e(s,t),c=ODe(l+i,0,a.length-1);return a[c]}function iu(e,t,n){if(!t)return e.getOptions().domain;if(!xc(e)){const l=$s(t);if(!n)return l;const[c]=l,{range:u}=e.getOptions(),[f,d]=u,h=f>d?-1:1,p=e.invert(e.map(c)+h*n);return[c,p]}const{domain:r}=e.getOptions(),a=t[0],i=r.indexOf(a);if(n){const l=i+Math.round(r.length*n);return r.slice(i,l)}const o=t[t.length-1],s=r.indexOf(o);return r.slice(i,s+1)}function Bm(e,t,n,r,a,i){const{x:o,y:s}=a,l=(h,p)=>{const[v,g]=i.invert(h);return[Z0(o,v,p),Z0(s,g,p)]},c=l([e,t],!0),u=l([n,r],!1),f=iu(o,[c[0],u[0]]),d=iu(s,[c[1],u[1]]);return[f,d]}function iI(e,t){const[n,r]=e,a=i=>i.getStep?i.getStep():0;return[t.map(n),t.map(r)+a(t)]}const oI=(e,t)=>{var n,r;const[a,i]=e,o=((r=(n=t.getOptions)===null||n===void 0?void 0:n.call(t))===null||r===void 0?void 0:r.domain)||[],s=o.indexOf(a),l=o.indexOf(i);if(s===-1||l===-1)return[t.map(a),t.map(i)];const c=o.length;return c<=1?[0,1]:[s/(c-1),l/(c-1)]};function kDe(e,t,n){const{x:r,y:a}=t,[i,o]=e,s=iI(i,r),l=iI(o,a),c=[s[0],l[0]],u=[s[1],l[1]],[f,d]=n.map(c),[h,p]=n.map(u);return[f,d,h,p]}var TDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function CDe(e,t,n){const{x:r,y:a,width:i,height:o}=e;if(t==="left")return[r+i-n,a];if(t==="right")return[r,a];if(t==="bottom")return[r,a];if(t==="top")return[r,a+o-n]}const Bv=e=>{const{orientation:t,labelFormatter:n,size:r,style:a={},position:i}=e,o=TDe(e,["orientation","labelFormatter","size","style","position"]);return s=>{var l;const{scales:[c],value:u,theme:f,coordinate:d}=s,{bbox:h}=u,{width:p,height:v}=h,{slider:g={}}=f,m=((l=c.getFormatter)===null||l===void 0?void 0:l.call(c))||(A=>A+""),y=typeof n=="string"?zu(n):n,x=t==="horizontal",b=tr(d)&&x,{trackSize:_=g.trackSize}=a,[E,w]=CDe(h,i,_);return new Rz({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:E,y:w,trackLength:x?p:v,orientation:t,formatter:A=>{const S=y||m,O=b?1-A:A,k=Z0(c,O,!0);return S(k)},sparklineData:PDe(e,s)},a),o))})}};function MDe(e,t){const[n]=Array.from(e.entries()).filter(([a])=>a.type==="line"||a.type==="area"||a.type==="interval").filter(([a])=>a.slider).map(([a])=>{const{encode:i,slider:o}=a;if(o!=null&&o.x){const s=l=>{const c=i[l];return[l,c?c.value:void 0]};return Object.fromEntries(t.map(s))}});if(!(n!=null&&n.series))return n==null?void 0:n.y;const r=n.series.reduce((a,i,o)=>(a[i]=a[i]||[],a[i].push(n.y[o]),a),{});return Object.values(r)}function PDe(e,t){const{markState:n}=t;return Ra(e.sparklineData)?e.sparklineData:MDe(n,["y","series"])}Bv.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const yV=e=>Bv(Object.assign(Object.assign({},e),{orientation:"horizontal"}));yV.props=Object.assign(Object.assign({},Bv.props),{defaultPosition:"bottom"});const xV=e=>Bv(Object.assign(Object.assign({},e),{orientation:"vertical"}));xV.props=Object.assign(Object.assign({},Bv.props),{defaultPosition:"left"});var IDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $v=e=>{const{orientation:t,labelFormatter:n,style:r}=e,a=IDe(e,["orientation","labelFormatter","style"]);return({scales:[i],value:o,theme:s})=>{const{bbox:l}=o,{x:c,y:u,width:f,height:d}=l,{scrollbar:h={}}=s,{ratio:p,range:v}=i.getOptions(),g=t==="horizontal"?f:d,m=g/p,[y,x]=v,b=x>y?0:1;return new M8e({className:"g2-scrollbar",style:Object.assign({},h,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:u,trackLength:g,value:b}),a),{orientation:t,contentLength:m,viewportLength:g}))})}};$v.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const bV=e=>$v(Object.assign(Object.assign({},e),{orientation:"horizontal"}));bV.props=Object.assign(Object.assign({},$v.props),{defaultPosition:"bottom"});const wV=e=>$v(Object.assign(Object.assign({},e),{orientation:"vertical"}));wV.props=Object.assign(Object.assign({},$v.props),{defaultPosition:"left"});const _V=e=>()=>new Ia;_V.props={};const rT=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=tr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f}];return s.animate(p,Object.assign(Object.assign({},o),e))}},RDe=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=tr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},EV=(e,t)=>{const{coordinate:r}=t;return yj.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Ze.NUMBER}),(a,i,o)=>{const[s]=a,l=u=>{const{__data__:f,style:d}=u,{fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=d,{points:g,y:m,y1:y}=f,x=yd(r,g,[m,y]),{innerRadius:b,outerRadius:_}=x,E=[{scaleInYRadius:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:b+1e-4,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{scaleInYRadius:_,fillOpacity:h,strokeOpacity:p,opacity:v}];return u.animate(E,Object.assign(Object.assign({},o),e))},c=u=>{const{style:f}=u,{transform:d="",fillOpacity:h=1,strokeOpacity:p=1,opacity:v=1}=f,[g,m]=tr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],y=[{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${d} ${m}`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v,offset:.01},{transform:`${d} scale(1, 1)`.trimStart(),transformOrigin:g,fillOpacity:h,strokeOpacity:p,opacity:v}];return u.animate(y,Object.assign(Object.assign({},o),e))};return $n(r)?l(s):c(s)}},DDe=(e,t)=>{const{coordinate:r}=t;return(a,i,o)=>{const[s]=a,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:f=1}=s.style,[d,h]=tr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],p=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:d},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:c,strokeOpacity:u,opacity:f,offset:.99},{transform:`${l} ${h}`.trimStart(),transformOrigin:d,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(p,Object.assign(Object.assign({},o),e))}},AV=e=>(t,n,r)=>{const[a]=t,{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=a.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:i,strokeOpacity:o,opacity:s}];return a.animate(l,Object.assign(Object.assign({},r),e))};AV.props={};const SV=e=>(t,n,r)=>{const[a]=t,{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=a.style,l=[{fillOpacity:i,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(l,Object.assign(Object.assign({},r),e))};SV.props={};const NDe={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},LDe={[Se.CIRCLE]:["cx","cy","r"],[Se.ELLIPSE]:["cx","cy","rx","ry"],[Se.RECT]:["x","y","width","height"],[Se.IMAGE]:["x","y","width","height"],[Se.LINE]:["x1","y1","x2","y2"],[Se.POLYLINE]:["points"],[Se.POLYGON]:["points"]};function Q0(e,t,n=!1){const r={};for(const a of t){const i=e.style[a];i?r[a]=i:n&&(r[a]=NDe[a])}return r}const H1=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function VA(e){const{min:t,max:n}=e.getLocalBounds(),[r,a]=t,[i,o]=n,s=o-a,l=i-r;return[r,a,l,s]}function FDe(e){const[t,n,r,a]=e;return`
    M ${t} ${n}
    L ${t+r} ${n}
    L ${t+r} ${n+a}
    L ${t} ${n+a}
    Z
  `}function BDe(e,t){const[n,r,a,i]=VA(e),o=i/a,s=Math.ceil(Math.sqrt(t/o)),l=Math.ceil(t/s),c=[],u=i/l;let f=0,d=t;for(;d>0;){const h=Math.min(d,s),p=a/h;for(let v=0;v<h;v++){const g=n+v*p,m=r+f*u;c.push(FDe([g,m,p,u]))}d-=h,f+=1}return c}function $De(e="pack"){return typeof e=="function"?e:BDe}function jDe(e,t,n){let{transform:r}=e.style;const{transform:a}=t.style;OV(t,e);let i=H1;if(e.nodeName===Se.GROUP){const[l,c,u,f]=VA(e),[d,h,p,v]=VA(t),g=l-d,m=c-h,y=u/p,x=f/v;r=`translate(${g}, ${m}) scale(${y}, ${x})`}else i=i.concat(LDe[e.nodeName]||[]);const o=[Object.assign({transform:r??"none"},Q0(e,i,!0)),Object.assign({transform:a??"none"},Q0(t,i,!0))];return t.animate(o,n)}function OV(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function zDe(e,t){const{nodeName:n}=e;if(n==="path")return e;const r=new ci({style:Object.assign(Object.assign({},Q0(e,H1)),{d:t})});return OV(r,e),r}function sI(e,t){const n=e.indexOf(t),r=e.lastIndexOf(t);return n===r}function UDe(e){return!sI(e,"m")||!sI(e,"M")}function lI(e){const t=$Oe(e);if(t&&!UDe(t))return t}function cI(e){const{nodeName:t}=e;if(t==="path"){const n=sn(e,"attributes");return n.markerEnd||n.markerStart}return!1}function aT(e,t,n,r){const{nodeName:a}=t,{nodeName:i}=n,o=lI(t),s=lI(n),{opacity:l=1,strokeOpacity:c=1,fillOpacity:u=1}=t.style,{opacity:f=1,strokeOpacity:d=1,fillOpacity:h=1}=n.style,p=a===i&&a!=="path",v=o===void 0||s===void 0,g=cI(t)||cI(n);if(p||v||g)return jDe(t,n,r);const m=zDe(e,o),y=Object.assign(Object.assign({},Q0(t,H1)),{opacity:l,strokeOpacity:c,fillOpacity:u}),x=Object.assign(Object.assign({},Q0(n,H1)),{opacity:f,strokeOpacity:d,fillOpacity:h}),b=[y,x];if(o!==s){b[0].d=o,b[1].d=s;const _=m.animate(b,r);return _.onfinish=()=>{g2(m,n),m.style.d=s,m.style.transform="none"},m.style.transform="none",_}return A1(y,x)?null:m.animate(b,r)}function HDe(e,t,n,r){e.style.visibility="hidden";const a=r(e,t.length);return t.map((i,o)=>{const s=new ci({style:Object.assign({d:a[o]},Q0(e,H1))});return aT(i,s,i,n)})}function VDe(e,t,n,r){const a=r(t,e.length),{fillOpacity:i=1,strokeOpacity:o=1,opacity:s=1}=t.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:i,strokeOpacity:o,opacity:s}],c=t.animate(l,n);return[...e.map((f,d)=>{const h=new ci({style:{d:a[d],fill:t.style.fill}});return aT(f,f,h,n)}),c]}const kV=e=>(t,n,r)=>{const a=$De(e.split),i=Object.assign(Object.assign({},r),e),{length:o}=t,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[l]=t,[c]=n;return aT(l,l,c,i)}if(o===1&&s>1){const[l]=t;return HDe(l,n,i,a)}if(o>1&&s===1){const[l]=n;return VDe(t,l,i,a)}return null};kV.props={};const TV=(e,t)=>{yj.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Ze.NUMBER});const{coordinate:r}=t;return(a,i,o)=>{const[s]=a;if(!$n(r))return rT(e,t)(a,i,o);const{__data__:l,style:c}=s,{radius:u=0,inset:f=0,fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=c,{points:v,y:g,y1:m}=l,y=PO().cornerRadius(u).padAngle(f*Math.PI/180),x=yd(r,v,[g,m]),{startAngle:b,endAngle:_}=x,E=[{waveInArcAngle:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:b+1e-4,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{waveInArcAngle:_,fillOpacity:d,strokeOpacity:h,opacity:p}],w=s.animate(E,Object.assign(Object.assign({},o),e));return w.onframe=function(){s.style.d=y(Object.assign(Object.assign({},x),{endAngle:Number(s.style.waveInArcAngle)}))},w.onfinish=function(){s.style.d=y(Object.assign(Object.assign({},x),{endAngle:_}))},w}};TV.props={};const WDe=e=>(n,r,a)=>{const[i]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=i.style,u="center center",f=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c}];return i.animate(f,Object.assign(Object.assign({},a),e))},GDe=e=>(n,r,a)=>{const[i]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=i.style,u="center center",f=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:u},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(f,Object.assign(Object.assign({},a),e))},CV=e=>(t,n,r)=>{var a,i;const[o]=t,s=((i=(a=o).getTotalLength)===null||i===void 0?void 0:i.call(a))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(l,Object.assign(Object.assign({},r),e))};CV.props={};const MV=(e,t)=>(n,r,a)=>{const[i]=n,{min:[o,s],halfExtents:l}=i.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new ci({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return i.appendChild(f),i.style.clipPath=f,rT(e,t)([f],r,a)};MV.props={};const PV=(e,t)=>(n,r,a)=>{const[i]=n,{min:[o,s],halfExtents:l}=i.getLocalBounds(),c=l[0]*2,u=l[1]*2,f=new ci({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return i.appendChild(f),i.style.clipPath=f,EV(e,t)([f],r,a)};PV.props={};/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function YDe(e,t){var n=t.cx,r=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.r;e.arc(r,i,o,0,Math.PI*2,!1)}function XDe(e,t){var n=t.cx,r=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.rx,s=t.ry;if(e.ellipse)e.ellipse(r,i,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,c=o>s?1:o/s,u=o>s?s/o:1;e.save(),e.scale(c,u),e.arc(r,i,l,0,Math.PI*2)}}function qDe(e,t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2,o=t.markerStart,s=t.markerEnd,l=t.markerStartOffset,c=t.markerEndOffset,u=0,f=0,d=0,h=0,p=0,v,g;o&&pn(o)&&l&&(v=a-n,g=i-r,p=Math.atan2(g,v),u=Math.cos(p)*(l||0),f=Math.sin(p)*(l||0)),s&&pn(s)&&c&&(v=n-a,g=r-i,p=Math.atan2(g,v),d=Math.cos(p)*(c||0),h=Math.sin(p)*(c||0)),e.moveTo(n+u,r+f),e.lineTo(a+d,i+h)}function KDe(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.d,s=o.absolutePath,l=o.segments,c=0,u=0,f=0,d=0,h=0,p,v;if(n&&pn(n)&&a){var g=n.parentNode.getStartTangent(),m=Dt(g,2),y=m[0],x=m[1];p=y[0]-x[0],v=y[1]-x[1],h=Math.atan2(v,p),c=Math.cos(h)*(a||0),u=Math.sin(h)*(a||0)}if(r&&pn(r)&&i){var b=r.parentNode.getEndTangent(),_=Dt(b,2),E=_[0],w=_[1];p=E[0]-w[0],v=E[1]-w[1],h=Math.atan2(v,p),f=Math.cos(h)*(i||0),d=Math.sin(h)*(i||0)}for(var A=0;A<s.length;A++){var S=s[A],O=S[0],k=s[A+1],T=A===0&&(c!==0||u!==0),C=(A===s.length-1||k&&(k[0]==="M"||k[0]==="Z"))&&f!==0&&d!==0,M=T?[c,u]:[0,0],P=Dt(M,2),I=P[0],L=P[1],z=C?[f,d]:[0,0],N=Dt(z,2),G=N[0],Y=N[1];switch(O){case"M":e.moveTo(S[1]+I,S[2]+L);break;case"L":e.lineTo(S[1]+G,S[2]+Y);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+G,S[4]+Y);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+G,S[6]+Y);break;case"A":{var B=l[A].arcParams,F=B.cx,D=B.cy,R=B.rx,V=B.ry,H=B.startAngle,j=B.endAngle,K=B.xRotation,re=B.sweepFlag;if(e.ellipse)e.ellipse(F,D,R,V,K,H,j,!!(1-re));else{var ae=R>V?R:V,U=R>V?1:R/V,q=R>V?V/R:1;e.translate(F,D),e.rotate(K),e.scale(U,q),e.arc(0,0,ae,H,j,!!(1-re)),e.scale(1/U,1/q),e.rotate(-K),e.translate(-F,-D)}C&&e.lineTo(S[6]+f,S[7]+d);break}case"Z":e.closePath();break}}}function ZDe(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;n&&pn(n)&&a&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)),r&&pn(r)&&i&&(m=o[s-1][0]-o[0][0],y=o[s-1][1]-o[0][1],g=Math.atan2(y,m),p=Math.cos(g)*(i||0),v=Math.sin(g)*(i||0)),e.moveTo(l+(d||p),c+(h||v));for(var x=1;x<s-1;x++){var b=o[x];e.lineTo(b[0],b[1])}e.lineTo(u,f)}function QDe(e,t){var n=t.markerStart,r=t.markerEnd,a=t.markerStartOffset,i=t.markerEndOffset,o=t.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],f=o[s-1][1],d=0,h=0,p=0,v=0,g=0,m,y;n&&pn(n)&&a&&(m=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,m),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)),r&&pn(r)&&i&&(m=o[s-2][0]-o[s-1][0],y=o[s-2][1]-o[s-1][1],g=Math.atan2(y,m),p=Math.cos(g)*(i||0),v=Math.sin(g)*(i||0)),e.moveTo(l+d,c+h);for(var x=1;x<s-1;x++){var b=o[x];e.lineTo(b[0],b[1])}e.lineTo(u+p,f+v)}function JDe(e,t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.radius,s=t.width,l=t.height,c=s,u=l,f=o&&o.some(function(_){return _!==0});if(!f)e.rect(r,i,c,u);else{var d=s>0?1:-1,h=l>0?1:-1,p=d+h===0,v=o.map(function(_){return jr(_,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),g=Dt(v,4),m=g[0],y=g[1],x=g[2],b=g[3];e.moveTo(d*m+r,i),e.lineTo(c-d*y+r,i),y!==0&&e.arc(c-d*y+r,h*y+i,y,-h*Math.PI/2,d>0?0:Math.PI,p),e.lineTo(c+r,u-h*x+i),x!==0&&e.arc(c-d*x+r,u-h*x+i,x,d>0?0:Math.PI,h>0?Math.PI/2:1.5*Math.PI,p),e.lineTo(d*b+r,u+i),b!==0&&e.arc(d*b+r,u-h*b+i,b,h>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,p),e.lineTo(r,h*m+i),m!==0&&e.arc(d*m+r,h*m+i,m,d>0?Math.PI:0,h>0?Math.PI*1.5:Math.PI/2,p)}}var eNe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="canvas-path-generator",n}return Wt(t,e),Be(t,[{key:"init",value:function(){var r,a=(r={},at(at(at(at(at(at(at(at(at(at(r,Se.CIRCLE,YDe),Se.ELLIPSE,XDe),Se.RECT,JDe),Se.LINE,qDe),Se.POLYLINE,QDe),Se.POLYGON,ZDe),Se.PATH,KDe),Se.TEXT,void 0),Se.GROUP,void 0),Se.IMAGE,void 0),at(at(at(r,Se.HTML,void 0),Se.MESH,void 0),Se.FRAGMENT,void 0));this.context.pathGeneratorFactory=a}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])})(Fu);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var tNe=tn(),nNe=tn(),rNe=tn(),aNe=Cn(),IV=(function(){function e(){var t=this;Fe(this,e),this.isHit=function(n,r,a,i){var o=t.context.pointInPathPickerFactory[n.nodeName];if(o){var s=Rs(aNe,a),l=Fr(nNe,Ei(rNe,r[0],r[1],0),s);if(o(n,new ri(l[0],l[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(n,r){var a=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[n.nodeName];return i&&(a.beginPath(),i(a,n.parsedStyle),a.closePath()),a.isPointInPath(r.x,r.y)}}return Be(e,[{key:"apply",value:function(n,r){var a,i=this,o=n.renderingService,s=n.renderingContext;this.context=n,this.runtime=r;var l=(a=s.root)===null||a===void 0?void 0:a.ownerDocument;o.hooks.pick.tapPromise(e.tag,(function(){var c=Au(Wa().mark(function u(f){return Wa().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",i.pick(l,f));case 1:case"end":return d.stop()}},u)}));return function(u){return c.apply(this,arguments)}})()),o.hooks.pickSync.tap(e.tag,function(c){return i.pick(l,c)})}},{key:"pick",value:function(n,r){var a=r.topmost,i=r.position,o=i.x,s=i.y,l=Ei(tNe,o,s,0),c=n.elementsFromBBox(l[0],l[1],l[0],l[1]),u=[],f=pf(c),d;try{for(f.s();!(d=f.n()).done;){var h=d.value,p=h.getWorldTransform(),v=this.isHit(h,l,p,!1);if(v){var g=cj(h);if(g){var m=g.parsedStyle.clipPath,y=this.isHit(m,l,m.getWorldTransform(),!0);if(y){if(a)return r.picked=[h],r;u.push(h)}}else{if(a)return r.picked=[h],r;u.push(h)}}}}catch(x){f.e(x)}finally{f.f()}return r.picked=u,r}}])})();IV.tag="CanvasPicker";function iNe(e,t,n){var r=e.parsedStyle,a=r.cx,i=a===void 0?0:a,o=r.cy,s=o===void 0?0:o,l=r.r,c=r.fill,u=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,p=h===void 0?0:h,v=r.pointerEvents,g=v===void 0?"auto":v,m=(d+p)/2,y=yc(i,s,t.x,t.y),x=gd(g,c,u),b=Dt(x,2),_=b[0],E=b[1];return _&&E||n?y<=l+m:_?y<=l:E?y>=l-m&&y<=l+m:!1}function tm(e,t,n,r){return e/(n*n)+t/(r*r)}function oNe(e,t,n){var r=e.parsedStyle,a=r.cx,i=a===void 0?0:a,o=r.cy,s=o===void 0?0:o,l=r.rx,c=r.ry,u=r.fill,f=r.stroke,d=r.lineWidth,h=d===void 0?1:d,p=r.increasedLineWidthForHitTesting,v=p===void 0?0:p,g=r.pointerEvents,m=g===void 0?"auto":g,y=t.x,x=t.y,b=gd(m,u,f),_=Dt(b,2),E=_[0],w=_[1],A=(h+v)/2,S=(y-i)*(y-i),O=(x-s)*(x-s);return E&&w||n?tm(S,O,l+A,c+A)<=1:E?tm(S,O,l,c)<=1:w?tm(S,O,l-A,c-A)>=1&&tm(S,O,l+A,c+A)<=1:!1}function _f(e,t,n,r,a,i){return a>=e&&a<=e+n&&i>=t&&i<=t+r}function sNe(e,t,n,r,a,i,o){var s=a/2;return _f(e-s,t-s,n,a,i,o)||_f(e+n-s,t-s,a,r,i,o)||_f(e+s,t+r-s,n,a,i,o)||_f(e-s,t+s,a,r,i,o)}function nm(e,t,n,r,a,i,o,s){var l=(Math.atan2(s-t,o-e)+Math.PI*2)%(Math.PI*2),c={x:e+n*Math.cos(l),y:t+n*Math.sin(l)};return yc(c.x,c.y,o,s)<=i/2}function ou(e,t,n,r,a,i,o){var s=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),u=Math.max(t,r),f=a/2;return i>=s-f&&i<=l+f&&o>=c-f&&o<=u+f?t3e(e,t,n,r,i,o)<=a/2:!1}function RV(e,t,n,r,a){var i=e.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=e[o][0],l=e[o][1],c=e[o+1][0],u=e[o+1][1];if(ou(s,l,c,u,t,n,r))return!0}if(a){var f=e[0],d=e[i-1];if(ou(f[0],f[1],d[0],d[1],t,n,r))return!0}return!1}var lNe=1e-6;function u_(e){return Math.abs(e)<lNe?0:e<0?-1:1}function cNe(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function DV(e,t,n){var r=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(cNe(o,s,[t,n]))return!0;u_(o[1]-n)>0!=u_(s[1]-n)>0&&u_(t-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function uI(e,t,n){for(var r=!1,a=0;a<e.length;a++){var i=e[a];if(r=DV(i,t,n),r)break}return r}function uNe(e,t,n){var r=e.parsedStyle,a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.lineWidth,c=l===void 0?1:l,u=r.increasedLineWidthForHitTesting,f=u===void 0?0:u,d=r.pointerEvents,h=d===void 0?"auto":d,p=r.fill,v=r.stroke,g=gd(h,p,v),m=Dt(g,2),y=m[1];return!y&&!n||!c?!1:ou(a,i,o,s,c+f,t.x,t.y)}function fNe(e,t,n,r,a){for(var i=!1,o=t/2,s=0;s<e.length;s++){var l=e[s],c=l.currentPoint,u=l.params,f=l.prePoint,d=l.box;if(!(d&&!_f(d.x-o,d.y-o,d.width+t,d.height+t,n,r)))switch(l.command){case"L":case"Z":if(i=ou(f[0],f[1],c[0],c[1],t,n,r),i)return!0;break;case"Q":var h=l3e(f[0],f[1],u[1],u[2],u[3],u[4],n,r);if(i=h<=t/2,i)return!0;break;case"C":var p=f6(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,a);if(i=p<=t/2,i)return!0;break;case"A":l.cubicParams||(l.cubicParams=lO(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var v=l.cubicParams,g=f,m=0;m<v.length;m+=6){var y=f6(g[0],g[1],v[m],v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],n,r,a);if(g=[v[m+4],v[m+5]],i=y<=t/2,i)return!0}break}}return i}function dNe(e,t,n,r,a,i){var o=e.parsedStyle,s=o.lineWidth,l=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,u=c===void 0?0:c,f=o.stroke,d=o.fill,h=o.d,p=o.pointerEvents,v=p===void 0?"auto":p,g=h.segments,m=h.hasArc,y=h.polylines,x=h.polygons,b=gd(v,(x==null?void 0:x.length)&&d,f),_=Dt(b,2),E=_[0],w=_[1],A=xA(e),S=!1;return E||n?(m?S=r(e,t):S=uI(x,t.x,t.y)||uI(y,t.x,t.y),S):((w||n)&&(S=fNe(g,l+u,t.x,t.y,A)),S)}function hNe(e,t,n){var r=e.parsedStyle,a=r.stroke,i=r.fill,o=r.lineWidth,s=o===void 0?1:o,l=r.increasedLineWidthForHitTesting,c=l===void 0?0:l,u=r.points,f=r.pointerEvents,d=f===void 0?"auto":f,h=gd(d,i,a),p=Dt(h,2),v=p[0],g=p[1],m=!1;return(g||n)&&(m=RV(u.points,s+c,t.x,t.y,!0)),!m&&(v||n)&&(m=DV(u.points,t.x,t.y)),m}function pNe(e,t,n){var r=e.parsedStyle,a=r.lineWidth,i=a===void 0?1:a,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,l=r.points,c=r.pointerEvents,u=c===void 0?"auto":c,f=r.fill,d=r.stroke,h=gd(u,f,d),p=Dt(h,2),v=p[1];return!v&&!n||!i?!1:RV(l.points,i+s,t.x,t.y,!1)}function vNe(e,t,n,r,a){var i=e.parsedStyle,o=i.radius,s=i.fill,l=i.stroke,c=i.lineWidth,u=c===void 0?1:c,f=i.increasedLineWidthForHitTesting,d=f===void 0?0:f,h=i.x,p=h===void 0?0:h,v=i.y,g=v===void 0?0:v,m=i.width,y=i.height,x=i.pointerEvents,b=x===void 0?"auto":x,_=gd(b,s,l),E=Dt(_,2),w=E[0],A=E[1],S=o&&o.some(function(C){return C!==0}),O=u+d;if(S){var T=!1;return(A||n)&&(T=gNe(p,g,m,y,o.map(function(C){return jr(C,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))}),O,t.x,t.y)),!T&&(w||n)&&(T=r(e,t)),T}else{var k=O/2;if(w&&A||n)return _f(p-k,g-k,m+k,y+k,t.x,t.y);if(w)return _f(p,g,m,y,t.x,t.y);if(A)return sNe(p,g,m,y,O,t.x,t.y)}return!1}function gNe(e,t,n,r,a,i,o,s){var l=Dt(a,4),c=l[0],u=l[1],f=l[2],d=l[3];return ou(e+c,t,e+n-u,t,i,o,s)||ou(e+n,t+u,e+n,t+r-f,i,o,s)||ou(e+n-f,t+r,e+d,t+r,i,o,s)||ou(e,t+r-d,e,t+c,i,o,s)||nm(e+n-u,t+u,u,1.5*Math.PI,2*Math.PI,i,o,s)||nm(e+n-f,t+r-f,f,0,.5*Math.PI,i,o,s)||nm(e+d,t+r-d,d,.5*Math.PI,Math.PI,i,o,s)||nm(e+c,t+c,c,Math.PI,1.5*Math.PI,i,o,s)}function mNe(e,t,n,r,a,i){var o=e.parsedStyle,s=o.pointerEvents,l=s===void 0?"auto":s,c=o.x,u=c===void 0?0:c,f=o.y,d=f===void 0?0:f,h=o.width,p=o.height;if(l==="non-transparent-pixel"){var v=a.config.offscreenCanvas,g=i.offscreenCanvasCreator.getOrCreateCanvas(v),m=i.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});g.width=h,g.height=p,a.defaultStyleRendererFactory[Se.IMAGE].render(m,$t($t({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=m.getImageData(t.x-u,t.y-d,1,1).data;return y.every(function(x){return x!==0})}return!0}function yNe(e,t,n,r){var a=e.getGeometryBounds();return t.x>=a.min[0]&&t.y>=a.min[1]&&t.x<=a.max[0]&&t.y<=a.max[1]}var xNe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="canvas-picker",n}return Wt(t,e),Be(t,[{key:"init",value:function(){var r,a=(r={},at(at(at(at(at(at(at(at(at(at(r,Se.CIRCLE,iNe),Se.ELLIPSE,oNe),Se.RECT,vNe),Se.LINE,uNe),Se.POLYLINE,pNe),Se.POLYGON,hNe),Se.PATH,dNe),Se.TEXT,yNe),Se.GROUP,null),Se.IMAGE,mNe),at(at(r,Se.HTML,null),Se.MESH,null));this.context.pointInPathPickerFactory=a,this.addRenderingPlugin(new IV)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])})(Fu);function il(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var bNe=0;function wNe(e){return"__private_"+bNe+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var _Ne=(function(){function e(){Fe(this,e),this.cacheStore=new Map}return Be(e,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,a){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([a.entity])}),this.onRefAdded(a),!0)}},{key:"get",value:function(n,r){var a=this.cacheStore.get(n);return a?(a.counter.has(r.entity)||(a.counter.add(r.entity),this.onRefAdded(r)),a.value):null}},{key:"update",value:function(n,r,a){var i=this.cacheStore.get(n);return i?(i.value=$t($t({},i.value),r),i.counter.has(a.entity)||(i.counter.add(a.entity),this.onRefAdded(a)),!0):!1}},{key:"release",value:function(n,r){var a=this.cacheStore.get(n);return a?(a.counter.delete(r.entity),a.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(a){r.release(a,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])})(),f_=[],d_=[],WA=(function(){function e(){Fe(this,e)}return Be(e,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(n.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;f_.length<=0&&d_.length<=0||(d_.forEach(function(r){return r()}),d_=f_.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=n.requestAnimationFrame(function(){e.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,a,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=r-o,f=a-o,d=Math.ceil(l/u),h=Math.ceil(c/f),p={tileSize:[r,a],gridSize:[h,d],tiles:Array(h).fill(null).map(function(){return Array(d).fill(null)})},v=function(y){for(var x=function(E){f_.push(function(){var w=E*u,A=y*f,S=[Math.min(r,l-w),Math.min(a,c-A)],O=S[0],k=S[1],T=s.createCanvas();T.width=r,T.height=a;var C=T.getContext("2d");C.drawImage(n,w,A,O,k,0,0,O,k),p.tiles[y][E]={x:w,y:A,tileX:E,tileY:y,data:T},i()})},b=0;b<d;b++)x(b)},g=0;g<h;g++)v(g);return e.stop(),e.executeTask(),p}}])})();WA.TASK_NUM_PER_FRAME=10;var wo=new _Ne;wo.onRefAdded=function(t){var n=this;t.addEventListener(Xt.DESTROY,function(){n.releaseRef(t)},{once:!0})};var iT=(function(){function e(t,n){Fe(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n}return Be(e,[{key:"getImageSync",value:function(n,r,a){var i=xr(n)?n:n.src;if(wo.has(i)){var o=wo.get(i,r);if(o.img.complete)return a==null||a(o),o}return this.getOrCreateImage(n,r).then(function(s){a==null||a(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(n,r){var a=this,i=xr(n)?n:n.src;if(!xr(n)&&!wo.has(i)){var o={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:rm(n)};wo.put(i,o,r)}if(wo.has(i)){var s=wo.get(i,r);return s.img.complete?Promise.resolve(s):new Promise(function(l,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=rm(s.img),l(s)}),s.img.addEventListener("error",function(u){c(u)})})}return new Promise(function(l,c){var u=a.context.config.createImage();if(u){var f={img:u,size:[0,0],tileSize:rm(u)};wo.put(i,f,r),u.onload=function(){f.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],f.tileSize=rm(f.img),l(f)},u.onerror=function(d){c(d)},u.crossOrigin="Anonymous",u.src=i}})}},{key:"createDownSampledImage",value:(function(){var t=Au(Wa().mark(function r(a,i){var o,s,l,c,u,f,d,h,p,v,g,m,y,x;return Wa().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=1,this.getOrCreateImage(a,i);case 1:if(o=b.sent,!(typeof o.downSamplingRate<"u")){b.next=2;break}return b.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,l=typeof s=="boolean"?{}:s,c=l.maxDownSampledImageSize,u=c===void 0?2048:c,f=l.downSamplingRateThreshold,d=f===void 0?.5:f,h=this.runtime.globalThis.createImageBitmap,p=Dt(o.size,2),v=p[0],g=p[1],m=o.img,y=Math.min((u+u)/(v+g),Math.max(.01,Math.min(d,.5))),x=$t($t({},o),{},{downSamplingRate:y}),wo.update(o.img.src,x,i),!h){b.next=7;break}return b.prev=3,b.next=4,h(o.img,{resizeWidth:v*y,resizeHeight:g*y});case 4:m=b.sent,b.next=6;break;case 5:b.prev=5,b.catch(3),y=1;case 6:b.next=8;break;case 7:y=1;case 8:return x=$t($t({},this.getImageSync(a,i)),{},{downSampled:m,downSamplingRate:y}),wo.update(o.img.src,x,i),b.abrupt("return",x);case 9:case"end":return b.stop()}},r,this,[[3,5]])}));function n(r,a){return t.apply(this,arguments)}return n})()},{key:"createImageTiles",value:(function(){var t=Au(Wa().mark(function r(a,i,o,s){var l,c,u,f,d;return Wa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=1,this.getOrCreateImage(a,s);case 1:return l=h.sent,c=s.ownerDocument.defaultView,u=c.requestAnimationFrame,f=c.cancelAnimationFrame,WA.api={requestAnimationFrame:u,cancelAnimationFrame:f,createCanvas:function(){return GO.createCanvas()}},d=$t($t({},l),WA.sliceImage(l.img,l.tileSize[0],l.tileSize[0],o)),wo.update(l.img.src,d,s),h.abrupt("return",d);case 2:case"end":return h.stop()}},r,this)}));function n(r,a,i,o){return t.apply(this,arguments)}return n})()},{key:"releaseImage",value:function(n,r){wo.release(xr(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){wo.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,a,i,o,s,l){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var u=r.image,f=r.repetition,d=r.transform,h,p=!1;if(xr(u)){var v=this.getImageSync(u,n,l);h=v==null?void 0:v.img}else i?(h=i,p=!0):h=u;var g=h&&a.createPattern(h,f);if(g){var m;d?m=pj(ij(d),new or({})):m=_u(Cn()),p&&b9(m,m,[1/o,1/o,1]),g.setTransform({a:m[0],b:m[1],c:m[4],d:m[5],e:m[12]+s[0],f:m[13]+s[1]})}return c&&g&&(this.patternCache[c]=g),g}},{key:"getOrCreateGradient",value:function(n,r){var a=this.generateGradientKey(n),i=n.type,o=n.steps,s=n.min,l=n.width,c=n.height,u=n.angle,f=n.cx,d=n.cy,h=n.size;if(this.gradientCache[a])return this.gradientCache[a];var p=null;if(i===ru.LinearGradient){var v=lOe(s,l,c,u),g=v.x1,m=v.y1,y=v.x2,x=v.y2;p=r.createLinearGradient(g,m,y,x)}else if(i===ru.RadialGradient){var b=cOe(s,l,c,f,d,h),_=b.x,E=b.y,w=b.r;p=r.createRadialGradient(_,E,0,_,E,w)}return p&&(o.forEach(function(A){var S=A.offset,O=A.color;if(S.unit===Je.kPercentage){var k;(k=p)===null||k===void 0||k.addColorStop(S.value/100,O.toString())}}),this.gradientCache[a]=p),this.gradientCache[a]}},{key:"generateGradientKey",value:function(n){var r=n.type,a=n.min,i=n.width,o=n.height,s=n.steps,l=n.angle,c=n.cx,u=n.cy,f=n.size;return"gradient-".concat(r,"-").concat((l==null?void 0:l.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat((f==null?void 0:f.toString())||0,"-").concat(a[0],"-").concat(a[1],"-").concat(i,"-").concat(o,"-").concat(s.map(function(d){var h=d.offset,p=d.color;return"".concat(h).concat(p)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,a=n.repetition;if(xr(r))return"pattern-".concat(r,"-").concat(a);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(a)}}])})();iT.isSupportTile=!!GO.createCanvas();function rm(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(a){var i=Math.ceil(n/a),o=Math.ceil(t/a);i*o<1e3&&(r=a)}),[r,r]}var NV=(function(){function e(){Fe(this,e)}return Be(e,[{key:"apply",value:function(n){var r=n.renderingService,a=n.renderingContext,i=n.imagePool,o=a.root.ownerDocument.defaultView,s=function(f,d,h){var p=f.parsedStyle,v=p.width,g=p.height;v&&!g?f.setAttribute("height",h/d*v):!v&&g&&f.setAttribute("width",d/h*g)},l=function(f){var d=f.target,h=d.nodeName,p=d.attributes;if(h===Se.IMAGE){var v=p.src,g=p.keepAspectRatio;i.getImageSync(v,d,function(m){var y=m.img,x=y.width,b=y.height;g&&s(d,x,b),d.renderable.dirty=!0,r.dirtify()})}},c=function(f){var d=f.target,h=f.attrName,p=f.prevValue,v=f.newValue;d.nodeName!==Se.IMAGE||h!=="src"||(p!==v&&i.releaseImage(p,d),xr(v)&&i.getOrCreateImage(v,d).then(function(g){var m=g.img,y=m.width,x=m.height;d.attributes.keepAspectRatio&&s(d,y,x),d.renderable.dirty=!0,r.dirtify()}).catch(function(){}))};r.hooks.init.tap(e.tag,function(){o.addEventListener(Xt.MOUNTED,l),o.addEventListener(Xt.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener(Xt.MOUNTED,l),o.removeEventListener(Xt.ATTR_MODIFIED,c)})}}])})();NV.tag="LoadImage";var ENe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="image-loader",n}return Wt(t,e),Be(t,[{key:"init",value:function(r){this.context.imagePool=new iT(this.context,r),this.addRenderingPlugin(new NV)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Fu);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Qr=wNe("renderState"),LV=(function(){function e(t){Fe(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Qr,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=Cn(),this.dprMatrix=Cn(),this.tmpMat4=Cn(),this.vec3a=tn(),this.vec3b=tn(),this.vec3c=tn(),this.vec3d=tn(),this.canvasRendererPluginOptions=t}return Be(e,[{key:"apply",value:function(n,r){var a=this;this.context=n;var i=this.context,o=i.config,s=i.camera,l=i.renderingService,c=i.renderingContext,u=i.rBushRoot,f=i.pathGeneratorFactory,d=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=f;var h=n.contextService,p=c.root.ownerDocument.defaultView,v=function(b){var _=b.target,E=_.rBushNode;E!=null&&E.aabb&&a.removedRBushNodeAABBs.push(E.aabb)},g=function(b){var _=b.target,E=_.rBushNode;E.aabb&&a.removedRBushNodeAABBs.push(E.aabb)};l.hooks.init.tap(e.tag,function(){p.addEventListener(Xt.UNMOUNTED,v),p.addEventListener(Xt.CULLED,g);var x=h.getDPR(),b=o.width,_=o.height,E=h.getContext();a.clearRect(E,0,0,b*x,_*x,o.background)}),l.hooks.destroy.tap(e.tag,function(){p.removeEventListener(Xt.UNMOUNTED,v),p.removeEventListener(Xt.CULLED,g),a.renderQueue=[],a.removedRBushNodeAABBs=[],il(a,Qr)[Qr]={restoreStack:[],prevObject:null,currentContext:null}});var m=function(){var b,_=h.getContext(),E=h.getDPR(),w=o.width,A=o.height,S=a.canvasRendererPluginOptions,O=S.dirtyObjectNumThreshold,k=S.dirtyObjectRatioThreshold,T=l.getStats(),C=T.total,M=T.rendered,P=M/C;a.clearFullScreen=a.clearFullScreenLastFrame||!((b=p.context.renderingPlugins[1])!==null&&b!==void 0&&b.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||M>O&&P>k,_&&(typeof _.resetTransform=="function"?_.resetTransform():_.setTransform(1,0,0,1,0,0),a.clearFullScreen&&a.clearRect(_,0,0,w*E,A*E,o.background))},y=function(b,_){for(var E=[b];E.length>0;){var w,A=E.pop();A.isVisible()&&!A.isCulled()&&(d?a.renderDisplayObjectOptimized(A,_,a.context,il(a,Qr)[Qr],r):a.renderDisplayObject(A,_,a.context,il(a,Qr)[Qr],r));for(var S=((w=A.sortable)===null||w===void 0||(w=w.sorted)===null||w===void 0?void 0:w.length)>0?A.sortable.sorted:A.childNodes,O=S.length-1;O>=0;O--)E.push(S[O])}};l.hooks.endFrame.tap(e.tag,function(){if(m(),c.root.childNodes.length===0){a.clearFullScreenLastFrame=!0;return}d=o.renderer.getConfig().enableRenderingOptimization,il(a,Qr)[Qr]={restoreStack:[],prevObject:null,currentContext:il(a,Qr)[Qr].currentContext},il(a,Qr)[Qr].currentContext.clear(),a.clearFullScreenLastFrame=!1;var x=h.getContext(),b=h.getDPR();if(Kc(a.dprMatrix,[b,b,1]),Ti(a.vpMatrix,a.dprMatrix,s.getOrthoMatrix()),a.clearFullScreen)d?(x.save(),y(c.root,x),x.restore()):y(c.root,x),a.removedRBushNodeAABBs=[];else{var _=a.safeMergeAABB.apply(a,[a.mergeDirtyAABBs(a.renderQueue)].concat(Jt(a.removedRBushNodeAABBs.map(function(V){var H=V.minX,j=V.minY,K=V.maxX,re=V.maxY,ae=new na;return ae.setMinMax([H,j,0],[K,re,0]),ae}))));if(a.removedRBushNodeAABBs=[],na.isEmpty(_)){a.renderQueue=[];return}var E=a.convertAABB2Rect(_),w=E.x,A=E.y,S=E.width,O=E.height,k=Fr(a.vec3a,[w,A,0],a.vpMatrix),T=Fr(a.vec3b,[w+S,A,0],a.vpMatrix),C=Fr(a.vec3c,[w,A+O,0],a.vpMatrix),M=Fr(a.vec3d,[w+S,A+O,0],a.vpMatrix),P=Math.min(k[0],T[0],M[0],C[0]),I=Math.min(k[1],T[1],M[1],C[1]),L=Math.max(k[0],T[0],M[0],C[0]),z=Math.max(k[1],T[1],M[1],C[1]),N=Math.floor(P),G=Math.floor(I),Y=Math.ceil(L-P),B=Math.ceil(z-I);x.save(),a.clearRect(x,N,G,Y,B,o.background),x.beginPath(),x.rect(N,G,Y,B),x.clip(),x.setTransform(a.vpMatrix[0],a.vpMatrix[1],a.vpMatrix[4],a.vpMatrix[5],a.vpMatrix[12],a.vpMatrix[13]);var F=o.renderer.getConfig(),D=F.enableDirtyRectangleRenderingDebug;D&&p.dispatchEvent(new Fn(Go.DIRTY_RECTANGLE,{dirtyRect:{x:N,y:G,width:Y,height:B}}));var R=a.searchDirtyObjects(_);R.sort(function(V,H){return V.sortable.renderOrder-H.sortable.renderOrder}).forEach(function(V){V&&V.isVisible()&&!V.isCulled()&&a.renderDisplayObject(V,x,a.context,il(a,Qr)[Qr],r)}),x.restore(),a.renderQueue.forEach(function(V){a.saveDirtyAABB(V)}),a.renderQueue=[]}il(a,Qr)[Qr].restoreStack.forEach(function(){x.restore()}),il(a,Qr)[Qr].restoreStack=[]}),l.hooks.render.tap(e.tag,function(x){a.clearFullScreen||a.renderQueue.push(x)})}},{key:"clearRect",value:function(n,r,a,i,o,s){n.clearRect(r,a,i,o),s&&(n.fillStyle=s,n.fillRect(r,a,i,o))}},{key:"renderDisplayObjectOptimized",value:function(n,r,a,i,o){var s=n.nodeName,l=!1,c=!1,u=this.context.styleRendererFactory[s],f=this.pathGeneratorFactory[s],d=n.parsedStyle.clipPath;if(d){l=!i.prevObject||!WE(d.getWorldTransform(),i.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(r,d),i.prevObject=null);var h=this.pathGeneratorFactory[d.nodeName];h&&(r.save(),c=!0,r.beginPath(),h(r,d.parsedStyle),r.closePath(),r.clip())}if(u){l=!i.prevObject||!WE(n.getWorldTransform(),i.prevObject.getWorldTransform()),l&&this.applyWorldTransform(r,n);var p=!i.prevObject;if(!p){var v=i.prevObject.nodeName;s===Se.TEXT?p=v!==Se.TEXT:s===Se.IMAGE?p=v!==Se.IMAGE:p=v===Se.TEXT||v===Se.IMAGE}u.applyStyleToContext(r,n,p,i),i.prevObject=n}f&&(r.beginPath(),f(r,n.parsedStyle),s!==Se.LINE&&s!==Se.PATH&&s!==Se.POLYLINE&&r.closePath()),u&&u.drawToContext(r,n,il(this,Qr)[Qr],this,o),c&&r.restore(),n.dirty(!1)}},{key:"renderDisplayObject",value:function(n,r,a,i,o){var s=n.nodeName,l=i.restoreStack[i.restoreStack.length-1];l&&!(n.compareDocumentPosition(l)&Ar.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),i.restoreStack.pop());var c=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],f=n.parsedStyle.clipPath;if(f){this.applyWorldTransform(r,f);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),i.restoreStack.push(n),r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),u&&(r.beginPath(),u(r,n.parsedStyle),s!==Se.LINE&&s!==Se.PATH&&s!==Se.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,a,this,o),r.restore()),n.dirty(!1)}},{key:"applyAttributesToContext",value:function(n,r){var a=r.parsedStyle,i=a.stroke,o=a.fill,s=a.opacity,l=a.lineDash,c=a.lineDashOffset;l&&n.setLineDash(l),wt(c)||(n.lineDashOffset=c),wt(s)||(n.globalAlpha*=s),!wt(i)&&!Array.isArray(i)&&!i.isNone&&(n.strokeStyle=r.attributes.stroke),!wt(o)&&!Array.isArray(o)&&!o.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),a=n.getMax(),i=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(a[0]),l=Math.ceil(a[1]),c=s-i,u=l-o;return{x:i,y:o,width:c,height:u}}},{key:"mergeDirtyAABBs",value:function(n){var r=new na;return n.forEach(function(a){var i=a.getRenderBounds();r.add(i);var o=a.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"searchDirtyObjects",value:function(n){var r=n.getMin(),a=Dt(r,2),i=a[0],o=a[1],s=n.getMax(),l=Dt(s,2),c=l[0],u=l[1],f=this.rBush.search({minX:i,minY:o,maxX:c,maxY:u});return f.map(function(d){var h=d.displayObject;return h})}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new na);var a=n.getRenderBounds();a&&r.dirtyRenderBounds.update(a.center,a.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,a){a?(D0(this.tmpMat4,r.getLocalTransform()),Ti(this.tmpMat4,a,this.tmpMat4),Ti(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(D0(this.tmpMat4,r.getWorldTransform()),Ti(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new na,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.forEach(function(o){n.add(o)}),n}}])})();LV.tag="CanvasRenderer";function ox(e,t,n,r,a,i,o){var s,l;if(e.image.nodeName==="rect"){var c=e.image.parsedStyle,u=c.width,f=c.height;l=r.contextService.getDPR();var d=r.config.offscreenCanvas;s=i.offscreenCanvasCreator.getOrCreateCanvas(d),s.width=u*l,s.height=f*l;var h=i.offscreenCanvasCreator.getOrCreateContext(d),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){a.renderDisplayObject(g,h,r,p,i)}),p.restoreStack.forEach(function(){h.restore()})}var v=o.getOrCreatePatternSync(t,e,n,s,l,t.getGeometryBounds().min,function(){t.dirty(),r.renderingService.dirtify()});return v}function sx(e,t,n,r){var a;if(e.type===ru.LinearGradient||e.type===ru.RadialGradient){var i=t.getGeometryBounds(),o=i&&i.halfExtents[0]*2||1,s=i&&i.halfExtents[1]*2||1,l=i&&i.min||[0,0];a=r.getOrCreateGradient($t($t({type:e.type},e.value),{},{min:l,width:o,height:s}),n)}return a}var am=["shadowBlur","shadowOffsetX","shadowOffsetY"],fI=["lineCap","lineJoin","miterLimit"],ca={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},dI={};function Ir(e,t,n,r){var a=r.has(t)?r.get(t):ca[t];return a!==n&&(t==="lineDash"?e.setLineDash(n):e[t]=n,r.set(t,n)),a}var ANe=(function(){function e(t){Fe(this,e),this.imagePool=t}return Be(e,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,a,i,o,s){}},{key:"applyCommonStyleToContext",value:function(n,r,a,i){var o=a?dI:i.prevObject.parsedStyle,s=r.parsedStyle;(a||s.opacity!==o.opacity)&&Ir(n,"globalAlpha",wt(s.opacity)?ca.globalAlpha:s.opacity,i.currentContext),(a||s.blend!==o.blend)&&Ir(n,"globalCompositeOperation",wt(s.blend)?ca.globalCompositeOperation:s.blend,i.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,a,i){var o=a?dI:i.prevObject.parsedStyle,s=r.parsedStyle,l=s.lineWidth,c=l===void 0?ca.lineWidth:l,u=s.fill&&!s.fill.isNone,f=s.stroke&&!s.stroke.isNone&&c>0;if(f){if(a||r.attributes.stroke!==i.prevObject.attributes.stroke){var d=!wt(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:ca.strokeStyle;Ir(n,"strokeStyle",d,i.currentContext)}(a||s.lineWidth!==o.lineWidth)&&Ir(n,"lineWidth",wt(s.lineWidth)?ca.lineWidth:s.lineWidth,i.currentContext),(a||s.lineDash!==o.lineDash)&&Ir(n,"lineDash",s.lineDash||ca.lineDash,i.currentContext),(a||s.lineDashOffset!==o.lineDashOffset)&&Ir(n,"lineDashOffset",wt(s.lineDashOffset)?ca.lineDashOffset:s.lineDashOffset,i.currentContext);for(var h=0;h<fI.length;h++){var p=fI[h];(a||s[p]!==o[p])&&Ir(n,p,wt(s[p])?ca[p]:s[p],i.currentContext)}}if(u&&(a||r.attributes.fill!==i.prevObject.attributes.fill)){var v=!wt(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:ca.fillStyle;Ir(n,"fillStyle",v,i.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,a,i){var o=r.nodeName;this.applyCommonStyleToContext(n,r,a,i),o===Se.IMAGE||this.applyStrokeFillStyleToContext(n,r,a,i)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,a,i){var o=r.parsedStyle;if(a){Ir(n,"shadowColor",o.shadowColor.toString(),i.currentContext);for(var s=0;s<am.length;s++){var l=am[s];Ir(n,l,o[l]||ca[l],i.currentContext)}}o.filter&&o.filter.length&&Ir(n,"filter",r.attributes.filter,i.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Ir(n,"shadowColor",ca.shadowColor,i.currentContext);for(var s=0;s<am.length;s++){var l=am[s];Ir(n,l,ca[l],i.currentContext)}}if(a)if(r&&o){var c=n.filter;!wt(c)&&c.indexOf("drop-shadow")>-1&&Ir(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||ca.filter,i.currentContext)}else Ir(n,"filter",ca.filter,i.currentContext)}},{key:"fillToContext",value:function(n,r,a,i,o){var s=this,l=r.parsedStyle,c=l.fill,u=l.fillRule,f=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(h){var p=Ir(n,"fillStyle",sx(h,r,n,s.imagePool),a.currentContext);f=f??p,u?n.fill(u):n.fill()});else{if(Zf(c)){var d=ox(c,r,n,r.ownerDocument.defaultView.context,i,o,this.imagePool);d&&(n.fillStyle=d,f=!0)}u?n.fill(u):n.fill()}f!==null&&Ir(n,"fillStyle",f,a.currentContext)}},{key:"strokeToContext",value:function(n,r,a,i,o){var s=this,l=r.parsedStyle.stroke,c=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(d){var h=Ir(n,"strokeStyle",sx(d,r,n,s.imagePool),a.currentContext);c=c??h,n.stroke()});else{if(Zf(l)){var u=ox(l,r,n,r.ownerDocument.defaultView.context,i,o,this.imagePool);if(u){var f=Ir(n,"strokeStyle",u,a.currentContext);c=c??f}}n.stroke()}c!==null&&Ir(n,"strokeStyle",c,a.currentContext)}},{key:"drawToContext",value:function(n,r,a,i,o){var s,l=r.nodeName,c=r.parsedStyle,u=c.opacity,f=u===void 0?ca.globalAlpha:u,d=c.fillOpacity,h=d===void 0?ca.fillOpacity:d,p=c.strokeOpacity,v=p===void 0?ca.strokeOpacity:p,g=c.lineWidth,m=g===void 0?ca.lineWidth:g,y=c.fill&&!c.fill.isNone,x=c.stroke&&!c.stroke.isNone&&m>0;if(!(!y&&!x)){var b=!wt(c.shadowColor)&&c.shadowBlur>0,_=c.shadowType==="inner",E=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,w=!!(c.filter&&c.filter.length),A=b&&x&&(l===Se.PATH||l===Se.LINE||l===Se.POLYLINE||E||_),S=null;if(y){A||this.applyShadowAndFilterStyleToContext(n,r,b,a);var O=f*h;S=Ir(n,"globalAlpha",O,a.currentContext),this.fillToContext(n,r,a,i,o),A||this.clearShadowAndFilterStyleForContext(n,b,w,a)}if(x){var k=!1,T=f*v,C=Ir(n,"globalAlpha",T,a.currentContext);if(S=y?S:C,A&&(this.applyShadowAndFilterStyleToContext(n,r,b,a),k=!0,_)){var M=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,a,i,o),n.globalCompositeOperation=M,this.clearShadowAndFilterStyleForContext(n,b,w,a,!0)}this.strokeToContext(n,r,a,i,o),k&&this.clearShadowAndFilterStyleForContext(n,b,w,a)}S!==null&&Ir(n,"globalAlpha",S,a.currentContext)}}}])})(),oT=(function(e){function t(){return Fe(this,t),Vt(this,t,arguments)}return Wt(t,e),Be(t,[{key:"render",value:function(r,a,i,o,s,l){var c=a.fill,u=a.fillRule,f=a.opacity,d=f===void 0?1:f,h=a.fillOpacity,p=h===void 0?1:h,v=a.stroke,g=a.strokeOpacity,m=g===void 0?1:g,y=a.lineWidth,x=y===void 0?1:y,b=a.lineCap,_=a.lineJoin,E=a.shadowType,w=a.shadowColor,A=a.shadowBlur,S=a.filter,O=a.miterLimit,k=c&&!c.isNone,T=v&&!v.isNone&&x>0,C=(c==null?void 0:c.alpha)===0,M=!!(S&&S.length),P=!wt(w)&&A>0,I=i.nodeName,L=E==="inner",z=T&&P&&(I===Se.PATH||I===Se.LINE||I===Se.POLYLINE||C||L);k&&(r.globalAlpha=d*p,z||lx(i,r,P),FV(r,i,c,u,o,s,l,this.imagePool),z||this.clearShadowAndFilter(r,M,P)),T&&(r.globalAlpha=d*m,r.lineWidth=x,wt(O)||(r.miterLimit=O),wt(b)||(r.lineCap=b),wt(_)||(r.lineJoin=_),z&&(L&&(r.globalCompositeOperation="source-atop"),lx(i,r,!0),L&&(GA(r,i,v,o,s,l,this.imagePool),r.globalCompositeOperation=ca.globalCompositeOperation,this.clearShadowAndFilter(r,M,!0))),GA(r,i,v,o,s,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,a,i){if(i&&(r.shadowColor="transparent",r.shadowBlur=0),a){var o=r.filter;!wt(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])})(ANe);function lx(e,t,n){var r=e.parsedStyle,a=r.filter,i=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;a&&a.length&&(t.filter=e.style.filter),n&&(t.shadowColor=i.toString(),t.shadowBlur=o||0,t.shadowOffsetX=s||0,t.shadowOffsetY=l||0)}function FV(e,t,n,r,a,i,o,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){e.fillStyle=sx(c,t,e,s),l||(r?e.fill(r):e.fill())}):(Zf(n)&&(e.fillStyle=ox(n,t,e,a,i,o,s)),l||(r?e.fill(r):e.fill()))}function GA(e,t,n,r,a,i,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(l){e.strokeStyle=sx(l,t,e,o),s||e.stroke()}):(Zf(n)&&(e.strokeStyle=ox(n,t,e,r,a,i,o)),s||e.stroke())}function SNe(e,t){var n=Dt(e,4),r=n[0],a=n[1],i=n[2],o=n[3],s=Dt(t,4),l=s[0],c=s[1],u=s[2],f=s[3],d=Math.max(r,l),h=Math.max(a,c),p=Math.min(r+i,l+u),v=Math.min(a+o,c+f);return p<=d||v<=h?null:[d,h,p-d,v-h]}function ONe(e,t){var n=Fr(tn(),[e[0],e[1],0],t),r=Fr(tn(),[e[0]+e[2],e[1],0],t),a=Fr(tn(),[e[0],e[1]+e[3],0],t),i=Fr(tn(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],a[0],i[0]),Math.min(n[1],r[1],a[1],i[1]),Math.max(n[0],r[0],a[0],i[0])-Math.min(n[0],r[0],a[0],i[0]),Math.max(n[1],r[1],a[1],i[1])-Math.min(n[1],r[1],a[1],i[1])]}var kNe=(function(e){function t(){return Fe(this,t),Vt(this,t,arguments)}return Wt(t,e),Be(t,[{key:"renderDownSampled",value:function(r,a,i,o){var s=o.src,l=o.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(s,i).then(function(){i.ownerDocument&&(i.dirty(),i.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(c){console.error(c)});return}r.drawImage(l.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,a,i,o){var s=o.src,l=o.imageCache,c=o.imageRect,u=o.drawRect,f=l.size,d=r.getTransform(),h=d.a,p=d.b,v=d.c,g=d.d,m=d.e,y=d.f;if(r.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(s,[],function(){i.ownerDocument&&(i.dirty(),i.ownerDocument.defaultView.context.renderingService.dirtify())},i).catch(function(P){console.error(P)});return}for(var x=[f[0]/c[2],f[1]/c[3]],b=[l.tileSize[0]/x[0],l.tileSize[1]/x[1]],_=[Math.floor((u[0]-c[0])/b[0]),Math.ceil((u[0]+u[2]-c[0])/b[0])],E=_[0],w=_[1],A=[Math.floor((u[1]-c[1])/b[1]),Math.ceil((u[1]+u[3]-c[1])/b[1])],S=A[0],O=A[1],k=S;k<=O;k++)for(var T=E;T<=w;T++){var C=l.tiles[k][T];if(C){var M=[Math.floor(c[0]+C.tileX*b[0]),Math.floor(c[1]+C.tileY*b[1]),Math.ceil(b[0]),Math.ceil(b[1])];r.drawImage(C.data,M[0],M[1],M[2],M[3])}}r.setTransform(h,p,v,g,m,y)}},{key:"render",value:function(r,a,i){var o=a.x,s=o===void 0?0:o,l=a.y,c=l===void 0?0:l,u=a.width,f=a.height,d=a.src,h=a.shadowColor,p=a.shadowBlur,v=this.imagePool.getImageSync(d,i),g=v==null?void 0:v.img,m=u,y=f;if(g){m||(m=g.width),y||(y=g.height);var x=!wt(h)&&p>0;lx(i,r,x);try{var b=i.ownerDocument.defaultView.getContextService().getDomElement(),_=b.width,E=b.height,w=r.getTransform(),A=w.a,S=w.b,O=w.c,k=w.d,T=w.e,C=w.f,M=m9(A,O,0,0,S,k,0,0,0,0,1,0,T,C,0,1),P=ONe([s,c,m,y],M),I=SNe([0,0,_,E],P);if(!I)return;if(!i.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(r,a,i,{image:g,drawRect:[s,c,m,y]});return}var L=P[2]/v.size[0];if(L<(v.downSamplingRate||.5)){this.renderDownSampled(r,a,i,{src:d,imageCache:v,drawRect:[s,c,m,y]});return}if(!iT.isSupportTile){t.renderFull(r,a,i,{image:g,drawRect:[s,c,m,y]});return}this.renderTile(r,a,i,{src:d,imageCache:v,imageRect:P,drawRect:I})}catch{}}}},{key:"drawToContext",value:function(r,a,i,o,s){this.render(r,a.parsedStyle,a)}}],[{key:"renderFull",value:function(r,a,i,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])})(oT),TNe=(function(e){function t(){return Fe(this,t),Vt(this,t,arguments)}return Wt(t,e),Be(t,[{key:"render",value:function(r,a,i,o,s,l){i.getBounds();var c=a.lineWidth,u=c===void 0?1:c,f=a.textAlign,d=f===void 0?"start":f,h=a.textBaseline,p=h===void 0?"alphabetic":h,v=a.lineJoin,g=v===void 0?"miter":v,m=a.miterLimit,y=m===void 0?10:m,x=a.letterSpacing,b=x===void 0?0:x,_=a.stroke,E=a.fill,w=a.fillRule,A=a.fillOpacity,S=A===void 0?1:A,O=a.strokeOpacity,k=O===void 0?1:O,T=a.opacity,C=T===void 0?1:T,M=a.metrics,P=a.x,I=P===void 0?0:P,L=a.y,z=L===void 0?0:L,N=a.dx,G=a.dy,Y=a.shadowColor,B=a.shadowBlur,F=M.font,D=M.lines,R=M.height,V=M.lineHeight,H=M.lineMetrics;r.font=F,r.lineWidth=u,r.textAlign=d==="middle"?"center":d;var j=p;j==="alphabetic"&&(j="bottom"),r.lineJoin=g,wt(y)||(r.miterLimit=y);var K=z;p==="middle"?K+=-R/2-V/2:p==="bottom"||p==="alphabetic"||p==="ideographic"?K+=-R:(p==="top"||p==="hanging")&&(K+=-V);var re=I+(N||0);K+=G||0,D.length===1&&(j==="bottom"?(j="middle",K-=.5*R):j==="top"&&(j="middle",K+=.5*R)),r.textBaseline=j;var ae=!wt(Y)&&B>0;lx(i,r,ae);for(var U=0;U<D.length;U++){var q=u/2+re;K+=V,!wt(_)&&!_.isNone&&u&&this.drawLetterSpacing(r,i,D[U],H[U],d,q,K,b,E,w,S,_,k,C,!0,o,s,l),wt(E)||this.drawLetterSpacing(r,i,D[U],H[U],d,q,K,b,E,w,S,_,k,C,!1,o,s,l)}}},{key:"drawLetterSpacing",value:function(r,a,i,o,s,l,c,u,f,d,h,p,v,g,m,y,x,b){if(u===0){m?this.strokeText(r,a,i,l,c,p,v,y,x,b):this.fillText(r,a,i,l,c,f,d,h,g,y,x,b);return}var _=r.textAlign;r.textAlign="left";var E=l;s==="center"||s==="middle"?E=l-o.width/2:(s==="right"||s==="end")&&(E=l-o.width);for(var w=Array.from(i),A=r.measureText(i).width,S=0,O=0;O<w.length;++O){var k=w[O];m?this.strokeText(r,a,k,E,c,p,v,y,x,b):this.fillText(r,a,k,E,c,f,d,h,g,y,x,b),S=r.measureText(i.substring(O+1)).width,E+=A-S+u,A=S}r.textAlign=_}},{key:"fillText",value:function(r,a,i,o,s,l,c,u,f,d,h,p){FV(r,a,l,c,d,h,p,this.imagePool,!0);var v,g=!wt(u)&&u!==1;g&&(v=r.globalAlpha,r.globalAlpha=u*f),r.fillText(i,o,s),g&&(r.globalAlpha=v)}},{key:"strokeText",value:function(r,a,i,o,s,l,c,u,f,d){GA(r,a,l,u,f,d,this.imagePool,!0);var h,p=!wt(c)&&c!==1;p&&(h=r.globalAlpha,r.globalAlpha=c),r.strokeText(i,o,s),p&&(r.globalAlpha=h)}},{key:"drawToContext",value:function(r,a,i,o,s){this.render(r,a.parsedStyle,a,a.ownerDocument.defaultView.context,o,s)}}])})(oT),CNe=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),n=Vt(this,t),n.name="canvas-renderer",n.options=r,n}return Wt(t,e),Be(t,[{key:"init",value:function(){var r,a=$t({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),i=this.context.imagePool,o=new oT(i),s=(r={},at(at(at(at(at(at(at(at(at(at(r,Se.CIRCLE,o),Se.ELLIPSE,o),Se.RECT,o),Se.IMAGE,new kNe(i)),Se.TEXT,new TNe(i)),Se.LINE,o),Se.POLYLINE,o),Se.POLYGON,o),Se.PATH,o),Se.GROUP,void 0),at(at(at(r,Se.HTML,void 0),Se.MESH,void 0),Se.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new LV(a))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])})(Fu);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.27
 * @date 7/30/2025, 1:35:38 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var BV=(function(){function e(){Fe(this,e)}return Be(e,[{key:"apply",value:function(n,r){var a=this,i=n.renderingService,o=n.renderingContext,s=n.config;this.context=n;var l=o.root.ownerDocument.defaultView,c=function(A){i.hooks.pointerMove.call(A)},u=function(A){i.hooks.pointerUp.call(A)},f=function(A){i.hooks.pointerDown.call(A)},d=function(A){i.hooks.pointerOver.call(A)},h=function(A){i.hooks.pointerOut.call(A)},p=function(A){i.hooks.pointerCancel.call(A)},v=function(A){i.hooks.pointerWheel.call(A)},g=function(A){i.hooks.click.call(A)},m=function(A){r.globalThis.document.addEventListener("pointermove",c,!0),A.addEventListener("pointerdown",f,!0),A.addEventListener("pointerleave",h,!0),A.addEventListener("pointerover",d,!0),r.globalThis.addEventListener("pointerup",u,!0),r.globalThis.addEventListener("pointercancel",p,!0)},y=function(A){A.addEventListener("touchstart",f,!0),A.addEventListener("touchend",u,!0),A.addEventListener("touchmove",c,!0),A.addEventListener("touchcancel",p,!0)},x=function(A){r.globalThis.document.addEventListener("mousemove",c,!0),A.addEventListener("mousedown",f,!0),A.addEventListener("mouseout",h,!0),A.addEventListener("mouseover",d,!0),r.globalThis.addEventListener("mouseup",u,!0)},b=function(A){r.globalThis.document.removeEventListener("pointermove",c,!0),A.removeEventListener("pointerdown",f,!0),A.removeEventListener("pointerleave",h,!0),A.removeEventListener("pointerover",d,!0),r.globalThis.removeEventListener("pointerup",u,!0),r.globalThis.removeEventListener("pointercancel",p,!0)},_=function(A){A.removeEventListener("touchstart",f,!0),A.removeEventListener("touchend",u,!0),A.removeEventListener("touchmove",c,!0),A.removeEventListener("touchcancel",p,!0)},E=function(A){r.globalThis.document.removeEventListener("mousemove",c,!0),A.removeEventListener("mousedown",f,!0),A.removeEventListener("mouseout",h,!0),A.removeEventListener("mouseover",d,!0),r.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(e.tag,function(){var w=a.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="none",w.style.msTouchAction="none"):l.supportsPointerEvents&&(w.style.touchAction="none"),l.supportsPointerEvents?m(w):x(w),l.supportsTouchEvents&&y(w),s.useNativeClickEvent&&w.addEventListener("click",g,!0),w.addEventListener("wheel",v,{passive:!0,capture:!0})}),i.hooks.destroy.tap(e.tag,function(){var w=a.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="",w.style.msTouchAction=""):l.supportsPointerEvents&&(w.style.touchAction=""),l.supportsPointerEvents?b(w):E(w),l.supportsTouchEvents&&_(w),s.useNativeClickEvent&&w.removeEventListener("click",g,!0),w.removeEventListener("wheel",v,!0)})}}])})();BV.tag="DOMInteraction";var MNe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="dom-interaction",n}return Wt(t,e),Be(t,[{key:"init",value:function(){this.addRenderingPlugin(new BV)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Fu);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var PNe="g-canvas-camera",$V=(function(){function e(){Fe(this,e),this.displayObjectHTMLElementMap=new WeakMap}return Be(e,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var a=this,i=n.camera,o=n.renderingContext,s=n.renderingService;this.context=n;var l=o.root.ownerDocument.defaultView,c=l.context.eventService.nativeHTMLMap,u=function(m,y){y.style.transform=a.joinTransformMatrix(m.getWorldTransform(),m.getOrigin())},f=function(m){var y=m.target;if(y.nodeName===Se.HTML){a.$camera||(a.$camera=a.createCamera(i));var x=a.getOrCreateEl(y);a.$camera.appendChild(x),Object.keys(y.attributes).forEach(function(b){a.updateAttribute(b,y)}),u(y,x),c.set(x,y)}},d=function(m){var y=m.target;if(y.nodeName===Se.HTML&&a.$camera){var x=a.getOrCreateEl(y);x&&(x.remove(),c.delete(x))}},h=function(m){var y=m.target;if(y.nodeName===Se.HTML){var x=m.attrName;a.updateAttribute(x,y)}},p=function(m){var y=m.target,x=y.nodeName===Se.FRAGMENT?y.childNodes:[y];x.forEach(function(b){if(b.nodeName===Se.HTML){var _=a.getOrCreateEl(b);u(b,_)}})},v=function(){if(a.$camera){var m=a.context.config,y=m.width,x=m.height;a.$camera.parentElement.style.width="".concat(y||0,"px"),a.$camera.parentElement.style.height="".concat(x||0,"px")}};s.hooks.init.tap(e.tag,function(){l.addEventListener(Go.RESIZE,v),l.addEventListener(Xt.MOUNTED,f),l.addEventListener(Xt.UNMOUNTED,d),l.addEventListener(Xt.ATTR_MODIFIED,h),l.addEventListener(Xt.BOUNDS_CHANGED,p)}),s.hooks.endFrame.tap(e.tag,function(){a.$camera&&o.renderReasons.has(h0.CAMERA_CHANGED)&&(a.$camera.style.transform=a.joinTransformMatrix(i.getOrthoMatrix()))}),s.hooks.destroy.tap(e.tag,function(){a.$camera&&a.$camera.remove(),l.removeEventListener(Go.RESIZE,v),l.removeEventListener(Xt.MOUNTED,f),l.removeEventListener(Xt.UNMOUNTED,d),l.removeEventListener(Xt.ATTR_MODIFIED,h),l.removeEventListener(Xt.BOUNDS_CHANGED,p)})}},{key:"createCamera",value:function(n){var r=this.context.config,a=r.document,i=r.width,o=r.height,s=this.context.contextService.getDomElement(),l=s.parentNode;if(l){var c=PNe,u=l.querySelector("#".concat(c));if(!u){var f=(a||document).createElement("div");f.style.overflow="hidden",f.style.pointerEvents="none",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="".concat(i||0,"px"),f.style.height="".concat(o||0,"px");var d=(a||document).createElement("div");u=d,d.id=c,d.style.position="absolute",d.style.left="".concat(s.offsetLeft||0,"px"),d.style.top="".concat(s.offsetTop||0,"px"),d.style.transformOrigin="left top",d.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),d.style.pointerEvents="none",d.style.width="100%",d.style.height="100%",f.appendChild(d),l.appendChild(f)}return u}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,a=this.displayObjectHTMLElementMap.get(n);return a||(a=(r||document).createElement("div"),n.parsedStyle.$el=a,this.displayObjectHTMLElementMap.set(n,a),n.id&&(a.id=n.id),n.name&&a.setAttribute("name",n.name),n.className&&(a.className=n.className),a.style.position="absolute",a.style["will-change"]="transform",a.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),a}},{key:"updateAttribute",value:function(n,r){var a=this.getOrCreateEl(r);switch(n){case"innerHTML":var i=r.parsedStyle.innerHTML;xr(i)?a.innerHTML=i:(a.innerHTML="",a.appendChild(i));break;case"x":a.style.left="".concat(r.parsedStyle.x,"px");break;case"y":a.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;a.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;a.style.width=nr(s)?"".concat(s,"px"):s.toString();break;case"height":var l=r.parsedStyle.height;a.style.height=nr(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;a.style["z-index"]="".concat(c);break;case"visibility":var u=r.parsedStyle.visibility;a.style.visibility=u;break;case"pointerEvents":var f=r.parsedStyle.pointerEvents,d=f===void 0?"auto":f;a.style.pointerEvents=d;break;case"opacity":var h=r.parsedStyle.opacity;a.style.opacity="".concat(h);break;case"fill":var p=r.parsedStyle.fill,v="";jy(p)?p.isNone?v="transparent":v=r.getAttribute("fill"):Array.isArray(p)?v=r.getAttribute("fill"):Zf(p),a.style.background=v;break;case"stroke":var g=r.parsedStyle.stroke,m="";jy(g)?g.isNone?m="transparent":m=r.getAttribute("stroke"):Array.isArray(g)?m=r.getAttribute("stroke"):Zf(g),a.style["border-color"]=m,a.style["border-style"]="solid";break;case"lineWidth":var y=r.parsedStyle.lineWidth;a.style["border-width"]="".concat(y||0,"px");break;case"lineDash":a.style["border-style"]="dashed";break;case"filter":var x=r.style.filter;a.style.filter=x;break;default:!wt(r.style[n])&&r.style[n]!==""&&(a.style[n]=r.style[n])}}}])})();$V.tag="HTMLRendering";var INe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="html-renderer",n}return Wt(t,e),Be(t,[{key:"init",value:function(){this.addRenderingPlugin(new $V)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Fu);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var RNe=(function(){function e(t){Fe(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return Be(e,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,a=n.canvas;if(a)this.$canvas=a,r&&a.parentElement!==r&&r.appendChild(a),this.$container=a.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=xr(r)?document.getElementById(r):r,this.$container)){var i=document.createElement("canvas");this.$container.appendChild(i),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=i}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var a=this.canvasConfig.devicePixelRatio;this.dpr=a,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,_ke(this.$canvas,n,r)),this.renderingContext.renderReasons.add(h0.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:(function(){var t=Au(Wa().mark(function r(){var a,i,o,s=arguments;return Wa().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=a.type,o=a.encoderOptions,l.abrupt("return",this.context.canvas.toDataURL(i,o));case 1:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n})()}])})(),DNe=(function(e){function t(){var n;Fe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Vt(this,t,[].concat(a)),n.name="canvas-context-register",n}return Wt(t,e),Be(t,[{key:"init",value:function(){this.context.ContextService=RNe}},{key:"destroy",value:function(){delete this.context.ContextService}}])})(Fu),jV=(function(e){function t(n){var r;return Fe(this,t),r=Vt(this,t,[n]),r.registerPlugin(new DNe),r.registerPlugin(new ENe),r.registerPlugin(new eNe),r.registerPlugin(new CNe),r.registerPlugin(new MNe),r.registerPlugin(new xNe),r.registerPlugin(new INe),r}return Wt(t,e),Be(t)})(p3e);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var zV=(function(){function e(t){Fe(this,e),this.dragndropPluginOptions=t}return Be(e,[{key:"apply",value:function(n){var r=this,a=n.renderingService,i=n.renderingContext,o=i.root.ownerDocument,s=o.defaultView,l=function(u){var f=u.target,d=f===o,h=d&&r.dragndropPluginOptions.isDocumentDraggable?o:f.closest&&f.closest("[draggable=true]");if(h){var p=!1,v=u.timeStamp,g=[u.clientX,u.clientY],m=null,y=[u.clientX,u.clientY],x=(function(){var _=Au(Wa().mark(function E(w){var A,S,O,k,T,C;return Wa().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(p){M.next=2;break}if(A=w.timeStamp-v,S=co([w.clientX,w.clientY],g),!(A<=r.dragndropPluginOptions.dragstartTimeThreshold||S<=r.dragndropPluginOptions.dragstartDistanceThreshold)){M.next=1;break}return M.abrupt("return");case 1:w.type="dragstart",h.dispatchEvent(w),p=!0;case 2:if(w.type="drag",w.dx=w.clientX-y[0],w.dy=w.clientY-y[1],h.dispatchEvent(w),y=[w.clientX,w.clientY],d){M.next=4;break}return O=r.dragndropPluginOptions.overlap==="pointer"?[w.canvasX,w.canvasY]:f.getBounds().center,M.next=3,o.elementsFromPoint(O[0],O[1]);case 3:k=M.sent,T=k[k.indexOf(f)+1],C=(T==null?void 0:T.closest("[droppable=true]"))||(r.dragndropPluginOptions.isDocumentDroppable?o:null),m!==C&&(m&&(w.type="dragleave",w.target=m,m.dispatchEvent(w)),C&&(w.type="dragenter",w.target=C,C.dispatchEvent(w)),m=C,m&&(w.type="dragover",w.target=m,m.dispatchEvent(w)));case 4:case"end":return M.stop()}},E)}));return function(w){return _.apply(this,arguments)}})();s.addEventListener("pointermove",x);var b=function(E){if(p){E.detail={preventClick:!0};var w=E.clone();m&&(w.type="drop",w.target=m,m.dispatchEvent(w)),w.type="dragend",h.dispatchEvent(w),p=!1}s.removeEventListener("pointermove",x)};f.addEventListener("pointerup",b,{once:!0}),f.addEventListener("pointerupoutside",b,{once:!0})}};a.hooks.init.tap(e.tag,function(){s.addEventListener("pointerdown",l)}),a.hooks.destroy.tap(e.tag,function(){s.removeEventListener("pointerdown",l)})}}])})();zV.tag="Dragndrop";var UV=(function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe(this,t),n=Vt(this,t),n.name="dragndrop",n.options=r,n}return Wt(t,e),Be(t,[{key:"init",value:function(){this.addRenderingPlugin(new zV($t({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])})(Fu),NNe="*",HV=(function(){function e(){this._events={}}return e.prototype.on=function(t,n,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!r}),this},e.prototype.once=function(t,n){return this.on(t,n,!0)},e.prototype.emit=function(t){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=this._events[t]||[],o=this._events[NNe]||[],s=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var f=l[u],d=f.callback,h=f.once;h&&(l.splice(u,1),l.length===0&&delete n._events[t],c--,u--),d.apply(n,r)}};s(i),s(o)},e.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var r=this._events[t]||[],a=r.length,i=0;i<a;i++)r[i].callback===n&&(r.splice(i,1),a--,i--);r.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e})();const Dn={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},LNe={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class da extends Error{constructor(t,n,r){super(t),this.position=n,this.token=r,this.name="ExpressionError"}}var Lt;(function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.NULL=3]="NULL",e[e.IDENTIFIER=4]="IDENTIFIER",e[e.OPERATOR=5]="OPERATOR",e[e.FUNCTION=6]="FUNCTION",e[e.DOT=7]="DOT",e[e.BRACKET_LEFT=8]="BRACKET_LEFT",e[e.BRACKET_RIGHT=9]="BRACKET_RIGHT",e[e.PAREN_LEFT=10]="PAREN_LEFT",e[e.PAREN_RIGHT=11]="PAREN_RIGHT",e[e.COMMA=12]="COMMA",e[e.QUESTION=13]="QUESTION",e[e.COLON=14]="COLON",e[e.DOLLAR=15]="DOLLAR"})(Lt||(Lt={}));const FNe=new Set([32,9,10,13]),BNe=new Set([43,45,42,47,37,33,38,124,61,60,62]),$Ne=new Map([["true",Lt.BOOLEAN],["false",Lt.BOOLEAN],["null",Lt.NULL]]),h_=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),jNe=new Map([[46,Lt.DOT],[91,Lt.BRACKET_LEFT],[93,Lt.BRACKET_RIGHT],[40,Lt.PAREN_LEFT],[41,Lt.PAREN_RIGHT],[44,Lt.COMMA],[63,Lt.QUESTION],[58,Lt.COLON],[36,Lt.DOLLAR]]),VV=new Map;for(const[e,t]of jNe.entries())VV.set(e,{type:t,value:String.fromCharCode(e)});function bp(e){return e>=48&&e<=57}function YA(e){return e>=97&&e<=122||e>=65&&e<=90||e===95}function hI(e){return YA(e)||bp(e)}function zNe(e){return BNe.has(e)}var Dr;(function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"})(Dr||(Dr={}));const UNe=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),HNe={type:Dr.Literal,value:null},VNe={type:Dr.Literal,value:!0},WNe={type:Dr.Literal,value:!1},GNe=e=>{let t=0;const n=e.length,r=()=>t>=n?null:e[t],a=()=>e[t++],i=f=>{const d=r();return d!==null&&d.type===f},o=f=>f.type===Lt.OPERATOR?UNe.get(f.value)||-1:f.type===Lt.DOT||f.type===Lt.BRACKET_LEFT?9:f.type===Lt.QUESTION?1:-1,s=f=>{let d,h;if(a().type===Lt.DOT){if(!i(Lt.IDENTIFIER)){const v=r();throw new da("Expected property name",t,v?v.value:"<end of input>")}const p=a();d={type:Dr.Identifier,name:p.value},h=!1}else{if(d=c(0),!i(Lt.BRACKET_RIGHT)){const p=r();throw new da("Expected closing bracket",t,p?p.value:"<end of input>")}a(),h=!0}return{type:Dr.MemberExpression,object:f,property:d,computed:h}},l=()=>{const f=r();if(!f)throw new da("Unexpected end of input",t,"<end of input>");if(f.type===Lt.OPERATOR&&(f.value==="!"||f.value==="-")){a();const d=l();return{type:Dr.UnaryExpression,operator:f.value,argument:d,prefix:!0}}switch(f.type){case Lt.NUMBER:return a(),{type:Dr.Literal,value:Number(f.value)};case Lt.STRING:return a(),{type:Dr.Literal,value:f.value};case Lt.BOOLEAN:return a(),f.value==="true"?VNe:WNe;case Lt.NULL:return a(),HNe;case Lt.IDENTIFIER:return a(),{type:Dr.Identifier,name:f.value};case Lt.FUNCTION:return(()=>{const d=a(),h=[];if(!i(Lt.PAREN_LEFT)){const p=r();throw new da("Expected opening parenthesis after function name",t,p?p.value:"<end of input>")}for(a();;){if(i(Lt.PAREN_RIGHT)){a();break}if(!r()){const v=r();throw new da("Expected closing parenthesis",t,v?v.value:"<end of input>")}if(h.length>0){if(!i(Lt.COMMA)){const v=r();throw new da("Expected comma between function arguments",t,v?v.value:"<end of input>")}a()}const p=c(0);h.push(p)}return{type:Dr.CallExpression,callee:{type:Dr.Identifier,name:d.value},arguments:h}})();case Lt.PAREN_LEFT:{a();const d=c(0);if(!i(Lt.PAREN_RIGHT)){const h=r();throw new da("Expected closing parenthesis",t,h?h.value:"<end of input>")}return a(),d}default:throw new da(`Unexpected token: ${f.type}`,t,f.value)}},c=(f=0)=>{let d=l();for(;t<n;){const h=e[t],p=o(h);if(p<=f)break;if(h.type!==Lt.QUESTION)if(h.type!==Lt.OPERATOR){if(h.type!==Lt.DOT&&h.type!==Lt.BRACKET_LEFT)break;d=s(d)}else{a();const v=c(p);d={type:Dr.BinaryExpression,operator:h.value,left:d,right:v}}else{a();const v=c(0);if(!i(Lt.COLON)){const m=r();throw new da("Expected : in conditional expression",t,m?m.value:"<end of input>")}a();const g=c(0);d={type:Dr.ConditionalExpression,test:d,consequent:v,alternate:g}}}return d},u=c();return{type:Dr.Program,body:u}},YNe=(e,t,n)=>{let r=t;n&&(r={...t,context:{...t.context,...n}});const a=i=>{switch(i.type){case Dr.Literal:return(o=>o.value)(i);case Dr.Identifier:return(o=>{if(!(o.name in r.context))throw new da(`Undefined variable: ${o.name}`);return r.context[o.name]})(i);case Dr.MemberExpression:return(o=>{const s=a(o.object);if(s==null)throw new da("Cannot access property of null or undefined");return s[o.computed?a(o.property):o.property.name]})(i);case Dr.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new da(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map((l=>a(l))))})(i);case Dr.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=a(o.left);return c&&a(o.right)}if(o.operator==="||")return a(o.left)||a(o.right);const s=a(o.left),l=a(o.right);switch(o.operator){case"+":return s+l;case"-":return s-l;case"*":return s*l;case"/":return s/l;case"%":return s%l;case"===":return s===l;case"!==":return s!==l;case">":return s>l;case">=":return s>=l;case"<":return s<l;case"<=":return s<=l;default:throw new da(`Unknown operator: ${o.operator}`)}})(i);case Dr.UnaryExpression:return(o=>{const s=a(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new da(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new da(`Unknown operator: ${o.operator}`)}throw new da(`Postfix operators are not supported: ${o.operator}`)})(i);case Dr.ConditionalExpression:return(o=>{const s=a(o.test);return a(s?o.consequent:o.alternate)})(i);default:throw new da(`Evaluation error: Unsupported node type: ${i.type}`)}};return a(e.body)};function XNe(e){const t=(a=>{const i=a,o=i.length,s=new Array(Math.ceil(o/3));let l=0,c=0;function u(g){const m=c+1;c++;let y="",x=!1;for(;c<o;){const b=i.charCodeAt(c);if(b===g)return x||(y=i.substring(m,c)),c++,{type:Lt.STRING,value:y};b===92?(x||(y=i.substring(m,c),x=!0),c++,y+=i[c]):x&&(y+=i[c]),c++}throw new da(`Unterminated string starting with ${String.fromCharCode(g)}`,c,i.substring(Math.max(0,c-10),c))}function f(){const g=c;for(i.charCodeAt(c)===45&&c++;c<o&&bp(i.charCodeAt(c));)c++;if(c<o&&i.charCodeAt(c)===46)for(c++;c<o&&bp(i.charCodeAt(c));)c++;const m=i.slice(g,c);return{type:Lt.NUMBER,value:m}}function d(){c++;const g=c;if(c<o&&YA(i.charCodeAt(c)))for(c++;c<o&&hI(i.charCodeAt(c));)c++;const m=i.slice(g,c);return{type:Lt.FUNCTION,value:m}}function h(){const g=c++;for(;c<o&&hI(i.charCodeAt(c));)c++;const m=i.slice(g,c),y=$Ne.get(m);return y?{type:y,value:m}:{type:Lt.IDENTIFIER,value:m}}function p(){if(c+2<o){const m=i.substring(c,c+3);if(h_.has(m))return c+=3,{type:Lt.OPERATOR,value:m}}if(c+1<o){const m=i.substring(c,c+2);if(h_.has(m))return c+=2,{type:Lt.OPERATOR,value:m}}const g=i[c];if(h_.has(g))return c++,{type:Lt.OPERATOR,value:g};throw new da(`Unknown operator at position ${c}: ${i.substring(c,c+1)}`,c,i.substring(Math.max(0,c-10),c))}for(;c<o;){const g=i.charCodeAt(c);if(v=g,FNe.has(v)){c++;continue}const m=VV.get(g);if(m)s[l++]=m,c++;else if(g!==34&&g!==39)if(bp(g)||g===45&&c+1<o&&bp(i.charCodeAt(c+1)))s[l++]=f();else if(g!==64)if(YA(g))s[l++]=h();else{if(!zNe(g))throw new da(`Unexpected character: ${i[c]}`,c,i.substring(Math.max(0,c-10),c));s[l++]=p()}else s[l++]=d();else s[l++]=u(g)}var v;return l===s.length?s:s.slice(0,l)})(e),n=GNe(t),r=((a={},i={})=>({context:a,functions:i}))({},LNe);return(a={})=>YNe(n,r,a)}const qNe=["style","encode","labels","children"],KNe=OU(e=>{const t=XNe(e);return(...n)=>{const r=Array.from({length:n.length},(i,o)=>String.fromCharCode(97+o)),a=Object.fromEntries(n.map((i,o)=>[r[o],i]));return t(Object.assign(Object.assign({},a),{global:Object.assign({},a)}))}},e=>e,128);function $m(e,t=!0){if(Array.isArray(e))return e.map((n,r)=>$m(e[r],t));if(typeof e=="object"&&e)return rwe(e,(n,r)=>t&&qNe.includes(r)?$m(n,r==="children"):t?n:$m(n,!1));if(typeof e=="string"){const n=e.trim();if(n.startsWith("{")&&n.endsWith("}"))return KNe(n.slice(1,-1))}return e}const ZNe=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],QNe=["lineX","lineY","rangeX","rangeY","range","connector"];var JNe={}.toString,Z2=function(e,t){return JNe.call(e)==="[object "+t+"]"};const WV=(function(e){return Z2(e,"Function")}),GV=(function(e){return Array.isArray?Array.isArray(e):Z2(e,"Array")}),eLe=(function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"});function tLe(e,t){if(e){var n;if(GV(e))for(var r=0,a=e.length;r<a&&(n=t(e[r],r),n!==!1);r++);else if(eLe(e)){for(var i in e)if(e.hasOwnProperty(i)&&(n=t(e[i],i),n===!1))break}}}var nLe=function(e){return typeof e=="object"&&e!==null},pI=function(e){if(!nLe(e)||!Z2(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};const rLe=(function(e){return Z2(e,"String")});var aLe=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return tLe(e,function(n,r){WV(e)&&r==="prototype"||t.push(n)}),t};const iLe=(function(e,t){if(!WV(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return o.set(i,s),s};return n.cache=new Map,n});var oLe=5;function YV(e,t,n,r){n=n||0,r=r||oLe;for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];i!==null&&pI(i)?(pI(e[a])||(e[a]={}),n<r?YV(e[a],i,n+1,r):e[a]=t[a]):GV(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var XV=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)YV(e,t[r]);return e};const sT=(function(e){return e});var im;iLe(function(e,t){t===void 0&&(t={});var n=t.fontSize,r=t.fontFamily,a=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return im||(im=document.createElement("canvas").getContext("2d")),im.font=[i,o,a,n+"px",r].join(" "),im.measureText(rLe(e)?e:"").width},function(e,t){return t===void 0&&(t={}),Zwe([e],aLe(t)).join("")});function qV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?t.reduce(function(r,a){return function(i){return a(r(i))}},e):sT}function KV(e){return e instanceof Float32Array||e instanceof Array}var ZV=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},QV=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function sLe(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=2){var a=[t[r],t[r+1]],i=e(a);n.push.apply(n,QV([],ZV(i),!1))}return n}}function lLe(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=3){var a=[t[r],t[r+1],t[r+2]],i=e(a);n.push.apply(n,QV([],ZV(i),!1))}return n}}function JV(e,t,n){for(;e<t;)e+=Math.PI*2;for(;e>n;)e-=Math.PI*2;return e}var cLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},uLe=function(e,t,n,r,a){var i=cLe(e,2),o=i[0],s=i[1],l=hh();return dwe(l,[o,s])},vI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},fLe=function(e,t,n,r,a){var i=new Ya({range:[t,t+r]}),o=new Ya({range:[n,n+a]});return{transform:function(s){var l=vI(s,2),c=l[0],u=l[1];return[i.map(c),o.map(u)]},untransform:function(s){var l=vI(s,2),c=l[0],u=l[1];return[i.invert(c),o.invert(u)]}}},dLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},hLe=function(e,t,n,r,a){var i=dLe(e,1),o=i[0];return o(t,n,r,a)},pLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},vLe=function(e,t,n,r,a){var i=pLe(e,1),o=i[0];return o},p_=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},gLe=function(e,t,n,r,a){var i=p_(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=new Ya({range:[l,c]}),f=new Ya({range:[o,s]}),d=a/r,h=d>1?1:d,p=d>1?1/d:1;return{transform:function(v){var g=p_(v,2),m=g[0],y=g[1],x=f.map(m),b=u.map(y),_=b*Math.cos(x)*h,E=b*Math.sin(x)*p,w=_*.5+.5,A=E*.5+.5;return[w,A]},untransform:function(v){var g=p_(v,2),m=g[0],y=g[1],x=(m-.5)*2/h,b=(y-.5)*2/p,_=Math.sqrt(Math.pow(x,2)+Math.pow(b,2)),E=Math.atan2(b,x),w=JV(E,o,s),A=f.invert(w),S=u.invert(_);return[A,S]}}},gI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},mLe=function(e,t,n,r,a){return{transform:function(i){var o=gI(i,2),s=o[0],l=o[1];return[l,s]},untransform:function(i){var o=gI(i,2),s=o[0],l=o[1];return[l,s]}}},yLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Q2=function(e,t,n,r,a){var i=yLe(e,2),o=i[0],s=i[1],l=hh();return pwe(l,[o,s])},lT=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},cT=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},xLe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Q2.apply(void 0,cT([[-1,-1]],lT(t),!1))},bLe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Q2.apply(void 0,cT([[-1,1]],lT(t),!1))},wLe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Q2.apply(void 0,cT([[1,-1]],lT(t),!1))},_Le=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},ELe=function(e,t,n,r,a){var i=_Le(e,1),o=i[0],s=hh();return hwe(s,o)},v_=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},ALe=function(e,t,n,r,a){var i=v_(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=(s-0)/(2*Math.PI)+1,f=(c-l)/u,d=f/(Math.PI*2),h=new Ya({range:[l,l+f*.99]}),p=new Ya({range:[o,s]}),v=a/r,g=v>1?1:v,m=v>1?1/v:1;return{transform:function(y){var x=v_(y,2),b=x[0],_=x[1],E=p.map(b),w=h.map(_),A=Math.cos(E)*(d*E+w)*g,S=Math.sin(E)*(d*E+w)*m,O=A*.5+.5,k=S*.5+.5;return[O,k]},untransform:function(y){var x=v_(y,2),b=x[0],_=x[1],E=(b-.5)*2/g,w=(_-.5)*2/m,A=Math.sqrt(Math.pow(E,2)+Math.pow(w,2)),S=Math.atan2(w,E)+Math.floor(A/f)*Math.PI*2,O=JV(S,o,s),k=A-d*O,T=p.invert(O),C=h.invert(k);return[T,C]}}},SLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},OLe=function(e,t,n,r,a){var i=SLe(e,4),o=i[0],s=i[1],l=i[2],c=i[3],u=new Ya({range:[l,c]});return{transform:function(f){for(var d=[],h=f.length,p=new m8e({domain:new Array(h).fill(0).map(function(x,b){return b}),range:[o,s]}),v=0;v<h;v++){var g=f[v],m=p.map(v),y=u.map(g);d.push(m,y)}return d},untransform:function(f){for(var d=[],h=0;h<f.length;h+=2){var p=f[h+1];d.push(u.invert(p))}return d}}},p0=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function eW(e){return 1/Math.tan(e)}var kLe=function(e,t,n,r,a){var i=p0(e,1),o=i[0],s=eW(o);return{transform:function(l){var c=p0(l,2),u=c[0],f=c[1],d=u+f*s;return[d,f]},untransform:function(l){var c=p0(l,2),u=c[0],f=c[1],d=u-f*s;return[d,f]}}},TLe=function(e,t,n,r,a){var i=p0(e,1),o=i[0],s=eW(o);return{transform:function(l){var c=p0(l,2),u=c[0],f=c[1],d=f+u*s;return[u,d]},untransform:function(l){var c=p0(l,2),u=c[0],f=c[1],d=f-u*s;return[u,d]}}},rs=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function V1(e,t,n,r,a){var i=e<t,o=(i?t-r:a-t)||a-r,s=i?-1:1;return s*o*(n+1)/(n+o/((e-t)*s))+t}function W1(e,t,n,r,a){var i=e<t,o=(i?t-r:a-t)||a-r,s=i?-1:1;return o/(o*(n+1)/(e-t)-n*s)+t}function cx(e,t,n){if(!n)return e;var r=new Ya({range:[0,1],domain:[0,t]});return r.map(e)}var CLe=function(e,t,n,r,a){var i=rs(e,3),o=i[0],s=i[1],l=i[2],c=l===void 0?!1:l,u=cx(o,r,c);return{transform:function(f){var d=rs(f,2),h=d[0],p=d[1],v=V1(h,u,s,0,1);return[v,p]},untransform:function(f){var d=rs(f,2),h=d[0],p=d[1],v=W1(h,u,s,0,1);return[v,p]}}},MLe=function(e,t,n,r,a){var i=rs(e,3),o=i[0],s=i[1],l=i[2],c=l===void 0?!1:l,u=cx(o,a,c);return{transform:function(f){var d=rs(f,2),h=d[0],p=d[1],v=V1(p,u,s,0,1);return[h,v]},untransform:function(f){var d=rs(f,2),h=d[0],p=d[1],v=W1(p,u,s,0,1);return[h,v]}}},PLe=function(e,t,n,r,a){var i=rs(e,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],f=u===void 0?!1:u,d=cx(o,r,f),h=cx(s,a,f);return{transform:function(p){var v=rs(p,2),g=v[0],m=v[1],y=V1(g,d,l,0,1),x=V1(m,h,c,0,1);return[y,x]},untransform:function(p){var v=rs(p,2),g=v[0],m=v[1],y=W1(g,d,l,0,1),x=W1(m,h,c,0,1);return[y,x]}}},ILe=function(e,t,n,r,a){var i=rs(e,5),o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],f=u===void 0?!1:u,d=new Ya({range:[0,r]}),h=new Ya({range:[0,a]}),p=f?o:d.map(o),v=f?s:h.map(s);return{transform:function(g){var m=rs(g,2),y=m[0],x=m[1],b=d.map(y)-p,_=h.map(x)-v,E=Math.sqrt(b*b+_*_);if(E>l)return[y,x];var w=V1(E,0,c,0,l),A=Math.atan2(_,b),S=p+w*Math.cos(A),O=v+w*Math.sin(A);return[d.invert(S),h.invert(O)]},untransform:function(g){var m=rs(g,2),y=m[0],x=m[1],b=d.map(y)-p,_=h.map(x)-v,E=Math.sqrt(b*b+_*_);if(E>l)return[y,x];var w=W1(E,0,c,0,l),A=Math.atan2(_,b),S=p+w*Math.cos(A),O=v+w*Math.sin(A);return[d.invert(S),h.invert(O)]}}},mI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},RLe=function(e,t,n,r,a,i,o){var s=new Ya({range:[t,t+a]}),l=new Ya({range:[n,n+i]}),c=new Ya({range:[r,r+o]});return{transform:function(u){var f=mI(u,3),d=f[0],h=f[1],p=f[2];return[s.map(d),l.map(h),c.map(p)]},untransform:function(u){var f=mI(u,3),d=f[0],h=f[1],p=f[2];return[s.invert(d),l.invert(h),c.invert(p)]}}},DLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},NLe=function(e,t,n,r,a,i,o){var s=DLe(e,3),l=s[0],c=s[1],u=s[2];return ic(Cn(),[l,c,u])},yI=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},LLe=function(e,t,n,r,a,i,o){return{transform:function(s){var l=yI(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]},untransform:function(s){var l=yI(s,3),c=l[0],u=l[1],f=l[2];return[u,c,f]}}},FLe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},BLe=function(e,t,n,r,a,i,o){var s=FLe(e,3),l=s[0],c=s[1],u=s[2];return Kc(Cn(),[l,c,u])},Id=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Rd=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},$Le=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jLe=(function(){function e(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:fLe,translate:uLe,custom:hLe,matrix:vLe,polar:gLe,transpose:mLe,scale:Q2,"shear.x":kLe,"shear.y":TLe,reflect:xLe,"reflect.x":bLe,"reflect.y":wLe,rotate:ELe,helix:ALe,parallel:OLe,fisheye:PLe,"fisheye.x":CLe,"fisheye.y":MLe,"fisheye.circular":ILe},this.update(t)}return e.prototype.update=function(t){this.options=XV({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height;return[n,r]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,a=t.width,i=t.height;return[(n*2+a)/2,(r*2+i)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Rd(Rd([],Id(r),!1),[Rd([],Id(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var a=t?Rd([],Id(this.options.transformations),!1).reverse():this.options.transformations,i=t?function(w){return w.untransform}:function(w){return w.transform},o=[],s=[],l=function(w,A){return A===void 0&&(A=!0),s.push(A?sLe(w):w)};try{for(var c=$Le(a),u=c.next();!u.done;u=c.next()){var f=Id(u.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.width,x=v.height,b=p(Rd([],Id(h),!1),g,m,y,x);if(KV(b))o.push(b);else{if(o.length){var _=this.createMatrixTransform(o,t);l(_),o.splice(0,o.length)}var E=i(b)||sT;l(E,d!=="parallel")}}}}catch(w){n={error:w}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var E=this.createMatrixTransform(o,t);l(E)}return qV.apply(void 0,Rd([],Id(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=hh();return n&&t.reverse(),t.forEach(function(a){return vwe(r,r,a)}),n&&uwe(r,lwe(r)),function(a){var i=[a[0],a[1],1];return R9(i,i,r),[i[0],i[1]]}},e})(),Dd=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Nd=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},zLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ULe=(function(){function e(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:RLe,translate3D:NLe,scale3D:BLe,transpose3D:LLe},this.update(t)}return e.prototype.update=function(t){this.options=XV({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height,a=t.depth;return[n,r,a]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,a=t.z,i=t.width,o=t.height,s=t.depth;return[(n*2+i)/2,(r*2+o)/2,(a*2+s)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Nd(Nd([],Dd(r),!1),[Nd([],Dd(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var a=t?Nd([],Dd(this.options.transformations),!1).reverse():this.options.transformations,i=t?function(S){return S.untransform}:function(S){return S.transform},o=[],s=[],l=function(S,O){return O===void 0&&(O=!0),s.push(O?lLe(S):S)};try{for(var c=zLe(a),u=c.next();!u.done;u=c.next()){var f=Dd(u.value),d=f[0],h=f.slice(1),p=this.transformers[d];if(p){var v=this.options,g=v.x,m=v.y,y=v.z,x=v.width,b=v.height,_=v.depth,E=p(Nd([],Dd(h),!1),g,m,y,x,b,_);if(KV(E))o.push(E);else{if(o.length){var w=this.createMatrixTransform(o,t);l(w),o.splice(0,o.length)}var A=i(E)||sT;l(A,!0)}}}}catch(S){n={error:S}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var A=this.createMatrixTransform(o,t);l(A)}return qV.apply(void 0,Nd([],Dd(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=Cn();return n&&t.reverse(),t.forEach(function(a){return oO(r,r,a)}),n&&Rs(r,aO(r)),function(a){var i=[a[0],a[1],a[2],1];return _l(i,i,r),[i[0],i[1],i[2]]}},e})(),HLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function jv(e){return(t,...n)=>Me({},e(t,...n),t)}function bd(e){return(t,...n)=>Me({},t,e(t,...n))}function VLe(e){return e instanceof Date?!1:typeof e=="object"}function J2(e,t){if(!e)return t;if(Array.isArray(e))return e;if(VLe(e)){const{value:n=t}=e,r=HLe(e,["value"]);return Object.assign(Object.assign({},r),{value:n})}return e}var WLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const tW=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{x:n=0,y:r=0,width:a,height:i,data:o}=e;return t.map(s=>{var{data:l,x:c,y:u,width:f,height:d}=s,h=WLe(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},h),{data:J2(l,o),x:c??n,y:u??r,width:f??a,height:d??i})})};tW.props={};var GLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const nW=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{direction:n="row",ratio:r=t.map(()=>1),padding:a=0,data:i}=e,[o,s,l,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((v,g)=>v+g),f=e[s]-a*(t.length-1),d=r.map(v=>f*(v/u)),h=[];let p=e[o]||0;for(let v=0;v<d.length;v+=1){const g=t[v],{data:m}=g,y=GLe(g,["data"]),x=J2(m,i);h.push(Object.assign({[o]:p,[s]:d[v],[c]:e[c]||0,[l]:e[l],data:x},y)),p+=d[v]+a}return h};nW.props={};var g_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const rW=()=>e=>{const{children:t}=e,n=g_(e,["children"]);if(!Array.isArray(t))return[];const{data:r,scale:a={},axis:i={},legend:o={},encode:s={},transform:l=[],slider:c={}}=n,u=g_(n,["data","scale","axis","legend","encode","transform","slider"]),f=t.map(d=>{var{data:h,scale:p={},axis:v={},legend:g={},encode:m={},transform:y=[],slider:x={}}=d,b=g_(d,["data","scale","axis","legend","encode","transform","slider"]);return Object.assign({data:J2(h,r),scale:Me({},a,p),encode:Me({},s,m),transform:[...l,...y],axis:v&&i?Me({},i,v):!1,legend:g&&o?Me({},o,g):!1,slider:Me({},c,x)},b)});return[Object.assign(Object.assign({},u),{marks:f,type:"standardView",slider:c})]};rW.props={};var YLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const aW=({static:e=!1}={})=>t=>{const{width:n,height:r,depth:a,paddingLeft:i,paddingRight:o,paddingTop:s,paddingBottom:l,padding:c,inset:u,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:x,data:b,coordinate:_,theme:E,component:w,interaction:A,x:S,y:O,z:k,key:T,frame:C,labelTransform:M,parentKey:P,clip:I,viewStyle:L,title:z}=t,N=YLe(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:S,y:O,z:k,key:T,width:n,height:r,depth:a,padding:c,paddingLeft:i,paddingRight:o,paddingTop:s,inset:u,insetLeft:f,insetTop:d,insetRight:h,insetBottom:p,paddingBottom:l,theme:E,coordinate:_,component:w,interaction:A,frame:C,labelTransform:M,margin:v,marginLeft:g,marginBottom:m,marginTop:y,marginRight:x,parentKey:P,clip:I,style:L},!e&&{title:z}),{marks:[Object.assign(Object.assign(Object.assign({},N),{key:`${T}-0`,data:b}),e&&{title:z})]})]};aW.props={};class zv{constructor(t){this.$value=t}static of(t){return new zv(t)}call(t,...n){return this.$value=t(this.$value,...n),this}value(){return this.$value}}var XLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const qLe=jv(e=>{const{encode:t,data:n,scale:r,shareSize:a=!1}=e,{x:i,y:o}=t,s=(l,c)=>{var u;if(l===void 0||!a)return{};const f=er(n,p=>p[l]),d=((u=r==null?void 0:r[c])===null||u===void 0?void 0:u.domain)||Array.from(f.keys()),h=d.map(p=>f.has(p)?f.get(p).length:1);return{domain:d,flex:h}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:i===void 0?null:{position:"top"}},i===void 0&&{paddingInner:0}),s(i,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),uT=bd(e=>{const{data:t,scale:n,legend:r}=e,a=[e];let i,o,s;for(;a.length;){const d=a.shift(),{children:h,encode:p={},scale:v={},legend:g={}}=d,{color:m}=p,{color:y}=v,{color:x}=g;m!==void 0&&(i=m),y!==void 0&&(o=y),x!==void 0&&(s=x),Array.isArray(h)&&a.push(...h)}const l=()=>{var d;const h=(d=n==null?void 0:n.color)===null||d===void 0?void 0:d.domain;if(h!==void 0)return[h];if(i===void 0)return[void 0];const p=typeof i=="function"?i:g=>g[i],v=t.map(p);return v.some(g=>typeof g=="number")?[mc(v)]:[Array.from(new Set(v)),"ordinal"]},c=typeof i=="string"?i:"",[u,f]=l();return Object.assign({encode:{color:{type:"column",value:u??[]}},scale:{color:Me({},o,{domain:u,type:f})}},r===void 0&&{legend:{color:Me({title:c},s)}})}),fT=jv(()=>({animate:{enterType:"fadeIn"}})),dT=bd(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),hT=bd(()=>({type:"cell"})),iW=bd(e=>{const{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{const{data:r,encode:a}=e,{x:i,y:o}=a,s=i?Array.from(new Set(r.map(u=>u[i]))):[],l=o?Array.from(new Set(r.map(u=>u[o]))):[];return(()=>{if(s.length&&l.length){const u=[];for(const f of s)for(const d of l)u.push({[i]:f,[o]:d});return u}if(s.length)return s.map(u=>({[i]:u}));if(l.length)return l.map(u=>({[o]:u}))})()}}]}}}),oW=bd((e,t=KLe,n=ZLe,r=QLe,a={})=>{const{data:i,encode:o,children:s,scale:l,x:c=0,y:u=0,shareData:f=!1,key:d}=e,{value:h}=i,{x:p,y:v}=o,{color:g}=l,{domain:m}=g;return{children:(x,b,_)=>{const{x:E,y:w}=b,{paddingLeft:A,paddingTop:S,marginLeft:O,marginTop:k}=_,{domain:T}=E.getOptions(),{domain:C}=w.getOptions(),M=hd(x),P=x.map(t),I=x.map(({x:B,y:F})=>[E.invert(B),w.invert(F)]),z=I.map(([B,F])=>D=>{const{[p]:R,[v]:V}=D;return(p!==void 0?R===B:!0)&&(v!==void 0?V===F:!0)}).map(B=>h.filter(B)),N=f?Mn(z,B=>B.length):void 0,G=I.map(([B,F])=>({columnField:p,columnIndex:T.indexOf(B),columnValue:B,columnValuesLength:T.length,rowField:v,rowIndex:C.indexOf(F),rowValue:F,rowValuesLength:C.length})),Y=G.map(B=>Array.isArray(s)?s:[s(B)].flat(1));return M.flatMap(B=>{const[F,D,R,V]=P[B],H=G[B],j=z[B];return Y[B].map(re=>{var ae,U,{scale:q,key:J,facet:X=!0,axis:ce={},legend:te={}}=re,he=XLe(re,["scale","key","facet","axis","legend"]);const me=((ae=q==null?void 0:q.y)===null||ae===void 0?void 0:ae.guide)||ce.y,xe=((U=q==null?void 0:q.x)===null||U===void 0?void 0:U.guide)||ce.x,be={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},De=X?j:j.length===0?[]:h,ue={color:{domain:m}},ve={x:xI(xe,n)(H,De),y:xI(me,r)(H,De)};return Object.assign(Object.assign({key:`${J}-${B}`,data:De,margin:0,x:F+A+c+O,y:D+S+u+k,parentKey:d,width:R,height:V,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!De.length,dataDomain:N,scale:Me(be,q,ue),axis:Me({},ce,ve),legend:!1},he),a)})})}}});function KLe(e){const{points:t}=e;return kO(t)}function eb(e,t){return t.length?Me({title:!1,tick:null,label:null},e):Me({title:!1,tick:null,label:null,grid:null},e)}function ZLe(e){return(t,n)=>{const{rowIndex:r,rowValuesLength:a,columnIndex:i,columnValuesLength:o}=t;if(r!==a-1)return eb(e,n);const s=i!==o-1?!1:void 0,l=n.length?void 0:null;return Me({title:s,grid:l},e)}}function QLe(e){return(t,n)=>{const{rowIndex:r,columnIndex:a}=t;if(a!==0)return eb(e,n);const i=r!==0?!1:void 0,o=n.length?void 0:null;return Me({title:i,grid:o},e)}}function xI(e,t){return typeof e=="function"?e:e===null||e===!1?()=>null:t(e)}const sW=()=>e=>[zv.of(e).call(hT).call(uT).call(fT).call(qLe).call(dT).call(iW).call(oW).value()];sW.props={};var XA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const JLe=jv(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),e7e=bd(e=>{const{data:t,children:n,x:r=0,y:a=0,key:i}=e;return{children:(s,l,c)=>{const{x:u,y:f}=l,{paddingLeft:d,paddingTop:h,marginLeft:p,marginTop:v}=c,{domain:g}=u.getOptions(),{domain:m}=f.getOptions(),y=hd(s),x=s.map(({points:w})=>kO(w)),b=s.map(({x:w,y:A})=>[u.invert(w),f.invert(A)]),_=b.map(([w,A])=>({columnField:w,columnIndex:g.indexOf(w),columnValue:w,columnValuesLength:g.length,rowField:A,rowIndex:m.indexOf(A),rowValue:A,rowValuesLength:m.length})),E=_.map(w=>Array.isArray(n)?n:[n(w)].flat(1));return y.flatMap(w=>{const[A,S,O,k]=x[w],[T,C]=b[w],M=_[w];return E[w].map(I=>{var L,z;const{scale:N,key:G,encode:Y,axis:B,interaction:F}=I,D=XA(I,["scale","key","encode","axis","interaction"]),R=(L=N==null?void 0:N.y)===null||L===void 0?void 0:L.guide,V=(z=N==null?void 0:N.x)===null||z===void 0?void 0:z.guide,H={x:{facet:!1},y:{facet:!1}},j={x:n7e(V)(M,t),y:r7e(R)(M,t)},K={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:t,parentKey:i,key:`${G}-${w}`,x:A+d+r+p,y:S+h+a+v,width:O,height:k,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Me(H,N),axis:Me(K,B,j),legend:!1,encode:Me({},Y,{x:T,y:C}),interaction:Me({},F,{legendFilter:!1})},D)})})}}}),t7e=bd(e=>{const{encode:t}=e,n=XA(e,["encode"]),{position:r=[],x:a=r,y:i=[...r].reverse()}=t,o=XA(t,["position","x","y"]),s=[];for(const l of[a].flat(1))for(const c of[i].flat(1))s.push({$x:l,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[a].flat(1).length===1&&{x:{paddingInner:0}}),[i].flat(1).length===1&&{y:{paddingInner:0}})})});function n7e(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{rowIndex:r,rowValuesLength:a}=t;if(r!==a-1)return eb(e,n)}}function r7e(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{columnIndex:r}=t;if(r!==0)return eb(e,n)}}const a7e=()=>e=>[zv.of(e).call(hT).call(uT).call(e7e).call(t7e).call(fT).call(dT).call(JLe).value()];var i7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const o7e=jv(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),s7e=jv(e=>({coordinate:{type:"polar"}})),l7e=e=>{const{encode:t}=e,n=i7e(e,["encode"]),{position:r}=t;return Object.assign(Object.assign({},n),{encode:{x:r}})};function bI(e){return t=>null}function c7e(e){const{points:t}=e,[n,r,a,i]=t,o=Or(n,i),s=Br(n,i),l=Br(r,a),c=i$(s,l),u=1/Math.sin(c/2),f=o/(1+u),d=f*Math.sqrt(2),[h,p]=a,g=j0(s)+c/2,m=f*u,y=h+m*Math.sin(g),x=p-m*Math.cos(g);return[y-d/2,x-d/2,d,d]}const u7e=()=>e=>[zv.of(e).call(hT).call(l7e).call(uT).call(s7e).call(iW).call(oW,c7e,bI,bI,{frame:!1}).call(fT).call(dT).call(o7e).value()];function f7e(e,t,n){const a=n,i=[0,a],o=[-a+1,1];if(e==="normal")return i;if(e==="reverse")return o;if(e==="alternate")return t%2===0?i:o;if(e==="reverse-alternate")return t%2===0?o:i}function d7e(e,t,n){const r=[e];for(;r.length;){const a=r.pop();a.animate=Me({enter:{duration:t},update:{duration:t,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},a.animate||{});const{children:i}=a;Array.isArray(i)&&r.push(...i)}return e}const lW=()=>e=>{const{children:t=[],duration:n=1e3,iterationCount:r=1,direction:a="normal",easing:i="ease-in-out-sine"}=e,o=t.length;if(!Array.isArray(t)||o===0)return[];const{key:s}=t[0],l=t.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>d7e(c,n,i));return function*(){let c=0,u;for(;r==="infinite"||c<r;){const[f,d]=f7e(a,c,o);for(let h=f;h<d;h+=1){const p=Math.abs(h);u!==p&&(yield l[p]),u=p}c++}}};lW.props={};var h7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const cW=()=>e=>{const{type:t,data:n,scale:r,encode:a,style:i,animate:o,key:s,state:l,tooltip:c}=e,u=h7e(e,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},u),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:a,style:i,animate:o,state:l,tooltip:c}]})]};cW.props={};var Ot=1e-6,uW=1e-12,ln=Math.PI,Gr=ln/2,wI=ln/4,Po=ln*2,xi=180/ln,Nr=ln/180,Sn=Math.abs,_h=Math.atan,Mc=Math.atan2,en=Math.cos,om=Math.ceil,fW=Math.exp,ux=Math.log,m_=Math.pow,zt=Math.sin,Ko=Math.sign||function(e){return e>0?1:e<0?-1:0},yo=Math.sqrt,pT=Math.tan;function dW(e){return e>1?0:e<-1?ln:Math.acos(e)}function ss(e){return e>1?Gr:e<-1?-Gr:Math.asin(e)}function Zo(){}function fx(e,t){e&&EI.hasOwnProperty(e.type)&&EI[e.type](e,t)}var _I={Feature:function(e,t){fx(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)fx(n[r].geometry,t)}},EI={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qA(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)qA(n[r],t,0)},Polygon:function(e,t){AI(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)AI(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)fx(n[r],t)}};function qA(e,t,n){var r=-1,a=e.length-n,i;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function AI(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qA(e[n],t,1);t.polygonEnd()}function Hd(e,t){e&&_I.hasOwnProperty(e.type)?_I[e.type](e,t):fx(e,t)}function KA(e){return[Mc(e[1],e[0]),ss(e[2])]}function J0(e){var t=e[0],n=e[1],r=en(n);return[r*en(t),r*zt(t),zt(n)]}function sm(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function y_(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function lm(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ZA(e){var t=yo(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function QA(e,t){function n(r,a){return r=e(r,a),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,a){return r=t.invert(r,a),r&&e.invert(r[0],r[1])}),n}function JA(e,t){return Sn(e)>ln&&(e-=Math.round(e/Po)*Po),[e,t]}JA.invert=JA;function hW(e,t,n){return(e%=Po)?t||n?QA(OI(e),kI(t,n)):OI(e):t||n?kI(t,n):JA}function SI(e){return function(t,n){return t+=e,Sn(t)>ln&&(t-=Math.round(t/Po)*Po),[t,n]}}function OI(e){var t=SI(e);return t.invert=SI(-e),t}function kI(e,t){var n=en(e),r=zt(e),a=en(t),i=zt(t);function o(s,l){var c=en(l),u=en(s)*c,f=zt(s)*c,d=zt(l),h=d*n+u*r;return[Mc(f*a-h*i,u*n-d*r),ss(h*a+f*i)]}return o.invert=function(s,l){var c=en(l),u=en(s)*c,f=zt(s)*c,d=zt(l),h=d*a-f*i;return[Mc(f*a+d*i,u*n+h*r),ss(h*n-u*r)]},o}function p7e(e){e=hW(e[0]*Nr,e[1]*Nr,e.length>2?e[2]*Nr:0);function t(n){return n=e(n[0]*Nr,n[1]*Nr),n[0]*=xi,n[1]*=xi,n}return t.invert=function(n){return n=e.invert(n[0]*Nr,n[1]*Nr),n[0]*=xi,n[1]*=xi,n},t}function v7e(e,t,n,r,a,i){if(n){var o=en(t),s=zt(t),l=r*n;a==null?(a=t+r*Po,i=t-l/2):(a=TI(o,a),i=TI(o,i),(r>0?a<i:a>i)&&(a+=r*Po));for(var c,u=a;r>0?u>i:u<i;u-=l)c=KA([o,-s*en(u),-s*zt(u)]),e.point(c[0],c[1])}}function TI(e,t){t=J0(t),t[0]-=e,ZA(t);var n=dW(-t[1]);return((-t[2]<0?-n:n)+Po-Ot)%Po}function pW(){var e=[],t;return{point:function(n,r,a){t.push([n,r,a])},lineStart:function(){e.push(t=[])},lineEnd:Zo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function jm(e,t){return Sn(e[0]-t[0])<Ot&&Sn(e[1]-t[1])<Ot}function cm(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function vW(e,t,n,r,a){var i=[],o=[],s,l;if(e.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],m=p[v],y;if(jm(g,m)){if(!g[2]&&!m[2]){for(a.lineStart(),s=0;s<v;++s)a.point((g=p[s])[0],g[1]);a.lineEnd();return}m[0]+=2*Ot}i.push(y=new cm(g,p,null,!0)),o.push(y.o=new cm(g,null,y,!1)),i.push(y=new cm(m,p,null,!1)),o.push(y.o=new cm(m,null,y,!0))}}),!!i.length){for(o.sort(t),CI(i),CI(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=i[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=u.length;s<l;++s)a.point((f=u[s])[0],f[1]);else r(d.x,d.n.x,1,a);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;s>=0;--s)a.point((f=u[s])[0],f[1]);else r(d.x,d.p.x,-1,a);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);a.lineEnd()}}}function CI(e){if(t=e.length){for(var t,n=0,r=e[0],a;++n<t;)r.n=a=e[n],a.p=r,r=a;r.n=a=e[0],a.p=r}}function x_(e){return Sn(e[0])<=ln?e[0]:Ko(e[0])*((Sn(e[0])+ln)%Po-ln)}function g7e(e,t){var n=x_(t),r=t[1],a=zt(r),i=[zt(n),-en(n),0],o=0,s=0,l=new Gf;a===1?r=Gr+Ot:a===-1&&(r=-Gr-Ot);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=x_(h),v=h[1]/2+wI,g=zt(v),m=en(v),y=0;y<d;++y,p=b,g=E,m=w,h=x){var x=f[y],b=x_(x),_=x[1]/2+wI,E=zt(_),w=en(_),A=b-p,S=A>=0?1:-1,O=S*A,k=O>ln,T=g*E;if(l.add(Mc(T*S*zt(O),m*w+T*en(O))),o+=k?A+S*Po:A,k^p>=n^b>=n){var C=dx(J0(h),J0(x));ZA(C);var M=dx(i,C);ZA(M);var P=(k^A>=0?-1:1)*ss(M[2]);(r>P||r===P&&(C[0]||C[1]))&&(s+=k^A>=0?1:-1)}}return(o<-Ot||o<Ot&&l<-uW)^s&1}function gW(e,t,n,r){return function(a){var i=t(a),o=pW(),s=t(o),l=!1,c,u,f,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=x,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,u=Y9(u);var b=g7e(c,r);u.length?(l||(a.polygonStart(),l=!0),vW(u,y7e,b,n,a)):b&&(l||(a.polygonStart(),l=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),u=c=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(b,_){e(b,_)&&a.point(b,_)}function p(b,_){i.point(b,_)}function v(){d.point=p,i.lineStart()}function g(){d.point=h,i.lineEnd()}function m(b,_){f.push([b,_]),s.point(b,_)}function y(){s.lineStart(),f=[]}function x(){m(f[0][0],f[0][1]),s.lineEnd();var b=s.clean(),_=o.result(),E,w=_.length,A,S,O;if(f.pop(),c.push(f),f=null,!!w){if(b&1){if(S=_[0],(A=S.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),E=0;E<A;++E)a.point((O=S[E])[0],O[1]);a.lineEnd()}return}w>1&&b&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(m7e))}}return d}}function m7e(e){return e.length>1}function y7e(e,t){return((e=e.x)[0]<0?e[1]-Gr-Ot:Gr-e[1])-((t=t.x)[0]<0?t[1]-Gr-Ot:Gr-t[1])}const MI=gW(function(){return!0},x7e,w7e,[-ln,-Gr]);function x7e(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(i,o){var s=i>0?ln:-ln,l=Sn(i-t);Sn(l-ln)<Ot?(e.point(t,n=(n+o)/2>0?Gr:-Gr),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(i,n),a=0):r!==s&&l>=ln&&(Sn(t-r)<Ot&&(t-=r*Ot),Sn(i-s)<Ot&&(i-=s*Ot),n=b7e(t,n,i,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),a=0),e.point(t=i,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-a}}}function b7e(e,t,n,r){var a,i,o=zt(e-n);return Sn(o)>Ot?_h((zt(t)*(i=en(r))*zt(n)-zt(r)*(a=en(t))*zt(e))/(a*i*o)):(t+r)/2}function w7e(e,t,n,r){var a;if(e==null)a=n*Gr,r.point(-ln,a),r.point(0,a),r.point(ln,a),r.point(ln,0),r.point(ln,-a),r.point(0,-a),r.point(-ln,-a),r.point(-ln,0),r.point(-ln,a);else if(Sn(e[0]-t[0])>Ot){var i=e[0]<t[0]?ln:-ln;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function _7e(e){var t=en(e),n=2*Nr,r=t>0,a=Sn(t)>Ot;function i(u,f,d,h){v7e(h,e,n,d,u,f)}function o(u,f){return en(u)*en(f)>t}function s(u){var f,d,h,p,v;return{lineStart:function(){p=h=!1,v=1},point:function(g,m){var y=[g,m],x,b=o(g,m),_=r?b?0:c(g,m):b?c(g+(g<0?ln:-ln),m):0;if(!f&&(p=h=b)&&u.lineStart(),b!==h&&(x=l(f,y),(!x||jm(f,x)||jm(y,x))&&(y[2]=1)),b!==h)v=0,b?(u.lineStart(),x=l(y,f),u.point(x[0],x[1])):(x=l(f,y),u.point(x[0],x[1],2),u.lineEnd()),f=x;else if(a&&f&&r^b){var E;!(_&d)&&(E=l(y,f,!0))&&(v=0,r?(u.lineStart(),u.point(E[0][0],E[0][1]),u.point(E[1][0],E[1][1]),u.lineEnd()):(u.point(E[1][0],E[1][1]),u.lineEnd(),u.lineStart(),u.point(E[0][0],E[0][1],3)))}b&&(!f||!jm(f,y))&&u.point(y[0],y[1]),f=y,h=b,d=_},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return v|(p&&h)<<1}}}function l(u,f,d){var h=J0(u),p=J0(f),v=[1,0,0],g=dx(h,p),m=sm(g,g),y=g[0],x=m-y*y;if(!x)return!d&&u;var b=t*m/x,_=-t*y/x,E=dx(v,g),w=lm(v,b),A=lm(g,_);y_(w,A);var S=E,O=sm(w,S),k=sm(S,S),T=O*O-k*(sm(w,w)-1);if(!(T<0)){var C=yo(T),M=lm(S,(-O-C)/k);if(y_(M,w),M=KA(M),!d)return M;var P=u[0],I=f[0],L=u[1],z=f[1],N;I<P&&(N=P,P=I,I=N);var G=I-P,Y=Sn(G-ln)<Ot,B=Y||G<Ot;if(!Y&&z<L&&(N=L,L=z,z=N),B?Y?L+z>0^M[1]<(Sn(M[0]-P)<Ot?L:z):L<=M[1]&&M[1]<=z:G>ln^(P<=M[0]&&M[0]<=I)){var F=lm(S,(-O+C)/k);return y_(F,w),[M,KA(F)]}}}function c(u,f){var d=r?e:ln-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return gW(o,s,i,r?[0,-e]:[-ln,e-ln])}function E7e(e,t,n,r,a,i){var o=e[0],s=e[1],l=t[0],c=t[1],u=0,f=1,d=l-o,h=c-s,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=o+u*d,e[1]=s+u*h),f<1&&(t[0]=o+f*d,t[1]=s+f*h),!0}}}}}var wp=1e9,um=-wp;function mW(e,t,n,r){function a(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function i(c,u,f,d){var h=0,p=0;if(c==null||(h=o(c,f))!==(p=o(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(u[0],u[1])}function o(c,u){return Sn(c[0]-e)<Ot?u>0?0:3:Sn(c[0]-n)<Ot?u>0?2:1:Sn(c[1]-t)<Ot?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),d=o(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=pW(),d,h,p,v,g,m,y,x,b,_,E,w={point:A,lineStart:T,lineEnd:C,polygonStart:O,polygonEnd:k};function A(P,I){a(P,I)&&u.point(P,I)}function S(){for(var P=0,I=0,L=h.length;I<L;++I)for(var z=h[I],N=1,G=z.length,Y=z[0],B,F,D=Y[0],R=Y[1];N<G;++N)B=D,F=R,Y=z[N],D=Y[0],R=Y[1],F<=r?R>r&&(D-B)*(r-F)>(R-F)*(e-B)&&++P:R<=r&&(D-B)*(r-F)<(R-F)*(e-B)&&--P;return P}function O(){u=f,d=[],h=[],E=!0}function k(){var P=S(),I=E&&P,L=(d=Y9(d)).length;(I||L)&&(c.polygonStart(),I&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),L&&vW(d,s,P,i,c),c.polygonEnd()),u=c,d=h=p=null}function T(){w.point=M,h&&h.push(p=[]),_=!0,b=!1,y=x=NaN}function C(){d&&(M(v,g),m&&b&&f.rejoin(),d.push(f.result())),w.point=A,b&&u.lineEnd()}function M(P,I){var L=a(P,I);if(h&&p.push([P,I]),_)v=P,g=I,m=L,_=!1,L&&(u.lineStart(),u.point(P,I));else if(L&&b)u.point(P,I);else{var z=[y=Math.max(um,Math.min(wp,y)),x=Math.max(um,Math.min(wp,x))],N=[P=Math.max(um,Math.min(wp,P)),I=Math.max(um,Math.min(wp,I))];E7e(z,N,e,t,n,r)?(b||(u.lineStart(),u.point(z[0],z[1])),u.point(N[0],N[1]),L||u.lineEnd(),E=!1):L&&(u.lineStart(),u.point(P,I),E=!1)}y=P,x=I,b=L}return w}}function PI(e,t,n){var r=qd(e,t-Ot,n).concat(t);return function(a){return r.map(function(i){return[a,i]})}}function II(e,t,n){var r=qd(e,t-Ot,n).concat(t);return function(a){return r.map(function(i){return[i,a]})}}function A7e(){var e,t,n,r,a,i,o,s,l=10,c=l,u=90,f=360,d,h,p,v,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return qd(om(r/u)*u,n,u).map(p).concat(qd(om(s/f)*f,o,f).map(v)).concat(qd(om(t/l)*l,e,l).filter(function(x){return Sn(x%u)>Ot}).map(d)).concat(qd(om(i/c)*c,a,c).filter(function(x){return Sn(x%f)>Ot}).map(h))}return m.lines=function(){return y().map(function(x){return{type:"LineString",coordinates:x}})},m.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(v(o).slice(1),p(n).reverse().slice(1),v(s).reverse().slice(1))]}},m.extent=function(x){return arguments.length?m.extentMajor(x).extentMinor(x):m.extentMinor()},m.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],s=+x[0][1],o=+x[1][1],r>n&&(x=r,r=n,n=x),s>o&&(x=s,s=o,o=x),m.precision(g)):[[r,s],[n,o]]},m.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],i=+x[0][1],a=+x[1][1],t>e&&(x=t,t=e,e=x),i>a&&(x=i,i=a,a=x),m.precision(g)):[[t,i],[e,a]]},m.step=function(x){return arguments.length?m.stepMajor(x).stepMinor(x):m.stepMinor()},m.stepMajor=function(x){return arguments.length?(u=+x[0],f=+x[1],m):[u,f]},m.stepMinor=function(x){return arguments.length?(l=+x[0],c=+x[1],m):[l,c]},m.precision=function(x){return arguments.length?(g=+x,d=PI(i,a,90),h=II(t,e,g),p=PI(s,o,90),v=II(r,n,g),m):g},m.extentMajor([[-180,-90+Ot],[180,90-Ot]]).extentMinor([[-180,-80-Ot],[180,80+Ot]])}function S7e(){return A7e()()}const G1=e=>e;var b_=new Gf,eS=new Gf,yW,xW,tS,nS,lc={point:Zo,lineStart:Zo,lineEnd:Zo,polygonStart:function(){lc.lineStart=O7e,lc.lineEnd=T7e},polygonEnd:function(){lc.lineStart=lc.lineEnd=lc.point=Zo,b_.add(Sn(eS)),eS=new Gf},result:function(){var e=b_/2;return b_=new Gf,e}};function O7e(){lc.point=k7e}function k7e(e,t){lc.point=bW,yW=tS=e,xW=nS=t}function bW(e,t){eS.add(nS*e-tS*t),tS=e,nS=t}function T7e(){bW(yW,xW)}var eh=1/0,hx=eh,Y1=-eh,px=Y1,vx={point:C7e,lineStart:Zo,lineEnd:Zo,polygonStart:Zo,polygonEnd:Zo,result:function(){var e=[[eh,hx],[Y1,px]];return Y1=px=-(hx=eh=1/0),e}};function C7e(e,t){e<eh&&(eh=e),e>Y1&&(Y1=e),t<hx&&(hx=t),t>px&&(px=t)}var rS=0,aS=0,_p=0,gx=0,mx=0,Zd=0,iS=0,oS=0,Ep=0,wW,_W,gl,ml,Xo={point:ed,lineStart:RI,lineEnd:DI,polygonStart:function(){Xo.lineStart=I7e,Xo.lineEnd=R7e},polygonEnd:function(){Xo.point=ed,Xo.lineStart=RI,Xo.lineEnd=DI},result:function(){var e=Ep?[iS/Ep,oS/Ep]:Zd?[gx/Zd,mx/Zd]:_p?[rS/_p,aS/_p]:[NaN,NaN];return rS=aS=_p=gx=mx=Zd=iS=oS=Ep=0,e}};function ed(e,t){rS+=e,aS+=t,++_p}function RI(){Xo.point=M7e}function M7e(e,t){Xo.point=P7e,ed(gl=e,ml=t)}function P7e(e,t){var n=e-gl,r=t-ml,a=yo(n*n+r*r);gx+=a*(gl+e)/2,mx+=a*(ml+t)/2,Zd+=a,ed(gl=e,ml=t)}function DI(){Xo.point=ed}function I7e(){Xo.point=D7e}function R7e(){EW(wW,_W)}function D7e(e,t){Xo.point=EW,ed(wW=gl=e,_W=ml=t)}function EW(e,t){var n=e-gl,r=t-ml,a=yo(n*n+r*r);gx+=a*(gl+e)/2,mx+=a*(ml+t)/2,Zd+=a,a=ml*e-gl*t,iS+=a*(gl+e),oS+=a*(ml+t),Ep+=a*3,ed(gl=e,ml=t)}function AW(e){this._context=e}AW.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Po);break}}},result:Zo};var sS=new Gf,w_,SW,OW,Ap,Sp,X1={point:Zo,lineStart:function(){X1.point=N7e},lineEnd:function(){w_&&kW(SW,OW),X1.point=Zo},polygonStart:function(){w_=!0},polygonEnd:function(){w_=null},result:function(){var e=+sS;return sS=new Gf,e}};function N7e(e,t){X1.point=kW,SW=Ap=e,OW=Sp=t}function kW(e,t){Ap-=e,Sp-=t,sS.add(yo(Ap*Ap+Sp*Sp)),Ap=e,Sp=t}let NI,yx,LI,FI;class BI{constructor(t){this._append=t==null?TW:L7e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==LI||this._append!==yx){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,LI=r,yx=this._append,FI=this._,this._=a}this._+=FI;break}}}result(){const t=this._;return this._="",t.length?t:null}}function TW(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function L7e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return TW;if(t!==NI){const n=10**t;NI=t,yx=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}return yx}function CW(e,t){let n=3,r=4.5,a,i;function o(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Hd(s,a(i))),i.result()}return o.area=function(s){return Hd(s,a(lc)),lc.result()},o.measure=function(s){return Hd(s,a(X1)),X1.result()},o.bounds=function(s){return Hd(s,a(vx)),vx.result()},o.centroid=function(s){return Hd(s,a(Xo)),Xo.result()},o.projection=function(s){return arguments.length?(a=s==null?(e=null,G1):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new BI(n)):new AW(t=s),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(i=new BI(n)),o},o.projection(e).digits(n).context(t)}function tb(e){return function(t){var n=new lS;for(var r in e)n[r]=e[r];return n.stream=t,n}}function lS(){}lS.prototype={constructor:lS,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function vT(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Hd(n,e.stream(vx)),t(vx.result()),r!=null&&e.clipExtent(r),e}function nb(e,t,n){return vT(e,function(r){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(a/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),s=+t[0][0]+(a-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function gT(e,t,n){return nb(e,[[0,0],t],n)}function mT(e,t,n){return vT(e,function(r){var a=+t,i=a/(r[1][0]-r[0][0]),o=(a-i*(r[1][0]+r[0][0]))/2,s=-i*r[0][1];e.scale(150*i).translate([o,s])},n)}function yT(e,t,n){return vT(e,function(r){var a=+t,i=a/(r[1][1]-r[0][1]),o=-i*r[0][0],s=(a-i*(r[1][1]+r[0][1]))/2;e.scale(150*i).translate([o,s])},n)}var $I=16,F7e=en(30*Nr);function jI(e,t){return+t?$7e(e,t):B7e(e)}function B7e(e){return tb({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function $7e(e,t){function n(r,a,i,o,s,l,c,u,f,d,h,p,v,g){var m=c-r,y=u-a,x=m*m+y*y;if(x>4*t&&v--){var b=o+d,_=s+h,E=l+p,w=yo(b*b+_*_+E*E),A=ss(E/=w),S=Sn(Sn(E)-1)<Ot||Sn(i-f)<Ot?(i+f)/2:Mc(_,b),O=e(S,A),k=O[0],T=O[1],C=k-r,M=T-a,P=y*C-m*M;(P*P/x>t||Sn((m*C+y*M)/x-.5)>.3||o*d+s*h+l*p<F7e)&&(n(r,a,i,o,s,l,k,T,S,b/=w,_/=w,E,v,g),g.point(k,T),n(k,T,S,b,_,E,c,u,f,d,h,p,v,g))}}return function(r){var a,i,o,s,l,c,u,f,d,h,p,v,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function m(A,S){A=e(A,S),r.point(A[0],A[1])}function y(){f=NaN,g.point=x,r.lineStart()}function x(A,S){var O=J0([A,S]),k=e(A,S);n(f,d,u,h,p,v,f=k[0],d=k[1],u=A,h=O[0],p=O[1],v=O[2],$I,r),r.point(f,d)}function b(){g.point=m,r.lineEnd()}function _(){y(),g.point=E,g.lineEnd=w}function E(A,S){x(a=A,S),i=f,o=d,s=h,l=p,c=v,g.point=x}function w(){n(f,d,u,h,p,v,i,o,a,s,l,c,$I,r),g.lineEnd=b,b()}return g}}var j7e=tb({point:function(e,t){this.stream.point(e*Nr,t*Nr)}});function z7e(e){return tb({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function U7e(e,t,n,r,a){function i(o,s){return o*=r,s*=a,[t+e*o,n-e*s]}return i.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*a]},i}function zI(e,t,n,r,a,i){if(!i)return U7e(e,t,n,r,a);var o=en(i),s=zt(i),l=o*e,c=s*e,u=o/e,f=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function p(v,g){return v*=r,g*=a,[l*v-c*g+t,n-c*v-l*g]}return p.invert=function(v,g){return[r*(u*v-f*g+d),a*(h-f*v-u*g)]},p}function Hl(e){return xT(function(){return e})()}function xT(e){var t,n=150,r=480,a=250,i=0,o=0,s=0,l=0,c=0,u,f=0,d=1,h=1,p=null,v=MI,g=null,m,y,x,b=G1,_=.5,E,w,A,S,O;function k(P){return A(P[0]*Nr,P[1]*Nr)}function T(P){return P=A.invert(P[0],P[1]),P&&[P[0]*xi,P[1]*xi]}k.stream=function(P){return S&&O===P?S:S=j7e(z7e(u)(v(E(b(O=P)))))},k.preclip=function(P){return arguments.length?(v=P,p=void 0,M()):v},k.postclip=function(P){return arguments.length?(b=P,g=m=y=x=null,M()):b},k.clipAngle=function(P){return arguments.length?(v=+P?_7e(p=P*Nr):(p=null,MI),M()):p*xi},k.clipExtent=function(P){return arguments.length?(b=P==null?(g=m=y=x=null,G1):mW(g=+P[0][0],m=+P[0][1],y=+P[1][0],x=+P[1][1]),M()):g==null?null:[[g,m],[y,x]]},k.scale=function(P){return arguments.length?(n=+P,C()):n},k.translate=function(P){return arguments.length?(r=+P[0],a=+P[1],C()):[r,a]},k.center=function(P){return arguments.length?(i=P[0]%360*Nr,o=P[1]%360*Nr,C()):[i*xi,o*xi]},k.rotate=function(P){return arguments.length?(s=P[0]%360*Nr,l=P[1]%360*Nr,c=P.length>2?P[2]%360*Nr:0,C()):[s*xi,l*xi,c*xi]},k.angle=function(P){return arguments.length?(f=P%360*Nr,C()):f*xi},k.reflectX=function(P){return arguments.length?(d=P?-1:1,C()):d<0},k.reflectY=function(P){return arguments.length?(h=P?-1:1,C()):h<0},k.precision=function(P){return arguments.length?(E=jI(w,_=P*P),M()):yo(_)},k.fitExtent=function(P,I){return nb(k,P,I)},k.fitSize=function(P,I){return gT(k,P,I)},k.fitWidth=function(P,I){return mT(k,P,I)},k.fitHeight=function(P,I){return yT(k,P,I)};function C(){var P=zI(n,0,0,d,h,f).apply(null,t(i,o)),I=zI(n,r-P[0],a-P[1],d,h,f);return u=hW(s,l,c),w=QA(t,I),A=QA(u,w),E=jI(w,_),M()}function M(){return S=O=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&T,C()}}function bT(e){var t=0,n=ln/3,r=xT(e),a=r(t,n);return a.parallels=function(i){return arguments.length?r(t=i[0]*Nr,n=i[1]*Nr):[t*xi,n*xi]},a}function H7e(e){var t=en(e);function n(r,a){return[r*t,zt(a)/t]}return n.invert=function(r,a){return[r/t,ss(a*t)]},n}function MW(e,t){var n=zt(e),r=(n+zt(t))/2;if(Sn(r)<Ot)return H7e(e);var a=1+n*(2*r-n),i=yo(a)/r;function o(s,l){var c=yo(a-2*r*zt(l))/r;return[c*zt(s*=r),i-c*en(s)]}return o.invert=function(s,l){var c=i-l,u=Mc(s,Sn(c))*Ko(c);return c*r<0&&(u-=ln*Ko(s)*Ko(c)),[u/r,ss((a-(s*s+c*c)*r*r)/(2*r))]},o}function xx(){return bT(MW).scale(155.424).center([0,33.6442])}function PW(){return xx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function V7e(e){var t=e.length;return{point:function(n,r){for(var a=-1;++a<t;)e[a].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function W7e(){var e,t,n=PW(),r,a=xx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=xx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(i.point(h,p),l)||(s.point(h,p),l)}u.invert=function(d){var h=n.scale(),p=n.translate(),v=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?a:g>=.166&&g<.234&&v>=-.214&&v<-.115?o:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=V7e([n.stream(t=d),a.stream(d),o.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),a.precision(d),o.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),a.scale(d*.35),o.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],v=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,v-.238*h],[p+.455*h,v+.238*h]]).stream(c),i=a.translate([p-.307*h,v+.201*h]).clipExtent([[p-.425*h+Ot,v+.12*h+Ot],[p-.214*h-Ot,v+.234*h-Ot]]).stream(c),s=o.translate([p-.205*h,v+.212*h]).clipExtent([[p-.214*h+Ot,v+.166*h+Ot],[p-.115*h-Ot,v+.234*h-Ot]]).stream(c),f()},u.fitExtent=function(d,h){return nb(u,d,h)},u.fitSize=function(d,h){return gT(u,d,h)},u.fitWidth=function(d,h){return mT(u,d,h)},u.fitHeight=function(d,h){return yT(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function IW(e){return function(t,n){var r=en(t),a=en(n),i=e(r*a);return i===1/0?[2,0]:[i*a*zt(t),i*zt(n)]}}function Uv(e){return function(t,n){var r=yo(t*t+n*n),a=e(r),i=zt(a),o=en(a);return[Mc(t*i,r*o),ss(r&&n*i/r)]}}var wT=IW(function(e){return yo(2/(1+e))});wT.invert=Uv(function(e){return 2*ss(e/2)});function G7e(){return Hl(wT).scale(124.75).clipAngle(180-.001)}var _T=IW(function(e){return(e=dW(e))&&e/zt(e)});_T.invert=Uv(function(e){return e});function Y7e(){return Hl(_T).scale(79.4188).clipAngle(180-.001)}function Hv(e,t){return[e,ux(pT((Gr+t)/2))]}Hv.invert=function(e,t){return[e,2*_h(fW(t))-Gr]};function X7e(){return RW(Hv).scale(961/Po)}function RW(e){var t=Hl(e),n=t.center,r=t.scale,a=t.translate,i=t.clipExtent,o=null,s,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(a(f),u()):a()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=c=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var f=ln*r(),d=t(p7e(t.rotate()).invert([0,0]));return i(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Hv?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),c]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,c)]])}return u()}function fm(e){return pT((Gr+e)/2)}function DW(e,t){var n=en(e),r=e===t?zt(e):ux(n/en(t))/ux(fm(t)/fm(e)),a=n*m_(fm(e),r)/r;if(!r)return Hv;function i(o,s){a>0?s<-Gr+Ot&&(s=-Gr+Ot):s>Gr-Ot&&(s=Gr-Ot);var l=a/m_(fm(s),r);return[l*zt(r*o),a-l*en(r*o)]}return i.invert=function(o,s){var l=a-s,c=Ko(r)*yo(o*o+l*l),u=Mc(o,Sn(l))*Ko(l);return l*r<0&&(u-=ln*Ko(o)*Ko(l)),[u/r,2*_h(m_(a/c,1/r))-Gr]},i}function q7e(){return bT(DW).scale(109.5).parallels([30,30])}function q1(e,t){return[e,t]}q1.invert=q1;function K7e(){return Hl(q1).scale(152.63)}function NW(e,t){var n=en(e),r=e===t?zt(e):(n-en(t))/(t-e),a=n/r+e;if(Sn(r)<Ot)return q1;function i(o,s){var l=a-s,c=r*o;return[l*zt(c),a-l*en(c)]}return i.invert=function(o,s){var l=a-s,c=Mc(o,Sn(l))*Ko(l);return l*r<0&&(c-=ln*Ko(o)*Ko(l)),[c/r,a-Ko(r)*yo(o*o+l*l)]},i}function Z7e(){return bT(NW).scale(131.154).center([0,13.9389])}var Zp=1.340264,Qp=-.081106,Jp=893e-6,e1=.003796,bx=yo(3)/2,Q7e=12;function ET(e,t){var n=ss(bx*zt(t)),r=n*n,a=r*r*r;return[e*en(n)/(bx*(Zp+3*Qp*r+a*(7*Jp+9*e1*r))),n*(Zp+Qp*r+a*(Jp+e1*r))]}ET.invert=function(e,t){for(var n=t,r=n*n,a=r*r*r,i=0,o,s,l;i<Q7e&&(s=n*(Zp+Qp*r+a*(Jp+e1*r))-t,l=Zp+3*Qp*r+a*(7*Jp+9*e1*r),n-=o=s/l,r=n*n,a=r*r*r,!(Sn(o)<uW));++i);return[bx*e*(Zp+3*Qp*r+a*(7*Jp+9*e1*r))/en(n),ss(zt(n)/bx)]};function J7e(){return Hl(ET).scale(177.158)}function AT(e,t){var n=en(t),r=en(e)*n;return[n*zt(e)/r,zt(t)/r]}AT.invert=Uv(_h);function eFe(){return Hl(AT).scale(144.049).clipAngle(60)}function tFe(){var e=1,t=0,n=0,r=1,a=1,i=0,o,s,l=null,c,u,f,d=1,h=1,p=tb({point:function(b,_){var E=x([b,_]);this.stream.point(E[0],E[1])}}),v=G1,g,m;function y(){return d=e*r,h=e*a,g=m=null,x}function x(b){var _=b[0]*d,E=b[1]*h;if(i){var w=E*o-_*s;_=_*o+E*s,E=w}return[_+t,E+n]}return x.invert=function(b){var _=b[0]-t,E=b[1]-n;if(i){var w=E*o+_*s;_=_*o-E*s,E=w}return[_/d,E/h]},x.stream=function(b){return g&&m===b?g:g=p(v(m=b))},x.postclip=function(b){return arguments.length?(v=b,l=c=u=f=null,y()):v},x.clipExtent=function(b){return arguments.length?(v=b==null?(l=c=u=f=null,G1):mW(l=+b[0][0],c=+b[0][1],u=+b[1][0],f=+b[1][1]),y()):l==null?null:[[l,c],[u,f]]},x.scale=function(b){return arguments.length?(e=+b,y()):e},x.translate=function(b){return arguments.length?(t=+b[0],n=+b[1],y()):[t,n]},x.angle=function(b){return arguments.length?(i=b%360*Nr,s=zt(i),o=en(i),y()):i*xi},x.reflectX=function(b){return arguments.length?(r=b?-1:1,y()):r<0},x.reflectY=function(b){return arguments.length?(a=b?-1:1,y()):a<0},x.fitExtent=function(b,_){return nb(x,b,_)},x.fitSize=function(b,_){return gT(x,b,_)},x.fitWidth=function(b,_){return mT(x,b,_)},x.fitHeight=function(b,_){return yT(x,b,_)},x}function ST(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}ST.invert=function(e,t){var n=t,r=25,a;do{var i=n*n,o=i*i;n-=a=(n*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(Sn(a)>Ot&&--r>0);return[e/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function nFe(){return Hl(ST).scale(175.295)}function OT(e,t){return[en(t)*zt(e),zt(t)]}OT.invert=Uv(ss);function rFe(){return Hl(OT).scale(249.5).clipAngle(90+Ot)}function kT(e,t){var n=en(t),r=1+en(e)*n;return[n*zt(e)/r,zt(t)/r]}kT.invert=Uv(function(e){return 2*_h(e)});function aFe(){return Hl(kT).scale(250).clipAngle(142)}function TT(e,t){return[ux(pT((Gr+t)/2)),-e]}TT.invert=function(e,t){return[-t,2*_h(fW(e))-Gr]};function iFe(){var e=RW(TT),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const oFe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:PW,geoAlbersUsa:W7e,geoAzimuthalEqualArea:G7e,geoAzimuthalEqualAreaRaw:wT,geoAzimuthalEquidistant:Y7e,geoAzimuthalEquidistantRaw:_T,geoConicConformal:q7e,geoConicConformalRaw:DW,geoConicEqualArea:xx,geoConicEqualAreaRaw:MW,geoConicEquidistant:Z7e,geoConicEquidistantRaw:NW,geoEqualEarth:J7e,geoEqualEarthRaw:ET,geoEquirectangular:K7e,geoEquirectangularRaw:q1,geoGnomonic:eFe,geoGnomonicRaw:AT,geoIdentity:tFe,geoMercator:X7e,geoMercatorRaw:Hv,geoNaturalEarth1:nFe,geoNaturalEarth1Raw:ST,geoOrthographic:rFe,geoOrthographicRaw:OT,geoProjection:Hl,geoProjectionMutator:xT,geoStereographic:aFe,geoStereographicRaw:kT,geoTransverseMercator:iFe,geoTransverseMercatorRaw:TT},Symbol.toStringTag,{value:"Module"}));var sFe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function lFe(e){if(typeof e=="function")return e;const t=`geo${Ru(e)}`,n=oFe[t];if(!n)throw new Error(`Unknown coordinate: ${e}`);return n}function cFe(e){return{type:"FeatureCollection",features:e.flatMap(t=>uFe(t).features)}}function uFe(e){const t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const n=t[e.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(n==="feature")return{type:"FeatureCollection",features:[e]};if(n==="featureCollection")return e}function fFe(e,t){var n;for(const[r,a]of Object.entries(t))(n=e[r])===null||n===void 0||n.call(e,a)}function dFe(e,t,n,r){const a=()=>{const s=t.filter(LW);return s.find(c=>c.sphere)?{type:"Sphere"}:cFe(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:i=a()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return hFe(e,i,n);if(o==="fitWidth")return pFe(e,i,n)}function hFe(e,t,n){const{x:r,y:a,width:i,height:o}=n;e.fitExtent([[r,a],[i,o]],t)}function pFe(e,t,n){const{width:r,height:a}=n,[[i,o],[s,l]]=CW(e.fitWidth(r,t)).bounds(t),c=Math.ceil(l-o),u=Math.min(Math.ceil(s-i),c),f=e.scale()*(u-1)/u,[d,h]=e.translate(),p=h+(a-c)/2;e.scale(f).translate([d,p]).precision(.2)}function vFe(e){const{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});const{type:n}=t;return n==="graticule10"?Object.assign(Object.assign({},e),{data:{value:[S7e()]}}):n==="sphere"?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function LW(e){return e.type==="geoPath"}const FW=()=>e=>{const{children:t,coordinate:n={}}=e;if(!Array.isArray(t))return[];const{type:r="equalEarth"}=n,a=sFe(n,["type"]),i=lFe(r),o=t.map(f=>Object.assign(Object.assign({},f),{data:J2(f.data,e.data)})).map(vFe);let s;function l(){return[["custom",(f,d,h,p)=>{const v=i();dFe(v,o,{x:f,y:d,width:h,height:p},a),fFe(v,a),s=CW(v);const m=new kc({domain:[f,f+h]}),y=new kc({domain:[d,d+p]}),x=_=>{const E=v(_);if(!E)return[null,null];const[w,A]=E;return[m.map(w),y.map(A)]},b=_=>{if(!_)return null;const[E,w]=_,A=[m.invert(E),y.invert(w)];return v.invert(A)};return{transform:_=>x(_),untransform:_=>b(_)}}]]}function c(f){const{style:d,tooltip:h={}}=f;return Object.assign(Object.assign({},f),{type:"path",tooltip:nx(h,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},d),{d:p=>s(p)||[]})})}const u=f=>LW(f)?c(f):f;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:o.flatMap(u)})]};FW.props={};function gFe(e){return Gv(e,t=>t.className==="component")}function mFe(e){return Gv(e,t=>t.className==="element")}function yFe(e){return Gv(e,t=>t.className==="label")}function Na(e,t,n,r=a=>!0){return a=>{if(!r(a))return;n.emit(`plot:${e}`,a);const{target:i}=a;if(!i)return;const{className:o}=i;if(o==="plot")return;const s=mFe(i),l=gFe(i),c=yFe(i),u=s||l||c;if(!u)return;const{className:f,markType:d}=u,h=Object.assign(Object.assign({},a),{nativeEvent:!0});f==="element"?(h.data={data:bO(u,t)},n.emit(`element:${e}`,h),n.emit(`${d}:${e}`,h)):f==="label"?(h.data={data:u.attributes.datum},n.emit(`label:${e}`,h),n.emit(`${o}:${e}`,h)):(n.emit(`component:${e}`,h),n.emit(`${o}:${e}`,h))}}function BW(){return(e,t,n)=>{const{container:r,view:a}=e,i=Na(Dn.CLICK,a,n,w=>w.detail===1),o=Na(Dn.DBLCLICK,a,n,w=>w.detail===2),s=Na(Dn.POINTER_TAP,a,n),l=Na(Dn.POINTER_DOWN,a,n),c=Na(Dn.POINTER_UP,a,n),u=Na(Dn.POINTER_OVER,a,n),f=Na(Dn.POINTER_OUT,a,n),d=Na(Dn.POINTER_MOVE,a,n),h=Na(Dn.POINTER_ENTER,a,n),p=Na(Dn.POINTER_LEAVE,a,n),v=Na(Dn.POINTER_UPOUTSIDE,a,n),g=Na(Dn.DRAG_START,a,n),m=Na(Dn.DRAG,a,n),y=Na(Dn.DRAG_END,a,n),x=Na(Dn.DRAG_ENTER,a,n),b=Na(Dn.DRAG_LEAVE,a,n),_=Na(Dn.DRAG_OVER,a,n),E=Na(Dn.DROP,a,n);return r.addEventListener("click",i),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",f),r.addEventListener("pointermove",d),r.addEventListener("pointerenter",h),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",m),r.addEventListener("dragend",y),r.addEventListener("dragenter",x),r.addEventListener("dragleave",b),r.addEventListener("dragover",_),r.addEventListener("drop",E),()=>{r.removeEventListener("click",i),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",f),r.removeEventListener("pointermove",d),r.removeEventListener("pointerenter",h),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",m),r.removeEventListener("dragend",y),r.removeEventListener("dragenter",x),r.removeEventListener("dragleave",b),r.removeEventListener("dragover",_),r.removeEventListener("drop",E)}}}BW.props={reapplyWhenUpdate:!0};function xFe(){return{"component.axisRadar":hV,"component.axisLinear":Uu,"component.axisArc":uV,"component.legendContinuousBlock":vV,"component.legendContinuousBlockSize":gV,"component.legendContinuousSize":nT,"interaction.event":BW,"composition.mark":aW,"composition.view":rW,"shape.label.label":wU,"shape.break":PU}}var bFe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function ar(e,t){const n=Object.assign(Object.assign({},xFe()),t),r=i=>{if(typeof i!="string")return i;const o=`${e}.${i}`;return n[o]||B0(`Unknown Component: ${o}`)};return[(i,o)=>{const{type:s}=i,l=bFe(i,["type"]);s||B0("Plot type is required!");const c=r(s);return c==null?void 0:c(l,o)},r]}function $W(e){const{canvas:t,group:n}=e;return(t==null?void 0:t.document)||(n==null?void 0:n.ownerDocument)||B0("Cannot find library document")}var UI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function wFe(e,t,n){const[r]=ar("coordinate",n),{innerHeight:a,innerWidth:i,insetLeft:o,insetTop:s,insetRight:l,insetBottom:c}=e,{coordinates:u=[]}=t,f=OFe(u),d=f[0].type==="cartesian3D",h=Object.assign(Object.assign({},e),{x:o,y:s,width:i-o-l,height:a-c-s,transformations:f.flatMap(r)});return d?new ULe(h):new jLe(h)}function jW(e,t){const{coordinate:n={},coordinates:r}=e,a=UI(e,["coordinate","coordinates"]);if(r)return e;const{type:i,transform:o=[]}=n,s=UI(n,["type","transform"]);if(!i)return Object.assign(Object.assign({},a),{coordinates:o});const[,l]=ar("coordinate",t),{transform:c=!1}=l(i).props||{};if(c)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},a),{coordinates:[Object.assign({type:i},s),...o]})}function Gs(e,t){return e.filter(n=>n.type===t)}function Ef(e){return Gs(e,"polar").length>0}function _Fe(e){return Gs(e,"helix").length>0}function v0(e){return Gs(e,"transpose").length%2===1}function EFe(e){return Gs(e,"parallel").length>0}function zW(e){return Gs(e,"theta").length>0}function AFe(e){return Gs(e,"reflect").length>0}function t1(e){return Gs(e,"radial").length>0}function UW(e){return Gs(e,"radar").length>0}function SFe(e){return Gs(e,"reflectY").length>0}function OFe(e){return e.find(t=>t.type==="cartesian"||t.type==="cartesian3D")?e:[...e,{type:"cartesian"}]}function qt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const kFe=qt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),TFe=qt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),CFe=qt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),MFe=qt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),PFe=qt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),IFe=qt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),RFe=qt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),DFe=qt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),NFe=qt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),LFe=qt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),FFe=qt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function rb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function CT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Eh(){}var td=.7,th=1/td,g0="\\s*([+-]?\\d+)\\s*",K1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BFe=/^#([0-9a-f]{3,8})$/,$Fe=new RegExp(`^rgb\\(${g0},${g0},${g0}\\)$`),jFe=new RegExp(`^rgb\\(${Ml},${Ml},${Ml}\\)$`),zFe=new RegExp(`^rgba\\(${g0},${g0},${g0},${K1}\\)$`),UFe=new RegExp(`^rgba\\(${Ml},${Ml},${Ml},${K1}\\)$`),HFe=new RegExp(`^hsl\\(${K1},${Ml},${Ml}\\)$`),VFe=new RegExp(`^hsla\\(${K1},${Ml},${Ml},${K1}\\)$`),HI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rb(Eh,MT,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VI,formatHex:VI,formatHex8:WFe,formatHsl:GFe,formatRgb:WI,toString:WI});function VI(){return this.rgb().formatHex()}function WFe(){return this.rgb().formatHex8()}function GFe(){return VW(this).formatHsl()}function WI(){return this.rgb().formatRgb()}function MT(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BFe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?GI(t):n===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$Fe.exec(e))?new Ci(t[1],t[2],t[3],1):(t=jFe.exec(e))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zFe.exec(e))?dm(t[1],t[2],t[3],t[4]):(t=UFe.exec(e))?dm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HFe.exec(e))?qI(t[1],t[2]/100,t[3]/100,1):(t=VFe.exec(e))?qI(t[1],t[2]/100,t[3]/100,t[4]):HI.hasOwnProperty(e)?GI(HI[e]):e==="transparent"?new Ci(NaN,NaN,NaN,0):null}function GI(e){return new Ci(e>>16&255,e>>8&255,e&255,1)}function dm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ci(e,t,n,r)}function HW(e){return e instanceof Eh||(e=MT(e)),e?(e=e.rgb(),new Ci(e.r,e.g,e.b,e.opacity)):new Ci}function Z1(e,t,n,r){return arguments.length===1?HW(e):new Ci(e,t,n,r??1)}function Ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rb(Ci,Z1,CT(Eh,{brighter(e){return e=e==null?th:Math.pow(th,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?td:Math.pow(td,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ci(Ff(this.r),Ff(this.g),Ff(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YI,formatHex:YI,formatHex8:YFe,formatRgb:XI,toString:XI}));function YI(){return`#${Af(this.r)}${Af(this.g)}${Af(this.b)}`}function YFe(){return`#${Af(this.r)}${Af(this.g)}${Af(this.b)}${Af((isNaN(this.opacity)?1:this.opacity)*255)}`}function XI(){const e=wx(this.opacity);return`${e===1?"rgb(":"rgba("}${Ff(this.r)}, ${Ff(this.g)}, ${Ff(this.b)}${e===1?")":`, ${e})`}`}function wx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ff(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Af(e){return e=Ff(e),(e<16?"0":"")+e.toString(16)}function qI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ms(e,t,n,r)}function VW(e){if(e instanceof Ms)return new Ms(e.h,e.s,e.l,e.opacity);if(e instanceof Eh||(e=MT(e)),!e)return new Ms;if(e instanceof Ms)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Ms(o,s,l,e.opacity)}function XFe(e,t,n,r){return arguments.length===1?VW(e):new Ms(e,t,n,r??1)}function Ms(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rb(Ms,XFe,CT(Eh,{brighter(e){return e=e==null?th:Math.pow(th,e),new Ms(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?td:Math.pow(td,e),new Ms(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ci(__(e>=240?e-240:e+120,a,r),__(e,a,r),__(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ms(KI(this.h),hm(this.s),hm(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wx(this.opacity);return`${e===1?"hsl(":"hsla("}${KI(this.h)}, ${hm(this.s)*100}%, ${hm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KI(e){return e=(e||0)%360,e<0?e+360:e}function hm(e){return Math.max(0,Math.min(1,e||0))}function __(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qFe=Math.PI/180,KFe=180/Math.PI;var WW=-.14861,PT=1.78277,IT=-.29227,ab=-.90649,Q1=1.97294,ZI=Q1*ab,QI=Q1*PT,JI=PT*IT-ab*WW;function ZFe(e){if(e instanceof Bf)return new Bf(e.h,e.s,e.l,e.opacity);e instanceof Ci||(e=HW(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(JI*r+ZI*t-QI*n)/(JI+ZI-QI),i=r-a,o=(Q1*(n-a)-IT*i)/ab,s=Math.sqrt(o*o+i*i)/(Q1*a*(1-a)),l=s?Math.atan2(o,i)*KFe-120:NaN;return new Bf(l<0?l+360:l,s,a,e.opacity)}function $l(e,t,n,r){return arguments.length===1?ZFe(e):new Bf(e,t,n,r??1)}function Bf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rb(Bf,$l,CT(Eh,{brighter(e){return e=e==null?th:Math.pow(th,e),new Bf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?td:Math.pow(td,e),new Bf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*qFe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Ci(255*(t+n*(WW*r+PT*a)),255*(t+n*(IT*r+ab*a)),255*(t+n*(Q1*r)),this.opacity)}}));function QFe(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function JFe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return QFe((n-r/t)*t,o,a,i,s)}}const RT=e=>()=>e;function GW(e,t){return function(n){return e+n*t}}function e9e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function t9e(e,t){var n=t-e;return n?GW(e,n>180||n<-180?n-360*Math.round(n/360):n):RT(isNaN(e)?t:e)}function n9e(e){return(e=+e)==1?m0:function(t,n){return n-t?e9e(t,n,e):RT(isNaN(t)?n:t)}}function m0(e,t){var n=t-e;return n?GW(e,n):RT(isNaN(e)?t:e)}(function e(t){var n=n9e(t);function r(a,i){var o=n((a=Z1(a)).r,(i=Z1(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=m0(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r})(1);function r9e(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=Z1(t[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=e(r),a=e(a),i=e(i),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=i(l),s+""}}}var a9e=r9e(JFe);function YW(e){return(function t(n){n=+n;function r(a,i){var o=e((a=$l(a)).h,(i=$l(i)).h),s=m0(a.s,i.s),l=m0(a.l,i.l),c=m0(a.opacity,i.opacity);return function(u){return a.h=o(u),a.s=s(u),a.l=l(Math.pow(u,n)),a.opacity=c(u),a+""}}return r.gamma=t,r})(1)}YW(t9e);var DT=YW(m0);const sr=e=>a9e(e[e.length-1]);var XW=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qt);const i9e=sr(XW);var qW=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qt);const o9e=sr(qW);var KW=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qt);const s9e=sr(KW);var ZW=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qt);const l9e=sr(ZW);var QW=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qt);const c9e=sr(QW);var JW=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qt);const u9e=sr(JW);var eG=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qt);const f9e=sr(eG);var tG=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qt);const d9e=sr(tG);var nG=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qt);const h9e=sr(nG);var rG=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qt);const p9e=sr(rG);var aG=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qt);const v9e=sr(aG);var iG=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qt);const g9e=sr(iG);var oG=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qt);const m9e=sr(oG);var sG=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qt);const y9e=sr(sG);var lG=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qt);const x9e=sr(lG);var cG=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qt);const b9e=sr(cG);var uG=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qt);const w9e=sr(uG);var fG=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qt);const _9e=sr(fG);var dG=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qt);const E9e=sr(dG);var hG=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qt);const A9e=sr(hG);var pG=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qt);const S9e=sr(pG);var vG=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qt);const O9e=sr(vG);var gG=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qt);const k9e=sr(gG);var mG=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qt);const T9e=sr(mG);var yG=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qt);const C9e=sr(yG);var xG=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qt);const M9e=sr(xG);var bG=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qt);const P9e=sr(bG);function I9e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const R9e=DT($l(300,.5,0),$l(-240,.5,1));var D9e=DT($l(-100,.75,.35),$l(80,1.5,.8)),N9e=DT($l(260,.75,.35),$l(80,1.5,.8)),pm=$l();function L9e(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return pm.h=360*e-100,pm.s=1.5-1.5*t,pm.l=.8-.9*t,pm+""}var vm=Z1(),F9e=Math.PI/3,B9e=Math.PI*2/3;function $9e(e){var t;return e=(.5-e)*Math.PI,vm.r=255*(t=Math.sin(e))*t,vm.g=255*(t=Math.sin(e+F9e))*t,vm.b=255*(t=Math.sin(e+B9e))*t,vm+""}function j9e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function ib(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const z9e=ib(qt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var U9e=ib(qt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),H9e=ib(qt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),V9e=ib(qt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const cS=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:O9e,interpolateBrBG:i9e,interpolateBuGn:p9e,interpolateBuPu:v9e,interpolateCividis:I9e,interpolateCool:N9e,interpolateCubehelixDefault:R9e,interpolateGnBu:g9e,interpolateGreens:k9e,interpolateGreys:T9e,interpolateInferno:H9e,interpolateMagma:U9e,interpolateOrRd:m9e,interpolateOranges:P9e,interpolatePRGn:o9e,interpolatePiYG:s9e,interpolatePlasma:V9e,interpolatePuBu:x9e,interpolatePuBuGn:y9e,interpolatePuOr:l9e,interpolatePuRd:b9e,interpolatePurples:C9e,interpolateRainbow:L9e,interpolateRdBu:c9e,interpolateRdGy:u9e,interpolateRdPu:w9e,interpolateRdYlBu:f9e,interpolateRdYlGn:d9e,interpolateReds:M9e,interpolateSinebow:$9e,interpolateSpectral:h9e,interpolateTurbo:j9e,interpolateViridis:z9e,interpolateWarm:D9e,interpolateYlGn:E9e,interpolateYlGnBu:_9e,interpolateYlOrBr:A9e,interpolateYlOrRd:S9e,schemeAccent:TFe,schemeBlues:vG,schemeBrBG:XW,schemeBuGn:rG,schemeBuPu:aG,schemeCategory10:kFe,schemeDark2:CFe,schemeGnBu:iG,schemeGreens:gG,schemeGreys:mG,schemeObservable10:MFe,schemeOrRd:oG,schemeOranges:bG,schemePRGn:qW,schemePaired:PFe,schemePastel1:IFe,schemePastel2:RFe,schemePiYG:KW,schemePuBu:lG,schemePuBuGn:sG,schemePuOr:ZW,schemePuRd:cG,schemePurples:yG,schemeRdBu:QW,schemeRdGy:JW,schemeRdPu:uG,schemeRdYlBu:eG,schemeRdYlGn:tG,schemeReds:xG,schemeSet1:DFe,schemeSet2:NFe,schemeSet3:LFe,schemeSpectral:nG,schemeTableau10:FFe,schemeYlGn:dG,schemeYlGnBu:fG,schemeYlOrBr:hG,schemeYlOrRd:pG},Symbol.toStringTag,{value:"Module"}));function W9e(e,t,n,r,a,i){const{guide:o={}}=n,s=tBe(e,t,n);if(typeof s!="string")return n;const l=nBe(s,e,t,n),c=Q9e(s,l,n);return Object.assign(Object.assign(Object.assign({},n),aBe(s,e,t,n,r)),{domain:c,range:rBe(s,e,t,n,c,a,i),expectedDomain:l,guide:o,name:e,type:s})}function G9e(e,t){const n={};for(const r of e){const{values:a,name:i}=r,o=t[i];for(const s of a){const{name:l,value:c}=s;n[l]=c.map(u=>o.map(u))}}return n}function Y9e(e,t){const n=Array.from(e.values()).flatMap(a=>a.channels);fO(n,a=>a.map(i=>t.get(i.scale.uid)),a=>a.name).filter(([,a])=>a.some(i=>typeof i.getOptions().groupTransform=="function")&&a.every(i=>i.getTicks)).map(a=>a[1]).forEach(a=>{const i=a.map(o=>o.getOptions().groupTransform)[0];i(a)})}function X9e(e,t){var n;const{components:r=[]}=t,a=["scale","encode","axis","legend","data","transform"],i=Array.from(new Set(e.flatMap(s=>s.channels.map(l=>l.scale)))),o=new Map(i.map(s=>[s.name,s]));for(const s of r){const l=Z9e(s);for(const c of l){const u=o.get(c),f=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:d=!1}=f;if(u&&!d){const{guide:h}=u,p=typeof h=="boolean"?{}:h;u.guide=Me({},p,s),Object.assign(u,f)}else{const h=Object.assign(Object.assign({},f),{expectedDomain:f.domain,name:c,guide:rO(s,a)});i.push(h)}}}return i}function q9e(e){if(!e||!Array.isArray(e))return[Xf,Xf];let t,n;return[i=>{var o;t=i.map.bind(i),n=(o=i.invert)===null||o===void 0?void 0:o.bind(i);const s=e.filter(([d])=>typeof d=="function"),l=e.filter(([d])=>typeof d!="function"),c=new Map(l);if(i.map=d=>{for(const[h,p]of s)if(h(d))return p;return c.has(d)?c.get(d):t(d)},!n)return i;const u=new Map(l.map(([d,h])=>[h,d])),f=new Map(s.map(([d,h])=>[h,d]));return i.invert=d=>f.has(d)?d:u.has(d)?u.get(d):n(d),i},i=>(t!==null&&(i.map=t),n!==null&&(i.invert=n),i)]}function eR(e,t){const n=Object.keys(e);for(const r of Object.values(t)){const{name:a}=r.getOptions();if(!(a in e))e[a]=r;else{const i=n.filter(l=>l.startsWith(a)).map(l=>+(l.replace(a,"")||0)),o=Mn(i)+1,s=`${a}${o}`;e[s]=r,r.getOptions().key=s}}return e}function tR(e,t){const[n]=ar("scale",t),{relations:r}=e,[a]=q9e(r),i=n(e);return a(i)}function K9e(e){const t=e.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));nR(t,"x"),nR(t,"y")}function Z9e(e){const{channels:t=[],type:n,scale:r={}}=e,a=["shape","color","opacity","size"];return t.length!==0?t:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(i=>a.includes(i)):[]}function nR(e,t){const n=e.filter(({name:i,facet:o=!0})=>o&&i===t),r=n.flatMap(i=>i.domain),a=n.every(wG)?mc(r):n.every(_G)?Array.from(new Set(r)):null;if(a!==null)for(const i of n)i.domain=a}function Q9e(e,t,n){const{ratio:r}=n;return r==null?t:wG({type:e})?J9e(t,r,e):_G({type:e})?eBe(t,r):t}function J9e(e,t,n){const r=e.map(Number),a=new kc({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*t]});return n==="time"?e.map(i=>new Date(a.map(i))):e.map(i=>a.map(i))}function eBe(e,t){const n=Math.round(e.length*t);return e.slice(0,n)}function wG(e){const{type:t}=e;return typeof t!="string"?!1:["linear","log","pow","time"].includes(t)}function _G(e){const{type:t}=e;return typeof t!="string"?!1:["band","point","ordinal"].includes(t)}function tBe(e,t,n){const{type:r,domain:a,range:i,quantitative:o,ordinal:s}=n;return r!==void 0?r:gBe(t)?"identity":typeof i=="string"?"linear":(a||i||[]).length>2?E_(e,s):a!==void 0?oR([a])?E_(e,s):sR(t)?"time":aR(e,i,o):oR(t)?E_(e,s):sR(t)?"time":aR(e,i,o)}function nBe(e,t,n,r){const{domain:a}=r;if(a!==void 0)return a;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return iR(fBe(n,r),r);case"band":case"ordinal":case"point":return dBe(n);case"quantile":return hBe(n);case"sequential":return iR(pBe(n),r);default:return[]}}function rBe(e,t,n,r,a,i,o){const{range:s}=r;if(typeof s=="string")return iBe(s);if(s!==void 0)return s;const{rangeMin:l,rangeMax:c}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=rR(n,r,a,i,o),[f,d]=vBe(t,u);return[l??f,c??d]}case"band":case"point":return[l??(t==="size"?5:0),c??(t==="size"?10:1)];case"ordinal":return rR(n,r,a,i,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function aBe(e,t,n,r,a){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return lBe(a,r);case"band":case"point":return cBe(e,t,a,r);case"sequential":return sBe(r);default:return r}}function rR(e,t,n,r,a){const[i]=ar("palette",a),{category10:o,category20:s}=r,l=MAe(n).length<=o.length?o:s,{palette:c=l,offset:u}=t;if(Array.isArray(c))return c;try{return i({type:c})}catch{const d=oBe(c,n,u);if(d)return d;throw new Error(`Unknown Component: ${c} `)}}function iBe(e){return e.split("-")}function oBe(e,t,n=r=>r){if(!e)return null;const r=Ru(e),a=cS[`scheme${r}`],i=cS[`interpolate${r}`];if(!a&&!i)return null;if(a){if(!a.some(Array.isArray))return a;const o=a[t.length];if(o)return o}return t.map((o,s)=>i(n(s/t.length)))}function sBe(e){const{palette:t="ylGnBu",offset:n}=e,r=Ru(t),a=cS[`interpolate${r}`];if(!a)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?i=>a(n(i)):a}}function lBe(e,t){const{interpolate:n=kv,nice:r=!1,tickCount:a=5}=t;return Object.assign(Object.assign({},t),{interpolate:n,nice:r,tickCount:a})}function cBe(e,t,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const a=uBe(e,t,n),{paddingInner:i=a,paddingOuter:o=a}=r;return Object.assign(Object.assign({},r),{paddingInner:i,paddingOuter:o,padding:a,unknown:NaN})}function uBe(e,t,n){return t==="enterDelay"||t==="enterDuration"||t==="size"?0:e==="band"?zW(n)?0:.1:e==="point"?.5:0}function E_(e,t){return t||(mBe(e)?"point":"ordinal")}function aR(e,t,n){return n||(e!=="color"||t?"linear":"sequential")}function iR(e,t){if(e.length===0)return e;const{domainMin:n,domainMax:r}=t,[a,i]=e;return[n??a,r??i]}function fBe(e,t){const{zero:n=!1}=t;let r=1/0,a=-1/0;for(const i of e)for(const o of i)Kn(o)&&(r=Math.min(r,+o),a=Math.max(a,+o));return r===1/0?[]:n?[Math.min(0,r),a]:[r,a]}function dBe(e){return Array.from(new Set(e.flat()))}function hBe(e){return e.flat().sort()}function pBe(e){let t=1/0,n=-1/0;for(const r of e)for(const a of r)Kn(a)&&(t=Math.min(t,+a),n=Math.max(n,+a));return t===1/0?[]:[t<0?-n:t,n]}function vBe(e,t){return e==="enterDelay"?[0,1e3]:e=="enterDuration"?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:e==="color"?[CAe(t),OB(t)]:e==="opacity"?[0,1]:e==="size"?[1,10]:[0,1]}function oR(e){return NT(e,t=>{const n=typeof t;return n==="string"||n==="boolean"})}function sR(e){return NT(e,t=>t instanceof Date)}function gBe(e){return NT(e,$0)}function NT(e,t){for(const n of e)if(n.some(t))return!0;return!1}function mBe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}function yBe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e==="enterDelay"||e==="enterDuration"||e==="updateDelay"||e==="updateDuration"||e==="exitDelay"||e==="exitDuration"}function xBe(e){if(!e||!e.type)return!1;if(typeof e.type=="function")return!0;const{type:t,domain:n,range:r,interpolator:a}=e,i=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&i&&o||["sequential"].includes(t)&&i&&(o||a)||["constant","identity"].includes(t)&&o)}const bBe={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},wBe={threshold:"threshold",quantize:"quantize",quantile:"quantile"},_Be={ordinal:"ordinal",band:"band",point:"point"},EBe={constant:"constant"};var Vu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function ABe(e,t,n){const{coordinates:r=[],title:a}=t,[,i]=ar("component",n),o=e.filter(({guide:u})=>u!==null),s=[],l=DBe(t,e,n);if(s.push(...l),a){const{props:u}=i("title"),{defaultPosition:f,defaultOrientation:d,defaultOrder:h,defaultSize:p,defaultCrossPadding:v}=u,g=typeof a=="string"?{title:a}:a;s.push(Object.assign({type:"title",position:f,orientation:d,order:h,crossPadding:v[0],defaultSize:p},g))}return CBe(o,r).forEach(([u,f])=>{const{props:d}=i(u),{defaultPosition:h,defaultPlane:p="xy",defaultOrientation:v,defaultSize:g,defaultOrder:m,defaultLength:y,defaultPadding:x=[0,0],defaultCrossPadding:b=[0,0]}=d,_=Me({},...f),{guide:E,field:w}=_,A=Array.isArray(E)?E:[E];for(const S of A){const[O,k]=IBe(u,h,v,S,f,o,r);if(!O&&!k)continue;const T=O==="left"||O==="right",C=T?x[1]:x[0],M=T?b[1]:b[0],{size:P,order:I=m,length:L=y,padding:z=C,crossPadding:N=M}=S;s.push(Object.assign(Object.assign({title:w},S),{defaultSize:g,length:L,position:O,plane:p,orientation:k,padding:z,order:I,crossPadding:N,size:P,type:u,scales:f}))}}),s}function lR(e,t,n,r,a){const[i]=ar("component",r),{scaleInstances:o,scale:s,bbox:l}=e,c=Vu(e,["scaleInstances","scale","bbox"]),u={bbox:l,library:r};return i(c)({coordinate:t,library:r,markState:a,scales:o,theme:n,value:u,scale:s})}function SBe(e){return e.map(t=>{const n=Me(t,t.style);return delete n.style,n})}function EG(e,t){const n=["left","right","bottom","top"];return cO(e,({type:i,position:o,group:s})=>n.includes(o)?s===void 0?i.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,i])=>{if(i.length===1)return i[0];if(t!==void 0){const u=i.filter(v=>v.length!==void 0).map(v=>v.length),f=ns(u);if(f>t)return i.forEach(v=>v.group=Symbol("independent")),i;const d=t-f,h=i.length-u.length,p=d/h;i.forEach(v=>{v.length===void 0&&(v.length=p)})}const o=Mn(i,u=>u.size),s=Mn(i,u=>u.order),l=Mn(i,u=>u.crossPadding),c=i[0].position;return{type:"group",size:o,order:s,position:c,children:i,crossPadding:l}})}function OBe(e,t){const n=["shape","size","color","opacity"],r=(d,h)=>d==="constant"&&h==="size",a=e.filter(({type:d,name:h})=>typeof d=="string"&&n.includes(h)&&!r(d,h)),i=a.filter(({type:d})=>d==="constant"),o=a.filter(({type:d})=>d!=="constant"),l=cO(o,d=>d.field?d.field:Symbol("independent")).map(([d,h])=>[d,[...h,...i]]).filter(([,d])=>d.some(h=>h.type!=="constant")),c=new Map(l);if(c.size===0)return[];const u=d=>d.sort(([h],[p])=>h.localeCompare(p));return Array.from(c).map(([,d])=>{const p=PAe(d).sort((v,g)=>g.length-v.length).map(v=>({combination:v,option:v.map(g=>[g.name,kBe(g)])}));for(const{option:v,combination:g}of p)if(!v.every(m=>m[1]==="constant")&&v.every(m=>m[1]==="discrete"||m[1]==="constant"))return["legendCategory",g];for(const[v,g]of ZNe)for(const{option:m,combination:y}of p)if(g.some(x=>A1(u(x),u(m))))return[v,y];return null}).filter(Kn)}function kBe(e){const{type:t}=e;return typeof t!="string"?null:t in bBe?"continuous":t in _Be?"discrete":t in wBe?"distribution":t in EBe?"constant":null}function TBe(e,t){return e.map(n=>{const{name:r}=n;if(_Fe(t)||zW(t)||v0(t)&&(Ef(t)||t1(t)))return null;if(r.startsWith("x"))return Ef(t)?["axisArc",[n]]:t1(t)?["axisLinear",[n]]:[v0(t)?"axisY":"axisX",[n]];if(r.startsWith("y"))return Ef(t)?["axisLinear",[n]]:t1(t)?["axisArc",[n]]:[v0(t)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(UW(t))return["axisRadar",[n]];if(!Ef(t))return["axisY",[n]]}return null}).filter(Kn)}function CBe(e,t){const n=e.filter(r=>xBe(r));return[...OBe(n),...TBe(n,t)]}function uS(e){const t=Gs(e,"polar");if(t.length){const r=t[t.length-1],{startAngle:a,endAngle:i}=QF(r);return[a,i]}const n=Gs(e,"radial");if(n.length){const r=n[n.length-1],{startAngle:a,endAngle:i}=t9(r);return[a,i]}return[-Math.PI/2,Math.PI/2*3]}function MBe(e){const t=/position(\d*)/g.exec(e);return t?+t[1]:null}function PBe(e,t,n,r,a){const{name:i}=n[0];if(e==="axisRadar"){const o=r.filter(d=>d.name.startsWith("position")),s=MBe(i);if(s===null)return[null,null];const[l,c]=uS(a),u=UW(a)?o.length:o.length-1;return["center",(c-l)/u*s+l]}if(e==="axisY"&&EFe(a))return v0(a)?["center","horizontal"]:["center","vertical"];if(e==="axisLinear"){const[o]=uS(a);return["center",o]}return e==="axisArc"?t[0]==="inner"?["inner",null]:["outer",null]:Ef(a)?["center",null]:t1(a)?["center",null]:e==="axisX"&&AFe(a)||e==="axisX"&&SFe(a)?["top",null]:t}function IBe(e,t,n,r,a,i,o){const[s]=uS(o),l=[r.position||t,s??n];return typeof e=="string"&&e.startsWith("axis")?PBe(e,l,a,i,o):typeof e=="string"&&e.startsWith("legend")&&Ef(o)&&r.position==="center"?["center","vertical"]:l}function RBe(e,t,n=[]){return e==="x"?v0(n)?`${t}Y`:`${t}X`:e==="y"?v0(n)?`${t}X`:`${t}Y`:null}function DBe(e,t,n){const[,r]=ar("component",n),{coordinates:a}=e;function i(o,s,l,c){const u=RBe(s,o,a);if(!c||!u)return;const{props:f}=r(u),{defaultPosition:d,defaultSize:h,defaultOrder:p,defaultCrossPadding:[v]}=f;return Object.assign(Object.assign({position:d,defaultSize:h,order:p,type:u,crossPadding:v},c),{scales:[l]})}return t.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:l,name:c}=o;return[i("slider",c,o,s),i("scrollbar",c,o,l)]}).filter(o=>!!o)}function AG(e,t,n,r,a,i){const{type:o}=e;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const l=o;return(l.startsWith("axis")?$Be:l.startsWith("group")?NBe:l.startsWith("legendContinuous")?jBe:l==="legendCategory"?zBe:l.startsWith("slider")?BBe:l==="title"?FBe:l.startsWith("scrollbar")?LBe:()=>{})(e,t,n,r,a,i)}function NBe(e,t,n,r,a,i){const{children:o}=e,s=Mn(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>AG(c,t,n,r,a,i));const l=Mn(o,c=>c.size);e.size=l,o.forEach(c=>c.size=l)}function LBe(e,t,n,r,a,i){const{trackSize:o=6}=Me({},a.scrollbar,e);e.size=o}function FBe(e,t,n,r,a,i){const o=Me({},a.title,e),{title:s,subtitle:l,spacing:c=0}=o,u=Vu(o,["title","subtitle","spacing"]);if(s){const f=Xe(u,"title"),d=_x(s,f);e.size=d.height}if(l){const f=Xe(u,"subtitle"),d=_x(l,f);e.size+=c+d.height}}function BBe(e,t,n,r,a,i){const o=()=>{const{slider:u}=a;return Me({},u,e)},{trackSize:s,handleIconSize:l}=o(),c=Math.max(s,l*2.4);e.size=c}function $Be(e,t,n,r,a,i){var o,s;e.transform=e.transform||[{type:"hide"}];const l=r==="left"||r==="right",c=SG(e,r,a),{tickLength:u=0,labelSpacing:f=0,titleSpacing:d=0,labelAutoRotate:h}=c,p=Vu(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),v=ob(e,i),g=sb(p,v);let m=u;if(typeof e.tickLength=="function"){const _=(((o=v.getTicks)===null||o===void 0?void 0:o.call(v))||v.getOptions().domain).map((E,w,A)=>e.tickLength(E,w,A));m=Math.max(..._,0)}const y=m+f;if(g&&g.length){const b=Mn(g,E=>E.width),_=Mn(g,E=>E.height);if(l)e.size=b+y;else{const{tickFilter:E,labelTransform:w}=e;VBe(v,g,t,n,E)&&!w&&h!==!1&&h!==null?(e.labelTransform="rotate(90)",e.size=b+y):(e.labelTransform=(s=e.labelTransform)!==null&&s!==void 0?s:"rotate(0)",e.size=_+y)}}else e.size=m;const x=lb(p);x&&(l?e.size+=d+x.width:e.size+=d+x.height)}function jBe(e,t,n,r,a,i){const s=(()=>{const{legendContinuous:b}=a;return Me({},b,e)})(),{labelSpacing:l=0,titleSpacing:c=0}=s,u=Vu(s,["labelSpacing","titleSpacing"]),f=r==="left"||r==="right",d=Xe(u,"ribbon"),{size:h}=d,p=Xe(u,"handleIcon"),{size:v}=p,g=Math.max(h,v*2.4);e.size=g;const m=ob(e,i),y=sb(u,m);if(y){const b=f?"width":"height",_=Mn(y,E=>E[b]);e.size+=_+l}const x=lb(u);x&&(f?e.size=Math.max(e.size,x.width):e.size+=c+x.height)}function zBe(e,t,n,r,a,i){const s=(()=>{const{legendCategory:I}=a,{title:L}=e,[z,N]=Array.isArray(L)?[L,void 0]:[void 0,L];return Me({title:z},I,Object.assign(Object.assign({},e),{title:N}))})(),{focus:l,itemSpacing:c,focusMarkerSize:u,itemMarkerSize:f,titleSpacing:d,rowPadding:h,colPadding:p,maxCols:v=1/0,maxRows:g=1/0}=s,m=Vu(s,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:y,length:x}=e,b=I=>Math.min(I,g),_=I=>Math.min(I,v),E=r==="left"||r==="right",w=x===void 0?t+(E?0:n[0]+n[1]):x,A=lb(m),S=ob(e,i),O=sb(m,S,"itemLabel"),k=Math.max(O[0].height,f)+h,T=(I,L=0)=>f+I+c[0]+L+(l?u+c[2]:0);E?(()=>{let I=-1/0,L=0,z=1,N=0,G=-1/0,Y=-1/0;const B=A?A.height:0,F=w-B;for(const{width:D}of O){const R=T(D,p);I=Math.max(I,R),L+k>F?(z++,G=Math.max(G,N),Y=Math.max(Y,L),N=1,L=k):(L+=k,N++)}z<=1&&(G=N,Y=L),e.size=I*_(z),e.length=Y+B,Me(e,{cols:_(z),gridRow:G})})():typeof y=="number"?(()=>{const I=Math.ceil(O.length/y),L=Mn(O,z=>T(z.width))*y;e.size=k*b(I)-h,e.length=Math.min(L,w)})():(()=>{let I=1,L=0,z=-1/0;for(const{width:N}of O){const G=T(N,p);L+G>w?(z=Math.max(z,L),L=G,I++):L+=G}I===1&&(z=L),e.size=k*b(I)-h,e.length=z})(),A&&(E?e.size=Math.max(e.size,A.width):e.size+=d+A.height)}function ob(e,t){const[n]=ar("scale",t),{scales:r,tickCount:a,tickMethod:i}=e,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return a!==void 0&&(o.tickCount=a),i!==void 0&&(o.tickMethod=i),n(o)}function sb(e,t,n="label"){const{labelFormatter:r,tickFilter:a,label:i=!0}=e,o=Vu(e,["labelFormatter","tickFilter","label"]);if(!i)return null;const s=UBe(t,r,a),l=Xe(o,n),c=s.map((d,h)=>Object.fromEntries(Object.entries(l).map(([p,v])=>[p,typeof v=="function"?v(d,h):v]))),u=s.map((d,h)=>{const p=c[h];return _x(d,p)});if(!c.some(d=>d.transform)){const d=s.map((h,p)=>p);e.indexBBox=new Map(d.map(h=>[h,[s[h],u[h]]]))}return u}function lb(e){const t=c=>c===!1||c===null,{title:n}=e,r=Vu(e,["title"]);if(t(n)||n===void 0)return null;const a=Xe(r,"title"),{direction:i,transform:o}=a,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:_x(s,Object.assign(Object.assign({},a),{transform:o||(i==="vertical"?"rotate(-90)":"")}))}function SG(e,t,n){const{title:r}=e,[a,i]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${_O(t)}`]:s}=n;return Me({title:a},o,s,Object.assign(Object.assign({},e),{title:i}))}function OG(e,t){const n=e.getTicks?e.getTicks():e.getOptions().domain;return t?n.filter(t):n}function UBe(e,t,n){const a=OG(e,n).map(o=>typeof o=="number"?Wy(o):o),i=t?typeof t=="string"?zu(t):t:e.getFormatter?e.getFormatter():o=>`${o}`;return a.map(i)}function HBe(e,t){return e.getBandWidth?e.getBandWidth(t)/2:0}function VBe(e,t,n,r,a){if(ns(t,h=>h.width)>n)return!0;const o=e.clone();o.update({range:[0,n]});const s=OG(e,a),l=s.map(h=>o.map(h)+HBe(o,h)),c=s.map((h,p)=>p),u=-r[0],f=n+r[1],d=(h,p)=>{const{width:v}=p;return[h-v/2,h+v/2]};for(let h=0;h<c.length;h++){const p=l[h],[v,g]=d(p,t[h]);if(v<u||g>f)return!0;const m=l[h+1];if(m){const[y]=d(m,t[h+1]);if(g>y)return!0}}return!1}function _x(e,t){const n=WBe(e),{filter:r}=t,a=Vu(t,["filter"]);return n.attr(Object.assign(Object.assign({},a),{visibility:"none"})),n.getBBox()}function WBe(e){return e instanceof or?e:new Vs({style:{text:`${e}`}})}const cR=16;function GBe(e){const t=e.find(({type:a})=>a==="axisX"),n=e.find(({type:a})=>a==="axisY"),r=e.find(({type:a})=>a==="axisZ");t&&n&&r&&(t.plane="xy",n.plane="xy",r.plane="yz",r.origin=[t.bbox.x,t.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=t.bbox.x,r.bbox.y=t.bbox.y,e.push(Object.assign(Object.assign({},t),{plane:"xz",showLabel:!1,showTitle:!1,origin:[t.bbox.x,t.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function YBe(e,t,n,r){var a,i,o,s;const{width:l,height:c,depth:u,x:f=0,y:d=0,z:h=0,inset:p=(a=n.inset)!==null&&a!==void 0?a:0,insetLeft:v=p,insetTop:g=p,insetBottom:m=p,insetRight:y=p,margin:x=(i=n.margin)!==null&&i!==void 0?i:0,marginLeft:b=x,marginBottom:_=x,marginTop:E=x,marginRight:w=x,padding:A=n.padding,paddingBottom:S=A,paddingLeft:O=A,paddingRight:k=A,paddingTop:T=A}=qBe(e,t,n,r),C=b===cR&&O==="auto",M=w===cR&&k==="auto",P=sn(t,"coordinates",[]).some(he=>he.type==="transpose"),I=e.find(({type:he})=>he==="axisX"),{size:L,labelTransform:z}=I||{},N=1/4,G=(he,me,xe,be,De)=>{const{marks:ue}=t;if(ue.length===0)return[be,De];if(he-be-De-he*N>0)return[be,De];const We=he*(1-N);return[me==="auto"?We*be/(be+De):be,xe==="auto"?We*De/(be+De):De]},Y=he=>he==="auto"?20:he??20,B=Y(T),F=Y(S),D=uR(e,c-B-F,[B+E,F+_],["left","right"],t,n,r),{paddingLeft:R,paddingRight:V}=D,H=l-b-w;let[j,K]=G(H,O,k,R,V),re=H-j-K;const ae=uR(e,re,[j+b,K+w],["bottom","top"],t,n,r),{paddingTop:U,paddingBottom:q}=ae,J=c-_-E,[X,ce]=G(J,S,T,q,U),te=J-X-ce;if(L&&!P&&!z){const{fontSize:he=12,fontFamily:me="sans-serif",scales:xe=[]}=I,be=(s=(o=xe==null?void 0:xe[0])===null||o===void 0?void 0:o.domain)!==null&&s!==void 0?s:[];if(!be.length)return;const De=(ue,ve,ze,We)=>{const lt=dz(ve,{fontSize:he,fontFamily:me}),Pe=lt/2-ze-We;Pe>0&&(re-=Pe,ue==="left"?j+=lt/2-ze:K+=lt/2-ze)};C&&De("left",Wbe(be),b,j),M&&De("right",Ao(be),w,K)}return{width:l,height:c,depth:u,insetLeft:v,insetTop:g,insetBottom:m,insetRight:y,innerWidth:re,innerHeight:te,paddingLeft:j,paddingRight:K,paddingTop:ce,paddingBottom:X,marginLeft:b,marginBottom:_,marginTop:E,marginRight:w,x:f,y:d,z:h}}function XBe(e){const{height:t,width:n,padding:r=0,paddingLeft:a=r,paddingRight:i=r,paddingTop:o=r,paddingBottom:s=r,margin:l=16,marginLeft:c=l,marginRight:u=l,marginTop:f=l,marginBottom:d=l,inset:h=0,insetLeft:p=h,insetRight:v=h,insetTop:g=h,insetBottom:m=h}=e,y=_=>_==="auto"?20:_,x=n-y(a)-y(i)-c-u-p-v,b=t-y(o)-y(s)-f-d-g-m;return{width:x,height:b}}function qBe(e,t,n,r){const{coordinates:a}=t;if(!Ef(a)&&!t1(a))return t;const i=e.filter(m=>typeof m.type=="string"&&m.type.startsWith("axis"));if(i.length===0)return t;const o=i.map(m=>{const y=m.type==="axisArc"?"arc":"linear";return SG(m,y,n)}),s=Mn(o,m=>{var y;return(y=m.labelSpacing)!==null&&y!==void 0?y:0}),l=i.flatMap((m,y)=>{const x=o[y],b=ob(m,r);return sb(x,b)}).filter(Kn),c=Mn(l,m=>m.height)+s,u=i.flatMap((m,y)=>{const x=o[y];return lb(x)}).filter(m=>m!==null),f=u.length===0?0:Mn(u,m=>m.height),{inset:d=c,insetLeft:h=d,insetBottom:p=d,insetTop:v=d+f,insetRight:g=d}=t;return Object.assign(Object.assign({},t),{insetLeft:h,insetBottom:p,insetTop:v,insetRight:g})}function uR(e,t,n,r,a,i,o){const s=er(e,p=>p.position),{padding:l=i.padding,paddingLeft:c=l,paddingRight:u=l,paddingBottom:f=l,paddingTop:d=l}=a,h={paddingBottom:f,paddingLeft:c,paddingTop:d,paddingRight:u};for(const p of r){const v=`padding${_O(ok(p))}`,g=s.get(p)||[],m=h[v],y=S=>{S.size===void 0&&(S.size=S.defaultSize)},x=S=>{S.type==="group"?(S.children.forEach(y),S.size=Mn(S.children,O=>O.size)):S.size=S.defaultSize},b=S=>{S.size||(m!=="auto"?x(S):(AG(S,t,n,p,i,o),y(S)))},_=S=>{S.type.startsWith("axis")&&S.labelAutoHide===void 0&&(S.labelAutoHide=!0)},E=p==="bottom"||p==="top",w=Mo(g,S=>S.order),A=g.filter(S=>S.type.startsWith("axis")&&S.order==w);if(A.length&&(A[0].crossPadding=0),typeof m=="number")g.forEach(y),g.forEach(_);else if(g.length===0)h[v]=0;else{const S=E?t+n[0]+n[1]:t,O=EG(g,S);O.forEach(b);const k=O.reduce((T,{size:C,crossPadding:M=12})=>T+C+M,0);h[v]=k}}return h}function KBe(e,t,n){const r=er(e,E=>`${E.plane||"xy"}-${E.position}`),{paddingLeft:a,paddingRight:i,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m,height:y,width:x,depth:b}=n,_={xy:A_({width:x,height:y,paddingLeft:a,paddingRight:i,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:f,innerHeight:d,innerWidth:h,insetBottom:p,insetLeft:v,insetRight:g,insetTop:m}),yz:A_({width:b,height:y,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:y,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:A_({width:x,height:b,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:x,innerHeight:b,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[E,w]of r.entries()){const[A,S]=E.split("-"),O=_[A][S],[k,T]=kB(w,C=>typeof C.type!="string"?!1:!!(S==="center"||C.type.startsWith("axis")&&["inner","outer"].includes(S)));k.length&&ZBe(k,t,O,S),T.length&&o$e(w,t,O)}}function A_({width:e,height:t,paddingLeft:n,paddingRight:r,paddingTop:a,paddingBottom:i,marginLeft:o,marginTop:s,marginBottom:l,marginRight:c,innerHeight:u,innerWidth:f,insetBottom:d,insetLeft:h,insetRight:p,insetTop:v}){const g=n+o,m=a+s,y=r+c,x=i+l,b=e-o-c,_=[g+h,m+v,f-h-p,u-v-d,"center",null,null];return{top:[g,0,f,m,"vertical",!0,Lr,o,b],right:[e-y,m,y,u,"horizontal",!1,Lr],bottom:[g,t-x,f,x,"vertical",!1,Lr,o,b],left:[0,m,g,u,"horizontal",!0,Lr],"top-left":[g,0,f,m,"vertical",!0,Lr],"top-right":[g,0,f,m,"vertical",!0,Lr],"bottom-left":[g,t-x,f,x,"vertical",!1,Lr],"bottom-right":[g,t-x,f,x,"vertical",!1,Lr],center:_,inner:_,outer:_}}function ZBe(e,t,n,r){const[a,i]=kB(e,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));QBe(a,t,n,r),s$e(i,t,n)}function QBe(e,t,n,r){r==="center"?RSe(t)?i$e(e,t,n):$n(t)?t$e(e,t,n):S2(t)&&n$e(e,t,n,e[0].orientation):r==="inner"?JBe(e,t,n):r==="outer"&&e$e(e,t,n)}function JBe(e,t,n){const[r,a,,i]=n,[o,s]=t.getCenter(),[l]=O2(t),c=i/2,u=l*c,f=o-u,d=s-u;for(let h=0;h<e.length;h++){const p=e[h];p.bbox={x:r+f,y:a+d,width:u*2,height:u*2}}}function e$e(e,t,n){const[r,a,i,o]=n;for(const s of e)s.bbox={x:r,y:a,width:i,height:o}}function t$e(e,t,n){const[r,a,i,o]=n;for(const s of e)s.bbox={x:r,y:a,width:i,height:o}}function n$e(e,t,n,r){r==="horizontal"?a$e(e,t,n):r==="vertical"&&r$e(e,t,n)}function r$e(e,t,n){const[r,a,,i]=n,o=new Array(e.length).fill(0),l=t.map(o).filter((c,u)=>u%2===0).map(c=>c+r);for(let c=0;c<e.length;c++){const u=e[c],f=l[c],d=l[c+1]-f;u.bbox={x:f,y:a,width:d,height:i}}}function a$e(e,t,n){const[r,a,i]=n,o=new Array(e.length).fill(0),l=t.map(o).filter((c,u)=>u%2===1).map(c=>c+a);for(let c=0;c<e.length;c++){const u=e[c],f=l[c],d=l[c+1]-f;u.bbox={x:r,y:f,width:i,height:d}}}function i$e(e,t,n,r){const[a,i,o,s]=n;for(const l of e)l.bbox={x:a,y:i,width:o,height:s},l.radar={index:e.indexOf(l),count:e.length}}function o$e(e,t,n){const[r,a,i,o,s,l,c,u,f]=n,[d,h,p,v,g,m,y,x]=s==="vertical"?["y",a,"x",r,"height",o,"width",i]:["x",r,"y",a,"width",i,"height",o];e.sort((S,O)=>c==null?void 0:c(S.order,O.order));const b=S=>S==="title"||S==="group"||S.startsWith("legend"),_=(S,O,k)=>k===void 0?O:b(S)?k:O,E=(S,O,k)=>k===void 0?O:b(S)?k:O,w=l?h+m:h;for(let S=0,O=w;S<e.length;S++){const k=e[S],{crossPadding:T=0,type:C}=k,{size:M}=k;k.bbox={[d]:l?O-M-T:O+T,[p]:E(C,v,u),[g]:M,[y]:_(C,x,f)},O+=(M+T)*(l?-1:1)}const A=e.filter(S=>S.type==="group");for(const S of A){const{bbox:O,children:k}=S,T=O[y],C=T/k.length,M=k.reduce((N,G)=>{var Y;const B=(Y=G.layout)===null||Y===void 0?void 0:Y.justifyContent;return B||N},"flex-start"),P=k.map((N,G)=>{const{length:Y=C,padding:B=0}=N;return Y+(G===k.length-1?0:B)}),I=ns(P),L=T-I,z=M==="flex-start"?0:M==="center"?L/2:L;for(let N=0,G=O[p]+z;N<k.length;N++){const Y=k[N],{padding:B=0}=Y,F=N===k.length-1?0:B;Y.bbox={[g]:O[g],[d]:O[d],[p]:G,[y]:P[N]-F},Me(Y,{layout:{justifyContent:M}}),G+=P[N]}}}function s$e(e,t,n){if(e.length===0)return;const[r,a,i,o]=n,[s]=O2(t),l=o/2*s/Math.sqrt(2),c=r+i/2,u=a+o/2;for(let f=0;f<e.length;f++){const d=e[f];d.bbox={x:c-l,y:u-l,width:l*2,height:l*2}}}var l$e=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},nh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const LT=Symbol("CALLBACK_ITEM");function c$e(e,t,n){const{encode:r={},scale:a={},transform:i=[]}=t,o=nh(t,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},o),{encode:r,scale:a,transform:i})]}function kG(e,t,n){return l$e(this,void 0,void 0,function*(){const{library:r}=n,{data:a}=t,[i]=ar("data",r),o=E$e(a),{transform:s=[]}=o,u=[nh(o,["transform"]),...s].map(h=>i(h,n)),f=yield SAe(u)(a),d=a&&!Array.isArray(a)&&!Array.isArray(f)?{value:f}:f;return[Array.isArray(f)?hd(f):[],Object.assign(Object.assign({},t),{data:d})]})}function u$e(e,t,n){const{encode:r}=t;if(!r)return[e,t];const a={};for(const[i,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=`${i}${s===0?"":s}`;a[l]=o[s]}else a[i]=o;return[e,Object.assign(Object.assign({},t),{encode:a})]}function f$e(e,t,n){const{encode:r,data:a}=t;if(!r)return[e,t];const i=Dl(r,o=>b$e(o)?o:{type:w$e(a,o),value:o});return[e,Object.assign(Object.assign({},t),{encode:i})]}function d$e(e,t,n){const{encode:r}=t;if(!r)return[e,t];const a=Dl(r,(i,o)=>{const{type:s}=i;return s!=="constant"||yBe(o)?i:Object.assign(Object.assign({},i),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:a})]}function h$e(e,t,n){const{encode:r,data:a}=t;if(!r)return[e,t];const{library:i}=n,o=O$e(i),s=Dl(r,l=>o(a,l));return[e,Object.assign(Object.assign({},t),{encode:s})]}function p$e(e,t,n){const{tooltip:r={}}=t;return Tc(r)?[e,t]:Array.isArray(r)?[e,Object.assign(Object.assign({},t),{tooltip:{items:r}})]:$0(r)&&KU(r)?[e,Object.assign(Object.assign({},t),{tooltip:r})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[r]}})]}function v$e(e,t,n){const{data:r,encode:a,tooltip:i={}}=t;if(Tc(i))return[e,t];const o=f=>{if(!f)return f;if(typeof f=="string")return e.map(d=>({name:f,value:r[d][f]}));if($0(f)){const{field:d,channel:h,color:p,name:v=d,valueFormatter:g=E=>E}=f,m=typeof g=="string"?zu(g):g,y=h&&a[h],x=y&&a[h].field,b=v||x||h,_=[];for(const E of e){const w=d?r[E][d]:y?a[h].value[E]:null;_[E]={name:b,color:p,value:m(w)}}return _}if(typeof f=="function"){const d=[];for(const h of e){const p=f(r[h],h,r,a);$0(p)?d[h]=Object.assign(Object.assign({},p),{[LT]:!0}):d[h]={value:p}}return d}return f},{title:s,items:l=[]}=i,c=nh(i,["title","items"]),u=Object.assign({title:o(s),items:Array.isArray(l)?l.map(o):[]},c);return[e,Object.assign(Object.assign({},t),{tooltip:u})]}function g$e(e,t,n){const{encode:r}=t,a=nh(t,["encode"]);if(!r)return[e,t];const i=Object.entries(r),o=i.filter(([,l])=>{const{value:c}=l;return Array.isArray(c[0])}).flatMap(([l,c])=>{const u=[[l,new Array(e.length).fill(void 0)]],{value:f}=c,d=nh(c,["value"]);for(let h=0;h<f.length;h++){const p=f[h];if(Array.isArray(p))for(let v=0;v<p.length;v++){const g=u[v]||[`${l}${v}`,new Array(e).fill(void 0)];g[1][h]=p[v],u[v]=g}}return u.map(([h,p])=>[h,Object.assign({type:"column",value:p},d)])}),s=Object.fromEntries([...i,...o]);return[e,Object.assign(Object.assign({},a),{encode:s})]}function m$e(e,t,n){const{axis:r={},legend:a={},slider:i={},scrollbar:o={}}=t,s=(c,u)=>{if(typeof c=="boolean")return c?{}:null;const f=c[u];return f===void 0||f?f:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return Me(t,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(c=>{const u=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(i,c),scrollbar:u},u&&{ratio:u.ratio===void 0?.5:u.ratio})]}))),{color:{guide:s(a,"color")},size:{guide:s(a,"size")},shape:{guide:s(a,"shape")},opacity:{guide:s(a,"opacity")}})}),[e,t]}function y$e(e,t,n){const{animate:r}=t;return r||r===void 0?[e,t]:(Me(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t])}function x$e(e,t,n){var r,a;return Me(t,{scale:{series:Object.assign({key:`DEFAULT_${t.type}_SERIES_KEY`},(a=(r=t==null?void 0:t.scale)===null||r===void 0?void 0:r.series)!==null&&a!==void 0?a:{})}}),[e,t]}function b$e(e){if(typeof e!="object"||e instanceof Date||e===null)return!1;const{type:t}=e;return Kn(t)}function w$e(e,t){return typeof t=="function"?"transform":typeof t=="string"&&_$e(e,t)?"field":"constant"}function _$e(e,t){return Array.isArray(e)?e.some(n=>n[t]!==void 0):!1}function E$e(e){if(nr(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:t="inline"}=e,n=nh(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}var TG=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},A$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function S$e(e,t,n){return TG(this,void 0,void 0,function*(){const[r,a]=yield k$e(e,t,n),{encode:i,scale:o,data:s,tooltip:l,key:c}=a;if(Array.isArray(s)===!1)return null;const{channels:u}=t,f=fO(Object.entries(i).filter(([,h])=>Kn(h)),h=>h.map(([p,v])=>Object.assign({name:p},v)),([h])=>{var p;const v=(p=/([^\d]+)\d*$/.exec(h))===null||p===void 0?void 0:p[1],g=u.find(m=>m.name===v);return g!=null&&g.independent?h:v}),d=u.filter(h=>{const{name:p,required:v}=h;if(f.find(([g])=>g===p))return!0;if(v)throw new Error(`Missing encoding for channel: ${p}.`);return!1}).flatMap(h=>{const{name:p,scale:v,scaleKey:g,range:m,quantitative:y,ordinal:x}=h;return f.filter(([_])=>_.startsWith(p)).map(([_,E],w)=>{const A=E.some(L=>L.visual),S=E.some(L=>L.constant),O=o[_]||{},{independent:k=!1,key:T=g||_,type:C=S?"constant":A?"identity":v}=O,M=A$e(O,["independent","key","type"]),P=C==="constant",I=P?void 0:m;return{name:_,values:E,scaleKey:k||P?Symbol("independent"):T,scale:Object.assign(Object.assign({type:C,markerKey:c,range:I},M),{quantitative:y,ordinal:x})}})});return[a,Object.assign(Object.assign({},t),{index:r,channels:d,tooltip:l})]})}function O$e(e){const[t]=ar("encode",e);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:t(r)(n),field:T$e(r)})}function k$e(e,t,n){return TG(this,void 0,void 0,function*(){const{library:r}=n,[a]=ar("transform",r),{preInference:i=[],postInference:o=[]}=t,{transform:s=[]}=e,l=[c$e,kG,u$e,f$e,d$e,h$e,g$e,y$e,m$e,p$e,x$e,...i.map(a),...s.map(a),...o.map(a),v$e];let c=[],u=e;for(const f of l)[c,u]=yield f(c,u,n);return[c,u]})}function T$e(e){const{type:t,value:n}=e;return t==="field"&&typeof n=="string"?n:null}var bc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Su=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function FT(e,t,n){var r;return bc(this,void 0,void 0,function*(){const{library:a}=n,[i]=ar("composition",a),[o]=ar("interaction",a),s=new Set(Object.keys(a).map(C=>{var M;return(M=/mark\.(.*)/.exec(C))===null||M===void 0?void 0:M[1]}).filter(Kn)),l=new Set(Object.keys(a).map(C=>{var M;return(M=/component\.(.*)/.exec(C))===null||M===void 0?void 0:M[1]}).filter(Kn)),c=C=>{const{type:M}=C;if(typeof M=="function"){const{props:P={}}=M,{composite:I=!0}=P;if(I)return"mark"}return typeof M!="string"?M:s.has(M)||l.has(M)?"mark":M},u=C=>c(C)==="mark",f=C=>c(C)==="standardView",d=C=>{const{type:M}=C;return typeof M!="string"?!1:!!l.has(M)},h=C=>{if(f(C))return[C];const M=c(C);return i({type:M,static:d(C)})(C)},p=[],v=new Map,g=new Map,m=[e],y=[];for(;m.length;){const C=m.shift();if(f(C)){const M=g.get(C),[P,I]=M?PG(M,C,a):yield CG(C,n);v.set(P,C),p.push(P);const L=I.flatMap(h).map(z=>jW(z,a));if(m.push(...L),L.every(f)){const z=yield Promise.all(L.map(N=>MG(N,n)));K9e(z);for(let N=0;N<L.length;N++){const G=L[N],Y=z[N];g.set(G,Y)}}}else{const M=u(C)?C:yield NG(C,n),P=h(M);Array.isArray(P)?m.push(...P):typeof P=="function"&&y.push(P())}}n.emitter.emit(Dn.BEFORE_PAINT);const x=new Map,b=new Map,_=[];t.selectAll(Qo(Jy)).data(p,C=>C.key).join(C=>C.append("g").attr("className",Jy).attr("id",M=>M.key).call(fR).each(function(M,P,I){dS(M,xt(I),_,n),x.set(M,I)}),C=>C.call(fR).each(function(M,P,I){dS(M,xt(I),_,n),b.set(M,I)}),C=>C.each(function(M,P,I){const L=I.nameInteraction.values();for(const z of L)z.destroy()}).remove());const E=(C,M,P)=>Array.from(C.entries()).map(([I,L])=>{const z=P||new Map,N=(F,D=R=>R)=>z.set(F,D),G=v.get(I),Y=M$e(xt(L),G,n),B={view:I,container:L,options:G,setState:N,update:(F,D)=>bc(this,void 0,void 0,function*(){const V=wO(Array.from(z.values()))(G);return yield Y(V,F,()=>{Ra(D)&&M(C,D,z)})})};return n.externals.update=B.update,n.externals.setState=N,B}),w=(C=b,M,P)=>{var I;const L=E(C,w,P);for(const z of L){const{options:N,container:G}=z,Y=G.nameInteraction;let B=Ex(N);M&&(B=B.filter(F=>M.includes(F[0])));for(const F of B){const[D,R]=F,V=Y.get(D);if(V&&((I=V.destroy)===null||I===void 0||I.call(V)),R){const j=fS(z.view,D,R,o)(z,L,n.emitter);Y.set(D,{destroy:j})}}}},A=E(x,w);for(const C of A){const{options:M}=C,P=new Map;C.container.nameInteraction=P;for(const I of Ex(M)){const[L,z]=I;if(z){const G=fS(C.view,L,z,o)(C,A,n.emitter);P.set(L,{destroy:G})}}}w();const{width:S,height:O}=e,k=[];for(const C of y){const M=new Promise(P=>bc(this,void 0,void 0,function*(){for(const I of C){const L=Object.assign({width:S,height:O},I);yield FT(L,t,n)}P()}));k.push(M)}n.views=p,(r=n.animations)===null||r===void 0||r.forEach(C=>C==null?void 0:C.cancel()),n.animations=_,n.emitter.emit(Dn.AFTER_PAINT);const T=_.filter(Kn).map(G$e).map(C=>C.finished);return Promise.all([...T,...k])})}function fR(e){e.style("transform",t=>`translate(${t.layout.x}, ${t.layout.y})`)}function C$e(e){const[,t]=ar("interaction",e);return n=>{const[r,a]=n;try{return[r,t(r)]}catch{return[r,a.type]}}}function M$e(e,t,n){const{library:r}=n,a=C$e(r),i=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,s=Ex(t).map(a).filter(i).map(l=>l[0]);return(l,c,u)=>bc(this,void 0,void 0,function*(){const f=[],[d,h]=yield CG(l,n);dS(d,e,f,n);for(const p of s.filter(v=>v!==c))P$e(p,e,l,d,n);for(const p of h)FT(p,e,n);return u(),{options:l,view:d}})}function P$e(e,t,n,r,a){var i;const{library:o}=a,[s]=ar("interaction",o),c=t.node().nameInteraction,u=Ex(n).find(([v])=>v===e),f=c.get(e);if(!f||((i=f.destroy)===null||i===void 0||i.call(f),!u[1]))return;const d=fS(r,e,u[1],s),h={options:n,view:r,container:t.node(),update:v=>Promise.resolve(v)},p=d(h,[],a.emitter);c.set(e,{destroy:p})}function CG(e,t){return bc(this,void 0,void 0,function*(){const{library:n}=t,r=yield R$e(e,t),a=I$e(r);e.interaction=a.interaction,e.coordinate=a.coordinate,e.marks=[...a.marks,...a.components];const i=jW(a,n),o=yield MG(i,t);return PG(o,i,n)})}function I$e(e){const{coordinate:t={},interaction:n={},style:r={},marks:a}=e,i=Su(e,["coordinate","interaction","style","marks"]),o=a.map(d=>d.coordinate||{}),s=a.map(d=>d.interaction||{}),l=a.map(d=>d.viewStyle||{}),c=[...o,t].reduceRight((d,h)=>Me(d,h),{}),u=[n,...s].reduce((d,h)=>Me(d,h),{}),f=[...l,r].reduce((d,h)=>Me(d,h),{});return Object.assign(Object.assign({},i),{marks:a,coordinate:c,interaction:u,style:f})}function R$e(e,t){return bc(this,void 0,void 0,function*(){const{library:n}=t,[r,a]=ar("mark",n),i=new Set(Object.keys(n).map(h=>{var p;return(p=/component\.(.*)/.exec(h))===null||p===void 0?void 0:p[1]}).filter(Kn)),{marks:o}=e,s=[],l=[],c=[...o],{width:u,height:f}=XBe(e),d={options:e,width:u,height:f};for(;c.length;){const[h]=c.splice(0,1),p=yield NG(h,t),{type:v=B0("G2Mark type is required."),key:g}=p;if(i.has(v))l.push(p);else{const{props:m={}}=a(v),{composite:y=!0}=m;if(!y)s.push(p);else{const{data:x}=p,b=Object.assign(Object.assign({},p),{data:x&&(Array.isArray(x)?x:x.value)}),_=yield r(b,d),E=Array.isArray(_)?_:[_];c.unshift(...E.map((w,A)=>Object.assign(Object.assign({},w),{key:`${g}-${A}`})))}}}return Object.assign(Object.assign({},e),{marks:s,components:l})})}function MG(e,t){return bc(this,void 0,void 0,function*(){const{library:n}=t,[r]=ar("theme",n),[,a]=ar("mark",n),{theme:i,marks:o,coordinates:s=[]}=e,l=r(DG(i)),c=new Map;for(const f of o){const{type:d}=f,{props:h={}}=a(d),p=yield S$e(f,h,t);if(p){const[v,g]=p;c.set(v,g)}}const u=er(Array.from(c.values()).flatMap(f=>f.channels),({scaleKey:f})=>f);for(const f of u.values()){const d=f.reduce((b,{scale:_})=>Me(b,_),{}),{scaleKey:h}=f[0],{values:p}=f[0],v=Array.from(new Set(p.map(b=>b.field).filter(Kn))),g=Me({guide:{title:v.length===0?void 0:v},field:v[0]},d),{name:m}=f[0],y=f.flatMap(({values:b})=>b.map(_=>_.value)),x=Object.assign(Object.assign({},W9e(m,y,g,s,l,n)),{uid:Symbol("scale"),key:h});f.forEach(b=>b.scale=x)}return c})}function fS(e,t,n,r){const a=e.theme,i=typeof t=="string"?a[t]||{}:{};return r(Me(i,Object.assign({type:t},n)))}function PG(e,t,n){var r;const[a]=ar("mark",n),[i]=ar("theme",n),[o]=ar("labelTransform",n),{key:s,frame:l=!1,theme:c,clip:u,style:f={},labelTransform:d=[]}=t,h=i(DG(c)),p=Array.from(e.values()),v=X9e(p,t),g=SBe(ABe(q$e(Array.from(v),p,e),t,n)),m=YBe(g,t,h,n),y=wFe(m,t,n),x=l?Me({mainLineWidth:1,mainStroke:"#000"},f):f;KBe(EG(g),y,m),GBe(g);const b=new Map(Array.from(e.values()).flatMap(S=>{const{channels:O}=S;return O.map(({scale:k})=>[k.uid,tR(k,n)])}));Y9e(e,b);const _={};for(const S of g){const{scales:O=[]}=S,k=[];for(const T of O){const{name:C,uid:M}=T,P=(r=b.get(M))!==null&&r!==void 0?r:tR(T,n);k.push(P),C==="y"&&P.update(Object.assign(Object.assign({},P.getOptions()),{xScale:_.x})),eR(_,{[C]:P})}S.scaleInstances=k}const E=[],w=new Map;for(const[S,O]of e.entries()){const{children:k,dataDomain:T,modifier:C,key:M,data:P}=S;w.set(M,P);const{index:I,channels:L,tooltip:z}=O,N=Object.fromEntries(L.map(({name:U,scale:q})=>[U,q])),G=Dl(N,({uid:U})=>b.get(U));eR(_,G);const Y=G9e(L,G),B=a(S),[F,D,R]=F$e(B(I,G,Y,y)),V=T||F.length,H=C?C(D,V,m):[],j=U=>{var q,J;return(J=(q=z.title)===null||q===void 0?void 0:q[U])===null||J===void 0?void 0:J.value},K=U=>z.items.map(q=>q[U]),re=F.map((U,q)=>{const J=Object.assign({points:D[q],transform:H[q],index:U,markKey:M,viewKey:s,data:P[U]},z&&{title:j(U),items:K(U)});for(const[X,ce]of Object.entries(Y))J[X]=ce[U],R&&(J[`series${Ru(X)}`]=R[q].map(te=>ce[te]));return R&&(J.seriesIndex=R[q]),R&&z&&(J.seriesItems=R[q].map(X=>K(X)),J.seriesTitle=R[q].map(X=>j(X))),J});O.data=re,O.index=F;const ae=k==null?void 0:k(re,G,m);E.push(...ae||[])}return[{layout:m,theme:h,coordinate:y,markState:e,key:s,clip:u,scale:_,style:x,components:g,data:w,options:t,labelTransform:wO(d.map(o))},E]}function dS(e,t,n,r){return bc(this,void 0,void 0,function*(){const{library:a}=r,{components:i,theme:o,layout:s,markState:l,coordinate:c,key:u,style:f,clip:d,scale:h}=e,{x:p,y:v,width:g,height:m}=s,y=Su(s,["x","y","width","height"]),x=["view","plot","main","content"],b=x.map((z,N)=>N),_=["a","margin","padding","inset"],E=x.map(z=>AB(Object.assign({},o.view,f),z)),w=_.map(z=>Xe(y,z)),A=z=>z.style("x",N=>C[N].x).style("y",N=>C[N].y).style("width",N=>C[N].width).style("height",N=>C[N].height).each(function(N,G,Y){K$e(xt(Y),E[N])});let S=0,O=0,k=g,T=m;const C=b.map(z=>{const N=w[z],{left:G=0,top:Y=0,bottom:B=0,right:F=0}=N;return S+=G,O+=Y,k-=G+F,T-=Y+B,{x:S,y:O,width:k,height:T}});t.selectAll(Qo(i5)).data(b.filter(z=>Kn(E[z])),z=>x[z]).join(z=>z.append("rect").attr("className",i5).style("zIndex",-2).call(A),z=>z.call(A),z=>z.remove());const M=z$e(l),P=M?{duration:M[1]}:!1;for(const[,z]of cO(i,N=>`${N.type}-${N.position}`))z.forEach((N,G)=>N.index=G);const I=t.selectAll(Qo(a5)).data(i,z=>`${z.type}-${z.position}-${z.index}`).join(z=>z.append("g").style("zIndex",({zIndex:N})=>N||-1).attr("className",a5).append(N=>lR(Me({animate:P,scale:h},N),c,o,a,l)),z=>z.transition(function(N,G,Y){const{preserve:B=!1}=N;if(B)return;const F=lR(Me({animate:P,scale:h},N),c,o,a,l),{attributes:D}=F,[R]=Y.childNodes;return R.update(D,!1)})).transitions();n.push(...I.flat().filter(Kn));const L=t.selectAll(Qo(X0)).data([s],()=>u).join(z=>z.append("rect").style("zIndex",0).style("fill","transparent").attr("className",X0).call(dR).call(hR,Array.from(l.keys())).call(pR,d),z=>z.call(hR,Array.from(l.keys())).call(dR).call(pR,d)).transitions();n.push(...L.flat());for(const[z,N]of l.entries()){const{data:G}=N,{key:Y,class:B,type:F}=z,D=t.select(`#${Y}`),R=V$e(z,N,e,r),V=W$e(z,N,e,a),H=Y$e(z,N,e,a),j=X$e(z,N,e,a),K=U$e(t,D,B,"element"),re=D.selectAll(Qo(dl)).selectFacetAll(K).data(G,ae=>ae.key,ae=>ae.groupKey).join(ae=>ae.append(R).attr("className",dl).attr("markType",F).transition(function(U,q,J){return V(U,[J])}),ae=>ae.call(U=>{const q=U.parent(),J=OAe(X=>{const[ce,te]=X.getBounds().min;return[ce,te]});U.transition(function(X,ce,te){H$e(te,q,J);const he=R(X,ce),me=H(X,[te],[he]);return me!=null&&me.length||(te.nodeName===he.nodeName&&he.nodeName!=="g"?g2(te,he):(te.parentNode.replaceChild(he,te),he.className=dl,he.markType=F,he.__data__=te.__data__)),me}).each(function(X,ce,te){te.__removed__&&(te.__removed__=!1)}).attr("markType",F).attr("className",dl)}),ae=>ae.each(function(U,q,J){J.__removed__=!0}).transition(function(U,q,J){return j(U,[J])}).remove(),ae=>ae.append(R).attr("className",dl).attr("markType",F).transition(function(U,q,J){const{__fromElements__:X}=J,ce=H(U,X,[J]);return new Vy(X,null,J.parentNode).transition(ce).remove(),ce}),ae=>ae.transition(function(U,q,J){const ce=new Vy([],J.__toData__,J.parentNode).append(R).attr("className",dl).attr("markType",F).nodes();return H(U,[J],ce)}).remove()).transitions();n.push(...re.flat())}D$e(e,t,n,a,r),L$e(e,t,a,r)})}function D$e(e,t,n,r,a){const[i]=ar("labelTransform",r),{markState:o,labelTransform:s}=e,l=t.select(Qo(LA)).node(),c=new Map,u=new Map,f=Array.from(o.entries()).flatMap(([m,y])=>{const{labels:x=[],key:b}=m,_=j$e(m,y,e,r,a),E=t.select(`#${b}`).selectAll(Qo(dl)).nodes().filter(w=>!w.__removed__);return x.flatMap((w,A)=>{const{transform:S=[]}=w,O=Su(w,["transform"]);return E.flatMap(k=>{const T=N$e(O,A,k);return T.forEach(C=>{c.set(C,M=>_(Object.assign(Object.assign({},M),{element:k}))),u.set(C,w)}),T})})}),d=xt(l).selectAll(Qo(FA)).data(f,m=>m.key).join(m=>m.append(y=>c.get(y)(y)).attr("className",FA),m=>m.each(function(y,x,b){const E=c.get(y)(y);g2(b,E)}),m=>m.remove()).nodes(),h=er(d,m=>u.get(m.__data__)),{coordinate:p,layout:v}=e,g={canvas:a.canvas,coordinate:p,layout:v};for(const[m,y]of h){const{transform:x=[]}=m;wO(x.map(i))(y,g)}s&&s(d,g)}function N$e(e,t,n){const{seriesIndex:r,seriesKey:a,points:i,key:o,index:s}=n.__data__,l=$$e(n);if(!r)return[Object.assign(Object.assign({},e),{key:`${o}-${t}`,bounds:l,index:s,points:i,dependentElement:n})];const c=B$e(e),u=r.map((f,d)=>Object.assign(Object.assign({},e),{key:`${a[d]}-${t}`,bounds:[i[d]],index:f,points:i,dependentElement:n}));return c?c(u):u}function L$e(e,t,n,r){const a=e.scale,i=sn(a,"y.options.breaks",[]),{document:o}=r.canvas;if([n_,MU].forEach(u=>{o.getElementsByClassName(u).forEach(f=>{f.remove()})}),!i.length)return;const s=t.select(Qo(X0)).node(),[l]=ar("shape",n),c=new Map;i.forEach((u,f)=>{c.set(u,l({type:"break"},{view:e,selection:t,context:r}))}),xt(s).selectAll(Qo(n_)).data(i,u=>u.key).join(u=>u.append((f,d)=>c.get(f)(f,d)).attr("className",n_),u=>u.each(function(f,d,h){const v=c.get(f)(f,d);g2(h,v)}),u=>u.remove()).nodes()}function F$e([e,t,n]){if(n)return[e,t,n];const r=[],a=[];for(let i=0;i<e.length;i++){const o=e[i],s=t[i];s.every(([l,c])=>Kn(l)&&Kn(c))&&(r.push(o),a.push(s))}return[r,a]}function B$e(e){const{selector:t}=e;if(!t)return null;if(typeof t=="function")return t;if(t==="first")return n=>[n[0]];if(t==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${t}`)}function $$e(e){const t=e.cloneNode(!0),n=e.getAnimations();t.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();t.attr(s[s.length-1])}),e.parentNode.appendChild(t);const r=t.getLocalBounds();t.destroy();const{min:a,max:i}=r;return[a,i]}function j$e(e,t,n,r,a){const[i]=ar("shape",r),{data:o,encode:s}=e,{data:l,defaultLabelShape:c}=t,u=l.map(v=>v.points),f=Dl(s,v=>v.value),{theme:d,coordinate:h}=n,p=Object.assign(Object.assign({},a),{document:$W(a),theme:d,coordinate:h});return v=>{const{index:g,points:m}=v,y=o[g],{formatter:x=N=>`${N}`,transform:b,style:_,render:E,selector:w,element:A}=v,S=Su(v,["formatter","transform","style","render","selector","element"]),O=Dl(Object.assign(Object.assign({},S),_),N=>IG(N,y,g,o,{channel:f,element:A})),{shape:k=c,text:T}=O,C=Su(O,["shape","text"]),M=typeof x=="string"?zu(x):x,P=Object.assign(Object.assign({},C),{text:M(T,y,g,o),datum:y}),I=Object.assign({type:`label.${k}`,render:E},C),L=i(I,p),z=RG(d,"label",k,"label");return L(m,P,z,u)}}function IG(e,t,n,r,a){return typeof e=="function"?e(t,n,r,a):typeof e!="string"?e:$0(t)&&t[e]!==void 0?t[e]:e}function z$e(e){let t=-1/0,n=1/0;for(const[r,a]of e){const{animate:i={}}=r,{data:o}=a,{enter:s={},update:l={},exit:c={}}=i,{type:u,duration:f=300,delay:d=0}=l,{type:h,duration:p=300,delay:v=0}=s,{type:g,duration:m=300,delay:y=0}=c;for(const x of o){const{updateType:b=u,updateDuration:_=f,updateDelay:E=d,enterType:w=h,enterDuration:A=p,enterDelay:S=v,exitDuration:O=m,exitDelay:k=y,exitType:T=g}=x;(b===void 0||b)&&(t=Math.max(t,_+E),n=Math.min(n,E)),(T===void 0||T)&&(t=Math.max(t,O+k),n=Math.min(n,k)),(w===void 0||w)&&(t=Math.max(t,A+S),n=Math.min(n,S))}}return t===-1/0?null:[n,t-n]}function U$e(e,t,n,r){const a=e.node().parentElement;return!a||typeof a.findAll!="function"?[]:a.findAll(i=>i.style.facet!==void 0&&i.style.facet===n&&i!==t.node()).flatMap(i=>i.getElementsByClassName(r))}function H$e(e,t,n){if(!e.__facet__)return;const r=e.parentNode.parentNode,a=t.parentNode,[i,o]=n(r),[s,l]=n(a),c=`translate(${i-s}, ${o-l})`;kAe(e,c),t.append(e)}function V$e(e,t,n,r){const{library:a}=r,[i]=ar("shape",a),{data:o,encode:s}=e,{defaultShape:l,data:c,shape:u}=t,f=Dl(s,y=>y.value),d=c.map(y=>y.points),{theme:h,coordinate:p}=n,{type:v,style:g={}}=e,m=Object.assign(Object.assign({},r),{document:$W(r),coordinate:p,theme:h});return y=>{const{shape:x=l}=g,{shape:b=x,points:_,seriesIndex:E,index:w}=y,A=Su(y,["shape","points","seriesIndex","index"]),S=Object.assign(Object.assign({},A),{index:w}),O=E?E.map(P=>o[P]):o[w],k=E||w,T=Dl(g,P=>IG(P,O,k,o,{channel:f})),C=u[b]?u[b](T,m):i(Object.assign(Object.assign({},T),{type:LG(e,b)}),m),M=RG(h,v,b,l);return C(_,S,M,d)}}function RG(e,t,n,r){if(typeof t!="string")return;const{color:a}=e,i=e[t]||{},o=i[n]||i[r];return Object.assign({color:a},o)}function BT(e,t,n,r,a){var i,o;const[,s]=ar("shape",a),[l]=ar("animation",a),{defaultShape:c,shape:u}=n,{theme:f,coordinate:d}=r,p=`default${Ru(e)}Animation`,{[p]:v}=((i=u[c])===null||i===void 0?void 0:i.props)||s(LG(t,c)).props,{[e]:g={}}=f,m=((o=t.animate)===null||o===void 0?void 0:o[e])||{},y={coordinate:d};return(x,b,_)=>{const{[`${e}Type`]:E,[`${e}Delay`]:w,[`${e}Duration`]:A,[`${e}Easing`]:S}=x,O=Object.assign({type:E||v},m);if(!O.type)return null;const C=l(O,y)(b,_,Me(g,{delay:w,duration:A,easing:S}));let M=[];return Array.isArray(C)?M=C:M=[C],M.filter(Boolean)}}function W$e(e,t,n,r){return BT("enter",e,t,n,r)}function G$e(e){return e.finished.then(()=>{e.cancel()}),e}function Y$e(e,t,n,r){return BT("update",e,t,n,r)}function X$e(e,t,n,r){return BT("exit",e,t,n,r)}function DG(e={}){if(typeof e=="string")return{type:e};const{type:t="light"}=e,n=Su(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}function Ex(e){const t={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=e;return Object.entries(Me(t,n)).reverse()}function NG(e,t){return bc(this,void 0,void 0,function*(){const{data:n}=e,r=Su(e,["data"]);if(n==null)return e;const[,{data:a}]=yield kG([],{data:n},t);return Object.assign({data:a},r)})}function dR(e){e.style("transform",t=>`translate(${t.paddingLeft+t.marginLeft}, ${t.paddingTop+t.marginTop})`).style("width",t=>t.innerWidth).style("height",t=>t.innerHeight)}function LG(e,t){const{type:n}=e;return typeof t=="string"?`${n}.${t}`:t}function hR(e,t){const n=i=>i.class!==void 0?`${i.class}`:"";e.nodes().length===0||(e.selectAll(Qo(r5)).data(t,i=>i.key).join(i=>i.append("g").attr("className",r5).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),i=>i.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),i=>i.remove()),e.select(Qo(LA)).node())||e.append("g").attr("className",LA).style("zIndex",0)}function Qo(...e){return e.map(t=>`.${t}`).join("")}function pR(e,t){e.node()&&e.style("clipPath",n=>{if(!t)return null;const{paddingTop:r,paddingLeft:a,marginLeft:i,marginTop:o,innerWidth:s,innerHeight:l}=n;return new Bu({style:{x:a+i,y:r+o,width:s,height:l}})})}function q$e(e,t,n){var r;for(const[c]of n.entries())if(c.type==="cell")return e.filter(u=>u.name!=="shape");if(t.length!==1||e.some(c=>c.name==="shape"))return e;const{defaultShape:a}=t[0];if(!["point","line","rect","hollow"].includes(a))return e;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=e.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[a]]};return[...e,l]}function K$e(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function Z$e(...e){return t=>e.reduce((n,r)=>r(n),t)}function Q$e(e){const{style:t,scale:n,type:r}=e,a={},i=sn(t,"columnWidthRatio");return i&&r==="interval"&&(a.x=Object.assign(Object.assign({},n==null?void 0:n.x),{padding:1-i})),Object.assign(Object.assign({},e),{scale:Object.assign(Object.assign({},n),a)})}const J$e=e=>{if(!e||typeof e!="string")return e;const t=e.endsWith("%")?parseFloat(e.slice(0,-1))/100:parseFloat(e);if(isNaN(t)||t<0||t>1)throw new Error(`Invalid gap value: ${e}. It should be between 0 and 1.`);return t};function eje(e){const{axis:t}=e,n=sn(t,"y.breaks");return n&&c2(e,"scale.y.breaks",n.map(r=>Object.assign(Object.assign({key:`break-${r.start}-${r.end}`},r),{gap:J$e(r.gap)}))),e}function FG(e){const t=tje(e);return t.children&&Array.isArray(t.children)&&(t.children=t.children.map(n=>FG(n))),t}function tje(e){return Z$e(Q$e,eje)(e)}function nje(e){const t=Me({},e),n=new Map([[t,null]]),r=new Map([[null,-1]]),a=[t];for(;a.length;){const i=a.shift();if(i.key===void 0){const s=n.get(i),l=r.get(i),c=s===null?"0":`${s.key}-${l}`;i.key=c}const{children:o=[]}=i;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=Me({},o[s]);o[s]=l,n.set(l,i),r.set(l,s),a.push(l)}}return t}function rje(e,t){const n=new jV;return n.registerPlugin(new UV),new _j({width:e,height:t,container:document.createElement("div"),renderer:n})}function aje(e,t={},n=()=>{},r=a=>{throw a}){const a=$m(e),{width:i=640,height:o=480,depth:s=0}=a,l=FG(a),c=nje(l),{canvas:u=rje(i,o),emitter:f=new HV,library:d}=t;t.canvas=u,t.emitter=f,t.externals={};const{width:h,height:p}=u.getConfig();(h!==i||p!==o)&&u.resize(i,o),f.emit(Dn.BEFORE_RENDER);const v=xt(u.document.documentElement);return u.ready.then(()=>FT(Object.assign(Object.assign({},c),{width:i,height:o,depth:s}),v,t)).then(()=>{if(s){const[g,m]=u.document.documentElement.getPosition();u.document.documentElement.setPosition(g,m,-s/2)}u.requestAnimationFrame(()=>{u.requestAnimationFrame(()=>{f.emit(Dn.AFTER_RENDER),n==null||n()})})}).catch(g=>{r==null||r(g)}),oje(u.getConfig().container)}function vR(e,t={},n=!1,r=!0){const{canvas:a,emitter:i}=t;a&&(ije(a),n?a.destroy():a.destroyChildren()),r&&i.off()}function ije(e){const t=e.getRoot().querySelectorAll(`.${Jy}`);t==null||t.forEach(n=>{const{nameInteraction:r=new Map}=n;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(a=>{a==null||a.destroy()})})}function oje(e){return typeof e=="string"?document.getElementById(e):e}function J1(e,t){if(t(e))return!0;if(e.tagName==="g"){const{childNodes:n=[]}=e;for(const r of n)if(J1(r,t))return!0}return!1}const sje={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function lje(e,t){let n;return J1(e,r=>{var a;return r.tagName!=="g"&&((a=r.style)===null||a===void 0?void 0:a[t])!==void 0?(n=r.style[t],!0):!1}),n??sje[t]}function $T(e,t,n,r){e.style[t]=n,e.children.forEach(a=>$T(a,t,n))}function jT(e){$T(e,"visibility","hidden")}function cb(e){$T(e,"visibility","visible")}var n1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Ou(e){return xt(e).selectAll(`.${dl}`).nodes().filter(t=>!t.__removed__)}function BG(e,t){return hS(e,t).flatMap(({container:n})=>Ou(n))}function hS(e,t){return t.filter(n=>n!==e&&n.options.parentKey===e.options.key)}function Zs(e){return xt(e).select(`.${X0}`).node()}function Ax(e){if(e.tagName==="g")return e.getRenderBounds();const t=e.getGeometryBounds(),n=new na;return n.setFromTransformedAABB(t,e.getWorldTransform()),n}function nd(e,t){const{offsetX:n,offsetY:r}=t,a=Ax(e),{min:[i,o],max:[s,l]}=a,c=n<i||n>s,u=r<o||r>l;return c||u?null:[n-i,r-o]}function S_(e,t){const{offsetX:n,offsetY:r}=t,[a,i,o,s]=cje(e);return[Math.min(o,Math.max(a,n))-a,Math.min(s,Math.max(i,r))-i]}function cje(e){const t=e.getRenderBounds(),{min:[n,r],max:[a,i]}=t;return[n,r,a,i]}function $G(e){return t=>t.__data__.color}function Vv(e){return t=>t.__data__.x}function rd(e){const t=Array.isArray(e)?e:[e],n=new Map(t.flatMap(r=>Array.from(r.markState.keys()).map(i=>[Sx(r.key,i.key),i.data])));return r=>{const{index:a,markKey:i,viewKey:o}=r.__data__;return n.get(Sx(o,i))[a]}}const gR={selected:3,unselected:3,active:2,inactive:2,default:1},uje={selection:["selected","unselected"],highlight:["active","inactive"]},jG=(e,t,n)=>{J1(e,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(t,n)})};function zG(e,t){return t.forEach(n=>{const r=n.__interactionStyle__;r?n.__interactionStyle__=Object.assign(Object.assign({},r),e):n.__interactionStyle__=e}),(n=(a,i)=>a,r=jG)=>mu(void 0,n,r)}function mu(e,t=(r,a)=>r,n=jG){const r="__states__",a="__ordinal__",i=h=>gR[h]||gR.default,o=h=>{var p;return(p=Object.entries(uje).find(([v,g])=>g.includes(h)))===null||p===void 0?void 0:p[0]},s=h=>{var p;const{[r]:v=[],[a]:g={}}=h,m=[...v].sort((b,_)=>i(_)-i(b)),y=new Map;for(const b of m){const _=((p=e??h.__interactionStyle__)===null||p===void 0?void 0:p[b])||{};for(const[E,w]of Object.entries(_))y.has(E)||y.set(E,w)}const x=Object.assign({},g);for(const[b,_]of y.entries())x[b]=_;if(Object.keys(x).length!==0){for(const[b,_]of Object.entries(x)){const E=lje(h,b),w=t(_,h);n(h,b,w),b in g||(g[b]=E)}h[a]=g}},l=h=>{h[r]||(h[r]=[])};return{setState:(h,...p)=>{l(h),h[r]=[...p],s(h)},updateState:(h,...p)=>{l(h);const v=h[r],g=new Set(p.map(y=>o(y)).filter(y=>y!==void 0)),m=v.filter(y=>!g.has(o(y)));h[r]=[...m,...p],s(h)},removeState:(h,...p)=>{l(h);for(const v of p){const g=h[r].indexOf(v);g!==-1&&h[r].splice(g,1)}s(h)},hasState:(h,p)=>(l(h),h[r].indexOf(p)!==-1)}}function fje(e){return e===void 0?!0:typeof e!="object"?!1:Object.keys(e).length===0}function Sx(e,t){return`${e},${t}`}function rh(e,t){const r=(Array.isArray(e)?e:[e]).flatMap(i=>i.marks.map(o=>[Sx(i.key,o.key),o.state])),a={};for(const i of t){const[o,s]=Array.isArray(i)?i:[i,{}];a[o]=r.reduce((l,c)=>{const[u,f={}]=c,d=fje(f[o])?s:f[o];for(const[h,p]of Object.entries(d)){const v=l[h],g=(m,y,x,b)=>{const _=Sx(b.__data__.viewKey,b.__data__.markKey);return u!==_?v==null?void 0:v(m,y,x,b):typeof p!="function"?p:p(m,y,x,b)};l[h]=g}return l},{})}return a}function Wv(e,t){const n=new Map(e.map((a,i)=>[a,i])),r=t?e.map(t):e;return(a,i)=>{if(typeof a!="function")return a;const o=n.get(i),s=t?t(i):i;return a(s,o,r,i)}}function UG(e){var{link:t=!1,valueof:n=(u,f)=>u,coordinate:r}=e,a=n1(e,["link","valueof","coordinate"]);const i="element-link";if(!t)return[()=>{},()=>{}];const o=u=>u.__data__.points,s=(u,f)=>{const[,d,h]=u,[p,,,v]=f;return[d,p,v,h]};return[u=>{var f;if(u.length<=1)return;const d=$s(u,(h,p)=>{const{x:v}=h.__data__,{x:g}=p.__data__;return v-g});for(let h=1;h<d.length;h++){const p=us(),v=d[h-1],g=d[h],[m,y,x,b]=s(o(v),o(g));p.moveTo(...m),p.lineTo(...y),p.lineTo(...x),p.lineTo(...b),p.closePath();const _=Dl(a,S=>n(S,v)),{fill:E=v.getAttribute("fill")}=_,w=n1(_,["fill"]),A=new ci({className:i,style:Object.assign({d:p.toString(),fill:E,zIndex:-2},w)});(f=v.link)===null||f===void 0||f.remove(),v.parentNode.appendChild(A),v.link=A}},u=>{var f;(f=u.link)===null||f===void 0||f.remove(),u.link=null}]}function HG(e,t,n){const r=a=>{const{transform:i}=e.style;return i?`${i} ${a}`:a};if($n(n)){const{points:a}=e.__data__,[i,o]=tr(n)?N2(a):a,s=n.getCenter(),l=Br(i,s),c=Br(o,s),u=os(l),f=i$(l,c),d=u+f/2,h=t*Math.cos(d),p=t*Math.sin(d);return r(`translate(${h}, ${p})`)}return tr(n)?r(`translate(${t}, 0)`):r(`translate(0, ${-t})`)}function VG(e){var{document:t,background:n,scale:r,coordinate:a,valueof:i}=e,o=n1(e,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(m,y,x)=>{const b=m.invert(y),_=y+m.getBandWidth(b)/2,E=m.getStep(b)/2,w=E*x;return[_-E+w,_+E-w]},c=(m,y)=>{const{x}=r;if(!xc(x))return[0,1];const{__data__:b}=m,{x:_}=b,[E,w]=l(x,_,y);return[E,w]},u=(m,y)=>{const{y:x}=r;if(!xc(x))return[0,1];const{__data__:b}=m,{y:_}=b,[E,w]=l(x,_,y);return[E,w]},f=(m,y)=>{const{padding:x}=y,[b,_]=c(m,x),[E,w]=u(m,x),A=[[b,E],[_,E],[_,w],[b,w]].map(T=>a.map(T)),{__data__:S}=m,{y:O,y1:k}=S;return Rj(t,A,{y:O,y1:k},a,y)},d=(m,y)=>{const{transform:x="scale(1.2, 1.2)",transformOrigin:b="center center",stroke:_=""}=y,E=n1(y,["transform","transformOrigin","stroke"]),w=Object.assign({transform:x,transformOrigin:b,stroke:_},E),A=m.cloneNode(!0);for(const[S,O]of Object.entries(w))A.style[S]=O;return A},h=()=>{const{x:m,y}=r;return[m,y].some(xc)};return[m=>{m.background&&m.background.remove();const y=Dl(o,T=>i(T,m)),{fill:x="#CCD6EC",fillOpacity:b=.3,zIndex:_=-2,padding:E=.001,lineWidth:w=0}=y,A=n1(y,["fill","fillOpacity","zIndex","padding","lineWidth"]),S=Object.assign(Object.assign({},A),{fill:x,fillOpacity:b,zIndex:_,padding:E,lineWidth:w}),k=(h()?f:d)(m,S);k.className=s,m.parentNode.parentNode.appendChild(k),m.background=k},m=>{var y;(y=m.background)===null||y===void 0||y.remove(),m.background=null},m=>m.className===s]}function Yc(e,t){const r=e.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(e.cursor=r.style.cursor,r.style.cursor=t)}function dje(e){Yc(e,e.cursor)}function zT(e,t,n){return e.find(r=>Object.entries(t).every(([a,i])=>n(r)[a]===i))}function Ox(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Zh(e,t=!1){const n=jbe(e,r=>!!r).map((r,a)=>[a===0?"M":"L",...r]);return t&&n.push(["Z"]),n}function WG(e){return e.querySelectorAll(".element")}function hje(e,t,n=0){const r=[["M",...t[1]]],a=Ox(e,t[1]),i=Ox(e,t[0]);return a===0?r.push(["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]):r.push(["A",a,a,0,n,0,...t[2]],["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]),r}function Gv(e,t){if(t(e))return e;let n=e.parent;for(;n&&!t(n);)n=n.parent;return n}const UT=["interval","point","density"];function GG({elementsof:e,root:t,coordinate:n,scale:r,validFindByXMarks:a=UT}){var i,o;let s=e(t);const l=u=>a.includes(u.markType);if(s.find(l)){s=s.filter(l);const u=r.x,f=r.series,d=(o=(i=u==null?void 0:u.getBandWidth)===null||i===void 0?void 0:i.call(u))!==null&&o!==void 0?o:0,h=f?p=>{var v,g;const m=Math.round(1/((v=f.valueBandWidth)!==null&&v!==void 0?v:1));return p.__data__.x+((g=p.__data__.series)!==null&&g!==void 0?g:0)*d+d/(m*2)}:p=>p.__data__.x+d/2;return s.sort((p,v)=>h(p)-h(v)),p=>{const v=nd(t,p);if(!v)return;const[g]=n.invert(v),m=gc(h).center,y=m(s,g);return s[y]}}return u=>{const{target:f}=u;return Gv(f,d=>d.classList?d.classList.includes("element"):!1)}}function pje(e){const i=.01/Math.max(e,1e-4);return Math.max(.1,Math.min(100,i))}function YG(e){return e===!1||e===null||e===void 0}function vje(e){var t,n;const r=[],a=[],i=[],o=e.markState;if(o){for(const[s,l]of o.entries())if(l!=null&&l.channels){const c={};for(const d of l.channels)if((d==null?void 0:d.name)==="x"&&((t=d.values)===null||t===void 0?void 0:t.length)>0){let h=[];for(const p of d.values)p!=null&&p.value&&(h=h.concat(p.value),r.push(p.value));c.x=h}else if(d&&(d.name==="y"||d.name.startsWith("y"))&&((n=d.values)===null||n===void 0?void 0:n.length)>0){const h=d.name,p=[];for(const v of d.values)if(v!=null&&v.value){const g=v.value;p.push(g),(h==="y"||h==="y1")&&(Array.isArray(g)?a.push(g.flat()):a.push([g]))}c[h]=p}const u=c.x||[],f=c.y||[];u.length>0&&f.length>0&&i.push({markKey:s.key||`mark_${i.length}`,channelData:c})}}return{xChannelValues:r.flat(),yChannelValues:a.flat(),markDataPairs:i}}function mR(e,t){return t.some(n=>{const{scale:r}=n,a=r==null?void 0:r[e];return!!(a!=null&&a.independent)})}function gje(e,t,n,r,a){var i,o,s,l;const c={x:t.x||n.getOptions().domain||[],y:t.y||r.getOptions().domain||[]},u=a||XG(e),{hasIndependentX:f,hasIndependentY:d}=u;if(f||d){let h=1,p=1;for(const[v,g]of e.markState.entries())if(g!=null&&g.channels){if(f){const m=g.channels.find(y=>y.name==="x");if(!((o=(i=v==null?void 0:v.scale)===null||i===void 0?void 0:i.x)===null||o===void 0)&&o.independent){const y=`x${h}`;c[y]=m.scale.domain,h++}}if(d){const m=g.channels.find(y=>y.name==="y");if(!((l=(s=v==null?void 0:v.scale)===null||s===void 0?void 0:s.y)===null||l===void 0)&&l.independent){const y=`y${p}`;c[y]=m.scale.domain,p++}}}}return c}function XG(e){var t,n,r,a;const i=Array.from(e.markState.keys()),o=mR("x",i),s=mR("y",i),l=[],c=[],u=[],f=[],d=new Map,h=new Map;let p=1,v=1;for(const[g]of e.markState.entries()){const m=g.key;!((n=(t=g==null?void 0:g.scale)===null||t===void 0?void 0:t.x)===null||n===void 0)&&n.independent?(c.push(m),d.set(m,`x${p++}`)):(l.push(m),d.set(m,"x")),!((a=(r=g==null?void 0:g.scale)===null||r===void 0?void 0:r.y)===null||a===void 0)&&a.independent?(f.push(m),h.set(m,`y${v++}`)):(u.push(m),h.set(m,"y"))}return{hasIndependentX:o,hasIndependentY:s,marksWithSharedX:l,marksWithIndependentX:c,marksWithSharedY:u,marksWithIndependentY:f,markToXScaleMap:d,markToYScaleMap:h}}var mje=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function yje(e,{elements:t,datum:n,groupKey:r=p=>p,regionGroupKey:a=p=>p,link:i=!1,background:o=!1,delay:s=60,scale:l,coordinate:c,emitter:u,state:f={},region:d=!1,regionEleFilter:h=p=>UT.includes(p.markType)}){var p,v;const g=(p=t(e))!==null&&p!==void 0?p:[],m=d?g.filter(h):g,y=new Set(m),x=d?a:r,b=er(m,x),_=GG({elementsof:t,root:e,coordinate:c,scale:l}),E=Wv(m,n),[w,A]=UG(Object.assign({elements:m,valueof:E,link:i,coordinate:c},Xe(f.active,"link"))),[S,O,k]=VG(Object.assign({document:e.ownerDocument,scale:l,coordinate:c,background:o,valueof:E},Xe(f.active,"background"))),T=Me(f,{active:Object.assign({},((v=f.active)===null||v===void 0?void 0:v.offset)&&{transform:(...R)=>{const V=f.active.offset(...R),[,H]=R;return HG(m[H],V,c)}})}),C=zG(T,m),{updateState:M,removeState:P,hasState:I}=C(E);let L;const z=R=>{const{nativeEvent:V=!0}=R;let H=R.target;if(d&&(H=_(R)),!y.has(H))return;L&&clearTimeout(L);const j=x(H),K=b.get(j),re=new Set(K);for(const ae of m)re.has(ae)?I(ae,"active")||M(ae,"active"):(M(ae,"inactive"),A(ae)),ae!==H&&O(ae);S(H),w(K),V&&u.emit("element:highlight",{nativeEvent:V,data:{data:n(H),group:K.map(n)}})},N=()=>{L&&clearTimeout(L),L=setTimeout(()=>{G(),L=null},s)},G=(R=!0)=>{for(const V of m)P(V,"active","inactive"),O(V),A(V);R&&u.emit("element:unhighlight",{nativeEvent:R})},Y=R=>{let V=R.target;if(d&&(V=_(R)),!V){s>0?N():G();return}o&&!k(V)||!o&&!y.has(V)||(s>0?N():G())},B=()=>{G()};e.addEventListener("pointerover",z),e.addEventListener("pointermove",z),e.addEventListener("pointerout",Y),e.addEventListener("pointerleave",B);const F=R=>{const{nativeEvent:V}=R;V||G(!1)},D=R=>{const{nativeEvent:V}=R;if(V)return;const{data:H}=R.data,j=zT(m,H,n);j&&z({target:j,nativeEvent:!1})};return u.on("element:highlight",D),u.on("element:unhighlight",F),()=>{e.removeEventListener("pointerover",z),e.removeEventListener("pointermove",z),e.removeEventListener("pointerout",Y),e.removeEventListener("pointerleave",B),u.off("element:highlight",D),u.off("element:unhighlight",F);for(const R of m)O(R),A(R)}}function ub(e){var{delay:t,createGroup:n,createRegionGroup:r,background:a=!1,link:i=!1}=e,o=mje(e,["delay","createGroup","createRegionGroup","background","link"]);return(s,l,c)=>{const{container:u,view:f,options:d}=s,{scale:h,coordinate:p}=f,v=Zs(u);return yje(v,Object.assign({elements:Ou,datum:rd(f),groupKey:n?n(f):void 0,regionGroupKey:r?r(f):Vv(),coordinate:p,scale:h,state:rh(d,[["active",a?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:a,link:i,delay:t,emitter:c},o))}}ub.props={reapplyWhenUpdate:!0};function qG(e){return ub(Object.assign(Object.assign({},e),{createGroup:Vv}))}qG.props={reapplyWhenUpdate:!0};function KG(e){return ub(Object.assign(Object.assign({},e),{createGroup:$G}))}KG.props={reapplyWhenUpdate:!0};var xje=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function bje(e,{elements:t,datum:n,groupKey:r=v=>v,regionGroupKey:a=v=>v,link:i=!1,single:o=!1,multipleSelectHotkey:s,coordinate:l,background:c=!1,scale:u,emitter:f,state:d={},region:h=!1,regionEleFilter:p=v=>UT.includes(v.markType)}){var v;const g=t(e),m=new Set(g),y=GG({elementsof:t,root:e,coordinate:l,scale:u}),x=er(g,r),b=er(g,a),_=Wv(g,n),[E,w]=UG(Object.assign({link:i,elements:g,valueof:_,coordinate:l},Xe(d.selected,"link"))),[A,S]=VG(Object.assign({document:e.ownerDocument,background:c,coordinate:l,scale:u,valueof:_},Xe(d.selected,"background"))),O=Me(d,{selected:Object.assign({},((v=d.selected)===null||v===void 0?void 0:v.offset)&&{transform:(...j)=>{const K=d.selected.offset(...j),[,re]=j;return HG(g[re],K,l)}})}),k=zG(O,g),{updateState:T,removeState:C,hasState:M}=k(_);let P=!o,I=null;const L=(j=!0)=>{for(const K of g)C(K,"selected","unselected"),w(K),S(K);j&&f.emit("element:unselect",{nativeEvent:!0})},z=({event:j,element:K,nativeEvent:re=!0,filter:ae=J=>!0,groupBy:U=r,groupMap:q=x})=>{const J=g.filter(ae);if(M(K,"selected"))L();else{const X=U(K),ce=q.get(X),te=new Set(ce);for(const he of J)te.has(he)?T(he,"selected"):(T(he,"unselected"),w(he)),he!==K&&S(he);if(E(ce),A(K),!re)return;f.emit("element:select",Object.assign(Object.assign({},j),{nativeEvent:re,data:{data:[n(K),...ce.map(n)]}}))}},N=({event:j,element:K,nativeEvent:re=!0,filter:ae=J=>!0,groupBy:U=r,groupMap:q=x})=>{const J=U(K),X=q.get(J),ce=new Set(X),te=g.filter(ae);if(M(K,"selected")){if(!g.some(me=>!ce.has(me)&&M(me,"selected")))return L();for(const me of X)T(me,"unselected"),w(me),S(me)}else{const he=X.some(me=>M(me,"selected"));for(const me of te)ce.has(me)?T(me,"selected"):M(me,"selected")||T(me,"unselected");!he&&i&&E(X),A(K)}re&&f.emit("element:select",Object.assign(Object.assign({},j),{nativeEvent:re,data:{data:g.filter(he=>M(he,"selected")).map(n)}}))},G=j=>{if(m.has(j))return!0;for(const K of m)if(J1(K,ae=>ae===j))return!0;return!1},Y=j=>{if(m.has(j))return j;for(const K of m){let re=null;if(J1(K,ae=>{ae===j&&(re=K)}),re)return re}return j},B=j=>{const{target:K,nativeEvent:re=!0}=j,ae=P?N:z;let U=K;const q=G(K);return!h||q?q?ae({event:j,element:Y(U),nativeEvent:re,groupBy:r}):L():(U=y(j),m.has(U)?ae({event:j,element:U,nativeEvent:re,filter:p,groupBy:a,groupMap:b}):L())},F=Array.isArray(s)?s:[s],D=j=>{F.includes(j.code)&&!I&&(I=j.code,P=!0)},R=j=>{j.code===I&&(I=null,P=!1)};e.addEventListener("click",B),s&&(P=!1,document.addEventListener("keydown",D),document.addEventListener("keyup",R));const V=j=>{const{nativeEvent:K,data:re}=j;if(K)return;const ae=P?re.data:re.data.slice(0,1);for(const U of ae){const q=zT(g,U,n);B({target:q,nativeEvent:!1})}},H=()=>{L(!1)};return f.on("element:select",V),f.on("element:unselect",H),()=>{for(const j of g)w(j);e.removeEventListener("click",B),s&&(document.removeEventListener("keydown",D),document.removeEventListener("keyup",R)),f.off("element:select",V),f.off("element:unselect",H)}}function fb(e){var{createGroup:t,createRegionGroup:n,background:r=!1,link:a=!1}=e,i=xje(e,["createGroup","createRegionGroup","background","link"]);return(o,s,l)=>{const{container:c,view:u,options:f}=o,{coordinate:d,scale:h}=u,p=Zs(c);return bje(p,Object.assign({elements:Ou,datum:rd(u),groupKey:t?t(u):void 0,regionGroupKey:n?n(u):Vv(),coordinate:d,scale:h,state:rh(f,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:a,emitter:l},i))}}fb.props={reapplyWhenUpdate:!0};function ZG(e){return fb(Object.assign(Object.assign({},e),{createGroup:Vv}))}ZG.props={reapplyWhenUpdate:!0};function QG(e){return fb(Object.assign(Object.assign({},e),{createGroup:$G}))}QG.props={reapplyWhenUpdate:!0};var wje=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},_je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Eje(e){const{transform:t=[]}=e,n=t.find(a=>a.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return t.push(r),e.transform=t,r}function Aje(e,t,n){const[r]=Array.from(e.entries()).filter(([a])=>a.type===t).map(([a])=>{const{encode:i}=a,o=s=>{const l=i[s];return[s,l?l.value:void 0]};return Object.fromEntries(n.map(o))});return r}function JG(e){var{wait:t=20,leading:n,trailing:r=!1,labelFormatter:a=o=>`${o}`}=e,i=_je(e,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:l,update:c,setState:u}=o,{markState:f,scale:d,coordinate:h}=s,p=Aje(f,"line",["x","y","series"]);if(!p)return;const{y:v,x:g,series:m=[]}=p,y=v.map((L,z)=>z),x=$s(y.map(L=>g[L])),b=Zs(l),_=l.getElementsByClassName(dl),E=l.getElementsByClassName(FA),A=er(E,L=>L.__data__.key.split("-")[0]),S=new md({style:Object.assign({x1:0,y1:0,x2:0,y2:b.getAttribute("height"),stroke:"black",lineWidth:1},Xe(i,"rule"))}),O=new Vs({style:Object.assign({x:0,y:b.getAttribute("height"),text:"",fontSize:10},Xe(i,"label"))});S.append(O),b.appendChild(S);const k=(L,z,N)=>{const[G]=L.invert(N),Y=z.invert(G);return x[D_e(x,Y)]},T=(L,z)=>{S.setAttribute("x1",L[0]),S.setAttribute("x2",L[0]),O.setAttribute("text",a(z))};let C;const M=L=>wje(this,void 0,void 0,function*(){const{x:z}=d,N=k(h,z,L);T(L,N),u("chartIndex",Y=>{const B=Me({},Y),F=B.marks.find(j=>j.type==="line"),R=Mn(uO(y,j=>Mn(j,K=>+v[K])/Mo(j,K=>+v[K]),j=>m[j]).values()),V=[1/R,R];Me(F,{scale:{y:{domain:V}}});const H=Eje(F);H.groupBy="color",H.basis=(j,K)=>{const re=j[gc(ae=>g[+ae]).center(j,N)];return K[re]};for(const j of B.marks)j.animate=!1;return B}),C=(yield c("chartIndex")).view}),P=L=>{const{scale:z,coordinate:N}=C,{x:G,y:Y}=z,B=k(N,G,L);T(L,B);for(const F of _){const{seriesIndex:D,key:R}=F.__data__,V=D[gc(q=>g[+q]).center(D,B)],H=[0,Y.map(1)],j=[0,Y.map(v[V]/v[D[0]])],[,K]=N.map(H),[,re]=N.map(j),ae=K-re;F.setAttribute("transform",`translate(0, ${ae})`);const U=A.get(R)||[];for(const q of U)q.setAttribute("dy",ae)}},I=Wf(L=>{const z=nd(b,L);z&&P(z)},t,{leading:n,trailing:r});return M([0,0]),b.addEventListener("pointerenter",I),b.addEventListener("pointermove",I),b.addEventListener("pointerleave",I),()=>{S.remove(),b.removeEventListener("pointerenter",I),b.removeEventListener("pointermove",I),b.removeEventListener("pointerleave",I)}}}JG.props={reapplyWhenUpdate:!0};function Sje(e){const{coordinate:t={}}=e,{transform:n=[]}=t,r=n.find(i=>i.type==="fisheye");if(r)return r;const a={type:"fisheye"};return n.push(a),t.transform=n,e.coordinate=t,a}function Oje({wait:e=30,leading:t,trailing:n=!1}){return r=>{const{options:a,update:i,setState:o,container:s}=r,l=Zs(s),c=Wf(u=>{const f=nd(l,u);if(!f){o("fisheye"),i();return}o("fisheye",d=>{const h=Me({},d,{interaction:{tooltip:{preserve:!0}}});for(const m of h.marks)m.animate=!1;const[p,v]=f,g=Sje(h);return g.focusX=p,g.focusY=v,g.visual=!0,h}),i()},e,{leading:t,trailing:n});return l.addEventListener("pointerenter",c),l.addEventListener("pointermove",c),l.addEventListener("pointerleave",c),()=>{l.removeEventListener("pointerenter",c),l.removeEventListener("pointermove",c),l.removeEventListener("pointerleave",c)}}}var ku=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dc="tooltipLocked";function kx(e,t){var n;if(t)return typeof t=="string"?document.querySelector(t):t;const r=(n=e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function kje(e){const t=e.getRenderBounds(),{min:[n,r],max:[a,i]}=t;return{x:n,y:r,width:a-n,height:i-r}}function Tje(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function Cje(e,t,n,r,a,i,o,s={},l=[10,10]){const c={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},u=new p6e({className:"tooltip",style:{x:t,y:n,container:o,data:[],bounding:i,position:r,enterable:a,title:"",offset:l,template:{prefixCls:"g2-"},style:Me(c,s)}});return e.appendChild(u.HTMLTooltipElement),u}function eY({root:e,data:t,x:n,y:r,render:a,event:i,single:o,position:s="right-bottom",enterable:l=!1,css:c,mount:u,bounding:f,offset:d}){const h=kx(e,u),p=kx(e),v=o?p:e,g=f||kje(e),m=Tje(p,h),{tooltipElement:y=Cje(h,n,r,s,l,g,m,c,d)}=v,{items:x,title:b=""}=t;y.update(Object.assign({x:n,y:r,data:x.map(_=>Object.assign(Object.assign({},_),{value:!_.value&&_.value!==0?"":_.value})),title:b,position:s,enterable:l,container:m},a!==void 0&&{content:a(i,{items:x,title:b})})),v.tooltipElement=y}function Qc({root:e,single:t,emitter:n,nativeEvent:r=!0,event:a=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const i=kx(e),o=t?i:e,{tooltipElement:s}=o;s&&s.hide(a==null?void 0:a.clientX,a==null?void 0:a.clientY),nY(e),rY(e),aY(e)}function pS({root:e,single:t}){const n=kx(e),r=t?n:e;if(!r)return;const{tooltipElement:a}=r;a&&(a.destroy(),r.tooltipElement=void 0),nY(e),rY(e),aY(e)}function HT(e){const{value:t}=e;return Object.assign(Object.assign({},e),{value:t===void 0?"undefined":t})}function Mje(e){var t,n,r,a,i,o,s;const{__data__:l}=e,{title:c,items:u=[]}=l;if(u.some(E=>LT in E)){const E=u.filter(Kn).map(w=>{var{color:A=VT(e)}=w,S=ku(w,["color"]);return Object.assign(Object.assign({},S),{color:A})}).map(HT);return Object.assign(Object.assign({},c&&{title:c}),{items:E})}const d=(n=(t=l==null?void 0:l.normalized)===null||t===void 0?void 0:t.x)!==null&&n!==void 0?n:0,h=(r=e.parentNode)===null||r===void 0?void 0:r.__data__,p=(a=h==null?void 0:h.encode)!==null&&a!==void 0?a:{},{x:v={},y:g={},color:m={}}=p,{value:y=[]}=v,{value:x=[]}=g,{value:b=[]}=m,_=Math.min(Math.round(y.length*d),y.length-1);return{title:`${y[_]}, ${x[_]}`,items:[{name:(i=m.field)!==null&&i!==void 0?i:"value",value:b[_],color:((o=e.style)===null||o===void 0?void 0:o.fill)||((s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"color"))||"#000"}]}}function Pje(e){const{__data__:t}=e;if(v2(e))return Mje(e);const{title:n,items:r=[]}=t,a=r.filter(Kn).map(i=>{var{color:o=VT(e)}=i,s=ku(i,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(HT);return Object.assign(Object.assign({},n&&{title:n}),{items:a})}function VT(e){const t=e.getAttribute("fill"),n=e.getAttribute("stroke"),{__data__:r}=e,{color:a=t&&t!=="transparent"?t:n}=r;return a}function yR(e,t=n=>n){const n=new Map(e.map(r=>[t(r),r]));return Array.from(n.values())}function tY(e,t,n,r=e.map(i=>i.__data__),a={}){const i=l=>l instanceof Date?+l:l,o=yR(r.map(l=>l.title),i).filter(Kn),s=r.flatMap((l,c)=>{const u=l.element||e[c],{items:f=[],title:d}=l,h=f.filter(Kn),p=n!==void 0?n:f.length<=1;return h.map(v=>{var{color:g=VT(u)||a.color,name:m}=v,y=ku(v,["color","name"]);const x=AAe(t,l),b=p&&!(LT in y)?x||m:m||x;return Object.assign(Object.assign({},y),{color:g,name:b||d})})}).map(HT);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:yR(s,l=>`(${i(l.name)}, ${i(l.value)}, ${i(l.color)})`)})}function Ije(e,t,n,r){var{plotWidth:a,plotHeight:i,mainWidth:o,mainHeight:s,startX:l,startY:c,transposed:u,polar:f,insetLeft:d,insetTop:h}=r,p=ku(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const v=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},p),g=(E,w,A)=>{const S=new Ll({style:Object.assign({cx:E,cy:w,r:A},v)});return e.appendChild(S),S},m=(E,w,A,S)=>{const O=new md({style:Object.assign({x1:E,x2:w,y1:A,y2:S},v)});return e.appendChild(O),O},x=((E,w)=>{if(w.length===1)return w[0];const A=w.map(O=>Or(O,E)),S=Ov(A,O=>O);return w[S]})(n,t),b=()=>u?[l+x[0],l+x[0],c,c+i]:[l,l+a,x[1]+c,x[1]+c],_=()=>{const E=l+d+o/2,w=c+h+s/2,A=Or([E,w],x);return[E,w,A]};if(f){const[E,w,A]=_(),S=e.ruleX||g(E,w,A);S.style.cx=E,S.style.cy=w,S.style.r=A,e.ruleX=S}else{const[E,w,A,S]=b(),O=e.ruleX||m(E,w,A,S);O.style.x1=E,O.style.x2=w,O.style.y1=A,O.style.y2=S,e.ruleX=O}}function Rje(e,t,n){var{plotWidth:r,plotHeight:a,mainWidth:i,mainHeight:o,startX:s,startY:l,transposed:c,polar:u,insetLeft:f,insetTop:d}=n,h=ku(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),v=t.map(S=>S[1]),g=t.map(S=>S[0]),m=T1(v),y=T1(g),x=()=>{if(u){const S=Math.min(i,o)/2,O=s+f+i/2,k=l+d+o/2,T=os(Br([y,m],[O,k])),C=O+S*Math.cos(T),M=k+S*Math.sin(T);return[O,C,k,M]}return c?[s,s+r,m+l,m+l]:[y+s,y+s,l,l+a]},[b,_,E,w]=x(),A=()=>{const S=new md({style:Object.assign({x1:b,x2:_,y1:E,y2:w},p)});return e.appendChild(S),S};if(g.length>0){const S=e.ruleY||A();S.style.x1=b,S.style.x2=_,S.style.y1=E,S.style.y2=w,e.ruleY=S}}function nY(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function rY(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function Dje(e,{data:t,style:n,theme:r}){e.markers&&e.markers.forEach(o=>o.remove());const{type:a=""}=n,i=t.filter(o=>{const[{x:s,y:l}]=o;return Kn(s)&&Kn(l)}).map(o=>{const[{color:s,element:l},c]=o,u=s||l.style.fill||l.style.stroke||r.color,f=a==="hollow"?"transparent":u,d=a==="hollow"?u:"#fff";return new Ll({className:"g2-tooltip-marker",style:Object.assign({cx:c[0],cy:c[1],fill:f,r:4,stroke:d,lineWidth:2,pointerEvents:"none"},n)})});for(const o of i)e.appendChild(o);e.markers=i}function aY(e){e.markers&&(e.markers.forEach(t=>t.remove()),e.markers=[])}function xR(e,t){return Array.from(e.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[t]})}function ll(e,t){return e===void 0?t:e}function iY(e){const{title:t,items:n}=e;return n.length===0&&t===void 0}function Nje(e){return Array.from(e.values()).some(t=>{var n;return((n=t.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&t.tooltip})}function Lje(e,t){const{innerWidth:n,innerHeight:r,marginLeft:a,paddingLeft:i,insetLeft:o,marginTop:s,paddingTop:l,insetTop:c}=e.getOptions();return{x:(t.x-a-i-o)/n,y:(t.y-s-l-c)/r}}function Fje(e){const{x:t}=e;if(!t||!t.valueBandWidth)return!0;const{valueBandWidth:n}=t;return nr(n)?!0:new Set(n.values()).size===1}function Bje(e,t){const{adjustedRange:n,valueBandWidth:r,valueStep:a}=e,i=Array.from(r.values()),o=Array.from(a.values()),l=n.map((c,u)=>{const f=(o[u]-i[u])/2;return[c-f,c+i[u]+f]}).findIndex(([c,u])=>c<=t&&t<=u);return l!==-1?l:t>.5?n.length-1:0}function oY({root:e,event:t,elements:n=[],coordinate:r,scale:a,shared:i}){var o,s;const l=m=>m.markType==="interval",c=n.every(l)&&!$n(r),u=a.x,f=Fje(a),d=a.series,h=(s=(o=u==null?void 0:u.getBandWidth)===null||o===void 0?void 0:o.call(u))!==null&&s!==void 0?s:0,p=d&&d.valueBandWidth?m=>{const y=Math.round(1/d.valueBandWidth);return m.__data__.x+m.__data__.series*h+h/(y*2)}:m=>m.__data__.x+h/2;c&&n.sort((m,y)=>p(m)-p(y));const v=m=>{const{target:y=Ao(n)}=m;return Gv(y,x=>x.classList?(v2(x)&&c2(x,"__data__.normalized",Lje(r,{x:m.offsetX,y:m.offsetY})),x.classList.includes("element")):!1)};return(c?m=>{const y=nd(e,m);if(!y)return;const[x]=r.invert(y),b=gc(p).center,_=f?b(n,x):Bje(u,x),E=n[_];if(!i){const w=n.find(A=>A!==E&&p(A)===p(E));if(w)return v(m)||w}return E}:v)(t)}function sY({root:e,event:t,elements:n,coordinate:r,scale:a,startX:i,startY:o}){const s=tr(r),l=[],c=[];for(const L of n){const{__data__:z}=L,{seriesX:N,title:G,items:Y}=z;N?l.push(L):(G||Y)&&c.push(L)}const u=L=>L.markType==="interval",f=c.length&&c.every(u)&&!$n(r),d=L=>L.__data__.x,p=!!a.x.getBandWidth&&c.length>0;l.sort((L,z)=>{const N=s?0:1,G=Y=>Y.getBounds().min[N];return s?G(z)-G(L):G(L)-G(z)});const v=L=>{const z=s?1:0,{min:N,max:G}=L.getLocalBounds();return $s([N[z],G[z]])};f?n.sort((L,z)=>d(L)-d(z)):c.sort((L,z)=>{const[N,G]=v(L),[Y,B]=v(z),F=(N+G)/2,D=(Y+B)/2;return s?D-F:F-D});const g=new Map(l.map(L=>{const{__data__:z}=L,{seriesX:N}=z,G=N.map((B,F)=>F),Y=$s(G,B=>N[+B]);return[L,[Y,N]]})),{x:m}=a,y=m!=null&&m.getBandWidth?m.getBandWidth()/2:0,x=L=>{const[z]=r.invert(L);return z-y},b=(L,z,N,G)=>{const{_x:Y}=L,B=Y!==void 0?m.map(Y):x(z),F=G.filter(Kn),[D,R]=$s([F[0],F[F.length-1]]),V=D===R;if(!p&&(B<D||B>R)&&!V)return null;const H=gc(K=>G[+K]).center,j=H(N,B);return N[j]},_=f?(L,z)=>{const N=gc(d).center,G=N(z,x(L)),Y=z[G];return er(z,d).get(d(Y))}:(L,z)=>{const G=L[s?1:0],Y=z.filter(D=>{const[R,V]=v(D);return G>=R&&G<=V});if(!p||Y.length>0)return Y;const B=gc(D=>{const[R,V]=v(D);return(R+V)/2}).center,F=B(z,G);return[z[F]].filter(Kn)},E=(L,z)=>{const{__data__:N}=L;return Object.fromEntries(Object.entries(N).filter(([G])=>G.startsWith("series")&&G!=="series").map(([G,Y])=>{const B=Y[z];return[d9(G.replace("series","")),B]}))},w=nd(e,t);if(!w)return;const A=[w[0]-i,w[1]-o];if(!A)return;const S=_(A,c),O=[],k=[];for(const L of l){const[z,N]=g.get(L),G=b(t,A,z,N);if(G!==null){O.push(L);const Y=E(L,G),{x:B,y:F}=Y,D=r.map([(B||0)+y,F||0]);k.push([Object.assign(Object.assign({},Y),{element:L}),D])}}const T=Array.from(new Set(k.map(L=>L[0].x))),C=T[Ov(T,L=>Math.abs(L-x(A)))],M=k.filter(L=>L[0].x===C),P=[...M.map(L=>L[0]),...S.map(L=>L.__data__)];return{selectedElements:[...O,...S],selectedData:P,filteredSeriesData:M,abstractX:x}}function bR(e,t){var{elements:n,sort:r,filter:a,scale:i,coordinate:o,crosshairs:s,crosshairsX:l,crosshairsY:c,render:u,groupName:f,emitter:d,wait:h=50,leading:p=!0,trailing:v=!1,startX:g=0,startY:m=0,body:y=!0,single:x=!0,position:b,enterable:_,mount:E,bounding:w,theme:A,offset:S,disableNative:O=!1,marker:k=!0,preserve:T=!1,style:C={},css:M={},clickLock:P=!1}=t,I=ku(t,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css","clickLock"]);const L=n(e),z=Me(C,I),N=$n(o),G=tr(o),{innerWidth:Y,innerHeight:B,width:F,height:D,insetLeft:R,insetTop:V}=o.getOptions(),H=Wf(he=>{var me;if(P&&e.getAttribute(dc))return;const xe=nd(e,he);if(!xe)return;const be=Ax(e),De=be.min[0],ue=be.min[1],{selectedElements:ve,selectedData:ze,filteredSeriesData:We,abstractX:lt}=sY({root:e,event:he,elements:L,coordinate:o,scale:i,startX:g,startY:m}),Pe=tY(ve,i,f,ze,A);if(r&&Pe.items.sort((mt,Ct)=>r(mt)-r(Ct)),a&&(Pe.items=Pe.items.filter(a)),ve.length===0||iY(Pe)){j(he);return}if(y&&eY({root:e,data:Pe,x:xe[0]+De,y:xe[1]+ue,render:u,event:he,single:x,position:b,enterable:_,mount:E,bounding:w,css:M,offset:S}),s||l||c){const mt=Xe(z,"crosshairs"),Ct=Object.assign(Object.assign({},mt),Xe(z,"crosshairsX")),nn=Object.assign(Object.assign({},mt),Xe(z,"crosshairsY")),Cr=We.map(lr=>lr[1]);l&&Ije(e,Cr,xe,Object.assign(Object.assign({},Ct),{plotWidth:Y,plotHeight:B,mainWidth:F,mainHeight:D,insetLeft:R,insetTop:V,startX:g,startY:m,transposed:G,polar:N})),c&&Rje(e,Cr,Object.assign(Object.assign({},nn),{plotWidth:Y,plotHeight:B,mainWidth:F,mainHeight:D,insetLeft:R,insetTop:V,startX:g,startY:m,transposed:G,polar:N}))}if(k){const mt=Xe(z,"marker");Dje(e,{data:We,style:mt,theme:A})}const ct=(me=We[0])===null||me===void 0?void 0:me[0].x,Ye=ct??lt(focus);d.emit("tooltip:show",Object.assign(Object.assign({},he),{nativeEvent:!0,data:Object.assign(Object.assign({},Pe),{data:{x:Z0(i.x,Ye,!0)}})}))},h,{leading:p,trailing:v}),j=he=>{P&&e.getAttribute(dc)||Qc({root:e,single:x,emitter:d,event:he})},K=()=>{pS({root:e,single:x})},re=he=>{var me,{nativeEvent:xe,data:be,offsetX:De,offsetY:ue}=he,ve=ku(he,["nativeEvent","data","offsetX","offsetY"]);if(xe)return;const ze=(me=be==null?void 0:be.data)===null||me===void 0?void 0:me.x,lt=i.x.map(ze),[Pe,ct]=o.map([lt,.5]),Ye=e.getRenderBounds(),mt=Ye.min[0],Ct=Ye.min[1];H(Object.assign(Object.assign({},ve),{offsetX:De!==void 0?De:mt+Pe,offsetY:ue!==void 0?ue:Ct+ct,_x:ze}))},ae=()=>{Qc({root:e,single:x,emitter:d,nativeEvent:!1})},U=()=>{te(),K()},q=he=>{nd(e,he)||j(he)},J=()=>{ce()},X=he=>{P&&e.setAttribute(dc,!e.getAttribute(dc)),H(he)},ce=()=>{O||(e.addEventListener("pointerdown",X),e.addEventListener("pointerenter",H),e.addEventListener("pointermove",H),e.addEventListener("pointerleave",q),e.addEventListener("pointerup",j))},te=()=>{O||(e.removeEventListener("pointerdown",X),e.removeEventListener("pointerenter",H),e.removeEventListener("pointermove",H),e.removeEventListener("pointerleave",q),e.removeEventListener("pointerup",j))};return ce(),d.on("tooltip:show",re),d.on("tooltip:hide",ae),d.on("tooltip:disable",U),d.on("tooltip:enable",J),()=>{te(),d.off("tooltip:show",re),d.off("tooltip:hide",ae),d.off("tooltip:disable",U),d.off("tooltip:enable",J),T?Qc({root:e,single:x,emitter:d,nativeEvent:!1}):K()}}function $je(e,{elements:t,coordinate:n,scale:r,render:a,groupName:i,sort:o,filter:s,emitter:l,wait:c=50,leading:u=!0,trailing:f=!1,groupKey:d=T=>T,single:h=!0,position:p,enterable:v,datum:g,view:m,mount:y,bounding:x,theme:b,offset:_,shared:E=!1,body:w=!0,disableNative:A=!1,preserve:S=!1,css:O={},clickLock:k=!1}){const T=t(e),C=er(T,d),M=Wf(F=>{if(k&&e.getAttribute(dc))return;const D=oY({root:e,event:F,elements:T,coordinate:n,scale:r,shared:E});if(!D){Qc({root:e,single:h,emitter:l,event:F});return}const R=d(D),V=C.get(R);if(!V)return;const H=V.length===1&&!E?Pje(V[0]):tY(V,r,i,void 0,b);if(o&&H.items.sort((re,ae)=>o(re)-o(ae)),s&&(H.items=H.items.filter(s)),iY(H)){Qc({root:e,single:h,emitter:l,event:F});return}const{offsetX:j,offsetY:K}=F;w&&eY({root:e,data:H,x:j,y:K,render:a,event:F,single:h,position:p,enterable:v,mount:y,bounding:x,css:O,offset:_}),l.emit("tooltip:show",Object.assign(Object.assign({},F),{nativeEvent:!0,data:Object.assign(Object.assign({},H),{data:bO(D,m)})}))},c,{leading:u,trailing:f}),P=F=>{Qc({root:e,single:h,emitter:l,event:F})},I=F=>{k&&e.setAttribute(dc,!e.getAttribute(dc)),M(F)},L=()=>{A||(e.addEventListener("pointerdown",I),e.addEventListener("pointermove",M),e.addEventListener("pointerleave",P),e.addEventListener("pointerup",P))},z=()=>{A||(e.removeEventListener("pointerdown",I),e.removeEventListener("pointermove",M),e.removeEventListener("pointerleave",P),e.removeEventListener("pointerup",P))},N=({nativeEvent:F,offsetX:D,offsetY:R,data:V})=>{if(F)return;const{data:H}=V,j=zT(T,H,g);if(!j)return;const K=j.getBBox(),{x:re,y:ae,width:U,height:q}=K,J=e.getBBox();M({target:j,offsetX:D!==void 0?D+J.x:re+U/2,offsetY:R!==void 0?R+J.y:ae+q/2})},G=({nativeEvent:F}={})=>{F||Qc({root:e,single:h,emitter:l,nativeEvent:!1})},Y=()=>{z(),pS({root:e,single:h})},B=()=>{L()};return l.on("tooltip:show",N),l.on("tooltip:hide",G),l.on("tooltip:enable",B),l.on("tooltip:disable",Y),L(),()=>{z(),l.off("tooltip:show",N),l.off("tooltip:hide",G),l.off("tooltip:enable",B),l.off("tooltip:disable",Y),S?Qc({root:e,single:h,emitter:l,nativeEvent:!1}):pS({root:e,single:h})}}function lY(e){const{shared:t,crosshairs:n,crosshairsX:r,crosshairsY:a,series:i,name:o,item:s=()=>({}),facet:l=!1}=e,c=ku(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(u,f,d)=>{const{container:h,view:p}=u,{scale:v,markState:g,coordinate:m,theme:y}=p,x=xR(g,"seriesTooltip"),b=xR(g,"crosshairs"),_=Zs(h),E=ll(i,x),w=ll(n,b);if(c.clickLock&&!l&&_.setAttribute(dc,!1),E&&Nje(g)&&!l)return bR(_,Object.assign(Object.assign({},c),{theme:y,elements:Ou,scale:v,coordinate:m,crosshairs:w,crosshairsX:ll(ll(r,n),!1),crosshairsY:ll(a,w),item:s,emitter:d}));if(E&&l){const A=f.filter(P=>P!==u&&P.options.parentKey===u.options.key),S=BG(u,f),O=A[0].view.scale,k=_.getBounds(),T=k.min[0],C=k.min[1];Object.assign(O,{facet:!0});const M=_.parentNode.parentNode;return c.clickLock&&M.setAttribute(dc,!1),bR(M,Object.assign(Object.assign({},c),{theme:y,elements:()=>S,scale:O,coordinate:m,crosshairs:ll(n,b),crosshairsX:ll(ll(r,n),!1),crosshairsY:ll(a,w),item:s,startX:T,startY:C,emitter:d}))}return $je(_,Object.assign(Object.assign({},c),{datum:rd(p),elements:Ou,scale:v,coordinate:m,groupKey:t?Vv():void 0,item:s,emitter:d,view:p,theme:y,shared:t}))}}lY.props={reapplyWhenUpdate:!0};var Vd=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const cY="legend-category",jje="legend-continuous",zje="items-item",Uje="legend-category-item-marker",Hje="legend-category-item-label",Vje="legend-category-item-focus-group";function uY(e){return e.getElementsByClassName(Uje)[0]}function fY(e){return e.getElementsByClassName(Hje)[0]}function wR(e){return e.getElementsByClassName(Vje)[0]}function dY(e){return e.getElementsByClassName(zje)}function WT(e){return e.getElementsByClassName(cY)}function hY(e){return e.getElementsByClassName(jje)}function Wje(e,t){[...WT(e),...hY(e)].forEach(r=>{t(r,a=>a)})}function vS(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function Gje(e,{legends:t,marker:n,label:r,datum:a,filter:i,defaultSelect:o,emitter:s,channel:l,state:c={}}){const u=new Map,f=new Map,d=new Map,h=new Map,{unselected:p={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=c,v={unselected:Xe(p,"marker")},g={unselected:Xe(p,"label")},{setState:m,removeState:y}=mu(v,void 0),{setState:x,removeState:b}=mu(g,void 0),_=Array.from(t(e));let E=_.map(a);const w=()=>{for(const k of _){const T=a(k),C=n(k),M=r(k);E.includes(T)?(y(C,"unselected"),b(M,"unselected")):(m(C,"unselected"),x(M,"unselected"))}};for(const k of _){const T=()=>{Yc(e,"pointer")},C=()=>{dje(e)},M=I=>Vd(this,void 0,void 0,function*(){const L=a(k),z=E.indexOf(L);z===-1?E.push(L):E.splice(z,1),yield i(E),w();const{nativeEvent:N=!0}=I;N&&(E.length===_.length?s.emit("legend:reset",{nativeEvent:N}):s.emit("legend:filter",Object.assign(Object.assign({},I),{nativeEvent:N,data:{channel:l,values:E}})))});k.addEventListener("click",M),k.addEventListener("pointerenter",T),k.addEventListener("pointerout",C),u.set(k,M),f.set(k,T),d.set(k,C);const P=wR(k);if(P){const I=L=>Vd(this,void 0,void 0,function*(){L.stopPropagation();const z=a(k),N=E.indexOf(z),{nativeEvent:G=!0}=L;if(N!==-1&&E.length===1){if(!G)return;E=_.map(a),yield i(E),w(),s.emit("legend:reset",{nativeEvent:G})}else{if(E=[z],yield i(E),w(),!G)return;s.emit("legend:focus",Object.assign(Object.assign({},L),{nativeEvent:G,data:{channel:l,value:z}}))}});P.addEventListener("click",I),h.set(k,I)}}const A=k=>Vd(this,void 0,void 0,function*(){const{nativeEvent:T}=k;if(T)return;const{data:C}=k,{channel:M,value:P}=C;M===l&&(E=[P],yield i(E),w())}),S=k=>Vd(this,void 0,void 0,function*(){const{nativeEvent:T}=k;if(T)return;const{data:C}=k,{channel:M,values:P}=C;M===l&&(E=P,yield i(E),w())}),O=k=>Vd(this,void 0,void 0,function*(){const{nativeEvent:T}=k;T||(E=_.map(a),yield i(E),w())});return s.on("legend:filter",S),s.on("legend:focus",A),s.on("legend:reset",O),o&&s.emit("legend:filter",{data:{channel:l,values:o}}),()=>{for(const k of _){k.removeEventListener("click",u.get(k)),k.removeEventListener("pointerenter",f.get(k)),k.removeEventListener("pointerout",d.get(k));const T=wR(k);T&&T.removeEventListener("click",h.get(k)),s.on("legend:focus",A),s.off("legend:filter",S),s.off("legend:reset",O)}}}function Yje(e,{legend:t,filter:n,emitter:r,channel:a}){const i=({detail:{value:o}})=>{n(o),r.emit({nativeEvent:!0,data:{channel:a,values:o}})};return t.addEventListener("valuechange",i),()=>{t.removeEventListener("valuechange",i)}}function pY(e,{legend:t,channel:n,value:r,ordinal:a,channels:i,allChannels:o,facet:s=!1}){return Vd(this,void 0,void 0,function*(){const{view:l,update:c,setState:u}=e;u(t,f=>{const{marks:d}=f,h=d.map(p=>{if(p.type==="legends"||QNe.includes(p.type))return p;const{transform:v=[],data:g=[]}=p,m=v.findIndex(({type:b})=>b.startsWith("group")||b.startsWith("bin")),y=[...v];g.length&&y.splice(m+1,0,{type:"filter",[n]:{value:r,ordinal:a}});const x=Object.fromEntries(i.map(b=>[b,{domain:l.scale[b].getOptions().domain}]));return Me({},p,Object.assign(Object.assign({transform:y,scale:x},!a&&{animate:!1}),{legend:s?!1:Object.fromEntries(o.map(b=>[b,{preserve:!0}]))}))});return Object.assign(Object.assign({},f),{marks:h})}),yield c()})}function Xje(e,t){for(const n of e)pY(n,Object.assign(Object.assign({},t),{facet:!0}))}function qje(){return(e,t,n)=>{const{container:r}=e,a=t.filter(f=>f!==e),i=a.length>0,o=f=>vS(f).scales.map(d=>d.name),s=[...WT(r),...hY(r)],l=s.flatMap(o),c=i?Wf(Xje,50,{trailing:!0}):Wf(pY,50,{trailing:!0}),u=s.map(f=>{const{name:d,domain:h}=vS(f).scales[0],p=o(f),v={legend:f,channel:d,channels:p,allChannels:l};return f.className===cY?Gje(r,{legends:dY,marker:uY,label:fY,datum:g=>{const{__data__:m}=g,{index:y}=m;return h[y]},filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!0});c(i?a:e,m)},state:f.attributes.state,defaultSelect:f.attributes.defaultSelect,channel:d,emitter:n}):Yje(r,{legend:f,filter:g=>{const m=Object.assign(Object.assign({},v),{value:g,ordinal:!1});c(i?a:e,m)},emitter:n,channel:d})});return()=>{u.forEach(f=>f())}}}function Kje(){return(e,t,n)=>{const{container:r,view:a,options:i}=e,o=WT(r),s=Ou(r),l=h=>vS(h).scales[0].name,c=h=>{const{scale:{[h]:p}}=a;return p},u=rh(i,["active","inactive"]),f=Wv(s,rd(a)),d=[];for(const h of o){const p=G=>{const{data:Y}=h.attributes,{__data__:B}=G,{index:F}=B;return Y[F].label},v=l(h),g=dY(h),m=c(v),y=er(s,G=>m.invert(G.__data__[v])),{state:x={}}=h.attributes,{inactive:b={}}=x,{setState:_,removeState:E}=mu(u,f),w={inactive:Xe(b,"marker")},A={inactive:Xe(b,"label")},{setState:S,removeState:O}=mu(w),{setState:k,removeState:T}=mu(A),C=G=>{for(const Y of g){const B=uY(Y),F=fY(Y);Y===G||G===null?(O(B,"inactive"),T(F,"inactive")):(S(B,"inactive"),k(F,"inactive"))}},M=(G,Y)=>{const B=p(Y),F=new Set(y.get(B));for(const R of s)F.has(R)?_(R,"active"):_(R,"inactive");C(Y);const{nativeEvent:D=!0}=G;D&&n.emit("legend:highlight",Object.assign(Object.assign({},G),{nativeEvent:D,data:{channel:v,value:B}}))},P=new Map;for(const G of g){const Y=B=>{M(B,G)};G.addEventListener("pointerover",Y),P.set(G,Y)}const I=G=>{for(const B of s)E(B,"inactive","active");C(null);const{nativeEvent:Y=!0}=G;Y&&n.emit("legend:unhighlight",{nativeEvent:Y})},L=G=>{const{nativeEvent:Y,data:B}=G;if(Y)return;const{channel:F,value:D}=B;if(F!==v)return;const R=g.find(V=>p(V)===D);R&&M({nativeEvent:!1},R)},z=G=>{const{nativeEvent:Y}=G;Y||I({nativeEvent:!1})};h.addEventListener("pointerleave",I),n.on("legend:highlight",L),n.on("legend:unhighlight",z);const N=()=>{h.removeEventListener(I),n.off("legend:highlight",L),n.off("legend:unhighlight",z);for(const[G,Y]of P)G.removeEventListener(Y)};d.push(N)}return()=>d.forEach(h=>h())}}var Vo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Zje(e,t){const[n,r,a,i]=e,[o,s,l,c]=t;return!(o>a||l<n||s>i||c<r)}function Qje(e,t,n,r,a){const[i,o,s,l]=a;return[Math.max(i,Math.min(e,n)),Math.max(o,Math.min(t,r)),Math.min(s,Math.max(e,n)),Math.min(l,Math.max(t,r))]}function Jje(e){const{width:t,height:n}=e.getBBox();return[0,0,t,n]}function Kl(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}const _R=W0(e=>{const t=e.attributes,{x:n,y:r,width:a,height:i,class:o,renders:s={},handleSize:l=10,document:c}=t,u=Vo(t,["x","y","width","height","class","renders","handleSize","document"]);if(!c||a===void 0||i===void 0||n===void 0||r===void 0)return;const f=l/2,d=(D,R,V)=>{D.handle||(D.handle=V.createElement("rect"),D.append(D.handle));const{handle:H}=D;return H.attr(R),H},h=Xe(Pm(u,"handleNW","handleNE"),"handleN"),{render:p=d}=h,v=Vo(h,["render"]),g=Xe(u,"handleE"),{render:m=d}=g,y=Vo(g,["render"]),x=Xe(Pm(u,"handleSE","handleSW"),"handleS"),{render:b=d}=x,_=Vo(x,["render"]),E=Xe(u,"handleW"),{render:w=d}=E,A=Vo(E,["render"]),S=Xe(u,"handleNW"),{render:O=d}=S,k=Vo(S,["render"]),T=Xe(u,"handleNE"),{render:C=d}=T,M=Vo(T,["render"]),P=Xe(u,"handleSE"),{render:I=d}=P,L=Vo(P,["render"]),z=Xe(u,"handleSW"),{render:N=d}=z,G=Vo(z,["render"]),Y=(D,R)=>{const{id:V}=D,H=R(D,D.attributes,c);H.id=V,H.style.draggable=!0},B=D=>()=>{const R=W0(V=>Y(V,D));return new R({})},F=xt(e).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);F.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(Kl,Object.assign(Object.assign({width:a,height:i},Pm(u,"handle")),{transform:void 0})),F.maybeAppend("handle-n",B(p)).style("x",f).style("y",-f).style("width",a-l).style("height",l).style("fill","transparent").call(Kl,v),F.maybeAppend("handle-e",B(m)).style("x",a-f).style("y",f).style("width",l).style("height",i-l).style("fill","transparent").call(Kl,y),F.maybeAppend("handle-s",B(b)).style("x",f).style("y",i-f).style("width",a-l).style("height",l).style("fill","transparent").call(Kl,_),F.maybeAppend("handle-w",B(w)).style("x",-f).style("y",f).style("width",l).style("height",i-l).style("fill","transparent").call(Kl,A),F.maybeAppend("handle-nw",B(O)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(Kl,k),F.maybeAppend("handle-ne",B(C)).style("x",a-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(Kl,M),F.maybeAppend("handle-se",B(I)).style("x",a-f).style("y",i-f).style("width",l).style("height",l).style("fill","transparent").call(Kl,L),F.maybeAppend("handle-sw",B(N)).style("x",-f).style("y",i-f).style("width",l).style("height",l).style("fill","transparent").call(Kl,G)});function GT(e,t){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:a=()=>{},brushstarted:i=()=>{},brushupdated:o=()=>{},extent:s=Jje(e),brushRegion:l=(H,j,K,re,ae)=>[H,j,K,re],reverse:c=!1,fill:u="#777",fillOpacity:f="0.3",stroke:d="#fff",selectedHandles:h=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,p=Vo(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let v=null,g=null,m=null,y=null,x=null,b=!1;const[_,E,w,A]=s;Yc(e,"crosshair"),e.style.draggable=!0;const S=(H,j,K)=>{if(i(K),y&&y.remove(),x&&x.remove(),v=[H,j],c)return O();k()},O=()=>{x=new ci({style:Object.assign(Object.assign({},p),{fill:u,fillOpacity:f,stroke:d,pointerEvents:"none"})}),y=new _R({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(x),e.appendChild(y)},k=()=>{y=new _R({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},p),{fill:u,fillOpacity:f,stroke:d,draggable:!0}),className:"mask"}),e.appendChild(y)},T=(H=!0)=>{y&&y.remove(),x&&x.remove(),v=null,g=null,m=null,b=!1,y=null,x=null,r(H)},C=(H,j,K=!0)=>{const[re,ae,U,q]=Qje(H[0],H[1],j[0],j[1],s),[J,X,ce,te]=l(re,ae,U,q,s);return c?P(J,X,ce,te):M(J,X,ce,te),n(J,X,ce,te,K),[J,X,ce,te]},M=(H,j,K,re)=>{y.style.x=H,y.style.y=j,y.style.width=K-H,y.style.height=re-j},P=(H,j,K,re)=>{x.style.d=`
      M${_},${E}L${w},${E}L${w},${A}L${_},${A}Z
      M${H},${j}L${H},${re}L${K},${re}L${K},${j}Z
    `,y.style.x=H,y.style.y=j,y.style.width=K-H,y.style.height=re-j},I=H=>{const j=(X,ce,te,he,me)=>X+ce<he?he-ce:X+te>me?me-te:X,K=H[0]-m[0],re=H[1]-m[1],ae=j(K,v[0],g[0],_,w),U=j(re,v[1],g[1],E,A),q=[v[0]+ae,v[1]+U],J=[g[0]+ae,g[1]+U];C(q,J)},L={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},z=H=>G(H)||N(H),N=H=>{const{id:j}=H;return h.indexOf(j)===-1?!1:new Set(Object.keys(L)).has(j)},G=H=>H===y.getElementById("selection"),Y=H=>{const{target:j}=H,[K,re]=S_(e,H);if(!y||!z(j)){S(K,re,H),b=!0;return}z(j)&&(m=[K,re])},B=H=>{const{target:j}=H,K=S_(e,H);if(!v)return;if(!m)return C(v,K);if(G(j))return I(K);const[re,ae]=[K[0]-m[0],K[1]-m[1]],{id:U}=j;if(L[U]){const[q,J,X,ce]=L[U].vector;return C([v[0]+re*q,v[1]+ae*J],[g[0]+re*X,g[1]+ae*ce])}},F=H=>{if(m){m=null;const{x:U,y:q,width:J,height:X}=y.style;v=[U,q],g=[U+J,q+X],o(U,q,U+J,q+X,H);return}g=S_(e,H);const[j,K,re,ae]=C(v,g);b=!1,a(j,K,re,ae,H)},D=H=>{const{target:j}=H;y&&!z(j)&&T()},R=H=>{const{target:j}=H;!y||!z(j)||b?Yc(e,"crosshair"):G(j)?Yc(e,"move"):N(j)&&Yc(e,L[j.id].cursor)},V=()=>{Yc(e,"default")};return e.addEventListener("dragstart",Y),e.addEventListener("drag",B),e.addEventListener("dragend",F),e.addEventListener("click",D),e.addEventListener("pointermove",R),e.addEventListener("pointerleave",V),{mask:y,move(H,j,K,re,ae=!0){y||S(H,j,{}),v=[H,j],g=[K,re],C([H,j],[K,re],ae)},remove(H=!0){y&&T(H)},destroy(){y&&T(!1),Yc(e,"default"),e.removeEventListener("dragstart",Y),e.removeEventListener("drag",B),e.removeEventListener("dragend",F),e.removeEventListener("click",D),e.removeEventListener("pointermove",R),e.removeEventListener("pointerleave",V)}}}function YT(e,t,n){return t.filter(r=>{if(r===e)return!1;const{interaction:a={}}=r.options;return Object.values(a).find(i=>i.brushKey===n)})}function eze(e,t,n){return YT(e,t,n).map(r=>Zs(r.container))}function tze(e,t,n){return YT(e,t,n).map(r=>r.options)}function ER(e,t){var{elements:n,selectedHandles:r,siblings:a=B=>[],datum:i,brushRegion:o,extent:s,reverse:l,scale:c,coordinate:u,series:f=!1,key:d=B=>B,bboxOf:h=B=>{const{x:F,y:D,width:R,height:V}=B.style;return{x:F,y:D,width:R,height:V}},state:p={},emitter:v}=t,g=Vo(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const m=n(e),y=a(e),x=y.flatMap(n),b=Wv(m,i),_=Xe(g,"mask"),{setState:E,removeState:w}=mu(p,b),A=new Map,{width:S,height:O,x:k=0,y:T=0}=h(e),C=s||[0,0,S,O],M=()=>{for(const B of[...m,...x])w(B,"active","inactive")},P=(B,F,D,R)=>{var V;for(const j of y)(V=j.brush)===null||V===void 0||V.remove();const H=new Set;for(const j of m){const{min:K,max:re}=j.getLocalBounds(),[ae,U]=K,[q,J]=re;Zje([ae,U,q,J],[B,F,D,R])?(E(j,"active"),H.add(d(j))):E(j,"inactive")}for(const j of x)H.has(d(j))?E(j,"active"):E(j,"inactive")},I=()=>{for(const B of m)w(B,"inactive");for(const B of A.values())B.remove();A.clear()},L=(B,F,D,R)=>{const V=j=>{const K=j.cloneNode();return K.__data__=j.__data__,j.parentNode.appendChild(K),A.set(j,K),K},H=new Bu({style:{x:B+k,y:F+T,width:D-B,height:R-F}});e.appendChild(H);for(const j of m){const K=A.get(j)||V(j);K.style.clipPath=H,E(j,"inactive"),E(K,"active")}},z=GT(e,Object.assign(Object.assign({},_),{extent:C,brushRegion:o,reverse:l,selectedHandles:r,brushended:B=>{const F=f?I:M;B&&v.emit("brush:remove",{nativeEvent:!0}),F()},brushed:(B,F,D,R,V)=>{const H=Bm(B,F,D,R,c,u);V&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:H}}),(f?L:P)(B,F,D,R)},brushcreated:(B,F,D,R,V)=>{const H=Bm(B,F,D,R,c,u);v.emit("brush:end",Object.assign(Object.assign({},V),{nativeEvent:!0,data:{selection:H}}))},brushupdated:(B,F,D,R,V)=>{const H=Bm(B,F,D,R,c,u);v.emit("brush:end",Object.assign(Object.assign({},V),{nativeEvent:!0,data:{selection:H}}))},brushstarted:B=>{v.emit("brush:start",B)}})),N=({nativeEvent:B,data:F})=>{if(B)return;const{selection:D}=F,[R,V,H,j]=kDe(D,c,u);z.move(R,V,H,j,!1)};v.on("brush:highlight",N);const G=({nativeEvent:B}={})=>{B||z.remove(!1)};v.on("brush:remove",G);const Y=z.destroy.bind(z);return z.destroy=()=>{v.off("brush:highlight",N),v.off("brush:remove",G),Y()},z}function db(e){var{facet:t,brushKey:n}=e,r=Vo(e,["facet","brushKey"]);return(a,i,o)=>{const{container:s,view:l,options:c}=a,u=Zs(s),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},d=["active",["inactive",{opacity:.5}]],{scale:h,coordinate:p}=l;if(t){const g=u.getBounds(),m=g.min[0],y=g.min[1],x=g.max[0],b=g.max[1];return ER(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>BG(a,i),datum:rd(hS(a,i).map(_=>_.view)),brushRegion:(_,E,w,A)=>[_,E,w,A],extent:[m,y,x,b],state:rh(hS(a,i).map(_=>_.options),d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r))}const v=ER(u,Object.assign(Object.assign({elements:Ou,key:g=>g.__data__.key,siblings:()=>eze(a,i,n),datum:rd([l,...YT(a,i,n).map(g=>g.view)]),brushRegion:(g,m,y,x)=>[g,m,y,x],extent:void 0,state:rh([c,...tze(a,i,n)],d),emitter:o,scale:h,coordinate:p,selectedHandles:void 0},f),r));return u.brush=v,()=>v.destroy()}}db.props={reapplyWhenUpdate:!0};function XT(e,t,n,r,a){const[,i,,o]=a;return[e,i,n,o]}function nze(e){return db(Object.assign(Object.assign({},e),{brushRegion:XT,selectedHandles:["handle-e","handle-w"]}))}function qT(e,t,n,r,a){const[i,,o]=a;return[i,t,o,r]}function rze(e){return db(Object.assign(Object.assign({},e),{brushRegion:qT,selectedHandles:["handle-n","handle-s"]}))}var KT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const aze="axis",ize="axis-line",oze="axis-main-group",vY="axis-hot-area";function sze(e){return e.getElementsByClassName(aze)}function gY(e){return e.getElementsByClassName(ize)[0]}function lze(e){return e.getElementsByClassName(oze)[0]}function mY(e){return lze(e).getLocalBounds()}function cze(e,t){var{cross:n,offsetX:r,offsetY:a}=t,i=KT(t,["cross","offsetX","offsetY"]);const o=mY(e),s=gY(e),[l]=s.getLocalBounds().min,[c,u]=o.min,[f,d]=o.max,h=(f-c)*2;return{brushRegion:qT,hotZone:new Bu({className:vY,style:Object.assign({width:n?h/2:h,transform:`translate(${(n?c:l-h/2).toFixed(2)}, ${u})`,height:d-u},i)}),extent:n?(p,v,g,m)=>[-1/0,v,1/0,m]:(p,v,g,m)=>[Math.floor(c-r),v,Math.ceil(f-r),m]}}function uze(e,t){var{offsetY:n,offsetX:r,cross:a=!1}=t,i=KT(t,["offsetY","offsetX","cross"]);const o=mY(e),s=gY(e),[,l]=s.getLocalBounds().min,[c,u]=o.min,[f,d]=o.max,h=d-u;return{brushRegion:XT,hotZone:new Bu({className:vY,style:Object.assign({width:f-c,height:a?h:h*2,transform:`translate(${c}, ${a?u:l-h})`},i)}),extent:a?(p,v,g,m)=>[p,-1/0,g,1/0]:(p,v,g,m)=>[p,Math.floor(u-n),g,Math.ceil(d-n)]}}function fze(e,t){var{axes:n,elements:r,points:a,horizontal:i,datum:o,offsetY:s,offsetX:l,reverse:c=!1,state:u={},emitter:f,coordinate:d}=t,h=KT(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(e),v=n(e),g=Wv(p,o),{setState:m,removeState:y}=mu(u,g),x=new Map,b=Xe(h,"mask"),_=N=>Array.from(x.values()).every(([G,Y,B,F])=>N.some(([D,R])=>D>=G&&D<=B&&R>=Y&&R<=F)),E=v.map(N=>N.attributes.scale),w=N=>N.length>2?[N[0],N[N.length-1]]:N,A=new Map,S=()=>{A.clear();for(let N=0;N<v.length;N++){const G=E[N],{domain:Y}=G.getOptions();A.set(N,w(Y))}};S();const O=(N,G)=>{const Y=[];for(const F of p){const D=a(F);_(D)?(m(F,"active"),Y.push(F)):m(F,"inactive")}if(A.set(N,T(Y,N)),!G)return;const B=()=>{if(!C)return Array.from(A.values());const F=[];for(const[D,R]of A){const V=E[D],{name:H}=V.getOptions();H==="x"?F[0]=R:F[1]=R}return F};f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:B()}})},k=N=>{for(const G of p)y(G,"active","inactive");S(),N&&f.emit("brushAxis:remove",{nativeEvent:!0})},T=(N,G)=>{const Y=E[G],{name:B}=Y.getOptions(),F=N.map(D=>{const R=D.__data__;return Y.invert(R[B])});return w(iu(Y,F))},C=v.some(i)&&v.some(N=>!i(N)),M=[];for(let N=0;N<v.length;N++){const G=v[N],Y=i(G)?uze:cze,{hotZone:B,brushRegion:F,extent:D}=Y(G,{offsetY:s,offsetX:l,cross:C,zIndex:999,fill:"transparent"});G.parentNode.appendChild(B);const R=GT(B,Object.assign(Object.assign({},b),{reverse:c,brushRegion:F,brushended(V){x.delete(G),Array.from(x.entries()).length===0?k(V):O(N,V)},brushed(V,H,j,K,re){x.set(G,D(V,H,j,K)),O(N,re)}}));M.push(R)}const P=(N={})=>{const{nativeEvent:G}=N;G||M.forEach(Y=>Y.remove(!1))},I=(N,G,Y)=>{const[B,F]=N,D=H=>H.getStep?H.getStep():0,R=L(B,G,Y),V=L(F,G,Y)+D(G);return i(Y)?[R,-1/0,V,1/0]:[-1/0,R,1/0,V]},L=(N,G,Y)=>{const{height:B,width:F}=d.getOptions(),D=G.clone();return i(Y)?D.update({range:[0,F]}):D.update({range:[B,0]}),D.map(N)},z=N=>{const{nativeEvent:G}=N;if(G)return;const{selection:Y}=N.data;for(let B=0;B<M.length;B++){const F=Y[B],D=M[B],R=v[B];if(F){const V=E[B];D.move(...I(F,V,R),!1)}else D.remove(!1)}};return f.on("brushAxis:remove",P),f.on("brushAxis:highlight",z),()=>{M.forEach(N=>N.destroy()),f.off("brushAxis:remove",P),f.off("brushAxis:highlight",z)}}function dze(e){return(t,n,r)=>{const{container:a,view:i,options:o}=t,s=Zs(a),{x:l,y:c}=s.getBBox(),{coordinate:u}=i;return fze(a,Object.assign({elements:Ou,axes:sze,offsetY:c,offsetX:l,points:f=>f.__data__.points,horizontal:f=>{const{startPos:[d,h],endPos:[p,v]}=f.attributes;return d!==p&&h===v},datum:rd(i),state:rh(o,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},e))}}var hze=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},yY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function pze(e=300){let t=null;return n=>{const{timeStamp:r}=n;return t!==null&&r-t<e?(t=r,!0):(t=r,!1)}}function vze(e,t){var{filter:n,reset:r,brushRegion:a,extent:i,reverse:o,emitter:s,scale:l,coordinate:c,selection:u,series:f=!1}=t,d=yY(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const h=Xe(d,"mask"),{width:p,height:v}=e.getBBox(),g=i||[0,0,p,v],m=pze(),y=GT(e,Object.assign(Object.assign({},h),{extent:g,brushRegion:a,reverse:o,brushcreated:x}));e.addEventListener("click",b);function x(E,w,A,S,O){E===A&&w===S||(O.nativeEvent=!0,n(u(E,w,A,S),O),y.remove())}function b(E){m(E)&&(E.nativeEvent=!0,r(E))}const _=({nativeEvent:E,data:w})=>{if(E)return;const{selection:A}=w;n(A,{nativeEvent:!1})};return s.on("brush:filter",_),()=>{y.destroy(),s.off("brush:filter",_),e.removeEventListener("click",b)}}function ZT(e){var{hideX:t=!0,hideY:n=!0}=e,r=yY(e,["hideX","hideY"]);return(a,i,o)=>{const{container:s,view:l,options:c,update:u,setState:f}=a,d=Zs(s),h={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let p=!1,v=!1,g=l;const{scale:m,coordinate:y}=l;return vze(d,Object.assign(Object.assign({brushRegion:(x,b,_,E)=>[x,b,_,E],selection:(x,b,_,E)=>{const{scale:w,coordinate:A}=g;return Bm(x,b,_,E,w,A)},filter:(x,b)=>hze(this,void 0,void 0,function*(){if(v)return;v=!0;const[_,E]=x;f("brushFilter",A=>{const{marks:S}=A,O=S.map(k=>Me({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},k,{scale:{x:{domain:_,nice:!1},y:{domain:E,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:O,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[_,E]}})),g=(yield u()).view,v=!1,p=!0}),reset:x=>{if(v||!p)return;const{scale:b}=l,{x:_,y:E}=b,w=_.getOptions().domain,A=E.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},x),{data:{selection:[w,A]}})),p=!1,g=l,f("brushFilter"),u()},extent:void 0,emitter:o,scale:m,coordinate:y},h),r))}}function gze(e){return ZT(Object.assign(Object.assign({hideX:!0},e),{brushRegion:XT}))}function mze(e){return ZT(Object.assign(Object.assign({hideY:!0},e),{brushRegion:qT}))}function xY(e,t,n){const r=e?n:t,a=e?t:n,i=xc(r),o=xc(a),s=a.getOptions().domain,l=!o&&s&&s.length>=2&&s[0]===0;return{currentScale:r,targetScale:a,isSourceDiscrete:i,isTargetDiscrete:o,shouldPreserveZeroBaseline:l}}function yze(e,t,n,r,a){const i=e?r:n,o=h=>{const p={};return Object.keys(a).forEach(v=>{(v===h||v.match(new RegExp(`^${h}\\d+$`)))&&(p[v]=a[v])}),p},s=o(e?"x":"y"),l=Object.keys(s),c=l.map(h=>t[h]),u=xc(i),f=c.map(h=>xc(h)),d=c.map((h,p)=>{const v=h.getOptions().domain;return!f[p]&&v&&v.length>=2&&v[0]===0});return{currentScale:i,targetScales:c,isSourceDiscrete:u,isTargetDiscrete:f,shouldPreserveZeroBaseline:d,targetScaleKeys:l}}function xze(e){return Array.from(new Set(e)).sort((n,r)=>n-r)}function bze({isTargetDiscrete:e,filteredValues:t,shouldPreserveZeroBaseline:n}){if(e)return xze(t);{const r=Math.min(...t),a=Math.max(...t);return n?[0,a]:[r,a]}}function Qh(e){return e instanceof Date?e.getTime():typeof e=="string"?parseFloat(e):Number(e)}function QT(e,t,n,r,a,i="filter",o=!1){if(YG(i))return[];const s=o?"y":"x",l=o?"x":"y",c=[];for(const u of e){const{channelData:f}=u,d=f[s]||[],h=f[l]||[],p=Array.isArray(d[0])?d[0]:d,v=Array.isArray(h[0]);if(p.length===0)continue;const g=p.length;for(let m=0;m<g;m++){const y=p[m];let x=!1;if(n)x=t.includes(y);else if(t.length>=2){const b=Qh(y),_=Qh(t[0]),E=Qh(t[t.length-1]);!isNaN(b)&&!isNaN(_)&&!isNaN(E)&&(x=b>=_&&b<=E)}if(i==="filter"&&x){if(v){const b=h.length;for(let _=0;_<b;_++){const E=h[_];if(Array.isArray(E)&&m<E.length){const w=E[m],A=Qh(w);isNaN(A)||c.push(A)}}}else if(m<h.length){const b=h[m],_=Qh(b);isNaN(_)||c.push(_)}}}}return c.length>0?bze({isTargetDiscrete:r,filteredValues:c,shouldPreserveZeroBaseline:a}):[]}function wze({markDataPairs:e,domain:t,scaleInfo:n,adaptiveMode:r,shouldFilterXAxis:a=!1}){const{isSourceDiscrete:i,isTargetDiscrete:o,shouldPreserveZeroBaseline:s}=n;return QT(e,t,i,o,s,r,a)}function _ze({markDataPairs:e,domain:t,scaleInfo:n,markToScaleMap:r,adaptiveMode:a,shouldFilterXAxis:i=!1}){const o=new Map,{isSourceDiscrete:s,isTargetDiscrete:l,shouldPreserveZeroBaseline:c,targetScaleKeys:u}=n;return e.forEach(f=>{const d=r.get(f.markKey);if(!d)return;const h=u.indexOf(d);if(h===-1)return;const p=l[h],v=c[h],g=QT([f],t,s,p,v,a,i);o.set(d,g)}),o}function Eze(e,t,n,r,a,i,o=!1,s){const l=new Map;if(e.length===0||t.length===0)return l;const{isSourceDiscrete:c,isTargetDiscrete:u,shouldPreserveZeroBaseline:f}=n,d=s?e.filter(p=>s.get(p.markKey)===a):e.filter(p=>p.markKey===r);if(d.length===0)return l;const h=QT(d,t,c,u,f,i,o);return l.set(a,h),l}function bY(e,t,n,r){r&&t instanceof Map?t.forEach((a,i)=>{a&&Array.isArray(a)&&a.length>0&&(e[i]=a)}):!r&&Array.isArray(t)&&t.length>0&&(e[n?"x":"y"]=t)}var Aze=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const wY="slider";function _Y(e){var t,n,r,a;if(!(e!=null&&e.markState))return 0;let i=0;for(const[o,s]of e.markState.entries()){if(o.type!=="point"||!(s!=null&&s.channels))continue;const l=(t=s.channels)===null||t===void 0?void 0:t.find(c=>c.name==="size");if(l){if(((r=(n=l.scale)===null||n===void 0?void 0:n.range)===null||r===void 0?void 0:r.length)>0){const c=Math.max(...l.scale.range.filter(u=>typeof u=="number"));i=Math.max(i,c);continue}if(((a=l.values)===null||a===void 0?void 0:a.length)>0){const c=l.values.filter(u=>u.value!==void 0).flatMap(u=>Array.isArray(u.value)?u.value:[u.value]).filter(u=>typeof u=="number"&&!isNaN(u));c.length>0&&(i=Math.max(i,...c))}}}return i}function AR(e,t,n,r,a,i,o){if(o){const s=i?r:a.x,l=i?a.y:r;e.emit(t,Object.assign(Object.assign({},n),{nativeEvent:o,data:{selection:[Tx(s),Tx(l)]}}))}}function SR(e,t,n,r){const{domain0:a,filteredDomain:i,channel0:o,channel1:s,prefix:l,hasState:c,isMultiAxis:u,markToScaleMap:f,enableAdaptiveFiltering:d}=r;u&&i instanceof Map?e(t,h=>Object.assign({},Oze(h,n,{[o]:{domain:a,nice:!1}},l,c,o,s,f||new Map,i))):e(t,h=>Object.assign({},Sze(h,n,Object.assign({[o]:{domain:a,nice:!1}},d&&Array.isArray(i)?{[s]:{domain:i,nice:!0}}:{}),l,c,o,s)))}function Sze(e,t,n,r,a=!1,i="x",o="y"){const{marks:s}=e,l=_Y(t),c=s.map(u=>{var f,d;return Me({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},u,{scale:n,[r]:Object.assign(Object.assign({},((f=u[r])===null||f===void 0?void 0:f[i])&&{[i]:Object.assign({preserve:!0},a&&{ratio:null})}),((d=u[r])===null||d===void 0?void 0:d[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:c,insetLeft:l,insetRight:l,insetTop:l,insetBottom:l,clip:!0,animate:!1})}function Oze(e,t,n,r,a=!1,i="x",o="y",s=new Map,l=new Map){const{marks:c}=e,u=_Y(t),f=c.map(d=>{var h,p;const v=typeof(d==null?void 0:d.key)=="string"?d.key:String((d==null?void 0:d.key)||""),g=s.get(v),m=l.get(g),y=m&&{y:Object.assign({domain:m,nice:!0},g!=="y"?{independent:!0}:void 0)};return Me({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},d,{scale:Object.assign(Object.assign({},n),y),[r]:Object.assign(Object.assign({},((h=d[r])===null||h===void 0?void 0:h[i])&&{[i]:Object.assign({preserve:!0},a&&{ratio:null})}),((p=d[r])===null||p===void 0?void 0:p[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:f,insetLeft:u,insetRight:u,insetTop:u,insetBottom:u,clip:!0,animate:!1})}function kze(e,t,n){const[r,a]=e,i=n?l=>1-l:l=>l,o=Z0(t,i(r),!0),s=Z0(t,i(a),!1);return iu(t,[o,s])}function Tx(e){return[e[0],e[e.length-1]]}function EY({initDomain:e={},className:t=wY,prefix:n="slider",setValue:r=(u,f)=>u.setValues(f),hasState:a=!1,wait:i=50,leading:o=!0,trailing:s=!1,adaptiveMode:l="filter",getInitValues:c=u=>{var f;const d=(f=u==null?void 0:u.attributes)===null||f===void 0?void 0:f.values;if(d[0]!==0||d[1]!==1)return d}}){return(u,f,d)=>{const{container:h,view:p,update:v,setState:g}=u,m=h.getElementsByClassName(t);if(!m.length)return()=>{};const{scale:y,coordinate:x}=p,{x:b,y:_}=y,E=tr(x),w=L=>{const z=L==="vertical"?"y":"x",N=L==="vertical"?"x":"y";return E?[N,z]:[z,N]},A=new Map,S=new Set,O=XG(p),k=gje(p,e,b,_,O),T=Array.from(m),C=L=>T.some(z=>{const{orientation:N}=z.attributes,[G]=w(N);return G===L}),M=C("x")&&!C("y"),P=C("y")&&!C("x"),I=!YG(l)&&(M||P);for(const L of m){const{orientation:z}=L.attributes,[N,G]=w(z),Y=`${n}${Ru(N)}:filter`,B=N==="x",{ratio:F}=b.getOptions(),{ratio:D}=_.getOptions(),R=ae=>{if(ae.data){const{selection:ce}=ae.data,[te=Tx(k.x),he=Tx(k.y)]=ce;return B?[iu(b,te,F),iu(_,he,D)]:[iu(_,he,D),iu(b,te,F)]}const{value:U}=ae.detail,q=y[N],J=kze(U,q,E&&z==="horizontal"),X=k[G];return[J,X]};let V=!1;const j=Pze({getFiltering:()=>V,setFiltering:ae=>{V=ae},domainsOf:R,view:p,independentScaleInfo:O,enableAdaptiveFiltering:I,hasOnlyXSlider:M,hasOnlyYSlider:P,adaptiveMode:l,scaleX:b,scaleY:_,scale:y,channelDomain:k,channel0:N,channel1:G,isX:B,emitter:d,eventName:Y,setState:g,slider:L,prefix:n,hasState:a,update:v,wait:i,leading:o,trailing:s}),K=ae=>{const{nativeEvent:U}=ae;if(U)return;const{data:q}=ae,{selection:J}=q,[X,ce]=J;L.dispatchEvent(new Fn("valuechange",{data:q,nativeEvent:!1}));const te=B?oI(X,b):oI(ce,_);r(L,te)};d.on(Y,K),L.addEventListener("valuechange",j),A.set(L,j),S.add([Y,K]);const re=c(L);re&&L.dispatchEvent(new Fn("valuechange",{detail:{value:re},nativeEvent:!1,initValue:!0}))}return()=>{for(const[L,z]of A)L.removeEventListener("valuechange",z);for(const[L,z]of S)d.off(L,z)}}}function Tze({view:e,domain0:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:a,adaptiveMode:i,scaleX:o,scaleY:s,scale:l,channelDomain:c,independentScaleInfo:u,channel0:f}){const d=new Map,h=new Map;if(!r||a.length===0||!(t!=null&&t.length))return{filteredDomain:d,markToScaleMap:h};const p=sn(e,"options.slider");if(Object.keys(p).length>0&&Object.prototype.hasOwnProperty.call(p,f)){const g=yze(n,l,o,s,c);(n?u.markToXScaleMap:u.markToYScaleMap).forEach((x,b)=>{h.set(b,x)});const y=_ze({markDataPairs:a,domain:t,scaleInfo:g,markToScaleMap:h,adaptiveMode:i,shouldFilterXAxis:n});return bY(c,y,n,!0),{filteredDomain:y,markToScaleMap:h}}else{const g=Cze(e,f);if(g){const m=xY(n,o,s),y=n?u.markToXScaleMap:u.markToYScaleMap,x=y.get(g)||"";if(x)return h.set(g,x),{filteredDomain:Eze(a,t,m,g,x,i,n,y),markToScaleMap:h}}}return{filteredDomain:d,markToScaleMap:h}}function Cze(e,t){for(const[n]of e.markState.entries()){const r=sn(n,"slider");if(Object.keys(r||{}).length>0&&Object.prototype.hasOwnProperty.call(r,t))return String(n.key||"")}return null}function Mze({domain0:e,domain1:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:a,adaptiveMode:i,scaleX:o,scaleY:s,channelDomain:l,hasOnlyXSlider:c,hasOnlyYSlider:u,isX:f}){let d=t;if(r&&a.length>0&&(c&&f||u&&!f)&&(e==null?void 0:e.length)>0){const h=xY(n,o,s);d=wze({markDataPairs:a,domain:e,scaleInfo:h,adaptiveMode:i,shouldFilterXAxis:n}),bY(l,d,n,!1)}return d}function Pze({getFiltering:e,setFiltering:t,domainsOf:n,view:r,independentScaleInfo:a,enableAdaptiveFiltering:i,hasOnlyXSlider:o,hasOnlyYSlider:s,adaptiveMode:l,scaleX:c,scaleY:u,scale:f,channelDomain:d,channel0:h,channel1:p,isX:v,emitter:g,eventName:m,setState:y,slider:x,prefix:b,hasState:_,update:E,wait:w,leading:A,trailing:S}){return Wf(O=>Aze(this,void 0,void 0,function*(){const{initValue:k=!1}=O;if(e()&&!k)return;t(!0);const{nativeEvent:T=!0}=O,{markDataPairs:C}=vje(r);if(a[`hasIndependent${p.toUpperCase()}`]){const[P]=n(O),I=s&&!v,{filteredDomain:L,markToScaleMap:z}=Tze({view:r,domain0:P,shouldFilterXAxis:I,enableAdaptiveFiltering:i&&(o&&v||s&&!v),markDataPairs:C,adaptiveMode:l,scaleX:c,scaleY:u,scale:f,channelDomain:d,independentScaleInfo:a,channel0:h});d[h]=P,AR(g,m,O,P,d,v,T),SR(y,x,r,{domain0:P,filteredDomain:L,channel0:h,channel1:p,prefix:b,hasState:_,isMultiAxis:!0,markToScaleMap:z,enableAdaptiveFiltering:i})}else{const[P,I]=n(O),z=Mze({domain0:P,domain1:I,shouldFilterXAxis:s&&!v,enableAdaptiveFiltering:i,markDataPairs:C,adaptiveMode:l,scaleX:c,scaleY:u,channelDomain:d,hasOnlyXSlider:o,hasOnlyYSlider:s,isX:v});d[h]=P,AR(g,m,O,P,d,v,T),SR(y,x,r,{domain0:P,filteredDomain:z,channel0:h,channel1:p,prefix:b,hasState:_,isMultiAxis:!1,markToScaleMap:void 0,enableAdaptiveFiltering:i})}yield E(),t(!1)}),w,{leading:A,trailing:S})}function Ize(e){var t;try{const n=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView;if(!n||typeof n.getContextService!="function")return null;const r=n.getContextService().getDomElement();return r instanceof HTMLElement?r:null}catch{return null}}function AY({className:e=wY,setValue:t=(o,s)=>o.setValues(s),minRange:n=.01,wheelSensitivity:r=.05,x:a=!0,y:i=!0}={}){return o=>{const{container:s,view:l}=o,{coordinate:c}=l,u=tr(c),f=Ize(s),d=Math.max(1e-6,Math.min(1,n)),h=s.getElementsByClassName(e);if(!h.length)return()=>{};const p=(y,x)=>y===!0?!0:y===!1?!1:y==="shift"?x.shiftKey&&!x.ctrlKey&&!x.altKey:y==="ctrl"?x.ctrlKey&&!x.shiftKey&&!x.altKey:y==="alt"?x.altKey&&!x.shiftKey&&!x.ctrlKey:!1,v=(y,x)=>{t(y,x),y.dispatchEvent(new Fn("valuechange",{detail:{value:x},nativeEvent:!0}))},g=(y,x,b,_,E)=>{const A=(y-x)/b,S=Math.max(0,Math.min(1,A));return Math.max(_,Math.min(E,S))},m=y=>{if(!f)return;const x=y.target;if(!f.contains(x))return;const b=f.getBoundingClientRect(),_=y.clientX-b.left,E=y.clientY-b.top,w=[];for(const A of h){const{values:S,orientation:O}=A.attributes;if(!S)continue;const k=O==="horizontal";p((u?k?"y":"x":k?"x":"y")==="x"?a:i,y)&&w.push(A)}if(w.length!==0){y.preventDefault(),y.stopPropagation();for(const A of w){const{values:S,orientation:O,x:k,y:T,trackLength:C}=A.attributes,[M,P]=S,I=P-M,z=O==="horizontal"?g(_,k,C,M,P):g(E,T,C,M,P),N=r*pje(I),Y=1+y.deltaY*N,B=Math.max(d,Math.min(1,I*Y)),F=(z-M)/I,D=(P-z)/I;let R=z-B*F,V=z+B*D;R<0?(R=0,V=Math.min(1,B)):V>1&&(V=1,R=Math.max(0,1-B)),v(A,[R,V])}}};return f&&f.addEventListener("wheel",m,{passive:!1,capture:!0}),()=>{f&&f.removeEventListener("wheel",m,{capture:!0})}}}AY.props={reapplyWhenUpdate:!0};const OR="g2-scrollbar";function Rze(e={}){return(t,n,r)=>{const{view:a,container:i}=t;if(!i.getElementsByClassName(OR).length)return()=>{};const{scale:s}=a,{x:l,y:c}=s,u={x:[...l.getOptions().domain],y:[...c.getOptions().domain]};return l.update({domain:l.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),EY(Object.assign({initDomain:u,className:OR,prefix:"scrollbar",hasState:!0,setValue:(d,h)=>d.setValue(h[0]),getInitValues:d=>{const h=d.slider.attributes.values;if(h[0]!==0||h[1]!==1)return h}},e))(t,n,r)}}var Dze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Nze(e,t,n){return`<${e} style="${Object.entries(n).map(([r,a])=>`${XCe(r)}:${a}`).join(";")}">${t}</${e}>`}const Lze={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function kR(e){return e.nodeName!=="text"?!1:!!e.isOverflowing()}function SY(e){var{offsetX:t=8,offsetY:n=8}=e,r=Dze(e,["offsetX","offsetY"]);return a=>{const{container:i}=a,[o,s]=i.getBounds().min,l=Xe(r,"tip"),c=new Set,u=d=>{const{target:h}=d;if(!kR(h)){d.stopPropagation();return}const{offsetX:p,offsetY:v}=d,g=p+t-o,m=v+n-s;if(h.tip){h.tip.style.x=g,h.tip.style.y=m;return}const{text:y}=h.style,x=new gh({className:"poptip",style:{innerHTML:Nze("div",y,Object.assign(Object.assign({},Lze),l)),x:g,y:m}});i.appendChild(x),h.tip=x,c.add(x)},f=d=>{const{target:h}=d;if(!kR(h)){d.stopPropagation();return}h.tip&&(h.tip.remove(),h.tip=null,c.delete(h.tip))};return i.addEventListener("pointerover",u),i.addEventListener("pointerout",f),()=>{i.removeEventListener("pointerover",u),i.removeEventListener("pointerout",f),c.forEach(d=>d.remove())}}}SY.props={reapplyWhenUpdate:!0};var Fze=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Bze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function $ze(e){return xt(e).select(`.${X0}`).node()}const jze={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function zze(e={}){const{originData:t=[],layout:n}=e,r=Bze(e,["originData","layout"]),a=Me({},jze,r),i=Xe(a,"breadCrumb"),o=Xe(a,"active");return s=>{const{update:l,setState:c,container:u,options:f}=s,d=$ze(u),h=f.marks[0],{state:p}=h,v=new Ia;d.appendChild(v);const g=(E,w)=>Fze(this,void 0,void 0,function*(){if(v.removeChildren(),w){let A="",S=i.y,O=0;const k=[],T=d.getBBox().width,C=E.map((M,P)=>{A=`${A}${M}/`,k.push(M);const I=new Vs({name:A.replace(/\/$/,""),style:Object.assign(Object.assign({text:M,x:O,path:[...k],depth:P},i),{y:S})});v.appendChild(I),O+=I.getBBox().width;const L=new Vs({style:Object.assign(Object.assign({x:O,text:" / "},i),{y:S})});return v.appendChild(L),O+=L.getBBox().width,O>T&&(S=v.getBBox().height+i.y,O=0,I.attr({x:O,y:S}),O+=I.getBBox().width,L.attr({x:O,y:S}),O+=L.getBBox().width),P===by(E)-1&&L.remove(),I});C.forEach((M,P)=>{if(P===by(C)-1)return;const I=Object.assign({},M.attributes);M.attr("cursor","pointer"),M.addEventListener("mouseenter",()=>{M.attr(o)}),M.addEventListener("mouseleave",()=>{M.attr(I)}),M.addEventListener("click",()=>{g(sn(M,["style","path"]),sn(M,["style","depth"]))})})}Wje(u,c),c("treemapDrillDown",A=>{const{marks:S}=A,O=E.join("/"),k=S.map(T=>{if(T.type!=="rect")return T;let C=t;if(w){const P=t.filter(G=>{const Y=sn(G,["id"]);return Y&&(Y.match(`${O}/`)||O.match(Y))}).map(G=>({value:G.height===0?sn(G,["value"]):void 0,name:sn(G,["id"])})),{paddingLeft:I,paddingBottom:L,paddingRight:z}=n,N=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||v.getBBox().height+10)/(w+1),paddingLeft:I/(w+1),paddingBottom:L/(w+1),paddingRight:z/(w+1),path:G=>G.name,layer:G=>G.depth===w+1});C=cH(P,N,{value:"value"})[0]}else C=t.filter(P=>P.depth===1);const M=[];return C.forEach(({path:P})=>{M.push(Ao(P))}),Me({},T,{data:C,scale:{color:{domain:M}}})});return Object.assign(Object.assign({},A),{marks:k})}),yield l(void 0,["legendFilter"])}),m=E=>E.attributes.key.split("-")[0],y=E=>sn(E,["__data__","key"]),x=E=>{const w=E.target,{markType:A,nodeName:S,attributes:O}=w||{};if(A!=="rect"&&S!==Se.TEXT)return;const k=S===Se.TEXT&&sn(O,"isTreemapLabel")===!0?m(w):y(w),T=R0(t,C=>C.id===k);sn(T,"height")&&g(sn(T,"path"),sn(T,"depth"))};d.addEventListener("click",x);const b=l9(Object.assign(Object.assign({},p.active),p.inactive)),_=()=>{WG(d).forEach(w=>{const A=sn(w,["style","cursor"]),S=R0(t,O=>O.id===sn(w,["__data__","key"]));if(A!=="pointer"&&(S!=null&&S.height)){w.style.cursor="pointer";const O=iwe(w.attributes,b);w.addEventListener("mouseenter",()=>{w.attr(p.active)}),w.addEventListener("mouseleave",()=>{w.attr(Me(O,p.inactive))})}})};return _(),d.addEventListener("mousemove",_),()=>{v.remove(),d.removeEventListener("click",x),d.removeEventListener("mousemove",_)}}}var O_=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Uze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Hze={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},k_="movePoint",TR=e=>{const t=e.target,{markType:n}=t;n==="line"&&(t.attr("_lineWidth",t.attr("lineWidth")||1),t.attr("lineWidth",t.attr("_lineWidth")+3)),n==="interval"&&(t.attr("_opacity",t.attr("opacity")||1),t.attr("opacity",.7*t.attr("_opacity")))},CR=e=>{const t=e.target,{markType:n}=t;n==="line"&&t.attr("lineWidth",t.attr("_lineWidth")),n==="interval"&&t.attr("opacity",t.attr("_opacity"))},Vze=(e,t,n)=>t.map(r=>["x","color"].reduce((i,o)=>{const s=n[o];return s&&r[s]!==e[s]?!1:i},!0)?Object.assign(Object.assign({},r),e):r),Wze=e=>{const t=sn(e,["__data__","y"]),r=sn(e,["__data__","y1"])-t,{__data__:{data:a,encode:i,transform:o},childNodes:s}=e.parentNode,l=R0(o,({type:f})=>f==="normalizeY"),c=sn(i,["y","field"]),u=a[s.indexOf(e)][c];return(f,d=!1)=>l||d?f/(1-f)/(r/(1-r))*u:f},Gze=(e,t)=>{const n=sn(e,["__data__","seriesItems",t,"0","value"]),r=sn(e,["__data__","seriesIndex",t]),{__data__:{data:a,encode:i,transform:o}}=e.parentNode,s=R0(o,({type:u})=>u==="normalizeY"),l=sn(i,["y","field"]),c=a[r][l];return u=>s?n===1?u:u/(1-u)/(n/(1-n))*c:u},MR=(e,t,n)=>{e.forEach((r,a)=>{r.attr("stroke",t[1]===a?n.activeStroke:n.stroke)})},PR=(e,t,n,r)=>{const a=new ci({style:n}),i=new Vs({style:r});return t.appendChild(i),e.appendChild(a),[a,i]},IR=(e,t)=>{if(!sn(e,["options","range","indexOf"]))return;const r=e.options.range.indexOf(t);return e.sortedDomain[r]},T_=(e,t,n)=>{const r=Ox(e,t),i=Ox(e,n)/r,o=e[0]+(t[0]-e[0])*i,s=e[1]+(t[1]-e[1])*i;return[o,s]};function Yze(e={}){const{selection:t=[],precision:n=2}=e,r=Uze(e,["selection","precision"]),a=Object.assign(Object.assign({},Hze),r||{}),i=Xe(a,"path"),o=Xe(a,"label"),s=Xe(a,"point");return(l,c,u)=>{const{update:f,setState:d,container:h,view:p,options:{marks:v,coordinate:g}}=l,m=Zs(h);let y=WG(m),x,b=t;const{transform:_=[],type:E}=g,w=!!R0(_,({type:z})=>z==="transpose"),A=E==="polar",S=E==="theta",O=!!R0(y,({markType:z})=>z==="area");O&&(y=y.filter(({markType:z})=>z==="area"));const k=new Ia({style:{zIndex:2}});m.appendChild(k);const T=()=>{u.emit("element-point:select",{nativeEvent:!0,data:{selection:b}})},C=(z,N)=>{u.emit("element-point:moved",{nativeEvent:!0,data:{changeData:z,data:N}})},M=z=>{const N=z.target;b=[N.parentNode.childNodes.indexOf(N)],T(),I(N)},P=z=>{const{data:{selection:N},nativeEvent:G}=z;if(G)return;b=N;const Y=sn(y,[b==null?void 0:b[0]]);Y&&I(Y)},I=z=>{const{attributes:N,markType:G,__data__:Y}=z,{stroke:B}=N,{points:F,seriesTitle:D,color:R,title:V,seriesX:H,y1:j}=Y;if(w&&G!=="interval")return;const{scale:K,coordinate:re}=(x==null?void 0:x.view)||p,{color:ae,y:U,x:q}=K,J=re.getCenter();k.removeChildren();let X;const ce=(te,he,me,xe)=>O_(this,void 0,void 0,function*(){return d("elementPointMove",be=>{var De;const ue=(((De=x==null?void 0:x.options)===null||De===void 0?void 0:De.marks)||v).map(ve=>{if(!xe.includes(ve.type))return ve;const{data:ze,encode:We}=ve,Pe=Object.keys(We).reduce((Ye,mt)=>{const Ct=We[mt];return mt==="x"&&(Ye[Ct]=te),mt==="y"&&(Ye[Ct]=he),mt==="color"&&(Ye[Ct]=me),Ye},{}),ct=Vze(Pe,ze,We);return C(Pe,ct),Me({},ve,{data:ct,animate:!1})});return Object.assign(Object.assign({},be),{marks:ue})}),yield f("elementPointMove")});if(["line","area"].includes(G))F.forEach((te,he)=>{const me=q.invert(H[he]);if(!me)return;const xe=new Ll({name:k_,style:Object.assign({cx:te[0],cy:te[1],fill:B},s)}),be=Gze(z,he);xe.addEventListener("mousedown",De=>{const ue=re.output([H[he],0]),ve=D==null?void 0:D.length;h.attr("cursor","move"),b[1]!==he&&(b[1]=he,T()),MR(k.childNodes,b,s);const[ze,We]=PR(k,xe,i,o),lt=ct=>{const Ye=te[1]+ct.clientY-X[1];if(O)if(A){const mt=te[0]+ct.clientX-X[0],[Ct,nn]=T_(J,ue,[mt,Ye]),[,Cr]=re.output([1,U.output(0)]),[,lr]=re.invert([Ct,Cr-(F[he+ve][1]-nn)]),ya=(he+1)%ve,Qs=(he-1+ve)%ve,we=Zh([F[Qs],[Ct,nn],D[ya]&&F[ya]]);We.attr("text",be(U.invert(lr)).toFixed(n)),ze.attr("d",we),xe.attr("cx",Ct),xe.attr("cy",nn)}else{const[,mt]=re.output([1,U.output(0)]),[,Ct]=re.invert([te[0],mt-(F[he+ve][1]-Ye)]),nn=Zh([F[he-1],[te[0],Ye],D[he+1]&&F[he+1]]);We.attr("text",be(U.invert(Ct)).toFixed(n)),ze.attr("d",nn),xe.attr("cy",Ye)}else{const[,mt]=re.invert([te[0],Ye]),Ct=Zh([F[he-1],[te[0],Ye],F[he+1]]);We.attr("text",U.invert(mt).toFixed(n)),ze.attr("d",Ct),xe.attr("cy",Ye)}};X=[De.clientX,De.clientY],window.addEventListener("mousemove",lt);const Pe=()=>O_(this,void 0,void 0,function*(){if(h.attr("cursor","default"),window.removeEventListener("mousemove",lt),h.removeEventListener("mouseup",Pe),Rn(We.attr("text")))return;const ct=Number(We.attr("text")),Ye=IR(ae,R);x=yield ce(me,ct,Ye,["line","area"]),We.remove(),ze.remove(),I(z)});h.addEventListener("mouseup",Pe)}),k.appendChild(xe)}),MR(k.childNodes,b,s);else if(G==="interval"){let te=[(F[0][0]+F[1][0])/2,F[0][1]];w?te=[F[0][0],(F[0][1]+F[1][1])/2]:S&&(te=F[0]);const he=Wze(z),me=new Ll({name:k_,style:Object.assign(Object.assign({cx:te[0],cy:te[1],fill:B},s),{stroke:s.activeStroke})});me.addEventListener("mousedown",xe=>{h.attr("cursor","move");const be=IR(ae,R),[De,ue]=PR(k,me,i,o),ve=We=>{if(w){const lt=te[0]+We.clientX-X[0],[Pe]=re.output([U.output(0),U.output(0)]),[,ct]=re.invert([Pe+(lt-F[2][0]),te[1]]),Ye=Zh([[lt,F[0][1]],[lt,F[1][1]],F[2],F[3]],!0);ue.attr("text",he(U.invert(ct)).toFixed(n)),De.attr("d",Ye),me.attr("cx",lt)}else if(S){const lt=te[1]+We.clientY-X[1],Pe=te[0]+We.clientX-X[0],[ct,Ye]=T_(J,[Pe,lt],te),[mt,Ct]=T_(J,[Pe,lt],F[1]),nn=re.invert([ct,Ye])[1],Cr=j-nn;if(Cr<0)return;const lr=hje(J,[[ct,Ye],[mt,Ct],F[2],F[3]],Cr>.5?1:0);ue.attr("text",he(Cr,!0).toFixed(n)),De.attr("d",lr),me.attr("cx",ct),me.attr("cy",Ye)}else{const lt=te[1]+We.clientY-X[1],[,Pe]=re.output([1,U.output(0)]),[,ct]=re.invert([te[0],Pe-(F[2][1]-lt)]),Ye=Zh([[F[0][0],lt],[F[1][0],lt],F[2],F[3]],!0);ue.attr("text",he(U.invert(ct)).toFixed(n)),De.attr("d",Ye),me.attr("cy",lt)}};X=[xe.clientX,xe.clientY],window.addEventListener("mousemove",ve);const ze=()=>O_(this,void 0,void 0,function*(){if(h.attr("cursor","default"),h.removeEventListener("mouseup",ze),window.removeEventListener("mousemove",ve),Rn(ue.attr("text")))return;const We=Number(ue.attr("text"));x=yield ce(V,We,be,[G]),ue.remove(),De.remove(),I(z)});h.addEventListener("mouseup",ze)}),k.appendChild(me)}};y.forEach((z,N)=>{b[0]===N&&I(z),z.addEventListener("click",M),z.addEventListener("mouseenter",TR),z.addEventListener("mouseleave",CR)});const L=z=>{const N=z==null?void 0:z.target;(!N||N.name!==k_&&!y.includes(N))&&(b=[],T(),k.removeChildren())};return u.on("element-point:select",P),u.on("element-point:unselect",L),h.addEventListener("mousedown",L),()=>{k.remove(),u.off("element-point:select",P),u.off("element-point:unselect",L),h.removeEventListener("mousedown",L),y.forEach(z=>{z.removeEventListener("click",M),z.removeEventListener("mouseenter",TR),z.removeEventListener("mouseleave",CR)})}}}var RR={},C_={},M_=34,Jh=10,P_=13;function OY(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Xze(e,t){var n=OY(e);return function(r,a){return t(n(r),a,e)}}function DR(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function so(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function qze(e){return e<0?"-"+so(-e,6):e>9999?"+"+so(e,6):so(e,4)}function Kze(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":qze(e.getUTCFullYear())+"-"+so(e.getUTCMonth()+1,2)+"-"+so(e.getUTCDate(),2)+(a?"T"+so(t,2)+":"+so(n,2)+":"+so(r,2)+"."+so(a,3)+"Z":r?"T"+so(t,2)+":"+so(n,2)+":"+so(r,2)+"Z":n||t?"T"+so(t,2)+":"+so(n,2)+"Z":"")}function Zze(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,v=a(f,function(g,m){if(h)return h(g,m-1);p=g,h=d?Xze(g,d):OY(g)});return v.columns=p||[],v}function a(f,d){var h=[],p=f.length,v=0,g=0,m,y=p<=0,x=!1;f.charCodeAt(p-1)===Jh&&--p,f.charCodeAt(p-1)===P_&&--p;function b(){if(y)return C_;if(x)return x=!1,RR;var E,w=v,A;if(f.charCodeAt(w)===M_){for(;v++<p&&f.charCodeAt(v)!==M_||f.charCodeAt(++v)===M_;);return(E=v)>=p?y=!0:(A=f.charCodeAt(v++))===Jh?x=!0:A===P_&&(x=!0,f.charCodeAt(v)===Jh&&++v),f.slice(w+1,E-1).replace(/""/g,'"')}for(;v<p;){if((A=f.charCodeAt(E=v++))===Jh)x=!0;else if(A===P_)x=!0,f.charCodeAt(v)===Jh&&++v;else if(A!==n)continue;return f.slice(w,E)}return y=!0,f.slice(w,p)}for(;(m=b())!==C_;){for(var _=[];m!==RR&&m!==C_;)_.push(m),m=b();d&&(_=d(_,g++))==null||h.push(_)}return h}function i(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function o(f,d){return d==null&&(d=DR(f)),[d.map(u).join(e)].concat(i(f,d)).join(`
`)}function s(f,d){return d==null&&(d=DR(f)),i(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?Kze(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:a,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}function Qze(e){for(var t in e){var n=e[t].trim(),r,a;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(a=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Jze&&a[4]&&!a[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const Jze=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var eUe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const kY=e=>{const{value:t,format:n=t.split(".").pop(),delimiter:r=",",autoType:a=!0}=e;return()=>eUe(void 0,void 0,void 0,function*(){const i=yield fetch(t);if(n==="csv"){const o=yield i.text();return Zze(r).parse(o,a?Qze:Xf)}if(n==="json")return yield i.json();throw new Error(`Unknown format: ${n}.`)})};kY.props={};function tUe(e){return!e||Object.keys(e).length===0}const TY=e=>{const{fields:t,key:n="key",value:r="value"}=e;return a=>tUe(t)?a:a.flatMap(i=>t.map(o=>Object.assign(Object.assign({},i),{[n]:o,[r]:i[o]})))};TY.props={};function nUe(e){return e!=null&&!Number.isNaN(e)}const CY=e=>{const{callback:t=nUe}=e;return n=>n.filter(t)};CY.props={};const MY=e=>{const{callback:t}=e;return n=>Array.isArray(n)?[...n].sort(t):n};MY.props={};function rUe(e,t=[]){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}const PY=e=>{const{fields:t}=e;return n=>n.map(r=>rUe(r,t))};PY.props={};function aUe(e){return Object.keys(e).length===0}const IY=e=>t=>{if(!e||aUe(e))return t;const n=r=>Object.entries(r).reduce((a,[i,o])=>(a[e[i]||i]=o,a),{});return t.map(n)};IY.props={};function iUe(e,t){return e.map(n=>{if(Array.isArray(n)){const[r,a=t]=n;return[r,a]}return[n,t]})}const RY=e=>{const{fields:t=[]}=e,n=iUe(t,!0);return r=>{const a=(i,o)=>n.reduce((s,[l,c=!0])=>s!==0?s:c?i[l]<o[l]?-1:+(i[l]!==o[l]):i[l]>o[l]?-1:+(i[l]!==o[l]),0);return[...r].sort(a)}};RY.props={};const DY=e=>{const{value:t}=e;return()=>t};DY.props={};const NY=e=>{const{callback:t=Xf}=e;return n=>t(n)};NY.props={};const LY=e=>{const{callback:t=Xf}=e;return n=>Array.isArray(n)?n.map(t):n};LY.props={};var oUe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function sUe(e,t){return{set(n,r,a){if(t[n]===void 0)return this;const i=r?r.call(null,t[n]):t[n];return a?a.call(null,i):typeof e[n]=="function"?e[n](i):e[n]=i,this},setAsync(n,r,a){return oUe(this,void 0,void 0,function*(){if(t[n]===void 0)return this;const i=r?yield r.call(null,t[n]):t[n];return a?a.call(null,i):typeof e[n]=="function"?e[n](i):e[n]=i,this})}}}const I_=Math.PI/180,Op=64,zm=2048;function lUe(e){return e.text}function cUe(){return"serif"}function NR(){return"normal"}function uUe(e){return e.value}function fUe(){return~~(Math.random()*2)*90}function dUe(){return 1}function hUe(){}function pUe(e,t,n,r){if(t.sprite)return;const a=e.context,i=e.ratio;a.clearRect(0,0,(Op<<5)/i,zm/i);let o=0,s=0,l=0;const c=n.length;for(--r;++r<c;){t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font;let d=a.measureText(t.text+"m").width*i,h=t.size<<1;if(t.rotate){const p=Math.sin(t.rotate*I_),v=Math.cos(t.rotate*I_),g=d*v,m=d*p,y=h*v,x=h*p;d=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,h=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else d=d+31>>5<<5;if(h>l&&(l=h),o+d>=Op<<5&&(o=0,s+=l,l=0),s+h>=zm)break;a.translate((o+(d>>1))/i,(s+(h>>1))/i),t.rotate&&a.rotate(t.rotate*I_),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=d,t.height=h,t.xoff=o,t.yoff=s,t.x1=d>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=d}const u=a.getImageData(0,0,(Op<<5)/i,zm/i).data,f=[];for(;--r>=0;){if(t=n[r],!t.hasText)continue;const d=t.width,h=d>>5;let p=t.y1-t.y0;for(let m=0;m<p*h;m++)f[m]=0;if(o=t.xoff,o==null)return;s=t.yoff;let v=0,g=-1;for(let m=0;m<p;m++){for(let y=0;y<d;y++){const x=h*m+(y>>5),b=u[(s+m)*(Op<<5)+(o+y)<<2]?1<<31-y%32:0;f[x]|=b,v|=b}v?g=m:(t.y0++,p--,m--,s++)}t.y1=t.y0+g,t.sprite=f.slice(0,(t.y1-t.y0)*h)}}function vUe(e,t,n){n>>=5;const r=e.sprite,a=e.width>>5,i=e.x-(a<<4),o=i&127,s=32-o,l=e.y1-e.y0;let c=(e.y+e.y0)*n+(i>>5),u;for(let f=0;f<l;f++){u=0;for(let d=0;d<=a;d++)if((u<<s|(d<a?(u=r[f*a+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function gUe(e,t){const n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function mUe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function FY(e){const t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function yUe(e){const n=4*e[0]/e[1];let r=0,a=0;return function(i){const o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:r+=n;break;case 1:a+=4;break;case 2:r-=n;break;default:a-=4;break}return[r,a]}}function LR(e){const t=[];let n=-1;for(;++n<e;)t[n]=0;return t}function xUe(){return document.createElement("canvas")}function Zl(e){return typeof e=="function"?e:function(){return e}}const bUe={archimedean:FY,rectangular:yUe};function wUe(){let e=[256,256],t=lUe,n=cUe,r=uUe,a=NR,i=fUe,o=dUe,s=FY,l=Math.random,c=hUe,u=[],f=null,d=1/0,h=xUe;const p=NR,v={};v.start=function(){const[y,x]=e,b=g(h()),_=v.board?v.board:LR((e[0]>>5)*e[1]),E=u.length,w=[],A=u.map(function(T,C,M){return T.text=t.call(this,T,C,M),T.font=n.call(this,T,C,M),T.style=p.call(this,T,C,M),T.weight=a.call(this,T,C,M),T.rotate=i.call(this,T,C,M),T.size=~~r.call(this,T,C,M),T.padding=o.call(this,T,C,M),T}).sort(function(T,C){return C.size-T.size});let S=-1,O=v.board?[{x:0,y:0},{x:y,y:x}]:void 0;f&&clearInterval(f),f=setInterval(k,0),k();function k(){const T=Date.now();for(;Date.now()-T<d&&++S<E;){const C=A[S];C.x=y*(l()+.5)>>1,C.y=x*(l()+.5)>>1,pUe(b,C,A,S),C.hasText&&m(_,C,O)&&(c.call(null,"word",{cloud:v,word:C}),w.push(C),O?v.hasImage||gUe(O,C):O=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}v._tags=w,v._bounds=O,S>=E&&(v.stop(),c.call(null,"end",{cloud:v,words:w,bounds:O}))}return v},v.stop=function(){return f&&(clearInterval(f),f=null),v};function g(y){y.width=y.height=1;const x=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(Op<<5)/x,y.height=zm/x;const b=y.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",b.textBaseline="middle",{context:b,ratio:x}}function m(y,x,b){const _=x.x,E=x.y,w=Math.sqrt(e[0]*e[0]+e[1]*e[1]),A=s(e),S=l()<.5?1:-1;let O,k=-S,T,C;for(;(O=A(k+=S))&&(T=~~O[0],C=~~O[1],!(Math.min(Math.abs(T),Math.abs(C))>=w));)if(x.x=_+T,x.y=E+C,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>e[0]||x.y+x.y1>e[1])&&(!b||!vUe(x,y,e[0]))&&(!b||mUe(x,b))){const M=x.sprite,P=x.width>>5,I=e[0]>>5,L=x.x-(P<<4),z=L&127,N=32-z,G=x.y1-x.y0;let Y,B=(x.y+x.y0)*I+(L>>5);for(let F=0;F<G;F++){Y=0;for(let D=0;D<=P;D++)y[B+D]|=Y<<N|(D<P?(Y=M[F*P+D])>>>z:0);B+=I}return delete x.sprite,!0}return!1}return v.createMask=y=>{const x=document.createElement("canvas"),[b,_]=e;if(!b||!_)return;const E=b>>5,w=LR((b>>5)*_);x.width=b,x.height=_;const A=x.getContext("2d");A.drawImage(y,0,0,y.width,y.height,0,0,b,_);const S=A.getImageData(0,0,b,_).data;for(let O=0;O<_;O++)for(let k=0;k<b;k++){const T=E*O+(k>>5),C=O*b+k<<2,P=S[C]>=250&&S[C+1]>=250&&S[C+2]>=250?1<<31-k%32:0;w[T]|=P}v.board=w,v.hasImage=!0},v.timeInterval=function(y){d=y??1/0},v.words=function(y){u=y},v.size=function(y=[]){e=[+y[0],+y[1]]},v.text=function(y){t=Zl(y)},v.font=function(y){n=Zl(y)},v.fontWeight=function(y){a=Zl(y)},v.rotate=function(y){i=Zl(y)},v.canvas=function(y){h=Zl(y)},v.spiral=function(y){s=bUe[y]||y},v.fontSize=function(y){r=Zl(y)},v.padding=function(y){o=Zl(y)},v.random=function(y){l=Zl(y)},v.on=function(y){c=Zl(y)},v}var _Ue=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):a(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},EUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const AUe={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function SUe(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}if(typeof e=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=()=>t(r),r.onerror=()=>{console.error(`'image ${e} load failed !!!'`),n()};return}n()})}function OUe(e,t){if(typeof e=="function")return e;if(Array.isArray(e)){const[n,r]=e;if(!t)return()=>(r+n)/2;const[a,i]=t;return i===a?()=>(r+n)/2:({value:o})=>(r-n)/(i-a)*(o-a)+n}return()=>e}const BY=(e,t)=>n=>_Ue(void 0,void 0,void 0,function*(){const r=Object.assign({},AUe,e,{canvas:t.createCanvas}),a=wUe();yield sUe(a,r).set("fontSize",y=>{const x=n.map(b=>b.value);return OUe(y,[Mo(x),Mn(x)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",SUe,a.createMask),a.words([...n]);const i=a.start(),[o,s]=r.size,l=[{x:0,y:0},{x:o,y:s}],{_bounds:c=l,_tags:u,hasImage:f}=i,d=u.map(y=>{var{x,y:b,font:_}=y,E=EUe(y,["x","y","font"]);return Object.assign(Object.assign({},E),{x:x+o/2,y:b+s/2,fontFamily:_})}),[{x:h,y:p},{x:v,y:g}]=c,m={text:"",value:0,opacity:0,fontSize:0};return d.push(Object.assign(Object.assign({},m),{x:f?0:h,y:f?0:p}),Object.assign(Object.assign({},m),{x:f?o:v,y:f?s:g})),d});BY.props={};function FR(e){return typeof e=="string"?t=>t[e]:e}const $Y=e=>{const{join:t,on:n,select:r=[],as:a=r,unknown:i=NaN}=e,[o,s]=n,l=FR(s),c=FR(o),u=uO(t,([f])=>f,f=>l(f));return f=>f.map(d=>{const h=u.get(c(d));return Object.assign(Object.assign({},d),r.reduce((p,v,g)=>(p[a[g]]=h?h[v]:i,p),{}))})};$Y.props={};const jY=e=>{const{start:t,end:n}=e;return r=>r.slice(t,n)};jY.props={};var R_={exports:{}},D_={exports:{}},BR;function kUe(){return BR||(BR=1,(function(e){var t=e.exports;e.exports.isNumber=function(n){return typeof n=="number"},e.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],a=1;a<n.length;a++)r=Math.min(r,n[a]);return r},e.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],a=1;a<n.length;a++)r=Math.max(r,n[a]);return r},e.exports.findMinMulti=function(n){for(var r=t.findMin(n[0]),a=1;a<n.length;a++)r=Math.min(r,t.findMin(n[a]));return r},e.exports.findMaxMulti=function(n){for(var r=t.findMax(n[0]),a=1;a<n.length;a++)r=Math.max(r,t.findMax(n[a]));return r},e.exports.inside=function(n,r,a){return n<=a&&a<=r}})(D_)),D_.exports}var $R;function TUe(){return $R||($R=1,(function(e){var t=50,n=2,r=Math.log(2),a=e.exports,i=kUe();function o(l){return 1-Math.abs(l)}e.exports.getUnifiedMinMax=function(l,c){return a.getUnifiedMinMaxMulti([l],c)},e.exports.getUnifiedMinMaxMulti=function(l,c){c=c||{};var u=!1,f=!1,d=i.isNumber(c.width)?c.width:n,h=i.isNumber(c.size)?c.size:t,p=i.isNumber(c.min)?c.min:(u=!0,i.findMinMulti(l)),v=i.isNumber(c.max)?c.max:(f=!0,i.findMaxMulti(l)),g=v-p,m=g/(h-1);return u&&(p=p-2*d*m),f&&(v=v+2*d*m),{min:p,max:v}},e.exports.create=function(l,c){if(c=c||{},!l||l.length===0)return[];var u=i.isNumber(c.size)?c.size:t,f=i.isNumber(c.width)?c.width:n,d=a.getUnifiedMinMax(l,{size:u,width:f,min:c.min,max:c.max}),h=d.min,p=d.max,v=p-h,g=v/(u-1);if(v===0)return[{x:h,y:1}];for(var m=[],y=0;y<u;y++)m.push({x:h+y*g,y:0});var x=function(k){return Math.floor((k-h)/g)},b=s(o,f),_=b[f],E=b[f-1]-b[f-2],w=0;l.forEach(function(k){var T=x(k);if(!(T+f<0||T-f>=m.length)){var C=Math.max(T-f,0),M=T,P=Math.min(T+f,m.length-1),I=C-(T-f),L=T+f-P,z=b[-f-1+I]||0,N=b[-f-1+L]||0,G=_/(_-z-N);I>0&&(w+=G*(I-1)*E);var Y=Math.max(0,T-f+1);i.inside(0,m.length-1,Y)&&(m[Y].y+=G*1*E),i.inside(0,m.length-1,M+1)&&(m[M+1].y-=G*2*E),i.inside(0,m.length-1,P+1)&&(m[P+1].y+=G*1*E)}});var A=w,S=0,O=0;return m.forEach(function(k){S+=k.y,A+=S,k.y=A,O+=A}),O>0&&m.forEach(function(k){k.y/=O}),m};function s(l,c){for(var u={},f=0,d=-c;d<=c;d++)f+=l(d/c),u[d]=f;return u}e.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){c+=u.x*u.y}),c}},e.exports.getXWithLeftTailArea=function(l,c){if(!(!l||l.length===0)){for(var u=0,f=0,d=0;d<l.length&&(f=d,u+=l[d].y,!(u>=c));d++);return l[f].x}},e.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){var f=Math.log(u.y);isFinite(f)&&(c+=u.y*f)}),c=-c/r,Math.pow(2,c)}}})(R_)),R_.exports}var CUe=TUe();const MUe=l2(CUe),zY=e=>{const{field:t,groupBy:n,as:r=["y","size"],min:a,max:i,size:o=10,width:s}=e,[l,c]=r;return u=>Array.from(er(u,d=>n.map(h=>d[h]).join("-")).values()).map(d=>{const h=MUe.create(d.map(g=>g[t]),{min:a,max:i,size:o,width:s}),p=h.map(g=>g.x),v=h.map(g=>g.y);return Object.assign(Object.assign({},d[0]),{[l]:p,[c]:v})})};zY.props={};function PUe(e,t,n,r){r=r||{};const a=r.maxIterations||100,i=r.tolerance||1e-10,o=e(t),s=e(n);let l=n-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return t;if(s===0)return n;for(let c=0;c<a;++c){l/=2;const u=t+l,f=e(u);if(f*o>=0&&(t=u),Math.abs(l)<i||f===0)return u}return t+l}function gS(e){const t=new Array(e);for(let n=0;n<e;++n)t[n]=0;return t}function jR(e,t){return gS(e).map(()=>gS(t))}function y0(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function mS(e){return Math.sqrt(y0(e,e))}function yS(e,t,n){for(let r=0;r<t.length;++r)e[r]=t[r]*n}function cc(e,t,n,r,a){for(let i=0;i<e.length;++i)e[i]=t*n[i]+r*a[i]}function IUe(e,t,n){n=n||{};const r=n.maxIterations||t.length*200,a=n.nonZeroDelta||1.05,i=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,u=n.psi!==void 0?n.psi:-.5,f=n.sigma!==void 0?n.sigma:.5;let d;const h=t.length,p=new Array(h+1);p[0]=t,p[0].fx=e(t),p[0].id=0;for(let _=0;_<h;++_){const E=t.slice();E[_]=E[_]?E[_]*a:i,p[_+1]=E,p[_+1].fx=e(E),p[_+1].id=_+1}function v(_){for(let E=0;E<_.length;E++)p[h][E]=_[E];p[h].fx=_.fx}const g=(_,E)=>_.fx-E.fx,m=t.slice(),y=t.slice(),x=t.slice(),b=t.slice();for(let _=0;_<r;++_){if(p.sort(g),n.history){const w=p.map(A=>{const S=A.slice();return S.fx=A.fx,S.id=A.id,S});w.sort((A,S)=>A.id-S.id),n.history.push({x:p[0].slice(),fx:p[0].fx,simplex:w})}d=0;for(let w=0;w<h;++w)d=Math.max(d,Math.abs(p[0][w]-p[1][w]));if(Math.abs(p[0].fx-p[h].fx)<o&&d<s)break;for(let w=0;w<h;++w){m[w]=0;for(let A=0;A<h;++A)m[w]+=p[A][w];m[w]/=h}const E=p[h];if(cc(y,1+l,m,-l,E),y.fx=e(y),y.fx<p[0].fx)cc(b,1+c,m,-c,E),b.fx=e(b),b.fx<y.fx?v(b):v(y);else if(y.fx>=p[h-1].fx){let w=!1;if(y.fx>E.fx?(cc(x,1+u,m,-u,E),x.fx=e(x),x.fx<E.fx?v(x):w=!0):(cc(x,1-u*l,m,u*l,E),x.fx=e(x),x.fx<y.fx?v(x):w=!0),w){if(f>=1)break;for(let A=1;A<p.length;++A)cc(p[A],1-f,p[0],f,p[A]),p[A].fx=e(p[A])}}else v(y)}return p.sort(g),{fx:p[0].fx,x:p[0]}}function RUe(e,t,n,r,a,i,o){const s=n.fx,l=y0(n.fxprime,t);let c=s,u=s,f=l,d=0;a=a||1,i=i||1e-6,o=o||.1;function h(p,v,g){for(let m=0;m<16;++m)if(a=(p+v)/2,cc(r.x,1,n.x,a,t),c=r.fx=e(r.x,r.fxprime),f=y0(r.fxprime,t),c>s+i*a*l||c>=g)v=a;else{if(Math.abs(f)<=-o*l)return a;f*(v-p)>=0&&(v=p),p=a,g=c}return 0}for(let p=0;p<10;++p){if(cc(r.x,1,n.x,a,t),c=r.fx=e(r.x,r.fxprime),f=y0(r.fxprime,t),c>s+i*a*l||p&&c>=u)return h(d,a,u);if(Math.abs(f)<=-o*l)return a;if(f>=0)return h(a,d,c);u=c,d=a,a*=2}return a}function DUe(e,t,n){let r={x:t.slice(),fx:0,fxprime:t.slice()},a={x:t.slice(),fx:0,fxprime:t.slice()};const i=t.slice();let o,s=1;n=n||{};const l=n.maxIterations||t.length*20;r.fx=e(r.x,r.fxprime);const c=r.fxprime.slice();yS(c,r.fxprime,-1);for(let u=0;u<l;++u){if(s=RUe(e,c,r,a,s),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)yS(c,r.fxprime,-1);else{cc(i,1,a.fxprime,-1,r.fxprime);const f=y0(r.fxprime,r.fxprime),d=Math.max(0,y0(i,a.fxprime)/f);cc(c,d,c,-1,a.fxprime),o=r,r=a,a=o}if(mS(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const UY=1e-10;function HY(e,t){const n=LUe(e),r=n.filter(function(l){return NUe(l,e)});let a=0,i=0,o;const s=[];if(r.length>1){const l=FUe(r);for(o=0;o<r.length;++o){const u=r[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(u,f){return f.angle-u.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const u=r[o];i+=(c.x+u.x)*(u.y-c.y);const f={x:(u.x+c.x)/2,y:(u.y+c.y)/2};let d=null;for(let h=0;h<u.parentIndex.length;++h)if(c.parentIndex.indexOf(u.parentIndex[h])>-1){const p=e[u.parentIndex[h]],v=Math.atan2(u.x-p.x,u.y-p.y),g=Math.atan2(c.x-p.x,c.y-p.y);let m=g-v;m<0&&(m+=2*Math.PI);const y=g-m/2;let x=ev(f,{x:p.x+p.radius*Math.sin(y),y:p.y+p.radius*Math.cos(y)});x>p.radius*2&&(x=p.radius*2),(d===null||d.width>x)&&(d={circle:p,width:x,p1:u,p2:c})}d!==null&&(s.push(d),a+=xS(d.circle.radius,d.width),c=u)}}else{let l=e[0];for(o=1;o<e.length;++o)e[o].radius<l.radius&&(l=e[o]);let c=!1;for(o=0;o<e.length;++o)if(ev(e[o],l)>Math.abs(l.radius-e[o].radius)){c=!0;break}c?a=i=0:(a=l.radius*l.radius*Math.PI,s.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-UY,y:l.y+l.radius},width:l.radius*2}))}return i/=2,t&&(t.area=a+i,t.arcArea=a,t.polygonArea=i,t.arcs=s,t.innerPoints=r,t.intersectionPoints=n),a+i}function NUe(e,t){for(let n=0;n<t.length;++n)if(ev(e,t[n])>t[n].radius+UY)return!1;return!0}function LUe(e){const t=[];for(let n=0;n<e.length;++n)for(let r=n+1;r<e.length;++r){const a=WY(e[n],e[r]);for(let i=0;i<a.length;++i){const o=a[i];o.parentIndex=[n,r],t.push(o)}}return t}function xS(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function ev(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function VY(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);const r=e-(n*n-t*t+e*e)/(2*n),a=t-(n*n-e*e+t*t)/(2*n);return xS(e,r)+xS(t,a)}function WY(e,t){const n=ev(e,t),r=e.radius,a=t.radius;if(n>=r+a||n<=Math.abs(r-a))return[];const i=(r*r-a*a+n*n)/(2*n),o=Math.sqrt(r*r-i*i),s=e.x+i*(t.x-e.x)/n,l=e.y+i*(t.y-e.y)/n,c=-(t.y-e.y)*(o/n),u=-(t.x-e.x)*(o/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function FUe(e){const t={x:0,y:0};for(let n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function BUe(e,t){t=t||{},t.maxIterations=t.maxIterations||500;const n=t.initialLayout||UUe,r=t.lossFunction||JT;e=$Ue(e);const a=n(e,t),i=[],o=[];let s;for(s in a)a.hasOwnProperty(s)&&(i.push(a[s].x),i.push(a[s].y),o.push(s));const c=IUe(function(u){const f={};for(let d=0;d<o.length;++d){const h=o[d];f[h]={x:u[2*d],y:u[2*d+1],radius:a[h].radius}}return r(f,e)},i,t).x;for(let u=0;u<o.length;++u)s=o[u],a[s].x=c[2*u],a[s].y=c[2*u+1];return a}const GY=1e-10;function bS(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+GY?Math.abs(e-t):PUe(function(r){return VY(e,t,r)-n},0,e+t)}function $Ue(e){e=e.slice();const t=[],n={};let r,a,i,o;for(r=0;r<e.length;++r){const s=e[r];s.sets.length==1?t.push(s.sets[0]):s.sets.length==2&&(i=s.sets[0],o=s.sets[1],n[[i,o]]=!0,n[[o,i]]=!0)}for(t.sort((s,l)=>s>l?1:-1),r=0;r<t.length;++r)for(i=t[r],a=r+1;a<t.length;++a)o=t[a],[i,o]in n||e.push({sets:[i,o],size:0});return e}function jUe(e,t,n){const r=jR(t.length,t.length),a=jR(t.length,t.length);return e.filter(function(i){return i.sets.length==2}).map(function(i){const o=n[i.sets[0]],s=n[i.sets[1]],l=Math.sqrt(t[o].size/Math.PI),c=Math.sqrt(t[s].size/Math.PI),u=bS(l,c,i.size);r[o][s]=r[s][o]=u;let f=0;i.size+1e-10>=Math.min(t[o].size,t[s].size)?f=1:i.size<=1e-10&&(f=-1),a[o][s]=a[s][o]=f}),{distances:r,constraints:a}}function zUe(e,t,n,r){let a=0,i;for(i=0;i<t.length;++i)t[i]=0;for(i=0;i<n.length;++i){const o=e[2*i],s=e[2*i+1];for(let l=i+1;l<n.length;++l){const c=e[2*l],u=e[2*l+1],f=n[i][l],d=r[i][l],h=(c-o)*(c-o)+(u-s)*(u-s),p=Math.sqrt(h),v=h-f*f;d>0&&p<=f||d<0&&p>=f||(a+=2*v*v,t[2*i]+=4*v*(o-c),t[2*i+1]+=4*v*(s-u),t[2*l]+=4*v*(c-o),t[2*l+1]+=4*v*(u-s))}}return a}function UUe(e,t){let n=VUe(e,t);const r=t.lossFunction||JT;if(e.length>=8){const a=HUe(e,t),i=r(a,e),o=r(n,e);i+1e-8<o&&(n=a)}return n}function HUe(e,t){t=t||{};const n=t.restarts||10,r=[],a={};let i;for(i=0;i<e.length;++i){const v=e[i];v.sets.length==1&&(a[v.sets[0]]=r.length,r.push(v))}const o=jUe(e,r,a);let s=o.distances;const l=o.constraints,c=mS(s.map(mS))/s.length;s=s.map(function(v){return v.map(function(g){return g/c})});const u=function(v,g){return zUe(v,g,s,l)};let f,d;for(i=0;i<n;++i){const v=gS(s.length*2).map(Math.random);d=DUe(u,v,t),(!f||d.fx<f.fx)&&(f=d)}const h=f.x,p={};for(i=0;i<r.length;++i){const v=r[i];p[v.sets[0]]={x:h[2*i]*c,y:h[2*i+1]*c,radius:Math.sqrt(v.size/Math.PI)}}if(t.history)for(i=0;i<t.history.length;++i)yS(t.history[i].x,c);return p}function VUe(e,t){const n=t&&t.lossFunction?t.lossFunction:JT,r={},a={};let i;for(let f=0;f<e.length;++f){const d=e[f];d.sets.length==1&&(i=d.sets[0],r[i]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:d.size,radius:Math.sqrt(d.size/Math.PI)},a[i]=[])}e=e.filter(function(f){return f.sets.length==2});for(let f=0;f<e.length;++f){const d=e[f];let h=d.hasOwnProperty("weight")?d.weight:1;const p=d.sets[0],v=d.sets[1];d.size+GY>=Math.min(r[p].size,r[v].size)&&(h=0),a[p].push({set:v,size:d.size,weight:h}),a[v].push({set:p,size:d.size,weight:h})}const o=[];for(i in a)if(a.hasOwnProperty(i)){let f=0;for(let d=0;d<a[i].length;++d)f+=a[i][d].size*a[i][d].weight;o.push({set:i,size:f})}function s(f,d){return d.size-f.size}o.sort(s);const l={};function c(f){return f.set in l}function u(f,d){r[d].x=f.x,r[d].y=f.y,l[d]=!0}u({x:0,y:0},o[0].set);for(let f=1;f<o.length;++f){const d=o[f].set,h=a[d].filter(c);if(i=r[d],h.sort(s),h.length===0)throw"ERROR: missing pairwise overlap information";const p=[];for(let m=0;m<h.length;++m){const y=r[h[m].set],x=bS(i.radius,y.radius,h[m].size);p.push({x:y.x+x,y:y.y}),p.push({x:y.x-x,y:y.y}),p.push({y:y.y+x,x:y.x}),p.push({y:y.y-x,x:y.x});for(let b=m+1;b<h.length;++b){const _=r[h[b].set],E=bS(i.radius,_.radius,h[b].size),w=WY({x:y.x,y:y.y,radius:x},{x:_.x,y:_.y,radius:E});for(let A=0;A<w.length;++A)p.push(w[A])}}let v=1e50,g=p[0];for(let m=0;m<p.length;++m){r[d].x=p[m].x,r[d].y=p[m].y;const y=n(r,e);y<v&&(v=y,g=p[m])}u(g,d)}return r}function JT(e,t){let n=0;function r(a){return a.map(function(i){return e[i]})}for(let a=0;a<t.length;++a){const i=t[a];let o;if(i.sets.length==1)continue;if(i.sets.length==2){const l=e[i.sets[0]],c=e[i.sets[1]];o=VY(l.radius,c.radius,ev(l,c))}else o=HY(r(i.sets));const s=i.hasOwnProperty("weight")?i.weight:1;n+=s*(o-i.size)*(o-i.size)}return n}function WUe(e){const t=function(n){const r=Math.max.apply(null,e.map(function(i){return i[n]+i.radius})),a=Math.min.apply(null,e.map(function(i){return i[n]-i.radius}));return{max:r,min:a}};return{xRange:t("x"),yRange:t("y")}}function GUe(e,t,n,r){const a=[],i=[];for(const v in e)e.hasOwnProperty(v)&&(i.push(v),a.push(e[v]));t-=2*r,n-=2*r;const o=WUe(a),s=o.xRange,l=o.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;const c=t/(s.max-s.min),u=n/(l.max-l.min),f=Math.min(u,c),d=(t-(s.max-s.min)*f)/2,h=(n-(l.max-l.min)*f)/2,p={};for(let v=0;v<a.length;++v){const g=a[v];p[i[v]]={radius:f*g.radius,x:r+d+(g.x-s.min)*f,y:r+h+(g.y-l.min)*f}}return p}function YUe(e,t,n){const r=[],a=e-n,i=t;return r.push("M",a,i),r.push("A",n,n,0,1,0,a+2*n,i),r.push("A",n,n,0,1,0,a,i),r.join(" ")}function XUe(e){const t={};HY(e,t);const n=t.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return YUe(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let a=0;a<n.length;++a){const i=n[a],o=i.circle.radius,s=i.width>o;r.push(`
A`,o,o,0,s?1:0,1,i.p1.x,i.p1.y)}return r.join(" ")}}const YY=e=>{const{sets:t="sets",size:n="size",as:r=["key","path"],padding:a=0}=e,[i,o]=r;return s=>{const l=s.map(f=>Object.assign(Object.assign({},f),{sets:f[t],size:f[n],[i]:f.sets.join("&")}));l.sort((f,d)=>f.sets.length-d.sets.length);const c=BUe(l);let u;return l.map(f=>{const d=f[t],h=({width:p,height:v})=>{u=u||GUe(c,p,v,a);const g=d.map(y=>u[y]);let m=XUe(g);return/[zZ]$/.test(m)||(m+=" Z"),m};return Object.assign(Object.assign({},f),{[o]:h})})}};YY.props={};const XY=()=>e=>(console.log("G2 data section:",e),e);XY.props={};function qUe(e,t){if(t<0||t>1)throw new Error("alpha must be between 0 and 1.");if(e.length===0)return[];let n=e[0];const r=[];for(const a of e){if(a==null){r.push(a),console.warn("EMAThe value is null or undefined",e);continue}n==null&&(n=a);const i=n*t+(1-t)*a;r.push(i),n=i}return r}const qY=e=>{const{field:t="y",alpha:n=.6,as:r=t}=e;return a=>{const i=a.map(s=>s[t]),o=qUe(i,n);return a.map((s,l)=>Object.assign(Object.assign({},s),{[r]:o[l]}))}};qY.props={};const KY=.01;function tv(e){const{min:t,max:n}=e;return[[t[0],t[1]],[n[0],n[1]]]}function zR(e,t,n=KY){const[r,a]=e,[i,o]=t;return r>=i[0]-n&&r<=o[0]+n&&a>=i[1]-n&&a<=o[1]+n}function ZY(e,t,n=KY){const[r,a]=e;return!(zR(r,t,n)&&zR(a,t,n))}function KUe(e,t){const[n,r]=e,[a,i]=t;return n[0]<i[0]&&r[0]>a[0]&&n[1]<i[1]&&r[1]>a[1]}const ZUe=e=>{const{priority:t}=e;return n=>{const r=[];return t&&n.sort(t),n.forEach(a=>{cb(a);const i=a.getLocalBounds();r.some(s=>KUe(tv(i),tv(s.getLocalBounds())))?jT(a):r.push(a)}),n}};function QUe([e,t],[n,r]){return r>e&&t>n}function gm(){const e=new Map;return[r=>e.get(r),(r,a)=>e.set(r,a)]}function JUe(e){const t=e.cloneNode(!0),n=t.getElementById("connector");n&&t.removeChild(n);const{min:r,max:a}=t.getRenderBounds();return t.destroy(),{min:r,max:a}}const eHe=e=>{const{maxIterations:t=10,maxError:n=.1,padding:r=1}=e;return a=>{const i=a.length;if(i<=1)return a;const[o,s]=gm(),[l,c]=gm(),[u,f]=gm(),[d,h]=gm();for(const p of a){const{min:v,max:g}=JUe(p),[m,y]=v,[x,b]=g;s(p,y),c(p,y),f(p,b-y),h(p,[m,x])}for(let p=0;p<t;p++){a.sort((g,m)=>Lr(l(g),l(m)));let v=0;for(let g=0;g<i-1;g++){const m=a[g];let y=g+1,x;for(;(x=a[y])&&!QUe(d(m),d(x));)y+=1;if(x){const b=l(m),_=u(m),E=l(x),w=E-(b+_);if(w<r){const A=(r-w)/2;v=Math.max(v,A),c(m,b-A),c(x,E+A)}}}if(v<n)break}for(const p of a)p.style.y+=l(p)-o(p);return a}};function QY(e){return typeof e=="object"?e:gu(e)}function N_(e){let t=e/255;return t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),t}function UR(e,t,n){return .2126*N_(e)+.7152*N_(t)+.0722*N_(n)}function JY(e,t){if(!e||!t||e===t)return 1;const{r:n,g:r,b:a}=e,{r:i,g:o,b:s}=t,l=UR(n,r,a),c=UR(i,o,s);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function eX(e,t){const n=ph(t,r=>JY(e,QY(r)));return t[n]}const tHe=e=>{const{threshold:t=4.5,palette:n=["#000","#fff"]}=e;return r=>(r.forEach(a=>{const i=a.attr("dependentElement").parsedStyle.fill,o=a.parsedStyle.fill;JY(o,i)<t&&a.attr("fill",eX(i,n))}),r)},nHe=()=>e=>(e.forEach(t=>{cb(t);const n=t.attr("bounds"),r=t.getLocalBounds();ZY(tv(r),n)&&jT(t)}),e),rHe=(e,t)=>{const[[n,r],[a,i]]=t,[[o,s],[l,c]]=e;let u=0,f=0;return o<n?u=n-o:l>a&&(u=a-l),s<r?f=r-s:c>i&&(f=i-c),[u,f]},aHe=(e,t)=>({min:[Math.min(e.min[0],t.min[0]),Math.min(e.min[1],t.min[1])],max:[Math.max(e.max[0],t.max[0]),Math.max(e.max[1],t.max[1])]}),iHe=(e={})=>(t,{canvas:n,layout:r})=>{const{bounds:a="view",offsetX:i=0,offsetY:o=0}=e,l=(()=>{if(a==="main"){const{x:c=0,y:u=0,width:f=0,height:d=0,marginLeft:h=0,marginRight:p=0,marginTop:v=0,marginBottom:g=0,paddingLeft:m=0,paddingRight:y=0,paddingTop:x=0,paddingBottom:b=0}=r;return[[c+h+m+i,u+v+x+o],[c+f-p-y-i,u+d-g-b-o]]}else{const{x:c=0,y:u=0,width:f=0,height:d=0}=r;return[[c+i,u+o],[c+f-i,u+d-o]]}})();return t.forEach(c=>{cb(c);const{max:u,min:f}=aHe(c.getRenderBounds(),c.getBounds()),[d,h]=u,[p,v]=f,g=rHe([[p,v],[d,h]],l);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=g[0],c.style.connectorPoints[0][1]-=g[1]),c.style.x+=g[0],c.style.y+=g[1]}),t};function HR(e){var t;const n=e.getAnimations();if(!n||n.length===0)return Ax(e);const r=e.cloneNode(!0);r.style.visibility="hidden",n.forEach(i=>{const o=i.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(t=e.parentNode)===null||t===void 0||t.appendChild(r);const a=Ax(r);return r.destroy(),a}const oHe=e=>{const{palette:t=["#000","#fff"],threshold:n=2}=e;return r=>(r.forEach(a=>{var i,o;const s=a.attr("dependentElement"),l=(o=(i=a.attributes.fill)!==null&&i!==void 0?i:a.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=tv(HR(a)),u=tv(HR(s));if(ZY(c,u,n)){const f=eX(QY(l),t);a.attr("stroke",f)}else a.removeAttribute("stroke")}),r)};function sHe(){return{"data.fetch":kY,"data.inline":DY,"data.sortBy":RY,"data.sort":MY,"data.filter":CY,"data.pick":PY,"data.rename":IY,"data.fold":TY,"data.slice":jY,"data.custom":NY,"data.map":LY,"data.join":$Y,"data.kde":zY,"data.log":XY,"data.wordCloud":BY,"data.ema":qY,"transform.stackY":IB,"transform.binX":l$,"transform.bin":TO,"transform.dodgeX":UB,"transform.jitter":WB,"transform.jitterX":GB,"transform.jitterY":YB,"transform.symmetryY":XB,"transform.diffY":qB,"transform.stackEnter":HB,"transform.normalizeY":VB,"transform.select":w2,"transform.selectX":KB,"transform.selectY":ZB,"transform.groupX":QB,"transform.groupY":JB,"transform.groupColor":e$,"transform.group":Pv,"transform.sortX":t$,"transform.sortY":r$,"transform.sortColor":n$,"transform.flexX":a$,"transform.pack":s$,"transform.sample":c$,"transform.filter":u$,"coordinate.cartesian":ZF,"coordinate.polar":wv,"coordinate.transpose":J3,"coordinate.theta":e9,"coordinate.parallel":tO,"coordinate.fisheye":n9,"coordinate.radial":eO,"coordinate.radar":r9,"coordinate.helix":JF,"encode.constant":a9,"encode.field":o9,"encode.transform":i9,"encode.column":s9,"mark.interval":IU,"mark.rect":RU,"mark.line":DU,"mark.point":NU,"mark.text":LU,"mark.cell":FU,"mark.area":BU,"mark.link":Vk,"mark.image":$U,"mark.polygon":jU,"mark.box":zU,"mark.vector":UU,"mark.lineX":VU,"mark.lineY":HU,"mark.connector":WU,"mark.range":GU,"mark.rangeX":YU,"mark.rangeY":XU,"mark.path":JU,"mark.shape":vH,"mark.density":PH,"mark.heatmap":IH,"mark.wordCloud":Zk,"mark.beeswarm":DH,"palette.category10":NH,"palette.category20":LH,"scale.linear":BH,"scale.ordinal":$H,"scale.band":FH,"scale.identity":jH,"scale.point":zH,"scale.time":UH,"scale.log":HH,"scale.pow":VH,"scale.sqrt":XH,"scale.threshold":WH,"scale.quantile":GH,"scale.quantize":YH,"scale.sequential":qH,"scale.constant":KH,"theme.classic":ZH,"theme.classicDark":JH,"theme.academy":eV,"theme.light":Jk,"theme.dark":QH,"component.axisX":fV,"component.axisY":dV,"component.legendCategory":tT,"component.legendContinuous":Hu,"component.legends":_V,"component.title":mV,"component.sliderX":yV,"component.sliderY":xV,"component.scrollbarX":bV,"component.scrollbarY":wV,"animation.scaleInX":rT,"animation.scaleOutX":RDe,"animation.scaleInY":EV,"animation.scaleOutY":DDe,"animation.waveIn":TV,"animation.fadeIn":AV,"animation.fadeOut":SV,"animation.zoomIn":WDe,"animation.zoomOut":GDe,"animation.pathIn":CV,"animation.morphing":kV,"animation.growInX":MV,"animation.growInY":PV,"interaction.elementHighlight":ub,"interaction.elementHighlightByX":qG,"interaction.elementHighlightByColor":KG,"interaction.elementSelect":fb,"interaction.elementSelectByX":ZG,"interaction.elementSelectByColor":QG,"interaction.fisheye":Oje,"interaction.chartIndex":JG,"interaction.tooltip":lY,"interaction.legendFilter":qje,"interaction.legendHighlight":Kje,"interaction.brushHighlight":db,"interaction.brushXHighlight":nze,"interaction.brushYHighlight":rze,"interaction.brushAxisHighlight":dze,"interaction.brushFilter":ZT,"interaction.brushXFilter":gze,"interaction.brushYFilter":mze,"interaction.sliderFilter":EY,"interaction.sliderWheel":AY,"interaction.scrollbarFilter":Rze,"interaction.poptip":SY,"interaction.treemapDrillDown":zze,"interaction.elementPointMove":Yze,"composition.spaceLayer":tW,"composition.spaceFlex":nW,"composition.facetRect":sW,"composition.repeatMatrix":a7e,"composition.facetCircle":u7e,"composition.timingKeyframe":lW,"labelTransform.overlapHide":ZUe,"labelTransform.overlapDodgeY":eHe,"labelTransform.overflowHide":nHe,"labelTransform.contrastReverse":tHe,"labelTransform.overflowStroke":oHe,"labelTransform.exceedAdjust":iHe}}function lHe(){return{"composition.geoView":FW,"composition.geoPath":cW}}function cHe(){return{"data.arc":Gk,"data.cluster":kH,"mark.forceGraph":SH,"mark.tree":CH,"mark.pack":fH,"mark.sankey":ZU,"mark.chord":QU,"mark.treemap":uH}}function uHe(){return{"data.venn":YY,"mark.boxplot":pH,"mark.gauge":MH,"mark.wordCloud":Zk,"mark.liquid":RH}}function fHe(){return Object.assign(Object.assign(Object.assign(Object.assign({},lHe()),cHe()),uHe()),sHe())}function dHe(e,t){class n extends e{constructor(a){super(Object.assign(Object.assign({},a),{lib:t}))}}return n}const hHe={},Ld=e=>e?parseInt(e):0;function pHe(e){const t=getComputedStyle(e),n=e.clientWidth||Ld(t.width),r=e.clientHeight||Ld(t.height),a=Ld(t.paddingLeft)+Ld(t.paddingRight),i=Ld(t.paddingTop)+Ld(t.paddingBottom);return{width:n-a,height:r-i}}function L_(e,t){const n=[e];for(;n.length;){const r=n.shift();t&&t(r);const a=r.children||[];for(const i of a)n.push(i)}}let eC=class{constructor(t={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=t}map(t=n=>n){const n=t(this.value);return this.value=n,this}attr(t,n){return arguments.length===1?this.value[t]:this.map(r=>(r[t]=n,r))}append(t){const n=new t({});return n.children=[],this.push(n),n}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:n}=t,r=n.findIndex(a=>a===this);n.splice(r,1)}return this}getNodeByKey(t){let n=null;return L_(this,a=>{t===a.attr("key")&&(n=a)}),n}getNodesByType(t){const n=[];return L_(this,a=>{t===a.type&&n.push(a)}),n}getNodeByType(t){let n=null;return L_(this,r=>{n||t===r.type&&(n=r)}),n}call(t,...n){return t(this.map(),...n),this}getRoot(){let t=this;for(;t&&t.parentNode;)t=t.parentNode;return t}};var tX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const wS=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],nX="__remove__",rX="__callback__",VR=1,WR=1;function vHe(e){if(e===void 0){const t=document.createElement("div");return t[nX]=!0,t}return typeof e=="string"?document.getElementById(e):e}function gHe(e){const t=e.parentNode;t&&t.removeChild(e)}function mHe(e){if(e.type!==null)return e;const t=e.children[e.children.length-1];for(const n of wS)t.attr(n,e.attr(n));return t}function GR(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function F_(e,t){const{width:n,height:r,autoFit:a,depth:i=0}=e;let o=640,s=480;if(a){const{width:l,height:c}=pHe(t);o=l||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(nr(o)?o:VR,VR),height:Math.max(nr(s)?s:WR,WR),depth:i}}function yHe(e){const t=mHe(e),n=[t],r=new Map;for(r.set(t,GR(t));n.length;){const a=n.pop(),i=r.get(a),{children:o=[]}=a;for(const s of o)if(s.type===rX)i.children=s.value;else{const l=GR(s),{children:c=[]}=i;c.push(l),n.push(s),r.set(s,l),i.children=c}}return r.get(t)}function xHe(e,t){return typeof e=="function"?!0:new Set(Object.keys(t)).has(e)}function bHe(e,t){return typeof e!="function"&&new Set(Object.keys(t)).has(e)}function wHe(e,t,n,r,a){const{type:i}=e,{type:o=n||i}=t;if(bHe(o,a)){for(const s of wS)e.attr(s)!==void 0&&t[s]===void 0&&(t[s]=e.attr(s));return t}if(xHe(o,r)){const s={type:"view"},l=Object.assign({},t);for(const c of wS)l[c]!==void 0&&(s[c]=l[c],delete l[c]);return Object.assign(Object.assign({},s),{children:[l]})}return t}function _He(e,t,n){if(typeof e=="function")return t.mark;const a=Object.assign(Object.assign({},t),n)[e];if(!a)throw new Error(`Unknown mark: ${e}.`);return a}function EHe(e,t,n){if(typeof e=="function"){const l=new eC;return l.value=e,l.type=rX,l}const{type:r,children:a}=e,i=tX(e,["type","children"]),o=_He(r,t,n),s=new o;return s.value=i,s.type=r,s}function AHe(e,t){const{type:n,children:r}=t,a=tX(t,["type","children"]);e.type===n||n===void 0?SB(e.value,a):typeof n=="string"&&(e.type=n,e.value=a)}function SHe(e,t,n,r){if(!e)return;const a=[[e,t]];for(;a.length;){const[i,o]=a.shift(),s=EHe(o,n,r);Array.isArray(i.children)&&i.push(s);const{children:l}=o;if(Array.isArray(l))for(const c of l)a.push([s,c]);else typeof l=="function"&&a.push([s,l])}}function OHe(e,t,n,r,a){const i=wHe(e,t,n,r,a),o=[[null,e,i]];for(;o.length;){const[s,l,c]=o.shift();if(!l)SHe(s,c,r,a);else if(!c)l.remove();else{AHe(l,c);const{children:u}=c,{children:f}=l;if(Array.isArray(u)&&Array.isArray(f)){const d=Math.max(u.length,f.length);for(let h=0;h<d;h++){const p=u[h],v=f[h];o.push([l,v,p])}}else typeof u=="function"&&o.push([l,null,u])}}}function kHe(){let e,t;return[new Promise((r,a)=>{t=r,e=a}),t,e]}function THe(e,t,{key:n=t}){e.prototype[t]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function CHe(e,t,{key:n=t}){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const a=[...this.attr(n)||[],r];return this.attr(n,a)}}function MHe(e,t,{key:n=t}){e.prototype[t]=function(r,a){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const i=this.attr(n)||{};return i[r]=arguments.length===1?!0:a,this.attr(n,i)}}function PHe(e,t,n){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(t);if(Array.isArray(r))return this.attr(t,{items:r});if($0(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(t,r);if(r===null||r===!1)return this.attr(t,r);const a=this.attr(t)||{},{items:i=[]}=a;return i.push(r),a.items=i,this.attr(t,a)}}function IHe(e,t,{ctor:n}){e.prototype[t]=function(r){const a=this.append(n);return t==="mark"&&(a.type=r),a}}function RHe(e,t,{ctor:n}){e.prototype[t]=function(){return this.type=null,this.append(n)}}function Cx(e){return t=>{for(const[n,r]of Object.entries(e)){const{type:a}=r;a==="value"?THe(t,n,r):a==="array"?CHe(t,n,r):a==="object"?MHe(t,n,r):a==="node"?IHe(t,n,r):a==="container"?RHe(t,n,r):a==="mix"&&PHe(t,n)}return t}}function YR(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{type:"node",ctor:n}]))}const aX={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},DHe=Object.assign(Object.assign({},aX),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),NHe=Object.assign(Object.assign({},aX),{labelTransform:{type:"array"}});var LHe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};let Mx=class extends eC{changeData(t){var n;const r=this.getRoot();if(r)return this.attr("data",t),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(a=>{a.attr("data",t)}),r==null?void 0:r.render()}getView(){const t=this.getRoot(),{views:n}=t.getContext();if(n!=null&&n.length)return n.find(r=>r.key===this._key)}getScale(){var t;return(t=this.getView())===null||t===void 0?void 0:t.scale}getScaleByChannel(t){const n=this.getScale();if(n)return n[t]}getCoordinate(){var t;return(t=this.getView())===null||t===void 0?void 0:t.coordinate}getTheme(){var t;return(t=this.getView())===null||t===void 0?void 0:t.theme}getGroup(){const t=this._key;return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}show(){const t=this.getGroup();t&&!t.isVisible()&&cb(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&jT(t)}};Mx=LHe([Cx(NHe)],Mx);var FHe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};let _S=class extends eC{changeData(t){const n=this.getRoot();if(n)return this.attr("data",t),n==null?void 0:n.render()}getMark(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(!n)return;const{markState:r}=n,a=Array.from(r.keys()).find(i=>i.key===this.attr("key"));return r.get(a)}getScale(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(n)return n==null?void 0:n.scale}getScaleByChannel(t){var n,r;const a=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(a)return(r=a==null?void 0:a.scale)===null||r===void 0?void 0:r[t]}getGroup(){const t=this.attr("key");return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}};_S=FHe([Cx(DHe)],_S);var BHe=function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},$He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const jHe="G2_CHART_KEY";class zHe extends Mx{constructor(t){const{container:n,canvas:r,renderer:a,plugins:i,lib:o,createCanvas:s}=t,l=$He(t,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=p9(()=>{this.forceFit()},300),this._renderer=a||new jV,this._plugins=i||[],this._container=vHe(n),this._emitter=new HV,this._context={library:Object.assign(Object.assign({},o),hHe),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise((i,o)=>aje(this._computedOptions(),this._context,this._createResolve(i),this._createReject(o))),[n,r,a]=kHe();return t.then(r).then(()=>{if(this._trailingClear){const i=this.options();this._trailingClear(),this._trailing&&this.options(i)}}).catch(a).then(()=>{this._trailingClear=null,this._renderTrailing()}),n}options(t){if(arguments.length===0)return yHe(this);const{type:n}=t;return n&&(this._previousDefinedType=n),OHe(this,t,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(t,n,r){return this._emitter.on(t,n,r),this}once(t,n){return this._emitter.once(t,n),this}emit(t,...n){return this._emitter.emit(t,...n),this}off(t,n){return this._emitter.off(t,n),this}clear(t=!0){if(this._rendering){this._trailingClear=()=>{this.clear(t)},this._reset();return}const n=this.options();this.emit(Dn.BEFORE_CLEAR),this._reset(),vR(n,this._context,!1,t),this.emit(Dn.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(Dn.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),vR(t,this._context,!0),this._container[nX]&&gHe(this._container),this.emit(Dn.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:t,height:n}=F_(this.options(),this._container);if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(Dn.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(Dn.AFTER_CHANGE_SIZE)}),r}changeSize(t,n){if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(Dn.BEFORE_CHANGE_SIZE),this.attr("width",t),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(Dn.AFTER_CHANGE_SIZE)}),r}getDataByXY(t,n={}){const{shared:r=!1,series:a,facet:i=!1,startX:o=0,startY:s=0}=n,{canvas:l,views:c}=this._context,{document:u}=l,{x:f,y:d}=t,{coordinate:h,scale:p,markState:v,data:g,key:m}=c[0],y=u.getElementsByClassName(dl),x=r?k=>k.__data__.x:k=>k,b=er(y,x),_=u.getElementsByClassName(Jy)[0],E=Zs(_),w=k=>Array.from(k.values()).some(T=>{var C,M;return((C=T.interaction)===null||C===void 0?void 0:C.seriesTooltip)||((M=T.channels)===null||M===void 0?void 0:M.some(P=>P.name==="series"&&P.values!==void 0))}),A=ll(a,w(v)),S=k=>sn(k,"__data__.data",null),O=k=>k.map(S);try{if(A&&w(v)&&!i){const{selectedData:M}=sY({root:E,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,startX:o,startY:s}),P=g.get(`${m}-0`);return M.map(({index:I})=>P[I])}const k=oY({root:E,event:{offsetX:f,offsetY:d},elements:y,coordinate:h,scale:p,shared:r});if(v2(k))return bO(k,g.get(m));const T=x(k),C=b.get(T);return C?O(C):[]}catch{const T=l.document.elementFromPointSync(f,d);return T?S(T):[]}}_create(){const{library:t}=this._context,n=i=>i.startsWith("mark.")||i==="component.axisX"||i==="component.axisY"||i==="component.legends",r=["mark.mark",...Object.keys(t).filter(n)];this._marks={};for(const i of r){const o=i.split(".").pop();class s extends _S{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(l){const c=this.append(s);return o==="mark"&&(c.type=l),c}}const a=["composition.view",...Object.keys(t).filter(i=>i.startsWith("composition.")&&i!=="composition.mark")];this._compositions=Object.fromEntries(a.map(i=>{const o=i.split(".").pop();let s=class extends Mx{constructor(){super({},o)}};return s=BHe([Cx(YR(this._marks))],s),[o,s]}));for(const i of Object.values(this._compositions))Cx(YR(this._compositions))(i);for(const i of a){const o=i.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const t=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||t.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)}).catch(t=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(t)}))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return n=>{this._rendering=!1,t(n)}}_computedOptions(){const t=this.options(),{key:n=jHe}=t,{width:r,height:a,depth:i}=F_(t,this._container);return this._width=r,this._height=a,this._key=n,Object.assign(Object.assign({key:this._key},t),{width:r,height:a,depth:i})}_createCanvas(){const{width:t,height:n}=F_(this.options(),this._container);this._plugins.push(new UV),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new _j({container:this._container,width:t,height:n,renderer:this._renderer})}_addToTrailing(){var t;return(t=this._trailingResolve)===null||t===void 0||t.call(this,this),this._trailing=!0,new Promise((r,a)=>{this._trailingResolve=r,this._trailingReject=a})}_bindAutoFit(){const t=this.options(),{autoFit:n}=t;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const UHe=Object.assign({},fHe()),iX=dHe(zHe,UHe),HHe={ref:"chart",class:"wm-chart_pie"},VHe=["innerHTML"],WHe=Ht({__name:"pie",props:{type:String,value:Array,theme:{type:String,default:"classic"},height:{type:Number,default:0},html:{type:String,default:""}},setup(e){const t=e,{proxy:n}=no();Ut(()=>t,a=>{r()},{deep:!0}),On(()=>{r()});const r=()=>{An(()=>{const i={container:n.$refs.chart,autoFit:!0,forceFit:!0,theme:t.theme};t.height&&(i.height=t.height);const o=new iX(i);o.interval().data(t.value).coordinate({type:"theta",radius:.75,innerRadius:.45}).encode("y","value").encode("color","label").transform({type:"stackY"}).style("radius",4).style("inset",1).animate("enter",{type:"waveIn",duration:600}).tooltip({title:"label",items:[{field:"value",name:""}]}).legend(!1),o.render()})};return(a,i)=>(Z(),ne("div",HHe,[e.html?(Z(),ne("div",{key:0,class:"wm-chart_pie_html",innerHTML:e.html},null,8,VHe)):ye("",!0)],512))}}),GHe=ma(WHe,[["__scopeId","data-v-4d456890"]]),YHe={ref:"chart",class:"wm-interval_body"},XHe=Ht({__name:"interval",props:{value:Array,theme:{type:String,default:"classic"},color:{type:String,default:"label"},height:{type:Number,default:0},unit:{type:String,default:""}},setup(e){const t=e,{proxy:n}=no(),r=Ee(0);Ut(()=>t,i=>{a()},{deep:!0}),On(()=>{a()});const a=()=>{An(()=>{let i=n.$refs.chart;r.value||(r.value=i.offsetHeight);const o={container:i,autoFit:!0,forceFit:!0,theme:t.theme};t.height&&(o.height=t.height);const s=new iX(o);s.interval().data(t.value).encode("color",t.color).encode("x",l=>l.label).encode("y",l=>l.value).style("radiusTopLeft",4).style("radiusTopRight",4).style("maxWidth",80),s.render()})};return(i,o)=>(Z(),ne("div",YHe,null,512))}}),qHe=ma(XHe,[["__scopeId","data-v-734ca6fe"]]),KHe={class:"index_title"},ZHe={class:"index_tools bg line_top flex"},QHe={class:"city flex"},JHe={class:"time"},eVe={class:"day"},tVe={class:"index_ct flex"},nVe={class:"index_left"},rVe={class:"index_chart bg line_top c1"},aVe={class:"index_chart bg line_top c2 scrollbar"},iVe={class:"c2_list"},oVe={class:"flex"},sVe={class:"title"},lVe={class:"num"},cVe={class:"index_right"},uVe={class:"index_chart bg line_top line_bottom c3"},fVe={class:"c3_list"},dVe={class:"ratio"},hVe=["innerHTML"],pVe={class:"ratio"},vVe=["innerHTML"],gVe={class:"ratio"},mVe=["innerHTML"],yVe={class:"ratio"},xVe=["innerHTML"],bVe={class:"ratio"},wVe=["innerHTML"],_Ve={class:"ratio"},EVe=["innerHTML"],AVe={class:"index_chart bg line_top line_bottom c4"},SVe={key:1,class:"center null"},OVe=Ht({__name:"Homes",setup(e){const t=Ee(!1),r=ls().state,a=r.langs,i=Ee(!1),o=Ee([]),s=Ee("allocate_out"),l=Ee([]),c=Ee("today"),u=Ee({time:"",stime:"",etime:"",stock:0,now:{},old:{},list:[]}),f=Ee(!1),d=Ee({time:[yn.Date("Y/m/d"),yn.Date("Y/m/d")],maxDate:yn.Date("Y/m/d"),wms_co_id:[],wms_co_name:""}),h=Ee({partner_name:[]});On(()=>{r.token&&(t.value=!0)}),FD(()=>{t&&r.isLogin&&(p(),v())});const p=()=>{Yn.Post("index/get_select?lang="+r.lang,{token:r.token},w=>{const{code:A,msg:S,data:O}=w.data;A==0?h.value.partner_name=O.partner_name:dt.Toast(S)})},v=()=>{d.value.wms_co_id.length>0&&(d.value.wms_co_name=x(d.value.wms_co_id[0])),u.value.time="",u.value.stock=0,Yn.Post("index/stock?lang="+r.lang,{token:r.token},A=>{const{code:S,msg:O,time:k,data:T}=A.data;if(S===0){o.value=T,u.value.time=k;for(let C of T)u.value.stock+=parseInt(C.value)}else dt.Toast(O)});const w=["in","out","allocate_out","allocate_in","order","refund"];u.value.stime="",u.value.etime="";for(let A of w)u.value.now[A+"_num"]=0,u.value.old[A+"_num"]=0,u.value.list[A]=[],l.value=[],Yn.Post("index/list?lang="+r.lang+"&type="+A,{token:r.token,wms_co_id:d.value.wms_co_id,stime:typeof d.value.time[0]=="string"?d.value.time[0]:yn.Date("Y/m/d",d.value.time[0]),etime:typeof d.value.time[1]=="string"?d.value.time[1]:yn.Date("Y/m/d",d.value.time[1])},S=>{const{code:O,msg:k,time:T,data:C}=S.data;O===0?(u.value.time=T,u.value.stime=C.stime,u.value.etime=C.etime,u.value.now[A+"_num"]=C.total_now[A+"_num"],u.value.old[A+"_num"]=C.total_old[A+"_num"],u.value.list[A]=C.list,s.value===A&&m(s.value)):dt.Toast(k)})},g=w=>{switch(c.value=w,w){case"today":d.value.time=[yn.Date("Y/m/d"),yn.Date("Y/m/d")];break;case"yesterday":d.value.time=[yn.Date("Y/m/d",yn.StrToTime("-1 day")),yn.Date("Y/m/d",yn.StrToTime("-1 day"))];break;case"week":d.value.time=[yn.Date("Y/m/d",yn.StrToTime("-6 day")),yn.Date("Y/m/d")];break;case"month":d.value.time=[yn.Date("Y/m/d",yn.StrToTime("-27 day")),yn.Date("Y/m/d")];break;default:f.value=!0;return}v()},m=w=>{An(()=>{s.value=w,l.value=u.value.list[w]})},y=(w,A)=>{const S=(w-A)/A*100;return S>0?'<b style="color: #FF6600;">'+S.toFixed(1)+"%</b>":'<b style="color: #6AD177;">'+S.toFixed(1)+"%</b>"},x=w=>{for(let A of h.value.partner_name)if(w==A.value)return A.label;return""},b=()=>{dt.Toast("!")},_=()=>{v(),x(d.value.wms_co_id[0]),E()},E=()=>{f.value=!1};return(w,A)=>(Z(),ne(Ge,null,[W("div",{class:Ve(["index_body",i.value?"full_screen":""])},[W("div",KHe,[A[23]||(A[23]=W("h1",null,"",-1)),W("div",{class:"flex_left time",onClick:A[0]||(A[0]=S=>v())},[A[22]||(A[22]=W("i",{class:"ui ui_refresh"},null,-1)),W("span",null,": "+ge(u.value.time||"-"),1)]),W("i",{class:Ve(["full ui",i.value?"ui_video_fullscreen_exit":"ui_video_fullscreen"]),onClick:A[1]||(A[1]=S=>{i.value=!i.value,v()})},null,2)]),W("div",ZHe,[W("div",QHe,[W("span",null,[A[24]||(A[24]=Pt(": ",-1)),W("b",{onClick:A[2]||(A[2]=S=>g("other"))},ge(d.value.wms_co_name),1)]),W("span",JHe,[A[25]||(A[25]=Pt(": ",-1)),W("b",{onClick:A[3]||(A[3]=S=>g("other"))},ge(u.value.stime||"-"),1),A[26]||(A[26]=Pt("  ",-1)),W("b",{onClick:A[4]||(A[4]=S=>g("other"))},ge(u.value.etime||"-"),1)])]),W("ul",eVe,[W("li",{class:Ve(c.value=="today"?"active":""),onClick:A[5]||(A[5]=S=>g("today"))},"",2),W("li",{class:Ve(c.value=="yesterday"?"active":""),onClick:A[6]||(A[6]=S=>g("yesterday"))},"",2),W("li",{class:Ve(c.value=="week"?"active":""),onClick:A[7]||(A[7]=S=>g("week"))},"7",2),W("li",{class:Ve(c.value=="month"?"active":""),onClick:A[8]||(A[8]=S=>g("month"))},"1",2),W("li",{class:Ve(c.value=="other"?"active":""),onClick:A[9]||(A[9]=S=>g("other"))},"",2),A[27]||(A[27]=W("li",{class:"line"},"|",-1)),W("li",{onClick:A[10]||(A[10]=S=>b())},"")])]),W("div",tVe,[W("div",nVe,[W("div",rVe,[ot(GHe,{type:"stack",theme:"classicDark",html:`<p style='font-size: 16px;'></p><b style='font-size: 24px;'>${u.value.stock}</b>`,value:o.value},null,8,["html","value"])]),W("div",aVe,[W("ul",iVe,[(Z(!0),ne(Ge,null,_t(o.value,S=>(Z(),ne("li",oVe,[W("span",sVe,ge(S.label),1),W("span",lVe,ge(S.value),1)]))),256))])])]),W("div",cVe,[W("div",uVe,[W("ul",fVe,[W("li",null,[W("div",{class:Ve(s.value=="in"?"active":""),onClick:A[11]||(A[11]=S=>m("in"))},[A[29]||(A[29]=W("span",{class:"title line_bottom"},"",-1)),W("h2",null,ge(u.value.now.in_num||0),1),W("span",dVe,[A[28]||(A[28]=Pt("",-1)),W("span",{innerHTML:u.value.old.in_num?y(u.value.now.in_num,u.value.old.in_num):0},null,8,hVe)])],2)]),W("li",null,[W("div",{class:Ve(s.value=="out"?"active":""),onClick:A[12]||(A[12]=S=>m("out"))},[A[31]||(A[31]=W("span",{class:"title"},"",-1)),W("h2",null,ge(u.value.now.out_num||0),1),W("span",pVe,[A[30]||(A[30]=Pt("",-1)),W("span",{innerHTML:u.value.old.out_num?y(u.value.now.out_num,u.value.old.out_num):0},null,8,vVe)])],2)]),W("li",null,[W("div",{class:Ve(s.value=="allocate_out"?"active":""),onClick:A[13]||(A[13]=S=>m("allocate_out"))},[A[33]||(A[33]=W("span",{class:"title"},"",-1)),W("h2",null,ge(u.value.now.allocate_out_num||0),1),W("span",gVe,[A[32]||(A[32]=Pt("",-1)),W("span",{innerHTML:u.value.old.allocate_out_num?y(u.value.now.allocate_out_num,u.value.old.allocate_out_num):0},null,8,mVe)])],2)]),W("li",null,[W("div",{class:Ve(s.value=="allocate_in"?"active":""),onClick:A[14]||(A[14]=S=>m("allocate_in"))},[A[35]||(A[35]=W("span",{class:"title"},"",-1)),W("h2",null,ge(u.value.now.allocate_in_num||0),1),W("span",yVe,[A[34]||(A[34]=Pt("",-1)),W("span",{innerHTML:u.value.old.allocate_in_num?y(u.value.now.allocate_in_num,u.value.old.allocate_in_num):0},null,8,xVe)])],2)]),W("li",null,[W("div",{class:Ve(s.value=="order"?"active":""),onClick:A[15]||(A[15]=S=>m("order"))},[A[37]||(A[37]=W("span",{class:"title"},"",-1)),W("h2",null,ge(u.value.now.order_num||0),1),W("span",bVe,[A[36]||(A[36]=Pt("",-1)),W("span",{innerHTML:u.value.old.order_num?y(u.value.now.order_num,u.value.old.order_num):0},null,8,wVe)])],2)]),W("li",null,[W("div",{class:Ve(s.value=="refund"?"active":""),onClick:A[16]||(A[16]=S=>m("refund"))},[A[39]||(A[39]=W("span",{class:"title"},"",-1)),W("h2",null,ge(u.value.now.refund_num||0),1),W("span",_Ve,[A[38]||(A[38]=Pt("",-1)),W("span",{innerHTML:u.value.old.refund_num?y(u.value.now.refund_num,u.value.old.refund_num):0},null,8,EVe)])],2)])])]),W("div",AVe,[l.value.length>0?(Z(),St(qHe,{key:0,theme:"classicDark",value:l.value},null,8,["value"])):(Z(),ne("span",SVe))])])])],2),ot(KS,{show:f.value,"onUpdate:show":A[20]||(A[20]=S=>f.value=S),title:"",width:"480px",bottom:"40px",onClose:A[21]||(A[21]=S=>E())},{bottom:it(()=>[ot(Cf,{height:"40px",padding:"0 32px",onClick:A[19]||(A[19]=S=>_())},{default:it(()=>[Pt(ge(Q(a).confirm),1)]),_:1})]),default:it(()=>[ot(qS,null,{default:it(()=>[ot(ZS,null,{default:it(()=>[W("tr",null,[A[40]||(A[40]=W("td",{class:"label"},[W("span",{class:"red_dot"},"")],-1)),W("td",null,[ot(t7,{value:d.value.time,"onUpdate:value":A[17]||(A[17]=S=>d.value.time=S),range:"",maxDate:d.value.maxDate},null,8,["value","maxDate"])])]),W("tr",null,[A[41]||(A[41]=W("td",{class:"label"},[W("span",{class:"red_dot"},"")],-1)),W("td",null,[ot(Fbe,{value:d.value.wms_co_id,"onUpdate:value":A[18]||(A[18]=S=>d.value.wms_co_id=S),options:h.value.partner_name},null,8,["value","options"])])])]),_:1})]),_:1})]),_:1},8,["show"])],64))}}),kVe=ma(OVe,[["__scopeId","data-v-c99cca9c"]]),TVe=[{path:"/",name:"Home",component:kVe},{path:"/refresh",name:"Refresh",component:()=>Ur(()=>import("./Refresh-CW7mkj_n.js"),[])},{path:"/SysFileManage",name:"SysFileManage",component:()=>Ur(()=>import("./index-DQnfgdch.js"),__vite__mapDeps([0,1,2,3]))},{path:"/SysMenus",name:"SysMenus",component:()=>Ur(()=>import("./index-C0KWdjee.js"),__vite__mapDeps([4,5,6,1,2,7,8,9,10,11]))},{path:"/SysUser",name:"SysUser",component:()=>Ur(()=>import("./index-B52WajVL.js"),__vite__mapDeps([12,5,6,13,14,1,2,7,8,9,10,15,16,17]))},{path:"/SysRole",name:"SysRole",component:()=>Ur(()=>import("./index-DzNHxuWN.js"),__vite__mapDeps([18,5,6,1,2,7,8,9,10,15,16,19]))},{path:"/WebHtml",name:"WebHtml",component:()=>Ur(()=>import("./index-D2YHWXTL.js"),__vite__mapDeps([20,5,6,1,2,7,8,9,10,21]))},{path:"/BaseOrganization",name:"BaseOrganization",component:()=>Ur(()=>import("./index-sb9WLJnf.js"),__vite__mapDeps([22,5,6,1,2,23,24,7,8,25]))},{path:"/BaseShop",name:"BaseShop",meta:{keepAlive:!0},component:()=>Ur(()=>import("./index-CM0gqRKy.js"),__vite__mapDeps([26,5,6,1,2,23,24,7,8,27]))},{path:"/BasePartner",name:"BasePartner",component:()=>Ur(()=>import("./index-DM5gutow.js"),__vite__mapDeps([28,5,6,1,2,23,24,7,8,29]))},{path:"/BaseBrand",name:"BaseBrand",component:()=>Ur(()=>import("./index-CE00tDwJ.js"),__vite__mapDeps([30,5,6,1,2,23,24,7,8,31]))},{path:"/BaseCategory",name:"BaseCategory",component:()=>Ur(()=>import("./index-B-8-kcjD.js"),__vite__mapDeps([32,5,6,1,2,23,24,7,8,33]))},{path:"/BaseSupplier",name:"BaseSupplier",component:()=>Ur(()=>import("./index-AKetsHT8.js"),__vite__mapDeps([34,5,6,1,2,7,8]))},{path:"/GoodsInfo",name:"GoodsInfo",component:()=>Ur(()=>import("./index-G45S6zvb.js"),__vite__mapDeps([35,5,6,13,14,1,2,23,24]))},{path:"/GoodsLog",name:"GoodsLog",component:()=>Ur(()=>import("./index-9aVzUE4P.js"),__vite__mapDeps([36,5,6,1,2]))},{path:"/GoodsStock",name:"GoodsStock",component:()=>Ur(()=>import("./index-CJbHP8ux.js"),__vite__mapDeps([37,5,6,1,2]))},{path:"/PurchaseIn",name:"PurchaseIn",component:()=>Ur(()=>import("./index-FRPQr1mP.js"),__vite__mapDeps([38,5,6,1,2,39,23,24,9,10,40,13,14,41]))},{path:"/PurchaseInPush",name:"PurchaseInPush",component:()=>Ur(()=>import("./index-B3wYUlk2.js"),__vite__mapDeps([42,5,6,1,2,39,23,24,9,10,40,13,14,43]))},{path:"/PurchaseOut",name:"PurchaseOut",component:()=>Ur(()=>import("./index-TA8z7VLu.js"),__vite__mapDeps([44,5,6,1,2,39,23,24,9,10,40,13,14,45]))},{path:"/PurchaseOutPush",name:"PurchaseOutPush",component:()=>Ur(()=>import("./index-B5seSguH.js"),__vite__mapDeps([46,5,6,1,2,39,23,24,9,10,40,13,14,47]))},{path:"/AllocateOut",name:"AllocateOut",component:()=>Ur(()=>import("./index-DyBwMlqC.js"),__vite__mapDeps([48,5,6,1,2,39,23,24,9,10,40,13,14,49]))},{path:"/AllocateIn",name:"AllocateIn",component:()=>Ur(()=>import("./index-DfKq0iLC.js"),__vite__mapDeps([50,5,6,1,2,39,23,24,9,10,40,13,14,51]))},{path:"/OrderInout",name:"OrderInout",component:()=>Ur(()=>import("./index-Cq3N825G.js"),__vite__mapDeps([52,5,6,1,2,39,23,24,9,10,40,13,14,53]))}],CVe=pQ({history:GZ(),routes:TVe});NK(kbe).use(Tbe).use(CVe).mount("#app");export{n7 as A,ye as B,Ca as C,hc as D,ow as E,za as F,An as G,t7 as H,Bue as I,Cee as J,Fbe as K,sg as L,vE as M,ME as N,jE as O,Uxe as P,Ns as Q,Yn as R,Kb as S,yn as T,dt as U,bm as V,Ls as W,Wxe as X,et as Y,Yr as Z,ma as _,it as a,Q as b,St as c,Ht as d,KS as e,ot as f,no as g,ZS as h,W as i,ko as j,qS as k,Pt as l,Cf as m,ne as n,Z as o,Ue as p,f1 as q,Ee as r,Ge as s,ge as t,ls as u,_t as v,Ut as w,Ve as x,On as y,FD as z};
